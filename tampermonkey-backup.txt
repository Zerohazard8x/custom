{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Vencord","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.discord.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":["gist.githubusercontent.com","raw.githubusercontent.com","pronoundb.org","unpkg.com"],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1691319461449,"data":{}},"enabled":true,"position":1,"file_url":"https://raw.githubusercontent.com/Vencord/builds/main/Vencord.user.js","uuid":"b318555a-39b7-453a-bbb4-3541cb7c9985","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBWZW5jb3JkCi8vIEBkZXNjcmlwdGlvbiAgICAgQSBEaXNjb3JkIGNsaWVudCBtb2QgLSBXZWIgdmVyc2lvbgovLyBAdmVyc2lvbiAgICAgICAgIDEuNC4yLjE2OTExNzMyODI3NDcKLy8gQGF1dGhvciAgICAgICAgICBWZW5kaWNhdGVkIChodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZCkKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZC9WZW5jb3JkCi8vIEBzdXBwb3J0VVJMICAgICAgaHR0cHM6Ly9naXRodWIuY29tL1ZlbmRpY2F0ZWQvVmVuY29yZAovLyBAbGljZW5zZSAgICAgICAgIEdQTC0zLjAKLy8gQG1hdGNoICAgICAgICAgICAqOi8vKi5kaXNjb3JkLmNvbS8qCi8vIEBncmFudCAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAY29tcGF0aWJsZSAgICAgIGNocm9tZSBDaHJvbWUgKyBUYW1wZXJtb25rZXkgb3IgVmlvbGVudG1vbmtleQovLyBAY29tcGF0aWJsZSAgICAgIGZpcmVmb3ggRmlyZWZveCBUYW1wZXJtb25rZXkKLy8gQGNvbXBhdGlibGUgICAgICBvcGVyYSBPcGVyYSArIFRhbXBlcm1vbmtleSBvciBWaW9sZW50bW9ua2V5Ci8vIEBjb21wYXRpYmxlICAgICAgZWRnZSBFZGdlICsgVGFtcGVybW9ua2V5IG9yIFZpb2xlbnRtb25rZXkKLy8gQGNvbXBhdGlibGUgICAgICBzYWZhcmkgU2FmYXJpICsgVGFtcGVybW9ua2V5IG9yIFZpb2xlbnRtb25rZXkKLy8gPT0vVXNlclNjcmlwdD09CgoKLy8gdGhpcyBVc2VyU2NyaXB0IERPRVMgTk9UIHdvcmsgb24gRmlyZWZveCB3aXRoIFZpb2xlbnRtb25rZXkgb3IgR3JlYXNlbW9ua2V5IGR1ZSB0byBhIGJ1ZyB0aGF0IG1ha2VzIGl0IGltcG9zc2libGUKLy8gdG8gb3ZlcndyaXRlIHN0dWZmIG9uIHRoZSB3aW5kb3cgb24gc2l0ZXMgdGhhdCB1c2UgQ1NQLiBVc2UgVGFtcGVybW9ua2V5IG9yIHVzZSBhIGNocm9taXVtIGJhc2VkIGJyb3dzZXIKLy8gaHR0cHM6Ly9naXRodWIuY29tL3Zpb2xlbnRtb25rZXkvdmlvbGVudG1vbmtleS9pc3N1ZXMvOTk3CgovLyB0aGlzIGlzIGEgY29tcGlsZWQgYW5kIG1pbmlmaWVkIHZlcnNpb24gb2YgVmVuY29yZC4gRm9yIHRoZSBzb3VyY2UgY29kZSwgdmlzaXQgdGhlIEdpdEh1YiByZXBvCgoidXNlIHN0cmljdCI7dmFyIFZlbmNvcmQ9KCgpPT57dmFyIHZ4PU9iamVjdC5jcmVhdGU7dmFyIHJzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgU3g9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt2YXIgYng9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7dmFyIFR4PU9iamVjdC5nZXRQcm90b3R5cGVPZix4eD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciB0Zz0oZT0+dHlwZW9mIHJlcXVpcmU8InUiP3JlcXVpcmU6dHlwZW9mIFByb3h5PCJ1Ij9uZXcgUHJveHkoZSx7Z2V0Oih0LG4pPT4odHlwZW9mIHJlcXVpcmU8InUiP3JlcXVpcmU6dClbbl19KTplKShmdW5jdGlvbihlKXtpZih0eXBlb2YgcmVxdWlyZTwidSIpcmV0dXJuIHJlcXVpcmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3Rocm93IG5ldyBFcnJvcignRHluYW1pYyByZXF1aXJlIG9mICInK2UrJyIgaXMgbm90IHN1cHBvcnRlZCcpfSk7dmFyIGc9KGUsdCk9PigpPT4oZSYmKHQ9ZShlPTApKSx0KTt2YXIgR3I9KGUsdCk9PigpPT4odHx8ZSgodD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsdCksdC5leHBvcnRzKSxTZT0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KXJzKGUsbix7Z2V0OnRbbl0sZW51bWVyYWJsZTohMH0pfSxuZz0oZSx0LG4scik9PntpZih0JiZ0eXBlb2YgdD09Im9iamVjdCJ8fHR5cGVvZiB0PT0iZnVuY3Rpb24iKWZvcihsZXQgaSBvZiBieCh0KSkheHguY2FsbChlLGkpJiZpIT09biYmcnMoZSxpLHtnZXQ6KCk9PnRbaV0sZW51bWVyYWJsZTohKHI9U3godCxpKSl8fHIuZW51bWVyYWJsZX0pO3JldHVybiBlfTt2YXIgU2w9KGUsdCxuKT0+KG49ZSE9bnVsbD92eChUeChlKSk6e30sbmcodHx8IWV8fCFlLl9fZXNNb2R1bGU/cnMobiwiZGVmYXVsdCIse3ZhbHVlOmUsZW51bWVyYWJsZTohMH0pOm4sZSkpLE9vPWU9Pm5nKHJzKHt9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlKTtmdW5jdGlvbiB3eChlKXtpZighZSlyZXR1cm57fTtsZXQgdD17fSxuPWUudHJpbSgpLnNwbGl0KGAKYCk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl0scz1pLmluZGV4T2YoIjoiKSxjPWkuc2xpY2UoMCxzKS50cmltKCkudG9Mb3dlckNhc2UoKSx1PWkuc2xpY2UocysxKS50cmltKCk7dFtjXT09PXZvaWQgMD90W2NdPXU6QXJyYXkuaXNBcnJheSh0W2NdKT90W2NdLnB1c2godSk6dFtjXT1bdFtjXSx1XX1yZXR1cm4gdH1mdW5jdGlvbiBibChlLHQpe3JldHVybiBlPT09ImFycmF5QnVmZmVyIiYmdC5hcnJheUJ1ZmZlcj90LmFycmF5QnVmZmVyKCk6bmV3IFByb21pc2UoKG4scik9Pnt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1zPT5uKHMudGFyZ2V0LnJlc3VsdCksZT09PSJhcnJheUJ1ZmZlciI/aS5yZWFkQXNBcnJheUJ1ZmZlcih0KTplPT09InRleHQiP2kucmVhZEFzVGV4dCh0LCJ1dGYtOCIpOnIoInVua25vd24gdG8iKX0pfWZ1bmN0aW9uIE14KGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLHIpPT57bGV0IGk9dHx8e307aS51cmw9ZSxpLmRhdGE9aS5ib2R5LGkucmVzcG9uc2VUeXBlPSJibG9iIixpLm9ubG9hZD1zPT57dmFyIGM9cy5yZXNwb25zZTtzLmJsb2I9KCk9PlByb21pc2UucmVzb2x2ZShjKSxzLmFycmF5QnVmZmVyPSgpPT5ibCgiYXJyYXlCdWZmZXIiLGMpLHMudGV4dD0oKT0+YmwoInRleHQiLGMpLHMuanNvbj1hc3luYygpPT5KU09OLnBhcnNlKGF3YWl0IGJsKCJ0ZXh0IixjKSkscy5oZWFkZXJzPW5ldyBIZWFkZXJzKHd4KHMucmVzcG9uc2VIZWFkZXJzKSkscy5vaz1zLnN0YXR1cz49MjAwJiZzLnN0YXR1czwzMDAsbihzKX0saS5vbnRpbWVvdXQ9KCk9PnIoImZldGNoIHRpbWVvdXQiKSxpLm9uZXJyb3I9KCk9PnIoImZldGNoIGVycm9yIiksaS5vbmFib3J0PSgpPT5yKCJmZXRjaCBhYm9ydCIpLEdNX3htbGh0dHBSZXF1ZXN0KGkpfSl9dmFyIGYsYT1nKCgpPT57InVzZSBzdHJpY3QiO2Y9TXh9KTt2YXIgZCxvLGw9ZygoKT0+eyJ1c2Ugc3RyaWN0IjtkPVN5bWJvbC5mb3IoInJlYWN0LmZyYWdtZW50Iiksbz0oLi4uZSk9PihvPVZlbmNvcmQuV2VicGFjay5Db21tb24uUmVhY3QuY3JlYXRlRWxlbWVudCkoLi4uZSl9KTt2YXIgUm49e307U2UoUm4se2NsZWFyOigpPT5OeCxjcmVhdGVTdG9yZTooKT0+aXMsZGVsOigpPT54bCxkZWxNYW55OigpPT5DeCxlbnRyaWVzOigpPT5NbCxnZXQ6KCk9PldlLGdldE1hbnk6KCk9Pkl4LGtleXM6KCk9PlJ4LHByb21pc2lmeVJlcXVlc3Q6KCk9PlB0LHNldDooKT0+VmUsc2V0TWFueTooKT0+UHgsdXBkYXRlOigpPT5fbyx2YWx1ZXM6KCk9Pmt4fSk7ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LG4pPT57ZS5vbmNvbXBsZXRlPWUub25zdWNjZXNzPSgpPT50KGUucmVzdWx0KSxlLm9uYWJvcnQ9ZS5vbmVycm9yPSgpPT5uKGUuZXJyb3IpfSl9ZnVuY3Rpb24gaXMoZSx0KXtsZXQgbj1pbmRleGVkREIub3BlbihlKTtuLm9udXBncmFkZW5lZWRlZD0oKT0+bi5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUodCk7bGV0IHI9UHQobik7cmV0dXJuKGkscyk9PnIudGhlbihjPT5zKGMudHJhbnNhY3Rpb24odCxpKS5vYmplY3RTdG9yZSh0KSkpfWZ1bmN0aW9uIGFuKCl7cmV0dXJuIFRsfHwoVGw9aXMoIlZlbmNvcmREYXRhIiwiVmVuY29yZFN0b3JlIikpLFRsfWZ1bmN0aW9uIFdlKGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZG9ubHkiLG49PlB0KG4uZ2V0KGUpKSl9ZnVuY3Rpb24gVmUoZSx0LG49YW4oKSl7cmV0dXJuIG4oInJlYWR3cml0ZSIscj0+KHIucHV0KHQsZSksUHQoci50cmFuc2FjdGlvbikpKX1mdW5jdGlvbiBQeChlLHQ9YW4oKSl7cmV0dXJuIHQoInJlYWR3cml0ZSIsbj0+KGUuZm9yRWFjaChyPT5uLnB1dChyWzFdLHJbMF0pKSxQdChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIEl4KGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZG9ubHkiLG49PlByb21pc2UuYWxsKGUubWFwKHI9PlB0KG4uZ2V0KHIpKSkpKX1mdW5jdGlvbiBfbyhlLHQsbj1hbigpKXtyZXR1cm4gbigicmVhZHdyaXRlIixyPT5uZXcgUHJvbWlzZSgoaSxzKT0+e3IuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RyeXtyLnB1dCh0KHRoaXMucmVzdWx0KSxlKSxpKFB0KHIudHJhbnNhY3Rpb24pKX1jYXRjaChjKXtzKGMpfX19KSl9ZnVuY3Rpb24geGwoZSx0PWFuKCkpe3JldHVybiB0KCJyZWFkd3JpdGUiLG49PihuLmRlbGV0ZShlKSxQdChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIEN4KGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZHdyaXRlIixuPT4oZS5mb3JFYWNoKHI9Pm4uZGVsZXRlKHIpKSxQdChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIE54KGU9YW4oKSl7cmV0dXJuIGUoInJlYWR3cml0ZSIsdD0+KHQuY2xlYXIoKSxQdCh0LnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIHdsKGUsdCl7cmV0dXJuIGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpeyF0aGlzLnJlc3VsdHx8KHQodGhpcy5yZXN1bHQpLHRoaXMucmVzdWx0LmNvbnRpbnVlKCkpfSxQdChlLnRyYW5zYWN0aW9uKX1mdW5jdGlvbiBSeChlPWFuKCkpe3JldHVybiBlKCJyZWFkb25seSIsdD0+e2lmKHQuZ2V0QWxsS2V5cylyZXR1cm4gUHQodC5nZXRBbGxLZXlzKCkpO2xldCBuPVtdO3JldHVybiB3bCh0LHI9Pm4ucHVzaChyLmtleSkpLnRoZW4oKCk9Pm4pfSl9ZnVuY3Rpb24ga3goZT1hbigpKXtyZXR1cm4gZSgicmVhZG9ubHkiLHQ9PntpZih0LmdldEFsbClyZXR1cm4gUHQodC5nZXRBbGwoKSk7bGV0IG49W107cmV0dXJuIHdsKHQscj0+bi5wdXNoKHIudmFsdWUpKS50aGVuKCgpPT5uKX0pfWZ1bmN0aW9uIE1sKGU9YW4oKSl7cmV0dXJuIGUoInJlYWRvbmx5Iix0PT57aWYodC5nZXRBbGwmJnQuZ2V0QWxsS2V5cylyZXR1cm4gUHJvbWlzZS5hbGwoW1B0KHQuZ2V0QWxsS2V5cygpKSxQdCh0LmdldEFsbCgpKV0pLnRoZW4oKFtyLGldKT0+ci5tYXAoKHMsYyk9PltzLGlbY11dKSk7bGV0IG49W107cmV0dXJuIGUoInJlYWRvbmx5IixyPT53bChyLGk9Pm4ucHVzaChbaS5rZXksaS52YWx1ZV0pKS50aGVuKCgpPT5uKSl9KX12YXIgVGwsbG49ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO30pO3ZhciBIcixQbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7SHI9Y2xhc3N7c2V0PW5ldyBTZXQ7Z2V0IGNoYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuc2V0LnNpemV9Z2V0IGhhc0NoYW5nZXMoKXtyZXR1cm4gdGhpcy5jaGFuZ2VDb3VudD4wfWhhbmRsZUNoYW5nZSh0KXt0aGlzLnNldC5kZWxldGUodCl8fHRoaXMuc2V0LmFkZCh0KX1hZGQodCl7cmV0dXJuIHRoaXMuc2V0LmFkZCh0KX1yZW1vdmUodCl7cmV0dXJuIHRoaXMuc2V0LmRlbGV0ZSh0KX1nZXRDaGFuZ2VzKCl7cmV0dXJuIHRoaXMuc2V0LnZhbHVlcygpfW1hcCh0KXtyZXR1cm5bLi4udGhpcy5nZXRDaGFuZ2VzKCldLm1hcCh0KX19fSk7dmFyIGNuLHpyPWcoKCk9PnthKCk7bCgpO2NuPSIxYTYyMjQ5In0pO3ZhciBzcyxyZz1nKCgpPT57YSgpO2woKTtzcz0iVmVuZGljYXRlZC9WZW5jb3JkIn0pO3ZhciBKdCxBeCxJbCxhcyxtLENsLFA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3pyKCk7cmcoKTtKdD0id2VicGFja0NodW5rZGlzY29yZF9hcHAiLEF4PSJWZW5jb3JkLldlYnBhY2suQ29tbW9uLlJlYWN0IixJbD1gVmVuY29yZC8ke2NufSR7c3M/YCAoaHR0cHM6Ly9naXRodWIuY29tLyR7c3N9KWA6IiJ9YCxhcz0iMTAyNjUxNTg4MDA4MDg0Mjc3MiIsbT1PYmplY3QuZnJlZXplKHtWZW46e25hbWU6IlZlbmRpY2F0ZWQiLGlkOjM0MzM4MzU3MjgwNTA1ODU2MG59LEFyaml4OntuYW1lOiJBcmppeFdhc1Rha2VuIixpZDo2NzQ3MTA3ODkxMzg5Mzk5MTZufSxDeW46e25hbWU6IkN5bm9zcGhlcmUiLGlkOjE1MDc0NTk4OTgzNjMwODQ4MG59LE1lZ3U6e25hbWU6Ik1lZ3VtaW4iLGlkOjU0NTU4MTM1NzgxMjY3ODY1Nm59LGJvdGF0bzp7bmFtZToiYm90YXRvIixpZDo0NDA5OTAzNDM4OTk2NDM5NDNufSxvYnNjdXJpdHk6e25hbWU6Im9ic2N1cml0eSIsaWQ6MzM2Njc4ODI4MjMzNTg4NzM2bn0scnVzaGlpOntuYW1lOiJydXNoaWkiLGlkOjI5NTE5MDQyMjI0NDk1MDAxN259LEdsaXRjaDp7bmFtZToiR2xpdGNoeSIsaWQ6MjY5NTY3NDUxMTk5NTY5OTIwbn0sU2FtdTp7bmFtZToiU2FtdSIsaWQ6NzAyOTczNDMwNDQ5ODMyMDM4bn0sQW5pbWFsOntuYW1lOiJBbmltYWwiLGlkOjExODQzNzI2Mzc1NDM5NTY1Mm59LE1haUtva2Fpbjp7bmFtZToiTWFpIixpZDo3MjI2NDc5Nzg1NzczNjMwMjZufSxlY2hvOntuYW1lOiJFQ0hPIixpZDo3MTI2Mzk0MTk3ODU0MTI2NjhufSxrYXRseW46e25hbWU6ImthdGx5biIsaWQ6MjUwMzIyNzQxNDA2ODU5MjY1bn0sbmVhOntuYW1lOiJuZWEiLGlkOjMxMDcwMjEwODk5NzMyMDcwNW59LE51Y2t5ejp7bmFtZToiTnVja3l6IixpZDoyMzU4MzQ5NDY1NzEzMzc3MjlufSxEM1NPWDp7bmFtZToiRDNTT1giLGlkOjIwMTA1MjA4NTY0MTI4MTUzOG59LE5pY2t5dXg6e25hbWU6Ik5pY2t5dXgiLGlkOjQyNzE0NjMwNTY1MTk5ODcyMW59LG1hbnRpa2FmYXNpOntuYW1lOiJtYW50aWthZmFzaSIsaWQ6Mjg3NTU1Mzk1MTUxNTkzNDczbn0sWGludG86e25hbWU6IlhpbnRvIixpZDo0MjM5MTU3NjgxOTE2NDc3NTVufSxKYWNvYlRtOntuYW1lOiJKYWNvYi5UbSIsaWQ6MzAyODcyOTkyMDk3MTA3OTkxbn0sRHVzdHlBbmdlbDQ3OntuYW1lOiJEdXN0eUFuZ2VsNDciLGlkOjcxNDU4MzQ3MzgwNDkzNTIzOG59LEJhblRoZU5vbnM6e25hbWU6IkJhblRoZU5vbnMiLGlkOjQ2MDQ3ODAxMjc5NDg2MzYzN259LEJpZ0R1Y2s6e25hbWU6IkJpZ0R1Y2siLGlkOjEwMjQ1ODgyNzI2MjM2ODE2MDlufSxBdmVyYWdlUmVhY3RFbmpveWVyOntuYW1lOiJBdmVyYWdlIFJlYWN0IEVuam95ZXIiLGlkOjEwMDQ5MDQxMjAwNTYwMjkyNTZufSxhZHJ5ZDp7bmFtZToiYWRyeWQiLGlkOjBufSxUeW1hbjp7bmFtZToiVHltYW4iLGlkOjQ4NzQ0Mzg4MzEyNzQ3MjEyOW59LGFmbjp7bmFtZToiYWZuIixpZDo0MjAwNDM5MjM4MjI2MDgzODRufSxLcmFYZW43Mjp7bmFtZToiS3JhWGVuNzIiLGlkOjM3OTMwNDA3MzUxNTQ5OTUzMG59LGtlbW86e25hbWU6ImtlbW8iLGlkOjI5OTY5Mzg5Nzg1OTQ2NTIyOG59LGR6c2huOntuYW1lOiJkenNobiIsaWQ6MzEwNDQ5OTQ4MDExNTI4MTkybn0sRHVja286e25hbWU6IkR1Y2tvIixpZDo1MDY0ODIzOTUyNjkxNjkxNTNufSxqZXdkZXY6e25hbWU6Impld2RldiIsaWQ6MjIyMzY5ODY2NTI5NjM2MzUzbn0sTHVuYTp7bmFtZToiTHVueSIsaWQ6ODIxNDcyOTIyMTQwODAzMTEybn0sVmFwOntuYW1lOiJWYXAwcjF6ZSIsaWQ6NDU0MDcyMTE0NDkyODY2NTYwbn0sS2luZ0Zpc2g6e25hbWU6IktpbmcgRmlzaCIsaWQ6NDk5NDAwNTEyNTU5MzgyNTM4bn0sQ29tbWFuZHRlY2hubzp7bmFtZToiQ29tbWFuZHRlY2hubyIsaWQ6Mjk2Nzc2NjI1NDMyMDM1MzI4bn0sVGhlU3VuOntuYW1lOiJBY3R1YWxseVRoZVN1biIsaWQ6NDA2MDI4MDI3NzY4NzMzNjk2bn0sYXh5aWU6e25hbWU6IidheCIsaWQ6MjczNTYyNzEwNzQ1Mjg0NjI4bn0scG9pbnR5OntuYW1lOiJwb2ludHkiLGlkOjk5OTE0Mzg0OTg5NTE5ODcybn0sU2FtbUNoZWVzZTp7bmFtZToiU2FtbS1DaGVlc2UiLGlkOjM3MjE0ODM0NTg5NDA3NjQxNm59LHp0OntuYW1lOiJ6dCIsaWQ6Mjg5NTU2OTEwNDI2ODE2NTEzbn0sY2FwdGFpbjp7bmFtZToiQ2FwdGFpbiIsaWQ6MzQ3MzY2MDU0ODA2MTU5MzYwbn0sbmljazp7bmFtZToibmljayIsaWQ6MzQ3ODg0Njk0NDA4MjY1NzI5bixiYWRnZTohMX0sd2hxd2VydDp7bmFtZToid2hxd2VydCIsaWQ6NTg2MjM5MDkxNTIwMTc2MTI4bn0sbGV3aXNha3VyYTp7bmFtZToibGV3aXNha3VyYSIsaWQ6OTYyNjkyNDc0MTE0MDA3MDRufSxSdWlOdEQ6e25hbWU6IlJ1aU50RCIsaWQ6MTU3OTE3NjY1MTYyMjk3MzQ0bn0saHVudDp7bmFtZToiaHVudC1nIixpZDoyMjI4MDAxNzk2OTcyODcxNjhufSxjbG91ZGJ1cnN0OntuYW1lOiJjbG91ZGJ1cnN0IixpZDo4OTIxMjgyMDQxNTA2ODU3NjlufSxBcmlhOntuYW1lOiJTeW5jeHYiLGlkOjU0OTI0NDkzMjIxMzMwOTQ0Mm59LFRoZUtvZGVUb2FkOntuYW1lOiJUaGVLb2RlVG9hZCIsaWQ6NzA2MTUyNDA0MDcyMjY3Nzg4bn0sTG9yZEVsaWFzOntuYW1lOiJMb3JkRWxpYXMiLGlkOjMxOTQ2MDc4MTU2NzYzOTU1NG59LGp1Ynk6e25hbWU6Ikp1YnkyMTAiLGlkOjMyNDYyMjQ4ODY0NDYxNjE5NW59LEFseXhpYTp7bmFtZToiQWx5eGlhIFNvdGhlciIsaWQ6OTUyMTg1Mzg2MzUwODI5Njg4bn0sUmVtdHk6e25hbWU6IlJlbXR5IixpZDozMzUwNTUwMzIyMDQ2NTY2NDJufSxza3lldmc6e25hbWU6InNreWV2ZyIsaWQ6MTA5MDMxMDg0NDI4MzM2MzM0OG59LER6aXVyd2E6e25hbWU6IkR6aXVyd2EiLGlkOjEwMzQ1Nzk2Nzk1MjY1MjY5NzZufSxBdXR1bW5WTjp7bmFtZToiQXV0dW1uVk4iLGlkOjM5MzY5NDY3MTM4MzE2Njk5OG59LHB5bGl4OntuYW1lOiJweWxpeCIsaWQ6NDkyOTQ5MjAyMTIxMjYxMDY3bn0sVHlsZXI6e25hbWU6IlxcXFxHR1R5bGVyXFxcXCIsaWQ6MTQzMTE3NDYzNzg4MTkxNzQ2bn0sUnlhbkNhb0Rldjp7bmFtZToiUnlhbkNhb0RldiIsaWQ6OTUyMjM1ODAwMTEwNjk0NDcxbn0sU3RyZW5jaGVyOntuYW1lOiJTdHJlbmNoZXIiLGlkOjQxNTg0OTM3NjU5ODk4MjY1Nm59LEZpZXJ5RmxhbWVzOntuYW1lOiJGaWVyeSIsaWQ6ODkwMjI4ODcwNTU5Njk4OTU1bn0sS2FubmFEZXY6e25hbWU6Ikthbm5hIixpZDozMTc3Mjg1NjExMDY1MTgwMTlufSxjYXJpbmNlOntuYW1lOiJjYXJpbmNlIixpZDo4MTgzMjM1Mjg3NTUzMTQ2OThufSxQYW5kYU5pbmphczp7bmFtZToiUGFuZGFOaW5qYXMiLGlkOjQ1NTEyODc0OTA3MTkyNTI0OG59LENhdE5vaXI6e25hbWU6IkNhdE5vaXIiLGlkOjI2MDM3MTAxNjM0ODMzNjEyOG59LG91dGZveHhlZDp7bmFtZToib3V0Zm94eGVkIixpZDo4Mzc0MjU3NDg0MzU3OTYwNjBufSxVd1VEZXY6e25hbWU6IlV3VSIsaWQ6NjkxNDEzMDM5MTU2NjkwOTk0bn0sYW1pYTp7bmFtZToiYW1pYSIsaWQ6MTQyMDA3NjAzNTQ5OTYyMjQwbn0scGhpbDp7bmFtZToicGhpbCIsaWQ6MzA1Mjg4NTEzOTQxNjY3ODUxbn0sSW1Mdm5hOntuYW1lOiJMdW5hIDwzIixpZDoxNzQyMDA3MDg4MTg2NjU0NzJufSxyYWQ6e25hbWU6InJhZCIsaWQ6NjEwOTQ1MDkyNTA0NzgwODIzbn0sSHlwZWREb21pOntuYW1lOiJIeXBlZERvbWkiLGlkOjM1NDE5MTUxNjk3OTQyOTM3Nm59fSksQ2w9KCgpPT5PYmplY3QuZnJlZXplKE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhtKS5maWx0ZXIoZT0+ZVsxXS5pZCE9PTBuKS5tYXAoKFtlLHRdKT0+W3QuaWQsdF0pKSkpKCl9KTtmdW5jdGlvbiBGdChlLHQ9MzAwKXtsZXQgbjtyZXR1cm4gZnVuY3Rpb24oLi4ucil7Y2xlYXJUaW1lb3V0KG4pLG49c2V0VGltZW91dCgoKT0+e2UoLi4ucil9LHQpfX12YXIgYXI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gem4oZSl7bGV0IHQ7cmV0dXJuKCk9PnQ/Pyh0PWUoKSl9ZnVuY3Rpb24gZnQoZSx0PTUpe2xldCBuPTAscj1PYmplY3QuYXNzaWduKGZ1bmN0aW9uKCl7fSx7W2xzXTp2b2lkIDAsW3VzXSgpe3JldHVybiFyW2xzXSYmdD5uKysmJihyW2xzXT1lKCkpLHJbbHNdfX0pO3JldHVybiBuZXcgUHJveHkocixjcyl9dmFyIGlnLGNzLHVzLGxzLHVuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtpZz1bImFyZ3VtZW50cyIsImNhbGxlciIsInByb3RvdHlwZSJdLGNzPXt9LHVzPVN5bWJvbC5mb3IoInZlbmNvcmQubGF6eS5nZXQiKSxscz1TeW1ib2wuZm9yKCJ2ZW5jb3JkLmxhenkuY2FjaGVkIik7Zm9yKGxldCBlIG9mWyJhcHBseSIsImNvbnN0cnVjdCIsImRlZmluZVByb3BlcnR5IiwiZGVsZXRlUHJvcGVydHkiLCJnZXQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsImhhcyIsImlzRXh0ZW5zaWJsZSIsIm93bktleXMiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNldCIsInNldFByb3RvdHlwZU9mIl0pY3NbZV09KHQsLi4ubik9PlJlZmxlY3RbZV0odFt1c10oKSwuLi5uKTtjcy5vd25LZXlzPWU9PntsZXQgdD1lW3VzXSgpLG49UmVmbGVjdC5vd25LZXlzKHQpO2ZvcihsZXQgciBvZiBpZyluLmluY2x1ZGVzKHIpfHxuLnB1c2gocik7cmV0dXJuIG59O2NzLmdldE93blByb3BlcnR5RGVzY3JpcHRvcj0oZSx0KT0+e2lmKHR5cGVvZiB0PT0ic3RyaW5nIiYmaWcuaW5jbHVkZXModCkpcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7bGV0IG49UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZVt1c10oKSx0KTtyZXR1cm4gbiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxuKSxufX0pO3ZhciBWLE1lPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtWPWNsYXNze2NvbnN0cnVjdG9yKHQsbj0id2hpdGUiKXt0aGlzLm5hbWU9dDt0aGlzLmNvbG9yPW59c3RhdGljIG1ha2VUaXRsZSh0LG4pe3JldHVyblsiJWMgJWMgJXMgIiwiIixgYmFja2dyb3VuZDogJHt0fTsgY29sb3I6IGJsYWNrOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLXJhZGl1czogNXB4O2Asbl19X2xvZyh0LG4scixpPSIiKXtjb25zb2xlW3RdKGAlYyBWZW5jb3JkICVjICVjICR7dGhpcy5uYW1lfSAke2l9YCxgYmFja2dyb3VuZDogJHtufTsgY29sb3I6IGJsYWNrOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLXJhZGl1czogNXB4O2AsIiIsYGJhY2tncm91bmQ6ICR7dGhpcy5jb2xvcn07IGNvbG9yOiBibGFjazsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJvcmRlci1yYWRpdXM6IDVweDtgLC4uLnIpfWxvZyguLi50KXt0aGlzLl9sb2coImxvZyIsIiNhNmQxODkiLHQpfWluZm8oLi4udCl7dGhpcy5fbG9nKCJpbmZvIiwiI2E2ZDE4OSIsdCl9ZXJyb3IoLi4udCl7dGhpcy5fbG9nKCJlcnJvciIsIiNlNzgyODQiLHQpfWVycm9yQ3VzdG9tRm10KHQsLi4ubil7dGhpcy5fbG9nKCJlcnJvciIsIiNlNzgyODQiLG4sdCl9d2FybiguLi50KXt0aGlzLl9sb2coIndhcm4iLCIjZTVjODkwIix0KX1kZWJ1ZyguLi50KXt0aGlzLl9sb2coImRlYnVnIiwiI2VlYmViZSIsdCl9fX0pO3ZhciBMeCxwbixwcz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TWUoKTtMeD0oZSx0LG4pPT50LHBuPUx4fSk7ZnVuY3Rpb24gbXMoZSl7aWYoam4hPT12b2lkIDApdGhyb3cibm8uIjtXdD1lLnB1c2goW1tTeW1ib2woIlZlbmNvcmQiKV0se30sdD0+dF0pLGpuPVd0LmMsZS5wb3AoKX1mdW5jdGlvbiBSZShlLHQ9ITApe3JldHVybiBmdCgoKT0+cXQoZSx0KSl9ZnVuY3Rpb24gbHIoZSx0PSEwKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmlsdGVyLiBFeHBlY3RlZCBhIGZ1bmN0aW9uIGdvdCAiK3R5cGVvZiBlKTtsZXQgbj1bXTtmb3IobGV0IHIgaW4gam4pe2xldCBpPWpuW3JdO2lmKCEhaT8uZXhwb3J0cyl7aWYoZShpLmV4cG9ydHMpKW4ucHVzaChpLmV4cG9ydHMpO2Vsc2UgaWYodHlwZW9mIGkuZXhwb3J0cyE9Im9iamVjdCIpY29udGludWU7aWYoaS5leHBvcnRzLmRlZmF1bHQmJmUoaS5leHBvcnRzLmRlZmF1bHQpKW4ucHVzaCh0P2kuZXhwb3J0cy5kZWZhdWx0OmkuZXhwb3J0cyk7ZWxzZSBmb3IobGV0IHMgaW4gaS5leHBvcnRzKWlmKHMubGVuZ3RoPD0zKXtsZXQgYz1pLmV4cG9ydHNbc107YyYmZShjKSYmbi5wdXNoKGMpfX19cmV0dXJuIG59ZnVuY3Rpb24gZXQoZSx0KXtyZXR1cm4gZnQoKCk9PmFnKGUsdCkpfWZ1bmN0aW9uIGtuKC4uLmUpe3JldHVybiBxdChKLmJ5UHJvcHMoLi4uZSkpfWZ1bmN0aW9uIEMoLi4uZSl7cmV0dXJuIFJlKEouYnlQcm9wcyguLi5lKSl9ZnVuY3Rpb24gSGUoLi4uZSl7cmV0dXJuIHF0KEouYnlDb2RlKC4uLmUpKX1mdW5jdGlvbiBwZSguLi5lKXtyZXR1cm4gUmUoSi5ieUNvZGUoLi4uZSkpfWZ1bmN0aW9uIEV4KGUpe3JldHVybiBxdChKLmJ5U3RvcmVOYW1lKGUpKX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gUmUoSi5ieVN0b3JlTmFtZShlKSl9ZnVuY3Rpb24gdHQoZSx0KXtpZih0eXBlb2YgZT09InN0cmluZyIpZT1KLmJ5UHJvcHMoZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKWU9Si5ieVByb3BzKC4uLmUpO2Vsc2UgaWYodHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgbXVzdCBiZSBhIHN0cmluZywgc3RyaW5nW10gb3IgZnVuY3Rpb24sIGdvdCAiK3R5cGVvZiBlKTtsZXRbbixyXT1xdChlLCEwLCEwKTtpZihuKXJldHVybiB2b2lkIHQobixyKTtzZy5zZXQoZSx0KX1mdW5jdGlvbiBEeChlKXtrbC5hZGQoZSl9ZnVuY3Rpb24gT3goZSl7a2wuZGVsZXRlKGUpfWZ1bmN0aW9uIEFsKC4uLmUpe2xldCB0PXt9LG49V3QubTtlOmZvcihsZXQgciBpbiBuKXtsZXQgaT1uW3JdLm9yaWdpbmFsPz9uW3JdLHM9aS50b1N0cmluZygpO2ZvcihsZXQgYyBvZiBlKWlmKHR5cGVvZiBjPT0ic3RyaW5nIiYmIXMuaW5jbHVkZXMoYyl8fGMgaW5zdGFuY2VvZiBSZWdFeHAmJiFjLnRlc3QocykpY29udGludWUgZTt0W3JdPWl9cmV0dXJuIHR9ZnVuY3Rpb24gTGwoZSl7bGV0IHQ9V3QubVtlXTtpZighdClyZXR1cm4gbnVsbDtsZXQgbj1gCi8vIFtFWFRSQUNURURdIFdlYnBhY2tNb2R1bGUke2V9Ci8vIFdBUk5JTkc6IFRoaXMgbW9kdWxlIHdhcyBleHRyYWN0ZWQgdG8gYmUgbW9yZSBlYXNpbHkgcmVhZGFibGUuCi8vICAgICAgICAgIFRoaXMgbW9kdWxlIGlzIE5PVCBBQ1RVQUxMWSBVU0VEISBUaGlzIG1lYW5zIHB1dHRpbmcgYnJlYWtwb2ludHMgd2lsbCBoYXZlIE5PIEVGRkVDVCEhCgoke3QudG9TdHJpbmcoKX0KLy8jIHNvdXJjZVVSTD1FeHRyYWN0ZWRXZWJwYWNrTW9kdWxlJHtlfQpgO3JldHVybigwLGV2YWwpKG4pfXZhciBObCxkcyxSbCxXdCxqbixKLHNnLGtsLHF0LGpyLGZzLGFnLEY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3VuKCk7TWUoKTtwcygpO05sPW5ldyBWKCJXZWJwYWNrIiksUmw9bmV3IFByb21pc2UoZT0+ZHM9ZSksSj17YnlQcm9wczooLi4uZSk9PmUubGVuZ3RoPT09MT90PT50W2VbMF1dIT09dm9pZCAwOnQ9PmUuZXZlcnkobj0+dFtuXSE9PXZvaWQgMCksYnlDb2RlOiguLi5lKT0+dD0+e2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXJldHVybiExO2xldCBuPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO2ZvcihsZXQgciBvZiBlKWlmKCFuLmluY2x1ZGVzKHIpKXJldHVybiExO3JldHVybiEwfSxieVN0b3JlTmFtZTplPT50PT50LmNvbnN0cnVjdG9yPy5kaXNwbGF5TmFtZT09PWV9LHNnPW5ldyBNYXAsa2w9bmV3IFNldDtxdD1wbigiZmluZCIsZnVuY3Rpb24odCxuPSEwLHI9ITEpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBmaWx0ZXIuIEV4cGVjdGVkIGEgZnVuY3Rpb24gZ290ICIrdHlwZW9mIHQpO2ZvcihsZXQgaSBpbiBqbil7bGV0IHM9am5baV07aWYoISFzPy5leHBvcnRzKXtpZih0KHMuZXhwb3J0cykpcmV0dXJuIHI/W3MuZXhwb3J0cyxOdW1iZXIoaSldOnMuZXhwb3J0cztpZih0eXBlb2Ygcy5leHBvcnRzPT0ib2JqZWN0Iil7aWYocy5leHBvcnRzLmRlZmF1bHQmJnQocy5leHBvcnRzLmRlZmF1bHQpKXtsZXQgYz1uP3MuZXhwb3J0cy5kZWZhdWx0OnMuZXhwb3J0cztyZXR1cm4gcj9bYyxOdW1iZXIoaSldOmN9Zm9yKGxldCBjIGluIHMuZXhwb3J0cylpZihjLmxlbmd0aDw9Myl7bGV0IHU9cy5leHBvcnRzW2NdO2lmKHUmJnQodSkpcmV0dXJuIHI/W3UsTnVtYmVyKGkpXTp1fX19fWlmKCFyKXtsZXQgaT1uZXcgRXJyb3IoIkRpZG4ndCBmaW5kIG1vZHVsZSBtYXRjaGluZyB0aGlzIGZpbHRlciIpO05sLndhcm4oaSl9cmV0dXJuIHI/W251bGwsbnVsbF06bnVsbH0pO2pyPXBuKCJmaW5kQnVsayIsZnVuY3Rpb24oLi4udCl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGZpbHRlcnMuIEV4cGVjdGVkIGZ1bmN0aW9uW10gZ290ICIrdHlwZW9mIHQpO2xldHtsZW5ndGg6bn09dDtpZihuPT09MCl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IHR3byBmaWx0ZXJzLiIpO2lmKG49PT0xKXJldHVybiBxdCh0WzBdKTtsZXQgcj10LGk9MCxzPUFycmF5KG4pO2U6Zm9yKGxldCBjIGluIGpuKXtsZXQgdT1qbltjXTtpZighIXU/LmV4cG9ydHMpZm9yKGxldCBwPTA7cDxuO3ArKyl7bGV0IHk9cltwXTtpZih5IT09dm9pZCAwKXtpZih5KHUuZXhwb3J0cykpe2lmKHNbcF09dS5leHBvcnRzLHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTticmVha31pZih0eXBlb2YgdS5leHBvcnRzPT0ib2JqZWN0Iil7aWYodS5leHBvcnRzLmRlZmF1bHQmJnkodS5leHBvcnRzLmRlZmF1bHQpKXtpZihzW3BdPXUuZXhwb3J0cy5kZWZhdWx0LHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTticmVha31mb3IobGV0IGggaW4gdS5leHBvcnRzKWlmKGgubGVuZ3RoPD0zKXtsZXQgUz11LmV4cG9ydHNbaF07aWYoUyYmeShTKSl7aWYoc1twXT1TLHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTtjb250aW51ZSBlfX19fX19aWYoaSE9PW4pe2xldCBjPW5ldyBFcnJvcihgR290ICR7bn0gZmlsdGVycywgYnV0IG9ubHkgZm91bmQgJHtpfSBtb2R1bGVzIWApO05sLndhcm4oYyl9cmV0dXJuIHN9KSxmcz1wbigiZmluZE1vZHVsZUlkIixmdW5jdGlvbih0KXtmb3IobGV0IHIgaW4gV3QubSlpZihXdC5tW3JdLnRvU3RyaW5nKCkuaW5jbHVkZXModCkpcmV0dXJuIE51bWJlcihyKTtsZXQgbj1uZXcgRXJyb3IoYERpZG4ndCBmaW5kIG1vZHVsZSB3aXRoIGNvZGU6CmArdCk7cmV0dXJuIE5sLndhcm4obiksbnVsbH0pLGFnPXBuKCJtYXBNYW5nbGVkTW9kdWxlIixmdW5jdGlvbih0LG4pe2xldCByPXt9LGk9ZnModCk7aWYoaT09PW51bGwpcmV0dXJuIHI7bGV0IHM9V3QoaSk7ZTpmb3IobGV0IGMgaW4gcyl7bGV0IHU9c1tjXTtmb3IobGV0IHAgaW4gbilpZihuW3BdKHUpKXtyW3BdPXU7Y29udGludWUgZX19cmV0dXJuIHJ9KX0pO3ZhciBncyxndCxsZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO2dzPUMoImltYWdlIiwibW9kYWwiKSxndD1DKCJidXR0b25XcmFwcGVyIiwiYnV0dG9uQ29udGVudCIpfSk7ZnVuY3Rpb24gQm8oZSx0KXtmb3IobGV0IG4gaW4gdCl7bGV0IHI9dFtuXTt0eXBlb2Ygcj09Im9iamVjdCImJiFBcnJheS5pc0FycmF5KHIpPyhlW25dPz89e30sQm8oZVtuXSxyKSk6ZVtuXT8/PXJ9cmV0dXJuIGV9ZnVuY3Rpb24gUSguLi5lKXtyZXR1cm4gZS5maWx0ZXIoQm9vbGVhbikuam9pbigiICIpfWZ1bmN0aW9uIGFvKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT5zZXRUaW1lb3V0KHQsZSkpfWZ1bmN0aW9uIFZ0KGUsdD0iQ29waWVkIHRvIGNsaXBib2FyZCEiKXtRdC5TVVBQT1JUU19DT1BZP1F0LmNvcHkoZSk6dD0iWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY29weWluZyB0byBjbGlwYm9hcmQiLFouc2hvdyh7bWVzc2FnZTp0LGlkOlouZ2VuSWQoKSx0eXBlOlouVHlwZS5TVUNDRVNTfSl9ZnVuY3Rpb24gQngoZSl7cmV0dXJuIHR5cGVvZiBlPT0ib2JqZWN0IiYmZSE9PW51bGwmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIEVsKGUpe3RyeXtyZXR1cm4gbmV3IFVSTChlKX1jYXRjaHtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gaHMoZSl7cmV0dXJuIGV9dmFyIERsLEZ4LFdyLGdlPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCk7UCgpO0RsPWU9PntsZXQgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx1bnNhZmVXaW5kb3cuaW5uZXJIZWlnaHQpO3JldHVybiEodC5ib3R0b208MHx8dC50b3Atbj49MCl9O0Z4PW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIk1vYmkiKSxXcj1lPT5PYmplY3QuaGFzT3duKENsLGUpfSk7ZnVuY3Rpb24gWWUoZSx0KXtsZXQgbj1PYmplY3QuYXNzaWduKHtmYWxsYmFja1ZhbHVlOm51bGwsZGVwczpbXSxvbkVycm9yOm51bGx9LHQpLFtyLGldPWooe3ZhbHVlOm4uZmFsbGJhY2tWYWx1ZSxlcnJvcjpudWxsLHBlbmRpbmc6ITB9KTtyZXR1cm4gRGUoKCk9PntsZXQgcz0hMDtyZXR1cm4gci5wZW5kaW5nfHxpKHsuLi5yLHBlbmRpbmc6ITB9KSxlKCkudGhlbihjPT57IXN8fChpKHt2YWx1ZTpjLGVycm9yOm51bGwscGVuZGluZzohMX0pLG4ub25TdWNjZXNzPy4oYykpfSkuY2F0Y2goYz0+eyFzfHwoaSh7dmFsdWU6bnVsbCxlcnJvcjpjLHBlbmRpbmc6ITF9KSxuLm9uRXJyb3I/LihjKSl9KSwoKT0+dm9pZChzPSExKX0sbi5kZXBzKSxbci52YWx1ZSxyLmVycm9yLHIucGVuZGluZ119ZnVuY3Rpb24gJHQoZSl7bGV0IHQ9Y3Iobj0+bisxLDApO3JldHVybiBlP3Q6dFsxXX1mdW5jdGlvbiByZShlKXtsZXQgdD16bihlKTtyZXR1cm4gbj0+e2xldCByPXQoKTtyZXR1cm4gbyhyLHsuLi5ufSl9fWZ1bmN0aW9uIHFyKHtpbnRlcnZhbDplPTFlMyxkZXBzOnQ9W119KXtsZXRbbixyXT1qKDApLGk9SXQoKCk9PkRhdGUubm93KCksdCk7cmV0dXJuIERlKCgpPT57bGV0IHM9c2V0SW50ZXJ2YWwoKCk9PnIoRGF0ZS5ub3coKS1pKSxlKTtyZXR1cm4oKT0+e3IoMCksY2xlYXJJbnRlcnZhbChzKX19LHQpLG59dmFyIE9sLGhlPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCk7dW4oKTtnZSgpO09sPShlPSExKT0+e2xldCB0PUwudXNlUmVmKG51bGwpLFtuLHJdPWooITEpO3JldHVybltzPT57dC5jdXJyZW50Py5kaXNjb25uZWN0KCksdC5jdXJyZW50PW51bGwscyYmKERsKHMpJiYocighMCksZSl8fCh0LmN1cnJlbnQ9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGM9Pntmb3IobGV0IHUgb2YgYyl1LnRhcmdldD09PXMmJih1LmlzSW50ZXJzZWN0aW5nJiZlPyhyKCEwKSx0LmN1cnJlbnQ/LmRpc2Nvbm5lY3QoKSx0LmN1cnJlbnQ9bnVsbCk6cih1LmlzSW50ZXJzZWN0aW5nKSl9KSx0LmN1cnJlbnQub2JzZXJ2ZShzKSkpfSxuXX19KTtmdW5jdGlvbiB5cyhlLHQpe2xldCBuPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGBWZW5jb3JkIGNvdWxkIG5vdCBmaW5kIHRoZSAke2V9IENvbXBvbmVudGApfSxyPXJlKCgpPT5uKTtyZXR1cm4gdHQodCxpPT57bj1pLE9iamVjdC5hc3NpZ24ocixpKX0pLHJ9ZnVuY3Rpb24gQ3QoZSx0KXt0dChKLmJ5U3RvcmVOYW1lKGUpLHQpfXZhciBfbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7aGUoKTtGKCl9KTt2YXIgVCxodCxSLHl0LFgsX2UsdnMsZWUsZG4sU3MsRm8sZW4sS3IsY2csdXIsYnMsVHMseHMsd3MsWXIsQmwsQW4sJHgsdWc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtfbCgpO1Q9e30sQmw9eXMoIk1hc2tlZExpbmsiLGU9PmU/LnR5cGU/LnRvU3RyaW5nKCkuaW5jbHVkZXMoIk1BU0tFRF9MSU5LKSIpKSxBbj15cygiVGltZXN0YW1wIixKLmJ5Q29kZSgiLk1lc3NhZ2VzLk1FU1NBR0VfRURJVEVEX1RJTUVTVEFNUF9BMTFZX0xBQkVMLmZvcm1hdCIpKSwkeD15cygiRmxleCIsWyJKdXN0aWZ5IiwiQWxpZ24iLCJXcmFwIl0pO3R0KCJGb3JtSXRlbSIsZT0+eyh7dXNlVG9rZW46WXIsQ2FyZDpodCxCdXR0b246UixGb3JtU3dpdGNoOnl0LFRvb2x0aXA6WCxUZXh0SW5wdXQ6X2UsVGV4dEFyZWE6dnMsVGV4dDplZSxTZWxlY3Q6ZG4sU2VhcmNoYWJsZVNlbGVjdDpTcyxTbGlkZXI6Rm8sQnV0dG9uTG9va3M6ZW4sVGFiQmFyOnVyLFBvcG91dDpLcixEaWFsb2c6Y2csUGFnaW5hdG9yOmJzLFNjcm9sbGVyVGhpbjpUcyxDbGlja2FibGU6eHMsQXZhdGFyOndzfT1lKSxUPWV9KX0pO3ZhciBCLG1uLHBnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7Qj17fTt0dCgiTWVudUl0ZW0iLGU9PkI9ZSk7bW49ZXQoJ3R5cGU6IkNPTlRFWFRfTUVOVV9PUEVOIicse29wZW46Si5ieUNvZGUoInN0b3BQcm9wYWdhdGlvbiIpLG9wZW5MYXp5OmU9PmUudG9TdHJpbmcoKS5sZW5ndGg8NTAsY2xvc2U6Si5ieUNvZGUoIkNPTlRFWFRfTUVOVV9DTE9TRSIpfSl9KTt2YXIgTCxqLERlLEl0LHZ0LGNyLE1zLCRvLGRnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7JG89QygiY3JlYXRlUG9ydGFsIiwicmVuZGVyIik7dHQoInVzZVN0YXRlIixlPT57TD1lLHt1c2VFZmZlY3Q6RGUsdXNlU3RhdGU6aix1c2VNZW1vOkl0LHVzZVJlZjp2dCx1c2VSZWR1Y2VyOmNyLHVzZUNhbGxiYWNrOk1zfT1MfSl9KTt2YXIgRmwsZm4sJGwsQmUsUHMsWnIsbG8sVXgsbWUsRyx4ZSxjbyx0ZSxGZSxzdCxnbixYcixVbCxxZSxtZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO19sKCk7Rmw9QygiY29ubmVjdFN0b3JlcyIpLCRsPUMoIm9wZW5Qcml2YXRlQ2hhbm5lbCIpLFVsPWV0KCciTWFza2VkTGlua1N0b3JlIicse29wZW5VbnRydXN0ZWRMaW5rOkouYnlDb2RlKCIuYXBwbHkodGhpcyxhcmd1bWVudHMpIil9KSxxZT1wZSgidXNlU3RhdGVGcm9tU3RvcmVzIik7Q3QoIlVzZXJTdG9yZSIsZT0+Rz1lKTtDdCgiQ2hhbm5lbFN0b3JlIixlPT50ZT1lKTtDdCgiU2VsZWN0ZWRDaGFubmVsU3RvcmUiLGU9PnhlPWUpO0N0KCJTZWxlY3RlZEd1aWxkU3RvcmUiLGU9PmNvPWUpO0N0KCJHdWlsZFN0b3JlIixlPT5tZT1lKTtDdCgiR3VpbGRNZW1iZXJTdG9yZSIsZT0+RmU9ZSk7Q3QoIlJlbGF0aW9uc2hpcFN0b3JlIixlPT5zdD1lKTtDdCgiUGVybWlzc2lvblN0b3JlIixlPT5CZT1lKTtDdCgiUHJlc2VuY2VTdG9yZSIsZT0+bG89ZSk7Q3QoIlJlYWRTdGF0ZVN0b3JlIixlPT5acj1lKTtDdCgiR3VpbGRDaGFubmVsU3RvcmUiLGU9PlBzPWUpO0N0KCJNZXNzYWdlU3RvcmUiLGU9PmZuPWUpO0N0KCJXaW5kb3dTdG9yZSIsZT0+WHI9ZSk7Q3QoIkVtb2ppU3RvcmUiLGU9PmduPWUpfSk7dmFyIGZnPXt9O3ZhciBnZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTt2YXIgaGc9e307dmFyIHlnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciB2Zz17fTt2YXIgU2c9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gTG4oZSx0PWJnLk1FU1NBR0Upe1ouc2hvdyh7aWQ6Wi5nZW5JZCgpLG1lc3NhZ2U6ZSx0eXBlOnR9KX12YXIgTyxHbCxTdCx0bixVbyxjdCx1byxBZSxOdCxiZyxHeCxaLEVuLFF0LEpyLHByLEt0LFRnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7R2w9UmUoZT0+ZS5lbWl0dGVyPy5fZXZlbnRzPy5JTlNFUlRfVEVYVCksU3Q9QygiZ2V0QVBJQmFzZVVSTCIsImdldCIpLHRuPUMoInBhcnNlVHdvRGlnaXRZZWFyIiksVW89QygiaGlnaGxpZ2h0IiksY3Q9UmUoZT0+ZS5NZXNzYWdlcz8uWyJlbi1VUyJdKTt0dChbImZyb21UaW1lc3RhbXAiLCJleHRyYWN0VGltZXN0YW1wIl0sZT0+dW89ZSk7Ymc9e01FU1NBR0U6MCxTVUNDRVNTOjEsRkFJTFVSRToyLENVU1RPTTozfSxHeD17VE9QOjAsQk9UVE9NOjF9LFo9e1R5cGU6YmcsUG9zaXRpb246R3gsZ2VuSWQ6KCk9PihNYXRoLnJhbmRvbSgpfHxNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikuc2xpY2UoMil9O0VuPXtmZXRjaFVzZXI6cGUoIi5VU0VSKCIsImdldFVzZXIiKX0sUXQ9ZXQoJ2RvY3VtZW50LnF1ZXJ5Q29tbWFuZEVuYWJsZWQoImNvcHkiKXx8ZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKCJjb3B5IiknLHtjb3B5OkouYnlDb2RlKCIuZGVmYXVsdC5jb3B5KCIpLFNVUFBPUlRTX0NPUFk6ZT0+dHlwZW9mIGU9PSJib29sZWFuIn0pLEpyPWV0KCJ0cmFuc2l0aW9uVG9HdWlsZCAtICIse3RyYW5zaXRpb25UbzpKLmJ5Q29kZSgidHJhbnNpdGlvblRvIC0iKSx0cmFuc2l0aW9uVG9HdWlsZDpKLmJ5Q29kZSgidHJhbnNpdGlvblRvR3VpbGQgLSIpLGdvQmFjazpKLmJ5Q29kZSgiZ29CYWNrKCkiKSxnb0ZvcndhcmQ6Si5ieUNvZGUoImdvRm9yd2FyZCgpIil9KTt0dChbImRpc3BhdGNoIiwic3Vic2NyaWJlIl0sZT0+e089ZTtsZXQgdD0oKT0+e2UudW5zdWJzY3JpYmUoIkNPTk5FQ1RJT05fT1BFTiIsdCksZHMoKX07ZS5zdWJzY3JpYmUoIkNPTk5FQ1RJT05fT1BFTiIsdCl9KTt0dCgic2hvd1RvYXN0IixlPT57Wi5zaG93PWUuc2hvd1RvYXN0LFoucG9wPWUucG9wVG9hc3R9KTt0dChbInNob3ciLCJjbG9zZSJdLGU9Pk50PWUpO3R0KCJwYXJzZVRvcGljIixlPT5BZT1lKTt0dChbIm9wZW4iLCJzYXZlQWNjb3VudENoYW5nZXMiXSxlPT5wcj1lKTtLdD1SZShlPT50eXBlb2YgZS5BRE1JTklTVFJBVE9SPT0iYmlnaW50Iil9KTt2YXIgSGw9e307U2UoSGwse0FsZXJ0czooKT0+TnQsQXZhdGFyOigpPT53cyxCdXR0b246KCk9PlIsQnV0dG9uTG9va3M6KCk9PmVuLEJ1dHRvbldyYXBwZXJDbGFzc2VzOigpPT5ndCxDYXJkOigpPT5odCxDaGFubmVsU3RvcmU6KCk9PnRlLENsaWNrYWJsZTooKT0+eHMsQ2xpcGJvYXJkOigpPT5RdCxDb21wb25lbnREaXNwYXRjaDooKT0+R2wsQ29tcG9uZW50VHlwZXM6KCk9PmZnLENvbnRleHRNZW51OigpPT5tbixEaWFsb2c6KCk9PmNnLEVtb2ppU3RvcmU6KCk9PmduLEZsZXg6KCk9PiR4LEZsdXg6KCk9PkZsLEZsdXhEaXNwYXRjaGVyOigpPT5PLEZvcm1zOigpPT5ULEd1aWxkQ2hhbm5lbFN0b3JlOigpPT5QcyxHdWlsZE1lbWJlclN0b3JlOigpPT5GZSxHdWlsZFN0b3JlOigpPT5tZSxNYXNrZWRMaW5rOigpPT5CbCxNYXNrZWRMaW5rU3RvcmU6KCk9PlVsLE1lbnU6KCk9PkIsTWVudVR5cGVzOigpPT5oZyxNZXNzYWdlU3RvcmU6KCk9PmZuLE1vZGFsSW1hZ2VDbGFzc2VzOigpPT5ncyxOYXZpZ2F0aW9uUm91dGVyOigpPT5KcixQYWdpbmF0b3I6KCk9PmJzLFBhcnNlcjooKT0+QWUsUGVybWlzc2lvblN0b3JlOigpPT5CZSxQZXJtaXNzaW9uc0JpdHM6KCk9Pkt0LFBvZ2dlck1vZGVTZXR0aW5nc1N0b3JlOigpPT5VeCxQb3BvdXQ6KCk9PktyLFByZXNlbmNlU3RvcmU6KCk9PmxvLFByaXZhdGVDaGFubmVsc1N0b3JlOigpPT4kbCxSZWFjdDooKT0+TCxSZWFjdERPTTooKT0+JG8sUmVhZFN0YXRlU3RvcmU6KCk9PlpyLFJlbGF0aW9uc2hpcFN0b3JlOigpPT5zdCxSZXN0QVBJOigpPT5TdCxTY3JvbGxlclRoaW46KCk9PlRzLFNlYXJjaGFibGVTZWxlY3Q6KCk9PlNzLFNlbGVjdDooKT0+ZG4sU2VsZWN0ZWRDaGFubmVsU3RvcmU6KCk9PnhlLFNlbGVjdGVkR3VpbGRTdG9yZTooKT0+Y28sU2V0dGluZ3NSb3V0ZXI6KCk9PnByLFNsaWRlcjooKT0+Rm8sU25vd2ZsYWtlVXRpbHM6KCk9PnVvLFN3aXRjaDooKT0+eXQsVGFiQmFyOigpPT51cixUZXh0OigpPT5lZSxUZXh0QXJlYTooKT0+dnMsVGV4dElucHV0OigpPT5fZSxUaW1lc3RhbXA6KCk9PkFuLFRvYXN0czooKT0+WixUb29sdGlwOigpPT5YLFVzZXJTdG9yZTooKT0+RyxVc2VyVXRpbHM6KCk9PkVuLFV0aWxUeXBlczooKT0+dmcsV2luZG93U3RvcmU6KCk9PlhyLGhsanM6KCk9PlVvLGkxOG46KCk9PmN0LG1vbWVudDooKT0+dG4sc2hvd1RvYXN0OigpPT5Mbix1c2VDYWxsYmFjazooKT0+TXMsdXNlRWZmZWN0OigpPT5EZSx1c2VNZW1vOigpPT5JdCx1c2VSZWR1Y2VyOigpPT5jcix1c2VSZWY6KCk9PnZ0LHVzZVN0YXRlOigpPT5qLHVzZVN0YXRlRnJvbVN0b3JlczooKT0+cWUsdXNlVG9rZW46KCk9PllyfSk7dmFyIHc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2xnKCk7dWcoKTtwZygpO2RnKCk7bWcoKTtnZygpO3lnKCk7U2coKTtUZygpfSk7ZnVuY3Rpb24gUXIoZSx0KXtyZXR1cm4gSXMub3Blbk1vZGFsTGF6eShlLHQpfWZ1bmN0aW9uIFBlKGUsdCxuKXtyZXR1cm4gSXMub3Blbk1vZGFsKGUsdCxuKX1mdW5jdGlvbiBXbihlLHQpe3JldHVybiBJcy5jbG9zZU1vZGFsKGUsdCl9ZnVuY3Rpb24gamwoKXtyZXR1cm4gSXMuY2xvc2VBbGxNb2RhbHMoKX12YXIgcG8saG4semwsTGUsJGUsVWUsdXQsUnQsSXMsWmU9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtoZSgpO3BvPShpPT4oaS5TTUFMTD0ic21hbGwiLGkuTUVESVVNPSJtZWRpdW0iLGkuTEFSR0U9ImxhcmdlIixpLkRZTkFNSUM9ImR5bmFtaWMiLGkpKShwb3x8e30pLGhuPWV0KCIuY2xvc2VXaXRoQ2lyY2xlQmFja2dyb3VuZCIse01vZGFsUm9vdDpKLmJ5Q29kZSgiLnJvb3QiKSxNb2RhbEhlYWRlcjpKLmJ5Q29kZSgiLmhlYWRlciIpLE1vZGFsQ29udGVudDpKLmJ5Q29kZSgiLmNvbnRlbnQiKSxNb2RhbEZvb3RlcjpKLmJ5Q29kZSgiLmZvb3RlclNlcGFyYXRvciIpLE1vZGFsQ2xvc2VCdXR0b246Si5ieUNvZGUoIi5jbG9zZVdpdGhDaXJjbGVCYWNrZ3JvdW5kIil9KSx6bD1yZSgoKT0+SGUoIi5yZW5kZXJMaW5rQ29tcG9uZW50IiwiLnJlc3BvbnNpdmUiKSksTGU9cmUoKCk9PmhuLk1vZGFsUm9vdCksJGU9cmUoKCk9PmhuLk1vZGFsSGVhZGVyKSxVZT1yZSgoKT0+aG4uTW9kYWxDb250ZW50KSx1dD1yZSgoKT0+aG4uTW9kYWxGb290ZXIpLFJ0PXJlKCgpPT5obi5Nb2RhbENsb3NlQnV0dG9uKSxJcz1ldCgib25DbG9zZVJlcXVlc3Q6bnVsbCE9Iix7b3Blbk1vZGFsOkouYnlDb2RlKCJvbkNsb3NlUmVxdWVzdDpudWxsIT0iKSxjbG9zZU1vZGFsOkouYnlDb2RlKCJvbkNsb3NlQ2FsbGJhY2smJiIpLG9wZW5Nb2RhbExhenk6ZT0+ZT8ubGVuZ3RoPT09MSYmSi5ieUNvZGUoIi5hcHBseSh0aGlzLGFyZ3VtZW50cykiKShlKSxjbG9zZUFsbE1vZGFsczpKLmJ5Q29kZSgiLnZhbHVlLmtleSwiKX0pfSk7ZnVuY3Rpb24gZHIoKXtyZXR1cm4gdGUuZ2V0Q2hhbm5lbCh4ZS5nZXRDaGFubmVsSWQoKSl9ZnVuY3Rpb24gV2woKXtyZXR1cm4gbWUuZ2V0R3VpbGQoZHIoKT8uZ3VpbGRfaWQpfWZ1bmN0aW9uIGp4KGUpeyRsLm9wZW5Qcml2YXRlQ2hhbm5lbChlKX1mdW5jdGlvbiBWcigpe3JldHVybiBIeC5nZXRDdXJyZW50VmFsdWUoKT8uYXBwZWFyYW5jZT8udGhlbWV9ZnVuY3Rpb24gcW4oZSl7R2wuZGlzcGF0Y2hUb0xhc3RTdWJzY3JpYmVkKCJJTlNFUlRfVEVYVCIse3Jhd1RleHQ6ZSxwbGFpblRleHQ6ZX0pfWZ1bmN0aW9uIFd4KGUsdCxuLHIpe2xldCBpPXtjb250ZW50OiIiLGludmFsaWRFbW9qaXM6W10sdHRzOiExLHZhbGlkTm9uU2hvcnRjdXRFbW9qaXM6W10sLi4udH07cmV0dXJuIHp4LnNlbmRNZXNzYWdlKGUsaSxuLHIpfWZ1bmN0aW9uIEdvKGUsdCl7cmV0dXJuIFBlKG49Pm8oTGUsey4uLm4sY2xhc3NOYW1lOmdzLm1vZGFsLHNpemU6ImR5bmFtaWMifSxvKHpsLHtjbGFzc05hbWU6Z3MuaW1hZ2Usb3JpZ2luYWw6ZSxwbGFjZWhvbGRlcjplLHNyYzplLHJlbmRlckxpbmtDb21wb25lbnQ6cj0+byhCbCx7Li4ucn0pLHNob3VsZEhpZGVNZWRpYU9wdGlvbnM6ITEsc2hvdWxkQW5pbWF0ZTohMCwuLi50fSkpKX1hc3luYyBmdW5jdGlvbiB5bihlKXtpZighYXdhaXQgRW4uZmV0Y2hVc2VyKGUpKXRocm93IG5ldyBFcnJvcigiTm8gc3VjaCB1c2VyOiAiK2UpO2xldCBuPWNvLmdldEd1aWxkSWQoKTtxeCh7dXNlcklkOmUsZ3VpbGRJZDpuLGNoYW5uZWxJZDp4ZS5nZXRDaGFubmVsSWQoKSxhbmFseXRpY3NMb2NhdGlvbjp7cGFnZTpuPyJHdWlsZCBDaGFubmVsIjoiRE0gQ2hhbm5lbCIsc2VjdGlvbjoiUHJvZmlsZSBQb3BvdXQifX0pfWZ1bmN0aW9uIEtuKGUpe3JldHVybiBlLmRpc2NyaW1pbmF0b3I9PT0iMCI/ZS51c2VybmFtZTplLnRhZ312YXIgSHgsengsQ3MscXgsYXQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt3KCk7WmUoKTtIeD1SZShlPT5lLlByb3RvQ2xhc3M/LnR5cGVOYW1lLmVuZHNXaXRoKCJQcmVsb2FkZWRVc2VyU2V0dGluZ3MiKSkseng9QygiZWRpdE1lc3NhZ2UiLCJzZW5kTWVzc2FnZSIpO0NzPShuPT4obltuLkRhcms9MV09IkRhcmsiLG5bbi5MaWdodD0yXT0iTGlnaHQiLG4pKShDc3x8e30pO3F4PXBlKCJmcmllbmRUb2tlbiIsIlVTRVJfUFJPRklMRV9NT0RBTF9PUEVOIil9KTtmdW5jdGlvbiBOcyhlKXtyZXR1cm4gQm9vbGVhbihlKX1mdW5jdGlvbiBxbChlKXtyZXR1cm4gZSE9bnVsbH12YXIgUnM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIEhvLGtzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTsoe2xvY2FsU3RvcmFnZTpIb309dW5zYWZlV2luZG93KX0pO3ZhciB4Zyx6LG50PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt4Zz0iIix6PXt9O2ZvcihsZXQgZSBvZlsidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Il0pZm9yKGxldCB0IG9mWzgsMTYsMjBdKXtsZXQgbj1gdmMtbS0ke2V9LSR7dH1gO3pbYCR7ZX0ke3R9YF09bix4Zys9YC4ke259e21hcmdpbi0ke2V9OiR7dH1weDt9YH1kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwoKT0+ZG9jdW1lbnQuaGVhZC5hcHBlbmQoT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHt0ZXh0Q29udGVudDp4ZyxpZDoidmVuY29yZC1tYXJnaW5zIn0pKSx7b25jZTohMH0pfSk7ZnVuY3Rpb24gS3goZSx0LG4pe2xldCByPXQ7aWYodCBpbiBlKXJldHVybiB2b2lkIG4oZVtyXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7c2V0KGkpe2RlbGV0ZSBlW3JdLGVbcl09aSxuKGkpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMX0pfXZhciB3Zz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiBLbChlKXtsZXQgdD0hMSxuO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P246KHQ9ITAsbj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fXZhciBZbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiB6byhlKXtpZih0eXBlb2YgZT09InN0cmluZyIpcmV0dXJuIGU7bGV0IHQ9ZS5zb3VyY2UucmVwbGFjZUFsbCgiXFxpIiwiW0EtWmEtel8kXVtcXHckXSoiKTtyZXR1cm4gbmV3IFJlZ0V4cCh0LGUuZmxhZ3MpfWZ1bmN0aW9uIEFzKGUsdCl7bGV0IG49YFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zWyR7SlNPTi5zdHJpbmdpZnkodCl9XWA7cmV0dXJuIHR5cGVvZiBlIT0iZnVuY3Rpb24iP2UucmVwbGFjZUFsbCgiJHNlbGYiLG4pOiguLi5yKT0+ZSguLi5yKS5yZXBsYWNlQWxsKCIkc2VsZiIsbil9ZnVuY3Rpb24gWmwoZSx0KXtpZihlLmdldCl7bGV0IG49ZS5nZXQ7ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdChuLmNhbGwodGhpcykpfX1lbHNlIGUudmFsdWUmJihlLnZhbHVlPXQoZS52YWx1ZSkpO3JldHVybiBlfWZ1bmN0aW9uIGVpKGUsdCl7bGV0IG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZSk7bi5tYXRjaD1abChuLm1hdGNoLHpvKSxuLnJlcGxhY2U9Wmwobi5yZXBsYWNlLHI9PkFzKHIsdCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbil9dmFyIHRpPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciB2bixtcj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dm49Y2xhc3N7Y29uc3RydWN0b3IodD0xLzApe3RoaXMubWF4U2l6ZT10fXF1ZXVlPVtdO3Byb21pc2U7bmV4dCgpe2xldCB0PXRoaXMucXVldWUuc2hpZnQoKTt0P3RoaXMucHJvbWlzZT1Qcm9taXNlLnJlc29sdmUoKS50aGVuKHQpLmZpbmFsbHkoKCk9PnRoaXMubmV4dCgpKTp0aGlzLnByb21pc2U9dm9pZCAwfXJ1bigpe3RoaXMucHJvbWlzZXx8dGhpcy5uZXh0KCl9cHVzaCh0KXt0aGlzLnNpemU+PXRoaXMubWF4U2l6ZSYmdGhpcy5xdWV1ZS5zaGlmdCgpLHRoaXMucXVldWUucHVzaCh0KSx0aGlzLnJ1bigpfXVuc2hpZnQodCl7dGhpcy5zaXplPj10aGlzLm1heFNpemUmJnRoaXMucXVldWUucG9wKCksdGhpcy5xdWV1ZS51bnNoaWZ0KHQpLHRoaXMucnVuKCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5xdWV1ZS5sZW5ndGh9fX0pO2Z1bmN0aW9uIE1nKGUsdCxuKXtyZXR1cm4gbj09PSExP3Q/ZS5zbGljZSgwLC0xKTplOmVbMF19ZnVuY3Rpb24gbmkoZSx0LG49ITEpe2xldCByPXRuLmR1cmF0aW9uKGUsdCksaT10dy5tYXAocD0+KHthbW91bnQ6cltwXSgpLHVuaXQ6cH0pKSxzPTA7ZTpmb3IobGV0IHA9MDtwPGkubGVuZ3RoO3ArKylpZighKGlbcF0uYW1vdW50PT09MHx8IShwKzE8aS5sZW5ndGgpKSl7Zm9yKGxldCB5PXArMTt5PGkubGVuZ3RoO3krKylpZihpW3ldLmFtb3VudCE9PTApY29udGludWUgZTtzPWkubGVuZ3RoLShwKzEpfWk9cz09PTA/aTppLnNsaWNlKDAsLXMpO2xldCBjPWkuZmluZEluZGV4KCh7dW5pdDpwfSk9PnA9PT0iZGF5cyIpO2lmKGMhPT0tMSl7bGV0IHA9aVtjXSx5PXAuYW1vdW50JTc7eT09PTA/aS5zcGxpY2UoYywxKTpwLmFtb3VudD15fWxldCB1PSIiO2Zvcig7aS5sZW5ndGg7KXtsZXR7YW1vdW50OnAsdW5pdDp5fT1pLnNoaWZ0KCk7dS5sZW5ndGgmJih1Kz1pLmxlbmd0aD8iLCAiOiIgYW5kICIpLChwPjB8fHUubGVuZ3RoKSYmKHUrPWAke3B9ICR7TWcoeSxwPT09MSxuKX1gKX1yZXR1cm4gdS5sZW5ndGg/dTpgMCAke01nKHQsITEsbil9YH1mdW5jdGlvbiBudyhlLHQ9bj0+bil7bGV0e2xlbmd0aDpufT1lO2lmKG49PT0wKXJldHVybiIiO2lmKG49PT0xKXJldHVybiB0KGVbMF0pO2xldCByPSIiO2ZvcihsZXQgaT0wO2k8bjtpKyspcis9dChlW2ldKSxuLWk+Mj9yKz0iLCAiOm4taT4xJiYocis9IiBhbmQgIik7cmV0dXJuIHJ9ZnVuY3Rpb24gb2koZSx0KXtsZXQgbj0iYGBgIjtyZXR1cm5gJHtufSR7dHx8IiJ9CiR7ZS5yZXBsYWNlQWxsKCJgYGAiLCJcXGBcXGBcXGAiKX0KJHtufWB9dmFyIFhsLFl4LFp4LEpsLFh4LEp4LFF4LFZ4LGV3LFluLHR3LFpuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCk7WGw9ZT0+ZS5zcGxpdCgvKD89W0EtWl0pLykubWFwKHQ9PnQudG9Mb3dlckNhc2UoKSksWXg9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCJfIiksWng9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIiksSmw9ZT0+ZS5zcGxpdCgvKD89W0EtWl0pLykubWFwKHQ9PnQudG9Mb3dlckNhc2UoKSksWHg9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksSng9ZT0+ZS5tYXAoKHQsbik9Pm4/dFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6dCkuam9pbigiIiksUXg9ZT0+ZS5qb2luKCJfIikudG9VcHBlckNhc2UoKSxWeD1lPT5lLmpvaW4oIi0iKS50b0xvd2VyQ2FzZSgpLGV3PWU9PmUubWFwKHQ9PnRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpKS5qb2luKCIiKSxZbj1lPT5lLm1hcCh0PT50WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSkuam9pbigiICIpLHR3PVsieWVhcnMiLCJtb250aHMiLCJ3ZWVrcyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIl19KTt2YXIgUWw9e307U2UoUWwse0NoYW5nZUxpc3Q6KCk9PkhyLERldnM6KCk9Pm0sRGV2c0J5SWQ6KCk9PkNsLEltYWdlTW9kYWw6KCk9PnpsLExhenlDb21wb25lbnQ6KCk9PnJlLExvZ2dlcjooKT0+VixNYXJnaW5zOigpPT56LE1vZGFsQ2xvc2VCdXR0b246KCk9PlJ0LE1vZGFsQ29udGVudDooKT0+VWUsTW9kYWxGb290ZXI6KCk9PnV0LE1vZGFsSGVhZGVyOigpPT4kZSxNb2RhbFJvb3Q6KCk9PkxlLE1vZGFsU2l6ZTooKT0+cG8sTW9kYWxzOigpPT5obixRdWV1ZTooKT0+dm4sUkVBQ1RfR0xPQkFMOigpPT5BeCxTVVBQT1JUX0NIQU5ORUxfSUQ6KCk9PmFzLFRoZW1lOigpPT5DcyxWRU5DT1JEX1VTRVJfQUdFTlQ6KCk9PklsLFdFQlBBQ0tfQ0hVTks6KCk9Pkp0LGNhbm9uaWNhbGl6ZURlc2NyaXB0b3I6KCk9PlpsLGNhbm9uaWNhbGl6ZU1hdGNoOigpPT56byxjYW5vbmljYWxpemVSZXBsYWNlOigpPT5BcyxjYW5vbmljYWxpemVSZXBsYWNlbWVudDooKT0+ZWksY2hlY2tJbnRlcnNlY3Rpbmc6KCk9PkRsLGNsYXNzZXM6KCk9PlEsY2xvc2VBbGxNb2RhbHM6KCk9PmpsLGNsb3NlTW9kYWw6KCk9PlduLGNvcHlXaXRoVG9hc3Q6KCk9PlZ0LGRlYm91bmNlOigpPT5GdCxmb3JtYXREdXJhdGlvbjooKT0+bmksZ2V0Q3VycmVudENoYW5uZWw6KCk9PmRyLGdldEN1cnJlbnRHdWlsZDooKT0+V2wsZ2V0VGhlbWU6KCk9PlZyLGdldFVuaXF1ZVVzZXJuYW1lOigpPT5LbixnaXRIYXNoOigpPT5jbixnaXRSZW1vdGU6KCk9PnNzLGh1bWFuRnJpZW5kbHlKb2luOigpPT5udyxpZGVudGl0eTooKT0+aHMsaW5zZXJ0VGV4dEludG9DaGF0SW5wdXRCb3g6KCk9PnFuLGlzTW9iaWxlOigpPT5GeCxpc05vbk51bGxpc2g6KCk9PnFsLGlzT2JqZWN0OigpPT5CeCxpc1BsdWdpbkRldjooKT0+V3IsaXNUcnV0aHk6KCk9Pk5zLGxvY2FsU3RvcmFnZTooKT0+SG8sbWFrZUNvZGVibG9jazooKT0+b2ksbWFrZUxhenk6KCk9PnpuLG1lcmdlRGVmYXVsdHM6KCk9PkJvLG9uY2VEZWZpbmVkOigpPT5LeCxvbmx5T25jZTooKT0+S2wsb3BlbkltYWdlTW9kYWw6KCk9PkdvLG9wZW5Nb2RhbDooKT0+UGUsb3Blbk1vZGFsTGF6eTooKT0+UXIsb3BlblByaXZhdGVDaGFubmVsOigpPT5qeCxvcGVuVXNlclByb2ZpbGU6KCk9PnluLHBhcnNlVXJsOigpPT5FbCxwcm94eUxhenk6KCk9PmZ0LHNlbmRNZXNzYWdlOigpPT5XeCxzbGVlcDooKT0+YW8sdXNlQXdhaXRlcjooKT0+WWUsdXNlRm9yY2VVcGRhdGVyOigpPT4kdCx1c2VJbnRlcnNlY3Rpb246KCk9Pk9sLHVzZVRpbWVyOigpPT5xcix3b3Jkc0Zyb21DYW1lbDooKT0+WGwsd29yZHNGcm9tS2ViYWI6KCk9Plp4LHdvcmRzRnJvbVBhc2NhbDooKT0+Smwsd29yZHNGcm9tU25ha2U6KCk9Pll4LHdvcmRzRnJvbVRpdGxlOigpPT5YeCx3b3Jkc1RvQ2FtZWw6KCk9Pkp4LHdvcmRzVG9LZWJhYjooKT0+Vngsd29yZHNUb1Bhc2NhbDooKT0+ZXcsd29yZHNUb1NuYWtlOigpPT5ReCx3b3Jkc1RvVGl0bGU6KCk9PllufSk7dmFyIFZsPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQbCgpO1AoKTthcigpO2F0KCk7UnMoKTt1bigpO2tzKCk7TWUoKTtudCgpO2dlKCk7WmUoKTt3ZygpO1lsKCk7dGkoKTttcigpO2hlKCk7Wm4oKTt9KTt2YXIgTmc9ZygoKT0+e30pO2Z1bmN0aW9uIFhuKGUpe3JldHVybiBvKCJkaXYiLHsuLi5lLGNsYXNzTmFtZTpRKGUuY2xhc3NOYW1lLCJ2Yy1lcnJvci1jYXJkIil9LGUuY2hpbGRyZW4pfXZhciByaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TmcoKTtnZSgpfSk7dmFyIGx3LFJnLGtnLHRjLEQsc2U9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO01lKCk7bnQoKTtoZSgpO3coKTtyaSgpO2x3PSIjZTc4Mjg0IixSZz1uZXcgVigiUmVhY3QgRXJyb3JCb3VuZGFyeSIsbHcpLGtnPXt9LHRjPXJlKCgpPT5jbGFzcyBleHRlbmRzIEwuUHVyZUNvbXBvbmVudHtzdGF0ZT17ZXJyb3I6a2csc3RhY2s6IiIsbWVzc2FnZToiIn07c3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcih0KXtsZXQgbj10Py5zdGFjaz8/IiIscj10Py5tZXNzYWdlfHxTdHJpbmcodCk7aWYodCBpbnN0YW5jZW9mIEVycm9yJiZuKXtsZXQgaT1uLmluZGV4T2YoYApgKTtpIT09LTEmJihyPW4uc2xpY2UoMCxpKSxuPW4uc2xpY2UoaSsxKS5yZXBsYWNlKC9odHRwczpcL1wvXFMrXC9hc3NldHNcLy9nLCIiKSl9cmV0dXJue2Vycm9yOnQsc3RhY2s6bixtZXNzYWdlOnJ9fWNvbXBvbmVudERpZENhdGNoKHQsbil7dGhpcy5wcm9wcy5vbkVycm9yPy4oe2Vycm9yOnQsZXJyb3JJbmZvOm4scHJvcHM6dGhpcy5wcm9wcy53cmFwcGVkUHJvcHN9KSxSZy5lcnJvcihgQSBjb21wb25lbnQgdGhyZXcgYW4gRXJyb3IKYCx0KSxSZy5lcnJvcigiQ29tcG9uZW50IFN0YWNrIixuLmNvbXBvbmVudFN0YWNrKX1yZW5kZXIoKXtpZih0aGlzLnN0YXRlLmVycm9yPT09a2cpcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47aWYodGhpcy5wcm9wcy5ub29wKXJldHVybiBudWxsO2lmKHRoaXMucHJvcHMuZmFsbGJhY2spcmV0dXJuIG8odGhpcy5wcm9wcy5mYWxsYmFjayx7Y2hpbGRyZW46dGhpcy5wcm9wcy5jaGlsZHJlbiwuLi50aGlzLnN0YXRlfSk7bGV0IHQ9dGhpcy5wcm9wcy5tZXNzYWdlfHwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVuZGVyaW5nIHRoaXMgQ29tcG9uZW50LiBNb3JlIGluZm8gY2FuIGJlIGZvdW5kIGJlbG93IGFuZCBpbiB5b3VyIGNvbnNvbGUuIjtyZXR1cm4gbyhYbix7c3R5bGU6e292ZXJmbG93OiJoaWRkZW4ifX0sbygiaDEiLG51bGwsIk9oIG5vISIpLG8oInAiLG51bGwsdCksbygiY29kZSIsbnVsbCx0aGlzLnN0YXRlLm1lc3NhZ2UsISF0aGlzLnN0YXRlLnN0YWNrJiZvKCJwcmUiLHtjbGFzc05hbWU6ei50b3A4fSx0aGlzLnN0YXRlLnN0YWNrKSkpfX0pO3RjLndyYXA9KGUsdCk9Pm49Pm8odGMsey4uLnQsd3JhcHBlZFByb3BzOm59LG8oZSx7Li4ubn0pKTtEPXRjfSk7ZnVuY3Rpb24gRXMoKXtyZXR1cm4gbygic3ZnIix7ImFyaWEtaGlkZGVuIjoidHJ1ZSIsaGVpZ2h0OiIxNiIsdmlld0JveDoiMCAwIDE2IDE2Iix3aWR0aDoiMTYiLHN0eWxlOnttYXJnaW5SaWdodDoiMC41ZW0iLHRyYW5zZm9ybToidHJhbnNsYXRlWSgycHgpIn19LG8oInBhdGgiLHtmaWxsOiIjZGI2MWEyIiwiZmlsbC1ydWxlIjoiZXZlbm9kZCIsZDoiTTQuMjUgMi41Yy0xLjMzNiAwLTIuNzUgMS4xNjQtMi43NSAzIDAgMi4xNSAxLjU4IDQuMTQ0IDMuMzY1IDUuNjgyQTIwLjU2NSAyMC41NjUgMCAwMDggMTMuMzkzYTIwLjU2MSAyMC41NjEgMCAwMDMuMTM1LTIuMjExQzEyLjkyIDkuNjQ0IDE0LjUgNy42NSAxNC41IDUuNWMwLTEuODM2LTEuNDE0LTMtMi43NS0zLTEuMzczIDAtMi42MDkuOTg2LTMuMDI5IDIuNDU2YS43NS43NSAwIDAxLTEuNDQyIDBDNi44NTkgMy40ODYgNS42MjMgMi41IDQuMjUgMi41ek04IDE0LjI1bC0uMzQ1LjY2Ni0uMDAyLS4wMDEtLjAwNi0uMDAzLS4wMTgtLjAxYTcuNjQzIDcuNjQzIDAgMDEtLjMxLS4xNyAyMi4wNzUgMjIuMDc1IDAgMDEtMy40MzQtMi40MTRDMi4wNDUgMTAuNzMxIDAgOC4zNSAwIDUuNSAwIDIuODM2IDIuMDg2IDEgNC4yNSAxIDUuNzk3IDEgNy4xNTMgMS44MDIgOCAzLjAyIDguODQ3IDEuODAyIDEwLjIwMyAxIDExLjc1IDEgMTMuOTE0IDEgMTYgMi44MzYgMTYgNS41YzAgMi44NS0yLjA0NSA1LjIzMS0zLjg4NSA2LjgxOGEyMi4wOCAyMi4wOCAwIDAxLTMuNzQ0IDIuNTg0bC0uMDE4LjAxLS4wMDYuMDAzaC0uMDAyTDggMTQuMjV6bTAgMGwuMzQ1LjY2NmEuNzUyLjc1MiAwIDAxLS42OSAwTDggMTQuMjV6In0pKX12YXIgbmM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gaWkoZSl7cmV0dXJuIG8oUix7Li4uZSxsb29rOlIuTG9va3MuTElOSyxjb2xvcjpSLkNvbG9ycy5UUkFOU1BBUkVOVCxvbkNsaWNrOigpPT5WZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoImh0dHBzOi8vZ2l0aHViLmNvbS9zcG9uc29ycy9WZW5kaWNhdGVkIil9LG8oRXMsbnVsbCksIkRvbmF0ZSIpfXZhciBvYz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpO25jKCl9KTtmdW5jdGlvbiBjZShlKXtyZXR1cm4gZS5zdHlsZT8/PXt9LGUuc3R5bGUuZGlzcGxheT0iZmxleCIsZS5zdHlsZS5nYXA/Pz0iMWVtIixlLnN0eWxlLmZsZXhEaXJlY3Rpb258fD1lLmZsZXhEaXJlY3Rpb24sZGVsZXRlIGUuZmxleERpcmVjdGlvbixvKCJkaXYiLHsuLi5lfSxlLmNoaWxkcmVuKX12YXIgYnQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZX12YXIgTT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTthc3luYyBmdW5jdGlvbiBBZyhlPSExKXtyYz17fTtsZXQgdD17fTtlJiYodC5jYWNoZT0ibm8tY2FjaGUiKTtsZXQgcj0oYXdhaXQgZigiaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS9WZW5kaWNhdGVkLzUxYTNkZDc3NWY2OTIwNDI5ZWM2ZTliNzM1Y2E3ZjAxL3Jhdy9iYWRnZXMuY3N2Iix0KS50aGVuKGk9PmkudGV4dCgpKSkudHJpbSgpLnNwbGl0KGAKYCk7aWYoci5zaGlmdCgpIT09ImlkLHRvb2x0aXAsaW1hZ2UiKXtuZXcgVigiQmFkZ2VBUEkiKS5lcnJvcigiSW52YWxpZCBiYWRnZXMuY3N2IGZpbGUhIik7cmV0dXJufWZvcihsZXQgaSBvZiByKXtsZXRbcyxjLHVdPWkuc3BsaXQoIiwiKTsocmNbc10/Pz1bXSkucHVzaCh7aW1hZ2U6dSxkZXNjcmlwdGlvbjpjfSl9fXZhciBjdyx1dyxyYyxpYyxMZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T3MoKTtvYygpO3NlKCk7YnQoKTtuYygpO1AoKTtNZSgpO250KCk7Z2UoKTtaZSgpO00oKTt3KCk7Y3c9Imh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwMzM2ODAyMDM0MzM2NjA0NTgvMTA5MjA4OTk0NzEyNjc4MDAzNS9mYXZpY29uLnBuZyIsdXc9e2Rlc2NyaXB0aW9uOiJWZW5jb3JkIENvbnRyaWJ1dG9yIixpbWFnZTpjdyxwb3NpdGlvbjowLHByb3BzOntzdHlsZTp7Ym9yZGVyUmFkaXVzOiI1MCUiLHRyYW5zZm9ybToic2NhbGUoMC45KSJ9fSxzaG91bGRTaG93Oih7dXNlcjplfSk9PldyKGUuaWQpLGxpbms6Imh0dHBzOi8vZ2l0aHViLmNvbS9WZW5kaWNhdGVkL1ZlbmNvcmQifSxyYz17fTtpYz12KHtuYW1lOiJCYWRnZUFQSSIsZGVzY3JpcHRpb246IkFQSSB0byBhZGQgYmFkZ2VzIHRvIHVzZXJzLiIsYXV0aG9yczpbbS5NZWd1LG0uVmVuLG0uVGhlU3VuXSxyZXF1aXJlZDohMCxwYXRjaGVzOlt7ZmluZDoiTWVzc2FnZXMuUFJPRklMRV9VU0VSX0JBREdFUyxyb2xlOiIscmVwbGFjZW1lbnQ6W3ttYXRjaDovJiYoXGkpXC5wdXNoXChce2lkOiJwcmVtaXVtIi4rP1x9XCk7LyxyZXBsYWNlOiIkJiQxLnVuc2hpZnQoLi4uVmVuY29yZC5BcGkuQmFkZ2VzLl9nZXRCYWRnZXMoYXJndW1lbnRzWzBdKSk7In0se21hdGNoOi9hbHQ6IiAiLCJhcmlhLWhpZGRlbiI6ITAsc3JjOig/PShcaSlcLnNyYykvZyxyZXBsYWNlOiIuLi4kMS5wcm9wcywkJiAkMS5pbWFnZT8/In0se21hdGNoOi9jaGlsZHJlbjpmdW5jdGlvbig/PD0oXGkpXC4oPzp0b29sdGlwfGRlc2NyaXB0aW9uKSxzcGFjaW5nOlxkLis/KS9nLHJlcGxhY2U6ImNoaWxkcmVuOiQxLmNvbXBvbmVudCA/ICgpID0+ICRzZWxmLnJlbmRlckJhZGdlQ29tcG9uZW50KCQxKSA6IGZ1bmN0aW9uIn0se21hdGNoOi9vbkNsaWNrOmZ1bmN0aW9uKD89LnswLDIwMH1ocmVmOihcaSlcLmxpbmspLyxyZXBsYWNlOiJvbkNsaWNrOiQxLm9uQ2xpY2s/P2Z1bmN0aW9uIn1dfV0sdG9vbGJveEFjdGlvbnM6e2FzeW5jIlJlZmV0Y2ggQmFkZ2VzIigpe2F3YWl0IEFnKCEwKSxaLnNob3coe2lkOlouZ2VuSWQoKSxtZXNzYWdlOiJTdWNjZXNzZnVsbHkgcmVmZXRjaGVkIGJhZGdlcyEiLHR5cGU6Wi5UeXBlLlNVQ0NFU1N9KX19LGFzeW5jIHN0YXJ0KCl7VmVuY29yZC5BcGkuQmFkZ2VzLmFkZEJhZGdlKHV3KSxhd2FpdCBBZygpfSxyZW5kZXJCYWRnZUNvbXBvbmVudDpELndyYXAoZT0+e2xldCB0PWUuY29tcG9uZW50O3JldHVybiBvKHQsey4uLmV9KX0se25vb3A6ITB9KSxnZXREb25vckJhZGdlcyhlKXtyZXR1cm4gcmNbZV0/Lm1hcCh0PT4oey4uLnQscG9zaXRpb246MCxwcm9wczp7c3R5bGU6e2JvcmRlclJhZGl1czoiNTAlIix0cmFuc2Zvcm06InNjYWxlKDAuOSkifX0sb25DbGljaygpe2xldCBuPVBlKHI9Pm8oRCx7bm9vcDohMCxvbkVycm9yOigpPT57V24obiksVmVuY29yZE5hdGl2ZS5uYXRpdmUub3BlbkV4dGVybmFsKCJodHRwczovL2dpdGh1Yi5jb20vc3BvbnNvcnMvVmVuZGljYXRlZCIpfX0sbyhobi5Nb2RhbFJvb3Qsey4uLnJ9LG8oaG4uTW9kYWxIZWFkZXIsbnVsbCxvKGNlLHtzdHlsZTp7d2lkdGg6IjEwMCUiLGp1c3RpZnlDb250ZW50OiJjZW50ZXIifX0sbyhULkZvcm1UaXRsZSx7dGFnOiJoMiIsc3R5bGU6e3dpZHRoOiIxMDAlIix0ZXh0QWxpZ246ImNlbnRlciIsbWFyZ2luOjB9fSxvKEVzLG51bGwpLCJWZW5jb3JkIERvbm9yIikpKSxvKGhuLk1vZGFsQ29udGVudCxudWxsLG8oY2UsbnVsbCxvKCJpbWciLHtyb2xlOiJwcmVzZW50YXRpb24iLHNyYzoiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vZW1vamlzLzEwMjY1MzMwNzA5NTU4NzIzMzcucG5nIixhbHQ6IiIsc3R5bGU6e21hcmdpbjoiYXV0byJ9fSksbygiaW1nIix7cm9sZToicHJlc2VudGF0aW9uIixzcmM6Imh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2Vtb2ppcy8xMDI2NTMzMDkwNjI3MTc0NDYwLnBuZyIsYWx0OiIiLHN0eWxlOnttYXJnaW46ImF1dG8ifX0pKSxvKCJkaXYiLHtzdHlsZTp7cGFkZGluZzoiMWVtIn19LG8oVC5Gb3JtVGV4dCxudWxsLCJUaGlzIEJhZGdlIGlzIGEgc3BlY2lhbCBwZXJrIGZvciBWZW5jb3JkIERvbm9ycyIpLG8oVC5Gb3JtVGV4dCx7Y2xhc3NOYW1lOnoudG9wMjB9LCJQbGVhc2UgY29uc2lkZXIgc3VwcG9ydGluZyB0aGUgZGV2ZWxvcG1lbnQgb2YgVmVuY29yZCBieSBiZWNvbWluZyBhIGRvbm9yLiBJdCB3b3VsZCBtZWFuIGEgbG90ISEiKSkpLG8oaG4uTW9kYWxGb290ZXIsbnVsbCxvKGNlLHtzdHlsZTp7d2lkdGg6IjEwMCUiLGp1c3RpZnlDb250ZW50OiJjZW50ZXIifX0sbyhpaSxudWxsKSkpKSkpfX0pKX19KX0pO3ZhciBzYyxFZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtzYz12KHtuYW1lOiJDb21tYW5kc0FQSSIsYXV0aG9yczpbbS5BcmppeF0sZGVzY3JpcHRpb246IkFwaSByZXF1aXJlZCBieSBhbnl0aGluZyB0aGF0IHVzZXMgY29tbWFuZHMiLHBhdGNoZXM6W3tmaW5kOiciZ2lwaHkiLCJ0ZW5vciInLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1cdz0pKFx3KShcLmZpbHRlclwoLnswLDMwfWdpcGh5KS8scmVwbGFjZToiVmVuY29yZC5BcGkuQ29tbWFuZHMuX2luaXQoJDEpJDIifV19LHtmaW5kOiJVbmV4cGVjdGVkIHZhbHVlIGZvciBvcHRpb24iLHJlcGxhY2VtZW50OnttYXRjaDovLCguezEsMn0pXC5leGVjdXRlXCgoLnsxLDJ9KSwoLnsxLDJ9KVwpXS8scmVwbGFjZTooZSx0LG4scik9PmAsVmVuY29yZC5BcGkuQ29tbWFuZHMuX2hhbmRsZUNvbW1hbmQoJHt0fSwgJHtufSwgJHtyfSldYH19LHtmaW5kOiIuc291cmNlLGNoaWxkcmVuIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD06KC57MSwzfSlcLmRpc3BsYXlEZXNjcmlwdGlvblx9LnswLDIwMH1cLnNvdXJjZSxjaGlsZHJlbjopW159XSsvLHJlcGxhY2U6IiQxLnBsdWdpbnx8KCQmKSJ9fV19KX0pO3ZhciBhYyxEZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTthYz12KHtuYW1lOiJDb250ZXh0TWVudUFQSSIsZGVzY3JpcHRpb246IkFQSSBmb3IgYWRkaW5nL3JlbW92aW5nIGl0ZW1zIHRvL2Zyb20gY29udGV4dCBtZW51cy4iLGF1dGhvcnM6W20uTnVja3l6LG0uVmVuXSxyZXF1aXJlZDohMCxwYXRjaGVzOlt7ZmluZDoiXHUyNjZCIChcdTMwNjRcdUZGNjFcdTI1RDVcdTIwM0ZcdTIwM0ZcdTI1RDVcdUZGNjEpXHUzMDY0IFx1MjY2QSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9ZnVuY3Rpb24gXGlcKChcaSlcKXspKD89dmFyIFxpLFxpPVxpXC5uYXZJZCkvLHJlcGxhY2U6KGUsdCk9PmBWZW5jb3JkLkFwaS5Db250ZXh0TWVudS5fcGF0Y2hDb250ZXh0TWVudSgke3R9KTtgfX0se2ZpbmQ6Ii5NZW51LHsiLGFsbDohMCxyZXBsYWNlbWVudDp7bWF0Y2g6L01lbnUseyg/PD1cLmpzeHM/XClcKFxpXC5NZW51LHspL2cscmVwbGFjZToiJCZjb250ZXh0TWVudUFwaUFyZ3VtZW50czp0eXBlb2YgYXJndW1lbnRzIT09J3VuZGVmaW5lZCc/YXJndW1lbnRzOltdLCJ9fV19KX0pO3ZhciBsYyxPZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtsYz12KHtuYW1lOiJNZW1iZXJMaXN0RGVjb3JhdG9yc0FQSSIsZGVzY3JpcHRpb246IkFQSSB0byBhZGQgZGVjb3JhdG9ycyB0byBtZW1iZXIgbGlzdCAoYm90aCBpbiBzZXJ2ZXJzIGFuZCBETXMpIixhdXRob3JzOlttLlRoZVN1bl0scGF0Y2hlczpbe2ZpbmQ6Imxvc3RQZXJtaXNzaW9uVG9vbHRpcFRleHQsIixyZXBsYWNlbWVudDp7bWF0Y2g6L0ZyYWdtZW50LHtjaGlsZHJlbjpcWyguezMwLDgwfSlcXS8scmVwbGFjZToiRnJhZ21lbnQse2NoaWxkcmVuOlZlbmNvcmQuQXBpLk1lbWJlckxpc3REZWNvcmF0b3JzLl9fYWRkRGVjb3JhdG9yc1RvTGlzdCh0aGlzLnByb3BzKS5jb25jYXQoJDEpIn19LHtmaW5kOiJQcml2YXRlQ2hhbm5lbC5yZW5kZXJBdmF0YXIiLHJlcGxhY2VtZW50OnttYXRjaDovKHN1YlRleHQ6KC57MSwyfSlcLnJlbmRlclN1YnRpdGxlXChcKS57MSw1MH1kZWNvcmF0b3JzKTooLnszMCwxMDB9Om51bGwpLyxyZXBsYWNlOiIkMTpWZW5jb3JkLkFwaS5NZW1iZXJMaXN0RGVjb3JhdG9ycy5fX2FkZERlY29yYXRvcnNUb0xpc3QoJDIucHJvcHMpLmNvbmNhdCgkMykifX1dfSl9KTt2YXIgY2MsX2c9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7Y2M9dih7bmFtZToiTWVzc2FnZUFjY2Vzc29yaWVzQVBJIixkZXNjcmlwdGlvbjoiQVBJIHRvIGFkZCBtZXNzYWdlIGFjY2Vzc29yaWVzLiIsYXV0aG9yczpbbS5DeW5dLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuUkVNT1ZFX0FUVEFDSE1FTlRfQk9EWSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oLmNvbnRhaW5lclwpPyxjaGlsZHJlbjopKFxbW15cXV0rXF0pKH1cKVx9O3JldHVybikvLHJlcGxhY2U6KGUsdCxuLHIpPT5gJHt0fVZlbmNvcmQuQXBpLk1lc3NhZ2VBY2Nlc3Nvcmllcy5fbW9kaWZ5QWNjZXNzb3JpZXMoJHtufSx0aGlzLnByb3BzKSR7cn1gfX1dfSl9KTt2YXIgdWMsQmc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7dWM9dih7bmFtZToiTWVzc2FnZURlY29yYXRpb25zQVBJIixkZXNjcmlwdGlvbjoiQVBJIHRvIGFkZCBkZWNvcmF0aW9ucyB0byBtZXNzYWdlcyIsYXV0aG9yczpbbS5UaGVTdW5dLHBhdGNoZXM6W3tmaW5kOiIud2l0aE1lbnRpb25QcmVmaXgiLHJlcGxhY2VtZW50OnttYXRjaDovKC5yb2xlRG90LnsxMCw1MH17Y2hpbGRyZW46LnsxLDJ9KX1cKS8scmVwbGFjZToiJDEuY29uY2F0KFZlbmNvcmQuQXBpLk1lc3NhZ2VEZWNvcmF0aW9ucy5fX2FkZERlY29yYXRpb25zVG9NZXNzYWdlKGFyZ3VtZW50c1swXSkpfSkifX1dfSl9KTt2YXIgcGMsRmc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7cGM9dih7bmFtZToiTWVzc2FnZUV2ZW50c0FQSSIsZGVzY3JpcHRpb246IkFwaSByZXF1aXJlZCBieSBhbnl0aGluZyB1c2luZyBtZXNzYWdlIGV2ZW50cy4iLGF1dGhvcnM6W20uQXJqaXgsbS5odW50LG0uVmVuXSxwYXRjaGVzOlt7ZmluZDonIk1lc3NhZ2VBY3Rpb25DcmVhdG9ycyInLHJlcGxhY2VtZW50OnttYXRjaDovXGJlZGl0TWVzc2FnZTooZnVuY3Rpb25cKC4rP1wpKVx7LyxyZXBsYWNlOiJlZGl0TWVzc2FnZTphc3luYyAkMXthd2FpdCBWZW5jb3JkLkFwaS5NZXNzYWdlRXZlbnRzLl9oYW5kbGVQcmVFZGl0KC4uLmFyZ3VtZW50cyk7In19LHtmaW5kOiIuaGFuZGxlU2VuZE1lc3NhZ2U9IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyhwcm9wc1wuY2hhdElucHV0VHlwZS4rP1wudGhlblwoXCgpKGZ1bmN0aW9uLis/dmFyIChcaSk9XGlcLlxpXC5wYXJzZVwoKFxpKSwuKz92YXIgKFxpKT1caVwuXGlcLmdldFNlbmRNZXNzYWdlT3B0aW9uc0ZvclJlcGx5XChcaVwpOykoPzw9XClcKCh7Lis/fSlcKVwudGhlbi4rPykvLHJlcGxhY2U6KGUsdCxuLHIsaSxzLGMpPT5gJHt0fWFzeW5jICR7bn1pZihhd2FpdCBWZW5jb3JkLkFwaS5NZXNzYWdlRXZlbnRzLl9oYW5kbGVQcmVTZW5kKCR7aX0uaWQsJHtyfSwke2N9LCR7c30pKXJldHVybntzaG91ZENsZWFyOnRydWUsc2hvdWxkUmVmb2N1czp0cnVlfTtgfX0se2ZpbmQ6JygiaW50ZXJhY3Rpb25Vc2VybmFtZVByb2ZpbGUnLHJlcGxhY2VtZW50OnttYXRjaDovdmFyIFxpPShcaSlcLmlkLFxpPShcaSlcLmlkO3JldHVybiBcaVwudXNlQ2FsbGJhY2tcKFwoP2Z1bmN0aW9uXCgoXGkpXCl7LyxyZXBsYWNlOihlLHQsbixyKT0+YHZhciBfbXNnPSR7dH0sX2NoYW49JHtufTske2V9VmVuY29yZC5BcGkuTWVzc2FnZUV2ZW50cy5faGFuZGxlQ2xpY2soX21zZywgX2NoYW4sICR7cn0pO2B9fV19KX0pO3ZhciBkYywkZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtkYz12KHtuYW1lOiJNZXNzYWdlUG9wb3ZlckFQSSIsZGVzY3JpcHRpb246IkFQSSB0byBhZGQgYnV0dG9ucyB0byBtZXNzYWdlIHBvcG92ZXJzLiIsYXV0aG9yczpbbS5LaW5nRmlzaCxtLlZlbixtLk51Y2t5el0scGF0Y2hlczpbe2ZpbmQ6Ik1lc3NhZ2VzLk1FU1NBR0VfVVRJTElUSUVTX0ExMVlfTEFCRUwiLHJlcGxhY2VtZW50OnttYXRjaDovXGkmJiFcaVw/XCgwLFxpXC5qc3hzP1wpXCguezAsMjAwfXJlbmRlckVtb2ppUGlja2VyOi57MCw1MDB9XD8oXGkpXChce2tleToicmVwbHktb3RoZXIiLyxyZXBsYWNlOihlLHQpPT57bGV0IG49ZS5tYXRjaCgvbWVzc2FnZTooLnsxLDN9KSwvKT8uWzFdO2lmKCFuKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgbWVzc2FnZSB2YXJpYWJsZSIpO3JldHVybmAuLi5WZW5jb3JkLkFwaS5NZXNzYWdlUG9wb3Zlci5fYnVpbGRQb3BvdmVyRWxlbWVudHMoJHtufSwke3R9KSwke2V9YH19fV19KX0pO3ZhciBtYyxVZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTttYz12KHtuYW1lOiJOb3RpY2VzQVBJIixkZXNjcmlwdGlvbjoiRml4ZXMgbm90aWNlcyBiZWluZyBhdXRvbWF0aWNhbGx5IGRpc21pc3NlZCIsYXV0aG9yczpbbS5WZW5dLHJlcXVpcmVkOiEwLHBhdGNoZXM6W3tmaW5kOidkaXNwbGF5TmFtZT0iTm90aWNlU3RvcmUiJyxyZXBsYWNlbWVudDpbe21hdGNoOi8oPz07XGk9bnVsbDsuezAsNzB9Z2V0UHJlbWl1bVN1YnNjcmlwdGlvbikvZyxyZXBsYWNlOiI7aWYoVmVuY29yZC5BcGkuTm90aWNlcy5jdXJyZW50Tm90aWNlKXJldHVybiBmYWxzZSJ9LHttYXRjaDovKD88PSxOT1RJQ0VfRElTTUlTUzpmdW5jdGlvblwoXGlcKXspKD89aWZcKG51bGw9PShcaSlcKSkvLHJlcGxhY2U6KGUsdCk9PmBpZigke3R9LmlkPT0iVmVuY29yZE5vdGljZSIpcmV0dXJuKCR7dH09bnVsbCxWZW5jb3JkLkFwaS5Ob3RpY2VzLm5leHROb3RpY2UoKSx0cnVlKTtgfV19XX0pfSk7dmFyIGZjLEdnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2ZjPXYoe25hbWU6IlNlcnZlckxpc3RBUEkiLGF1dGhvcnM6W20ua2Vtb10sZGVzY3JpcHRpb246IkFwaSByZXF1aXJlZCBmb3IgcGx1Z2lucyB0aGF0IG1vZGlmeSB0aGUgc2VydmVyIGxpc3QiLHBhdGNoZXM6W3tmaW5kOiJNZXNzYWdlcy5ESVNDT0RPX0RJU0FCTEVEIixyZXBsYWNlbWVudDp7bWF0Y2g6LyhNZXNzYWdlc1wuRElTQ09ET19ESVNBQkxFRFwpO3JldHVybikoLio/aG9tZUljb24uKj8pKFx9ZnVuY3Rpb24pLyxyZXBsYWNlOiIkMVskMl0uY29uY2F0KFZlbmNvcmQuQXBpLlNlcnZlckxpc3QucmVuZGVyQWxsKFZlbmNvcmQuQXBpLlNlcnZlckxpc3QuU2VydmVyTGlzdFJlbmRlclBvc2l0aW9uLkFib3ZlKSkkMyJ9fSx7ZmluZDoiTWVzc2FnZXMuU0VSVkVSUyxjaGlsZHJlbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oTWVzc2FnZXNcLlNFUlZFUlMsY2hpbGRyZW46KSguKz9kZWZhdWx0OnJldHVybiBudWxsXH1cfVwpXCkpLyxyZXBsYWNlOiIkMVZlbmNvcmQuQXBpLlNlcnZlckxpc3QucmVuZGVyQWxsKFZlbmNvcmQuQXBpLlNlcnZlckxpc3QuU2VydmVyTGlzdFJlbmRlclBvc2l0aW9uLkluKS5jb25jYXQoJDIpIn19XX0pfSk7dmFyIGdjLEhnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2djPXYoe25hbWU6IlNldHRpbmdzU3RvcmVBUEkiLGRlc2NyaXB0aW9uOiJQYXRjaGVzIERpc2NvcmQncyBTZXR0aW5nc1N0b3JlcyB0byBleHBvc2UgdGhlaXIgZ3JvdXAgYW5kIG5hbWUiLGF1dGhvcnM6W20uTnVja3l6XSxwYXRjaGVzOlt7ZmluZDonInRleHRBbmRJbWFnZXMiLCJyZW5kZXJTcG9pbGVycyInLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1JTkZSRVFVRU5UX1VTRVJfQUNUSU9OLnswLDIwfSksdXNlU2V0dGluZzpmdW5jdGlvbi8scmVwbGFjZToiLHNldHRpbmdzU3RvcmVBcGlHcm91cDphcmd1bWVudHNbMF0sc2V0dGluZ3NTdG9yZUFwaU5hbWU6YXJndW1lbnRzWzFdJCYifV19XX0pfSk7dmFyIGhjLHpnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2hjPXYoe25hbWU6Ik5vVHJhY2siLGRlc2NyaXB0aW9uOiJEaXNhYmxlIERpc2NvcmQncyB0cmFja2luZyAoJ3NjaWVuY2UnKSwgbWV0cmljcyBhbmQgU2VudHJ5IGNyYXNoIHJlcG9ydGluZyIsYXV0aG9yczpbbS5DeW4sbS5WZW4sbS5OdWNreXpdLHJlcXVpcmVkOiEwLHBhdGNoZXM6W3tmaW5kOiJUUkFDS0lOR19VUkw6IixyZXBsYWNlbWVudDp7bWF0Y2g6L14uKyQvLHJlcGxhY2U6IigpPT57fSJ9fSx7ZmluZDoid2luZG93LkRpc2NvcmRTZW50cnk9IixyZXBsYWNlbWVudDp7bWF0Y2g6L14uKyQvLHJlcGxhY2U6IigpPT57fSJ9fSx7ZmluZDoiLk1FVFJJQ1MsIixyZXBsYWNlbWVudDpbe21hdGNoOi90aGlzXC5faW50ZXJ2YWxJZC4rPzEyZTRcKS8scmVwbGFjZToiIn0se21hdGNoOi8oPzw9aW5jcmVtZW50PWZ1bmN0aW9uXChcaVwpeykvLHJlcGxhY2U6InJldHVybjsifV19XX0pfSk7dmFyIHZjPXt9O1NlKHZjLHtfcGF0Y2hDb250ZXh0TWVudTooKT0+bXcsYWRkQ29udGV4dE1lbnVQYXRjaDooKT0+ZGUsYWRkR2xvYmFsQ29udGV4dE1lbnVQYXRjaDooKT0+cHcsZmluZEdyb3VwQ2hpbGRyZW5CeUNoaWxkSWQ6KCk9Pmx0LGdsb2JhbFBhdGNoZXM6KCk9Pl9zLG5hdlBhdGNoZXM6KCk9PnNpLHJlbW92ZUNvbnRleHRNZW51UGF0Y2g6KCk9PmZlLHJlbW92ZUdsb2JhbENvbnRleHRNZW51UGF0Y2g6KCk9PmR3fSk7ZnVuY3Rpb24gZGUoZSx0KXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2ZvcihsZXQgbiBvZiBlKXtsZXQgcj1zaS5nZXQobik7cnx8KHI9bmV3IFNldCxzaS5zZXQobixyKSksci5hZGQodCl9fWZ1bmN0aW9uIHB3KGUpe19zLmFkZChlKX1mdW5jdGlvbiBmZShlLHQpe2xldCByPShBcnJheS5pc0FycmF5KGUpP2U6W2VdKS5tYXAoaT0+c2kuZ2V0KGkpPy5kZWxldGUodCk/PyExKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9yOnJbMF19ZnVuY3Rpb24gZHcoZSl7cmV0dXJuIF9zLmRlbGV0ZShlKX1mdW5jdGlvbiBsdChlLHQsbil7Zm9yKGxldCByIG9mIHQpe2lmKHI9PW51bGwpY29udGludWU7aWYoQXJyYXkuaXNBcnJheShlKSYmZS5zb21lKHM9PnIucHJvcHM/LmlkPT09cyl8fHIucHJvcHM/LmlkPT09ZSlyZXR1cm4gbj8/bnVsbDtsZXQgaT1yLnByb3BzPy5jaGlsZHJlbjtpZihpKXtBcnJheS5pc0FycmF5KGkpfHwoaT1baV0sci5wcm9wcy5jaGlsZHJlbj1pKTtsZXQgcz1sdChlLGksaSk7aWYocyE9PW51bGwpcmV0dXJuIHN9fXJldHVybiBudWxsfWZ1bmN0aW9uIG13KGUpe2UuY29udGV4dE1lbnVBcGlBcmd1bWVudHM/Pz1bXTtsZXQgdD1zaS5nZXQoZS5uYXZJZCk7aWYoQXJyYXkuaXNBcnJheShlLmNoaWxkcmVuKXx8KGUuY2hpbGRyZW49W2UuY2hpbGRyZW5dKSx0KWZvcihsZXQgbiBvZiB0KXRyeXtsZXQgcj1uKGUuY2hpbGRyZW4sLi4uZS5jb250ZXh0TWVudUFwaUFyZ3VtZW50cyk7eWMuaGFzKGUpfHxyPy4oKX1jYXRjaChyKXtqZy5lcnJvcihgUGF0Y2ggZm9yICR7ZS5uYXZJZH0gZXJyb3JlZCxgLHIpfWZvcihsZXQgbiBvZiBfcyl0cnl7bGV0IHI9bihlLm5hdklkLGUuY2hpbGRyZW4sLi4uZS5jb250ZXh0TWVudUFwaUFyZ3VtZW50cyk7eWMuaGFzKGUpfHxyPy4oKX1jYXRjaChyKXtqZy5lcnJvcigiR2xvYmFsIHBhdGNoIGVycm9yZWQsIixyKX15Yy5hZGQoZSl9dmFyIGpnLHNpLF9zLHljLFR0PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNZSgpO2pnPW5ldyBWKCJDb250ZXh0TWVudSIpLHNpPW5ldyBNYXAsX3M9bmV3IFNldDt5Yz1uZXcgV2Vha1NldH0pO3ZhciBXZz1nKCgpPT57fSk7dmFyIEJzLFNjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtXZygpO1UoKTtzZSgpO2dlKCk7dygpO0JzPUQud3JhcChmdW5jdGlvbih7dGl0bGU6dCxib2R5Om4scmljaEJvZHk6cixjb2xvcjppLGljb246cyxvbkNsaWNrOmMsb25DbG9zZTp1LGltYWdlOnAscGVybWFuZW50OnksY2xhc3NOYW1lOmgsZGlzbWlzc09uQ2xpY2s6U30pe2xldHt0aW1lb3V0OmIscG9zaXRpb246eH09cHQoWyJub3RpZmljYXRpb25zLnRpbWVvdXQiLCJub3RpZmljYXRpb25zLnBvc2l0aW9uIl0pLm5vdGlmaWNhdGlvbnMsQT1xZShbWHJdLCgpPT5Yci5pc0ZvY3VzZWQoKSksW04sSV09aighMSksWyQsX109aigwKSxLPUl0KCgpPT5EYXRlLm5vdygpLFtiLE4sQV0pO0RlKCgpPT57aWYoTnx8IUF8fGI9PT0wfHx5KXJldHVybiB2b2lkIF8oMCk7bGV0IFk9c2V0SW50ZXJ2YWwoKCk9PntsZXQgcT1EYXRlLm5vdygpLUs7cT49Yj91KCk6XyhxKX0sMTApO3JldHVybigpPT5jbGVhckludGVydmFsKFkpfSxbYixOLEFdKTtsZXQgbmU9JC9iO3JldHVybiBvKCJidXR0b24iLHtjbGFzc05hbWU6USgidmMtbm90aWZpY2F0aW9uLXJvb3QiLGgpLHN0eWxlOng9PT0iYm90dG9tLXJpZ2h0Ij97Ym90dG9tOiIxcmVtIn06e3RvcDoiM3JlbSJ9LG9uQ2xpY2s6KCk9PntjPy4oKSxTIT09ITEmJnUoKX0sb25Db250ZXh0TWVudTpZPT57WS5wcmV2ZW50RGVmYXVsdCgpLFkuc3RvcFByb3BhZ2F0aW9uKCksdSgpfSxvbk1vdXNlRW50ZXI6KCk9PkkoITApLG9uTW91c2VMZWF2ZTooKT0+SSghMSl9LG8oImRpdiIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uIn0scyYmbygiaW1nIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24taWNvbiIsc3JjOnMsYWx0OiIifSksbygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tY29udGVudCJ9LG8oImRpdiIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uLWhlYWRlciJ9LG8oImgyIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tdGl0bGUifSx0KSxvKCJidXR0b24iLHtjbGFzc05hbWU6InZjLW5vdGlmaWNhdGlvbi1jbG9zZS1idG4iLG9uQ2xpY2s6WT0+e1kucHJldmVudERlZmF1bHQoKSxZLnN0b3BQcm9wYWdhdGlvbigpLHUoKX19LG8oInN2ZyIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0Iixyb2xlOiJpbWciLCJhcmlhLWxhYmVsbGVkYnkiOiJ2Yy1ub3RpZmljYXRpb24tZGlzbWlzcy10aXRsZSJ9LG8oInRpdGxlIix7aWQ6InZjLW5vdGlmaWNhdGlvbi1kaXNtaXNzLXRpdGxlIn0sIkRpc21pc3MgTm90aWZpY2F0aW9uIiksbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTE4LjQgNEwxMiAxMC40TDUuNiA0TDQgNS42TDEwLjQgMTJMNCAxOC40TDUuNiAyMEwxMiAxMy42TDE4LjQgMjBMMjAgMTguNEwxMy42IDEyTDIwIDUuNkwxOC40IDRaIn0pKSkpLG8oImRpdiIsbnVsbCxyPz9vKCJwIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tcCJ9LG4pKSkpLHAmJm8oImltZyIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uLWltZyIsc3JjOnAsYWx0OiIifSksYiE9PTAmJiF5JiZvKCJkaXYiLHtjbGFzc05hbWU6InZjLW5vdGlmaWNhdGlvbi1wcm9ncmVzc2JhciIsc3R5bGU6e3dpZHRoOmAkeygxLW5lKSoxMDB9JWAsYmFja2dyb3VuZENvbG9yOml8fCJ2YXIoLS1icmFuZC1leHBlcmltZW50KSJ9fSkpfSx7b25FcnJvcjooe3Byb3BzOmV9KT0+ZS5vbkNsb3NlKCl9KX0pO3ZhciB4Yz17fTtTZSh4Yyx7Y2xhc3NOYW1lRmFjdG9yeTooKT0+YmUsY2xhc3NOYW1lVG9TZWxlY3RvcjooKT0+S2csY29tcGlsZVN0eWxlOigpPT5UYyxkaXNhYmxlU3R5bGU6KCk9Pmt0LGVuYWJsZVN0eWxlOigpPT5vdCxpc1N0eWxlRW5hYmxlZDooKT0+YmMscmVxdWlyZVN0eWxlOigpPT5haSxzZXRTdHlsZUNsYXNzTmFtZXM6KCk9Pmd3LHN0eWxlTWFwOigpPT5xZyx0b2dnbGVTdHlsZTooKT0+Znd9KTtmdW5jdGlvbiBhaShlKXtsZXQgdD1xZy5nZXQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBTdHlsZSAiJHtlfSIgZG9lcyBub3QgZXhpc3RgKTtyZXR1cm4gdH1mdW5jdGlvbiBvdChlKXtsZXQgdD1haShlKTtyZXR1cm4gdC5kb20/LmlzQ29ubmVjdGVkPyExOih0LmRvbXx8KHQuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdC5kb20uZGF0YXNldC52ZW5jb3JkTmFtZT10Lm5hbWUpLFRjKHQpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodC5kb20pLCEwKX1mdW5jdGlvbiBrdChlKXtsZXQgdD1haShlKTtyZXR1cm4gdC5kb20/LmlzQ29ubmVjdGVkPyh0LmRvbS5yZW1vdmUoKSx0LmRvbT1udWxsLCEwKTohMX12YXIgcWcsZncsYmMsZ3csVGMsS2csYmUsT2U9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3FnPXVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcDtmdz1lPT5iYyhlKT9rdChlKTpvdChlKSxiYz1lPT5haShlKS5kb20/LmlzQ29ubmVjdGVkPz8hMSxndz0oZSx0LG49ITApPT57bGV0IHI9YWkoZSk7ci5jbGFzc05hbWVzPXQsbiYmYmMoci5uYW1lKSYmVGMocil9LFRjPWU9PntpZighZS5kb20pdGhyb3cgbmV3IEVycm9yKCJTdHlsZSBoYXMgbm8gRE9NIGVsZW1lbnQiKTtlLmRvbS50ZXh0Q29udGVudD1lLnNvdXJjZS5yZXBsYWNlKC9cWy0tKFx3KylcXS9nLCh0LG4pPT57bGV0IHI9ZS5jbGFzc05hbWVzW25dO3JldHVybiByP0tnKHIpOnR9KX0sS2c9KGUsdD0iIik9PmUuc3BsaXQoIiAiKS5tYXAobj0+YC4ke3R9JHtufWApLmpvaW4oIiIpLGJlPShlPSIiKT0+KC4uLnQpPT57bGV0IG49bmV3IFNldDtmb3IobGV0IHIgb2YgdClyJiZ0eXBlb2Ygcj09InN0cmluZyI/bi5hZGQocik6QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goaT0+bi5hZGQoaSkpOnImJnR5cGVvZiByPT0ib2JqZWN0IiYmT2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW2ksc10pPT5zJiZuLmFkZChpKSk7cmV0dXJuIEFycmF5LmZyb20obixyPT5lK3IpLmpvaW4oIiAiKX19KTt2YXIgWWcsWmc9ZygoKT0+e2EoKTtsKCk7WWc9KGU9MjEpPT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGUpKS5yZWR1Y2UoKHQsbik9PihuJj02MyxuPDM2P3QrPW4udG9TdHJpbmcoMzYpOm48NjI/dCs9KG4tMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpOm4+NjI/dCs9Ii0iOnQrPSJfIix0KSwiIil9KTthc3luYyBmdW5jdGlvbiBKZyhlKXtpZihlLm5vUGVyc2lzdClyZXR1cm47bGV0IHQ9ay5ub3RpZmljYXRpb25zLmxvZ0xpbWl0O3QhPT0wJiYoYXdhaXQgX28oRnMsbj0+e2xldCByPW4/P1tdLHtvbkNsaWNrOmksb25DbG9zZTpzLHJpY2hCb2R5OmMscGVybWFuZW50OnUsbm9QZXJzaXN0OnAsZGlzbWlzc09uQ2xpY2s6eSwuLi5ofT1lO3JldHVybiByLnVuc2hpZnQoey4uLmgsdGltZXN0YW1wOkRhdGUubm93KCksaWQ6WWcoKX0pLHIubGVuZ3RoPnQmJnQhPT0yMDAmJihyLmxlbmd0aD10KSxyfSksbGkuZm9yRWFjaChuPT5uKCkpKX1hc3luYyBmdW5jdGlvbiBodyhlKXtsZXQgdD1hd2FpdCBYZygpLG49dC5maW5kSW5kZXgocj0+ci50aW1lc3RhbXA9PT1lKTtuIT09LTEmJih0LnNwbGljZShuLDEpLGF3YWl0IFZlKEZzLHQpLGxpLmZvckVhY2gocj0+cigpKSl9ZnVuY3Rpb24geXcoKXtsZXRbZSx0XT1jcihzPT5zKzEsMCk7RGUoKCk9PihsaS5hZGQodCksKCk9PnZvaWQgbGkuZGVsZXRlKHQpKSxbXSk7bGV0W24scixpXT1ZZShYZyx7ZmFsbGJhY2tWYWx1ZTpbXSxkZXBzOltlXX0pO3JldHVybltuLGldfWZ1bmN0aW9uIHZ3KHtkYXRhOmV9KXtsZXRbdCxuXT1qKCExKSxyPUwudXNlUmVmKG51bGwpO3JldHVybiBEZSgoKT0+e2xldCBpPXIuY3VycmVudCxzPSgpPT57aWYoaS5jbGllbnRIZWlnaHQ9PT0wKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocyk7aS5zdHlsZS5oZWlnaHQ9YCR7aS5jbGllbnRIZWlnaHR9cHhgfTtzKCl9LFtdKSxvKCJkaXYiLHtjbGFzc05hbWU6ZnIoIndyYXBwZXIiLHtyZW1vdmluZzp0fSkscmVmOnJ9LG8oQnMsey4uLmUscGVybWFuZW50OiEwLGRpc21pc3NPbkNsaWNrOiExLG9uQ2xvc2U6KCk9Pnt0fHwobighMCksc2V0VGltZW91dCgoKT0+aHcoZS50aW1lc3RhbXApLDIwMCkpfSxyaWNoQm9keTpvKCJkaXYiLHtjbGFzc05hbWU6ZnIoImJvZHkiKX0sZS5ib2R5LG8oQW4se3RpbWVzdGFtcDp0bihlLnRpbWVzdGFtcCksY2xhc3NOYW1lOmZyKCJ0aW1lc3RhbXAiKX0pKX0pKX1mdW5jdGlvbiBTdyh7bG9nOmUscGVuZGluZzp0fSl7cmV0dXJuIWUubGVuZ3RoJiYhdD9vKCJkaXYiLHtjbGFzc05hbWU6ZnIoImNvbnRhaW5lciIpfSxvKCJkaXYiLHtjbGFzc05hbWU6ZnIoImVtcHR5Iil9KSxvKFQuRm9ybVRleHQse3N0eWxlOnt0ZXh0QWxpZ246ImNlbnRlciJ9fSwiTm8gbm90aWZpY2F0aW9ucyB5ZXQiKSk6bygiZGl2Iix7Y2xhc3NOYW1lOmZyKCJjb250YWluZXIiKX0sZS5tYXAobj0+byh2dyx7ZGF0YTpuLGtleTpuLmlkfSkpKX1mdW5jdGlvbiBidyh7bW9kYWxQcm9wczplLGNsb3NlOnR9KXtsZXRbbixyXT15dygpO3JldHVybiBvKExlLHsuLi5lLHNpemU6ImxhcmdlIn0sbygkZSxudWxsLG8oZWUse3ZhcmlhbnQ6ImhlYWRpbmctbGcvc2VtaWJvbGQiLHN0eWxlOntmbGV4R3JvdzoxfX0sIk5vdGlmaWNhdGlvbiBMb2ciKSxvKFJ0LHtvbkNsaWNrOnR9KSksbyhVZSxudWxsLG8oU3cse2xvZzpuLHBlbmRpbmc6cn0pKSxvKHV0LG51bGwsbyhSLHtkaXNhYmxlZDpuLmxlbmd0aD09PTAsb25DbGljazooKT0+e050LnNob3coe3RpdGxlOiJBcmUgeW91IHN1cmU/Iixib2R5OmBUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlICR7bi5sZW5ndGh9IG5vdGlmaWNhdGlvbiR7bi5sZW5ndGg9PT0xPyIiOiJzIn0uIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuYCxhc3luYyBvbkNvbmZpcm0oKXthd2FpdCBWZShGcyxbXSksbGkuZm9yRWFjaChpPT5pKCkpfSxjb25maXJtVGV4dDoiRG8gaXQhIixjb25maXJtQ29sb3I6InZjLW5vdGlmaWNhdGlvbi1sb2ctZGFuZ2VyLWJ0biIsY2FuY2VsVGV4dDoiTmV2ZXJtaW5kIn0pfX0sIkNsZWFyIE5vdGlmaWNhdGlvbiBMb2ciKSkpfWZ1bmN0aW9uICRzKCl7bGV0IGU9UGUodD0+byhidyx7bW9kYWxQcm9wczp0LGNsb3NlOigpPT5XbihlKX0pKX12YXIgRnMsWGcsZnIsbGksVXM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2xuKCk7VSgpO09lKCk7WmUoKTtoZSgpO3coKTtaZygpO1NjKCk7RnM9Im5vdGlmaWNhdGlvbi1sb2ciLFhnPWFzeW5jKCk9PmF3YWl0IFdlKEZzKT8/W10sZnI9YmUoInZjLW5vdGlmaWNhdGlvbi1sb2ctIiksbGk9bmV3IFNldH0pO2Z1bmN0aW9uIHd3KCl7aWYoIXdjKXtsZXQgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlkPSJ2Yy1ub3RpZmljYXRpb24tY29udGFpbmVyIixkb2N1bWVudC5ib2R5LmFwcGVuZChlKSx3Yz0kby5jcmVhdGVSb290KGUpfXJldHVybiB3Y31mdW5jdGlvbiBNdyhlLHQpe2xldCBuPXd3KCk7cmV0dXJuIG5ldyBQcm9taXNlKHI9PntuLnJlbmRlcihvKEJzLHtrZXk6dCwuLi5lLG9uQ2xvc2U6KCk9PntlLm9uQ2xvc2U/LigpLG4ucmVuZGVyKG51bGwpLHIoKX19KSl9KX1mdW5jdGlvbiBQdygpe2lmKHR5cGVvZiBOb3RpZmljYXRpb24+InUiKXJldHVybiExO2xldHt1c2VOYXRpdmU6ZX09ay5ub3RpZmljYXRpb25zO3JldHVybiBlPT09ImFsd2F5cyI/ITA6ZT09PSJub3QtZm9jdXNlZCI/IWRvY3VtZW50Lmhhc0ZvY3VzKCk6ITF9YXN5bmMgZnVuY3Rpb24gUWcoKXtyZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb249PT0iZ3JhbnRlZCJ8fE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uIT09ImRlbmllZCImJmF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpPT09ImdyYW50ZWQifWFzeW5jIGZ1bmN0aW9uIHZlKGUpe2lmKEpnKGUpLFB3KCkmJmF3YWl0IFFnKCkpe2xldHt0aXRsZTp0LGJvZHk6bixpY29uOnIsaW1hZ2U6aSxvbkNsaWNrOnM9bnVsbCxvbkNsb3NlOmM9bnVsbH09ZSx1PW5ldyBOb3RpZmljYXRpb24odCx7Ym9keTpuLGljb246cixpbWFnZTppfSk7dS5vbmNsaWNrPXMsdS5vbmNsb3NlPWN9ZWxzZSBUdy5wdXNoKCgpPT5NdyhlLHh3KyspKX12YXIgVHcsd2MseHcsVmc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTttcigpO3coKTtTYygpO1VzKCk7VHc9bmV3IHZuLHh3PTQyfSk7dmFyIE1jPXt9O1NlKE1jLHtyZXF1ZXN0UGVybWlzc2lvbjooKT0+UWcsc2hvd05vdGlmaWNhdGlvbjooKT0+dmV9KTt2YXIgbW89ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1ZnKCl9KTtmdW5jdGlvbiBsaChlLHQpe3JldHVybiBPdyhlLHR8fHt9LDAsMCl9ZnVuY3Rpb24gY2goZSx0KXtyZXR1cm4gTHcoZSx0KX12YXIgQXQsVXQsR3MsSHMsenMsTmMsb2gscmgsaWgsUmMsc2gsSXcsZWgsa2MsSm4seWUsRG4sZ28seWUseWUseWUseWUscGkseWUsQ3csTncsUncsa3csUGMsU24sSWMsRWMsYWgsQXcsZm8sTHcsUW4sY2ksQ2MsQWMsdGgsdWksTGMsbmgsRXcsRGMsRHcsT3csX3csQncsdWg9ZygoKT0+e2EoKTtsKCk7QXQ9VWludDhBcnJheSxVdD1VaW50MTZBcnJheSxHcz1VaW50MzJBcnJheSxIcz1uZXcgQXQoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLHpzPW5ldyBBdChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxOYz1uZXcgQXQoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxvaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1uZXcgVXQoMzEpLHI9MDtyPDMxOysrciluW3JdPXQrPTE8PGVbci0xXTtmb3IodmFyIGk9bmV3IEdzKG5bMzBdKSxyPTE7cjwzMDsrK3IpZm9yKHZhciBzPW5bcl07czxuW3IrMV07KytzKWlbc109cy1uW3JdPDw1fHI7cmV0dXJuW24saV19LHJoPW9oKEhzLDIpLGloPXJoWzBdLFJjPXJoWzFdO2loWzI4XT0yNTgsUmNbMjU4XT0yODtzaD1vaCh6cywwKSxJdz1zaFswXSxlaD1zaFsxXSxrYz1uZXcgVXQoMzI3NjgpO2Zvcih5ZT0wO3llPDMyNzY4OysreWUpSm49KHllJjQzNjkwKT4+PjF8KHllJjIxODQ1KTw8MSxKbj0oSm4mNTI0MjgpPj4+MnwoSm4mMTMxMDcpPDwyLEpuPShKbiY2MTY4MCk+Pj40fChKbiYzODU1KTw8NCxrY1t5ZV09KChKbiY2NTI4MCk+Pj44fChKbiYyNTUpPDw4KT4+PjE7RG49ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aCxpPTAscz1uZXcgVXQodCk7aTxyOysraSllW2ldJiYrK3NbZVtpXS0xXTt2YXIgYz1uZXcgVXQodCk7Zm9yKGk9MDtpPHQ7KytpKWNbaV09Y1tpLTFdK3NbaS0xXTw8MTt2YXIgdTtpZihuKXt1PW5ldyBVdCgxPDx0KTt2YXIgcD0xNS10O2ZvcihpPTA7aTxyOysraSlpZihlW2ldKWZvcih2YXIgeT1pPDw0fGVbaV0saD10LWVbaV0sUz1jW2VbaV0tMV0rKzw8aCxiPVN8KDE8PGgpLTE7Uzw9YjsrK1MpdVtrY1tTXT4+PnBdPXl9ZWxzZSBmb3IodT1uZXcgVXQociksaT0wO2k8cjsrK2kpZVtpXSYmKHVbaV09a2NbY1tlW2ldLTFdKytdPj4+MTUtZVtpXSk7cmV0dXJuIHV9LGdvPW5ldyBBdCgyODgpO2Zvcih5ZT0wO3llPDE0NDsrK3llKWdvW3llXT04O2Zvcih5ZT0xNDQ7eWU8MjU2OysreWUpZ29beWVdPTk7Zm9yKHllPTI1Njt5ZTwyODA7Kyt5ZSlnb1t5ZV09Nztmb3IoeWU9MjgwO3llPDI4ODsrK3llKWdvW3llXT04O3BpPW5ldyBBdCgzMik7Zm9yKHllPTA7eWU8MzI7Kyt5ZSlwaVt5ZV09NTtDdz1Ebihnbyw5LDApLE53PURuKGdvLDksMSksUnc9RG4ocGksNSwwKSxrdz1EbihwaSw1LDEpLFBjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdLG49MTtuPGUubGVuZ3RoOysrbillW25dPnQmJih0PWVbbl0pO3JldHVybiB0fSxTbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC84fDA7cmV0dXJuKGVbcl18ZVtyKzFdPDw4KT4+KHQmNykmbn0sSWM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10Lzh8MDtyZXR1cm4oZVtuXXxlW24rMV08PDh8ZVtuKzJdPDwxNik+Pih0JjcpfSxFYz1mdW5jdGlvbihlKXtyZXR1cm4oZSs3KS84fDB9LGFoPWZ1bmN0aW9uKGUsdCxuKXsodD09bnVsbHx8dDwwKSYmKHQ9MCksKG49PW51bGx8fG4+ZS5sZW5ndGgpJiYobj1lLmxlbmd0aCk7dmFyIHI9bmV3KGUuQllURVNfUEVSX0VMRU1FTlQ9PTI/VXQ6ZS5CWVRFU19QRVJfRUxFTUVOVD09ND9HczpBdCkobi10KTtyZXR1cm4gci5zZXQoZS5zdWJhcnJheSh0LG4pKSxyfSxBdz1bInVuZXhwZWN0ZWQgRU9GIiwiaW52YWxpZCBibG9jayB0eXBlIiwiaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCIsImludmFsaWQgZGlzdGFuY2UiLCJzdHJlYW0gZmluaXNoZWQiLCJubyBzdHJlYW0gaGFuZGxlciIsLCJubyBjYWxsYmFjayIsImludmFsaWQgVVRGLTggZGF0YSIsImV4dHJhIGZpZWxkIHRvbyBsb25nIiwiZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IiwiZmlsZW5hbWUgdG9vIGxvbmciLCJzdHJlYW0gZmluaXNoaW5nIiwiaW52YWxpZCB6aXAgZGF0YSJdLGZvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgRXJyb3IodHx8QXdbZV0pO2lmKHIuY29kZT1lLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShyLGZvKSwhbil0aHJvdyByO3JldHVybiByfSxMdz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5sZW5ndGg7aWYoIXJ8fG4mJm4uZiYmIW4ubClyZXR1cm4gdHx8bmV3IEF0KDApO3ZhciBpPSF0fHxuLHM9IW58fG4uaTtufHwobj17fSksdHx8KHQ9bmV3IEF0KHIqMykpO3ZhciBjPWZ1bmN0aW9uKG9zKXt2YXIgVXI9dC5sZW5ndGg7aWYob3M+VXIpe3ZhciBzcj1uZXcgQXQoTWF0aC5tYXgoVXIqMixvcykpO3NyLnNldCh0KSx0PXNyfX0sdT1uLmZ8fDAscD1uLnB8fDAseT1uLmJ8fDAsaD1uLmwsUz1uLmQsYj1uLm0seD1uLm4sQT1yKjg7ZG97aWYoIWgpe3U9U24oZSxwLDEpO3ZhciBOPVNuKGUscCsxLDMpO2lmKHArPTMsTilpZihOPT0xKWg9TncsUz1rdyxiPTkseD01O2Vsc2UgaWYoTj09Mil7dmFyIEs9U24oZSxwLDMxKSsyNTcsbmU9U24oZSxwKzEwLDE1KSs0LFk9SytTbihlLHArNSwzMSkrMTtwKz0xNDtmb3IodmFyIHE9bmV3IEF0KFkpLG9lPW5ldyBBdCgxOSksSD0wO0g8bmU7KytIKW9lW05jW0hdXT1TbihlLHArSCozLDcpO3ArPW5lKjM7Zm9yKHZhciBFZT1QYyhvZSksaWU9KDE8PEVlKS0xLGplPURuKG9lLEVlLDEpLEg9MDtIPFk7KXt2YXIgR2U9amVbU24oZSxwLGllKV07cCs9R2UmMTU7dmFyIEk9R2U+Pj40O2lmKEk8MTYpcVtIKytdPUk7ZWxzZXt2YXIgZHQ9MCxKZT0wO2ZvcihJPT0xNj8oSmU9MytTbihlLHAsMykscCs9MixkdD1xW0gtMV0pOkk9PTE3PyhKZT0zK1NuKGUscCw3KSxwKz0zKTpJPT0xOCYmKEplPTExK1NuKGUscCwxMjcpLHArPTcpO0plLS07KXFbSCsrXT1kdH19dmFyIE10PXEuc3ViYXJyYXkoMCxLKSxLZT1xLnN1YmFycmF5KEspO2I9UGMoTXQpLHg9UGMoS2UpLGg9RG4oTXQsYiwxKSxTPURuKEtlLHgsMSl9ZWxzZSBmbygxKTtlbHNle3ZhciBJPUVjKHApKzQsJD1lW0ktNF18ZVtJLTNdPDw4LF89SSskO2lmKF8+cil7cyYmZm8oMCk7YnJlYWt9aSYmYyh5KyQpLHQuc2V0KGUuc3ViYXJyYXkoSSxfKSx5KSxuLmI9eSs9JCxuLnA9cD1fKjgsbi5mPXU7Y29udGludWV9aWYocD5BKXtzJiZmbygwKTticmVha319aSYmYyh5KzEzMTA3Mik7Zm9yKHZhciBRZT0oMTw8YiktMSx6dD0oMTw8eCktMSxYdD1wOztYdD1wKXt2YXIgZHQ9aFtJYyhlLHApJlFlXSxDbj1kdD4+PjQ7aWYocCs9ZHQmMTUscD5BKXtzJiZmbygwKTticmVha31pZihkdHx8Zm8oMiksQ248MjU2KXRbeSsrXT1DbjtlbHNlIGlmKENuPT0yNTYpe1h0PXAsaD1udWxsO2JyZWFrfWVsc2V7dmFyIGp0PUNuLTI1NDtpZihDbj4yNjQpe3ZhciBIPUNuLTI1Nyxzbj1Ic1tIXTtqdD1TbihlLHAsKDE8PHNuKS0xKStpaFtIXSxwKz1zbn12YXIgTm49U1tJYyhlLHApJnp0XSxCdD1Obj4+PjQ7Tm58fGZvKDMpLHArPU5uJjE1O3ZhciBLZT1Jd1tCdF07aWYoQnQ+Myl7dmFyIHNuPXpzW0J0XTtLZSs9SWMoZSxwKSYoMTw8c24pLTEscCs9c259aWYocD5BKXtzJiZmbygwKTticmVha31pJiZjKHkrMTMxMDcyKTtmb3IodmFyIG10PXkranQ7eTxtdDt5Kz00KXRbeV09dFt5LUtlXSx0W3krMV09dFt5KzEtS2VdLHRbeSsyXT10W3krMi1LZV0sdFt5KzNdPXRbeSszLUtlXTt5PW10fX1uLmw9aCxuLnA9WHQsbi5iPXksbi5mPXUsaCYmKHU9MSxuLm09YixuLmQ9UyxuLm49eCl9d2hpbGUoIXUpO3JldHVybiB5PT10Lmxlbmd0aD90OmFoKHQsMCx5KX0sUW49ZnVuY3Rpb24oZSx0LG4pe248PD10Jjc7dmFyIHI9dC84fDA7ZVtyXXw9bixlW3IrMV18PW4+Pj44fSxjaT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgcj10Lzh8MDtlW3JdfD1uLGVbcisxXXw9bj4+PjgsZVtyKzJdfD1uPj4+MTZ9LENjPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZuLnB1c2goe3M6cixmOmVbcl19KTt2YXIgaT1uLmxlbmd0aCxzPW4uc2xpY2UoKTtpZighaSlyZXR1cm5bRGMsMF07aWYoaT09MSl7dmFyIGM9bmV3IEF0KG5bMF0ucysxKTtyZXR1cm4gY1tuWzBdLnNdPTEsW2MsMV19bi5zb3J0KGZ1bmN0aW9uKFkscSl7cmV0dXJuIFkuZi1xLmZ9KSxuLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciB1PW5bMF0scD1uWzFdLHk9MCxoPTEsUz0yO2ZvcihuWzBdPXtzOi0xLGY6dS5mK3AuZixsOnUscjpwfTtoIT1pLTE7KXU9bltuW3ldLmY8bltTXS5mP3krKzpTKytdLHA9blt5IT1oJiZuW3ldLmY8bltTXS5mP3krKzpTKytdLG5baCsrXT17czotMSxmOnUuZitwLmYsbDp1LHI6cH07Zm9yKHZhciBiPXNbMF0ucyxyPTE7cjxpOysrcilzW3JdLnM+YiYmKGI9c1tyXS5zKTt2YXIgeD1uZXcgVXQoYisxKSxBPUFjKG5baC0xXSx4LDApO2lmKEE+dCl7dmFyIHI9MCxOPTAsST1BLXQsJD0xPDxJO2ZvcihzLnNvcnQoZnVuY3Rpb24ocSxvZSl7cmV0dXJuIHhbb2Uuc10teFtxLnNdfHxxLmYtb2UuZn0pO3I8aTsrK3Ipe3ZhciBfPXNbcl0ucztpZih4W19dPnQpTis9JC0oMTw8QS14W19dKSx4W19dPXQ7ZWxzZSBicmVha31mb3IoTj4+Pj1JO04+MDspe3ZhciBLPXNbcl0uczt4W0tdPHQ/Ti09MTw8dC14W0tdKystMTorK3J9Zm9yKDtyPj0wJiZOOy0tcil7dmFyIG5lPXNbcl0uczt4W25lXT09dCYmKC0teFtuZV0sKytOKX1BPXR9cmV0dXJuW25ldyBBdCh4KSxBXX0sQWM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnM9PS0xP01hdGgubWF4KEFjKGUubCx0LG4rMSksQWMoZS5yLHQsbisxKSk6dFtlLnNdPW59LHRoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBVdCgrK3QpLHI9MCxpPWVbMF0scz0xLGM9ZnVuY3Rpb24ocCl7bltyKytdPXB9LHU9MTt1PD10OysrdSlpZihlW3VdPT1pJiZ1IT10KSsrcztlbHNle2lmKCFpJiZzPjIpe2Zvcig7cz4xMzg7cy09MTM4KWMoMzI3NTQpO3M+MiYmKGMocz4xMD9zLTExPDw1fDI4NjkwOnMtMzw8NXwxMjMwNSkscz0wKX1lbHNlIGlmKHM+Myl7Zm9yKGMoaSksLS1zO3M+NjtzLT02KWMoODMwNCk7cz4yJiYoYyhzLTM8PDV8ODIwOCkscz0wKX1mb3IoO3MtLTspYyhpKTtzPTEsaT1lW3VdfXJldHVybltuLnN1YmFycmF5KDAsciksdF19LHVpPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj0wO3I8dC5sZW5ndGg7KytyKW4rPWVbcl0qdFtyXTtyZXR1cm4gbn0sTGM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4ubGVuZ3RoLGk9RWModCsyKTtlW2ldPXImMjU1LGVbaSsxXT1yPj4+OCxlW2krMl09ZVtpXV4yNTUsZVtpKzNdPWVbaSsxXV4yNTU7Zm9yKHZhciBzPTA7czxyOysrcyllW2krcys0XT1uW3NdO3JldHVybihpKzQrcikqOH0sbmg9ZnVuY3Rpb24oZSx0LG4scixpLHMsYyx1LHAseSxoKXtRbih0LGgrKyxuKSwrK2lbMjU2XTtmb3IodmFyIFM9Q2MoaSwxNSksYj1TWzBdLHg9U1sxXSxBPUNjKHMsMTUpLE49QVswXSxJPUFbMV0sJD10aChiKSxfPSRbMF0sSz0kWzFdLG5lPXRoKE4pLFk9bmVbMF0scT1uZVsxXSxvZT1uZXcgVXQoMTkpLEg9MDtIPF8ubGVuZ3RoOysrSClvZVtfW0hdJjMxXSsrO2Zvcih2YXIgSD0wO0g8WS5sZW5ndGg7KytIKW9lW1lbSF0mMzFdKys7Zm9yKHZhciBFZT1DYyhvZSw3KSxpZT1FZVswXSxqZT1FZVsxXSxHZT0xOTtHZT40JiYhaWVbTmNbR2UtMV1dOy0tR2UpO3ZhciBkdD15KzU8PDMsSmU9dWkoaSxnbykrdWkocyxwaSkrYyxNdD11aShpLGIpK3VpKHMsTikrYysxNCszKkdlK3VpKG9lLGllKSsoMipvZVsxNl0rMypvZVsxN10rNypvZVsxOF0pO2lmKGR0PD1KZSYmZHQ8PU10KXJldHVybiBMYyh0LGgsZS5zdWJhcnJheShwLHAreSkpO3ZhciBLZSxRZSx6dCxYdDtpZihRbih0LGgsMSsoTXQ8SmUpKSxoKz0yLE10PEplKXtLZT1EbihiLHgsMCksUWU9Yix6dD1EbihOLEksMCksWHQ9Tjt2YXIgQ249RG4oaWUsamUsMCk7UW4odCxoLEstMjU3KSxRbih0LGgrNSxxLTEpLFFuKHQsaCsxMCxHZS00KSxoKz0xNDtmb3IodmFyIEg9MDtIPEdlOysrSClRbih0LGgrMypILGllW05jW0hdXSk7aCs9MypHZTtmb3IodmFyIGp0PVtfLFldLHNuPTA7c248MjsrK3NuKWZvcih2YXIgTm49anRbc25dLEg9MDtIPE5uLmxlbmd0aDsrK0gpe3ZhciBCdD1ObltIXSYzMTtRbih0LGgsQ25bQnRdKSxoKz1pZVtCdF0sQnQ+MTUmJihRbih0LGgsTm5bSF0+Pj41JjEyNyksaCs9Tm5bSF0+Pj4xMil9fWVsc2UgS2U9Q3csUWU9Z28senQ9UncsWHQ9cGk7Zm9yKHZhciBIPTA7SDx1OysrSClpZihyW0hdPjI1NSl7dmFyIEJ0PXJbSF0+Pj4xOCYzMTtjaSh0LGgsS2VbQnQrMjU3XSksaCs9UWVbQnQrMjU3XSxCdD43JiYoUW4odCxoLHJbSF0+Pj4yMyYzMSksaCs9SHNbQnRdKTt2YXIgbXQ9cltIXSYzMTtjaSh0LGgsenRbbXRdKSxoKz1YdFttdF0sbXQ+MyYmKGNpKHQsaCxyW0hdPj4+NSY4MTkxKSxoKz16c1ttdF0pfWVsc2UgY2kodCxoLEtlW3JbSF1dKSxoKz1RZVtyW0hdXTtyZXR1cm4gY2kodCxoLEtlWzI1Nl0pLGgrUWVbMjU2XX0sRXc9bmV3IEdzKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLERjPW5ldyBBdCgwKSxEdz1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIGM9ZS5sZW5ndGgsdT1uZXcgQXQocitjKzUqKDErTWF0aC5jZWlsKGMvN2UzKSkraSkscD11LnN1YmFycmF5KHIsdS5sZW5ndGgtaSkseT0wO2lmKCF0fHxjPDgpZm9yKHZhciBoPTA7aDw9YztoKz02NTUzNSl7dmFyIFM9aCs2NTUzNTtTPj1jJiYocFt5Pj4zXT1zKSx5PUxjKHAseSsxLGUuc3ViYXJyYXkoaCxTKSl9ZWxzZXtmb3IodmFyIGI9RXdbdC0xXSx4PWI+Pj4xMyxBPWImODE5MSxOPSgxPDxuKS0xLEk9bmV3IFV0KDMyNzY4KSwkPW5ldyBVdChOKzEpLF89TWF0aC5jZWlsKG4vMyksSz0yKl8sbmU9ZnVuY3Rpb24odmwpe3JldHVybihlW3ZsXV5lW3ZsKzFdPDxfXmVbdmwrMl08PEspJk59LFk9bmV3IEdzKDI1ZTMpLHE9bmV3IFV0KDI4OCksb2U9bmV3IFV0KDMyKSxIPTAsRWU9MCxoPTAsaWU9MCxqZT0wLEdlPTA7aDxjOysraCl7dmFyIGR0PW5lKGgpLEplPWgmMzI3NjcsTXQ9JFtkdF07aWYoSVtKZV09TXQsJFtkdF09SmUsamU8PWgpe3ZhciBLZT1jLWg7aWYoKEg+N2UzfHxpZT4yNDU3NikmJktlPjQyMyl7eT1uaChlLHAsMCxZLHEsb2UsRWUsaWUsR2UsaC1HZSx5KSxpZT1IPUVlPTAsR2U9aDtmb3IodmFyIFFlPTA7UWU8Mjg2OysrUWUpcVtRZV09MDtmb3IodmFyIFFlPTA7UWU8MzA7KytRZSlvZVtRZV09MH12YXIgenQ9MixYdD0wLENuPUEsanQ9SmUtTXQmMzI3Njc7aWYoS2U+MiYmZHQ9PW5lKGgtanQpKWZvcih2YXIgc249TWF0aC5taW4oeCxLZSktMSxObj1NYXRoLm1pbigzMjc2NyxoKSxCdD1NYXRoLm1pbigyNTgsS2UpO2p0PD1ObiYmLS1DbiYmSmUhPU10Oyl7aWYoZVtoK3p0XT09ZVtoK3p0LWp0XSl7Zm9yKHZhciBtdD0wO210PEJ0JiZlW2grbXRdPT1lW2grbXQtanRdOysrbXQpO2lmKG10Pnp0KXtpZih6dD1tdCxYdD1qdCxtdD5zbilicmVhaztmb3IodmFyIG9zPU1hdGgubWluKGp0LG10LTIpLFVyPTAsUWU9MDtRZTxvczsrK1FlKXt2YXIgc3I9aC1qdCtRZSszMjc2OCYzMjc2Nyx5eD1JW3NyXSxRZj1zci15eCszMjc2OCYzMjc2NztRZj5VciYmKFVyPVFmLE10PXNyKX19fUplPU10LE10PUlbSmVdLGp0Kz1KZS1NdCszMjc2OCYzMjc2N31pZihYdCl7WVtpZSsrXT0yNjg0MzU0NTZ8UmNbenRdPDwxOHxlaFtYdF07dmFyIFZmPVJjW3p0XSYzMSxlZz1laFtYdF0mMzE7RWUrPUhzW1ZmXSt6c1tlZ10sKytxWzI1NytWZl0sKytvZVtlZ10samU9aCt6dCwrK0h9ZWxzZSBZW2llKytdPWVbaF0sKytxW2VbaF1dfX15PW5oKGUscCxzLFkscSxvZSxFZSxpZSxHZSxoLUdlLHkpLCFzJiZ5JjcmJih5PUxjKHAseSsxLERjKSl9cmV0dXJuIGFoKHUsMCxyK0VjKHkpK2kpfSxPdz1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBEdyhlLHQubGV2ZWw9PW51bGw/Njp0LmxldmVsLHQubWVtPT1udWxsP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MTIrdC5tZW0sbixyLCFpKX07X3c9dHlwZW9mIFRleHREZWNvZGVyPCJ1IiYmbmV3IFRleHREZWNvZGVyLEJ3PTA7dHJ5e193LmRlY29kZShEYyx7c3RyZWFtOiEwfSksQnc9MX1jYXRjaHt9fSk7YXN5bmMgZnVuY3Rpb24gcGgoKXtsZXQgZT1hd2FpdCBXZSgiVmVuY29yZF9jbG91ZFNlY3JldCIpPz97fSx0PU9jKCk7cmV0dXJuIGVbdF0/KGF3YWl0IF9vKCJWZW5jb3JkX2Nsb3VkU2VjcmV0IixuPT4obj8/PXt9LG5bYCR7dH06JHtkaSgpfWBdPW5bdF0sZGVsZXRlIG5bdF0sbikpLGVbdF0pOmVbYCR7dH06JHtkaSgpfWBdfWFzeW5jIGZ1bmN0aW9uIEZ3KGUpe2F3YWl0IF9vKCJWZW5jb3JkX2Nsb3VkU2VjcmV0Iix0PT4odD8/PXt9LHRbYCR7T2MoKX06JHtkaSgpfWBdPWUsdCkpfWFzeW5jIGZ1bmN0aW9uIF9jKCl7YXdhaXQgX28oIlZlbmNvcmRfY2xvdWRTZWNyZXQiLGU9PihlPz89e30sZGVsZXRlIGVbYCR7T2MoKX06JHtkaSgpfWBdLGUpKX1hc3luYyBmdW5jdGlvbiBkaCgpe2lmKGF3YWl0IHBoKCkhPT12b2lkIDApe2suY2xvdWQuYXV0aGVudGljYXRlZD0hMDtyZXR1cm59dHJ5e2xldCByPWF3YWl0IGYobmV3IFVSTCgiL3YxL29hdXRoL3NldHRpbmdzIixobygpKSk7dmFye2NsaWVudElkOmUscmVkaXJlY3RVcmk6dH09YXdhaXQgci5qc29uKCl9Y2F0Y2h7dmUoe3RpdGxlOiJDbG91ZCBJbnRlZ3JhdGlvbiIsYm9keToiU2V0dXAgZmFpbGVkIChjb3VsZG4ndCByZXRyaWV2ZSBPQXV0aCBjb25maWd1cmF0aW9uKS4ifSksay5jbG91ZC5hdXRoZW50aWNhdGVkPSExO3JldHVybn1sZXR7T0F1dGgyQXV0aG9yaXplTW9kYWw6bn09a24oIk9BdXRoMkF1dGhvcml6ZU1vZGFsIik7UGUocj0+byhuLHsuLi5yLHNjb3BlczpbImlkZW50aWZ5Il0scmVzcG9uc2VUeXBlOiJjb2RlIixyZWRpcmVjdFVyaTp0LHBlcm1pc3Npb25zOjBuLGNsaWVudElkOmUsY2FuY2VsQ29tcGxldGVzRmxvdzohMSxjYWxsYmFjazphc3luYyh7bG9jYXRpb246aX0pPT57aWYoIWkpe2suY2xvdWQuYXV0aGVudGljYXRlZD0hMTtyZXR1cm59dHJ5e2xldCBzPWF3YWl0IGYoaSx7aGVhZGVyczpuZXcgSGVhZGVycyh7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIn0pfSkse3NlY3JldDpjfT1hd2FpdCBzLmpzb24oKTtjPyhqcy5pbmZvKCJBdXRob3JpemVkIHdpdGggc2VjcmV0IiksYXdhaXQgRncoYyksdmUoe3RpdGxlOiJDbG91ZCBJbnRlZ3JhdGlvbiIsYm9keToiQ2xvdWQgaW50ZWdyYXRpb25zIGVuYWJsZWQhIn0pLGsuY2xvdWQuYXV0aGVudGljYXRlZD0hMCk6KHZlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb24iLGJvZHk6IlNldHVwIGZhaWxlZCAobm8gc2VjcmV0IHJldHVybmVkPykuIn0pLGsuY2xvdWQuYXV0aGVudGljYXRlZD0hMSl9Y2F0Y2gocyl7anMuZXJyb3IoIkZhaWxlZCB0byBhdXRob3JpemUiLHMpLHZlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb24iLGJvZHk6YFNldHVwIGZhaWxlZCAoJHtzLnRvU3RyaW5nKCl9KS5gfSksay5jbG91ZC5hdXRoZW50aWNhdGVkPSExfX19KSl9YXN5bmMgZnVuY3Rpb24gZ3IoKXtsZXQgZT1hd2FpdCBwaCgpO3JldHVybiB1bnNhZmVXaW5kb3cuYnRvYShgJHtlfToke2RpKCl9YCl9dmFyIGpzLGhvLE9jLGRpLEJjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtsbigpO21vKCk7VSgpO0YoKTt3KCk7TWUoKTtaZSgpO2pzPW5ldyBWKCJDbG91ZCIsIiMzOWI3ZTAiKSxobz0oKT0+bmV3IFVSTChrLmNsb3VkLnVybCksT2M9KCk9PmhvKCkub3JpZ2luLGRpPSgpPT57bGV0IGU9Ry5nZXRDdXJyZW50VXNlcigpPy5pZDtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVzZXIgbm90IHlldCBsb2dnZWQgaW4iKTtyZXR1cm4gZX19KTtmdW5jdGlvbiBXcyhlKXtsZXQgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoZSksdC5kb3dubG9hZD1lLm5hbWUsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0LmNsaWNrKCksc2V0SW1tZWRpYXRlKCgpPT57VVJMLnJldm9rZU9iamVjdFVSTCh0LmhyZWYpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCl9KX1mdW5jdGlvbiBxcyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e2xldCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi50eXBlPSJmaWxlIixuLnN0eWxlLmRpc3BsYXk9Im5vbmUiLG4uYWNjZXB0PWUsbi5vbmNoYW5nZT1hc3luYygpPT57dChuLmZpbGVzPy5bMF0/P251bGwpfSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG4uY2xpY2soKSxzZXRJbW1lZGlhdGUoKCk9PmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobikpfSl9dmFyIEtzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2FzeW5jIGZ1bmN0aW9uIG1oKGUpe3RyeXt2YXIgdD1KU09OLnBhcnNlKGUpfWNhdGNoKG4pe3Rocm93IGNvbnNvbGUubG9nKGUpLG5ldyBFcnJvcigiRmFpbGVkIHRvIHBhcnNlIEpTT046ICIrU3RyaW5nKG4pKX1pZigic2V0dGluZ3MiaW4gdCYmInF1aWNrQ3NzImluIHQpT2JqZWN0LmFzc2lnbihPbix0LnNldHRpbmdzKSxhd2FpdCBWZW5jb3JkTmF0aXZlLnNldHRpbmdzLnNldChKU09OLnN0cmluZ2lmeSh0LnNldHRpbmdzLG51bGwsNCkpLGF3YWl0IFZlbmNvcmROYXRpdmUucXVpY2tDc3Muc2V0KHQucXVpY2tDc3MpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIFNldHRpbmdzLiBJcyB0aGlzIGV2ZW4gYSBWZW5jb3JkIFNldHRpbmdzIGZpbGU/Iil9YXN5bmMgZnVuY3Rpb24gZmgoe21pbmlmeTplfT17fSl7bGV0IHQ9SlNPTi5wYXJzZShWZW5jb3JkTmF0aXZlLnNldHRpbmdzLmdldCgpKSxuPWF3YWl0IFZlbmNvcmROYXRpdmUucXVpY2tDc3MuZ2V0KCk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzZXR0aW5nczp0LHF1aWNrQ3NzOm59LG51bGwsZT92b2lkIDA6NCl9YXN5bmMgZnVuY3Rpb24gZ2goKXtsZXQgZT0idmVuY29yZC1zZXR0aW5ncy1iYWNrdXAuanNvbiIsdD1hd2FpdCBmaCgpLG49bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpO1dzKG5ldyBGaWxlKFtuXSxlLHt0eXBlOiJhcHBsaWNhdGlvbi9qc29uIn0pKX1hc3luYyBmdW5jdGlvbiB5aChlPSEwKXtpZighMSl7aWYodCl0cnl7fWNhdGNoKG4pe319ZWxzZXtsZXQgdD1hd2FpdCBxcygiYXBwbGljYXRpb24vanNvbiIpO2lmKCF0KXJldHVybjtsZXQgbj1uZXcgRmlsZVJlYWRlcjtuLm9ubG9hZD1hc3luYygpPT57dHJ5e2F3YWl0IG1oKG4ucmVzdWx0KSxlJiYkdygpfWNhdGNoKHIpe25ldyBWKCJTZXR0aW5nc1N5bmMiKS5lcnJvcihyKSxlJiZVdyhyKX19LG4ucmVhZEFzVGV4dCh0KX19YXN5bmMgZnVuY3Rpb24gaHIoZSl7bGV0IHQ9YXdhaXQgZmgoe21pbmlmeTohMH0pO3RyeXtsZXQgbj1hd2FpdCBmKG5ldyBVUkwoIi92MS9zZXR0aW5ncyIsaG8oKSkse21ldGhvZDoiUFVUIixoZWFkZXJzOm5ldyBIZWFkZXJzKHtBdXRob3JpemF0aW9uOmF3YWl0IGdyKCksIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9KSxib2R5OmxoKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9KTtpZighbi5vayl7Ym4uZXJyb3IoYEZhaWxlZCB0byBzeW5jIHVwLCBBUEkgcmV0dXJuZWQgJHtuLnN0YXR1c31gKSx2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgdG8gY2xvdWQgKEFQSSByZXR1cm5lZCAke24uc3RhdHVzfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSk7cmV0dXJufWxldHt3cml0dGVuOnJ9PWF3YWl0IG4uanNvbigpO09uLmNsb3VkLnNldHRpbmdzU3luY1ZlcnNpb249cixWZW5jb3JkTmF0aXZlLnNldHRpbmdzLnNldChKU09OLnN0cmluZ2lmeShPbixudWxsLDQpKSxibi5pbmZvKCJTZXR0aW5ncyB1cGxvYWRlZCB0byBjbG91ZCBzdWNjZXNzZnVsbHkiKSxlJiZ2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJTeW5jaHJvbml6ZWQgc2V0dGluZ3MgdG8gdGhlIGNsb3VkISIsbm9QZXJzaXN0OiEwfSl9Y2F0Y2gobil7Ym4uZXJyb3IoIkZhaWxlZCB0byBzeW5jIHVwIixuKSx2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgdG8gdGhlIGNsb3VkICgke24udG9TdHJpbmcoKX0pLmAsY29sb3I6InZhcigtLXJlZC0zNjApIn0pfX1hc3luYyBmdW5jdGlvbiBZcyhlPSEwLHQ9ITEpe3RyeXtsZXQgbj1hd2FpdCBmKG5ldyBVUkwoIi92MS9zZXR0aW5ncyIsaG8oKSkse21ldGhvZDoiR0VUIixoZWFkZXJzOm5ldyBIZWFkZXJzKHtBdXRob3JpemF0aW9uOmF3YWl0IGdyKCksQWNjZXB0OiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLCJJZi1Ob25lLU1hdGNoIjprLmNsb3VkLnNldHRpbmdzU3luY1ZlcnNpb24udG9TdHJpbmcoKX0pfSk7aWYobi5zdGF0dXM9PT00MDQpcmV0dXJuIGJuLmluZm8oIk5vIHNldHRpbmdzIG9uIHRoZSBjbG91ZCIpLGUmJnZlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6IlRoZXJlIGFyZSBubyBzZXR0aW5ncyBpbiB0aGUgY2xvdWQuIixub1BlcnNpc3Q6ITB9KSwhMTtpZihuLnN0YXR1cz09PTMwNClyZXR1cm4gYm4uaW5mbygiU2V0dGluZ3MgdXAgdG8gZGF0ZSIpLGUmJnZlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6IllvdXIgc2V0dGluZ3MgYXJlIHVwIHRvIGRhdGUuIixub1BlcnNpc3Q6ITB9KSwhMTtpZighbi5vaylyZXR1cm4gYm4uZXJyb3IoYEZhaWxlZCB0byBzeW5jIGRvd24sIEFQSSByZXR1cm5lZCAke24uc3RhdHVzfWApLHZlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6YENvdWxkIG5vdCBzeW5jaHJvbml6ZSBzZXR0aW5ncyBmcm9tIHRoZSBjbG91ZCAoQVBJIHJldHVybmVkICR7bi5zdGF0dXN9KS5gLGNvbG9yOiJ2YXIoLS1yZWQtMzYwKSJ9KSwhMTtsZXQgcj1OdW1iZXIobi5oZWFkZXJzLmdldCgiZXRhZyIpKSxpPWsuY2xvdWQuc2V0dGluZ3NTeW5jVmVyc2lvbjtpZighdCYmcjxpKXtlJiZ2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJZb3VyIGxvY2FsIHNldHRpbmdzIGFyZSBuZXdlciB0aGFuIHRoZSBjbG91ZCBvbmVzLiIsbm9QZXJzaXN0OiEwfSk7cmV0dXJufWxldCBzPWF3YWl0IG4uYXJyYXlCdWZmZXIoKSxjPW5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShjaChuZXcgVWludDhBcnJheShzKSkpO3JldHVybiBhd2FpdCBtaChjKSxPbi5jbG91ZC5zZXR0aW5nc1N5bmNWZXJzaW9uPXIsVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5zZXQoSlNPTi5zdHJpbmdpZnkoT24sbnVsbCw0KSksYm4uaW5mbygiU2V0dGluZ3MgbG9hZGVkIGZyb20gY2xvdWQgc3VjY2Vzc2Z1bGx5IiksZSYmdmUoe3RpdGxlOiJDbG91ZCBTZXR0aW5ncyIsYm9keToiWW91ciBzZXR0aW5ncyBoYXZlIGJlZW4gdXBkYXRlZCEgQ2xpY2sgaGVyZSB0byByZXN0YXJ0IHRvIGZ1bGx5IGFwcGx5IGNoYW5nZXMhIixjb2xvcjoidmFyKC0tZ3JlZW4tMzYwKSIsb25DbGljazooKT0+dW5zYWZlV2luZG93LkRpc2NvcmROYXRpdmUuYXBwLnJlbGF1bmNoKCksbm9QZXJzaXN0OiEwfSksITB9Y2F0Y2gobil7cmV0dXJuIGJuLmVycm9yKCJGYWlsZWQgdG8gc3luYyBkb3duIixuKSx2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgZnJvbSB0aGUgY2xvdWQgKCR7bi50b1N0cmluZygpfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSksITF9fWFzeW5jIGZ1bmN0aW9uIHZoKCl7dHJ5e2xldCBlPWF3YWl0IGYobmV3IFVSTCgiL3YxL3NldHRpbmdzIixobygpKSx7bWV0aG9kOiJERUxFVEUiLGhlYWRlcnM6bmV3IEhlYWRlcnMoe0F1dGhvcml6YXRpb246YXdhaXQgZ3IoKX0pfSk7aWYoIWUub2spe2JuLmVycm9yKGBGYWlsZWQgdG8gZGVsZXRlLCBBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c31gKSx2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3QgZGVsZXRlIHNldHRpbmdzIChBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c30pLmAsY29sb3I6InZhcigtLXJlZC0zNjApIn0pO3JldHVybn1ibi5pbmZvKCJTZXR0aW5ncyBkZWxldGVkIGZyb20gY2xvdWQgc3VjY2Vzc2Z1bGx5IiksdmUoe3RpdGxlOiJDbG91ZCBTZXR0aW5ncyIsYm9keToiU2V0dGluZ3MgZGVsZXRlZCBmcm9tIGNsb3VkISIsY29sb3I6InZhcigtLWdyZWVuLTM2MCkifSl9Y2F0Y2goZSl7Ym4uZXJyb3IoIkZhaWxlZCB0byBkZWxldGUiLGUpLHZlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6YENvdWxkIG5vdCBkZWxldGUgc2V0dGluZ3MgKCR7ZS50b1N0cmluZygpfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSl9fXZhciBoaCwkdyxVdyxibixtaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bW8oKTtVKCk7dygpO3VoKCk7QmMoKTtNZSgpO0tzKCk7aGg9KGUsdCk9Plouc2hvdyh7dHlwZTplLG1lc3NhZ2U6dCxpZDpaLmdlbklkKCl9KSwkdz0oKT0+aGgoWi5UeXBlLlNVQ0NFU1MsIlNldHRpbmdzIHN1Y2Nlc3NmdWxseSBpbXBvcnRlZC4gUmVzdGFydCB0byBhcHBseSBjaGFuZ2VzISIpLFV3PWU9PmhoKFouVHlwZS5GQUlMVVJFLGBGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzOiAke1N0cmluZyhlKX1gKTtibj1uZXcgVigiQ2xvdWQ6U2V0dGluZ3MiLCIjMzliN2UwIil9KTt2YXIgJGM9e307U2UoJGMse1BsYWluU2V0dGluZ3M6KCk9Pk9uLFNldHRpbmdzOigpPT5rLGFkZFNldHRpbmdzTGlzdGVuZXI6KCk9PmZpLGRlZmluZVBsdWdpblNldHRpbmdzOigpPT5FLG1pZ3JhdGVQbHVnaW5TZXR0aW5nczooKT0+SHcsdXNlU2V0dGluZ3M6KCk9PnB0fSk7ZnVuY3Rpb24gRmMoZSx0PWUsbj0iIil7cmV0dXJuIGJoW25dPz89bmV3IFByb3h5KGUse2dldChyLGkpe2xldCBzPXJbaV07aWYoIShpIGluIHIpKXtpZihuPT09InBsdWdpbnMiJiZpIGluIEllKXJldHVybiByW2ldPUZjKHtlbmFibGVkOkllW2ldLnJlcXVpcmVkPz9JZVtpXS5lbmFibGVkQnlEZWZhdWx0Pz8hMX0sdCxgcGx1Z2lucy4ke2l9YCk7aWYobi5zdGFydHNXaXRoKCJwbHVnaW5zLiIpKXtsZXQgYz1uLnNsaWNlKDgpO2lmKGMgaW4gSWUpe2xldCB1PUllW2NdLm9wdGlvbnM/LltpXTtpZighdSlyZXR1cm4gcztpZigiZGVmYXVsdCJpbiB1KXJldHVybiByW2ldPXUuZGVmYXVsdDtpZih1LnR5cGU9PT00KXtsZXQgcD11Lm9wdGlvbnMuZmluZCh5PT55LmRlZmF1bHQpO3JldHVybiBwJiYocltpXT1wLnZhbHVlKSxwPy52YWx1ZX19fXJldHVybiBzfXJldHVybiB0eXBlb2Ygcz09Im9iamVjdCImJiFBcnJheS5pc0FycmF5KHMpJiZzIT09bnVsbD9GYyhzLHQsYCR7bn0ke24mJiIuIn0ke2l9YCk6c30sc2V0KHIsaSxzKXtpZihyW2ldPT09cylyZXR1cm4hMDtyW2ldPXM7bGV0IGM9YCR7bn0ke24mJiIuIn0ke2l9YDtkZWxldGUgYmhbY107Zm9yKGxldCB1IG9mIFpzKSghdS5fcGF0aHN8fHUuX3BhdGhzLmluY2x1ZGVzKGMpKSYmdShzLGMpO3JldHVybiBPbi5jbG91ZC5zZXR0aW5nc1N5bmNWZXJzaW9uPURhdGUubm93KCksSG8uVmVuY29yZF9zZXR0aW5nc0RpcnR5PSEwLEd3KCksVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5zZXQoSlNPTi5zdHJpbmdpZnkodCxudWxsLDQpKSwhMH19KX1mdW5jdGlvbiBwdChlKXtsZXRbLHRdPUwudXNlUmVkdWNlcigoKT0+KHt9KSx7fSksbj1lPyhyLGkpPT5lLmluY2x1ZGVzKGkpJiZ0KCk6dDtyZXR1cm4gTC51c2VFZmZlY3QoKCk9Pihacy5hZGQobiksKCk9PnZvaWQgWnMuZGVsZXRlKG4pKSxbXSksa31mdW5jdGlvbiBmaShlLHQpeyh0Ll9wYXRocz8/PVtdKS5wdXNoKGUpLFpzLmFkZCh0KX1mdW5jdGlvbiBIdyhlLC4uLnQpe2xldHtwbHVnaW5zOm59PXlvO2lmKCEoZSBpbiBuKSl7Zm9yKGxldCByIG9mIHQpaWYociBpbiBuKXtUaC5pbmZvKGBNaWdyYXRpbmcgc2V0dGluZ3MgZnJvbSBvbGQgbmFtZSAke3J9IHRvICR7ZX1gKSxuW2VdPW5bcl0sZGVsZXRlIG5bcl0sVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5zZXQoSlNPTi5zdHJpbmdpZnkoeW8sbnVsbCw0KSk7YnJlYWt9fX1mdW5jdGlvbiBFKGUsdCl7bGV0IG49e2dldCBzdG9yZSgpe2lmKCFuLnBsdWdpbk5hbWUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWNjZXNzIHNldHRpbmdzIGJlZm9yZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWQiKTtyZXR1cm4gay5wbHVnaW5zW24ucGx1Z2luTmFtZV19LHVzZTpyPT5wdChyPy5tYXAoaT0+YHBsdWdpbnMuJHtuLnBsdWdpbk5hbWV9LiR7aX1gKSkucGx1Z2luc1tuLnBsdWdpbk5hbWVdLGRlZjplLGNoZWNrczp0Pz97fSxwbHVnaW5OYW1lOiIiLHdpdGhQcml2YXRlU2V0dGluZ3MoKXtyZXR1cm4gdGhpc319O3JldHVybiBufXZhciBUaCxTaCx5byxHdyxacyxiaCxPbixrLFU9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2FyKCk7a3MoKTtNZSgpO2dlKCk7bWkoKTtNKCk7dygpO3lyKCk7VGg9bmV3IFYoIlNldHRpbmdzIiksU2g9e25vdGlmeUFib3V0VXBkYXRlczohMCxhdXRvVXBkYXRlOiExLGF1dG9VcGRhdGVOb3RpZmljYXRpb246ITAsdXNlUXVpY2tDc3M6ITAsdGhlbWVMaW5rczpbXSxlbmFibGVkVGhlbWVzOltdLGVuYWJsZVJlYWN0RGV2dG9vbHM6ITEsZnJhbWVsZXNzOiExLHRyYW5zcGFyZW50OiExLHdpbkN0cmxROiExLG1hY29zVHJhbnNsdWNlbmN5OiExLGRpc2FibGVNaW5TaXplOiExLHdpbk5hdGl2ZVRpdGxlQmFyOiExLHBsdWdpbnM6e30sbm90aWZpY2F0aW9uczp7dGltZW91dDo1ZTMscG9zaXRpb246ImJvdHRvbS1yaWdodCIsdXNlTmF0aXZlOiJub3QtZm9jdXNlZCIsbG9nTGltaXQ6NTB9LGNsb3VkOnthdXRoZW50aWNhdGVkOiExLHVybDoiaHR0cHM6Ly9hcGkudmVuY29yZC5kZXYvIixzZXR0aW5nc1N5bmM6ITEsc2V0dGluZ3NTeW5jVmVyc2lvbjowfX07dHJ5e3lvPUpTT04ucGFyc2UoVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5nZXQoKSksQm8oeW8sU2gpfWNhdGNoKGUpe3lvPUJvKHt9LFNoKSxUaC5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9hZGluZyB0aGUgc2V0dGluZ3MuIENvcnJ1cHQgc2V0dGluZ3MgZmlsZT8KYCxlKX1Hdz1GdChhc3luYygpPT57ay5jbG91ZC5zZXR0aW5nc1N5bmMmJmsuY2xvdWQuYXV0aGVudGljYXRlZCYmKGF3YWl0IGhyKCksZGVsZXRlIEhvLlZlbmNvcmRfc2V0dGluZ3NEaXJ0eSl9LDZlNCksWnM9bmV3IFNldCxiaD17fTtPbj15byxrPUZjKHlvKX0pO2Z1bmN0aW9uIFhzKCl7dW5zYWZlV2luZG93LlZlbmNvcmREZXNrdG9wTmF0aXZlLmFwcC5yZWxhdW5jaCgpfXZhciB2cj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTt2YXIgeGg9ZygoKT0+e30pO3ZhciB3aD1nKCgpPT57fSk7dmFyIEdjPXt9O1NlKEdjLHtVcGRhdGVMb2dnZXI6KCk9Pk1oLGNoYW5nZXM6KCk9PkpzLGNoZWNrRm9yVXBkYXRlczooKT0+SWgsZ2V0UmVwbzooKT0+encsaXNOZXdlcjooKT0+VWMsaXNPdXRkYXRlZDooKT0+dm8sbWF5YmVQcm9tcHRUb1VwZGF0ZTooKT0+Z2ksdXBkYXRlOigpPT5DaCx1cGRhdGVFcnJvcjooKT0+UGh9KTthc3luYyBmdW5jdGlvbiBRcyhlKXtsZXQgdD1hd2FpdCBlO2lmKHQub2spcmV0dXJuIHQudmFsdWU7dGhyb3cgUGg9dC5lcnJvcix0LmVycm9yfWFzeW5jIGZ1bmN0aW9uIEloKCl7cmV0dXJuIEpzPWF3YWl0IFFzKFZlbmNvcmROYXRpdmUudXBkYXRlci5nZXRVcGRhdGVzKCkpLEpzLnNvbWUoZT0+ZS5oYXNoPT09Y24pPyhVYz0hMCx2bz0hMSk6dm89SnMubGVuZ3RoPjB9YXN5bmMgZnVuY3Rpb24gQ2goKXtpZighdm8pcmV0dXJuITA7bGV0IGU9YXdhaXQgUXMoVmVuY29yZE5hdGl2ZS51cGRhdGVyLnVwZGF0ZSgpKTtpZihlJiYodm89ITEsIWF3YWl0IFFzKFZlbmNvcmROYXRpdmUudXBkYXRlci5yZWJ1aWxkKCkpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBCdWlsZCBmYWlsZWQuIFBsZWFzZSB0cnkgbWFudWFsbHkgYnVpbGRpbmcgdGhlIG5ldyB1cGRhdGUiKTtyZXR1cm4gZX1hc3luYyBmdW5jdGlvbiBnaShlLHQ9ITEpe3JldHVybjt0cnl7aWYoYXdhaXQgSWgoKSl7bGV0IHI9Y29uZmlybShlKTtpZihyJiZVYylyZXR1cm4gYWxlcnQoIllvdXIgbG9jYWwgY29weSBoYXMgbW9yZSByZWNlbnQgY29tbWl0cy4gUGxlYXNlIHN0YXNoIG9yIHJlc2V0IHRoZW0uIik7ciYmKGF3YWl0IENoKCksWHMoKSl9fWNhdGNoKG4pe01oLmVycm9yKG4pLGFsZXJ0KCJUaGF0IGFsc28gZmFpbGVkIDooIFRyeSB1cGRhdGluZyBvciByZS1pbnN0YWxsaW5nIHdpdGggdGhlIGluc3RhbGxlciEiKX19dmFyIE1oLHZvLFVjLFBoLEpzLHp3LFNyPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt6cigpO01lKCk7dnIoKTtNaD1uZXcgVigiVXBkYXRlciIsIndoaXRlIiksdm89ITEsVWM9ITE7enc9KCk9PlFzKFZlbmNvcmROYXRpdmUudXBkYXRlci5nZXRSZXBvKCkpfSk7ZnVuY3Rpb24gTmgoKXtnaSgiVWggT2ghIEZhaWxlZCB0byByZW5kZXIgdGhpcyBQYWdlLiBIb3dldmVyLCB0aGVyZSBpcyBhbiB1cGRhdGUgYXZhaWxhYmxlIHRoYXQgbWlnaHQgZml4IGl0LiBXb3VsZCB5b3UgbGlrZSB0byB1cGRhdGUgYW5kIHJlc3RhcnQgbm93PyIpfXZhciBSaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3IoKX0pO2Z1bmN0aW9uIF9uKHt0aXRsZTplLGNoaWxkcmVuOnR9KXtyZXR1cm4gbyhULkZvcm1TZWN0aW9uLG51bGwsbyhlZSx7dmFyaWFudDoiaGVhZGluZy1sZy9zZW1pYm9sZCIsdGFnOiJoMiIsY2xhc3NOYW1lOnouYm90dG9tMTZ9LGUpLHQpfWZ1bmN0aW9uIEJuKGUsdCl7cmV0dXJuIEQud3JhcChlLHttZXNzYWdlOmBGYWlsZWQgdG8gcmVuZGVyIHRoZSAke3R9IHRhYi4gSWYgdGhpcyBpc3N1ZSBwZXJzaXN0cywgdHJ5IHVzaW5nIHRoZSBpbnN0YWxsZXIgdG8gcmVpbnN0YWxsIWAsb25FcnJvcjpqd30pfXZhciBqdyxqbz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7eGgoKTt3aCgpO3NlKCk7UmgoKTtudCgpO1lsKCk7dygpO2p3PUtsKE5oKX0pO3ZhciBMaD17fTtTZShMaCx7ZGVmYXVsdDooKT0+Wnd9KTtmdW5jdGlvbiBxdygpe2xldFtlLCx0XT1ZZShWZW5jb3JkTmF0aXZlLnNldHRpbmdzLmdldFNldHRpbmdzRGlyLHtmYWxsYmFja1ZhbHVlOiJMb2FkaW5nLi4uIn0pLG49cHQoKSxyPUwudXNlTWVtbygoKT0+TWF0aC5yYW5kb20oKT4uNT9BaDpXdyxbXSksaT1uYXZpZ2F0b3IucGxhdGZvcm0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJ3aW4iKSxzPW5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoIm1hYyIpLGM9W3trZXk6InVzZVF1aWNrQ3NzIix0aXRsZToiRW5hYmxlIEN1c3RvbSBDU1MiLG5vdGU6IkxvYWRzIHlvdXIgQ3VzdG9tIENTUyJ9LCExLCExLCExLCExLCExLCExXTtyZXR1cm4gbyhfbix7dGl0bGU6IlZlbmNvcmQgU2V0dGluZ3MifSxvKFl3LHtpbWFnZTpyfSksbyhULkZvcm1TZWN0aW9uLHt0aXRsZToiUXVpY2sgQWN0aW9ucyJ9LG8oaHQse2NsYXNzTmFtZTpraCgicXVpY2stYWN0aW9ucy1jYXJkIil9LG8oTC5GcmFnbWVudCxudWxsLCExLG8oUix7b25DbGljazooKT0+VmVuY29yZE5hdGl2ZS5xdWlja0Nzcy5vcGVuRWRpdG9yKCksc2l6ZTpSLlNpemVzLlNNQUxMLGRpc2FibGVkOmU9PT0iTG9hZGluZy4uLiJ9LCJPcGVuIFF1aWNrQ1NTIEZpbGUiKSwhMSxvKFIse29uQ2xpY2s6KCk9PlZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9naXRodWIuY29tL1ZlbmRpY2F0ZWQvVmVuY29yZCIpLHNpemU6Ui5TaXplcy5TTUFMTCxkaXNhYmxlZDp0fSwiT3BlbiBpbiBHaXRIdWIiKSkpKSxvKFQuRm9ybURpdmlkZXIsbnVsbCksbyhULkZvcm1TZWN0aW9uLHtjbGFzc05hbWU6ei50b3AxNix0aXRsZToiU2V0dGluZ3MiLHRhZzoiaDUifSxvKFQuRm9ybVRleHQse2NsYXNzTmFtZTp6LmJvdHRvbTIwfSwnSGludDogWW91IGNhbiBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoaXMgc2V0dGluZ3Mgc2VjdGlvbiBpbiB0aGUgc2V0dGluZ3Mgb2YgdGhlICJTZXR0aW5ncyIgcGx1Z2luIScpLGMubWFwKHU9PnUmJm8oeXQse2tleTp1LmtleSx2YWx1ZTpuW3Uua2V5XSxvbkNoYW5nZTpwPT5uW3Uua2V5XT1wLG5vdGU6dS5ub3RlfSx1LnRpdGxlKSkpLHR5cGVvZiBOb3RpZmljYXRpb248InUiJiZvKEt3LHtzZXR0aW5nczpuLm5vdGlmaWNhdGlvbnN9KSl9ZnVuY3Rpb24gS3coe3NldHRpbmdzOmV9KXtyZXR1cm4gbyhkLG51bGwsbyhULkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJOb3RpZmljYXRpb24gU3R5bGUiKSxlLnVzZU5hdGl2ZSE9PSJuZXZlciImJk5vdGlmaWNhdGlvbj8ucGVybWlzc2lvbj09PSJkZW5pZWQiJiZvKFhuLHtzdHlsZTp7cGFkZGluZzoiMWVtIn0sY2xhc3NOYW1lOnouYm90dG9tOH0sbyhULkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJEZXNrdG9wIE5vdGlmaWNhdGlvbiBQZXJtaXNzaW9uIGRlbmllZCIpLG8oVC5Gb3JtVGV4dCxudWxsLCJZb3UgaGF2ZSBkZW5pZWQgTm90aWZpY2F0aW9uIFBlcm1pc3Npb25zLiBUaHVzLCBEZXNrdG9wIG5vdGlmaWNhdGlvbnMgd2lsbCBub3Qgd29yayEiKSksbyhULkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b204fSwiU29tZSBwbHVnaW5zIG1heSBzaG93IHlvdSBub3RpZmljYXRpb25zLiBUaGVzZSBjb21lIGluIHR3byBzdHlsZXM6IixvKCJ1bCIsbnVsbCxvKCJsaSIsbnVsbCxvKCJzdHJvbmciLG51bGwsIlZlbmNvcmQgTm90aWZpY2F0aW9ucyIpLCI6IFRoZXNlIGFyZSBpbi1hcHAgbm90aWZpY2F0aW9ucyIpLG8oImxpIixudWxsLG8oInN0cm9uZyIsbnVsbCwiRGVza3RvcCBOb3RpZmljYXRpb25zIiksIjogTmF0aXZlIERlc2t0b3Agbm90aWZpY2F0aW9ucyAobGlrZSB3aGVuIHlvdSBnZXQgYSBwaW5nKSIpKSksbyhkbix7cGxhY2Vob2xkZXI6Ik5vdGlmaWNhdGlvbiBTdHlsZSIsb3B0aW9uczpbe2xhYmVsOiJPbmx5IHVzZSBEZXNrdG9wIG5vdGlmaWNhdGlvbnMgd2hlbiBEaXNjb3JkIGlzIG5vdCBmb2N1c2VkIix2YWx1ZToibm90LWZvY3VzZWQiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQWx3YXlzIHVzZSBEZXNrdG9wIG5vdGlmaWNhdGlvbnMiLHZhbHVlOiJhbHdheXMifSx7bGFiZWw6IkFsd2F5cyB1c2UgVmVuY29yZCBub3RpZmljYXRpb25zIix2YWx1ZToibmV2ZXIifV0sY2xvc2VPblNlbGVjdDohMCxzZWxlY3Q6dD0+ZS51c2VOYXRpdmU9dCxpc1NlbGVjdGVkOnQ9PnQ9PT1lLnVzZU5hdGl2ZSxzZXJpYWxpemU6aHN9KSxvKFQuRm9ybVRpdGxlLHt0YWc6Img1IixjbGFzc05hbWU6ei50b3AxNisiICIrei5ib3R0b204fSwiTm90aWZpY2F0aW9uIFBvc2l0aW9uIiksbyhkbix7aXNEaXNhYmxlZDplLnVzZU5hdGl2ZT09PSJhbHdheXMiLHBsYWNlaG9sZGVyOiJOb3RpZmljYXRpb24gUG9zaXRpb24iLG9wdGlvbnM6W3tsYWJlbDoiQm90dG9tIFJpZ2h0Iix2YWx1ZToiYm90dG9tLXJpZ2h0IixkZWZhdWx0OiEwfSx7bGFiZWw6IlRvcCBSaWdodCIsdmFsdWU6InRvcC1yaWdodCJ9XSxzZWxlY3Q6dD0+ZS5wb3NpdGlvbj10LGlzU2VsZWN0ZWQ6dD0+dD09PWUucG9zaXRpb24sc2VyaWFsaXplOmhzfSksbyhULkZvcm1UaXRsZSx7dGFnOiJoNSIsY2xhc3NOYW1lOnoudG9wMTYrIiAiK3ouYm90dG9tOH0sIk5vdGlmaWNhdGlvbiBUaW1lb3V0IiksbyhULkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b20xNn0sIlNldCB0byAwcyB0byBuZXZlciBhdXRvbWF0aWNhbGx5IHRpbWUgb3V0IiksbyhGbyx7ZGlzYWJsZWQ6ZS51c2VOYXRpdmU9PT0iYWx3YXlzIixtYXJrZXJzOlswLDFlMywyNTAwLDVlMywxZTQsMmU0XSxtaW5WYWx1ZTowLG1heFZhbHVlOjJlNCxpbml0aWFsVmFsdWU6ZS50aW1lb3V0LG9uVmFsdWVDaGFuZ2U6dD0+ZS50aW1lb3V0PXQsb25WYWx1ZVJlbmRlcjp0PT4odC8xZTMpLnRvRml4ZWQoMikrInMiLG9uTWFya2VyUmVuZGVyOnQ9PnQvMWUzKyJzIixzdGlja1RvTWFya2VyczohMX0pLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUiLGNsYXNzTmFtZTp6LnRvcDE2KyIgIit6LmJvdHRvbTh9LCJOb3RpZmljYXRpb24gTG9nIExpbWl0IiksbyhULkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b20xNn0sIlRoZSBhbW91bnQgb2Ygbm90aWZpY2F0aW9ucyB0byBzYXZlIGluIHRoZSBsb2cgdW50aWwgb2xkIG9uZXMgYXJlIHJlbW92ZWQuIFNldCB0byAiLG8oImNvZGUiLG51bGwsIjAiKSwiIHRvIGRpc2FibGUgTm90aWZpY2F0aW9uIGxvZyBhbmQgIixvKCJjb2RlIixudWxsLCJcdTIyMUUiKSwiIHRvIG5ldmVyIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIG9sZCBOb3RpZmljYXRpb25zIiksbyhGbyx7bWFya2VyczpbMCwyNSw1MCw3NSwxMDAsMjAwXSxtaW5WYWx1ZTowLG1heFZhbHVlOjIwMCxzdGlja1RvTWFya2VyczohMCxpbml0aWFsVmFsdWU6ZS5sb2dMaW1pdCxvblZhbHVlQ2hhbmdlOnQ9PmUubG9nTGltaXQ9dCxvblZhbHVlUmVuZGVyOnQ9PnQ9PT0yMDA/Ilx1MjIxRSI6dCxvbk1hcmtlclJlbmRlcjp0PT50PT09MjAwPyJcdTIyMUUiOnR9KSxvKFIse29uQ2xpY2s6JHMsZGlzYWJsZWQ6ZS5sb2dMaW1pdD09PTB9LCJPcGVuIE5vdGlmaWNhdGlvbiBMb2ciKSl9ZnVuY3Rpb24gWXcoe2ltYWdlOmV9KXtyZXR1cm4gbyhodCx7Y2xhc3NOYW1lOmtoKCJjYXJkIiwiZG9uYXRlIil9LG8oImRpdiIsbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6Img1In0sIlN1cHBvcnQgdGhlIFByb2plY3QiKSxvKFQuRm9ybVRleHQsbnVsbCwiUGxlYXNlIGNvbnNpZGVyIHN1cHBvcnRpbmcgdGhlIGRldmVsb3BtZW50IG9mIFZlbmNvcmQgYnkgZG9uYXRpbmchIiksbyhpaSx7c3R5bGU6e3RyYW5zZm9ybToidHJhbnNsYXRlWCgtMWVtKSJ9fSkpLG8oImltZyIse3JvbGU6InByZXNlbnRhdGlvbiIsc3JjOmUsYWx0OiIiLGhlaWdodDoxMjgsc3R5bGU6e21hcmdpbkxlZnQ6ImF1dG8iLHRyYW5zZm9ybTplPT09QWg/InJvdGF0ZSgxMGRlZykiOiIifX0pKX12YXIga2gsQWgsV3csWncsRWg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1VzKCk7VSgpO09lKCk7b2MoKTtyaSgpO250KCk7Z2UoKTt2cigpO2hlKCk7dygpO2pvKCk7a2g9YmUoInZjLXNldHRpbmdzLSIpLEFoPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTAyNjUzMzA5MDYyNzE3NDQ2MC5wbmciLFd3PSJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L3N0aWNrZXJzLzEwMzk5OTI0NTkyMDk0OTA1MTMucG5nIjtadz1CbihxdywiVmVuY29yZCBTZXR0aW5ncyIpfSk7dmFyIERoPWcoKCk9Pnt9KTt2YXIgV2M9e307U2UoV2Mse2N1cnJlbnROb3RpY2U6KCk9PmhpLG5leHROb3RpY2U6KCk9Pk9oLG5vdGljZXNRdWV1ZTooKT0+emMscG9wTm90aWNlOigpPT5qYyxzaG93Tm90aWNlOigpPT55aX0pO2Z1bmN0aW9uIGpjKCl7SGMuZGlzbWlzcygpfWZ1bmN0aW9uIE9oKCl7aGk9emMuc2hpZnQoKSxoaSYmSGMuc2hvdyguLi5oaSwiVmVuY29yZE5vdGljZSIpfWZ1bmN0aW9uIHlpKGUsdCxuKXt6Yy5wdXNoKFsiR0VORVJJQyIsZSx0LG5dKSxoaXx8T2goKX12YXIgSGMsemMsaGksVnM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt0dChlPT5lLnNob3cmJmUuZGlzbWlzcyYmIWUuc3VwcHJlc3NBbGwsZT0+SGM9ZSk7emM9W10saGk9bnVsbH0pO2Z1bmN0aW9uIHFjKCl7cmV0dXJuYC0ke3VvLmZyb21UaW1lc3RhbXAoRGF0ZS5ub3coKSl9YH1mdW5jdGlvbiBhZShlLHQpe2xldCBuPVh3KHtjaGFubmVsSWQ6ZSxjb250ZW50OiIiLGVtYmVkczpbXX0pO3JldHVybiBKdy5yZWNlaXZlTWVzc2FnZShlLEJvKHQsbikpLHR9ZnVuY3Rpb24gWGUoZSx0LG4pe3JldHVybiBlLmZpbmQocj0+ci5uYW1lPT09dCk/LnZhbHVlfHxufXZhciBYdyxKdyxLYz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Z2UoKTtGKCk7dygpO1h3PXBlKCd1c2VybmFtZToiQ2x5ZGUiJyksSnc9QygicmVjZWl2ZU1lc3NhZ2UiKX0pO3ZhciBTbyxUbixZYyxlYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U289KFM9PihTW1MuU1VCX0NPTU1BTkQ9MV09IlNVQl9DT01NQU5EIixTW1MuU1VCX0NPTU1BTkRfR1JPVVA9Ml09IlNVQl9DT01NQU5EX0dST1VQIixTW1MuU1RSSU5HPTNdPSJTVFJJTkciLFNbUy5JTlRFR0VSPTRdPSJJTlRFR0VSIixTW1MuQk9PTEVBTj01XT0iQk9PTEVBTiIsU1tTLlVTRVI9Nl09IlVTRVIiLFNbUy5DSEFOTkVMPTddPSJDSEFOTkVMIixTW1MuUk9MRT04XT0iUk9MRSIsU1tTLk1FTlRJT05BQkxFPTldPSJNRU5USU9OQUJMRSIsU1tTLk5VTUJFUj0xMF09Ik5VTUJFUiIsU1tTLkFUVEFDSE1FTlQ9MTFdPSJBVFRBQ0hNRU5UIixTKSkoU298fHt9KSxUbj0ocz0+KHNbcy5CVUlMVF9JTj0wXT0iQlVJTFRfSU4iLHNbcy5CVUlMVF9JTl9URVhUPTFdPSJCVUlMVF9JTl9URVhUIixzW3MuQlVJTFRfSU5fSU5URUdSQVRJT049Ml09IkJVSUxUX0lOX0lOVEVHUkFUSU9OIixzW3MuQk9UPTNdPSJCT1QiLHNbcy5QTEFDRUhPTERFUj00XT0iUExBQ0VIT0xERVIiLHMpKShUbnx8e30pLFljPShyPT4ocltyLkNIQVRfSU5QVVQ9MV09IkNIQVRfSU5QVVQiLHJbci5VU0VSPTJdPSJVU0VSIixyW3IuTUVTU0FHRT0zXT0iTUVTU0FHRSIscikpKFljfHx7fSl9KTt2YXIgSmM9e307U2UoSmMse0FwcGxpY2F0aW9uQ29tbWFuZElucHV0VHlwZTooKT0+VG4sQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZTooKT0+U28sQXBwbGljYXRpb25Db21tYW5kVHlwZTooKT0+WWMsQlVJTFRfSU46KCk9PmJvLE9wdGlvbmFsTWVzc2FnZU9wdGlvbjooKT0+VG8sUmVxdWlyZWRNZXNzYWdlT3B0aW9uOigpPT52aSxfaGFuZGxlQ29tbWFuZDooKT0+VncsX2luaXQ6KCk9PlF3LGNvbW1hbmRzOigpPT5aYyxmaW5kT3B0aW9uOigpPT5YZSxnZW5lcmF0ZUlkOigpPT5xYyxwcmVwYXJlT3B0aW9uOigpPT5YYyxyZWdpc3RlckNvbW1hbmQ6KCk9PmJyLHNlbmRCb3RNZXNzYWdlOigpPT5hZSx1bnJlZ2lzdGVyQ29tbWFuZDooKT0+U2l9KTtmdW5jdGlvbiBYYyhlKXtyZXR1cm4gZS5kaXNwbGF5TmFtZXx8PWUubmFtZSxlLmRpc3BsYXlEZXNjcmlwdGlvbnx8PWUuZGVzY3JpcHRpb24sZS5vcHRpb25zPy5mb3JFYWNoKCh0LG4scik9Pnt0PT09X2g/cltuXT1Ubzp0PT09QmgmJihyW25dPXZpKSx0LmNob2ljZXM/LmZvckVhY2goaT0+aS5kaXNwbGF5TmFtZXx8PWkubmFtZSksWGMocltuXSl9KSxlfWZ1bmN0aW9uIGUyKGUsdCl7ZS5vcHRpb25zPy5mb3JFYWNoKG49PntpZihuLnR5cGUhPT0xKXRocm93IG5ldyBFcnJvcigiV2hlbiBzcGVjaWZ5aW5nIHN1Yi1jb21tYW5kIG9wdGlvbnMsIGFsbCBvcHRpb25zIG11c3QgYmUgc3ViLWNvbW1hbmRzLiIpO2xldCByPXsuLi5lLC4uLm4sdHlwZToxLG5hbWU6YCR7ZS5uYW1lfSAke24ubmFtZX1gLGlkOmAke24ubmFtZX0tJHtlLmlkfWAsZGlzcGxheU5hbWU6YCR7ZS5uYW1lfSAke24ubmFtZX1gLHN1YkNvbW1hbmRQYXRoOlt7bmFtZTpuLm5hbWUsdHlwZTpuLnR5cGUsZGlzcGxheU5hbWU6bi5uYW1lfV0scm9vdENvbW1hbmQ6ZX07YnIocix0KX0pfWZ1bmN0aW9uIGJyKGUsdCl7aWYoIWJvKXtjb25zb2xlLndhcm4oIltDb21tYW5kc0FQSV0iLGBOb3QgcmVnaXN0ZXJpbmcgJHtlLm5hbWV9IGFzIHRoZSBDb21tYW5kc0FQSSBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZC5gLCJQbGVhc2UgcmVzdGFydCB0byB1c2UgY29tbWFuZHMiKTtyZXR1cm59aWYoYm8uc29tZShuPT5uLm5hbWU9PT1lLm5hbWUpKXRocm93IG5ldyBFcnJvcihgQ29tbWFuZCAnJHtlLm5hbWV9JyBhbHJlYWR5IGV4aXN0cy5gKTtpZihlLmlzVmVuY29yZENvbW1hbmQ9ITAsZS5pZD8/PWAtJHtiby5sZW5ndGgrMX1gLGUuYXBwbGljYXRpb25JZD8/PSItMSIsZS50eXBlPz89MSxlLmlucHV0VHlwZT8/PTEsZS5wbHVnaW58fD10LFhjKGUpLGUub3B0aW9ucz8uWzBdPy50eXBlPT09MSl7ZTIoZSx0KTtyZXR1cm59WmNbZS5uYW1lXT1lLGJvLnB1c2goZSl9ZnVuY3Rpb24gU2koZSl7bGV0IHQ9Ym8uZmluZEluZGV4KG49Pm4ubmFtZT09PWUpO3JldHVybiB0PT09LTE/ITE6KGJvLnNwbGljZSh0LDEpLGRlbGV0ZSBaY1tlXSwhMCl9dmFyIGJvLFpjLF9oLEJoLFRvLHZpLFF3LFZ3LFl0PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtabigpO0tjKCk7ZWEoKTtLYygpO2VhKCk7WmM9e30sX2g9U3ltYm9sKCJPcHRpb25hbE1lc3NhZ2VPcHRpb24iKSxCaD1TeW1ib2woIlJlcXVpcmVkTWVzc2FnZU9wdGlvbiIpLFRvPV9oLHZpPUJoLFF3PWZ1bmN0aW9uKGUpe3RyeXtibz1lLFRvPWUuZmluZCh0PT50Lm5hbWU9PT0ic2hydWciKS5vcHRpb25zWzBdLHZpPWUuZmluZCh0PT50Lm5hbWU9PT0ibWUiKS5vcHRpb25zWzBdfWNhdGNoe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBsb2FkIENvbW1hbmRzQXBpIil9cmV0dXJuIGV9LFZ3PWZ1bmN0aW9uKGUsdCxuKXtpZighZS5pc1ZlbmNvcmRDb21tYW5kKXJldHVybiBlLmV4ZWN1dGUodCxuKTtsZXQgcj1pPT57bGV0IHM9YEFuIEVycm9yIG9jY3VycmVkIHdoaWxlIGV4ZWN1dGluZyBjb21tYW5kICIke2UubmFtZX0iYCxjPWkgaW5zdGFuY2VvZiBFcnJvcj9pLnN0YWNrfHxpLm1lc3NhZ2U6U3RyaW5nKGkpO2NvbnNvbGUuZXJyb3IocyxpKSxhZShuLmNoYW5uZWwuaWQse2NvbnRlbnQ6YCR7c306CiR7b2koYyl9YCxhdXRob3I6e3VzZXJuYW1lOiJWZW5jb3JkIn19KX07dHJ5e2xldCBpPWUuZXhlY3V0ZSh0LG4pO3JldHVybiBpIGluc3RhbmNlb2YgUHJvbWlzZT9pLmNhdGNoKHIpOml9Y2F0Y2goaSl7cmV0dXJuIHIoaSl9fX0pO2Z1bmN0aW9uIEZoKHt0ZXh0OmUsY29sb3I6dH0pe3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6InZjLXBsdWdpbnMtYmFkZ2UiLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6dCxqdXN0aWZ5U2VsZjoiZmxleC1lbmQiLG1hcmdpbkxlZnQ6ImF1dG8ifX0sZSl9dmFyIFFjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2Z1bmN0aW9uICRoKHtvcHRpb246ZSxwbHVnaW5TZXR0aW5nczp0LGRlZmluZWRTZXR0aW5nczpuLGlkOnIsb25DaGFuZ2U6aSxvbkVycm9yOnN9KXtsZXQgYz10W3JdPz9lLmRlZmF1bHQsW3UscF09TC51c2VTdGF0ZShjPz8hMSksW3ksaF09TC51c2VTdGF0ZShudWxsKTtMLnVzZUVmZmVjdCgoKT0+e3MoeSE9PW51bGwpfSxbeV0pO2Z1bmN0aW9uIFMoYil7bGV0IHg9ZS5pc1ZhbGlkPy5jYWxsKG4sYik/PyEwO3R5cGVvZiB4PT0ic3RyaW5nIj9oKHgpOng/KGgobnVsbCkscChiKSxpKGIpKTpoKCJJbnZhbGlkIGlucHV0IHByb3ZpZGVkLiIpfXJldHVybiBvKFQuRm9ybVNlY3Rpb24sbnVsbCxvKHl0LHt2YWx1ZTp1LG9uQ2hhbmdlOlMsbm90ZTplLmRlc2NyaXB0aW9uLGRpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLC4uLmUuY29tcG9uZW50UHJvcHMsaGlkZUJvcmRlcjohMCxzdHlsZTp7bWFyZ2luQm90dG9tOiIwLjVlbSJ9fSxZbihYbChyKSkpLHkmJm8oVC5Gb3JtVGV4dCx7c3R5bGU6e2NvbG9yOiJ2YXIoLS10ZXh0LWRhbmdlcikifX0seSkpfXZhciBVaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Wm4oKTt3KCl9KTtmdW5jdGlvbiBHaCh7b3B0aW9uOmUsb25DaGFuZ2U6dCxvbkVycm9yOm59KXtyZXR1cm4gZS5jb21wb25lbnQoe3NldFZhbHVlOnQsc2V0RXJyb3I6bixvcHRpb246ZX0pfXZhciBIaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiBWYyh7b3B0aW9uOmUscGx1Z2luU2V0dGluZ3M6dCxkZWZpbmVkU2V0dGluZ3M6bixpZDpyLG9uQ2hhbmdlOmksb25FcnJvcjpzfSl7ZnVuY3Rpb24gYyhiKXtyZXR1cm4gZS50eXBlPT09Mj9CaWdJbnQoYik6TnVtYmVyKGIpfWxldFt1LHBdPUwudXNlU3RhdGUoYCR7dFtyXT8/ZS5kZWZhdWx0Pz8wfWApLFt5LGhdPUwudXNlU3RhdGUobnVsbCk7TC51c2VFZmZlY3QoKCk9PntzKHkhPT1udWxsKX0sW3ldKTtmdW5jdGlvbiBTKGIpe2xldCB4PWUuaXNWYWxpZD8uY2FsbChuLGIpPz8hMDtoKG51bGwpLHR5cGVvZiB4PT0ic3RyaW5nIj9oKHgpOnh8fGgoIkludmFsaWQgaW5wdXQgcHJvdmlkZWQuIiksZS50eXBlPT09MSYmQmlnSW50KGIpPj10Mj8ocChgJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn1gKSxpKGMoYikpKToocChiKSxpKGMoYikpKX1yZXR1cm4gbyhULkZvcm1TZWN0aW9uLG51bGwsbyhULkZvcm1UaXRsZSxudWxsLGUuZGVzY3JpcHRpb24pLG8oX2Use3R5cGU6Im51bWJlciIscGF0dGVybjoiLT9bMC05XSsiLHZhbHVlOnUsb25DaGFuZ2U6UyxwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyPz8iRW50ZXIgYSBudW1iZXIiLGRpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLC4uLmUuY29tcG9uZW50UHJvcHN9KSx5JiZvKFQuRm9ybVRleHQse3N0eWxlOntjb2xvcjoidmFyKC0tdGV4dC1kYW5nZXIpIn19LHkpKX12YXIgdDIsemg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO00oKTt3KCk7dDI9QmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKX0pO2Z1bmN0aW9uIGpoKHtvcHRpb246ZSxwbHVnaW5TZXR0aW5nczp0LGRlZmluZWRTZXR0aW5nczpuLG9uQ2hhbmdlOnIsb25FcnJvcjppLGlkOnN9KXtsZXQgYz10W3NdPz9lLm9wdGlvbnM/LmZpbmQoYj0+Yi5kZWZhdWx0KT8udmFsdWUsW3UscF09TC51c2VTdGF0ZShjPz9udWxsKSxbeSxoXT1MLnVzZVN0YXRlKG51bGwpO0wudXNlRWZmZWN0KCgpPT57aSh5IT09bnVsbCl9LFt5XSk7ZnVuY3Rpb24gUyhiKXtsZXQgeD1lLmlzVmFsaWQ/LmNhbGwobixiKT8/ITA7dHlwZW9mIHg9PSJzdHJpbmciP2goeCk6eD8oaChudWxsKSxwKGIpLHIoYikpOmgoIkludmFsaWQgaW5wdXQgcHJvdmlkZWQuIil9cmV0dXJuIG8oVC5Gb3JtU2VjdGlvbixudWxsLG8oVC5Gb3JtVGl0bGUsbnVsbCxlLmRlc2NyaXB0aW9uKSxvKGRuLHtpc0Rpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLG9wdGlvbnM6ZS5vcHRpb25zLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXI/PyJTZWxlY3QgYW4gb3B0aW9uIixtYXhWaXNpYmxlSXRlbXM6NSxjbG9zZU9uU2VsZWN0OiEwLHNlbGVjdDpTLGlzU2VsZWN0ZWQ6Yj0+Yj09PXUsc2VyaWFsaXplOmI9PlN0cmluZyhiKSwuLi5lLmNvbXBvbmVudFByb3BzfSkseSYmbyhULkZvcm1UZXh0LHtzdHlsZTp7Y29sb3I6InZhcigtLXRleHQtZGFuZ2VyKSJ9fSx5KSl9dmFyIFdoPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCl9KTtmdW5jdGlvbiBUcihlLHQsbj0xKXtsZXQgcj1bXTtmb3IobGV0IGk9ZTtpPD10O2krPW4pci5wdXNoKE1hdGgucm91bmQoaSoxMDApLzEwMCk7cmV0dXJuIHJ9ZnVuY3Rpb24gcWgoe29wdGlvbjplLHBsdWdpblNldHRpbmdzOnQsZGVmaW5lZFNldHRpbmdzOm4saWQ6cixvbkNoYW5nZTppLG9uRXJyb3I6c30pe2xldCBjPXRbcl0/P2UuZGVmYXVsdCxbdSxwXT1MLnVzZVN0YXRlKG51bGwpO0wudXNlRWZmZWN0KCgpPT57cyh1IT09bnVsbCl9LFt1XSk7ZnVuY3Rpb24geShoKXtsZXQgUz1lLmlzVmFsaWQ/LmNhbGwobixoKT8/ITA7dHlwZW9mIFM9PSJzdHJpbmciP3AoUyk6Uz8ocChudWxsKSxpKGgpKTpwKCJJbnZhbGlkIGlucHV0IHByb3ZpZGVkLiIpfXJldHVybiBvKFQuRm9ybVNlY3Rpb24sbnVsbCxvKFQuRm9ybVRpdGxlLG51bGwsZS5kZXNjcmlwdGlvbiksbyhGbyx7ZGlzYWJsZWQ6ZS5kaXNhYmxlZD8uY2FsbChuKT8/ITEsbWFya2VyczplLm1hcmtlcnMsbWluVmFsdWU6ZS5tYXJrZXJzWzBdLG1heFZhbHVlOmUubWFya2Vyc1tlLm1hcmtlcnMubGVuZ3RoLTFdLGluaXRpYWxWYWx1ZTpjLG9uVmFsdWVDaGFuZ2U6eSxvblZhbHVlUmVuZGVyOmg9PlN0cmluZyhoLnRvRml4ZWQoMikpLHN0aWNrVG9NYXJrZXJzOmUuc3RpY2tUb01hcmtlcnM/PyEwLC4uLmUuY29tcG9uZW50UHJvcHN9KSl9dmFyIGV1PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCl9KTtmdW5jdGlvbiBLaCh7b3B0aW9uOmUscGx1Z2luU2V0dGluZ3M6dCxkZWZpbmVkU2V0dGluZ3M6bixpZDpyLG9uQ2hhbmdlOmksb25FcnJvcjpzfSl7bGV0W2MsdV09TC51c2VTdGF0ZSh0W3JdPz9lLmRlZmF1bHQ/P251bGwpLFtwLHldPUwudXNlU3RhdGUobnVsbCk7TC51c2VFZmZlY3QoKCk9PntzKHAhPT1udWxsKX0sW3BdKTtmdW5jdGlvbiBoKFMpe2xldCBiPWUuaXNWYWxpZD8uY2FsbChuLFMpPz8hMDt0eXBlb2YgYj09InN0cmluZyI/eShiKTpiPyh5KG51bGwpLHUoUyksaShTKSk6eSgiSW52YWxpZCBpbnB1dCBwcm92aWRlZC4iKX1yZXR1cm4gbyhULkZvcm1TZWN0aW9uLG51bGwsbyhULkZvcm1UaXRsZSxudWxsLGUuZGVzY3JpcHRpb24pLG8oX2Use3R5cGU6InRleHQiLHZhbHVlOmMsb25DaGFuZ2U6aCxwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyPz8iRW50ZXIgYSB2YWx1ZSIsZGlzYWJsZWQ6ZS5kaXNhYmxlZD8uY2FsbChuKT8/ITEsLi4uZS5jb21wb25lbnRQcm9wc30pLHAmJm8oVC5Gb3JtVGV4dCx7c3R5bGU6e2NvbG9yOiJ2YXIoLS10ZXh0LWRhbmdlcikifX0scCkpfXZhciBZaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpfSk7dmFyIHR1PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRYygpO1VoKCk7SGgoKTt6aCgpO1doKCk7ZXUoKTtZaCgpfSk7dmFyIG51LFpoPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL2NvbXBvbmVudHMvUGx1Z2luU2V0dGluZ3MvdXNlclBvcG91dEhpZGVCb3RUYWcuY3NzIix7bmFtZToic3JjL2NvbXBvbmVudHMvUGx1Z2luU2V0dGluZ3MvdXNlclBvcG91dEhpZGVCb3RUYWcuY3NzIixzb3VyY2U6YFtjbGFzc3w9InVzZXJQb3BvdXRPdXRlciJdIFtjbGFzcyo9ImJvdFRhZyJdIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7bnU9InNyYy9jb21wb25lbnRzL1BsdWdpblNldHRpbmdzL3VzZXJQb3BvdXRIaWRlQm90VGFnLmNzcyJ9KTtmdW5jdGlvbiBvdShlKXtsZXQgdD1uZXcgcjIoe3VzZXJuYW1lOmUudXNlcm5hbWUsaWQ6ZS5pZD8/cWMoKSxhdmF0YXI6ZS5hdmF0YXIsYm90OiEwfSk7cmV0dXJuIE8uZGlzcGF0Y2goe3R5cGU6IlVTRVJfVVBEQVRFIix1c2VyOnR9KSx0fWZ1bmN0aW9uIHJ1KHtwbHVnaW46ZSxvblJlc3RhcnROZWVkZWQ6dCxvbkNsb3NlOm4sdHJhbnNpdGlvblN0YXRlOnJ9KXtsZXRbaSxzXT1MLnVzZVN0YXRlKFtdKSxjPXB0KCkucGx1Z2luc1tlLm5hbWVdLFt1LHBdPUwudXNlU3RhdGUoe30pLFt5LGhdPUwudXNlU3RhdGUoe30pLFtTLGJdPUwudXNlU3RhdGUobnVsbCkseD0oKT0+T2JqZWN0LnZhbHVlcyh5KS5ldmVyeShfPT4hXyksQT1Cb29sZWFuKGMmJmUub3B0aW9ucyk7TC51c2VFZmZlY3QoKCk9PntvdChudSk7bGV0IF87cmV0dXJuKGFzeW5jKCk9Pntmb3IobGV0IEsgb2YgZS5hdXRob3JzLnNsaWNlKDAsNikpe2xldCBuZT1LLmlkP2F3YWl0IEVuLmZldGNoVXNlcihgJHtLLmlkfWApLnRoZW4oWT0+KF89WSxvdShZKSkpLmNhdGNoKCgpPT5vdSh7dXNlcm5hbWU6Sy5uYW1lfSkpOm91KHt1c2VybmFtZTpLLm5hbWV9KTtzKFk9PlsuLi5ZLG5lXSl9fSkoKSwoKT0+e2t0KG51KSxfJiZPLmRpc3BhdGNoKHt0eXBlOiJVU0VSX1VQREFURSIsdXNlcjpffSl9fSxbXSk7YXN5bmMgZnVuY3Rpb24gTigpe2lmKCFlLm9wdGlvbnMpe24oKTtyZXR1cm59aWYoZS5iZWZvcmVTYXZlKXtsZXQgSz1hd2FpdCBQcm9taXNlLnJlc29sdmUoZS5iZWZvcmVTYXZlKHUpKTtpZihLIT09ITApe2IoSyk7cmV0dXJufX1sZXQgXz0hMTtmb3IobGV0W0ssbmVdb2YgT2JqZWN0LmVudHJpZXModSkpe2xldCBZPWUub3B0aW9uc1tLXTtjW0tdPW5lLFk/Lm9uQ2hhbmdlPy4obmUpLFk/LnJlc3RhcnROZWVkZWQmJihfPSEwKX1fJiZ0KCksbigpfWZ1bmN0aW9uIEkoKXtpZighQXx8IWUub3B0aW9ucylyZXR1cm4gbyhULkZvcm1UZXh0LG51bGwsIlRoZXJlIGFyZSBubyBzZXR0aW5ncyBmb3IgdGhpcyBwbHVnaW4uIik7e2xldCBfPU9iamVjdC5lbnRyaWVzKGUub3B0aW9ucykubWFwKChbSyxuZV0pPT57aWYobmUuaGlkZGVuKXJldHVybiBudWxsO2Z1bmN0aW9uIFkoSCl7cChFZT0+KHsuLi5FZSxbS106SH0pKX1mdW5jdGlvbiBxKEgpe2goRWU9Pih7Li4uRWUsW0tdOkh9KSl9bGV0IG9lPWkyW25lLnR5cGVdO3JldHVybiBvKG9lLHtpZDpLLGtleTpLLG9wdGlvbjpuZSxvbkNoYW5nZTpZLG9uRXJyb3I6cSxwbHVnaW5TZXR0aW5nczpjLGRlZmluZWRTZXR0aW5nczplLnNldHRpbmdzfSl9KTtyZXR1cm4gbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIixzdHlsZTp7Z2FwOjEyLG1hcmdpbkJvdHRvbToxNn19LF8pfX1mdW5jdGlvbiAkKF8sSyl7bGV0IG5lPWUuYXV0aG9ycy5sZW5ndGgtSyxZPWUuYXV0aG9ycy5sZW5ndGgtbmUscT1ZK2UuYXV0aG9ycy5sZW5ndGgtSztyZXR1cm4gbyhYLHt0ZXh0OmUuYXV0aG9ycy5zbGljZShZLHEpLm1hcChvZT0+b2UubmFtZSkuam9pbigiLCAiKX0sKHtvbk1vdXNlRW50ZXI6b2Usb25Nb3VzZUxlYXZlOkh9KT0+bygiZGl2Iix7Y2xhc3NOYW1lOm8yLm1vcmVVc2Vycyxvbk1vdXNlRW50ZXI6b2Usb25Nb3VzZUxlYXZlOkh9LCIrIixuZSkpfXJldHVybiBvKExlLHt0cmFuc2l0aW9uU3RhdGU6cixzaXplOiJtZWRpdW0iLGNsYXNzTmFtZToidmMtdGV4dC1zZWxlY3RhYmxlIn0sbygkZSx7c2VwYXJhdG9yOiExfSxvKGVlLHt2YXJpYW50OiJoZWFkaW5nLWxnL3NlbWlib2xkIixzdHlsZTp7ZmxleEdyb3c6MX19LGUubmFtZSksbyhSdCx7b25DbGljazpufSkpLG8oVWUsbnVsbCxvKFQuRm9ybVNlY3Rpb24sbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIkFib3V0ICIsZS5uYW1lKSxvKFQuRm9ybVRleHQsbnVsbCxlLmRlc2NyaXB0aW9uKSxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIixzdHlsZTp7bWFyZ2luVG9wOjgsbWFyZ2luQm90dG9tOjB9fSwiQXV0aG9ycyIpLG8oImRpdiIse3N0eWxlOnt3aWR0aDoiZml0LWNvbnRlbnQiLG1hcmdpbkJvdHRvbTo4fX0sbyhuMix7dXNlcnM6aSxjb3VudDplLmF1dGhvcnMubGVuZ3RoLGd1aWxkSWQ6dm9pZCAwLHJlbmRlckljb246ITEsbWF4OjYsc2hvd0RlZmF1bHRBdmF0YXJzRm9yTnVsbFVzZXJzOiEwLHNob3dVc2VyUG9wb3V0OiEwLHJlbmRlck1vcmVVc2VyczokfSkpKSwhIWUuc2V0dGluZ3NBYm91dENvbXBvbmVudCYmbygiZGl2Iix7Y2xhc3NOYW1lOlEoei5ib3R0b204LCJ2Yy10ZXh0LXNlbGVjdGFibGUiKX0sbyhULkZvcm1TZWN0aW9uLG51bGwsbyhELHttZXNzYWdlOiJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZW5kZXJpbmcgdGhpcyBwbHVnaW4ncyBjdXN0b20gSW5mb0NvbXBvbmVudCJ9LG8oZS5zZXR0aW5nc0Fib3V0Q29tcG9uZW50LHt0ZW1wU2V0dGluZ3M6dX0pKSkpLG8oVC5Gb3JtU2VjdGlvbix7Y2xhc3NOYW1lOnouYm90dG9tMTZ9LG8oVC5Gb3JtVGl0bGUse3RhZzoiaDMifSwiU2V0dGluZ3MiKSxJKCkpKSxBJiZvKHV0LG51bGwsbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIixzdHlsZTp7d2lkdGg6IjEwMCUifX0sbyhjZSx7c3R5bGU6e21hcmdpbkxlZnQ6ImF1dG8ifX0sbyhSLHtvbkNsaWNrOm4sc2l6ZTpSLlNpemVzLlNNQUxMLGNvbG9yOlIuQ29sb3JzLldISVRFLGxvb2s6Ui5Mb29rcy5MSU5LfSwiQ2FuY2VsIiksbyhYLHt0ZXh0OiJZb3UgbXVzdCBmaXggYWxsIGVycm9ycyBiZWZvcmUgc2F2aW5nIixzaG91bGRTaG93OiF4KCl9LCh7b25Nb3VzZUVudGVyOl8sb25Nb3VzZUxlYXZlOkt9KT0+byhSLHtzaXplOlIuU2l6ZXMuU01BTEwsY29sb3I6Ui5Db2xvcnMuQlJBTkQsb25DbGljazpOLG9uTW91c2VFbnRlcjpfLG9uTW91c2VMZWF2ZTpLLGRpc2FibGVkOiF4KCl9LCJTYXZlICYgQ2xvc2UiKSkpLFMmJm8oZWUse3ZhcmlhbnQ6InRleHQtbWQvc2VtaWJvbGQiLHN0eWxlOntjb2xvcjoidmFyKC0tdGV4dC1kYW5nZXIpIn19LCJFcnJvciB3aGlsZSBzYXZpbmc6ICIsUykpKSl9dmFyIG4yLG8yLHIyLGkyLFhoPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1UoKTtPZSgpO3NlKCk7YnQoKTt1bigpO250KCk7Z2UoKTtaZSgpO2hlKCk7TSgpO0YoKTt3KCk7dHUoKTtaaCgpO24yPXJlKCgpPT5IZSgiZGVmYXVsdFJlbmRlclVzZXIiLCJzaG93RGVmYXVsdEF2YXRhcnNGb3JOdWxsVXNlcnMiKSksbzI9QygibW9yZVVzZXJzIiwiZW1wdHlVc2VyIiwiYXZhdGFyQ29udGFpbmVyIiwiY2xpY2thYmxlQXZhdGFyIikscjI9ZnQoKCk9PkcuZ2V0Q3VycmVudFVzZXIoKS5jb25zdHJ1Y3Rvcik7aTI9e1swXTpLaCxbMV06VmMsWzJdOlZjLFszXTokaCxbNF06amgsWzVdOnFoLFs2XTpHaH19KTt2YXIgSmg9ZygoKT0+e30pO3ZhciBRaD1nKCgpPT57fSk7ZnVuY3Rpb24gVmgoe2NoZWNrZWQ6ZSxvbkNoYW5nZTp0LGRpc2FibGVkOm59KXtyZXR1cm4gbygiZGl2IixudWxsLG8oImRpdiIse2NsYXNzTmFtZTpRKHRhLmNvbnRhaW5lciwiZGVmYXVsdC1jb2xvcnMiLGU/dGEuY2hlY2tlZDp2b2lkIDApLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6ZT9pdTpzdSxvcGFjaXR5Om4/LjM6MX19LG8oInN2ZyIse2NsYXNzTmFtZTp0YS5zbGlkZXIrIiB2Yy1zd2l0Y2gtc2xpZGVyIix2aWV3Qm94OiIwIDAgMjggMjAiLHByZXNlcnZlQXNwZWN0UmF0aW86InhNaW5ZTWlkIG1lZXQiLCJhcmlhLWhpZGRlbiI6InRydWUiLHN0eWxlOnt0cmFuc2Zvcm06ZT8idHJhbnNsYXRlWCgxMnB4KSI6InRyYW5zbGF0ZVgoLTNweCkifX0sbygicmVjdCIse2ZpbGw6IndoaXRlIix4OiI0Iix5OiIwIixoZWlnaHQ6IjIwIix3aWR0aDoiMjAiLHJ4OiIxMCJ9KSxvKCJzdmciLHt2aWV3Qm94OiIwIDAgMjAgMjAiLGZpbGw6Im5vbmUifSxlP28oZCxudWxsLG8oInBhdGgiLHtmaWxsOml1LGQ6Ik03Ljg5NTYxIDE0Ljg1MzhMNi4zMDQ2MiAxMy4yNjI5TDE0LjMwOTkgNS4yNTc1NUwxNS45MDA5IDYuODQ4NTRMNy44OTU2MSAxNC44NTM4WiJ9KSxvKCJwYXRoIix7ZmlsbDppdSxkOiJNNC4wODY0MyAxMS4wOTAzTDUuNjc3NDIgOS40OTkyOUw5LjQ0ODUgMTMuMjcwNEw3Ljg1NzUxIDE0Ljg2MTRMNC4wODY0MyAxMS4wOTAzWiJ9KSk6byhkLG51bGwsbygicGF0aCIse2ZpbGw6c3UsZDoiTTUuMTMyMzEgNi43Mjk2M0w2LjcyMzMgNS4xMzg2NEwxNC44NTUgMTMuMjcwNEwxMy4yNjQgMTQuODYxNEw1LjEzMjMxIDYuNzI5NjNaIn0pLG8oInBhdGgiLHtmaWxsOnN1LGQ6Ik0xMy4yNzA0IDUuMTM4NjRMMTQuODYxNCA2LjcyOTYzTDYuNzI5NjMgMTQuODYxNEw1LjEzODY0IDEzLjI3MDRMMTMuMjcwNCA1LjEzODY0WiJ9KSkpKSxvKCJpbnB1dCIse2Rpc2FibGVkOm4sdHlwZToiY2hlY2tib3giLGNsYXNzTmFtZTp0YS5pbnB1dCx0YWJJbmRleDowLGNoZWNrZWQ6ZSxvbkNoYW5nZTpyPT50KHIuY3VycmVudFRhcmdldC5jaGVja2VkKX0pKSl9dmFyIGl1LHN1LHRhLGV5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRaCgpO2dlKCk7RigpO2l1PSJ2YXIoLS1ncmVlbi0zNjApIixzdT0idmFyKC0tcHJpbWFyeS00MDApIix0YT1DKCJzbGlkZXIiLCJpbnB1dCIsImNvbnRhaW5lciIpfSk7ZnVuY3Rpb24gbmEoe2Rpc2FibGVkOmUsaXNOZXc6dCxuYW1lOm4saW5mb0J1dHRvbjpyLGZvb3RlcjppLGF1dGhvcjpzLGVuYWJsZWQ6YyxzZXRFbmFibGVkOnUsZGVzY3JpcHRpb246cCxvbk1vdXNlRW50ZXI6eSxvbk1vdXNlTGVhdmU6aH0pe3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6eHIoImNhcmQiLHsiY2FyZC1kaXNhYmxlZCI6ZX0pLG9uTW91c2VFbnRlcjp5LG9uTW91c2VMZWF2ZTpofSxvKCJkaXYiLHtjbGFzc05hbWU6eHIoImhlYWRlciIpfSxvKCJkaXYiLHtjbGFzc05hbWU6eHIoIm5hbWUtYXV0aG9yIil9LG8oZWUse3ZhcmlhbnQ6InRleHQtbWQvYm9sZCIsY2xhc3NOYW1lOnhyKCJuYW1lIil9LG4sdCYmbyhGaCx7dGV4dDoiTkVXIixjb2xvcjoiI0VENDI0NSJ9KSksISFzJiZvKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCIsY2xhc3NOYW1lOnhyKCJhdXRob3IiKX0scykpLHIsbyhWaCx7Y2hlY2tlZDpjLG9uQ2hhbmdlOnUsZGlzYWJsZWQ6ZX0pKSxvKGVlLHtjbGFzc05hbWU6eHIoIm5vdGUiKSx2YXJpYW50OiJ0ZXh0LXNtL25vcm1hbCJ9LHApLGkpfXZhciB4cixhdT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7SmgoKTtPZSgpO1FjKCk7ZXkoKTt3KCk7eHI9YmUoInZjLWFkZG9uLSIpfSk7dmFyIGR1PXt9O1NlKGR1LHtQTUxvZ2dlcjooKT0+czIsaXNQbHVnaW5FbmFibGVkOigpPT5jdSxwYXRjaGVzOigpPT50eSxwbHVnaW5zOigpPT5hMixzdGFydEFsbFBsdWdpbnM6KCk9PnV1LHN0YXJ0RGVwZW5kZW5jaWVzUmVjdXJzaXZlOigpPT5vYSxzdGFydFBsdWdpbjooKT0+Ymksc3RvcFBsdWdpbjooKT0+cHV9KTtmdW5jdGlvbiBjdShlKXtyZXR1cm4oSWVbZV0/LnJlcXVpcmVkfHxJZVtlXT8uaXNEZXBlbmRlbmN5fHxsdVtlXT8uZW5hYmxlZCk/PyExfWZ1bmN0aW9uIG9hKGUpe2xldCB0PSExLG49W107cmV0dXJuIGUuZGVwZW5kZW5jaWVzPy5mb3JFYWNoKHI9PntpZighay5wbHVnaW5zW3JdLmVuYWJsZWQpe2lmKG9hKEllW3JdKSxrLnBsdWdpbnNbcl0uZW5hYmxlZD0hMCxJZVtyXS5wYXRjaGVzKXtadC53YXJuKGBFbmFibGluZyBkZXBlbmRlbmN5ICR7cn0gcmVxdWlyZXMgcmVzdGFydC5gKSx0PSEwO3JldHVybn1iaShJZVtyXSl8fG4ucHVzaChyKX19KSx7cmVzdGFydE5lZWRlZDp0LGZhaWx1cmVzOm59fXZhciBadCxzMixhMix0eSxsdSxueSx1dSxiaSxwdSxyYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtVKCk7TWUoKTt3KCk7eXIoKTtwcygpO1p0PW5ldyBWKCJQbHVnaW5NYW5hZ2VyIiwiI2E2ZDE4OSIpLHMyPVp0LGEyPUllLHR5PVtdLGx1PWsucGx1Z2lucztueT1PYmplY3QudmFsdWVzKEllKTtmb3IobGV0IGUgb2YgbnkpbHVbZS5uYW1lXT8uZW5hYmxlZCYmZS5kZXBlbmRlbmNpZXM/LmZvckVhY2godD0+e2xldCBuPUllW3RdO2lmKG4pbHVbdF0uZW5hYmxlZD0hMCxuLmlzRGVwZW5kZW5jeT0hMDtlbHNle2xldCByPW5ldyBFcnJvcihgUGx1Z2luICR7ZS5uYW1lfSBoYXMgdW5yZXNvbHZlZCBkZXBlbmRlbmN5ICR7dH1gKTtadC53YXJuKHIpfX0pO2ZvcihsZXQgZSBvZiBueSl7aWYoZS5zZXR0aW5ncyl7ZS5zZXR0aW5ncy5wbHVnaW5OYW1lPWUubmFtZSxlLm9wdGlvbnM/Pz17fTtmb3IobGV0W3Qsbl1vZiBPYmplY3QuZW50cmllcyhlLnNldHRpbmdzLmRlZikpe2xldCByPWUuc2V0dGluZ3MuY2hlY2tzPy5bdF07ZS5vcHRpb25zW3RdPXsuLi5uLC4uLnJ9fX1pZihlLnBhdGNoZXMmJmN1KGUubmFtZSkpZm9yKGxldCB0IG9mIGUucGF0Y2hlcyl0LnBsdWdpbj1lLm5hbWUsQXJyYXkuaXNBcnJheSh0LnJlcGxhY2VtZW50KXx8KHQucmVwbGFjZW1lbnQ9W3QucmVwbGFjZW1lbnRdKSx0eS5wdXNoKHQpfXV1PXBuKCJzdGFydEFsbFBsdWdpbnMiLGZ1bmN0aW9uKCl7Zm9yKGxldCB0IGluIEllKWN1KHQpJiZiaShJZVt0XSl9KTtiaT1wbigic3RhcnRQbHVnaW4iLGZ1bmN0aW9uKHQpe2xldHtuYW1lOm4sY29tbWFuZHM6cixmbHV4Oml9PXQ7aWYodC5zdGFydCl7aWYoWnQuaW5mbygiU3RhcnRpbmcgcGx1Z2luIixuKSx0LnN0YXJ0ZWQpcmV0dXJuIFp0Lndhcm4oYCR7bn0gYWxyZWFkeSBzdGFydGVkYCksITE7dHJ5e3Quc3RhcnQoKSx0LnN0YXJ0ZWQ9ITB9Y2F0Y2gocyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgJHtufQpgLHMpLCExfX1pZihyPy5sZW5ndGgpe1p0LmluZm8oIlJlZ2lzdGVyaW5nIGNvbW1hbmRzIG9mIHBsdWdpbiIsbik7Zm9yKGxldCBzIG9mIHIpdHJ5e2JyKHMsbil9Y2F0Y2goYyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gcmVnaXN0ZXIgY29tbWFuZCAke3MubmFtZX0KYCxjKSwhMX19aWYoaSlmb3IobGV0IHMgaW4gaSlPLnN1YnNjcmliZShzLGlbc10pO3JldHVybiEwfSxlPT5gc3RhcnRQbHVnaW4gJHtlLm5hbWV9YCkscHU9cG4oInN0b3BQbHVnaW4iLGZ1bmN0aW9uKHQpe2xldHtuYW1lOm4sY29tbWFuZHM6cixmbHV4Oml9PXQ7aWYodC5zdG9wKXtpZihadC5pbmZvKCJTdG9wcGluZyBwbHVnaW4iLG4pLCF0LnN0YXJ0ZWQpcmV0dXJuIFp0Lndhcm4oYCR7bn0gYWxyZWFkeSBzdG9wcGVkYCksITE7dHJ5e3Quc3RvcCgpLHQuc3RhcnRlZD0hMX1jYXRjaChzKXtyZXR1cm4gWnQuZXJyb3IoYEZhaWxlZCB0byBzdG9wICR7bn0KYCxzKSwhMX19aWYocj8ubGVuZ3RoKXtadC5pbmZvKCJVbnJlZ2lzdGVyaW5nIGNvbW1hbmRzIG9mIHBsdWdpbiIsbik7Zm9yKGxldCBzIG9mIHIpdHJ5e1NpKHMubmFtZSl9Y2F0Y2goYyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gdW5yZWdpc3RlciBjb21tYW5kICR7cy5uYW1lfQpgLGMpLCExfX1pZihpKWZvcihsZXQgcyBpbiBpKU8udW5zdWJzY3JpYmUocyxpW3NdKTtyZXR1cm4hMH0sZT0+YHN0b3BQbHVnaW4gJHtlLm5hbWV9YCl9KTtmdW5jdGlvbiBwMihlKXtaLnNob3coe21lc3NhZ2U6ZSx0eXBlOlouVHlwZS5GQUlMVVJFLGlkOlouZ2VuSWQoKSxvcHRpb25zOntwb3NpdGlvbjpaLlBvc2l0aW9uLkJPVFRPTX19KX1mdW5jdGlvbiBkMih7cmVxdWlyZWQ6ZX0pe3JldHVybiBvKGh0LHtjbGFzc05hbWU6V28oImluZm8tY2FyZCIseyJyZXN0YXJ0LWNhcmQiOmV9KX0sZT9vKGQsbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6Img1In0sIlJlc3RhcnQgcmVxdWlyZWQhIiksbyhULkZvcm1UZXh0LHtjbGFzc05hbWU6V28oImRlcC10ZXh0Iil9LCJSZXN0YXJ0IG5vdyB0byBhcHBseSBuZXcgcGx1Z2lucyBhbmQgdGhlaXIgc2V0dGluZ3MiKSxvKFIse2NvbG9yOlIuQ29sb3JzLllFTExPVyxvbkNsaWNrOigpPT5sb2NhdGlvbi5yZWxvYWQoKX0sIlJlc3RhcnQiKSk6byhkLG51bGwsbyhULkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJQbHVnaW4gTWFuYWdlbWVudCIpLG8oVC5Gb3JtVGV4dCxudWxsLCJQcmVzcyB0aGUgY29nIHdoZWVsIG9yIGluZm8gaWNvbiB0byBnZXQgbW9yZSBpbmZvIG9uIGEgcGx1Z2luIiksbyhULkZvcm1UZXh0LG51bGwsIlBsdWdpbnMgd2l0aCBhIGNvZyB3aGVlbCBoYXZlIHNldHRpbmdzIHlvdSBjYW4gbW9kaWZ5ISIpKSl9ZnVuY3Rpb24gaXkoe3BsdWdpbjplLGRpc2FibGVkOnQsb25SZXN0YXJ0TmVlZGVkOm4sb25Nb3VzZUVudGVyOnIsb25Nb3VzZUxlYXZlOmksaXNOZXc6c30pe2xldCBjPWsucGx1Z2luc1tlLm5hbWVdLHU9KCk9PmMuZW5hYmxlZD8/ITE7ZnVuY3Rpb24gcCgpe1FyKGFzeW5jKCk9Pmg9Pm8ocnUsey4uLmgscGx1Z2luOmUsb25SZXN0YXJ0TmVlZGVkOigpPT5uKGUubmFtZSl9KSl9ZnVuY3Rpb24geSgpe2xldCBoPXUoKTtpZighaCl7bGV0e3Jlc3RhcnROZWVkZWQ6YixmYWlsdXJlczp4fT1vYShlKTtpZih4Lmxlbmd0aCl7b3kuZXJyb3IoYEZhaWxlZCB0byBzdGFydCBkZXBlbmRlbmNpZXMgZm9yICR7ZS5uYW1lfTogJHt4LmpvaW4oIiwgIil9YCkseWkoIkZhaWxlZCB0byBzdGFydCBkZXBlbmRlbmNpZXM6ICIreC5qb2luKCIsICIpLCJDbG9zZSIsKCk9Pm51bGwpO3JldHVybn1lbHNlIGlmKGIpe2MuZW5hYmxlZD0hMCxuKGUubmFtZSk7cmV0dXJufX1pZihlLnBhdGNoZXM/Lmxlbmd0aCl7Yy5lbmFibGVkPSFoLG4oZS5uYW1lKTtyZXR1cm59aWYoaCYmIWUuc3RhcnRlZCl7Yy5lbmFibGVkPSFoO3JldHVybn1pZighKGg/cHUoZSk6YmkoZSkpKXtjLmVuYWJsZWQ9ITE7bGV0IGI9YEVycm9yIHdoaWxlICR7aD8ic3RvcHBpbmciOiJzdGFydGluZyJ9IHBsdWdpbiAke2UubmFtZX1gO295LmVycm9yKGIpLHAyKGIpO3JldHVybn1jLmVuYWJsZWQ9IWh9cmV0dXJuIG8obmEse25hbWU6ZS5uYW1lLGRlc2NyaXB0aW9uOmUuZGVzY3JpcHRpb24saXNOZXc6cyxlbmFibGVkOnUoKSxzZXRFbmFibGVkOnksZGlzYWJsZWQ6dCxvbk1vdXNlRW50ZXI6cixvbk1vdXNlTGVhdmU6aSxpbmZvQnV0dG9uOm8oImJ1dHRvbiIse3JvbGU6InN3aXRjaCIsb25DbGljazooKT0+cCgpLGNsYXNzTmFtZTpRKGwyLmJ1dHRvbixXbygiaW5mby1idXR0b24iKSl9LGUub3B0aW9ucz9vKGMyLG51bGwpOm8odTIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCJ9KSl9KX1mdW5jdGlvbiBtdSgpe2xldCBlPXB0KCksdD1MLnVzZU1lbW8oKCk9Pm5ldyBIcixbXSk7TC51c2VFZmZlY3QoKCk9PigpPT52b2lkKHQuaGFzQ2hhbmdlcyYmTnQuc2hvdyh7dGl0bGU6IlJlc3RhcnQgcmVxdWlyZWQiLGJvZHk6byhkLG51bGwsbygicCIsbnVsbCwiVGhlIGZvbGxvd2luZyBwbHVnaW5zIHJlcXVpcmUgYSByZXN0YXJ0OiIpLG8oImRpdiIsbnVsbCx0Lm1hcCgoYix4KT0+byhkLG51bGwseD4wJiYiLCAiLEFlLnBhcnNlKCJgIitiKyJgIikpKSkpLGNvbmZpcm1UZXh0OiJSZXN0YXJ0IG5vdyIsY2FuY2VsVGV4dDoiTGF0ZXIhIixvbkNvbmZpcm06KCk9PmxvY2F0aW9uLnJlbG9hZCgpfSkpLFtdKTtsZXQgbj1MLnVzZU1lbW8oKCk9PntsZXQgYj17fTtmb3IobGV0IHggaW4gSWUpe2xldCBBPUllW3hdLmRlcGVuZGVuY2llcztpZihBKWZvcihsZXQgTiBvZiBBKWJbTl0/Pz1bXSxiW05dLnB1c2goeCl9cmV0dXJuIGJ9LFtdKSxyPUwudXNlTWVtbygoKT0+T2JqZWN0LnZhbHVlcyhJZSkuc29ydCgoYix4KT0+Yi5uYW1lLmxvY2FsZUNvbXBhcmUoeC5uYW1lKSksW10pLFtpLHNdPUwudXNlU3RhdGUoe3ZhbHVlOiIiLHN0YXR1czowfSksYz1iPT5zKHg9Pih7Li4ueCx2YWx1ZTpifSkpLHU9Yj0+cyh4PT4oey4uLngsc3RhdHVzOmJ9KSkscD1iPT57bGV0IHg9ZS5wbHVnaW5zW2IubmFtZV0/LmVuYWJsZWQ7aWYoeCYmaS5zdGF0dXM9PT0yfHwheCYmaS5zdGF0dXM9PT0xfHxpLnN0YXR1cz09PTMmJiF5Py5pbmNsdWRlcyhiLm5hbWUpKXJldHVybiExO2lmKCFpLnZhbHVlLmxlbmd0aClyZXR1cm4hMDtsZXQgQT1pLnZhbHVlLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGIubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKEEpfHxiLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoQSl8fGIudGFncz8uc29tZShOPT5OLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoQSkpfSxbeV09WWUoKCk9PldlKCJWZW5jb3JkX2V4aXN0aW5nUGx1Z2lucyIpLnRoZW4oYj0+e2xldCB4PURhdGUubm93KCkvMWUzLEE9e30sTj1PYmplY3QudmFsdWVzKHIpLm1hcCgkPT4kLm5hbWUpLEk9W107Zm9yKGxldHtuYW1lOiR9b2YgcikoQVskXT1iPy5bJF0/P3gpKzYwKjYwKjI0KjI+eCYmSS5wdXNoKCQpO3JldHVybiBWZSgiVmVuY29yZF9leGlzdGluZ1BsdWdpbnMiLEEpLHVuc2FmZVdpbmRvdy5fLmlzRXF1YWwoSSxOKT9bXTpJfSkpLGgsUztpZihyPy5sZW5ndGgpe2g9W10sUz1bXTtmb3IobGV0IGIgb2Ygcil7aWYoIWIub3B0aW9ucyYmYi5uYW1lLmVuZHNXaXRoKCJBUEkiKSYmaS52YWx1ZSE9PSJBUEkifHwhcChiKSljb250aW51ZTtpZihiLnJlcXVpcmVkfHxuW2IubmFtZV0/LnNvbWUoQT0+ZS5wbHVnaW5zW0FdLmVuYWJsZWQpKXtsZXQgQT1iLnJlcXVpcmVkPyJUaGlzIHBsdWdpbiBpcyByZXF1aXJlZCBmb3IgVmVuY29yZCB0byBmdW5jdGlvbi4iOm0yKG5bYi5uYW1lXT8uZmlsdGVyKE49PmUucGx1Z2luc1tOXS5lbmFibGVkKSk7Uy5wdXNoKG8oWCx7dGV4dDpBLGtleTpiLm5hbWV9LCh7b25Nb3VzZUxlYXZlOk4sb25Nb3VzZUVudGVyOkl9KT0+byhpeSx7b25Nb3VzZUxlYXZlOk4sb25Nb3VzZUVudGVyOkksb25SZXN0YXJ0TmVlZGVkOiQ9PnQuaGFuZGxlQ2hhbmdlKCQpLGRpc2FibGVkOiEwLHBsdWdpbjpifSkpKX1lbHNlIGgucHVzaChvKGl5LHtvblJlc3RhcnROZWVkZWQ6QT0+dC5oYW5kbGVDaGFuZ2UoQSksZGlzYWJsZWQ6ITEscGx1Z2luOmIsaXNOZXc6eT8uaW5jbHVkZXMoYi5uYW1lKSxrZXk6Yi5uYW1lfSkpfX1lbHNlIGg9Uz1vKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJObyBwbHVnaW5zIG1lZXQgc2VhcmNoIGNyaXRlcmlhLiIpO3JldHVybiBvKF9uLHt0aXRsZToiUGx1Z2lucyJ9LG8oZDIse3JlcXVpcmVkOnQuaGFzQ2hhbmdlc30pLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUiLGNsYXNzTmFtZTpRKHoudG9wMjAsei5ib3R0b204KX0sIkZpbHRlcnMiKSxvKCJkaXYiLHtjbGFzc05hbWU6V28oImZpbHRlci1jb250cm9scyIpfSxvKF9lLHthdXRvRm9jdXM6ITAsdmFsdWU6aS52YWx1ZSxwbGFjZWhvbGRlcjoiU2VhcmNoIGZvciBhIHBsdWdpbi4uLiIsb25DaGFuZ2U6YyxjbGFzc05hbWU6ei5ib3R0b20yMH0pLG8oImRpdiIse2NsYXNzTmFtZTpyeS5pbnB1dFdyYXBwZXJ9LG8oZG4se2NsYXNzTmFtZTpyeS5pbnB1dERlZmF1bHQsb3B0aW9uczpbe2xhYmVsOiJTaG93IEFsbCIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IlNob3cgRW5hYmxlZCIsdmFsdWU6MX0se2xhYmVsOiJTaG93IERpc2FibGVkIix2YWx1ZToyfSx7bGFiZWw6IlNob3cgTmV3Iix2YWx1ZTozfV0sc2VyaWFsaXplOlN0cmluZyxzZWxlY3Q6dSxpc1NlbGVjdGVkOmI9PmI9PT1pLnN0YXR1cyxjbG9zZU9uU2VsZWN0OiEwfSkpKSxvKFQuRm9ybVRpdGxlLHtjbGFzc05hbWU6ei50b3AyMH0sIlBsdWdpbnMiKSxvKCJkaXYiLHtjbGFzc05hbWU6V28oImdyaWQiKX0saCksbyhULkZvcm1EaXZpZGVyLHtjbGFzc05hbWU6ei50b3AyMH0pLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUiLGNsYXNzTmFtZTpRKHoudG9wMjAsei5ib3R0b204KX0sIlJlcXVpcmVkIFBsdWdpbnMiKSxvKCJkaXYiLHtjbGFzc05hbWU6V28oImdyaWQiKX0sUykpfWZ1bmN0aW9uIG0yKGUpe3JldHVybiBvKEwuRnJhZ21lbnQsbnVsbCxvKFQuRm9ybVRleHQsbnVsbCwiVGhpcyBwbHVnaW4gaXMgcmVxdWlyZWQgYnk6IiksZS5tYXAodD0+byhULkZvcm1UZXh0LHtjbGFzc05hbWU6V28oImRlcC10ZXh0Iil9LHQpKSl9dmFyIFdvLG95LHJ5LGwyLGMyLHUyLHN5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtEaCgpO2xuKCk7VnMoKTtVKCk7T2UoKTtYaCgpO2F1KCk7am8oKTtQbCgpO01lKCk7bnQoKTtnZSgpO1plKCk7aGUoKTtGKCk7dygpO3lyKCk7cmEoKTtXbz1iZSgidmMtcGx1Z2lucy0iKSxveT1uZXcgVigiUGx1Z2luU2V0dGluZ3MiLCIjYTZkMTg5Iikscnk9QygiaW5wdXREZWZhdWx0IiwiaW5wdXRXcmFwcGVyIiksbDI9QygiYnV0dG9uIiwiZGlzYWJsZWQiLCJlbmFibGVkIiksYzI9cmUoKCk9PkhlKCIxOC41NjRDMTUuNzk3IDE5LjA5OSAxNC45MzIgMTkuNDk4IDE0IDE5LjczOFYyMkgxMFYxOS43MzhDOS4wNjkiKSksdTI9cmUoKCk9PkhlKCI0LjQ0MDg5MjFlLTE2IEM0LjQ3NzE1MjUsLTEuNzc2MzU2ODRlLTE1IDQuNDQwODkyMWUtMTYiKSl9KTt2YXIgYXk9e307U2UoYXkse2RlZmF1bHQ6KCk9PmYyfSk7dmFyIGYyLGx5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzeSgpO2pvKCk7ZjI9Qm4obXUsIlBsdWdpbnMiKX0pO2Z1bmN0aW9uIHJ0KGUpe3JldHVybiBlLmRpc2FibGVkJiYoZS5zdHlsZT8/PXt9LGUuc3R5bGUucG9pbnRlckV2ZW50cz0ibm9uZSIsZVsiYXJpYS1kaXNhYmxlZCJdPSEwKSxvKCJhIix7cm9sZToibGluayIsdGFyZ2V0OiJfYmxhbmsiLC4uLmV9LGUuY2hpbGRyZW4pfXZhciB4bz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTt2YXIgY3k9e307U2UoY3kse2RlZmF1bHQ6KCk9Pk0yfSk7ZnVuY3Rpb24gYjIoe2xpbms6ZX0pe2xldFt0LG4scl09WWUoKCk9PmYoZSkudGhlbihzPT57aWYocy5zdGF0dXM+MzAwKXRocm93YCR7cy5zdGF0dXN9ICR7cy5zdGF0dXNUZXh0fWA7bGV0IGM9cy5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIik7aWYoIWM/LnN0YXJ0c1dpdGgoInRleHQvY3NzIikmJiFjPy5zdGFydHNXaXRoKCJ0ZXh0L3BsYWluIikpdGhyb3ciTm90IGEgQ1NTIGZpbGUuIFJlbWVtYmVyIHRvIHVzZSB0aGUgcmF3IGxpbmshIjtyZXR1cm4iT2theSEifSkpLGk9cj8iQ2hlY2tpbmcuLi4iOm4/YEVycm9yOiAke24gaW5zdGFuY2VvZiBFcnJvcj9uLm1lc3NhZ2U6U3RyaW5nKG4pfWA6IlZhbGlkISI7cmV0dXJuIG8oVC5Gb3JtVGV4dCx7c3R5bGU6e2NvbG9yOnI/InZhcigtLXRleHQtbXV0ZWQpIjpuPyJ2YXIoLS10ZXh0LWRhbmdlcikiOiJ2YXIoLS10ZXh0LXBvc2l0aXZlKSJ9fSxpKX1mdW5jdGlvbiBUMih7dGhlbWVMaW5rczplfSl7cmV0dXJuIGUubGVuZ3RoP28oZCxudWxsLG8oVC5Gb3JtVGl0bGUse2NsYXNzTmFtZTp6LnRvcDIwLHRhZzoiaDUifSwiVmFsaWRhdG9yIiksbyhULkZvcm1UZXh0LG51bGwsIlRoaXMgc2VjdGlvbiB3aWxsIHRlbGwgeW91IHdoZXRoZXIgeW91ciB0aGVtZXMgY2FuIHN1Y2Nlc3NmdWxseSBiZSBsb2FkZWQiKSxvKCJkaXYiLG51bGwsZS5tYXAodD0+byhodCx7c3R5bGU6e3BhZGRpbmc6Ii41ZW0iLG1hcmdpbkJvdHRvbToiLjVlbSIsbWFyZ2luVG9wOiIuNWVtIn0sa2V5OnR9LG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUiLHN0eWxlOntvdmVyZmxvd1dyYXA6ImJyZWFrLXdvcmQifX0sdCksbyhiMix7bGluazp0fSkpKSkpOm51bGx9ZnVuY3Rpb24geDIoe3RoZW1lOmUsZW5hYmxlZDp0LG9uQ2hhbmdlOm4sb25EZWxldGU6cn0pe3JldHVybiBvKG5hLHtuYW1lOmUubmFtZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGF1dGhvcjplLmF1dGhvcixlbmFibGVkOnQsc2V0RW5hYmxlZDpuLGluZm9CdXR0b246bygiZGl2Iix7c3R5bGU6e2N1cnNvcjoicG9pbnRlciIsY29sb3I6InZhcigtLXN0YXR1cy1kYW5nZXIifSxvbkNsaWNrOnJ9LG8oaDIsbnVsbCkpLGZvb3RlcjpvKGNlLHtmbGV4RGlyZWN0aW9uOiJyb3ciLHN0eWxlOntnYXA6IjAuMmVtIn19LCEhZS53ZWJzaXRlJiZvKHJ0LHtocmVmOmUud2Vic2l0ZX0sIldlYnNpdGUiKSwhIShlLndlYnNpdGUmJmUuaW52aXRlKSYmIiBcdTIwMjIgIiwhIWUuaW52aXRlJiZvKHJ0LHtocmVmOmBodHRwczovL2Rpc2NvcmQuZ2cvJHtlLmludml0ZX1gLG9uQ2xpY2s6YXN5bmMgaT0+e2kucHJldmVudERlZmF1bHQoKTtsZXR7aW52aXRlOnN9PWF3YWl0IGcyLnJlc29sdmVJbnZpdGUoZS5pbnZpdGUsIkRlc2t0b3AgTW9kYWwiKTtpZighcylyZXR1cm4gTG4oIkludmFsaWQgb3IgZXhwaXJlZCBpbnZpdGUiKTtPLmRpc3BhdGNoKHt0eXBlOiJJTlZJVEVfTU9EQUxfT1BFTiIsaW52aXRlOnMsY29kZTplLmludml0ZSxjb250ZXh0OiJBUFAifSl9fSwiRGlzY29yZCBTZXJ2ZXIiKSl9KX1mdW5jdGlvbiB3Migpe2xldCBlPXB0KFsidGhlbWVMaW5rcyIsImVuYWJsZWRUaGVtZXMiXSksdD12dChudWxsKSxbbixyXT1qKDApLFtpLHNdPWooZS50aGVtZUxpbmtzLmpvaW4oYApgKSksW2MsdV09aihudWxsKSxbcCwseV09WWUoVmVuY29yZE5hdGl2ZS50aGVtZXMuZ2V0VGhlbWVzRGlyKTtEZSgoKT0+e2goKX0sW10pO2FzeW5jIGZ1bmN0aW9uIGgoKXtsZXQgST1hd2FpdCBWZW5jb3JkTmF0aXZlLnRoZW1lcy5nZXRUaGVtZXNMaXN0KCk7dShJKX1mdW5jdGlvbiBTKEksJCl7aWYoJCl7aWYoZS5lbmFibGVkVGhlbWVzLmluY2x1ZGVzKEkpKXJldHVybjtlLmVuYWJsZWRUaGVtZXM9Wy4uLmUuZW5hYmxlZFRoZW1lcyxJXX1lbHNlIGUuZW5hYmxlZFRoZW1lcz1lLmVuYWJsZWRUaGVtZXMuZmlsdGVyKF89Pl8hPT1JKX1hc3luYyBmdW5jdGlvbiBiKEkpe2lmKEkuc3RvcFByb3BhZ2F0aW9uKCksSS5wcmV2ZW50RGVmYXVsdCgpLCFJLmN1cnJlbnRUYXJnZXQ/LmZpbGVzPy5sZW5ndGgpcmV0dXJuO2xldHtmaWxlczokfT1JLmN1cnJlbnRUYXJnZXQsXz1BcnJheS5mcm9tKCQsSz0+e2xldHtuYW1lOm5lfT1LO2lmKCEhbmUuZW5kc1dpdGgoIi5jc3MiKSlyZXR1cm4gbmV3IFByb21pc2UoKFkscSk9PntsZXQgb2U9bmV3IEZpbGVSZWFkZXI7b2Uub25sb2FkPSgpPT57VmVuY29yZE5hdGl2ZS50aGVtZXMudXBsb2FkVGhlbWUobmUsb2UucmVzdWx0KS50aGVuKFkpLmNhdGNoKHEpfSxvZS5yZWFkQXNUZXh0KEspfSl9KTthd2FpdCBQcm9taXNlLmFsbChfKSxoKCl9ZnVuY3Rpb24geCgpe3JldHVybiBvKGQsbnVsbCxvKGh0LHtjbGFzc05hbWU6InZjLXNldHRpbmdzLWNhcmQifSxvKFQuRm9ybVRpdGxlLHt0YWc6Img1In0sIkZpbmQgVGhlbWVzOiIpLG8oImRpdiIse3N0eWxlOnttYXJnaW5Cb3R0b206Ii41ZW0iLGRpc3BsYXk6ImZsZXgiLGZsZXhEaXJlY3Rpb246ImNvbHVtbiJ9fSxvKHJ0LHtzdHlsZTp7bWFyZ2luUmlnaHQ6Ii41ZW0ifSxocmVmOiJodHRwczovL2JldHRlcmRpc2NvcmQuYXBwL3RoZW1lcyJ9LCJCZXR0ZXJEaXNjb3JkIFRoZW1lcyIpLG8ocnQse2hyZWY6Imh0dHBzOi8vZ2l0aHViLmNvbS9zZWFyY2g/cT1kaXNjb3JkK3RoZW1lIn0sIkdpdEh1YiIpKSxvKFQuRm9ybVRleHQsbnVsbCwnSWYgdXNpbmcgdGhlIEJEIHNpdGUsIGNsaWNrIG9uICJEb3dubG9hZCIgYW5kIHBsYWNlIHRoZSBkb3dubG9hZGVkIC50aGVtZS5jc3MgZmlsZSBpbnRvIHlvdXIgdGhlbWVzIGZvbGRlci4nKSksbyhULkZvcm1TZWN0aW9uLHt0aXRsZToiTG9jYWwgVGhlbWVzIn0sbyhodCx7Y2xhc3NOYW1lOiJ2Yy1zZXR0aW5ncy1xdWljay1hY3Rpb25zLWNhcmQifSxvKGQsbnVsbCxvKFIse3NpemU6Ui5TaXplcy5TTUFMTCxkaXNhYmxlZDp5fSwiVXBsb2FkIFRoZW1lIixvKHkyLHtyZWY6dCxvbkNoYW5nZTpiLG11bHRpcGxlOiEwLGZpbHRlcnM6W3tleHRlbnNpb25zOlsiKi5jc3MiXX1dfSkpLG8oUix7b25DbGljazpoLHNpemU6Ui5TaXplcy5TTUFMTH0sIkxvYWQgbWlzc2luZyBUaGVtZXMiKSxvKFIse29uQ2xpY2s6KCk9PlZlbmNvcmROYXRpdmUucXVpY2tDc3Mub3BlbkVkaXRvcigpLHNpemU6Ui5TaXplcy5TTUFMTH0sIkVkaXQgUXVpY2tDU1MiKSkpLG8oImRpdiIse2NsYXNzTmFtZTpTMigiZ3JpZCIpfSxjPy5tYXAoST0+byh4Mix7a2V5OkkuZmlsZU5hbWUsZW5hYmxlZDplLmVuYWJsZWRUaGVtZXMuaW5jbHVkZXMoSS5maWxlTmFtZSksb25DaGFuZ2U6JD0+UyhJLmZpbGVOYW1lLCQpLG9uRGVsZXRlOmFzeW5jKCk9PntTKEkuZmlsZU5hbWUsITEpLGF3YWl0IFZlbmNvcmROYXRpdmUudGhlbWVzLmRlbGV0ZVRoZW1lKEkuZmlsZU5hbWUpLGgoKX0sdGhlbWU6SX0pKSkpKX1mdW5jdGlvbiBBKCl7ZS50aGVtZUxpbmtzPVsuLi5uZXcgU2V0KGkudHJpbSgpLnNwbGl0KC9cbisvKS5tYXAoST0+SS50cmltKCkpLmZpbHRlcihCb29sZWFuKSldfWZ1bmN0aW9uIE4oKXtyZXR1cm4gbyhkLG51bGwsbyhodCx7Y2xhc3NOYW1lOiJ2Yy1zZXR0aW5ncy1jYXJkIHZjLXRleHQtc2VsZWN0YWJsZSJ9LG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUifSwiUGFzdGUgbGlua3MgdG8gY3NzIGZpbGVzIGhlcmUiKSxvKFQuRm9ybVRleHQsbnVsbCwiT25lIGxpbmsgcGVyIGxpbmUiKSxvKFQuRm9ybVRleHQsbnVsbCwiTWFrZSBzdXJlIHRvIHVzZSBkaXJlY3QgbGlua3MgdG8gZmlsZXMgKHJhdyBvciBnaXRodWIuaW8pISIpKSxvKFQuRm9ybVNlY3Rpb24se3RpdGxlOiJPbmxpbmUgVGhlbWVzIix0YWc6Img1In0sbyh2cyx7dmFsdWU6aSxvbkNoYW5nZTpzLGNsYXNzTmFtZTpRKHYyLnRleHRhcmVhLCJ2Yy1zZXR0aW5ncy10aGVtZS1saW5rcyIpLHBsYWNlaG9sZGVyOiJUaGVtZSBMaW5rcyIsc3BlbGxDaGVjazohMSxvbkJsdXI6QSxyb3dzOjEwfSksbyhUMix7dGhlbWVMaW5rczplLnRoZW1lTGlua3N9KSkpfXJldHVybiBvKF9uLHt0aXRsZToiVGhlbWVzIn0sbyh1cix7dHlwZToidG9wIixsb29rOiJicmFuZCIsY2xhc3NOYW1lOiJ2Yy1zZXR0aW5ncy10YWItYmFyIixzZWxlY3RlZEl0ZW06bixvbkl0ZW1TZWxlY3Q6cn0sbyh1ci5JdGVtLHtjbGFzc05hbWU6InZjLXNldHRpbmdzLXRhYi1iYXItaXRlbSIsaWQ6MH0sIkxvY2FsIFRoZW1lcyIpLG8odXIuSXRlbSx7Y2xhc3NOYW1lOiJ2Yy1zZXR0aW5ncy10YWItYmFyLWl0ZW0iLGlkOjF9LCJPbmxpbmUgVGhlbWVzIikpLG49PT0wJiZ4KCksbj09PTEmJk4oKSl9dmFyIGcyLGgyLHkyLHYyLFMyLE0yLHV5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7T2UoKTtidCgpO3hvKCk7bnQoKTtnZSgpO3ZyKCk7aGUoKTtGKCk7dygpO2F1KCk7am8oKTtnMj1DKCJyZXNvbHZlSW52aXRlIiksaDI9cGUoIk01IDYuOTk5MDJWMTguOTk5QzUgMjAuMTAxIDUuODk3IDIwLjk5OSIpLHkyPXBlKCJhY3RpdmF0ZVVwbG9hZERpYWxvZ3VlPSIpLHYyPVJlKGU9PnR5cGVvZiBlLnRleHRhcmVhPT0ic3RyaW5nIiksUzI9YmUoInZjLXNldHRpbmdzLXRoZW1lLSIpO00yPUJuKHcyLCJUaGVtZXMiKX0pO2Z1bmN0aW9uIGlhKHt2YWx1ZTplLG9uQ2hhbmdlOnQsdmFsaWRhdGU6bn0pe2xldFtyLGldPUwudXNlU3RhdGUoZSksW3MsY109TC51c2VTdGF0ZSgpO2Z1bmN0aW9uIHUocCl7aShwKTtsZXQgeT1uKHApO3k9PT0hMD8oYyh2b2lkIDApLHQocCkpOmMoeSl9cmV0dXJuIG8oZCxudWxsLG8oX2Use3R5cGU6InRleHQiLHZhbHVlOnIsb25DaGFuZ2U6dSxlcnJvcjpzfSkpfXZhciBmdT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpfSk7dmFyIHB5PXt9O1NlKHB5LHtkZWZhdWx0OigpPT5SMn0pO2Z1bmN0aW9uIFAyKGUpe3RyeXtyZXR1cm4gbmV3IFVSTChlKSwhMH1jYXRjaHtyZXR1cm4iSW52YWxpZCBVUkwifX1hc3luYyBmdW5jdGlvbiBJMigpe2xldCBlPWF3YWl0IGYobmV3IFVSTCgiL3YxLyIsaG8oKSkse21ldGhvZDoiREVMRVRFIixoZWFkZXJzOm5ldyBIZWFkZXJzKHtBdXRob3JpemF0aW9uOmF3YWl0IGdyKCl9KX0pO2lmKCFlLm9rKXtqcy5lcnJvcihgRmFpbGVkIHRvIGVyYXNlIGRhdGEsIEFQSSByZXR1cm5lZCAke2Uuc3RhdHVzfWApLHZlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb25zIixib2R5OmBDb3VsZCBub3QgZXJhc2UgYWxsIGRhdGEgKEFQSSByZXR1cm5lZCAke2Uuc3RhdHVzfSksIHBsZWFzZSBjb250YWN0IHN1cHBvcnQuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSk7cmV0dXJufWsuY2xvdWQuYXV0aGVudGljYXRlZD0hMSxhd2FpdCBfYygpLHZlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb25zIixib2R5OiJTdWNjZXNzZnVsbHkgZXJhc2VkIGFsbCBkYXRhLiIsY29sb3I6InZhcigtLWdyZWVuLTM2MCkifSl9ZnVuY3Rpb24gQzIoKXtsZXR7Y2xvdWQ6ZX09cHQoWyJjbG91ZC5hdXRoZW50aWNhdGVkIiwiY2xvdWQuc2V0dGluZ3NTeW5jIl0pLHQ9ZS5hdXRoZW50aWNhdGVkJiZlLnNldHRpbmdzU3luYztyZXR1cm4gbyhULkZvcm1TZWN0aW9uLHt0aXRsZToiU2V0dGluZ3MgU3luYyIsY2xhc3NOYW1lOnoudG9wMTZ9LG8oVC5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwiLGNsYXNzTmFtZTp6LmJvdHRvbTIwfSwiU3luY2hyb25pemUgeW91ciBzZXR0aW5ncyB0byB0aGUgY2xvdWQuIFRoaXMgYWxsb3dzIGVhc3kgc3luY2hyb25pemF0aW9uIGFjcm9zcyBtdWx0aXBsZSBkZXZpY2VzIHdpdGggbWluaW1hbCBlZmZvcnQuIiksbyh5dCx7a2V5OiJjbG91ZC1zeW5jIixkaXNhYmxlZDohZS5hdXRoZW50aWNhdGVkLHZhbHVlOmUuc2V0dGluZ3NTeW5jLG9uQ2hhbmdlOm49PntlLnNldHRpbmdzU3luYz1ufX0sIlNldHRpbmdzIFN5bmMiKSxvKCJkaXYiLHtjbGFzc05hbWU6InZjLWNsb3VkLXNldHRpbmdzLXN5bmMtZ3JpZCJ9LG8oUix7c2l6ZTpSLlNpemVzLlNNQUxMLGRpc2FibGVkOiF0LG9uQ2xpY2s6KCk9PmhyKCEwKX0sIlN5bmMgdG8gQ2xvdWQiKSxvKFgse3RleHQ6IlRoaXMgd2lsbCBvdmVyd3JpdGUgeW91ciBsb2NhbCBzZXR0aW5ncyB3aXRoIHRoZSBvbmVzIG9uIHRoZSBjbG91ZC4gVXNlIHdpc2VseSEifSwoe29uTW91c2VMZWF2ZTpuLG9uTW91c2VFbnRlcjpyfSk9Pm8oUix7b25Nb3VzZUxlYXZlOm4sb25Nb3VzZUVudGVyOnIsc2l6ZTpSLlNpemVzLlNNQUxMLGNvbG9yOlIuQ29sb3JzLlJFRCxkaXNhYmxlZDohdCxvbkNsaWNrOigpPT5ZcyghMCwhMCl9LCJTeW5jIGZyb20gQ2xvdWQiKSksbyhSLHtzaXplOlIuU2l6ZXMuU01BTEwsY29sb3I6Ui5Db2xvcnMuUkVELGRpc2FibGVkOiF0LG9uQ2xpY2s6KCk9PnZoKCl9LCJEZWxldGUgQ2xvdWQgU2V0dGluZ3MiKSkpfWZ1bmN0aW9uIE4yKCl7bGV0IGU9cHQoWyJjbG91ZC5hdXRoZW50aWNhdGVkIiwiY2xvdWQudXJsIl0pO3JldHVybiBvKF9uLHt0aXRsZToiVmVuY29yZCBDbG91ZCJ9LG8oVC5Gb3JtU2VjdGlvbix7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixjbGFzc05hbWU6ei50b3AxNn0sbyhULkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCIsY2xhc3NOYW1lOnouYm90dG9tMjB9LCJWZW5jb3JkIGNvbWVzIHdpdGggYSBjbG91ZCBpbnRlZ3JhdGlvbiB0aGF0IGFkZHMgZ29vZGllcyBsaWtlIHNldHRpbmdzIHN5bmMgYWNyb3NzIGRldmljZXMuIEl0ICIsbyhydCx7aHJlZjoiaHR0cHM6Ly92ZW5jb3JkLmRldi9jbG91ZC9wcml2YWN5In0sInJlc3BlY3RzIHlvdXIgcHJpdmFjeSIpLCIsIGFuZCB0aGUgIixvKHJ0LHtocmVmOiJodHRwczovL2dpdGh1Yi5jb20vVmVuY29yZC9CYWNrZW5kIn0sInNvdXJjZSBjb2RlIiksIiBpcyBBR1BMIDMuMCBsaWNlbnNlZCBzbyB5b3UgY2FuIGhvc3QgaXQgeW91cnNlbGYuIiksbyh5dCx7a2V5OiJiYWNrZW5kIix2YWx1ZTplLmNsb3VkLmF1dGhlbnRpY2F0ZWQsb25DaGFuZ2U6dD0+e3QmJmRoKCksdHx8KGUuY2xvdWQuYXV0aGVudGljYXRlZD10KX0sbm90ZToiVGhpcyB3aWxsIHJlcXVlc3QgYXV0aG9yaXphdGlvbiBpZiB5b3UgaGF2ZSBub3QgeWV0IHNldCB1cCBjbG91ZCBpbnRlZ3JhdGlvbnMuIn0sIkVuYWJsZSBDbG91ZCBJbnRlZ3JhdGlvbnMiKSxvKFQuRm9ybVRpdGxlLHt0YWc6Img1In0sIkJhY2tlbmQgVVJMIiksbyhULkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b204fSwiV2hpY2ggYmFja2VuZCB0byB1c2Ugd2hlbiB1c2luZyBjbG91ZCBpbnRlZ3JhdGlvbnMuIiksbyhpYSx7a2V5OiJiYWNrZW5kVXJsIix2YWx1ZTplLmNsb3VkLnVybCxvbkNoYW5nZTp0PT57ZS5jbG91ZC51cmw9dCxlLmNsb3VkLmF1dGhlbnRpY2F0ZWQ9ITEsX2MoKX0sdmFsaWRhdGU6UDJ9KSxvKFIse2NsYXNzTmFtZTp6LnRvcDgsc2l6ZTpSLlNpemVzLk1FRElVTSxjb2xvcjpSLkNvbG9ycy5SRUQsZGlzYWJsZWQ6IWUuY2xvdWQuYXV0aGVudGljYXRlZCxvbkNsaWNrOigpPT5OdC5zaG93KHt0aXRsZToiQXJlIHlvdSBzdXJlPyIsYm9keToiT25jZSB5b3VyIGRhdGEgaXMgZXJhc2VkLCB3ZSBjYW5ub3QgcmVjb3ZlciBpdC4gVGhlcmUncyBubyBnb2luZyBiYWNrISIsb25Db25maXJtOkkyLGNvbmZpcm1UZXh0OiJFcmFzZSBpdCEiLGNvbmZpcm1Db2xvcjoidmMtY2xvdWQtZXJhc2UtZGF0YS1kYW5nZXItYnRuIixjYW5jZWxUZXh0OiJOZXZlcm1pbmQifSl9LCJFcmFzZSBBbGwgRGF0YSIpLG8oVC5Gb3JtRGl2aWRlcix7Y2xhc3NOYW1lOnoudG9wMTZ9KSksbyhDMixudWxsKSl9dmFyIFIyLGR5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTttbygpO1UoKTtmdSgpO3hvKCk7QmMoKTtudCgpO21pKCk7dygpO2pvKCk7UjI9Qm4oTjIsIkNsb3VkIil9KTt2YXIgbXk9e307U2UobXkse2RlZmF1bHQ6KCk9PkEyfSk7ZnVuY3Rpb24gazIoKXtyZXR1cm4gbyhfbix7dGl0bGU6IkJhY2t1cCAmIFJlc3RvcmUifSxvKGh0LHtjbGFzc05hbWU6USgidmMtc2V0dGluZ3MtY2FyZCIsInZjLWJhY2t1cC1yZXN0b3JlLWNhcmQiKX0sbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIn0sbygic3Ryb25nIixudWxsLCJXYXJuaW5nIiksbygic3BhbiIsbnVsbCwiSW1wb3J0aW5nIGEgc2V0dGluZ3MgZmlsZSB3aWxsIG92ZXJ3cml0ZSB5b3VyIGN1cnJlbnQgc2V0dGluZ3MuIikpKSxvKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCIsY2xhc3NOYW1lOnouYm90dG9tOH0sIllvdSBjYW4gaW1wb3J0IGFuZCBleHBvcnQgeW91ciBWZW5jb3JkIHNldHRpbmdzIGFzIGEgSlNPTiBmaWxlLiBUaGlzIGFsbG93cyB5b3UgdG8gZWFzaWx5IHRyYW5zZmVyIHlvdXIgc2V0dGluZ3MgdG8gYW5vdGhlciBkZXZpY2UsIG9yIHJlY292ZXIgeW91ciBzZXR0aW5ncyBhZnRlciByZWluc3RhbGxpbmcgVmVuY29yZCBvciBEaXNjb3JkLiIpLG8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIixjbGFzc05hbWU6ei5ib3R0b204fSwiU2V0dGluZ3MgRXhwb3J0IGNvbnRhaW5zOiIsbygidWwiLG51bGwsbygibGkiLG51bGwsIlx1MjAxNCBDdXN0b20gUXVpY2tDU1MiKSxvKCJsaSIsbnVsbCwiXHUyMDE0IFRoZW1lIExpbmtzIiksbygibGkiLG51bGwsIlx1MjAxNCBQbHVnaW4gU2V0dGluZ3MiKSkpLG8oY2UsbnVsbCxvKFIse29uQ2xpY2s6KCk9PnloKCksc2l6ZTpSLlNpemVzLlNNQUxMfSwiSW1wb3J0IFNldHRpbmdzIiksbyhSLHtvbkNsaWNrOmdoLHNpemU6Ui5TaXplcy5TTUFMTH0sIkV4cG9ydCBTZXR0aW5ncyIpKSl9dmFyIEEyLGZ5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtidCgpO250KCk7Z2UoKTttaSgpO3coKTtqbygpO0EyPUJuKGsyLCJCYWNrdXAgJiBSZXN0b3JlIil9KTt2YXIgVGksZ3U9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1R0KCk7VSgpO1AoKTtNZSgpO00oKTt3KCk7enIoKTtUaT12KHtuYW1lOiJTZXR0aW5ncyIsZGVzY3JpcHRpb246IkFkZHMgU2V0dGluZ3MgVUkgYW5kIGRlYnVnIGluZm8iLGF1dGhvcnM6W20uVmVuLG0uTWVndV0scmVxdWlyZWQ6ITAsc3RhcnQoKXtkZSgidXNlci1zZXR0aW5ncy1jb2ciLGU9PigpPT57ZS5maW5kKG49PkFycmF5LmlzQXJyYXkobikmJm4uc29tZShyPT5yPy5wcm9wcz8uaWQ9PT0iVmVuY29yZFNldHRpbmdzIikpPy5mb3JFYWNoKG49PntuPy5wcm9wcz8uaWQ/LnN0YXJ0c1dpdGgoIlZlbmNvcmQiKSYmKG4ucHJvcHMuYWN0aW9uPSgpPT5wci5vcGVuKG4ucHJvcHMuaWQpKX0pfSl9LHBhdGNoZXM6W3tmaW5kOiIudmVyc2lvbkhhc2giLHJlcGxhY2VtZW50Olt7bWF0Y2g6L1xbXCgwLC57MSwzfVwuanN4cz9cKVwoKC57MSwxMH0pLChce1tee319XStcey57MCwyMH0udmVyc2lvbkhhc2gsLis/XH0pXCksIiAiLyxyZXBsYWNlOihlLHQsbik9PihuPW4ucmVwbGFjZSgvY2hpbGRyZW46XFsuK1xdLywiIiksYCR7ZX0sVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuU2V0dGluZ3MubWFrZUluZm9FbGVtZW50cygke3R9LCAke259KWApfV19LHtmaW5kOiJNZXNzYWdlcy5BQ1RJVklUWV9TRVRUSU5HUyIscmVwbGFjZW1lbnQ6e2dldCBtYXRjaCgpe3N3aXRjaChrLnBsdWdpbnMuU2V0dGluZ3Muc2V0dGluZ3NMb2NhdGlvbil7Y2FzZSJ0b3AiOnJldHVybi9ce3NlY3Rpb246KC57MSwyfSlcLklEXC5IRUFERVIsXHMqbGFiZWw6KC57MSwyfSlcLi57MSwyfVwuTWVzc2FnZXNcLlVTRVJfU0VUVElOR1NcfS87Y2FzZSJhYm92ZU5pdHJvIjpyZXR1cm4vXHtzZWN0aW9uOiguezEsMn0pXC5JRFwuSEVBREVSLFxzKmxhYmVsOiguezEsMn0pXC4uezEsMn1cLk1lc3NhZ2VzXC5CSUxMSU5HX1NFVFRJTkdTXH0vO2Nhc2UiYmVsb3dOaXRybyI6cmV0dXJuL1x7c2VjdGlvbjooLnsxLDJ9KVwuSURcLkhFQURFUixccypsYWJlbDooLnsxLDJ9KVwuLnsxLDJ9XC5NZXNzYWdlc1wuQVBQX1NFVFRJTkdTXH0vO2Nhc2UiYWJvdmVBY3Rpdml0eSI6cmV0dXJuL1x7c2VjdGlvbjooLnsxLDJ9KVwuSURcLkhFQURFUixccypsYWJlbDooLnsxLDJ9KVwuLnsxLDJ9XC5NZXNzYWdlc1wuQUNUSVZJVFlfU0VUVElOR1NcfS87Y2FzZSJiZWxvd0FjdGl2aXR5IjpyZXR1cm4vKD88PVx7c2VjdGlvbjooLnsxLDJ9KVwuSURcLkRJVklERVJ9LClce3NlY3Rpb246ImNoYW5nZWxvZyIvO2Nhc2UiYm90dG9tIjpyZXR1cm4vXHtzZWN0aW9uOiguezEsMn0pXC5JRFwuQ1VTVE9NLFxzKmVsZW1lbnQ6Lis/fS87ZGVmYXVsdDpyZXR1cm4gbmV3IFYoIlNldHRpbmdzIikuZXJyb3IobmV3IEVycm9yKCJObyBzd2l0Y2ggY2FzZSBtYXRjaGVkPz8/Pz8gRG9uJ3QgbWVzcyB3aXRoIHRoZSBzZXR0aW5ncywgc2lsbHkiKSksLyg/IWEpYS99fSxyZXBsYWNlOiIuLi4kc2VsZi5tYWtlU2V0dGluZ3NDYXRlZ29yaWVzKCQxKSwkJiJ9fV0sY3VzdG9tU2VjdGlvbnM6W10sbWFrZVNldHRpbmdzQ2F0ZWdvcmllcyh7SUQ6ZX0pe3JldHVyblt7c2VjdGlvbjplLkhFQURFUixsYWJlbDoiVmVuY29yZCJ9LHtzZWN0aW9uOiJWZW5jb3JkU2V0dGluZ3MiLGxhYmVsOiJWZW5jb3JkIixlbGVtZW50OihFaCgpLE9vKExoKSkuZGVmYXVsdH0se3NlY3Rpb246IlZlbmNvcmRQbHVnaW5zIixsYWJlbDoiUGx1Z2lucyIsZWxlbWVudDoobHkoKSxPbyhheSkpLmRlZmF1bHR9LHtzZWN0aW9uOiJWZW5jb3JkVGhlbWVzIixsYWJlbDoiVGhlbWVzIixlbGVtZW50Oih1eSgpLE9vKGN5KSkuZGVmYXVsdH0sITEse3NlY3Rpb246IlZlbmNvcmRDbG91ZCIsbGFiZWw6IkNsb3VkIixlbGVtZW50OihkeSgpLE9vKHB5KSkuZGVmYXVsdH0se3NlY3Rpb246IlZlbmNvcmRTZXR0aW5nc1N5bmMiLGxhYmVsOiJCYWNrdXAgJiBSZXN0b3JlIixlbGVtZW50OihmeSgpLE9vKG15KSkuZGVmYXVsdH0sITEsITEsLi4udGhpcy5jdXN0b21TZWN0aW9ucy5tYXAodD0+dChlKSkse3NlY3Rpb246ZS5ESVZJREVSfV0uZmlsdGVyKEJvb2xlYW4pfSxvcHRpb25zOntzZXR0aW5nc0xvY2F0aW9uOnt0eXBlOjQsZGVzY3JpcHRpb246IldoZXJlIHRvIHB1dCB0aGUgVmVuY29yZCBzZXR0aW5ncyBzZWN0aW9uIixvcHRpb25zOlt7bGFiZWw6IkF0IHRoZSB2ZXJ5IHRvcCIsdmFsdWU6InRvcCJ9LHtsYWJlbDoiQWJvdmUgdGhlIE5pdHJvIHNlY3Rpb24iLHZhbHVlOiJhYm92ZU5pdHJvIn0se2xhYmVsOiJCZWxvdyB0aGUgTml0cm8gc2VjdGlvbiIsdmFsdWU6ImJlbG93Tml0cm8ifSx7bGFiZWw6IkFib3ZlIEFjdGl2aXR5IFNldHRpbmdzIix2YWx1ZToiYWJvdmVBY3Rpdml0eSIsZGVmYXVsdDohMH0se2xhYmVsOiJCZWxvdyBBY3Rpdml0eSBTZXR0aW5ncyIsdmFsdWU6ImJlbG93QWN0aXZpdHkifSx7bGFiZWw6IkF0IHRoZSB2ZXJ5IGJvdHRvbSIsdmFsdWU6ImJvdHRvbSJ9XSxyZXN0YXJ0TmVlZGVkOiEwfX0sZ2V0IGVsZWN0cm9uVmVyc2lvbigpe3JldHVybiBWZW5jb3JkTmF0aXZlLm5hdGl2ZS5nZXRWZXJzaW9ucygpLmVsZWN0cm9ufHx1bnNhZmVXaW5kb3cuYXJtY29yZD8uZWxlY3Ryb258fG51bGx9LGdldCBjaHJvbWl1bVZlcnNpb24oKXt0cnl7cmV0dXJuIFZlbmNvcmROYXRpdmUubmF0aXZlLmdldFZlcnNpb25zKCkuY2hyb21lfHxuYXZpZ2F0b3IudXNlckFnZW50RGF0YT8uYnJhbmRzPy5maW5kKGU9PmUuYnJhbmQ9PT0iQ2hyb21pdW0ifHxlLmJyYW5kPT09Ikdvb2dsZSBDaHJvbWUiKT8udmVyc2lvbnx8bnVsbH1jYXRjaHtyZXR1cm4gbnVsbH19LGdldCBhZGRpdGlvbmFsSW5mbygpe3JldHVybiIgKFdlYikifSxtYWtlSW5mb0VsZW1lbnRzKGUsdCl7bGV0e2VsZWN0cm9uVmVyc2lvbjpuLGNocm9taXVtVmVyc2lvbjpyLGFkZGl0aW9uYWxJbmZvOml9PXRoaXM7cmV0dXJuIG8oZCxudWxsLG8oZSx7Li4udH0sIlZlbmNvcmQgIixjbixpKSxuJiZvKGUsey4uLnR9LCJFbGVjdHJvbiAiLG4pLHImJm8oZSx7Li4udH0sIkNocm9taXVtICIscikpfX0pfSk7dmFyIGh1LGd5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2h1PXYoe25hbWU6IkFsd2F5c0FuaW1hdGUiLGRlc2NyaXB0aW9uOiJBbmltYXRlcyBhbnl0aGluZyB0aGF0IGNhbiBiZSBhbmltYXRlZCwgYmVzaWRlcyBzdGF0dXMgZW1vamlzLiIsYXV0aG9yczpbbS5GaWVyeUZsYW1lc10scGF0Y2hlczpbe2ZpbmQ6Ii5jYW5BbmltYXRlIixhbGw6ITAscmVwbGFjZW1lbnQ6e21hdGNoOi9cLmNhbkFuaW1hdGVcYi9nLHJlcGxhY2U6Ii5jYW5BbmltYXRlIHx8IHRydWUifX1dfSl9KTt2YXIgeXUsaHk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7eXU9dih7bmFtZToiQWx3YXlzVHJ1c3QiLGRlc2NyaXB0aW9uOiJSZW1vdmVzIHRoZSBhbm5veWluZyB1bnRydXN0ZWQgZG9tYWluIGFuZCBzdXNwaWNpb3VzIGZpbGUgcG9wdXAiLGF1dGhvcnM6W20uenRdLHBhdGNoZXM6W3tmaW5kOicuZGlzcGxheU5hbWU9Ik1hc2tlZExpbmtTdG9yZSInLHJlcGxhY2VtZW50OnttYXRjaDovXC5pc1RydXN0ZWREb21haW49ZnVuY3Rpb25cKC5cKXtyZXR1cm4uKz99Oy8scmVwbGFjZToiLmlzVHJ1c3RlZERvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0cnVlfTsifX0se2ZpbmQ6JyI3eiIsImFkZSIsImFkcCInLHJlcGxhY2VtZW50OnttYXRjaDovSlNPTlwucGFyc2VcKCdcWy4rPydcKS8scmVwbGFjZToiW10ifX1dfSl9KTt2YXIgdnUseXk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtQKCk7TSgpO3Z1PXYoe25hbWU6IkFub255bWlzZUZpbGVOYW1lcyIsYXV0aG9yczpbbS5vYnNjdXJpdHldLGRlc2NyaXB0aW9uOiJBbm9ueW1pc2UgdXBsb2FkZWQgZmlsZSBuYW1lcyIscGF0Y2hlczpbe2ZpbmQ6Imluc3RhbnRCYXRjaFVwbG9hZDpmdW5jdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi91cGxvYWRGaWxlczooLnsxLDJ9KSwvLHJlcGxhY2U6InVwbG9hZEZpbGVzOiguLi5hcmdzKT0+KGFyZ3NbMF0udXBsb2Fkcy5mb3JFYWNoKGY9PmYuZmlsZW5hbWU9JHNlbGYuYW5vbnltaXNlKGYuZmlsZW5hbWUpKSwkMSguLi5hcmdzKSksIn19XSxvcHRpb25zOnttZXRob2Q6e2Rlc2NyaXB0aW9uOiJBbm9ueW1pc2luZyBtZXRob2QiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IlJhbmRvbSBDaGFyYWN0ZXJzIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQ29uc2lzdGVudCIsdmFsdWU6MX0se2xhYmVsOiJUaW1lc3RhbXAgKDRjaGFuLWxpa2UpIix2YWx1ZToyfV19LHJhbmRvbWlzZWRMZW5ndGg6e2Rlc2NyaXB0aW9uOiJSYW5kb20gY2hhcmFjdGVycyBsZW5ndGgiLHR5cGU6MSxkZWZhdWx0OjcsZGlzYWJsZWQ6KCk9PmsucGx1Z2lucy5Bbm9ueW1pc2VGaWxlTmFtZXMubWV0aG9kIT09MH0sY29uc2lzdGVudDp7ZGVzY3JpcHRpb246IkNvbnNpc3RlbnQgZmlsZW5hbWUiLHR5cGU6MCxkZWZhdWx0OiJpbWFnZSIsZGlzYWJsZWQ6KCk9PmsucGx1Z2lucy5Bbm9ueW1pc2VGaWxlTmFtZXMubWV0aG9kIT09MX19LGFub255bWlzZShlKXtsZXQgdD0iaW1hZ2UiLG49ZS5sYXN0SW5kZXhPZigiLiIpLHI9biE9PS0xP2Uuc2xpY2Uobik6IiI7c3dpdGNoKGsucGx1Z2lucy5Bbm9ueW1pc2VGaWxlTmFtZXMubWV0aG9kKXtjYXNlIDA6bGV0IGk9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ijt0PUFycmF5LmZyb20oe2xlbmd0aDprLnBsdWdpbnMuQW5vbnltaXNlRmlsZU5hbWVzLnJhbmRvbWlzZWRMZW5ndGh9LCgpPT5pW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppLmxlbmd0aCldKS5qb2luKCIiKTticmVhaztjYXNlIDE6dD1rLnBsdWdpbnMuQW5vbnltaXNlRmlsZU5hbWVzLmNvbnNpc3RlbnQ7YnJlYWs7Y2FzZSAyOnQ9YCR7TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9JHtNYXRoLmZsb29yKHVuc2FmZVdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSl9YDticmVha31yZXR1cm4gdCtyfX0pfSk7YXN5bmMgZnVuY3Rpb24gdnkoZSx0KXtyZXR1cm4oYXdhaXQgTDIuZ2V0QXNzZXQoZSxbdCx2b2lkIDBdKSlbMF19YXN5bmMgZnVuY3Rpb24gRDIoZSl7bGV0IHQ9e307cmV0dXJuIGF3YWl0IEUyKHQsZSksdC5hcHBsaWNhdGlvbn12YXIgTDIsRTIsU3ksd3IsU3UsYnk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1ZzKCk7eG8oKTtQKCk7TSgpO0YoKTt3KCk7TDI9ZXQoImdldEFzc2V0SW1hZ2U6IHNpemUgbXVzdCA9PT0gW251bWJlciwgbnVtYmVyXSBmb3IgVHdpdGNoIix7Z2V0QXNzZXQ6Si5ieUNvZGUoImFwcGx5KCIpfSksRTI9cGUoIi5BUFBMSUNBVElPTl9SUEMoIik7U3k9e307U3U9dih7bmFtZToiV2ViUmljaFByZXNlbmNlIChhclJQQykiLGRlc2NyaXB0aW9uOiJDbGllbnQgcGx1Z2luIGZvciBhclJQQyB0byBlbmFibGUgUlBDIG9uIERpc2NvcmQgV2ViIChleHBlcmltZW50YWwpIixhdXRob3JzOlttLkR1Y2tvXSxzZXR0aW5nc0Fib3V0Q29tcG9uZW50OigpPT5vKGQsbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIkhvdyB0byB1c2UgYXJSUEMiKSxvKFQuRm9ybVRleHQsbnVsbCxvKHJ0LHtocmVmOiJodHRwczovL2dpdGh1Yi5jb20vT3BlbkFzYXIvYXJycGMvdHJlZS9tYWluI3NlcnZlciJ9LCJGb2xsb3cgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgR2l0SHViIHJlcG8iKSwiIHRvIGdldCB0aGUgc2VydmVyIHJ1bm5pbmcsIGFuZCB0aGVuIGVuYWJsZSB0aGUgcGx1Z2luLiIpKSxhc3luYyBzdGFydCgpe2lmKCJhcm1jb3JkImluIHVuc2FmZVdpbmRvdylyZXR1cm47aWYod3ImJndyLmNsb3NlKCksd3I9bmV3IFdlYlNvY2tldCgid3M6Ly8xMjcuMC4wLjE6MTMzNyIpLHdyLm9ubWVzc2FnZT1hc3luYyB0PT57bGV0IG49SlNPTi5wYXJzZSh0LmRhdGEpO2lmKG4uYWN0aXZpdHk/LmFzc2V0cz8ubGFyZ2VfaW1hZ2UmJihuLmFjdGl2aXR5LmFzc2V0cy5sYXJnZV9pbWFnZT1hd2FpdCB2eShuLmFjdGl2aXR5LmFwcGxpY2F0aW9uX2lkLG4uYWN0aXZpdHkuYXNzZXRzLmxhcmdlX2ltYWdlKSksbi5hY3Rpdml0eT8uYXNzZXRzPy5zbWFsbF9pbWFnZSYmKG4uYWN0aXZpdHkuYXNzZXRzLnNtYWxsX2ltYWdlPWF3YWl0IHZ5KG4uYWN0aXZpdHkuYXBwbGljYXRpb25faWQsbi5hY3Rpdml0eS5hc3NldHMuc21hbGxfaW1hZ2UpKSxuLmFjdGl2aXR5KXtsZXQgcj1uLmFjdGl2aXR5LmFwcGxpY2F0aW9uX2lkO1N5W3JdfHw9YXdhaXQgRDIocik7bGV0IGk9U3lbcl07bi5hY3Rpdml0eS5uYW1lfHw9aS5uYW1lfU8uZGlzcGF0Y2goe3R5cGU6IkxPQ0FMX0FDVElWSVRZX1VQREFURSIsLi4ubn0pfSwhYXdhaXQgbmV3IFByb21pc2UodD0+c2V0VGltZW91dCgoKT0+dCh3ci5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4pLDFlMykpKXt5aSgiRmFpbGVkIHRvIGNvbm5lY3QgdG8gYXJSUEMsIGlzIGl0IHJ1bm5pbmc/IiwiUmV0cnkiLCgpPT57amMoKSx0aGlzLnN0YXJ0KCl9KTtyZXR1cm59Wi5zaG93KHttZXNzYWdlOiJDb25uZWN0ZWQgdG8gYXJSUEMiLHR5cGU6Wi5UeXBlLlNVQ0NFU1MsaWQ6Wi5nZW5JZCgpLG9wdGlvbnM6e2R1cmF0aW9uOjFlMyxwb3NpdGlvbjpaLlBvc2l0aW9uLkJPVFRPTX19KX0sc3RvcCgpe08uZGlzcGF0Y2goe3R5cGU6IkxPQ0FMX0FDVElWSVRZX1VQREFURSIsYWN0aXZpdHk6bnVsbH0pLHdyPy5jbG9zZSgpfX0pfSk7dmFyIGJ1LFR5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2J1PXYoe25hbWU6IkJBTmdlciIsZGVzY3JpcHRpb246IlJlcGxhY2VzIHRoZSBHSUYgaW4gdGhlIGJhbiBkaWFsb2d1ZSB3aXRoIGEgY3VzdG9tIG9uZS4iLGF1dGhvcnM6W20uWGludG8sbS5HbGl0Y2hdLHBhdGNoZXM6W3tmaW5kOiJCQU5fQ09ORklSTV9USVRMRS4iLHJlcGxhY2VtZW50OnttYXRjaDovc3JjOlx3XChcZCtcKS9nLHJlcGxhY2U6InNyYzogVmVuY29yZC5TZXR0aW5ncy5wbHVnaW5zLkJBTmdlci5zb3VyY2UifX1dLG9wdGlvbnM6e3NvdXJjZTp7ZGVzY3JpcHRpb246IlNvdXJjZSB0byByZXBsYWNlIGJhbiBHSUYgd2l0aCAoVmlkZW8gb3IgR2lmKSIsdHlwZTowLGRlZmF1bHQ6Imh0dHBzOi8vaS5pbWd1ci5jb20vd3A1cTUyQy5tcDQiLHJlc3RhcnROZWVkZWQ6ITB9fX0pfSk7dmFyIHh5PWcoKCk9Pnt9KTtmdW5jdGlvbiBfMihlKXtsZXQgdD1WZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5CZXR0ZXJGb2xkZXJzLkd1aWxkcyhlKSxuPXQucHJvcHMuY2hpbGRyZW4/LnByb3BzPy5jaGlsZHJlbj8ucHJvcHM/LmNoaWxkcmVuPy5bMV0/LnByb3BzO2lmKG4/LmNoaWxkcmVuKXtsZXQgcj1uLmNoaWxkcmVuLmZpbmQoaT0+aT8ucHJvcHM/LlsiYXJpYS1sYWJlbCJdPT09Y3QuTWVzc2FnZXMuU0VSVkVSUyk7ciYmKG4uY2hpbGRyZW49cil9cmV0dXJuIHR9dmFyIE8yLHd5LE15LFB5LEl5LEN5LE55PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7T2UoKTtzZSgpO0YoKTt3KCk7TzI9YmUoInZjLWJmLSIpLHd5PUMoInNpZGViYXIiLCJndWlsZHMiKSxNeT1DKCJhIiwiYW5pbWF0ZWQiLCJ1c2VUcmFuc2l0aW9uIiksUHk9bGUoIkNoYW5uZWxSVENTdG9yZSIpLEl5PWxlKCJFeHBhbmRlZEd1aWxkRm9sZGVyU3RvcmUiKTtDeT1ELndyYXAoKCk9PntsZXQgZT1xZShbSXldLCgpPT5JeS5nZXRFeHBhbmRlZEZvbGRlcnMoKSksdD1xZShbUHldLCgpPT5QeS5pc0Z1bGxzY3JlZW5JbkNvbnRleHQoKSksbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt3eS5ndWlsZHN9YCkscj0hIWUuc2l6ZSxpPU8yKCJmb2xkZXItc2lkZWJhciIse2Z1bGxzY3JlZW46dH0pLHM9byhfMix7Y2xhc3NOYW1lOnd5Lmd1aWxkcyxiZkd1aWxkRm9sZGVyczpBcnJheS5mcm9tKGUpfSk7cmV0dXJuIW58fCFrLnBsdWdpbnMuQmV0dGVyRm9sZGVycy5zaWRlYmFyQW5pbT9yP28oImRpdiIse2NsYXNzTmFtZTppfSxzKTpudWxsOm8oTXkuVHJhbnNpdGlvbix7aXRlbXM6cixmcm9tOnt3aWR0aDowfSxlbnRlcjp7d2lkdGg6bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aH0sbGVhdmU6e3dpZHRoOjB9LGNvbmZpZzp7ZHVyYXRpb246MjAwfX0sKGMsdSk9PnUmJm8oTXkuYW5pbWF0ZWQuZGl2LHtzdHlsZTpjLGNsYXNzTmFtZTppfSxzKSl9LHtub29wOiEwfSl9KTt2YXIgQjIsRjIsVHUseHUsVm4sd3UsUnk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3h5KCk7VSgpO1AoKTtNKCk7RigpO3coKTtOeSgpO0IyPVJlKGU9PmUucHJvdG90eXBlPy5jb252ZXJ0VG9Gb2xkZXIpLEYyPWxlKCJTb3J0ZWRHdWlsZFN0b3JlIiksVHU9bGUoIkV4cGFuZGVkR3VpbGRGb2xkZXJTdG9yZSIpLHh1PUMoIm1vdmUiLCJ0b2dnbGVHdWlsZEZvbGRlckV4cGFuZCIpLFZuPUUoe3NpZGViYXI6e3R5cGU6MyxkZXNjcmlwdGlvbjoiRGlzcGxheSBzZXJ2ZXJzIGZyb20gZm9sZGVyIG9uIGRlZGljYXRlZCBzaWRlYmFyIixkZWZhdWx0OiEwfSxzaWRlYmFyQW5pbTp7dHlwZTozLGRlc2NyaXB0aW9uOiJBbmltYXRlIG9wZW5pbmcgdGhlIGZvbGRlciBzaWRlYmFyIixkZWZhdWx0OiEwfSxjbG9zZUFsbEZvbGRlcnM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiQ2xvc2UgYWxsIGZvbGRlcnMgd2hlbiBzZWxlY3RpbmcgYSBzZXJ2ZXIgbm90IGluIGEgZm9sZGVyIixkZWZhdWx0OiExfSxjbG9zZUFsbEhvbWVCdXR0b246e3R5cGU6MyxkZXNjcmlwdGlvbjoiQ2xvc2UgYWxsIGZvbGRlcnMgd2hlbiBjbGlja2luZyBvbiB0aGUgaG9tZSBidXR0b24iLGRlZmF1bHQ6ITF9LGNsb3NlT3RoZXJzOnt0eXBlOjMsZGVzY3JpcHRpb246IkNsb3NlIG90aGVyIGZvbGRlcnMgd2hlbiBvcGVuaW5nIGEgZm9sZGVyIixkZWZhdWx0OiExfSxmb3JjZU9wZW46e3R5cGU6MyxkZXNjcmlwdGlvbjoiRm9yY2UgYSBmb2xkZXIgdG8gb3BlbiB3aGVuIHN3aXRjaGluZyB0byBhIHNlcnZlciBvZiB0aGF0IGZvbGRlciIsZGVmYXVsdDohMX19KSx3dT12KHtuYW1lOiJCZXR0ZXJGb2xkZXJzIixkZXNjcmlwdGlvbjoiU2hvd3Mgc2VydmVyIGZvbGRlcnMgb24gZGVkaWNhdGVkIHNpZGViYXIgYW5kIGFkZHMgZm9sZGVyIHJlbGF0ZWQgaW1wcm92ZW1lbnRzIixhdXRob3JzOlttLmp1YnksbS5BdXR1bW5WTl0scGF0Y2hlczpbe2ZpbmQ6JygiZ3VpbGRzbmF2IiknLHByZWRpY2F0ZTooKT0+Vm4uc3RvcmUuc2lkZWJhcixyZXBsYWNlbWVudDpbe21hdGNoOi8oXGkpXChcKXtyZXR1cm4gXGlcKFwoMCxcaVwuanN4XClcKCJkaXYiLHtjbGFzc05hbWU6XGlcKFwpXC5ndWlsZFNlcGFyYXRvcn1cKVwpfS8scmVwbGFjZToiJCYkc2VsZi5TZXBhcmF0b3I9JDE7In0se21hdGNoOi9caVwoXChmdW5jdGlvblwoXGksXGksXGlcKXt2YXIgXGk9XGlcLmtleTtyZXR1cm4uK1woXGlcKX0sXGlcKX1cKVwpLyxyZXBsYWNlOiJhcmd1bWVudHNbMF0uYmZIaWRlU2VydmVycz9udWxsOiQmIn0se21hdGNoOi8oXGkpXC50aGVtZU92ZXJyaWRlLCguezE1LDI1fVwoZnVuY3Rpb25cKFwpe3ZhciBcaT0pKFxpXC5caVwuZ2V0R3VpbGRzVHJlZVwoXCkpLyxyZXBsYWNlOiIkMS50aGVtZU92ZXJyaWRlLGJmUGF0Y2g9JDEuYmZHdWlsZEZvbGRlcnMsJDJiZlBhdGNoPyRzZWxmLmdldEd1aWxkc1RyZWUoYmZQYXRjaCwkMyk6JDMifSx7bWF0Y2g6L3JldHVybihcKDAsXGlcLmpzeFwpKShcKFxpLHspKGZvbGRlck5vZGU6XGksc2V0Tm9kZVJlZjpcaVwuc2V0Tm9kZVJlZixkcmFnZ2FibGU6ITAsLit9LFxpXC5pZFwpKTtjYXNlLyxyZXBsYWNlOiJ2YXIgYmZIaWRlU2VydmVycz10eXBlb2YgYmZQYXRjaD09PSd1bmRlZmluZWQnLGZvbGRlcj0kMSQyYmZIaWRlU2VydmVycywkMztyZXR1cm4gIWJmSGlkZVNlcnZlcnMmJmFyZ3VtZW50c1sxXT9bJDEoJHNlbGYuU2VwYXJhdG9yLHt9KSxmb2xkZXJdOmZvbGRlcjtjYXNlIn0se21hdGNoOi9cKCJndWlsZHNuYXYiXCk7cmV0dXJuXCgwLFxpXC5qc3hcKVwoLnsxLDZ9LHtuYXZpZ2F0b3I6XGksY2hpbGRyZW46XCgwLFxpXC5qc3hcKVwoLyxyZXBsYWNlOiIkJiRzZWxmLkd1aWxkcz0ifV19LHtmaW5kOiJBUFBMSUNBVElPTl9MSUJSQVJZLHJlbmRlciIscHJlZGljYXRlOigpPT5Wbi5zdG9yZS5zaWRlYmFyLHJlcGxhY2VtZW50OnttYXRjaDovKFwoMCxcaVwuanN4XCkpXChcaVwuLix7Y2xhc3NOYW1lOlxpXChcKVwuZ3VpbGRzLHRoZW1lT3ZlcnJpZGU6XGl9XCkvLHJlcGxhY2U6IiQmLCQxKCRzZWxmLkZvbGRlclNpZGVCYXIse30pIn19LHtmaW5kOicoImd1aWxkc25hdiIpJyxwcmVkaWNhdGU6KCk9PlZuLnN0b3JlLmNsb3NlQWxsSG9tZUJ1dHRvbixyZXBsYWNlbWVudDp7bWF0Y2g6IixvbkNsaWNrOmZ1bmN0aW9uKCl7aWYoIV9fT1ZFUkxBWV9fKXsiLHJlcGxhY2U6IiQmJHNlbGYuY2xvc2VGb2xkZXJzKCk7In19XSxzZXR0aW5nczpWbixzdGFydCgpe2xldCBlPXQ9PkYyLmdldEd1aWxkRm9sZGVycygpLmZpbmQobj0+bi5ndWlsZElkcy5pbmNsdWRlcyh0KSk7Ty5zdWJzY3JpYmUoIkNIQU5ORUxfU0VMRUNUIix0aGlzLm9uU3dpdGNoPXQ9PntpZighKCFWbi5zdG9yZS5jbG9zZUFsbEZvbGRlcnMmJiFWbi5zdG9yZS5mb3JjZU9wZW4pJiZ0aGlzLmxhc3RHdWlsZElkIT09dC5ndWlsZElkKXt0aGlzLmxhc3RHdWlsZElkPXQuZ3VpbGRJZDtsZXQgbj1lKHQuZ3VpbGRJZCk7bj8uZm9sZGVySWQ/Vm4uc3RvcmUuZm9yY2VPcGVuJiYhVHUuaXNGb2xkZXJFeHBhbmRlZChuLmZvbGRlcklkKSYmeHUudG9nZ2xlR3VpbGRGb2xkZXJFeHBhbmQobi5mb2xkZXJJZCk6Vm4uc3RvcmUuY2xvc2VBbGxGb2xkZXJzJiZ0aGlzLmNsb3NlRm9sZGVycygpfX0pLE8uc3Vic2NyaWJlKCJUT0dHTEVfR1VJTERfRk9MREVSX0VYUEFORCIsdGhpcy5vblRvZ2dsZUZvbGRlcj10PT57Vm4uc3RvcmUuY2xvc2VPdGhlcnMmJiF0aGlzLmRpc3BhdGNoaW5nJiZPLndhaXQoKCk9PntsZXQgbj1UdS5nZXRFeHBhbmRlZEZvbGRlcnMoKTtpZihuLnNpemU+MSl7dGhpcy5kaXNwYXRjaGluZz0hMDtmb3IobGV0IHIgb2YgbilyIT09dC5mb2xkZXJJZCYmeHUudG9nZ2xlR3VpbGRGb2xkZXJFeHBhbmQocik7dGhpcy5kaXNwYXRjaGluZz0hMX19KX0pfSxzdG9wKCl7Ty51bnN1YnNjcmliZSgiQ0hBTk5FTF9TRUxFQ1QiLHRoaXMub25Td2l0Y2gpLE8udW5zdWJzY3JpYmUoIlRPR0dMRV9HVUlMRF9GT0xERVJfRVhQQU5EIix0aGlzLm9uVG9nZ2xlRm9sZGVyKX0sRm9sZGVyU2lkZUJhcjpDeSxnZXRHdWlsZHNUcmVlKGUsdCl7bGV0IG49bmV3IEIyO3JldHVybiBuLnJvb3QuY2hpbGRyZW49dC5yb290LmNoaWxkcmVuLmZpbHRlcihyPT5lLmluY2x1ZGVzKHIuaWQpKSxuLm5vZGVzPWUubWFwKHI9PnQubm9kZXNbcl0pLG59LGNsb3NlRm9sZGVycygpe2ZvcihsZXQgZSBvZiBUdS5nZXRFeHBhbmRlZEZvbGRlcnMoKSl4dS50b2dnbGVHdWlsZEZvbGRlckV4cGFuZChlKX19KX0pO3ZhciBNdSxreT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtNdT12KHtuYW1lOiJCZXR0ZXJHaWZBbHRUZXh0IixhdXRob3JzOlttLlZlbl0sZGVzY3JpcHRpb246IkNoYW5nZSBHSUYgYWx0IHRleHQgZnJvbSBzaW1wbHkgYmVpbmcgJ0dJRicgdG8gY29udGFpbmluZyB0aGUgZ2lmIHRhZ3MgLyBmaWxlbmFtZSIscGF0Y2hlczpbe2ZpbmQ6Im9uQ2xvc2VJbWFnZT0iLHJlcGxhY2VtZW50OnttYXRjaDovKHJldHVybi57MCwxMH1cLmpzeC57MCw1MH1pc1dpbmRvd0ZvY3VzZWQpLyxyZXBsYWNlOiIkc2VsZi5hbHRpZnkoZSk7JDEifX0se2ZpbmQ6J3ByZWxvYWQ6Im5vbmUiLCJhcmlhJyxyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD09KC57MSwzfSlcLmFsdC57MCwyMH0pXD8uezAsNX1cLk1lc3NhZ2VzXC5HSUYvLHJlcGxhY2U6Ij8oJDEuYWx0PSdHSUYnLCRzZWxmLmFsdGlmeSgkMSkpIn19XSxhbHRpZnkoZSl7aWYoZS5hbHQhPT0iR0lGIilyZXR1cm4gZS5hbHQ7bGV0IHQ9ZS5vcmlnaW5hbHx8ZS5zcmM7dHJ5e3Q9ZGVjb2RlVVJJKHQpfWNhdGNoe31sZXQgbj10LnNsaWNlKHQubGFzdEluZGV4T2YoIi8iKSsxKS5yZXBsYWNlKC9cZC9nLCIiKS5yZXBsYWNlKC8uZ2lmJC8sIiIpLnNwbGl0KC9bLFwtXyBdKy9nKS5zbGljZSgwLDIwKS5qb2luKCIgIik7cmV0dXJuIG4ubGVuZ3RoPjMwMCYmKG49bi5zbGljZSgwLDMwMCkrIi4uLiIpLG4mJihlLmFsdCs9YCAtICR7bn1gKSxlLmFsdH19KX0pO3ZhciBQdSxBeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7UHU9dih7bmFtZToiQmV0dGVyTm90ZXNCb3giLGRlc2NyaXB0aW9uOiJIaWRlIG5vdGVzIG9yIGRpc2FibGUgc3BlbGxjaGVjayAoQ29uZmlndXJlIGluIHNldHRpbmdzISEpIixhdXRob3JzOlttLlZlbl0scGF0Y2hlczpbe2ZpbmQ6ImhpZGVOb3RlOiIsYWxsOiEwLHByZWRpY2F0ZTooKT0+VmVuY29yZC5TZXR0aW5ncy5wbHVnaW5zLkJldHRlck5vdGVzQm94LmhpZGUscmVwbGFjZW1lbnQ6e21hdGNoOi9oaWRlTm90ZTouKz8oPz1bLH1dKS9nLHJlcGxhY2U6ImhpZGVOb3RlOnRydWUifX0se2ZpbmQ6Ik1lc3NhZ2VzLk5PVEVfUExBQ0VIT0xERVIiLHJlcGxhY2VtZW50OnttYXRjaDovXC5OT1RFX1BMQUNFSE9MREVSLC8scmVwbGFjZToiJCZzcGVsbENoZWNrOiFWZW5jb3JkLlNldHRpbmdzLnBsdWdpbnMuQmV0dGVyTm90ZXNCb3gubm9TcGVsbENoZWNrLCJ9fV0sb3B0aW9uczp7aGlkZTp7dHlwZTozLGRlc2NyaXB0aW9uOiJIaWRlIG5vdGVzIixkZWZhdWx0OiExLHJlc3RhcnROZWVkZWQ6ITB9LG5vU3BlbGxDaGVjazp7dHlwZTozLGRlc2NyaXB0aW9uOiJEaXNhYmxlIHNwZWxsY2hlY2sgaW4gbm90ZXMiLGRpc2FibGVkOigpPT5rLnBsdWdpbnMuQmV0dGVyTm90ZXNCb3guaGlkZSxkZWZhdWx0OiExfX19KX0pO3ZhciBJdSxMeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7dygpO0l1PXYoe25hbWU6IkJldHRlclJvbGVEb3QiLGF1dGhvcnM6W20uVmVuXSxkZXNjcmlwdGlvbjoiQ29weSByb2xlIGNvbG91ciBvbiBSb2xlRG90IChhY2Nlc3NpYmlsaXR5IHNldHRpbmcpIGNsaWNrLiBBbHNvIGFsbG93cyB1c2luZyBib3RoIFJvbGVEb3QgYW5kIGNvbG91cmVkIG5hbWVzIHNpbXVsdGFuZW91c2x5IixwYXRjaGVzOlt7ZmluZDoiLmRvdEJvcmRlckJhc2UiLHJlcGxhY2VtZW50OnttYXRjaDovLHZpZXdCb3g6IjAgMCAyMCAyMCIvLHJlcGxhY2U6IiQmLG9uQ2xpY2s6KCk9PiRzZWxmLmNvcHlUb0NsaXBCb2FyZChhcmd1bWVudHNbMF0uY29sb3IpLHN0eWxlOntjdXJzb3I6J3BvaW50ZXInfSJ9fSx7ZmluZDonImRvdCI9PT0nLGFsbDohMCxwcmVkaWNhdGU6KCk9PmsucGx1Z2lucy5CZXR0ZXJSb2xlRG90LmJvdGhTdHlsZXMscmVwbGFjZW1lbnQ6e21hdGNoOi8iKD86dXNlcm5hbWV8ZG90KSI9PT1caSg/IVwuXGkpL2cscmVwbGFjZToidHJ1ZSJ9fV0sb3B0aW9uczp7Ym90aFN0eWxlczp7dHlwZTozLGRlc2NyaXB0aW9uOiJTaG93IGJvdGggcm9sZSBkb3QgYW5kIGNvbG91cmVkIG5hbWVzIixkZWZhdWx0OiExfX0sY29weVRvQ2xpcEJvYXJkKGUpe1F0LmNvcHkoZSksWi5zaG93KHttZXNzYWdlOiJDb3BpZWQgdG8gQ2xpcGJvYXJkISIsdHlwZTpaLlR5cGUuU1VDQ0VTUyxpZDpaLmdlbklkKCksb3B0aW9uczp7ZHVyYXRpb246MWUzLHBvc2l0aW9uOlouUG9zaXRpb24uQk9UVE9NfX0pfX0pfSk7dmFyIEN1LEV5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO0N1PXYoe25hbWU6IkJldHRlclVwbG9hZEJ1dHRvbiIsYXV0aG9yczpbbS5vYnNjdXJpdHksbS5WZW5dLGRlc2NyaXB0aW9uOiJVcGxvYWQgd2l0aCBhIHNpbmdsZSBjbGljaywgb3BlbiBtZW51IHdpdGggcmlnaHQgY2xpY2siLHBhdGNoZXM6W3tmaW5kOiJNZXNzYWdlcy5DSEFUX0FUVEFDSF9VUExPQURfT1JfSU5WSVRFIixyZXBsYWNlbWVudDp7bWF0Y2g6L0NIQVRfQVRUQUNIX1VQTE9BRF9PUl9JTlZJVEUsb25Eb3VibGVDbGljazooLis/OnZvaWQgMClcfSwoLnsxLDN9KVwpLyxyZXBsYWNlOihlLHQsbik9PmAke2Uuc2xpY2UoMCwtMSl9LHtvbkNsaWNrOiR7dH0sb25Db250ZXh0TWVudToke259Lm9uQ2xpY2t9KWB9fV19KX0pO3ZhciBEeT1nKCgpPT57fSk7ZnVuY3Rpb24gRm4oe2hlaWdodDplPTI0LHdpZHRoOnQ9MjQsY2xhc3NOYW1lOm4sY2hpbGRyZW46cix2aWV3Qm94OmksLi4uc30pe3JldHVybiBvKCJzdmciLHtjbGFzc05hbWU6UShuLCJ2Yy1pY29uIikscm9sZToiaW1nIix3aWR0aDp0LGhlaWdodDplLHZpZXdCb3g6aSwuLi5zfSxyKX1mdW5jdGlvbiBzYSh7aGVpZ2h0OmU9MjQsd2lkdGg6dD0yNCxjbGFzc05hbWU6bn0pe3JldHVybiBvKEZuLHtoZWlnaHQ6ZSx3aWR0aDp0LGNsYXNzTmFtZTpRKG4sInZjLWxpbmstaWNvbiIpLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oImciLHtmaWxsOiJub25lIiwiZmlsbC1ydWxlIjoiZXZlbm9kZCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0xMC41OSAxMy40MWMuNDEuMzkuNDEgMS4wMyAwIDEuNDItLjM5LjM5LTEuMDMuMzktMS40MiAwYTUuMDAzIDUuMDAzIDAgMCAxIDAtNy4wN2wzLjU0LTMuNTRhNS4wMDMgNS4wMDMgMCAwIDEgNy4wNyAwIDUuMDAzIDUuMDAzIDAgMCAxIDAgNy4wN2wtMS40OSAxLjQ5Yy4wMS0uODItLjEyLTEuNjQtLjQtMi40MmwuNDctLjQ4YTIuOTgyIDIuOTgyIDAgMCAwIDAtNC4yNCAyLjk4MiAyLjk4MiAwIDAgMC00LjI0IDBsLTMuNTMgMy41M2EyLjk4MiAyLjk4MiAwIDAgMCAwIDQuMjR6bTIuODItNC4yNGMuMzktLjM5IDEuMDMtLjM5IDEuNDIgMGE1LjAwMyA1LjAwMyAwIDAgMSAwIDcuMDdsLTMuNTQgMy41NGE1LjAwMyA1LjAwMyAwIDAgMS03LjA3IDAgNS4wMDMgNS4wMDMgMCAwIDEgMC03LjA3bDEuNDktMS40OWMtLjAxLjgyLjEyIDEuNjQuNCAyLjQzbC0uNDcuNDdhMi45ODIgMi45ODIgMCAwIDAgMCA0LjI0IDIuOTgyIDIuOTgyIDAgMCAwIDQuMjQgMGwzLjUzLTMuNTNhMi45ODIgMi45ODIgMCAwIDAgMC00LjI0Ljk3My45NzMgMCAwIDEgMC0xLjQyeiJ9KSxvKCJyZWN0Iix7d2lkdGg6dCxoZWlnaHQ6ZX0pKSl9ZnVuY3Rpb24gT3koZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOlEoZS5jbGFzc05hbWUsInZjLWNvcHktaWNvbiIpLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oImciLHtmaWxsOiJjdXJyZW50Q29sb3IifSxvKCJwYXRoIix7ZDoiTTE2IDFINGMtMS4xIDAtMiAuOS0yIDJ2MTRoMlYzaDEyVjF6In0pLG8oInBhdGgiLHtkOiJNMTUgNUg4Yy0xLjEgMC0xLjk5LjktMS45OSAyTDYgMjFjMCAxLjEuODkgMiAxLjk5IDJIMTljMS4xIDAgMi0uOSAyLTJWMTFsLTYtNnpNOCAyMVY3aDZ2NWg1djlIOHoifSkpKX1mdW5jdGlvbiBxbyhlKXtyZXR1cm4gbyhGbix7Li4uZSxjbGFzc05hbWU6UShlLmNsYXNzTmFtZSwidmMtb3Blbi1leHRlcm5hbC1pY29uIiksdmlld0JveDoiMCAwIDI0IDI0In0sbygicG9seWdvbiIse2ZpbGw6ImN1cnJlbnRDb2xvciIsImZpbGwtcnVsZSI6Im5vbnplcm8iLHBvaW50czoiMTMgMjAgMTEgMjAgMTEgOCA1LjUgMTMuNSA0LjA4IDEyLjA4IDEyIDQuMTYgMTkuOTIgMTIuMDggMTguNSAxMy41IDEzIDgifSkpfWZ1bmN0aW9uIEtvKGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTpRKGUuY2xhc3NOYW1lLCJ2Yy1pbWFnZS1pY29uIiksdmlld0JveDoiMCAwIDI0IDI0In0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTIxLDE5VjVjMCwtMS4xIC0wLjksLTIgLTIsLTJINWMtMS4xLDAgLTIsMC45IC0yLDJ2MTRjMCwxLjEgMC45LDIgMiwyaDE0YzEuMSwwIDIsLTAuOSAyLC0yek04LjUsMTMuNWwyLjUsMy4wMUwxNC41LDEybDQuNSw2SDVsMy41LC00LjV6In0pKX1mdW5jdGlvbiBfeShlKXtyZXR1cm4gbyhGbix7Li4uZSxjbGFzc05hbWU6UShlLmNsYXNzTmFtZSwidmMtaW5mby1pY29uIiksdmlld0JveDoiMCAwIDEyIDEyIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTYgMUMzLjI0MyAxIDEgMy4yNDQgMSA2YzAgMi43NTggMi4yNDMgNSA1IDVzNS0yLjI0MiA1LTVjMC0yLjc1Ni0yLjI0My01LTUtNXptMCAyLjM3NmEuNjI1LjYyNSAwIDExMCAxLjI1LjYyNS42MjUgMCAwMTAtMS4yNXpNNy41IDguNWgtM3YtMWgxVjZINVY1aDFhLjUuNSAwIDAxLjUuNXYyaDF2MXoifSkpfWZ1bmN0aW9uIEJ5KGUpe3JldHVybiBvKEZuLHsiYXJpYS1sYWJlbCI6Y3QuTWVzc2FnZXMuR1VJTERfT1dORVIsLi4uZSxjbGFzc05hbWU6UShlLmNsYXNzTmFtZSwidmMtb3duZXItY3Jvd24taWNvbiIpLHJvbGU6ImltZyIsdmlld0JveDoiMCAwIDE2IDE2In0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsImZpbGwtcnVsZSI6ImV2ZW5vZGQiLCJjbGlwLXJ1bGUiOiJldmVub2RkIixkOiJNMTMuNjU3MiA1LjQyODY4QzEzLjg4NzkgNS4yOTAwMiAxNC4xODA2IDUuMzA0MDIgMTQuMzk3MyA1LjQ2NDY4QzE0LjYxMzMgNS42MjYwMiAxNC43MTE5IDUuOTAwNjggMTQuNjQ3MyA2LjE2MjAyTDEzLjMxMzkgMTEuNDk1NEMxMy4yMzkzIDExLjc5MjcgMTIuOTcyNiAxMi4wMDA3IDEyLjY2NjYgMTIuMDAwN0gzLjMzMzI1QzMuMDI3MjUgMTIuMDAwNyAyLjc2MDU4IDExLjc5MiAyLjY4NTkyIDExLjQ5NTRMMS4zNTI1OCA2LjE2MjAyQzEuMjg3OTIgNS45MDA2OCAxLjM4NjU4IDUuNjI2MDIgMS42MDI1OCA1LjQ2NDY4QzEuODE5OTIgNS4zMDQ2OCAyLjExMTkyIDUuMjkwNjggMi4zNDMyNSA1LjQyODY4TDUuMTMxOTIgNy4xMDIwMkw3LjQ0NTkyIDMuNjMwNjhDNy40NjE3MyAzLjYwNjk3IDcuNDgzNzcgMy41OTEzIDcuNTA1ODggMy41NzU1OUM3LjUxOTIgMy41NjYxMiA3LjUzMjU1IDMuNTU2NjMgNy41NDQ1OCAzLjU0NTM1TDYuOTAyNTggMi45MDI2OEM2Ljc3MzI1IDIuNzczMzUgNi43NzMyNSAyLjU2MDY4IDYuOTAyNTggMi40MzEzNUw3Ljc2NDU4IDEuNTY5MzVDNy44OTM5MiAxLjQ0MDAyIDguMTA2NTggMS40NDAwMiA4LjIzNTkyIDEuNTY5MzVMOS4wOTc5MiAyLjQzMTM1QzkuMjI3MjUgMi41NjA2OCA5LjIyNzI1IDIuNzczMzUgOS4wOTc5MiAyLjkwMjY4TDguNDU1OTIgMy41NDUzNUM4LjQ2Nzk0IDMuNTU2ODYgOC40ODE1NCAzLjU2NjUxIDguNDk1MTYgMy41NzYxOEM4LjUxNzAzIDMuNTkxNyA4LjUzODk3IDMuNjA3MjcgOC41NTQ1OCAzLjYzMDY4TDEwLjg2ODYgNy4xMDIwMkwxMy42NTcyIDUuNDI4NjhaTTIuNjY2NjcgMTIuNjY3M0gxMy4zMzMzVjE0LjAwMDdIMi42NjY2N1YxMi42NjczWiJ9KSl9ZnVuY3Rpb24gRnkoZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOlEoZS5jbGFzc05hbWUsInZjLXNjcmVlbnNoYXJlLWljb24iKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIiwiZmlsbC1ydWxlIjoiZXZlbm9kZCIsImNsaXAtcnVsZSI6ImV2ZW5vZGQiLGQ6Ik0yIDQuNUMyIDMuMzk3IDIuODk3IDIuNSA0IDIuNUgyMEMyMS4xMDMgMi41IDIyIDMuMzk3IDIyIDQuNVYxNS41QzIyIDE2LjYwNCAyMS4xMDMgMTcuNSAyMCAxNy41SDEzVjE5LjVIMTdWMjEuNUg3VjE5LjVIMTFWMTcuNUg0QzIuODk3IDE3LjUgMiAxNi42MDQgMiAxNS41VjQuNVpNMTMuMiAxNC4zMzc1VjExLjZDOS44NjQgMTEuNiA3LjY2OCAxMi42NjI1IDYgMTVDNi42NzIgMTEuNjYyNSA4LjUzMiA4LjMzNzUgMTMuMiA3LjY2MjVWNUwxOCA5LjY2MjVMMTMuMiAxNC4zMzc1WiJ9KSl9ZnVuY3Rpb24gYWEoZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOlEoZS5jbGFzc05hbWUsInZjLWltYWdlLXZpc2libGUiKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNNSAyMXEtLjgyNSAwLTEuNDEzLS41ODdRMyAxOS44MjUgMyAxOVY1cTAtLjgyNS41ODctMS40MTNRNC4xNzUgMyA1IDNoMTRxLjgyNSAwIDEuNDEzLjU4N1EyMSA0LjE3NSAyMSA1djE0cTAgLjgyNS0uNTg3IDEuNDEzUTE5LjgyNSAyMSAxOSAyMVptMC0yaDE0VjVINXYxNFptMS0yaDEybC0zLjc1LTUtMyA0TDkgMTNabS0xIDJWNXYxNFoifSkpfWZ1bmN0aW9uIGxhKGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTpRKGUuY2xhc3NOYW1lLCJ2Yy1pbWFnZS1pbnZpc2libGUiKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJtMjEgMTguMTUtMi0yVjVINy44NWwtMi0ySDE5cS44MjUgMCAxLjQxMy41ODdRMjEgNC4xNzUgMjEgNVptLTEuMiA0LjQ1TDE4LjIgMjFINXEtLjgyNSAwLTEuNDEzLS41ODdRMyAxOS44MjUgMyAxOVY1LjhMMS40IDQuMmwxLjQtMS40IDE4LjQgMTguNFpNNiAxN2wzLTQgMi4yNSAzIC44MjUtMS4xTDUgNy44MjVWMTloMTEuMTc1bC0yLTJabTcuNDI1LTYuNDI1Wk0xMC42IDEzLjRaIn0pKX1mdW5jdGlvbiAkeShlKXtyZXR1cm4gbyhGbix7Li4uZSxjbGFzc05hbWU6UShlLmNsYXNzTmFtZSwidmMtbWljcm9waG9uZSIpLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInBhdGgiLHsiZmlsbC1ydWxlIjoiZXZlbm9kZCIsImNsaXAtcnVsZSI6ImV2ZW5vZGQiLGQ6Ik0xNC45OSAxMUMxNC45OSAxMi42NiAxMy42NiAxNCAxMiAxNEMxMC4zNCAxNCA5IDEyLjY2IDkgMTFWNUM5IDMuMzQgMTAuMzQgMiAxMiAyQzEzLjY2IDIgMTUgMy4zNCAxNSA1TDE0Ljk5IDExWk0xMiAxNi4xQzE0Ljc2IDE2LjEgMTcuMyAxNCAxNy4zIDExSDE5QzE5IDE0LjQyIDE2LjI4IDE3LjI0IDEzIDE3LjcyVjIxSDExVjE3LjcyQzcuNzIgMTcuMjMgNSAxNC40MSA1IDExSDYuN0M2LjcgMTQgOS4yNCAxNi4xIDEyIDE2LjFaTTEyIDRDMTEuMiA0IDExIDQuNjY2NjcgMTEgNVYxMUMxMSAxMS4zMzMzIDExLjIgMTIgMTIgMTJDMTIuOCAxMiAxMyAxMS4zMzMzIDEzIDExVjVDMTMgNC42NjY2NyAxMi44IDQgMTIgNFoiLGZpbGw6ImN1cnJlbnRDb2xvciJ9KSxvKCJwYXRoIix7ImZpbGwtcnVsZSI6ImV2ZW5vZGQiLCJjbGlwLXJ1bGUiOiJldmVub2RkIixkOiJNMTQuOTkgMTFDMTQuOTkgMTIuNjYgMTMuNjYgMTQgMTIgMTRDMTAuMzQgMTQgOSAxMi42NiA5IDExVjVDOSAzLjM0IDEwLjM0IDIgMTIgMkMxMy42NiAyIDE1IDMuMzQgMTUgNUwxNC45OSAxMVpNMTIgMTYuMUMxNC43NiAxNi4xIDE3LjMgMTQgMTcuMyAxMUgxOUMxOSAxNC40MiAxNi4yOCAxNy4yNCAxMyAxNy43MlYyMkgxMVYxNy43MkM3LjcyIDE3LjIzIDUgMTQuNDEgNSAxMUg2LjdDNi43IDE0IDkuMjQgMTYuMSAxMiAxNi4xWiIsZmlsbDoiY3VycmVudENvbG9yIn0pKX12YXIgeG49ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0R5KCk7Z2UoKTt3KCl9KTt2YXIgVXksR3ksSHk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtVeT1sZSgiQXBwbGljYXRpb25TdHJlYW1QcmV2aWV3U3RvcmUiKSxHeT1sZSgiQXBwbGljYXRpb25TdHJlYW1pbmdTdG9yZSIpfSk7dmFyICQyLFd5LHp5LGp5LE51LHF5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtUdCgpO3huKCk7UCgpO2F0KCk7TSgpO3coKTtIeSgpOyQyPWFzeW5jKHtndWlsZElkOmUsY2hhbm5lbElkOnQsb3duZXJJZDpufSk9PntsZXQgcj1hd2FpdCBVeS5nZXRQcmV2aWV3VVJMKGUsdCxuKTshcnx8R28ocil9LFd5PShlLHt1c2VySWQ6dH0pPT4oKT0+e2xldCBuPUd5LmdldEFueVN0cmVhbUZvclVzZXIodCk7aWYoIW4pcmV0dXJuO2xldCByPW8oQi5NZW51SXRlbSx7bGFiZWw6IlZpZXcgU3RyZWFtIFByZXZpZXciLGlkOiJ2aWV3LXN0cmVhbS1wcmV2aWV3IixpY29uOkZ5LGFjdGlvbjooKT0+biYmJDIobiksZGlzYWJsZWQ6IW59KTtlLnB1c2gobyhCLk1lbnVTZXBhcmF0b3IsbnVsbCkscil9LHp5PShlLHtzdHJlYW06dH0pPT5XeShlLHt1c2VySWQ6dC5vd25lcklkfSksank9KGUse3VzZXI6dH0pPT5XeShlLHt1c2VySWQ6dC5pZH0pLE51PXYoe25hbWU6IkJpZ2dlclN0cmVhbVByZXZpZXciLGRlc2NyaXB0aW9uOiJUaGlzIHBsdWdpbiBhbGxvd3MgeW91IHRvIGVubGFyZ2Ugc3RyZWFtIHByZXZpZXdzIixhdXRob3JzOlttLnBoaWxdLHN0YXJ0OigpPT57ZGUoInVzZXItY29udGV4dCIsankpLGRlKCJzdHJlYW0tY29udGV4dCIsenkpfSxzdG9wOigpPT57ZmUoInVzZXItY29udGV4dCIsankpLGZlKCJzdHJlYW0tY29udGV4dCIsenkpfX0pfSk7ZnVuY3Rpb24gS3koKXt4aS50ZXh0Q29udGVudD1gCiAgICAgICAgLnZjLW5zZnctaW1nIFtjbGFzc149aW1hZ2VXcmFwcGVyXSBpbWcsCiAgICAgICAgLnZjLW5zZnctaW1nIFtjbGFzc149d3JhcHBlclBhdXNlZF0gdmlkZW8gewogICAgICAgICAgICBmaWx0ZXI6IGJsdXIoJHtrLnBsdWdpbnMuQmx1ck5TRlcuYmx1ckFtb3VudH1weCk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGZpbHRlciAwLjJzOwogICAgICAgIH0KICAgICAgICAudmMtbnNmdy1pbWcgW2NsYXNzXj1pbWFnZVdyYXBwZXJdOmhvdmVyIGltZywKICAgICAgICAudmMtbnNmdy1pbWcgW2NsYXNzXj13cmFwcGVyUGF1c2VkXTpob3ZlciB2aWRlbyB7CiAgICAgICAgICAgIGZpbHRlcjogdW5zZXQ7CiAgICAgICAgfQogICAgICAgIGB9dmFyIHhpLFJ1LFl5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7UCgpO00oKTtSdT12KHtuYW1lOiJCbHVyTlNGVyIsZGVzY3JpcHRpb246IkJsdXIgYXR0YWNobWVudHMgaW4gTlNGVyBjaGFubmVscyB1bnRpbCBob3ZlcmVkIixhdXRob3JzOlttLlZlbl0scGF0Y2hlczpbe2ZpbmQ6Ii5lbWJlZFdyYXBwZXIsZW1iZWQiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhcLnJlbmRlckVtYmVkPS4rPyguKT0uXC5wcm9wcykoLis/XC5lbWJlZFdyYXBwZXIpL2cscmVwbGFjZToiJDEsdmNQcm9wcz0kMiQzKyh2Y1Byb3BzLmNoYW5uZWwubnNmdz8nIHZjLW5zZnctaW1nJzonJykifSx7bWF0Y2g6LyhcLnJlbmRlckF0dGFjaG1lbnRzPS4rPyguKT10aGlzXC5wcm9wcykoLis/XC5lbWJlZFdyYXBwZXIpL2cscmVwbGFjZToiJDEsdmNQcm9wcz0kMiQzKyh2Y1Byb3BzLmNoYW5uZWwubnNmdz8nIHZjLW5zZnctaW1nJzonJykifV19XSxvcHRpb25zOntibHVyQW1vdW50Ont0eXBlOjEsZGVzY3JpcHRpb246IkJsdXIgQW1vdW50IixkZWZhdWx0OjEwLG9uQ2hhbmdlOkt5fX0sc3RhcnQoKXt4aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHhpLmlkPSJWY0JsdXJOc2Z3Iixkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHhpKSxLeSgpfSxzdG9wKCl7eGk/LnJlbW92ZSgpfX0pfSk7ZnVuY3Rpb24gVTIoZSl7bGV0IHQ9ay5wbHVnaW5zLkNhbGxUaW1lci5mb3JtYXQ9PT0iaHVtYW4iLG49aD0+dD9oOmgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIikscj1oPT50P2g6IiIsaT10PyIgIjoiOiIscz1NYXRoLmZsb29yKGUvODY0ZTUpLGM9TWF0aC5mbG9vcihlJTg2NGU1LzM2ZTUpLHU9TWF0aC5mbG9vcihlJTg2NGU1JTM2ZTUvNmU0KSxwPU1hdGguZmxvb3IoZSU4NjRlNSUzNmU1JTZlNC8xZTMpLHk9IiI7cmV0dXJuIHMmJih5Kz1gJHtzfWQgYCksKGN8fHkpJiYoeSs9YCR7bihjKX0ke3IoImgiKX0ke2l9YCksKHV8fHl8fCF0KSYmKHkrPWAke24odSl9JHtyKCJtIil9JHtpfWApLHkrPWAke24ocCl9JHtyKCJzIil9YCx5fXZhciBrdSxaeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3NlKCk7UCgpO2hlKCk7TSgpO2t1PXYoe25hbWU6IkNhbGxUaW1lciIsZGVzY3JpcHRpb246IkFkZHMgYSB0aW1lciB0byB2Y3MiLGF1dGhvcnM6W20uVmVuXSxzdGFydFRpbWU6MCxpbnRlcnZhbDp2b2lkIDAsb3B0aW9uczp7Zm9ybWF0Ont0eXBlOjQsZGVzY3JpcHRpb246IlRoZSB0aW1lciBmb3JtYXQuIFRoaXMgY2FuIGJlIGFueSB2YWxpZCBtb21lbnQuanMgZm9ybWF0IixvcHRpb25zOlt7bGFiZWw6IjMwZCAyMzowMDo0MiIsdmFsdWU6InN0b3B3YXRjaCIsZGVmYXVsdDohMH0se2xhYmVsOiIzMGQgMjNoIDAwbSA0MnMiLHZhbHVlOiJodW1hbiJ9XX19LHBhdGNoZXM6W3tmaW5kOiIucmVuZGVyQ29ubmVjdGlvblN0YXR1cz0iLHJlcGxhY2VtZW50OnttYXRjaDovKD88PXJlbmRlckNvbm5lY3Rpb25TdGF0dXM9LitcLmNoYW5uZWwsY2hpbGRyZW46KVx3LyxyZXBsYWNlOiJbJCYsICRzZWxmLnJlbmRlclRpbWVyKHRoaXMucHJvcHMuY2hhbm5lbC5pZCldIn19XSxyZW5kZXJUaW1lcihlKXtyZXR1cm4gbyhELHtub29wOiEwfSxvKHRoaXMuVGltZXIse2NoYW5uZWxJZDplfSkpfSxUaW1lcih7Y2hhbm5lbElkOmV9KXtsZXQgdD1xcih7ZGVwczpbZV19KTtyZXR1cm4gbygicCIse3N0eWxlOnttYXJnaW46MH19LCJDb25uZWN0ZWQgZm9yICIsbygic3BhbiIse3N0eWxlOntmb250RmFtaWx5OiJ2YXIoLS1mb250LWNvZGUpIn19LFUyKHQpKSl9fSl9KTt2YXIgQnU9e307U2UoQnUse19oYW5kbGVDbGljazooKT0+ejIsX2hhbmRsZVByZUVkaXQ6KCk9PkgyLF9oYW5kbGVQcmVTZW5kOigpPT5HMixhZGRDbGlja0xpc3RlbmVyOigpPT5PdSxhZGRQcmVFZGl0TGlzdGVuZXI6KCk9PllvLGFkZFByZVNlbmRMaXN0ZW5lcjooKT0+THQscmVtb3ZlQ2xpY2tMaXN0ZW5lcjooKT0+X3UscmVtb3ZlUHJlRWRpdExpc3RlbmVyOigpPT5abyxyZW1vdmVQcmVTZW5kTGlzdGVuZXI6KCk9PkV0fSk7YXN5bmMgZnVuY3Rpb24gRzIoZSx0LG4scil7bi5yZXBseU9wdGlvbnM9cjtmb3IobGV0IGkgb2YgTHUpdHJ5e2xldCBzPWF3YWl0IGkoZSx0LG4pO2lmKHMmJnMuY2FuY2VsPT09ITApcmV0dXJuITB9Y2F0Y2gocyl7QXUuZXJyb3IoYE1lc3NhZ2VTZW5kSGFuZGxlcjogTGlzdGVuZXIgZW5jb3VudGVyZWQgYW4gdW5rbm93biBlcnJvcgpgLHMpfXJldHVybiExfWFzeW5jIGZ1bmN0aW9uIEgyKGUsdCxuKXtmb3IobGV0IHIgb2YgRXUpdHJ5e2F3YWl0IHIoZSx0LG4pfWNhdGNoKGkpe0F1LmVycm9yKGBNZXNzYWdlRWRpdEhhbmRsZXI6IExpc3RlbmVyIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3IKYCxpKX19ZnVuY3Rpb24gTHQoZSl7cmV0dXJuIEx1LmFkZChlKSxlfWZ1bmN0aW9uIFlvKGUpe3JldHVybiBFdS5hZGQoZSksZX1mdW5jdGlvbiBFdChlKXtyZXR1cm4gTHUuZGVsZXRlKGUpfWZ1bmN0aW9uIFpvKGUpe3JldHVybiBFdS5kZWxldGUoZSl9ZnVuY3Rpb24gejIoZSx0LG4pe2U9Zm4uZ2V0TWVzc2FnZSh0LmlkLGUuaWQpPz9lO2ZvcihsZXQgciBvZiBEdSl0cnl7cihlLHQsbil9Y2F0Y2goaSl7QXUuZXJyb3IoYE1lc3NhZ2VDbGlja0hhbmRsZXI6IExpc3RlbmVyIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3IKYCxpKX19ZnVuY3Rpb24gT3UoZSl7cmV0dXJuIER1LmFkZChlKSxlfWZ1bmN0aW9uIF91KGUpe3JldHVybiBEdS5kZWxldGUoZSl9dmFyIEF1LEx1LEV1LER1LCRuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNZSgpO3coKTtBdT1uZXcgVigiTWVzc2FnZUV2ZW50cyIsIiNlNWM4OTAiKSxMdT1uZXcgU2V0LEV1PW5ldyBTZXQ7RHU9bmV3IFNldH0pO3ZhciBYeSxKeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WHk9WyJhY3Rpb25fb2JqZWN0X21hcCIsImFjdGlvbl90eXBlX21hcCIsImFjdGlvbl9yZWZfbWFwIiwic3BtQCouYWxpZXhwcmVzcy5jb20iLCJzY21AKi5hbGlleHByZXNzLmNvbSIsImFmZl9wbGF0Zm9ybSIsImFmZl90cmFjZV9rZXkiLCJhbGdvX2V4cGlkQCouYWxpZXhwcmVzcy4qIiwiYWxnb19wdmlkQCouYWxpZXhwcmVzcy4qIiwiYnRzaWQiLCJ3c19hYl90ZXN0IiwicGRfcmRfKkBhbWF6b24uKiIsIl9lbmNvZGluZ0BhbWF6b24uKiIsInBzY0BhbWF6b24uKiIsInRhZ0BhbWF6b24uKiIsInJlZl9AYW1hem9uLioiLCJwZl9yZF8qQGFtYXpvbi4qIiwicGZAYW1hem9uLioiLCJjcmlkQGFtYXpvbi4qIiwia2V5d29yZHNAYW1hem9uLioiLCJzcHJlZml4QGFtYXpvbi4qIiwic3JAYW1hem9uLioiLCJpZUBhbWF6b24uKiIsIm5vZGVAYW1hem9uLioiLCJxaWRAYW1hem9uLioiLCJjYWxsYmFja0BiaWxpYmlsaS5jb20iLCJjdmlkQGJpbmcuY29tIiwiZm9ybUBiaW5nLmNvbSIsInNrQGJpbmcuY29tIiwic3BAYmluZy5jb20iLCJzY0BiaW5nLmNvbSIsInFzQGJpbmcuY29tIiwicHFAYmluZy5jb20iLCJzY19jaWQiLCJta3RfdG9rIiwidHJrIiwidHJrQ2FtcGFpZ24iLCJnYV8qIiwiZ2NsaWQiLCJnY2xzcmMiLCJobWJfY2FtcGFpZ24iLCJobWJfbWVkaXVtIiwiaG1iX3NvdXJjZSIsInNwUmVwb3J0SWQiLCJzcEpvYklEIiwic3BVc2VySUQiLCJzcE1haWxpbmdJRCIsIml0bV8qIiwic19jaWQiLCJlbHFUcmFja0lkIiwiZWxxVHJhY2siLCJhc3NldFR5cGUiLCJhc3NldElkIiwicmVjaXBpZW50SWQiLCJjYW1wYWlnbklkIiwic2l0ZUlkIiwibWNfY2lkIiwibWNfZWlkIiwicGtfKiIsInNjX2NhbXBhaWduIiwic2NfY2hhbm5lbCIsInNjX2NvbnRlbnQiLCJzY19tZWRpdW0iLCJzY19vdXRjb21lIiwic2NfZ2VvIiwic2NfY291bnRyeSIsIm5yX2VtYWlsX3JlZmVyZXIiLCJ2ZXJvX2NvbnYiLCJ2ZXJvX2lkIiwieWNsaWQiLCJfb3BlbnN0YXQiLCJtYmlkIiwiY21waWQiLCJjaWQiLCJjX2lkIiwiY2FtcGFpZ25faWQiLCJDYW1wYWlnbiIsImhhc2hAZWJheS4qIiwiZmJfYWN0aW9uX2lkcyIsImZiX2FjdGlvbl90eXBlcyIsImZiX3JlZiIsImZiX3NvdXJjZSIsImZiY2xpZCIsInJlZnNyY0BmYWNlYm9vay5jb20iLCJocmNAZmFjZWJvb2suY29tIiwiZ3NfbCIsImdzX2xjcEBnb29nbGUuKiIsInZlZEBnb29nbGUuKiIsImVpQGdvb2dsZS4qIiwic2VpQGdvb2dsZS4qIiwiZ3dzX3JkQGdvb2dsZS4qIiwiZ3NfZ2JnQGdvb2dsZS4qIiwiZ3NfbXNzQGdvb2dsZS4qIiwiZ3Nfcm5AZ29vZ2xlLioiLCJfaHNlbmMiLCJfaHNtaSIsIl9faHNzYyIsIl9faHN0YyIsImhzQ3RhVHJhY2tpbmciLCJzb3VyY2VAc291cmNlZm9yZ2UubmV0IiwicG9zaXRpb25Ac291cmNlZm9yZ2UubmV0IiwidEAqLnR3aXR0ZXIuY29tIiwic0AqLnR3aXR0ZXIuY29tIiwicmVmXypAKi50d2l0dGVyLmNvbSIsInR0X21lZGl1bSIsInR0X2NvbnRlbnQiLCJsckB5YW5kZXguKiIsInJlZGlyY250QHlhbmRleC4qIiwiZmVhdHVyZUB5b3V0dWJlLmNvbSIsImt3QHlvdXR1YmUuY29tIiwid3Rfem1jIiwidXRtX3NvdXJjZSIsInV0bV9jb250ZW50IiwidXRtX21lZGl1bSIsInV0bV9jYW1wYWlnbiIsInV0bV90ZXJtIiwic2lAb3Blbi5zcG90aWZ5LmNvbSIsImlnc2hpZCJdfSk7dmFyIFF5LGoyLEZ1LFZ5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTskbigpO1AoKTtNKCk7SnkoKTtReT0vW1xcXiQuKis/KClbXF17fXxdL2csajI9UmVnRXhwKFF5LnNvdXJjZSksRnU9dih7bmFtZToiQ2xlYXJVUkxzIixkZXNjcmlwdGlvbjoiUmVtb3ZlcyB0cmFja2luZyBnYXJiYWdlIGZyb20gVVJMcyIsYXV0aG9yczpbbS5hZHJ5ZF0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZUV2ZW50c0FQSSJdLGVzY2FwZVJlZ0V4cChlKXtyZXR1cm4gZSYmajIudGVzdChlKT9lLnJlcGxhY2UoUXksIlxcJCYiKTplfHwiIn0sY3JlYXRlUnVsZXMoKXtsZXQgZT1YeTt0aGlzLnVuaXZlcnNhbFJ1bGVzPW5ldyBTZXQsdGhpcy5ydWxlc0J5SG9zdD1uZXcgTWFwLHRoaXMuaG9zdFJ1bGVzPW5ldyBNYXA7Zm9yKGxldCB0IG9mIGUpe2xldCBuPXQuc3BsaXQoIkAiKSxyPW5ldyBSZWdFeHAoIl4iK3RoaXMuZXNjYXBlUmVnRXhwKG5bMF0pLnJlcGxhY2UoL1xcXCovLCIuKz8iKSsiJCIpO2lmKCFuWzFdKXt0aGlzLnVuaXZlcnNhbFJ1bGVzLmFkZChyKTtjb250aW51ZX1sZXQgaT1uZXcgUmVnRXhwKCJeKHd3d1xcLik/Iit0aGlzLmVzY2FwZVJlZ0V4cChuWzFdKS5yZXBsYWNlKC9cXFwuLywiXFwuIikucmVwbGFjZSgvXlxcXCpcXFwuLywiKC4rP1xcLik/IikucmVwbGFjZSgvXFxcKi8sIi4rPyIpKyIkIikscz1pLnRvU3RyaW5nKCk7dGhpcy5ob3N0UnVsZXMuc2V0KHMsaSksdGhpcy5ydWxlc0J5SG9zdC5nZXQocyk9PW51bGwmJnRoaXMucnVsZXNCeUhvc3Quc2V0KHMsbmV3IFNldCksdGhpcy5ydWxlc0J5SG9zdC5nZXQocykuYWRkKHIpfX0scmVtb3ZlUGFyYW0oZSx0LG4peyh0PT09ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cCYmZS50ZXN0KHQpKSYmbi5kZWxldGUodCl9LHJlcGxhY2VyKGUpe3RyeXt2YXIgdD1uZXcgVVJMKGUpfWNhdGNoe3JldHVybiBlfXJldHVybiB0LnNlYXJjaFBhcmFtcy5lbnRyaWVzKCkubmV4dCgpLmRvbmU/ZToodGhpcy51bml2ZXJzYWxSdWxlcy5mb3JFYWNoKG49Pnt0LnNlYXJjaFBhcmFtcy5mb3JFYWNoKChyLGkscyk9Pnt0aGlzLnJlbW92ZVBhcmFtKG4saSxzKX0pfSksdGhpcy5ob3N0UnVsZXMuZm9yRWFjaCgobixyKT0+eyFuLnRlc3QodC5ob3N0bmFtZSl8fHRoaXMucnVsZXNCeUhvc3QuZ2V0KHIpLmZvckVhY2goaT0+e3Quc2VhcmNoUGFyYW1zLmZvckVhY2goKHMsYyx1KT0+e3RoaXMucmVtb3ZlUGFyYW0oaSxjLHUpfSl9KX0pLHQudG9TdHJpbmcoKSl9LG9uU2VuZChlKXtlLmNvbnRlbnQubWF0Y2goL2h0dHAocyk/OlwvXC8vKSYmKGUuY29udGVudD1lLmNvbnRlbnQucmVwbGFjZSgvKGh0dHBzPzpcL1wvW15cczxdK1tePC4sOjsiJz4pfFxdXHNdKS9nLHQ9PnRoaXMucmVwbGFjZXIodCkpKX0sc3RhcnQoKXt0aGlzLmNyZWF0ZVJ1bGVzKCksdGhpcy5wcmVTZW5kPUx0KChlLHQpPT50aGlzLm9uU2VuZCh0KSksdGhpcy5wcmVFZGl0PVlvKChlLHQsbik9PnRoaXMub25TZW5kKG4pKX0sc3RvcCgpe0V0KHRoaXMucHJlU2VuZCksWm8odGhpcy5wcmVFZGl0KX19KX0pO3ZhciAkdSxldj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTskdT12KHtuYW1lOiJDb2xvclNpZ2h0ZWQiLGRlc2NyaXB0aW9uOiJSZW1vdmVzIHRoZSBjb2xvcmJsaW5kLWZyaWVuZGx5IGljb25zIGZyb20gc3RhdHVzZXMsIGp1c3QgbGlrZSAyMDE1LTIwMTcgRGlzY29yZCIsYXV0aG9yczpbbS5sZXdpc2FrdXJhXSxwYXRjaGVzOlt7ZmluZDoiTWFza3MuU1RBVFVTX09OTElORSIscmVwbGFjZW1lbnQ6e21hdGNoOi9NYXNrc1wuU1RBVFVTXyg/OklETEV8RE5EfFNUUkVBTUlOR3xPRkZMSU5FKS9nLHJlcGxhY2U6Ik1hc2tzLlNUQVRVU19PTkxJTkUifX0se2ZpbmQ6Ii5BVkFUQVJfU1RBVFVTX01PQklMRV8xNjsiLHJlcGxhY2VtZW50OnttYXRjaDovKFwuZnJvbUlzTW9iaWxlLC4rPylcaS5zdGF0dXMvLHJlcGxhY2U6KGUsdCk9PmAke3R9Im9ubGluZSJgfX1dfSl9KTt2YXIgVzIsVXUsdHY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt2cigpO3RpKCk7TSgpO0YoKTtGKCk7dygpO1cyPWU9PigpPT57dGhyb3cgbmV3IEVycm9yKGAnJHtlfScgaXMgRGlzY29yZCBEZXNrdG9wIG9ubHkuYCl9LFV1PXYoe25hbWU6IkNvbnNvbGVTaG9ydGN1dHMiLGRlc2NyaXB0aW9uOiJBZGRzIHNob3J0ZXIgQWxpYXNlcyBmb3IgbWFueSB0aGluZ3Mgb24gdGhlIHdpbmRvdy4gUnVuIGBzaG9ydGN1dExpc3RgIGZvciBhIGxpc3QuIixhdXRob3JzOlttLlZlbl0sZ2V0U2hvcnRjdXRzKCl7ZnVuY3Rpb24gZShuKXtsZXQgcj1uZXcgTWFwO3JldHVybiBmdW5jdGlvbiguLi5pKXtsZXQgcz1TdHJpbmcoaSk7aWYoci5oYXMocykpcmV0dXJuIHIuZ2V0KHMpO2xldCBjPWxyKG4oLi4uaSkpLHU9KCgpPT57c3dpdGNoKGMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG51bGw7Y2FzZSAxOnJldHVybiBjWzBdO2RlZmF1bHQ6bGV0IHA9Wy4uLm5ldyBTZXQoYyldO3JldHVybiBwLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oYFdhcm5pbmc6IFRoaXMgZmlsdGVyIG1hdGNoZXMgJHtjLmxlbmd0aH0gbW9kdWxlcy4gTWFrZSBpdCBtb3JlIHNwZWNpZmljIQpgLHApLGNbMF19fSkoKTtyZXR1cm4gdSYmcyYmci5zZXQocyx1KSx1fX1sZXQgdDtyZXR1cm57d3A6VmVuY29yZC5XZWJwYWNrLHdwYzpXdC5jLHdyZXE6V3Qsd3BzZWFyY2g6QWwsd3BleDpMbCx3cGV4czpuPT5WZW5jb3JkLldlYnBhY2suZXh0cmFjdChWZW5jb3JkLldlYnBhY2suZmluZE1vZHVsZUlkKG4pKSxmaW5kOmUobj0+biksZmluZEFsbDpscixmaW5kQnlQcm9wczplKEouYnlQcm9wcyksZmluZEFsbEJ5UHJvcHM6KC4uLm4pPT5scihKLmJ5UHJvcHMoLi4ubikpLGZpbmRCeUNvZGU6ZShKLmJ5Q29kZSksZmluZEFsbEJ5Q29kZTpuPT5scihKLmJ5Q29kZShuKSksZmluZFN0b3JlOmUoSi5ieVN0b3JlTmFtZSksUGx1Z2luc0FwaTpWZW5jb3JkLlBsdWdpbnMscGx1Z2luczpWZW5jb3JkLlBsdWdpbnMucGx1Z2lucyxSZWFjdDpMLFNldHRpbmdzOlZlbmNvcmQuU2V0dGluZ3MsQXBpOlZlbmNvcmQuQXBpLHJlbG9hZDooKT0+bG9jYXRpb24ucmVsb2FkKCkscmVzdGFydDpXMigicmVzdGFydCIpLGNhbm9uaWNhbGl6ZU1hdGNoOnpvLGNhbm9uaWNhbGl6ZVJlcGxhY2U6QXMsY2Fub25pY2FsaXplUmVwbGFjZW1lbnQ6ZWksZmFrZVJlbmRlcjoobixyKT0+e2xldCBpPXQ/LmRlcmVmKCkscz1pPy5jbG9zZWQ9PT0hMT9pOnVuc2FmZVdpbmRvdy5vcGVuKCJhYm91dDpibGFuayIsIkZha2UgUmVuZGVyIiwicG9wdXAsd2lkdGg9NTAwLGhlaWdodD01MDAiKTt0PW5ldyBXZWFrUmVmKHMpLHMuZm9jdXMoKSwkby5yZW5kZXIoTC5jcmVhdGVFbGVtZW50KG4scikscy5kb2N1bWVudC5ib2R5KX19fSxzdGFydCgpe2xldCBlPXRoaXMuZ2V0U2hvcnRjdXRzKCk7dW5zYWZlV2luZG93LnNob3J0Y3V0TGlzdD1lO2ZvcihsZXRbdCxuXW9mIE9iamVjdC5lbnRyaWVzKGUpKXVuc2FmZVdpbmRvd1t0XT1ufSxzdG9wKCl7ZGVsZXRlIHVuc2FmZVdpbmRvdy5zaG9ydGN1dExpc3Q7Zm9yKGxldCBlIGluIHRoaXMuZ2V0U2hvcnRjdXRzKCkpZGVsZXRlIHVuc2FmZVdpbmRvd1tlXX19KX0pO3ZhciB3byxHdSxIdSxjYSx6dSxqdSxudj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bW8oKTtVKCk7UCgpO01lKCk7WmUoKTtNKCk7U3IoKTt3KCk7d289bmV3IFYoIkNyYXNoSGFuZGxlciIpLEd1PUUoe2F0dGVtcHRUb1ByZXZlbnRDcmFzaGVzOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gYXR0ZW1wdCB0byBwcmV2ZW50IERpc2NvcmQgY3Jhc2hlcy4iLGRlZmF1bHQ6ITB9LGF0dGVtcHRUb05hdmlnYXRlVG9Ib21lOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gYXR0ZW1wdCB0byBuYXZpZ2F0ZSB0byB0aGUgaG9tZSB3aGVuIHByZXZlbnRpbmcgRGlzY29yZCBjcmFzaGVzLiIsZGVmYXVsdDohMX19KSxIdT0wLGNhPTAsenU9ITEsanU9dih7bmFtZToiQ3Jhc2hIYW5kbGVyIixkZXNjcmlwdGlvbjoiVXRpbGl0eSBwbHVnaW4gZm9yIGhhbmRsaW5nIGFuZCBwb3NzaWJseSByZWNvdmVyaW5nIGZyb20gQ3Jhc2hlcyB3aXRob3V0IGEgcmVzdGFydCIsYXV0aG9yczpbbS5OdWNreXpdLGVuYWJsZWRCeURlZmF1bHQ6ITAscG9wQWxsTW9kYWxzOnZvaWQgMCxzZXR0aW5nczpHdSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLkVSUk9SU19VTkVYUEVDVEVEX0NSQVNIIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PXRoaXNcLnNldFN0YXRlXCgpLyxyZXBsYWNlOiIkc2VsZi5oYW5kbGVDcmFzaCh0aGlzKXx8In19LHtmaW5kOidkaXNwYXRjaCh7dHlwZToiTU9EQUxfUE9QX0FMTCJ9KScscmVwbGFjZW1lbnQ6e21hdGNoOi8iTU9EQUxfUE9QX0FMTCIuKz99Oyg/PD0oXGkpPWZ1bmN0aW9uLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5wb3BBbGxNb2RhbHM9JHt0fTtgfX1dLGhhbmRsZUNyYXNoKGUpe2lmKERhdGUubm93KCktY2E8PTFlMyYmIXp1KXJldHVybiEwO2lmKHp1PSExLCsrSHU+NSl7dHJ5e3ZlKHtjb2xvcjoiI2VlZDIwMiIsdGl0bGU6IkRpc2NvcmQgaGFzIGNyYXNoZWQhIixib2R5OiJBd24gOiggRGlzY29yZCBoYXMgY3Jhc2hlZCBtb3JlIHRoYW4gZml2ZSB0aW1lcywgbm90IGF0dGVtcHRpbmcgdG8gcmVjb3Zlci4iLG5vUGVyc2lzdDohMH0pfWNhdGNoe31yZXR1cm4gY2E9RGF0ZS5ub3coKSwhMX1zZXRUaW1lb3V0KCgpPT5IdS0tLDZlNCk7dHJ5e3JldHVybiBIdT09PTEmJmdpKCJVaCBvaCwgRGlzY29yZCBoYXMganVzdCBjcmFzaGVkLi4uIGJ1dCBnb29kIG5ld3MsIHRoZXJlIGlzIGEgVmVuY29yZCB1cGRhdGUgYXZhaWxhYmxlIHRoYXQgbWlnaHQgZml4IHRoaXMgaXNzdWUhIFdvdWxkIHlvdSBsaWtlIHRvIHVwZGF0ZSBub3c/IiwhMCksR3Uuc3RvcmUuYXR0ZW1wdFRvUHJldmVudENyYXNoZXM/KHRoaXMuaGFuZGxlUHJldmVudENyYXNoKGUpLCEwKTohMX1jYXRjaCh0KXtyZXR1cm4gd28uZXJyb3IoIkZhaWxlZCB0byBoYW5kbGUgY3Jhc2giLHQpLCExfWZpbmFsbHl7Y2E9RGF0ZS5ub3coKX19LGhhbmRsZVByZXZlbnRDcmFzaChlKXtpZihEYXRlLm5vdygpLWNhPj0xZTMpdHJ5e3ZlKHtjb2xvcjoiI2VlZDIwMiIsdGl0bGU6IkRpc2NvcmQgaGFzIGNyYXNoZWQhIixib2R5OiJBdHRlbXB0aW5nIHRvIHJlY292ZXIuLi4iLG5vUGVyc2lzdDohMH0pfWNhdGNoe310cnl7Ty5kaXNwYXRjaCh7dHlwZToiQ09OVEVYVF9NRU5VX0NMT1NFIn0pfWNhdGNoKHQpe3dvLmRlYnVnKCJGYWlsZWQgdG8gY2xvc2Ugb3BlbiBjb250ZXh0IG1lbnUuIix0KX10cnl7dGhpcy5wb3BBbGxNb2RhbHM/LigpfWNhdGNoKHQpe3dvLmRlYnVnKCJGYWlsZWQgdG8gY2xvc2Ugb2xkIG1vZGFscy4iLHQpfXRyeXtqbCgpfWNhdGNoKHQpe3dvLmRlYnVnKCJGYWlsZWQgdG8gY2xvc2UgYWxsIG9wZW4gbW9kYWxzLiIsdCl9dHJ5e08uZGlzcGF0Y2goe3R5cGU6IlVTRVJfUFJPRklMRV9NT0RBTF9DTE9TRSJ9KX1jYXRjaCh0KXt3by5kZWJ1ZygiRmFpbGVkIHRvIGNsb3NlIHVzZXIgcG9wb3V0LiIsdCl9dHJ5e08uZGlzcGF0Y2goe3R5cGU6IkxBWUVSX1BPUF9BTEwifSl9Y2F0Y2godCl7d28uZGVidWcoIkZhaWxlZCB0byBwb3AgYWxsIGxheWVycy4iLHQpfWlmKEd1LnN0b3JlLmF0dGVtcHRUb05hdmlnYXRlVG9Ib21lKXRyeXtKci50cmFuc2l0aW9uVG8oIi9jaGFubmVscy9AbWUiKX1jYXRjaCh0KXt3by5kZWJ1ZygiRmFpbGVkIHRvIG5hdmlnYXRlIHRvIGhvbWUiLHQpfXRyeXt6dT0hMCxlLmZvcmNlVXBkYXRlKCl9Y2F0Y2godCl7d28uZGVidWcoIkZhaWxlZCB0byB1cGRhdGUgY3Jhc2ggaGFuZGxlciBjb21wb25lbnQuIix0KX19fSl9KTthc3luYyBmdW5jdGlvbiBvdihlKXtyZXR1cm4vaHR0cHM/OlwvXC8oY2RufG1lZGlhKVwuZGlzY29yZGFwcFwuKGNvbXxuZXQpXC9hdHRhY2htZW50c1wvLy50ZXN0KGUpPyJtcDoiK2UucmVwbGFjZSgvaHR0cHM/OlwvXC8oY2RufG1lZGlhKVwuZGlzY29yZGFwcFwuKGNvbXxuZXQpXC8vLCIiKTooYXdhaXQgWjIuZ2V0QXNzZXQoVW4uc3RvcmUuYXBwSUQsW2Usdm9pZCAwXSkpWzBdfWZ1bmN0aW9uIFgyKCl7cmV0dXJuIFVuLnN0b3JlLnR5cGUhPT0xfWZ1bmN0aW9uIEoyKCl7cmV0dXJuIFVuLnN0b3JlLnR5cGU9PT0xJiZVbi5zdG9yZS5zdHJlYW1MaW5rJiYhLyhodHRwcz86XC9cLyh3d3dcLik/KHR3aXRjaFwudHZ8eW91dHViZVwuY29tKVwvXHcrKS8udGVzdChVbi5zdG9yZS5zdHJlYW1MaW5rKT8iU3RyZWFtaW5nIGxpbmsgbXVzdCBiZSBhIHZhbGlkIFVSTC4iOiEwfWZ1bmN0aW9uIHJ2KCl7cmV0dXJuIFVuLnN0b3JlLnRpbWVzdGFtcE1vZGUhPT0zfWZ1bmN0aW9uIGl2KGUpe3JldHVybi9odHRwcz86XC9cLy8udGVzdChlKT8vaHR0cHM/OlwvXC8oPyFpXC4pP2ltZ3VyXC5jb21cLy8udGVzdChlKT8iSW1ndXIgbGluayBtdXN0IGJlIGEgZGlyZWN0IGxpbmsgdG8gdGhlIGltYWdlLiAoZS5nLiBodHRwczovL2kuaW1ndXIuY29tLy4uLikiOi9odHRwcz86XC9cLyg/IW1lZGlhXC4pP3Rlbm9yXC5jb21cLy8udGVzdChlKT8iVGVub3IgbGluayBtdXN0IGJlIGEgZGlyZWN0IGxpbmsgdG8gdGhlIGltYWdlLiAoZS5nLiBodHRwczovL21lZGlhLnRlbm9yLmNvbS8uLi4pIjohMDohMH1hc3luYyBmdW5jdGlvbiBzdigpe2xldHthcHBJRDplLGFwcE5hbWU6dCxkZXRhaWxzOm4sc3RhdGU6cix0eXBlOmksc3RyZWFtTGluazpzLHN0YXJ0VGltZTpjLGVuZFRpbWU6dSxpbWFnZUJpZzpwLGltYWdlQmlnVG9vbHRpcDp5LGltYWdlU21hbGw6aCxpbWFnZVNtYWxsVG9vbHRpcDpTLGJ1dHRvbk9uZVRleHQ6YixidXR0b25PbmVVUkw6eCxidXR0b25Ud29UZXh0OkEsYnV0dG9uVHdvVVJMOk59PVVuLnN0b3JlO2lmKCF0KXJldHVybjtsZXQgST17YXBwbGljYXRpb25faWQ6ZXx8IjAiLG5hbWU6dCxzdGF0ZTpyLGRldGFpbHM6bix0eXBlOmksZmxhZ3M6MTw8MH07c3dpdGNoKGk9PT0xJiYoSS51cmw9cyksVW4uc3RvcmUudGltZXN0YW1wTW9kZSl7Y2FzZSAxOkkudGltZXN0YW1wcz17c3RhcnQ6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9O2JyZWFrO2Nhc2UgMjpJLnRpbWVzdGFtcHM9e3N0YXJ0Ok1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLW5ldyBEYXRlKCkuZ2V0SG91cnMoKSozNjAwLW5ldyBEYXRlKCkuZ2V0TWludXRlcygpKjYwLW5ldyBEYXRlKCkuZ2V0U2Vjb25kcygpfTticmVhaztjYXNlIDM6YyYmKEkudGltZXN0YW1wcz17c3RhcnQ6Y30sdSYmKEkudGltZXN0YW1wcy5lbmQ9dSkpO2JyZWFrO2Nhc2UgMDpkZWZhdWx0OmJyZWFrfWImJihJLmJ1dHRvbnM9W2IsQV0uZmlsdGVyKE5zKSxJLm1ldGFkYXRhPXtidXR0b25fdXJsczpbeCxOXS5maWx0ZXIoTnMpfSkscCYmKEkuYXNzZXRzPXtsYXJnZV9pbWFnZTphd2FpdCBvdihwKSxsYXJnZV90ZXh0Onl8fHZvaWQgMH0pLGgmJihJLmFzc2V0cz17Li4uSS5hc3NldHMsc21hbGxfaW1hZ2U6YXdhaXQgb3YoaCksc21hbGxfdGV4dDpTfHx2b2lkIDB9KTtmb3IobGV0ICQgaW4gSSl7aWYoJD09PSJ0eXBlIiljb250aW51ZTtsZXQgXz1JWyRdOyghX3x8Xy5sZW5ndGg9PT0wKSYmZGVsZXRlIElbJF19cmV0dXJuIEl9YXN5bmMgZnVuY3Rpb24gaXQoZSl7bGV0IHQ9YXdhaXQgc3YoKTtPLmRpc3BhdGNoKHt0eXBlOiJMT0NBTF9BQ1RJVklUWV9VUERBVEUiLGFjdGl2aXR5OmU/bnVsbDp0LHNvY2tldElkOiJDdXN0b21SUEMifSl9dmFyIHEyLEsyLFkyLFoyLFVuLFd1LGF2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7eG8oKTtQKCk7UnMoKTtoZSgpO00oKTtGKCk7dygpO3EyPXBlKCJvbk9wZW5HYW1lUHJvZmlsZSIpLEsyPUMoImFjdGl2aXR5IiwiYnV0dG9uQ29sb3IiKSxZMj1DKCJwcm9maWxlQ29sb3JzIiksWjI9ZXQoImdldEFzc2V0SW1hZ2U6IHNpemUgbXVzdCA9PT0gW251bWJlciwgbnVtYmVyXSBmb3IgVHdpdGNoIix7Z2V0QXNzZXQ6Si5ieUNvZGUoImFwcGx5KCIpfSk7VW49RSh7YXBwSUQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiQXBwbGljYXRpb24gSUQgKHJlcXVpcmVkKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxpc1ZhbGlkOmU9PmU/ZSYmIS9eXGQrJC8udGVzdChlKT8iQXBwbGljYXRpb24gSUQgbXVzdCBiZSBhIG51bWJlci4iOiEwOiJBcHBsaWNhdGlvbiBJRCBpcyByZXF1aXJlZC4ifSxhcHBOYW1lOnt0eXBlOjAsZGVzY3JpcHRpb246IkFwcGxpY2F0aW9uIG5hbWUgKHJlcXVpcmVkKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxpc1ZhbGlkOmU9PmU/ZS5sZW5ndGg+MTI4PyJBcHBsaWNhdGlvbiBuYW1lIG11c3QgYmUgbm90IGxvbmdlciB0aGFuIDEyOCBjaGFyYWN0ZXJzLiI6ITA6IkFwcGxpY2F0aW9uIG5hbWUgaXMgcmVxdWlyZWQuIn0sZGV0YWlsczp7dHlwZTowLGRlc2NyaXB0aW9uOiJEZXRhaWxzIChsaW5lIDEpIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzVmFsaWQ6ZT0+ZSYmZS5sZW5ndGg+MTI4PyJEZXRhaWxzIChsaW5lIDEpIG11c3QgYmUgbm90IGxvbmdlciB0aGFuIDEyOCBjaGFyYWN0ZXJzLiI6ITB9LHN0YXRlOnt0eXBlOjAsZGVzY3JpcHRpb246IlN0YXRlIChsaW5lIDIpIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzVmFsaWQ6ZT0+ZSYmZS5sZW5ndGg+MTI4PyJTdGF0ZSAobGluZSAyKSBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAxMjggY2hhcmFjdGVycy4iOiEwfSx0eXBlOnt0eXBlOjQsZGVzY3JpcHRpb246IkFjdGl2aXR5IHR5cGUiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6aXQsb3B0aW9uczpbe2xhYmVsOiJQbGF5aW5nIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiU3RyZWFtaW5nIix2YWx1ZToxfSx7bGFiZWw6Ikxpc3RlbmluZyIsdmFsdWU6Mn0se2xhYmVsOiJXYXRjaGluZyIsdmFsdWU6M30se2xhYmVsOiJDb21wZXRpbmciLHZhbHVlOjV9XX0sc3RyZWFtTGluazp7dHlwZTowLGRlc2NyaXB0aW9uOiJUd2l0Y2gudHYgb3IgWW91dHViZS5jb20gbGluayAob25seSBmb3IgU3RyZWFtaW5nIGFjdGl2aXR5IHR5cGUpIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzRGlzYWJsZWQ6WDIsaXNWYWxpZDpKMn0sdGltZXN0YW1wTW9kZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJUaW1lc3RhbXAgbW9kZSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxvcHRpb25zOlt7bGFiZWw6Ik5vbmUiLHZhbHVlOjAsZGVmYXVsdDohMH0se2xhYmVsOiJTaW5jZSBkaXNjb3JkIG9wZW4iLHZhbHVlOjF9LHtsYWJlbDoiU2FtZSBhcyB5b3VyIGN1cnJlbnQgdGltZSIsdmFsdWU6Mn0se2xhYmVsOiJDdXN0b20iLHZhbHVlOjN9XX0sc3RhcnRUaW1lOnt0eXBlOjEsZGVzY3JpcHRpb246IlN0YXJ0IHRpbWVzdGFtcCAob25seSBmb3IgY3VzdG9tIHRpbWVzdGFtcCBtb2RlKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxpc0Rpc2FibGVkOnJ2LGlzVmFsaWQ6ZT0+ZSYmZTwwPyJTdGFydCB0aW1lc3RhbXAgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4iOiEwfSxlbmRUaW1lOnt0eXBlOjEsZGVzY3JpcHRpb246IkVuZCB0aW1lc3RhbXAgKG9ubHkgZm9yIGN1c3RvbSB0aW1lc3RhbXAgbW9kZSkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6aXQsaXNEaXNhYmxlZDpydixpc1ZhbGlkOmU9PmUmJmU8MD8iRW5kIHRpbWVzdGFtcCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLiI6ITB9LGltYWdlQmlnOnt0eXBlOjAsZGVzY3JpcHRpb246IkJpZyBpbWFnZSBrZXkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6aXQsaXNWYWxpZDppdn0saW1hZ2VCaWdUb29sdGlwOnt0eXBlOjAsZGVzY3JpcHRpb246IkJpZyBpbWFnZSB0b29sdGlwIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzVmFsaWQ6ZT0+ZSYmZS5sZW5ndGg+MTI4PyJCaWcgaW1hZ2UgdG9vbHRpcCBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAxMjggY2hhcmFjdGVycy4iOiEwfSxpbWFnZVNtYWxsOnt0eXBlOjAsZGVzY3JpcHRpb246IlNtYWxsIGltYWdlIGtleSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxpc1ZhbGlkOml2fSxpbWFnZVNtYWxsVG9vbHRpcDp7dHlwZTowLGRlc2NyaXB0aW9uOiJTbWFsbCBpbWFnZSB0b29sdGlwIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzVmFsaWQ6ZT0+ZSYmZS5sZW5ndGg+MTI4PyJTbWFsbCBpbWFnZSB0b29sdGlwIG11c3QgYmUgbm90IGxvbmdlciB0aGFuIDEyOCBjaGFyYWN0ZXJzLiI6ITB9LGJ1dHRvbk9uZVRleHQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiQnV0dG9uIDEgdGV4dCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjMxPyJCdXR0b24gMSB0ZXh0IG11c3QgYmUgbm90IGxvbmdlciB0aGFuIDMxIGNoYXJhY3RlcnMuIjohMH0sYnV0dG9uT25lVVJMOnt0eXBlOjAsZGVzY3JpcHRpb246IkJ1dHRvbiAxIFVSTCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTppdH0sYnV0dG9uVHdvVGV4dDp7dHlwZTowLGRlc2NyaXB0aW9uOiJCdXR0b24gMiB0ZXh0IixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0LGlzVmFsaWQ6ZT0+ZSYmZS5sZW5ndGg+MzE/IkJ1dHRvbiAyIHRleHQgbXVzdCBiZSBub3QgbG9uZ2VyIHRoYW4gMzEgY2hhcmFjdGVycy4iOiEwfSxidXR0b25Ud29VUkw6e3R5cGU6MCxkZXNjcmlwdGlvbjoiQnV0dG9uIDIgVVJMIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOml0fX0pO1d1PXYoe25hbWU6IkN1c3RvbVJQQyIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gc2V0IGEgY3VzdG9tIHJpY2ggcHJlc2VuY2UuIixhdXRob3JzOlttLmNhcHRhaW4sbS5BdXR1bW5WTl0sc3RhcnQ6aXQsc3RvcDooKT0+aXQoITApLHNldHRpbmdzOlVuLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KCk9PntsZXQgZT1ZZShzdik7cmV0dXJuIG8oZCxudWxsLG8oVC5Gb3JtVGV4dCxudWxsLCJHbyB0byAiLG8ocnQse2hyZWY6Imh0dHBzOi8vZGlzY29yZC5jb20vZGV2ZWxvcGVycy9hcHBsaWNhdGlvbnMifSwiRGlzY29yZCBEZXZlcmxvcGVyIFBvcnRhbCIpLCIgdG8gY3JlYXRlIGFuIGFwcGxpY2F0aW9uIGFuZCBnZXQgdGhlIGFwcGxpY2F0aW9uIElELiIpLG8oVC5Gb3JtVGV4dCxudWxsLCJVcGxvYWQgaW1hZ2VzIGluIHRoZSBSaWNoIFByZXNlbmNlIHRhYiB0byBnZXQgdGhlIGltYWdlIGtleXMuIiksbyhULkZvcm1UZXh0LG51bGwsIklmIHlvdSB3YW50IHRvIHVzZSBpbWFnZSBsaW5rLCBkb3dubG9hZCB5b3VyIGltYWdlIGFuZCByZXVwbG9hZCB0aGUgaW1hZ2UgdG8gIixvKHJ0LHtocmVmOiJodHRwczovL2ltZ3VyLmNvbSJ9LCJJbWd1ciIpLCcgYW5kIGdldCB0aGUgaW1hZ2UgbGluayBieSByaWdodC1jbGlja2luZyB0aGUgaW1hZ2UgYW5kIHNlbGVjdCAiQ29weSBpbWFnZSBhZGRyZXNzIi4nKSxvKFQuRm9ybURpdmlkZXIsbnVsbCksbygiZGl2Iix7c3R5bGU6e3dpZHRoOiIyODRweCJ9LGNsYXNzTmFtZTpZMi5wcm9maWxlQ29sb3JzfSxlWzBdJiZvKHEyLHthY3Rpdml0eTplWzBdLGNsYXNzTmFtZTpLMi5hY3Rpdml0eSxjaGFubmVsSWQ6eGUuZ2V0Q2hhbm5lbElkKCksZ3VpbGQ6bWUuZ2V0R3VpbGQoY28uZ2V0TGFzdFNlbGVjdGVkR3VpbGRJZCgpKSxhcHBsaWNhdGlvbjp7aWQ6VW4uc3RvcmUuYXBwSUR9LHVzZXI6Ry5nZXRDdXJyZW50VXNlcigpfSkpKX19KX0pO3ZhciBxdSxsdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtxdT12KHtuYW1lOiJEaXNhYmxlRE1DYWxsSWRsZSIsZGVzY3JpcHRpb246IkRpc2FibGVzIGF1dG9tYXRpY2FsbHkgZ2V0dGluZyBraWNrZWQgZnJvbSBhIERNIHZvaWNlIGNhbGwgYWZ0ZXIgMyBtaW51dGVzLiIsYXV0aG9yczpbbS5OdWNreXpdLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuQk9UX0NBTExfSURMRV9ESVNDT05ORUNUIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1mdW5jdGlvbiBcaVwoXCl7KSg/PS57MSwxMDB9XC5NZXNzYWdlc1wuQk9UX0NBTExfSURMRV9ESVNDT05ORUNUKS8scmVwbGFjZToicmV0dXJuOyJ9fV19KX0pO2Z1bmN0aW9uIEt1KGUpe3JldHVybiBlLnQ9PT0iRW1vamkiP2Ake2xvY2F0aW9uLnByb3RvY29sfS8vJHt1bnNhZmVXaW5kb3cuR0xPQkFMX0VOVi5DRE5fSE9TVH0vZW1vamlzLyR7ZS5pZH0uJHtlLmlzQW5pbWF0ZWQ/ImdpZiI6InBuZyJ9YDpgJHtsb2NhdGlvbi5vcmlnaW59L3N0aWNrZXJzLyR7ZS5pZH0uJHtlTVtlLmZvcm1hdF90eXBlXX1gfWFzeW5jIGZ1bmN0aW9uIGR2KGUpe2xldCB0PVEyLmdldFN0aWNrZXJCeUlkKGUpO2lmKHQpcmV0dXJuIHQ7bGV0e2JvZHk6bn09YXdhaXQgU3QuZ2V0KHt1cmw6YC9zdGlja2Vycy8ke2V9YH0pO3JldHVybiBPLmRpc3BhdGNoKHt0eXBlOiJTVElDS0VSX0ZFVENIX1NVQ0NFU1MiLHN0aWNrZXI6bn0pLG59YXN5bmMgZnVuY3Rpb24gdE0oZSx0KXtsZXQgbj1uZXcgRm9ybURhdGE7bi5hcHBlbmQoIm5hbWUiLHQubmFtZSksbi5hcHBlbmQoInRhZ3MiLHQudGFncyksbi5hcHBlbmQoImRlc2NyaXB0aW9uIix0LmRlc2NyaXB0aW9uKSxuLmFwcGVuZCgiZmlsZSIsYXdhaXQgbXYoS3UodCkpKTtsZXR7Ym9keTpyfT1hd2FpdCBTdC5wb3N0KHt1cmw6YC9ndWlsZHMvJHtlfS9zdGlja2Vyc2AsYm9keTpufSk7Ty5kaXNwYXRjaCh7dHlwZToiR1VJTERfU1RJQ0tFUlNfQ1JFQVRFX1NVQ0NFU1MiLGd1aWxkSWQ6ZSxzdGlja2VyOnsuLi5yLHVzZXI6Ry5nZXRDdXJyZW50VXNlcigpfX0pfWFzeW5jIGZ1bmN0aW9uIG5NKGUsdCl7bGV0IG49YXdhaXQgbXYoS3UodCkpLHI9YXdhaXQgbmV3IFByb21pc2UoaT0+e2xldCBzPW5ldyBGaWxlUmVhZGVyO3Mub25sb2FkPSgpPT5pKHMucmVzdWx0KSxzLnJlYWRBc0RhdGFVUkwobil9KTtyZXR1cm4gVjIoe2d1aWxkSWQ6ZSxuYW1lOnQubmFtZS5zcGxpdCgifiIpWzBdLGltYWdlOnJ9KX1mdW5jdGlvbiBvTShlKXtsZXQgdD1HLmdldEN1cnJlbnRVc2VyKCkuaWQ7cmV0dXJuIE9iamVjdC52YWx1ZXMobWUuZ2V0R3VpbGRzKCkpLmZpbHRlcihuPT57aWYoIShuLm93bmVySWQ9PT10fHxCaWdJbnQoQmUuZ2V0R3VpbGRQZXJtaXNzaW9ucyh7aWQ6bi5pZH0pJmN2KT09PWN2KSlyZXR1cm4hMTtpZihlLnQ9PT0iU3RpY2tlciIpcmV0dXJuITA7bGV0e2lzQW5pbWF0ZWQ6aX09ZSxzPW4uZ2V0TWF4RW1vamlTbG90cygpLHtlbW9qaXM6Y309Z24uZ2V0R3VpbGRzKClbbi5pZF0sdT0wO2ZvcihsZXQgcCBvZiBjKXAuYW5pbWF0ZWQ9PT1pJiZ1Kys7cmV0dXJuIHU8c30pLnNvcnQoKG4scik9Pm4ubmFtZS5sb2NhbGVDb21wYXJlKHIubmFtZSkpfWFzeW5jIGZ1bmN0aW9uIG12KGUpe2xldCB0PWF3YWl0IGYoZSk7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtlfSAtICR7dC5zdGF0dXN9YCk7cmV0dXJuIHQuYmxvYigpfWFzeW5jIGZ1bmN0aW9uIHJNKGUsdCl7dHJ5e3QudD09PSJTdGlja2VyIj9hd2FpdCB0TShlLHQpOmF3YWl0IG5NKGUsdCksWi5zaG93KHttZXNzYWdlOmBTdWNjZXNzZnVsbHkgY2xvbmVkICR7dC5uYW1lfSB0byAke21lLmdldEd1aWxkKGUpPy5uYW1lPz8ieW91ciBzZXJ2ZXIifSFgLHR5cGU6Wi5UeXBlLlNVQ0NFU1MsaWQ6Wi5nZW5JZCgpfSl9Y2F0Y2gobil7bmV3IFYoIkVtb3RlQ2xvbmVyIikuZXJyb3IoIkZhaWxlZCB0byBjbG9uZSIsdC5uYW1lLCJ0byIsZSxuKSxaLnNob3coe21lc3NhZ2U6Ik9vcHNpZSBzb21ldGhpbmcgd2VudCB3cm9uZyA6KCBDaGVjayBjb25zb2xlISEhIix0eXBlOlouVHlwZS5GQUlMVVJFLGlkOlouZ2VuSWQoKX0pfX1mdW5jdGlvbiBhTSh7ZGF0YTplfSl7bGV0W3Qsbl09TC51c2VTdGF0ZSghMSksW3IsaV09TC51c2VTdGF0ZShlLm5hbWUpLFtzLGNdPUwudXNlUmVkdWNlcihwPT5wKzEsMCksdT1MLnVzZU1lbW8oKCk9Pm9NKGUpLFtlLmlkLHNdKTtyZXR1cm4gbyhkLG51bGwsbyhULkZvcm1UaXRsZSx7Y2xhc3NOYW1lOnoudG9wMjB9LCJDdXN0b20gTmFtZSIpLG8oaWEse3ZhbHVlOnIsb25DaGFuZ2U6cD0+e2UubmFtZT1wLGkocCl9LHZhbGlkYXRlOnA9PmUudD09PSJFbW9qaSImJnAubGVuZ3RoPjImJnAubGVuZ3RoPDMyJiZzTS50ZXN0KHApfHxlLnQ9PT0iU3RpY2tlciImJnAubGVuZ3RoPjImJnAubGVuZ3RoPDMwfHwiTmFtZSBtdXN0IGJlIGJldHdlZW4gMiBhbmQgMzIgY2hhcmFjdGVycyBhbmQgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIn0pLG8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJmbGV4IixmbGV4V3JhcDoid3JhcCIsZ2FwOiIxZW0iLHBhZGRpbmc6IjFlbSAwLjVlbSIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsYWxpZ25JdGVtczoiY2VudGVyIn19LHUubWFwKHA9Pm8oWCx7dGV4dDpwLm5hbWV9LCh7b25Nb3VzZUxlYXZlOnksb25Nb3VzZUVudGVyOmh9KT0+bygiZGl2Iix7b25Nb3VzZUxlYXZlOnksb25Nb3VzZUVudGVyOmgscm9sZToiYnV0dG9uIiwiYXJpYS1sYWJlbCI6IkNsb25lIHRvICIrcC5uYW1lLCJhcmlhLWRpc2FibGVkIjp0LHN0eWxlOntib3JkZXJSYWRpdXM6IjUwJSIsYmFja2dyb3VuZENvbG9yOiJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkiLGRpc3BsYXk6ImlubGluZS1mbGV4IixqdXN0aWZ5Q29udGVudDoiY2VudGVyIixhbGlnbkl0ZW1zOiJjZW50ZXIiLHdpZHRoOiI0ZW0iLGhlaWdodDoiNGVtIixjdXJzb3I6dD8ibm90LWFsbG93ZWQiOiJwb2ludGVyIixmaWx0ZXI6dD8iYnJpZ2h0bmVzcyg1MCUpIjoibm9uZSJ9LG9uQ2xpY2s6dD92b2lkIDA6YXN5bmMoKT0+e24oITApLHJNKHAuaWQsZSkuZmluYWxseSgoKT0+e2MoKSxuKCExKX0pfX0scC5pY29uP28oImltZyIseyJhcmlhLWhpZGRlbiI6ITAsc3R5bGU6e2JvcmRlclJhZGl1czoiNTAlIix3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIn0sc3JjOnAuZ2V0SWNvblVSTCg1MTIsITApLGFsdDpwLm5hbWV9KTpvKFQuRm9ybVRleHQse3N0eWxlOntmb250U2l6ZTppTShwLmFjcm9ueW0pLHdpZHRoOiIxMDAlIixvdmVyZmxvdzoiaGlkZGVuIix3aGl0ZVNwYWNlOiJub3dyYXAiLHRleHRBbGlnbjoiY2VudGVyIixjdXJzb3I6dD8ibm90LWFsbG93ZWQiOiJwb2ludGVyIn19LHAuYWNyb255bSkpKSkpKX1mdW5jdGlvbiB1YShlLHQpe3JldHVybiBvKEIuTWVudUl0ZW0se2lkOiJlbW90ZS1jbG9uZXIiLGtleToiZW1vdGUtY2xvbmVyIixsYWJlbDpgQ2xvbmUgJHtlfWAsYWN0aW9uOigpPT5Rcihhc3luYygpPT57bGV0IG49YXdhaXQgdCgpLHI9e3Q6ZSwuLi5ufSxpPUt1KHIpO3JldHVybiBzPT5vKExlLHsuLi5zfSxvKCRlLG51bGwsbygiaW1nIix7cm9sZToicHJlc2VudGF0aW9uIiwiYXJpYS1oaWRkZW4iOiEwLHNyYzppLGFsdDoiIixoZWlnaHQ6MjQsd2lkdGg6MjQsc3R5bGU6e21hcmdpblJpZ2h0OiIwLjVlbSJ9fSksbyhULkZvcm1UZXh0LG51bGwsIkNsb25lICIsci5uYW1lKSksbyhVZSxudWxsLG8oYU0se2RhdGE6cn0pKSl9KX0pfWZ1bmN0aW9uIGZ2KGUpe3JldHVybiBuZXcgVVJMKGUpLnBhdGhuYW1lLmVuZHNXaXRoKCIuZ2lmIil9dmFyIGN2LFEyLFYyLGVNLGlNLHNNLHV2LHB2LFl1LGd2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtUdCgpO2Z1KCk7UCgpO01lKCk7bnQoKTtaZSgpO00oKTtGKCk7dygpO2N2PTFuPDwzMG4sUTI9bGUoIlN0aWNrZXJzU3RvcmUiKSxWMj1wZSgnIkVNT0pJX1VQTE9BRF9TVEFSVCInLCJHVUlMRF9FTU9KSVMoIiksZU09WywicG5nIiwicG5nIiwianNvbiIsImdpZiJdO2lNPWU9PlsyMCwyMCwxOCwxOCwxNiwxNCwxMl1bZS5sZW5ndGhdPz80LHNNPS9eXHcrJC9pO3V2PShlLHQpPT4oKT0+e2xldHtmYXZvcml0ZWFibGVJZDpuLGl0ZW1IcmVmOnIsaXRlbVNyYzppLGZhdm9yaXRlYWJsZVR5cGU6c309dD8/e307aWYoIW4pcmV0dXJuO2xldCBjPSgoKT0+e3N3aXRjaChzKXtjYXNlImVtb2ppIjpsZXQgdT10Lm1lc3NhZ2UuY29udGVudC5tYXRjaChSZWdFeHAoYDxhPzooXFx3KykoPzp+XFxkKyk/OiR7bn0+fGh0dHBzOi8vY2RuXFwuZGlzY29yZGFwcFxcLmNvbS9lbW9qaXMvJHtufVxcLmApKTtpZighdSlyZXR1cm47bGV0IHA9dVsxXT8/IkZha2VOaXRyb0Vtb2ppIjtyZXR1cm4gdWEoIkVtb2ppIiwoKT0+KHtpZDpuLG5hbWU6cCxpc0FuaW1hdGVkOmZ2KHI/P2kpfSkpO2Nhc2Uic3RpY2tlciI6cmV0dXJuIHQubWVzc2FnZS5zdGlja2VySXRlbXMuZmluZChoPT5oLmlkPT09bik/LmZvcm1hdF90eXBlPT09Mz92b2lkIDA6dWEoIlN0aWNrZXIiLCgpPT5kdihuKSl9fSkoKTtjJiZsdCgiY29weS1saW5rIixlKT8ucHVzaChjKX0scHY9KGUsdCk9PigpPT57bGV0e2lkOm4sbmFtZTpyLHR5cGU6aX09dD8udGFyZ2V0Py5kYXRhc2V0Pz97fTtpZighIW4paWYoaT09PSJlbW9qaSImJnIpe2xldCBzPXQudGFyZ2V0LmZpcnN0Q2hpbGQ7ZS5wdXNoKHVhKCJFbW9qaSIsKCk9Pih7aWQ6bixuYW1lOnIsaXNBbmltYXRlZDpzJiZmdihzLnNyYyl9KSkpfWVsc2UgaT09PSJzdGlja2VyIiYmIXQudGFyZ2V0LmNsYXNzTmFtZT8uaW5jbHVkZXMoImxvdHRpZUNhbnZhcyIpJiZlLnB1c2godWEoIlN0aWNrZXIiLCgpPT5kdihuKSkpfSxZdT12KHtuYW1lOiJFbW90ZUNsb25lciIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gY2xvbmUgRW1vdGVzICYgU3RpY2tlcnMgdG8geW91ciBvd24gc2VydmVyIChyaWdodCBjbGljayB0aGVtKSIsdGFnczpbIlN0aWNrZXJDbG9uZXIiXSxhdXRob3JzOlttLlZlbixtLk51Y2t5el0sc3RhcnQoKXtkZSgibWVzc2FnZSIsdXYpLGRlKCJleHByZXNzaW9uLXBpY2tlciIscHYpfSxzdG9wKCl7ZmUoIm1lc3NhZ2UiLHV2KSxmZSgiZXhwcmVzc2lvbi1waWNrZXIiLHB2KX19KX0pO3ZhciBadSxYdSxKdSxodj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3NlKCk7cmkoKTtQKCk7bnQoKTtNKCk7RigpO3coKTtadT1DKCJrZXkiLCJyZW1vdmVCdWlsZE92ZXJyaWRlIiksWHU9RSh7ZW5hYmxlSXNTdGFmZjp7ZGVzY3JpcHRpb246IkVuYWJsZSBpc1N0YWZmIix0eXBlOjMsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfSxmb3JjZVN0YWdpbmdCYW5uZXI6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIGZvcmNlIFN0YWdpbmcgYmFubmVyIHVuZGVyIHVzZXIgYXJlYS4iLHR5cGU6MyxkZWZhdWx0OiExLHJlc3RhcnROZWVkZWQ6ITB9fSksSnU9dih7bmFtZToiRXhwZXJpbWVudHMiLGRlc2NyaXB0aW9uOiJFbmFibGUgQWNjZXNzIHRvIEV4cGVyaW1lbnRzIGluIERpc2NvcmQhIixhdXRob3JzOlttLk1lZ3UsbS5WZW4sbS5OaWNreXV4LG0uQmFuVGhlTm9ucyxtLk51Y2t5el0sc2V0dGluZ3M6WHUscGF0Y2hlczpbe2ZpbmQ6Ik9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2lzRGV2ZWxvcGVyIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD17aXNEZXZlbG9wZXI6XHtbXn1dKz8sZ2V0OmZ1bmN0aW9uXChcKVx7cmV0dXJuIClcdy8scmVwbGFjZToidHJ1ZSJ9fSx7ZmluZDondHlwZToidXNlciIscmV2aXNpb24nLHJlcGxhY2VtZW50OnttYXRjaDovIShcaSkmJiJDT05ORUNUSU9OX09QRU4iLis/Oy9nLHJlcGxhY2U6IiQxPSEwOyJ9fSx7ZmluZDoiLmlzU3RhZmY9ZnVuY3Rpb24oKXsiLHByZWRpY2F0ZTooKT0+WHUuc3RvcmUuZW5hYmxlSXNTdGFmZixyZXBsYWNlbWVudDpbe21hdGNoOi9yZXR1cm5ccyo/KFxpKVwuaGFzRmxhZ1woKFxpXC5caSlcLlNUQUZGXCl9LyxyZXBsYWNlOihlLHQsbik9PmByZXR1cm4gVmVuY29yZC5XZWJwYWNrLkNvbW1vbi5Vc2VyU3RvcmUuZ2V0Q3VycmVudFVzZXIoKT8uaWQ9PT0ke3R9LmlkfHwke3R9Lmhhc0ZsYWcoJHtufS5TVEFGRil9YH0se21hdGNoOi9oYXNGcmVlUHJlbWl1bT1mdW5jdGlvblwoXCl7cmV0dXJuIHRoaXMuaXNTdGFmZlwoXClccyo/XHxcfC8scmVwbGFjZToiaGFzRnJlZVByZW1pdW09ZnVuY3Rpb24oKXtyZXR1cm4gIn1dfSx7ZmluZDoiLk1lc3NhZ2VzLkRFVl9OT1RJQ0VfU1RBR0lORyIscHJlZGljYXRlOigpPT5YdS5zdG9yZS5mb3JjZVN0YWdpbmdCYW5uZXIscmVwbGFjZW1lbnQ6e21hdGNoOi8ic3RhZ2luZyI9PT13aW5kb3dcLkdMT0JBTF9FTlZcLlJFTEVBU0VfQ0hBTk5FTC8scmVwbGFjZToidHJ1ZSJ9fSx7ZmluZDonSDEsdGl0bGU6IkV4cGVyaW1lbnRzIicscmVwbGFjZW1lbnQ6e21hdGNoOid0aXRsZToiRXhwZXJpbWVudHMiLGNoaWxkcmVuOlsnLHJlcGxhY2U6IiQmJHNlbGYuV2FybmluZ0NhcmQoKSwifX1dLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KCk9PntsZXQgZT1uYXZpZ2F0b3IucGxhdGZvcm0uaW5jbHVkZXMoIk1hYyIpLHQ9ZT8iY21kIjoiY3RybCIsbj1lPyJvcHQiOiJhbHQiO3JldHVybiBvKEwuRnJhZ21lbnQsbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIk1vcmUgSW5mb3JtYXRpb24iKSxvKFQuRm9ybVRleHQse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIllvdSBjYW4gZW5hYmxlIGNsaWVudCBEZXZUb29scyIsIiAiLG8oImtiZCIse2NsYXNzTmFtZTpadS5rZXl9LHQpLCIgKyIsIiAiLG8oImtiZCIse2NsYXNzTmFtZTpadS5rZXl9LG4pLCIgKyIsIiAiLG8oImtiZCIse2NsYXNzTmFtZTpadS5rZXl9LCJPIiksIiAiLCJhZnRlciBlbmFibGluZyAiLG8oImNvZGUiLG51bGwsImlzU3RhZmYiKSwiIGJlbG93IiksbyhULkZvcm1UZXh0LG51bGwsImFuZCB0aGVuIHRvZ2dsaW5nICIsbygiY29kZSIsbnVsbCwiRW5hYmxlIERldlRvb2xzIiksIiBpbiB0aGUgIixvKCJjb2RlIixudWxsLCJEZXZlbG9wZXIgT3B0aW9ucyIpLCIgdGFiIGluIHNldHRpbmdzLiIpKX0sV2FybmluZ0NhcmQ6RC53cmFwKCgpPT5vKFhuLHtpZDoidmMtZXhwZXJpbWVudHMtd2FybmluZy1jYXJkIixjbGFzc05hbWU6ei5ib3R0b20xNn0sbyhULkZvcm1UaXRsZSx7dGFnOiJoMiJ9LCJIb2xkIG9uISEiKSxvKFQuRm9ybVRleHQsbnVsbCwiRXhwZXJpbWVudHMgYXJlIHVucmVsZWFzZWQgRGlzY29yZCBmZWF0dXJlcy4gVGhleSBtaWdodCBub3Qgd29yaywgb3IgZXZlbiBicmVhayB5b3VyIGNsaWVudCBvciBnZXQgeW91ciBhY2NvdW50IGRpc2FibGVkLiIpLG8oVC5Gb3JtVGV4dCx7Y2xhc3NOYW1lOnoudG9wOH0sIk9ubHkgdXNlIGV4cGVyaW1lbnRzIGlmIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLiBWZW5jb3JkIGlzIG5vdCByZXNwb25zaWJsZSBmb3IgYW55IGRhbWFnZSBjYXVzZWQgYnkgZW5hYmxpbmcgZXhwZXJpbWVudHMuIikpLHtub29wOiEwfSl9KX0pO3ZhciBRdSx5dj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtRdT12KHtuYW1lOiJGOEJyZWFrIixkZXNjcmlwdGlvbjoiUGF1c2UgdGhlIGNsaWVudCB3aGVuIHlvdSBwcmVzcyBGOCB3aXRoIERldlRvb2xzICgrIGJyZWFrcG9pbnRzKSBvcGVuLiIsYXV0aG9yczpbbS5sZXdpc2FrdXJhXSxzdGFydCgpe3Vuc2FmZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLmV2ZW50KX0sc3RvcCgpe3Vuc2FmZVdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLmV2ZW50KX0sZXZlbnQoZSl7aWYoZS5jb2RlPT09IkY4IilkZWJ1Z2dlcn19KX0pO3ZhciBwYSx2dixsTSxTdixidixUdix3aT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dW4oKTtwYT16bigoKT0+aW1wb3J0KCJodHRwczovL3VucGtnLmNvbS9naWZlbmNAMS4wLjMvZGlzdC9naWZlbmMuZXNtLmpzIikpLHZ2PXpuKGFzeW5jKCk9PntsZXQgZT17fSx0PW5ldyBQcm94eSh1bnNhZmVXaW5kb3cse3NldDoobixyLGkpPT5lW3JdPWl9KTtyZXR1cm4gRnVuY3Rpb24oInNlbGYiLGF3YWl0IGYoImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2FwbmctY2FudmFzLzIuMS4xL2FwbmctY2FudmFzLm1pbi5qcyIpLnRoZW4obj0+bi50ZXh0KCkpKSh0KSxlLkFQTkd9KSxsTT0iaHR0cHM6Ly91bnBrZy5jb20vQHZhcC9zaGlraS13b3JrZXJAMC4wLjgvZGlzdCIsU3Y9YCR7bE19L2luZGV4Lm1pbi5qc2AsYnY9Imh0dHBzOi8vdW5wa2cuY29tL0B2YXAvc2hpa2lAMC4xMC4zL2Rpc3Qvb25pZy53YXNtIixUdj16bigoKT0+aW1wb3J0KCJodHRwczovL3VucGtnLmNvbS9zdGVnY2xvYWstZGlzdEAxLjAuMC9pbmRleC5qcyIpKX0pO2Z1bmN0aW9uIHd2KGUsdCl7aWYoIXQpcmV0dXJuO2xldCBuPXQuZmllbGRzLmZpbmQoaT0+aS5sb2NhbE5hbWU9PT1lKTtyZXR1cm4gbj9PYmplY3QudmFsdWVzKG4pLmZpbmQoaT0+dHlwZW9mIGk9PSJmdW5jdGlvbiIpPy4oKTp2b2lkIDB9dmFyIGNNLHVNLE1pLHRwLHh2LFhvLEpvLGRhLHBNLGRNLFZ1LGVwLG1hLGtlLG5wLE12PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTskbigpO1UoKTtQKCk7d2koKTthdCgpO3VuKCk7TWUoKTtNKCk7RigpO3coKTtjTT0wLHVNPXBlKCJVUExPQURfRklMRV9MSU1JVF9FUlJPUiIpLE1pPWxlKCJVc2VyU2V0dGluZ3NQcm90b1N0b3JlIiksdHA9UmUoZT0+ZS5Qcm90b0NsYXNzPy50eXBlTmFtZT09PSJkaXNjb3JkX3Byb3Rvcy5kaXNjb3JkX3VzZXJzLnYxLlByZWxvYWRlZFVzZXJTZXR0aW5ncyIpLHh2PUMoInJlYWRlckZhY3RvcnkiKSxYbz1sZSgiU3RpY2tlcnNTdG9yZSIpO0pvPWZ0KCgpPT53digiYXBwZWFyYW5jZSIsdHAuUHJvdG9DbGFzcykpLGRhPWZ0KCgpPT53digiY2xpZW50VGhlbWVTZXR0aW5ncyIsSm8pKSxwTT0xbjw8MThuLGRNPTFuPDwzN24sVnU9L1wvZW1vamlzXC8oXGQrPylcLihwbmd8d2VicHxnaWYpLyxlcD0vXC9zdGlja2Vyc1wvKFxkKz8pXC4vLG1hPS9cL2F0dGFjaG1lbnRzXC9cZCs/XC9cZCs/XC8oXGQrPylcLmdpZi8sa2U9RSh7ZW5hYmxlRW1vamlCeXBhc3M6e2Rlc2NyaXB0aW9uOiJBbGxvdyBzZW5kaW5nIGZha2UgZW1vamlzIix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfSxlbW9qaVNpemU6e2Rlc2NyaXB0aW9uOiJTaXplIG9mIHRoZSBlbW9qaXMgd2hlbiBzZW5kaW5nIix0eXBlOjUsZGVmYXVsdDo0OCxtYXJrZXJzOlszMiw0OCw2NCwxMjgsMTYwLDI1Niw1MTJdfSx0cmFuc2Zvcm1FbW9qaXM6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHRyYW5zZm9ybSBmYWtlIGVtb2ppcyBpbnRvIHJlYWwgb25lcyIsdHlwZTozLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0sZW5hYmxlU3RpY2tlckJ5cGFzczp7ZGVzY3JpcHRpb246IkFsbG93IHNlbmRpbmcgZmFrZSBzdGlja2VycyIsdHlwZTozLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0sc3RpY2tlclNpemU6e2Rlc2NyaXB0aW9uOiJTaXplIG9mIHRoZSBzdGlja2VycyB3aGVuIHNlbmRpbmciLHR5cGU6NSxkZWZhdWx0OjE2MCxtYXJrZXJzOlszMiw2NCwxMjgsMTYwLDI1Niw1MTJdfSx0cmFuc2Zvcm1TdGlja2Vyczp7ZGVzY3JpcHRpb246IldoZXRoZXIgdG8gdHJhbnNmb3JtIGZha2Ugc3RpY2tlcnMgaW50byByZWFsIG9uZXMiLHR5cGU6MyxkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9LHRyYW5zZm9ybUNvbXBvdW5kU2VudGVuY2U6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHRyYW5zZm9ybSBmYWtlIHN0aWNrZXJzIGFuZCBlbW9qaXMgaW4gY29tcG91bmQgc2VudGVuY2VzIChzZW50ZW5jZXMgd2l0aCBtb3JlIGNvbnRlbnQgdGhhbiBqdXN0IHRoZSBmYWtlIGVtb2ppIG9yIHN0aWNrZXIgbGluaykiLHR5cGU6MyxkZWZhdWx0OiExfSxlbmFibGVTdHJlYW1RdWFsaXR5QnlwYXNzOntkZXNjcmlwdGlvbjoiQWxsb3cgc3RyZWFtaW5nIGluIG5pdHJvIHF1YWxpdHkiLHR5cGU6MyxkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9fSksbnA9dih7bmFtZToiRmFrZU5pdHJvIixhdXRob3JzOlttLkFyaml4LG0uRDNTT1gsbS5WZW4sbS5vYnNjdXJpdHksbS5jYXB0YWluLG0uTnVja3l6LG0uQXV0dW1uVk5dLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHN0cmVhbSBpbiBuaXRybyBxdWFsaXR5LCBzZW5kIGZha2UgZW1vamlzL3N0aWNrZXJzIGFuZCB1c2UgY2xpZW50IHRoZW1lcy4iLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VFdmVudHNBUEkiXSxzZXR0aW5nczprZSxwYXRjaGVzOlt7ZmluZDoiLlBSRU1JVU1fTE9DS0VEOyIscHJlZGljYXRlOigpPT5rZS5zdG9yZS5lbmFibGVFbW9qaUJ5cGFzcyxyZXBsYWNlbWVudDpbe21hdGNoOi8oPzw9KFxpKT1caVwuaW50ZW50aW9uKS8scmVwbGFjZTooZSx0KT0+YCxmYWtlTml0cm9JbnRlbnRpb249JHt0fWB9LHttYXRjaDovXC4oPzpjYW5Vc2VFbW9qaXNFdmVyeXdoZXJlfGNhblVzZUFuaW1hdGVkRW1vamlzKVwoXGkoPz1cKSkvZyxyZXBsYWNlOickJix0eXBlb2YgZmFrZU5pdHJvSW50ZW50aW9uIT09InVuZGVmaW5lZCI/ZmFrZU5pdHJvSW50ZW50aW9uOnZvaWQgMCd9LHttYXRjaDovKCYmIVxpJiYpIShcaSkoPz1cKXJldHVybiBcaVwuXGlcLkRJU0FMTE9XX0VYVEVSTkFMOykvLHJlcGxhY2U6KGUsdCxuKT0+YCR7dH0oISR7bn0mJih0eXBlb2YgZmFrZU5pdHJvSW50ZW50aW9uPT09InVuZGVmaW5lZCJ8fCFbJHszfSwkezR9XS5pbmNsdWRlcyhmYWtlTml0cm9JbnRlbnRpb24pKSlgfSx7bWF0Y2g6L2lmXCghXGlcLmF2YWlsYWJsZS8scmVwbGFjZTplPT5gJHtlfSYmKHR5cGVvZiBmYWtlTml0cm9JbnRlbnRpb249PT0idW5kZWZpbmVkInx8IVskezN9LCR7NH1dLmluY2x1ZGVzKGZha2VOaXRyb0ludGVudGlvbikpYH1dfSx7ZmluZDoiY2FuVXNlQW5pbWF0ZWRFbW9qaXM6ZnVuY3Rpb24iLHByZWRpY2F0ZTooKT0+a2Uuc3RvcmUuZW5hYmxlRW1vamlCeXBhc3MscmVwbGFjZW1lbnQ6e21hdGNoOi8oKD86Y2FuVXNlRW1vamlzRXZlcnl3aGVyZXxjYW5Vc2VBbmltYXRlZEVtb2ppcyk6ZnVuY3Rpb25cKFxpKVwpeyguKz9cKSkvZyxyZXBsYWNlOihlLHQsbik9PmAke3R9LGZha2VOaXRyb0ludGVudGlvbil7JHtufXx8ZmFrZU5pdHJvSW50ZW50aW9uPT1udWxsfHxbJHszfSwkezR9XS5pbmNsdWRlcyhmYWtlTml0cm9JbnRlbnRpb24pYH19LHtmaW5kOiJjYW5Vc2VTdGlja2Vyc0V2ZXJ5d2hlcmU6ZnVuY3Rpb24iLHByZWRpY2F0ZTooKT0+a2Uuc3RvcmUuZW5hYmxlU3RpY2tlckJ5cGFzcyxyZXBsYWNlbWVudDp7bWF0Y2g6L2NhblVzZVN0aWNrZXJzRXZlcnl3aGVyZTpmdW5jdGlvblwoXGlcKXsvLHJlcGxhY2U6IiQmcmV0dXJuIHRydWU7In19LHtmaW5kOiciU0VOREFCTEUiJyxwcmVkaWNhdGU6KCk9PmtlLnN0b3JlLmVuYWJsZVN0aWNrZXJCeXBhc3MscmVwbGFjZW1lbnQ6e21hdGNoOi8oXHcrKVwuYXZhaWxhYmxlXD8vLHJlcGxhY2U6InRydWU/In19LHtmaW5kOiJjYW5TdHJlYW1IaWdoUXVhbGl0eTpmdW5jdGlvbiIscHJlZGljYXRlOigpPT5rZS5zdG9yZS5lbmFibGVTdHJlYW1RdWFsaXR5QnlwYXNzLHJlcGxhY2VtZW50OlsiY2FuVXNlSGlnaFZpZGVvVXBsb2FkUXVhbGl0eSIsImNhblN0cmVhbUhpZ2hRdWFsaXR5IiwiY2FuU3RyZWFtTWlkUXVhbGl0eSJdLm1hcChlPT4oe21hdGNoOm5ldyBSZWdFeHAoYCR7ZX06ZnVuY3Rpb25cXChcXGlcXCl7YCkscmVwbGFjZToiJCZyZXR1cm4gdHJ1ZTsifSkpfSx7ZmluZDoiU1RSRUFNX0ZQU19PUFRJT04uZm9ybWF0IixwcmVkaWNhdGU6KCk9PmtlLnN0b3JlLmVuYWJsZVN0cmVhbVF1YWxpdHlCeXBhc3MscmVwbGFjZW1lbnQ6e21hdGNoOi8odXNlclByZW1pdW1UeXBlfGd1aWxkUHJlbWl1bVRpZXIpOi57MCwxMH1USUVSX1xkLD8vZyxyZXBsYWNlOiIifX0se2ZpbmQ6ImNhblVzZUNsaWVudFRoZW1lczpmdW5jdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi9jYW5Vc2VDbGllbnRUaGVtZXM6ZnVuY3Rpb25cKFxpXCl7LyxyZXBsYWNlOiIkJnJldHVybiB0cnVlOyJ9fSx7ZmluZDonLmRpc3BsYXlOYW1lPSJVc2VyU2V0dGluZ3NQcm90b1N0b3JlIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovQ09OTkVDVElPTl9PUEVOOmZ1bmN0aW9uXCgoXGkpXCl7LyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmhhbmRsZVByb3RvQ2hhbmdlKCR7dH0udXNlclNldHRpbmdzUHJvdG8sJHt0fS51c2VyKTtgfSx7bWF0Y2g6Lz0oXGkpXC5sb2NhbDsvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHt0fS5sb2NhbHx8JHNlbGYuaGFuZGxlUHJvdG9DaGFuZ2UoJHt0fS5zZXR0aW5ncy5wcm90byk7YH1dfSx7ZmluZDoidXBkYXRlVGhlbWU6ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovKGZ1bmN0aW9uIFxpXChcaVwpe3ZhciAoXGkpPVxpXC5iYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZC4rPykoXGlcLlxpXC51cGRhdGVBc3luYy4rP3RoZW1lPSguKz8pOy4rP1wpLFxpXCkpLyxyZXBsYWNlOihlLHQsbixyLGkpPT5gJHt0fSRzZWxmLmhhbmRsZUdyYWRpZW50VGhlbWVTZWxlY3QoJHtufSwke2l9LCgpPT4ke3J9KTtgfX0se2ZpbmQ6J1sic3Ryb25nIiwiZW0iLCJ1IiwidGV4dCIsImlubGluZUNvZGUiLCJzIiwic3BvaWxlciJdJyxyZXBsYWNlbWVudDpbe3ByZWRpY2F0ZTooKT0+a2Uuc3RvcmUudHJhbnNmb3JtRW1vamlzLG1hdGNoOi8xIT09KFxpKVwubGVuZ3RoXHxcfDEhPT1caVwubGVuZ3RoLyxyZXBsYWNlOihlLHQpPT5gJHtlfXx8JHNlbGYuc2hvdWxkS2VlcEVtb2ppTGluaygke3R9WzBdKWB9LHtwcmVkaWNhdGU6KCk9PmtlLnN0b3JlLnRyYW5zZm9ybUVtb2ppc3x8a2Uuc3RvcmUudHJhbnNmb3JtU3RpY2tlcnMsbWF0Y2g6Lyg/PXJldHVybntoYXNTcG9pbGVyRW1iZWRzOlxpLGNvbnRlbnQ6KFxpKX0pLyxyZXBsYWNlOihlLHQpPT5gJHt0fT0kc2VsZi5wYXRjaEZha2VOaXRyb0Vtb2ppc09yUmVtb3ZlU3RpY2tlcnNMaW5rcygke3R9LGFyZ3VtZW50c1syXT8uZm9ybWF0SW5saW5lKTtgfV19LHtmaW5kOiJyZW5kZXJFbWJlZHM9ZnVuY3Rpb24iLHJlcGxhY2VtZW50Olt7cHJlZGljYXRlOigpPT5rZS5zdG9yZS50cmFuc2Zvcm1FbW9qaXN8fGtlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzLG1hdGNoOi8ocmVuZGVyRW1iZWRzPWZ1bmN0aW9uXCgoXGkpXCl7KSguKz9lbWJlZHNcLm1hcFwoXChmdW5jdGlvblwoKFxpKVwpeykvLHJlcGxhY2U6KGUsdCxuLHIsaSk9PmAke3R9Y29uc3QgZmFrZU5pdHJvTWVzc2FnZT0ke259OyR7cn1pZigkc2VsZi5zaG91bGRJZ25vcmVFbWJlZCgke2l9LGZha2VOaXRyb01lc3NhZ2UpKXJldHVybiBudWxsO2B9LHtwcmVkaWNhdGU6KCk9PmtlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzLG1hdGNoOi9yZW5kZXJTdGlja2Vyc0FjY2Vzc29yaWVzPWZ1bmN0aW9uXCgoXGkpXCl7dmFyIChcaSk9XCgwLFxpXC5caVwpXChcaVwpLC8scmVwbGFjZTooZSx0LG4pPT5gJHtlfSR7bn09JHNlbGYucGF0Y2hGYWtlTml0cm9TdGlja2Vycygke259LCR7dH0pLGB9LHtwcmVkaWNhdGU6KCk9PmtlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzLG1hdGNoOi9yZW5kZXJBdHRhY2htZW50cz1mdW5jdGlvblwoXGlcKXt2YXIgKFxpKT1caS5hdHRhY2htZW50cy4rPzsvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHt0fT0kc2VsZi5maWx0ZXJBdHRhY2htZW50cygke3R9KTtgfV19LHtmaW5kOiIuU1RJQ0tFUl9JTl9NRVNTQUdFX0hPVkVSLCIscHJlZGljYXRlOigpPT5rZS5zdG9yZS50cmFuc2Zvcm1TdGlja2VycyxyZXBsYWNlbWVudDpbe21hdGNoOi92YXIgKFxpKT1caVwucmVuZGVyYWJsZVN0aWNrZXIsLnswLDUwfWNsb3NlUG9wb3V0Lis/Y2hhbm5lbDpcaSxjbG9zZVBvcG91dDpcaSwvLHJlcGxhY2U6KGUsdCk9PmAke2V9cmVuZGVyYWJsZVN0aWNrZXI6JHt0fSxgfSx7bWF0Y2g6LyhlbW9qaVNlY3Rpb24uezAsNTB9ZGVzY3JpcHRpb246KShcaSkoPzw9KFxpKVwuc3RpY2tlciwuKz8pKD89LCkvLHJlcGxhY2U6KGUsdCxuLHIpPT5gJHt0fSRzZWxmLmFkZEZha2VOb3RpY2UoIlNUSUNLRVIiLCR7bn0sISEke3J9LnJlbmRlcmFibGVTdGlja2VyPy5mYWtlKWB9XX0se2ZpbmQ6Ii5NZXNzYWdlcy5FTU9KSV9QT1BPVVRfUFJFTUlVTV9KT0lORURfR1VJTERfREVTQ1JJUFRJT04iLHByZWRpY2F0ZTooKT0+a2Uuc3RvcmUudHJhbnNmb3JtRW1vamlzLHJlcGxhY2VtZW50OnttYXRjaDovKChcaSk9XGlcLm5vZGUsXGk9XGlcLmVtb2ppU291cmNlRGlzY292ZXJhYmxlR3VpbGQpKC4rP3JldHVybiApKC57MCw0NTB9TWVzc2FnZXNcLkVNT0pJX1BPUE9VVF9QUkVNSVVNX0pPSU5FRF9HVUlMRF9ERVNDUklQVElPTi4rP31cKSkvLHJlcGxhY2U6KGUsdCxuLHIsaSk9PmAke3R9LGZha2VOaXRyb05vZGU9JHtufSR7cn0kc2VsZi5hZGRGYWtlTm90aWNlKCJFTU9KSSIsJHtpfSxmYWtlTml0cm9Ob2RlLmZha2UpYH19XSxnZXQgZ3VpbGRJZCgpe3JldHVybiBXbCgpPy5pZH0sZ2V0IGNhblVzZUVtb3Rlcygpe3JldHVybihHLmdldEN1cnJlbnRVc2VyKCkucHJlbWl1bVR5cGU/PzApPjB9LGdldCBjYW5Vc2VTdGlja2Vycygpe3JldHVybihHLmdldEN1cnJlbnRVc2VyKCkucHJlbWl1bVR5cGU/PzApPjF9LGhhbmRsZVByb3RvQ2hhbmdlKGUsdCl7aWYoZT09bnVsbHx8dHlwZW9mIGU9PSJzdHJpbmcifHwhTWl8fCFlLmFwcGVhcmFuY2UmJiFKbylyZXR1cm47aWYoKHQ/LnByZW1pdW1fdHlwZT8/Rz8uZ2V0Q3VycmVudFVzZXIoKT8ucHJlbWl1bVR5cGU/PzApIT09MiYmKGUuYXBwZWFyYW5jZT8/PUpvLmNyZWF0ZSgpLE1pLnNldHRpbmdzLmFwcGVhcmFuY2U/LnRoZW1lIT1udWxsJiYoZS5hcHBlYXJhbmNlLnRoZW1lPU1pLnNldHRpbmdzLmFwcGVhcmFuY2UudGhlbWUpLE1pLnNldHRpbmdzLmFwcGVhcmFuY2U/LmNsaWVudFRoZW1lU2V0dGluZ3M/LmJhY2tncm91bmRHcmFkaWVudFByZXNldElkPy52YWx1ZSE9bnVsbCYmZGEpKXtsZXQgcj1kYS5jcmVhdGUoe2JhY2tncm91bmRHcmFkaWVudFByZXNldElkOnt2YWx1ZTpNaS5zZXR0aW5ncy5hcHBlYXJhbmNlLmNsaWVudFRoZW1lU2V0dGluZ3MuYmFja2dyb3VuZEdyYWRpZW50UHJlc2V0SWQudmFsdWV9fSk7ZS5hcHBlYXJhbmNlLmNsaWVudFRoZW1lU2V0dGluZ3M/Pz1yLGUuYXBwZWFyYW5jZS5jbGllbnRUaGVtZVNldHRpbmdzLmJhY2tncm91bmRHcmFkaWVudFByZXNldElkPXIuYmFja2dyb3VuZEdyYWRpZW50UHJlc2V0SWR9fSxoYW5kbGVHcmFkaWVudFRoZW1lU2VsZWN0KGUsdCxuKXtpZigoRz8uZ2V0Q3VycmVudFVzZXIoKT8ucHJlbWl1bVR5cGU/PzApPT09Mnx8ZT09bnVsbClyZXR1cm4gbigpO2lmKCFKb3x8IWRhfHwheHYpcmV0dXJuO2xldCBpPXRwLmdldEN1cnJlbnRWYWx1ZSgpLmFwcGVhcmFuY2Uscz1pIT1udWxsP0pvLmZyb21CaW5hcnkoSm8udG9CaW5hcnkoaSkseHYpOkpvLmNyZWF0ZSgpO3MudGhlbWU9dDtsZXQgYz1kYS5jcmVhdGUoe2JhY2tncm91bmRHcmFkaWVudFByZXNldElkOnt2YWx1ZTplfX0pO3MuY2xpZW50VGhlbWVTZXR0aW5ncz8/PWMscy5jbGllbnRUaGVtZVNldHRpbmdzLmJhY2tncm91bmRHcmFkaWVudFByZXNldElkPWMuYmFja2dyb3VuZEdyYWRpZW50UHJlc2V0SWQ7bGV0IHU9dHAuUHJvdG9DbGFzcy5jcmVhdGUoKTt1LmFwcGVhcmFuY2U9cyxPLmRpc3BhdGNoKHt0eXBlOiJVU0VSX1NFVFRJTkdTX1BST1RPX1VQREFURSIsbG9jYWw6ITAscGFydGlhbDohMCxzZXR0aW5nczp7dHlwZToxLHByb3RvOnV9fSl9LHRyaW1Db250ZW50KGUpe2xldCB0PWVbMF07dHlwZW9mIHQ9PSJzdHJpbmciJiYoZVswXT10LnRyaW1TdGFydCgpKSxlWzBdPT09IiImJmUuc2hpZnQoKTtsZXQgbj1lLmxlbmd0aC0xLHI9ZVtuXTt0eXBlb2Ygcj09InN0cmluZyImJihlW25dPXIudHJpbUVuZCgpKSxlW25dPT09IiImJmUucG9wKCl9LGNsZWFyRW1wdHlBcnJheUl0ZW1zKGUpe3JldHVybiBlLmZpbHRlcih0PT50IT1udWxsKX0sZW5zdXJlQ2hpbGRyZW5Jc0FycmF5KGUpe0FycmF5LmlzQXJyYXkoZS5wcm9wcy5jaGlsZHJlbil8fChlLnByb3BzLmNoaWxkcmVuPVtlLnByb3BzLmNoaWxkcmVuXSl9LHBhdGNoRmFrZU5pdHJvRW1vamlzT3JSZW1vdmVTdGlja2Vyc0xpbmtzKGUsdCl7aWYoKGUubGVuZ3RoPjF8fHR5cGVvZiBlWzBdPy50eXBlPT0ic3RyaW5nIikmJiFrZS5zdG9yZS50cmFuc2Zvcm1Db21wb3VuZFNlbnRlbmNlKXJldHVybiBlO2xldCBuPWUubGVuZ3RoLHI9dT0+e2lmKGtlLnN0b3JlLnRyYW5zZm9ybUVtb2ppcyl7bGV0IHA9dS5wcm9wcy5ocmVmLm1hdGNoKFZ1KTtpZihwKXtsZXQgeT1udWxsO3RyeXt5PW5ldyBVUkwodS5wcm9wcy5ocmVmKX1jYXRjaHt9bGV0IGg9Z24uZ2V0Q3VzdG9tRW1vamlCeUlkKHBbMV0pPy5uYW1lPz95Py5zZWFyY2hQYXJhbXMuZ2V0KCJuYW1lIik/PyJGYWtlTml0cm9FbW9qaSI7cmV0dXJuIEFlLmRlZmF1bHRSdWxlcy5jdXN0b21FbW9qaS5yZWFjdCh7anVtYm9hYmxlOiF0JiZlLmxlbmd0aD09PTEmJnR5cGVvZiBlWzBdLnR5cGUhPSJzdHJpbmciLGFuaW1hdGVkOnBbMl09PT0iZ2lmIixlbW9qaUlkOnBbMV0sbmFtZTpoLGZha2U6ITB9LHZvaWQgMCx7a2V5OlN0cmluZyhuKyspfSl9fWlmKGtlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzKXtpZihlcC50ZXN0KHUucHJvcHMuaHJlZikpcmV0dXJuIG51bGw7bGV0IHA9dS5wcm9wcy5ocmVmLm1hdGNoKG1hKTtpZihwJiZYby5nZXRTdGlja2VyQnlJZChwWzFdKSlyZXR1cm4gbnVsbH1yZXR1cm4gdX0saT11PT51Py5wcm9wcz8udHJ1c3RlZCE9bnVsbD9yKHUpOnU/LnByb3BzPy5jaGlsZHJlbiE9bnVsbD9BcnJheS5pc0FycmF5KHUucHJvcHMuY2hpbGRyZW4pPyh1LnByb3BzLmNoaWxkcmVuPWModS5wcm9wcy5jaGlsZHJlbiksdS5wcm9wcy5jaGlsZHJlbi5sZW5ndGg9PT0wP251bGw6dSk6KHUucHJvcHMuY2hpbGRyZW49cyh1LnByb3BzLmNoaWxkcmVuKSx1KTp1LHM9dT0+e2xldCBwPWkodSk7aWYocD8udHlwZT09PSJ1bCJ8fHA/LnR5cGU9PT0ib2wiKXtpZih0aGlzLmVuc3VyZUNoaWxkcmVuSXNBcnJheShwKSxwLnByb3BzLmNoaWxkcmVuLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IHk9ITE7Zm9yKGxldFtoLFNdb2YgcC5wcm9wcy5jaGlsZHJlbi5lbnRyaWVzKCkpe2lmKFM9PW51bGwpe2RlbGV0ZSBwLnByb3BzLmNoaWxkcmVuW2hdO2NvbnRpbnVlfXRoaXMuZW5zdXJlQ2hpbGRyZW5Jc0FycmF5KFMpLFMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoPjA/eT0hMDpkZWxldGUgcC5wcm9wcy5jaGlsZHJlbltoXX1pZigheSlyZXR1cm4gbnVsbDtwLnByb3BzLmNoaWxkcmVuPXRoaXMuY2xlYXJFbXB0eUFycmF5SXRlbXMocC5wcm9wcy5jaGlsZHJlbil9cmV0dXJuIHB9LGM9dT0+e2ZvcihsZXRbcCx5XW9mIHUuZW50cmllcygpKXVbcF09cyh5KTtyZXR1cm4gdT10aGlzLmNsZWFyRW1wdHlBcnJheUl0ZW1zKHUpLHRoaXMudHJpbUNvbnRlbnQodSksdX07dHJ5e3JldHVybiBjKHVuc2FmZVdpbmRvdy5fLmNsb25lRGVlcChlKSl9Y2F0Y2godSl7cmV0dXJuIG5ldyBWKCJGYWtlTml0cm8iKS5lcnJvcih1KSxlfX0scGF0Y2hGYWtlTml0cm9TdGlja2VycyhlLHQpe2xldCBuPVtdLHI9dC5jb250ZW50LnNwbGl0KC9ccy8pO2tlLnN0b3JlLnRyYW5zZm9ybUNvbXBvdW5kU2VudGVuY2U/bi5wdXNoKC4uLnIpOnIubGVuZ3RoPT09MSYmbi5wdXNoKHJbMF0pLG4ucHVzaCguLi50LmF0dGFjaG1lbnRzLmZpbHRlcihpPT5pLmNvbnRlbnRfdHlwZT09PSJpbWFnZS9naWYiKS5tYXAoaT0+aS51cmwpKTtmb3IobGV0IGkgb2Ygbil7aWYoIWtlLnN0b3JlLnRyYW5zZm9ybUNvbXBvdW5kU2VudGVuY2UmJiFpLnN0YXJ0c1dpdGgoImh0dHAiKSljb250aW51ZTtsZXQgcz1pLm1hdGNoKGVwKTtpZihzKXtsZXQgdT1udWxsO3RyeXt1PW5ldyBVUkwoaSl9Y2F0Y2h7fWxldCBwPVhvLmdldFN0aWNrZXJCeUlkKHNbMV0pPy5uYW1lPz91Py5zZWFyY2hQYXJhbXMuZ2V0KCJuYW1lIik/PyJGYWtlTml0cm9TdGlja2VyIjtlLnB1c2goe2Zvcm1hdF90eXBlOjEsaWQ6c1sxXSxuYW1lOnAsZmFrZTohMH0pO2NvbnRpbnVlfWxldCBjPWkubWF0Y2gobWEpO2lmKGMpe2lmKCFYby5nZXRTdGlja2VyQnlJZChjWzFdKSljb250aW51ZTtsZXQgdT1Yby5nZXRTdGlja2VyQnlJZChjWzFdKT8ubmFtZT8/IkZha2VOaXRyb1N0aWNrZXIiO2UucHVzaCh7Zm9ybWF0X3R5cGU6MixpZDpjWzFdLG5hbWU6dSxmYWtlOiEwfSl9fXJldHVybiBlfSxzaG91bGRJZ25vcmVFbWJlZChlLHQpe2xldCBuPXQuY29udGVudC5zcGxpdCgvXHMvKTtpZihuLmxlbmd0aD4xJiYha2Uuc3RvcmUudHJhbnNmb3JtQ29tcG91bmRTZW50ZW5jZSlyZXR1cm4hMTtzd2l0Y2goZS50eXBlKXtjYXNlImltYWdlIjp7aWYoIWtlLnN0b3JlLnRyYW5zZm9ybUNvbXBvdW5kU2VudGVuY2UmJiFuLmluY2x1ZGVzKGUudXJsKSYmIW4uaW5jbHVkZXMoZS5pbWFnZT8ucHJveHlVUkwpKXJldHVybiExO2lmKGtlLnN0b3JlLnRyYW5zZm9ybUVtb2ppcyYmVnUudGVzdChlLnVybCkpcmV0dXJuITA7aWYoa2Uuc3RvcmUudHJhbnNmb3JtU3RpY2tlcnMpe2lmKGVwLnRlc3QoZS51cmwpKXJldHVybiEwO2xldCByPWUudXJsLm1hdGNoKG1hKTtpZihyJiZYby5nZXRTdGlja2VyQnlJZChyWzFdKSlyZXR1cm4hMH1icmVha319cmV0dXJuITF9LGZpbHRlckF0dGFjaG1lbnRzKGUpe3JldHVybiBlLmZpbHRlcih0PT57aWYodC5jb250ZW50X3R5cGUhPT0iaW1hZ2UvZ2lmIilyZXR1cm4hMDtsZXQgbj10LnVybC5tYXRjaChtYSk7cmV0dXJuIShuJiZYby5nZXRTdGlja2VyQnlJZChuWzFdKSl9KX0sc2hvdWxkS2VlcEVtb2ppTGluayhlKXtyZXR1cm4gZS50YXJnZXQmJlZ1LnRlc3QoZS50YXJnZXQpfSxhZGRGYWtlTm90aWNlKGUsdCxuKXtpZighbilyZXR1cm4gdDtzd2l0Y2godD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLGUpe2Nhc2UiU1RJQ0tFUiI6cmV0dXJuIHQucHVzaCgiIFRoaXMgaXMgYSBGYWtlTml0cm8gc3RpY2tlciBhbmQgcmVuZGVycyBsaWtlIGEgcmVhbCBzdGlja2VyIG9ubHkgZm9yIHlvdS4gQXBwZWFycyBhcyBhIGxpbmsgdG8gbm9uLXBsdWdpbiB1c2Vycy4iKSx0O2Nhc2UiRU1PSkkiOnJldHVybiB0LnB1c2goIiBUaGlzIGlzIGEgRmFrZU5pdHJvIGVtb2ppIGFuZCByZW5kZXJzIGxpa2UgYSByZWFsIGVtb2ppIG9ubHkgZm9yIHlvdS4gQXBwZWFycyBhcyBhIGxpbmsgdG8gbm9uLXBsdWdpbiB1c2Vycy4iKSx0fX0saGFzUGVybWlzc2lvblRvVXNlRXh0ZXJuYWxFbW9qaXMoZSl7bGV0IHQ9dGUuZ2V0Q2hhbm5lbChlKTtyZXR1cm4hdHx8dC5pc0RNKCl8fHQuaXNHcm91cERNKCl8fHQuaXNNdWx0aVVzZXJETSgpPyEwOkJlLmNhbihwTSx0KX0saGFzUGVybWlzc2lvblRvVXNlRXh0ZXJuYWxTdGlja2VycyhlKXtsZXQgdD10ZS5nZXRDaGFubmVsKGUpO3JldHVybiF0fHx0LmlzRE0oKXx8dC5pc0dyb3VwRE0oKXx8dC5pc011bHRpVXNlckRNKCk/ITA6QmUuY2FuKGRNLHQpfSxnZXRTdGlja2VyTGluayhlKXtyZXR1cm5gaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9zdGlja2Vycy8ke2V9LnBuZz9zaXplPSR7ay5wbHVnaW5zLkZha2VOaXRyby5zdGlja2VyU2l6ZX1gfSxhc3luYyBzZW5kQW5pbWF0ZWRTdGlja2VyKGUsdCxuKXtsZXRbe3BhcnNlVVJMOnJ9LHtHSUZFbmNvZGVyOmkscXVhbnRpemU6cyxhcHBseVBhbGV0dGU6Y31dPWF3YWl0IFByb21pc2UuYWxsKFt2digpLHBhKCldKSx7ZnJhbWVzOnUsd2lkdGg6cCxoZWlnaHQ6eX09YXdhaXQgcihlKSxoPW5ldyBpLFM9ay5wbHVnaW5zLkZha2VOaXRyby5zdGlja2VyU2l6ZSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2Iud2lkdGg9UyxiLmhlaWdodD1TO2xldCB4PWIuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSxBPVMvTWF0aC5tYXgocCx5KTt4LnNjYWxlKEEsQSk7bGV0IE47Zm9yKGxldCAkIG9mIHUpe2xldHtsZWZ0Ol8sdG9wOkssd2lkdGg6bmUsaGVpZ2h0OlksaW1nOnEsZGVsYXk6b2UsYmxlbmRPcDpILGRpc3Bvc2VPcDpFZX09JDtOPXguZ2V0SW1hZ2VEYXRhKF8sSyxuZSxZKSxIPT09MCYmeC5jbGVhclJlY3QoXyxLLG5lLFkpLHguZHJhd0ltYWdlKHEsXyxLLG5lLFkpO2xldHtkYXRhOmllfT14LmdldEltYWdlRGF0YSgwLDAsUyxTKSxqZT1zKGllLDI1NiksR2U9YyhpZSxqZSk7aC53cml0ZUZyYW1lKEdlLFMsUyx7dHJhbnNwYXJlbnQ6ITAscGFsZXR0ZTpqZSxkZWxheTpvZX0pLEVlPT09MT94LmNsZWFyUmVjdChfLEssbmUsWSk6RWU9PT0yJiZ4LnB1dEltYWdlRGF0YShOLF8sSyl9aC5maW5pc2goKTtsZXQgST1uZXcgRmlsZShbaC5ieXRlc1ZpZXcoKV0sYCR7dH0uZ2lmYCx7dHlwZToiaW1hZ2UvZ2lmIn0pO3VNKFtJXSx0ZS5nZXRDaGFubmVsKG4pLGNNKX0sc3RhcnQoKXtsZXQgZT1rZS5zdG9yZTtpZighZS5lbmFibGVFbW9qaUJ5cGFzcyYmIWUuZW5hYmxlU3RpY2tlckJ5cGFzcylyZXR1cm47ZnVuY3Rpb24gdChuLHIpe3JldHVybiFuW3JdfHwvXHMvLnRlc3QobltyXSk/IiI6IiAifXRoaXMucHJlU2VuZD1MdCgobixyLGkpPT57bGV0e2d1aWxkSWQ6c309dGhpcztlOntpZighZS5lbmFibGVTdGlja2VyQnlwYXNzKWJyZWFrIGU7bGV0IGM9WG8uZ2V0U3RpY2tlckJ5SWQoaS5zdGlja2Vycz8uWzBdKTtpZighY3x8InBhY2tfaWQiaW4gYylicmVhayBlO2xldCB1PXRoaXMuY2FuVXNlU3RpY2tlcnMmJnRoaXMuaGFzUGVybWlzc2lvblRvVXNlRXh0ZXJuYWxTdGlja2VycyhuKTtpZihjLmF2YWlsYWJsZSE9PSExJiYodXx8Yy5ndWlsZF9pZD09PXMpKWJyZWFrIGU7bGV0IHA9dGhpcy5nZXRTdGlja2VyTGluayhjLmlkKTtpZihjLmZvcm1hdF90eXBlPT09MilyZXR1cm4gdGhpcy5zZW5kQW5pbWF0ZWRTdGlja2VyKHAsYy5pZCxuKSx7Y2FuY2VsOiEwfTtpLnN0aWNrZXJzLmxlbmd0aD0wLHIuY29udGVudCs9YCAke3B9Jm5hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoYy5uYW1lKX1gfWlmKGUuZW5hYmxlRW1vamlCeXBhc3Mpe2xldCBjPXRoaXMuY2FuVXNlRW1vdGVzJiZ0aGlzLmhhc1Blcm1pc3Npb25Ub1VzZUV4dGVybmFsRW1vamlzKG4pO2ZvcihsZXQgdSBvZiByLnZhbGlkTm9uU2hvcnRjdXRFbW9qaXMpe2lmKCF1LnJlcXVpcmVfY29sb25zfHx1LmF2YWlsYWJsZSE9PSExJiZjfHx1Lmd1aWxkSWQ9PT1zJiYhdS5hbmltYXRlZCljb250aW51ZTtsZXQgcD1gPCR7dS5hbmltYXRlZD8iYSI6IiJ9OiR7dS5vcmlnaW5hbE5hbWV8fHUubmFtZX06JHt1LmlkfT5gLHk9dS51cmwucmVwbGFjZSgvXD9zaXplPVxkKy8sIj8iK25ldyBVUkxTZWFyY2hQYXJhbXMoe3NpemU6ay5wbHVnaW5zLkZha2VOaXRyby5lbW9qaVNpemUsbmFtZTplbmNvZGVVUklDb21wb25lbnQodS5uYW1lKX0pKTtyLmNvbnRlbnQ9ci5jb250ZW50LnJlcGxhY2UocCwoaCxTLGIpPT5gJHt0KGIsUy0xKX0ke3l9JHt0KGIsUytoLmxlbmd0aCl9YCl9fXJldHVybntjYW5jZWw6ITF9fSksdGhpcy5wcmVFZGl0PVlvKChuLHIsaSk9PntpZighZS5lbmFibGVFbW9qaUJ5cGFzcylyZXR1cm47bGV0IHM9dGhpcy5jYW5Vc2VFbW90ZXMmJnRoaXMuaGFzUGVybWlzc2lvblRvVXNlRXh0ZXJuYWxFbW9qaXMobikse2d1aWxkSWQ6Y309dGhpcztpLmNvbnRlbnQ9aS5jb250ZW50LnJlcGxhY2UoLyg/PCFcXCk8YT86KD86XHcrKTooXGQrKT4vaWcsKHUscCx5LGgpPT57bGV0IFM9Z24uZ2V0Q3VzdG9tRW1vamlCeUlkKHApO2lmKFM9PW51bGx8fCFTLnJlcXVpcmVfY29sb25zfHxTLmF2YWlsYWJsZSE9PSExJiZzfHxTLmd1aWxkSWQ9PT1jJiYhUy5hbmltYXRlZClyZXR1cm4gdTtsZXQgYj1TLnVybC5yZXBsYWNlKC9cP3NpemU9XGQrLywiPyIrbmV3IFVSTFNlYXJjaFBhcmFtcyh7c2l6ZTprLnBsdWdpbnMuRmFrZU5pdHJvLmVtb2ppU2l6ZSxuYW1lOmVuY29kZVVSSUNvbXBvbmVudChTLm5hbWUpfSkpO3JldHVybmAke3QoaCx5LTEpfSR7Yn0ke3QoaCx5K3UubGVuZ3RoKX1gfSl9KX0sc3RvcCgpe0V0KHRoaXMucHJlU2VuZCksWm8odGhpcy5wcmVFZGl0KX19KX0pO2Z1bmN0aW9uIFB2KC4uLmUpe2xldCB0PXt9O2Z1bmN0aW9uIG4oaSl7Zm9yKGxldCBzPWUubGVuZ3RoLTE7cz49MDtzLS0paWYoaSBpbiBlW3NdKXJldHVybiBlW3NdO3JldHVybiB0fWxldCByPXtvd25LZXlzKCl7cmV0dXJuIGUucmVkdWNlKChpLHMpPT4oaS5wdXNoKC4uLlJlZmxlY3Qub3duS2V5cyhzKSksaSksUmVmbGVjdC5vd25LZXlzKHQpKX19O2ZvcihsZXQgaSBvZlsiZGVmaW5lUHJvcGVydHkiLCJkZWxldGVQcm9wZXJ0eSIsImdldCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImhhcyIsInNldCJdKXJbaV09ZnVuY3Rpb24ocywuLi5jKXtyZXR1cm4gUmVmbGVjdFtpXShuKGNbMF0pLC4uLmMpfTtyZXR1cm4gbmV3IFByb3h5KHQscil9dmFyIEl2LEN2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtJdj1Qdjt0eXBlb2YgbW9kdWxlPCJ1IiYmKG1vZHVsZS5leHBvcnRzPVB2KX0pO2Z1bmN0aW9uIG1NKGUsdCl7bGV0IG49YFsjJHtlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCIwIil9LCMke3QudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsIjAiKX1dYCxyPSIiLGk9QXJyYXkuZnJvbShuKS5tYXAocz0+cy5jb2RlUG9pbnRBdCgwKSkuZmlsdGVyKHM9PnM+PTMyJiZzPD0xMjcpLm1hcChzPT5TdHJpbmcuZnJvbUNvZGVQb2ludChzKzkxNzUwNCkpLmpvaW4oIiIpO3JldHVybihyfHwiIikrIiAiK2l9ZnVuY3Rpb24gZk0oZSl7aWYoZT09bnVsbClyZXR1cm4gbnVsbDtsZXQgdD1lLm1hdGNoKC9cdXtlMDA1Yn1cdXtlMDAyM30oW1x1e2UwMDYxfS1cdXtlMDA2Nn1cdXtlMDA0MX0tXHV7ZTAwNDZ9XHV7ZTAwMzB9LVx1e2UwMDM5fV0rPylcdXtlMDAyY31cdXtlMDAyM30oW1x1e2UwMDYxfS1cdXtlMDA2Nn1cdXtlMDA0MX0tXHV7ZTAwNDZ9XHV7ZTAwMzB9LVx1e2UwMDM5fV0rPylcdXtlMDA1ZH0vdSk7aWYodCE9bnVsbCl7bGV0IG49Wy4uLnRbMF1dLm1hcChpPT5TdHJpbmcuZnJvbUNvZGVQb2ludChpLmNvZGVQb2ludEF0KDApLTkxNzUwNCkpLmpvaW4oIiIpO3JldHVybiBuLnN1YnN0cmluZygxLG4ubGVuZ3RoLTEpLnNwbGl0KCIsIikubWFwKGk9PnBhcnNlSW50KGkucmVwbGFjZSgiIyIsIjB4IiksMTYpKX1lbHNlIHJldHVybiBudWxsfXZhciBOdixvcCxSdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3NlKCk7UCgpO250KCk7Z2UoKTtNKCk7dygpO0N2KCk7TnY9RSh7bml0cm9GaXJzdDp7ZGVzY3JpcHRpb246IkRlZmF1bHQgY29sb3Igc291cmNlIGlmIGJvdGggYXJlIHByZXNlbnQiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6Ik5pdHJvIGNvbG9ycyIsdmFsdWU6ITAsZGVmYXVsdDohMH0se2xhYmVsOiJGYWtlIGNvbG9ycyIsdmFsdWU6ITF9XX19KSxvcD12KHtuYW1lOiJGYWtlUHJvZmlsZVRoZW1lcyIsZGVzY3JpcHRpb246IkFsbG93cyBwcm9maWxlIHRoZW1pbmcgYnkgaGlkaW5nIHRoZSBjb2xvcnMgaW4geW91ciBiaW8gdGhhbmtzIHRvIGludmlzaWJsZSAzeTMgZW5jb2RpbmciLGF1dGhvcnM6W20uQWx5eGlhLG0uUmVtdHldLHBhdGNoZXM6W3tmaW5kOiJnZXRVc2VyUHJvZmlsZT0iLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWdldFVzZXJQcm9maWxlPWZ1bmN0aW9uXChcaVwpe3JldHVybiApKFxpXFtcaVxdKS8scmVwbGFjZToiJHNlbGYuY29sb3JEZWNvZGVIb29rKCQxKSJ9fSx7ZmluZDoiLlVTRVJfU0VUVElOR1NfUFJPRklMRV9USEVNRV9BQ0NFTlQiLHJlcGxhY2VtZW50OnttYXRjaDovUkVTRVRfUFJPRklMRV9USEVNRX1cKSg/PD19LGNvbG9yOihcaSkuKz99LGNvbG9yOihcaSkuKz8pLyxyZXBsYWNlOiIkJiwkc2VsZi5hZGRDb3B5M3kzQnV0dG9uKHtwcmltYXJ5OiQxLGFjY2VudDokMn0pIn19XSxzZXR0aW5nc0Fib3V0Q29tcG9uZW50OigpPT5vKFQuRm9ybVNlY3Rpb24sbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIlVzYWdlIiksbyhULkZvcm1UZXh0LG51bGwsIkFmdGVyIGVuYWJsaW5nIHRoaXMgcGx1Z2luLCB5b3Ugd2lsbCBzZWUgY3VzdG9tIGNvbG9ycyBpbiB0aGUgcHJvZmlsZXMgb2Ygb3RoZXIgcGVvcGxlIHVzaW5nIGNvbXBhdGlibGUgcGx1Z2lucy4gIixvKCJiciIsbnVsbCksIlRvIHNldCB5b3VyIG93biBjb2xvcnM6IixvKCJ1bCIsbnVsbCxvKCJsaSIsbnVsbCwiXHUyMDIyIGdvIHRvIHlvdXIgcHJvZmlsZSBzZXR0aW5ncyIpLG8oImxpIixudWxsLCJcdTIwMjIgY2hvb3NlIHlvdXIgb3duIGNvbG9ycyBpbiB0aGUgTml0cm8gcHJldmlldyIpLG8oImxpIixudWxsLCdcdTIwMjIgY2xpY2sgdGhlICJDb3B5IDN5MyIgYnV0dG9uJyksbygibGkiLG51bGwsIlx1MjAyMiBwYXN0ZSB0aGUgaW52aXNpYmxlIHRleHQgYW55d2hlcmUgaW4geW91ciBiaW8iKSksbygiYnIiLG51bGwpLG8oImIiLG51bGwsIlBsZWFzZSBub3RlOiIpLCIgaWYgeW91IGFyZSB1c2luZyBhIHRoZW1lIHdoaWNoIGhpZGVzIG5pdHJvIGFkcywgeW91IHNob3VsZCBkaXNhYmxlIGl0IHRlbXBvcmFyaWx5IHRvIHNldCBjb2xvcnMuIikpLHNldHRpbmdzOk52LGNvbG9yRGVjb2RlSG9vayhlKXtpZihlKXtpZihOdi5zdG9yZS5uaXRyb0ZpcnN0JiZlLnRoZW1lQ29sb3JzKXJldHVybiBlO2xldCB0PWZNKGUuYmlvKTtpZih0KXJldHVybiBJdihlLHtwcmVtaXVtVHlwZToyLHRoZW1lQ29sb3JzOnR9KX1yZXR1cm4gZX0sYWRkQ29weTN5M0J1dHRvbjpELndyYXAoZnVuY3Rpb24oe3ByaW1hcnk6ZSxhY2NlbnQ6dH0pe3JldHVybiBvKFIse29uQ2xpY2s6KCk9PntsZXQgbj1tTShlLHQpO1Z0KG4pfSxjb2xvcjpSLkNvbG9ycy5QUklNQVJZLHNpemU6Ui5TaXplcy5YTEFSR0UsY2xhc3NOYW1lOnoubGVmdDE2fSwiQ29weSAzeTMiKX0se25vb3A6ITB9KX0pfSk7dmFyIHJwLGt2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO3coKTtycD12KHtuYW1lOiJGYXZvcml0ZUVtb2ppRmlyc3QiLGF1dGhvcnM6W20uQXJpYSxtLlZlbl0sZGVzY3JpcHRpb246IlB1dHMgeW91ciBmYXZvcml0ZSBlbW9qaSBmaXJzdCBpbiB0aGUgZW1vamkgYXV0b2NvbXBsZXRlLiIscGF0Y2hlczpbe2ZpbmQ6Ii5hY3RpdmVDb21tYW5kT3B0aW9uIixyZXBsYWNlbWVudDpbe21hdGNoOi89XGlcKFxpXC5zZWxlY3RlZEluZGV4XCk7KD89Lis/c3RhdGU6KFxpKSxpc0luUG9wb3V0RXhwZXJpbWVudDpcaSkvLHJlcGxhY2U6IiQmJHNlbGYuc29ydEVtb2ppcygkMSk7In0se21hdGNoOi8sbWF4Q291bnQ6KFxpKSguKz8pPShcaSlcLnNsaWNlXCgwLChcMS1caVwubGVuZ3RoKVwpLyxyZXBsYWNlOiIsbWF4Q291bnQ6SW5maW5pdHkkMj0oJDMuc2xpY2VUbz0kNCwkMykifV19XSxzb3J0RW1vamlzKHtxdWVyeTplfSl7aWYoZT8udHlwZSE9PSJFTU9KSVNfQU5EX1NUSUNLRVJTInx8ZS50eXBlSW5mbz8uc2VudGluZWwhPT0iOiJ8fCFlLnJlc3VsdHM/LmVtb2ppcz8ubGVuZ3RoKXJldHVybjtsZXQgdD1nbi5nZXREaXNhbWJpZ3VhdGVkRW1vamlDb250ZXh0KCk7ZS5yZXN1bHRzLmVtb2ppcz1lLnJlc3VsdHMuZW1vamlzLnNvcnQoKG4scik9PntsZXQgaT10LmlzRmF2b3JpdGVFbW9qaVdpdGhvdXRGZXRjaGluZ0xhdGVzdChuKSxzPXQuaXNGYXZvcml0ZUVtb2ppV2l0aG91dEZldGNoaW5nTGF0ZXN0KHIpO3JldHVybiBpJiYhcz8tMTohaSYmcz8xOjB9KS5zbGljZSgwLGUucmVzdWx0cy5lbW9qaXMuc2xpY2VUbz8/MTApfX0pfSk7ZnVuY3Rpb24gaE0oe2luc3RhbmNlOmUsU2VhcmNoQmFyQ29tcG9uZW50OnR9KXtsZXRbbixyXT1qKCIiKSxpPXZ0KG51bGwpLHM9TXMoYz0+e3IoYyk7bGV0e3Byb3BzOnV9PWU7aWYoYz09PSIiKXt1LmZhdm9yaXRlcz11LmZhdkNvcHksZS5mb3JjZVVwZGF0ZSgpO3JldHVybn1pLmN1cnJlbnQ/LmNvbnRhaW5lclJlZj8uY3VycmVudC5jbG9zZXN0KCIjZ2lmLXBpY2tlci10YWItcGFuZWwiKT8ucXVlcnlTZWxlY3RvcignW2NsYXNzfD0iY29udGVudCJdJyk/LmZpcnN0RWxlbWVudENoaWxkPy5zY3JvbGxUbygwLDApO2xldCBwPXUuZmF2Q29weS5tYXAoeT0+KHtzY29yZTp5TShjLnRvTG93ZXJDYXNlKCksTHYoeS51cmw/P3kuc3JjKS5yZXBsYWNlKC8oJTIwfFtfLV0pL2csIiAiKS50b0xvd2VyQ2FzZSgpKSxnaWY6eX0pKS5maWx0ZXIoeT0+eS5zY29yZSE9bnVsbCk7cC5zb3J0KCh5LGgpPT5oLnNjb3JlLXkuc2NvcmUpLHUuZmF2b3JpdGVzPXAubWFwKHk9PnkuZ2lmKSxlLmZvcmNlVXBkYXRlKCl9LFtlLnN0YXRlXSk7cmV0dXJuIERlKCgpPT4oKT0+e2UuZGVhZD0hMH0sW10pLG8odCx7cmVmOmksYXV0b0ZvY3VzOiEwLGNsYXNzTmFtZTpnTS5zZWFyY2hCYXIsc2l6ZTp0LlNpemVzLk1FRElVTSxvbkNoYW5nZTpzLG9uQ2xlYXI6KCk9PntyKCIiKSxlLnByb3BzLmZhdkNvcHkhPW51bGwmJihlLnByb3BzLmZhdm9yaXRlcz1lLnByb3BzLmZhdkNvcHksZS5mb3JjZVVwZGF0ZSgpKX0scXVlcnk6bixwbGFjZWhvbGRlcjoiU2VhcmNoIEZhdm9yaXRlIEdpZnMifSl9ZnVuY3Rpb24gTHYoZSl7bGV0IHQ9bmV3IFVSTChlKTtzd2l0Y2goQXYuc3RvcmUuc2VhcmNoT3B0aW9uKXtjYXNlInVybCI6cmV0dXJuIHQuaHJlZjtjYXNlInBhdGgiOnJldHVybiB0Lmhvc3Q9PT0ibWVkaWEuZGlzY29yZGFwcC5uZXQifHx0Lmhvc3Q9PT0idGVub3IuY29tIj90LnBhdGhuYW1lLnNwbGl0KCIvIikuYXQoLTEpPz90LnBhdGhuYW1lOnQucGF0aG5hbWU7Y2FzZSJob3N0YW5kcGF0aCI6cmV0dXJuIHQuaG9zdD09PSJtZWRpYS5kaXNjb3JkYXBwLm5ldCJ8fHQuaG9zdD09PSJ0ZW5vci5jb20iP2Ake3QuaG9zdH0gJHt0LnBhdGhuYW1lLnNwbGl0KCIvIikuYXQoLTEpPz90LnBhdGhuYW1lfWA6YCR7dC5ob3N0fSAke3QucGF0aG5hbWV9YDtkZWZhdWx0OnJldHVybiIifX1mdW5jdGlvbiB5TShlLHQpe2xldCBuPTAscj0wO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV09PT1lW25dPyhyKyssbisrKTpyLS0sbj09PWUubGVuZ3RoKXJldHVybiByO3JldHVybiBudWxsfXZhciBnTSxBdixpcCxFdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3NlKCk7UCgpO00oKTtGKCk7dygpO2dNPUMoInNlYXJjaEJhciIsInNlYXJjaEhlYWRlciIsImd1dHRlclNpemUiKSxBdj1FKHtzZWFyY2hPcHRpb246e3R5cGU6NCxkZXNjcmlwdGlvbjoiVGhlIHBhcnQgb2YgdGhlIHVybCB5b3Ugd2FudCB0byBzZWFyY2giLG9wdGlvbnM6W3tsYWJlbDoiRW50aXJlIFVybCIsdmFsdWU6InVybCJ9LHtsYWJlbDoiUGF0aCBPbmx5ICgvc29tZWdpZi5naWYpIix2YWx1ZToicGF0aCJ9LHtsYWJlbDoiSG9zdCAmIFBhdGggKHRlbm9yLmNvbSBzb21naWYuZ2lmKSIsdmFsdWU6Imhvc3RhbmRwYXRoIixkZWZhdWx0OiEwfV19fSksaXA9dih7bmFtZToiRmF2b3JpdGVHaWZTZWFyY2giLGF1dGhvcnM6W20uQXJpYV0sZGVzY3JpcHRpb246IkFkZHMgYSBzZWFyY2ggYmFyIGZvciBmYXZvcml0ZSBnaWZzIixwYXRjaGVzOlt7ZmluZDoicmVuZGVyQ2F0ZWdvcnlFeHRyYXMiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhyZW5kZXJIZWFkZXJDb250ZW50PWZ1bmN0aW9uLnsxLDE1MH1GQVZPUklURVM6cmV0dXJuKSguezEsMTUwfTspKGNhc2UuezEsMjAwfWRlZmF1bHQ6cmV0dXJuXCgwLFxpXC5qc3hcKVwoKD88c2VhcmNoQ29tcD5caVwuXGkpKS8scmVwbGFjZTonJDEgdGhpcy5zdGF0ZS5yZXN1bHRUeXBlID09PSAiRmF2b3JpdGVzIiA/ICRzZWxmLnJlbmRlclNlYXJjaEJhcih0aGlzLCAkPHNlYXJjaENvbXA+KSA6ICQyOyAkMyd9LHttYXRjaDovKCxzdWdnZXN0aW9uczpcaSxmYXZvcml0ZXM6KShcaSksLyxyZXBsYWNlOiIkMSRzZWxmLmdldEZhdigkMiksZmF2Q29weTokMiwifV19XSxzZXR0aW5nczpBdixnZXRUYXJnZXRTdHJpbmc6THYsaW5zdGFuY2U6bnVsbCxyZW5kZXJTZWFyY2hCYXIoZSx0KXtyZXR1cm4gdGhpcy5pbnN0YW5jZT1lLG8oRCx7bm9vcDohMH0sbyhoTSx7aW5zdGFuY2U6ZSxTZWFyY2hCYXJDb21wb25lbnQ6dH0pKX0sZ2V0RmF2KGUpe2lmKCF0aGlzLmluc3RhbmNlfHx0aGlzLmluc3RhbmNlLmRlYWQpcmV0dXJuIGU7bGV0e2Zhdm9yaXRlczp0fT10aGlzLmluc3RhbmNlLnByb3BzO3JldHVybiB0IT1udWxsJiZ0Py5sZW5ndGghPT1lLmxlbmd0aD90OmV9fSl9KTt2YXIgc3AsRHY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7dygpO3NwPXYoe25hbWU6IkZpeEluYm94IixkZXNjcmlwdGlvbjoiRml4ZXMgdGhlIFVucmVhZHMgSW5ib3ggZnJvbSBjcmFzaGluZyBEaXNjb3JkIHdoZW4geW91J3JlIGluIGxvdHMgb2YgZ3VpbGRzLiIsYXV0aG9yczpbbS5NZWd1XSxwYXRjaGVzOlt7ZmluZDoiSU5CT1hfT1BFTjpmdW5jdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi9JTkJPWF9PUEVOOmZ1bmN0aW9uLis/XHsvLHJlcGxhY2U6IiQmcmV0dXJuIHRydWU7In19XSxzZXR0aW5nc0Fib3V0Q29tcG9uZW50KCl7cmV0dXJuIG8oVC5Gb3JtU2VjdGlvbixudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDMifSwiV2hhdCdzIHRoZSBwcm9ibGVtPyIpLG8oVC5Gb3JtVGV4dCx7c3R5bGU6e21hcmdpbkJvdHRvbTo4fX0sIkJ5IGRlZmF1bHQsIERpc2NvcmQgZW1pdHMgYSBHVUlMRF9TVUJTQ1JJUFRJT05TIGV2ZW50IGZvciBldmVyeSBndWlsZCB5b3UncmUgaW4uIFdoZW4geW91J3JlIGluIGEgbG90IG9mIGd1aWxkcywgdGhpcyBjYW4gY2F1c2UgdGhlIGdhdGV3YXkgdG8gcmF0ZWxpbWl0IHlvdS4gVGhpcyBjYXVzZXMgdGhlIGNsaWVudCB0byBjcmFzaCBhbmQgZ2V0IHN0dWNrIGluIGFuIGluZmluaXRlIHJhdGVsaW1pdCBsb29wIGFzIGl0IHRyaWVzIHRvIHJlY29ubmVjdC4iKSxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIkhvdyBkb2VzIGl0IHdvcms/IiksbyhULkZvcm1UZXh0LG51bGwsIlRoaXMgcGx1Z2luIHdvcmtzIGJ5IHN0b3BwaW5nIHRoZSBjbGllbnQgZnJvbSBzZW5kaW5nIEdVSUxEX1NVQlNDUklQVElPTlMgZXZlbnRzIHRvIHRoZSBnYXRld2F5IHdoZW4geW91IG9wZW4gdGhlIHVucmVhZHMgaW5ib3guIFRoaXMgbWVhbnMgdGhhdCBub3QgYWxsIHVucmVhZHMgd2lsbCBiZSBzaG93biwgaW5zdGVhZCBvbmx5IGFscmVhZHktc3Vic2NyaWJlZCBndWlsZHMnIHVucmVhZHMgd2lsbCBiZSBzaG93biwgYnV0IHlvdXIgY2xpZW50IHdvbid0IGNyYXNoIGFueW1vcmUuIikpfX0pfSk7dmFyIGFwLE92PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO3coKTthcD12KHtuYW1lOiJGb3JjZU93bmVyQ3Jvd24iLGRlc2NyaXB0aW9uOiJGb3JjZSB0aGUgb3duZXIgY3Jvd24gbmV4dCB0byB1c2VybmFtZXMgZXZlbiBpZiB0aGUgc2VydmVyIGlzIGxhcmdlLiIsYXV0aG9yczpbbS5EM1NPWCxtLk5pY2t5dXhdLHBhdGNoZXM6W3tmaW5kOiIucmVuZGVyT3duZXI9IixyZXBsYWNlbWVudDp7bWF0Y2g6L2lzT3duZXI7cmV0dXJuIG51bGwhPShcdyspPyYmL2cscmVwbGFjZToiaXNPd25lcjtpZigkc2VsZi5pc0d1aWxkT3duZXIodGhpcy5wcm9wcykpeyQxPXRydWU7fXJldHVybiBudWxsIT0kMSYmIn19XSxpc0d1aWxkT3duZXIoZSl7aWYoZT8uY2hhbm5lbD8udHlwZT09PTMpcmV0dXJuITE7bGV0IHQ9ZT8uZ3VpbGRJZD8/ZT8uY2hhbm5lbD8uZ3VpbGRfaWQsbj1lPy51c2VyPy5pZDtpZih0JiZuKXtsZXQgcj1tZS5nZXRHdWlsZCh0KTtpZihyKXJldHVybiByLm93bmVySWQ9PT1uO2NvbnNvbGUuZXJyb3IoIltGb3JjZU93bmVyQ3Jvd25dIGZhaWxlZCB0byBnZXQgZ3VpbGQiLHtndWlsZElkOnQsZ3VpbGQ6cixwcm9wczplfSl9ZWxzZSBjb25zb2xlLmVycm9yKCJbRm9yY2VPd25lckNyb3duXSBubyBndWlsZElkIG9yIHVzZXJJZCIse2d1aWxkSWQ6dCx1c2VySWQ6bixwcm9wczplfSk7cmV0dXJuITF9fSl9KTt2YXIgbHAsdk0sY3AsX3Y9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1l0KCk7UCgpO00oKTtGKCk7dygpO2xwPUMoImNyZWF0ZUZyaWVuZEludml0ZSIpLHZNPUMoInY0IiwidjEiKSxjcD12KHtuYW1lOiJGcmllbmRJbnZpdGVzIixkZXNjcmlwdGlvbjoiQ3JlYXRlIGFuZCBtYW5hZ2UgZnJpZW5kIGludml0ZSBsaW5rcyB2aWEgc2xhc2ggY29tbWFuZHMgKC9jcmVhdGUgZnJpZW5kIGludml0ZSwgL3ZpZXcgZnJpZW5kIGludml0ZXMsIC9yZXZva2UgZnJpZW5kIGludml0ZXMpLiIsYXV0aG9yczpbbS5hZm4sbS5Eeml1cndhXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToiY3JlYXRlIGZyaWVuZCBpbnZpdGUiLGRlc2NyaXB0aW9uOiJHZW5lcmF0ZXMgYSBmcmllbmQgaW52aXRlIGxpbmsuIixpbnB1dFR5cGU6MyxleGVjdXRlOmFzeW5jKGUsdCk9PntpZighRy5nZXRDdXJyZW50VXNlcigpLnBob25lKXJldHVybiBhZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6IllvdSBuZWVkIHRvIGhhdmUgYSBwaG9uZSBudW1iZXIgY29ubmVjdGVkIHRvIHlvdXIgYWNjb3VudCB0byBjcmVhdGUgYSBmcmllbmQgaW52aXRlISJ9KTtsZXQgbj12TS52NCgpLHI9YXdhaXQgU3QucG9zdCh7dXJsOiIvZnJpZW5kLWZpbmRlci9maW5kLWZyaWVuZHMiLGJvZHk6e21vZGlmaWVkX2NvbnRhY3RzOntbbl06WzEsIiIsIiJdfSxwaG9uZV9jb250YWN0X21ldGhvZHNfY291bnQ6MX19KS50aGVuKGk9PmxwLmNyZWF0ZUZyaWVuZEludml0ZSh7Y29kZTppLmJvZHkuaW52aXRlX3N1Z2dlc3Rpb25zWzBdWzNdLHJlY2lwaWVudF9waG9uZV9udW1iZXJfb3JfZW1haWw6bixjb250YWN0X3Zpc2liaWxpdHk6MSxmaWx0ZXJfdmlzaWJpbGl0aWVzOltdLGZpbHRlcmVkX2ludml0ZV9zdWdnZXN0aW9uc19pbmRleDoxfSkpO2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDpgCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvcmQuZ2cvJHtyLmNvZGV9IFx4QjcKICAgICAgICAgICAgICAgICAgICAgICAgRXhwaXJlczogPHQ6JHtuZXcgRGF0ZShyLmV4cGlyZXNfYXQpLmdldFRpbWUoKS8xZTN9OlI+IFx4QjcKICAgICAgICAgICAgICAgICAgICAgICAgTWF4IHVzZXM6IFxgJHtyLm1heF91c2VzfVxgCiAgICAgICAgICAgICAgICAgICAgYC50cmltKCkucmVwbGFjZSgvXHMrL2csIiAiKX0pfX0se25hbWU6InZpZXcgZnJpZW5kIGludml0ZXMiLGRlc2NyaXB0aW9uOiJWaWV3IGEgbGlzdCBvZiBhbGwgZ2VuZXJhdGVkIGZyaWVuZCBpbnZpdGVzLiIsaW5wdXRUeXBlOjMsZXhlY3V0ZTphc3luYyhlLHQpPT57bGV0IHI9KGF3YWl0IGxwLmdldEFsbEZyaWVuZEludml0ZXMoKSkubWFwKGk9PmAKICAgICAgICAgICAgICAgICAgICBfZGlzY29yZC5nZy8ke2kuY29kZX1fIFx4QjcKICAgICAgICAgICAgICAgICAgICBFeHBpcmVzOiA8dDoke25ldyBEYXRlKGkuZXhwaXJlc19hdCkuZ2V0VGltZSgpLzFlM306Uj4gXHhCNwogICAgICAgICAgICAgICAgICAgIFRpbWVzIHVzZWQ6IFxgJHtpLnVzZXN9LyR7aS5tYXhfdXNlc31cYAogICAgICAgICAgICAgICAgICAgIGAudHJpbSgpLnJlcGxhY2UoL1xzKy9nLCIgIikpO2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDpyLmpvaW4oYApgKXx8IllvdSBoYXZlIG5vIGFjdGl2ZSBmcmllbmQgaW52aXRlcyEifSl9fSx7bmFtZToicmV2b2tlIGZyaWVuZCBpbnZpdGVzIixkZXNjcmlwdGlvbjoiUmV2b2tlcyBhbGwgZ2VuZXJhdGVkIGZyaWVuZCBpbnZpdGVzLiIsaW5wdXRUeXBlOjMsZXhlY3V0ZTphc3luYyhlLHQpPT4oYXdhaXQgbHAucmV2b2tlRnJpZW5kSW52aXRlcygpLHZvaWQgYWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJBbGwgZnJpZW5kIGludml0ZXMgaGF2ZSBiZWVuIHJldm9rZWQuIn0pKX1dfSl9KTt2YXIgcHA9e307U2UocHAse2dldFNldHRpbmdTdG9yZTooKT0+QnYsZ2V0U2V0dGluZ1N0b3JlTGF6eTooKT0+dXB9KTtmdW5jdGlvbiBCdihlLHQpe2lmKCFrLnBsdWdpbnMuU2V0dGluZ3NTdG9yZUFQSS5lbmFibGVkKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHVzZSBTZXR0aW5nc1N0b3JlQVBJIHdpdGhvdXQgc2V0dGluZyBhcyBkZXBlbmRlbmN5LiIpO3JldHVybiBTTT8uZmluZChuPT5uPy5zZXR0aW5nc1N0b3JlQXBpR3JvdXA9PT1lJiZuPy5zZXR0aW5nc1N0b3JlQXBpTmFtZT09PXQpfWZ1bmN0aW9uIHVwKGUsdCl7cmV0dXJuIGZ0KCgpPT5CdihlLHQpKX12YXIgU00sZHA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3VuKCk7TWUoKTtGKCk7VSgpO1NNPWZ0KCgpPT57bGV0IGU9ZnMoJyJ0ZXh0QW5kSW1hZ2VzIiwicmVuZGVyU3BvaWxlcnMiJyk7aWYoZT09bnVsbClyZXR1cm4gbmV3IFYoIlNldHRpbmdzU3RvcmVBUEkiKS5lcnJvcigiRGlkbid0IGZpbmQgc3RvcmVzIG1vZHVsZS4iKTtsZXQgdD1XdChlKTtpZih0IT1udWxsKXJldHVybiBPYmplY3QudmFsdWVzKHQpLmZpbHRlcihuPT5uPy5zZXR0aW5nc1N0b3JlQXBpR3JvdXApfSl9KTt2YXIgbXAsRnY9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy9nYW1lQWN0aXZpdHlUb2dnbGUvc3R5bGUuY3NzIix7bmFtZToic3JjL3BsdWdpbnMvZ2FtZUFjdGl2aXR5VG9nZ2xlL3N0eWxlLmNzcyIsc291cmNlOmBbY2xhc3MqPSJ3aXRoVGFnQXNCdXR0b24iXSB7CiAgICBtaW4td2lkdGg6IDg4cHg7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7bXA9InNyYy9wbHVnaW5zL2dhbWVBY3Rpdml0eVRvZ2dsZS9zdHlsZS5jc3MifSk7ZnVuY3Rpb24gVE0oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG8oInN2ZyIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCA5NiA5NjAgOTYwIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTE4MiA4NTZxLTUxIDAtNzktMzUuNVQ4MiA3MzRsNDItMzAwcTktNjAgNTMuNS05OVQyODIgMjk2aDM5NnE2MCAwIDEwNC41IDM5dDUzLjUgOTlsNDIgMzAwcTcgNTEtMjEgODYuNVQ3NzggODU2cS0yMSAwLTM5LTcuNVQ3MDYgODI2bC05MC05MEgzNDRsLTkwIDkwcS0xNSAxNS0zMyAyMi41dC0zOSA3LjVabTQ5OC0yNDBxMTcgMCAyOC41LTExLjVUNzIwIDU3NnEwLTE3LTExLjUtMjguNVQ2ODAgNTM2cS0xNyAwLTI4LjUgMTEuNVQ2NDAgNTc2cTAgMTcgMTEuNSAyOC41VDY4MCA2MTZabS04MC0xMjBxMTcgMCAyOC41LTExLjVUNjQwIDQ1NnEwLTE3LTExLjUtMjguNVQ2MDAgNDE2cS0xNyAwLTI4LjUgMTEuNVQ1NjAgNDU2cTAgMTcgMTEuNSAyOC41VDYwMCA0OTZaTTMxMCA2MTZoNjB2LTcwaDcwdi02MGgtNzB2LTcwaC02MHY3MGgtNzB2NjBoNzB2NzBaIn0pLCFlJiZvKCJsaW5lIix7eDE6IjkyMCIseTE6IjI4MCIseDI6IjQwIix5MjoiODgwIixzdHJva2U6InZhcigtLXN0YXR1cy1kYW5nZXIpIiwic3Ryb2tlLXdpZHRoIjoiODAifSkpfX1mdW5jdGlvbiB4TSgpe2xldCBlPSR2Py51c2VTZXR0aW5nKCk7cmV0dXJuIG8oYk0se3Rvb2x0aXBUZXh0OmU/IkRpc2FibGUgR2FtZSBBY3Rpdml0eSI6IkVuYWJsZSBHYW1lIEFjdGl2aXR5IixpY29uOlRNKGUpLHJvbGU6InN3aXRjaCIsImFyaWEtY2hlY2tlZCI6IWUsb25DbGljazooKT0+JHY/LnVwZGF0ZVNldHRpbmcodD0+IXQpfSl9dmFyICR2LGJNLGZwLFV2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtkcCgpO09lKCk7c2UoKTtQKCk7TSgpO0YoKTtGdigpOyR2PXVwKCJzdGF0dXMiLCJzaG93Q3VycmVudEdhbWUiKSxiTT1wZSgiQnV0dG9uLlNpemVzLk5PTkUsZGlzYWJsZWQ6Iik7ZnA9dih7bmFtZToiR2FtZUFjdGl2aXR5VG9nZ2xlIixkZXNjcmlwdGlvbjoiQWRkcyBhIGJ1dHRvbiBuZXh0IHRvIHRoZSBtaWMgYW5kIGRlYWZlbiBidXR0b24gdG8gdG9nZ2xlIGdhbWUgYWN0aXZpdHkuIixhdXRob3JzOlttLk51Y2t5el0sZGVwZW5kZW5jaWVzOlsiU2V0dGluZ3NTdG9yZUFQSSJdLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuQUNDT1VOVF9TUEVBS0lOR19XSElMRV9NVVRFRCIscmVwbGFjZW1lbnQ6e21hdGNoOi90aGlzXC5yZW5kZXJOYW1lWm9uZVwoXCkuKz9jaGlsZHJlbjpcWy8scmVwbGFjZToiJCYkc2VsZi5HYW1lQWN0aXZpdHlUb2dnbGVCdXR0b24oKSwifX1dLEdhbWVBY3Rpdml0eVRvZ2dsZUJ1dHRvbjpELndyYXAoeE0se25vb3A6ITB9KSxzdGFydCgpe290KG1wKX0sc3RvcCgpe2t0KG1wKX19KX0pO3ZhciB3TSxncCxHdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO2F0KCk7TSgpO0YoKTt3TT1ldCgnbmFtZToiZXhwcmVzc2lvbi1waWNrZXItbGFzdC1hY3RpdmUtdmlldyInLHtjbG9zZTpKLmJ5Q29kZSgiYWN0aXZlVmlldzpudWxsIiwic2V0U3RhdGUiKX0pLGdwPXYoe25hbWU6IkdpZlBhc3RlIixkZXNjcmlwdGlvbjoiTWFrZXMgcGlja2luZyBhIGdpZiBpbiB0aGUgZ2lmIHBpY2tlciBpbnNlcnQgYSBsaW5rIGludG8gdGhlIGNoYXRib3ggaW5zdGVhZCBvZiBpbnN0YW50bHkgc2VuZGluZyBpdCIsYXV0aG9yczpbbS5WZW5dLHBhdGNoZXM6W3tmaW5kOiIuaGFuZGxlU2VsZWN0R0lGPSIscmVwbGFjZW1lbnQ6e21hdGNoOi9cLmhhbmRsZVNlbGVjdEdJRj1mdW5jdGlvbi4rP1x7LyxyZXBsYWNlOiIuaGFuZGxlU2VsZWN0R0lGPWZ1bmN0aW9uKGdpZil7cmV0dXJuICRzZWxmLmhhbmRsZVNlbGVjdChnaWYpOyJ9fV0saGFuZGxlU2VsZWN0KGUpe2UmJihxbihlLnVybCsiICIpLHdNLmNsb3NlKCkpfX0pfSk7ZnVuY3Rpb24gSHYoZSx0LG4pe2xldCByPWhwLmdldFNlbmRNZXNzYWdlT3B0aW9uc0ZvclJlcGx5KHtjaGFubmVsOmUsbWVzc2FnZTp0LHNob3VsZE1lbnRpb246ITAsc2hvd01lbnRpb25Ub2dnbGU6ITB9KTtpZihmYS5zdG9yZS5ncmVldE1vZGU9PT0iTWVzc2FnZSJ8fG4ubGVuZ3RoPjEpe3Iuc3RpY2tlcklkcz1uO2xldCBpPXtjb250ZW50OiIiLHR0czohMSxpbnZhbGlkRW1vamlzOltdLHZhbGlkTm9uU2hvcnRjdXRFbW9qaXM6W119O2hwLl9zZW5kTWVzc2FnZShlLmlkLGkscil9ZWxzZSBocC5zZW5kR3JlZXRNZXNzYWdlKGUuaWQsblswXSxyKX1mdW5jdGlvbiBNTSh7c3RpY2tlcnM6ZSxjaGFubmVsOnQsbWVzc2FnZTpufSl7bGV0IHI9ZmEudXNlKFsiZ3JlZXRNb2RlIiwibXVsdGlHcmVldENob2ljZXMiXSkse2dyZWV0TW9kZTppLG11bHRpR3JlZXRDaG9pY2VzOnM9W119PXI7cmV0dXJuIG8oQi5NZW51LHtuYXZJZDoiZ3JlZXQtc3RpY2tlci1waWNrZXIiLG9uQ2xvc2U6KCk9Pk8uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KSwiYXJpYS1sYWJlbCI6IkdyZWV0IFN0aWNrZXIgUGlja2VyIn0sbyhCLk1lbnVHcm91cCx7bGFiZWw6IkdyZWV0IE1vZGUifSxPYmplY3QudmFsdWVzKHp2KS5tYXAoYz0+byhCLk1lbnVSYWRpb0l0ZW0se2tleTpjLGdyb3VwOiJncmVldC1tb2RlIixpZDoiZ3JlZXQtbW9kZS0iK2MsbGFiZWw6YyxjaGVja2VkOmM9PT1pLGFjdGlvbjooKT0+ci5ncmVldE1vZGU9Y30pKSksbyhCLk1lbnVTZXBhcmF0b3IsbnVsbCksbyhCLk1lbnVHcm91cCx7bGFiZWw6IkdyZWV0IFN0aWNrZXJzIn0sZS5tYXAoYz0+byhCLk1lbnVJdGVtLHtrZXk6Yy5pZCxpZDoiZ3JlZXQtIitjLmlkLGxhYmVsOmMuZGVzY3JpcHRpb24uc3BsaXQoIiAiKVswXSxhY3Rpb246KCk9Pkh2KHQsbixbYy5pZF0pfSkpKSxmYS5zdG9yZS51bmhvbHlNdWx0aUdyZWV0RW5hYmxlZD9vKGQsbnVsbCxvKEIuTWVudVNlcGFyYXRvcixudWxsKSxvKEIuTWVudUl0ZW0se2xhYmVsOiJVbmhvbHkgTXVsdGktR3JlZXQiLGlkOiJ1bmhvbHktbXVsdGktZ3JlZXQifSxlLm1hcChjPT57bGV0IHU9cy5zb21lKHA9PnA9PT1jLmlkKTtyZXR1cm4gbyhCLk1lbnVDaGVja2JveEl0ZW0se2tleTpjLmlkLGlkOiJtdWx0aS1ncmVldC0iK2MuaWQsbGFiZWw6Yy5kZXNjcmlwdGlvbi5zcGxpdCgiICIpWzBdLGNoZWNrZWQ6dSxkaXNhYmxlZDohdSYmcy5sZW5ndGg+PTMsYWN0aW9uOigpPT57ci5tdWx0aUdyZWV0Q2hvaWNlcz11P3MuZmlsdGVyKHA9PnAhPT1jLmlkKTpbLi4ucyxjLmlkXX19KX0pLG8oQi5NZW51U2VwYXJhdG9yLG51bGwpLG8oQi5NZW51SXRlbSx7aWQ6Im11bHRpLWdyZWV0LXN1Ym1pdCIsbGFiZWw6IlNlbmQgR3JlZXRzIixhY3Rpb246KCk9Pkh2KHQsbixzKSxkaXNhYmxlZDpzLmxlbmd0aD09PTB9KSkpOm51bGwpfXZhciB6dixmYSxocCx5cCxqdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7RigpO3coKTt6dj0obj0+KG4uR3JlZXQ9IkdyZWV0IixuLk5vcm1hbE1lc3NhZ2U9Ik1lc3NhZ2UiLG4pKSh6dnx8e30pLGZhPUUoe2dyZWV0TW9kZTp7dHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiR3JlZXQgKHlvdSBjYW4gb25seSBncmVldCAzIHRpbWVzKSIsdmFsdWU6IkdyZWV0IixkZWZhdWx0OiEwfSx7bGFiZWw6Ik5vcm1hbCBNZXNzYWdlICh5b3UgY2FuIGdyZWV0IHNwYW0pIix2YWx1ZToiTWVzc2FnZSJ9XSxkZXNjcmlwdGlvbjoiQ2hvb3NlIHRoZSBncmVldCBtb2RlIn19KS53aXRoUHJpdmF0ZVNldHRpbmdzKCksaHA9Qygic2VuZEdyZWV0TWVzc2FnZSIpO3lwPXYoe25hbWU6IkdyZWV0U3RpY2tlclBpY2tlciIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gdXNlIGFueSBncmVldCBzdGlja2VyIGluc3RlYWQgb2Ygb25seSB0aGUgcmFuZG9tIG9uZSBieSByaWdodC1jbGlja2luZyB0aGUgJ1dhdmUgdG8gc2F5IGhpIScgYnV0dG9uIixhdXRob3JzOlttLlZlbl0sc2V0dGluZ3M6ZmEscGF0Y2hlczpbe2ZpbmQ6Ik1lc3NhZ2VzLldFTENPTUVfQ1RBX0xBQkVMIixyZXBsYWNlbWVudDp7bWF0Y2g6L2lubmVyQ2xhc3NOYW1lOlxpXChcKS53ZWxjb21lQ1RBQnV0dG9uLCg/PD0lXGlcLmxlbmd0aDtyZXR1cm4gKFxpKVxbXGlcXS4rPykvLHJlcGxhY2U6IiQmb25Db250ZXh0TWVudTooZSk9PiRzZWxmLnBpY2tTdGlja2VyKGUsJDEsYXJndW1lbnRzWzBdKSwifX1dLHBpY2tTdGlja2VyKGUsdCxuKXtuLm1lc3NhZ2UuZGVsZXRlZHx8bW4ub3BlbihlLCgpPT5vKE1NLHtzdGlja2Vyczp0LC4uLm59KSl9fSl9KTt2YXIgdnA9e307U2UodnAse19idWlsZFBvcG92ZXJFbGVtZW50czooKT0+SU0sYWRkQnV0dG9uOigpPT53bixidXR0b25zOigpPT5nYSxyZW1vdmVCdXR0b246KCk9Pk1ufSk7ZnVuY3Rpb24gd24oZSx0KXtnYS5zZXQoZSx0KX1mdW5jdGlvbiBNbihlKXtnYS5kZWxldGUoZSl9ZnVuY3Rpb24gSU0oZSx0KXtsZXQgbj1bXTtmb3IobGV0W3IsaV1vZiBnYS5lbnRyaWVzKCkpdHJ5e2xldCBzPWkoZSk7cyYmKHMua2V5Pz89cixuLnB1c2godChzKSkpfWNhdGNoKHMpe1BNLmVycm9yKGBbJHtyfV1gLHMpfXJldHVybiBufXZhciBQTSxnYSxRbz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TWUoKTtQTT1uZXcgVigiTWVzc2FnZVBvcG92ZXIiKSxnYT1uZXcgTWFwfSk7dmFyIFBpLHF2LElpLFd2LENNLFNwLEt2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtsbigpO1FvKCk7eG4oKTtQKCk7TSgpO3coKTtxdj0iSGlkZUF0dGFjaG1lbnRzX0hpZGRlbklkcyIsSWk9bmV3IFNldCxXdj0oKT0+V2UocXYpLnRoZW4oZT0+KElpPWU/P25ldyBTZXQsSWkpKSxDTT1lPT5WZShxdixlKSxTcD12KHtuYW1lOiJIaWRlQXR0YWNobWVudHMiLGRlc2NyaXB0aW9uOiJIaWRlIGF0dGFjaG1lbnRzIGFuZCBFbWJlZHMgZm9yIGluZGl2aWR1YWwgbWVzc2FnZXMgdmlhIGhvdmVyIGJ1dHRvbiIsYXV0aG9yczpbbS5WZW5dLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VQb3BvdmVyQVBJIl0sYXN5bmMgc3RhcnQoKXtQaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLFBpLmlkPSJWZW5jb3JkSGlkZUF0dGFjaG1lbnRzIixkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKFBpKSxhd2FpdCBXdigpLGF3YWl0IHRoaXMuYnVpbGRDc3MoKSx3bigiSGlkZUF0dGFjaG1lbnRzIixlPT57aWYoIWUuYXR0YWNobWVudHMubGVuZ3RoJiYhZS5lbWJlZHMubGVuZ3RoKXJldHVybiBudWxsO2xldCB0PUlpLmhhcyhlLmlkKTtyZXR1cm57bGFiZWw6dD8iU2hvdyBBdHRhY2htZW50cyI6IkhpZGUgQXR0YWNobWVudHMiLGljb246dD9hYTpsYSxtZXNzYWdlOmUsY2hhbm5lbDp0ZS5nZXRDaGFubmVsKGUuY2hhbm5lbF9pZCksb25DbGljazooKT0+dGhpcy50b2dnbGVIaWRlKGUuaWQpfX0pfSxzdG9wKCl7UGkucmVtb3ZlKCksSWkuY2xlYXIoKSxNbigiSGlkZUF0dGFjaG1lbnRzIil9LGFzeW5jIGJ1aWxkQ3NzKCl7bGV0IGU9Wy4uLklpXS5tYXAodD0+YCNtZXNzYWdlLWFjY2Vzc29yaWVzLSR7dH1gKS5qb2luKCIsIik7UGkudGV4dENvbnRlbnQ9YAogICAgICAgIDppcygke2V9KSBbY2xhc3MqPSJlbWJlZFdyYXBwZXIiXSB7CiAgICAgICAgICAgIC8qIGltcG9ydGFudCBpcyBub3QgbmVjZXNzYXJ5LCBidXQgYWRkIGl0IHRvIG1ha2Ugc3VyZSBiYWQgdGhlbWVzIHdvbid0IGJyZWFrIGl0ICovCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgOmlzKCR7ZX0pOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICJBdHRhY2htZW50cyBoaWRkZW4iOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogODAlOwogICAgICAgIH0KICAgICAgICBgfSxhc3luYyB0b2dnbGVIaWRlKGUpe2xldCB0PWF3YWl0IFd2KCk7dC5kZWxldGUoZSl8fHQuYWRkKGUpLGF3YWl0IENNKHQpLGF3YWl0IHRoaXMuYnVpbGRDc3MoKX19KX0pO3ZhciBicCxZdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTticD12KHtuYW1lOiJpTG92ZVNwYW0iLGRlc2NyaXB0aW9uOiJEbyBub3QgaGlkZSBtZXNzYWdlcyBmcm9tICdsaWtlbHkgc3BhbW1lcnMnIixhdXRob3JzOlttLmJvdGF0byxtLkFuaW1hbF0scGF0Y2hlczpbe2ZpbmQ6Iikse2hhc0ZsYWc6IixyZXBsYWNlbWVudDp7bWF0Y2g6LyhpZlwoKC57MSwyfSk8PTE8PDMwXClyZXR1cm4pLyxyZXBsYWNlOiJpZigkMj09PSgxPDwyMCkpe3JldHVybiBmYWxzZX07JDEifX1dfSl9KTtmdW5jdGlvbiBrTSgpe3JldHVybiBvKCJzdmciLHtjbGFzc05hbWU6TXIub3ZlcmxheVRvZ2dsZUljb25PZmYsaGVpZ2h0OiIyNCIsd2lkdGg6IjI0Iix2aWV3Qm94OiIwIDIuMiAzMiAyNiIsImFyaWEtaGlkZGVuIjohMCxyb2xlOiJpbWcifSxvKCJnIix7ZmlsbDoibm9uZSIsZmlsbFJ1bGU6ImV2ZW5vZGQifSxvKCJwYXRoIix7Y2xhc3NOYW1lOk1yLmZpbGwsZmlsbDoiY3VycmVudENvbG9yIixkOiJNIDE2IDggQyA3LjY2NDA2MyA4IDEuMjUgMTUuMzQzNzUgMS4yNSAxNS4zNDM3NSBMIDAuNjU2MjUgMTYgTCAxLjI1IDE2LjY1NjI1IEMgMS4yNSAxNi42NTYyNSA3LjA5NzY1NiAyMy4zMjQyMTkgMTQuODc1IDIzLjkzNzUgQyAxNS4yNDYwOTQgMjMuOTg0Mzc1IDE1LjYxNzE4OCAyNCAxNiAyNCBDIDE2LjM4MjgxMyAyNCAxNi43NTM5MDYgMjMuOTg0Mzc1IDE3LjEyNSAyMy45Mzc1IEMgMjQuOTAyMzQ0IDIzLjMyNDIxOSAzMC43NSAxNi42NTYyNSAzMC43NSAxNi42NTYyNSBMIDMxLjM0Mzc1IDE2IEwgMzAuNzUgMTUuMzQzNzUgQyAzMC43NSAxNS4zNDM3NSAyNC4zMzU5MzggOCAxNiA4IFogTSAxNiAxMCBDIDE4LjIwMzEyNSAxMCAyMC4yMzQzNzUgMTAuNjAxNTYzIDIyIDExLjQwNjI1IEMgMjIuNjM2NzE5IDEyLjQ2MDkzOCAyMyAxMy42NzU3ODEgMjMgMTUgQyAyMyAxOC42MTMyODEgMjAuMjg5MDYzIDIxLjU4MjAzMSAxNi43ODEyNSAyMS45Njg3NSBDIDE2Ljc2MTcxOSAyMS45NzI2NTYgMTYuNzM4MjgxIDIxLjk2NDg0NCAxNi43MTg3NSAyMS45Njg3NSBDIDE2LjQ4MDQ2OSAyMS45ODA0NjkgMTYuMjQyMTg4IDIyIDE2IDIyIEMgMTUuNzM0Mzc1IDIyIDE1LjQ3NjU2MyAyMS45ODQzNzUgMTUuMjE4NzUgMjEuOTY4NzUgQyAxMS43MTA5MzggMjEuNTgyMDMxIDkgMTguNjEzMjgxIDkgMTUgQyA5IDEzLjY5NTMxMyA5LjM1MTU2MyAxMi40ODA0NjkgOS45Njg3NSAxMS40Mzc1IEwgOS45Mzc1IDExLjQzNzUgQyAxMS43MTg3NSAxMC42MTcxODggMTMuNzczNDM4IDEwIDE2IDEwIFogTSAxNiAxMiBDIDE0LjM0Mzc1IDEyIDEzIDEzLjM0Mzc1IDEzIDE1IEMgMTMgMTYuNjU2MjUgMTQuMzQzNzUgMTggMTYgMTggQyAxNy42NTYyNSAxOCAxOSAxNi42NTYyNSAxOSAxNSBDIDE5IDEzLjM0Mzc1IDE3LjY1NjI1IDEyIDE2IDEyIFogTSA3LjI1IDEyLjkzNzUgQyA3LjA5Mzc1IDEzLjYwOTM3NSA3IDE0LjI4NTE1NiA3IDE1IEMgNyAxNi43NTM5MDYgNy41IDE4LjM5NDUzMSA4LjM3NSAxOS43ODEyNSBDIDUuODU1NDY5IDE4LjMyNDIxOSA0LjEwNTQ2OSAxNi41ODU5MzggMy41MzEyNSAxNiBDIDQuMDExNzE5IDE1LjUwNzgxMyA1LjM1MTU2MyAxNC4yMDMxMjUgNy4yNSAxMi45Mzc1IFogTSAyNC43NSAxMi45Mzc1IEMgMjYuNjQ4NDM4IDE0LjIwMzEyNSAyNy45ODgyODEgMTUuNTA3ODEzIDI4LjQ2ODc1IDE2IEMgMjcuODk0NTMxIDE2LjU4NTkzOCAyNi4xNDQ1MzEgMTguMzI0MjE5IDIzLjYyNSAxOS43ODEyNSBDIDI0LjUgMTguMzk0NTMxIDI1IDE2Ljc1MzkwNiAyNSAxNSBDIDI1IDE0LjI4NTE1NiAyNC45MDYyNSAxMy42MDE1NjMgMjQuNzUgMTIuOTM3NSBaIn0pLG8oInJlY3QiLHtjbGFzc05hbWU6TXIuZmlsbCx4OiIzIix5OiIyNiIsd2lkdGg6IjI2IixoZWlnaHQ6IjIiLHRyYW5zZm9ybToicm90YXRlKC00NSAyIDIwKSJ9KSkpfWZ1bmN0aW9uIEFNKHtmb3JjZVdoaXRlOmV9KXtyZXR1cm4gbygic3ZnIix7Y2xhc3NOYW1lOk1yLm92ZXJsYXlUb2dnbGVJY29uT24saGVpZ2h0OiIyNCIsd2lkdGg6IjI0Iix2aWV3Qm94OiIwIDIuMiAzMiAyNiJ9LG8oInBhdGgiLHtjbGFzc05hbWU6ZT8iIjpNci5maWxsLGZpbGw6ZT8idmFyKC0td2hpdGUtNTAwKSI6IiIsZDoiTSAxNiA4IEMgNy42NjQwNjMgOCAxLjI1IDE1LjM0Mzc1IDEuMjUgMTUuMzQzNzUgTCAwLjY1NjI1IDE2IEwgMS4yNSAxNi42NTYyNSBDIDEuMjUgMTYuNjU2MjUgNy4wOTc2NTYgMjMuMzI0MjE5IDE0Ljg3NSAyMy45Mzc1IEMgMTUuMjQ2MDk0IDIzLjk4NDM3NSAxNS42MTcxODggMjQgMTYgMjQgQyAxNi4zODI4MTMgMjQgMTYuNzUzOTA2IDIzLjk4NDM3NSAxNy4xMjUgMjMuOTM3NSBDIDI0LjkwMjM0NCAyMy4zMjQyMTkgMzAuNzUgMTYuNjU2MjUgMzAuNzUgMTYuNjU2MjUgTCAzMS4zNDM3NSAxNiBMIDMwLjc1IDE1LjM0Mzc1IEMgMzAuNzUgMTUuMzQzNzUgMjQuMzM1OTM4IDggMTYgOCBaIE0gMTYgMTAgQyAxOC4yMDMxMjUgMTAgMjAuMjM0Mzc1IDEwLjYwMTU2MyAyMiAxMS40MDYyNSBDIDIyLjYzNjcxOSAxMi40NjA5MzggMjMgMTMuNjc1NzgxIDIzIDE1IEMgMjMgMTguNjEzMjgxIDIwLjI4OTA2MyAyMS41ODIwMzEgMTYuNzgxMjUgMjEuOTY4NzUgQyAxNi43NjE3MTkgMjEuOTcyNjU2IDE2LjczODI4MSAyMS45NjQ4NDQgMTYuNzE4NzUgMjEuOTY4NzUgQyAxNi40ODA0NjkgMjEuOTgwNDY5IDE2LjI0MjE4OCAyMiAxNiAyMiBDIDE1LjczNDM3NSAyMiAxNS40NzY1NjMgMjEuOTg0Mzc1IDE1LjIxODc1IDIxLjk2ODc1IEMgMTEuNzEwOTM4IDIxLjU4MjAzMSA5IDE4LjYxMzI4MSA5IDE1IEMgOSAxMy42OTUzMTMgOS4zNTE1NjMgMTIuNDgwNDY5IDkuOTY4NzUgMTEuNDM3NSBMIDkuOTM3NSAxMS40Mzc1IEMgMTEuNzE4NzUgMTAuNjE3MTg4IDEzLjc3MzQzOCAxMCAxNiAxMCBaIE0gMTYgMTIgQyAxNC4zNDM3NSAxMiAxMyAxMy4zNDM3NSAxMyAxNSBDIDEzIDE2LjY1NjI1IDE0LjM0Mzc1IDE4IDE2IDE4IEMgMTcuNjU2MjUgMTggMTkgMTYuNjU2MjUgMTkgMTUgQyAxOSAxMy4zNDM3NSAxNy42NTYyNSAxMiAxNiAxMiBaIE0gNy4yNSAxMi45Mzc1IEMgNy4wOTM3NSAxMy42MDkzNzUgNyAxNC4yODUxNTYgNyAxNSBDIDcgMTYuNzUzOTA2IDcuNSAxOC4zOTQ1MzEgOC4zNzUgMTkuNzgxMjUgQyA1Ljg1NTQ2OSAxOC4zMjQyMTkgNC4xMDU0NjkgMTYuNTg1OTM4IDMuNTMxMjUgMTYgQyA0LjAxMTcxOSAxNS41MDc4MTMgNS4zNTE1NjMgMTQuMjAzMTI1IDcuMjUgMTIuOTM3NSBaIE0gMjQuNzUgMTIuOTM3NSBDIDI2LjY0ODQzOCAxNC4yMDMxMjUgMjcuOTg4MjgxIDE1LjUwNzgxMyAyOC40Njg3NSAxNiBDIDI3Ljg5NDUzMSAxNi41ODU5MzggMjYuMTQ0NTMxIDE4LjMyNDIxOSAyMy42MjUgMTkuNzgxMjUgQyAyNC41IDE4LjM5NDUzMSAyNSAxNi43NTM5MDYgMjUgMTUgQyAyNSAxNC4yODUxNTYgMjQuOTA2MjUgMTMuNjAxNTYzIDI0Ljc1IDEyLjkzNzUgWiJ9KSl9ZnVuY3Rpb24gWHYoe2FjdGl2aXR5OmUsZm9yY2VXaGl0ZTp0LGZvcmNlTGVmdE1hcmdpbjpufSl7bGV0IHI9JHQoKTtyZXR1cm4gbyhYLHt0ZXh0OiJUb2dnbGUgYWN0aXZpdHkifSwoe29uTW91c2VMZWF2ZTppLG9uTW91c2VFbnRlcjpzfSk9Pm8oImRpdiIse29uTW91c2VMZWF2ZTppLG9uTW91c2VFbnRlcjpzLGNsYXNzTmFtZTpNci5vdmVybGF5VG9nZ2xlSWNvbixyb2xlOiJidXR0b24iLCJhcmlhLWxhYmVsIjoiVG9nZ2xlIGFjdGl2aXR5Iix0YWJJbmRleDowLHN0eWxlOm4/e21hcmdpbkxlZnQ6IjJweCJ9OnZvaWQgMCxvbkNsaWNrOmM9PkVNKGMsZSxyKX0sbm4uaGFzKGUuaWQpP28oa00sbnVsbCk6byhBTSx7Zm9yY2VXaGl0ZTp0fSkpKX1mdW5jdGlvbiBMTSh7YWN0aXZpdHk6ZX0pe3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6YCR7Tk0udHJ5SXRPdXRCYWRnZX0gJHtSTS5iYXNlU2hhcGVSb3VuZH1gLHN0eWxlOntwYWRkaW5nOiIwcHggMnB4IixoZWlnaHQ6Mjh9fSxvKFh2LHthY3Rpdml0eTplLGZvcmNlV2hpdGU6ITB9KSl9ZnVuY3Rpb24gRU0oZSx0LG4pe2Uuc3RvcFByb3BhZ2F0aW9uKCksbm4uaGFzKHQuaWQpP25uLmRlbGV0ZSh0LmlkKTpubi5zZXQodC5pZCx0KSxuKCksVHAoKX1hc3luYyBmdW5jdGlvbiBUcCgpe2F3YWl0IFZlKCJJZ25vcmVBY3Rpdml0aWVzX2lnbm9yZWRBY3Rpdml0aWVzIixubil9dmFyIE1yLE5NLFJNLFp2LG5uLHhwLEp2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtsbigpO3NlKCk7UCgpO2hlKCk7TSgpO0YoKTt3KCk7TXI9Qygib3ZlcmxheVRvZ2dsZUljb25PZmYiLCJvdmVybGF5VG9nZ2xlSWNvbk9uIiksTk09QygidHJ5SXRPdXRCYWRnZSIsInRyeUl0T3V0QmFkZ2VJY29uIiksUk09QygiYmFzZVNoYXBlUm91bmQiLCJiYXNlU2hhcGVSb3VuZExlZnQiLCJiYXNlU2hhcGVSb3VuZFJpZ2h0IiksWnY9bGUoIlJ1bm5pbmdHYW1lU3RvcmUiKTtubj1uZXcgTWFwLHhwPXYoe25hbWU6Iklnbm9yZUFjdGl2aXRpZXMiLGF1dGhvcnM6W20uTnVja3l6XSxkZXNjcmlwdGlvbjoiSWdub3JlIGNlcnRhaW4gYWN0aXZpdGllcyAobGlrZSBnYW1lcyBhbmQgYWN0dWFsIGFjdGl2aXRpZXMpIGZyb20gc2hvd2luZyB1cCBvbiB5b3VyIHN0YXR1cy4gWW91IGNhbiBjb25maWd1cmUgd2hpY2ggb25lcyBhcmUgaWdub3JlZCBmcm9tIHRoZSBSZWdpc3RlcmVkIEdhbWVzIGFuZCBBY3Rpdml0aWVzIHRhYnMuIixwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLlNFVFRJTkdTX0dBTUVTX1RPR0dMRV9PVkVSTEFZIixyZXBsYWNlbWVudDp7bWF0Y2g6LyEoXGkpKFwpcmV0dXJuIG51bGw7dmFyIFxpPShcaSlcLm92ZXJsYXkuKz9jaGlsZHJlbjopKFxbLnswLDcwfW92ZXJsYXlTdGF0dXNUZXh0Lis/XF0pKD89fVwpfVwoXCkpLyxyZXBsYWNlOihlLHQsbixyLGkpPT5gZmFsc2Uke259KCR7dH0/JHtpfTpbXSkuY29uY2F0KFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLklnbm9yZUFjdGl2aXRpZXMucmVuZGVyVG9nZ2xlR2FtZUFjdGl2aXR5QnV0dG9uKCR7cn0pKWB9fSx7ZmluZDoiLm92ZXJsYXlCYWRnZSIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PVwoXClcLmJhZGdlQ29udGFpbmVyLGNoaWxkcmVuOikuezAsNTB9P25hbWU6KFxpKVwubmFtZS4rP251bGwvLHJlcGxhY2U6KGUsdCk9PmBbJHtlfSwkc2VsZi5yZW5kZXJUb2dnbGVBY3Rpdml0eUJ1dHRvbigke3R9KV1gfSx7bWF0Y2g6Lyg/PD1cKFwpXC5iYWRnZUNvbnRhaW5lcixjaGlsZHJlbjopLnswLDUwfT9uYW1lOihcaVwuYXBwbGljYXRpb24pXC5uYW1lLis/bnVsbC8scmVwbGFjZTooZSx0KT0+YCR7ZX0sJHNlbGYucmVuZGVyVG9nZ2xlQWN0aXZpdHlCdXR0b24oJHt0fSlgfV19LHtmaW5kOicuZGlzcGxheU5hbWU9IkxvY2FsQWN0aXZpdHlTdG9yZSInLHJlcGxhY2VtZW50OnttYXRjaDovTElTVEVOSU5HLis/XClcKTsoPzw9KFxpKVwucHVzaC4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHt0fT0ke3R9LmZpbHRlcigkc2VsZi5pc0FjdGl2aXR5Tm90SWdub3JlZCk7YH19XSxhc3luYyBzdGFydCgpe2xldCBlPWF3YWl0IFdlKCJJZ25vcmVBY3Rpdml0aWVzX2lnbm9yZWRBY3Rpdml0aWVzIik/P25ldyBNYXA7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKGxldCB0IG9mIGUpbm4uc2V0KHQse2lkOnQsdHlwZTowfSk7YXdhaXQgVHAoKX1lbHNlIG5uPWU7aWYobm4uc2l6ZSE9PTApe2xldCB0PVp2LmdldEdhbWVzU2VlbigpO2ZvcihsZXQgbiBvZiBubi52YWx1ZXMoKSluLnR5cGU9PT0wJiYodC5zb21lKHI9PnIuaWQ9PT1uLmlkfHxyLmV4ZVBhdGg9PT1uLmlkKXx8bm4uZGVsZXRlKG4uaWQpKTthd2FpdCBUcCgpfX0scmVuZGVyVG9nZ2xlR2FtZUFjdGl2aXR5QnV0dG9uKGUpe3JldHVybiBvKEQse25vb3A6ITB9LG8oWHYse2FjdGl2aXR5OntpZDplLmlkPz9lLmV4ZVBhdGgsdHlwZTowfSxmb3JjZUxlZnRNYXJnaW46ITB9KSl9LHJlbmRlclRvZ2dsZUFjdGl2aXR5QnV0dG9uKGUpe3JldHVybiBvKEQse25vb3A6ITB9LG8oTE0se2FjdGl2aXR5OntpZDplLmlkLHR5cGU6MX19KSl9LGlzQWN0aXZpdHlOb3RJZ25vcmVkKGUpe2lmKGUudHlwZT09PTApe2lmKGUuYXBwbGljYXRpb25faWQhPT12b2lkIDApcmV0dXJuIW5uLmhhcyhlLmFwcGxpY2F0aW9uX2lkKTt7bGV0IHQ9WnYuZ2V0UnVubmluZ0dhbWVzKCkuZmluZChuPT5uLm5hbWU9PT1lLm5hbWUpPy5leGVQYXRoO2lmKHQpcmV0dXJuIW5uLmhhcyh0KX19cmV0dXJuITB9fSl9KTt2YXIgQ2ksd3A9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0NpPSJ2Yy1pbWd6b29tLW1hZ25pZnktbW9kYWwifSk7ZnVuY3Rpb24gTXAoZSx0KXtlKCk/dCgpOnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+TXAoZSx0KSl9dmFyIFF2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciBETSxQcCxWdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2UoKTt3KCk7d3AoKTtJcCgpO1F2KCk7RE09YmUoInZjLWltZ3pvb20tIiksUHA9KHtpbnN0YW5jZTplLHNpemU6dCx6b29tOm59KT0+e2xldFtyLGldPWooITEpLFtzLGNdPWooe3g6MCx5OjB9KSxbdSxwXT1qKHt4OjAseTowfSksW3ksaF09aigwKSxTPXZ0KCExKSxiPXZ0KG4pLHg9dnQodCksQT12dChudWxsKSxOPXZ0KG51bGwpLEk9dnQobnVsbCksJD12dChudWxsKTtpZihMLnVzZUxheW91dEVmZmVjdCgoKT0+e2xldCBLPWllPT57aWUua2V5PT09IlNoaWZ0IiYmKFMuY3VycmVudD0hMCl9LG5lPWllPT57aWUua2V5PT09IlNoaWZ0IiYmKFMuY3VycmVudD0hMSl9LFk9KCk9PntOLmN1cnJlbnQuY3VycmVudFRpbWU9SS5jdXJyZW50LmN1cnJlbnRUaW1lfSxxPWllPT57aWYoZS5zdGF0ZS5tb3VzZU92ZXImJmUuc3RhdGUubW91c2VEb3duKXtsZXQgamU9eC5jdXJyZW50LzIsR2U9e3g6aWUucGFnZVgseTppZS5wYWdlWX0sZHQ9LSgoR2UueC1BLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkqYi5jdXJyZW50LWplKSxKZT0tKChHZS55LUEuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApKmIuY3VycmVudC1qZSk7Yyh7eDppZS54LWplLHk6aWUueS1qZX0pLHAoe3g6ZHQseTpKZX0pLGgoMSl9ZWxzZSBoKDApfSxvZT1pZT0+e2Uuc3RhdGUubW91c2VPdmVyJiZpZS5idXR0b249PT0wJiYoYi5jdXJyZW50PUNlLnN0b3JlLnpvb20seC5jdXJyZW50PUNlLnN0b3JlLnNpemUsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltYWdlLWNvbnRleHQiKSYmTy5kaXNwYXRjaCh7dHlwZToiQ09OVEVYVF9NRU5VX0NMT1NFIn0pLHEoaWUpLGgoMSkpfSxIPSgpPT57aCgwKSxDZS5zdG9yZS5zYXZlWm9vbVZhbHVlcyYmKENlLnN0b3JlLnpvb209Yi5jdXJyZW50LENlLnN0b3JlLnNpemU9eC5jdXJyZW50KX0sRWU9YXN5bmMgaWU9PntpZihlLnN0YXRlLm1vdXNlT3ZlciYmZS5zdGF0ZS5tb3VzZURvd24mJiFTLmN1cnJlbnQpe2xldCBqZT1iLmN1cnJlbnQraWUuZGVsdGFZLzEwMCooQ2Uuc3RvcmUuaW52ZXJ0U2Nyb2xsPy0xOjEpKkNlLnN0b3JlLnpvb21TcGVlZDtiLmN1cnJlbnQ9amU8PTE/MTpqZSxxKGllKX1pZihlLnN0YXRlLm1vdXNlT3ZlciYmZS5zdGF0ZS5tb3VzZURvd24mJlMuY3VycmVudCl7bGV0IGplPXguY3VycmVudCtpZS5kZWx0YVkqKENlLnN0b3JlLmludmVydFNjcm9sbD8tMToxKSpDZS5zdG9yZS56b29tU3BlZWQ7eC5jdXJyZW50PWplPD01MD81MDpqZSxxKGllKX19O3JldHVybiBNcCgoKT0+ZS5zdGF0ZS5yZWFkeVN0YXRlPT09IlJFQURZIiwoKT0+e2xldCBpZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChDaSk7QS5jdXJyZW50PWllLGllLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgiZHJhZ2dhYmxlIiwiZmFsc2UiKSxlLnByb3BzLmFuaW1hdGVkJiYoSS5jdXJyZW50PWllLnF1ZXJ5U2VsZWN0b3IoInZpZGVvIiksSS5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoInRpbWV1cGRhdGUiLFkpKSxpKCEwKX0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLEspLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixuZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixxKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9lKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixIKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3aGVlbCIsRWUpLCgpPT57ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsSyksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLG5lKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsb2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLEgpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndoZWVsIixFZSksQ2Uuc3RvcmUuc2F2ZVpvb21WYWx1ZXMmJihDZS5zdG9yZS56b29tPWIuY3VycmVudCxDZS5zdG9yZS5zaXplPXguY3VycmVudCl9fSxbXSksIXIpcmV0dXJuIG51bGw7bGV0IF89QS5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6RE0oImxlbnMiLHsibmVhcmVzdC1uZWlnaGJvciI6Q2Uuc3RvcmUubmVhcmVzdE5laWdoYm91cixzcXVhcmU6Q2Uuc3RvcmUuc3F1YXJlfSksc3R5bGU6e29wYWNpdHk6eSx3aWR0aDp4LmN1cnJlbnQrInB4IixoZWlnaHQ6eC5jdXJyZW50KyJweCIsdHJhbnNmb3JtOmB0cmFuc2xhdGUoJHtzLnh9cHgsICR7cy55fXB4KWB9fSxlLnByb3BzLmFuaW1hdGVkP28oInZpZGVvIix7cmVmOk4sc3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDpgJHt1Lnh9cHhgLHRvcDpgJHt1Lnl9cHhgfSx3aWR0aDpgJHtfLndpZHRoKmIuY3VycmVudH1weGAsaGVpZ2h0OmAke18uaGVpZ2h0KmIuY3VycmVudH1weGAscG9zdGVyOmUucHJvcHMuc3JjLHNyYzpJLmN1cnJlbnQ/LnNyYz8/ZS5wcm9wcy5zcmMsYXV0b1BsYXk6ITAsbG9vcDohMH0pOm8oImltZyIse3JlZjokLHN0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRyYW5zZm9ybTpgdHJhbnNsYXRlKCR7dS54fXB4LCAke3UueX1weClgfSx3aWR0aDpgJHtfLndpZHRoKmIuY3VycmVudH1weGAsaGVpZ2h0OmAke18uaGVpZ2h0KmIuY3VycmVudH1weGAsc3JjOmUucHJvcHMuc3JjLGFsdDoiIn0pKX19KTt2YXIgQ3AsZTE9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy9pbWFnZVpvb20vc3R5bGVzLmNzcyIse25hbWU6InNyYy9wbHVnaW5zL2ltYWdlWm9vbS9zdHlsZXMuY3NzIixzb3VyY2U6YC52Yy1pbWd6b29tLWxlbnMgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgaW5zZXQ6IDA7CiAgICB6LWluZGV4OiA5OTk5OwogICAgYm9yZGVyOiAycHggc29saWQgZ3JleTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBjdXJzb3I6IG5vbmU7CiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgMTBweCAycHggZ3JleTsKICAgIGZpbHRlcjogZHJvcC1zaGFkb3coMCAwIDJweCBncmV5KTsKICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwp9CgoudmMtaW1nem9vbS1zcXVhcmUgewogICAgYm9yZGVyLXJhZGl1czogMDsKfQoKLnZjLWltZ3pvb20tbmVhcmVzdC1uZWlnaGJvciA+IGltZyB7CiAgICBpbWFnZS1yZW5kZXJpbmc6IHBpeGVsYXRlZDsgLyogaHR0cHM6Ly9nb29nbGVjaHJvbWUuZ2l0aHViLmlvL3NhbXBsZXMvaW1hZ2UtcmVuZGVyaW5nLXBpeGVsYXRlZC9pbmRleC5odG1sICovCn0KCi8qIG1ha2UgdGhlIGNhcm91c2VsIHRha2UgdXAgbGVzcyBzcGFjZSBzbyB3ZSBjYW4gY2xpY2sgdGhlIGJhY2tkcm9wIGFuZCBleGl0IG91dCBvZiBpdCAqLwpbY2xhc3N8PSJjYXJvdXNlbE1vZGFsIl0gewogICAgaGVpZ2h0OiBmaXQtY29udGVudDsKICAgIGJveC1zaGFkb3c6IG5vbmU7Cn0KCltjbGFzcyo9Im1vZGFsQ2Fyb3VzZWxXcmFwcGVyIl0gewogICAgaGVpZ2h0OiBmaXQtY29udGVudDsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwp9CgpbY2xhc3N8PSJ3cmFwcGVyIl06aGFzKD4gI3ZjLWltZ3pvb20tbWFnbmlmeS1tb2RhbCkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogNTAlOwogICAgdG9wOiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKfQpgLGNsYXNzTmFtZXM6e30sZG9tOm51bGx9KTtDcD0ic3JjL3BsdWdpbnMvaW1hZ2Vab29tL3N0eWxlcy5jc3MifSk7dmFyIENlLHQxLE5wLElwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtUdCgpO1UoKTtPZSgpO3R1KCk7UCgpO2FyKCk7TSgpO3coKTtWdigpO3dwKCk7ZTEoKTtDZT1FKHtzYXZlWm9vbVZhbHVlczp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHNhdmUgem9vbSBhbmQgbGVucyBzaXplIHZhbHVlcyIsZGVmYXVsdDohMH0scHJldmVudENhcm91c2VsRnJvbUNsb3NpbmdPbkNsaWNrOnt0eXBlOjMsZGVzY3JpcHRpb246IkFsbG93IHRoZSBpbWFnZSBtb2RhbCBpbiB0aGUgaW1hZ2Ugc2xpZGVzaG93IHRoaW5nIC8gY2Fyb3VzZWwgdG8gcmVtYWluIG9wZW4gd2hlbiBjbGlja2luZyBvbiB0aGUgaW1hZ2UiLGRlZmF1bHQ6ITB9LGludmVydFNjcm9sbDp7dHlwZTozLGRlc2NyaXB0aW9uOiJJbnZlcnQgc2Nyb2xsIixkZWZhdWx0OiEwfSxuZWFyZXN0TmVpZ2hib3VyOnt0eXBlOjMsZGVzY3JpcHRpb246IlVzZSBOZWFyZXN0IE5laWdoYm91ciBJbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZyBpbWFnZXMiLGRlZmF1bHQ6ITF9LHNxdWFyZTp7dHlwZTozLGRlc2NyaXB0aW9uOiJNYWtlIHRoZSBsZW5zIHNxdWFyZSIsZGVmYXVsdDohMX0sem9vbTp7ZGVzY3JpcHRpb246Ilpvb20gb2YgdGhlIGxlbnMiLHR5cGU6NSxtYXJrZXJzOlRyKDEsNTAsNCksZGVmYXVsdDoyLHN0aWNrVG9NYXJrZXJzOiExfSxzaXplOntkZXNjcmlwdGlvbjoiUmFkaXVzIC8gU2l6ZSBvZiB0aGUgbGVucyIsdHlwZTo1LG1hcmtlcnM6VHIoNTAsMWUzLDUwKSxkZWZhdWx0OjEwMCxzdGlja1RvTWFya2VyczohMX0sem9vbVNwZWVkOntkZXNjcmlwdGlvbjoiSG93IGZhc3QgdGhlIHpvb20gLyBsZW5zIHNpemUgY2hhbmdlcyIsdHlwZTo1LG1hcmtlcnM6VHIoLjEsNSwuMiksZGVmYXVsdDouNSxzdGlja1RvTWFya2VyczohMX19KSx0MT1lPT4oKT0+e2UucHVzaChvKEIuTWVudUdyb3VwLHtpZDoiaW1hZ2Utem9vbSJ9LG8oQi5NZW51Q2hlY2tib3hJdGVtLHtpZDoidmMtc3F1YXJlIixsYWJlbDoiU3F1YXJlIExlbnMiLGNoZWNrZWQ6Q2Uuc3RvcmUuc3F1YXJlLGFjdGlvbjooKT0+e0NlLnN0b3JlLnNxdWFyZT0hQ2Uuc3RvcmUuc3F1YXJlLG1uLmNsb3NlKCl9fSksbyhCLk1lbnVDb250cm9sSXRlbSx7aWQ6InZjLXpvb20iLGxhYmVsOiJab29tIixjb250cm9sOih0LG4pPT5vKEIuTWVudVNsaWRlckNvbnRyb2wse3JlZjpuLC4uLnQsbWluVmFsdWU6MSxtYXhWYWx1ZTo1MCx2YWx1ZTpDZS5zdG9yZS56b29tLG9uQ2hhbmdlOkZ0KHI9PkNlLnN0b3JlLnpvb209ciwxMDApfSl9KSxvKEIuTWVudUNvbnRyb2xJdGVtLHtpZDoidmMtc2l6ZSIsbGFiZWw6IkxlbnMgU2l6ZSIsY29udHJvbDoodCxuKT0+byhCLk1lbnVTbGlkZXJDb250cm9sLHtyZWY6biwuLi50LG1pblZhbHVlOjUwLG1heFZhbHVlOjFlMyx2YWx1ZTpDZS5zdG9yZS5zaXplLG9uQ2hhbmdlOkZ0KHI9PkNlLnN0b3JlLnNpemU9ciwxMDApfSl9KSxvKEIuTWVudUNvbnRyb2xJdGVtLHtpZDoidmMtem9vbS1zcGVlZCIsbGFiZWw6Ilpvb20gU3BlZWQiLGNvbnRyb2w6KHQsbik9Pm8oQi5NZW51U2xpZGVyQ29udHJvbCx7cmVmOm4sLi4udCxtaW5WYWx1ZTouMSxtYXhWYWx1ZTo1LHZhbHVlOkNlLnN0b3JlLnpvb21TcGVlZCxvbkNoYW5nZTpGdChyPT5DZS5zdG9yZS56b29tU3BlZWQ9ciwxMDApLHJlbmRlclZhbHVlOnI9PmAke3IudG9GaXhlZCgzKX14YH0pfSkpKX0sTnA9dih7bmFtZToiSW1hZ2Vab29tIixkZXNjcmlwdGlvbjoiTGV0cyB5b3Ugem9vbSBpbiB0byBpbWFnZXMgYW5kIGdpZnMuIFVzZSBzY3JvbGwgd2hlZWwgdG8gem9vbSBpbiBhbmQgc2hpZnQgKyBzY3JvbGwgd2hlZWwgdG8gaW5jcmVhc2UgbGVucyByYWRpdXMgLyBzaXplIixhdXRob3JzOlttLkFyaWFdLHRhZ3M6WyJJbWFnZVV0aWxpdGllcyJdLHBhdGNoZXM6W3tmaW5kOicicmVuZGVyTGlua0NvbXBvbmVudCIsIm1heFdpZHRoIicscmVwbGFjZW1lbnQ6e21hdGNoOi8ocmV0dXJuXCguezEsMTAwfVwoXClcLndyYXBwZXIuezEsMTAwfSkoc3JjKS8scmVwbGFjZTpgJDFpZDogJyR7Q2l9JywkMmB9fSx7ZmluZDoiaGFuZGxlSW1hZ2VMb2FkPSIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKHJlbmRlcj1mdW5jdGlvblwoXCl7LnsxLDUwMH1saW1pdFJlc3BvbnNpdmVXaWR0aC57MSw2MDB9KW9uTW91c2VFbnRlcjovLHJlcGxhY2U6IiQxLi4uJHNlbGYubWFrZVByb3BzKHRoaXMpLG9uTW91c2VFbnRlcjoifSx7bWF0Y2g6L2NvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uXChcKXsvLHJlcGxhY2U6IiQmJHNlbGYucmVuZGVyTWFnbmlmaWVyKHRoaXMpOyJ9LHttYXRjaDovY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb25cKFwpey8scmVwbGFjZToiJCYkc2VsZi51bk1vdW50TWFnbmlmaWVyKCk7In1dfSx7ZmluZDoiLmNhcm91c2VsTW9kYWwsIixyZXBsYWNlbWVudDp7bWF0Y2g6L29uQ2xpY2s6KFxpKSwvLHJlcGxhY2U6Im9uQ2xpY2s6JHNlbGYuc2V0dGluZ3Muc3RvcmUucHJldmVudENhcm91c2VsRnJvbUNsb3NpbmdPbkNsaWNrID8gKCkgPT4ge30gOiAkMSwifX1dLHNldHRpbmdzOkNlLGN1cnJlbnRNYWduaWZpZXJFbGVtZW50Om51bGwsZWxlbWVudDpudWxsLE1hZ25pZmllcjpQcCxyb290Om51bGwsbWFrZVByb3BzKGUpe3JldHVybntvbk1vdXNlT3ZlcjooKT0+dGhpcy5vbk1vdXNlT3ZlcihlKSxvbk1vdXNlT3V0OigpPT50aGlzLm9uTW91c2VPdXQoZSksb25Nb3VzZURvd246dD0+dGhpcy5vbk1vdXNlRG93bih0LGUpLG9uTW91c2VVcDooKT0+dGhpcy5vbk1vdXNlVXAoZSksaWQ6ZS5wcm9wcy5pZH19LHJlbmRlck1hZ25pZmllcihlKXtlLnByb3BzLmlkPT09Q2kmJih0aGlzLmN1cnJlbnRNYWduaWZpZXJFbGVtZW50fHwodGhpcy5jdXJyZW50TWFnbmlmaWVyRWxlbWVudD1vKFBwLHtzaXplOkNlLnN0b3JlLnNpemUsem9vbTpDZS5zdG9yZS56b29tLGluc3RhbmNlOmV9KSx0aGlzLnJvb3Q9JG8uY3JlYXRlUm9vdCh0aGlzLmVsZW1lbnQpLHRoaXMucm9vdC5yZW5kZXIodGhpcy5jdXJyZW50TWFnbmlmaWVyRWxlbWVudCkpKX0sdW5Nb3VudE1hZ25pZmllcigpe3RoaXMucm9vdD8udW5tb3VudCgpLHRoaXMuY3VycmVudE1hZ25pZmllckVsZW1lbnQ9bnVsbCx0aGlzLnJvb3Q9bnVsbH0sb25Nb3VzZU92ZXIoZSl7ZS5zZXRTdGF0ZSh0PT4oey4uLnQsbW91c2VPdmVyOiEwfSkpfSxvbk1vdXNlT3V0KGUpe2Uuc2V0U3RhdGUodD0+KHsuLi50LG1vdXNlT3ZlcjohMX0pKX0sb25Nb3VzZURvd24oZSx0KXtlLmJ1dHRvbj09PTAmJnQuc2V0U3RhdGUobj0+KHsuLi5uLG1vdXNlRG93bjohMH0pKX0sb25Nb3VzZVVwKGUpe2Uuc2V0U3RhdGUodD0+KHsuLi50LG1vdXNlRG93bjohMX0pKX0sc3RhcnQoKXtvdChDcCksZGUoImltYWdlLWNvbnRleHQiLHQxKSx0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoIk1hZ25pZmllckNvbnRhaW5lciIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX0sc3RvcCgpe2t0KENwKSx0aGlzLnJvb3QmJnRoaXMucm9vdC51bm1vdW50KCksdGhpcy5lbGVtZW50Py5yZW1vdmUoKSxmZSgiaW1hZ2UtY29udGV4dCIsdDEpfX0pfSk7ZnVuY3Rpb24gT00oZSl7bGV0IHQ9ZT8ubWVzc2FnZT8uY29udGVudCxbbixyXT1MLnVzZVN0YXRlKCJwYXNzd29yZCIpO3JldHVybiBvKExlLHsuLi5lfSxvKCRlLG51bGwsbyhULkZvcm1UaXRsZSx7dGFnOiJoNCJ9LCJEZWNyeXB0IE1lc3NhZ2UiKSksbyhVZSxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUiLHN0eWxlOnttYXJnaW5Ub3A6IjEwcHgifX0sIlNlY3JldCIpLG8oX2Use2RlZmF1bHRWYWx1ZTp0LGRpc2FibGVkOiEwfSksbyhULkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJQYXNzd29yZCIpLG8oX2Use3N0eWxlOnttYXJnaW5Cb3R0b206IjIwcHgifSxvbkNoYW5nZTpyfSkpLG8odXQsbnVsbCxvKFIse2NvbG9yOlIuQ29sb3JzLkdSRUVOLG9uQ2xpY2s6KCk9PntsZXQgaT1ScCh0LG4sITApOyFpfHwhZT8ubWVzc2FnZXx8KFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLkludmlzaWJsZUNoYXQuYnVpbGRFbWJlZChlPy5tZXNzYWdlLGkpLGUub25DbG9zZSgpKX19LCJEZWNyeXB0IiksbyhSLHtjb2xvcjpSLkNvbG9ycy5UUkFOU1BBUkVOVCxsb29rOlIuTG9va3MuTElOSyxzdHlsZTp7bGVmdDoxNSxwb3NpdGlvbjoiYWJzb2x1dGUifSxvbkNsaWNrOmUub25DbG9zZX0sIkNhbmNlbCIpKSl9ZnVuY3Rpb24gbjEoZSl7UGUodD0+byhPTSx7Li4udCwuLi5lfSkpfXZhciBvMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WmUoKTt3KCk7aGEoKX0pO2Z1bmN0aW9uIF9NKGUpe2xldFt0LG5dPUwudXNlU3RhdGUoIiIpLFtyLGldPUwudXNlU3RhdGUoIiIpLFtzLGNdPUwudXNlU3RhdGUoInBhc3N3b3JkIiksW3UscF09TC51c2VTdGF0ZSghMSkseT10JiYodXx8ciYmL1x3IFx3Ly50ZXN0KHIpKTtyZXR1cm4gbyhMZSx7Li4uZX0sbygkZSxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDQifSwiRW5jcnlwdCBNZXNzYWdlIikpLG8oVWUsbnVsbCxvKFQuRm9ybVRpdGxlLHt0YWc6Img1IixzdHlsZTp7bWFyZ2luVG9wOiIxMHB4In19LCJTZWNyZXQiKSxvKF9lLHtvbkNoYW5nZTpoPT57bihoKX19KSxvKFQuRm9ybVRpdGxlLHt0YWc6Img1IixzdHlsZTp7bWFyZ2luVG9wOiIxMHB4In19LCJDb3ZlciAoMiBvciBtb3JlIFdvcmRzISEpIiksbyhfZSx7ZGlzYWJsZWQ6dSxvbkNoYW5nZTpoPT57aShoKX19KSxvKFQuRm9ybVRpdGxlLHt0YWc6Img1IixzdHlsZTp7bWFyZ2luVG9wOiIxMHB4In19LCJQYXNzd29yZCIpLG8oX2Use3N0eWxlOnttYXJnaW5Cb3R0b206IjIwcHgifSxkZWZhdWx0VmFsdWU6InBhc3N3b3JkIixvbkNoYW5nZTpoPT57YyhoKX19KSxvKHl0LHt2YWx1ZTp1LG9uQ2hhbmdlOmg9PntwKGgpfX0sIkRvbid0IHVzZSBhIENvdmVyIikpLG8odXQsbnVsbCxvKFIse2NvbG9yOlIuQ29sb3JzLkdSRUVOLGRpc2FibGVkOiF5LG9uQ2xpY2s6KCk9PntpZigheSlyZXR1cm47bGV0IGg9czEodCxzLHU/ImQgZCI6ciksUz11P2gucmVwbGFjZUFsbCgiZCIsIiIpOmg7IVN8fChxbihTKSxlLm9uQ2xvc2UoKSl9fSwiU2VuZCIpLG8oUix7Y29sb3I6Ui5Db2xvcnMuVFJBTlNQQVJFTlQsbG9vazpSLkxvb2tzLkxJTkssc3R5bGU6e2xlZnQ6MTUscG9zaXRpb246ImFic29sdXRlIn0sb25DbGljazooKT0+e2Uub25DbG9zZSgpfX0sIkNhbmNlbCIpKSl9ZnVuY3Rpb24gcjEoKXtQZShlPT5vKF9NLHsuLi5lfSkpfXZhciBpMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7YXQoKTtaZSgpO3coKTtoYSgpfSk7ZnVuY3Rpb24gQk0oKXtyZXR1cm4gbygic3ZnIix7ZmlsbDoidmFyKC0taGVhZGVyLXNlY29uZGFyeSkiLHdpZHRoOjI0LGhlaWdodDoyNCx2aWV3Qm94OiIwIDAgNjQgNjQifSxvKCJwYXRoIix7ZDoiTSAzMiA5IEMgMjQuODMyIDkgMTkgMTQuODMyIDE5IDIyIEwgMTkgMjcuMzQ3NjU2IEMgMTYuNjcwNjU5IDI4LjE3MTg2MiAxNSAzMC4zODgxMjYgMTUgMzMgTCAxNSA0OSBDIDE1IDUyLjMxNCAxNy42ODYgNTUgMjEgNTUgTCA0MyA1NSBDIDQ2LjMxNCA1NSA0OSA1Mi4zMTQgNDkgNDkgTCA0OSAzMyBDIDQ5IDMwLjM4ODEyNiA0Ny4zMjkzNDEgMjguMTcxODYyIDQ1IDI3LjM0NzY1NiBMIDQ1IDIyIEMgNDUgMTQuODMyIDM5LjE2OCA5IDMyIDkgeiBNIDMyIDEzIEMgMzYuOTYzIDEzIDQxIDE3LjAzOCA0MSAyMiBMIDQxIDI3IEwgMjMgMjcgTCAyMyAyMiBDIDIzIDE3LjAzOCAyNy4wMzcgMTMgMzIgMTMgeiJ9KSl9ZnVuY3Rpb24gRk0oKXtyZXR1cm4gbyhYLHt0ZXh0OiJUaGlzIG1lc3NhZ2UgaGFzIGEgaGlkZGVuIG1lc3NhZ2UhIChJbnZpc2libGVDaGF0KSJ9LCh7b25Nb3VzZUVudGVyOmUsb25Nb3VzZUxlYXZlOnR9KT0+bygiaW1nIix7ImFyaWEtbGFiZWwiOiJIaWRkZW4gTWVzc2FnZSBJbmRpY2F0b3IgKEludmlzaWJsZUNoYXQpIixvbk1vdXNlRW50ZXI6ZSxvbk1vdXNlTGVhdmU6dCxzcmM6Imh0dHBzOi8vZ2l0aHViLmNvbS9TYW1tQ2hlZXNlL2ludmlzaWJsZS1jaGF0L3Jhdy9OZXdSZXBsdWdnZWQvc3JjL2Fzc2V0cy9sb2NrLnBuZyIsd2lkdGg6MjAsaGVpZ2h0OjIwLHN0eWxlOnt0cmFuc2Zvcm06InRyYW5zbGF0ZVkoNHApIixwYWRkaW5nSW5saW5lOjR9fSkpfWZ1bmN0aW9uICRNKGUpe3JldHVybiBlLnR5cGUuYW5hbHl0aWNzTmFtZSE9PSJub3JtYWwiP251bGw6byhYLHt0ZXh0OiJFbmNyeXB0IE1lc3NhZ2UifSwoe29uTW91c2VFbnRlcjp0LG9uTW91c2VMZWF2ZTpufSk9Pm8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJmbGV4In19LG8oUix7ImFyaWEtaGFzcG9wdXAiOiJkaWFsb2ciLCJhcmlhLWxhYmVsIjoiRW5jcnlwdCBNZXNzYWdlIixzaXplOiIiLGxvb2s6ZW4uQkxBTkssb25Nb3VzZUVudGVyOnQsb25Nb3VzZUxlYXZlOm4saW5uZXJDbGFzc05hbWU6Z3QuYnV0dG9uLG9uQ2xpY2s6KCk9PnIxKCksc3R5bGU6e3BhZGRpbmc6IjAgMnB4IixzY2FsZToiMC45In19LG8oImRpdiIse2NsYXNzTmFtZTpndC5idXR0b25XcmFwcGVyfSxvKCJzdmciLHsiYXJpYS1oaWRkZW4iOiEwLHJvbGU6ImltZyIsd2lkdGg6IjMyIixoZWlnaHQ6IjMyIix2aWV3Qm94OiIwIDAgNjQgNjQiLHN0eWxlOntzY2FsZToiMS4xIn19LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0gMzIgOSBDIDI0LjgzMiA5IDE5IDE0LjgzMiAxOSAyMiBMIDE5IDI3LjM0NzY1NiBDIDE2LjY3MDY1OSAyOC4xNzE4NjIgMTUgMzAuMzg4MTI2IDE1IDMzIEwgMTUgNDkgQyAxNSA1Mi4zMTQgMTcuNjg2IDU1IDIxIDU1IEwgNDMgNTUgQyA0Ni4zMTQgNTUgNDkgNTIuMzE0IDQ5IDQ5IEwgNDkgMzMgQyA0OSAzMC4zODgxMjYgNDcuMzI5MzQxIDI4LjE3MTg2MiA0NSAyNy4zNDc2NTYgTCA0NSAyMiBDIDQ1IDE0LjgzMiAzOS4xNjggOSAzMiA5IHogTSAzMiAxMyBDIDM2Ljk2MyAxMyA0MSAxNy4wMzggNDEgMjIgTCA0MSAyNyBMIDIzIDI3IEwgMjMgMjIgQyAyMyAxNy4wMzggMjcuMDM3IDEzIDMyIDEzIHoifSkpKSkpKX1mdW5jdGlvbiBzMShlLHQsbil7cmV0dXJuIGtwLmhpZGUoZSsiXHUyMDBCIix0LG4pfWZ1bmN0aW9uIFJwKGUsdCxuKXtsZXQgcj1rcC5yZXZlYWwoZSx0KTtyZXR1cm4gbj9yLnJlcGxhY2UoIlx1MjAwQiIsIiIpOnJ9ZnVuY3Rpb24gVU0oZSl7cmV0dXJuIGUuZW5kc1dpdGgoIlx1MjAwQiIpfWFzeW5jIGZ1bmN0aW9uIEdNKGUpe2xldCB0PWExLnN0b3JlLnNhdmVkUGFzc3dvcmRzLnNwbGl0KCIsIikubWFwKHI9PnIudHJpbSgpKTtpZighZT8uY29udGVudHx8IXQ/Lmxlbmd0aClyZXR1cm4hMTtsZXR7Y29udGVudDpufT1lOy9eXFcvLnRlc3QoZS5jb250ZW50KSYmKG49YGQgJHtlLmNvbnRlbnR9ZGApO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgaT1ScChuLHRbcl0sITEpO2lmKFVNKGkpKXJldHVybiBpfXJldHVybiExfXZhciBrcCxhMSxBcCxoYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UW8oKTtVKCk7c2UoKTtQKCk7d2koKTtNKCk7dygpO28xKCk7aTEoKTthMT1FKHtzYXZlZFBhc3N3b3Jkczp7dHlwZTowLGRlZmF1bHQ6InBhc3N3b3JkLCBQYXNzd29yZCIsZGVzY3JpcHRpb246IlNhdmVkIFBhc3N3b3JkcyAoU2VwZXJhdGVkIHdpdGggYSAsICkifX0pLEFwPXYoe25hbWU6IkludmlzaWJsZUNoYXQiLGRlc2NyaXB0aW9uOiJFbmNyeXB0IHlvdXIgTWVzc2FnZXMgaW4gYSBub24tc3VzcGljaW91cyB3YXkhIixhdXRob3JzOlttLlNhbW1DaGVlc2VdLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VQb3BvdmVyQVBJIl0scGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5NRVNTQUdFX0VESVRFRCwiLHJlcGxhY2VtZW50OnttYXRjaDovdmFyIC4sLiwuPSguKVwuY2xhc3NOYW1lLC49LlwubWVzc2FnZSwuPS5cLmNoaWxkcmVuLC49LlwuY29udGVudCwuPS5cLm9uVXBkYXRlL2dtLHJlcGxhY2U6InRyeSB7JDEgJiYgJHNlbGYuSU5WX1JFR0VYLnRlc3QoJDEubWVzc2FnZS5jb250ZW50KSA/ICQxLmNvbnRlbnQucHVzaCgkc2VsZi5pbmRpY2F0b3IoKSkgOiBudWxsIH0gY2F0Y2gge307JCYifX0se2ZpbmQ6Ii5hY3RpdmVDb21tYW5kT3B0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6LyguKVwucHVzaC57MSwzMH1kaXNhYmxlZDooXGkpLC57MSwyMH1cfSwiZ2lmdCJcKVwpLyxyZXBsYWNlOiIkJjt0cnl7JDJ8fCQxLnB1c2goJHNlbGYuY2hhdEJhckljb24oYXJndW1lbnRzWzBdKSl9Y2F0Y2h7fSJ9fV0sRU1CRURfQVBJX1VSTDoiaHR0cHM6Ly9lbWJlZC5zYW1tY2hlZXNlLm5ldCIsSU5WX1JFR0VYOm5ldyBSZWdFeHAoLyggXHUyMDBjfFx1MjAwZCB8W1x1MjA2MC1cdTIwNjRdKVteXHUyMDBiXS8pLFVSTF9SRUdFWDpuZXcgUmVnRXhwKC8oaHR0cChzKT86XC9cLy4pPyh3d3dcLik/Wy1hLXpBLVowLTlAOiUuXyt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKFstYS16QS1aMC05QDolXysufiM/Ji8vPV0qKS8pLHNldHRpbmdzOmExLGFzeW5jIHN0YXJ0KCl7bGV0e2RlZmF1bHQ6ZX09YXdhaXQgVHYoKTtrcD1uZXcgZSghMCwhMSksd24oImludkRlY3J5cHQiLHQ9PnRoaXMuSU5WX1JFR0VYLnRlc3QodD8uY29udGVudCk/e2xhYmVsOiJEZWNyeXB0IE1lc3NhZ2UiLGljb246dGhpcy5wb3BPdmVySWNvbixtZXNzYWdlOnQsY2hhbm5lbDp0ZS5nZXRDaGFubmVsKHQuY2hhbm5lbF9pZCksb25DbGljazphc3luYygpPT57YXdhaXQgR00odCkudGhlbihuPT5uP3ZvaWQgdGhpcy5idWlsZEVtYmVkKHQsbik6dm9pZCBuMSh7bWVzc2FnZTp0fSkpfX06bnVsbCl9LHN0b3AoKXtNbigiaW52RGVjcnlwdCIpfSxhc3luYyBnZXRFbWJlZChlKXtsZXR7Ym9keTp0fT1hd2FpdCBTdC5wb3N0KHt1cmw6Ii91bmZ1cmxlci9lbWJlZC11cmxzIixib2R5Ont1cmxzOltlXX19KTtyZXR1cm4gYXdhaXQgdC5lbWJlZHNbMF19LGFzeW5jIGJ1aWxkRW1iZWQoZSx0KXtsZXQgbj10Lm1hdGNoKHRoaXMuVVJMX1JFR0VYKTtpZihlLmVtYmVkcy5wdXNoKHt0eXBlOiJyaWNoIix0aXRsZToiRGVjcnlwdGVkIE1lc3NhZ2UiLGNvbG9yOiIweDQ1ZjVmNSIsZGVzY3JpcHRpb246dCxmb290ZXI6e3RleHQ6Ik1hZGUgd2l0aCBcdTI3NjRcdUZFMEYgYnkgYzBkaW5lIGFuZCBTYW1teSEifX0pLG4/Lmxlbmd0aCl7bGV0IHI9YXdhaXQgdGhpcy5nZXRFbWJlZChuZXcgVVJMKG5bMF0pKTtyJiZlLmVtYmVkcy5wdXNoKHIpfXRoaXMudXBkYXRlTWVzc2FnZShlKX0sdXBkYXRlTWVzc2FnZTplPT57Ty5kaXNwYXRjaCh7dHlwZToiTUVTU0FHRV9VUERBVEUiLG1lc3NhZ2U6ZX0pfSxjaGF0QmFySWNvbjpELndyYXAoJE0se25vb3A6ITB9KSxwb3BPdmVySWNvbjooKT0+byhCTSxudWxsKSxpbmRpY2F0b3I6RC53cmFwKEZNLHtub29wOiEwfSl9KX0pO2Z1bmN0aW9uIGwxKGUsdCl7IXRlLmhhc0NoYW5uZWwodCl8fEpyLnRyYW5zaXRpb25UbyhgL2NoYW5uZWxzLyR7ZT8/IkBtZSJ9LyR7dH1gKX12YXIgeWEsb24sTHAsYzE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2xuKCk7UCgpO00oKTt3KCk7eWE9ITE7THA9dih7bmFtZToiS2VlcEN1cnJlbnRDaGFubmVsIixkZXNjcmlwdGlvbjoiQXR0ZW1wdCB0byBuYXZpZ2F0ZSB0byB0aGUgY2hhbm5lbCB5b3Ugd2VyZSBpbiBiZWZvcmUgc3dpdGNoaW5nIGFjY291bnRzIG9yIGxvYWRpbmcgRGlzY29yZC4iLGF1dGhvcnM6W20uTnVja3l6XSxmbHV4OntMT0dPVVQoZSl7KHtpc1N3aXRjaGluZ0FjY291bnQ6eWF9PWUpfSxDT05ORUNUSU9OX09QRU4oKXsheWF8fCh5YT0hMSxvbj8uY2hhbm5lbElkJiZsMShvbi5ndWlsZElkLG9uLmNoYW5uZWxJZCkpfSxhc3luYyBDSEFOTkVMX1NFTEVDVCh7Z3VpbGRJZDplLGNoYW5uZWxJZDp0fSl7eWF8fChvbj17Z3VpbGRJZDplLGNoYW5uZWxJZDp0fSxhd2FpdCBWZSgiS2VlcEN1cnJlbnRDaGFubmVsX3ByZXZpb3VzRGF0YSIsb24pKX19LGFzeW5jIHN0YXJ0KCl7b249YXdhaXQgV2UoIktlZXBDdXJyZW50Q2hhbm5lbF9wcmV2aW91c0RhdGEiKSxvbj9vbi5jaGFubmVsSWQmJmwxKG9uLmd1aWxkSWQsb24uY2hhbm5lbElkKToob249e2d1aWxkSWQ6Y28uZ2V0R3VpbGRJZCgpLGNoYW5uZWxJZDp4ZS5nZXRDaGFubmVsSWQoKT8/bnVsbH0sYXdhaXQgVmUoIktlZXBDdXJyZW50Q2hhbm5lbF9wcmV2aW91c0RhdGEiLG9uKSl9fSl9KTthc3luYyBmdW5jdGlvbiBFcChlKXtyZXR1cm4oYXdhaXQgak0uZ2V0QXNzZXQoRHAsW2Usdm9pZCAwXSkpWzBdfWZ1bmN0aW9uIFdNKGUpe08uZGlzcGF0Y2goe3R5cGU6IkxPQ0FMX0FDVElWSVRZX1VQREFURSIsYWN0aXZpdHk6ZSxzb2NrZXRJZDoiTGFzdEZNIn0pfXZhciBEcCxITSx1MSx6TSxqTSxQbixPcCxwMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3hvKCk7UCgpO01lKCk7TSgpO0YoKTt3KCk7RHA9IjExMDg1ODgwNzc5MDA4OTg0MTQiLEhNPSIyYTk2Y2JkOGI0NmU0NDJmYzQxYzJiODZiODIxNTYyZiIsdTE9bmV3IFYoIkxhc3RGTVJpY2hQcmVzZW5jZSIpLHpNPUMoImdldExvY2FsUHJlc2VuY2UiKSxqTT1ldCgiZ2V0QXNzZXRJbWFnZTogc2l6ZSBtdXN0ID09PSBbbnVtYmVyLCBudW1iZXJdIGZvciBUd2l0Y2giLHtnZXRBc3NldDpKLmJ5Q29kZSgiYXBwbHkoIil9KTtQbj1FKHt1c2VybmFtZTp7ZGVzY3JpcHRpb246Imxhc3QuZm0gdXNlcm5hbWUiLHR5cGU6MH0sYXBpS2V5OntkZXNjcmlwdGlvbjoibGFzdC5mbSBhcGkga2V5Iix0eXBlOjB9LHNoYXJlVXNlcm5hbWU6e2Rlc2NyaXB0aW9uOiJzaG93IGxpbmsgdG8gbGFzdC5mbSBwcm9maWxlIix0eXBlOjMsZGVmYXVsdDohMX0saGlkZVdpdGhTcG90aWZ5OntkZXNjcmlwdGlvbjoiaGlkZSBsYXN0LmZtIHByZXNlbmNlIGlmIHNwb3RpZnkgaXMgcnVubmluZyIsdHlwZTozLGRlZmF1bHQ6ITB9LHN0YXR1c05hbWU6e2Rlc2NyaXB0aW9uOiJ0ZXh0IHNob3duIGluIHN0YXR1cyIsdHlwZTowLGRlZmF1bHQ6InNvbWUgbXVzaWMifSx1c2VMaXN0ZW5pbmdTdGF0dXM6e2Rlc2NyaXB0aW9uOidzaG93ICJMaXN0ZW5pbmcgdG8iIHN0YXR1cyBpbnN0ZWFkIG9mICJQbGF5aW5nIicsdHlwZTozLGRlZmF1bHQ6ITF9LG1pc3NpbmdBcnQ6e2Rlc2NyaXB0aW9uOiJXaGVuIGFsYnVtIG9yIGFsYnVtIGFydCBpcyBtaXNzaW5nIix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJVc2UgbGFyZ2UgTGFzdC5mbSBsb2dvIix2YWx1ZToibGFzdGZtTG9nbyIsZGVmYXVsdDohMH0se2xhYmVsOiJVc2UgZ2VuZXJpYyBwbGFjZWhvbGRlciIsdmFsdWU6InBsYWNlaG9sZGVyIn1dfX0pLE9wPXYoe25hbWU6Ikxhc3RGTVJpY2hQcmVzZW5jZSIsZGVzY3JpcHRpb246IkxpdHRsZSBwbHVnaW4gZm9yIExhc3QuZm0gcmljaCBwcmVzZW5jZSIsYXV0aG9yczpbbS5kenNobixtLlJ1aU50RF0sc2V0dGluZ3NBYm91dENvbXBvbmVudDooKT0+byhkLG51bGwsbyhULkZvcm1UaXRsZSx7dGFnOiJoMyJ9LCJIb3cgdG8gZ2V0IGFuIEFQSSBrZXkiKSxvKFQuRm9ybVRleHQsbnVsbCwiQW4gQVBJIGtleSBpcyByZXF1aXJlZCB0byBmZXRjaCB5b3VyIGN1cnJlbnQgdHJhY2suIFRvIGdldCBvbmUsIHlvdSBjYW4gdmlzaXQgIixvKHJ0LHtocmVmOiJodHRwczovL3d3dy5sYXN0LmZtL2FwaS9hY2NvdW50L2NyZWF0ZSJ9LCJ0aGlzIHBhZ2UiKSwiIGFuZCBmaWxsIGluIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246ICIsbygiYnIiLG51bGwpLCIgIixvKCJiciIsbnVsbCksIkFwcGxpY2F0aW9uIG5hbWU6IERpc2NvcmQgUmljaCBQcmVzZW5jZSAiLG8oImJyIixudWxsKSwiQXBwbGljYXRpb24gZGVzY3JpcHRpb246IChwZXJzb25hbCB1c2UpICIsbygiYnIiLG51bGwpLCIgIixvKCJiciIsbnVsbCksIkFuZCBjb3B5IHRoZSBBUEkga2V5IChub3QgdGhlIHNoYXJlZCBzZWNyZXQhKSIpKSxzZXR0aW5nczpQbixzdGFydCgpe3RoaXMudXBkYXRlUHJlc2VuY2UoKSx0aGlzLnVwZGF0ZUludGVydmFsPXNldEludGVydmFsKCgpPT57dGhpcy51cGRhdGVQcmVzZW5jZSgpfSwxNmUzKX0sc3RvcCgpe2NsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCl9LGFzeW5jIGZldGNoVHJhY2tEYXRhKCl7aWYoIVBuLnN0b3JlLnVzZXJuYW1lfHwhUG4uc3RvcmUuYXBpS2V5KXJldHVybiBudWxsO3RyeXtsZXQgZT1uZXcgVVJMU2VhcmNoUGFyYW1zKHttZXRob2Q6InVzZXIuZ2V0cmVjZW50dHJhY2tzIixhcGlfa2V5OlBuLnN0b3JlLmFwaUtleSx1c2VyOlBuLnN0b3JlLnVzZXJuYW1lLGxpbWl0OiIxIixmb3JtYXQ6Impzb24ifSksdD1hd2FpdCBmKGBodHRwczovL3dzLmF1ZGlvc2Nyb2JibGVyLmNvbS8yLjAvPyR7ZX1gKTtpZighdC5vayl0aHJvd2Ake3Quc3RhdHVzfSAke3Quc3RhdHVzVGV4dH1gO2xldCBuPWF3YWl0IHQuanNvbigpO2lmKG4uZXJyb3IpcmV0dXJuIHUxLmVycm9yKCJFcnJvciBmcm9tIExhc3QuZm0gQVBJIixgJHtuLmVycm9yfTogJHtuLm1lc3NhZ2V9YCksbnVsbDtsZXQgcj1uLnJlY2VudHRyYWNrcz8udHJhY2tbMF07cmV0dXJuIHI/LlsiQGF0dHIiXT8ubm93cGxheWluZz97bmFtZTpyLm5hbWV8fCJVbmtub3duIixhbGJ1bTpyLmFsYnVtWyIjdGV4dCJdLGFydGlzdDpyLmFydGlzdFsiI3RleHQiXXx8IlVua25vd24iLHVybDpyLnVybCxpbWFnZVVybDpyLmltYWdlPy5maW5kKGk9Pmkuc2l6ZT09PSJsYXJnZSIpPy5bIiN0ZXh0Il19Om51bGx9Y2F0Y2goZSl7cmV0dXJuIHUxLmVycm9yKCJGYWlsZWQgdG8gcXVlcnkgTGFzdC5mbSBBUEkiLGUpLG51bGx9fSxhc3luYyB1cGRhdGVQcmVzZW5jZSgpe1dNKGF3YWl0IHRoaXMuZ2V0QWN0aXZpdHkoKSl9LGdldExhcmdlSW1hZ2UoZSl7aWYoZS5pbWFnZVVybCYmIWUuaW1hZ2VVcmwuaW5jbHVkZXMoSE0pKXJldHVybiBlLmltYWdlVXJsO2lmKFBuLnN0b3JlLm1pc3NpbmdBcnQ9PT0icGxhY2Vob2xkZXIiKXJldHVybiJwbGFjZWhvbGRlciJ9LGFzeW5jIGdldEFjdGl2aXR5KCl7aWYoUG4uc3RvcmUuaGlkZVdpdGhTcG90aWZ5KXtmb3IobGV0IGkgb2Ygek0uZ2V0QWN0aXZpdGllcygpKWlmKGkudHlwZT09PTImJmkuYXBwbGljYXRpb25faWQhPT1EcClyZXR1cm4gbnVsbH1sZXQgZT1hd2FpdCB0aGlzLmZldGNoVHJhY2tEYXRhKCk7aWYoIWUpcmV0dXJuIG51bGw7bGV0IHQ9dGhpcy5nZXRMYXJnZUltYWdlKGUpLG49dD97bGFyZ2VfaW1hZ2U6YXdhaXQgRXAodCksbGFyZ2VfdGV4dDplLmFsYnVtfHx2b2lkIDAsc21hbGxfaW1hZ2U6YXdhaXQgRXAoImxhc3RmbS1zbWFsbCIpLHNtYWxsX3RleHQ6Ikxhc3QuZm0ifTp7bGFyZ2VfaW1hZ2U6YXdhaXQgRXAoImxhc3RmbS1sYXJnZSIpLGxhcmdlX3RleHQ6ZS5hbGJ1bXx8dm9pZCAwfSxyPVt7bGFiZWw6IlZpZXcgU29uZyIsdXJsOmUudXJsfV07cmV0dXJuIFBuLnN0b3JlLnNoYXJlVXNlcm5hbWUmJnIucHVzaCh7bGFiZWw6Ikxhc3QuZm0gUHJvZmlsZSIsdXJsOmBodHRwczovL3d3dy5sYXN0LmZtL3VzZXIvJHtQbi5zdG9yZS51c2VybmFtZX1gfSkse2FwcGxpY2F0aW9uX2lkOkRwLG5hbWU6UG4uc3RvcmUuc3RhdHVzTmFtZSxkZXRhaWxzOmUubmFtZSxzdGF0ZTplLmFydGlzdCxhc3NldHM6bixidXR0b25zOnIubWFwKGk9PmkubGFiZWwpLG1ldGFkYXRhOntidXR0b25fdXJsczpyLm1hcChpPT5pLnVybCl9LHR5cGU6UG4uc3RvcmUudXNlTGlzdGVuaW5nU3RhdHVzPzI6MCxmbGFnczoxfX19KX0pO3ZhciBkMSxfcCxtMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtkMT1bIkV5cm9rYWMiLCJSZGNnJGxgJ2t8fm4iLCdIYHRmJGQmaWFqbytkYHsiJywiU3VjcXBsaGAoRWNsaHVhbHZhKCkmIiwiTG5jZ21rYSc4S05NREMsc2hwYW5mJ2B4Li8sIiwiSW9xd2Vpam5mbipJZXV2ZnZBb3RrZnhvLi8sIiwiSGR7I2NwXHg3RnQkKW5iZCF7bHElbWlnfipceDdGaGB2I21rJnNte2d4IG5kI2lkamIoYVx4N0ZmYW9cImJqYSZhbWRrZ2UhUmxvXHhFQ2toZiloeWVkZmpqYionXmh6ZHJkbW0kbHUnfGFvK21ucXckZmlqeGh+YmJtZyNUam1ceEVFZWZkK2ZucCNscGtmZno1IiwiaCIsYHNpamtsbSZjYW0qcm90ImhqanEnfGFrXHg3RiB4bXYjd2MnZXAqbWF3bXZ2bHJiKHx5bnI+IkFxcSZjZ2ctXHg3RiB1Z29oJXJvbSllXHg3RmhkcHAlJGAsJ1RuZmJ9InVcJ35gbm5vIWtwJHZ2aGZ6ZXllZSJhfSVUZmFtKlhoYGZscyVKYm9sZG9zLSJsamAmaG4pfmNlIWBqY2JjdHwpZ2RiaG5mJHdpa20kemdheGttYyVhZmVseStvZyIxNDQ/XCdpZ24raXUlcCRxaXNpZWZyIGdwZmEkJywiTmR0ZnYlYWhmZ2srZ2h0ZiR8aXIofHonIE9ndWF3JmBnZ2RqIG1ndyR8aXIobWV8biIsIighXHUwMzYzXHhCMyRcdTAzNTlcdTAyOTAnXHUwMzY5XHhCOSMiLCIoXHVGRjg4XHUyNUQ3XHUzMEVEXHUyNUQxLFx1RkY4Ri0yXHVGRjZDXHVGRjk1XHUyNzJDIiwiWW53I2hqaWwoemUrcHNnd3B8JnNnbWtyISIsIlRpa21vbGhgKGZsK2EhZHZqa1x4N0YneXxlXHg3RmUvLC0iLCIzLzM3NTA/NT48OT44ODU6NyIsIm1kbXQiLCJXZG5ga2hjKyhveGJlb2YiLCJJZ1wiemtwKidneyp4b2xnbGpgJn5nfCpnb3dnLyRtZ3QoRWNsbWAuI3RpY2Z7bCp4ZWRcIndsYCZLYW5naiBpZ2JocW4nZGBkbiBgdiNscXJ3ezMlJGJodi1ofClrYW5nal9pbXdobGhiIiwiVHNjbXclVG5vYX54IiwnSVx1MjAxOGYjbnB1cyhlY2BlIXZsJGxoc217YG5jdSJla3cmZihkZWZlb3YtJFJuZnwpc2R1XHUyMDE4cGYkd2NhbXtjZWchdmwkZHVcJ0RgZH54LSJqdyVvaShva2h0LSJESlApS2FnXHg3RnMsIW1xJGR1XCdBXHUyMDEwfG4gc2dgYWtya3EpfmprZGwjcGomZGllZmJuZiJqcCkmQEZcXCp7bHRxI0hsaHJwXCcnLCJZbnckdmAmY2dgZGwgZm1sYCVyaGxocyoiLCJEbmwkcCVxaHp7cycgaHYkdyVoaHxhY2VnITsjZ3B2dChmbCtjbmRlYWAmZGd8Zm9uJnYjd2pqcW0oIiwiXHVEODNEKXBmdGBncyhlY2BlITEzJHFvam16IyIsYGEhbmpjbXInaWRlfm51ImxiJXJoZW9lZGxkcHokbHUnZ2JrcmAsJ2RuInprcCZrZ1x4N0ZvNCcsImhucHFrdyIsJ3NuImZhdVx4N0YnLCdTbiJ0bXFuaH19Km11c3ZrYXcmZmxmJitsZHYkdyVscnt9KmF1bHIjdmxhb3wpY2V0biJqcCQnLCJEeGttYyVvdChoaHhvbXd3YWlceDdGJ3tobG4iLGBoZHsjfWpzJihwZX4nc2cjZ3ByYigzIyJgLCJoZHtiJHsiLCI8O3Zxa2lqYnEzMzI3MTo1NjwzNzk5PzI0OTQ0OiIsYFRob2YkbHUnb2ZkbiwhcXNlZmMnYXoqYm5yY21hKyZPbXtvK2l1Ilxga2hjdCQpYm5yZCJiY2RvaSZgLCJzbm9mcGxrYnspY1x4N0YnclwibG9kXHg3Rid8ZiphdXJ2I2Nwbm9gYWJjaGlqa2xtbm8iXSxfcD12KHtuYW1lOiJMb2FkaW5nUXVvdGVzIixkZXNjcmlwdGlvbjoiUmVwbGFjZSBEaXNjb3JkcyBsb2FkaW5nIHF1b3RlcyIsYXV0aG9yczpbbS5WZW4sbS5LcmFYZW43Ml0scGF0Y2hlczpbe2ZpbmQ6Ii5MT0FESU5HX0RJRF9ZT1VfS05PVyIscmVwbGFjZW1lbnQ6e21hdGNoOi9cLl9sb2FkaW5nVGV4dD0uKz9yYW5kb21cKC4rPzsvcyxyZXBsYWNlOiIuX2xvYWRpbmdUZXh0PSRzZWxmLnF1b3RlOyJ9fV0seG9yKGUpe2xldCB0PSJyZWFkIGlmIGN1dGUiLG49QXJyYXkuZnJvbShlLChyLGkpPT5yLmNoYXJDb2RlQXQoMCleaSV0Lmxlbmd0aCk7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubil9LGdldCBxdW90ZSgpe3JldHVybiB0aGlzLnhvcihkMVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZDEubGVuZ3RoKV0pfX0pfSk7ZnVuY3Rpb24gcU0oKXtsZXR7aWQ6ZSxndWlsZF9pZDp0fT1xZShbeGVdLCgpPT5kcigpKSx7Z3JvdXBzOm59PXFlKFtnMV0sKCk9PmcxLmdldFByb3BzKHQsZSkpLHI9cWUoW2YxXSwoKT0+ZjEuZ2V0TWVtYmVyQ291bnQodCkpO2lmKHI9PW51bGwpcmV0dXJuIG51bGw7bGV0IGk9bi5sZW5ndGg9PT0xJiZuWzBdLmlkPT09InVua25vd24iPzA6bi5yZWR1Y2UoKHMsYyk9PnMrKGMuaWQ9PT0ib2ZmbGluZSI/MDpjLmNvdW50KSwwKTtyZXR1cm4gbyhjZSx7aWQ6InZjLW1lbWJlcmNvdW50IixzdHlsZTp7bWFyZ2luVG9wOiIxZW0iLG1hcmdpbkJvdHRvbToiLS41ZW0iLHBhZGRpbmdJbmxpbmU6IjFlbSIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsYWxpZ25Db250ZW50OiJjZW50ZXIiLGdhcDowfX0sbyhYLHt0ZXh0OmAke2l9IE9ubGluZSBpbiB0aGlzIENoYW5uZWxgLHBvc2l0aW9uOiJib3R0b20ifSxzPT5vKCJkaXYiLHsuLi5zfSxvKCJzcGFuIix7c3R5bGU6e2JhY2tncm91bmRDb2xvcjoidmFyKC0tZ3JlZW4tMzYwKSIsd2lkdGg6IjEycHgiLGhlaWdodDoiMTJweCIsYm9yZGVyUmFkaXVzOiI1MCUiLGRpc3BsYXk6ImlubGluZS1ibG9jayIsbWFyZ2luUmlnaHQ6IjAuNWVtIn19KSxvKCJzcGFuIix7c3R5bGU6e2NvbG9yOiJ2YXIoLS1ncmVlbi0zNjApIn19LGkpKSksbyhYLHt0ZXh0OmAke3J9IFRvdGFsIFNlcnZlciBNZW1iZXJzYCxwb3NpdGlvbjoiYm90dG9tIn0scz0+bygiZGl2Iix7Li4uc30sbygic3BhbiIse3N0eWxlOnt3aWR0aDoiNnB4IixoZWlnaHQ6IjZweCIsYm9yZGVyUmFkaXVzOiI1MCUiLGJvcmRlcjoiM3B4IHNvbGlkIHZhcigtLXByaW1hcnktNDAwKSIsZGlzcGxheToiaW5saW5lLWJsb2NrIixtYXJnaW5SaWdodDoiMC41ZW0iLG1hcmdpbkxlZnQ6IjFlbSJ9fSksbygic3BhbiIse3N0eWxlOntjb2xvcjoidmFyKC0tcHJpbWFyeS00MDApIn19LHIpKSkpfXZhciBmMSxnMSxCcCxoMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTtidCgpO1AoKTthdCgpO00oKTtGKCk7dygpO2YxPWxlKCJHdWlsZE1lbWJlckNvdW50U3RvcmUiKSxnMT1sZSgiQ2hhbm5lbE1lbWJlclN0b3JlIik7QnA9dih7bmFtZToiTWVtYmVyQ291bnQiLGRlc2NyaXB0aW9uOiJTaG93cyB0aGUgYW1vdW50IG9mIG9ubGluZSAmIHRvdGFsIG1lbWJlcnMgaW4gdGhlIHNlcnZlciBtZW1iZXIgbGlzdCIsYXV0aG9yczpbbS5WZW4sbS5Db21tYW5kdGVjaG5vXSxwYXRjaGVzOlt7ZmluZDoiLmlzU2lkZWJhclZpc2libGUsIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyh2YXIgKFxpKT1caVwuY2xhc3NOYW1lLis/Y2hpbGRyZW4pOlxbKFxpXC51c2VNZW1vW159XSsiYXJpYS1tdWx0aXNlbGVjdGFibGUiKS8scmVwbGFjZToiJDE6WyQyPy5zdGFydHNXaXRoKCdtZW1iZXJzJyk/JHNlbGYucmVuZGVyKCk6bnVsbCwkMyJ9fV0scmVuZGVyOkQud3JhcChxTSx7bm9vcDohMH0pfSl9KTt2YXIgRnAseTEsdjEsS00sTmksJHAsUzE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRuKCk7VSgpO1AoKTtNKCk7RigpO3coKTtGcD0hMSx5MT1lPT5lLmtleT09PSJCYWNrc3BhY2UiJiYoRnA9ITApLHYxPWU9PmUua2V5PT09IkJhY2tzcGFjZSImJihGcD0hMSksS009MW48PDRuLE5pPUUoe2VuYWJsZURlbGV0ZU9uQ2xpY2s6e3R5cGU6MyxkZXNjcmlwdGlvbjoiRW5hYmxlIGRlbGV0ZSBvbiBjbGljayIsZGVmYXVsdDohMH0sZW5hYmxlRG91YmxlQ2xpY2tUb0VkaXQ6e3R5cGU6MyxkZXNjcmlwdGlvbjoiRW5hYmxlIGRvdWJsZSBjbGljayB0byBlZGl0IixkZWZhdWx0OiEwfSxlbmFibGVEb3VibGVDbGlja1RvUmVwbHk6e3R5cGU6MyxkZXNjcmlwdGlvbjoiRW5hYmxlIGRvdWJsZSBjbGljayB0byByZXBseSIsZGVmYXVsdDohMH0scmVxdWlyZU1vZGlmaWVyOnt0eXBlOjMsZGVzY3JpcHRpb246Ik9ubHkgZG8gZG91YmxlIGNsaWNrIGFjdGlvbnMgd2hlbiBzaGlmdC9jdHJsIGlzIGhlbGQiLGRlZmF1bHQ6ITF9fSksJHA9dih7bmFtZToiTWVzc2FnZUNsaWNrQWN0aW9ucyIsZGVzY3JpcHRpb246IkhvbGQgQmFja3NwYWNlIGFuZCBjbGljayB0byBkZWxldGUsIGRvdWJsZSBjbGljayB0byBlZGl0L3JlcGx5IixhdXRob3JzOlttLlZlbl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZUV2ZW50c0FQSSJdLHNldHRpbmdzOk5pLHN0YXJ0KCl7bGV0IGU9QygiZGVsZXRlTWVzc2FnZSIsInN0YXJ0RWRpdE1lc3NhZ2UiKSx0PUMoImlzRWRpdGluZyIsImlzRWRpdGluZ0FueSIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHkxKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdjEpLHRoaXMub25DbGljaz1PdSgobixyLGkpPT57bGV0IHM9bi5hdXRob3IuaWQ9PT1HLmdldEN1cnJlbnRVc2VyKCkuaWQ7aWYoRnApTmkuc3RvcmUuZW5hYmxlRGVsZXRlT25DbGljayYmKHN8fEJlLmNhbihLTSxyKSkmJihuLmRlbGV0ZWQ/Ty5kaXNwYXRjaCh7dHlwZToiTUVTU0FHRV9ERUxFVEUiLGNoYW5uZWxJZDpyLmlkLGlkOm4uaWQsbWxEZWxldGVkOiEwfSk6ZS5kZWxldGVNZXNzYWdlKHIuaWQsbi5pZCksaS5wcmV2ZW50RGVmYXVsdCgpKTtlbHNle2lmKGkuZGV0YWlsPDJ8fE5pLnN0b3JlLnJlcXVpcmVNb2RpZmllciYmIWkuY3RybEtleSYmIWkuc2hpZnRLZXkpcmV0dXJuO2lmKHMpe2lmKCFOaS5zdG9yZS5lbmFibGVEb3VibGVDbGlja1RvRWRpdHx8dC5pc0VkaXRpbmcoci5pZCxuLmlkKSlyZXR1cm47ZS5zdGFydEVkaXRNZXNzYWdlKHIuaWQsbi5pZCxuLmNvbnRlbnQpLGkucHJldmVudERlZmF1bHQoKX1lbHNle2lmKCFOaS5zdG9yZS5lbmFibGVEb3VibGVDbGlja1RvUmVwbHkpcmV0dXJuO08uZGlzcGF0Y2goe3R5cGU6IkNSRUFURV9QRU5ESU5HX1JFUExZIixjaGFubmVsOnIsbWVzc2FnZTpuLHNob3VsZE1lbnRpb246IWsucGx1Z2lucy5Ob1JlcGx5TWVudGlvbi5lbmFibGVkLHNob3dNZW50aW9uVG9nZ2xlOnIuZ3VpbGRfaWQhPT1udWxsfSl9fX0pfSxzdG9wKCl7X3UodGhpcy5vbkNsaWNrKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix5MSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHYxKX19KX0pO3ZhciBHcD17fTtTZShHcCx7X21vZGlmeUFjY2Vzc29yaWVzOigpPT5ZTSxhY2Nlc3NvcmllczooKT0+dmEsYWRkQWNjZXNzb3J5OigpPT5SaSxyZW1vdmVBY2Nlc3Nvcnk6KCk9PlVwfSk7ZnVuY3Rpb24gUmkoZSx0LG4pe3ZhLnNldChlLHtjYWxsYmFjazp0LHBvc2l0aW9uOm59KX1mdW5jdGlvbiBVcChlKXt2YS5kZWxldGUoZSl9ZnVuY3Rpb24gWU0oZSx0KXtmb3IobGV0IG4gb2YgdmEudmFsdWVzKCkpe2xldCByPW4uY2FsbGJhY2sodCk7aWYociE9bnVsbCl7aWYoIUFycmF5LmlzQXJyYXkocikpcj1bcl07ZWxzZSBpZihyLmxlbmd0aD09PTApY29udGludWU7ZS5zcGxpY2Uobi5wb3NpdGlvbiE9bnVsbD9uLnBvc2l0aW9uPDA/ZS5sZW5ndGgrbi5wb3NpdGlvbjpuLnBvc2l0aW9uOmUubGVuZ3RoLDAsLi4uci5maWx0ZXIoaT0+aSE9bnVsbCkpfX1yZXR1cm4gZX12YXIgdmEsU2E9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3ZhPW5ldyBNYXB9KTthc3luYyBmdW5jdGlvbiBRTShlLHQpe2xldCBuPVByLmdldCh0KTtpZihuKXJldHVybiBuLm1lc3NhZ2U7UHIuc2V0KHQse2ZldGNoZWQ6ITF9KTtsZXQgaT0oYXdhaXQgU3QuZ2V0KHt1cmw6YC9jaGFubmVscy8ke2V9L21lc3NhZ2VzYCxxdWVyeTp7bGltaXQ6MSxhcm91bmQ6dH0scmV0cmllczoyfSkuY2F0Y2goKCk9Pm51bGwpKT8uYm9keT8uWzBdO2lmKCFpKXJldHVybjtsZXQgcz1mbi5nZXRNZXNzYWdlcyhpLmNoYW5uZWxfaWQpLnJlY2VpdmVNZXNzYWdlKGkpLmdldChpLmlkKTtyZXR1cm4gUHIuc2V0KHMuaWQse21lc3NhZ2U6cyxmZXRjaGVkOiEwfSksc31mdW5jdGlvbiBWTShlKXtsZXQgdD1bXTtmb3IobGV0e2NvbnRlbnRfdHlwZTpuLGhlaWdodDpyLHdpZHRoOmksdXJsOnMscHJveHlfdXJsOmN9b2YgZS5hdHRhY2htZW50cz8/W10pbj8uc3RhcnRzV2l0aCgiaW1hZ2UvIikmJnQucHVzaCh7aGVpZ2h0OnIsd2lkdGg6aSx1cmw6cyxwcm94eVVSTDpjfSk7Zm9yKGxldHt0eXBlOm4saW1hZ2U6cix0aHVtYm5haWw6aSx1cmw6c31vZiBlLmVtYmVkcz8/W10pbj09PSJpbWFnZSI/dC5wdXNoKHsuLi5yPz9pfSk6cyYmbj09PSJnaWZ2IiYmIXgxLnRlc3QocykmJnQucHVzaCh7aGVpZ2h0OmkuaGVpZ2h0LHdpZHRoOmkud2lkdGgsdXJsOnN9KTtyZXR1cm4gdH1mdW5jdGlvbiBlUChlLHQpe3JldHVybiFlJiYhdD8iIjplP3Q/YFtubyBjb250ZW50LCAke2V9IGF0dGFjaG1lbnQke2UhPT0xPyJzIjoiIn0gYW5kICR7dH0gZW1iZWQke3QhPT0xPyJzIjoiIn1dYDpgW25vIGNvbnRlbnQsICR7ZX0gYXR0YWNobWVudCR7ZSE9PTE/InMiOiIifV1gOmBbbm8gY29udGVudCwgJHt0fSBlbWJlZCR7dCE9PTE/InMiOiIifV1gfWZ1bmN0aW9uIHRQKGUpe3JldHVybiEhKGUuY29tcG9uZW50cy5sZW5ndGh8fGUuYXR0YWNobWVudHMuc29tZSh0PT4hdC5jb250ZW50X3R5cGU/LnN0YXJ0c1dpdGgoImltYWdlLyIpKXx8ZS5lbWJlZHMuc29tZSh0PT50LnR5cGUhPT0iaW1hZ2UiJiYodC50eXBlIT09ImdpZnYifHx4MS50ZXN0KHQudXJsKSkpKX1mdW5jdGlvbiBuUChlLHQpe2lmKGU+dCl7bGV0IHM9TWF0aC5taW4oZSw0MDApO3JldHVybnt3aWR0aDpzLGhlaWdodDpNYXRoLnJvdW5kKHQvKGUvcykpfX1sZXQgaT1NYXRoLm1pbih0LDMwMCk7cmV0dXJue3dpZHRoOk1hdGgucm91bmQoZS8odC9pKSksaGVpZ2h0Oml9fWZ1bmN0aW9uIG9QKGUsdCl7cmV0dXJuIG5ldyBQcm94eShlLHtnZXQobixyKXtyZXR1cm4gcj09PSJ2ZW5jb3JkRW1iZWRkZWRCeSI/dDpSZWZsZWN0LmdldCguLi5hcmd1bWVudHMpfX0pfWZ1bmN0aW9uIHJQKHttZXNzYWdlOmV9KXtsZXQgdD1lLnZlbmNvcmRFbWJlZGRlZEJ5Pz9bXSxuPVtdLHI9bnVsbDtmb3IoOyhyPUhwLmV4ZWMoZS5jb250ZW50KSkhPT1udWxsOyl7bGV0W2kscyxjLHVdPXI7aWYodC5pbmNsdWRlcyh1KSljb250aW51ZTtsZXQgcD10ZS5nZXRDaGFubmVsKGMpO2lmKCFwfHxzIT09IkBtZSImJiFCZS5jYW4oMTAyNG4scCkpY29udGludWU7bGV0e2xpc3RNb2RlOnksaWRMaXN0Omh9PWJhLnN0b3JlLFM9W3MsYyxlLmF1dGhvci5pZF0uc29tZShOPT5OJiZoLmluY2x1ZGVzKE4pKTtpZih5PT09ImJsYWNrbGlzdCImJlN8fHk9PT0id2hpdGVsaXN0IiYmIVMpY29udGludWU7bGV0IGI9UHIuZ2V0KHUpPy5tZXNzYWdlO2lmKCFiKWlmKGI/Pz1mbi5nZXRNZXNzYWdlKGMsdSksYilQci5zZXQodSx7bWVzc2FnZTpiLGZldGNoZWQ6ITB9KTtlbHNle2xldCBOPXsuLi5lfTtkZWxldGUgTi5lbWJlZHMsZGVsZXRlIE4uaW50ZXJhY3Rpb24sSk0ucHVzaCgoKT0+UU0oYyx1KS50aGVuKEk9PkkmJk8uZGlzcGF0Y2goe3R5cGU6Ik1FU1NBR0VfVVBEQVRFIixtZXNzYWdlOk59KSkpO2NvbnRpbnVlfWxldCB4PXttZXNzYWdlOm9QKGIsWy4uLnQsZS5pZF0pLGNoYW5uZWw6cCxndWlsZElEOnN9LEE9YmEuc3RvcmUuYXV0b21vZEVtYmVkcztuLnB1c2goQT09PSJhbHdheXMifHxBPT09InByZWZlciImJiF0UChiKT9vKHNQLHsuLi54fSk6byhpUCx7Li4ueH0pKX1yZXR1cm4gbi5sZW5ndGg/byhkLG51bGwsbik6bnVsbH1mdW5jdGlvbiBpUCh7bWVzc2FnZTplLGNoYW5uZWw6dCxndWlsZElEOm59KXtsZXQgcj1uPT09IkBtZSIsaT0hciYmbWUuZ2V0R3VpbGQodC5ndWlsZF9pZCkscz1HLmdldFVzZXIodGUuZ2V0Q2hhbm5lbCh0LmlkKS5yZWNpcGllbnRzPy5bMF0pO3JldHVybiBvKFpNLHtlbWJlZDp7cmF3RGVzY3JpcHRpb246IiIsY29sb3I6InZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSIsYXV0aG9yOntuYW1lOm8oZWUse3ZhcmlhbnQ6InRleHQteHMvbWVkaXVtIix0YWc6InNwYW4ifSxvKCJzcGFuIixudWxsLHI/IkRpcmVjdCBNZXNzYWdlIC0gIjppLm5hbWUrIiAtICIpLHI/QWUucGFyc2UoYDxAJHtzLmlkfT5gKTpBZS5wYXJzZShgPCMke3QuaWR9PmApKSxpY29uUHJveHlVUkw6aT9gaHR0cHM6Ly8ke3Vuc2FmZVdpbmRvdy5HTE9CQUxfRU5WLkNETl9IT1NUfS9pY29ucy8ke2kuaWR9LyR7aS5pY29ufS5wbmdgOmBodHRwczovLyR7dW5zYWZlV2luZG93LkdMT0JBTF9FTlYuQ0ROX0hPU1R9L2F2YXRhcnMvJHtzLmlkfS8ke3MuYXZhdGFyfWB9fSxyZW5kZXJEZXNjcmlwdGlvbjooKT0+bygiZGl2Iix7a2V5OmUuaWQsY2xhc3NOYW1lOlEoYjEubWVzc2FnZSxiYS5zdG9yZS5tZXNzYWdlQmFja2dyb3VuZENvbG9yJiZiMS5zZWFyY2hSZXN1bHQpfSxvKFhNLHtpZDpgbWVzc2FnZS1saW5rLWVtYmVkcy0ke2UuaWR9YCxtZXNzYWdlOmUsY2hhbm5lbDp0LHN1YnNjcmliZVRvQ29tcG9uZW50RGlzcGF0Y2g6ITF9KSl9KX1mdW5jdGlvbiBzUChlKXtsZXR7bWVzc2FnZTp0LGNoYW5uZWw6bixndWlsZElEOnJ9PWUsaT1yPT09IkBtZSIscz1WTSh0KSx7cGFyc2U6Y309QWU7cmV0dXJuIG8oVDEse2NoYW5uZWw6bixjaGlsZHJlbkFjY2Vzc29yaWVzOm8oZWUse2NvbG9yOiJ0ZXh0LW11dGVkIix2YXJpYW50OiJ0ZXh0LXhzL21lZGl1bSIsdGFnOiJzcGFuIn0sYyhpP2A8QCR7dGUuZ2V0Q2hhbm5lbChuLmlkKS5yZWNpcGllbnRzWzBdfT5gOmA8IyR7bi5pZH0+YCksbygic3BhbiIsbnVsbCxpPyIgLSBEaXJlY3QgTWVzc2FnZSI6IiAtICIrbWUuZ2V0R3VpbGQobi5ndWlsZF9pZCk/Lm5hbWUpKSxjb21wYWN0OiExLGNvbnRlbnQ6byhkLG51bGwsdC5jb250ZW50fHx0LmF0dGFjaG1lbnRzLmxlbmd0aDw9cy5sZW5ndGg/Yyh0LmNvbnRlbnQpOltlUCh0LmF0dGFjaG1lbnRzLmxlbmd0aCx0LmVtYmVkcy5sZW5ndGgpXSxzLm1hcCh1PT57bGV0e3dpZHRoOnAsaGVpZ2h0Onl9PW5QKHUud2lkdGgsdS5oZWlnaHQpO3JldHVybiBvKCJkaXYiLG51bGwsbygiaW1nIix7c3JjOnUudXJsLHdpZHRoOnAsaGVpZ2h0Onl9KSl9KSksaGlkZVRpbWVzdGFtcDohMSxtZXNzYWdlOnQsX21lc3NhZ2VFbWJlZDoiYXV0b21vZCJ9KX12YXIgUHIsWk0sWE0sYjEsVDEsSHAseDEsSk0sYmEsenAsdzE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1NhKCk7VSgpO3NlKCk7UCgpO2dlKCk7bXIoKTtoZSgpO00oKTtGKCk7dygpO1ByPW5ldyBNYXAsWk09cmUoKCk9PkhlKCIuaW5saW5lTWVkaWFFbWJlZCIpKSxYTT1yZSgoKT0+cXQoZT0+ZS50eXBlPy50b1N0cmluZygpPy5pbmNsdWRlcygnWyJtZXNzYWdlIiwiY29tcGFjdCIsImNsYXNzTmFtZSIsJykpKSxiMT1DKCJtZXNzYWdlIiwic2VhcmNoUmVzdWx0IiksVDE9KCk9Pm51bGwsSHA9Lyg/PCE8KWh0dHBzPzpcL1wvKD86XHcrXC4pP2Rpc2NvcmQoPzphcHApP1wuY29tXC9jaGFubmVsc1wvKFxkezE3LDIwfXxAbWUpXC8oXGR7MTcsMjB9KVwvKFxkezE3LDIwfSkvZyx4MT0vXmh0dHBzOlwvXC8oPzp3d3dcLik/dGVub3JcLmNvbVwvLyxKTT1uZXcgdm4sYmE9RSh7bWVzc2FnZUJhY2tncm91bmRDb2xvcjp7ZGVzY3JpcHRpb246IkJhY2tncm91bmQgY29sb3IgZm9yIG1lc3NhZ2VzIGluIHJpY2ggZW1iZWRzIix0eXBlOjN9LGF1dG9tb2RFbWJlZHM6e2Rlc2NyaXB0aW9uOiJVc2UgYXV0b21vZCBlbWJlZHMgaW5zdGVhZCBvZiByaWNoIGVtYmVkcyAoc21hbGxlciBidXQgbGVzcyBpbmZvKSIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiQWx3YXlzIHVzZSBhdXRvbW9kIGVtYmVkcyIsdmFsdWU6ImFsd2F5cyJ9LHtsYWJlbDoiUHJlZmVyIGF1dG9tb2QgZW1iZWRzLCBidXQgdXNlIHJpY2ggZW1iZWRzIGlmIHNvbWUgY29udGVudCBjYW4ndCBiZSBzaG93biIsdmFsdWU6InByZWZlciJ9LHtsYWJlbDoiTmV2ZXIgdXNlIGF1dG9tb2QgZW1iZWRzIix2YWx1ZToibmV2ZXIiLGRlZmF1bHQ6ITB9XX0sbGlzdE1vZGU6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHVzZSBJRCBsaXN0IGFzIGJsYWNrbGlzdCBvciB3aGl0ZWxpc3QiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IkJsYWNrbGlzdCIsdmFsdWU6ImJsYWNrbGlzdCIsZGVmYXVsdDohMH0se2xhYmVsOiJXaGl0ZWxpc3QiLHZhbHVlOiJ3aGl0ZWxpc3QifV19LGlkTGlzdDp7ZGVzY3JpcHRpb246Ikd1aWxkL2NoYW5uZWwvdXNlciBJRHMgdG8gYmxhY2tsaXN0IG9yIHdoaXRlbGlzdCAoc2VwYXJhdGUgd2l0aCBjb21tYSkiLHR5cGU6MCxkZWZhdWx0OiIifSxjbGVhck1lc3NhZ2VDYWNoZTp7dHlwZTo2LGRlc2NyaXB0aW9uOiJDbGVhciB0aGUgbGlua2VkIG1lc3NhZ2UgY2FjaGUiLGNvbXBvbmVudDooKT0+byhSLHtvbkNsaWNrOigpPT5Qci5jbGVhcigpfSwiQ2xlYXIgdGhlIGxpbmtlZCBtZXNzYWdlIGNhY2hlIil9fSk7enA9dih7bmFtZToiTWVzc2FnZUxpbmtFbWJlZHMiLGRlc2NyaXB0aW9uOiJBZGRzIGEgcHJldmlldyB0byBtZXNzYWdlcyB0aGF0IGxpbmsgYW5vdGhlciBtZXNzYWdlIixhdXRob3JzOlttLlRoZVN1bixtLlZlbixtLlJ5YW5DYW9EZXZdLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VBY2Nlc3Nvcmllc0FQSSJdLHBhdGNoZXM6W3tmaW5kOiIuZW1iZWRDYXJkIixyZXBsYWNlbWVudDpbe21hdGNoOi9mdW5jdGlvbiAoXGkpXChcaVwpe3ZhciBcaT1caVwubWVzc2FnZSxcaT1caVwuY2hhbm5lbC57MCwyMDB9XC5oaWRlVGltZXN0YW1wLyxyZXBsYWNlOiIkc2VsZi5BdXRvTW9kRW1iZWQ9JDE7JCYifV19XSxzZXQgQXV0b01vZEVtYmVkKGUpe1QxPWV9LHNldHRpbmdzOmJhLHN0YXJ0KCl7UmkoIm1lc3NhZ2VMaW5rRW1iZWQiLGU9PkhwLnRlc3QoZS5tZXNzYWdlLmNvbnRlbnQpPyhIcC5sYXN0SW5kZXg9MCxvKEQsbnVsbCxvKHJQLHttZXNzYWdlOmUubWVzc2FnZX0pKSk6bnVsbCw0KX19KX0pO3ZhciBNMT1nKCgpPT57fSk7dmFyIGpwLFAxPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvbWVzc2FnZUxvZ2dlci9kZWxldGVTdHlsZU92ZXJsYXkuY3NzIix7bmFtZToic3JjL3BsdWdpbnMvbWVzc2FnZUxvZ2dlci9kZWxldGVTdHlsZU92ZXJsYXkuY3NzIixzb3VyY2U6YC5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDAgNzEgNzEgLyAxNSUpICFpbXBvcnRhbnQ7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7anA9InNyYy9wbHVnaW5zL21lc3NhZ2VMb2dnZXIvZGVsZXRlU3R5bGVPdmVybGF5LmNzcyJ9KTt2YXIgV3AsSTE9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MiLHNvdXJjZTpgLyogTWVzc2FnZSBjb250ZW50IGhpZ2hsaWdodGluZyAqLwoubWVzc2FnZWxvZ2dlci1kZWxldGVkIFtjbGFzcyo9ImNvbnRlbnRzLSJdID4gOmlzKGRpdiwgaDEsIGgyLCBoMywgcCkgewogICAgY29sb3I6ICNmMDQ3NDcgIWltcG9ydGFudDsKfQoKLyogRW1iZWQgaGlnaGxpZ2h0aW5nICovCi5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgYXJ0aWNsZSA6aXMoZGl2LCBzcGFuLCBoMSwgaDIsIGgzLCBwKSB7CiAgICBjb2xvcjogI2YwNDc0NyAhaW1wb3J0YW50Owp9CgoubWVzc2FnZWxvZ2dlci1kZWxldGVkIGEgewogICAgY29sb3I6ICNiZTM1MzUgIWltcG9ydGFudDsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9CmAsY2xhc3NOYW1lczp7fSxkb206bnVsbH0pO1dwPSJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MifSk7ZnVuY3Rpb24gQzEoKXtrLnBsdWdpbnMuTWVzc2FnZUxvZ2dlci5kZWxldGVTdHlsZT09PSJ0ZXh0Ij8ob3QoV3ApLGt0KGpwKSk6KGt0KFdwKSxvdChqcCkpfXZhciBhUCxOMSxSMSxrMSxxcCxBMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TTEoKTtUdCgpO1UoKTtPZSgpO3NlKCk7UCgpO01lKCk7TSgpO0YoKTt3KCk7UDEoKTtJMSgpO2FQPUMoImVkaXRlZCIsImNvbW11bmljYXRpb25EaXNhYmxlZCIsImlzU3lzdGVtTWVzc2FnZSIpO04xPSJtbC1yZW1vdmUtaGlzdG9yeSIsUjE9Im1sLXRvZ2dsZS1zdHlsZSIsazE9KGUsdCk9PigpPT57bGV0e21lc3NhZ2U6bn09dCx7ZGVsZXRlZDpyLGVkaXRIaXN0b3J5OmksaWQ6cyxjaGFubmVsX2lkOmN9PW47aWYoIXImJiFpPy5sZW5ndGgpcmV0dXJuO2U6e2lmKCFyKWJyZWFrIGU7bGV0IHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoYXQtbWVzc2FnZXMtJHtjfS0ke3N9YCk7aWYoIXUpYnJlYWsgZTtlLnB1c2gobyhCLk1lbnVJdGVtLHtpZDpSMSxrZXk6UjEsbGFiZWw6IlRvZ2dsZSBEZWxldGVkIEhpZ2hsaWdodCIsYWN0aW9uOigpPT51LmNsYXNzTGlzdC50b2dnbGUoIm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCIpfSkpfWUucHVzaChvKEIuTWVudUl0ZW0se2lkOk4xLGtleTpOMSxsYWJlbDoiUmVtb3ZlIE1lc3NhZ2UgSGlzdG9yeSIsY29sb3I6ImRhbmdlciIsYWN0aW9uOigpPT57cj9PLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX0RFTEVURSIsY2hhbm5lbElkOmMsaWQ6cyxtbERlbGV0ZWQ6ITB9KTpuLmVkaXRIaXN0b3J5PVtdfX0pKX0scXA9dih7bmFtZToiTWVzc2FnZUxvZ2dlciIsZGVzY3JpcHRpb246IlRlbXBvcmFyaWx5IGxvZ3MgZGVsZXRlZCBhbmQgZWRpdGVkIG1lc3NhZ2VzLiIsYXV0aG9yczpbbS5ydXNoaWksbS5WZW5dLHN0YXJ0KCl7QzEoKSxkZSgibWVzc2FnZSIsazEpfSxzdG9wKCl7ZmUoIm1lc3NhZ2UiLGsxKX0scmVuZGVyRWRpdChlKXtyZXR1cm4gbyhELHtub29wOiEwfSxvKCJkaXYiLHtjbGFzc05hbWU6Im1lc3NhZ2Vsb2dnZXItZWRpdGVkIn0sQWUucGFyc2UoZS5jb250ZW50KSxvKEFuLHt0aW1lc3RhbXA6ZS50aW1lc3RhbXAsaXNFZGl0ZWQ6ITAsaXNJbmxpbmU6ITF9LG8oInNwYW4iLHtjbGFzc05hbWU6YVAuZWRpdGVkfSwiICIsIigiLGN0Lk1lc3NhZ2VzLk1FU1NBR0VfRURJVEVELCIpIikpKSl9LG1ha2VFZGl0KGUsdCl7cmV0dXJue3RpbWVzdGFtcDp0bj8uY2FsbChlLmVkaXRlZF90aW1lc3RhbXApLGNvbnRlbnQ6dC5jb250ZW50fX0sb3B0aW9uczp7ZGVsZXRlU3R5bGU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiVGhlIHN0eWxlIG9mIGRlbGV0ZWQgbWVzc2FnZXMiLGRlZmF1bHQ6InRleHQiLG9wdGlvbnM6W3tsYWJlbDoiUmVkIHRleHQiLHZhbHVlOiJ0ZXh0IixkZWZhdWx0OiEwfSx7bGFiZWw6IlJlZCBvdmVybGF5Iix2YWx1ZToib3ZlcmxheSJ9XSxvbkNoYW5nZTooKT0+QzEoKX0saWdub3JlQm90czp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIGlnbm9yZSBtZXNzYWdlcyBieSBib3RzIixkZWZhdWx0OiExfSxpZ25vcmVTZWxmOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gaWdub3JlIG1lc3NhZ2VzIGJ5IHlvdXJzZWxmIixkZWZhdWx0OiExfSxpZ25vcmVVc2Vyczp7dHlwZTowLGRlc2NyaXB0aW9uOiJDb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiB1c2VyIElEcyB0byBpZ25vcmUiLGRlZmF1bHQ6IiJ9LGlnbm9yZUNoYW5uZWxzOnt0eXBlOjAsZGVzY3JpcHRpb246IkNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGNoYW5uZWwgSURzIHRvIGlnbm9yZSIsZGVmYXVsdDoiIn0saWdub3JlR3VpbGRzOnt0eXBlOjAsZGVzY3JpcHRpb246IkNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGd1aWxkIElEcyB0byBpZ25vcmUiLGRlZmF1bHQ6IiJ9fSxoYW5kbGVEZWxldGUoZSx0LG4pe3RyeXtsZXQgaD1mdW5jdGlvbihTKXtsZXQgYj1lLmdldChTKTtpZighYilyZXR1cm47bGV0IHg9NjQ7dC5tbERlbGV0ZWR8fChiLmZsYWdzJngpPT09eHx8aSYmYi5hdXRob3I/LmJvdHx8cyYmYi5hdXRob3I/LmlkPT09eXx8Yy5pbmNsdWRlcyhiLmF1dGhvcj8uaWQpfHx1LmluY2x1ZGVzKGIuY2hhbm5lbF9pZCl8fHAuaW5jbHVkZXMoYi5ndWlsZF9pZCk/ZT1lLnJlbW92ZShTKTplPWUudXBkYXRlKFMsTj0+Ti5zZXQoImRlbGV0ZWQiLCEwKS5zZXQoImF0dGFjaG1lbnRzIixOLmF0dGFjaG1lbnRzLm1hcChJPT4oSS5kZWxldGVkPSEwLEkpKSkpfTt2YXIgcj1oO2lmKGU9PW51bGx8fCFuJiYhZS5oYXModC5pZCkpcmV0dXJuIGU7bGV0e2lnbm9yZUJvdHM6aSxpZ25vcmVTZWxmOnMsaWdub3JlVXNlcnM6YyxpZ25vcmVDaGFubmVsczp1LGlnbm9yZUd1aWxkczpwfT1rLnBsdWdpbnMuTWVzc2FnZUxvZ2dlcix5PUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtuP3QuaWRzLmZvckVhY2goaCk6aCh0LmlkKX1jYXRjaChpKXtuZXcgVigiTWVzc2FnZUxvZ2dlciIpLmVycm9yKCJFcnJvciBkdXJpbmcgaGFuZGxlRGVsZXRlIixpKX1yZXR1cm4gZX0scGF0Y2hlczpbe2ZpbmQ6J2Rpc3BsYXlOYW1lPSJNZXNzYWdlU3RvcmUiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9NRVNTQUdFX0RFTEVURTpmdW5jdGlvblwoKFx3KVwpe3ZhciAuKz8oKD86XHd7MSwyfVwuKXsyfSlnZXRPckNyZWF0ZS4rP30sLyxyZXBsYWNlOiJNRVNTQUdFX0RFTEVURTpmdW5jdGlvbigkMSl7ICAgdmFyIGNhY2hlID0gJDJnZXRPckNyZWF0ZSgkMS5jaGFubmVsSWQpOyAgIGNhY2hlID0gJHNlbGYuaGFuZGxlRGVsZXRlKGNhY2hlLCAkMSwgZmFsc2UpOyAgICQyY29tbWl0KGNhY2hlKTt9LCJ9LHttYXRjaDovTUVTU0FHRV9ERUxFVEVfQlVMSzpmdW5jdGlvblwoKFx3KVwpe3ZhciAuKz8oKD86XHd7MSwyfVwuKXsyfSlnZXRPckNyZWF0ZS4rP30sLyxyZXBsYWNlOiJNRVNTQUdFX0RFTEVURV9CVUxLOmZ1bmN0aW9uKCQxKXsgICB2YXIgY2FjaGUgPSAkMmdldE9yQ3JlYXRlKCQxLmNoYW5uZWxJZCk7ICAgY2FjaGUgPSAkc2VsZi5oYW5kbGVEZWxldGUoY2FjaGUsICQxLCB0cnVlKTsgICAkMmNvbW1pdChjYWNoZSk7fSwifSx7bWF0Y2g6LyhNRVNTQUdFX1VQREFURTpmdW5jdGlvblwoKFx3KVwpLis/KVwudXBkYXRlXCgoXHcpLyxyZXBsYWNlOiIkMS51cGRhdGUoJDMsbSA9PiAgICgoJDIubWVzc2FnZS5mbGFncyAmIDY0KSA9PT0gNjQgfHwgKFZlbmNvcmQuU2V0dGluZ3MucGx1Z2lucy5NZXNzYWdlTG9nZ2VyLmlnbm9yZUJvdHMgJiYgJDIubWVzc2FnZS5hdXRob3I/LmJvdCkgfHwgKFZlbmNvcmQuU2V0dGluZ3MucGx1Z2lucy5NZXNzYWdlTG9nZ2VyLmlnbm9yZVNlbGYgJiYgJDIubWVzc2FnZS5hdXRob3I/LmlkID09PSBWZW5jb3JkLldlYnBhY2suQ29tbW9uLlVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpLmlkKSkgPyBtIDogICAkMi5tZXNzYWdlLmNvbnRlbnQgIT09IG0uZWRpdEhpc3Rvcnk/LlswXT8uY29udGVudCAmJiAkMi5tZXNzYWdlLmNvbnRlbnQgIT09IG0uY29udGVudCA/ICAgICAgIG0uc2V0KCdlZGl0SGlzdG9yeScsWy4uLihtLmVkaXRIaXN0b3J5IHx8IFtdKSwgJHNlbGYubWFrZUVkaXQoJDIubWVzc2FnZSwgbSldKSA6ICAgICAgIG0pLnVwZGF0ZSgkMyJ9LHttYXRjaDovKD88PWdldExhc3RFZGl0YWJsZU1lc3NhZ2U9LnswLDIwMH1cLmZpbmRcKFwoZnVuY3Rpb25cKChcaSlcKVx7KXJldHVybi8scmVwbGFjZToicmV0dXJuICEkMS5kZWxldGVkICYmIn1dfSx7ZmluZDoiaXNGaXJzdE1lc3NhZ2VJbkZvcnVtUG9zdD1mdW5jdGlvbiIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFx3KVwuY3VzdG9tUmVuZGVyZWRDb250ZW50PShcdylcLmN1c3RvbVJlbmRlcmVkQ29udGVudDsvLHJlcGxhY2U6IiQxLmN1c3RvbVJlbmRlcmVkQ29udGVudCA9ICQyLmN1c3RvbVJlbmRlcmVkQ29udGVudDskMS5kZWxldGVkID0gJDIuZGVsZXRlZCB8fCBmYWxzZTskMS5lZGl0SGlzdG9yeSA9ICQyLmVkaXRIaXN0b3J5IHx8IFtdOyJ9XX0se2ZpbmQ6IlRIUkVBRF9TVEFSVEVSX01FU1NBR0U/bnVsbD09PSIscmVwbGFjZW1lbnQ6W3ttYXRjaDovaW50ZXJhY3Rpb25EYXRhOihcdylcLmludGVyYWN0aW9uRGF0YS8scmVwbGFjZToiaW50ZXJhY3Rpb25EYXRhOiQxLmludGVyYWN0aW9uRGF0YSxkZWxldGVkOiQxLmRlbGV0ZWQsZWRpdEhpc3Rvcnk6JDEuZWRpdEhpc3RvcnksYXR0YWNobWVudHM6JDEuYXR0YWNobWVudHMifSx7bWF0Y2g6L2F0dGFjaG1lbnRzOihcd3sxLDJ9KVwoKFx3KVwpLyxyZXBsYWNlOiJhdHRhY2htZW50czogJDEoKCgpID0+IHsgICBsZXQgb2xkID0gYXJndW1lbnRzWzFdPy5hdHRhY2htZW50czsgICBpZiAoIW9sZCkgcmV0dXJuICQyOyAgIGxldCBuZXdfID0gJDIuYXR0YWNobWVudHM/Lm1hcChhID0+IGEuaWQpID8/IFtdOyAgIGxldCBkaWZmID0gb2xkLmZpbHRlcihhID0+ICFuZXdfLmluY2x1ZGVzKGEuaWQpKTsgICBvbGQuZm9yRWFjaChhID0+IGEuZGVsZXRlZCA9IHRydWUpOyAgICQyLmF0dGFjaG1lbnRzID0gWy4uLmRpZmYsIC4uLiQyLmF0dGFjaG1lbnRzXTsgICByZXR1cm4gJDI7fSkoKSksZGVsZXRlZDogYXJndW1lbnRzWzFdPy5kZWxldGVkLGVkaXRIaXN0b3J5OiBhcmd1bWVudHNbMV0/LmVkaXRIaXN0b3J5In0se21hdGNoOi8oXCgoXHcpXCl7cmV0dXJuIG51bGw9PVwyXC5hdHRhY2htZW50cy4rPylzcG9pbGVyOi8scmVwbGFjZToiJDFkZWxldGVkOiBhcmd1bWVudHNbMF0/LmRlbGV0ZWQsc3BvaWxlcjoifV19LHtmaW5kOidbImNsYXNzTmFtZSIsImF0dGFjaG1lbnQiLCJpbmxpbmVNZWRpYSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6LygoXHcpXC5jbGFzc05hbWUsXHc9XDJcLmF0dGFjaG1lbnQpLC8scmVwbGFjZToiJDEsZGVsZXRlZD0kMi5hdHRhY2htZW50Py5kZWxldGVkLCJ9LHttYXRjaDovXFsiY2xhc3NOYW1lIiwiYXR0YWNobWVudCIsImlubGluZU1lZGlhIi4rP2NsYXNzTmFtZTovLHJlcGxhY2U6IiQmIChkZWxldGVkID8gJ21lc3NhZ2Vsb2dnZXItZGVsZXRlZC1hdHRhY2htZW50ICcgOiAnJykgKyJ9XX0se2ZpbmQ6Ik1lc3NhZ2UgbXVzdCBub3QgYmUgYSB0aHJlYWQgc3RhcnRlciBtZXNzYWdlIixyZXBsYWNlbWVudDpbe21hdGNoOi9cKVwoImxpIixceyguKz8pLGNsYXNzTmFtZTovLHJlcGxhY2U6JykoImxpIix7JDEsY2xhc3NOYW1lOihhcmd1bWVudHNbMF0ubWVzc2FnZS5kZWxldGVkID8gIm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCAiIDogIiIpKyd9XX0se2ZpbmQ6J01lc3NhZ2VzLk1FU1NBR0VfRURJVEVELCIpIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFwpXCgiZGl2Iixce2lkOi4rP2NoaWxkcmVuOlxbKS8scmVwbGFjZToiJDEgKGFyZ3VtZW50c1swXS5tZXNzYWdlLmVkaXRIaXN0b3J5Lmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0ubWVzc2FnZS5lZGl0SGlzdG9yeS5tYXAoZWRpdCA9PiAkc2VsZi5yZW5kZXJFZGl0KGVkaXQpKSA6IG51bGwpLCAifV19LHtmaW5kOidkaXNwbGF5TmFtZT0iUmVmZXJlbmNlZE1lc3NhZ2VTdG9yZSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6L01FU1NBR0VfREVMRVRFOmZ1bmN0aW9uXCgoXHcpXCkuKz99LC8scmVwbGFjZToiTUVTU0FHRV9ERUxFVEU6ZnVuY3Rpb24oJDEpe30sIn0se21hdGNoOi9NRVNTQUdFX0RFTEVURV9CVUxLOmZ1bmN0aW9uXCgoXHcpXCkuKz99LC8scmVwbGFjZToiTUVTU0FHRV9ERUxFVEVfQlVMSzpmdW5jdGlvbigkMSl7fSwifV19LHtmaW5kOidpZDoicmVtb3ZlLXJlYWN0aW9ucyInLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2NoaWxkcmVuOihcWyIiPT09Lis/XF0pLyxyZXBsYWNlOiJjaGlsZHJlbjphcmd1bWVudHNbMF0ubWVzc2FnZS5kZWxldGVkP1tdOiQxIn1dfV19KX0pO2Z1bmN0aW9uIEwxKGUpe2JyKHtuYW1lOmUubmFtZSxkZXNjcmlwdGlvbjplLm5hbWUsaW5wdXRUeXBlOjEsZXhlY3V0ZTphc3luYyh0LG4pPT5hd2FpdCBUYShlLm5hbWUpPyhrLnBsdWdpbnMuTWVzc2FnZVRhZ3MuY2x5ZGUmJmFlKG4uY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7TW99IFRoZSB0YWcgKioke2UubmFtZX0qKiBoYXMgYmVlbiBzZW50IWB9KSx7Y29udGVudDplLm1lc3NhZ2UucmVwbGFjZUFsbCgiXFxuIixgCmApfSk6KGFlKG4uY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7TW99IFRoZSB0YWcgKioke2UubmFtZX0qKiBkb2VzIG5vdCBleGlzdCBhbnltb3JlISBQbGVhc2UgcmVsb2FkIHVyIERpc2NvcmQgdG8gZml4IDopYH0pLHtjb250ZW50OmAvJHtlLm5hbWV9YH0pLFtsUF06ITB9LCJDdXN0b21UYWdzIil9dmFyIE1vLHdhLGxQLEduLHhhLFRhLGNQLHVQLEtwLEUxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO2xuKCk7VSgpO1AoKTtNKCk7TW89Ijw6bHVuYToxMDM1MzE2MTkyMjIwNTUzMjM2PiIsd2E9Ik1lc3NhZ2VUYWdzX1RBR1MiLGxQPVN5bWJvbCgiTWVzc2FnZVRhZ3MiKSxHbj17aWQ6IjgyMTQ3MjkyMjE0MDgwMzExMiIsYm90OiExfSx4YT0oKT0+V2Uod2EpLnRoZW4oZT0+ZT8/W10pLFRhPWU9PldlKHdhKS50aGVuKHQ9Pih0Pz9bXSkuZmluZChuPT5uLm5hbWU9PT1lKT8/bnVsbCksY1A9YXN5bmMgZT0+e2xldCB0PWF3YWl0IHhhKCk7cmV0dXJuIHQucHVzaChlKSxWZSh3YSx0KSx0fSx1UD1hc3luYyBlPT57bGV0IHQ9YXdhaXQgeGEoKTtyZXR1cm4gdD1hd2FpdCB0LmZpbHRlcihuPT5uLm5hbWUhPT1lKSxWZSh3YSx0KSx0fTtLcD12KHtuYW1lOiJNZXNzYWdlVGFncyIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gc2F2ZSBtZXNzYWdlcyBhbmQgdG8gdXNlIHRoZW0gd2l0aCBhIHNpbXBsZSBjb21tYW5kLiIsYXV0aG9yczpbbS5MdW5hXSxvcHRpb25zOntjbHlkZTp7bmFtZToiQ2x5ZGUgbWVzc2FnZSBvbiBzZW5kIixkZXNjcmlwdGlvbjoiSWYgZW5hYmxlZCwgY2x5ZGUgd2lsbCBzZW5kIHlvdSBhbiBlcGhlbWVyYWwgbWVzc2FnZSB3aGVuIGEgdGFnIHdhcyB1c2VkLiIsdHlwZTozLGRlZmF1bHQ6ITB9fSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGFzeW5jIHN0YXJ0KCl7Zm9yKGxldCBlIG9mIGF3YWl0IHhhKCkpTDEoZSl9LGNvbW1hbmRzOlt7bmFtZToidGFncyIsZGVzY3JpcHRpb246Ik1hbmFnZSBhbGwgdGhlIHRhZ3MgZm9yIHlvdXJzZWxmIixpbnB1dFR5cGU6MCxvcHRpb25zOlt7bmFtZToiY3JlYXRlIixkZXNjcmlwdGlvbjoiQ3JlYXRlIGEgbmV3IHRhZyIsdHlwZToxLG9wdGlvbnM6W3tuYW1lOiJ0YWctbmFtZSIsZGVzY3JpcHRpb246IlRoZSBuYW1lIG9mIHRoZSB0YWcgdG8gdHJpZ2dlciB0aGUgcmVzcG9uc2UiLHR5cGU6MyxyZXF1aXJlZDohMH0se25hbWU6Im1lc3NhZ2UiLGRlc2NyaXB0aW9uOiJUaGUgbWVzc2FnZSB0aGF0IHlvdSB3aWxsIHNlbmQgd2hlbiB1c2luZyB0aGlzIHRhZyIsdHlwZTozLHJlcXVpcmVkOiEwfV19LHtuYW1lOiJsaXN0IixkZXNjcmlwdGlvbjoiTGlzdCBhbGwgdGFncyBmcm9tIHlvdXJzZWxmIix0eXBlOjEsb3B0aW9uczpbXX0se25hbWU6ImRlbGV0ZSIsZGVzY3JpcHRpb246IlJlbW92ZSBhIHRhZyBmcm9tIHlvdXIgeW91cnNlbGYiLHR5cGU6MSxvcHRpb25zOlt7bmFtZToidGFnLW5hbWUiLGRlc2NyaXB0aW9uOiJUaGUgbmFtZSBvZiB0aGUgdGFnIHRvIHRyaWdnZXIgdGhlIHJlc3BvbnNlIix0eXBlOjMscmVxdWlyZWQ6ITB9XX0se25hbWU6InByZXZpZXciLGRlc2NyaXB0aW9uOiJQcmV2aWV3IGEgdGFnIHdpdGhvdXQgc2VuZGluZyBpdCBwdWJsaWNseSIsdHlwZToxLG9wdGlvbnM6W3tuYW1lOiJ0YWctbmFtZSIsZGVzY3JpcHRpb246IlRoZSBuYW1lIG9mIHRoZSB0YWcgdG8gdHJpZ2dlciB0aGUgcmVzcG9uc2UiLHR5cGU6MyxyZXF1aXJlZDohMH1dfV0sYXN5bmMgZXhlY3V0ZShlLHQpe3N3aXRjaChlWzBdLm5hbWUpe2Nhc2UiY3JlYXRlIjp7bGV0IG49WGUoZVswXS5vcHRpb25zLCJ0YWctbmFtZSIsIiIpLHI9WGUoZVswXS5vcHRpb25zLCJtZXNzYWdlIiwiIik7aWYoYXdhaXQgVGEobikpcmV0dXJuIGFlKHQuY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7TW99IEEgVGFnIHdpdGggdGhlIG5hbWUgKioke259KiogYWxyZWFkeSBleGlzdHMhYH0pO2xldCBpPXtuYW1lOm4sZW5hYmxlZDohMCxtZXNzYWdlOnJ9O0wxKGkpLGF3YWl0IGNQKGkpLGFlKHQuY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7TW99IFN1Y2Nlc3NmdWxseSBjcmVhdGVkIHRoZSB0YWcgKioke259KiohYH0pO2JyZWFrfWNhc2UiZGVsZXRlIjp7bGV0IG49WGUoZVswXS5vcHRpb25zLCJ0YWctbmFtZSIsIiIpO2lmKCFhd2FpdCBUYShuKSlyZXR1cm4gYWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sY29udGVudDpgJHtNb30gQSBUYWcgd2l0aCB0aGUgbmFtZSAqKiR7bn0qKiBkb2VzIG5vdCBleGlzdCFgfSk7U2kobiksYXdhaXQgdVAobiksYWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sY29udGVudDpgJHtNb30gU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgdGhlIHRhZyAqKiR7bn0qKiFgfSk7YnJlYWt9Y2FzZSJsaXN0Ijp7YWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sZW1iZWRzOlt7dGl0bGU6IkFsbCBUYWdzOiIsZGVzY3JpcHRpb246KGF3YWl0IHhhKCkpLm1hcChuPT5gXGAke24ubmFtZX1cYDogJHtuLm1lc3NhZ2Uuc2xpY2UoMCw3MikucmVwbGFjZUFsbCgiXFxuIiwiICIpfSR7bi5tZXNzYWdlLmxlbmd0aD43Mj8iLi4uIjoiIn1gKS5qb2luKGAKYCl8fGAke01vfSBXb29wcyEgVGhlcmUgYXJlIG5vIHRhZ3MgeWV0LCB1c2UgXGAvdGFncyBjcmVhdGVcYCB0byBjcmVhdGUgb25lIWAsY29sb3I6MTQxMjI4NzksdHlwZToicmljaCJ9XX0pO2JyZWFrfWNhc2UicHJldmlldyI6e2xldCBuPVhlKGVbMF0ub3B0aW9ucywidGFnLW5hbWUiLCIiKSxyPWF3YWl0IFRhKG4pO2lmKCFyKXJldHVybiBhZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OmAke01vfSBBIFRhZyB3aXRoIHRoZSBuYW1lICoqJHtufSoqIGRvZXMgbm90IGV4aXN0IWB9KTthZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OnIubWVzc2FnZS5yZXBsYWNlQWxsKCJcXG4iLGAKYCl9KTticmVha31kZWZhdWx0OnthZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OiJJbnZhbGlkIHN1Yi1jb21tYW5kIn0pO2JyZWFrfX19fV19KX0pO2Z1bmN0aW9uIHBQKGUpe2xldCB0PSIiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPW4lMj9lW25dLnRvVXBwZXJDYXNlKCk6ZVtuXS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fXZhciBZcCxEMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtQKCk7TSgpO1lwPXYoe25hbWU6Ik1vcmVDb21tYW5kcyIsZGVzY3JpcHRpb246ImVjaG8sIGxlbm55LCBtb2NrIixhdXRob3JzOlttLkFyaml4LG0uZWNobyxtLlNhbXVdLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tuYW1lOiJlY2hvIixkZXNjcmlwdGlvbjoiU2VuZHMgYSBtZXNzYWdlIGFzIENseWRlIChsb2NhbGx5KSIsb3B0aW9uczpbVG9dLGlucHV0VHlwZTozLGV4ZWN1dGU6KGUsdCk9PntsZXQgbj1YZShlLCJtZXNzYWdlIiwiIik7YWUodC5jaGFubmVsLmlkLHtjb250ZW50Om59KX19LHtuYW1lOiJsZW5ueSIsZGVzY3JpcHRpb246IlNlbmRzIGEgbGVubnkgZmFjZSIsb3B0aW9uczpbVG9dLGV4ZWN1dGU6ZT0+KHtjb250ZW50OlhlKGUsIm1lc3NhZ2UiLCIiKSsiICggXHUwMzYxXHhCMCBcdTAzNUNcdTAyOTYgXHUwMzYxXHhCMCkifSl9LHtuYW1lOiJtb2NrIixkZXNjcmlwdGlvbjoibU9jSyBQZU9wTGUiLG9wdGlvbnM6W3ZpXSxleGVjdXRlOmU9Pih7Y29udGVudDpwUChYZShlLCJtZXNzYWdlIiwiIikpfSl9XX0pfSk7dmFyIFpwLE8xPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1AoKTtNKCk7WnA9dih7bmFtZToiTW9yZUthb21vamkiLGRlc2NyaXB0aW9uOiJBZGRzIG1vcmUgS2FvbW9qaSB0byBkaXNjb3JkLiBcdTMwRkQoXHhCNFx1MjVCRGApLyIsYXV0aG9yczpbbS5KYWNvYlRtXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToiZGlzc2F0aXNmYWN0aW9uIixkZXNjcmlwdGlvbjoiIFx1RkYxRVx1RkU0Rlx1RkYxQyJ9LHtuYW1lOiJzbXVnIixkZXNjcmlwdGlvbjoiIFx1MENBMF9cdTBDQTAifSx7bmFtZToiaGFwcHkiLGRlc2NyaXB0aW9uOiIgXHUzMEZEKFx4QjRcdTI1QkRgKS8ifSx7bmFtZToiY3J5aW5nIixkZXNjcmlwdGlvbjoiIFx1MENBNV9cdTBDQTUifSx7bmFtZToiYW5ncnkiLGRlc2NyaXB0aW9uOiIgXHUzMEZEKFx1RkY0MFx1MDQxNFx4QjQpXHVGRjg5In0se25hbWU6ImFuZ2VyIixkZXNjcmlwdGlvbjoiIFx1MzBGRChcdUZGNEZgXHU3NkJGXHUyMDMyXHVGRjRGKVx1RkY4OSJ9LHtuYW1lOiJqb3kiLGRlc2NyaXB0aW9uOiIgPChcdUZGRTNcdUZFMzZcdUZGRTMpPiJ9LHtuYW1lOiJibHVzaCIsZGVzY3JpcHRpb246Ilx1MEFFRSBcdTAyRjZcdTFENTQgXHUxRDU1IFx1MUQ1NFx1MDJGNiBcdTEwRDAifSx7bmFtZToiY29uZnVzZWQiLGRlc2NyaXB0aW9uOiIoXHUyMDIyXHUwRTM0X1x1MjAyMlx1MEUzNCk/In0se25hbWU6InNsZWVwaW5nIixkZXNjcmlwdGlvbjoiKFx1MUQxN19cdTFEMTcpIn0se25hbWU6ImxhdWdoaW5nIixkZXNjcmlwdGlvbjoibyhcdTIyNjdcdTI1QkRcdTIyNjYpbyJ9XS5tYXAoZT0+KHsuLi5lLG9wdGlvbnM6W1RvXSxleGVjdXRlOnQ9Pih7Y29udGVudDpYZSh0LCJtZXNzYWdlIiwiIikrZS5kZXNjcmlwdGlvbn0pfSkpfSl9KTtmdW5jdGlvbiBnUChlKXtQby5zdG9yZS50YWdTZXR0aW5ncz8/PVhwO2xldFt0LG5dPWooUG8uc3RvcmUudGFnU2V0dGluZ3MpLHI9aT0+e24oaSksZS5zZXRWYWx1ZShpKX07cmV0dXJuIG8oY2Use2ZsZXhEaXJlY3Rpb246ImNvbHVtbiJ9LElyLm1hcChpPT5vKGh0LHtzdHlsZTp7cGFkZGluZzoiMWVtIDFlbSAwIn19LG8oVC5Gb3JtVGl0bGUse3N0eWxlOnt3aWR0aDoiZml0LWNvbnRlbnQifX0sbyhYLHt0ZXh0OmkuZGVzY3JpcHRpb259LCh7b25Nb3VzZUVudGVyOnMsb25Nb3VzZUxlYXZlOmN9KT0+bygiZGl2Iix7b25Nb3VzZUVudGVyOnMsb25Nb3VzZUxlYXZlOmN9LGkuZGlzcGxheU5hbWUsIiBUYWcgIixvKGVvLHt0eXBlOmVvLlR5cGVzW2kubmFtZV19KSkpKSxvKF9lLHt0eXBlOiJ0ZXh0Iix2YWx1ZTp0W2kubmFtZV0/LnRleHQ/P2kuZGlzcGxheU5hbWUscGxhY2Vob2xkZXI6YFRleHQgb24gdGFnIChkZWZhdWx0OiAke2kuZGlzcGxheU5hbWV9KWAsb25DaGFuZ2U6cz0+e3RbaS5uYW1lXS50ZXh0PXMscih0KX0sY2xhc3NOYW1lOnouYm90dG9tMTZ9KSxvKHl0LHt2YWx1ZTp0W2kubmFtZV0/LnNob3dJbkNoYXQ/PyEwLG9uQ2hhbmdlOnM9Pnt0W2kubmFtZV0uc2hvd0luQ2hhdD1zLHIodCl9LGhpZGVCb3JkZXI6ITB9LCJTaG93IGluIG1lc3NhZ2VzIiksbyh5dCx7dmFsdWU6dFtpLm5hbWVdPy5zaG93SW5Ob3RDaGF0Pz8hMCxvbkNoYW5nZTpzPT57dFtpLm5hbWVdLnNob3dJbk5vdENoYXQ9cyxyKHQpfSxoaWRlQm9yZGVyOiEwfSwiU2hvdyBpbiBtZW1iZXIgbGlzdCBhbmQgcHJvZmlsZXMiKSkpKX12YXIgZFAsbVAsZlAsZW8sXzEsSXIsWHAsUG8sSnAsQjE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtidCgpO1AoKTtudCgpO00oKTtGKCk7dygpO2RQPSIxMDgxMDA0OTQ2ODcyMzUyOTU4IixtUD1DKCJjb21wdXRlUGVybWlzc2lvbnMiLCJjYW5FdmVyeW9uZVJvbGUiKSxmUD1DKCJTRU5EX01FU1NBR0VTIiwiVklFV19DUkVBVE9SX01PTkVUSVpBVElPTl9BTkFMWVRJQ1MiKSxlbz1SZShlPT5lLlR5cGVzPy5bMF09PT0iQk9UIiksXzE9KGUsdCk9PiEhZT8ud2ViaG9va0lkJiZ0LmlzTm9uVXNlckJvdCgpLElyPVt7bmFtZToiV0VCSE9PSyIsZGlzcGxheU5hbWU6IldlYmhvb2siLGRlc2NyaXB0aW9uOiJNZXNzYWdlcyBzZW50IGJ5IHdlYmhvb2tzIixjb25kaXRpb246XzF9LHtuYW1lOiJPV05FUiIsZGlzcGxheU5hbWU6Ik93bmVyIixkZXNjcmlwdGlvbjoiT3ducyB0aGUgc2VydmVyIixjb25kaXRpb246KGUsdCxuKT0+bWUuZ2V0R3VpbGQobj8uZ3VpbGRfaWQpPy5vd25lcklkPT09dC5pZH0se25hbWU6IkFETUlOSVNUUkFUT1IiLGRpc3BsYXlOYW1lOiJBZG1pbiIsZGVzY3JpcHRpb246IkhhcyB0aGUgYWRtaW5pc3RyYXRvciBwZXJtaXNzaW9uIixwZXJtaXNzaW9uczpbIkFETUlOSVNUUkFUT1IiXX0se25hbWU6Ik1PREVSQVRPUl9TVEFGRiIsZGlzcGxheU5hbWU6IlN0YWZmIixkZXNjcmlwdGlvbjoiQ2FuIG1hbmFnZSB0aGUgc2VydmVyLCBjaGFubmVscyBvciByb2xlcyIscGVybWlzc2lvbnM6WyJNQU5BR0VfR1VJTEQiLCJNQU5BR0VfQ0hBTk5FTFMiLCJNQU5BR0VfUk9MRVMiXX0se25hbWU6Ik1PREVSQVRPUiIsZGlzcGxheU5hbWU6Ik1vZCIsZGVzY3JpcHRpb246IkNhbiBtYW5hZ2UgbWVzc2FnZXMgb3Iga2ljay9iYW4gcGVvcGxlIixwZXJtaXNzaW9uczpbIk1BTkFHRV9NRVNTQUdFUyIsIktJQ0tfTUVNQkVSUyIsIkJBTl9NRU1CRVJTIl19LHtuYW1lOiJWT0lDRV9NT0RFUkFUT1IiLGRpc3BsYXlOYW1lOiJWQyBNb2QiLGRlc2NyaXB0aW9uOiJDYW4gbWFuYWdlIHZvaWNlIGNoYXRzIixwZXJtaXNzaW9uczpbIk1PVkVfTUVNQkVSUyIsIk1VVEVfTUVNQkVSUyIsIkRFQUZFTl9NRU1CRVJTIl19XSxYcD1PYmplY3QuZnJvbUVudHJpZXMoSXIubWFwKCh7bmFtZTplLGRpc3BsYXlOYW1lOnR9KT0+W2Use3RleHQ6dCxzaG93SW5DaGF0OiEwLHNob3dJbk5vdENoYXQ6ITB9XSkpO1BvPUUoe2RvbnRTaG93Rm9yQm90czp7ZGVzY3JpcHRpb246IkRvbid0IHNob3cgZXh0cmEgdGFncyBmb3IgYm90cyAoZXhjbHVkaW5nIHdlYmhvb2tzKSIsdHlwZTozfSxkb250U2hvd0JvdFRhZzp7ZGVzY3JpcHRpb246Ik9ubHkgc2hvdyBleHRyYSB0YWdzIGZvciBib3RzIC8gSGlkZSBbQk9UXSB0ZXh0Iix0eXBlOjN9LHRhZ1NldHRpbmdzOnt0eXBlOjYsY29tcG9uZW50OmdQLGRlc2NyaXB0aW9uOiJmaWxsIG1lIn19KSxKcD12KHtuYW1lOiJNb3JlVXNlclRhZ3MiLGRlc2NyaXB0aW9uOiJBZGRzIHRhZ3MgZm9yIHdlYmhvb2tzIGFuZCBtb2RlcmF0aXZlIHJvbGVzIChvd25lciwgYWRtaW4sIGV0Yy4pIixhdXRob3JzOlttLkN5bixtLlRoZVN1bixtLlJ5YW5DYW9EZXYsbS5Mb3JkRWxpYXNdLHNldHRpbmdzOlBvLHBhdGNoZXM6W3tmaW5kOicuQk9UPTBdPSJCT1QiJyxyZXBsYWNlbWVudDpbe21hdGNoOi8oXGkpXFsuXC5CT1Q9MFxdPSJCT1QiOy8scmVwbGFjZToiJCYkMT0kc2VsZi5hZGRUYWdWYXJpYW50cygkMSk7In1dfSx7ZmluZDoiLkRJU0NPUkRfU1lTVEVNX01FU1NBR0VfQk9UX1RBR19UT09MVElQOyIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKHN3aXRjaFwoKFxpKVwpey4rPyljYXNlIChcaSg/OlwuXGkpPylcLkJPVDpkZWZhdWx0OihcaSk9KFxpXC5caVwuTWVzc2FnZXMpXC5CT1RfVEFHX0JPVC8scmVwbGFjZTooZSx0LG4scixpLHMpPT5gJHt0fWRlZmF1bHQ6eyR7aX0gPSAkc2VsZi5nZXRUYWdUZXh0KCR7cn1bJHtufV0sICR7c30pfWB9LHttYXRjaDovKFxpKT0oXGkpPT09XGkoPzpcLlxpKT9cLk9SSUdJTkFMX1BPU1RFUi8scmVwbGFjZToiJDE9JHNlbGYuaXNPUFRhZygkMikifSx7bWF0Y2g6L2NoaWxkcmVuOlxbKD89XGksXCgwLFxpXC5qc3hcKVwoInNwYW4iLHtjbGFzc05hbWU6XGlcKFwpXC5ib3RUZXh0LGNoaWxkcmVuOihcaSl9XClcXSkvLHJlcGxhY2U6IidkYXRhLXRhZyc6JDEudG9Mb3dlckNhc2UoKSxjaGlsZHJlbjpbIn1dfSx7ZmluZDoiLlR5cGVzLk9SSUdJTkFMX1BPU1RFUiIscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gbnVsbD09KFxpKVw/bnVsbDpcKDAsLyxyZXBsYWNlOiIkMT0kc2VsZi5nZXRUYWcoey4uLmFyZ3VtZW50c1swXSxvcmlnVHlwZTokMSxsb2NhdGlvbjonY2hhdCd9KTskJiJ9fSx7ZmluZDoiLnJlbmRlckJvdD1mdW5jdGlvbigpeyIscmVwbGFjZW1lbnQ6e21hdGNoOi90aGlzLnByb3BzLnVzZXI7cmV0dXJuIG51bGwhPShcaSkmJi57MCwxMH1cPyguezAsNTB9KVwuYm90VGFnLyxyZXBsYWNlOiJ0aGlzLnByb3BzLnVzZXI7dmFyIHR5cGU9JHNlbGYuZ2V0VGFnKHsuLi50aGlzLnByb3BzLG9yaWdUeXBlOiQxLmJvdD8wOm51bGwsbG9jYXRpb246J25vdC1jaGF0J30pO3JldHVybiB0eXBlIT09bnVsbD8kMi5ib3RUYWcsdHlwZSJ9fSx7ZmluZDoiLmhhc0F2YXRhckZvckd1aWxkKG51bGw9PSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz11c2VybmFtZUljb246KS8scmVwbGFjZToibW9yZVRhZ3NfY2hhbm5lbElkOmFyZ3VtZW50c1swXS5jaGFubmVsSWQsIn19LHtmaW5kOidjb3B5TWV0YURhdGE6IlVzZXIgVGFnIicscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz0sYm90Q2xhc3M6KS8scmVwbGFjZToiLG1vcmVUYWdzX2NoYW5uZWxJZDphcmd1bWVudHNbMF0ubW9yZVRhZ3NfY2hhbm5lbElkIn19LHtmaW5kOiIsYm90VHlwZToiLHJlcGxhY2VtZW50OnttYXRjaDovLGJvdFR5cGU6KFxpXCgoXGkpXCkpLC9nLHJlcGxhY2U6Iixib3RUeXBlOiRzZWxmLmdldFRhZyh7dXNlcjokMixjaGFubmVsSWQ6YXJndW1lbnRzWzBdLm1vcmVUYWdzX2NoYW5uZWxJZCxvcmlnVHlwZTokMSxsb2NhdGlvbjonbm90LWNoYXQnfSksIn19XSxzdGFydCgpe2lmKCFQby5zdG9yZS50YWdTZXR0aW5ncylpZighUG8uc3RvcmUudmlzaWJpbGl0eV9XRUJIT09LKVBvLnN0b3JlLnRhZ1NldHRpbmdzPVhwO2Vsc2V7bGV0IGU9ey4uLlhwfTtPYmplY3QuZW50cmllcyhWZW5jb3JkLlBsYWluU2V0dGluZ3MucGx1Z2lucy5Nb3JlVXNlclRhZ3MpLmZvckVhY2goKFt0LG5dKT0+e2xldFtyLGldPXQuc3BsaXQoIl8iKTtpZihyPT09InZpc2liaWxpdHkiKXN3aXRjaChuKXtjYXNlImFsd2F5cyI6YnJlYWs7Y2FzZSJjaGF0IjplW2ldLnNob3dJbk5vdENoYXQ9ITE7YnJlYWs7Y2FzZSJub3QtY2hhdCI6ZVtpXS5zaG93SW5DaGF0PSExO2JyZWFrO2Nhc2UibmV2ZXIiOmVbaV0uc2hvd0luQ2hhdD0hMSxlW2ldLnNob3dJbk5vdENoYXQ9ITE7YnJlYWt9UG8uc3RvcmUudGFnU2V0dGluZ3M9ZSxkZWxldGUgVmVuY29yZC5TZXR0aW5ncy5wbHVnaW5zLk1vcmVVc2VyVGFnc1t0XX0pfX0sZ2V0UGVybWlzc2lvbnMoZSx0KXtsZXQgbj1tZS5nZXRHdWlsZCh0Py5ndWlsZF9pZCk7aWYoIW4pcmV0dXJuW107bGV0IHI9bVAuY29tcHV0ZVBlcm1pc3Npb25zKHt1c2VyOmUsY29udGV4dDpuLG92ZXJ3cml0ZXM6dC5wZXJtaXNzaW9uT3ZlcndyaXRlc30pO3JldHVybiBPYmplY3QuZW50cmllcyhmUCkubWFwKChbaSxzXSk9PnImcz9pOiIiKS5maWx0ZXIoQm9vbGVhbil9LGFkZFRhZ1ZhcmlhbnRzKGUpe2xldCB0PTEwMDtyZXR1cm4gSXIuZm9yRWFjaCgoe25hbWU6bn0pPT57ZVtuXT0rK3QsZVt0XT1uLGVbYCR7bn0tQk9UYF09Kyt0LGVbdF09YCR7bn0tQk9UYCxlW2Ake259LU9QYF09Kyt0LGVbdF09YCR7bn0tT1BgfSksZX0saXNPUFRhZzplPT5lPT09ZW8uVHlwZXMuT1JJR0lOQUxfUE9TVEVSfHxJci5zb21lKHQ9PmU9PT1lby5UeXBlc1tgJHt0Lm5hbWV9LU9QYF0pLGdldFRhZ1RleHQoZSx0KXtpZighZSlyZXR1cm4gdC5CT1RfVEFHX0JPVDtsZXRbbixyXT1lLnNwbGl0KCItIiksaT1Jci5maW5kKCh7bmFtZTpjfSk9Pm49PT1jKTtpZighaXx8cj09PSJCT1QiJiZuIT09IldFQkhPT0siJiZ0aGlzLnNldHRpbmdzLnN0b3JlLmRvbnRTaG93Rm9yQm90cylyZXR1cm4gdC5CT1RfVEFHX0JPVDtsZXQgcz1Qby5zdG9yZS50YWdTZXR0aW5ncz8uW2kubmFtZV0/LnRleHR8fGkuZGlzcGxheU5hbWU7c3dpdGNoKHIpe2Nhc2UiT1AiOnJldHVybmAke3QuQk9UX1RBR19GT1JVTV9PUklHSU5BTF9QT1NURVJ9IFx1MjAyMiAke3N9YDtjYXNlIkJPVCI6cmV0dXJuYCR7dC5CT1RfVEFHX0JPVH0gXHUyMDIyICR7c31gO2RlZmF1bHQ6cmV0dXJuIHN9fSxnZXRUYWcoe21lc3NhZ2U6ZSx1c2VyOnQsY2hhbm5lbElkOm4sb3JpZ1R5cGU6cixsb2NhdGlvbjppLGNoYW5uZWw6c30pe2lmKGk9PT0iY2hhdCImJnQuaWQ9PT0iMSIpcmV0dXJuIGVvLlR5cGVzLk9GRklDSUFMO2lmKHQuaWQ9PT1kUClyZXR1cm4gZW8uVHlwZXMuQUk7bGV0IGM9dHlwZW9mIHI9PSJudW1iZXIiP3I6bnVsbDtpZihzPz89dGUuZ2V0Q2hhbm5lbChuKSwhcylyZXR1cm4gYztsZXQgdT10aGlzLnNldHRpbmdzLnN0b3JlLHA9dGhpcy5nZXRQZXJtaXNzaW9ucyh0LHMpO2ZvcihsZXQgeSBvZiBJcilpZighKGk9PT0iY2hhdCImJiF1LnRhZ1NldHRpbmdzW3kubmFtZV0uc2hvd0luQ2hhdCkmJiEoaT09PSJub3QtY2hhdCImJiF1LnRhZ1NldHRpbmdzW3kubmFtZV0uc2hvd0luTm90Q2hhdCkmJih5LnBlcm1pc3Npb25zPy5zb21lKGg9PnAuaW5jbHVkZXMoaCkpfHx5LmNvbmRpdGlvbj8uKGUsdCxzKSkpe3MuaXNGb3J1bVBvc3QoKSYmcy5vd25lcklkPT09dC5pZD9jPWVvLlR5cGVzW2Ake3kubmFtZX0tT1BgXTp0LmJvdCYmIV8xKGUsdCkmJiF1LmRvbnRTaG93Qm90VGFnP2M9ZW8uVHlwZXNbYCR7eS5uYW1lfS1CT1RgXTpjPWVvLlR5cGVzW3kubmFtZV07YnJlYWt9cmV0dXJuIGN9fSl9KTtmdW5jdGlvbiB5UChlLHQpe2xldCBuPTAscj0wO2Zvcig7KHI9ZS5pbmRleE9mKHQscikrMSkhPT0wOyluKys7cmV0dXJuIG59ZnVuY3Rpb24gdlAoZSx0KXtpZighdC5nbG9iYWwpdGhyb3cgbmV3IEVycm9yKCJwYXR0ZXJuIG11c3QgYmUgZ2xvYmFsIik7bGV0IG49MDtmb3IoO3QudGVzdChlKTspbisrO3JldHVybiBufWZ1bmN0aW9uIGJQKGUpe2xldCB0PXlQKGUsVnApK3ZQKGUsU1ApO3JldHVybiBNYXRoLm1pbih0LDEwKX1mdW5jdGlvbiBRcCgpe2lmKCFWby5zdG9yZS50cmlnZ2VyV2hlblVuZm9jdXNlZCYmIWRvY3VtZW50Lmhhc0ZvY3VzKCkpcmV0dXJuO2xldCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIik7ZS5zcmM9aFAsZS52b2x1bWU9Vm8uc3RvcmUudm9sdW1lLGUucGxheSgpfXZhciBWcCxoUCxWbyxlZCxTUCxGMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO2V1KCk7UCgpO2dlKCk7TSgpO3coKTtWcD0iXHV7MUY1RkZ9IixoUD0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL01lZ3VtaW5TYW1hL1ZlbmNvcmRQbHVnaW5zL21haW4vcGx1Z2lucy9tb3lhaS9tb3lhaS5tcDMiLFZvPUUoe3ZvbHVtZTp7ZGVzY3JpcHRpb246IlZvbHVtZSBvZiB0aGUgXHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9Iix0eXBlOjUsbWFya2VyczpUcigwLDEsLjEpLGRlZmF1bHQ6LjUsc3RpY2tUb01hcmtlcnM6ITF9LHRyaWdnZXJXaGVuVW5mb2N1c2VkOntkZXNjcmlwdGlvbjoiVHJpZ2dlciB0aGUgXHV7MUY1RkZ9IGV2ZW4gd2hlbiB0aGUgd2luZG93IGlzIHVuZm9jdXNlZCIsdHlwZTozLGRlZmF1bHQ6ITB9LGlnbm9yZUJvdHM6e2Rlc2NyaXB0aW9uOiJJZ25vcmUgYm90cyIsdHlwZTozLGRlZmF1bHQ6ITB9LGlnbm9yZUJsb2NrZWQ6e2Rlc2NyaXB0aW9uOiJJZ25vcmUgYmxvY2tlZCB1c2VycyIsdHlwZTozLGRlZmF1bHQ6ITB9fSksZWQ9dih7bmFtZToiTW95YWkiLGF1dGhvcnM6W20uTWVndSxtLk51Y2t5el0sZGVzY3JpcHRpb246Ilx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfVx1ezFGNUZGfSIsc2V0dGluZ3M6Vm8sZmx1eDp7YXN5bmMgTUVTU0FHRV9DUkVBVEUoe29wdGltaXN0aWM6ZSx0eXBlOnQsbWVzc2FnZTpuLGNoYW5uZWxJZDpyfSl7aWYoZXx8dCE9PSJNRVNTQUdFX0NSRUFURSJ8fG4uc3RhdGU9PT0iU0VORElORyJ8fFZvLnN0b3JlLmlnbm9yZUJvdHMmJm4uYXV0aG9yPy5ib3R8fFZvLnN0b3JlLmlnbm9yZUJsb2NrZWQmJnN0LmlzQmxvY2tlZChuLmF1dGhvcj8uaWQpfHwhbi5jb250ZW50fHxyIT09eGUuZ2V0Q2hhbm5lbElkKCkpcmV0dXJuO2xldCBpPWJQKG4uY29udGVudCk7Zm9yKGxldCBzPTA7czxpO3MrKylRcCgpLGF3YWl0IGFvKDMwMCl9LE1FU1NBR0VfUkVBQ1RJT05fQUREKHtvcHRpbWlzdGljOmUsdHlwZTp0LGNoYW5uZWxJZDpuLHVzZXJJZDpyLG1lc3NhZ2VBdXRob3JJZDppLGVtb2ppOnN9KXtpZihlfHx0IT09Ik1FU1NBR0VfUkVBQ1RJT05fQUREInx8Vm8uc3RvcmUuaWdub3JlQm90cyYmRy5nZXRVc2VyKHIpPy5ib3R8fFZvLnN0b3JlLmlnbm9yZUJsb2NrZWQmJnN0LmlzQmxvY2tlZChpKXx8biE9PXhlLmdldENoYW5uZWxJZCgpKXJldHVybjtsZXQgYz1zLm5hbWUudG9Mb3dlckNhc2UoKTtjIT09VnAmJiFjLmluY2x1ZGVzKCJtb3lhaSIpJiYhYy5pbmNsdWRlcygibW9haSIpfHxRcCgpfSxWT0lDRV9DSEFOTkVMX0VGRkVDVF9TRU5EKHtlbW9qaTplfSl7aWYoIWU/Lm5hbWUpcmV0dXJuO2xldCB0PWUubmFtZS50b0xvd2VyQ2FzZSgpO3QhPT1WcCYmIXQuaW5jbHVkZXMoIm1veWFpIikmJiF0LmluY2x1ZGVzKCJtb2FpIil8fFFwKCl9fX0pO1NQPS88YT86XHcqbW95P2FpXHcqOlxkezE3LDIwfT4vZ2l9KTt2YXIgTWEsdGQsJDE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtQKCk7TSgpO0YoKTtNYT1FKHtndWlsZDp7ZGVzY3JpcHRpb246Ik11dGUgR3VpbGQiLHR5cGU6MyxkZWZhdWx0OiEwfSxldmVyeW9uZTp7ZGVzY3JpcHRpb246IlN1cHByZXNzIEBldmVyeW9uZSBhbmQgQGhlcmUiLHR5cGU6MyxkZWZhdWx0OiEwfSxyb2xlOntkZXNjcmlwdGlvbjoiU3VwcHJlc3MgQWxsIFJvbGUgQG1lbnRpb25zIix0eXBlOjMsZGVmYXVsdDohMH19KSx0ZD12KHtuYW1lOiJNdXRlTmV3R3VpbGQiLGRlc2NyaXB0aW9uOiJNdXRlcyBuZXdseSBqb2luZWQgZ3VpbGRzIixhdXRob3JzOlttLkdsaXRjaCxtLk51Y2t5eixtLmNhcmluY2VdLHBhdGNoZXM6W3tmaW5kOiIsYWNjZXB0SW52aXRlOmZ1bmN0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6L0lOVklURV9BQ0NFUFRfU1VDQ0VTUy4rPzsoXGkpPW51bGwuKz87LyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmhhbmRsZU11dGUoJHt0fSk7YH19LHtmaW5kOiJ7am9pbkd1aWxkOmZ1bmN0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6L2d1aWxkSWQ6KFx3KyksbHVya2VyOihcdyspLnswLDIwfVwpfVwpXCk7LyxyZXBsYWNlOihlLHQsbik9PmAke2V9aWYoISR7bn0pJHNlbGYuaGFuZGxlTXV0ZSgke3R9KTtgfX1dLHNldHRpbmdzOk1hLGhhbmRsZU11dGUoZSl7ZT09PSJAbWUifHxlPT09Im51bGwifHxlPT1udWxsfHxrbigidXBkYXRlR3VpbGROb3RpZmljYXRpb25TZXR0aW5ncyIpLnVwZGF0ZUd1aWxkTm90aWZpY2F0aW9uU2V0dGluZ3MoZSx7bXV0ZWQ6TWEuc3RvcmUuZ3VpbGQsc3VwcHJlc3NfZXZlcnlvbmU6TWEuc3RvcmUuZXZlcnlvbmUsc3VwcHJlc3Nfcm9sZXM6TWEuc3RvcmUucm9sZX0pfX0pfSk7ZnVuY3Rpb24gUFAoZSl7cmV0dXJuIGUubmFtZXx8ZS5yZWNpcGllbnRzLm1hcChHLmdldFVzZXIpLmZpbHRlcihxbCkubWFwKHQ9PnN0LmdldE5pY2tuYW1lKHQuaWQpfHx3UC5nZXROYW1lKHQpKS5qb2luKCIsICIpfXZhciBUUCx4UCx3UCxJbyxNUCxuZCxVMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO1JzKCk7TSgpO0YoKTt3KCk7VFA9Qygic2VsZWN0UHJpdmF0ZUNoYW5uZWwiKSx4UD1DKCJnZXRDaGFubmVsSWNvblVSTCIpLHdQPUMoImdldEdsb2JhbE5hbWUiKSxJbz1DKCJlbXB0eUljb25GcmllbmRzIiwiZW1wdHlJY29uR3VpbGRzIiksTVA9QygiZ3VpbGROaWNrIiwiZ3VpbGRBdmF0YXJXaXRob3V0SWNvbiIpO25kPXYoe25hbWU6Ik11dHVhbEdyb3VwRE1zIixkZXNjcmlwdGlvbjoiU2hvd3MgbXV0dWFsIGdyb3VwIGRtcyBpbiBwcm9maWxlcyIsYXV0aG9yczpbbS5hbWlhXSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLlVTRVJfUFJPRklMRV9NT0RBTCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PVwuTVVUVUFMX0dVSUxEU1x9XCksKSg/PShcaVwuYm90KS57MCwyMH0oXCgwLFxpXC5qc3hcKVwoLnswLDEwMH1pZDopKS8scmVwbGFjZTonJDE/bnVsbDokMiJNVVRVQUxfR0RNUyIsY2hpbGRyZW46Ik11dHVhbCBHcm91cHMifSksJ30se21hdGNoOi8oPzw9e3VzZXI6KFxpKSxvbkNsb3NlOihcaSl9XCk7KSg/PWNhc2UgXGlcLlxpXC5NVVRVQUxfRlJJRU5EUykvLHJlcGxhY2U6J2Nhc2UgIk1VVFVBTF9HRE1TIjpyZXR1cm4gJHNlbGYucmVuZGVyTXV0dWFsR0RNcygkMSwkMik7J31dfV0scmVuZGVyTXV0dWFsR0RNcyhlLHQpe2xldCBuPXRlLmdldFNvcnRlZFByaXZhdGVDaGFubmVscygpLmZpbHRlcihyPT5yLmlzR3JvdXBETSgpJiZyLnJlY2lwaWVudHMuaW5jbHVkZXMoZS5pZCkpLm1hcChyPT5vKHhzLHtjbGFzc05hbWU6SW8ubGlzdFJvdyxvbkNsaWNrOigpPT57dCgpLFRQLnNlbGVjdFByaXZhdGVDaGFubmVsKHIuaWQpfX0sbyh3cyx7c3JjOnhQLmdldENoYW5uZWxJY29uVVJMKHtpZDpyLmlkLGljb246ci5pY29uLHNpemU6MzJ9KSxzaXplOiJTSVpFXzQwIixjbGFzc05hbWU6SW8ubGlzdEF2YXRhcn0pLG8oImRpdiIse2NsYXNzTmFtZTpJby5saXN0Um93Q29udGVudH0sbygiZGl2Iix7Y2xhc3NOYW1lOklvLmxpc3ROYW1lfSxQUChyKSksbygiZGl2Iix7Y2xhc3NOYW1lOk1QLmd1aWxkTmlja30sci5yZWNpcGllbnRzLmxlbmd0aCsxLCIgTWVtYmVycyIpKSkpO3JldHVybiBvKFRzLHtjbGFzc05hbWU6SW8ubGlzdFNjcm9sbGVyLGZhZGU6ITAsb25DbG9zZTp0fSxuLmxlbmd0aD4wP246bygiZGl2Iix7Y2xhc3NOYW1lOklvLmVtcHR5fSxvKCJkaXYiLHtjbGFzc05hbWU6SW8uZW1wdHlJY29uRnJpZW5kc30pLG8oImRpdiIse2NsYXNzTmFtZTpJby5lbXB0eVRleHR9LCJObyBncm91cCBkbXMgaW4gY29tbW9uIikpKX19KX0pO3ZhciBJUCxvZCxHMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7RigpO0lQPUMoImdldFJlbGF0aW9uc2hpcHMiLCJpc0Jsb2NrZWQiKSxvZD12KHtuYW1lOiJOb0Jsb2NrZWRNZXNzYWdlcyIsZGVzY3JpcHRpb246IkhpZGVzIGFsbCBibG9ja2VkIG1lc3NhZ2VzIGZyb20gY2hhdCBjb21wbGV0ZWx5LiIsYXV0aG9yczpbbS5ydXNoaWksbS5TYW11XSxwYXRjaGVzOlt7ZmluZDonc2FmZXR5X3Byb21wdDoiRE1TcGFtRXhwZXJpbWVudCIscmVzcG9uc2U6InNob3dfcmVkYWN0ZWRfbWVzc2FnZXMiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9cLmNvbGxhcHNlZFJlYXNvbjtyZXR1cm4vLHJlcGxhY2U6Ii5jb2xsYXBzZWRSZWFzb247cmV0dXJuIG51bGw7cmV0dXJuOyJ9XX0sLi4uWydkaXNwbGF5TmFtZT0iTWVzc2FnZVN0b3JlIicsJ2Rpc3BsYXlOYW1lPSJSZWFkU3RhdGVTdG9yZSInXS5tYXAoZT0+KHtmaW5kOmUscHJlZGljYXRlOigpPT5rLnBsdWdpbnMuTm9CbG9ja2VkTWVzc2FnZXMuaWdub3JlQmxvY2tlZE1lc3NhZ2VzPT09ITAscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PU1FU1NBR0VfQ1JFQVRFOmZ1bmN0aW9uXCgoXGkpXCl7KS8scmVwbGFjZToodCxuKT0+YGlmKCRzZWxmLmlzQmxvY2tlZCgke259Lm1lc3NhZ2UpKXJldHVybjtgfV19KSldLG9wdGlvbnM6e2lnbm9yZUJsb2NrZWRNZXNzYWdlczp7ZGVzY3JpcHRpb246IkNvbXBsZXRlbHkgaWdub3JlcyAocmVjZW50KSBpbmNvbWluZyBtZXNzYWdlcyBmcm9tIGJsb2NrZWQgdXNlcnMgKGxvY2FsbHkpLiIsdHlwZTozLGRlZmF1bHQ6ITEscmVzdGFydE5lZWRlZDohMH19LGlzQmxvY2tlZDplPT5JUC5pc0Jsb2NrZWQoZS5hdXRob3IuaWQpfSl9KTt2YXIgcmQsSDE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7cmQ9dih7bmFtZToiTm9EZXZ0b29sc1dhcm5pbmciLGRlc2NyaXB0aW9uOiJEaXNhYmxlcyB0aGUgJ0hPTEQgVVAnIGJhbm5lciBpbiB0aGUgY29uc29sZS4gQXMgYSBzaWRlIGVmZmVjdCwgYWxzbyBwcmV2ZW50cyBEaXNjb3JkIGZyb20gaGlkaW5nIHlvdXIgdG9rZW4sIHdoaWNoIHByZXZlbnRzIHJhbmRvbSBsb2dvdXRzLiIsYXV0aG9yczpbbS5WZW5dLHBhdGNoZXM6W3tmaW5kOiJzZXREZXZ0b29sc0NhbGxiYWNrcyIscmVwbGFjZW1lbnQ6e21hdGNoOi9pZlwoLnswLDEwfVx8XHwiMC4wLjAiIT09LnswLDJ9XC5yZW1vdGVBcHBcLmdldFZlcnNpb25cKFwpXCkvLHJlcGxhY2U6ImlmKGZhbHNlKSJ9fV19KX0pO3ZhciBpZCx6MT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtpZD12KHtuYW1lOiJOb0YxIixkZXNjcmlwdGlvbjoiRGlzYWJsZXMgRjEgaGVscCBiaW5kLiIsYXV0aG9yczpbbS5DeW5dLHBhdGNoZXM6W3tmaW5kOicsImYxIl0sY29tYm9LZXlzQmluZEdsb2JhbDonLHJlcGxhY2VtZW50OnttYXRjaDonLCJmMSJdLGNvbWJvS2V5c0JpbmRHbG9iYWw6JyxyZXBsYWNlOiJdLGNvbWJvS2V5c0JpbmRHbG9iYWw6In19XX0pfSk7dmFyIENQLGtpLHNkLGoxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7UCgpO00oKTtGKCk7Q1A9QygiZ2V0TWVzc2FnZVJlcXVlc3RzQ291bnQiKSxraT1FKHtoaWRlRnJpZW5kUmVxdWVzdHNDb3VudDp7dHlwZTozLGRlc2NyaXB0aW9uOiJIaWRlIGluY29taW5nIGZyaWVuZCByZXF1ZXN0cyBjb3VudCIsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfSxoaWRlTWVzc2FnZVJlcXVlc3RzQ291bnQ6e3R5cGU6MyxkZXNjcmlwdGlvbjoiSGlkZSBtZXNzYWdlIHJlcXVlc3RzIGNvdW50IixkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9LGhpZGVQcmVtaXVtT2ZmZXJzQ291bnQ6e3R5cGU6MyxkZXNjcmlwdGlvbjoiSGlkZSBuaXRybyBvZmZlcnMgY291bnQiLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH19KSxzZD12KHtuYW1lOiJOb1BlbmRpbmdDb3VudCIsZGVzY3JpcHRpb246IlJlbW92ZXMgdGhlIHBpbmcgY291bnQgb2YgaW5jb21pbmcgZnJpZW5kIHJlcXVlc3RzLCBtZXNzYWdlIHJlcXVlc3RzLCBhbmQgbml0cm8gb2ZmZXJzLiIsYXV0aG9yczpbbS5hbWlhXSxzZXR0aW5nczpraSxwYXRjaGVzOlt7ZmluZDoiLmdldFBlbmRpbmdDb3VudD0iLHByZWRpY2F0ZTooKT0+a2kuc3RvcmUuaGlkZUZyaWVuZFJlcXVlc3RzQ291bnQscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9XC5nZXRQZW5kaW5nQ291bnQ9ZnVuY3Rpb25cKFwpXHspLyxyZXBsYWNlOiJyZXR1cm4gMDsifX0se2ZpbmQ6Ii5nZXRNZXNzYWdlUmVxdWVzdHNDb3VudD0iLHByZWRpY2F0ZTooKT0+a2kuc3RvcmUuaGlkZU1lc3NhZ2VSZXF1ZXN0c0NvdW50LHJlcGxhY2VtZW50OnttYXRjaDovKD88PVwuZ2V0TWVzc2FnZVJlcXVlc3RzQ291bnQ9ZnVuY3Rpb25cKFwpXHspLyxyZXBsYWNlOiJyZXR1cm4gMDsifX0se2ZpbmQ6Ii5nZXRTcGFtQ2hhbm5lbHNDb3VudCgpLCIscHJlZGljYXRlOigpPT5raS5zdG9yZS5oaWRlTWVzc2FnZVJlcXVlc3RzQ291bnQscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9Z2V0U3BhbUNoYW5uZWxzQ291bnRcKFwpLFxpPSlcaVwuZ2V0TWVzc2FnZVJlcXVlc3RzQ291bnRcKFwpLyxyZXBsYWNlOiIkc2VsZi5nZXRSZWFsTWVzc2FnZVJlcXVlc3RDb3VudCgpIn19LHtmaW5kOiJzaG93UHJvZ3Jlc3NCYWRnZToiLHByZWRpY2F0ZTooKT0+a2kuc3RvcmUuaGlkZVByZW1pdW1PZmZlcnNDb3VudCxyZXBsYWNlbWVudDp7bWF0Y2g6L1woZnVuY3Rpb25cKFwpe3JldHVybiBcaVwuXGlcLmdldFVuYWNrbm93bGVkZ2VkT2ZmZXJzXChcaVwpXC5sZW5ndGh9XCkvLHJlcGxhY2U6IihmdW5jdGlvbigpe3JldHVybiAwfSkifX1dLGdldFJlYWxNZXNzYWdlUmVxdWVzdENvdW50KCl7cmV0dXJuIENQLmdldE1lc3NhZ2VSZXF1ZXN0Q2hhbm5lbElkcygpLnNpemV9fSl9KTt2YXIgYWQsVzE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7YWQ9dih7bmFtZToiTm9Qcm9maWxlVGhlbWVzIixkZXNjcmlwdGlvbjoiQ29tcGxldGVseSByZW1vdmVzIE5pdHJvIHByb2ZpbGUgdGhlbWVzIixhdXRob3JzOlttLlRoZUtvZGVUb2FkXSxwYXRjaGVzOlt7ZmluZDoiLk5JVFJPX0JBTk5FUiwiLHJlcGxhY2VtZW50OnttYXRjaDovPSg/PVxpXC5caVwuaXNQcmVtaXVtQXRMZWFzdFwobnVsbD09KFxpKSkvLHJlcGxhY2U6Ij0kMT8uYmFubmVyJiYifX0se2ZpbmQ6IigpLmF2YXRhclBvc2l0aW9uUHJlbWl1bU5vQmFubmVyLGRlZmF1bHQ6IixyZXBsYWNlbWVudDp7bWF0Y2g6L1wuYXZhdGFyUG9zaXRpb25QcmVtaXVtTm9CYW5uZXIoPz0sZGVmYXVsdDpcaVwoXClcLihcaSkpLyxyZXBsYWNlOiIuJDEifX0se2ZpbmQ6Ii5oYXNUaGVtZUNvbG9ycz1mdW5jdGlvbigpeyIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9a2V5OiJjYW5Vc2VQcmVtaXVtUHJvZmlsZUN1c3RvbWl6YXRpb24iLGdldDpmdW5jdGlvblwoXCl7cmV0dXJuKS8scmVwbGFjZToiIGZhbHNlOyJ9fV19KX0pO3ZhciBQYSxsZCxxMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7UGE9RSh7dXNlckxpc3Q6e2Rlc2NyaXB0aW9uOiJMaXN0IG9mIHVzZXJzIHRvIGFsbG93IG9yIGV4ZW1wdCBwaW5ncyBmb3IgKHNlcGFyYXRlZCBieSBjb21tYXMgb3Igc3BhY2VzKSIsdHlwZTowLGRlZmF1bHQ6IjEyMzQ1Njc4OTAxMjM0NDUsMTIzNDU2Nzg5MDEyMzQ0NSJ9LHNob3VsZFBpbmdMaXN0ZWQ6e2Rlc2NyaXB0aW9uOiJCZWhhdmlvdXIiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IkRvIG5vdCBwaW5nIHRoZSBsaXN0ZWQgdXNlcnMiLHZhbHVlOiExfSx7bGFiZWw6Ik9ubHkgcGluZyB0aGUgbGlzdGVkIHVzZXJzIix2YWx1ZTohMCxkZWZhdWx0OiEwfV19LGludmVyc2VTaGlmdFJlcGx5OntkZXNjcmlwdGlvbjoiSW52ZXJ0IERpc2NvcmQncyBzaGlmdCByZXBseWluZyBiZWhhdmlvdXIgKGVuYWJsZSB0byBtYWtlIHNoaWZ0IHJlcGx5IG1lbnRpb24gdXNlcikiLHR5cGU6MyxkZWZhdWx0OiExfX0pLGxkPXYoe25hbWU6Ik5vUmVwbHlNZW50aW9uIixkZXNjcmlwdGlvbjoiRGlzYWJsZXMgcmVwbHkgcGluZ3MgYnkgZGVmYXVsdCIsYXV0aG9yczpbbS5EdXN0eUFuZ2VsNDcsbS5heHlpZSxtLnB5bGl4LG0ub3V0Zm94eGVkXSxzZXR0aW5nczpQYSxzaG91bGRNZW50aW9uKGUsdCl7bGV0IG49UGEuc3RvcmUudXNlckxpc3QuaW5jbHVkZXMoZS5hdXRob3IuaWQpLHI9UGEuc3RvcmUuc2hvdWxkUGluZ0xpc3RlZD9uOiFuO3JldHVybiBQYS5zdG9yZS5pbnZlcnNlU2hpZnRSZXBseT90IT09cjohdCYmcn0scGF0Y2hlczpbe2ZpbmQ6JywiTWVzc2FnZSIpfWZ1bmN0aW9uJyxyZXBsYWNlbWVudDp7bWF0Y2g6LzooXGkpLHNob3VsZE1lbnRpb246IShcaSlcLnNoaWZ0S2V5LyxyZXBsYWNlOiI6JDEsc2hvdWxkTWVudGlvbjokc2VsZi5zaG91bGRNZW50aW9uKCQxLCQyLnNoaWZ0S2V5KSJ9fV19KX0pO3ZhciBjZCxLMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtjZD12KHtuYW1lOiJOb1NjcmVlbnNoYXJlUHJldmlldyIsZGVzY3JpcHRpb246IkRpc2FibGVzIHNjcmVlbnNoYXJlIHByZXZpZXdzIGZyb20gYmVpbmcgc2VudC4iLGF1dGhvcnM6W20uTnVja3l6XSxwYXRjaGVzOlt7ZmluZDonKCJBcHBsaWNhdGlvblN0cmVhbVByZXZpZXdVcGxvYWRNYW5hZ2VyIiknLHJlcGxhY2VtZW50OlsiXFxpXFwuZGVmYXVsdFxcLm1ha2VDaHVua2VkUmVxdWVzdFxcKCIsIlxcaVxcLlxcaVxcLnBvc3RcXCh7dXJsOiJdLm1hcChlPT4oe21hdGNoOm5ldyBSZWdFeHAoYCg/PXJldHVyblxcWyhcXGQpLCR7ZX1cXGlcXC5cXGlcXC5TVFJFQU1fUFJFVklFVy4rP31cXClcXF07KWApLHJlcGxhY2U6KHQsbik9PmByZXR1cm5bJHtufSxQcm9taXNlLnJlc29sdmUoe2JvZHk6IiIsc3RhdHVzOjIwNH0pXTtgfSkpfV19KX0pO3ZhciB1ZCxZMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTt1ZD12KHtuYW1lOiJOb1VuYmxvY2tUb0p1bXAiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIGp1bXAgdG8gbWVzc2FnZXMgb2YgYmxvY2tlZCB1c2VycyB3aXRob3V0IHVuYmxvY2tpbmcgdGhlbSIsYXV0aG9yczpbbS5kenNobl0scGF0Y2hlczpbe2ZpbmQ6Jy5pZCwiU2VhcmNoIFJlc3VsdHMiJyxyZXBsYWNlbWVudDp7bWF0Y2g6L2lmXCguezEsMTB9XCkoLnsxLDEwfVwuc2hvd1woey57MSw1MH1VTkJMT0NLX1RPX0pVTVBfVElUTEUpLyxyZXBsYWNlOiJpZihmYWxzZSkkMSJ9fSx7ZmluZDoicmVuZGVySnVtcEJ1dHRvbj1mdW5jdGlvbigpIixyZXBsYWNlbWVudDp7bWF0Y2g6L2lmXCguezEsMTB9XCkoLnsxLDEwfVwuc2hvd1woey57MSw1MH1VTkJMT0NLX1RPX0pVTVBfVElUTEUpLyxyZXBsYWNlOiJpZihmYWxzZSkkMSJ9fSx7ZmluZDoiZmxhc2g6ITAscmV0dXJuTWVzc2FnZUlkIixyZXBsYWNlbWVudDp7bWF0Y2g6Ly5cPyguezEsMTB9XC5zaG93XCh7LnsxLDUwfVVOQkxPQ0tfVE9fSlVNUF9USVRMRSkvLHJlcGxhY2U6ImZhbHNlPyQxIn19XX0pfSk7dmFyIHBkLFoxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO3BkPXYoe25hbWU6Ik5TRldHYXRlQnlwYXNzIixkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byBhY2Nlc3MgTlNGVyBjaGFubmVscyB3aXRob3V0IHNldHRpbmcvdmVyaWZ5aW5nIHlvdXIgYWdlIixhdXRob3JzOlttLkNvbW1hbmR0ZWNobm9dLHBhdGNoZXM6W3tmaW5kOiIubnNmd0FsbG93ZWQ9bnVsbCIscmVwbGFjZW1lbnQ6e21hdGNoOi8oXHcrKVwubnNmd0FsbG93ZWQ9LyxyZXBsYWNlOiIkMS5uc2Z3QWxsb3dlZD10cnVlOyJ9fV19KX0pO3ZhciBkZCxYMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtkZD12KHtuYW1lOiJvbmVrbyIsZGVzY3JpcHRpb246ImNhdCBmb2xsb3cgbW91c2UgKHJlYWwpIixhdXRob3JzOlttLlZlbixtLmFkcnlkXSxzdGFydCgpe2YoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHJ5ZDMyNS9vbmVrby5qcy81OTc3MTQ0ZGNlODNlNGQ3MWFmMWRlMDA1ZDE2ZTM4ZWViZWI3YjcyL29uZWtvLmpzIikudGhlbihlPT5lLnRleHQoKSkudGhlbihlPT5lLnJlcGxhY2UoIi4vb25la28uZ2lmIiwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FkcnlkMzI1L29uZWtvLmpzLzE0YmFiMTVhNzU1ZDBlMzVjZDRhZTE5YzkzMWQ5NmQzMDZmOTlmNDIvb25la28uZ2lmIikpLnRoZW4oZXZhbCl9LHN0b3AoKXtjbGVhckludGVydmFsKHVuc2FmZVdpbmRvdy5vbmVrb0ludGVydmFsKSxkZWxldGUgdW5zYWZlV2luZG93Lm9uZWtvSW50ZXJ2YWwsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9uZWtvIik/LnJlbW92ZSgpfX0pfSk7dmFyIE5QLFJQLGtQLGVyLG1kLEoxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7UCgpO00oKTt3KCk7TlA9L15odHRwczpcL1wvb3Blblwuc3BvdGlmeVwuY29tXC8odHJhY2t8YWxidW18YXJ0aXN0fHBsYXlsaXN0fHVzZXIpXC8oLispKD86XD8uKz8pPyQvLFJQPS9eaHR0cHM6XC9cLyhzdGVhbWNvbW11bml0eVwuY29tfCg/OmhlbHB8c3RvcmUpXC5zdGVhbXBvd2VyZWRcLmNvbSlcLy4rJC8sa1A9L15odHRwczpcL1wvc3RvcmVcLmVwaWNnYW1lc1wuY29tXC8oLispJC8sZXI9RSh7c3BvdGlmeTp7dHlwZTozLGRlc2NyaXB0aW9uOiJPcGVuIFNwb3RpZnkgbGlua3MgaW4gdGhlIFNwb3RpZnkgYXBwIixkZWZhdWx0OiEwfSxzdGVhbTp7dHlwZTozLGRlc2NyaXB0aW9uOiJPcGVuIFN0ZWFtIGxpbmtzIGluIHRoZSBTdGVhbSBhcHAiLGRlZmF1bHQ6ITB9LGVwaWM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiT3BlbiBFcGljIEdhbWVzIGxpbmtzIGluIHRoZSBFcGljIEdhbWVzIExhdW5jaGVyIixkZWZhdWx0OiEwfX0pLG1kPXYoe25hbWU6Ik9wZW5JbkFwcCIsZGVzY3JpcHRpb246Ik9wZW4gU3BvdGlmeSwgU3RlYW0gYW5kIEVwaWMgR2FtZXMgVVJMcyBpbiB0aGVpciByZXNwZWN0aXZlIGFwcHMgaW5zdGVhZCBvZiB5b3VyIGJyb3dzZXIiLGF1dGhvcnM6W20uVmVuXSxzZXR0aW5nczplcixwYXRjaGVzOlt7ZmluZDonIk1hc2tlZExpbmtTdG9yZSInLHJlcGxhY2VtZW50OnttYXRjaDovcmV0dXJuICgoXGkpXC5hcHBseVwodGhpcyxhcmd1bWVudHNcKSkoPz1cfWZ1bmN0aW9uIFxpLnswLDIwMH1cLnRydXN0ZWQpLyxyZXBsYWNlOiJyZXR1cm4gJHNlbGYuaGFuZGxlTGluayguLi5hcmd1bWVudHMpLnRoZW4oaGFuZGxlZCA9PiBoYW5kbGVkIHx8ICQxKSJ9fSx7ZmluZDoiV0VCX09QRU4oIixwcmVkaWNhdGU6KCk9PmVyLnN0b3JlLnNwb3RpZnkscmVwbGFjZW1lbnQ6e21hdGNoOi9caVwuXGlcLmlzUHJvdG9jb2xSZWdpc3RlcmVkXChcKSguezAsMTAwfSl3aW5kb3cub3Blbi9nLHJlcGxhY2U6InRydWUkMVZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCJ9fSx7ZmluZDoiLkNPTk5FQ1RFRF9BQ0NPVU5UX1ZJRVdFRCwiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWhyZWY6XGksb25DbGljazpmdW5jdGlvblwoXGlcKVx7KSg/PVxpPShcaSlcLnR5cGUsLnswLDUwfUNPTk5FQ1RFRF9BQ0NPVU5UX1ZJRVdFRCkvLHJlcGxhY2U6IiRzZWxmLmhhbmRsZUFjY291bnRWaWV3KGFyZ3VtZW50c1swXSwkMS50eXBlLCQxLmlkKTsifX1dLGFzeW5jIGhhbmRsZUxpbmsoZSx0KXtpZighZSlyZXR1cm4hMTtsZXQgbj1lLmhyZWY7ZTp7aWYoIWVyLnN0b3JlLnNwb3RpZnkpYnJlYWsgZTtsZXQgcj1OUC5leGVjKG4pO2lmKCFyKWJyZWFrIGU7bGV0WyxpLHNdPXI7cmV0dXJuIFZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbChgc3BvdGlmeToke2l9OiR7c31gKSx0Py5wcmV2ZW50RGVmYXVsdCgpLCEwfWU6e2lmKCFlci5zdG9yZS5zdGVhbXx8IVJQLnRlc3QobikpYnJlYWsgZTtyZXR1cm4gVmVuY29yZE5hdGl2ZS5uYXRpdmUub3BlbkV4dGVybmFsKGBzdGVhbTovL29wZW51cmwvJHtufWApLHQ/LnByZXZlbnREZWZhdWx0KCksTG4oIk9wZW5lZCBsaW5rIGluIFN0ZWFtIixaLlR5cGUuU1VDQ0VTUyksITB9ZTp7aWYoIWVyLnN0b3JlLmVwaWMpYnJlYWsgZTtsZXQgcj1rUC5leGVjKG4pO2lmKCFyKWJyZWFrIGU7cmV0dXJuIFZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbChgY29tLmVwaWNnYW1lcy5sYXVuY2hlcjovL3N0b3JlLyR7clsxXX1gKSx0Py5wcmV2ZW50RGVmYXVsdCgpLCEwfXJldHVybiB0Py5kZWZhdWx0UHJldmVudGVkPyh1bnNhZmVXaW5kb3cub3BlbihuLCJfYmxhbmsiKSwhMCk6ITF9LGhhbmRsZUFjY291bnRWaWV3KGUsdCxuKXt0PT09InNwb3RpZnkiJiZlci5zdG9yZS5zcG90aWZ5PyhWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoYHNwb3RpZnk6dXNlcjoke259YCksZS5wcmV2ZW50RGVmYXVsdCgpKTp0PT09InN0ZWFtIiYmZXIuc3RvcmUuc3RlYW0mJihWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoYHN0ZWFtOi8vb3BlbnVybC9odHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9wcm9maWxlcy8ke259YCksTG4oIk9wZW5lZCBsaW5rIGluIFN0ZWFtIixaLlR5cGUuU1VDQ0VTUyksZS5wcmV2ZW50RGVmYXVsdCgpKX19KX0pO2Z1bmN0aW9uIFYxKGUpe09iamVjdC5hc3NpZ24oZVMuX19nZXRMb2NhbFZhcnMoKS5zdGF0ZSx7ZW5hYmxlZDplLHNldHRpbmdzVmlzaWJsZTplfSl9ZnVuY3Rpb24gdFMoZSl7bGV0IHQ9e3NjcmVlbnNoYWtlRW5hYmxlZExvY2F0aW9uczp7MDohMCwxOiEwLDI6ITB9LHNoYWtlSW50ZW5zaXR5OjEsY29uZmV0dGlTaXplOjE2LGNvbmZldHRpQ291bnQ6NSxjb21ib3NSZXF1aXJlZENvdW50OjF9O3N3aXRjaChlKXtjYXNlIDA6e09iamVjdC5hc3NpZ24odCx7c2NyZWVuc2hha2VFbmFibGVkTG9jYXRpb25zOnswOiEwLDE6ITEsMjohMX0sY29tYm9zUmVxdWlyZWRDb3VudDo1fSk7YnJlYWt9Y2FzZSAxOntPYmplY3QuYXNzaWduKHQse2NvbmZldHRpU2l6ZToxMixjb25mZXR0aUNvdW50Ojh9KTticmVha31jYXNlIDI6e09iamVjdC5hc3NpZ24odCx7c2hha2VJbnRlbnNpdHk6MjAsY29uZmV0dGlTaXplOjI1LGNvbmZldHRpQ291bnQ6MTV9KTticmVha319T2JqZWN0LmFzc2lnbihlUy5fX2dldExvY2FsVmFycygpLnN0YXRlLHQpfXZhciBlUyxRMSxmZCxuUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7RigpO2VTPWxlKCJQb2dnZXJtb2RlU2V0dGluZ3NTdG9yZSIpLFExPUUoe3N1cGVySW50ZW5zZVBhcnR5TW9kZTp7ZGVzY3JpcHRpb246IlBhcnR5IGludGVuc2l0eSIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiTm9ybWFsIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQmV0dGVyIix2YWx1ZToxfSx7bGFiZWw6IlByb2plY3QgWCIsdmFsdWU6Mn1dLHJlc3RhcnROZWVkZWQ6ITEsb25DaGFuZ2U6dFN9fSksZmQ9dih7bmFtZToiUGFydHkgbW9kZSBcdXsxRjM4OX0iLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHVzZSBwYXJ0eSBtb2RlIGNhdXNlIHRoZSBwYXJ0eSBuZXZlciBlbmRzIFx1MjcyOCIsYXV0aG9yczpbbS5Vd1VEZXZdLHNldHRpbmdzOlExLHN0YXJ0KCl7VjEoITApLHRTKFExLnN0b3JlLnN1cGVySW50ZW5zZVBhcnR5TW9kZSl9LHN0b3AoKXtWMSghMSl9fSl9KTt2YXIgb1M9ZygoKT0+e30pO2Z1bmN0aW9uIEFQKGUpe3JldHVybiBZbihlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIl8iKSl9ZnVuY3Rpb24gSWEoZSl7cmV0dXJuIGU9clNbZV18fGUsY3QuTWVzc2FnZXNbZV18fEFQKGUpfWZ1bmN0aW9uIGlTKGUpe2U9PT0iVVNFX0FQUExJQ0FUSU9OX0NPTU1BTkRTIj9lPSJVU0VfQVBQTElDQVRJT05fQ09NTUFORFNfR1VJTEQiOmU9PT0iU0VORF9WT0lDRV9NRVNTQUdFUyI/ZT0iU0VORF9WT0lDRV9NRVNTQUdFX0dVSUxEIjplIT09IlNUUkVBTSImJihlPXJTW2VdfHxlKTtsZXQgdD1jdC5NZXNzYWdlc1tgUk9MRV9QRVJNSVNTSU9OU18ke2V9X0RFU0NSSVBUSU9OYF07cmV0dXJuIHQ/Lmhhc01hcmtkb3duP0FlLnBhcnNlKHQubWVzc2FnZSk6dHlwZW9mIHQ9PSJzdHJpbmciP3Q6IiJ9ZnVuY3Rpb24gQ2Eoe3JvbGVzOmUsaWQ6dH0sbil7cmV0dXJuWy4uLm4ucm9sZXMsdF0ubWFwKHI9PmVbcl0pLnNvcnQoKHIsaSk9PmkucG9zaXRpb24tci5wb3NpdGlvbil9ZnVuY3Rpb24gc1MoZSl7c3dpdGNoKENvLnN0b3JlLnBlcm1pc3Npb25zU29ydE9yZGVyKXtjYXNlIDA6cmV0dXJuIGUuc29ydCgodCxuKT0+bi5wb3NpdGlvbi10LnBvc2l0aW9uKTtjYXNlIDE6cmV0dXJuIGUuc29ydCgodCxuKT0+dC5wb3NpdGlvbi1uLnBvc2l0aW9uKTtkZWZhdWx0OnJldHVybiBlfX1mdW5jdGlvbiBOYShlLHQpe2xldCBuPW1lLmdldEd1aWxkKHQpO3JldHVybiBlLnNvcnQoKHIsaSk9PntpZihyLnR5cGUhPT0wfHxpLnR5cGUhPT0wKXJldHVybiAwO2xldCBzPW4ucm9sZXNbci5pZF07cmV0dXJuIG4ucm9sZXNbaS5pZF0ucG9zaXRpb24tcy5wb3NpdGlvbn0pfXZhciBEdCxyUyxBaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2UoKTtabigpO3coKTtFaSgpO0xpKCk7RHQ9YmUoInZjLXBlcm12aWV3ZXItIik7clM9e01BTkFHRV9HVUlMRDoiTUFOQUdFX1NFUlZFUiIsTUFOQUdFX0dVSUxEX0VYUFJFU1NJT05TOiJNQU5BR0VfRVhQUkVTU0lPTlMiLENSRUFURV9HVUlMRF9FWFBSRVNTSU9OUzoiQ1JFQVRFX0VYUFJFU1NJT05TIixNT0RFUkFURV9NRU1CRVJTOiJNT0RFUkFURV9NRU1CRVIiLFNUUkVBTToiVklERU8iLFNFTkRfVk9JQ0VfTUVTU0FHRVM6IlJPTEVfUEVSTUlTU0lPTlNfU0VORF9WT0lDRV9NRVNTQUdFIn19KTtmdW5jdGlvbiBnZCgpe3JldHVybiBvKCJzdmciLHtoZWlnaHQ6IjI0Iix3aWR0aDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInRpdGxlIixudWxsLCJEZW5pZWQiKSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tc3RhdHVzLWRhbmdlcikiLGQ6Ik0xOC40IDRMMTIgMTAuNEw1LjYgNEw0IDUuNkwxMC40IDEyTDQgMTguNEw1LjYgMjBMMTIgMTMuNkwxOC40IDIwTDIwIDE4LjRMMTMuNiAxMkwyMCA1LjZMMTguNCA0WiJ9KSl9ZnVuY3Rpb24gaGQoKXtyZXR1cm4gbygic3ZnIix7aGVpZ2h0OiIyNCIsd2lkdGg6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJ0aXRsZSIsbnVsbCwiQWxsb3dlZCIpLG8oInBhdGgiLHtmaWxsOiJ2YXIoLS10ZXh0LXBvc2l0aXZlKSIsZDoiTTguOTk5OTEgMTYuMTdMNC44Mjk5MSAxMkwzLjQwOTkxIDEzLjQxTDguOTk5OTEgMTlMMjAuOTk5OSA3LjAwMDAzTDE5LjU4OTkgNS41OTAwM0w4Ljk5OTkxIDE2LjE3WloifSkpfWZ1bmN0aW9uIGxTKCl7cmV0dXJuIG8oInN2ZyIse2hlaWdodDoiMjQiLHdpZHRoOiIyNCIsdmlld0JveDoiMCAwIDE2IDE2In0sbygiZyIsbnVsbCxvKCJ0aXRsZSIsbnVsbCwiTm90IG92ZXJ3cml0dGVuIiksbygicG9seWdvbiIse2ZpbGw6InZhcigtLXRleHQtbm9ybWFsKSIscG9pbnRzOiIxMiAyLjMyIDEwLjUxMyAyIDQgMTMuNjggNS40ODcgMTQifSkpKX12YXIgY1M9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gRVAoZSx0LG4pe3JldHVybiBQZShyPT5vKF9QLHttb2RhbFByb3BzOnIscGVybWlzc2lvbnM6ZSxndWlsZDp0LGhlYWRlcjpufSkpfWZ1bmN0aW9uIERQKHtwZXJtaXNzaW9uczplLGd1aWxkOnQsbW9kYWxQcm9wczpuLGhlYWRlcjpyfSl7ZS5zb3J0KCh1LHApPT51LnR5cGUtcC50eXBlKSxxZShbRmVdLCgpPT5GZS5nZXRNZW1iZXJJZHModC5pZCksbnVsbCwodSxwKT0+dS5sZW5ndGg9PT1wLmxlbmd0aCksRGUoKCk9PntsZXQgdT1lLmZpbHRlcihwPT5wLnR5cGU9PT0xJiYhRmUuaXNNZW1iZXIodC5pZCxwLmlkKSkubWFwKCh7aWQ6cH0pPT5wKTtPLmRpc3BhdGNoKHt0eXBlOiJHVUlMRF9NRU1CRVJTX1JFUVVFU1QiLGd1aWxkSWRzOlt0LmlkXSx1c2VySWRzOnV9KX0sW10pO2xldFtpLHNdPWooMCksYz1lW2ldO3JldHVybiBvKExlLHsuLi5uLHNpemU6ImxhcmdlIn0sbygkZSxudWxsLG8oZWUse2NsYXNzTmFtZTpEdCgicGVybXMtdGl0bGUiKSx2YXJpYW50OiJoZWFkaW5nLWxnL3NlbWlib2xkIn0sciwiIHBlcm1pc3Npb25zOiIpLG8oUnQse29uQ2xpY2s6bi5vbkNsb3NlfSkpLG8oVWUsbnVsbCwhYyYmbygiZGl2Iix7Y2xhc3NOYW1lOkR0KCJwZXJtcy1uby1wZXJtcyIpfSxvKGVlLHt2YXJpYW50OiJoZWFkaW5nLWxnL25vcm1hbCJ9LCJObyBwZXJtaXNzaW9ucyB0byBkaXNwbGF5ISIpKSxjJiZvKCJkaXYiLHtjbGFzc05hbWU6RHQoInBlcm1zLWNvbnRhaW5lciIpfSxvKCJkaXYiLHtjbGFzc05hbWU6RHQoInBlcm1zLWxpc3QiKX0sZS5tYXAoKHUscCk9PntsZXQgeT1HLmdldFVzZXIodS5pZD8/IiIpLGg9dC5yb2xlc1t1LmlkPz8iIl07cmV0dXJuIG8oImJ1dHRvbiIse2NsYXNzTmFtZTpEdCgicGVybXMtbGlzdC1pdGVtLWJ0biIpLG9uQ2xpY2s6KCk9PnMocCl9LG8oImRpdiIse2NsYXNzTmFtZTpEdCgicGVybXMtbGlzdC1pdGVtIix7InBlcm1zLWxpc3QtaXRlbS1hY3RpdmUiOmk9PT1wfSksb25Db250ZXh0TWVudTpTPT57Q28uc3RvcmUudW5zYWZlVmlld0FzUm9sZSYmdS50eXBlPT09MCYmbW4ub3BlbihTLCgpPT5vKE9QLHtndWlsZDp0LHJvbGVJZDp1LmlkLG9uQ2xvc2U6bi5vbkNsb3NlfSkpfX0sKHUudHlwZT09PTB8fHUudHlwZT09PTIpJiZvKCJzcGFuIix7Y2xhc3NOYW1lOkR0KCJwZXJtcy1yb2xlLWNpcmNsZSIpLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6aD8uY29sb3JTdHJpbmc/PyJ2YXIoLS1wcmltYXJ5LTMwMCkifX0pLHUudHlwZT09PTEmJnkhPT12b2lkIDAmJm8oImltZyIse2NsYXNzTmFtZTpEdCgicGVybXMtdXNlci1pbWciKSxzcmM6eS5nZXRBdmF0YXJVUkwodm9pZCAwLHZvaWQgMCwhMSl9KSxvKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LHUudHlwZT09PTA/aD8ubmFtZXx8IlVua25vd24gUm9sZSI6dS50eXBlPT09MT95JiZLbih5KXx8IlVua25vd24gVXNlciI6byhjZSx7c3R5bGU6e2dhcDoiMC4yZW0iLGp1c3RpZnlJdGVtczoiY2VudGVyIn19LCJAb3duZXIiLG8oQnkse2hlaWdodDoxOCx3aWR0aDoxOCwiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pKSkpKX0pKSxvKCJkaXYiLHtjbGFzc05hbWU6RHQoInBlcm1zLXBlcm1zIil9LE9iamVjdC5lbnRyaWVzKEt0KS5tYXAoKFt1LHBdKT0+bygiZGl2Iix7Y2xhc3NOYW1lOkR0KCJwZXJtcy1wZXJtcy1pdGVtIil9LG8oImRpdiIse2NsYXNzTmFtZTpEdCgicGVybXMtcGVybXMtaXRlbS1pY29uIil9LCgoKT0+e2xldHtwZXJtaXNzaW9uczp5LG92ZXJ3cml0ZUFsbG93Omgsb3ZlcndyaXRlRGVueTpTfT1jO3JldHVybiB5Pyh5JnApPT09cD9oZCgpOmdkKCk6aCYmKGgmcCk9PT1wP2hkKCk6UyYmKFMmcCk9PT1wP2dkKCk6bFMoKX0pKCkpLG8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sSWEodSkpLG8oWCx7dGV4dDppUyh1KXx8Ik5vIERlc2NyaXB0aW9uIn0seT0+byhfeSx7Li4ueX0pKSkpKSkpKX1mdW5jdGlvbiBPUCh7Z3VpbGQ6ZSxyb2xlSWQ6dCxvbkNsb3NlOm59KXtyZXR1cm4gbyhCLk1lbnUse25hdklkOkR0KCJyb2xlLWNvbnRleHQtbWVudSIpLG9uQ2xvc2U6bW4uY2xvc2UsImFyaWEtbGFiZWwiOiJSb2xlIE9wdGlvbnMifSxvKEIuTWVudUl0ZW0se2lkOiJ2Yy1wdy12aWV3LWFzLXJvbGUiLGxhYmVsOiJWaWV3IEFzIFJvbGUiLGFjdGlvbjooKT0+e2xldCByPWUucm9sZXNbdF07IXJ8fChuKCksTy5kaXNwYXRjaCh7dHlwZToiSU1QRVJTT05BVEVfVVBEQVRFIixndWlsZElkOmUuaWQsZGF0YTp7dHlwZToiUk9MRVMiLHJvbGVzOntbdF06cn19fSkpfX0pKX12YXIgX1AsQ3IsTGk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7YnQoKTt4bigpO2F0KCk7WmUoKTt3KCk7RWkoKTtBaSgpO2NTKCk7X1A9RC53cmFwKERQKSxDcj1FUH0pO3ZhciB1Uz1nKCgpPT57fSk7ZnVuY3Rpb24gRGkoe2NoaWxkcmVuOmUsb25Nb3JlQ2xpY2s6dCxidXR0b25zOm4sbW9yZVRvb2x0aXBUZXh0OnIsZGVmYXVsdFN0YXRlOmk9ITEsb25Ecm9wRG93bkNsaWNrOnMsaGVhZGVyVGV4dDpjfSl7bGV0W3UscF09aihpKTtyZXR1cm4gbyhkLG51bGwsbygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImZsZXgiLGp1c3RpZnlDb250ZW50OiJzcGFjZS1iZXR3ZWVuIixhbGlnbkl0ZW1zOiJjZW50ZXIiLG1hcmdpbkJvdHRvbToiOHB4In19LG8oZWUse3RhZzoiaDIiLHZhcmlhbnQ6ImV5ZWJyb3ciLHN0eWxlOntjb2xvcjoidmFyKC0taGVhZGVyLXByaW1hcnkpIixkaXNwbGF5OiJpbmxpbmUifX0sYyksbygiZGl2Iix7Y2xhc3NOYW1lOnlkKCJjZW50ZXItZmxleCIpfSxuPz9udWxsLHQmJm8oWCx7dGV4dDpyfSx5PT5vKCJidXR0b24iLHsuLi55LGNsYXNzTmFtZTp5ZCgiYnRuIiksb25DbGljazp0fSxvKCJzdmciLHt3aWR0aDoiMjQiLGhlaWdodDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInBhdGgiLHtmaWxsOiJ2YXIoLS10ZXh0LW5vcm1hbCkiLGQ6Ik03IDEyLjAwMUM3IDEwLjg5NjQgNi4xMDQ1NyAxMC4wMDEgNSAxMC4wMDFDMy44OTU0MyAxMC4wMDEgMyAxMC44OTY0IDMgMTIuMDAxQzMgMTMuMTA1NSAzLjg5NTQzIDE0LjAwMSA1IDE0LjAwMUM2LjEwNDU3IDE0LjAwMSA3IDEzLjEwNTUgNyAxMi4wMDFaTTE0IDEyLjAwMUMxNCAxMC44OTY0IDEzLjEwNDYgMTAuMDAxIDEyIDEwLjAwMUMxMC44OTU0IDEwLjAwMSAxMCAxMC44OTY0IDEwIDEyLjAwMUMxMCAxMy4xMDU1IDEwLjg5NTQgMTQuMDAxIDEyIDE0LjAwMUMxMy4xMDQ2IDE0LjAwMSAxNCAxMy4xMDU1IDE0IDEyLjAwMVpNMTkgMTAuMDAxQzIwLjEwNDYgMTAuMDAxIDIxIDEwLjg5NjQgMjEgMTIuMDAxQzIxIDEzLjEwNTUgMjAuMTA0NiAxNC4wMDEgMTkgMTQuMDAxQzE3Ljg5NTQgMTQuMDAxIDE3IDEzLjEwNTUgMTcgMTIuMDAxQzE3IDEwLjg5NjQgMTcuODk1NCAxMC4wMDEgMTkgMTAuMDAxWiJ9KSkpKSxvKFgse3RleHQ6dT8iSGlkZSAiK2M6IlNob3cgIitjfSx5PT5vKCJidXR0b24iLHsuLi55LGNsYXNzTmFtZTp5ZCgiYnRuIiksb25DbGljazooKT0+e3AoaD0+IWgpLHM/Lih1KX19LG8oInN2ZyIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0Iix0cmFuc2Zvcm06dT8ic2NhbGUoMSAtMSkiOiJzY2FsZSgxIDEpIn0sbygicGF0aCIse2ZpbGw6InZhcigtLXRleHQtbm9ybWFsKSIsZDoiTTE2LjU5IDguNTkwMDNMMTIgMTMuMTdMNy40MSA4LjU5MDAzTDYgMTBMMTIgMTZMMTggMTBMMTYuNTkgOC41OTAwM1oifSkpKSkpKSx1JiZlKX12YXIgeWQsdmQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09lKCk7dygpO3VTKCk7eWQ9YmUoInZjLWV4cGFuZGFibGVoZWFkZXItIil9KTtmdW5jdGlvbiBGUCh7Z3VpbGQ6ZSxndWlsZE1lbWJlcjp0fSl7bGV0IG49Q28udXNlKFsicGVybWlzc2lvbnNTb3J0T3JkZXIiXSksW3IsaV09SXQoKCk9PntsZXQgQT1bXSxOPUNhKGUsdCksST1OLm1hcCgkPT4oe3R5cGU6MCwuLi4kfSkpO2lmKGUub3duZXJJZD09PXQudXNlcklkKXtJLnB1c2goe3R5cGU6MixwZXJtaXNzaW9uczpPYmplY3QudmFsdWVzKEt0KS5yZWR1Y2UoKF8sSyk9Pl98Sywwbil9KTtsZXQgJD1jdC5NZXNzYWdlcy5HVUlMRF9PV05FUnx8IlNlcnZlciBPd25lciI7QS5wdXNoKHtwZXJtaXNzaW9uOiQscm9sZUNvbG9yOiJ2YXIoLS1wcmltYXJ5LTMwMCkiLHJvbGVQb3NpdGlvbjoxLzB9KX1zUyhOKTtmb3IobGV0WyQsX11vZiBPYmplY3QuZW50cmllcyhLdCkpZm9yKGxldHtwZXJtaXNzaW9uczpLLGNvbG9yU3RyaW5nOm5lLHBvc2l0aW9uOlksbmFtZTpxfW9mIE4paWYoKEsmXyk9PT1fKXtBLnB1c2goe3Blcm1pc3Npb246SWEoJCkscm9sZUNvbG9yOm5lfHwidmFyKC0tcHJpbWFyeS0zMDApIixyb2xlUG9zaXRpb246WX0pO2JyZWFrfXJldHVybiBBLnNvcnQoKCQsXyk9Pl8ucm9sZVBvc2l0aW9uLSQucm9sZVBvc2l0aW9uKSxbSSxBXX0sW24ucGVybWlzc2lvbnNTb3J0T3JkZXJdKSx7cm9vdDpzLHJvbGU6Yyxyb2xlUmVtb3ZlQnV0dG9uOnUscm9sZU5hbWVPdmVyZmxvdzpwLHJvbGVzOnkscm9sZVBpbGw6aCxyb2xlUGlsbEJvcmRlcjpTLHJvbGVDaXJjbGU6Yixyb2xlTmFtZTp4fT1CUDtyZXR1cm4gbyhEaSx7aGVhZGVyVGV4dDoiUGVybWlzc2lvbnMiLG1vcmVUb29sdGlwVGV4dDoiUm9sZSBEZXRhaWxzIixvbk1vcmVDbGljazooKT0+Q3IocixlLHQubmlja3x8Ry5nZXRVc2VyKHQudXNlcklkKS51c2VybmFtZSksZGVmYXVsdFN0YXRlOkNvLnN0b3JlLmRlZmF1bHRQZXJtaXNzaW9uc0Ryb3Bkb3duU3RhdGUsYnV0dG9uczpbbyhYLHt0ZXh0OmBTb3J0aW5nIGJ5ICR7bi5wZXJtaXNzaW9uc1NvcnRPcmRlcj09PTA/IkhpZ2hlc3QgUm9sZSI6Ikxvd2VzdCBSb2xlIn1gfSxBPT5vKCJidXR0b24iLHsuLi5BLGNsYXNzTmFtZTpEdCgidXNlcnBlcm1zLXNvcnRvcmRlci1idG4iKSxvbkNsaWNrOigpPT57bi5wZXJtaXNzaW9uc1NvcnRPcmRlcj1uLnBlcm1pc3Npb25zU29ydE9yZGVyPT09MD8xOjB9fSxvKCJzdmciLHt3aWR0aDoiMjAiLGhlaWdodDoiMjAiLHZpZXdCb3g6IjAgOTYgOTYwIDk2MCIsdHJhbnNmb3JtOm4ucGVybWlzc2lvbnNTb3J0T3JkZXI9PT0wPyJzY2FsZSgxIDEpIjoic2NhbGUoMSAtMSkifSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tdGV4dC1ub3JtYWwpIixkOiJNNDQwIDg5NlY0MDlMMjE2IDYzM2wtNTYtNTcgMzIwLTMyMCAzMjAgMzIwLTU2IDU3LTIyNC0yMjR2NDg3aC04MFoifSkpKSldfSxpLmxlbmd0aD4wJiZvKCJkaXYiLHtjbGFzc05hbWU6UShzLHkpfSxpLm1hcCgoe3Blcm1pc3Npb246QSxyb2xlQ29sb3I6Tn0pPT5vKCJkaXYiLHtjbGFzc05hbWU6UShjLGgsUyl9LG8oImRpdiIse2NsYXNzTmFtZTp1fSxvKCJzcGFuIix7Y2xhc3NOYW1lOmIsc3R5bGU6e2JhY2tncm91bmRDb2xvcjpOfX0pKSxvKCJkaXYiLHtjbGFzc05hbWU6eH0sbyhlZSx7Y2xhc3NOYW1lOnAsdmFyaWFudDoidGV4dC14cy9tZWRpdW0ifSxBKSkpKSkpfXZhciBCUCxwUyxkUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTt2ZCgpO3VuKCk7Z2UoKTtGKCk7dygpO0VpKCk7QWkoKTtMaSgpO0JQPWZ0KCgpPT57bGV0IGU9anIoSi5ieVByb3BzKCJyb2xlcyIsInJvbGVQaWxsIiwicm9sZVBpbGxCb3JkZXIiKSxKLmJ5UHJvcHMoInJvbGVDaXJjbGUiLCJkb3RCb3JkZXJCYXNlIiwiZG90Qm9yZGVyQ29sb3IiKSxKLmJ5UHJvcHMoInJvbGVOYW1lT3ZlcmZsb3ciLCJyb290Iiwicm9sZU5hbWUiLCJyb2xlUmVtb3ZlQnV0dG9uIikpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LC4uLmUpfSk7cFM9RC53cmFwKEZQLHtub29wOiEwfSl9KTtmdW5jdGlvbiBTZChlLHQsbil7cmV0dXJuIG49PT0wJiYhRmUuaXNNZW1iZXIoZSx0KT9udWxsOm8oQi5NZW51SXRlbSx7aWQ6InBlcm0tdmlld2VyLXBlcm1pc3Npb25zIixsYWJlbDoiUGVybWlzc2lvbnMiLGFjdGlvbjooKT0+e2xldCByPW1lLmdldEd1aWxkKGUpLGkscztzd2l0Y2gobil7Y2FzZSAwOntsZXQgYz1GZS5nZXRNZW1iZXIoZSx0KTtpPUNhKHIsYykubWFwKHU9Pih7dHlwZTowLC4uLnV9KSksci5vd25lcklkPT09dCYmaS5wdXNoKHt0eXBlOjIscGVybWlzc2lvbnM6T2JqZWN0LnZhbHVlcyhLdCkucmVkdWNlKCh1LHApPT51fHAsMG4pfSkscz1jLm5pY2s/P0cuZ2V0VXNlcihjLnVzZXJJZCkudXNlcm5hbWU7YnJlYWt9Y2FzZSAxOntsZXQgYz10ZS5nZXRDaGFubmVsKHQpO2k9TmEoT2JqZWN0LnZhbHVlcyhjLnBlcm1pc3Npb25PdmVyd3JpdGVzKS5tYXAoKHtpZDp1LGFsbG93OnAsZGVueTp5LHR5cGU6aH0pPT4oe3R5cGU6aCxpZDp1LG92ZXJ3cml0ZUFsbG93OnAsb3ZlcndyaXRlRGVueTp5fSkpLGUpLHM9Yy5uYW1lO2JyZWFrfWRlZmF1bHQ6e2k9T2JqZWN0LnZhbHVlcyhyLnJvbGVzKS5tYXAoYz0+KHt0eXBlOjAsLi4uY30pKSxzPXIubmFtZTticmVha319Q3IoaSxyLHMpfX0pfWZ1bmN0aW9uIGJkKGUsdCl7cmV0dXJuKG4scik9PigpPT57aWYoIXIpcmV0dXJuIG47bGV0IGk9bHQoZSxuKSxzPSgoKT0+e3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIFNkKHIuZ3VpbGRJZCxyLnVzZXIuaWQsdCk7Y2FzZSAxOnJldHVybiBTZChyLmd1aWxkLmlkLHIuY2hhbm5lbC5pZCx0KTtjYXNlIDI6cmV0dXJuIFNkKHIuZ3VpbGQuaWQpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSkoKTtzIT1udWxsJiYoaT9pLnB1c2gocyk6ZT09PSJyb2xlcyImJnIuZ3VpbGRJZCYmbi5zcGxpY2UoLTEsMCxvKEIuTWVudUdyb3VwLG51bGwscykpKX19dmFyIENvLFRkLEVpPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtvUygpO1R0KCk7VSgpO1AoKTtNKCk7dygpO0xpKCk7ZFMoKTtBaSgpO0NvPUUoe3Blcm1pc3Npb25zU29ydE9yZGVyOntkZXNjcmlwdGlvbjoiVGhlIHNvcnQgbWV0aG9kIHVzZWQgZm9yIGRlZmluaW5nIHdoaWNoIHJvbGUgZ3JhbnRzIGFuIHVzZXIgYSBjZXJ0YWluIHBlcm1pc3Npb24iLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IkhpZ2hlc3QgUm9sZSIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6Ikxvd2VzdCBSb2xlIix2YWx1ZToxfV19LGRlZmF1bHRQZXJtaXNzaW9uc0Ryb3Bkb3duU3RhdGU6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRoZSBwZXJtaXNzaW9ucyBkcm9wZG93biBvbiB1c2VyIHBvcG91dHMgc2hvdWxkIGJlIG9wZW4gYnkgZGVmYXVsdCIsdHlwZTozLGRlZmF1bHQ6ITF9fSk7VGQ9dih7bmFtZToiUGVybWlzc2lvbnNWaWV3ZXIiLGRlc2NyaXB0aW9uOiJWaWV3IHRoZSBwZXJtaXNzaW9ucyBhIHVzZXIgb3IgY2hhbm5lbCBoYXMsIGFuZCB0aGUgcm9sZXMgb2YgYSBzZXJ2ZXIiLGF1dGhvcnM6W20uTnVja3l6LG0uVmVuXSxzZXR0aW5nczpDbyxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLkJPVF9QUk9GSUxFX1NMQVNIX0NPTU1BTkRTIixyZXBsYWNlbWVudDp7bWF0Y2g6L3Nob3dCb3JkZXI6LnswLDYwfX1cKSwoPzw9Z3VpbGQ6KFxpKSxndWlsZE1lbWJlcjooXGkpLC4rPykvLHJlcGxhY2U6KGUsdCxuKT0+YCR7ZX0kc2VsZi5Vc2VyUGVybWlzc2lvbnMoJHt0fSwke259KSxgfX1dLFVzZXJQZXJtaXNzaW9uczooZSx0KT0+ISF0JiZvKHBTLHtndWlsZDplLGd1aWxkTWVtYmVyOnR9KSx1c2VyQ29udGV4dE1lbnVQYXRjaDpiZCgicm9sZXMiLDApLGNoYW5uZWxDb250ZXh0TWVudVBhdGNoOmJkKFsibXV0ZS1jaGFubmVsIiwidW5tdXRlLWNoYW5uZWwiXSwxKSxndWlsZENvbnRleHRNZW51UGF0Y2g6YmQoInByaXZhY3kiLDIpLHN0YXJ0KCl7ZGUoInVzZXItY29udGV4dCIsdGhpcy51c2VyQ29udGV4dE1lbnVQYXRjaCksZGUoImNoYW5uZWwtY29udGV4dCIsdGhpcy5jaGFubmVsQ29udGV4dE1lbnVQYXRjaCksZGUoImd1aWxkLWNvbnRleHQiLHRoaXMuZ3VpbGRDb250ZXh0TWVudVBhdGNoKX0sc3RvcCgpe2ZlKCJ1c2VyLWNvbnRleHQiLHRoaXMudXNlckNvbnRleHRNZW51UGF0Y2gpLGZlKCJjaGFubmVsLWNvbnRleHQiLHRoaXMuY2hhbm5lbENvbnRleHRNZW51UGF0Y2gpLGZlKCJndWlsZC1jb250ZXh0Iix0aGlzLmd1aWxkQ29udGV4dE1lbnVQYXRjaCl9fSl9KTtmdW5jdGlvbiBmUyhlKXtsZXQgdD1lIGluc3RhbmNlb2YgRmlsZSxuPXQ/VVJMLmNyZWF0ZU9iamVjdFVSTChlKTplO3JldHVybiBuZXcgUHJvbWlzZSgocixpKT0+e2xldCBzPW5ldyBJbWFnZTtzLm9ubG9hZD0oKT0+e3QmJlVSTC5yZXZva2VPYmplY3RVUkwobikscihzKX0scy5vbmVycm9yPShjLHUscCx5LGgpPT5pKGh8fGMpLHMuY3Jvc3NPcmlnaW49IkFub255bW91cyIscy5zcmM9bn0pfWFzeW5jIGZ1bmN0aW9uIFdQKGUsdCxuKXtmb3IobGV0IHIgb2YgZSlzd2l0Y2goci5uYW1lKXtjYXNlImltYWdlIjpsZXQgaT1qUC5nZXRVcGxvYWRzKHQuY2hhbm5lbC5pZCxtUylbMF07aWYoaSl7aWYoIWkuaXNJbWFnZSl0aHJvdyJVcGxvYWQgaXMgbm90IGFuIGltYWdlIjtyZXR1cm4gaS5pdGVtLmZpbGV9YnJlYWs7Y2FzZSJ1cmwiOnJldHVybiByLnZhbHVlO2Nhc2UidXNlciI6dHJ5e3JldHVybihhd2FpdCBIUChyLnZhbHVlKSkuZ2V0QXZhdGFyVVJMKG4/dm9pZCAwOnQuZ3VpbGQ/LmlkLDIwNDgpLnJlcGxhY2UoL1w/c2l6ZT1cZCskLywiP3NpemU9MjA0OCIpfWNhdGNoKHMpe3Rocm93IGNvbnNvbGUuZXJyb3IoYFtwZXRwZXRdIEZhaWxlZCB0byBmZXRjaCB1c2VyCmAscyksIkZhaWxlZCB0byBmZXRjaCB1c2VyLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvLiJ9fXJldHVybiBudWxsfXZhciBtUywkUCxVUCxSYSxHUCxIUCx6UCxqUCx4ZCxnUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtQKCk7d2koKTt1bigpO00oKTtGKCk7bVM9MCwkUD0yMCxVUD0xMjgsUmE9MTAsR1A9em4oKCk9PlByb21pc2UuYWxsKEFycmF5LmZyb20oe2xlbmd0aDpSYX0sKGUsdCk9PmZTKGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vVmVuUGx1Z3MvcGV0cGV0L21haW4vZnJhbWVzL3BldCR7dH0uZ2lmYCkpKSksSFA9cGUoIi5VU0VSKCIpLHpQPXBlKCJVUExPQURfRklMRV9MSU1JVF9FUlJPUiIpLGpQPUMoImdldFVwbG9hZHMiKTt4ZD12KHtuYW1lOiJwZXRwZXQiLGRlc2NyaXB0aW9uOiJBZGRzIGEgL3BldHBldCBzbGFzaCBjb21tYW5kIHRvIGNyZWF0ZSBoZWFkcGV0IGdpZnMgZnJvbSBhbnkgaW1hZ2UiLGF1dGhvcnM6W20uVmVuXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7aW5wdXRUeXBlOjAsbmFtZToicGV0cGV0IixkZXNjcmlwdGlvbjoiQ3JlYXRlIGEgcGV0cGV0IGdpZi4gWW91IGNhbiBvbmx5IHNwZWNpZnkgb25lIG9mIHRoZSBpbWFnZSBvcHRpb25zIixvcHRpb25zOlt7bmFtZToiZGVsYXkiLGRlc2NyaXB0aW9uOiJUaGUgZGVsYXkgYmV0d2VlbiBlYWNoIGZyYW1lLiBEZWZhdWx0cyB0byAyMC4iLHR5cGU6NH0se25hbWU6InJlc29sdXRpb24iLGRlc2NyaXB0aW9uOiJSZXNvbHV0aW9uIGZvciB0aGUgZ2lmLiBEZWZhdWx0cyB0byAxMjAuIElmIHlvdSBlbnRlciBhbiBpbnNhbmUgbnVtYmVyIGFuZCBpdCBmcmVlemVzIERpc2NvcmQgdGhhdCdzIHlvdXIgZmF1bHQuIix0eXBlOjR9LHtuYW1lOiJpbWFnZSIsZGVzY3JpcHRpb246IkltYWdlIGF0dGFjaG1lbnQgdG8gdXNlIix0eXBlOjExfSx7bmFtZToidXJsIixkZXNjcmlwdGlvbjoiVVJMIHRvIGZldGNoIGltYWdlIGZyb20iLHR5cGU6M30se25hbWU6InVzZXIiLGRlc2NyaXB0aW9uOiJVc2VyIHdob3NlIGF2YXRhciB0byB1c2UgYXMgaW1hZ2UiLHR5cGU6Nn0se25hbWU6Im5vLXNlcnZlci1wZnAiLGRlc2NyaXB0aW9uOiJVc2UgdGhlIG5vcm1hbCBhdmF0YXIgaW5zdGVhZCBvZiB0aGUgc2VydmVyIHNwZWNpZmljIG9uZSB3aGVuIHVzaW5nIHRoZSAndXNlcicgb3B0aW9uIix0eXBlOjV9XSxleGVjdXRlOmFzeW5jKGUsdCk9PntsZXR7R0lGRW5jb2RlcjpuLHF1YW50aXplOnIsYXBwbHlQYWxldHRlOml9PWF3YWl0IHBhKCkscz1hd2FpdCBHUCgpLGM9WGUoZSwibm8tc2VydmVyLXBmcCIsITEpO3RyeXt2YXIgdT1hd2FpdCBXUChlLHQsYyk7aWYoIXUpdGhyb3ciTm8gSW1hZ2Ugc3BlY2lmaWVkISJ9Y2F0Y2goTil7YWUodC5jaGFubmVsLmlkLHtjb250ZW50OlN0cmluZyhOKX0pO3JldHVybn1sZXQgcD1hd2FpdCBmUyh1KSx5PVhlKGUsImRlbGF5IiwkUCksaD1YZShlLCJyZXNvbHV0aW9uIixVUCksUz1uZXcgbixiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2Iud2lkdGg9Yi5oZWlnaHQ9aDtsZXQgeD1iLmdldENvbnRleHQoIjJkIik7Zm9yKGxldCBOPTA7TjxSYTtOKyspe3guY2xlYXJSZWN0KDAsMCxiLndpZHRoLGIuaGVpZ2h0KTtsZXQgST1OPFJhLzI/TjpSYS1OLCQ9LjgrSSouMDIsXz0uOC1JKi4wNSxLPSgxLSQpKi41Ky4xLG5lPTEtXy0uMDg7eC5kcmF3SW1hZ2UocCxLKmgsbmUqaCwkKmgsXypoKSx4LmRyYXdJbWFnZShzW05dLDAsMCxoLGgpO2xldHtkYXRhOll9PXguZ2V0SW1hZ2VEYXRhKDAsMCxoLGgpLHE9cihZLDI1Niksb2U9aShZLHEpO1Mud3JpdGVGcmFtZShvZSxoLGgse3RyYW5zcGFyZW50OiEwLHBhbGV0dGU6cSxkZWxheTp5fSl9Uy5maW5pc2goKTtsZXQgQT1uZXcgRmlsZShbUy5ieXRlc1ZpZXcoKV0sInBldHBldC5naWYiLHt0eXBlOiJpbWFnZS9naWYifSk7c2V0VGltZW91dCgoKT0+elAoW0FdLHQuY2hhbm5lbCxtUyksMTApfX1dfSl9KTtmdW5jdGlvbiB2Uygpe3JldHVybiBwdChbInBsdWdpbnMuUGluRE1zLnBpbm5lZERNcyJdKSxrYSgpfWZ1bmN0aW9uIE5yKGUpe3JldHVybiBrYSgpLmhhcyhlKX1mdW5jdGlvbiBTUyhlKXtsZXQgdD1rYSgpO3QuZGVsZXRlKGUpfHx0LmFkZChlKSx5UyhbLi4udF0pfWZ1bmN0aW9uIE1kKCl7cmV0dXJuIGthKCksT2kuc3RvcmUucGluT3JkZXI9PT0wP3FQLmdldFByaXZhdGVDaGFubmVsSWRzKCkuZmlsdGVyKE5yKTpIbn1mdW5jdGlvbiBiUyhlKXtyZXR1cm4gTWQoKVtlXX1mdW5jdGlvbiBQZChlLHQpe2xldCBuPWhTKCkscj1uLmluZGV4T2YoZSksaT1yK3Q7W25bcl0sbltpXV09W25baV0sbltyXV0seVMobil9dmFyIE9pLHFQLEhuLHdkLGhTLHlTLEtQLGthLElkPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7TSgpO0YoKTtPaT1FKHtwaW5PcmRlcjp7dHlwZTo0LGRlc2NyaXB0aW9uOiJXaGljaCBvcmRlciBzaG91bGQgcGlubmVkIERNcyBiZSBkaXNwbGF5ZWQgaW4/IixvcHRpb25zOlt7bGFiZWw6Ik1vc3QgcmVjZW50IG1lc3NhZ2UiLHZhbHVlOjAsZGVmYXVsdDohMH0se2xhYmVsOiJDdXN0b20gKHJpZ2h0IGNsaWNrIGNoYW5uZWxzIHRvIHJlb3JkZXIpIix2YWx1ZToxfV19fSkscVA9bGUoIlByaXZhdGVDaGFubmVsU29ydFN0b3JlIiksaFM9KCk9PihrLnBsdWdpbnMuUGluRE1zLnBpbm5lZERNc3x8dm9pZCAwKT8uc3BsaXQoIiwiKSx5Uz1lPT57d2Q9dm9pZCAwLGsucGx1Z2lucy5QaW5ETXMucGlubmVkRE1zPWUuam9pbigiLCIpfSxLUD0oKT0+KEhuPWhTKCk/P1tdLHdkPW5ldyBTZXQoSG4pKSxrYT0oKT0+d2Q/P0tQKCl9KTtmdW5jdGlvbiBUUyhlKXtsZXQgdD1OcihlKSxuPXQmJk9pLnN0b3JlLnBpbk9yZGVyPT09MTtyZXR1cm4gbyhkLG51bGwsbyhCLk1lbnVJdGVtLHtpZDoicGluLWRtIixsYWJlbDp0PyJVbnBpbiBETSI6IlBpbiBETSIsYWN0aW9uOigpPT5TUyhlKX0pLG4mJkhuWzBdIT09ZSYmbyhCLk1lbnVJdGVtLHtpZDoibW92ZS1waW4tdXAiLGxhYmVsOiJNb3ZlIFBpbiBVcCIsYWN0aW9uOigpPT5QZChlLC0xKX0pLG4mJkhuW0huLmxlbmd0aC0xXSE9PWUmJm8oQi5NZW51SXRlbSx7aWQ6Im1vdmUtcGluLWRvd24iLGxhYmVsOiJNb3ZlIFBpbiBEb3duIixhY3Rpb246KCk9PlBkKGUsMSl9KSl9ZnVuY3Rpb24gTVMoKXtkZSgiZ2RtLWNvbnRleHQiLHhTKSxkZSgidXNlci1jb250ZXh0Iix3Uyl9ZnVuY3Rpb24gUFMoKXtmZSgiZ2RtLWNvbnRleHQiLHhTKSxmZSgidXNlci1jb250ZXh0Iix3Uyl9dmFyIHhTLHdTLElTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtUdCgpO3coKTtJZCgpO3hTPShlLHQpPT4oKT0+e2xldCBuPWx0KCJsZWF2ZS1jaGFubmVsIixlKTtuJiZuLnVuc2hpZnQoVFModC5jaGFubmVsLmlkKSl9LHdTPShlLHQpPT4oKT0+e2xldCBuPWx0KCJjbG9zZS1kbSIsZSk7aWYobil7bGV0IHI9bi5maW5kSW5kZXgoaT0+aT8ucHJvcHM/LmlkPT09ImNsb3NlLWRtIik7bi5zcGxpY2UociwwLFRTKHQuY2hhbm5lbC5pZCkpfX19KTt2YXIgQ2QsQ1M9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7SVMoKTtJZCgpO0NkPXYoe25hbWU6IlBpbkRNcyIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gcGluIHByaXZhdGUgY2hhbm5lbHMgdG8gdGhlIHRvcCBvZiB5b3VyIERNIGxpc3QuIFRvIHBpbi91bnBpbiBvciByZW9yZGVyIHBpbnMsIHJpZ2h0IGNsaWNrIERNcyIsYXV0aG9yczpbbS5WZW4sbS5TdHJlbmNoZXJdLHNldHRpbmdzOk9pLHN0YXJ0Ok1TLHN0b3A6UFMsdXNlUGluQ291bnQoZSl7bGV0IHQ9dlMoKTtyZXR1cm4gZS5sZW5ndGg/W3Quc2l6ZV06W119LGdldENoYW5uZWwoZSx0KXtyZXR1cm4gZVtiUyh0KV19LGlzUGlubmVkOk5yLGdldFNuYXBzaG90Ok1kLGdldFNjcm9sbE9mZnNldChlLHQsbixyLGkpe3JldHVybiBOcihlKT90KihIbi5pbmRleE9mKGUpK3IpK246KHQrbikqMit0KkhuLmxlbmd0aCtpfSxwYXRjaGVzOlt7ZmluZDoiLnByaXZhdGVDaGFubmVsc0hlYWRlckNvbnRhaW5lciwiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L3ByaXZhdGVDaGFubmVsSWRzOihcaSksLyxyZXBsYWNlOiJwcml2YXRlQ2hhbm5lbElkczokMS5maWx0ZXIoYz0+ISRzZWxmLmlzUGlubmVkKGMpKSxwaW5Db3VudDokc2VsZi51c2VQaW5Db3VudCgkMSksIn0se21hdGNoOi8oPzw9cmVuZGVyUm93OihcaSlcLnJlbmRlclJvdywpc2VjdGlvbnM6XFtcaSwvLHJlcGxhY2U6IiQmLi4uJDEucHJvcHMucGluQ291bnQsIn0se21hdGNoOi9jaGlsZHJlbjooXGlcLlxpXC5NZXNzYWdlcy5ESVJFQ1RfTUVTU0FHRVMpKD88PXJlbmRlclNlY3Rpb249ZnVuY3Rpb25cKChcaSlcKS4rPykvLHJlcGxhY2U6ImNoaWxkcmVuOiQyLnNlY3Rpb249PT0xPydQaW5uZWQgRE1zJzokMSJ9LHttYXRjaDovKD88PXByZVJlbmRlcmVkQ2hpbGRyZW4sKFxpKT0pKChcaSlcW1xpXFtcaVxdXF0pOy8scmVwbGFjZToiYXJndW1lbnRzWzBdPT09MT8kc2VsZi5nZXRDaGFubmVsKCQzLGFyZ3VtZW50c1sxXSk6JDI7In0se21hdGNoOi89PT1caS5ETVMmJjAvLHJlcGxhY2U6Ii0xJCYifSx7bWF0Y2g6Lyg/PD1lbHNlXHtcaVwrPSkoXGkpXCpcKC4rPyg/PTspLyxyZXBsYWNlOiIkc2VsZi5nZXRTY3JvbGxPZmZzZXQoYXJndW1lbnRzWzBdLCQxLHRoaXMucHJvcHMucGFkZGluZyx0aGlzLnN0YXRlLnByZVJlbmRlcmVkQ2hpbGRyZW4sJCYpIn1dfSx7ZmluZDonIm1vZCthbHQrcmlnaHQiJyxyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD0oXGkpPV9fT1ZFUkxBWV9fXD9caTouezAsMTB9KVwuY29uY2F0XCgoLnswLDEwfSlcKS8scmVwbGFjZToiLmNvbmNhdCgkc2VsZi5nZXRTbmFwc2hvdCgpKS5jb25jYXQoJDIuZmlsdGVyKGM9PiEkc2VsZi5pc1Bpbm5lZChjKSkpIn19XX0pfSk7dmFyIE5kLE5TPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO05kPXYoe25hbWU6IlBsYWluRm9sZGVySWNvbiIsZGVzY3JpcHRpb246IkRvZXNuJ3Qgc2hvdyB0aGUgc21hbGwgZ3VpbGQgaWNvbnMgaW4gZm9sZGVycyIsYXV0aG9yczpbbS5ib3RhdG9dLHBhdGNoZXM6W3tmaW5kOiIuZXhwYW5kZWRGb2xkZXJJY29uV3JhcHBlciIscmVwbGFjZW1lbnQ6W3ttYXRjaDovXChcd1x8XHxcd1wpJiYoXCguezAsNDB9XCguezEsM31cLmFuaW1hdGVkKS8scmVwbGFjZToiJDEifV19XX0pfSk7dmFyIEFkPXt9O1NlKEFkLHtfX2FkZERlY29yYXRvcnNUb0xpc3Q6KCk9PllQLGFkZERlY29yYXRvcjooKT0+UmQsZGVjb3JhdG9yczooKT0+QWEscmVtb3ZlRGVjb3JhdG9yOigpPT5rZH0pO2Z1bmN0aW9uIFJkKGUsdCxuKXtBYS5zZXQoZSx7ZGVjb3JhdG9yOnQsb25seUluOm59KX1mdW5jdGlvbiBrZChlKXtBYS5kZWxldGUoZSl9ZnVuY3Rpb24gWVAoZSl7bGV0IHQ9ISFlLmd1aWxkSWQ7cmV0dXJuWy4uLkFhLnZhbHVlcygpXS5tYXAobj0+e2xldHtkZWNvcmF0b3I6cixvbmx5SW46aX09bjtyZXR1cm4haXx8aT09PSJndWlsZHMiJiZ0fHxpPT09ImRtcyImJiF0P3IoZSk6bnVsbH0pfXZhciBBYSxMZD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QWE9bmV3IE1hcH0pO3ZhciBPZD17fTtTZShPZCx7X19hZGREZWNvcmF0aW9uc1RvTWVzc2FnZTooKT0+WlAsYWRkRGVjb3JhdGlvbjooKT0+RWQsZGVjb3JhdGlvbnM6KCk9PkxhLHJlbW92ZURlY29yYXRpb246KCk9PkRkfSk7ZnVuY3Rpb24gRWQoZSx0KXtMYS5zZXQoZSx0KX1mdW5jdGlvbiBEZChlKXtMYS5kZWxldGUoZSl9ZnVuY3Rpb24gWlAoZSl7cmV0dXJuWy4uLkxhLnZhbHVlcygpXS5tYXAodD0+dChlKSl9dmFyIExhLF9kPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtMYT1uZXcgTWFwfSk7ZnVuY3Rpb24gRWEoZSx0KXtyZXR1cm4oe2NvbG9yOm4sdG9vbHRpcDpyfSk9Pm8oWCx7dGV4dDpyfSxpPT5vKCJzdmciLHsuLi5pLGhlaWdodDp0Py5oZWlnaHQ/PzIwLHdpZHRoOnQ/LndpZHRoPz8yMCx2aWV3Qm94OnQ/LnZpZXdCb3g/PyIwIDAgMjQgMjQiLGZpbGw6bn0sbygicGF0aCIse2Q6ZX0pKSl9dmFyIFhQLFJTLEpQLFFQLFZQLEZkLGtTLEJkLCRkLEFTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtPcygpO0xkKCk7X2QoKTtVKCk7c2UoKTtQKCk7TSgpO0YoKTt3KCk7WFA9bGUoIlNlc3Npb25zU3RvcmUiKTtSUz17ZGVza3RvcDpFYSgiTTQgMi41Yy0xLjEwMyAwLTIgLjg5Ny0yIDJ2MTFjMCAxLjEwNC44OTcgMiAyIDJoN3YySDd2MmgxMHYtMmgtNHYtMmg3YzEuMTAzIDAgMi0uODk2IDItMnYtMTFjMC0xLjEwMy0uODk3LTItMi0ySDRabTE2IDJ2OUg0di05aDE2WiIpLHdlYjpFYSgiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJabS0xIDE3LjkzYy0zLjk1LS40OS03LTMuODUtNy03LjkzIDAtLjYyLjA4LTEuMjEuMjEtMS43OUw5IDE1djFjMCAxLjEuOSAyIDIgMnYxLjkzWm02LjktMi41NGMtLjI2LS44MS0xLTEuMzktMS45LTEuMzloLTF2LTNjMC0uNTUtLjQ1LTEtMS0xSDh2LTJoMmMuNTUgMCAxLS40NSAxLTFWN2gyYzEuMSAwIDItLjkgMi0ydi0uNDFjMi45MyAxLjE5IDUgNC4wNiA1IDcuNDEgMCAyLjA4LS44IDMuOTctMi4xIDUuMzlaIiksbW9iaWxlOkVhKCJNIDE4NyAwIEwgODEzIDAgQyA5MTYuMjc3IDAgMTAwMCA4My43MjMgMTAwMCAxODcgTCAxMDAwIDEzMTMgQyAxMDAwIDE0MTYuMjc3IDkxNi4yNzcgMTUwMCA4MTMgMTUwMCBMIDE4NyAxNTAwIEMgODMuNzIzIDE1MDAgMCAxNDE2LjI3NyAwIDEzMTMgTCAwIDE4NyBDIDAgODMuNzIzIDgzLjcyMyAwIDE4NyAwIFogTSAxMjUgMTAwMCBMIDg3NSAxMDAwIEwgODc1IDI1MCBMIDEyNSAyNTAgWiBNIDUwMCAxMTI1IEMgNDMwLjk2NCAxMTI1IDM3NSAxMTgwLjk2NCAzNzUgMTI1MCBDIDM3NSAxMzE5LjAzNiA0MzAuOTY0IDEzNzUgNTAwIDEzNzUgQyA1NjkuMDM2IDEzNzUgNjI1IDEzMTkuMDM2IDYyNSAxMjUwIEMgNjI1IDExODAuOTY0IDU2OS4wMzYgMTEyNSA1MDAgMTEyNSBaIix7dmlld0JveDoiMCAwIDEwMDAgMTUwMCIsaGVpZ2h0OjE3LHdpZHRoOjE3fSksY29uc29sZTpFYSgiTTE0LjggMi43IDkgMy4xVjQ3aDMuM2MxLjcgMCA2LjIuMyAxMCAuN2w2LjcuNlYybC00LjIuMmMtMi40LjEtNi45LjMtMTAgLjV6bTEuOCA2LjRjMSAxLjctMS4zIDMuNi0yLjcgMi4yQzEyLjcgMTAuMSAxMy41IDggMTUgOGMuNSAwIDEuMi41IDEuNiAxLjF6TTE2IDMzYzAgNi0uNCAxMC0xIDEwcy0xLTQtMS0xMCAuNC0xMCAxLTEwIDEgNCAxIDEwem0xNS04djIzLjNsMy44LS43YzItLjMgNC43LS42IDYtLjZINDNWM2gtMi4yYy0xLjMgMC00LS4zLTYtLjZMMzEgMS43VjI1eiIse3ZpZXdCb3g6IjAgMCA1MCA1MCJ9KX0sSlA9cGUoIi5UV0lUQ0giLCIuU1RSRUFNSU5HIiwiLklOVklTSUJMRSIpLFFQPSh7cGxhdGZvcm06ZSxzdGF0dXM6dH0pPT57bGV0IG49ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkscj1SU1tlXT8/UlMuZGVza3RvcDtyZXR1cm4gbyhyLHtjb2xvcjpgdmFyKC0tJHtKUCh0KX1gLHRvb2x0aXA6bn0pfSxWUD1lPT5sby5nZXRTdGF0ZSgpPy5jbGllbnRTdGF0dXNlcz8uW2VdLEZkPSh7dXNlcjplLHdhbnRNYXJnaW46dD0hMCx3YW50VG9wTWFyZ2luOm49ITF9KT0+e2lmKCFlfHxlLmJvdClyZXR1cm4gbnVsbDtpZihlLmlkPT09Ry5nZXRDdXJyZW50VXNlcigpLmlkKXtsZXQgcz1YUC5nZXRTZXNzaW9ucygpO2lmKHR5cGVvZiBzIT0ib2JqZWN0IilyZXR1cm4gbnVsbDtsZXQgYz1PYmplY3QudmFsdWVzKHMpLnNvcnQoKHtzdGF0dXM6eX0se3N0YXR1czpofSk9Pnk9PT1oPzA6eT09PSJvbmxpbmUiPzE6aD09PSJvbmxpbmUiPy0xOnk9PT0iaWRsZSI/MTpoPT09ImlkbGUiPy0xOjApLHU9T2JqZWN0LnZhbHVlcyhjKS5yZWR1Y2UoKHksaCk9PihoLmNsaWVudEluZm8uY2xpZW50IT09InVua25vd24iJiYoeVtoLmNsaWVudEluZm8uY2xpZW50XT1oLnN0YXR1cykseSkse30pLHtjbGllbnRTdGF0dXNlczpwfT1sby5nZXRTdGF0ZSgpO3BbRy5nZXRDdXJyZW50VXNlcigpLmlkXT11fWxldCByPWxvLmdldFN0YXRlKCk/LmNsaWVudFN0YXR1c2VzPy5bZS5pZF07aWYoIXIpcmV0dXJuIG51bGw7bGV0IGk9T2JqZWN0LmVudHJpZXMocikubWFwKChbcyxjXSk9Pm8oUVAse2tleTpzLHBsYXRmb3JtOnMsc3RhdHVzOmN9KSk7cmV0dXJuIGkubGVuZ3RoP28oInNwYW4iLHtjbGFzc05hbWU6InZjLXBsYXRmb3JtLWluZGljYXRvciIsc3R5bGU6e2Rpc3BsYXk6ImlubGluZS1mbGV4IixqdXN0aWZ5Q29udGVudDoiY2VudGVyIixhbGlnbkl0ZW1zOiJjZW50ZXIiLG1hcmdpbkxlZnQ6dD80OjAsdmVydGljYWxBbGlnbjoidG9wIixwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDpuPzI6MCxwYWRkaW5nOnQ/MDoxLGdhcDoyfX0saSk6bnVsbH0sa1M9e2NvbXBvbmVudDplPT5vKEZkLHsuLi5lLHdhbnRNYXJnaW46ITF9KSxwb3NpdGlvbjowLHNob3VsZFNob3c6ZT0+ISFPYmplY3Qua2V5cyhWUChlLnVzZXIuaWQpPz97fSkubGVuZ3RoLGtleToiaW5kaWNhdG9yIn0sQmQ9e2xpc3Q6e2Rlc2NyaXB0aW9uOiJJbiB0aGUgbWVtYmVyIGxpc3QiLG9uRW5hYmxlOigpPT5SZCgicGxhdGZvcm0taW5kaWNhdG9yIixlPT5vKEQse25vb3A6ITB9LG8oRmQse3VzZXI6ZS51c2VyfSkpKSxvbkRpc2FibGU6KCk9PmtkKCJwbGF0Zm9ybS1pbmRpY2F0b3IiKX0sYmFkZ2VzOntkZXNjcmlwdGlvbjoiSW4gdXNlciBwcm9maWxlcywgYXMgYmFkZ2VzIixvbkVuYWJsZTooKT0+VWQoa1MpLG9uRGlzYWJsZTooKT0+R2Qoa1MpfSxtZXNzYWdlczp7ZGVzY3JpcHRpb246Ikluc2lkZSBtZXNzYWdlcyIsb25FbmFibGU6KCk9PkVkKCJwbGF0Zm9ybS1pbmRpY2F0b3IiLGU9Pm8oRCx7bm9vcDohMH0sbyhGZCx7dXNlcjplLm1lc3NhZ2U/LmF1dGhvcix3YW50VG9wTWFyZ2luOiEwfSkpKSxvbkRpc2FibGU6KCk9PkRkKCJwbGF0Zm9ybS1pbmRpY2F0b3IiKX19LCRkPXYoe25hbWU6IlBsYXRmb3JtSW5kaWNhdG9ycyIsZGVzY3JpcHRpb246IkFkZHMgcGxhdGZvcm0gaW5kaWNhdG9ycyAoRGVza3RvcCwgTW9iaWxlLCBXZWIuLi4pIHRvIHVzZXJzIixhdXRob3JzOlttLmtlbW8sbS5UaGVTdW4sbS5OdWNreXosbS5WZW5dLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VEZWNvcmF0aW9uc0FQSSIsIk1lbWJlckxpc3REZWNvcmF0b3JzQVBJIl0sc3RhcnQoKXtsZXQgZT1rLnBsdWdpbnMuUGxhdGZvcm1JbmRpY2F0b3JzLHtkaXNwbGF5TW9kZTp0fT1lO3QmJih0IT09ImJvdGgiP2VbdF09ITA6KGUubGlzdD0hMCxlLmJhZGdlcz0hMCksZS5tZXNzYWdlcz0hMCxkZWxldGUgZS5kaXNwbGF5TW9kZSksT2JqZWN0LmVudHJpZXMoQmQpLmZvckVhY2goKFtuLHJdKT0+e2Vbbl0mJnIub25FbmFibGUoKX0pfSxzdG9wKCl7T2JqZWN0LmVudHJpZXMoQmQpLmZvckVhY2goKFtlLHRdKT0+e3Qub25EaXNhYmxlKCl9KX0scGF0Y2hlczpbe2ZpbmQ6Ii5NYXNrcy5TVEFUVVNfT05MSU5FX01PQklMRSIscHJlZGljYXRlOigpPT5rLnBsdWdpbnMuUGxhdGZvcm1JbmRpY2F0b3JzLmNvbG9yTW9iaWxlSW5kaWNhdG9yLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1yZXR1cm4gXGlcLlxpXC5NYXNrc1wuU1RBVFVTX1RZUElORzspKC4rPykoXGkpXD8oXGlcLlxpXC5NYXNrc1wuU1RBVFVTX09OTElORV9NT0JJTEUpOi8scmVwbGFjZTooZSx0LG4scik9PmBpZigke259KXJldHVybiAke3J9OyR7dH1gfSx7bWF0Y2g6Lyhzd2l0Y2hcKFxpXCl7Y2FzZSBcaVwuXGlcLk9OTElORTpyZXR1cm4gKShcaSlcPyh7Lis/fSk6LyxyZXBsYWNlOihlLHQsbixyKT0+YGlmKCR7bn0pcmV0dXJuJHtyfTske3R9YH1dfSx7ZmluZDoiLkFWQVRBUl9TVEFUVVNfTU9CSUxFXzE2OyIscHJlZGljYXRlOigpPT5rLnBsdWdpbnMuUGxhdGZvcm1JbmRpY2F0b3JzLmNvbG9yTW9iaWxlSW5kaWNhdG9yLHJlcGxhY2VtZW50Olt7bWF0Y2g6L1xpPT09XGlcLlxpXC5PTkxJTkUmJig/PS57MCw3MH1cLkFWQVRBUl9TVEFUVVNfTU9CSUxFXzE2OykvLHJlcGxhY2U6IiJ9LHttYXRjaDovKD88PVwoXGlcLnN0YXR1cywpKFxpKSg/PSwoXGkpLFxpXCkpLyxyZXBsYWNlOihlLHQsbik9PmAke259PyJvbmxpbmUiOiR7dH1gfSx7bWF0Y2g6Lyg/PD1caSYmIVxpKSYmXGk9PT1caVwuXGlcLk9OTElORS8scmVwbGFjZToiIn1dfSx7ZmluZDoiaXNNb2JpbGVPbmxpbmU9ZnVuY3Rpb24iLHByZWRpY2F0ZTooKT0+ay5wbHVnaW5zLlBsYXRmb3JtSW5kaWNhdG9ycy5jb2xvck1vYmlsZUluZGljYXRvcixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1caVxbXGlcLlxpXC5NT0JJTEVcXSk9PT1caVwuXGlcLk9OTElORS8scmVwbGFjZToiIT0gbnVsbCJ9fV0sb3B0aW9uczp7Li4uT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKEJkKS5tYXAoKFtlLHRdKT0+W2Use3R5cGU6MyxkZXNjcmlwdGlvbjpgU2hvdyBpbmRpY2F0b3JzICR7dC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpfWAscmVzdGFydE5lZWRlZDohMCxkZWZhdWx0OiEwfV0pKSxjb2xvck1vYmlsZUluZGljYXRvcjp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIG1ha2UgdGhlIG1vYmlsZSBpbmRpY2F0b3IgbWF0Y2ggdGhlIGNvbG9yIG9mIHRoZSB1c2VyIHN0YXR1cy4iLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH19fSl9KTt2YXIgTFM9ZygoKT0+e30pO2Z1bmN0aW9uIEhkKCl7cmV0dXJuIG8oTC5GcmFnbWVudCxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDMifSwiTW9yZSBJbmZvcm1hdGlvbiIpLG8oVC5Gb3JtVGV4dCxudWxsLCJUbyBhZGQgeW91ciBvd24gcHJvbm91bnMsIHZpc2l0IiwiICIsbyhydCx7aHJlZjoiaHR0cHM6Ly9wcm9ub3VuZGIub3JnIn0sInByb25vdW5kYi5vcmciKSksbyhULkZvcm1EaXZpZGVyLG51bGwpLG8oVC5Gb3JtVGV4dCxudWxsLCJUaGUgdHdvIHByb25vdW4gZm9ybWF0cyBhcmUgbG93ZXJjYXNlIGFuZCBjYXBpdGFsaXplZC4gRXhhbXBsZToiLG8oInVsIixudWxsLG8oImxpIixudWxsLCJMb3dlcmNhc2U6IHRoZXkvdGhlbSIpLG8oImxpIixudWxsLCJDYXBpdGFsaXplZDogVGhleS9UaGVtIikpLCdUZXh0IGxpa2UgIkFzayBtZSBteSBwcm9ub3VucyIgb3IgIkFueSBwcm9ub3VucyIgd2lsbCBhbHdheXMgYmUgY2FwaXRhbGl6ZWQuICcsbygiYnIiLG51bGwpLG8oImJyIixudWxsKSwiWW91IGNhbiBhbHNvIGNvbmZpZ3VyZSB3aGV0aGVyIG9yIG5vdCB0byBkaXNwbGF5IHByb25vdW5zIGZvciB0aGUgY3VycmVudCB1c2VyIChzaW5jZSB5b3UgcHJvYmFibHkgYWxyZWFkeSBrbm93IHRoZW0pIikpfXZhciBFUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7eG8oKTt3KCl9KTt2YXIgdG8sRGE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtNKCk7T2EoKTt0bz1FKHtwcm9ub3Vuc0Zvcm1hdDp7dHlwZTo0LGRlc2NyaXB0aW9uOiJUaGUgZm9ybWF0IGZvciBwcm9ub3VucyB0byBhcHBlYXIgaW4gY2hhdCIsb3B0aW9uczpbe2xhYmVsOiJMb3dlcmNhc2UiLHZhbHVlOiJMT1dFUkNBU0UiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQ2FwaXRhbGl6ZWQiLHZhbHVlOiJDQVBJVEFMSVpFRCJ9XX0scHJvbm91blNvdXJjZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJXaGVyZSB0byBzb3VyY2UgcHJvbm91bnMgZnJvbSIsb3B0aW9uczpbe2xhYmVsOiJQcmVmZXIgUHJvbm91bkRCLCBmYWxsIGJhY2sgdG8gRGlzY29yZCIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IlByZWZlciBEaXNjb3JkLCBmYWxsIGJhY2sgdG8gUHJvbm91bkRCIChtaWdodCBsZWFkIHRvIGluY29uc2lzdGVuY3kgYmV0d2VlbiBwcm9ub3VucyBpbiBjaGF0IGFuZCBwcm9maWxlKSIsdmFsdWU6MX1dfSxzaG93U2VsZjp7dHlwZTozLGRlc2NyaXB0aW9uOiJFbmFibGUgb3IgZGlzYWJsZSBzaG93aW5nIHByb25vdW5zIGZvciB0aGUgY3VycmVudCB1c2VyIixkZWZhdWx0OiEwfSxzaG93SW5NZXNzYWdlczp7dHlwZTozLGRlc2NyaXB0aW9uOiJTaG93IGluIG1lc3NhZ2VzIixkZWZhdWx0OiEwfSxzaG93SW5Qcm9maWxlOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgaW4gcHJvZmlsZSIsZGVmYXVsdDohMH19KX0pO3ZhciBfYSxEUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7X2E9e2hoOiJIZS9IaW0iLGhpOiJIZS9JdCIsaHM6IkhlL1NoZSIsaHQ6IkhlL1RoZXkiLGloOiJJdC9IaW0iLGlpOiJJdC9JdHMiLGlzOiJJdC9TaGUiLGl0OiJJdC9UaGV5IixzaGg6IlNoZS9IZSIsc2g6IlNoZS9IZXIiLHNpOiJTaGUvSXQiLHN0OiJTaGUvVGhleSIsdGg6IlRoZXkvSGUiLHRpOiJUaGV5L0l0Iix0czoiVGhleS9TaGUiLHR0OiJUaGV5L1RoZW0iLGFueToiQW55IHByb25vdW5zIixvdGhlcjoiT3RoZXIgcHJvbm91bnMiLGFzazoiQXNrIG1lIG15IHByb25vdW5zIixhdm9pZDoiQXZvaWQgcHJvbm91bnMsIHVzZSBteSBuYW1lIix1bnNwZWNpZmllZDoiVW5zcGVjaWZpZWQifX0pO2Z1bmN0aW9uIHRJKGUsdD0hMSl7bGV0IG49T1MuZ2V0VXNlclByb2ZpbGUoZSk/LnByb25vdW5zO3JldHVybiB0P246T1MuZ2V0R3VpbGRNZW1iZXJQcm9maWxlKGUsZHIoKT8uZ3VpbGRfaWQpPy5wcm9ub3Vuc3x8bn1mdW5jdGlvbiBCYShlLHQ9ITEpe2xldCBuPXRJKGUsdCk/LnRyaW0oKS5yZXBsYWNlKG5JLCIgIiksW3JdPVllKCgpPT5vSShlKSx7ZmFsbGJhY2tWYWx1ZTpGUyhlKSxvbkVycm9yOmk9PmNvbnNvbGUuZXJyb3IoIkZldGNoaW5nIHByb25vdW5zIGZhaWxlZDogIixpKX0pO3JldHVybiB0by5zdG9yZS5wcm9ub3VuU291cmNlPT09MSYmbj9bbiwiRGlzY29yZCJdOnImJnIhPT0idW5zcGVjaWZpZWQiP1tpSShyKSwiUHJvbm91bkRCIl06W24sIkRpc2NvcmQiXX1mdW5jdGlvbiBCUyhlLHQ9ITEpe2xldCBuPUJhKGUsdCk7cmV0dXJuIXRvLnN0b3JlLnNob3dJblByb2ZpbGV8fCF0by5zdG9yZS5zaG93U2VsZiYmZT09PUcuZ2V0Q3VycmVudFVzZXIoKS5pZD9fUzpufWZ1bmN0aW9uIEZTKGUpe2xldCB0PXpkW2VdO3JldHVybiB0JiZ0IT09InVuc3BlY2lmaWVkIj90OnR8fG51bGx9ZnVuY3Rpb24gb0koZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntsZXQgbj1GUyhlKTtpZihuKXJldHVybiB0KG4pO2lmKGUgaW4gUnIpcmV0dXJuIFJyW2VdLnB1c2godCk7UnJbZV09W3RdLGVJKCl9KX1hc3luYyBmdW5jdGlvbiBySShlKXtsZXQgdD1uZXcgVVJMU2VhcmNoUGFyYW1zO3QuYXBwZW5kKCJwbGF0Zm9ybSIsImRpc2NvcmQiKSx0LmFwcGVuZCgiaWRzIixlLmpvaW4oIiwiKSk7dHJ5e3JldHVybiBhd2FpdChhd2FpdCBmKCJodHRwczovL3Byb25vdW5kYi5vcmcvYXBpL3YxL2xvb2t1cC1idWxrPyIrdC50b1N0cmluZygpLHttZXRob2Q6IkdFVCIsaGVhZGVyczp7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIiwiWC1Qcm9ub3VuREItU291cmNlIjpJbH19KSkuanNvbigpLnRoZW4ocj0+KE9iamVjdC5hc3NpZ24oemQscikscikpfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3IoIlByb25vdW5EQiBmZXRjaGluZyBmYWlsZWQ6ICIsbik7bGV0IHI9T2JqZWN0LmZyb21FbnRyaWVzKGUubWFwKGk9PltpLCJ1bnNwZWNpZmllZCJdKSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oemQscikscn19ZnVuY3Rpb24gaUkoZSl7bGV0e3Byb25vdW5zRm9ybWF0OnR9PWsucGx1Z2lucy5Qcm9ub3VuREI7cmV0dXJuIHQ9PT0iQ0FQSVRBTElaRUQiP19hW2VdOnQ9PT0iTE9XRVJDQVNFIiYmWyJhbnkiLCJhc2siLCJhdm9pZCIsIm90aGVyIl0uaW5jbHVkZXMoZSk/X2FbZV06X2FbZV0udG9Mb3dlckNhc2UoKX12YXIgT1MsX1MsemQsUnIsZUksbkksT2E9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtQKCk7YXIoKTthdCgpO2hlKCk7RigpO3coKTtEYSgpO0RTKCk7T1M9bGUoIlVzZXJQcm9maWxlU3RvcmUiKSxfUz1bbnVsbCwiIl0semQ9e30sUnI9e30sZUk9RnQoYXN5bmMoKT0+e2xldCBlPU9iamVjdC5rZXlzKFJyKSx0PWF3YWl0IHJJKGUpO2ZvcihsZXQgbiBvZiBlKVJyW25dPy5mb3JFYWNoKHI9PnIodFtuXSkpLGRlbGV0ZSBScltuXX0pO25JPS9cbisvZ30pO2Z1bmN0aW9uICRTKGUpe3JldHVybiEoIXRvLnN0b3JlLnNob3dJbk1lc3NhZ2VzfHxlLmF1dGhvci5ib3R8fGUuYXV0aG9yLnN5c3RlbXx8ZS50eXBlPT09c0l8fCF0by5zdG9yZS5zaG93U2VsZiYmZS5hdXRob3IuaWQ9PT1HLmdldEN1cnJlbnRVc2VyKCkuaWQpfWZ1bmN0aW9uIFVTKHttZXNzYWdlOmV9KXtyZXR1cm4gJFMoZSk/byhhSSx7bWVzc2FnZTplfSk6bnVsbH1mdW5jdGlvbiBHUyh7bWVzc2FnZTplfSl7cmV0dXJuICRTKGUpP28obEkse21lc3NhZ2U6ZX0pOm51bGx9ZnVuY3Rpb24gYUkoe21lc3NhZ2U6ZX0pe2xldFt0XT1CYShlLmF1dGhvci5pZCk7cmV0dXJuIHQ/bygic3BhbiIse2NsYXNzTmFtZTpRKEZhLnRpbWVzdGFtcElubGluZSxGYS50aW1lc3RhbXApfSwiXHUyMDIyICIsdCk6bnVsbH1mdW5jdGlvbiBsSSh7bWVzc2FnZTplfSl7bGV0W3RdPUJhKGUuYXV0aG9yLmlkKTtyZXR1cm4gdD9vKCJzcGFuIix7Y2xhc3NOYW1lOlEoRmEudGltZXN0YW1wSW5saW5lLEZhLnRpbWVzdGFtcCwidmMtcHJvbm91bmRiLWNvbXBhY3QiKX0sIlx1MjAyMiAiLHQpOm51bGx9dmFyIEZhLHNJLEhTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtnZSgpO0YoKTt3KCk7T2EoKTtEYSgpO0ZhPUMoInRpbWVzdGFtcElubGluZSIpLHNJPTI0fSk7dmFyIHpTLGpkLGpTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtMUygpO1AoKTtNKCk7RVMoKTtIUygpO09hKCk7RGEoKTt6Uz17bWF0Y2g6L3RleHQ6KC57MCwxMH0uTWVzc2FnZXNcLlVTRVJfUFJPRklMRV9QUk9OT1VOUykoPz0sKS8scmVwbGFjZTonJCYgKyAodHlwZW9mIHZjUHJvbm91blNvdXJjZSAhPT0gInVuZGVmaW5lZCIgPyBgICgke3ZjUHJvbm91blNvdXJjZX0pYCA6ICIiKSd9LGpkPXYoe25hbWU6IlByb25vdW5EQiIsYXV0aG9yczpbbS5UeW1hbixtLlRoZUtvZGVUb2FkLG0uVmVuXSxkZXNjcmlwdGlvbjoiQWRkcyBwcm9ub3VucyB0byB1c2VyIG1lc3NhZ2VzIHVzaW5nIHByb25vdW5kYiIscGF0Y2hlczpbe2ZpbmQ6InNob3dDb21tdW5pY2F0aW9uRGlzYWJsZWRTdHlsZXMiLHJlcGxhY2VtZW50OnttYXRjaDovKCJzcGFuIix7aWQ6XGksY2xhc3NOYW1lOlxpLGNoaWxkcmVuOlxpfVwpKS8scmVwbGFjZToiJDEsICRzZWxmLkNvbXBhY3RQcm9ub3Vuc0NoYXRDb21wb25lbnRXcmFwcGVyKGUpIn19LHtmaW5kOiJzaG93Q29tbXVuaWNhdGlvbkRpc2FibGVkU3R5bGVzIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1yZXR1cm5ccypcKDAsXGlcLmpzeHM/XClcKC4rIVxpJiYpKFwoMCxcaS5qc3hzP1wpXCguKz9cey4rP1x9XCkpLyxyZXBsYWNlOiJbJDEsICRzZWxmLlByb25vdW5zQ2hhdENvbXBvbmVudFdyYXBwZXIoZSldIn19LHtmaW5kOiIudXNlclRhZ05vTmlja25hbWUiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LywoXGkpPShcaSlcLnByb25vdW5zLyxyZXBsYWNlOiIsWyQxLHZjUHJvbm91blNvdXJjZV09JHNlbGYudXNlUHJvZmlsZVByb25vdW5zKCQyLnVzZXIuaWQpIn0selNdfSx7ZmluZDoiLlVTRVJfUFJPRklMRV9BQ1RJVklUWSIscmVwbGFjZW1lbnQ6W3ttYXRjaDovZ2V0R2xvYmFsTmFtZVwoXGlcKTsoPzw9ZGlzcGxheVByb2ZpbGUuezAsMjAwfSkvLHJlcGxhY2U6IiQmY29uc3QgW3ZjUHJvbm91bmNlLHZjUHJvbm91blNvdXJjZV09JHNlbGYudXNlUHJvZmlsZVByb25vdW5zKGFyZ3VtZW50c1swXS51c2VyLmlkLHRydWUpO2lmKGFyZ3VtZW50c1swXS5kaXNwbGF5UHJvZmlsZSYmdmNQcm9ub3VuY2UpYXJndW1lbnRzWzBdLmRpc3BsYXlQcm9maWxlLnByb25vdW5zPXZjUHJvbm91bmNlOyJ9LHpTXX1dLHNldHRpbmdzOnRvLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6SGQsUHJvbm91bnNDaGF0Q29tcG9uZW50V3JhcHBlcjpVUyxDb21wYWN0UHJvbm91bnNDaGF0Q29tcG9uZW50V3JhcHBlcjpHUyx1c2VQcm9maWxlUHJvbm91bnM6QlN9KX0pO3ZhciBXZCxXUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UW8oKTtQKCk7YXQoKTtNKCk7dygpO1dkPXYoe25hbWU6IlF1aWNrTWVudGlvbiIsYXV0aG9yczpbbS5rZW1vXSxkZXNjcmlwdGlvbjoiQWRkcyBhIHF1aWNrIG1lbnRpb24gYnV0dG9uIHRvIHRoZSBtZXNzYWdlIGFjdGlvbnMgYmFyIixkZXBlbmRlbmNpZXM6WyJNZXNzYWdlUG9wb3ZlckFQSSJdLHN0YXJ0KCl7d24oIlF1aWNrTWVudGlvbiIsZT0+KHtsYWJlbDoiUXVpY2sgTWVudGlvbiIsaWNvbjp0aGlzLkljb24sbWVzc2FnZTplLGNoYW5uZWw6dGUuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpLG9uQ2xpY2s6KCk9PnFuKGA8QCR7ZS5hdXRob3IuaWR9PiBgKX0pKX0sc3RvcCgpe01uKCJRdWlja01lbnRpb24iKX0sSWNvbjooKT0+bygic3ZnIix7Y2xhc3NOYW1lOiJpY29uIixoZWlnaHQ6IjI0Iix3aWR0aDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCIsZmlsbDoiY3VycmVudENvbG9yIn0sbygicGF0aCIse2Q6Ik0xMiAyQzYuNDg2IDIgMiA2LjQ4NiAyIDEyQzIgMTcuNTE1IDYuNDg2IDIyIDEyIDIyQzE0LjAzOSAyMiAxNS45OTMgMjEuMzk4IDE3LjY1MiAyMC4yNTlMMTYuNTIxIDE4LjYxMUMxNS4xOTUgMTkuNTE5IDEzLjYzMyAyMCAxMiAyMEM3LjU4OSAyMCA0IDE2LjQxMSA0IDEyQzQgNy41ODkgNy41ODkgNCAxMiA0QzE2LjQxMSA0IDIwIDcuNTg5IDIwIDEyVjEyLjc4MkMyMCAxNC4xNyAxOS40MDIgMTUgMTguNCAxNUwxOC4zOTggMTUuMDE4QzE4LjMzOCAxNS4wMDUgMTguMjczIDE1IDE4LjIwOSAxNUgxOEMxNy40MzcgMTUgMTYuNiAxNC4xODIgMTYuNiAxMy42MzFWMTJDMTYuNiA5LjQ2NCAxNC41MzcgNy40IDEyIDcuNEM5LjQ2MyA3LjQgNy40IDkuNDYzIDcuNCAxMkM3LjQgMTQuNTM3IDkuNDYzIDE2LjYgMTIgMTYuNkMxMy4yMzQgMTYuNiAxNC4zNSAxNi4xMDYgMTUuMTc3IDE1LjMxM0MxNS44MjYgMTYuMjY5IDE2LjkzIDE3IDE4IDE3TDE4LjAwMiAxNi45ODFDMTguMDY0IDE2Ljk5NCAxOC4xMjkgMTcgMTguMTk1IDE3SDE4LjRDMjAuNTUyIDE3IDIyIDE1LjMwNiAyMiAxMi43ODJWMTJDMjIgNi40ODYgMTcuNTE0IDIgMTIgMlpNMTIgMTQuNTk5QzEwLjU2NiAxNC41OTkgOS40IDEzLjQzMyA5LjQgMTEuOTk5QzkuNCAxMC41NjUgMTAuNTY2IDkuMzk5IDEyIDkuMzk5QzEzLjQzNCA5LjM5OSAxNC42IDEwLjU2NSAxNC42IDExLjk5OUMxNC42IDEzLjQzMyAxMy40MzQgMTQuNTk5IDEyIDE0LjU5OVoifSkpfSl9KTtmdW5jdGlvbiBWUyhlLHQpe2xldCBuPWUuZmluZEluZGV4KHI9PnIuaWQ9PT10KTtyZXR1cm4gbj09PS0xP246ZS5sZW5ndGgtbi0xfWZ1bmN0aW9uIFlTKHtjaGFubmVsSWQ6ZSxtZXNzYWdlSWQ6dCxfaXNRdWlja0VkaXQ6bn0pe2lmKG4pcmV0dXJuO2xldCByPUcuZ2V0Q3VycmVudFVzZXIoKS5pZCxpPWZuLmdldE1lc3NhZ2VzKGUpLl9hcnJheS5maWx0ZXIocz0+cy5hdXRob3IuaWQ9PT1yKTtVYT1WUyhpLHQpfWZ1bmN0aW9uIFpTKHttZXNzYWdlOmUsX2lzUXVpY2tSZXBseTp0fSl7dHx8KCRhPVZTKGZuLmdldE1lc3NhZ2VzKGUuY2hhbm5lbF9pZCkuX2FycmF5LGUuaWQpKX1mdW5jdGlvbiBYUyhlKXtsZXQgdD1lLmtleT09PSJBcnJvd1VwIjshdCYmZS5rZXkhPT0iQXJyb3dEb3duInx8IXVJKGUpfHxwSShlKXx8KGUuc2hpZnRLZXk/ZkkodCk6bUkodCkpfWZ1bmN0aW9uIGUwKGUsdCl7bGV0IG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lc3NhZ2UtY29udGVudC0iK3QpO2lmKCFuKXJldHVybjtsZXQgcj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHVuc2FmZVdpbmRvdy5pbm5lckhlaWdodCksaT1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyhpLmJvdHRvbTwyMDB8fGkudG9wLXI+PS0yMDApJiZjSS5qdW1wVG9NZXNzYWdlKHtjaGFubmVsSWQ6ZSxtZXNzYWdlSWQ6dCxmbGFzaDohMSxqdW1wVHlwZToiSU5TVEFOVCJ9KX1mdW5jdGlvbiB0MChlLHQpe2xldCBuPWZuLmdldE1lc3NhZ2VzKHhlLmdldENoYW5uZWxJZCgpKS5fYXJyYXk7aWYoIXQpe2xldCBjPUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtuPW4uZmlsdGVyKHU9PnUuYXV0aG9yLmlkPT09Yyl9bGV0IHI9Yz0+ZT9NYXRoLm1pbihuLmxlbmd0aC0xLGMrMSk6TWF0aC5tYXgoLTEsYy0xKSxpPWM9PntkbyBjPXIoYyk7d2hpbGUoYyE9PS0xJiZuW24ubGVuZ3RoLWMtMV0/LmRlbGV0ZWQ9PT0hMCk7cmV0dXJuIGN9LHM7cmV0dXJuIHQ/JGE9cz1pKCRhKTpVYT1zPWkoVWEpLHM9PT0tMT92b2lkIDA6bltuLmxlbmd0aC1zLTFdfWZ1bmN0aW9uIGRJKGUpe2xldHtlbmFibGVkOnQsdXNlckxpc3Q6bixzaG91bGRQaW5nTGlzdGVkOnJ9PWsucGx1Z2lucy5Ob1JlcGx5TWVudGlvbixpPSF0fHxyPT09bi5pbmNsdWRlcyhlLmF1dGhvci5pZCk7c3dpdGNoKFFTLnN0b3JlLnNob3VsZE1lbnRpb24pe2Nhc2UgMjpyZXR1cm4gaTtjYXNlIDA6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gbUkoZSl7bGV0IHQ9dDAoZSwhMCk7aWYoIXQpcmV0dXJuIHZvaWQgTy5kaXNwYXRjaCh7dHlwZToiREVMRVRFX1BFTkRJTkdfUkVQTFkiLGNoYW5uZWxJZDp4ZS5nZXRDaGFubmVsSWQoKX0pO2xldCBuPXRlLmdldENoYW5uZWwodC5jaGFubmVsX2lkKSxyPUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtPLmRpc3BhdGNoKHt0eXBlOiJDUkVBVEVfUEVORElOR19SRVBMWSIsY2hhbm5lbDpuLG1lc3NhZ2U6dCxzaG91bGRNZW50aW9uOmRJKHQpLHNob3dNZW50aW9uVG9nZ2xlOm4uZ3VpbGRfaWQhPT1udWxsJiZ0LmF1dGhvci5pZCE9PXIsX2lzUXVpY2tSZXBseTohMH0pLGUwKG4uaWQsdC5pZCl9ZnVuY3Rpb24gZkkoZSl7bGV0IHQ9dDAoZSwhMSk7dD8oTy5kaXNwYXRjaCh7dHlwZToiTUVTU0FHRV9TVEFSVF9FRElUIixjaGFubmVsSWQ6dC5jaGFubmVsX2lkLG1lc3NhZ2VJZDp0LmlkLGNvbnRlbnQ6dC5jb250ZW50LF9pc1F1aWNrRWRpdDohMH0pLGUwKHQuY2hhbm5lbF9pZCx0LmlkKSk6Ty5kaXNwYXRjaCh7dHlwZToiTUVTU0FHRV9FTkRfRURJVCIsY2hhbm5lbElkOnhlLmdldENoYW5uZWxJZCgpfSl9dmFyIGNJLEpTLCRhLFVhLFFTLHFkLHFTLEtTLHVJLHBJLG4wPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7UCgpO00oKTtGKCk7dygpO2NJPUMoImp1bXBUb01lc3NhZ2UiKSxKUz1uYXZpZ2F0b3IucGxhdGZvcm0uaW5jbHVkZXMoIk1hYyIpLCRhPS0xLFVhPS0xLFFTPUUoe3Nob3VsZE1lbnRpb246e3R5cGU6NCxkZXNjcmlwdGlvbjoiUGluZyByZXBseSBieSBkZWZhdWx0IixvcHRpb25zOlt7bGFiZWw6IkZvbGxvdyBOb1JlcGx5TWVudGlvbiIsdmFsdWU6MixkZWZhdWx0OiEwfSx7bGFiZWw6IkVuYWJsZWQiLHZhbHVlOjF9LHtsYWJlbDoiRGlzYWJsZWQiLHZhbHVlOjB9XX19KSxxZD12KHtuYW1lOiJRdWlja1JlcGx5IixhdXRob3JzOlttLm9ic2N1cml0eSxtLlZlbixtLnB5bGl4XSxkZXNjcmlwdGlvbjoiUmVwbHkgdG8gKGN0cmwgKyB1cC9kb3duKSBhbmQgZWRpdCAoY3RybCArIHNoaWZ0ICsgdXAvZG93bikgbWVzc2FnZXMgdmlhIGtleWJpbmRzIixzZXR0aW5nczpRUyxzdGFydCgpe08uc3Vic2NyaWJlKCJERUxFVEVfUEVORElOR19SRVBMWSIscVMpLE8uc3Vic2NyaWJlKCJNRVNTQUdFX0VORF9FRElUIixLUyksTy5zdWJzY3JpYmUoIk1FU1NBR0VfU1RBUlRfRURJVCIsWVMpLE8uc3Vic2NyaWJlKCJDUkVBVEVfUEVORElOR19SRVBMWSIsWlMpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLFhTKX0sc3RvcCgpe08udW5zdWJzY3JpYmUoIkRFTEVURV9QRU5ESU5HX1JFUExZIixxUyksTy51bnN1YnNjcmliZSgiTUVTU0FHRV9FTkRfRURJVCIsS1MpLE8udW5zdWJzY3JpYmUoIk1FU1NBR0VfU1RBUlRfRURJVCIsWVMpLE8udW5zdWJzY3JpYmUoIkNSRUFURV9QRU5ESU5HX1JFUExZIixaUyksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsWFMpfX0pLHFTPSgpPT4kYT0tMSxLUz0oKT0+VWE9LTE7dUk9ZT0+SlM/ZS5tZXRhS2V5OmUuY3RybEtleSxwST1lPT5lLmFsdEtleXx8IUpTJiZlLm1ldGFLZXl9KTt2YXIgS2QsZ0ksWWQsbzA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7Z0k9Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9mYWNlYm9vay9yZWFjdC8xNy4wLjIvc2NyaXB0cy9lcnJvci1jb2Rlcy9jb2Rlcy5qc29uIixZZD12KHtuYW1lOiJSZWFjdEVycm9yRGVjb2RlciIsZGVzY3JpcHRpb246J1JlcGxhY2VzICJNaW5pZmVkIFJlYWN0IEVycm9yIiB3aXRoIHRoZSBhY3R1YWwgZXJyb3IuJyxhdXRob3JzOlttLkN5bl0scGF0Y2hlczpbe2ZpbmQ6JyJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD0iJyxyZXBsYWNlbWVudDp7bWF0Y2g6LyhmdW5jdGlvbiAuXCguXCkpeyhmb3JcKHZhciAuPSJodHRwczpcL1wvcmVhY3Rqc1wub3JnXC9kb2NzXC9lcnJvci1kZWNvZGVyXC5odG1sXD9pbnZhcmlhbnQ9IlwrLiwuPTE7Ljxhcmd1bWVudHNcLmxlbmd0aDsuXCtcK1wpLlwrPSImYXJnc1xbXF09IlwrZW5jb2RlVVJJQ29tcG9uZW50XChhcmd1bWVudHNcWy5cXVwpO3JldHVybiJNaW5pZmllZCBSZWFjdCBlcnJvciAjIlwrLlwrIjsgdmlzaXQgIlwrLlwrIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuIil9LyxyZXBsYWNlOihlLHQsbik9PmAke3R9e3ZhciBkZWNvZGVkPVZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLlJlYWN0RXJyb3JEZWNvZGVyLmRlY29kZUVycm9yLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7aWYoZGVjb2RlZClyZXR1cm4gZGVjb2RlZDske259fWB9fV0sYXN5bmMgc3RhcnQoKXtLZD1hd2FpdCBmKGdJKS50aGVuKGU9PmUuanNvbigpKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGBbUmVhY3RFcnJvckRlY29kZXJdIEZhaWxlZCB0byBmZXRjaCBSZWFjdCBlcnJvciBjb2RlcwpgLGUpKX0sc3RvcCgpe0tkPXZvaWQgMH0sZGVjb2RlRXJyb3IoZSwuLi50KXtsZXQgbj0wO3JldHVybiBLZD8uW2VdPy5yZXBsYWNlKC8lcy9nLCgpPT57bGV0IHI9dFtuXTtyZXR1cm4gbisrLHJ9KX19KX0pO3ZhciBYZD17fTtTZShYZCx7U2VydmVyTGlzdFJlbmRlclBvc2l0aW9uOigpPT5HYSxhZGRTZXJ2ZXJMaXN0RWxlbWVudDooKT0+X2kscmVtb3ZlU2VydmVyTGlzdEVsZW1lbnQ6KCk9PkJpLHJlbmRlckFsbDooKT0+U0l9KTtmdW5jdGlvbiBaZChlKXtyZXR1cm4gZT09PTA/eUk6dkl9ZnVuY3Rpb24gX2koZSx0KXtaZChlKS5hZGQodCl9ZnVuY3Rpb24gQmkoZSx0KXtaZChlKS5kZWxldGUodCl9dmFyIGhJLEdhLHlJLHZJLFNJLEhhPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNZSgpO2hJPW5ldyBWKCJTZXJ2ZXJMaXN0QVBJIiksR2E9KG49PihuW24uQWJvdmU9MF09IkFib3ZlIixuW24uSW49MV09IkluIixuKSkoR2F8fHt9KSx5ST1uZXcgU2V0LHZJPW5ldyBTZXQ7U0k9ZT0+e2xldCB0PVtdO2ZvcihsZXQgbiBvZiBaZChlKSl0cnl7dC51bnNoaWZ0KG4oKSl9Y2F0Y2gocil7aEkuZXJyb3IoIkZhaWxlZCB0byByZW5kZXIgc2VydmVyIGxpc3QgZWxlbWVudDoiLHIpfXJldHVybiB0fX0pO2Z1bmN0aW9uIGJJKCl7bGV0IGU9W107T2JqZWN0LnZhbHVlcyhtZS5nZXRHdWlsZHMoKSkuZm9yRWFjaCh0PT57UHMuZ2V0Q2hhbm5lbHModC5pZCkuU0VMRUNUQUJMRS5mb3JFYWNoKG49PnshWnIuaGFzVW5yZWFkKG4uY2hhbm5lbC5pZCl8fGUucHVzaCh7Y2hhbm5lbElkOm4uY2hhbm5lbC5pZCxtZXNzYWdlSWQ6WnIubGFzdE1lc3NhZ2VJZChuLmNoYW5uZWwuaWQpLHJlYWRTdGF0ZVR5cGU6MH0pfSl9KSxPLmRpc3BhdGNoKHt0eXBlOiJCVUxLX0FDSyIsY29udGV4dDoiQVBQIixjaGFubmVsczplfSl9dmFyIFRJLEpkLHIwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtIYSgpO1AoKTtNKCk7dygpO1RJPSgpPT5vKFIse29uQ2xpY2s6Ykksc2l6ZTpSLlNpemVzLk1JTixjb2xvcjpSLkNvbG9ycy5CUkFORCxzdHlsZTp7bWFyZ2luVG9wOiIycHgiLG1hcmdpbkJvdHRvbToiOHB4IixtYXJnaW5MZWZ0OiI5cHgifX0sIlJlYWQgYWxsIiksSmQ9dih7bmFtZToiUmVhZEFsbE5vdGlmaWNhdGlvbnNCdXR0b24iLGRlc2NyaXB0aW9uOiJSZWFkIGFsbCBzZXJ2ZXIgbm90aWZpY2F0aW9ucyB3aXRoIGEgc2luZ2xlIGJ1dHRvbiBjbGljayEiLGF1dGhvcnM6W20ua2Vtb10sZGVwZW5kZW5jaWVzOlsiU2VydmVyTGlzdEFQSSJdLHJlbmRlclJlYWRBbGxCdXR0b246KCk9Pm8oVEksbnVsbCksc3RhcnQoKXtfaSgwLHRoaXMucmVuZGVyUmVhZEFsbEJ1dHRvbil9LHN0b3AoKXtCaSgwLHRoaXMucmVuZGVyUmVhZEFsbEJ1dHRvbil9fSl9KTt2YXIgR3QsemE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtNKCk7R3Q9RSh7bm90aWNlczp7dHlwZTozLGRlc2NyaXB0aW9uOiJBbHNvIHNob3cgYSBub3RpY2UgYXQgdGhlIHRvcCBvZiB5b3VyIHNjcmVlbiB3aGVuIHJlbW92ZWQgKHVzZSB0aGlzIGlmIHlvdSBkb24ndCB3YW50IHRvIG1pc3MgYW55IG5vdGlmaWNhdGlvbnMpLiIsZGVmYXVsdDohMX0sb2ZmbGluZVJlbW92YWxzOnt0eXBlOjMsZGVzY3JpcHRpb246Ik5vdGlmeSB5b3Ugd2hlbiBzdGFydGluZyBkaXNjb3JkIGlmIHlvdSB3ZXJlIHJlbW92ZWQgd2hpbGUgb2ZmbGluZS4iLGRlZmF1bHQ6ITB9LGZyaWVuZHM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IHdoZW4gYSBmcmllbmQgcmVtb3ZlcyB5b3UiLGRlZmF1bHQ6ITB9LGZyaWVuZFJlcXVlc3RDYW5jZWxzOnt0eXBlOjMsZGVzY3JpcHRpb246Ik5vdGlmeSB3aGVuIGEgZnJpZW5kIHJlcXVlc3QgaXMgY2FuY2VsbGVkIixkZWZhdWx0OiEwfSxzZXJ2ZXJzOnt0eXBlOjMsZGVzY3JpcHRpb246Ik5vdGlmeSB3aGVuIHJlbW92ZWQgZnJvbSBhIHNlcnZlciIsZGVmYXVsdDohMH0sZ3JvdXBzOnt0eXBlOjMsZGVzY3JpcHRpb246Ik5vdGlmeSB3aGVuIHJlbW92ZWQgZnJvbSBhIGdyb3VwIGNoYXQiLGRlZmF1bHQ6ITB9fSl9KTt2YXIgUWQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7YXN5bmMgZnVuY3Rpb24gTUkoKXtPdC5kZWxNYW55KFsicmVsYXRpb25zaGlwLW5vdGlmaWVyLWd1aWxkcyIsInJlbGF0aW9uc2hpcC1ub3RpZmllci1ncm91cHMiLCJyZWxhdGlvbnNoaXAtbm90aWZpZXItZnJpZW5kcyJdKX1hc3luYyBmdW5jdGlvbiBWZCgpe2F3YWl0IE1JKCk7bGV0W2UsdCxuXT1hd2FpdCBPdC5nZXRNYW55KFtpMCgpLHMwKCksYTAoKV0pO2lmKGF3YWl0IFByb21pc2UuYWxsKFtXYSgpLHFhKCksRmkoKV0pLEd0LnN0b3JlLm9mZmxpbmVSZW1vdmFscyl7aWYoR3Quc3RvcmUuZ3JvdXBzJiZ0Py5zaXplKWZvcihsZXRbcixpXW9mIHQpQXIuaGFzKHIpfHxubyhgWW91IGFyZSBubyBsb25nZXIgaW4gdGhlIGdyb3VwICR7aS5uYW1lfS5gLGkuaWNvblVSTCk7aWYoR3Quc3RvcmUuc2VydmVycyYmZT8uc2l6ZSlmb3IobGV0W3IsaV1vZiBlKWtyLmhhcyhyKXx8bm8oYFlvdSBhcmUgbm8gbG9uZ2VyIGluIHRoZSBzZXJ2ZXIgJHtpLm5hbWV9LmAsaS5pY29uVVJMKTtpZihHdC5zdG9yZS5mcmllbmRzJiZuPy5mcmllbmRzLmxlbmd0aClmb3IobGV0IHIgb2Ygbi5mcmllbmRzKXtpZih0ci5mcmllbmRzLmluY2x1ZGVzKHIpKWNvbnRpbnVlO2xldCBpPWF3YWl0IEVuLmZldGNoVXNlcihyKS5jYXRjaCgoKT0+e30pO2kmJm5vKGBZb3UgYXJlIG5vIGxvbmdlciBmcmllbmRzIHdpdGggJHtLbihpKX0uYCxpLmdldEF2YXRhclVSTCh2b2lkIDAsdm9pZCAwLCExKSwoKT0+eW4oaS5pZCkpfWlmKEd0LnN0b3JlLmZyaWVuZFJlcXVlc3RDYW5jZWxzJiZuPy5yZXF1ZXN0cz8ubGVuZ3RoKWZvcihsZXQgciBvZiBuLnJlcXVlc3RzKXtpZih0ci5yZXF1ZXN0cy5pbmNsdWRlcyhyKXx8WzEsMiw0XS5pbmNsdWRlcyhzdC5nZXRSZWxhdGlvbnNoaXBUeXBlKHIpKSljb250aW51ZTtsZXQgaT1hd2FpdCBFbi5mZXRjaFVzZXIocikuY2F0Y2goKCk9Pnt9KTtpJiZubyhgRnJpZW5kIHJlcXVlc3QgZnJvbSAke0tuKGkpfSBoYXMgYmVlbiByZXZva2VkLmAsaS5nZXRBdmF0YXJVUkwodm9pZCAwLHZvaWQgMCwhMSksKCk9PnluKGkuaWQpKX19fWZ1bmN0aW9uIG5vKGUsdCxuKXtHdC5zdG9yZS5ub3RpY2VzJiZqYS5zaG93Tm90aWNlKGUsIk9LIiwoKT0+amEucG9wTm90aWNlKCkpLHZlKHt0aXRsZToiUmVsYXRpb25zaGlwIE5vdGlmaWVyIixib2R5OmUsaWNvbjp0LG9uQ2xpY2s6bn0pfWZ1bmN0aW9uIGwwKGUpe3JldHVybiBrci5nZXQoZSl9ZnVuY3Rpb24gZW0oZSl7a3IuZGVsZXRlKGUpLFdhKCl9YXN5bmMgZnVuY3Rpb24gV2EoKXtrci5jbGVhcigpO2xldCBlPUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtmb3IobGV0W3Qse25hbWU6bixpY29uOnJ9XW9mIE9iamVjdC5lbnRyaWVzKG1lLmdldEd1aWxkcygpKSlGZS5pc01lbWJlcih0LGUpJiZrci5zZXQodCx7aWQ6dCxuYW1lOm4saWNvblVSTDpyJiZgaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vaWNvbnMvJHt0fS8ke3J9LnBuZ2B9KTthd2FpdCBPdC5zZXQoaTAoKSxrcil9ZnVuY3Rpb24gYzAoZSl7cmV0dXJuIEFyLmdldChlKX1mdW5jdGlvbiB0bShlKXtBci5kZWxldGUoZSkscWEoKX1hc3luYyBmdW5jdGlvbiBxYSgpe0FyLmNsZWFyKCk7Zm9yKGxldHt0eXBlOmUsaWQ6dCxuYW1lOm4scmF3UmVjaXBpZW50czpyLGljb246aX1vZiB0ZS5nZXRTb3J0ZWRQcml2YXRlQ2hhbm5lbHMoKSllPT09MyYmQXIuc2V0KHQse2lkOnQsbmFtZTpufHxyLm1hcChzPT5zLnVzZXJuYW1lKS5qb2luKCIsICIpLGljb25VUkw6aSYmYGh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2NoYW5uZWwtaWNvbnMvJHt0fS8ke2l9LnBuZ2B9KTthd2FpdCBPdC5zZXQoczAoKSxBcil9YXN5bmMgZnVuY3Rpb24gRmkoKXt0ci5mcmllbmRzPVtdLHRyLnJlcXVlc3RzPVtdO2xldCBlPXN0LmdldFJlbGF0aW9uc2hpcHMoKTtmb3IobGV0IHQgaW4gZSlzd2l0Y2goZVt0XSl7Y2FzZSAxOnRyLmZyaWVuZHMucHVzaCh0KTticmVhaztjYXNlIDM6dHIucmVxdWVzdHMucHVzaCh0KTticmVha31hd2FpdCBPdC5zZXQoYTAoKSx0cil9dmFyIGtyLEFyLHRyLGkwLHMwLGEwLG5tPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTskaSgpO21vKCk7YXQoKTt3KCk7emEoKTtRZCgpO2tyPW5ldyBNYXAsQXI9bmV3IE1hcCx0cj17ZnJpZW5kczpbXSxyZXF1ZXN0czpbXX0saTA9KCk9PmByZWxhdGlvbnNoaXAtbm90aWZpZXItZ3VpbGRzLSR7Ry5nZXRDdXJyZW50VXNlcigpLmlkfWAsczA9KCk9PmByZWxhdGlvbnNoaXAtbm90aWZpZXItZ3JvdXBzLSR7Ry5nZXRDdXJyZW50VXNlcigpLmlkfWAsYTA9KCk9PmByZWxhdGlvbnNoaXAtbm90aWZpZXItZnJpZW5kcy0ke0cuZ2V0Q3VycmVudFVzZXIoKS5pZH1gfSk7YXN5bmMgZnVuY3Rpb24gbTAoe3JlbGF0aW9uc2hpcDp7dHlwZTplLGlkOnR9fSl7aWYob209PT10KXtvbT12b2lkIDA7cmV0dXJufWxldCBuPWF3YWl0IEVuLmZldGNoVXNlcih0KS5jYXRjaCgoKT0+bnVsbCk7aWYoISFuKXN3aXRjaChlKXtjYXNlIDE6R3Quc3RvcmUuZnJpZW5kcyYmbm8oYCR7S24obil9IHJlbW92ZWQgeW91IGFzIGEgZnJpZW5kLmAsbi5nZXRBdmF0YXJVUkwodm9pZCAwLHZvaWQgMCwhMSksKCk9PnluKG4uaWQpKTticmVhaztjYXNlIDM6R3Quc3RvcmUuZnJpZW5kUmVxdWVzdENhbmNlbHMmJm5vKGBBIGZyaWVuZCByZXF1ZXN0IGZyb20gJHtLbihuKX0gaGFzIGJlZW4gcmVtb3ZlZC5gLG4uZ2V0QXZhdGFyVVJMKHZvaWQgMCx2b2lkIDAsITEpLCgpPT55bihuLmlkKSk7YnJlYWt9fWZ1bmN0aW9uIGYwKHtndWlsZDp7aWQ6ZSx1bmF2YWlsYWJsZTp0fX0pe2lmKCFHdC5zdG9yZS5zZXJ2ZXJzfHx0KXJldHVybjtpZihybT09PWUpe2VtKGUpLHJtPXZvaWQgMDtyZXR1cm59bGV0IG49bDAoZSk7biYmKGVtKGUpLG5vKGBZb3Ugd2VyZSByZW1vdmVkIGZyb20gdGhlIHNlcnZlciAke24ubmFtZX0uYCxuLmljb25VUkwpKX1mdW5jdGlvbiBnMCh7Y2hhbm5lbDp7aWQ6ZSx0eXBlOnR9fSl7aWYoIUd0LnN0b3JlLmdyb3Vwc3x8dCE9PTMpcmV0dXJuO2lmKGltPT09ZSl7dG0oZSksaW09dm9pZCAwO3JldHVybn1sZXQgbj1jMChlKTtuJiYodG0oZSksbm8oYFlvdSB3ZXJlIHJlbW92ZWQgZnJvbSB0aGUgZ3JvdXAgJHtuLm5hbWV9LmAsbi5pY29uVVJMKSl9dmFyIG9tLHJtLGltLHUwLHAwLGQwLGgwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTthdCgpO3coKTt6YSgpO1FkKCk7bm0oKTt1MD1lPT5vbT1lLHAwPWU9PnJtPWUsZDA9ZT0+aW09ZX0pO3ZhciBzbSx5MD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtoMCgpO3phKCk7bm0oKTtzbT12KHtuYW1lOiJSZWxhdGlvbnNoaXBOb3RpZmllciIsZGVzY3JpcHRpb246Ik5vdGlmaWVzIHlvdSB3aGVuIGEgZnJpZW5kLCBncm91cCBjaGF0LCBvciBzZXJ2ZXIgcmVtb3ZlcyB5b3UuIixhdXRob3JzOlttLm5pY2tdLHNldHRpbmdzOkd0LHBhdGNoZXM6W3tmaW5kOiJyZW1vdmVSZWxhdGlvbnNoaXA6ZnVuY3Rpb24oIixyZXBsYWNlbWVudDp7bWF0Y2g6LyhyZW1vdmVSZWxhdGlvbnNoaXA6ZnVuY3Rpb25cKChcaSksXGksXGlcKXspLyxyZXBsYWNlOiIkMSRzZWxmLnJlbW92ZUZyaWVuZCgkMik7In19LHtmaW5kOiJsZWF2ZUd1aWxkOmZ1bmN0aW9uKCIscmVwbGFjZW1lbnQ6e21hdGNoOi8obGVhdmVHdWlsZDpmdW5jdGlvblwoKFxpKVwpeykvLHJlcGxhY2U6IiQxJHNlbGYucmVtb3ZlR3VpbGQoJDIpOyJ9fSx7ZmluZDoiY2xvc2VQcml2YXRlQ2hhbm5lbDpmdW5jdGlvbigiLHJlcGxhY2VtZW50OnttYXRjaDovKGNsb3NlUHJpdmF0ZUNoYW5uZWw6ZnVuY3Rpb25cKChcaSlcKXspLyxyZXBsYWNlOiIkMSRzZWxmLnJlbW92ZUdyb3VwKCQyKTsifX1dLGZsdXg6e0dVSUxEX0NSRUFURTpXYSxHVUlMRF9ERUxFVEU6ZjAsQ0hBTk5FTF9DUkVBVEU6cWEsQ0hBTk5FTF9ERUxFVEU6ZzAsUkVMQVRJT05TSElQX0FERDpGaSxSRUxBVElPTlNISVBfVVBEQVRFOkZpLFJFTEFUSU9OU0hJUF9SRU1PVkUoZSl7bTAoZSksRmkoKX0sQ09OTkVDVElPTl9PUEVOOlZkfSxhc3luYyBzdGFydCgpe3NldFRpbWVvdXQoKCk9PntWZCgpfSw1ZTMpfSxyZW1vdmVGcmllbmQ6dTAscmVtb3ZlR3JvdXA6ZDAscmVtb3ZlR3VpbGQ6cDB9KX0pO3ZhciBQSSxJSSxhbSx2MD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO00oKTtGKCk7UEk9Qygic3BvaWxlckNvbnRlbnQiKSxJST1DKCJtZXNzYWdlc1dyYXBwZXIiLCJtZXNzYWdlcyIpLGFtPXYoe25hbWU6IlJldmVhbEFsbFNwb2lsZXJzIixkZXNjcmlwdGlvbjoiUmV2ZWFsIGFsbCBzcG9pbGVycyBpbiBhIG1lc3NhZ2UgYnkgQ3RybC1jbGlja2luZyBhIHNwb2lsZXIsIG9yIGluIHRoZSBjaGF0IHdpdGggQ3RybCtTaGlmdC1jbGljayIsYXV0aG9yczpbbS53aHF3ZXJ0XSxwYXRjaGVzOlt7ZmluZDoiLnJlbW92ZU9ic2N1cml0eT1mdW5jdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9XC5yZW1vdmVPYnNjdXJpdHk9ZnVuY3Rpb25cKChcaSlcKXspLyxyZXBsYWNlOihlLHQpPT5gJHNlbGYucmV2ZWFsKCR7dH0pO2B9fV0scmV2ZWFsKGUpe2xldHtjdHJsS2V5OnQsc2hpZnRLZXk6bix0YXJnZXQ6cn09ZTtpZighdClyZXR1cm47bGV0e3Nwb2lsZXJDb250ZW50OmksaGlkZGVuOnN9PVBJLHttZXNzYWdlc1dyYXBwZXI6Y309SUksdT1uP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdi4ke2N9YCk6ci5wYXJlbnRFbGVtZW50O2ZvcihsZXQgcCBvZiB1LnF1ZXJ5U2VsZWN0b3JBbGwoYHNwYW4uJHtpfS4ke3N9YCkpcC5jbGljaygpfX0pfSk7ZnVuY3Rpb24gUzAoZSx0KXtvcGVuKHQrZW5jb2RlVVJJQ29tcG9uZW50KGUpLCJfYmxhbmsiKX12YXIgS2EsYjAsbG0sVDA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1R0KCk7YnQoKTt4bigpO1AoKTtNKCk7dygpO0thPXtHb29nbGU6Imh0dHBzOi8vbGVucy5nb29nbGUuY29tL3VwbG9hZGJ5dXJsP3VybD0iLFlhbmRleDoiaHR0cHM6Ly95YW5kZXguY29tL2ltYWdlcy9zZWFyY2g/cnB0PWltYWdldmlldyZ1cmw9IixTYXVjZU5BTzoiaHR0cHM6Ly9zYXVjZW5hby5jb20vc2VhcmNoLnBocD91cmw9IixJUURCOiJodHRwczovL2lxZGIub3JnLz91cmw9IixUaW5FeWU6Imh0dHBzOi8vd3d3LnRpbmV5ZS5jb20vc2VhcmNoP3VybD0iLEltZ09wczoiaHR0cHM6Ly9pbWdvcHMuY29tL3N0YXJ0P3VybD0ifTtiMD0oZSx0KT0+KCk9PntpZighdClyZXR1cm47bGV0e3JldmVyc2VJbWFnZVNlYXJjaFR5cGU6bixpdGVtSHJlZjpyLGl0ZW1TcmM6aX09dDtpZighbnx8biE9PSJpbWciKXJldHVybjtsZXQgcz1yPz9pLGM9bHQoImNvcHktbGluayIsZSk7YyYmYy5wdXNoKG8oQi5NZW51SXRlbSx7bGFiZWw6IlNlYXJjaCBJbWFnZSIsa2V5OiJzZWFyY2gtaW1hZ2UiLGlkOiJzZWFyY2gtaW1hZ2UifSxPYmplY3Qua2V5cyhLYSkubWFwKCh1LHApPT57bGV0IHk9InNlYXJjaC1pbWFnZS0iK3U7cmV0dXJuIG8oQi5NZW51SXRlbSx7a2V5OnksaWQ6eSxsYWJlbDpvKGNlLHtzdHlsZTp7YWxpZ25JdGVtczoiY2VudGVyIixnYXA6IjAuNWVtIn19LG8oImltZyIse3N0eWxlOntib3JkZXJSYWRpdXM6cD49Mz8iNTAlIjp2b2lkIDB9LCJhcmlhLWhpZGRlbiI6InRydWUiLGhlaWdodDoxNix3aWR0aDoxNixzcmM6bmV3IFVSTCgiL2Zhdmljb24uaWNvIixLYVt1XSkudG9TdHJpbmcoKS5yZXBsYWNlKCJsZW5zLiIsIiIpfSksdSksYWN0aW9uOigpPT5TMChzLEthW3VdKX0pfSksbyhCLk1lbnVJdGVtLHtrZXk6InNlYXJjaC1pbWFnZS1hbGwiLGlkOiJzZWFyY2gtaW1hZ2UtYWxsIixsYWJlbDpvKGNlLHtzdHlsZTp7YWxpZ25JdGVtczoiY2VudGVyIixnYXA6IjAuNWVtIn19LG8ocW8se2hlaWdodDoxNix3aWR0aDoxNn0pLCJBbGwiKSxhY3Rpb246KCk9Pk9iamVjdC52YWx1ZXMoS2EpLmZvckVhY2godT0+UzAocyx1KSl9KSkpfSxsbT12KHtuYW1lOiJSZXZlcnNlSW1hZ2VTZWFyY2giLGRlc2NyaXB0aW9uOiJBZGRzIEltYWdlU2VhcmNoIHRvIGltYWdlIGNvbnRleHQgbWVudXMiLGF1dGhvcnM6W20uVmVuLG0uTnVja3l6XSx0YWdzOlsiSW1hZ2VVdGlsaXRpZXMiXSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLk1FU1NBR0VfQUNUSU9OU19NRU5VX0xBQkVMIixyZXBsYWNlbWVudDp7bWF0Y2g6L2Zhdm9yaXRlYWJsZVR5cGU6XGksKD88PShcaSlcLmdldEF0dHJpYnV0ZVwoImRhdGEtdHlwZSJcKS4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9cmV2ZXJzZUltYWdlU2VhcmNoVHlwZToke3R9LmdldEF0dHJpYnV0ZSgiZGF0YS1yb2xlIiksYH19XSxzdGFydCgpe2RlKCJtZXNzYWdlIixiMCl9LHN0b3AoKXtmZSgibWVzc2FnZSIsYjApfX0pfSk7dmFyIHgwPWcoKCk9Pnt9KTt2YXIgWWE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gTHIoZSl7bGV0e09BdXRoMkF1dGhvcml6ZU1vZGFsOnR9PWtuKCJPQXV0aDJBdXRob3JpemVNb2RhbCIpO1BlKG49Pm8odCx7Li4ubixzY29wZXM6WyJpZGVudGlmeSJdLHJlc3BvbnNlVHlwZToiY29kZSIscmVkaXJlY3RVcmk6Imh0dHBzOi8vbWFudGkudmVuZGljYXRlZC5kZXYvYXBpL3Jldmlld2RiL2F1dGgiLHBlcm1pc3Npb25zOjBuLGNsaWVudElkOiI5MTU3MDM3ODIxNzQ3NTI4MDkiLGNhbmNlbENvbXBsZXRlc0Zsb3c6ITEsY2FsbGJhY2s6YXN5bmMgcj0+e3RyeXtsZXQgaT1uZXcgVVJMKHIubG9jYXRpb24pO2kuc2VhcmNoUGFyYW1zLmFwcGVuZCgiY2xpZW50TW9kIiwidmVuY29yZCIpO2xldCBzPWF3YWl0IGYoaSx7aGVhZGVyczpuZXcgSGVhZGVycyh7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIn0pfSkse3Rva2VuOmMsc3VjY2Vzczp1fT1hd2FpdCBzLmpzb24oKTt1Pyh6ZS5zdG9yZS50b2tlbj1jLEh0KCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluISIpLGU/LigpKTpzLnN0YXR1cz09PTEmJkh0KCJBbiBFcnJvciBvY2N1cnJlZCB3aGlsZSBsb2dnaW5nIGluLiIpfWNhdGNoKGkpe25ldyBWKCJSZXZpZXdEQiIpLmVycm9yKCJGYWlsZWQgdG8gYXV0aG9yaXplIixpKX19fSkpfWZ1bmN0aW9uIEh0KGUpe1ouc2hvdyh7dHlwZTpaLlR5cGUuTUVTU0FHRSxtZXNzYWdlOmUsaWQ6Wi5nZW5JZCgpLG9wdGlvbnM6e3Bvc2l0aW9uOlouUG9zaXRpb24uQk9UVE9NfX0pfWZ1bmN0aW9uIHcwKGUsdCl7cmV0dXJuIGUuc2VuZGVyLmRpc2NvcmRJRD09PXR8fHplLnN0b3JlLnVzZXI/LnR5cGU9PT0xfXZhciBybixObz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2UoKTtNZSgpO1plKCk7RigpO3coKTtZYSgpO25yKCk7cm49YmUoInZjLXJkYi0iKX0pO3ZhciB6ZSxucj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO00oKTt3KCk7Tm8oKTt6ZT1FKHthdXRob3JpemU6e3R5cGU6NixkZXNjcmlwdGlvbjoiQXV0aG9yaXplIHdpdGggUmV2aWV3REIiLGNvbXBvbmVudDooKT0+byhSLHtvbkNsaWNrOkxyfSwiQXV0aG9yaXplIHdpdGggUmV2aWV3REIiKX0sbm90aWZ5UmV2aWV3czp7dHlwZTozLGRlc2NyaXB0aW9uOiJOb3RpZnkgYWJvdXQgbmV3IHJldmlld3Mgb24gc3RhcnR1cCIsZGVmYXVsdDohMH0sc2hvd1dhcm5pbmc6e3R5cGU6MyxkZXNjcmlwdGlvbjoiRGlzcGxheSB3YXJuaW5nIHRvIGJlIHJlc3BlY3RmdWwgYXQgdGhlIHRvcCBvZiB0aGUgcmV2aWV3cyBsaXN0IixkZWZhdWx0OiEwfSxoaWRlVGltZXN0YW1wczp7dHlwZTozLGRlc2NyaXB0aW9uOiJIaWRlIHRpbWVzdGFtcHMgb24gcmV2aWV3cyIsZGVmYXVsdDohMX0sd2Vic2l0ZTp7dHlwZTo2LGRlc2NyaXB0aW9uOiJSZXZpZXdEQiB3ZWJzaXRlIixjb21wb25lbnQ6KCk9Pm8oUix7b25DbGljazooKT0+e2xldCBlPSJodHRwczovL3Jldmlld2RiLm1hbnRpa2FmYXNpLmRldi8iO3plLnN0b3JlLnRva2VuJiYoZSs9Ii9hcGkvcmVkaXJlY3Q/dG9rZW49IitlbmNvZGVVUklDb21wb25lbnQoemUuc3RvcmUudG9rZW4pKSxWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoZSl9fSwiUmV2aWV3REIgd2Vic2l0ZSIpfSxzdXBwb3J0U2VydmVyOnt0eXBlOjYsZGVzY3JpcHRpb246IlJldmlld0RCIFN1cHBvcnQgU2VydmVyIixjb21wb25lbnQ6KCk9Pm8oUix7b25DbGljazooKT0+e1ZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9kaXNjb3JkLmdnL2VXUEJTYnZ6bnQiKX19LCJSZXZpZXdEQiBTdXBwb3J0IFNlcnZlciIpfX0pLndpdGhQcml2YXRlU2V0dGluZ3MoKX0pO2FzeW5jIGZ1bmN0aW9uIE0wKGUsdD0wKXtsZXQgbj0wO3plLnN0b3JlLnNob3dXYXJuaW5nfHwobnw9TkkpO2xldCByPW5ldyBVUkxTZWFyY2hQYXJhbXMoe2ZsYWdzOlN0cmluZyhuKSxvZmZzZXQ6U3RyaW5nKHQpfSksaT1hd2FpdCBmKGAke1VpfS9hcGkvcmV2aWV3ZGIvdXNlcnMvJHtlfS9yZXZpZXdzPyR7cn1gKSxzPWkuc3RhdHVzPT09MjAwP2F3YWl0IGkuanNvbigpOntzdWNjZXNzOiExLG1lc3NhZ2U6IkFuIEVycm9yIG9jY3VyZWQgd2hpbGUgZmV0Y2hpbmcgcmV2aWV3cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iLHJldmlld3M6W10sdXBkYXRlZDohMSxoYXNOZXh0UGFnZTohMSxyZXZpZXdDb3VudDowfTtyZXR1cm4gcy5zdWNjZXNzP3M6KEh0KHMubWVzc2FnZSksey4uLnMscmV2aWV3czpbe2lkOjAsY29tbWVudDoiQW4gRXJyb3Igb2NjdXJlZCB3aGlsZSBmZXRjaGluZyByZXZpZXdzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIsc3RhcjowLHRpbWVzdGFtcDowLHNlbmRlcjp7aWQ6MCx1c2VybmFtZToiRXJyb3IiLHByb2ZpbGVQaG90bzoiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTA0NTM5NDUzMzM4NDQ2MjM3Ny8xMDg0OTAwNTk4MDM1NTEzNDQ3LzY0NjgwODU5OTIwNDU5MzY4My5wbmc/c2l6ZT0xMjgiLGRpc2NvcmRJRDoiMCIsYmFkZ2VzOltdfX1dfSl9YXN5bmMgZnVuY3Rpb24gUDAoZSl7cmV0dXJuIGUudG9rZW49emUuc3RvcmUudG9rZW4sZS50b2tlbj9mKFVpK2AvYXBpL3Jldmlld2RiL3VzZXJzLyR7ZS51c2VyaWR9L3Jldmlld3NgLHttZXRob2Q6IlBVVCIsYm9keTpKU09OLnN0cmluZ2lmeShlKSxoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fSkudGhlbih0PT50Lmpzb24oKSkudGhlbih0PT4oSHQodC5tZXNzYWdlKSx0Pz9udWxsKSk6KEh0KCJQbGVhc2UgYXV0aG9yaXplIHRvIGFkZCBhIHJldmlldy4iKSxMcigpLG51bGwpfWZ1bmN0aW9uIEkwKGUpe3JldHVybiBmKFVpK2AvYXBpL3Jldmlld2RiL3VzZXJzLyR7ZX0vcmV2aWV3c2Ase21ldGhvZDoiREVMRVRFIixoZWFkZXJzOm5ldyBIZWFkZXJzKHsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiIsQWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIn0pLGJvZHk6SlNPTi5zdHJpbmdpZnkoe3Rva2VuOnplLnN0b3JlLnRva2VuLHJldmlld2lkOmV9KX0pLnRoZW4odD0+dC5qc29uKCkpfWFzeW5jIGZ1bmN0aW9uIEMwKGUpe2xldCB0PWF3YWl0IGYoVWkrIi9hcGkvcmV2aWV3ZGIvcmVwb3J0cyIse21ldGhvZDoiUFVUIixoZWFkZXJzOm5ldyBIZWFkZXJzKHsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiIsQWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIn0pLGJvZHk6SlNPTi5zdHJpbmdpZnkoe3Jldmlld2lkOmUsdG9rZW46emUuc3RvcmUudG9rZW59KX0pLnRoZW4obj0+bi5qc29uKCkpO0h0KHQubWVzc2FnZSl9ZnVuY3Rpb24gTjAoZSl7cmV0dXJuIGYoVWkrIi9hcGkvcmV2aWV3ZGIvdXNlcnMiLHtib2R5OkpTT04uc3RyaW5naWZ5KHt0b2tlbjplfSksbWV0aG9kOiJQT1NUIn0pLnRoZW4odD0+dC5qc29uKCkpfXZhciBVaSxaYSxOSSxHaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bnIoKTtObygpO1VpPSJodHRwczovL21hbnRpLnZlbmRpY2F0ZWQuZGV2IixaYT01MCxOST0yfSk7ZnVuY3Rpb24gUjAoe29uQ2xpY2s6ZX0pe3JldHVybiBvKFgse3RleHQ6IkRlbGV0ZSBSZXZpZXcifSx0PT5vKCJkaXYiLHsuLi50LGNsYXNzTmFtZTpRKGNtLmJ1dHRvbixjbS5kYW5nZXJvdXMpLG9uQ2xpY2s6ZX0sbygic3ZnIix7d2lkdGg6IjE2IixoZWlnaHQ6IjE2Iix2aWV3Qm94OiIwIDAgMjAgMjAifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNMTUgMy45OTlWMkg5VjMuOTk5SDNWNS45OTlIMjFWMy45OTlIMTVaIn0pLG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik01IDYuOTk5MDJWMTguOTk5QzUgMjAuMTAxIDUuODk3IDIwLjk5OSA3IDIwLjk5OUgxN0MxOC4xMDMgMjAuOTk5IDE5IDIwLjEwMSAxOSAxOC45OTlWNi45OTkwMkg1Wk0xMSAxN0g5VjExSDExVjE3Wk0xNSAxN0gxM1YxMUgxNVYxN1oifSkpKSl9ZnVuY3Rpb24gazAoe29uQ2xpY2s6ZX0pe3JldHVybiBvKFgse3RleHQ6IlJlcG9ydCBSZXZpZXcifSx0PT5vKCJkaXYiLHsuLi50LGNsYXNzTmFtZTpjbS5idXR0b24sb25DbGljazplfSxvKCJzdmciLHt3aWR0aDoiMTYiLGhlaWdodDoiMTYiLHZpZXdCb3g6IjAgMCAyMCAyMCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0yMCw2LjAwMkgxNFYzLjAwMkMxNCwyLjQ1IDEzLjU1MywyLjAwMiAxMywyLjAwMkg0QzMuNDQ3LDIuMDAyIDMsMi40NSAzLDMuMDAyVjIyLjAwMkg1VjE0LjAwMkgxMC41ODZMOC4yOTMsMTYuMjk1QzguMDA3LDE2LjU4MSA3LjkyMiwxNy4wMTEgOC4wNzYsMTcuMzg1QzguMjMsMTcuNzU5IDguNTk2LDE4LjAwMiA5LDE4LjAwMkgyMEMyMC41NTMsMTguMDAyIDIxLDE3LjU1NCAyMSwxNy4wMDJWNy4wMDJDMjEsNi40NSAyMC41NTMsNi4wMDIgMjAsNi4wMDJaIn0pKSkpfXZhciBjbSxBMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Z2UoKTtGKCk7dygpO2NtPUMoImJ1dHRvbiIsIndyYXBwZXIiLCJkaXNhYmxlZCIsInNlcGFyYXRvciIpfSk7ZnVuY3Rpb24gdW0oZSl7cmV0dXJuIG8oWCx7dGV4dDplLm5hbWV9LCh7b25Nb3VzZUVudGVyOnQsb25Nb3VzZUxlYXZlOm59KT0+bygiaW1nIix7Y2xhc3NOYW1lOnJuKCJiYWRnZSIpLHdpZHRoOiIyNHB4IixoZWlnaHQ6IjI0cHgiLG9uTW91c2VFbnRlcjp0LG9uTW91c2VMZWF2ZTpuLHNyYzplLmljb24sYWx0OmUuZGVzY3JpcHRpb24sb25DbGljazooKT0+VWwub3BlblVudHJ1c3RlZExpbmsoe2hyZWY6ZS5yZWRpcmVjdFVSTH0pfSkpfXZhciBMMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpO05vKCl9KTt2YXIgWGEscG09ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2F0KCk7Z2UoKTtoZSgpO0YoKTt3KCk7WWEoKTtHaSgpO25yKCk7Tm8oKTtBMCgpO0wwKCk7WGE9cmUoKCk9PntsZXQgZT1KLmJ5UHJvcHMsW3tjb3p5TWVzc2FnZTp0LGJ1dHRvbnM6bixtZXNzYWdlOnIsZ3JvdXBTdGFydDppfSx7Y29udGFpbmVyOnMsaXNIZWFkZXI6Y30se2F2YXRhcjp1LGNsaWNrYWJsZTpwLHVzZXJuYW1lOnksbWVzc2FnZUNvbnRlbnQ6aCx3cmFwcGVyOlMsY296eTpifSx4LEFdPWpyKGUoImNvenlNZXNzYWdlIiksZSgiY29udGFpbmVyIiwiaXNIZWFkZXIiKSxlKCJhdmF0YXIiLCJ6YWxnbyIpLGUoImJ1dHRvbiIsIndyYXBwZXIiLCJzZWxlY3RlZCIpLGUoImJvdFRhZyIpKSxOPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0O3JldHVybiBmdW5jdGlvbih7cmV2aWV3OiQscmVmZXRjaDpffSl7ZnVuY3Rpb24gSygpe3luKCQuc2VuZGVyLmRpc2NvcmRJRCl9ZnVuY3Rpb24gbmUoKXtOdC5zaG93KHt0aXRsZToiQXJlIHlvdSBzdXJlPyIsYm9keToiRG8geW91IHJlYWxseSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJldmlldz8iLGNvbmZpcm1UZXh0OiJEZWxldGUiLGNhbmNlbFRleHQ6Ik5ldmVybWluZCIsb25Db25maXJtOigpPT57STAoJC5pZCkudGhlbihxPT57cS5zdWNjZXNzJiZfKCksSHQocS5tZXNzYWdlKX0pfX0pfWZ1bmN0aW9uIFkoKXtOdC5zaG93KHt0aXRsZToiQXJlIHlvdSBzdXJlPyIsYm9keToiRG8geW91IHJlYWxseSB5b3Ugd2FudCB0byByZXBvcnQgdGhpcyByZXZpZXc/Iixjb25maXJtVGV4dDoiUmVwb3J0IixjYW5jZWxUZXh0OiJOZXZlcm1pbmQiLG9uQ29uZmlybTooKT0+QzAoJC5pZCl9KX1yZXR1cm4gbygiZGl2Iix7Y2xhc3NOYW1lOlEodCxTLHIsaSxiLHJuKCJyZXZpZXciKSksc3R5bGU6e21hcmdpbkxlZnQ6IjBweCIscGFkZGluZ0xlZnQ6IjUycHgiLHBhZGRpbmdSaWdodDoiMTZweCJ9fSxvKCJpbWciLHtjbGFzc05hbWU6USh1LHApLG9uQ2xpY2s6SyxzcmM6JC5zZW5kZXIucHJvZmlsZVBob3RvfHwiL2Fzc2V0cy8xZjBiZmMwODY1ZDMyNGMyNTg3OTIwYTdkODBjNjA5Yi5wbmc/c2l6ZT0xMjgiLHN0eWxlOntsZWZ0OiIwcHgifX0pLG8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJpbmxpbmUtZmxleCIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsYWxpZ25JdGVtczoiY2VudGVyIn19LG8oInNwYW4iLHtjbGFzc05hbWU6UShwLHkpLHN0eWxlOntjb2xvcjoidmFyKC0tY2hhbm5lbHMtZGVmYXVsdCkiLGZvbnRTaXplOiIxNHB4In0sb25DbGljazooKT0+SygpfSwkLnNlbmRlci51c2VybmFtZSksJC50eXBlPT09MyYmbygic3BhbiIse2NsYXNzTmFtZTpRKEEuYm90VGFnVmVyaWZpZWQsQS5ib3RUYWdSZWd1bGFyLEEuYm90VGFnLEEucHgsQS5yZW0pLHN0eWxlOnttYXJnaW5MZWZ0OiI0cHgifX0sbygic3BhbiIse2NsYXNzTmFtZTpBLmJvdFRleHR9LCJTeXN0ZW0iKSkpLCQuc2VuZGVyLmJhZGdlcy5tYXAocT0+byh1bSx7Li4ucX0pKSwhemUuc3RvcmUuaGlkZVRpbWVzdGFtcHMmJiQudHlwZSE9PTMmJm8oQW4se3RpbWVzdGFtcDp0bigkLnRpbWVzdGFtcCoxZTMpfSxOLmZvcm1hdCgkLnRpbWVzdGFtcCoxZTMpKSxvKCJwIix7Y2xhc3NOYW1lOlEoaCksc3R5bGU6e2ZvbnRTaXplOjE1LG1hcmdpblRvcDo0LGNvbG9yOiJ2YXIoLS10ZXh0LW5vcm1hbCkifX0sJC5jb21tZW50KSwkLmlkIT09MCYmbygiZGl2Iix7Y2xhc3NOYW1lOlEocyxjLG4pLHN0eWxlOntwYWRkaW5nOiIwcHgifX0sbygiZGl2Iix7Y2xhc3NOYW1lOngud3JhcHBlcn0sbyhrMCx7b25DbGljazpZfSksdzAoJCxHLmdldEN1cnJlbnRVc2VyKCkuaWQpJiZvKFIwLHtvbkNsaWNrOm5lfSkpKSl9fSl9KTtmdW5jdGlvbiBIaSh7ZGlzY29yZElkOmUsbmFtZTp0LG9uRmV0Y2hSZXZpZXdzOm4scmVmZXRjaFNpZ25hbDpyLHNjcm9sbFRvVG9wOmkscGFnZTpzPTEsc2hvd0lucHV0OmM9ITEsaGlkZU93blJldmlldzp1PSExfSl7bGV0W3AseV09JHQoITApLFtoXT1ZZSgoKT0+TTAoZSwocy0xKSpaYSkse2ZhbGxiYWNrVmFsdWU6bnVsbCxkZXBzOltyLHAsc10sb25TdWNjZXNzOlM9PntpPy4oKSxuKFMpfX0pO3JldHVybiBoP28oZCxudWxsLG8oa0kse3JlZmV0Y2g6eSxyZXZpZXdzOmgucmV2aWV3cyxoaWRlT3duUmV2aWV3OnV9KSxjJiZvKGRtLHtuYW1lOnQsZGlzY29yZElkOmUscmVmZXRjaDp5LGlzQXV0aG9yOmgucmV2aWV3cz8uc29tZShTPT5TLnNlbmRlci5kaXNjb3JkSUQ9PT1HLmdldEN1cnJlbnRVc2VyKCkuaWQpfSkpOm51bGx9ZnVuY3Rpb24ga0koe3JlZmV0Y2g6ZSxyZXZpZXdzOnQsaGlkZU93blJldmlldzpufSl7bGV0IHI9Ry5nZXRDdXJyZW50VXNlcigpLmlkO3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6cm4oInZpZXciKX0sdD8ubWFwKGk9PihpLnNlbmRlci5kaXNjb3JkSUQhPT1yfHwhbikmJm8oWGEse2tleTppLmlkLHJldmlldzppLHJlZmV0Y2g6ZX0pKSx0Py5sZW5ndGg9PT0wJiZvKFQuRm9ybVRleHQse2NsYXNzTmFtZTpybigicGxhY2Vob2xkZXIiKX0sIkxvb2tzIGxpa2Ugbm9ib2R5IHJldmlld2VkIHRoaXMgdXNlciB5ZXQuIFlvdSBjb3VsZCBiZSB0aGUgZmlyc3QhIikpfWZ1bmN0aW9uIGRtKHtkaXNjb3JkSWQ6ZSxpc0F1dGhvcjp0LHJlZmV0Y2g6bixuYW1lOnJ9KXtsZXR7dG9rZW46aX09emUuc3RvcmU7ZnVuY3Rpb24gcyh7a2V5OmMsdGFyZ2V0OnV9KXtjPT09IkVudGVyIiYmUDAoe3VzZXJpZDplLGNvbW1lbnQ6dS52YWx1ZSxzdGFyOi0xfSkudGhlbihwPT57cD8uc3VjY2Vzcz8odS52YWx1ZT0iIixuKCkpOnA/Lm1lc3NhZ2UmJkh0KHAubWVzc2FnZSl9KX1yZXR1cm4gbygidGV4dGFyZWEiLHtjbGFzc05hbWU6UShSSS5pbnB1dERlZmF1bHQsImVudGVyLWNvbW1lbnQiLHJuKCJpbnB1dCIpKSxvbktleURvd25DYXB0dXJlOmM9PntjLmtleT09PSJFbnRlciImJmMucHJldmVudERlZmF1bHQoKX0scGxhY2Vob2xkZXI6aT90P2BVcGRhdGUgcmV2aWV3IGZvciBAJHtyfWA6YFJldmlldyBAJHtyfWA6IllvdSBuZWVkIHRvIGF1dGhvcml6ZSB0byByZXZpZXcgdXNlcnMhIixvbktleURvd246cyxvbkNsaWNrOigpPT57aXx8KEh0KCJPcGVuaW5nIGF1dGhvcml6YXRpb24gd2luZG93Li4uIiksTHIoKSl9fSl9dmFyIFJJLG1tPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtnZSgpO2hlKCk7RigpO3coKTtHaSgpO25yKCk7Tm8oKTtwbSgpO1JJPUMoImlucHV0RGVmYXVsdCIsImVkaXRhYmxlIil9KTtmdW5jdGlvbiBBSSh7bW9kYWxQcm9wczplLGRpc2NvcmRJZDp0LG5hbWU6bn0pe2xldFtyLGldPWooKSxbcyxjXT0kdCghMCksW3UscF09aigxKSx5PXZ0KG51bGwpLGg9cj8ucmV2aWV3Q291bnQsUz1yPy5yZXZpZXdzLmZpbmQoYj0+Yi5zZW5kZXIuZGlzY29yZElEPT09emUuc3RvcmUudXNlcj8uZGlzY29yZElEKTtyZXR1cm4gbyhELG51bGwsbyhMZSx7Li4uZSxzaXplOiJtZWRpdW0ifSxvKCRlLG51bGwsbyhlZSx7dmFyaWFudDoiaGVhZGluZy1sZy9zZW1pYm9sZCIsY2xhc3NOYW1lOnJuKCJtb2RhbC1oZWFkZXIiKX0sbiwiJ3MgUmV2aWV3cyIsISFoJiZvKCJzcGFuIixudWxsLCIgKCIsaCwiIFJldmlld3MpIikpLG8oUnQse29uQ2xpY2s6ZS5vbkNsb3NlfSkpLG8oVWUse3Njcm9sbGVyUmVmOnl9LG8oImRpdiIse2NsYXNzTmFtZTpybigibW9kYWwtcmV2aWV3cyIpfSxvKEhpLHtkaXNjb3JkSWQ6dCxuYW1lOm4scGFnZTp1LHJlZmV0Y2hTaWduYWw6cyxvbkZldGNoUmV2aWV3czppLHNjcm9sbFRvVG9wOigpPT55LmN1cnJlbnQ/LnNjcm9sbFRvKHt0b3A6MCxiZWhhdmlvcjoic21vb3RoIn0pLGhpZGVPd25SZXZpZXc6ITB9KSkpLG8odXQse2NsYXNzTmFtZTpybigibW9kYWwtZm9vdGVyIil9LG8oImRpdiIsbnVsbCxTJiZvKFhhLHtyZWZldGNoOmMscmV2aWV3OlN9KSxvKGRtLHtpc0F1dGhvcjpTIT1udWxsLGRpc2NvcmRJZDp0LG5hbWU6bixyZWZldGNoOmN9KSwhIWgmJm8oYnMse2N1cnJlbnRQYWdlOnUsbWF4VmlzaWJsZVBhZ2VzOjUscGFnZVNpemU6WmEsdG90YWxDb3VudDpoLG9uUGFnZUNoYW5nZTpwfSkpKSkpfWZ1bmN0aW9uIGZtKGUsdCl7UGUobj0+byhBSSx7bW9kYWxQcm9wczpuLGRpc2NvcmRJZDplLG5hbWU6dH0pKX12YXIgRTA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7WmUoKTtoZSgpO3coKTtHaSgpO25yKCk7Tm8oKTtwbSgpO21tKCl9KTt2YXIgRDAsZ20sTzA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3gwKCk7VHQoKTtzZSgpO3ZkKCk7eG4oKTtQKCk7TSgpO3coKTtFMCgpO21tKCk7WWEoKTtHaSgpO25yKCk7Tm8oKTtEMD0oZSx0KT0+KCk9PntlLnB1c2gobyhCLk1lbnVJdGVtLHtsYWJlbDoiVmlldyBSZXZpZXdzIixpZDoidmMtcmRiLXNlcnZlci1yZXZpZXdzIixpY29uOnFvLGFjdGlvbjooKT0+Zm0odC5ndWlsZC5pZCx0Lmd1aWxkLm5hbWUpfSkpfSxnbT12KHtuYW1lOiJSZXZpZXdEQiIsZGVzY3JpcHRpb246IlJldmlldyBvdGhlciB1c2VycyAoQWRkcyBhIG5ldyBzZXR0aW5ncyB0byBwcm9maWxlcykiLGF1dGhvcnM6W20ubWFudGlrYWZhc2ksbS5WZW5dLHNldHRpbmdzOnplLHBhdGNoZXM6W3tmaW5kOiJkaXNhYmxlQm9yZGVyQ29sb3I6ITAiLHJlcGxhY2VtZW50OnttYXRjaDovXCguezAsMTB9XHt1c2VyOiguKSxzZXROb3RlOi4sY2FuRE06LiwuKz9cfVwpLyxyZXBsYWNlOiIkJiwkc2VsZi5nZXRSZXZpZXdzQ29tcG9uZW50KCQxKSJ9fV0sYXN5bmMgc3RhcnQoKXtsZXQgZT16ZS5zdG9yZSx7dG9rZW46dCxsYXN0UmV2aWV3SWQ6bixub3RpZnlSZXZpZXdzOnJ9PWU7IXJ8fCF0fHxzZXRUaW1lb3V0KGFzeW5jKCk9PntsZXQgaT1hd2FpdCBOMCh0KTtpZihuJiZuPGkubGFzdFJldmlld0lEJiYoZS5sYXN0UmV2aWV3SWQ9aS5sYXN0UmV2aWV3SUQsaS5sYXN0UmV2aWV3SUQhPT0wJiZIdCgiWW91IGhhdmUgbmV3IHJldmlld3Mgb24geW91ciBwcm9maWxlISIpKSxkZSgiZ3VpbGQtaGVhZGVyLXBvcG91dCIsRDApLGkuYmFuSW5mbyl7bGV0IHM9bmV3IERhdGUoaS5iYW5JbmZvLmJhbkVuZERhdGUpO3MuZ2V0VGltZSgpPkRhdGUubm93KCkmJihlLnVzZXI/LmJhbkluZm8/LmJhbkVuZERhdGU/PzApPHMuZ2V0VGltZSgpJiZOdC5zaG93KHt0aXRsZToiWW91IGhhdmUgYmVlbiBiYW5uZWQgZnJvbSBSZXZpZXdEQiIsYm9keTpvKGQsbnVsbCxvKCJwIixudWxsLCJZb3UgYXJlIGJhbm5lZCBmcm9tIFJldmlld0RCICIsaS50eXBlPT09LTE/InBlcm1hbmVudGx5IjoidW50aWwgIitzLnRvTG9jYWxlU3RyaW5nKCkpLGkuYmFuSW5mby5yZXZpZXdDb250ZW50JiZvKCJwIixudWxsLCJPZmZlbmRpbmcgUmV2aWV3OiAiLGkuYmFuSW5mby5yZXZpZXdDb250ZW50KSxvKCJwIixudWxsLCJDb250aW51ZWQgb2ZmZW5zZXMgd2lsbCByZXN1bHQgaW4gYSBwZXJtYW5lbnQgYmFuLiIpKSxjYW5jZWxUZXh0OiJBcHBlYWwiLGNvbmZpcm1UZXh0OiJPayIsb25DYW5jZWw6KCk9PlZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9yZXZpZXdkYi5tYW50aWthZmFzaS5kZXYvYXBpL3JlZGlyZWN0PyIrbmV3IFVSTFNlYXJjaFBhcmFtcyh7dG9rZW46emUuc3RvcmUudG9rZW4scGFnZToiZGFzaGJvYXJkL2FwcGVhbCJ9KSl9KX1lLnVzZXI9aX0sNGUzKX0sc3RvcCgpe2ZlKCJndWlsZC1oZWFkZXItcG9wb3V0IixEMCl9LGdldFJldmlld3NDb21wb25lbnQ6RC53cmFwKGU9PntsZXRbdCxuXT1qKCk7cmV0dXJuIG8oRGkse2hlYWRlclRleHQ6IlVzZXIgUmV2aWV3cyIsb25Nb3JlQ2xpY2s6KCk9PmZtKGUuaWQsZS51c2VybmFtZSksbW9yZVRvb2x0aXBUZXh0OnQmJnQ+NTA/YFZpZXcgYWxsICR7dH0gcmV2aWV3c2A6Ik9wZW4gUmV2aWV3IE1vZGFsIixvbkRyb3BEb3duQ2xpY2s6cj0+emUuc3RvcmUucmV2aWV3c0Ryb3Bkb3duU3RhdGU9IXIsZGVmYXVsdFN0YXRlOnplLnN0b3JlLnJldmlld3NEcm9wZG93blN0YXRlfSxvKEhpLHtkaXNjb3JkSWQ6ZS5pZCxuYW1lOmUudXNlcm5hbWUsb25GZXRjaFJldmlld3M6cj0+bihyLnJldmlld0NvdW50KSxzaG93SW5wdXQ6ITB9KSl9LHttZXNzYWdlOiJGYWlsZWQgdG8gcmVuZGVyIFJldmlld3MifSl9KX0pO3ZhciB6aSxobSxfMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO1AoKTtNKCk7dygpO3ppPUUoe2NoYXRNZW50aW9uczp7dHlwZTozLGRlZmF1bHQ6ITAsZGVzY3JpcHRpb246IlNob3cgcm9sZSBjb2xvcnMgaW4gY2hhdCBtZW50aW9ucyAoaW5jbHVkaW5nIGluIHRoZSBtZXNzYWdlIGJveCkiLHJlc3RhcnROZWVkZWQ6ITB9LG1lbWJlckxpc3Q6e3R5cGU6MyxkZWZhdWx0OiEwLGRlc2NyaXB0aW9uOiJTaG93IHJvbGUgY29sb3JzIGluIG1lbWJlciBsaXN0IHJvbGUgaGVhZGVycyIscmVzdGFydE5lZWRlZDohMH0sdm9pY2VVc2Vyczp7dHlwZTozLGRlZmF1bHQ6ITAsZGVzY3JpcHRpb246IlNob3cgcm9sZSBjb2xvcnMgaW4gdGhlIHZvaWNlIGNoYXQgdXNlciBsaXN0IixyZXN0YXJ0TmVlZGVkOiEwfX0pLGhtPXYoe25hbWU6IlJvbGVDb2xvckV2ZXJ5d2hlcmUiLGF1dGhvcnM6W20uS2luZ0Zpc2gsbS5sZXdpc2FrdXJhXSxkZXNjcmlwdGlvbjoiQWRkcyB0aGUgdG9wIHJvbGUgY29sb3IgYW55d2hlcmUgcG9zc2libGUiLHBhdGNoZXM6W3tmaW5kOidjbGFzc05hbWU6Im1lbnRpb24iJyxyZXBsYWNlbWVudDpbe21hdGNoOi91c2VyOihcaSksY2hhbm5lbDooXGkpLnswLDMwMH0/IkAiXC5jb25jYXRcKC4rP1wpLyxyZXBsYWNlOiIkJixjb2xvcjokc2VsZi5nZXRVc2VyQ29sb3IoJDE/LmlkLHtjaGFubmVsSWQ6JDI/LmlkfSkifV0scHJlZGljYXRlOigpPT56aS5zdG9yZS5jaGF0TWVudGlvbnN9LHtmaW5kOiIuc291cmNlLGNoaWxkcmVuIixyZXBsYWNlbWVudDpbe21hdGNoOi9mdW5jdGlvbiBcaVwoKFxpKVwpLns1LDIwfWlkLns1LDIwfWd1aWxkSWQuezUsMTB9Y2hhbm5lbElkLnsxMDAsMTUwfWhpZGVQZXJzb25hbEluZm9ybWF0aW9uLns1LDUwfWpzeC57NSwyMH0sey8scmVwbGFjZToiJCZjb2xvcjokc2VsZi5nZXRVc2VyQ29sb3IoJDEuaWQse2d1aWxkSWQ6JDE/Lmd1aWxkSWR9KSwifV0scHJlZGljYXRlOigpPT56aS5zdG9yZS5jaGF0TWVudGlvbnN9LHtmaW5kOiIubWVtYmVyR3JvdXBzUGxhY2Vob2xkZXIiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhtZW1vXChcKGZ1bmN0aW9uXCgoXGkpXCkuezMwMCw1MDB9Q0hBTk5FTF9NRU1CRVJTX0ExMVlfTEFCRUwuezEwMCwyMDB9cm9sZUljb24uezUsMjB9bnVsbCwpLiwiIFx1MjAxNCAiLC5cXS8scmVwbGFjZToiJDEkc2VsZi5yb2xlR3JvdXBDb2xvcigkMildIn1dLHByZWRpY2F0ZTooKT0+emkuc3RvcmUubWVtYmVyTGlzdH0se2ZpbmQ6InJlbmRlclByaW9yaXR5U3BlYWtlciIscmVwbGFjZW1lbnQ6W3ttYXRjaDovcmVuZGVyTmFtZT1mdW5jdGlvblwoXCkuezUwLDc1fXNwZWFraW5nLns1MCwxMDB9anN4Lns1LDEwfXsvLHJlcGxhY2U6IiQmLi4uJHNlbGYuZ2V0Vm9pY2VQcm9wcyh0aGlzLnByb3BzKSwifV0scHJlZGljYXRlOigpPT56aS5zdG9yZS52b2ljZVVzZXJzfV0sc2V0dGluZ3M6emksZ2V0Q29sb3IoZSx7Y2hhbm5lbElkOnQsZ3VpbGRJZDpufSl7cmV0dXJuKG4/Pz10ZS5nZXRDaGFubmVsKHQpPy5ndWlsZF9pZCk/RmUuZ2V0TWVtYmVyKG4sZSk/LmNvbG9yU3RyaW5nPz9udWxsOm51bGx9LGdldFVzZXJDb2xvcihlLHQpe2xldCBuPXRoaXMuZ2V0Q29sb3IoZSx0KTtyZXR1cm4gbiYmcGFyc2VJbnQobi5zbGljZSgxKSwxNil9LHJvbGVHcm91cENvbG9yKHtpZDplLGNvdW50OnQsdGl0bGU6bixndWlsZElkOnJ9KXtsZXQgcz1tZS5nZXRHdWlsZChyKT8ucm9sZXNbZV07cmV0dXJuIG8oInNwYW4iLHtzdHlsZTp7Y29sb3I6cz8uY29sb3JTdHJpbmcsZm9udFdlaWdodDoidW5zZXQiLGxldHRlclNwYWNpbmc6Ii4wNWVtIn19LG4sIiBcdTIwMTQgIix0KX0sZ2V0Vm9pY2VQcm9wcyh7dXNlcjp7aWQ6ZX0sZ3VpbGRJZDp0fSl7cmV0dXJue3N0eWxlOntjb2xvcjp0aGlzLmdldENvbG9yKGUse2d1aWxkSWQ6dH0pfX19fSl9KTt2YXIgQjAsRjAsJDAseW0sVTA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1R0KCk7UCgpO2hlKCk7TSgpO0YoKTt3KCk7QjA9cmUoKCk9PkhlKCJNMTAgOC4yNjY2N1Y0TDMgMTEuNDY2N0wxMCAxOC45MzMzVjE0LjU2QzE1IDE0LjU2IDE4LjUgMTYuMjY2NyAyMSAyMEMyMCAxNC42NjY3IDE3IDkuMzMzMzMgMTAgOC4yNjY2N1oiKSksRjA9cGUoInNob3dNZW50aW9uVG9nZ2xlIiwiVEVYVEFSRUFfRk9DVVMiLCJzaGlmdEtleSIpLCQwPShlLHttZXNzYWdlOnR9KT0+KCk9PntpZih4ZS5nZXRDaGFubmVsSWQoKSE9PXQuY2hhbm5lbF9pZClyZXR1cm47bGV0IG49dGUuZ2V0Q2hhbm5lbCh0Py5jaGFubmVsX2lkKTtpZighbilyZXR1cm47bGV0IHI9bHQoInBpbiIsZSk7aWYociYmIXIuc29tZShzPT5zPy5wcm9wcz8uaWQ9PT0icmVwbHkiKSl7bGV0IHM9ci5maW5kSW5kZXgoYz0+Yz8ucHJvcHMuaWQ9PT0icGluIik7cmV0dXJuIHIuc3BsaWNlKHMrMSwwLG8oQi5NZW51SXRlbSx7aWQ6InJlcGx5IixsYWJlbDpjdC5NZXNzYWdlcy5NRVNTQUdFX0FDVElPTl9SRVBMWSxpY29uOkIwLGFjdGlvbjpjPT5GMChuLHQsYyl9KSl9bGV0IGk9bHQoIm1hcmstdW5yZWFkIixlKTtpZihpJiYhaS5zb21lKHM9PnM/LnByb3BzPy5pZD09PSJyZXBseSIpKXJldHVybiBpLnVuc2hpZnQobyhCLk1lbnVJdGVtLHtpZDoicmVwbHkiLGxhYmVsOmN0Lk1lc3NhZ2VzLk1FU1NBR0VfQUNUSU9OX1JFUExZLGljb246QjAsYWN0aW9uOnM9PkYwKG4sdCxzKX0pKX0seW09dih7bmFtZToiU2VhcmNoUmVwbHkiLGRlc2NyaXB0aW9uOiJBZGRzIGEgcmVwbHkgYnV0dG9uIHRvIHNlYXJjaCByZXN1bHRzIixhdXRob3JzOlttLkFyaWFdLHN0YXJ0KCl7ZGUoIm1lc3NhZ2UiLCQwKX0sc3RvcCgpe2ZlKCJtZXNzYWdlIiwkMCl9fSl9KTt2YXIgRzA9ZygoKT0+e30pO2Z1bmN0aW9uIEgwKGUpe2xldCB0PWUuc2xpY2UoMSwtMSkucmVwbGFjZSgvKFxkKShBTXxQTSkkL2ksIiQxICQyIiksbj1uZXcgRGF0ZShgJHtuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpfSAke3R9YCkuZ2V0VGltZSgpLzFlMztyZXR1cm4gaXNOYU4obik/ZTooRGF0ZS5ub3coKS8xZTM+biYmKG4rPTg2NDAwKSxgPHQ6JHtNYXRoLnJvdW5kKG4pfTp0PmApfWZ1bmN0aW9uIEVJKHtyb290UHJvcHM6ZSxjbG9zZTp0fSl7bGV0W24scl09aigpLFtpLHNdPWooIiIpLGM9TWF0aC5yb3VuZCgobmV3IERhdGUobikuZ2V0VGltZSgpfHxEYXRlLm5vdygpKS8xZTMpLHU9KGgsUyk9PmA8dDoke2h9JHtTJiZgOiR7U31gfT5gLFtwLHldPUl0KCgpPT57bGV0IGg9dShjLGkpO3JldHVybltoLEFlLnBhcnNlKGgpXX0sW2MsaV0pO3JldHVybiBvKExlLHsuLi5lfSxvKCRlLHtjbGFzc05hbWU6amkoIm1vZGFsLWhlYWRlciIpfSxvKFQuRm9ybVRpdGxlLHt0YWc6ImgyIn0sIlRpbWVzdGFtcCBQaWNrZXIiKSxvKFJ0LHtvbkNsaWNrOnR9KSksbyhVZSx7Y2xhc3NOYW1lOmppKCJtb2RhbC1jb250ZW50Iil9LG8oImlucHV0Iix7dHlwZToiZGF0ZXRpbWUtbG9jYWwiLHZhbHVlOm4sb25DaGFuZ2U6aD0+cihoLmN1cnJlbnRUYXJnZXQudmFsdWUpLHN0eWxlOntjb2xvclNjaGVtZTpWcigpPT09Mj8ibGlnaHQiOiJkYXJrIn19KSxvKFQuRm9ybVRpdGxlLG51bGwsIlRpbWVzdGFtcCBGb3JtYXQiKSxvKGRuLHtvcHRpb25zOkxJLm1hcChoPT4oe2xhYmVsOmgsdmFsdWU6aH0pKSxpc1NlbGVjdGVkOmg9Pmg9PT1pLHNlbGVjdDpoPT5zKGgpLHNlcmlhbGl6ZTpoPT5oLHJlbmRlck9wdGlvbkxhYmVsOmg9Pm8oImRpdiIse2NsYXNzTmFtZTpqaSgiZm9ybWF0LWxhYmVsIil9LEFlLnBhcnNlKHUoYyxoLnZhbHVlKSkpLHJlbmRlck9wdGlvblZhbHVlOigpPT55fSksbyhULkZvcm1UaXRsZSx7Y2xhc3NOYW1lOnouYm90dG9tOH0sIlByZXZpZXciKSxvKFQuRm9ybVRleHQse2NsYXNzTmFtZTpqaSgicHJldmlldy10ZXh0Iil9LHksIiAoIixwLCIpIikpLG8odXQsbnVsbCxvKFIse29uQ2xpY2s6KCk9PntxbihwKyIgIiksdCgpfX0sIkluc2VydCIpKSl9dmFyIExJLGppLHZtLHowPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtHMCgpOyRuKCk7T2UoKTtQKCk7YXQoKTtudCgpO1plKCk7TSgpO3coKTtMST1bIiIsInQiLCJUIiwiZCIsIkQiLCJmIiwiRiIsIlIiXSxqaT1iZSgidmMtc3QtIik7dm09dih7bmFtZToiU2VuZFRpbWVzdGFtcHMiLGRlc2NyaXB0aW9uOiJTZW5kIHRpbWVzdGFtcHMgZWFzaWx5IHZpYSBjaGF0IGJveCBidXR0b24gJiB0ZXh0IHNob3J0Y3V0cy4gUmVhZCB0aGUgZXh0ZW5kZWQgZGVzY3JpcHRpb24hIixhdXRob3JzOlttLlZlbixtLlR5bGVyXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlRXZlbnRzQVBJIl0scGF0Y2hlczpbe2ZpbmQ6Ii5hY3RpdmVDb21tYW5kT3B0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6LyguKVwucHVzaC57MSwzMH1kaXNhYmxlZDooXGkpLC57MSwyMH1cfSwiZ2lmdCJcKVwpLyxyZXBsYWNlOiIkJjt0cnl7JDJ8fCQxLnB1c2goJHNlbGYuY2hhdEJhckljb24oKSl9Y2F0Y2h7fSJ9fV0sc3RhcnQoKXt0aGlzLmxpc3RlbmVyPUx0KChlLHQpPT57dC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKC9gXGR7MSwyfTpcZHsyfSA/KD86QU18UE0pP2AvZ2ksSDApfSl9LHN0b3AoKXtFdCh0aGlzLmxpc3RlbmVyKX0sY2hhdEJhckljb24oKXtyZXR1cm4gbyhYLHt0ZXh0OiJJbnNlcnQgVGltZXN0YW1wIn0sKHtvbk1vdXNlRW50ZXI6ZSxvbk1vdXNlTGVhdmU6dH0pPT5vKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiZmxleCJ9fSxvKFIseyJhcmlhLWhhc3BvcHVwIjoiZGlhbG9nIiwiYXJpYS1sYWJlbCI6IiIsc2l6ZToiIixsb29rOmVuLkJMQU5LLG9uTW91c2VFbnRlcjplLG9uTW91c2VMZWF2ZTp0LGlubmVyQ2xhc3NOYW1lOmd0LmJ1dHRvbixvbkNsaWNrOigpPT57bGV0IG49UGUocj0+byhFSSx7cm9vdFByb3BzOnIsY2xvc2U6KCk9PlduKG4pfSkpfSxjbGFzc05hbWU6amkoImJ1dHRvbiIpfSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7ImFyaWEtaGlkZGVuIjoidHJ1ZSIscm9sZToiaW1nIix3aWR0aDoiMjQiLGhlaWdodDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oImciLHtmaWxsOiJub25lIiwiZmlsbC1ydWxlIjoiZXZlbm9kZCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0xOSAzaC0xVjFoLTJ2Mkg4VjFINnYySDVjLTEuMTEgMC0xLjk5LjktMS45OSAyTDMgMTlhMiAyIDAgMCAwIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE2SDVWOGgxNHYxMXpNNyAxMGg1djVIN3YtNXoifSksbygicmVjdCIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCJ9KSkpKSkpKX0sc2V0dGluZ3NBYm91dENvbXBvbmVudCgpe2xldCBlPVsiMTI6MDAiLCIzOjUxIiwiMTc6NTkiLCIyNDowMCIsIjEyOjAwIEFNIiwiMDoxM1BNIl0ubWFwKHQ9PmBcYCR7dH1cYGApO3JldHVybiBvKGQsbnVsbCxvKFQuRm9ybVRleHQsbnVsbCwiVG8gcXVpY2tseSBzZW5kIHNlbmQgdGltZSBvbmx5IHRpbWVzdGFtcHMsIGluY2x1ZGUgdGltZXN0YW1wcyBmb3JtYXR0ZWQgYXMgYEhIOk1NYCAoaW5jbHVkaW5nIHRoZSBiYWNrdGlja3MhKSBpbiB5b3VyIG1lc3NhZ2UiKSxvKFQuRm9ybVRleHQsbnVsbCwiU2VlIGJlbG93IGZvciBleGFtcGxlcy4gSWYgeW91IG5lZWQgYW55dGhpbmcgbW9yZSBzcGVjaWZpYywgdXNlIHRoZSBEYXRlIGJ1dHRvbiBpbiB0aGUgY2hhdCBiYXIhIiksbyhULkZvcm1UZXh0LG51bGwsIkV4YW1wbGVzOiIsbygidWwiLG51bGwsZS5tYXAodD0+bygibGkiLHtrZXk6dH0sbygiY29kZSIsbnVsbCx0KSwiICIsIi0+IiwiICIsQWUucGFyc2UoSDAodCkpKSkpKSl9fSl9KTtmdW5jdGlvbiBESSgpe3JldHVybiBxMD0kdCgpLG8oInNwYW4iLHtpZDoidmMtZnJpZW5kY291bnQiLHN0eWxlOntkaXNwbGF5OiJpbmxpbmUtYmxvY2siLHdpZHRoOiIxMDAlIixmb250U2l6ZToiMTJweCIsZm9udFdlaWdodDoiNjAwIixjb2xvcjoidmFyKC0taGVhZGVyLXNlY29uZGFyeSkiLHRleHRUcmFuc2Zvcm06InVwcGVyY2FzZSIsdGV4dEFsaWduOiJjZW50ZXIifX0sYm0sIiBvbmxpbmUiKX1mdW5jdGlvbiBPSSgpe3JldHVybiBLMD0kdCgpLG8oInNwYW4iLHtpZDoidmMtZ3VpbGRjb3VudCIsc3R5bGU6e2Rpc3BsYXk6ImlubGluZS1ibG9jayIsd2lkdGg6IjEwMCUiLGZvbnRTaXplOiIxMnB4Iixmb250V2VpZ2h0OiI2MDAiLGNvbG9yOiJ2YXIoLS1oZWFkZXItc2Vjb25kYXJ5KSIsdGV4dFRyYW5zZm9ybToidXBwZXJjYXNlIix0ZXh0QWxpZ246ImNlbnRlciJ9fSxXMCwiIHNlcnZlcnMiKX1mdW5jdGlvbiBqMCgpe2JtPTA7bGV0IGU9c3QuZ2V0UmVsYXRpb25zaGlwcygpO2ZvcihsZXQgdCBvZiBPYmplY3Qua2V5cyhlKSllW3RdPT09MSYmbG8uZ2V0U3RhdHVzKHQpIT09Im9mZmxpbmUiJiYoYm0rPTEpO3EwPy4oKX1mdW5jdGlvbiBTbSgpe1cwPW1lLmdldEd1aWxkQ291bnQoKSxLMD8uKCl9dmFyIGJtLFcwLHEwLEswLFRtLFkwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtIYSgpO1UoKTtzZSgpO1AoKTtoZSgpO00oKTt3KCk7Ym09MCxXMD0wO1RtPXYoe25hbWU6IlNlcnZlckxpc3RJbmRpY2F0b3JzIixkZXNjcmlwdGlvbjoiQWRkIG9ubGluZSBmcmllbmQgY291bnQgb3Igc2VydmVyIGNvdW50IGluIHRoZSBzZXJ2ZXIgbGlzdCIsYXV0aG9yczpbbS5kenNobl0sZGVwZW5kZW5jaWVzOlsiU2VydmVyTGlzdEFQSSJdLG9wdGlvbnM6e21vZGU6e2Rlc2NyaXB0aW9uOiJtb2RlIix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJPbmx5IG9ubGluZSBmcmllbmQgY291bnQiLHZhbHVlOjIsZGVmYXVsdDohMH0se2xhYmVsOiJPbmx5IHNlcnZlciBjb3VudCIsdmFsdWU6MX0se2xhYmVsOiJCb3RoIHNlcnZlciBhbmQgb25saW5lIGZyaWVuZCBjb3VudHMiLHZhbHVlOjN9XX19LHJlbmRlckluZGljYXRvcjooKT0+e2xldHttb2RlOmV9PWsucGx1Z2lucy5TZXJ2ZXJMaXN0SW5kaWNhdG9ycztyZXR1cm4gbyhELHtub29wOiEwfSxvKCJkaXYiLHtzdHlsZTp7bWFyZ2luQm90dG9tOiI0cHgifX0sISEoZSYyKSYmbyhESSxudWxsKSwhIShlJjEpJiZvKE9JLG51bGwpKSl9LGZsdXg6e1BSRVNFTkNFX1VQREFURVM6ajAsR1VJTERfQ1JFQVRFOlNtLEdVSUxEX0RFTEVURTpTbX0sc3RhcnQoKXtfaSgwLHRoaXMucmVuZGVySW5kaWNhdG9yKSxqMCgpLFNtKCl9LHN0b3AoKXtCaSgwLHRoaXMucmVuZGVySW5kaWNhdG9yKX19KX0pO3ZhciBaMD1nKCgpPT57fSk7dmFyIFgwLEowPWcoKCk9PnthKCk7bCgpO1gwPWAvKiBlc2xpbnQtZGlzYWJsZSBoZWFkZXIvaGVhZGVyICovCmltcG9ydCBSZWFjdCBmcm9tICJyZWFjdCI7Cgpjb25zdCBoYW5kbGVDbGljayA9IGFzeW5jICgpID0+CiAgICBjb25zb2xlLmxvZygoYXdhaXQgaW1wb3J0KCJAd2VicGFjay9jb21tb24iKSkuQ2xpcGJvYXJkLmNvcHkoIlxcdTIwMGIiKSk7CgpleHBvcnQgY29uc3QgRXhhbXBsZTogUmVhY3QuRkM8ewogICAgcmVhbDogYm9vbGVhbiwKICAgIHNoaWdnZWQ/OiBudW1iZXIsCn0+ID0gKHsgcmVhbCwgc2hpZ2dlZCB9KSA9PiA8PgogICAgPHA+e1xgU2hpZ2dcJHtyZWFsID8gXGBpZXNcJHtzaGlnZ2VkID09PSAweDFCID8gInQiIDogIiJ9XGAgOiAieSJ9XGB9PC9wPgogICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbGlja30+Q2xpY2sgTWU8L2J1dHRvbj4KPC8+OwpgfSk7dmFyIFYwPUdyKChXWCx4bSk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt2YXIgX0k9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxfdD0ifiI7ZnVuY3Rpb24gV2koKXt9T2JqZWN0LmNyZWF0ZSYmKFdpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLG5ldyBXaSgpLl9fcHJvdG9fX3x8KF90PSExKSk7ZnVuY3Rpb24gQkkoZSx0LG4pe3RoaXMuZm49ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLm9uY2U9bnx8ITF9ZnVuY3Rpb24gUTAoZSx0LG4scixpKXtpZih0eXBlb2YgbiE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIHM9bmV3IEJJKG4scnx8ZSxpKSxjPV90P190K3Q6dDtyZXR1cm4gZS5fZXZlbnRzW2NdP2UuX2V2ZW50c1tjXS5mbj9lLl9ldmVudHNbY109W2UuX2V2ZW50c1tjXSxzXTplLl9ldmVudHNbY10ucHVzaChzKTooZS5fZXZlbnRzW2NdPXMsZS5fZXZlbnRzQ291bnQrKyksZX1mdW5jdGlvbiBKYShlLHQpey0tZS5fZXZlbnRzQ291bnQ9PT0wP2UuX2V2ZW50cz1uZXcgV2k6ZGVsZXRlIGUuX2V2ZW50c1t0XX1mdW5jdGlvbiB4dCgpe3RoaXMuX2V2ZW50cz1uZXcgV2ksdGhpcy5fZXZlbnRzQ291bnQ9MH14dC5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3ZhciB0PVtdLG4scjtpZih0aGlzLl9ldmVudHNDb3VudD09PTApcmV0dXJuIHQ7Zm9yKHIgaW4gbj10aGlzLl9ldmVudHMpX0kuY2FsbChuLHIpJiZ0LnB1c2goX3Q/ci5zbGljZSgxKTpyKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz90LmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pKTp0fTt4dC5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBuPV90P190K3Q6dCxyPXRoaXMuX2V2ZW50c1tuXTtpZighcilyZXR1cm5bXTtpZihyLmZuKXJldHVybltyLmZuXTtmb3IodmFyIGk9MCxzPXIubGVuZ3RoLGM9bmV3IEFycmF5KHMpO2k8cztpKyspY1tpXT1yW2ldLmZuO3JldHVybiBjfTt4dC5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbih0KXt2YXIgbj1fdD9fdCt0OnQscj10aGlzLl9ldmVudHNbbl07cmV0dXJuIHI/ci5mbj8xOnIubGVuZ3RoOjB9O3h0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsbixyLGkscyxjKXt2YXIgdT1fdD9fdCt0OnQ7aWYoIXRoaXMuX2V2ZW50c1t1XSlyZXR1cm4hMTt2YXIgcD10aGlzLl9ldmVudHNbdV0seT1hcmd1bWVudHMubGVuZ3RoLGgsUztpZihwLmZuKXtzd2l0Y2gocC5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQscC5mbix2b2lkIDAsITApLHkpe2Nhc2UgMTpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCksITA7Y2FzZSAyOnJldHVybiBwLmZuLmNhbGwocC5jb250ZXh0LG4pLCEwO2Nhc2UgMzpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCxuLHIpLCEwO2Nhc2UgNDpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCxuLHIsaSksITA7Y2FzZSA1OnJldHVybiBwLmZuLmNhbGwocC5jb250ZXh0LG4scixpLHMpLCEwO2Nhc2UgNjpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCxuLHIsaSxzLGMpLCEwfWZvcihTPTEsaD1uZXcgQXJyYXkoeS0xKTtTPHk7UysrKWhbUy0xXT1hcmd1bWVudHNbU107cC5mbi5hcHBseShwLmNvbnRleHQsaCl9ZWxzZXt2YXIgYj1wLmxlbmd0aCx4O2ZvcihTPTA7UzxiO1MrKylzd2l0Y2gocFtTXS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQscFtTXS5mbix2b2lkIDAsITApLHkpe2Nhc2UgMTpwW1NdLmZuLmNhbGwocFtTXS5jb250ZXh0KTticmVhaztjYXNlIDI6cFtTXS5mbi5jYWxsKHBbU10uY29udGV4dCxuKTticmVhaztjYXNlIDM6cFtTXS5mbi5jYWxsKHBbU10uY29udGV4dCxuLHIpO2JyZWFrO2Nhc2UgNDpwW1NdLmZuLmNhbGwocFtTXS5jb250ZXh0LG4scixpKTticmVhaztkZWZhdWx0OmlmKCFoKWZvcih4PTEsaD1uZXcgQXJyYXkoeS0xKTt4PHk7eCsrKWhbeC0xXT1hcmd1bWVudHNbeF07cFtTXS5mbi5hcHBseShwW1NdLmNvbnRleHQsaCl9fXJldHVybiEwfTt4dC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxuLHIpe3JldHVybiBRMCh0aGlzLHQsbixyLCExKX07eHQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBRMCh0aGlzLHQsbixyLCEwKX07eHQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBzPV90P190K3Q6dDtpZighdGhpcy5fZXZlbnRzW3NdKXJldHVybiB0aGlzO2lmKCFuKXJldHVybiBKYSh0aGlzLHMpLHRoaXM7dmFyIGM9dGhpcy5fZXZlbnRzW3NdO2lmKGMuZm4pYy5mbj09PW4mJighaXx8Yy5vbmNlKSYmKCFyfHxjLmNvbnRleHQ9PT1yKSYmSmEodGhpcyxzKTtlbHNle2Zvcih2YXIgdT0wLHA9W10seT1jLmxlbmd0aDt1PHk7dSsrKShjW3VdLmZuIT09bnx8aSYmIWNbdV0ub25jZXx8ciYmY1t1XS5jb250ZXh0IT09cikmJnAucHVzaChjW3VdKTtwLmxlbmd0aD90aGlzLl9ldmVudHNbc109cC5sZW5ndGg9PT0xP3BbMF06cDpKYSh0aGlzLHMpfXJldHVybiB0aGlzfTt4dC5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiB0PyhuPV90P190K3Q6dCx0aGlzLl9ldmVudHNbbl0mJkphKHRoaXMsbikpOih0aGlzLl9ldmVudHM9bmV3IFdpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXN9O3h0LnByb3RvdHlwZS5vZmY9eHQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO3h0LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj14dC5wcm90b3R5cGUub247eHQucHJlZml4ZWQ9X3Q7eHQuRXZlbnRFbWl0dGVyPXh0O3R5cGVvZiB4bTwidSImJih4bS5leHBvcnRzPXh0KX0pO3ZhciBJbT1HcihFcj0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShFciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7RXIuQ2hhbm5lbD1Fci5DaGFubmVsUG9ydD12b2lkIDA7dmFyIEZJPVYwKCksUWE9InZhcElwYyIsd209U3ltYm9sLmZvcigidmFwSXBjLmVkZ2VDcmVhdGUiKSxNbT1jbGFzc3tfcGlwZXM9bmV3IE1hcDtfbGlzdGVuZXJzPW5ldyBNYXA7X2NyZWF0ZUxpc3RlbmVyTWFwKCl7cmV0dXJuIG5ldyBNYXB9X2VtaXQodCxuLC4uLnIpe2ZvcihsZXRbaSxzXW9mIHRoaXMuX2xpc3RlbmVycy5lbnRyaWVzKCkpe2lmKGk9PT10KWNvbnRpbnVlO2xldCBjPXMuZ2V0KG4pO2MmJmMoLi4ucil9fWNyZWF0ZVBpcGUodCl7bGV0IG49dGhpcy5nZXRQaXBlKHQpO2lmKG4pcmV0dXJuIG47bGV0IHI9dGhpcy5fY3JlYXRlTGlzdGVuZXJNYXAoKTt0aGlzLl9saXN0ZW5lcnMuc2V0KHQscik7bGV0IGk9e2VtaXQ6dGhpcy5fZW1pdC5iaW5kKHRoaXMsdCksbGlzdGVuOihzLGMpPT52b2lkIHIuc2V0KHMsYyl9O3JldHVybiB0aGlzLl9waXBlcy5zZXQodCxpKSxpfWdldFBpcGUodCl7cmV0dXJuIHRoaXMuX3BpcGVzLmdldCh0KT8/bnVsbH19O0VyLkNoYW5uZWxQb3J0PU1tO3ZhciBQbT1jbGFzc3tpZDtfZWRnZXM9bmV3IE1hcDtfY2FsbGJhY2tzPW5ldyBNYXA7X2NhbGxlcnM9bmV3IE1hcDtfZWRnZVBpcGVzPW5ldyBNYXA7X3BpcGVzPVtdO19lbWl0dGVyPW5ldyBGSS5FdmVudEVtaXR0ZXI7X2xvZ2dlcjtfZGVzdHJveWVkPSExO2NvbnN0cnVjdG9yKHQpe3RoaXMuaWQ9dH1hZGRQaXBlKHQpe3QubGlzdGVuKGAke1FhfTpoYW5kc2hha2VgLG49Pnt0aGlzLl9oYW5kbGVIYW5kc2hha2UodCxuKX0pLHQubGlzdGVuKGAke1FhfTptZXNzYWdlYCxuPT57dGhpcy5faGFuZGxlTWVzc2FnZSh0LG4pfSksdGhpcy5fcGlwZXMucHVzaCh0KSx0aGlzLl9sb2dnZXI/LmxvZyhgQWRkaW5nIHBpcGUgdG8gY2hhbm5lbCAiJHt0aGlzLmlkfSJgKX1zZXRMb2dnZXIodCl7dGhpcy5fbG9nZ2VyPXR9X2hhbmRsZUhhbmRzaGFrZSh0LG4pe2lmKHRoaXMuaWQ9PT1uLmlkKXJldHVybjt0aGlzLl9sb2dnZXI/LmxvZyhgXHV7MUY5MUR9ICIke24uaWR9IiAtPiAiJHt0aGlzLmlkfSIgKGVkZ2VzOiBbJHtuLmNoYW5uZWxJZHMuam9pbigiLCAiKX1dKWApO2xldCByPXRoaXMuX2VkZ2VzLmdldChuLmlkKTtpZihyKXtsZXQgaT1uLmNoYW5uZWxJZHMuZmlsdGVyKHM9PiFyPy5jaGFubmVsSWRzLmluY2x1ZGVzKHMpKTtpZihpLmluY2x1ZGVzKHRoaXMuaWQpJiZpLnNwbGljZShpLmluZGV4T2YodGhpcy5pZCksMSksIWkubGVuZ3RoKXJldHVybjt0aGlzLl9lZGdlcy5zZXQobi5pZCx7Li4ubixjaGFubmVsSWRzOlsuLi5yLmNoYW5uZWxJZHMsLi4uaV19KX1lbHNle2xldCBpPVsuLi5uLmNoYW5uZWxJZHNdLmZpbHRlcihzPT5zIT09dGhpcy5pZCk7dGhpcy5fZWRnZXMuc2V0KG4uaWQsey4uLm4sY2hhbm5lbElkczppfSksdGhpcy5fZWRnZVBpcGVzLnNldChuLmlkLHQpfXRoaXMuX2VtaXR0ZXIuZW1pdCh3bSxuKSx0aGlzLmhhbmRzaGFrZUFsbCgpfV9oYW5kbGVNZXNzYWdlKHQsbil7aWYobi5wcm94aWVkQnk9PT10aGlzLmlkKXJldHVybjtpZihuLmRlc3RpbmF0aW9uIT09dGhpcy5pZClyZXR1cm4gdGhpcy5fZW1pdE1lc3NhZ2Uoey4uLm4scHJveGllZEJ5OnRoaXMuaWR9KTtpZighbi5ub25jZSlyZXR1cm4gdm9pZCB0aGlzLl9lbWl0dGVyLmVtaXQobi5uYW1lLG4uZGF0YSk7bGV0IHI9dGhpcy5fY2FsbGJhY2tzLmdldChuLm5vbmNlKTtpZihyKXJldHVybiB2b2lkIHIobi5kYXRhKTtsZXQgaT10aGlzLl9jYWxsZXJzLmdldChuLm5hbWUpO2lmKGkpe2kobi5kYXRhKS5jYXRjaChzPT4oY29uc29sZS5lcnJvcihzKSxuZXcgRXJyb3Iocz8ubWVzc2FnZT8/YCR7c31gKSkpLnRoZW4ocz0+e3RoaXMuX2VtaXRNZXNzYWdlKHtuYW1lOm4ubmFtZSxzb3VyY2U6dGhpcy5pZCxkZXN0aW5hdGlvbjpuLnNvdXJjZSxkYXRhOnMsbm9uY2U6bi5ub25jZX0pfSk7cmV0dXJufX1fZW1pdEhhbmRzaGFrZSh0KXtsZXQgbj10aGlzLmdldEVkZ2UoKTt0LmVtaXQoYCR7UWF9OmhhbmRzaGFrZWAsbil9X2VtaXRNZXNzYWdlKHQpe2xldCBuPXRoaXMuZmluZEVkZ2VJZCh0LmRlc3RpbmF0aW9uKTtpZighbilyZXR1cm47dGhpcy5fZWRnZVBpcGVzLmdldChuKT8uZW1pdChgJHtRYX06bWVzc2FnZWAsdCl9Z2V0RWRnZSgpe2xldCB0PVsuLi50aGlzLl9lZGdlcy5rZXlzKCksLi4uWy4uLnRoaXMuX2VkZ2VzLnZhbHVlcygpXS5tYXAobj0+bi5jaGFubmVsSWRzKS5mbGF0KCldLmZpbHRlcigobixyLGkpPT5pLmluZGV4T2Yobik9PT1yKTtyZXR1cm57aWQ6dGhpcy5pZCxjaGFubmVsSWRzOnR9fWZpbmRFZGdlSWQodCl7Zm9yKGxldCBuIG9mIHRoaXMuX2VkZ2VzLnZhbHVlcygpKWlmKG4uaWQ9PT10fHxuLmNoYW5uZWxJZHMuaW5jbHVkZXModCkpcmV0dXJuIG4uaWQ7cmV0dXJuIG51bGx9d2FpdEZvckVkZ2UodCl7bGV0IG49dGhpcy5maW5kRWRnZUlkKHQpO3JldHVybiBuP1Byb21pc2UucmVzb2x2ZShuKTpuZXcgUHJvbWlzZShyPT57bGV0IGk9cz0+eyhzLmlkPT09dHx8cy5jaGFubmVsSWRzLmluY2x1ZGVzKHQpKSYmKHRoaXMuX2VtaXR0ZXIub2ZmKHdtLGkpLHIocy5pZCkpfTt0aGlzLl9lbWl0dGVyLm9uKHdtLGkpfSl9Y3JlYXRlTm9uY2UoKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMil9c2VuZCh0KXt0aGlzLl9lbWl0TWVzc2FnZSh7Li4udCxzb3VyY2U6dGhpcy5pZH0pfWNhbGwodCxuPXt0aW1lb3V0OjFlNH0pe2xldCByPXRoaXMuY3JlYXRlTm9uY2UoKSxpPW5ldyBQcm9taXNlKChzLGMpPT57bGV0IHU9c2V0VGltZW91dCgoKT0+e3RoaXMuX2NhbGxiYWNrcy5kZWxldGUociksYyhuZXcgRXJyb3IoIkNhbGwgdGltZWQgb3V0IikpfSxuLnRpbWVvdXQpO3RoaXMuX2NhbGxiYWNrcy5zZXQocixwPT57dGhpcy5fY2FsbGJhY2tzLmRlbGV0ZShyKSxjbGVhclRpbWVvdXQodSksbi5zaWduYWw/LmFib3J0ZWQ/bi5zaWduYWwucmVhc29uIGluc3RhbmNlb2YgRXJyb3ImJmMobi5zaWduYWwucmVhc29uKTpwIGluc3RhbmNlb2YgRXJyb3I/YyhwKTpzKHApfSl9KTtyZXR1cm4gdGhpcy5fZW1pdE1lc3NhZ2Uoey4uLnQsc291cmNlOnRoaXMuaWQsbm9uY2U6cn0pLGl9b24odCxuKXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vbih0LG4pLHRoaXN9b2ZmKHQsbil7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub2ZmKHQsbiksdGhpc31vbmNlKHQsbil7dGhpcy5fZW1pdHRlci5vbmNlKHQsbil9b25DYWxsKHQsbil7dGhpcy5fY2FsbGVycy5zZXQodCxhc3luYyguLi5yKT0+YXdhaXQgbiguLi5yKSl9cmVtb3ZlQ2FsbGVyKCl7fWhhbmRzaGFrZUFsbCgpe3RoaXMuX3BpcGVzLmZvckVhY2godD0+dGhpcy5fZW1pdEhhbmRzaGFrZSh0KSl9ZGVzdHJveSgpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fY2FsbGJhY2tzLmNsZWFyKCksdGhpcy5fY2FsbGVycy5jbGVhcigpLHRoaXMuX2VkZ2VQaXBlcy5jbGVhcigpLHRoaXMuX3BpcGVzPVtdLHRoaXMuX2Rlc3Ryb3llZD0hMH19O0VyLkNoYW5uZWw9UG19KTt2YXIgUm09R3IoRHI9PnsidXNlIHN0cmljdCI7YSgpO2woKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO0RyLlJlbW90ZUNsaWVudD1Eci5SZW1vdGVIb3N0PXZvaWQgMDt2YXIgQ209Y2xhc3N7Y2hhbm5lbDtjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuY2hhbm5lbD10O2ZvcihsZXRbcixpXW9mIE9iamVjdC5lbnRyaWVzKG4pKXQub25DYWxsKHIsYXN5bmMgcz0+YXdhaXQgaSguLi5zKSk7dC5oYW5kc2hha2VBbGwoKX19O0RyLlJlbW90ZUhvc3Q9Q207dmFyIE5tPWNsYXNze2hvc3ROYW1lO2NoYW5uZWw7Y29uc3RydWN0b3IodCxuKXt0aGlzLmhvc3ROYW1lPXQsdGhpcy5jaGFubmVsPW59YXN5bmMgY29ubmVjdCgpe2F3YWl0IHRoaXMuY2hhbm5lbC53YWl0Rm9yRWRnZSh0aGlzLmhvc3ROYW1lKX1ydW4odCwuLi5uKXtyZXR1cm4gdGhpcy5jaGFubmVsLmNhbGwoe25hbWU6dCxkZXN0aW5hdGlvbjp0aGlzLmhvc3ROYW1lLGRhdGE6bn0pfX07RHIuUmVtb3RlQ2xpZW50PU5tfSk7dmFyIG5iPUdyKE9yPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE9yLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtPci5Xb3JrZXJDbGllbnQ9T3IuY3JlYXRlV29ya2VySG9zdD12b2lkIDA7dmFyIGViPUltKCksdGI9Um0oKSwkST0oZSx0KT0+e2xldCBuPW5ldyBlYi5DaGFubmVsKGUpO3JldHVybiBuLmFkZFBpcGUoe2VtaXQ6KHIsaSk9PnBvc3RNZXNzYWdlKHtldmVudDpyLGRhdGE6aX0pLGxpc3RlbjoocixpKT0+YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKHtkYXRhOnN9KT0+e3MuZXZlbnQ9PT1yJiZpKHMuZGF0YSl9KX0pLG5ldyB0Yi5SZW1vdGVIb3N0KG4sdCl9O09yLmNyZWF0ZVdvcmtlckhvc3Q9JEk7dmFyIGttPWNsYXNzIGV4dGVuZHMgdGIuUmVtb3RlQ2xpZW50e3dvcmtlck9wdHM7d29ya2VyO3dvcmtlckxpc3RlbmVycz1bXTt1cmw7Y29uc3RydWN0b3IodCxuLHIsaT17fSl7bGV0IHM9bmV3IGViLkNoYW5uZWwodCk7aWYoc3VwZXIobixzKSx0aGlzLndvcmtlck9wdHM9aSxyIGluc3RhbmNlb2YgQmxvYil7bGV0IGM9bmV3IEJsb2IoW3JdLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSk7dGhpcy51cmw9VVJMLmNyZWF0ZU9iamVjdFVSTChjKX1lbHNlIHRoaXMudXJsPXJ9YXN5bmMgaW5pdCgpe2xldCB0PXRoaXMud29ya2VyPW5ldyBXb3JrZXIodGhpcy51cmwsdGhpcy53b3JrZXJPcHRzKTt0aGlzLmNoYW5uZWwuYWRkUGlwZSh7ZW1pdDoobixyKT0+dC5wb3N0TWVzc2FnZSh7ZXZlbnQ6bixkYXRhOnJ9KSxsaXN0ZW46KG4scik9PntsZXQgaT1zPT57bGV0e2V2ZW50OmMsZGF0YTp1fT1zLmRhdGE7Yz09PW4mJnIodSl9O3RoaXMud29ya2VyTGlzdGVuZXJzLnB1c2goaSksdC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpKX19KSxhd2FpdCB0aGlzLmNvbm5lY3QoKX1kZXN0cm95KCl7aWYodGhpcy53b3JrZXIpe2ZvcihsZXQgdCBvZiB0aGlzLndvcmtlckxpc3RlbmVycyl0aGlzLndvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0KTt0aGlzLndvcmtlci50ZXJtaW5hdGUoKX10aGlzLmNoYW5uZWwuZGVzdHJveSgpLHRoaXMudXJsLnN0YXJ0c1dpdGgoImJsb2I6IikmJlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy51cmwpfX07T3IuV29ya2VyQ2xpZW50PWttfSk7dmFyIG9iPUdyKG9vPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dmFyIFVJPW9vJiZvby5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLHIpe3I9PT12b2lkIDAmJihyPW4pO3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTsoIWl8fCgiZ2V0ImluIGk/IXQuX19lc01vZHVsZTppLndyaXRhYmxlfHxpLmNvbmZpZ3VyYWJsZSkpJiYoaT17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLGkpfTpmdW5jdGlvbihlLHQsbixyKXtyPT09dm9pZCAwJiYocj1uKSxlW3JdPXRbbl19KSxBbT1vbyYmb28uX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKW4hPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmVUkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkob28sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO0FtKEltKCksb28pO0FtKFJtKCksb28pO0FtKG5iKCksb28pfSk7ZnVuY3Rpb24gRW0oZSl7VmEuaWQhPT1lLmlkJiYoT2JqZWN0LmFzc2lnbihWYSxlKSxMbS5mb3JFYWNoKHQ9PnQoZSkpKX12YXIgVmEsTG0scmIsRG09ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3coKTtWYT17aWQ6bnVsbCx0aGVtZTpudWxsfSxMbT1uZXcgU2V0LHJiPSgpPT57bGV0WyxlXT1MLnVzZVN0YXRlKFZhKTtyZXR1cm4gTC51c2VFZmZlY3QoKCk9PihMbS5hZGQoZSksKCk9PnZvaWQgTG0uZGVsZXRlKGUpKSxbXSksVmF9fSk7ZnVuY3Rpb24gb3IoZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9yLGUpKXJldHVybiBfcltlXTtsZXQgdD1PYmplY3QudmFsdWVzKF9yKS5maW5kKG49Pm4uYWxpYXNlcz8uaW5jbHVkZXMoZSkpO3JldHVybiB0PyhXSS5zZXQoZSx0KSx0KTpudWxsfXZhciBHSSxISSxpYix6SSxqSSxfcixzYixhYixXSSxlbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7R0k9IlZhcDByMXplL3ZhcGNvcmQiLEhJPSI4OGE3MDMyYTU5Y2NhNDBkYTE3MDkyNjY1MWIwODIwMWVhM2I5NjVhIixpYj1gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7R0l9LyR7SEl9L2Fzc2V0cy9zaGlraS1jb2RlYmxvY2tzYCx6ST1lPT5gJHtpYn0vJHtlfWAsakk9YCR7aWJ9L2xhbmd1YWdlcy5qc29uYCxfcj17fSxzYj1hc3luYygpPT57bGV0IGU9YXdhaXQgZihqSSkudGhlbihuPT5uLmpzb24oKSksdD1PYmplY3QuZnJvbUVudHJpZXMoZS5tYXAobj0+W24uaWQsey4uLm4sZ3JhbW1hclVybDp6SShuLmZpbGVOYW1lKX1dKSk7T2JqZWN0LmFzc2lnbihfcix0KX0sYWI9ZT0+ZS5ncmFtbWFyP1Byb21pc2UucmVzb2x2ZShlLmdyYW1tYXIpOmYoZS5ncmFtbWFyVXJsKS50aGVuKHQ9PnQuanNvbigpKSxXST1uZXcgTWFwfSk7dmFyIHFJLEtJLHdlLHJvLE9tPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtxST0ic2hpa2lqcy9zaGlraSIsS0k9IjBiMjhhZDhjY2ZiZjI2MTVmMmQ5ZDM4ZWE4MjU1NDE2YjhhYzMwNDMiLHdlPWU9PmBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vJHtxSX0vJHtLSX0vcGFja2FnZXMvc2hpa2kvdGhlbWVzLyR7ZX0uanNvbmAscm89e0RhcmtQbHVzOndlKCJkYXJrLXBsdXMiKSxNYXRlcmlhbENhbmR5OiJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbWlsbHNwL21hdGVyaWFsLWNhbmR5L21hc3Rlci9tYXRlcmlhbC1jYW5keS5qc29uIixEcmFjdWxhU29mdDp3ZSgiZHJhY3VsYS1zb2Z0IiksRHJhY3VsYTp3ZSgiZHJhY3VsYSIpLEdpdGh1YkRhcmtEaW1tZWQ6d2UoImdpdGh1Yi1kYXJrLWRpbW1lZCIpLEdpdGh1YkRhcms6d2UoImdpdGh1Yi1kYXJrIiksR2l0aHViTGlnaHQ6d2UoImdpdGh1Yi1saWdodCIpLExpZ2h0UGx1czp3ZSgibGlnaHQtcGx1cyIpLE1hdGVyaWFsRGFya2VyOndlKCJtYXRlcmlhbC1kYXJrZXIiKSxNYXRlcmlhbERlZmF1bHQ6d2UoIm1hdGVyaWFsLWRlZmF1bHQiKSxNYXRlcmlhbExpZ2h0ZXI6d2UoIm1hdGVyaWFsLWxpZ2h0ZXIiKSxNYXRlcmlhbE9jZWFuOndlKCJtYXRlcmlhbC1vY2VhbiIpLE1hdGVyaWFsUGFsZW5pZ2h0OndlKCJtYXRlcmlhbC1wYWxlbmlnaHQiKSxNaW5EYXJrOndlKCJtaW4tZGFyayIpLE1pbkxpZ2h0OndlKCJtaW4tbGlnaHQiKSxNb25va2FpOndlKCJtb25va2FpIiksTm9yZDp3ZSgibm9yZCIpLE9uZURhcmtQcm86d2UoIm9uZS1kYXJrLXBybyIpLFBvaW1hbmRyZXM6d2UoInBvaW1hbmRyZXMiKSxSb3NlUGluZURhd246d2UoInJvc2UtcGluZS1kYXduIiksUm9zZVBpbmVNb29uOndlKCJyb3NlLXBpbmUtbW9vbiIpLFJvc2VQaW5lOndlKCJyb3NlLXBpbmUiKSxTbGFja0Rhcms6d2UoInNsYWNrLWRhcmsiKSxTbGFja09jaGluOndlKCJzbGFjay1vY2hpbiIpLFNvbGFyaXplZERhcms6d2UoInNvbGFyaXplZC1kYXJrIiksU29sYXJpemVkTGlnaHQ6d2UoInNvbGFyaXplZC1saWdodCIpLFZpdGVzc2VEYXJrOndlKCJ2aXRlc3NlLWRhcmsiKSxWaXRlc3NlTGlnaHQ6d2UoInZpdGVzc2UtbGlnaHQiKSxDc3NWYXJpYWJsZXM6d2UoImNzcy12YXJpYWJsZXMiKX19KTt2YXIgY2IsX20sbGIsdWUscWk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3dpKCk7Y2I9U2wob2IoKSk7RG0oKTtlbCgpO09tKCk7X209T2JqZWN0LnZhbHVlcyhybyksdWU9e2NsaWVudDpudWxsLGN1cnJlbnRUaGVtZTpudWxsLGN1cnJlbnRUaGVtZVVybDpudWxsLHRpbWVvdXRNczoxZTQsbGFuZ3VhZ2VzOl9yLHRoZW1lczpybyxsb2FkZWRUaGVtZXM6bmV3IFNldCxsb2FkZWRMYW5nczpuZXcgU2V0LGNsaWVudFByb21pc2U6bmV3IFByb21pc2UoZT0+bGI9ZSksaW5pdDphc3luYyBlPT57bGV0IHQ9YXdhaXQgZihTdikudGhlbihpPT5pLmJsb2IoKSksbj11ZS5jbGllbnQ9bmV3IGNiLldvcmtlckNsaWVudCgic2hpa2ktY2xpZW50Iiwic2hpa2ktaG9zdCIsdCx7bmFtZToiU2hpa2lXb3JrZXIifSk7YXdhaXQgbi5pbml0KCk7bGV0IHI9ZXx8X21bMF07YXdhaXQgc2IoKSxhd2FpdCBuLnJ1bigic2V0T25pZ2FzbSIse3dhc206YnZ9KSxhd2FpdCBuLnJ1bigic2V0SGlnaGxpZ2h0ZXIiLHt0aGVtZTpyLGxhbmdzOltdfSksdWUubG9hZGVkVGhlbWVzLmFkZChyKSxhd2FpdCB1ZS5fc2V0VGhlbWUociksbGIobil9LF9zZXRUaGVtZTphc3luYyBlPT57dWUuY3VycmVudFRoZW1lVXJsPWU7bGV0e3RoZW1lRGF0YTp0fT1hd2FpdCB1ZS5jbGllbnQucnVuKCJnZXRUaGVtZSIse3RoZW1lOmV9KTt1ZS5jdXJyZW50VGhlbWU9SlNPTi5wYXJzZSh0KSxFbSh7aWQ6ZSx0aGVtZTp1ZS5jdXJyZW50VGhlbWV9KX0sbG9hZFRoZW1lOmFzeW5jIGU9PntsZXQgdD1hd2FpdCB1ZS5jbGllbnRQcm9taXNlO3VlLmxvYWRlZFRoZW1lcy5oYXMoZSl8fChhd2FpdCB0LnJ1bigibG9hZFRoZW1lIix7dGhlbWU6ZX0pLHVlLmxvYWRlZFRoZW1lcy5hZGQoZSkpfSxzZXRUaGVtZTphc3luYyBlPT57YXdhaXQgdWUuY2xpZW50UHJvbWlzZSxlfHw9X21bMF0sdWUubG9hZGVkVGhlbWVzLmhhcyhlKXx8YXdhaXQgdWUubG9hZFRoZW1lKGUpLGF3YWl0IHVlLl9zZXRUaGVtZShlKX0sbG9hZExhbmc6YXN5bmMgZT0+e2xldCB0PWF3YWl0IHVlLmNsaWVudFByb21pc2Usbj1vcihlKTshbnx8dWUubG9hZGVkTGFuZ3MuaGFzKG4uaWQpfHwoYXdhaXQgdC5ydW4oImxvYWRMYW5ndWFnZSIse2xhbmc6ey4uLm4sZ3JhbW1hcjpuLmdyYW1tYXI/P2F3YWl0IGFiKG4pfX0pLHVlLmxvYWRlZExhbmdzLmFkZChuLmlkKSl9LHRva2VuaXplQ29kZTphc3luYyhlLHQpPT57bGV0IG49YXdhaXQgdWUuY2xpZW50UHJvbWlzZSxyPW9yKHQpO3JldHVybiByPyh1ZS5sb2FkZWRMYW5ncy5oYXMoci5pZCl8fGF3YWl0IHVlLmxvYWRMYW5nKHIuaWQpLGF3YWl0IG4ucnVuKCJjb2RlVG9UaGVtZWRUb2tlbnMiLHtjb2RlOmUsbGFuZzp0LHRoZW1lOnVlLmN1cnJlbnRUaGVtZVVybD8/X21bMF19KSk6W119LGRlc3Ryb3koKXt1ZS5jdXJyZW50VGhlbWU9bnVsbCx1ZS5jdXJyZW50VGhlbWVVcmw9bnVsbCxFbSh7aWQ6bnVsbCx0aGVtZTpudWxsfSksdWUuY2xpZW50Py5kZXN0cm95KCl9fX0pO3ZhciBLaSxCbT1nKCgpPT57YSgpO2woKTsodW5zYWZlV2luZG93LlZlbmNvcmRTdHlsZXM/Pz1uZXcgTWFwKS5zZXQoInNyYy9wbHVnaW5zL3NoaWtpQ29kZWJsb2Nrcy9kZXZpY29uLmNzcyIse25hbWU6InNyYy9wbHVnaW5zL3NoaWtpQ29kZWJsb2Nrcy9kZXZpY29uLmNzcyIsc291cmNlOmBAaW1wb3J0IHVybCgiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Rldmljb25zL2Rldmljb25AdjIuMTAuMS9kZXZpY29uLm1pbi5jc3MiKTsKYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7S2k9InNyYy9wbHVnaW5zL3NoaWtpQ29kZWJsb2Nrcy9kZXZpY29uLmNzcyJ9KTt2YXIgWWk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIFpJLFJvLEZtPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7T2UoKTtnZSgpO1puKCk7TSgpO3FpKCk7T20oKTtCbSgpO1lpKCk7Wkk9T2JqZWN0LmtleXMocm8pLFJvPUUoe3RoZW1lOnt0eXBlOjQsZGVzY3JpcHRpb246IkRlZmF1bHQgdGhlbWVzIixvcHRpb25zOlpJLm1hcChlPT4oe2xhYmVsOlluKEpsKGUpKSx2YWx1ZTpyb1tlXSxkZWZhdWx0OnJvW2VdPT09cm8uRGFya1BsdXN9KSksb25DaGFuZ2U6dWUuc2V0VGhlbWV9LGN1c3RvbVRoZW1lOnt0eXBlOjAsZGVzY3JpcHRpb246IkEgbGluayB0byBhIGN1c3RvbSB2c2NvZGUgdGhlbWUiLHBsYWNlaG9sZGVyOnJvLk1hdGVyaWFsQ2FuZHksb25DaGFuZ2U6ZT0+e3VlLnNldFRoZW1lKGV8fFJvLnN0b3JlLnRoZW1lKX19LHRyeUhsanM6e3R5cGU6NCxkZXNjcmlwdGlvbjoiVXNlIHRoZSBtb3JlIGxpZ2h0d2VpZ2h0IGRlZmF1bHQgRGlzY29yZCBoaWdobGlnaHRlciBhbmQgdGhlbWUuIixvcHRpb25zOlt7bGFiZWw6Ik5ldmVyIix2YWx1ZToiTkVWRVIifSx7bGFiZWw6IlByZWZlciBTaGlraSBpbnN0ZWFkIG9mIEhpZ2hsaWdodC5qcyIsdmFsdWU6IlNFQ09OREFSWSIsZGVmYXVsdDohMH0se2xhYmVsOiJQcmVmZXIgSGlnaGxpZ2h0LmpzIGluc3RlYWQgb2YgU2hpa2kiLHZhbHVlOiJQUklNQVJZIn0se2xhYmVsOiJBbHdheXMiLHZhbHVlOiJBTFdBWVMifV19LHVzZURldkljb246e3R5cGU6NCxkZXNjcmlwdGlvbjoiSG93IHRvIHNob3cgbGFuZ3VhZ2UgaWNvbnMgb24gY29kZWJsb2NrcyIsb3B0aW9uczpbe2xhYmVsOiJEaXNhYmxlZCIsdmFsdWU6IkRJU0FCTEVEIn0se2xhYmVsOiJDb2xvcmxlc3MiLHZhbHVlOiJHUkVZU0NBTEUiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQ29sb3JlZCIsdmFsdWU6IkNPTE9SIn1dLG9uQ2hhbmdlOmU9PntlPT09IkRJU0FCTEVEIj9rdChLaSk6b3QoS2kpfX0sYmdPcGFjaXR5Ont0eXBlOjUsZGVzY3JpcHRpb246IkJhY2tncm91bmQgb3BhY2l0eSIsbWFya2VyczpbMCwyMCw0MCw2MCw4MCwxMDBdLGRlZmF1bHQ6MTAwLGNvbXBvbmVudFByb3BzOntzdGlja1RvTWFya2VyczohMSxvblZhbHVlUmVuZGVyOm51bGx9fX0se3RoZW1lOntkaXNhYmxlZCgpe3JldHVybiEhdGhpcy5zdG9yZS5jdXN0b21UaGVtZX19LGN1c3RvbVRoZW1lOntpc1ZhbGlkKGUpe2lmKCFlKXJldHVybiEwO2xldCB0PUVsKGUpO3JldHVybiB0P3QucGF0aG5hbWUuZW5kc1dpdGgoIi5qc29uIik/ITA6Ik11c3QgYmUgYSBqc29uIGZpbGUiOiJNdXN0IGJlIGEgdmFsaWQgVVJMIn19fSl9KTtmdW5jdGlvbiBwYihlLHQpe2xldCBuPVJvLnVzZShlKSxbcixpXT1MLnVzZVN0YXRlKCExKSxzPXsuLi5uLC4uLnR9LGM9cy5jdXN0b21UaGVtZXx8cy50aGVtZTtpZih0KXtsZXQgdT11ZS5jdXJyZW50VGhlbWVVcmwmJmMmJmMhPT11ZS5jdXJyZW50VGhlbWVVcmwscD1PYmplY3Qua2V5cyh0KS5sZW5ndGg9PT0wO3ImJighdXx8cCkmJmkoITEpLCFyJiZ1JiYoaSghMCksdWUuc2V0VGhlbWUoYykpfXJldHVybnsuLi5zLGlzVGhlbWVMb2FkaW5nOmMhPT11ZS5jdXJyZW50VGhlbWVVcmx9fXZhciBkYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpO3FpKCk7Rm0oKX0pO2Z1bmN0aW9uIG1iKGUpe3JldHVybiBlPWUuc2xpY2UoMSksZS5sZW5ndGg8NiYmKGU9ZS5zcGxpdCgiIikubWFwKHQ9PnQrdCkuam9pbigiIikpLGUubGVuZ3RoPT09NiYmKGUrPSJmZiIpLGUubGVuZ3RoPjYmJihlPWUuc2xpY2UoMCw2KSksZS5zcGxpdCgvKC4uKS8pLmZpbHRlcihCb29sZWFuKS5tYXAodD0+cGFyc2VJbnQodCwxNikpfXZhciBmYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTt2YXIgSW4sZ2IsWmk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09lKCk7dygpO2VsKCk7WWkoKTtJbj1iZSgic2hpa2ktIiksZ2I9KHtsYW5nOmUsdHJ5SGxqczp0fSk9PntsZXQgbj1lP1VvPy5nZXRMYW5ndWFnZT8uKGUpOm51bGwsaT0oZT9vcihlKTpudWxsKT8ubmFtZTtzd2l0Y2godCl7Y2FzZSJBTFdBWVMiOnJldHVybiEwO2Nhc2UiUFJJTUFSWSI6cmV0dXJuISFufHxlPT09IiI7Y2FzZSJTRUNPTkRBUlkiOnJldHVybiFpJiYhIW47Y2FzZSJORVZFUiI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMX19fSk7ZnVuY3Rpb24gaGIoZSl7bGV0W3Qsbl09TC51c2VTdGF0ZSghMSk7ZnVuY3Rpb24gcihpKXtRdC5jb3B5KGkpLG4oITApLHNldFRpbWVvdXQoKCk9PntuKCExKX0sZSl9cmV0dXJuW3Qscl19dmFyIHliPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCl9KTtmdW5jdGlvbiB2Yih7Y29udGVudDplLC4uLnR9KXtsZXRbbixyXT1oYigxZTMpO3JldHVybiBvKCJidXR0b24iLHsuLi50LHN0eWxlOnsuLi50LnN0eWxlLGN1cnNvcjpuPyJkZWZhdWx0Ijp2b2lkIDB9LG9uQ2xpY2s6KCk9PnIoZSl9LG4/IkNvcGllZCEiOiJDb3B5Iil9dmFyIFNiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt5YigpfSk7ZnVuY3Rpb24gYmIoe2NvbnRlbnQ6ZSx0aGVtZTp0fSl7bGV0IG49W107cmV0dXJuIFF0LlNVUFBPUlRTX0NPUFkmJm4ucHVzaChvKHZiLHtjb250ZW50OmUsY2xhc3NOYW1lOkluKCJidG4iKSxzdHlsZTp7YmFja2dyb3VuZENvbG9yOnQuYWNjZW50QmdDb2xvcixjb2xvcjp0LmFjY2VudEZnQ29sb3J9fSkpLG8oImRpdiIse2NsYXNzTmFtZTpJbigiYnRucyIpfSxuKX12YXIgVGI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3coKTtaaSgpO1NiKCl9KTt2YXIgeGIsd2I9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3coKTtaaSgpO3hiPSh7dGhlbWU6ZSx1c2VIbGpzOnQsbGFuZzpuLGNvbnRlbnQ6cix0b2tlbnM6aX0pPT57bGV0IHM7aWYodCl0cnl7bGV0e3ZhbHVlOnV9PVVvLmhpZ2hsaWdodChuLHIsITApO3M9dS5zcGxpdChgCmApLm1hcCgocCx5KT0+bygic3BhbiIse2tleTp5LGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6cH19KSl9Y2F0Y2h7cz1yLnNwbGl0KGAKYCkubWFwKHU9Pm8oInNwYW4iLG51bGwsdSkpfWVsc2Ugcz0oaT8/ci5zcGxpdChgCmApLm1hcChwPT5be2NvbG9yOmUucGxhaW5Db2xvcixjb250ZW50OnB9XSkpLm1hcChwPT5wLmxlbmd0aD09PTA/bygic3BhbiIsbnVsbCxgCmApOm8oZCxudWxsLHAubWFwKCh7Y29udGVudDp5LGNvbG9yOmgsZm9udFN0eWxlOlN9LGIpPT5vKCJzcGFuIix7a2V5OmIsc3R5bGU6e2NvbG9yOmgsZm9udFN0eWxlOihTPz8wKSYxPyJpdGFsaWMiOnZvaWQgMCxmb250V2VpZ2h0OihTPz8wKSYyPyJib2xkIjp2b2lkIDAsdGV4dERlY29yYXRpb246KFM/PzApJjQ/InVuZGVybGluZSI6dm9pZCAwfX0seSkpKSk7bGV0IGM9cy5tYXAoKHUscCk9Pm8oInRyIix7a2V5OnB9LG8oInRkIix7c3R5bGU6e2NvbG9yOmUucGxhaW5Db2xvcn19LHArMSksbygidGQiLG51bGwsdSkpKTtyZXR1cm4gbygidGFibGUiLHtjbGFzc05hbWU6SW4oInRhYmxlIil9LC4uLmMpfX0pO2Z1bmN0aW9uIE1iKHtsYW5nTmFtZTplLHVzZURldkljb246dCxzaGlraUxhbmc6bn0pe3JldHVybiBlP28oImRpdiIse2NsYXNzTmFtZTpJbigibGFuZyIpfSx0IT09IkRJU0FCTEVEIiYmbj8uZGV2aWNvbiYmbygiaSIse2NsYXNzTmFtZTpgJHtJbigiZGV2aWNvbiIpfSBkZXZpY29uLSR7bi5kZXZpY29ufSR7dD09PSJDT0xPUiI/IiBjb2xvcmVkIjoiIn1gfSksZSk6byhkLG51bGwpfXZhciBQYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WWkoKTtaaSgpfSk7dmFyIHRsLFhJLEliPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO2hlKCk7dygpO2VsKCk7cWkoKTtkYigpO0RtKCk7ZmIoKTtaaSgpO1RiKCk7d2IoKTtQYigpO3RsPWU9Pm8oInByZSIse2NsYXNzTmFtZTpJbigiY29udGFpbmVyIil9LG8oRCxudWxsLG8oWEksey4uLmV9KSkpLFhJPSh7bGFuZzplLGNvbnRlbnQ6dCxpc1ByZXZpZXc6bix0ZW1wU2V0dGluZ3M6cn0pPT57bGV0e3RyeUhsanM6aSx1c2VEZXZJY29uOnMsYmdPcGFjaXR5OmN9PXBiKFsidHJ5SGxqcyIsInVzZURldkljb24iLCJiZ09wYWNpdHkiXSxyKSx7aWQ6dSx0aGVtZTpwfT1yYigpLHk9ZT9vcihlKTpudWxsLGg9Z2Ioe2xhbmc6ZSx0cnlIbGpzOml9KSxbUyxiXT1PbCghMCksW3hdPVllKGFzeW5jKCk9PiF5fHxofHwhYj9udWxsOmF3YWl0IHVlLnRva2VuaXplQ29kZSh0LGUpLHtmYWxsYmFja1ZhbHVlOm51bGwsZGVwczpbZSx0LHUsYl19KSxBPXtwbGFpbkNvbG9yOnA/LmZnfHwidmFyKC0tdGV4dC1ub3JtYWwpIixhY2NlbnRCZ0NvbG9yOnA/LmNvbG9ycz8uWyJzdGF0dXNCYXIuYmFja2dyb3VuZCJdfHwoaD8iIzcyODlkYSI6IiMwMDdCQzgiKSxhY2NlbnRGZ0NvbG9yOnA/LmNvbG9ycz8uWyJzdGF0dXNCYXIuZm9yZWdyb3VuZCJdfHwiI0ZGRiIsYmFja2dyb3VuZENvbG9yOnA/LmNvbG9ycz8uWyJlZGl0b3IuYmFja2dyb3VuZCJdfHwidmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpIn0sTjtyZXR1cm4gZSYmKE49aD9Vbz8uZ2V0TGFuZ3VhZ2U/LihlKT8ubmFtZTp5Py5uYW1lKSxvKCJkaXYiLHtyZWY6UyxjbGFzc05hbWU6SW4oInJvb3QiLHtwbGFpbjohTixwcmV2aWV3Om59KSxzdHlsZTp7YmFja2dyb3VuZENvbG9yOmg/QS5iYWNrZ3JvdW5kQ29sb3I6YHJnYmEoJHttYihBLmJhY2tncm91bmRDb2xvcikuY29uY2F0KGMvMTAwKS5qb2luKCIsICIpfSlgLGNvbG9yOkEucGxhaW5Db2xvcn19LG8oImNvZGUiLG51bGwsbyhNYix7bGFuZ05hbWU6Tix1c2VEZXZJY29uOnMsc2hpa2lMYW5nOnl9KSxvKHhiLHt0aGVtZTpBLHVzZUhsanM6aCxsYW5nOmUsY29udGVudDp0LHRva2Vuczp4fSksIW4mJm8oYmIse2NvbnRlbnQ6dCx0aGVtZTpBfSkpKX19KTt2YXIgQ2IsTmIsUmI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0NiPW5ldyBNYXAsTmI9KCk9PntDYi5mb3JFYWNoKGU9PmUucmVtb3ZlKCkpLENiLmNsZWFyKCl9fSk7dmFyICRtLGtiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtaMCgpO09lKCk7UCgpO00oKTtKMCgpO3FpKCk7SWIoKTtCbSgpO0ZtKCk7WWkoKTtSYigpOyRtPXYoe25hbWU6IlNoaWtpQ29kZWJsb2NrcyIsZGVzY3JpcHRpb246IkJyaW5ncyB2c2NvZGUtc3R5bGUgY29kZWJsb2NrcyBpbnRvIERpc2NvcmQsIHBvd2VyZWQgYnkgU2hpa2kiLGF1dGhvcnM6W20uVmFwXSxwYXRjaGVzOlt7ZmluZDoiY29kZUJsb2NrOntyZWFjdDpmdW5jdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi9jb2RlQmxvY2s6XHtyZWFjdDpmdW5jdGlvblwoKFxpKSwoXGkpLChcaSlcKVx7LyxyZXBsYWNlOiIkJnJldHVybiAkc2VsZi5yZW5kZXJIaWdobGlnaHRlcigkMSwkMiwkMyk7In19XSxzdGFydDphc3luYygpPT57Um8uc3RvcmUudXNlRGV2SWNvbiE9PSJESVNBQkxFRCImJm90KEtpKSxhd2FpdCB1ZS5pbml0KFJvLnN0b3JlLmN1c3RvbVRoZW1lfHxSby5zdG9yZS50aGVtZSl9LHN0b3A6KCk9Pnt1ZS5kZXN0cm95KCksTmIoKX0sc2V0dGluZ3NBYm91dENvbXBvbmVudDooe3RlbXBTZXR0aW5nczplfSk9PnRsKHtsYW5nOiJ0c3giLGNvbnRlbnQ6WDAsaXNQcmV2aWV3OiEwLHRlbXBTZXR0aW5nczplfSksc2V0dGluZ3M6Um8sc2hpa2k6dWUsY3JlYXRlSGlnaGxpZ2h0ZXI6dGwscmVuZGVySGlnaGxpZ2h0ZXI6KHtsYW5nOmUsY29udGVudDp0fSk9PnRsKHtsYW5nOmUsY29udGVudDp0LGlzUHJldmlldzohMX0pfSl9KTt2YXIgVW0sQWI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7VW09dih7bmFtZToiU2hvd0FsbE1lc3NhZ2VCdXR0b25zIixkZXNjcmlwdGlvbjoiQWx3YXlzIHNob3cgYWxsIG1lc3NhZ2UgYnV0dG9ucyBubyBtYXR0ZXIgaWYgeW91IGFyZSBob2xkaW5nIHRoZSBzaGlmdCBrZXkgb3Igbm90LiIsYXV0aG9yczpbbS5OdWNreXpdLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuTUVTU0FHRV9VVElMSVRJRVNfQTExWV9MQUJFTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9pc0V4cGFuZGVkOihcaSksKD88PSxcMT1caSYmKD89KCEuKz8pWyw7XSkuKz8pLyxyZXBsYWNlOiJpc0V4cGFuZGVkOiQyLCJ9fV19KX0pO3ZhciBMYj1nKCgpPT57fSk7ZnVuY3Rpb24gRGIoKXtsZXQgZT1ZcihFYi5jb2xvcnMuSU5URVJBQ1RJVkVfTVVURUQpLmhleCgpLHQ9WXIoRWIuY29sb3JzLklOVEVSQUNUSVZFX0FDVElWRSkuaGV4KCk7cmV0dXJuIG8oSkkse2NvbG9yOmUsZm9yY2VkSWNvbkNvbG9yOnQsc2l6ZToxNix0b29sdGlwVGV4dDpjdC5NZXNzYWdlcy5DT05ORUNUSU9OX1ZFUklGSUVEfSl9dmFyIEViLEpJLE9iPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtoZSgpO0YoKTt3KCk7RWI9UmUoZT0+ZS5jb2xvcnM/LklOVEVSQUNUSVZFX01VVEVEPy5jc3MpLEpJPXJlKCgpPT5IZSgiLkNPTk5FQ1RJT05TX1JPTEVfT0ZGSUNJQUxfSUNPTl9UT09MVElQIikpfSk7ZnVuY3Rpb24gX2Ioe2lkOmUsdGhlbWU6dH0pe2xldCBuPVZJLmdldFVzZXJQcm9maWxlKGUpO2lmKCFuKXJldHVybiBudWxsO2xldCByPW4uY29ubmVjdGVkQWNjb3VudHM7cmV0dXJuIHI/Lmxlbmd0aD9vKFFJLG51bGwsbyhlZSx7dGFnOiJoMiIsdmFyaWFudDoiZXllYnJvdyIsc3R5bGU6e2NvbG9yOiJ2YXIoLS1oZWFkZXItcHJpbWFyeSkifX0sIkNvbm5lY3Rpb25zIiksbyhjZSx7c3R5bGU6e21hcmdpblRvcDoiOHB4IixnYXA6b0Mobmwuc3RvcmUuaWNvblNwYWNpbmcpLGZsZXhXcmFwOiJ3cmFwIn19LHIubWFwKGk9Pm8oc0Mse2Nvbm5lY3Rpb246aSx0aGVtZTp0fSkpKSk6bnVsbH1mdW5jdGlvbiBzQyh7Y29ubmVjdGlvbjplLHRoZW1lOnR9KXtsZXQgbj10Qy5nZXQoZS50eXBlKSxyPW4uZ2V0UGxhdGZvcm1Vc2VyVXJsPy4oZSksaT1vKCJpbWciLHsiYXJpYS1sYWJlbCI6ZS5uYW1lLHNyYzp0PT09ImxpZ2h0Ij9uLmljb24ubGlnaHRTVkc6bi5pY29uLmRhcmtTVkcsc3R5bGU6e3dpZHRoOm5sLnN0b3JlLmljb25TaXplLGhlaWdodDpubC5zdG9yZS5pY29uU2l6ZX19KSxzPXI/c2E6T3k7cmV0dXJuIG8oWCx7dGV4dDpvKCJzcGFuIix7Y2xhc3NOYW1lOiJ2Yy1zYy10b29sdGlwIn0sZS5uYW1lLGUudmVyaWZpZWQmJm8oRGIsbnVsbCksbyhzLHtoZWlnaHQ6MTYsd2lkdGg6MTZ9KSksa2V5OmUuaWR9LGM9PnI/bygiYSIsey4uLmMsY2xhc3NOYW1lOiJ2Yy11c2VyLWNvbm5lY3Rpb24iLGhyZWY6cix0YXJnZXQ6Il9ibGFuayIsb25DbGljazp1PT57VmVuY29yZC5QbHVnaW5zLmlzUGx1Z2luRW5hYmxlZCgiT3BlbkluQXBwIikmJlZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLk9wZW5JbkFwcC5oYW5kbGVMaW5rKHUuY3VycmVudFRhcmdldCx1KX19LGkpOm8oImJ1dHRvbiIsey4uLmMsY2xhc3NOYW1lOiJ2Yy11c2VyLWNvbm5lY3Rpb24iLG9uQ2xpY2s6KCk9PlZ0KGUubmFtZSl9LGkpKX12YXIgUUksVkksZUMsdEMsbkMsb0MsbmwsckMsaUMsR20sQmI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0xiKCk7VSgpO3NlKCk7YnQoKTt4bigpO1AoKTtnZSgpO2hlKCk7TSgpO0YoKTt3KCk7T2IoKTtRST1yZSgoKT0+SGUoIigpLmxhc3RTZWN0aW9uIikpLFZJPWxlKCJVc2VyUHJvZmlsZVN0b3JlIiksZUM9bGUoIlRoZW1lU3RvcmUiKSx0Qz1DKCJpc1N1cHBvcnRlZCIsImdldEJ5VXJsIiksbkM9cGUoJywiLS1wcm9maWxlLWdyYWRpZW50LXByaW1hcnktY29sb3IiJyksb0M9ZT0+KGU/PzApKjIrNCxubD1FKHtpY29uU2l6ZTp7dHlwZToxLGRlc2NyaXB0aW9uOiJJY29uIHNpemUgKHB4KSIsZGVmYXVsdDozMn0saWNvblNwYWNpbmc6e3R5cGU6NCxkZXNjcmlwdGlvbjoiSWNvbiBtYXJnaW4iLGRlZmF1bHQ6MSxvcHRpb25zOlt7bGFiZWw6IkNvbXBhY3QiLHZhbHVlOjB9LHtsYWJlbDoiQ296eSIsdmFsdWU6MX0se2xhYmVsOiJSb29teSIsdmFsdWU6Mn1dfX0pLHJDPUQud3JhcChlPT5vKF9iLHtpZDplLnVzZXIuaWQsdGhlbWU6bkMoZS51c2VyLGUuZGlzcGxheVByb2ZpbGUpLnByb2ZpbGVUaGVtZX0pKSxpQz1ELndyYXAoZT0+byhfYix7aWQ6ZS5jaGFubmVsLnJlY2lwaWVudHNbMF0sdGhlbWU6ZUMudGhlbWV9KSk7R209dih7bmFtZToiU2hvd0Nvbm5lY3Rpb25zIixkZXNjcmlwdGlvbjoiU2hvdyBjb25uZWN0ZWQgYWNjb3VudHMgaW4gdXNlciBwb3BvdXRzIixhdXRob3JzOlttLlRoZUtvZGVUb2FkXSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLkJPVF9QUk9GSUxFX1NMQVNIX0NPTU1BTkRTIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyx0aGVtZTpcaVx9XCkoPz0sLnswLDEwMH1zZXROb3RlOikvLHJlcGxhY2U6IiQmLCRzZWxmLnByb2ZpbGVQb3BvdXRDb21wb25lbnQoYXJndW1lbnRzWzBdKSJ9fSx7ZmluZDonIlByb2ZpbGUgUGFuZWw6IHVzZXIgY2Fubm90IGJlIHVuZGVmaW5lZCInLHJlcGxhY2VtZW50OnttYXRjaDovXCgwLFxpXC5qc3hcKVwoXGlcLlxpLFx7XH1cKS57MCwxMDB9c2V0Tm90ZTovLHJlcGxhY2U6IiRzZWxmLnByb2ZpbGVQYW5lbENvbXBvbmVudChhcmd1bWVudHNbMF0pLCQmIn19XSxzZXR0aW5nczpubCxwcm9maWxlUG9wb3V0Q29tcG9uZW50OnJDLHByb2ZpbGVQYW5lbENvbXBvbmVudDppQ30pfSk7dmFyIEZiPWcoKCk9Pnt9KTtmdW5jdGlvbiBHYihlKXtVYj1lfWZ1bmN0aW9uIGhDKHtjaGFubmVsOmV9KXtsZXRbdCxuXT1qKGtvLnN0b3JlLmRlZmF1bHRBbGxvd2VkVXNlcnNBbmRSb2xlc0Ryb3Bkb3duU3RhdGUpLFtyLGldPWooW10pLHt0eXBlOnMsdG9waWM6YyxsYXN0TWVzc2FnZUlkOnUsZGVmYXVsdEZvcnVtTGF5b3V0OnAsbGFzdFBpblRpbWVzdGFtcDp5LGRlZmF1bHRBdXRvQXJjaGl2ZUR1cmF0aW9uOmgsYXZhaWxhYmxlVGFnczpTLGlkOmIscmF0ZUxpbWl0UGVyVXNlcjp4LGRlZmF1bHRUaHJlYWRSYXRlTGltaXRQZXJVc2VyOkEsZGVmYXVsdFNvcnRPcmRlcjpOLGRlZmF1bHRSZWFjdGlvbkVtb2ppOkksYml0cmF0ZTokLHJ0Y1JlZ2lvbjpfLHZpZGVvUXVhbGl0eU1vZGU6SyxwZXJtaXNzaW9uT3ZlcndyaXRlczpuZSxndWlsZF9pZDpZfT1lO3JldHVybiBEZSgoKT0+e2xldCBxPVtdLG9lPW1lLmdldEd1aWxkKFkpLm93bmVySWQ7RmUuZ2V0TWVtYmVyKFksb2UpfHxxLnB1c2gob2UpLE9iamVjdC52YWx1ZXMobmUpLmZvckVhY2goKHt0eXBlOkgsaWQ6RWV9KT0+e0g9PT0xJiYhRmUuZ2V0TWVtYmVyKFksRWUpJiZxLnB1c2goRWUpfSkscS5sZW5ndGg+MCYmTy5kaXNwYXRjaCh7dHlwZToiR1VJTERfTUVNQkVSU19SRVFVRVNUIixndWlsZElkczpbWV0sdXNlcklkczpxfSksay5wbHVnaW5zLlBlcm1pc3Npb25zVmlld2VyLmVuYWJsZWQmJmkoTmEoT2JqZWN0LnZhbHVlcyhuZSkubWFwKEg9Pih7dHlwZTpILnR5cGUsaWQ6SC5pZCxvdmVyd3JpdGVBbGxvdzpILmFsbG93LG92ZXJ3cml0ZURlbnk6SC5kZW55fSkpLFkpKX0sW2JdKSxvKCJkaXYiLHtjbGFzc05hbWU6JGIuYXV0bysiICIrJGIuY3VzdG9tVGhlbWUrIiAiK2FDLmNoYXRDb250ZW50KyIgc2hjLWxvY2stc2NyZWVuLW91dGVyLWNvbnRhaW5lciJ9LG8oImRpdiIse2NsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWNvbnRhaW5lciJ9LG8oImltZyIse2NsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWxvZ28iLHNyYzpnQ30pLG8oImRpdiIse2NsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWhlYWRpbmctY29udGFpbmVyIn0sbyhlZSx7dmFyaWFudDoiaGVhZGluZy14eGwvYm9sZCJ9LCJUaGlzIGlzIGEgIixCZS5jYW4oSG0sZSk/ImxvY2tlZCI6ImhpZGRlbiIsIiAiLHBDW3NdLCIgY2hhbm5lbC4iKSxlLmlzTlNGVygpJiZvKFgse3RleHQ6Ik5TRlcifSwoe29uTW91c2VMZWF2ZTpxLG9uTW91c2VFbnRlcjpvZX0pPT5vKCJzdmciLHtvbk1vdXNlTGVhdmU6cSxvbk1vdXNlRW50ZXI6b2UsY2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4taGVhZGluZy1uc2Z3LWljb24iLHdpZHRoOiIzMiIsaGVpZ2h0OiIzMiIsdmlld0JveDoiMCAwIDQ4IDQ4IiwiYXJpYS1oaWRkZW4iOiEwLHJvbGU6ImltZyJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0uNyA0My4wNSAyNCAyLjg1bDIzLjMgNDAuMlptMjMuNTUtNi4yNXEuNzUgMCAxLjI3NS0uNTI1LjUyNS0uNTI1LjUyNS0xLjI3NSAwLS43NS0uNTI1LTEuM3QtMS4yNzUtLjU1cS0uOCAwLTEuMzI1LjU1LS41MjUuNTUtLjUyNSAxLjN0LjU1IDEuMjc1cS41NS41MjUgMS4zLjUyNVptLTEuODUtNi4xaDMuNjVWMTkuNEgyMi40WiJ9KSkpKSwhZS5pc0d1aWxkVm9pY2UoKSYmIWUuaXNHdWlsZFN0YWdlVm9pY2UoKSYmbyhlZSx7dmFyaWFudDoidGV4dC1sZy9ub3JtYWwifSwiWW91IGNhbiBub3Qgc2VlIHRoZSAiLGUuaXNGb3J1bUNoYW5uZWwoKT8icG9zdHMiOiJtZXNzYWdlcyIsIiBvZiB0aGlzIGNoYW5uZWwuIixlLmlzRm9ydW1DaGFubmVsKCkmJmMmJmMubGVuZ3RoPjAmJiIgSG93ZXZlciB5b3UgbWF5IHNlZSBpdHMgZ3VpZGVsaW5lczoiKSxlLmlzRm9ydW1DaGFubmVsKCkmJmMmJmMubGVuZ3RoPjAmJm8oImRpdiIse2NsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLXRvcGljLWNvbnRhaW5lciJ9LEFlLnBhcnNlVG9waWMoYywhMSx7Y2hhbm5lbElkOmJ9KSksdSYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiTGFzdCAiLGUuaXNGb3J1bUNoYW5uZWwoKT8icG9zdCI6Im1lc3NhZ2UiLCIgY3JlYXRlZDoiLG8oQW4se3RpbWVzdGFtcDp0bih1by5leHRyYWN0VGltZXN0YW1wKHUpKX0pKSx5JiZvKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJMYXN0IG1lc3NhZ2UgcGluOiAiLG8oQW4se3RpbWVzdGFtcDp0bih5KX0pKSwoeD8/MCk+MCYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiU2xvd21vZGU6ICIsbmkoeCwic2Vjb25kcyIpKSwoQT8/MCk+MCYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiRGVmYXVsdCB0aHJlYWQgc2xvd21vZGU6ICIsbmkoQSwic2Vjb25kcyIpKSwoZS5pc0d1aWxkVm9pY2UoKXx8ZS5pc0d1aWxkU3RhZ2VWb2ljZSgpKSYmJCE9bnVsbCYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiQml0cmF0ZTogIiwkLCIgYml0cyIpLF8hPT12b2lkIDAmJm8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIlJlZ2lvbjogIixfPz8iQXV0b21hdGljIiksKGUuaXNHdWlsZFZvaWNlKCl8fGUuaXNHdWlsZFN0YWdlVm9pY2UoKSkmJm8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIlZpZGVvIHF1YWxpdHkgbW9kZTogIixmQ1tLPz8xXSksKGg/PzApPjAmJm8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkRlZmF1bHQgaW5hY3Rpdml0eSBkdXJhdGlvbiBiZWZvcmUgYXJjaGl2aW5nICIsZS5pc0ZvcnVtQ2hhbm5lbCgpPyJwb3N0cyI6InRocmVhZHMiLCI6IiwiICIrbmkoaCwibWludXRlcyIpKSxwIT1udWxsJiZvKGVlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJEZWZhdWx0IGxheW91dDogIixtQ1twXSksTiE9bnVsbCYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiRGVmYXVsdCBzb3J0IG9yZGVyOiAiLGRDW05dKSxJIT1udWxsJiZvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1kZWZhdWx0LWVtb2ppLWNvbnRhaW5lciJ9LG8oZWUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkRlZmF1bHQgcmVhY3Rpb24gZW1vamk6IiksQWUuZGVmYXVsdFJ1bGVzW0kuZW1vamlOYW1lPyJlbW9qaSI6ImN1c3RvbUVtb2ppIl0ucmVhY3Qoe25hbWU6SS5lbW9qaU5hbWU/Y0MuY29udmVydFN1cnJvZ2F0ZVRvTmFtZShJLmVtb2ppTmFtZSk6Z24uZ2V0Q3VzdG9tRW1vamlCeUlkKEkuZW1vamlJZCk/Lm5hbWU/PyIiLGVtb2ppSWQ6SS5lbW9qaUlkPz92b2lkIDAsc3Vycm9nYXRlOkkuZW1vamlOYW1lPz92b2lkIDAsc3JjOkkuZW1vamlOYW1lP3VDLmdldFVSTChJLmVtb2ppTmFtZSk6dm9pZCAwfSx2b2lkIDAse2tleToiMCJ9KSksZS5oYXNGbGFnKDE2KSYmbyhlZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiUG9zdHMgb24gdGhpcyBmb3J1bSByZXF1aXJlIGEgdGFnIHRvIGJlIHNldC4iKSxTJiZTLmxlbmd0aD4wJiZvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi10YWdzLWNvbnRhaW5lciJ9LG8oZWUse3ZhcmlhbnQ6InRleHQtbGcvYm9sZCJ9LCJBdmFpbGFibGUgdGFnczoiKSxvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi10YWdzIn0sUy5tYXAocT0+byhsQyx7dGFnOnF9KSkpKSxvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXIifSxvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXItdGl0bGUifSxrLnBsdWdpbnMuUGVybWlzc2lvbnNWaWV3ZXIuZW5hYmxlZCYmbyhYLHt0ZXh0OiJQZXJtaXNzaW9uIERldGFpbHMifSwoe29uTW91c2VMZWF2ZTpxLG9uTW91c2VFbnRlcjpvZX0pPT5vKCJidXR0b24iLHtvbk1vdXNlTGVhdmU6cSxvbk1vdXNlRW50ZXI6b2UsY2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyLXBlcm1kZXRhaWxzLWJ0biIsb25DbGljazooKT0+Q3IocixtZS5nZXRHdWlsZChlLmd1aWxkX2lkKSxlLm5hbWUpfSxvKCJzdmciLHt3aWR0aDoiMjQiLGhlaWdodDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik03IDEyLjAwMUM3IDEwLjg5NjQgNi4xMDQ1NyAxMC4wMDEgNSAxMC4wMDFDMy44OTU0MyAxMC4wMDEgMyAxMC44OTY0IDMgMTIuMDAxQzMgMTMuMTA1NSAzLjg5NTQzIDE0LjAwMSA1IDE0LjAwMUM2LjEwNDU3IDE0LjAwMSA3IDEzLjEwNTUgNyAxMi4wMDFaTTE0IDEyLjAwMUMxNCAxMC44OTY0IDEzLjEwNDYgMTAuMDAxIDEyIDEwLjAwMUMxMC44OTU0IDEwLjAwMSAxMCAxMC44OTY0IDEwIDEyLjAwMUMxMCAxMy4xMDU1IDEwLjg5NTQgMTQuMDAxIDEyIDE0LjAwMUMxMy4xMDQ2IDE0LjAwMSAxNCAxMy4xMDU1IDE0IDEyLjAwMVpNMTkgMTAuMDAxQzIwLjEwNDYgMTAuMDAxIDIxIDEwLjg5NjQgMjEgMTIuMDAxQzIxIDEzLjEwNTUgMjAuMTA0NiAxNC4wMDEgMTkgMTQuMDAxQzE3Ljg5NTQgMTQuMDAxIDE3IDEzLjEwNTUgMTcgMTIuMDAxQzE3IDEwLjg5NjQgMTcuODk1NCAxMC4wMDEgMTkgMTAuMDAxWiJ9KSkpKSxvKGVlLHt2YXJpYW50OiJ0ZXh0LWxnL2JvbGQifSwiQWxsb3dlZCB1c2VycyBhbmQgcm9sZXM6IiksbyhYLHt0ZXh0OnQ/IkhpZGUgQWxsb3dlZCBVc2VycyBhbmQgUm9sZXMiOiJWaWV3IEFsbG93ZWQgVXNlcnMgYW5kIFJvbGVzIn0sKHtvbk1vdXNlTGVhdmU6cSxvbk1vdXNlRW50ZXI6b2V9KT0+bygiYnV0dG9uIix7b25Nb3VzZUxlYXZlOnEsb25Nb3VzZUVudGVyOm9lLGNsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci10b2dnbGUtYnRuIixvbkNsaWNrOigpPT5uKEg9PiFIKX0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQiLHRyYW5zZm9ybTp0PyJzY2FsZSgxIC0xKSI6InNjYWxlKDEgMSkifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNMTYuNTkgOC41OTAwM0wxMiAxMy4xN0w3LjQxIDguNTkwMDNMNiAxMEwxMiAxNkwxOCAxMEwxNi41OSA4LjU5MDAzWiJ9KSkpKSksdCYmbyhVYix7Y2hhbm5lbDplfSkpKSl9dmFyIFViLCRiLGFDLGxDLGNDLHVDLHBDLGRDLG1DLGZDLGdDLEhiLHpiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7c2UoKTtoZSgpO1puKCk7RigpO3coKTtMaSgpO0FpKCk7em0oKTskYj1DKCJhdXRvIiwiY29udGVudCIsInNjcm9sbGVyQmFzZSIpLGFDPUMoImNoYXQiLCJjb250ZW50Iiwibm9DaGF0IiwiY2hhdENvbnRlbnQiKSxsQz1yZSgoKT0+cXQoZT0+e2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iKXJldHVybiExO2xldCB0PUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpO3JldHVybiB0LmluY2x1ZGVzKCIuTWVzc2FnZXMuRk9SVU1fVEFHX0ExMVlfRklMVEVSX0JZX1RBRyIpJiYhdC5pbmNsdWRlcygiaW5jcmVhc2VkQWN0aXZpdHlQaWxsIil9KSksY0M9QygiY29udmVydFN1cnJvZ2F0ZVRvTmFtZSIpLHVDPUMoImdldFVSTCIsImJ1aWxkRW1vamlSZWFjdGlvbkNvbG9yc1BsYXRmb3JtZWQiKSxwQz17WzBdOiJ0ZXh0IixbNV06ImFubm91bmNlbWVudCIsWzE1XToiZm9ydW0iLFsyXToidm9pY2UiLFsxM106InN0YWdlIn0sZEM9e1swXToiTGF0ZXN0IGFjdGl2aXR5IixbMV06IkNyZWF0aW9uIGRhdGUifSxtQz17WzBdOiJOb3Qgc2V0IixbMV06Ikxpc3QgdmlldyIsWzJdOiJHYWxsZXJ5IHZpZXcifSxmQz17WzFdOiJBdXRvbWF0aWMiLFsyXToiNzIwcCJ9LGdDPSIvYXNzZXRzLzQzM2UzZWM0MzE5YTlkMTFiMGNiZTM5MzQyNjE0OTgyLnN2ZyI7SGI9RC53cmFwKGhDKX0pO3ZhciBqYixIbSxqbSxrbyxXbSx6bT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RmIoKTtVKCk7c2UoKTtQKCk7dGkoKTtNKCk7RigpO3coKTt6YigpO2piPUMoImNoYW5uZWxFbW9qaSIsInVucmVhZCIsImljb24iKSxIbT0xbjw8MTBuLGptPTFuPDwyMG4sa289RSh7aGlkZVVucmVhZHM6e2Rlc2NyaXB0aW9uOiJIaWRlIFVucmVhZHMiLHR5cGU6MyxkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9LHNob3dNb2RlOntkZXNjcmlwdGlvbjoiVGhlIG1vZGUgdXNlZCB0byBkaXNwbGF5IGhpZGRlbiBjaGFubmVscy4iLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IlBsYWluIHN0eWxlIHdpdGggTG9jayBJY29uIGluc3RlYWQiLHZhbHVlOjAsZGVmYXVsdDohMH0se2xhYmVsOiJNdXRlZCBzdHlsZSB3aXRoIGhpZGRlbiBleWUgaWNvbiBvbiB0aGUgcmlnaHQiLHZhbHVlOjF9XSxyZXN0YXJ0TmVlZGVkOiEwfSxkZWZhdWx0QWxsb3dlZFVzZXJzQW5kUm9sZXNEcm9wZG93blN0YXRlOntkZXNjcmlwdGlvbjoiV2hldGhlciB0aGUgYWxsb3dlZCB1c2VycyBhbmQgcm9sZXMgZHJvcGRvd24gb24gaGlkZGVuIGNoYW5uZWxzIHNob3VsZCBiZSBvcGVuIGJ5IGRlZmF1bHQiLHR5cGU6MyxkZWZhdWx0OiEwfX0pLFdtPXYoe25hbWU6IlNob3dIaWRkZW5DaGFubmVscyIsZGVzY3JpcHRpb246IlNob3cgY2hhbm5lbHMgdGhhdCB5b3UgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHZpZXcuIixhdXRob3JzOlttLkJpZ0R1Y2ssbS5BdmVyYWdlUmVhY3RFbmpveWVyLG0uRDNTT1gsbS5WZW4sbS5OdWNreXosbS5OaWNreXV4LG0uZHpzaG5dLHNldHRpbmdzOmtvLHBhdGNoZXM6W3tmaW5kOiIuQ2Fubm90U2hvdz0iLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1pc0NoYW5uZWxHYXRlZEFuZFZpc2libGVcKHRoaXNcLnJlY29yZFwuZ3VpbGRfaWQsdGhpc1wucmVjb3JkXC5pZFwpLis/cmVuZGVyTGV2ZWw6KShcaSlcLi4rPyg/PSwpLyxyZXBsYWNlOihlLHQpPT5gdGhpcy5jYXRlZ29yeS5pc0NvbGxhcHNlZD8ke3R9LldvdWxkU2hvd0lmVW5jb2xsYXBzZWQ6JHt0fS5TaG93YH0se21hdGNoOi8oPzw9KGlmXCghXGlcLlxpXC5jYW5cKFxpXC5caVwuVklFV19DSEFOTkVMLis/eylpZlwodGhpc1wuaWQ9PT1caVwpLis/fTspKGlmXCghXGlcLlxpXC5pc0NoYW5uZWxHYXRlZEFuZFZpc2libGVcKC4rP30pKC4rPykoPz1yZXR1cm57cmVuZGVyTGV2ZWw6XGlcLlNob3cuezAsNDB9P3JldHVybiBcaSkvLHJlcGxhY2U6KGUsdCxuLHIpPT5gJHtyfSR7dH0ke259fWB9LHttYXRjaDovKD88PXJlbmRlckxldmVsOihcaVwodGhpcyxcaVwpXD9caVwuU2hvdzpcaVwuV291bGRTaG93SWZVbmNvbGxhcHNlZCkuKz9yZW5kZXJMZXZlbDopLis/KD89LCkvLHJlcGxhY2U6KGUsdCk9PnR9LHttYXRjaDovKD88PWFjdGl2ZUpvaW5lZFJlbGV2YW50VGhyZWFkcy4rP3JlbmRlckxldmVsOi4rPyx0aHJlYWRJZHM6XGlcKHRoaXMucmVjb3JkLis/cmVuZGVyTGV2ZWw6KShcaSlcLi4rPyg/PSwpLyxyZXBsYWNlOihlLHQpPT5gJHt0fS5TaG93YH0se21hdGNoOi8oPzw9Z2V0UmVuZGVyTGV2ZWw9ZnVuY3Rpb24uKz9yZXR1cm4gKS4rP1w/KC4rPyk6XGlcLkNhbm5vdFNob3coPz19KS8scmVwbGFjZTooZSx0KT0+dH1dfSx7ZmluZDoiVm9pY2VDaGFubmVsLCB0cmFuc2l0aW9uVG86IENoYW5uZWwgZG9lcyBub3QgaGF2ZSBhIGd1aWxkSWQiLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1nZXRDdXJyZW50Q2xpZW50Vm9pY2VDaGFubmVsSWRcKChcaSlcLmd1aWxkX2lkXCk7aWZcKCkvLHJlcGxhY2U6KGUsdCk9PmAhJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pJiZgfSx7bWF0Y2g6Lyg/PVx8XHxcaVwuZGVmYXVsdFwuc2VsZWN0Vm9pY2VDaGFubmVsXCgoXGkpXC5pZFwpKS8scmVwbGFjZTooZSx0KT0+YHx8JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pYH0se21hdGNoOi8hX19PVkVSTEFZX18mJlwoKD88PXNlbGVjdFZvaWNlQ2hhbm5lbFwoKFxpKVwuaWRcKS4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0sdHJ1ZSl8fGB9XX0se2ZpbmQ6IlZvaWNlQ2hhbm5lbC5yZW5kZXJQb3BvdXQ6IFRoZXJlIG11c3QgYWx3YXlzIGJlIHNvbWV0aGluZyB0byByZW5kZXIiLHJlcGxhY2VtZW50OlsuLi5bInJlbmRlckVkaXRCdXR0b24iLCJyZW5kZXJJbnZpdGVCdXR0b24iLCJyZW5kZXJPcGVuQ2hhdEJ1dHRvbiJdLm1hcChlPT4oe21hdGNoOm5ldyBSZWdFeHAoYCg/PD0ke2V9PWZ1bmN0aW9uXFwoXFwpeylgLCJnIikscmVwbGFjZToiaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHRoaXMucHJvcHMuY2hhbm5lbCkpcmV0dXJuIG51bGw7In0pKV19LHtmaW5kOiIuTWVzc2FnZXMuQ0hBTk5FTF9UT09MVElQX0RJUkVDVE9SWSIscHJlZGljYXRlOigpPT5rby5zdG9yZS5zaG93TW9kZT09PTAscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz1zd2l0Y2hcKChcaSlcLnR5cGVcKS57MCwzMH1cLkdVSUxEX0FOTk9VTkNFTUVOVC57MCwzMH1cKDAsXGlcLlxpXCkpLyxyZXBsYWNlOihlLHQpPT5gaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pKXJldHVybiAkc2VsZi5Mb2NrSWNvbjtgfX0se2ZpbmQ6Ii5VTlJFQURfSElHSExJR0hUIixwcmVkaWNhdGU6KCk9PmtvLnN0b3JlLnNob3dNb2RlPT09MSxyZXBsYWNlbWVudDpbe21hdGNoOi8oPzw9XGlcLm5hbWUsXGk9KSg/PShcaSlcLm11dGVkKS8scmVwbGFjZTooZSx0KT0+YCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9LmNoYW5uZWwpP3RydWU6YH0se21hdGNoOi9cKFwpLmNoaWxkcmVuLis/Om51bGwoPzw9KFxpKT1caVwuY2hhbm5lbCwuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSwkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSk/JHNlbGYuSGlkZGVuQ2hhbm5lbEljb24oKTpudWxsYH0se21hdGNoOi8oPzw9XC53cmFwcGVyOlxpXChcKVwubm90SW50ZXJhY3RpdmUsKSguKz8pKChcaSlcP1xpXC5NVVRFRCkvLHJlcGxhY2U6KGUsdCxuLHIpPT5gJHtufToiIiwke3R9JHtyfT8iImB9XX0se2ZpbmQ6Ii5VTlJFQURfSElHSExJR0hUIixyZXBsYWNlbWVudDpbe3ByZWRpY2F0ZTooKT0+a28uc3RvcmUuaGlkZVVucmVhZHM9PT0hMSYma28uc3RvcmUuc2hvd01vZGU9PT0xLG1hdGNoOi9cLkxPQ0tFRDpcaSg/PD0oXGkpPVxpXC5jaGFubmVsLC4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JiYhJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pYH0se3ByZWRpY2F0ZTooKT0+a28uc3RvcmUuaGlkZVVucmVhZHM9PT0hMCxtYXRjaDovKD88PVxpXC5jb25uZWN0ZWQsXGk9KSg/PShcaSlcLnVucmVhZCkvLHJlcGxhY2U6KGUsdCk9PmAkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fS5jaGFubmVsKT9mYWxzZTpgfV19LHtmaW5kOicuZGlzcGxheU5hbWU9IkNoYW5uZWxMaXN0VW5yZWFkc1N0b3JlIicscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9cmV0dXJuIG51bGwhPShcaSkpKD89LnswLDEzMH0/aGFzUmVsZXZhbnRVbnJlYWRcKFxpXCkpL2cscmVwbGFjZTooZSx0KT0+YCYmISRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KWB9fSx7ZmluZDoiTWlzc2luZyBjaGFubmVsIGluIENoYW5uZWwucmVuZGVySGVhZGVyVG9vbGJhciIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PXJlbmRlckhlYWRlclRvb2xiYXI9ZnVuY3Rpb24uKz9jYXNlIFxpXC5caVwuR1VJTERfVEVYVDopKD89Lis/OyguKz97Y2hhbm5lbDooXGkpfSwibm90aWZpY2F0aW9ucyJcKVwpOykpLyxyZXBsYWNlOihlLHQsbik9PmBpZigkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHtufSkpeyR7dH1icmVhazt9YH0se21hdGNoOi8oPzw9cmVuZGVySGVhZGVyVG9vbGJhcj1mdW5jdGlvbi4rP2Nhc2UgXGlcLlxpXC5HVUlMRF9GT1JVTTouKz9pZlwoIVxpXCl7KSg/PS4rPzsoLis/e2NoYW5uZWw6KFxpKX0sIm5vdGlmaWNhdGlvbnMiXClcKSkpLyxyZXBsYWNlOihlLHQsbik9PmBpZigkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHtufSkpeyR7dH07YnJlYWs7fWB9LHttYXRjaDovcmVuZGVyTW9iaWxlVG9vbGJhcj1mdW5jdGlvbi4rP2Nhc2UgXGlcLlxpXC5HVUlMRF9GT1JVTTooPzw9KFxpKVwucmVuZGVyTW9iaWxlVG9vbGJhci4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9aWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0ucHJvcHMuY2hhbm5lbCkpYnJlYWs7YH0se21hdGNoOi8oPzw9cmVuZGVySGVhZGVyQmFyPWZ1bmN0aW9uLis/aGlkZVNlYXJjaDooXGkpXC5pc0RpcmVjdG9yeVwoXCkpLyxyZXBsYWNlOihlLHQpPT5gfHwkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSlgfSx7bWF0Y2g6Lyg/PD1yZW5kZXJTaWRlYmFyPWZ1bmN0aW9uXChcKXspLyxyZXBsYWNlOiJpZigkc2VsZi5pc0hpZGRlbkNoYW5uZWwodGhpcy5wcm9wcy5jaGFubmVsKSlyZXR1cm4gbnVsbDsifSx7bWF0Y2g6Lyg/PD1yZW5kZXJDaGF0PWZ1bmN0aW9uXChcKXspLyxyZXBsYWNlOiJpZigkc2VsZi5pc0hpZGRlbkNoYW5uZWwodGhpcy5wcm9wcy5jaGFubmVsKSlyZXR1cm4gJHNlbGYuSGlkZGVuQ2hhbm5lbExvY2tTY3JlZW4odGhpcy5wcm9wcy5jaGFubmVsKTsifV19LHtmaW5kOiciTWVzc2FnZU1hbmFnZXIiJyxyZXBsYWNlbWVudDp7bWF0Y2g6LyJTa2lwcGluZyBmZXRjaCBiZWNhdXNlIGNoYW5uZWxJZCBpcyBhIHN0YXRpYyByb3V0ZSJcKTtlbHNleyg/PS4rP2dldENoYW5uZWxcKChcaSlcKSkvLHJlcGxhY2U6KGUsdCk9PmAke2V9aWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHtjaGFubmVsSWQ6JHt0fX0pKXJldHVybjtgfX0se2ZpbmQ6JyJhbHQrc2hpZnQrZG93biInLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWdldENoYW5uZWxcKFxpXCk7cmV0dXJuIG51bGwhPShcaSkpKD89LnswLDEzMH0/aGFzUmVsZXZhbnRVbnJlYWRcKFxpXCkpLyxyZXBsYWNlOihlLHQpPT5gJiYhJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pYH19LHtmaW5kOiciYWx0K2Rvd24iJyxyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1nZXRTdGF0ZVwoXClcLmNoYW5uZWxJZC57MCwzMH0/XCgwLFxpXC5caVwpXChcaVwpKSg/PVwubWFwXCgpLyxyZXBsYWNlOiIuZmlsdGVyKGNoPT4hJHNlbGYuaXNIaWRkZW5DaGFubmVsKGNoKSkifX0se2ZpbmQ6Ii5NZXNzYWdlcy5ST0xFX1JFUVVJUkVEX1NJTkdMRV9VU0VSX01FU1NBR0UiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2NvbXB1dGVQZXJtaXNzaW9uc0ZvclJvbGVzLis/fVwpfSg/PD1mdW5jdGlvbiAoXGkpXCguKz8pKD89dmFyKS8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5zZXRDaGFubmVsQmVnaW5IZWFkZXJDb21wb25lbnQoJHt0fSk7YH0se21hdGNoOi9BRE1JTklTVFJBVE9SXClcfFx8KD88PWNvbnRleHQ6KFxpKX0uKz8pKD89KC4rPylWSUVXX0NIQU5ORUwpLyxyZXBsYWNlOihlLHQsbik9PmAke2V9IVZlbmNvcmQuV2VicGFjay5Db21tb24uUGVybWlzc2lvblN0b3JlLmNhbigke2ptfW4sJHt0fSk/JHtufUNPTk5FQ1QpOmB9LHttYXRjaDovcGVybWlzc2lvbk92ZXJ3cml0ZXNcWy4rP1xpPSg/PD1jb250ZXh0OihcaSl9Lis/KSg/PSguKz8pVklFV19DSEFOTkVMKS8scmVwbGFjZTooZSx0LG4pPT5gJHtlfSFWZW5jb3JkLldlYnBhY2suQ29tbW9uLlBlcm1pc3Npb25TdG9yZS5jYW4oJHtqbX1uLCR7dH0pPyR7bn1DT05ORUNUKTpgfSx7bWF0Y2g6L3NvcnRCeS57MCwxMDB9P3JldHVybiAoPzw9dmFyIChcaSk9XGlcLmNoYW5uZWwuKz8pKD89XGlcLmlkKS8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSk/dHJ1ZTpgfSx7bWF0Y2g6L2NvbXB1dGVQZXJtaXNzaW9uc0ZvclJvbGVzLis/LnZhbHVlXChcKSg/PD12YXIgKFxpKT1caVwuY2hhbm5lbC4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9LnJlZHVjZSguLi4kc2VsZi5tYWtlQWxsb3dlZFJvbGVzUmVkdWNlKCR7dH0uZ3VpbGRfaWQpKWB9LHttYXRjaDovTUFOQUdFX1JPTEVTLnswLDYwfT9yZXR1cm4oPz1cKC4rPyhcKDAsXGlcLmpzeHNcKVwoImRpdiIse2NsYXNzTmFtZTpcaVwoXClcLm1lbWJlcnMuKz9ndWlsZElkOihcaSlcLmd1aWxkX2lkLis/cm9sZUNvbG9yLis/XX1cKSkpLyxyZXBsYWNlOihlLHQsbik9Pih0PXQucmVwbGFjZSh6bygvKD88PXVzZXJzOlxpKS8pLGAsY2hhbm5lbDoke259YCksdD10LnJlcGxhY2Uoem8oLzEhPT1caVwubGVuZ3RoLyksInRydWUiKSxgJHtlfSAkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHtufSx0cnVlKT8ke3R9OmApfV19LHtmaW5kOiIoKS5hdmF0YXJzKSxjaGlsZHJlbiIscmVwbGFjZW1lbnQ6W3ttYXRjaDovPShcaSlcLm1heFVzZXJzLC8scmVwbGFjZTooZSx0KT0+YCR7ZX1jaGFubmVsPSR7dH0uY2hhbm5lbCxgfSx7bWF0Y2g6L1xpPjAoPz0mJi57MCw2MH1yZW5kZXJQb3BvdXQpLyxyZXBsYWNlOmU9PmAoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHR5cGVvZiBjaGFubmVsIT09InVuZGVmaW5lZCI/Y2hhbm5lbDp2b2lkIDAsdHJ1ZSk/dHJ1ZToke2V9KWB9LHttYXRjaDovKD88PVwudmFsdWVcKFwpLChcaSk9Lis/bGVuZ3RoLSkxKD89XF09LnswLDYwfXJlbmRlclBvcG91dCkvLHJlcGxhY2U6KGUsdCk9PmAoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHR5cGVvZiBjaGFubmVsIT09InVuZGVmaW5lZCI/Y2hhbm5lbDp2b2lkIDAsdHJ1ZSkmJiR7dH08PTA/MDoxKWB9LHttYXRjaDovKD88PSJcKyIsKShcaSlcKzEvLHJlcGxhY2U6KGUsdCk9PmAkc2VsZi5pc0hpZGRlbkNoYW5uZWwodHlwZW9mIGNoYW5uZWwhPT0idW5kZWZpbmVkIj9jaGFubmVsOnZvaWQgMCx0cnVlKSYmJHt0fTw9MD8iIjoke2V9YH1dfSx7ZmluZDoiLk1lc3NhZ2VzLlNIT1dfQ0hBVCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovIm1vcmUtb3B0aW9ucy1wb3BvdXQiXClcKTtpZlwoKD88PWZ1bmN0aW9uIFxpXCgoXGkpXCkuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSEke3R9LmluQ2FsbCYmJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0uY2hhbm5lbCx0cnVlKSl7fWVsc2UgaWYoYH0se21hdGNoOi8icG9wdXAiLnswLDEwMH0/aWZcKCg/PD0oXGkpXC5jaGFubmVsLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0oJHt0fS5pbkNhbGx8fCEkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fS5jaGFubmVsLHRydWUpKSYmYH0se21hdGNoOi90aGlzXC5yZW5kZXJWb2ljZUNoYW5uZWxFZmZlY3RzLis/Y2hpbGRyZW46KD88PXJlbmRlckNvbnRlbnQ9ZnVuY3Rpb24uKz8pLyxyZXBsYWNlOiIkJiF0aGlzLnByb3BzLmluQ2FsbCYmJHNlbGYuaXNIaWRkZW5DaGFubmVsKHRoaXMucHJvcHMuY2hhbm5lbCx0cnVlKT8kc2VsZi5IaWRkZW5DaGFubmVsTG9ja1NjcmVlbih0aGlzLnByb3BzLmNoYW5uZWwpOiJ9LHttYXRjaDovdGhpc1wucmVuZGVyVm9pY2VDaGFubmVsRWZmZWN0cy4rP2Rpc2FibGVHcmFkaWVudHM6KD88PXJlbmRlckNvbnRlbnQ9ZnVuY3Rpb24uKz8pLyxyZXBsYWNlOiIkJiF0aGlzLnByb3BzLmluQ2FsbCYmJHNlbGYuaXNIaWRkZW5DaGFubmVsKHRoaXMucHJvcHMuY2hhbm5lbCx0cnVlKXx8In0se21hdGNoOi8oPzp7fCwpcmVuZGVyKD8hSGVhZGVyfEV4dGVybmFsSGVhZGVyKS57MCwzMH0/Oig/PD1yZW5kZXJDb250ZW50PWZ1bmN0aW9uLis/KSg/IXZvaWQpL2cscmVwbGFjZToiJCYhdGhpcy5wcm9wcy5pbkNhbGwmJiRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0aGlzLnByb3BzLmNoYW5uZWwsdHJ1ZSk/bnVsbDoifSx7bWF0Y2g6L2NhbGxDb250YWluZXIsKD88PVwoXClcLmNhbGxDb250YWluZXIsKS8scmVwbGFjZTonJCYhdGhpcy5wcm9wcy5pbkNhbGwmJiRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0aGlzLnByb3BzLmNoYW5uZWwsdHJ1ZSk/IiI6J31dfSx7ZmluZDoidXNlTm90aWZpY2F0aW9uU2V0dGluZ3NJdGVtOiBjaGFubmVsIGNhbm5vdCBiZSB1bmRlZmluZWQiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyIxMjRweCIuKz9jaGlsZHJlbjooPzw9dmFyIChcaSk9XGlcLmNoYW5uZWwuKz8pKD89LnswLDIwfT99XCl9ZnVuY3Rpb24pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KT8kc2VsZi5IaWRkZW5DaGFubmVsTG9ja1NjcmVlbigke3R9KTpgfSx7bWF0Y2g6L3JlbmRlcig/OkJvdHRvbUxlZnR8Qm90dG9tQ2VudGVyfEJvdHRvbVJpZ2h0fENoYXRUb2FzdHMpOig/PD12YXIgKFxpKT1caVwuY2hhbm5lbC4rPykvZyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KT9udWxsOmB9LHttYXRjaDovIjEyNHB4Ii4rP2Rpc2FibGVHcmFkaWVudHM6KD88PShcaSlcLmdldEd1aWxkSWRcKFwpLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSl8fGB9LHttYXRjaDovIjEyNHB4Ii4rP3N0eWxlOig/PD0oXGkpXC5nZXRHdWlsZElkXChcKS4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pP3ZvaWQgMDpgfSx7bWF0Y2g6L1woMCxcaVwuanN4XClcKFxpXC5caVwuRGl2aWRlci4rP31cKV19XCkoPz0uKz86KFxpKVwuZ3VpbGRfaWQpLyxyZXBsYWNlOihlLHQpPT5gJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pP251bGw6KCR7ZX0pYH0se21hdGNoOi8icmVjZW50cyIuKz8mJig/PVwoLis/Y2hhbm5lbElkOihcaSlcLmlkLHNob3dSZXF1ZXN0VG9TcGVha1NpZGViYXIpLyxyZXBsYWNlOihlLHQpPT5gJHtlfSEkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSkmJmB9XX0se2ZpbmQ6JyJeL2d1aWxkLXN0YWdlcy8oXFxcXGQrKSg/Oi8pPyhcXFxcZCspPyInLHJlcGxhY2VtZW50OnttYXRjaDovXGlcLlxpXC5jYW5cKFxpXC5caVwuVklFV19DSEFOTkVMLFxpXCkvLHJlcGxhY2U6InRydWUifX0se2ZpbmQ6Ii5zaG91bGRDbG9zZURlZmF1bHRNb2RhbHMiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWdldENoYW5uZWxcKChcaSlcKVwpKD89LnswLDEwMH0/c2VsZWN0Vm9pY2VDaGFubmVsKSkvLHJlcGxhY2U6KGUsdCk9PmAmJiEkc2VsZi5pc0hpZGRlbkNoYW5uZWwoe2NoYW5uZWxJZDoke3R9fSlgfX0se2ZpbmQ6Jy5kaXNwbGF5TmFtZT0iR3VpbGRDaGFubmVsU3RvcmUiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9pc0NoYW5uZWxHYXRlZFwoLis/XCkoPz1cfFx8KS8scmVwbGFjZTplPT5gJHtlfXx8dHJ1ZWB9LHttYXRjaDovKD88PWdldENoYW5uZWxzPWZ1bmN0aW9uXChcaSlcKS4rPyg/PXJldHVybiAoXGkpfSkvLHJlcGxhY2U6KGUsdCk9PmAsc2hvdWxkSW5jbHVkZUhpZGRlbj1mYWxzZSR7ZX0ke3R9PSRzZWxmLnJlc29sdmVHdWlsZENoYW5uZWxzKCR7dH0sc2hvdWxkSW5jbHVkZUhpZGRlbik7YH1dfSx7ZmluZDoiLk1lc3NhZ2VzLkZPUk1fTEFCRUxfTVVURUQiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWdldENoYW5uZWxzXChcaSkoPz1cKSkvLHJlcGxhY2U6Iix0cnVlIn19LHtmaW5kOicuZGlzcGxheU5hbWU9Ik5vd1BsYXlpbmdWaWV3U3RvcmUiJyxyZXBsYWNlbWVudDp7bWF0Y2g6LyhnZXRWb2ljZVN0YXRlRm9yVXNlci57MCwxNTB9PykmJlxpXC5caVwuY2FuV2l0aFBhcnRpYWxDb250ZXh0LnswLDIwfVZJRVdfQ0hBTk5FTC4rP31cKSg/PVw/KS8scmVwbGFjZToiJDEifX1dLHNldENoYW5uZWxCZWdpbkhlYWRlckNvbXBvbmVudDpHYixpc0hpZGRlbkNoYW5uZWwoZSx0PSExKXtyZXR1cm4hZXx8KGUuY2hhbm5lbElkJiYoZT10ZS5nZXRDaGFubmVsKGUuY2hhbm5lbElkKSksIWV8fGUuaXNETSgpfHxlLmlzR3JvdXBETSgpfHxlLmlzTXVsdGlVc2VyRE0oKSk/ITE6IUJlLmNhbihIbSxlKXx8dCYmIUJlLmNhbihqbSxlKX0scmVzb2x2ZUd1aWxkQ2hhbm5lbHMoZSx0KXtpZih0KXJldHVybiBlO2xldCBuPXt9O2ZvcihsZXRbcixpXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZighQXJyYXkuaXNBcnJheShpKSl7bltyXT1pO2NvbnRpbnVlfW5bcl0/Pz1bXTtmb3IobGV0IHMgb2YgaSkocy5jaGFubmVsLmlkPT09bnVsbHx8IXRoaXMuaXNIaWRkZW5DaGFubmVsKHMuY2hhbm5lbCkpJiZuW3JdLnB1c2gocyl9cmV0dXJuIG59LG1ha2VBbGxvd2VkUm9sZXNSZWR1Y2UoZSl7cmV0dXJuWyh0LG4scixpKT0+e2lmKHIhPT0wKXJldHVybiB0O2xldCBzPWkuZmluZChjPT5jLmlkPT09ZSk7cmV0dXJuIHM/W3NdOml9LFtdXX0sSGlkZGVuQ2hhbm5lbExvY2tTY3JlZW46ZT0+byhIYix7Y2hhbm5lbDplfSksTG9ja0ljb246RC53cmFwKCgpPT5vKCJzdmciLHtjbGFzc05hbWU6amIuaWNvbixoZWlnaHQ6IjE4Iix3aWR0aDoiMjAiLHZpZXdCb3g6IjAgMCAyNCAyNCIsImFyaWEtaGlkZGVuIjohMCxyb2xlOiJpbWcifSxvKCJwYXRoIix7Y2xhc3NOYW1lOiJzaGMtZXZlbm9kZC1maWxsLWN1cnJlbnQtY29sb3IiLGQ6Ik0xNyAxMVY3QzE3IDQuMjQzIDE0Ljc1NiAyIDEyIDJDOS4yNDIgMiA3IDQuMjQzIDcgN1YxMUM1Ljg5NyAxMSA1IDExLjg5NiA1IDEzVjIwQzUgMjEuMTAzIDUuODk3IDIyIDcgMjJIMTdDMTguMTAzIDIyIDE5IDIxLjEwMyAxOSAyMFYxM0MxOSAxMS44OTYgMTguMTAzIDExIDE3IDExWk0xMiAxOEMxMS4xNzIgMTggMTAuNSAxNy4zMjggMTAuNSAxNi41QzEwLjUgMTUuNjcyIDExLjE3MiAxNSAxMiAxNUMxMi44MjggMTUgMTMuNSAxNS42NzIgMTMuNSAxNi41QzEzLjUgMTcuMzI4IDEyLjgyOCAxOCAxMiAxOFpNMTUgMTFIOVY3QzkgNS4zNDYgMTAuMzQ2IDQgMTIgNEMxMy42NTQgNCAxNSA1LjM0NiAxNSA3VjExWiJ9KSkse25vb3A6ITB9KSxIaWRkZW5DaGFubmVsSWNvbjpELndyYXAoKCk9Pm8oWCx7dGV4dDoiSGlkZGVuIENoYW5uZWwifSwoe29uTW91c2VMZWF2ZTplLG9uTW91c2VFbnRlcjp0fSk9Pm8oInN2ZyIse29uTW91c2VMZWF2ZTplLG9uTW91c2VFbnRlcjp0LGNsYXNzTmFtZTpqYi5pY29uKyIgc2hjLWhpZGRlbi1jaGFubmVsLWljb24iLHdpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0IiwiYXJpYS1oaWRkZW4iOiEwLHJvbGU6ImltZyJ9LG8oInBhdGgiLHtjbGFzc05hbWU6InNoYy1ldmVub2RkLWZpbGwtY3VycmVudC1jb2xvciIsZDoibTE5LjggMjIuNi00LjItNC4xNXEtLjg3NS4yNzUtMS43NjIuNDEzUTEyLjk1IDE5IDEyIDE5cS0zLjc3NSAwLTYuNzI1LTIuMDg3UTIuMzI1IDE0LjgyNSAxIDExLjVxLjUyNS0xLjMyNSAxLjMyNS0yLjQ2M1EzLjEyNSA3LjkgNC4xNSA3TDEuNCA0LjJsMS40LTEuNCAxOC40IDE4LjRaTTEyIDE2cS4yNzUgMCAuNTEyLS4wMjUuMjM4LS4wMjUuNTEzLS4xbC01LjQtNS40cS0uMDc1LjI3NS0uMS41MTMtLjAyNS4yMzctLjAyNS41MTIgMCAxLjg3NSAxLjMxMiAzLjE4OFExMC4xMjUgMTYgMTIgMTZabTcuMy40NS0zLjE3NS0zLjE1cS4xNzUtLjQyNS4yNzUtLjg2Mi4xLS40MzguMS0uOTM4IDAtMS44NzUtMS4zMTItMy4xODhRMTMuODc1IDcgMTIgN3EtLjUgMC0uOTM4LjEtLjQzNy4xLS44NjIuM0w3LjY1IDQuODVxMS4wMjUtLjQyNSAyLjEtLjYzOFExMC44MjUgNCAxMiA0cTMuNzc1IDAgNi43MjUgMi4wODdRMjEuNjc1IDguMTc1IDIzIDExLjVxLS41NzUgMS40NzUtMS41MTIgMi43MzhRMjAuNTUgMTUuNSAxOS4zIDE2LjQ1Wm0tNC42MjUtNC42LTMtM3EuNy0uMTI1IDEuMjg4LjExMi41ODcuMjM4IDEuMDEyLjY4OC40MjUuNDUuNjEzIDEuMDM4LjE4Ny41ODcuMDg3IDEuMTYyWiJ9KSkpLHtub29wOiEwfSl9KX0pO3ZhciBXYj1nKCgpPT57fSk7dmFyIG9sLHFtLHFiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtXYigpO1UoKTtQKCk7TSgpO29sPUUoe21vZGU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiSG93IHRvIGRpc3BsYXkgdXNlcm5hbWVzIGFuZCBuaWNrcyIsb3B0aW9uczpbe2xhYmVsOiJVc2VybmFtZSB0aGVuIG5pY2tuYW1lIix2YWx1ZToidXNlci1uaWNrIixkZWZhdWx0OiEwfSx7bGFiZWw6Ik5pY2tuYW1lIHRoZW4gdXNlcm5hbWUiLHZhbHVlOiJuaWNrLXVzZXIifSx7bGFiZWw6IlVzZXJuYW1lIG9ubHkiLHZhbHVlOiJ1c2VyIn1dfSxpblJlcGxpZXM6e3R5cGU6MyxkZWZhdWx0OiExLGRlc2NyaXB0aW9uOiJBbHNvIGFwcGx5IGZ1bmN0aW9uYWxpdHkgdG8gcmVwbHkgcHJldmlld3MifX0pLHFtPXYoe25hbWU6IlNob3dNZVlvdXJOYW1lIixkZXNjcmlwdGlvbjoiRGlzcGxheSB1c2VybmFtZXMgbmV4dCB0byBuaWNrcywgb3Igbm8gbmlja3MgYXQgYWxsIixhdXRob3JzOlttLmR6c2huXSxwYXRjaGVzOlt7ZmluZDoiLndpdGhNZW50aW9uUHJlZml4IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1vbkNvbnRleHRNZW51OlxpLGNoaWxkcmVuOilcaVwrXGkvLHJlcGxhY2U6IiRzZWxmLnJlbmRlclVzZXJuYW1lKGFyZ3VtZW50c1swXSkifX1dLHNldHRpbmdzOm9sLHJlbmRlclVzZXJuYW1lOih7YXV0aG9yOmUsbWVzc2FnZTp0LGlzUmVwbGllZE1lc3NhZ2U6bix3aXRoTWVudGlvblByZWZpeDpyfSk9PntpZih0LmludGVyYWN0aW9uKXJldHVybiBlPy5uaWNrO3RyeXtsZXR7dXNlcm5hbWU6aX09dC5hdXRob3Ise25pY2s6c309ZSxjPXI/IkAiOiIiO3JldHVybiBpPT09c3x8biYmIW9sLnN0b3JlLmluUmVwbGllcz9jK3M6b2wuc3RvcmUubW9kZT09PSJ1c2VyLW5pY2siP28oZCxudWxsLGMsaSwiICIsbygic3BhbiIse2NsYXNzTmFtZToidmMtc215bi1zdWZmaXgifSxzKSk6b2wuc3RvcmUubW9kZT09PSJuaWNrLXVzZXIiP28oZCxudWxsLGMscywiICIsbygic3BhbiIse2NsYXNzTmFtZToidmMtc215bi1zdWZmaXgifSxpKSk6YytpfWNhdGNoe3JldHVybiBlPy5uaWNrfX19KX0pO2Z1bmN0aW9uIHlDKGUpe2xldFt0LG5dPUwudXNlU3RhdGUoS20pO2Z1bmN0aW9uIHIoaSl7WW0uc3RvcmUucGVyc2lzdFN0YXRlJiYoS209aSksbihpKX1yZXR1cm4gTC51c2VFZmZlY3QoKCk9PntsZXQgaT0ocyxjKT0+e3QmJihZbS5zdG9yZS5hdXRvRGlzYWJsZSYmcighMSksYy5jb250ZW50LnN0YXJ0c1dpdGgoIkBzaWxlbnQgIil8fChjLmNvbnRlbnQ9IkBzaWxlbnQgIitjLmNvbnRlbnQpKX07cmV0dXJuIEx0KGkpLCgpPT52b2lkIEV0KGkpfSxbdF0pLGUudHlwZS5hbmFseXRpY3NOYW1lIT09Im5vcm1hbCI/bnVsbDpvKFgse3RleHQ6dD8iRGlzYWJsZSBTaWxlbnQgTWVzc2FnZSI6IkVuYWJsZSBTaWxlbnQgTWVzc2FnZSJ9LGk9Pm8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJmbGV4In19LG8oUix7Li4uaSxvbkNsaWNrOigpPT5yKCF0KSxzaXplOiIiLGxvb2s6ZW4uQkxBTkssaW5uZXJDbGFzc05hbWU6Z3QuYnV0dG9uLHN0eWxlOntwYWRkaW5nOiIwIDZweCJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJnIix7ZmlsbDoiY3VycmVudENvbG9yIn0sbygicGF0aCIse2Q6Ik0xOCAxMC43MTAxQzE1LjEwODUgOS44NDk1NyAxMyA3LjE3MTAyIDEzIDRDMTMgMy42OTI2NCAxMy4wMTk4IDMuMzg5OSAxMy4wNTgyIDMuMDkzQzEyLjcxNDcgMy4wMzE4OSAxMi4zNjExIDMgMTIgM0M4LjY4NiAzIDYgNS42ODYgNiA5VjE0QzYgMTUuNjU3IDQuNjU2IDE3IDMgMTdWMThIMjFWMTdDMTkuMzQ0IDE3IDE4IDE1LjY1NyAxOCAxNFYxMC43MTAxWk04LjU1NDkzIDE5QzkuMjQ3OTMgMjAuMTkgMTAuNTIzOSAyMSAxMS45OTk5IDIxQzEzLjQ3NTkgMjEgMTQuNzUxOSAyMC4xOSAxNS40NDQ5IDE5SDguNTU0OTNaIn0pLG8oInBhdGgiLHtkOiJNMTguMjYyNCA1LjUwMjA5TDIxIDIuNVYxSDE2LjAzNDlWMi40OTc5MUgxOC40NzZMMTYgNS42MTA4OFY3SDIxVjUuNTAyMDlIMTguMjYyNFoifSksIXQmJm8oImxpbmUiLHt4MToiMjIiLHkxOiIyIix4MjoiMiIseTI6IjIyIixzdHJva2U6InZhcigtLXJlZC01MDApIiwic3Ryb2tlLXdpZHRoIjoiMi41In0pKSkpKSkpfXZhciBLbSxZbSxabSxLYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JG4oKTtVKCk7c2UoKTtQKCk7TSgpO3coKTtLbT0hMSxZbT1FKHtwZXJzaXN0U3RhdGU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiV2hldGhlciB0byBwZXJzaXN0IHRoZSBzdGF0ZSBvZiB0aGUgc2lsZW50IG1lc3NhZ2UgdG9nZ2xlIHdoZW4gY2hhbmdpbmcgY2hhbm5lbHMiLGRlZmF1bHQ6ITEsb25DaGFuZ2UoZSl7ZT09PSExJiYoS209ITEpfX0sYXV0b0Rpc2FibGU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiQXV0b21hdGljYWxseSBkaXNhYmxlIHRoZSBzaWxlbnQgbWVzc2FnZSB0b2dnbGUgYWdhaW4gYWZ0ZXIgc2VuZGluZyBvbmUiLGRlZmF1bHQ6ITB9fSk7Wm09dih7bmFtZToiU2lsZW50TWVzc2FnZVRvZ2dsZSIsYXV0aG9yczpbbS5OdWNreXosbS5DYXROb2lyXSxkZXNjcmlwdGlvbjoiQWRkcyBhIGJ1dHRvbiB0byB0aGUgY2hhdCBiYXIgdG8gdG9nZ2xlIHNlbmRpbmcgYSBzaWxlbnQgbWVzc2FnZS4iLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VFdmVudHNBUEkiXSxzZXR0aW5nczpZbSxwYXRjaGVzOlt7ZmluZDoiLmFjdGl2ZUNvbW1hbmRPcHRpb24iLHJlcGxhY2VtZW50OnttYXRjaDovImdpZnQiXClcKTsoPzw9KFxpKVwucHVzaC4rP2Rpc2FibGVkOihcaSksLis/KS8scmVwbGFjZTooZSx0LG4pPT5gJHtlfTt0cnl7JHtufXx8JHt0fS5wdXNoKCRzZWxmLlNpbGVudE1lc3NhZ2VUb2dnbGUoYXJndW1lbnRzWzBdKSk7fWNhdGNoe31gfX1dLFNpbGVudE1lc3NhZ2VUb2dnbGU6RC53cmFwKHlDLHtub29wOiEwfSl9KX0pO2Z1bmN0aW9uIHZDKGUpe2xldHtpc0VuYWJsZWQ6dH09aW8udXNlKFsiaXNFbmFibGVkIl0pLG49KCk9PmlvLnN0b3JlLmlzRW5hYmxlZD0haW8uc3RvcmUuaXNFbmFibGVkO3JldHVybiBlLnR5cGUuYW5hbHl0aWNzTmFtZSE9PSJub3JtYWwiP251bGw6byhYLHt0ZXh0OnQ/IkRpc2FibGUgU2lsZW50IFR5cGluZyI6IkVuYWJsZSBTaWxlbnQgVHlwaW5nIn0scj0+bygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImZsZXgifX0sbyhSLHsuLi5yLG9uQ2xpY2s6bixzaXplOiIiLGxvb2s6ZW4uQkxBTkssaW5uZXJDbGFzc05hbWU6Z3QuYnV0dG9uLHN0eWxlOntwYWRkaW5nOiIwIDZweCJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCA1NzYgNTEyIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTUyOCA0NDhINDhjLTI2LjUxIDAtNDgtMjEuNDktNDgtNDhWMTEyYzAtMjYuNTEgMjEuNDktNDggNDgtNDhoNDgwYzI2LjUxIDAgNDggMjEuNDkgNDggNDh2Mjg4YzAgMjYuNTEtMjEuNDkgNDgtNDggNDh6TTEyOCAxODB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJINzZjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTk2IDB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptOTYgMHYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMmgtNDBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bS0zMzYgOTZ2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptOTYgMHYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMmgtNDBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTk2IDB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptLTMzNiA5NnYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMkg3NmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTI4OCAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEySDE3MmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDIzMmM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6In0pLHQmJm8oInBhdGgiLHtkOiJNMTMgNDMyTDU5MCA0OCIsc3Ryb2tlOiJ2YXIoLS1yZWQtNTAwKSIsInN0cm9rZS13aWR0aCI6IjcyIiwic3Ryb2tlLWxpbmVjYXAiOiJyb3VuZCJ9KSkpKSkpfXZhciBpbyxYbSxZYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtVKCk7c2UoKTtQKCk7TSgpO3coKTtpbz1FKHtzaG93SWNvbjp7dHlwZTozLGRlZmF1bHQ6ITEsZGVzY3JpcHRpb246IlNob3cgYW4gaWNvbiBmb3IgdG9nZ2xpbmcgdGhlIHBsdWdpbiIscmVzdGFydE5lZWRlZDohMH0saXNFbmFibGVkOnt0eXBlOjMsZGVzY3JpcHRpb246IlRvZ2dsZSBmdW5jdGlvbmFsaXR5IixkZWZhdWx0OiEwfX0pO1htPXYoe25hbWU6IlNpbGVudFR5cGluZyIsYXV0aG9yczpbbS5WZW4sbS5kenNobl0sZGVzY3JpcHRpb246IkhpZGUgdGhhdCB5b3UgYXJlIHR5cGluZyIscGF0Y2hlczpbe2ZpbmQ6InN0YXJ0VHlwaW5nOiIscmVwbGFjZW1lbnQ6e21hdGNoOi9zdGFydFR5cGluZzouKz8sc3RvcC8scmVwbGFjZToic3RhcnRUeXBpbmc6JHNlbGYuc3RhcnRUeXBpbmcsc3RvcCJ9fSx7ZmluZDoiLmFjdGl2ZUNvbW1hbmRPcHRpb24iLHByZWRpY2F0ZTooKT0+aW8uc3RvcmUuc2hvd0ljb24scmVwbGFjZW1lbnQ6e21hdGNoOi8oLilcLnB1c2guezEsMzB9ZGlzYWJsZWQ6KFxpKSwuezEsMjB9XH0sImdpZnQiXClcKS8scmVwbGFjZToiJCY7dHJ5eyQyfHwkMS5wdXNoKCRzZWxmLmNoYXRCYXJJY29uKGFyZ3VtZW50c1swXSkpfWNhdGNoe30ifX1dLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sc2V0dGluZ3M6aW8sY29tbWFuZHM6W3tuYW1lOiJzaWxlbnR0eXBlIixkZXNjcmlwdGlvbjoiVG9nZ2xlIHdoZXRoZXIgeW91J3JlIGhpZGluZyB0aGF0IHlvdSdyZSB0eXBpbmcgb3Igbm90LiIsaW5wdXRUeXBlOjAsb3B0aW9uczpbe25hbWU6InZhbHVlIixkZXNjcmlwdGlvbjoid2hldGhlciB0byBoaWRlIG9yIG5vdCB0aGF0IHlvdSdyZSB0eXBpbmcgKGRlZmF1bHQgaXMgdG9nZ2xlKSIscmVxdWlyZWQ6ITEsdHlwZTo1fV0sZXhlY3V0ZTphc3luYyhlLHQpPT57aW8uc3RvcmUuaXNFbmFibGVkPSEhWGUoZSwidmFsdWUiLCFpby5zdG9yZS5pc0VuYWJsZWQpLGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDppby5zdG9yZS5pc0VuYWJsZWQ/IlNpbGVudCB0eXBpbmcgZW5hYmxlZCEiOiJTaWxlbnQgdHlwaW5nIGRpc2FibGVkISJ9KX19XSxhc3luYyBzdGFydFR5cGluZyhlKXtpby5zdG9yZS5pc0VuYWJsZWR8fE8uZGlzcGF0Y2goe3R5cGU6IlRZUElOR19TVEFSVF9MT0NBTCIsY2hhbm5lbElkOmV9KX0sY2hhdEJhckljb246RC53cmFwKHZDLHtub29wOiEwfSl9KX0pO3ZhciBKbSxaYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7YnQoKTtQKCk7TSgpO3coKTtRbSgpO0ptPXYoe25hbWU6IlNvcnRGcmllbmRSZXF1ZXN0cyIsYXV0aG9yczpbbS5NZWd1XSxkZXNjcmlwdGlvbjoiU29ydHMgZnJpZW5kIHJlcXVlc3RzIGJ5IGRhdGUgb2YgcmVjZWlwdCIscGF0Y2hlczpbe2ZpbmQ6Ii5QRU5ESU5HX0lOQ09NSU5HfHwiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L1wuc29ydEJ5XChcKGZ1bmN0aW9uXCgoXHcpXCl7cmV0dXJuIFx3ezEsM31cLmNvbXBhcmF0b3J9XClcKS8scmVwbGFjZTooZSx0KT0+YC5zb3J0QnkoKGZ1bmN0aW9uKCR7dH0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAke3R9LnR5cGUgPT09IDMgfHwgJHt0fS50eXBlID09PSA0CiAgICAgICAgICAgICAgICAgICAgPyAtVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLmdldFNpbmNlKCR7dH0udXNlcikKICAgICAgICAgICAgICAgICAgICA6ICR7dH0uY29tcGFyYXRvcgogICAgICAgICAgICB9KSlgfSx7cHJlZGljYXRlOigpPT5rLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLnNob3dEYXRlcyxtYXRjaDovKHVzZXI6KFx3ezEsM30pLC57MTAsMzB9KSxzdWJUZXh0Oihcd3sxLDN9KSwoLnsxMCwzMH11c2VySW5mb31cKSkvLHJlcGxhY2U6KGUsdCxuLHIsaSk9PmAke3R9LAogICAgICAgICAgICAgICAgc3ViVGV4dDogVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLm1ha2VTdWJ0ZXh0KCR7cn0sICR7bn0pLAogICAgICAgICAgICAgICAgJHtpfWB9XX1dLGdldFNpbmNlKGUpe3JldHVybiBuZXcgRGF0ZShzdC5nZXRTaW5jZShlLmlkKSl9LG1ha2VTdWJ0ZXh0KGUsdCl7bGV0IG49dGhpcy5nZXRTaW5jZSh0KTtyZXR1cm4gbyhjZSx7ZmxleERpcmVjdGlvbjoicm93IixzdHlsZTp7Z2FwOjAsZmxleFdyYXA6IndyYXAiLGxpbmVIZWlnaHQ6IjAuOXJlbSJ9fSxvKCJzcGFuIixudWxsLGUpLCFpc05hTihuLmdldFRpbWUoKSkmJm8oInNwYW4iLG51bGwsIlJlY2VpdmVkIFx1MjAxNCAiLG4udG9EYXRlU3RyaW5nKCkpKX0sb3B0aW9uczp7c2hvd0RhdGVzOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgZGF0ZXMgb24gZnJpZW5kIHJlcXVlc3RzIixkZWZhdWx0OiExLHJlc3RhcnROZWVkZWQ6ITB9fX0pfSk7dmFyIFhiLEpiPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvc3BvdGlmeUNvbnRyb2xzL2hvdmVyT25seS5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9zcG90aWZ5Q29udHJvbHMvaG92ZXJPbmx5LmNzcyIsc291cmNlOmAudmMtc3BvdGlmeS1idXR0b24tcm93IHsKICAgIGhlaWdodDogMDsKICAgIG9wYWNpdHk6IDA7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIHRyYW5zaXRpb246IDAuMnM7CiAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiBoZWlnaHQ7Cn0KCiN2Yy1zcG90aWZ5LXBsYXllcjpob3ZlciAudmMtc3BvdGlmeS1idXR0b24tcm93IHsKICAgIG9wYWNpdHk6IDE7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBwb2ludGVyLWV2ZW50czogYXV0bzsKCiAgICAvKiBvbmx5IHRyYW5zaXRpb24gb3BhY2l0eSBvbiBzaG93IHRvIHByZXZlbnQgY2xpcHBpbmcgKi8KICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IGhlaWdodCwgb3BhY2l0eTsKfQpgLGNsYXNzTmFtZXM6e30sZG9tOm51bGx9KTtYYj0ic3JjL3BsdWdpbnMvc3BvdGlmeUNvbnRyb2xzL2hvdmVyT25seS5jc3MifSk7dmFyIFFiPWcoKCk9Pnt9KTt2YXIgVGUsVmI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTt1bigpO0YoKTt3KCk7VGU9ZnQoKCk9PntsZXR7U3RvcmU6ZX09RmwsdD1DKCJnZXRBY3RpdmVTb2NrZXRBbmREZXZpY2UiKSxuPUMoIlNwb3RpZnlBUElNYXJrZXIiKSxyPSJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZS9wbGF5ZXIiO2NsYXNzIGkgZXh0ZW5kcyBle21Qb3NpdGlvbj0wO3N0YXJ0PTA7dHJhY2s9bnVsbDtkZXZpY2U9bnVsbDtpc1BsYXlpbmc9ITE7cmVwZWF0PSJvZmYiO3NodWZmbGU9ITE7dm9sdW1lPTA7aXNTZXR0aW5nUG9zaXRpb249ITE7b3BlbkV4dGVybmFsKHUpe2xldCBwPWsucGx1Z2lucy5TcG90aWZ5Q29udHJvbHMudXNlU3BvdGlmeVVyaXN8fFZlbmNvcmQuUGx1Z2lucy5pc1BsdWdpbkVuYWJsZWQoIk9wZW5JbkFwcCIpPyJzcG90aWZ5OiIrdS5yZXBsYWNlQWxsKCIvIiwoeSxoKT0+aD09PTA/IiI6IjoiKToiaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tIit1O1ZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbChwKX1nZXQgcG9zaXRpb24oKXtsZXQgdT10aGlzLm1Qb3NpdGlvbjtyZXR1cm4gdGhpcy5pc1BsYXlpbmcmJih1Kz1EYXRlLm5vdygpLXRoaXMuc3RhcnQpLHV9c2V0IHBvc2l0aW9uKHUpe3RoaXMubVBvc2l0aW9uPXUsdGhpcy5zdGFydD1EYXRlLm5vdygpfXByZXYoKXt0aGlzLnJlcSgicG9zdCIsIi9wcmV2aW91cyIpfW5leHQoKXt0aGlzLnJlcSgicG9zdCIsIi9uZXh0Iil9c2V0Vm9sdW1lKHUpe3RoaXMucmVxKCJwdXQiLCIvdm9sdW1lIix7cXVlcnk6e3ZvbHVtZV9wZXJjZW50Ok1hdGgucm91bmQodSl9fSkudGhlbigoKT0+e3RoaXMudm9sdW1lPXUsdGhpcy5lbWl0Q2hhbmdlKCl9KX1zZXRQbGF5aW5nKHUpe3RoaXMucmVxKCJwdXQiLHU/Ii9wbGF5IjoiL3BhdXNlIil9c2V0UmVwZWF0KHUpe3RoaXMucmVxKCJwdXQiLCIvcmVwZWF0Iix7cXVlcnk6e3N0YXRlOnV9fSl9c2V0U2h1ZmZsZSh1KXt0aGlzLnJlcSgicHV0IiwiL3NodWZmbGUiLHtxdWVyeTp7c3RhdGU6dX19KS50aGVuKCgpPT57dGhpcy5zaHVmZmxlPXUsdGhpcy5lbWl0Q2hhbmdlKCl9KX1zZWVrKHUpe3JldHVybiB0aGlzLmlzU2V0dGluZ1Bvc2l0aW9uP1Byb21pc2UucmVzb2x2ZSgpOih0aGlzLmlzU2V0dGluZ1Bvc2l0aW9uPSEwLHRoaXMucmVxKCJwdXQiLCIvc2VlayIse3F1ZXJ5Ontwb3NpdGlvbl9tczpNYXRoLnJvdW5kKHUpfX0pLmNhdGNoKHA9Pntjb25zb2xlLmVycm9yKCJbVmVuY29yZFNwb3RpZnlDb250cm9sc10gRmFpbGVkIHRvIHNlZWsiLHApLHRoaXMuaXNTZXR0aW5nUG9zaXRpb249ITF9KSl9cmVxKHUscCx5PXt9KXt0aGlzLmRldmljZT8uaXNfYWN0aXZlJiYoKHkucXVlcnk/Pz17fSkuZGV2aWNlX2lkPXRoaXMuZGV2aWNlLmlkKTtsZXR7c29ja2V0Omh9PXQuZ2V0QWN0aXZlU29ja2V0QW5kRGV2aWNlKCk7cmV0dXJuIG5bdV0oaC5hY2NvdW50SWQsaC5hY2Nlc3NUb2tlbix7dXJsOnIrcCwuLi55fSl9fWxldCBzPW5ldyBpKE8se1NQT1RJRllfUExBWUVSX1NUQVRFKGMpe3MudHJhY2s9Yy50cmFjayxzLmRldmljZT1jLmRldmljZT8/bnVsbCxzLmlzUGxheWluZz1jLmlzUGxheWluZz8/ITEscy52b2x1bWU9Yy52b2x1bWVQZXJjZW50Pz8wLHMucmVwZWF0PWMuYWN0dWFsX3JlcGVhdHx8Im9mZiIscy5wb3NpdGlvbj1jLnBvc2l0aW9uPz8wLHMuaXNTZXR0aW5nUG9zaXRpb249ITEscy5lbWl0Q2hhbmdlKCl9LFNQT1RJRllfU0VUX0RFVklDRVMoe2RldmljZXM6Y30pe3MuZGV2aWNlPWMuZmluZCh1PT51LmlzX2FjdGl2ZSk/P2NbMF0/P251bGwscy5lbWl0Q2hhbmdlKCl9fSk7cmV0dXJuIHN9KX0pO2Z1bmN0aW9uIFZtKGUpe2xldCB0PWUvMWUzLzYwLG49TWF0aC5mbG9vcih0KSxyPU1hdGguZmxvb3IoKHQtbikqNjApO3JldHVybmAke24udG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIil9OiR7ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKX1gfWZ1bmN0aW9uIEJyKGUsdCl7cmV0dXJuKCk9Pm8oInN2ZyIse2NsYXNzTmFtZTpRKE5lKCJidXR0b24taWNvbiIpLE5lKHQpKSxoZWlnaHQ6IjI0Iix3aWR0aDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCIsZmlsbDoiY3VycmVudENvbG9yIiwiYXJpYS1sYWJlbCI6dCxmb2N1c2FibGU6ITF9LG8oInBhdGgiLHtkOmV9KSl9ZnVuY3Rpb24gWGkoZSl7cmV0dXJuIG8oImJ1dHRvbiIse2NsYXNzTmFtZTpOZSgiYnV0dG9uIiksLi4uZX0sZS5jaGlsZHJlbil9ZnVuY3Rpb24gUEMoe25hbWU6ZSxwYXRoOnR9KXtsZXQgbj1gc3BvdGlmeS1jb3B5LSR7ZX1gLHI9YHNwb3RpZnktb3Blbi0ke2V9YDtyZXR1cm4gbyhCLk1lbnUse25hdklkOmBzcG90aWZ5LSR7ZX0tbWVudWAsb25DbG9zZTooKT0+Ty5kaXNwYXRjaCh7dHlwZToiQ09OVEVYVF9NRU5VX0NMT1NFIn0pLCJhcmlhLWxhYmVsIjpgU3BvdGlmeSAke2V9IE1lbnVgfSxvKEIuTWVudUl0ZW0se2tleTpuLGlkOm4sbGFiZWw6YENvcHkgJHtlfSBMaW5rYCxhY3Rpb246KCk9PlZ0KCJodHRwczovL29wZW4uc3BvdGlmeS5jb20iK3QpLGljb246c2F9KSxvKEIuTWVudUl0ZW0se2tleTpyLGlkOnIsbGFiZWw6YE9wZW4gJHtlfSBpbiBTcG90aWZ5YCxhY3Rpb246KCk9PlRlLm9wZW5FeHRlcm5hbCh0KSxpY29uOnFvfSkpfWZ1bmN0aW9uIElDKGUsdCl7cmV0dXJuIG49Pm1uLm9wZW4obiwoKT0+byhQQyx7bmFtZTplLHBhdGg6dH0pKX1mdW5jdGlvbiBDQygpe2xldFtlLHQsbl09cWUoW1RlXSwoKT0+W1RlLmlzUGxheWluZyxUZS5zaHVmZmxlLFRlLnJlcGVhdF0pLFtyLGldPSgoKT0+e3N3aXRjaChuKXtjYXNlIm9mZiI6cmV0dXJuWyJjb250ZXh0IiwicmVwZWF0LW9mZiJdO2Nhc2UiY29udGV4dCI6cmV0dXJuWyJ0cmFjayIsInJlcGVhdC1jb250ZXh0Il07Y2FzZSJ0cmFjayI6cmV0dXJuWyJvZmYiLCJyZXBlYXQtdHJhY2siXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXBlYXQgc3RhdGUgJHtufWApfX0pKCk7cmV0dXJuIG8oY2Use2NsYXNzTmFtZTpOZSgiYnV0dG9uLXJvdyIpLHN0eWxlOntnYXA6MH19LG8oWGkse2NsYXNzTmFtZTpRKE5lKCJidXR0b24iKSxOZSh0PyJzaHVmZmxlLW9uIjoic2h1ZmZsZS1vZmYiKSksb25DbGljazooKT0+VGUuc2V0U2h1ZmZsZSghdCl9LG8oTUMsbnVsbCkpLG8oWGkse29uQ2xpY2s6KCk9PlRlLnByZXYoKX0sbyhUQyxudWxsKSksbyhYaSx7b25DbGljazooKT0+VGUuc2V0UGxheWluZyghZSl9LGU/byhiQyxudWxsKTpvKFNDLG51bGwpKSxvKFhpLHtvbkNsaWNrOigpPT5UZS5uZXh0KCl9LG8oeEMsbnVsbCkpLG8oWGkse2NsYXNzTmFtZTpRKE5lKCJidXR0b24iKSxOZShpKSksb25DbGljazooKT0+VGUuc2V0UmVwZWF0KHIpLHN0eWxlOntwb3NpdGlvbjoicmVsYXRpdmUifX0sbj09PSJ0cmFjayImJm8oInNwYW4iLHtjbGFzc05hbWU6TmUoInJlcGVhdC0xIil9LCIxIiksbyh3QyxudWxsKSkpfWZ1bmN0aW9uIFJDKCl7bGV0e2R1cmF0aW9uOmV9PVRlLnRyYWNrLFt0LG4scl09cWUoW1RlXSwoKT0+W1RlLm1Qb3NpdGlvbixUZS5pc1NldHRpbmdQb3NpdGlvbixUZS5pc1BsYXlpbmddKSxbaSxzXT1qKHQpO3JldHVybiBEZSgoKT0+e2lmKHImJiFuKXtzKFRlLnBvc2l0aW9uKTtsZXQgYz1zZXRJbnRlcnZhbCgoKT0+e3ModT0+dSsxZTMpfSwxZTMpO3JldHVybigpPT5jbGVhckludGVydmFsKGMpfX0sW3QsbixyXSksbygiZGl2Iix7aWQ6TmUoInByb2dyZXNzLWJhciIpfSxvKFQuRm9ybVRleHQse3ZhcmlhbnQ6InRleHQteHMvbWVkaXVtIixjbGFzc05hbWU6TmUoInByb2dyZXNzLXRpbWUiKSsiICIrTmUoInRpbWUtbGVmdCIpLCJhcmlhLWxhYmVsIjoiUHJvZ3Jlc3MifSxWbShpKSksbyhCLk1lbnVTbGlkZXJDb250cm9sLHttaW5WYWx1ZTowLG1heFZhbHVlOmUsdmFsdWU6aSxvbkNoYW5nZTpjPT57bnx8KHMoYyksTkMoYykpfSxyZW5kZXJWYWx1ZTpWbX0pLG8oVC5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC14cy9tZWRpdW0iLGNsYXNzTmFtZTpOZSgicHJvZ3Jlc3MtdGltZSIpKyIgIitOZSgidGltZS1yaWdodCIpLCJhcmlhLWxhYmVsIjoiVG90YWwgRHVyYXRpb24ifSxWbShlKSkpfWZ1bmN0aW9uIGtDKHt0cmFjazplfSl7bGV0IHQ9cWUoW1RlXSwoKT0+VGUudm9sdW1lKTtyZXR1cm4gbyhCLk1lbnUse25hdklkOiJzcG90aWZ5LWFsYnVtLW1lbnUiLG9uQ2xvc2U6KCk9Pk8uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KSwiYXJpYS1sYWJlbCI6IlNwb3RpZnkgQWxidW0gTWVudSJ9LG8oQi5NZW51SXRlbSx7a2V5OiJvcGVuLWFsYnVtIixpZDoib3Blbi1hbGJ1bSIsbGFiZWw6Ik9wZW4gQWxidW0iLGFjdGlvbjooKT0+VGUub3BlbkV4dGVybmFsKGAvYWxidW0vJHtlLmFsYnVtLmlkfWApLGljb246cW99KSxvKEIuTWVudUl0ZW0se2tleToidmlldy1jb3ZlciIsaWQ6InZpZXctY292ZXIiLGxhYmVsOiJWaWV3IEFsYnVtIENvdmVyIixhY3Rpb246KCk9PkdvKGUuYWxidW0uaW1hZ2UudXJsKSxpY29uOktvfSksbyhCLk1lbnVDb250cm9sSXRlbSx7aWQ6InNwb3RpZnktdm9sdW1lIixrZXk6InNwb3RpZnktdm9sdW1lIixsYWJlbDoiVm9sdW1lIixjb250cm9sOihuLHIpPT5vKEIuTWVudVNsaWRlckNvbnRyb2wsey4uLm4scmVmOnIsdmFsdWU6dCxtaW5WYWx1ZTowLG1heFZhbHVlOjEwMCxvbkNoYW5nZTpGdChpPT5UZS5zZXRWb2x1bWUoaSkpfSl9KSl9ZnVuY3Rpb24gZWYoZSx0LG4pe3JldHVybiB0P3tyb2xlOiJsaW5rIixvbkNsaWNrOigpPT5UZS5vcGVuRXh0ZXJuYWwobiksb25Db250ZXh0TWVudTpJQyhlLG4pfTp7fX1mdW5jdGlvbiBBQyh7dHJhY2s6ZX0pe2xldCB0PWU/LmFsYnVtPy5pbWFnZSxbbixyXT1qKCExKSxpPW8oZCxudWxsLHQmJm8oImltZyIse2lkOk5lKCJhbGJ1bS1pbWFnZSIpLHNyYzp0LnVybCxhbHQ6IkFsYnVtIEltYWdlIixvbkNsaWNrOigpPT5yKCFuKSxvbkNvbnRleHRNZW51OnM9Pnttbi5vcGVuKHMsKCk9Pm8oa0Mse3RyYWNrOmV9KSl9fSkpO3JldHVybiBuJiZ0P28oImRpdiIse2lkOk5lKCJhbGJ1bS1leHBhbmRlZC13cmFwcGVyIil9LGkpOm8oImRpdiIse2lkOk5lKCJpbmZvLXdyYXBwZXIiKX0saSxvKCJkaXYiLHtpZDpOZSgidGl0bGVzIil9LG8oVC5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC1zbS9zZW1pYm9sZCIsaWQ6TmUoInNvbmctdGl0bGUiKSxjbGFzc05hbWU6TmUoImVsbGlwb3ZlcmZsb3ciKSx0aXRsZTplLm5hbWUsLi4uZWYoIlNvbmciLGUuaWQsYC90cmFjay8ke2UuaWR9YCl9LGUubmFtZSksZS5hcnRpc3RzLnNvbWUocz0+cy5uYW1lKSYmbyhULkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LXNtL25vcm1hbCIsY2xhc3NOYW1lOk5lKCJlbGxpcG92ZXJmbG93Iil9LCJieVx4QTAiLGUuYXJ0aXN0cy5tYXAoKHMsYyk9Pm8oTC5GcmFnbWVudCx7a2V5OnMubmFtZX0sbygic3BhbiIse2NsYXNzTmFtZTpOZSgiYXJ0aXN0Iiksc3R5bGU6e2ZvbnRTaXplOiJpbmhlcml0In0sdGl0bGU6cy5uYW1lLC4uLmVmKCJBcnRpc3QiLHMuaWQsYC9hcnRpc3QvJHtzLmlkfWApfSxzLm5hbWUpLGMhPT1lLmFydGlzdHMubGVuZ3RoLTEmJm8oInNwYW4iLHtjbGFzc05hbWU6TmUoImNvbW1hIil9LCIsICIpKSkpLGUuYWxidW0ubmFtZSYmbyhULkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LXNtL25vcm1hbCIsY2xhc3NOYW1lOk5lKCJlbGxpcG92ZXJmbG93Iil9LCJvblx4QTAiLG8oInNwYW4iLHtpZDpOZSgiYWxidW0tdGl0bGUiKSxjbGFzc05hbWU6TmUoImFsYnVtIiksc3R5bGU6e2ZvbnRTaXplOiJpbmhlcml0In0sdGl0bGU6ZS5hbGJ1bS5uYW1lLC4uLmVmKCJBbGJ1bSIsZS5hbGJ1bS5pZCxgL2FsYnVtLyR7ZS5hbGJ1bS5pZH1gKX0sZS5hbGJ1bS5uYW1lKSkpKX1mdW5jdGlvbiBlVCgpe2xldCBlPXFlKFtUZV0sKCk9PlRlLnRyYWNrLG51bGwsKHMsYyk9PnM/LmlkP3MuaWQ9PT1jPy5pZDpzPy5uYW1lPT09Yz8ubmFtZSksdD1xZShbVGVdLCgpPT5UZS5kZXZpY2UsbnVsbCwocyxjKT0+cz8uaWQ9PT1jPy5pZCksbj1xZShbVGVdLCgpPT5UZS5pc1BsYXlpbmcpLFtyLGldPWooITEpO3JldHVybiBMLnVzZUVmZmVjdCgoKT0+e2lmKGkoITEpLCFuKXtsZXQgcz1zZXRUaW1lb3V0KCgpPT5pKCEwKSwzZTUpO3JldHVybigpPT5jbGVhclRpbWVvdXQocyl9fSxbbl0pLCFlfHwhdD8uaXNfYWN0aXZlfHxyP251bGw6byhELHtmYWxsYmFjazooKT0+bygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy1zcG90aWZ5LWZhbGxiYWNrIn0sbygicCIsbnVsbCwiRmFpbGVkIHRvIHJlbmRlciBTcG90aWZ5IE1vZGFsIDooIiksbygicCIsbnVsbCwiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIGVycm9ycyIpKX0sbygiZGl2Iix7aWQ6TmUoInBsYXllciIpfSxvKEFDLHt0cmFjazplfSksbyhSQyxudWxsKSxvKENDLG51bGwpKSl9dmFyIE5lLFNDLGJDLFRDLHhDLHdDLE1DLE5DLHRUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRYigpO3NlKCk7YnQoKTt4bigpO2FyKCk7YXQoKTtnZSgpO3coKTtWYigpO05lPWU9PmB2Yy1zcG90aWZ5LSR7ZX1gO1NDPUJyKCJNOCA2LjgydjEwLjM2YzAgLjc5Ljg3IDEuMjcgMS41NC44NGw4LjE0LTUuMThjLjYyLS4zOS42Mi0xLjI5IDAtMS42OUw5LjU0IDUuOThDOC44NyA1LjU1IDggNi4wMyA4IDYuODJ6IiwicGxheSIpLGJDPUJyKCJNOCAxOWMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0ycy0yIC45LTIgMnYxMGMwIDEuMS45IDIgMiAyem02LTEydjEwYzAgMS4xLjkgMiAyIDJzMi0uOSAyLTJWN2MwLTEuMS0uOS0yLTItMnMtMiAuOS0yIDJ6IiwicGF1c2UiKSxUQz1CcigiTTcgNmMuNTUgMCAxIC40NSAxIDF2MTBjMCAuNTUtLjQ1IDEtMSAxcy0xLS40NS0xLTFWN2MwLS41NS40NS0xIDEtMXptMy42NiA2LjgybDUuNzcgNC4wN2MuNjYuNDcgMS41OC0uMDEgMS41OC0uODJWNy45M2MwLS44MS0uOTEtMS4yOC0xLjU4LS44MmwtNS43NyA0LjA3Yy0uNTcuNC0uNTcgMS4yNCAwIDEuNjR6IiwicHJldmlvdXMiKSx4Qz1CcigiTTcuNTggMTYuODlsNS43Ny00LjA3Yy41Ni0uNC41Ni0xLjI0IDAtMS42M0w3LjU4IDcuMTFDNi45MSA2LjY1IDYgNy4xMiA2IDcuOTN2OC4xNGMwIC44MS45MSAxLjI4IDEuNTguODJ6TTE2IDd2MTBjMCAuNTUuNDUgMSAxIDFzMS0uNDUgMS0xVjdjMC0uNTUtLjQ1LTEtMS0xcy0xIC40NS0xIDF6IiwibmV4dCIpLHdDPUJyKCJNNyA3aDEwdjEuNzljMCAuNDUuNTQuNjcuODUuMzVsMi43OS0yLjc5Yy4yLS4yLjItLjUxIDAtLjcxbC0yLjc5LTIuNzljLS4zMS0uMzEtLjg1LS4wOS0uODUuMzZWNUg2Yy0uNTUgMC0xIC40NS0xIDF2NGMwIC41NS40NSAxIDEgMXMxLS40NSAxLTFWN3ptMTAgMTBIN3YtMS43OWMwLS40NS0uNTQtLjY3LS44NS0uMzVsLTIuNzkgMi43OWMtLjIuMi0uMi41MSAwIC43MWwyLjc5IDIuNzljLjMxLjMxLjg1LjA5Ljg1LS4zNlYxOWgxMWMuNTUgMCAxLS40NSAxLTF2LTRjMC0uNTUtLjQ1LTEtMS0xcy0xIC40NS0xIDF2M3oiLCJyZXBlYXQiKSxNQz1CcigiTTEwLjU5IDkuMTdMNi4xMiA0LjdjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwLS4zOS4zOS0uMzkgMS4wMiAwIDEuNDFsNC40NiA0LjQ2IDEuNDItMS40em00Ljc2LTQuMzJsMS4xOSAxLjE5TDQuNyAxNy44OGMtLjM5LjM5LS4zOSAxLjAyIDAgMS40MS4zOS4zOSAxLjAyLjM5IDEuNDEgMEwxNy45NiA3LjQ2bDEuMTkgMS4xOWMuMzEuMzEuODUuMDkuODUtLjM2VjQuNWMwLS4yOC0uMjItLjUtLjUtLjVoLTMuNzljLS40NSAwLS42Ny41NC0uMzYuODV6bS0uNTIgOC41NmwtMS40MSAxLjQxIDMuMTMgMy4xMy0xLjIgMS4yYy0uMzEuMzEtLjA5Ljg1LjM2Ljg1aDMuNzljLjI4IDAgLjUtLjIyLjUtLjV2LTMuNzljMC0uNDUtLjU0LS42Ny0uODUtLjM1bC0xLjE5IDEuMTktMy4xMy0zLjE0eiIsInNodWZmbGUiKTtOQz1GdChlPT57VGUuc2VlayhlKX0pfSk7ZnVuY3Rpb24gblQoZSl7KGU/b3Q6a3QpKFhiKX12YXIgdGYsb1Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtPZSgpO1AoKTtNKCk7SmIoKTt0VCgpO3RmPXYoe25hbWU6IlNwb3RpZnlDb250cm9scyIsZGVzY3JpcHRpb246IkFkZHMgYSBTcG90aWZ5IHBsYXllciBhYm92ZSB0aGUgYWNjb3VudCBwYW5lbCIsYXV0aG9yczpbbS5WZW4sbS5hZm4sbS5LcmFYZW43Ml0sb3B0aW9uczp7aG92ZXJDb250cm9sczp7ZGVzY3JpcHRpb246IlNob3cgY29udHJvbHMgb24gaG92ZXIiLHR5cGU6MyxkZWZhdWx0OiExLG9uQ2hhbmdlOmU9Pm5UKGUpfSx1c2VTcG90aWZ5VXJpczp7dHlwZTozLGRlc2NyaXB0aW9uOiJPcGVuIFNwb3RpZnkgVVJJcyBpbnN0ZWFkIG9mIFNwb3RpZnkgVVJMcy4gV2lsbCBvbmx5IHdvcmsgaWYgeW91IGhhdmUgU3BvdGlmeSBpbnN0YWxsZWQgYW5kIG1pZ2h0IG5vdCB3b3JrIG9uIGFsbCBwbGF0Zm9ybXMiLGRlZmF1bHQ6ITF9fSxwYXRjaGVzOlt7ZmluZDoic2hvd1RhZ2xlc3NBY2NvdW50UGFuZWw6IixyZXBsYWNlbWVudDp7bWF0Y2g6L3JldHVybiA/KC57MCwzMH1cKC57MSwzfSxce1tefV0rPyxzaG93VGFnbGVzc0FjY291bnRQYW5lbDouKz9cfVwpKS8scmVwbGFjZToicmV0dXJuIFskc2VsZi5yZW5kZXJQbGF5ZXIoKSwkMV0ifX0se2ZpbmQ6Ii5QTEFZRVJfREVWSUNFUyIscmVwbGFjZW1lbnQ6e21hdGNoOi9nZXQ6KC57MSwzfSlcLmJpbmRcKG51bGwsKC57MSw2fSlcLmdldFwpLyxyZXBsYWNlOiJTcG90aWZ5QVBJTWFya2VyOjEscG9zdDokMS5iaW5kKG51bGwsJDIucG9zdCksJCYifX0se2ZpbmQ6J3JlcGVhdDoib2ZmIiE9PScscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXBlYXQ6Im9mZiIhPT0oLnsxLDN9KSwvLHJlcGxhY2U6ImFjdHVhbF9yZXBlYXQ6JDEsJCYifX1dLHN0YXJ0OigpPT5uVChrLnBsdWdpbnMuU3BvdGlmeUNvbnRyb2xzLmhvdmVyQ29udHJvbHMpLHJlbmRlclBsYXllcjooKT0+byhlVCxudWxsKX0pfSk7dmFyIG5mLG9mLHJUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7UCgpO00oKTtuZj1FKHtub1Nwb3RpZnlBdXRvUGF1c2U6e2Rlc2NyaXB0aW9uOiJEaXNhYmxlIFNwb3RpZnkgYXV0by1wYXVzZSIsdHlwZTozLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0sa2VlcFNwb3RpZnlBY3Rpdml0eU9uSWRsZTp7ZGVzY3JpcHRpb246IktlZXAgU3BvdGlmeSBhY3Rpdml0eSBwbGF5aW5nIHdoZW4gaWRsaW5nIix0eXBlOjMsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfX0pLG9mPXYoe25hbWU6IlNwb3RpZnlDcmFjayIsZGVzY3JpcHRpb246IkZyZWUgbGlzdGVuIGFsb25nLCBubyBhdXRvLXBhdXNpbmcgaW4gdm9pY2UgY2hhdCwgYW5kIGFsbG93cyBhY3Rpdml0eSB0byBjb250aW51ZSBwbGF5aW5nIHdoZW4gaWRsaW5nIixhdXRob3JzOlttLkN5bixtLk51Y2t5el0sc2V0dGluZ3M6bmYscGF0Y2hlczpbe2ZpbmQ6J2Rpc3BhdGNoKHt0eXBlOiJTUE9USUZZX1BST0ZJTEVfVVBEQVRFIicscmVwbGFjZW1lbnQ6e21hdGNoOi9TUE9USUZZX1BST0ZJTEVfVVBEQVRFLis/aXNQcmVtaXVtOig/PSJwcmVtaXVtIj09PShcaSlcLmJvZHlcLnByb2R1Y3QpLyxyZXBsYWNlOihlLHQpPT5gJHtlfSgke3R9LmJvZHkucHJvZHVjdD0icHJlbWl1bSIpJiZgfX0se2ZpbmQ6Jy5kaXNwbGF5TmFtZT0iU3BvdGlmeVN0b3JlIicscmVwbGFjZW1lbnQ6W3twcmVkaWNhdGU6KCk9Pm5mLnN0b3JlLm5vU3BvdGlmeUF1dG9QYXVzZSxtYXRjaDovKD88PWZ1bmN0aW9uIFxpXChcKXspKD89LnswLDIwMH1TUE9USUZZX0FVVE9fUEFVU0VEXCkpLyxyZXBsYWNlOiJyZXR1cm47In0se3ByZWRpY2F0ZTooKT0+bmYuc3RvcmUua2VlcFNwb3RpZnlBY3Rpdml0eU9uSWRsZSxtYXRjaDovKD88PXNob3VsZFNob3dBY3Rpdml0eT1mdW5jdGlvblwoXCl7LnswLDUwfSkmJiFcaVwuXGlcLmlzSWRsZVwoXCkvLHJlcGxhY2U6IiJ9XX1dfSl9KTtmdW5jdGlvbiBzZihlLHQpe3Q9e2ludmFsaWRFbW9qaXM6W10sdHRzOiExLHZhbGlkTm9uU2hvcnRjdXRFbW9qaXM6W10sLi4udH07bGV0IG49TEMuZ2V0UGVuZGluZ1JlcGx5KGUpO2lULnNlbmRNZXNzYWdlKGUsdCx2b2lkIDAsaVQuZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkobikpLnRoZW4oKCk9PntuJiZPLmRpc3BhdGNoKHt0eXBlOiJERUxFVEVfUEVORElOR19SRVBMWSIsY2hhbm5lbElkOmV9KX0pfXZhciByZixpVCxMQyxhZixzVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtQKCk7TSgpO0YoKTt3KCk7cmY9QygiZ2V0UGxheWVyU3RhdGUiKSxpVD1DKCJnZXRTZW5kTWVzc2FnZU9wdGlvbnNGb3JSZXBseSIsInNlbmRNZXNzYWdlIiksTEM9QygiZ2V0UGVuZGluZ1JlcGx5Iik7YWY9dih7bmFtZToiU3BvdGlmeVNoYXJlQ29tbWFuZHMiLGRlc2NyaXB0aW9uOiJTaGFyZSB5b3VyIGN1cnJlbnQgU3BvdGlmeSB0cmFjaywgYWxidW0gb3IgYXJ0aXN0IHZpYSBzbGFzaCBjb21tYW5kICgvdHJhY2ssIC9hbGJ1bSwgL2FydGlzdCkiLGF1dGhvcnM6W20ua2F0bHluXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToidHJhY2siLGRlc2NyaXB0aW9uOiJTZW5kIHlvdXIgY3VycmVudCBTcG90aWZ5IHRyYWNrIHRvIGNoYXQiLGlucHV0VHlwZTowLG9wdGlvbnM6W10sZXhlY3V0ZTooZSx0KT0+e2xldCBuPXJmLmdldFRyYWNrKCk7aWYobj09PW51bGwpe2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiWW91J3JlIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG11c2ljLiJ9KTtyZXR1cm59c2YodC5jaGFubmVsLmlkLHtjb250ZW50OmBodHRwczovL29wZW4uc3BvdGlmeS5jb20vdHJhY2svJHtuLmlkfWB9KX19LHtuYW1lOiJhbGJ1bSIsZGVzY3JpcHRpb246IlNlbmQgeW91ciBjdXJyZW50IFNwb3RpZnkgYWxidW0gdG8gY2hhdCIsaW5wdXRUeXBlOjAsb3B0aW9uczpbXSxleGVjdXRlOihlLHQpPT57bGV0IG49cmYuZ2V0VHJhY2soKTtpZihuPT09bnVsbCl7YWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJZb3UncmUgbm90IGxpc3RlbmluZyB0byBhbnkgbXVzaWMuIn0pO3JldHVybn1zZih0LmNoYW5uZWwuaWQse2NvbnRlbnQ6YGh0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS9hbGJ1bS8ke24uYWxidW0uaWR9YH0pfX0se25hbWU6ImFydGlzdCIsZGVzY3JpcHRpb246IlNlbmQgeW91ciBjdXJyZW50IFNwb3RpZnkgYXJ0aXN0IHRvIGNoYXQiLGlucHV0VHlwZTowLG9wdGlvbnM6W10sZXhlY3V0ZTooZSx0KT0+e2xldCBuPXJmLmdldFRyYWNrKCk7aWYobj09PW51bGwpe2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiWW91J3JlIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG11c2ljLiJ9KTtyZXR1cm59c2YodC5jaGFubmVsLmlkLHtjb250ZW50Om4uYXJ0aXN0c1swXS5leHRlcm5hbF91cmxzLnNwb3RpZnl9KX19XX0pfSk7dmFyIGFUPXt9O1NlKGFULHtkZWZhdWx0OigpPT5CQ30pO2Z1bmN0aW9uIEVDKHtlbW9qaTplLHByZWZpeDp0LGxvZzpuLGRlbHRhOnIsaW5zdGFuY2U6aX0pe3JldHVybiBvKEwuRnJhZ21lbnQsbnVsbCxvKCJzcGFuIixudWxsLGkuc2luY2VTdGFydC50b0ZpeGVkKDMpLCJzIiksbygic3BhbiIsbnVsbCxpLnNpbmNlTGFzdC50b0ZpeGVkKDMpLCJzIiksbygic3BhbiIsbnVsbCxyPy50b0ZpeGVkKDApPz8iIiksbygic3BhbiIsbnVsbCxvKCJwcmUiLG51bGwsZSwiICIsdD8/IiAiLG4pKSl9ZnVuY3Rpb24gREMoe3RpdGxlOmUsbG9nczp0LHRyYWNlRW5kOm59KXtsZXQgcj10LmZpbmQoYz0+Yy50aW1lc3RhbXApPy50aW1lc3RhbXA/PzAsaT1yLHM9dC5tYXAoYz0+e2xldCB1PWMudGltZXN0YW1wPz9pLHA9KHUtcikvMWUzLHk9KHUtaSkvMWUzO3JldHVybiBpPXUse3NpbmNlU3RhcnQ6cCxzaW5jZUxhc3Q6eX19KTtyZXR1cm4gbyhULkZvcm1TZWN0aW9uLHt0aXRsZTplLHRhZzoiaDEifSxvKCJjb2RlIixudWxsLG4mJm8oImRpdiIse3N0eWxlOntjb2xvcjoidmFyKC0taGVhZGVyLXByaW1hcnkpIixtYXJnaW5Cb3R0b206NSx1c2VyU2VsZWN0OiJ0ZXh0In19LCJUcmFjZSBlbmRlZCBhdDogIixuZXcgRGF0ZShuKS50b1RpbWVTdHJpbmcoKSksbygiZGl2Iix7c3R5bGU6e2NvbG9yOiJ2YXIoLS1oZWFkZXItcHJpbWFyeSkiLGRpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6InJlcGVhdCgzLCBhdXRvKSAxZnIiLGdhcDoiMnB4IDEwcHgiLHVzZXJTZWxlY3Q6InRleHQifX0sbygic3BhbiIsbnVsbCwiU3RhcnQiKSxvKCJzcGFuIixudWxsLCJJbnRlcnZhbCIpLG8oInNwYW4iLG51bGwsIkRlbHRhIiksbygic3BhbiIse3N0eWxlOnttYXJnaW5Cb3R0b206NX19LCJFdmVudCIpLEppLmxvZ3MubWFwKChjLHUpPT5vKEVDLHtrZXk6dSwuLi5jLGluc3RhbmNlOnNbdV19KSkpKSl9ZnVuY3Rpb24gT0Moe3RyYWNlOmV9KXtsZXQgdD1lLnNwbGl0KGAKYCk7cmV0dXJuIG8oVC5Gb3JtU2VjdGlvbix7dGl0bGU6IlNlcnZlciBUcmFjZSIsdGFnOiJoMiJ9LG8oImNvZGUiLG51bGwsbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIixzdHlsZTp7Y29sb3I6InZhcigtLWhlYWRlci1wcmltYXJ5KSIsZ2FwOjUsdXNlclNlbGVjdDoidGV4dCJ9fSx0Lm1hcChuPT5vKCJzcGFuIixudWxsLG4pKSkpKX1mdW5jdGlvbiBfQygpe2lmKCFKaT8ubG9ncylyZXR1cm4gbygiZGl2IixudWxsLCJMb2FkaW5nLi4uIik7bGV0IGU9SmkubG9nR3JvdXBzLmZpbmQodD0+dC5zZXJ2ZXJUcmFjZSk/LnNlcnZlclRyYWNlO3JldHVybiBvKEwuRnJhZ21lbnQsbnVsbCxvKERDLHt0aXRsZToiU3RhcnR1cCBUaW1pbmdzIixsb2dzOkppLmxvZ3MsdHJhY2VFbmQ6SmkuZW5kVGltZV99KSxvKCJkaXYiLHtzdHlsZTp7bWFyZ2luVG9wOjV9fSwiXHhBMCIpLGUmJm8oT0Mse3RyYWNlOmV9KSl9dmFyIEppLEJDLGxUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO2J0KCk7RigpO3coKTtKaT1DKCJtYXJrV2l0aERlbHRhIiwibWFya0FuZExvZyIsIm1hcmtBdCIpO0JDPUQud3JhcChfQyl9KTt2YXIgbGYsY1Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtoZSgpO00oKTtsZj12KHtuYW1lOiJTdGFydHVwVGltaW5ncyIsZGVzY3JpcHRpb246IkFkZHMgU3RhcnR1cCBUaW1pbmdzIHRvIHRoZSBTZXR0aW5ncyBtZW51IixhdXRob3JzOlttLk1lZ3VdLHBhdGNoZXM6W3tmaW5kOiJQQVlNRU5UX0ZMT1dfTU9EQUxfVEVTVF9QQUdFLCIscmVwbGFjZW1lbnQ6e21hdGNoOi97c2VjdGlvbjouezEsMn1cLi57MSwzfVwuUEFZTUVOVF9GTE9XX01PREFMX1RFU1RfUEFHRS8scmVwbGFjZTone3NlY3Rpb246IlN0YXJ0dXBUaW1pbmdzIixsYWJlbDoiU3RhcnR1cCBUaW1pbmdzIixlbGVtZW50OiRzZWxmLlN0YXJ0dXBUaW1pbmdQYWdlfSwkJid9fV0sU3RhcnR1cFRpbWluZ1BhZ2U6cmUoKCk9PihsVCgpLE9vKGFUKSkuZGVmYXVsdCl9KX0pO3ZhciB1VCxGQyxjZixwVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JGkoKTtQKCk7Z2UoKTtabigpO00oKTtTcigpO3coKTt6cigpO3lyKCk7Z3UoKTt1VD0iVmVuY29yZC1TdXBwb3J0SGVscGVyLURpc21pc3MiLEZDPVthcywiMTAyNDI4NjIxODgwMTkyNjE4NCIsIjEwMzM2ODAyMDM0MzM2NjA0NTgiXSxjZj12KHtuYW1lOiJTdXBwb3J0SGVscGVyIixyZXF1aXJlZDohMCxkZXNjcmlwdGlvbjoiSGVscHMgdXMgcHJvdmlkZSBzdXBwb3J0IHRvIHlvdSIsYXV0aG9yczpbbS5WZW5dLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tuYW1lOiJ2ZW5jb3JkLWRlYnVnIixkZXNjcmlwdGlvbjoiU2VuZCBWZW5jb3JkIERlYnVnIGluZm8iLHByZWRpY2F0ZTplPT5GQy5pbmNsdWRlcyhlLmNoYW5uZWwuaWQpLGV4ZWN1dGUoKXtsZXR7UkVMRUFTRV9DSEFOTkVMOmV9PXVuc2FmZVdpbmRvdy5HTE9CQUxfRU5WLHQ9KCgpPT4iYXJtY29yZCJpbiB1bnNhZmVXaW5kb3c/YEFybUNvcmQgdiR7dW5zYWZlV2luZG93LmFybWNvcmQudmVyc2lvbn1gOmAke3R5cGVvZiB1bnNhZmVXaW5kb3c8InUiPyJVc2VyU2NyaXB0IjoiV2ViIn0gKCR7bmF2aWdhdG9yLnVzZXJBZ2VudH0pYCkoKSxuPXU9PnUuZW5kc1dpdGgoIkFQSSIpfHxJZVt1XS5yZXF1aXJlZCxyPU9iamVjdC5rZXlzKEllKS5maWx0ZXIodT0+VmVuY29yZC5QbHVnaW5zLmlzUGx1Z2luRW5hYmxlZCh1KSYmIW4odSkpLGk9T2JqZWN0LmtleXMoSWUpLmZpbHRlcih1PT5WZW5jb3JkLlBsdWdpbnMuaXNQbHVnaW5FbmFibGVkKHUpJiZuKHUpKSxzPXtWZW5jb3JkOmB2MS40LjIgXHUyMDIyICR7Y259JHtUaS5hZGRpdGlvbmFsSW5mb30gLSAke0ludGwuRGF0ZVRpbWVGb3JtYXQoImVuLUdCIix7ZGF0ZVN0eWxlOiJtZWRpdW0ifSkuZm9ybWF0KDE2OTExNzMyODI3MzkpfWAsIkRpc2NvcmQgQnJhbmNoIjplLENsaWVudDp0LFBsYXRmb3JtOnVuc2FmZVdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0sT3V0ZGF0ZWQ6dm8sT3BlbkFzYXI6Im9wZW5hc2FyImluIHVuc2FmZVdpbmRvd307cmV0dXJue2NvbnRlbnQ6YAoqKlZlbmNvcmQgRGVidWcgSW5mbyoqCj4+PiAke09iamVjdC5lbnRyaWVzKHMpLm1hcCgoW3UscF0pPT5gJHt1fTogJHtwfWApLmpvaW4oYApgKX0KCkVuYWJsZWQgUGx1Z2lucyAoJHtyLmxlbmd0aCtpLmxlbmd0aH0pOgoke29pKHIuam9pbigiLCAiKStgCgpgK2kuam9pbigiLCAiKSl9CmAudHJpbSgpLnJlcGxhY2VBbGwoImBgYFxuIiwiYGBgIil9fX1dLGZsdXg6e2FzeW5jIENIQU5ORUxfU0VMRUNUKHtjaGFubmVsSWQ6ZX0pe2lmKGU9PT1hcyYmIVdyKEcuZ2V0Q3VycmVudFVzZXIoKS5pZCkmJnZvJiZjbiE9PWF3YWl0IE90LmdldCh1VCkpe2xldCB0PSgpPT5PdC5zZXQodVQsY24pO050LnNob3coe3RpdGxlOiJIb2xkIG9uISIsYm9keTpvKCJkaXYiLG51bGwsbyhULkZvcm1UZXh0LG51bGwsIllvdSBhcmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWZW5jb3JkISBDaGFuY2VzIGFyZSwgeW91ciBpc3N1ZSBpcyBhbHJlYWR5IGZpeGVkLiIpLG8oVC5Gb3JtVGV4dCxudWxsLCJQbGVhc2UgZmlyc3QgdXBkYXRlIHVzaW5nIHRoZSBVcGRhdGVyIFBhZ2UgaW4gU2V0dGluZ3MsIG9yIHVzZSB0aGUgVmVuY29yZEluc3RhbGxlciAoVXBkYXRlIFZlbmNvcmQgQnV0dG9uKSB0byBkbyBzbywgaW4gY2FzZSB5b3UgY2FuJ3QgYWNjZXNzIHRoZSBVcGRhdGVyIHBhZ2UuIikpLG9uQ2FuY2VsOnQsb25Db25maXJtOnR9KX19fX0pfSk7ZnVuY3Rpb24gaFQoZSl7bGV0IHQ9ZS5tYXRjaCgvXihcLyk/KC4rPykoPzpcLyhbZ2ltc3V5XSopKT8kLyk7cmV0dXJuIHQ/bmV3IFJlZ0V4cCh0WzJdLHRbM10/LnNwbGl0KCIiKS5maWx0ZXIoKG4scixpKT0+aS5pbmRleE9mKG4pPT09cikuam9pbigiIik/PyJnIik6bmV3IFJlZ0V4cChlKX1mdW5jdGlvbiBVQyhlKXt0cnl7cmV0dXJuIGhUKGUpLG51bGx9Y2F0Y2godCl7cmV0dXJuIG8oInNwYW4iLHtzdHlsZTp7Y29sb3I6InZhcigtLXRleHQtZGFuZ2VyKSJ9fSxTdHJpbmcodCkpfX1mdW5jdGlvbiB1Zih7aW5pdGlhbFZhbHVlOmUsb25DaGFuZ2U6dCxwbGFjZWhvbGRlcjpufSl7bGV0W3IsaV09aihlKTtyZXR1cm4gbyhfZSx7cGxhY2Vob2xkZXI6bix2YWx1ZTpyLG9uQ2hhbmdlOmksc3BlbGxDaGVjazohMSxvbkJsdXI6KCk9PnIhPT1lJiZ0KHIpfSl9ZnVuY3Rpb24gZFQoe3RpdGxlOmUscnVsZXNBcnJheTp0LHJ1bGVzS2V5Om4sdXBkYXRlOnJ9KXtsZXQgaT1lPT09IlVzaW5nIFJlZ2V4Ijthc3luYyBmdW5jdGlvbiBzKHUpe3UhPT10Lmxlbmd0aC0xJiYodC5zcGxpY2UodSwxKSxhd2FpdCBPdC5zZXQobix0KSxyKCkpfWFzeW5jIGZ1bmN0aW9uIGModSxwLHkpe3A9PT10Lmxlbmd0aC0xJiZ0LnB1c2goZ1QoKSksdFtwXVt5XT11LHRbcF0uZmluZD09PSIiJiZ0W3BdLnJlcGxhY2U9PT0iIiYmdFtwXS5vbmx5SWZJbmNsdWRlcz09PSIiJiZwIT09dC5sZW5ndGgtMSYmdC5zcGxpY2UocCwxKSxhd2FpdCBPdC5zZXQobix0KSxyKCl9cmV0dXJuIG8oZCxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDQifSxlKSxvKGNlLHtmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLHN0eWxlOntnYXA6IjAuNWVtIn19LHQubWFwKCh1LHApPT5vKEwuRnJhZ21lbnQse2tleTpgJHt1LmZpbmR9LSR7cH1gfSxvKGNlLHtmbGV4RGlyZWN0aW9uOiJyb3ciLHN0eWxlOntnYXA6MH19LG8oY2Use2ZsZXhEaXJlY3Rpb246InJvdyIsc3R5bGU6e2ZsZXhHcm93OjEsZ2FwOiIwLjVlbSJ9fSxvKHVmLHtwbGFjZWhvbGRlcjoiRmluZCIsaW5pdGlhbFZhbHVlOnUuZmluZCxvbkNoYW5nZTp5PT5jKHkscCwiZmluZCIpfSksbyh1Zix7cGxhY2Vob2xkZXI6IlJlcGxhY2UiLGluaXRpYWxWYWx1ZTp1LnJlcGxhY2Usb25DaGFuZ2U6eT0+Yyh5LHAsInJlcGxhY2UiKX0pLG8odWYse3BsYWNlaG9sZGVyOiJPbmx5IGlmIGluY2x1ZGVzIixpbml0aWFsVmFsdWU6dS5vbmx5SWZJbmNsdWRlcyxvbkNoYW5nZTp5PT5jKHkscCwib25seUlmSW5jbHVkZXMiKX0pKSxvKFIse3NpemU6Ui5TaXplcy5NSU4sb25DbGljazooKT0+cyhwKSxzdHlsZTp7YmFja2dyb3VuZDoibm9uZSIsLi4ucD09PXQubGVuZ3RoLTE/e3Zpc2liaWxpdHk6ImhpZGRlbiIscG9pbnRlckV2ZW50czoibm9uZSJ9Ont9fX0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJ0aXRsZSIsbnVsbCwiRGVsZXRlIFJ1bGUiKSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tc3RhdHVzLWRhbmdlcikiLGQ6Ik0xNSAzLjk5OVYySDlWMy45OTlIM1Y1Ljk5OUgyMVYzLjk5OUgxNVoifSksbygicGF0aCIse2ZpbGw6InZhcigtLXN0YXR1cy1kYW5nZXIpIixkOiJNNSA2Ljk5OTAyVjE4Ljk5OUM1IDIwLjEwMSA1Ljg5NyAyMC45OTkgNyAyMC45OTlIMTdDMTguMTAzIDIwLjk5OSAxOSAyMC4xMDEgMTkgMTguOTk5VjYuOTk5MDJINVpNMTEgMTdIOVYxMUgxMVYxN1pNMTUgMTdIMTNWMTFIMTVWMTdaIn0pKSkpLGkmJlVDKHUuZmluZCkpKSkpfWZ1bmN0aW9uIEdDKCl7bGV0W2UsdF09aigiIik7cmV0dXJuIG8oZCxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDQifSwiVGVzdCBSdWxlcyIpLG8oX2Use3BsYWNlaG9sZGVyOiJUeXBlIGEgbWVzc2FnZSIsb25DaGFuZ2U6dH0pLG8oX2Use3BsYWNlaG9sZGVyOiJNZXNzYWdlIHdpdGggcnVsZXMgYXBwbGllZCIsZWRpdGFibGU6ITEsdmFsdWU6eVQoZSl9KSl9ZnVuY3Rpb24geVQoZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiBlO2lmKGU9IiAiK2UrIiAiLGlsKWZvcihsZXQgdCBvZiBpbCkhdC5maW5kfHwhdC5yZXBsYWNlfHx0Lm9ubHlJZkluY2x1ZGVzJiYhZS5pbmNsdWRlcyh0Lm9ubHlJZkluY2x1ZGVzKXx8KGU9ZS5yZXBsYWNlQWxsKHQuZmluZCx0LnJlcGxhY2UucmVwbGFjZUFsbCgiXFxuIixgCmApKSk7aWYoc2wpe2ZvcihsZXQgdCBvZiBzbClpZighKCF0LmZpbmR8fCF0LnJlcGxhY2UpJiYhKHQub25seUlmSW5jbHVkZXMmJiFlLmluY2x1ZGVzKHQub25seUlmSW5jbHVkZXMpKSl0cnl7bGV0IG49aFQodC5maW5kKTtlPWUucmVwbGFjZShuLHQucmVwbGFjZS5yZXBsYWNlQWxsKCJcXG4iLGAKYCkpfWNhdGNoe25ldyBWKCJUZXh0UmVwbGFjZSIpLmVycm9yKGBJbnZhbGlkIHJlZ2V4OiAke3QuZmluZH1gKX19cmV0dXJuIGU9ZS50cmltKCksZX12YXIgbVQsZlQsZ1QscmwsaWwsc2wsJEMsSEMscGYsdlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRpKCk7JG4oKTtVKCk7YnQoKTtQKCk7TWUoKTtoZSgpO00oKTt3KCk7bVQ9IlRleHRSZXBsYWNlX3J1bGVzU3RyaW5nIixmVD0iVGV4dFJlcGxhY2VfcnVsZXNSZWdleCIsZ1Q9KCk9Pih7ZmluZDoiIixyZXBsYWNlOiIiLG9ubHlJZkluY2x1ZGVzOiIifSkscmw9KCk9PltnVCgpXSxpbD1ybCgpLHNsPXJsKCksJEM9RSh7cmVwbGFjZTp7dHlwZTo2LGRlc2NyaXB0aW9uOiIiLGNvbXBvbmVudDooKT0+e2xldCBlPSR0KCk7cmV0dXJuIG8oZCxudWxsLG8oZFQse3RpdGxlOiJVc2luZyBTdHJpbmciLHJ1bGVzQXJyYXk6aWwscnVsZXNLZXk6bVQsdXBkYXRlOmV9KSxvKGRULHt0aXRsZToiVXNpbmcgUmVnZXgiLHJ1bGVzQXJyYXk6c2wscnVsZXNLZXk6ZlQsdXBkYXRlOmV9KSxvKEdDLG51bGwpKX19fSk7SEM9IjExMDI3ODQxMTI1ODQwNDA0NzkiLHBmPXYoe25hbWU6IlRleHRSZXBsYWNlIixkZXNjcmlwdGlvbjoiUmVwbGFjZSB0ZXh0IGluIHlvdXIgbWVzc2FnZXMuIFlvdSBjYW4gZmluZCBwcmUtbWFkZSBydWxlcyBpbiB0aGUgI3RleHRyZXBsYWNlLXJ1bGVzIGNoYW5uZWwgaW4gVmVuY29yZCdzIFNlcnZlciIsYXV0aG9yczpbbS5BdXR1bW5WTixtLlRoZUtvZGVUb2FkXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlRXZlbnRzQVBJIl0sc2V0dGluZ3M6JEMsYXN5bmMgc3RhcnQoKXtpbD1hd2FpdCBPdC5nZXQobVQpPz9ybCgpLHNsPWF3YWl0IE90LmdldChmVCk/P3JsKCksdGhpcy5wcmVTZW5kPUx0KChlLHQpPT57ZSE9PUhDJiYodC5jb250ZW50PXlUKHQuY29udGVudCkpfSl9LHN0b3AoKXtFdCh0aGlzLnByZVNlbmQpfX0pfSk7dmFyIGRmLFNUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TSgpO2RmPXYoe25hbWU6IlRpbWVCYXJBbGxBY3Rpdml0aWVzIixkZXNjcmlwdGlvbjoiQWRkcyB0aGUgU3BvdGlmeSB0aW1lIGJhciB0byBhbGwgYWN0aXZpdGllcyBpZiB0aGV5IGhhdmUgc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzIixhdXRob3JzOlttLm9ic2N1cml0eV0scGF0Y2hlczpbe2ZpbmQ6InJlbmRlclRpbWVCYXI9ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovcmVuZGVyVGltZUJhcj1mdW5jdGlvblwoKC57MSwzfSlcKXsuezAsNTB9P3Zhci8scmVwbGFjZToicmVuZGVyVGltZUJhcj1mdW5jdGlvbigkMSl7dmFyIn19XX0pfSk7dmFyIGJUPWcoKCk9Pnt9KTt2YXIgd3QsUWk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtNKCk7d3Q9RSh7cmVjZWl2ZWRJbnB1dDp7dHlwZTowLGRlc2NyaXB0aW9uOiJJbnB1dCBsYW5ndWFnZSBmb3IgcmVjZWl2ZWQgbWVzc2FnZXMiLGRlZmF1bHQ6ImF1dG8iLGhpZGRlbjohMH0scmVjZWl2ZWRPdXRwdXQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiT3V0cHV0IGxhbmd1YWdlIGZvciByZWNlaXZlZCBtZXNzYWdlcyIsZGVmYXVsdDoiZW4iLGhpZGRlbjohMH0sc2VudElucHV0Ont0eXBlOjAsZGVzY3JpcHRpb246IklucHV0IGxhbmd1YWdlIGZvciBzZW50IG1lc3NhZ2VzIixkZWZhdWx0OiJhdXRvIixoaWRkZW46ITB9LHNlbnRPdXRwdXQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiT3V0cHV0IGxhbmd1YWdlIGZvciBzZW50IG1lc3NhZ2VzIixkZWZhdWx0OiJlbiIsaGlkZGVuOiEwfSxhdXRvVHJhbnNsYXRlOnt0eXBlOjMsZGVzY3JpcHRpb246IkF1dG9tYXRpY2FsbHkgdHJhbnNsYXRlIHlvdXIgbWVzc2FnZXMgYmVmb3JlIHNlbmRpbmcuIFlvdSBjYW4gYWxzbyBzaGlmdC9yaWdodCBjbGljayB0aGUgdHJhbnNsYXRlIGJ1dHRvbiB0byB0b2dnbGUgdGhpcyIsZGVmYXVsdDohMX19KX0pO3ZhciBhbCxtZj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7YWw9e2F1dG86IkRldGVjdCBsYW5ndWFnZSIsYWY6IkFmcmlrYWFucyIsc3E6IkFsYmFuaWFuIixhbToiQW1oYXJpYyIsYXI6IkFyYWJpYyIsaHk6IkFybWVuaWFuIixhczoiQXNzYW1lc2UiLGF5OiJBeW1hcmEiLGF6OiJBemVyYmFpamFuaSIsYm06IkJhbWJhcmEiLGV1OiJCYXNxdWUiLGJlOiJCZWxhcnVzaWFuIixibjoiQmVuZ2FsaSIsYmhvOiJCaG9qcHVyaSIsYnM6IkJvc25pYW4iLGJnOiJCdWxnYXJpYW4iLGNhOiJDYXRhbGFuIixjZWI6IkNlYnVhbm8iLG55OiJDaGljaGV3YSIsInpoLUNOIjoiQ2hpbmVzZSAoU2ltcGxpZmllZCkiLCJ6aC1UVyI6IkNoaW5lc2UgKFRyYWRpdGlvbmFsKSIsY286IkNvcnNpY2FuIixocjoiQ3JvYXRpYW4iLGNzOiJDemVjaCIsZGE6IkRhbmlzaCIsZHY6IkRoaXZlaGkiLGRvaToiRG9ncmkiLG5sOiJEdXRjaCIsZW46IkVuZ2xpc2giLGVvOiJFc3BlcmFudG8iLGV0OiJFc3RvbmlhbiIsZWU6IkV3ZSIsdGw6IkZpbGlwaW5vIixmaToiRmlubmlzaCIsZnI6IkZyZW5jaCIsZnk6IkZyaXNpYW4iLGdsOiJHYWxpY2lhbiIsa2E6Ikdlb3JnaWFuIixkZToiR2VybWFuIixlbDoiR3JlZWsiLGduOiJHdWFyYW5pIixndToiR3VqYXJhdGkiLGh0OiJIYWl0aWFuIENyZW9sZSIsaGE6IkhhdXNhIixoYXc6Ikhhd2FpaWFuIixpdzoiSGVicmV3IixoaToiSGluZGkiLGhtbjoiSG1vbmciLGh1OiJIdW5nYXJpYW4iLGlzOiJJY2VsYW5kaWMiLGlnOiJJZ2JvIixpbG86Iklsb2Nhbm8iLGlkOiJJbmRvbmVzaWFuIixnYToiSXJpc2giLGl0OiJJdGFsaWFuIixqYToiSmFwYW5lc2UiLGp3OiJKYXZhbmVzZSIsa246Ikthbm5hZGEiLGtrOiJLYXpha2giLGttOiJLaG1lciIscnc6IktpbnlhcndhbmRhIixnb206IktvbmthbmkiLGtvOiJLb3JlYW4iLGtyaToiS3JpbyIsa3U6Ikt1cmRpc2ggKEt1cm1hbmppKSIsY2tiOiJLdXJkaXNoIChTb3JhbmkpIixreToiS3lyZ3l6IixsbzoiTGFvIixsYToiTGF0aW4iLGx2OiJMYXR2aWFuIixsbjoiTGluZ2FsYSIsbHQ6IkxpdGh1YW5pYW4iLGxnOiJMdWdhbmRhIixsYjoiTHV4ZW1ib3VyZ2lzaCIsbWs6Ik1hY2Vkb25pYW4iLG1haToiTWFpdGhpbGkiLG1nOiJNYWxhZ2FzeSIsbXM6Ik1hbGF5IixtbDoiTWFsYXlhbGFtIixtdDoiTWFsdGVzZSIsbWk6Ik1hb3JpIixtcjoiTWFyYXRoaSIsIm1uaS1NdGVpIjoiTWVpdGVpbG9uIChNYW5pcHVyaSkiLGx1czoiTWl6byIsbW46Ik1vbmdvbGlhbiIsbXk6Ik15YW5tYXIgKEJ1cm1lc2UpIixuZToiTmVwYWxpIixubzoiTm9yd2VnaWFuIixvcjoiT2RpYSAoT3JpeWEpIixvbToiT3JvbW8iLHBzOiJQYXNodG8iLGZhOiJQZXJzaWFuIixwbDoiUG9saXNoIixwdDoiUG9ydHVndWVzZSIscGE6IlB1bmphYmkiLHF1OiJRdWVjaHVhIixybzoiUm9tYW5pYW4iLHJ1OiJSdXNzaWFuIixzbToiU2Ftb2FuIixzYToiU2Fuc2tyaXQiLGdkOiJTY290cyBHYWVsaWMiLG5zbzoiU2VwZWRpIixzcjoiU2VyYmlhbiIsc3Q6IlNlc290aG8iLHNuOiJTaG9uYSIsc2Q6IlNpbmRoaSIsc2k6IlNpbmhhbGEiLHNrOiJTbG92YWsiLHNsOiJTbG92ZW5pYW4iLHNvOiJTb21hbGkiLGVzOiJTcGFuaXNoIixzdToiU3VuZGFuZXNlIixzdzoiU3dhaGlsaSIsc3Y6IlN3ZWRpc2giLHRnOiJUYWppayIsdGE6IlRhbWlsIix0dDoiVGF0YXIiLHRlOiJUZWx1Z3UiLHRoOiJUaGFpIix0aToiVGlncmlueWEiLHRzOiJUc29uZ2EiLHRyOiJUdXJraXNoIix0azoiVHVya21lbiIsYWs6IlR3aSIsdWs6IlVrcmFpbmlhbiIsdXI6IlVyZHUiLHVnOiJVeWdodXIiLHV6OiJVemJlayIsdmk6IlZpZXRuYW1lc2UiLGN5OiJXZWxzaCIseGg6Ilhob3NhIix5aToiWWlkZGlzaCIseW86IllvcnViYSIsenU6Ilp1bHUifX0pO2FzeW5jIGZ1bmN0aW9uIFZpKGUsdCl7bGV0IG49d3Quc3RvcmVbZSsiSW5wdXQiXSxyPXd0LnN0b3JlW2UrIk91dHB1dCJdLGk9Imh0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZWFwaXMuY29tL3RyYW5zbGF0ZV9hL3NpbmdsZT8iK25ldyBVUkxTZWFyY2hQYXJhbXMoe2NsaWVudDoiZ3R4IixzbDpuLHRsOnIsZHQ6InQiLGRqOiIxIixzb3VyY2U6ImlucHV0IixxOnR9KSxzPWF3YWl0IGYoaSk7aWYoIXMub2spdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdHJhbnNsYXRlICIke3R9IiAoJHtufSAtPiAke3J9KQoke3Muc3RhdHVzfSAke3Muc3RhdHVzVGV4dH1gKTtsZXR7c3JjOmMsc2VudGVuY2VzOnV9PWF3YWl0IHMuanNvbigpO3JldHVybntzcmM6Yyx0ZXh0OnUubWFwKHA9PnA/LnRyYW5zKS5maWx0ZXIoQm9vbGVhbikuam9pbigiIil9fXZhciBzbyxlcz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2UoKTtRaSgpO3NvPWJlKCJ2Yy10cmFucy0iKX0pO2Z1bmN0aW9uIGpDKHtzZXR0aW5nc0tleTplLGluY2x1ZGVBdXRvOnR9KXtsZXQgbj13dC51c2UoW2VdKVtlXSxyPUl0KCgpPT57bGV0IGk9T2JqZWN0LmVudHJpZXMoYWwpLm1hcCgoW3MsY10pPT4oe3ZhbHVlOnMsbGFiZWw6Y30pKTtyZXR1cm4gdHx8aS5zaGlmdCgpLGl9LFtdKTtyZXR1cm4gbygic2VjdGlvbiIse2NsYXNzTmFtZTp6LmJvdHRvbTE2fSxvKFQuRm9ybVRpdGxlLHt0YWc6ImgzIn0sd3QuZGVmW2VdLmRlc2NyaXB0aW9uKSxvKFNzLHtvcHRpb25zOnIsdmFsdWU6ci5maW5kKGk9PmkudmFsdWU9PT1uKSxwbGFjZWhvbGRlcjoiU2VsZWN0IGEgbGFuZ3VhZ2UiLG1heFZpc2libGVJdGVtczo1LGNsb3NlT25TZWxlY3Q6ITAsb25DaGFuZ2U6aT0+d3Quc3RvcmVbZV09aX0pKX1mdW5jdGlvbiBXQygpe2xldCBlPXd0LnVzZShbImF1dG9UcmFuc2xhdGUiXSkuYXV0b1RyYW5zbGF0ZTtyZXR1cm4gbyh5dCx7dmFsdWU6ZSxvbkNoYW5nZTp0PT53dC5zdG9yZS5hdXRvVHJhbnNsYXRlPXQsbm90ZTp3dC5kZWYuYXV0b1RyYW5zbGF0ZS5kZXNjcmlwdGlvbixoaWRlQm9yZGVyOiEwfSwiQXV0byBUcmFuc2xhdGUiKX1mdW5jdGlvbiBUVCh7cm9vdFByb3BzOmV9KXtyZXR1cm4gbyhMZSx7Li4uZX0sbygkZSx7Y2xhc3NOYW1lOnNvKCJtb2RhbC1oZWFkZXIiKX0sbyhULkZvcm1UaXRsZSx7dGFnOiJoMiJ9LCJUcmFuc2xhdGUiKSxvKFJ0LHtvbkNsaWNrOmUub25DbG9zZX0pKSxvKFVlLHtjbGFzc05hbWU6c28oIm1vZGFsLWNvbnRlbnQiKX0sekMubWFwKHQ9Pm8oakMse2tleTp0LHNldHRpbmdzS2V5OnQsaW5jbHVkZUF1dG86dC5lbmRzV2l0aCgiSW5wdXQiKX0pKSxvKFQuRm9ybURpdmlkZXIse2NsYXNzTmFtZTp6LmJvdHRvbTE2fSksbyhXQyxudWxsKSkpfXZhciB6Qyx4VD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bnQoKTtaZSgpO3coKTttZigpO1FpKCk7ZXMoKTt6Qz1bInJlY2VpdmVkSW5wdXQiLCJyZWNlaXZlZE91dHB1dCIsInNlbnRJbnB1dCIsInNlbnRPdXRwdXQiXX0pO2Z1bmN0aW9uIEZyKHtoZWlnaHQ6ZT0yNCx3aWR0aDp0PTI0LGNsYXNzTmFtZTpufSl7cmV0dXJuIG8oInN2ZyIse3ZpZXdCb3g6IjAgOTYgOTYwIDk2MCIsaGVpZ2h0OmUsd2lkdGg6dCxjbGFzc05hbWU6UShzbygiaWNvbiIpLG4pfSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJtNDc1IDk3NiAxODEtNDgwaDgybDE4NiA0ODBoLTg3bC00MS0xMjZINjA0bC00NyAxMjZoLTgyWm0xNTEtMTk2aDE0MmwtNzAtMTk0aC0ybC03MCAxOTRabS00NjYgNzYtNTUtNTUgMjA0LTIwNHEtMzgtNDQtNjcuNS04OC41VDE5MCA0MTZoODdxMTcgMzMgMzcuNSA2Mi41VDM2MSA1MzlxNDUtNDcgNzUtOTcuNVQ0ODcgMzM2SDQwdi04MGgyODB2LTgwaDgwdjgwaDI4MHY4MEg1NjdxLTIyIDY5LTU4LjUgMTM1LjVUNDE5IDU5OGw5OCA5OS0zMCA4MS0xMjctMTIyLTIwMCAyMDBaIn0pKX1mdW5jdGlvbiB3VCh7c2xhdGVQcm9wczplfSl7bGV0e2F1dG9UcmFuc2xhdGU6dH09d3QudXNlKFsiYXV0b1RyYW5zbGF0ZSJdKTtpZihlLnR5cGUuYW5hbHl0aWNzTmFtZSE9PSJub3JtYWwiKXJldHVybiBudWxsO2xldCBuPSgpPT53dC5zdG9yZS5hdXRvVHJhbnNsYXRlPSF0O3JldHVybiBvKFgse3RleHQ6Ik9wZW4gVHJhbnNsYXRlIE1vZGFsIn0sKHtvbk1vdXNlRW50ZXI6cixvbk1vdXNlTGVhdmU6aX0pPT5vKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiZmxleCJ9fSxvKFIseyJhcmlhLWhhc3BvcHVwIjoiZGlhbG9nIiwiYXJpYS1sYWJlbCI6IiIsc2l6ZToiIixsb29rOmVuLkJMQU5LLG9uTW91c2VFbnRlcjpyLG9uTW91c2VMZWF2ZTppLGlubmVyQ2xhc3NOYW1lOmd0LmJ1dHRvbixvbkNsaWNrOnM9PntpZihzLnNoaWZ0S2V5KXJldHVybiBuKCk7UGUoYz0+byhUVCx7cm9vdFByb3BzOmN9KSl9LG9uQ29udGV4dE1lbnU6KCk9Pm4oKSxzdHlsZTp7cGFkZGluZzoiMCA0cHgifX0sbygiZGl2Iix7Y2xhc3NOYW1lOmd0LmJ1dHRvbldyYXBwZXJ9LG8oRnIse2NsYXNzTmFtZTpzbyh7ImF1dG8tdHJhbnNsYXRlIjp0fSl9KSkpKSl9dmFyIGZmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtnZSgpO1plKCk7dygpO1FpKCk7eFQoKTtlcygpfSk7ZnVuY3Rpb24gaGYoZSx0KXtnZi5nZXQoZSkodCl9ZnVuY3Rpb24gcUMoe29uRGlzbWlzczplfSl7cmV0dXJuIG8oImJ1dHRvbiIse29uQ2xpY2s6ZSxjbGFzc05hbWU6c28oImRpc21pc3MiKX0sIkRpc21pc3MiKX1mdW5jdGlvbiBNVCh7bWVzc2FnZTplfSl7bGV0W3Qsbl09aigpO3JldHVybiBEZSgoKT0+e2lmKCFlLnZlbmNvcmRFbWJlZGRlZEJ5KXJldHVybiBnZi5zZXQoZS5pZCxuKSwoKT0+dm9pZCBnZi5kZWxldGUoZS5pZCl9LFtdKSx0P28oInNwYW4iLHtjbGFzc05hbWU6c28oImFjY2Vzc29yeSIpfSxvKEZyLHt3aWR0aDoxNixoZWlnaHQ6MTZ9KSxBZS5wYXJzZSh0LnRleHQpLCIgIiwiKHRyYW5zbGF0ZWQgZnJvbSAiLGFsW3Quc3JjXT8/dC5zcmMsIiAtICIsbyhxQyx7b25EaXNtaXNzOigpPT5uKHZvaWQgMCl9KSwiKSIpOm51bGx9dmFyIGdmLFBUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCk7bWYoKTtmZigpO2VzKCk7Z2Y9bmV3IE1hcH0pO3ZhciBJVCx5ZixDVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7YlQoKTtUdCgpO1NhKCk7JG4oKTtRbygpO3NlKCk7UCgpO00oKTt3KCk7UWkoKTtmZigpO1BUKCk7ZXMoKTtJVD0oZSx7bWVzc2FnZTp0fSk9PigpPT57aWYoIXQuY29udGVudClyZXR1cm47bGV0IG49bHQoImNvcHktdGV4dCIsZSk7IW58fG4uc3BsaWNlKG4uZmluZEluZGV4KHI9PnI/LnByb3BzPy5pZD09PSJjb3B5LXRleHQiKSsxLDAsbyhCLk1lbnVJdGVtLHtpZDoidmMtdHJhbnMiLGxhYmVsOiJUcmFuc2xhdGUiLGljb246RnIsYWN0aW9uOmFzeW5jKCk9PntsZXQgcj1hd2FpdCBWaSgicmVjZWl2ZWQiLHQuY29udGVudCk7aGYodC5pZCxyKX19KSl9LHlmPXYoe25hbWU6IlRyYW5zbGF0ZSIsZGVzY3JpcHRpb246IlRyYW5zbGF0ZSBtZXNzYWdlcyB3aXRoIEdvb2dsZSBUcmFuc2xhdGUiLGF1dGhvcnM6W20uVmVuXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlQWNjZXNzb3JpZXNBUEkiLCJNZXNzYWdlUG9wb3ZlckFQSSIsIk1lc3NhZ2VFdmVudHNBUEkiXSxzZXR0aW5nczp3dCx0cmFuc2xhdGU6VmkscGF0Y2hlczpbe2ZpbmQ6Ii5hY3RpdmVDb21tYW5kT3B0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6LyguKVwucHVzaC57MSwzMH1kaXNhYmxlZDooXGkpLC57MSwyMH1cfSwiZ2lmdCJcKVwpLyxyZXBsYWNlOiIkJjt0cnl7JDJ8fCQxLnB1c2goJHNlbGYuY2hhdEJhckljb24oYXJndW1lbnRzWzBdKSl9Y2F0Y2h7fSJ9fV0sc3RhcnQoKXtSaSgidmMtdHJhbnNsYXRpb24iLGU9Pm8oTVQse21lc3NhZ2U6ZS5tZXNzYWdlfSkpLGRlKCJtZXNzYWdlIixJVCksd24oInZjLXRyYW5zbGF0ZSIsZT0+ZS5jb250ZW50P3tsYWJlbDoiVHJhbnNsYXRlIixpY29uOkZyLG1lc3NhZ2U6ZSxjaGFubmVsOnRlLmdldENoYW5uZWwoZS5jaGFubmVsX2lkKSxvbkNsaWNrOmFzeW5jKCk9PntsZXQgdD1hd2FpdCBWaSgicmVjZWl2ZWQiLGUuY29udGVudCk7aGYoZS5pZCx0KX19Om51bGwpLHRoaXMucHJlU2VuZD1MdChhc3luYyhlLHQpPT57IXd0LnN0b3JlLmF1dG9UcmFuc2xhdGV8fCF0LmNvbnRlbnR8fCh0LmNvbnRlbnQ9KGF3YWl0IFZpKCJzZW50Iix0LmNvbnRlbnQpKS50ZXh0KX0pfSxzdG9wKCl7RXQodGhpcy5wcmVTZW5kKSxmZSgibWVzc2FnZSIsSVQpLE1uKCJ2Yy10cmFuc2xhdGUiKSxVcCgidmMtdHJhbnNsYXRpb24iKX0sY2hhdEJhckljb246ZT0+byhELHtub29wOiEwfSxvKHdULHtzbGF0ZVByb3BzOmV9KSl9KX0pO2Z1bmN0aW9uIHZmKHthOmUsYjp0LGM6bn0pe3JldHVybltvKCJzdHJvbmciLHtrZXk6IjAifSxlKSwiLCAiLG8oInN0cm9uZyIse2tleToiMiJ9LHQpLGAsIGFuZCAke259IG90aGVycyBhcmUgdHlwaW5nLi4uYF19dmFyIEtDLGxsLFlDLFNmLGJmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7c2UoKTtQKCk7YXQoKTtNKCk7RigpO3coKTtLQz1wZSgiLnR5cGluZ0luZGljYXRvclJlZiIsInN2ZyIpLGxsPUUoe3Nob3dBdmF0YXJzOnt0eXBlOjMsZGVmYXVsdDohMCxkZXNjcmlwdGlvbjoiU2hvdyBhdmF0YXJzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIn0sc2hvd1JvbGVDb2xvcnM6e3R5cGU6MyxkZWZhdWx0OiEwLGRlc2NyaXB0aW9uOiJTaG93IHJvbGUgY29sb3JzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIn0sYWx0ZXJuYXRpdmVGb3JtYXR0aW5nOnt0eXBlOjMsZGVmYXVsdDohMCxkZXNjcmlwdGlvbjoiU2hvdyBhIG1vcmUgdXNlZnVsIG1lc3NhZ2Ugd2hlbiBzZXZlcmFsIHVzZXJzIGFyZSB0eXBpbmcifX0pO1lDPUQud3JhcChmdW5jdGlvbih7dXNlcjplLGd1aWxkSWQ6dH0pe3JldHVybiBvKCJzdHJvbmciLHtyb2xlOiJidXR0b24iLG9uQ2xpY2s6KCk9Pnt5bihlLmlkKX0sc3R5bGU6e2Rpc3BsYXk6ImdyaWQiLGdyaWRBdXRvRmxvdzoiY29sdW1uIixnYXA6IjRweCIsY29sb3I6bGwuc3RvcmUuc2hvd1JvbGVDb2xvcnM/RmUuZ2V0TWVtYmVyKHQsZS5pZCk/LmNvbG9yU3RyaW5nOnZvaWQgMCxjdXJzb3I6InBvaW50ZXIifX0sbGwuc3RvcmUuc2hvd0F2YXRhcnMmJm8oImRpdiIse3N0eWxlOnttYXJnaW5Ub3A6IjRweCJ9fSxvKEtDLHtzaXplOiJTSVpFXzE2IixzcmM6ZS5nZXRBdmF0YXJVUkwodCwxMjgpfSkpLEZlLmdldE5pY2sodCxlLmlkKXx8IXQmJnN0LmdldE5pY2tuYW1lKGUuaWQpfHxlLmdsb2JhbE5hbWV8fGUudXNlcm5hbWUpfSx7bm9vcDohMH0pLFNmPXYoe25hbWU6IlR5cGluZ1R3ZWFrcyIsZGVzY3JpcHRpb246IlNob3cgYXZhdGFycyBhbmQgcm9sZSBjb2xvdXJzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIixhdXRob3JzOlttLnp0XSxwYXRjaGVzOlt7ZmluZDoiZ2V0Q29vbGRvd25UZXh0U3R5bGUiLHJlcGxhY2VtZW50OnttYXRjaDovPShcaSlcWzJdOyguKykiYXJpYS1hdG9taWMiOiEwLGNoaWxkcmVuOihcaSl9XCkvLHJlcGxhY2U6Jz0kMVsyXTskMiJhcmlhLWF0b21pYyI6ITAsc3R5bGU6e2Rpc3BsYXk6ImdyaWQiLGdyaWRBdXRvRmxvdzoiY29sdW1uIixncmlkR2FwOiIwLjI1ZW0ifSxjaGlsZHJlbjokc2VsZi5tdXRhdGVDaGlsZHJlbih0aGlzLnByb3BzLCQxLCQzKX0pJ319LHtmaW5kOiJnZXRDb29sZG93blRleHRTdHlsZSIscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gXGlcLlxpXC5nZXROYW1lXCguLC5cLnByb3BzXC5jaGFubmVsXC5pZCwoLilcKS8scmVwbGFjZToicmV0dXJuICQxIn19LHtmaW5kOiJnZXRDb29sZG93blRleHRTdHlsZSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oKFxpKVwubGVuZ3RoXD8uXC4uXC5NZXNzYWdlc1wuVEhSRUVfVVNFUlNfVFlQSU5HLmZvcm1hdFwoXHthOihcaSksYjooXGkpLGM6Ln1cKSk6Lis/U0VWRVJBTF9VU0VSU19UWVBJTkcvLHJlcGxhY2U6IiQxOiRzZWxmLmJ1aWxkU2V2ZXJhbFVzZXJzKHthOiQzLGI6JDQsYzokMi5sZW5ndGgtMn0pIn0scHJlZGljYXRlOigpPT5sbC5zdG9yZS5hbHRlcm5hdGl2ZUZvcm1hdHRpbmd9XSxzZXR0aW5nczpsbCxidWlsZFNldmVyYWxVc2Vyczp2ZixtdXRhdGVDaGlsZHJlbihlLHQsbil7aWYoIUFycmF5LmlzQXJyYXkobikpcmV0dXJuIG47bGV0IHI9MDtyZXR1cm4gbi5tYXAoaT0+aS50eXBlPT09InN0cm9uZyI/byhZQyx7Li4uZSx1c2VyOnRbcisrXX0pOmkpfX0pfSk7ZnVuY3Rpb24gQW8oZSx0KXtyZXR1cm4gRmUuZ2V0TmljayhlLHQpPz9HLmdldFVzZXIodCkudXNlcm5hbWV9ZnVuY3Rpb24gSkMoe2NoYW5uZWxJZDplfSl7bGV0IHQ9cWUoW05UXSwoKT0+KHsuLi5OVC5nZXRUeXBpbmdVc2VycyhlKX0pLG51bGwsKGMsdSk9PntsZXQgcD1PYmplY3Qua2V5cyhjKSx5PU9iamVjdC5rZXlzKHUpO3JldHVybiBwLmxlbmd0aD09PXkubGVuZ3RoJiZKU09OLnN0cmluZ2lmeShwKT09PUpTT04uc3RyaW5naWZ5KHkpfSksbj10ZS5nZXRDaGFubmVsKGUpLmd1aWxkX2lkO2lmKCFUZi5zdG9yZS5pbmNsdWRlTXV0ZWRDaGFubmVscyYmWEMuaXNDaGFubmVsTXV0ZWQobixlKSlyZXR1cm4gbnVsbDtsZXQgcj1HLmdldEN1cnJlbnRVc2VyKCk/LmlkLGk9T2JqZWN0LmtleXModCkuZmlsdGVyKGM9PmMhPT1yJiYhKHN0LmlzQmxvY2tlZChjKSYmIVRmLnN0b3JlLmluY2x1ZGVCbG9ja2VkVXNlcnMpKSxzO3N3aXRjaChpLmxlbmd0aCl7Y2FzZSAwOmJyZWFrO2Nhc2UgMTp7cz1jbC5NZXNzYWdlcy5PTkVfVVNFUl9UWVBJTkcuZm9ybWF0KHthOkFvKG4saVswXSl9KTticmVha31jYXNlIDI6e3M9Y2wuTWVzc2FnZXMuVFdPX1VTRVJTX1RZUElORy5mb3JtYXQoe2E6QW8obixpWzBdKSxiOkFvKG4saVsxXSl9KTticmVha31jYXNlIDM6e3M9Y2wuTWVzc2FnZXMuVEhSRUVfVVNFUlNfVFlQSU5HLmZvcm1hdCh7YTpBbyhuLGlbMF0pLGI6QW8obixpWzFdKSxjOkFvKG4saVsyXSl9KTticmVha31kZWZhdWx0OntzPWsucGx1Z2lucy5UeXBpbmdUd2Vha3MuZW5hYmxlZD92Zih7YTpBbyhuLGlbMF0pLGI6QW8obixpWzFdKSxjOmkubGVuZ3RoLTJ9KTpjbC5NZXNzYWdlcy5TRVZFUkFMX1VTRVJTX1RZUElORzticmVha319cmV0dXJuIGkubGVuZ3RoPjA/byhYLHt0ZXh0OnN9LCh7b25Nb3VzZUxlYXZlOmMsb25Nb3VzZUVudGVyOnV9KT0+bygiZGl2Iix7c3R5bGU6e21hcmdpbkxlZnQ6NixoZWlnaHQ6MTYsZGlzcGxheToiZmxleCIsYWxpZ25JdGVtczoiY2VudGVyIix6SW5kZXg6MCxjdXJzb3I6InBvaW50ZXIifSxvbk1vdXNlTGVhdmU6Yyxvbk1vdXNlRW50ZXI6dX0sbyhaQyx7ZG90UmFkaXVzOjMsdGhlbWVkOiEwfSkpKTpudWxsfXZhciBaQyxOVCxYQyxjbCxUZix4ZixSVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO3NlKCk7UCgpO2hlKCk7TSgpO0YoKTt3KCk7YmYoKTtaQz1yZSgoKT0+cXQoZT0+ZS50eXBlPy5yZW5kZXI/LnRvU3RyaW5nKCk/LmluY2x1ZGVzKCIoKS5kb3RzIikpKSxOVD1sZSgiVHlwaW5nU3RvcmUiKSxYQz1sZSgiVXNlckd1aWxkU2V0dGluZ3NTdG9yZSIpLGNsPVJlKGU9PmUuTWVzc2FnZXM/LlNFVkVSQUxfVVNFUlNfVFlQSU5HKTtUZj1FKHtpbmNsdWRlTXV0ZWRDaGFubmVsczp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHNob3cgdGhlIHR5cGluZyBpbmRpY2F0b3IgZm9yIG11dGVkIGNoYW5uZWxzLiIsZGVmYXVsdDohMX0saW5jbHVkZUJsb2NrZWRVc2Vyczp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHNob3cgdGhlIHR5cGluZyBpbmRpY2F0b3IgZm9yIGJsb2NrZWQgdXNlcnMuIixkZWZhdWx0OiExfX0pLHhmPXYoe25hbWU6IlR5cGluZ0luZGljYXRvciIsZGVzY3JpcHRpb246IkFkZHMgYW4gaW5kaWNhdG9yIGlmIHNvbWVvbmUgaXMgdHlwaW5nIG9uIGEgY2hhbm5lbC4iLGF1dGhvcnM6W20uTnVja3l6LG0ub2JzY3VyaXR5XSxzZXR0aW5nczpUZixwYXRjaGVzOlt7ZmluZDoiLlVOUkVBRF9ISUdITElHSFQiLHJlcGxhY2VtZW50OnttYXRjaDovXChcKS5jaGlsZHJlbi4rPzpudWxsKD88PShcaSk9XGlcLmNoYW5uZWwsLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0sJHNlbGYuVHlwaW5nSW5kaWNhdG9yKCR7dH0uaWQpYH19XSxUeXBpbmdJbmRpY2F0b3I6ZT0+byhELHtub29wOiEwfSxvKEpDLHtjaGFubmVsSWQ6ZX0pKX0pfSk7dmFyIHdmLGtUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTskbigpO1AoKTtNKCk7d2Y9dih7bmFtZToiVW5pbmRlbnQiLGRlc2NyaXB0aW9uOiJUcmltcyBsZWFkaW5nIGluZGVudGF0aW9uIGZyb20gY29kZWJsb2NrcyIsYXV0aG9yczpbbS5WZW5dLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VFdmVudHNBUEkiXSxwYXRjaGVzOlt7ZmluZDoiaW5RdW90ZToiLHJlcGxhY2VtZW50OnttYXRjaDovLGNvbnRlbnQ6KFteLF0rKSxpblF1b3RlLyxyZXBsYWNlOihlLHQpPT5gLGNvbnRlbnQ6VmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuVW5pbmRlbnQudW5pbmRlbnQoJHt0fSksaW5RdW90ZWB9fV0sdW5pbmRlbnQoZSl7ZT1lLnJlcGxhY2UoL1x0L2csIiAgICAiKTtsZXQgdD1lLm1hdGNoKC9eICooPz1cUykvZ20pPy5yZWR1Y2UoKG4scik9Pk1hdGgubWluKG4sci5sZW5ndGgpLDEvMCk/PzA7cmV0dXJuIHQ/ZS5yZXBsYWNlKG5ldyBSZWdFeHAoYF4geyR7dH19YCwiZ20iKSwiIik6ZX0sdW5pbmRlbnRNc2coZSl7ZS5jb250ZW50PWUuY29udGVudC5yZXBsYWNlKC9gYGAoLnxcbikqP2BgYC9nLHQ9PntsZXQgbj10LnNwbGl0KGAKYCk7aWYobi5sZW5ndGg8MilyZXR1cm4gdDtsZXQgcj0iIjtyZXR1cm4gbltuLmxlbmd0aC0xXT09PSJgYGAiJiYocj1uLnBvcCgpKSxgJHtuWzBdfQoke3RoaXMudW5pbmRlbnQobi5zbGljZSgxKS5qb2luKGAKYCkpfQoke3J9YH0pfSxzdGFydCgpe3RoaXMucHJlU2VuZD1MdCgoZSx0KT0+dGhpcy51bmluZGVudE1zZyh0KSksdGhpcy5wcmVFZGl0PVlvKChlLHQsbik9PnRoaXMudW5pbmRlbnRNc2cobikpfSxzdG9wKCl7RXQodGhpcy5wcmVTZW5kKSxabyh0aGlzLnByZUVkaXQpfX0pfSk7dmFyIE1mLEFULFBmLExUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtUdCgpO3huKCk7UCgpO00oKTt3KCk7TWY9MTw8MixBVD0oZSx7Y2hhbm5lbDp0LG1lc3NhZ2U6e2F1dGhvcjpuLGVtYmVkczpyLGZsYWdzOmksaWQ6c319KT0+KCk9PntsZXQgYz0oaSZNZikhPT0wO2lmKCFjJiYhci5sZW5ndGgpcmV0dXJuO2xldCB1PXQuaXNQcml2YXRlKCl8fCEhKEJlLmdldENoYW5uZWxQZXJtaXNzaW9ucyh7aWQ6dC5pZH0pJkt0LkVNQkVEX0xJTktTKTtpZihuLmlkPT09Ry5nZXRDdXJyZW50VXNlcigpLmlkJiYhdSlyZXR1cm47bGV0IHA9bHQoImRlbGV0ZSIsZSkseT1wPy5maW5kSW5kZXgoaD0+aD8ucHJvcHM/LmlkPT09ImRlbGV0ZSIpOyF5fHwhcHx8cC5zcGxpY2UoeS0xLDAsbyhCLk1lbnVJdGVtLHtpZDoidW5zdXBwcmVzcy1lbWJlZHMiLGtleToidW5zdXBwcmVzcy1lbWJlZHMiLGxhYmVsOmM/IlVuc3VwcHJlc3MgRW1iZWRzIjoiU3VwcHJlc3MgRW1iZWRzIixjb2xvcjpjP3ZvaWQgMDoiZGFuZ2VyIixpY29uOmM/YWE6bGEsYWN0aW9uOigpPT5TdC5wYXRjaCh7dXJsOmAvY2hhbm5lbHMvJHt0LmlkfS9tZXNzYWdlcy8ke3N9YCxib2R5OntmbGFnczpjP2kmfk1mOml8TWZ9fSl9KSl9LFBmPXYoe25hbWU6IlVuc3VwcHJlc3NFbWJlZHMiLGF1dGhvcnM6W20ucmFkLG0uSHlwZWREb21pXSxkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byB1bnN1cHByZXNzIGVtYmVkcyBpbiBtZXNzYWdlcyIsc3RhcnQoKXtkZSgibWVzc2FnZSIsQVQpfSxzdG9wKCl7ZmUoIm1lc3NhZ2UiLEFUKX19KX0pO3ZhciBJZixFVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtlYSgpO1AoKTtNKCk7SWY9dih7bmFtZToiVXJiYW5EaWN0aW9uYXJ5IixkZXNjcmlwdGlvbjoiU2VhcmNoIGZvciBhIHdvcmQgb24gVXJiYW4gRGljdGlvbmFyeSB2aWEgL3VyYmFuIHNsYXNoIGNvbW1hbmQiLGF1dGhvcnM6W20uamV3ZGV2XSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToidXJiYW4iLGRlc2NyaXB0aW9uOiJSZXR1cm5zIHRoZSBkZWZpbml0aW9uIG9mIGEgd29yZCBmcm9tIFVyYmFuIERpY3Rpb25hcnkiLGlucHV0VHlwZTowLG9wdGlvbnM6W3t0eXBlOjMsbmFtZToid29yZCIsZGVzY3JpcHRpb246IlRoZSB3b3JkIHRvIHNlYXJjaCBmb3Igb24gVXJiYW4gRGljdGlvbmFyeSIscmVxdWlyZWQ6ITB9XSxleGVjdXRlOmFzeW5jKGUsdCk9Pnt0cnl7bGV0IG49ZW5jb2RlVVJJQ29tcG9uZW50KGVbMF0udmFsdWUpLHtsaXN0OltyXX09YXdhaXQoYXdhaXQgZihgaHR0cHM6Ly9hcGkudXJiYW5kaWN0aW9uYXJ5LmNvbS92MC9kZWZpbmU/dGVybT0ke259YCkpLmpzb24oKTtpZighcilyZXR1cm4gdm9pZCBhZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6Ik5vIHJlc3VsdHMgZm91bmQuIn0pO2xldCBpPXM9PnMucmVwbGFjZUFsbChgXHIKYCxgCmApLnJlcGxhY2UoLyhbKj5fYH5cXF0pL2dzaSwiXFwkMSIpLnJlcGxhY2UoL1xbKC4rPylcXS9nLChjLHUpPT5gWyR7dX1dKGh0dHBzOi8vd3d3LnVyYmFuZGljdGlvbmFyeS5jb20vZGVmaW5lLnBocD90ZXJtPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHUpfSAiRGVmaW5lICcke3V9JyBvbiBVcmJhbiBEaWN0aW9uYXJ5IilgKS50cmltKCk7cmV0dXJuIHZvaWQgYWUodC5jaGFubmVsLmlkLHtlbWJlZHM6W3t0eXBlOiJyaWNoIixhdXRob3I6e25hbWU6YFVwbG9hZGVkIGJ5ICIke3IuYXV0aG9yfSJgLHVybDpgaHR0cHM6Ly93d3cudXJiYW5kaWN0aW9uYXJ5LmNvbS9hdXRob3IucGhwP2F1dGhvcj0ke2VuY29kZVVSSUNvbXBvbmVudChyLmF1dGhvcil9YH0sdGl0bGU6ci53b3JkLHVybDpgaHR0cHM6Ly93d3cudXJiYW5kaWN0aW9uYXJ5LmNvbS9kZWZpbmUucGhwP3Rlcm09JHtlbmNvZGVVUklDb21wb25lbnQoci53b3JkKX1gLGRlc2NyaXB0aW9uOmkoci5kZWZpbml0aW9uKSxmaWVsZHM6W3tuYW1lOiJFeGFtcGxlIix2YWx1ZTppKHIuZXhhbXBsZSl9LHtuYW1lOiJXYW50IG1vcmUgZGVmaW5pdGlvbnM/Iix2YWx1ZTpgQ2hlY2sgb3V0IFttb3JlIGRlZmluaXRpb25zXShodHRwczovL3d3dy51cmJhbmRpY3Rpb25hcnkuY29tL2RlZmluZS5waHA/dGVybT0ke259ICJEZWZpbmUgIiR7ZVswXS52YWx1ZX0iIG9uIFVyYmFuIERpY3Rpb25hcnkiKSBvbiBVcmJhbiBEaWN0aW9uYXJ5LmB9XSxjb2xvcjoxNjc1MDg0OCxmb290ZXI6e3RleHQ6YFx1ezFGNDREfSAke3IudGh1bWJzX3VwLnRvU3RyaW5nKCl9IHwgXHV7MUY0NEV9ICR7ci50aHVtYnNfZG93bi50b1N0cmluZygpfWAsaWNvbl91cmw6Imh0dHBzOi8vd3d3LnVyYmFuZGljdGlvbmFyeS5jb20vZmF2aWNvbi5pY28ifSx0aW1lc3RhbXA6bmV3IERhdGUoci53cml0dGVuX29uKS50b0lTT1N0cmluZygpfV19KX1jYXRjaChuKXthZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6YFNvbWV0aGluZyB3ZW50IHdyb25nOiBcYCR7bn1cYGB9KX19fV19KX0pO3ZhciBEVD1nKCgpPT57fSk7dmFyIFFDLFZDLGVOLE9ULF9UPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtEVCgpO0YoKTt3KCk7UUM9Qygic2VsZWN0Q2hhbm5lbCIsInNlbGVjdFZvaWNlQ2hhbm5lbCIpLFZDPXBlKCIubGFzdFNlY3Rpb24iLCIuY2hpbGRyZW4iKSxlTj0xbjw8MjBuLE9UPSh7Y2hhbm5lbDplLGxhYmVsOnQsc2hvd0hlYWRlcjpufSk9Pm8oVkMsbnVsbCxuJiZvKFQuRm9ybVRpdGxlLHtjbGFzc05hbWU6InZjLXV2cy1oZWFkZXIifSwiSW4gYSB2b2ljZSBjaGFubmVsIiksbyhSLHtjbGFzc05hbWU6InZjLXV2cy1idXR0b24iLGNvbG9yOlIuQ29sb3JzLlRSQU5TUEFSRU5ULHNpemU6Ui5TaXplcy5TTUFMTCxvbkNsaWNrOigpPT57QmUuY2FuKGVOLGUpP1FDLnNlbGVjdFZvaWNlQ2hhbm5lbChlLmlkKTpaLnNob3coe21lc3NhZ2U6Ikluc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBlbnRlciB0aGUgY2hhbm5lbC4iLGlkOiJ1c2VyLXZvaWNlLXNob3ctaW5zdWZmaWNpZW50LXBlcm1pc3Npb25zIix0eXBlOlouVHlwZS5GQUlMVVJFLG9wdGlvbnM6e3Bvc2l0aW9uOlouUG9zaXRpb24uQk9UVE9NfX0pfX0sdCkpfSk7dmFyIHROLG5OLENmLEJULE5mLEZUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7c2UoKTtQKCk7TSgpO0YoKTt3KCk7X1QoKTt0Tj1sZSgiVm9pY2VTdGF0ZVN0b3JlIiksbk49Qygic2VjdGlvbiIsImxhc3RTZWN0aW9uIiksQ2Y9RSh7c2hvd0luVXNlclByb2ZpbGVNb2RhbDp7dHlwZTozLGRlc2NyaXB0aW9uOiJTaG93IGEgdXNlcidzIHZvaWNlIGNoYW5uZWwgaW4gdGhlaXIgcHJvZmlsZSBtb2RhbCIsZGVmYXVsdDohMH0sc2hvd1ZvaWNlQ2hhbm5lbFNlY3Rpb25IZWFkZXI6e3R5cGU6MyxkZXNjcmlwdGlvbjonV2hldGhlciB0byBzaG93ICJJTiBBIFZPSUNFIENIQU5ORUwiIGFib3ZlIHRoZSBqb2luIGJ1dHRvbicsZGVmYXVsdDohMH19KSxCVD1ELndyYXAoKHt1c2VyOmV9KT0+e2xldHtjaGFubmVsSWQ6dH09dE4uZ2V0Vm9pY2VTdGF0ZUZvclVzZXIoZS5pZCk/P3t9O2lmKCF0KXJldHVybiBudWxsO2xldCBuPXRlLmdldENoYW5uZWwodCk7aWYoIW4pcmV0dXJuIG51bGw7bGV0IHI9bWUuZ2V0R3VpbGQobi5ndWlsZF9pZCk7aWYoIXIpcmV0dXJuIG51bGw7bGV0IGk9YCR7ci5uYW1lfSB8ICR7bi5uYW1lfWA7cmV0dXJuIG8oT1Qse2NoYW5uZWw6bixsYWJlbDppLHNob3dIZWFkZXI6Q2Yuc3RvcmUuc2hvd1ZvaWNlQ2hhbm5lbFNlY3Rpb25IZWFkZXJ9KX0pLE5mPXYoe25hbWU6IlVzZXJWb2ljZVNob3ciLGRlc2NyaXB0aW9uOiJTaG93cyB3aGV0aGVyIGEgVXNlciBpcyBjdXJyZW50bHkgaW4gYSB2b2ljZSBjaGFubmVsIHNvbWV3aGVyZSBpbiB0aGVpciBwcm9maWxlIixhdXRob3JzOlttLkxvcmRFbGlhc10sc2V0dGluZ3M6Q2YscGF0Y2hNb2RhbCh7dXNlcjplfSl7cmV0dXJuIENmLnN0b3JlLnNob3dJblVzZXJQcm9maWxlTW9kYWw/bygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy11dnMtbW9kYWwtbWFyZ2luIn0sbyhCVCx7dXNlcjplfSkpOm51bGx9LHBhdGNoUG9wb3V0Oih7dXNlcjplfSk9PntsZXQgdD1lLmlkPT09Ry5nZXRDdXJyZW50VXNlcigpLmlkO3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6dD9gdmMtdXZzLXBvcG91dC1tYXJnaW4gJHtuTi5sYXN0U2VjdGlvbn1gOiIifSxvKEJULHt1c2VyOmV9KSl9LHBhdGNoZXM6W3tmaW5kOiIuc2hvd0NvcGlhYmxlVXNlcm5hbWUiLHJlcGxhY2VtZW50OnttYXRjaDovXCgwLFx3XC5qc3hcKVwoXHd7Mn0se3VzZXI6XHcsc2V0Tm90ZS8scmVwbGFjZToiJHNlbGYucGF0Y2hQb3BvdXQoYXJndW1lbnRzWzBdKSwkJiJ9fSx7ZmluZDoiLlVTRVJfUFJPRklMRV9NT0RBTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9cKFwpXC5ib2R5Lis/ZGlzcGxheVByb2ZpbGU6XGl9XCksLyxyZXBsYWNlOiIkJiRzZWxmLnBhdGNoTW9kYWwoYXJndW1lbnRzWzBdKSwifX1dfSl9KTt2YXIgJFQsVVQ9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy91c3JiZy9pbmRleC5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy91c3JiZy9pbmRleC5jc3MiLHNvdXJjZTpgOmlzKFtjbGFzcyo9InVzZXJQcm9maWxlIl0sIFtjbGFzcyo9InVzZXJQb3BvdXQiXSkgW2NsYXNzKj0iYmFubmVyUHJlbWl1bSJdIHsKICAgIGJhY2tncm91bmQ6IGNlbnRlciAvIGNvdmVyIG5vLXJlcGVhdDsKfQoKW2NsYXNzKj0iTm9uUHJlbWl1bSJdOmhhcyhbY2xhc3MqPSJiYW5uZXJQcmVtaXVtIl0pIFtjbGFzcyo9ImF2YXRhclBvc2l0aW9uTm9ybWFsIl0sCltjbGFzcyo9IlByZW1pdW1XaXRob3V0QmFubmVyIl06aGFzKFtjbGFzcyo9ImJhbm5lclByZW1pdW0iXSkgW2NsYXNzKj0iYXZhdGFyUG9zaXRpb25QcmVtaXVtTm9CYW5uZXIiXSB7CiAgICB0b3A6IDc2cHg7Cn0KCltzdHlsZSo9ImJhY2tncm91bmQtaW1hZ2UiXSBbY2xhc3MqPSJiYWNrZ3JvdW5kLSJdIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7JFQ9InNyYy9wbHVnaW5zL3VzcmJnL2luZGV4LmNzcyJ9KTt2YXIgb04scnIsdWwsUmYsR1Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtPZSgpO3hvKCk7UCgpO00oKTtVVCgpO29OPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQXV0dW1uVk4vdXNyYmcvbWFpbi91c3JiZy5qc29uIixycj17fSx1bD1FKHtuaXRyb0ZpcnN0OntkZXNjcmlwdGlvbjoiQmFubmVyIHRvIHVzZSBpZiBib3RoIE5pdHJvIGFuZCBVU1JCRyBiYW5uZXJzIGFyZSBwcmVzZW50Iix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJOaXRybyBiYW5uZXIiLHZhbHVlOiEwLGRlZmF1bHQ6ITB9LHtsYWJlbDoiVVNSQkcgYmFubmVyIix2YWx1ZTohMX1dfSx2b2ljZUJhY2tncm91bmQ6e2Rlc2NyaXB0aW9uOiJVc2UgVVNSQkcgYmFubmVycyBhcyB2b2ljZSBjaGF0IGJhY2tncm91bmRzIix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfX0pLFJmPXYoe25hbWU6IlVTUkJHIixkZXNjcmlwdGlvbjoiRGlzcGxheXMgdXNlciBiYW5uZXJzIGZyb20gVVNSQkcsIGFsbG93aW5nIGFueW9uZSB0byBnZXQgYSBiYW5uZXIgd2l0aG91dCBOaXRybyIsYXV0aG9yczpbbS5BdXR1bW5WTixtLnB5bGl4LG0uVGhlS29kZVRvYWRdLHNldHRpbmdzOnVsLHBhdGNoZXM6W3tmaW5kOiIuTklUUk9fQkFOTkVSLCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFxpKVwucHJlbWl1bVR5cGUvLHJlcGxhY2U6IiRzZWxmLnByZW1pdW1Ib29rKCQxKXx8JCYifSx7bWF0Y2g6LyhcaSlcLmJhbm5lclNyYywvLHJlcGxhY2U6IiRzZWxmLnVzZUJhbm5lckhvb2soJDEpLCJ9LHttYXRjaDovXD9cKDAsXGlcLmpzeFwpXChcaSx7dHlwZTpcaSxzaG93bi8scmVwbGFjZToiJiYkc2VsZi5zaG91bGRTaG93QmFkZ2UoYXJndW1lbnRzWzBdKSQmIn1dfSx7ZmluZDonImRhdGEtc2VsZW5pdW0tdmlkZW8tdGlsZSI6JyxwcmVkaWNhdGU6KCk9PnVsLnN0b3JlLnZvaWNlQmFja2dyb3VuZCxyZXBsYWNlbWVudDpbe21hdGNoOi8oXGkpXC5zdHlsZSwvLHJlcGxhY2U6IiRzZWxmLnZvaWNlQmFja2dyb3VuZEhvb2soJDEpLCJ9XX1dLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KCk9Pm8ocnQse2hyZWY6Imh0dHBzOi8vZ2l0aHViLmNvbS9BdXR1bW5WTi91c3JiZyNob3ctdG8tcmVxdWVzdC15b3VyLW93bi11c3JiZy1iYW5uZXIifSwiQ0xJQ0sgSEVSRSBUTyBHRVQgWU9VUiBPV04gQkFOTkVSIiksdm9pY2VCYWNrZ3JvdW5kSG9vayh7Y2xhc3NOYW1lOmUscGFydGljaXBhbnRVc2VySWQ6dH0pe2lmKGUuaW5jbHVkZXMoInRpbGUtIikmJnJyW3RdKXJldHVybntiYWNrZ3JvdW5kSW1hZ2U6YHVybCgke3JyW3RdfSlgLGJhY2tncm91bmRTaXplOiJjb3ZlciIsYmFja2dyb3VuZFBvc2l0aW9uOiJjZW50ZXIiLGJhY2tncm91bmRSZXBlYXQ6Im5vLXJlcGVhdCJ9fSx1c2VCYW5uZXJIb29rKHtkaXNwbGF5UHJvZmlsZTplLHVzZXI6dH0pe2lmKCEoZT8uYmFubmVyJiZ1bC5zdG9yZS5uaXRyb0ZpcnN0KSYmcnJbdC5pZF0pcmV0dXJuIHJyW3QuaWRdfSxwcmVtaXVtSG9vayh7dXNlcklkOmV9KXtpZihycltlXSlyZXR1cm4gMn0sc2hvdWxkU2hvd0JhZGdlKHtkaXNwbGF5UHJvZmlsZTplLHVzZXI6dH0pe3JldHVybiBlPy5iYW5uZXImJighcnJbdC5pZF18fHVsLnN0b3JlLm5pdHJvRmlyc3QpfSxhc3luYyBzdGFydCgpe290KCRUKTtsZXQgZT1hd2FpdCBmKG9OKTtlLm9rJiYocnI9YXdhaXQgZS5qc29uKCkpfX0pfSk7ZnVuY3Rpb24gaU4oe2RhdGE6ZSxVc2VyTWVudGlvbjp0LFJvbGVNZW50aW9uOm4scGFyc2U6cixwcm9wczppfSl7bGV0W3MsY109aihlLnVzZXJJZCk7aWYocylyZXR1cm4gbyh0LHtjbGFzc05hbWU6Im1lbnRpb24iLHVzZXJJZDpzLGNoYW5uZWxJZDplLmNoYW5uZWxJZCxpbmxpbmVQcmV2aWV3Omkubm9TdHlsZUFuZEludGVyYWN0aW9uLGtleTppLmtleX0pO2xldCB1PXIoZS5jb250ZW50LGkpO3JldHVybiBvKG4sey4uLmUsaW5saW5lUHJldmlldzppLmZvcm1hdElubGluZX0sbygic3BhbiIse29uTW91c2VFbnRlcjooKT0+e2xldCBwPXU/LlswXT8ucHJvcHM/LmNoaWxkcmVuO2lmKHR5cGVvZiBwIT0ic3RyaW5nIilyZXR1cm47bGV0IHk9cC5tYXRjaCgvPEAhPyhcZCspPi8pPy5bMV07aWYoIXl8fHBsLmhhcyh5KSlyZXR1cm47aWYoRy5nZXRVc2VyKHkpKXJldHVybiBjKHkpO2xldCBoPSgpPT57cGwuYWRkKHkpLEhULnVuc2hpZnQoKCk9PnJOKHkpLnRoZW4oKCk9PntjKHkpLHBsLmRlbGV0ZSh5KX0pLmNhdGNoKFM9PntTPy5zdGF0dXM9PT00MjkmJihIVC51bnNoaWZ0KCgpPT5hbygxZTMpLnRoZW4oaCkpLHBsLmRlbGV0ZSh5KSl9KS5maW5hbGx5KCgpPT5hbygzMDApKSl9O2goKX19LHUpKX12YXIgcGwsSFQsck4sa2YselQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7UCgpO2dlKCk7bXIoKTtNKCk7RigpO3coKTtwbD1uZXcgU2V0LEhUPW5ldyB2big1KSxyTj1wZSgiVVNFUigiKTtrZj12KHtuYW1lOiJWYWxpZFVzZXIiLGRlc2NyaXB0aW9uOiJGaXggbWVudGlvbnMgZm9yIHVua25vd24gdXNlcnMgc2hvd2luZyB1cCBhcyAnPEAzNDMzODM1NzI4MDUwNTg1NjA+JyAoaG92ZXIgb3ZlciBhIG1lbnRpb24gdG8gZml4IGl0KSIsYXV0aG9yczpbbS5WZW5dLHRhZ3M6WyJNZW50aW9uQ2FjaGVGaXgiXSxwYXRjaGVzOlt7ZmluZDonY2xhc3NOYW1lOiJtZW50aW9uIicscmVwbGFjZW1lbnQ6e21hdGNoOi9yZWFjdDooPz1mdW5jdGlvblwoXGksXGksXGlcKS57MCw1MH1yZXR1cm4gbnVsbD09XGlcP1woMCxcaVwuanN4XClcKChcaSksLis/anN4XClcKChcaSksXHtjbGFzc05hbWU6Im1lbnRpb24iKS8scmVwbGFjZToicmVhY3Q6KC4uLmFyZ3MpPT4kc2VsZi5yZW5kZXJNZW50aW9uKCQxLCQyLC4uLmFyZ3MpLG9yaWdpbmFsUmVhY3Q6In19XSxyZW5kZXJNZW50aW9uKGUsdCxuLHIsaSl7cmV0dXJuIG8oRCx7bm9vcDohMH0sbyhpTix7Um9sZU1lbnRpb246ZSxVc2VyTWVudGlvbjp0LGRhdGE6bixwYXJzZTpyLHByb3BzOml9KSl9fSl9KTt2YXIgQWYsTGYsalQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtNKCk7dygpO0FmPXt9LExmPXYoe25hbWU6IlZvaWNlQ2hhdERvdWJsZUNsaWNrIixkZXNjcmlwdGlvbjoiSm9pbiB2b2ljZSBjaGF0cyB2aWEgZG91YmxlIGNsaWNrIGluc3RlYWQgb2Ygc2luZ2xlIGNsaWNrIixhdXRob3JzOlttLlZlbixtLkQzU09YXSxwYXRjaGVzOlt7ZmluZDoiVm9pY2VDaGFubmVsLnJlbmRlclBvcG91dCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovb25DbGljazpmdW5jdGlvblwoXClceyhlXC5oYW5kbGVDbGljay4rPyl9L2cscmVwbGFjZToib25DbGljazpmdW5jdGlvbigpeyRzZWxmLnNjaGVkdWxlKCgpPT57JDF9LGUpfSJ9XX0se2ZpbmQ6Ii5zaG91bGRDbG9zZURlZmF1bHRNb2RhbHMiLHJlcGxhY2VtZW50OnttYXRjaDovb25DbGljazooXGkpKD89LC57MCwzMH1jbGFzc05hbWU6ImNoYW5uZWxNZW50aW9uIi4rPyhcaSlcLmluQ29udGVudCkvLHJlcGxhY2U6KGUsdCxuKT0+YG9uQ2xpY2s6KHZjRG91YmxlQ2xpY2tFdnQpPT4kc2VsZi5zaG91bGRSdW5PbkNsaWNrKHZjRG91YmxlQ2xpY2tFdnQsJHtufSkmJiR7dH0oKWB9fV0sc2hvdWxkUnVuT25DbGljayhlLHtjaGFubmVsSWQ6dH0pe2xldCBuPXRlLmdldENoYW5uZWwodCk7cmV0dXJuIW58fCFbMiwxM10uaW5jbHVkZXMobi50eXBlKT8hMDplLmRldGFpbD49Mn0sc2NoZWR1bGUoZSx0KXtsZXQgbj10LnByb3BzLmNoYW5uZWwuaWQ7aWYoeGUuZ2V0Vm9pY2VDaGFubmVsSWQoKT09PW4pe2UoKTtyZXR1cm59bGV0IHI9QWZbbl0/Pz17dGltZW91dDp2b2lkIDAsaTowfTtjbGVhclRpbWVvdXQoci50aW1lb3V0KSwrK3IuaT49Mj8oZSgpLGRlbGV0ZSBBZltuXSk6ci50aW1lb3V0PXNldFRpbWVvdXQoKCk9PntkZWxldGUgQWZbbl19LDUwMCl9fSl9KTtmdW5jdGlvbiBkbChlLHQ9ay5wbHVnaW5zLlZjTmFycmF0b3Ipe2lmKCFlKXJldHVybjtsZXQgbj1uZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKGUpLHI9c3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpLmZpbmQoaT0+aS52b2ljZVVSST09PXQudm9pY2UpOyFyJiYobmV3IFYoIlZjTmFycmF0b3IiKS5lcnJvcihgVm9pY2UgIiR7dC52b2ljZX0iIG5vdCBmb3VuZC4gUmVzZXR0aW5nIHRvIGRlZmF1bHQuYCkscj1zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCkuZmluZChpPT5pLmRlZmF1bHQpLHQudm9pY2U9cj8udm9pY2VVUkksIXIpfHwobi52b2ljZT1yLG4udm9sdW1lPXQudm9sdW1lLG4ucmF0ZT10LnJhdGUsc3BlZWNoU3ludGhlc2lzLnNwZWFrKG4pKX1mdW5jdGlvbiBxVChlKXtsZXQgdD1rLnBsdWdpbnMuVmNOYXJyYXRvci5sYXRpbk9ubHk/L1teXHB7U2NyaXB0PUxhdGlufVxwe051bWJlcn1ccHtQdW5jdHVhdGlvbn1cc10vZ3U6L1teXHB7TGV0dGVyfVxwe051bWJlcn1ccHtQdW5jdHVhdGlvbn1cc10vZ3U7cmV0dXJuIGUubm9ybWFsaXplKCJORktDIikucmVwbGFjZSh0LCIiKS50cmltKCl9ZnVuY3Rpb24gbWwoZSx0LG4pe3JldHVybiBlLnJlcGxhY2VBbGwoInt7VVNFUn19IixxVCh0KXx8KHQ/IlNvbWVvbmUiOiIiKSkucmVwbGFjZUFsbCgie3tDSEFOTkVMfX0iLHFUKG4pfHwiY2hhbm5lbCIpfWZ1bmN0aW9uIHNOKHtjaGFubmVsSWQ6ZSxvbGRDaGFubmVsSWQ6dH0sbil7aWYobiYmZSE9PUVmJiYodD1FZixFZj1lKSxlIT09dCl7aWYoZSlyZXR1cm5bdD8ibW92ZSI6ImpvaW4iLGVdO2lmKHQpcmV0dXJuWyJsZWF2ZSIsdF19cmV0dXJuWyIiLCIiXX1mdW5jdGlvbiBhTihlLHQpe2xldCBuPU9iamVjdC5hc3NpZ24oe30say5wbHVnaW5zLlZjTmFycmF0b3IsZSk7ZGwobWwoblt0KyJNZXNzYWdlIl0sRy5nZXRDdXJyZW50VXNlcigpLnVzZXJuYW1lLCJnZW5lcmFsIiksbil9dmFyIFdULEVmLERmLEtUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7cmkoKTtQKCk7TWUoKTtudCgpO1puKCk7TSgpO0YoKTt3KCk7V1Q9QygiZ2V0Vm9pY2VTdGF0ZXNGb3JDaGFubmVsIiwiZ2V0Q3VycmVudENsaWVudFZvaWNlQ2hhbm5lbElkIik7RGY9dih7bmFtZToiVmNOYXJyYXRvciIsZGVzY3JpcHRpb246IkFubm91bmNlcyB3aGVuIHVzZXJzIGpvaW4sIGxlYXZlLCBvciBtb3ZlIHZvaWNlIGNoYW5uZWxzIHZpYSBuYXJyYXRvciIsYXV0aG9yczpbbS5WZW5dLGZsdXg6e1ZPSUNFX1NUQVRFX1VQREFURVMoe3ZvaWNlU3RhdGVzOmV9KXtsZXQgdD14ZS5nZXRWb2ljZUNoYW5uZWxJZCgpLG49Ry5nZXRDdXJyZW50VXNlcigpLmlkO2lmKHRlLmdldENoYW5uZWwodCk/LnR5cGUhPT0xMylmb3IobGV0IHIgb2YgZSl7bGV0e3VzZXJJZDppLGNoYW5uZWxJZDpzLG9sZENoYW5uZWxJZDpjfT1yLHU9aT09PW47aWYoIXUmJighdHx8cyE9PXQmJmMhPT10KSljb250aW51ZTtsZXRbcCx5XT1zTihyLHUpO2lmKCFwKWNvbnRpbnVlO2xldCBoPWsucGx1Z2lucy5WY05hcnJhdG9yW3ArIk1lc3NhZ2UiXSxTPXUmJiFrLnBsdWdpbnMuVmNOYXJyYXRvci5zYXlPd25OYW1lPyIiOkcuZ2V0VXNlcihpKS51c2VybmFtZSxiPXRlLmdldENoYW5uZWwoeSkubmFtZTtkbChtbChoLFMsYikpfX0sQVVESU9fVE9HR0xFX1NFTEZfTVVURSgpe2xldCBlPXhlLmdldFZvaWNlQ2hhbm5lbElkKCksdD1XVC5nZXRWb2ljZVN0YXRlRm9yQ2hhbm5lbChlKTtpZighdClyZXR1cm47bGV0IG49dC5tdXRlfHx0LnNlbGZNdXRlPyJ1bm11dGUiOiJtdXRlIjtkbChtbChrLnBsdWdpbnMuVmNOYXJyYXRvcltuKyJNZXNzYWdlIl0sIiIsdGUuZ2V0Q2hhbm5lbChlKS5uYW1lKSl9LEFVRElPX1RPR0dMRV9TRUxGX0RFQUYoKXtsZXQgZT14ZS5nZXRWb2ljZUNoYW5uZWxJZCgpLHQ9V1QuZ2V0Vm9pY2VTdGF0ZUZvckNoYW5uZWwoZSk7aWYoIXQpcmV0dXJuO2xldCBuPXQuZGVhZnx8dC5zZWxmRGVhZj8idW5kZWFmZW4iOiJkZWFmZW4iO2RsKG1sKGsucGx1Z2lucy5WY05hcnJhdG9yW24rIk1lc3NhZ2UiXSwiIix0ZS5nZXRDaGFubmVsKGUpLm5hbWUpKX19LHN0YXJ0KCl7aWYodHlwZW9mIHNwZWVjaFN5bnRoZXNpcz4idSJ8fHNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKS5sZW5ndGg9PT0wKXtuZXcgVigiVmNOYXJyYXRvciIpLndhcm4oIlNwZWVjaFN5bnRoZXNpcyBub3Qgc3VwcG9ydGVkIG9yIG5vIE5hcnJhdG9yIHZvaWNlcyBmb3VuZC4gVGh1cywgdGhpcyBwbHVnaW4gd2lsbCBub3Qgd29yay4gQ2hlY2sgbXkgU2V0dGluZ3MgZm9yIG1vcmUgaW5mbyIpO3JldHVybn19LG9wdGlvbnNDYWNoZTpudWxsLGdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMub3B0aW9uc0NhY2hlPz89e3ZvaWNlOnt0eXBlOjQsZGVzY3JpcHRpb246Ik5hcnJhdG9yIFZvaWNlIixvcHRpb25zOnVuc2FmZVdpbmRvdy5zcGVlY2hTeW50aGVzaXM/LmdldFZvaWNlcygpLm1hcChlPT4oe2xhYmVsOmUubmFtZSx2YWx1ZTplLnZvaWNlVVJJLGRlZmF1bHQ6ZS5kZWZhdWx0fSkpPz9bXX0sdm9sdW1lOnt0eXBlOjUsZGVzY3JpcHRpb246Ik5hcnJhdG9yIFZvbHVtZSIsZGVmYXVsdDoxLG1hcmtlcnM6WzAsLjI1LC41LC43NSwxXSxzdGlja1RvTWFya2VyczohMX0scmF0ZTp7dHlwZTo1LGRlc2NyaXB0aW9uOiJOYXJyYXRvciBTcGVlZCIsZGVmYXVsdDoxLG1hcmtlcnM6Wy4xLC41LDEsMiw1LDEwXSxzdGlja1RvTWFya2VyczohMX0sc2F5T3duTmFtZTp7ZGVzY3JpcHRpb246IlNheSBvd24gbmFtZSIsdHlwZTozLGRlZmF1bHQ6ITF9LGxhdGluT25seTp7ZGVzY3JpcHRpb246IlN0cmlwIG5vbiBsYXRpbiBjaGFyYWN0ZXJzIGZyb20gbmFtZXMgYmVmb3JlIHNheWluZyB0aGVtIix0eXBlOjMsZGVmYXVsdDohMX0sam9pbk1lc3NhZ2U6e3R5cGU6MCxkZXNjcmlwdGlvbjoiSm9pbiBNZXNzYWdlIixkZWZhdWx0OiJ7e1VTRVJ9fSBqb2luZWQifSxsZWF2ZU1lc3NhZ2U6e3R5cGU6MCxkZXNjcmlwdGlvbjoiTGVhdmUgTWVzc2FnZSIsZGVmYXVsdDoie3tVU0VSfX0gbGVmdCJ9LG1vdmVNZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246Ik1vdmUgTWVzc2FnZSIsZGVmYXVsdDoie3tVU0VSfX0gbW92ZWQgdG8ge3tDSEFOTkVMfX0ifSxtdXRlTWVzc2FnZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJNdXRlIE1lc3NhZ2UgKG9ubHkgc2VsZiBmb3Igbm93KSIsZGVmYXVsdDoie3tVU0VSfX0gTXV0ZWQifSx1bm11dGVNZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246IlVubXV0ZSBNZXNzYWdlIChvbmx5IHNlbGYgZm9yIG5vdykiLGRlZmF1bHQ6Int7VVNFUn19IHVubXV0ZWQifSxkZWFmZW5NZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246IkRlYWZlbiBNZXNzYWdlIChvbmx5IHNlbGYgZm9yIG5vdykiLGRlZmF1bHQ6Int7VVNFUn19IGRlYWZlbmVkIn0sdW5kZWFmZW5NZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246IlVuZGVhZmVuIE1lc3NhZ2UgKG9ubHkgc2VsZiBmb3Igbm93KSIsZGVmYXVsdDoie3tVU0VSfX0gdW5kZWFmZW5lZCJ9fX0sc2V0dGluZ3NBYm91dENvbXBvbmVudCh7dGVtcFNldHRpbmdzOmV9KXtsZXRbdCxuXT1JdCgoKT0+e2xldCBzPXNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKTtyZXR1cm5bcy5sZW5ndGghPT0wLHMuc29tZShjPT5jLmxhbmcuc3RhcnRzV2l0aCgiZW4iKSldfSxbXSkscj1JdCgoKT0+T2JqZWN0LmtleXMoVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuVmNOYXJyYXRvci5vcHRpb25zKS5maWx0ZXIocz0+cy5lbmRzV2l0aCgiTWVzc2FnZSIpKS5tYXAocz0+cy5zbGljZSgwLC03KSksW10pLGk9bnVsbDtpZih0KW58fChpPW8oWG4sbnVsbCwiWW91IGRvbid0IGhhdmUgYW55IEVuZ2xpc2ggdm9pY2VzIGluc3RhbGxlZCwgc28gdGhlIG5hcnJhdG9yIG1pZ2h0IHNvdW5kIHdlaXJkIikpO2Vsc2V7bGV0IHM9Ik5vIG5hcnJhdG9yIHZvaWNlcyBmb3VuZC4gIjtzKz1uYXZpZ2F0b3IucGxhdGZvcm0/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoImxpbnV4Iik/Ikluc3RhbGwgc3BlZWNoLWRpc3BhdGNoZXIgb3IgZXNwZWFrIGFuZCBydW4gRGlzY29yZCB3aXRoIHRoZSAtLWVuYWJsZS1zcGVlY2gtZGlzcGF0Y2hlciBmbGFnIjoiVHJ5IGluc3RhbGxpbmcgc29tZSBpbiB0aGUgTmFycmF0b3Igc2V0dGluZ3Mgb2YgeW91ciBPcGVyYXRpbmcgU3lzdGVtIixpPW8oWG4sbnVsbCxzKX1yZXR1cm4gbyhULkZvcm1TZWN0aW9uLG51bGwsbyhULkZvcm1UZXh0LG51bGwsIllvdSBjYW4gY3VzdG9taXNlIHRoZSBzcG9rZW4gbWVzc2FnZXMgYmVsb3cuIFlvdSBjYW4gZGlzYWJsZSBzcGVjaWZpYyBtZXNzYWdlcyBieSBzZXR0aW5nIHRoZW0gdG8gbm90aGluZyIpLG8oVC5Gb3JtVGV4dCxudWxsLCJUaGUgc3BlY2lhbCBwbGFjZWhvbGRlcnMgIixvKCJjb2RlIixudWxsLCJ7e1VTRVJ9fSIpLCIgYW5kICIsbygiY29kZSIsbnVsbCwie3tDSEFOTkVMfX0iKSwiICIsIndpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdXNlcidzIG5hbWUgKG5vdGhpbmcgaWYgaXQncyB5b3Vyc2VsZikgYW5kIHRoZSBjaGFubmVsJ3MgbmFtZSByZXNwZWN0aXZlbHkiKSxuJiZvKGQsbnVsbCxvKFQuRm9ybVRpdGxlLHtjbGFzc05hbWU6ei50b3AyMCx0YWc6ImgzIn0sIlBsYXkgRXhhbXBsZSBTb3VuZHMiKSxvKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiZ3JpZCIsZ3JpZFRlbXBsYXRlQ29sdW1uczoicmVwZWF0KDQsIDFmcikiLGdhcDoiMXJlbSJ9LGNsYXNzTmFtZToidmMtbmFycmF0b3ItYnV0dG9ucyJ9LHIubWFwKHM9Pm8oUix7a2V5OnMsb25DbGljazooKT0+YU4oZSxzKX0sWW4oW3NdKSkpKSksaSl9fSl9KTt2YXIgWVQ9ZygoKT0+e30pO2Z1bmN0aW9uIGNOKGUpe2xldCB0PVtdO2ZvcihsZXQgbiBvZiBPYmplY3QudmFsdWVzKFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zKSluLnRvb2xib3hBY3Rpb25zJiZ0LnB1c2gobyhCLk1lbnVHcm91cCx7bGFiZWw6bi5uYW1lLGtleTpgdmMtdG9vbGJveC0ke24ubmFtZX1gfSxPYmplY3QuZW50cmllcyhuLnRvb2xib3hBY3Rpb25zKS5tYXAoKFtyLGldKT0+e2xldCBzPWB2Yy10b29sYm94LSR7bi5uYW1lfS0ke3J9YDtyZXR1cm4gbyhCLk1lbnVJdGVtLHtpZDpzLGtleTpzLGxhYmVsOnIsYWN0aW9uOml9KX0pKSk7cmV0dXJuIG8oQi5NZW51LHtuYXZJZDoidmMtdG9vbGJveCIsb25DbG9zZTplfSxvKEIuTWVudUl0ZW0se2lkOiJ2Yy10b29sYm94LW5vdGlmaWNhdGlvbnMiLGxhYmVsOiJPcGVuIE5vdGlmaWNhdGlvbiBMb2ciLGFjdGlvbjokc30pLG8oQi5NZW51SXRlbSx7aWQ6InZjLXRvb2xib3gtcXVpY2tjc3MiLGxhYmVsOiJPcGVuIFF1aWNrQ1NTIixhY3Rpb246KCk9PlZlbmNvcmROYXRpdmUucXVpY2tDc3Mub3BlbkVkaXRvcigpfSksLi4udCl9ZnVuY3Rpb24gdU4oKXtyZXR1cm4gbygic3ZnIix7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix2aWV3Qm94OiIwIDAgOTYgOTYiLHdpZHRoOjI0LGhlaWdodDoyNH0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTUzIDEwaDd2MWgtMXYxaC0xdjFoLTF2MWgtMXYxaC0xdjFoNXYxaC03di0xaDF2LTFoMXYtMWgxdi0xaDF2LTFoMXYtMWgtNW0tNDMgMXYzMmgydjJoMnYyaDJ2MmgydjJoMnYyaDJ2MmgydjJoMnYyaDh2LTJoMlY0NmgtMnYyaC0ydjJoLTR2LTJoLTJ2LTJoLTJ2LTJoLTJ2LTJoLTJ2LTJoLTJWMTJtMjQgMHYyN2gtMnYzaDR2LTZoMnYtMmg0VjEybTEzIDJoNXYxaC0xdjFoLTF2MWgtMXYxaDN2MWgtNXYtMWgxdi0xaDF2LTFoMXYtMWgtM204IDVoMXY1aDF2LTFoMXYxaC0xdjFoMXYtMWgxdjFoLTF2M2gtMXYxaC0ydjFoLTF2MWgxdi0xaDJ2LTFoMXYyaC0xdjFoLTJ2MWgtMXYtMWgtMXYxaC02di0xaC0xdi0xaC0xdi0yaDF2MWgydjFoM3YxaDF2LTFoLTF2LTFoLTN2LTFoLTR2LTRoMXYtMmgxdi0xaDF2LTFoMXYyaDF2MWgxdi0xaDF2MWgtMXYxaDJ2LTJoMXYtMmgxdi0xaDFtLTEzIDRoMnYxaC0xdjRoMXYyaDF2MWgxdjFoMXYxaDR2MWgtNnYtMWgtNnYtMWgtMXYtNWgxdi0xaDF2LTJoMm0xNyAzaDF2M2gtMXYxaC0xdjFoLTF2MmgtMnYtMmgydi0xaDF2LTFoMW0xIDBoMXYzaC0xdjFoLTJ2LTFoMXYtMWgxbS0zMCAydjhoLTh2MzJoOHY4aDMydi04aDh2LThINzB2OEg1NFY0NGgxNnY4aDE2di04aC04di04aC0xdjFoLTd2LTFoLTJ2MWgtOHYtMSJ9KSl9ZnVuY3Rpb24gcE4oKXtsZXRbZSx0XT1qKCExKTtyZXR1cm4gbyhLcix7cG9zaXRpb246ImJvdHRvbSIsYWxpZ246InJpZ2h0IixhbmltYXRpb246S3IuQW5pbWF0aW9uLk5PTkUsc2hvdWxkU2hvdzplLG9uUmVxdWVzdENsb3NlOigpPT50KCExKSxyZW5kZXJQb3BvdXQ6KCk9PmNOKCgpPT50KCExKSl9LChuLHtpc1Nob3duOnJ9KT0+byhsTix7Y2xhc3NOYW1lOiJ2Yy10b29sYm94LWJ0biIsb25DbGljazooKT0+dChpPT4haSksdG9vbHRpcDpyP251bGw6IlZlbmNvcmQgVG9vbGJveCIsaWNvbjp1TixzZWxlY3RlZDpyfSkpfWZ1bmN0aW9uIGROKHtjaGlsZHJlbjplfSl7cmV0dXJuIGUuc3BsaWNlKGUubGVuZ3RoLTEsMCxvKEQse25vb3A6ITB9LG8ocE4sbnVsbCkpKSxvKGQsbnVsbCxlKX12YXIgbE4sT2YsWlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1lUKCk7VXMoKTtzZSgpO1AoKTtoZSgpO00oKTtGKCk7dygpO2xOPXJlKCgpPT5IZSgiLkhFQURFUl9CQVJfQkFER0UsIiwiLnRvb2x0aXAiKSk7T2Y9dih7bmFtZToiVmVuY29yZFRvb2xib3giLGRlc2NyaXB0aW9uOiJBZGRzIGEgYnV0dG9uIG5leHQgdG8gdGhlIGluYm94IGJ1dHRvbiBpbiB0aGUgY2hhbm5lbCBoZWFkZXIgdGhhdCBob3VzZXMgVmVuY29yZCBxdWljayBhY3Rpb25zIixhdXRob3JzOlttLlZlbixtLkF1dHVtblZOXSxwYXRjaGVzOlt7ZmluZDoiLm1vYmlsZVRvb2xiYXIiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PXRvb2xiYXI6ZnVuY3Rpb24uezAsMTAwfVwoKVxpLkZyYWdtZW50LC8scmVwbGFjZToiJHNlbGYuVG9vbGJveEZyYWdtZW50V3JhcHBlciwifX1dLFRvb2xib3hGcmFnbWVudFdyYXBwZXI6RC53cmFwKGROLHtmYWxsYmFjazooKT0+bygicCIse3N0eWxlOntjb2xvcjoicmVkIn19LCJGYWlsZWQgdG8gcmVuZGVyIDooIil9KX0pfSk7ZnVuY3Rpb24gdHMoZSl7bGV0IHQ9ZS5zdGFydHNXaXRoKCIvIik/InBuZyI6X2Yuc3RvcmUuZm9ybWF0LG49bmV3IFVSTChlLHVuc2FmZVdpbmRvdy5sb2NhdGlvbi5ocmVmKTtuLnNlYXJjaFBhcmFtcy5zZXQoInNpemUiLF9mLnN0b3JlLmltZ1NpemUpLG4ucGF0aG5hbWU9bi5wYXRobmFtZS5yZXBsYWNlKC9cLihwbmd8anBlP2d8d2VicCkkLyxgLiR7dH1gKSxlPW4udG9TdHJpbmcoKSxuLnNlYXJjaFBhcmFtcy5zZXQoInNpemUiLCI0MDk2Iik7bGV0IHI9bi50b1N0cmluZygpO0dvKGUse29yaWdpbmFsOnIsaGVpZ2h0OjI1Nn0pfXZhciBmbCxfZixYVCxKVCxCZixRVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VHQoKTtVKCk7eG4oKTtQKCk7YXQoKTtNKCk7RigpO3coKTtmbD1DKCJnZXRHdWlsZEJhbm5lclVSTCIpLF9mPUUoe2Zvcm1hdDp7dHlwZTo0LGRlc2NyaXB0aW9uOiJDaG9vc2UgdGhlIGltYWdlIGZvcm1hdCB0byB1c2UgZm9yIG5vbiBhbmltYXRlZCBpbWFnZXMuIEFuaW1hdGVkIGltYWdlcyB3aWxsIGFsd2F5cyB1c2UgLmdpZiIsb3B0aW9uczpbe2xhYmVsOiJ3ZWJwIix2YWx1ZToid2VicCIsZGVmYXVsdDohMH0se2xhYmVsOiJwbmciLHZhbHVlOiJwbmcifSx7bGFiZWw6ImpwZyIsdmFsdWU6ImpwZyJ9XX0saW1nU2l6ZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJUaGUgaW1hZ2Ugc2l6ZSB0byB1c2UiLG9wdGlvbnM6WyIxMjgiLCIyNTYiLCI1MTIiLCIxMDI0IiwiMjA0OCIsIjQwOTYiXS5tYXAoZT0+KHtsYWJlbDplLHZhbHVlOmUsZGVmYXVsdDplPT09IjEwMjQifSkpfX0pO1hUPShlLHt1c2VyOnQsZ3VpbGRJZDpufSk9PigpPT57bGV0IHI9RmUuZ2V0TWVtYmVyKG4sdC5pZCk/LmF2YXRhcnx8bnVsbDtlLnNwbGljZSgtMSwwLG8oQi5NZW51R3JvdXAsbnVsbCxvKEIuTWVudUl0ZW0se2lkOiJ2aWV3LWF2YXRhciIsbGFiZWw6IlZpZXcgQXZhdGFyIixhY3Rpb246KCk9PnRzKGZsLmdldFVzZXJBdmF0YXJVUkwodCwhMCkpLGljb246S299KSxyJiZvKEIuTWVudUl0ZW0se2lkOiJ2aWV3LXNlcnZlci1hdmF0YXIiLGxhYmVsOiJWaWV3IFNlcnZlciBBdmF0YXIiLGFjdGlvbjooKT0+dHMoZmwuZ2V0R3VpbGRNZW1iZXJBdmF0YXJVUkxTaW1wbGUoe3VzZXJJZDp0LmlkLGF2YXRhcjpyLGd1aWxkSWQ6bixjYW5BbmltYXRlOiEwfSwhMCkpLGljb246S299KSkpfSxKVD0oZSx7Z3VpbGQ6dH0pPT4oKT0+e2lmKCF0KXJldHVybjtsZXR7aWQ6bixpY29uOnIsYmFubmVyOml9PXQ7IWkmJiFyfHxlLnNwbGljZSgtMSwwLG8oQi5NZW51R3JvdXAsbnVsbCxyP28oQi5NZW51SXRlbSx7aWQ6InZpZXctaWNvbiIsbGFiZWw6IlZpZXcgSWNvbiIsYWN0aW9uOigpPT50cyhmbC5nZXRHdWlsZEljb25VUkwoe2lkOm4saWNvbjpyLGNhbkFuaW1hdGU6ITB9KSksaWNvbjpLb30pOm51bGwsaT9vKEIuTWVudUl0ZW0se2lkOiJ2aWV3LWJhbm5lciIsbGFiZWw6IlZpZXcgQmFubmVyIixhY3Rpb246KCk9PnRzKGZsLmdldEd1aWxkQmFubmVyVVJMKHtpZDpuLGJhbm5lcjppfSwhMCkpLGljb246S299KTpudWxsKSl9LEJmPXYoe25hbWU6IlZpZXdJY29ucyIsYXV0aG9yczpbbS5WZW4sbS5UaGVLb2RlVG9hZCxtLk51Y2t5el0sZGVzY3JpcHRpb246Ik1ha2VzIGF2YXRhcnMgYW5kIGJhbm5lcnMgaW4gdXNlciBwcm9maWxlcyBjbGlja2FibGUsIGFuZCBhZGRzIFZpZXcgSWNvbi9CYW5uZXIgZW50cmllcyBpbiB0aGUgdXNlciBhbmQgc2VydmVyIGNvbnRleHQgbWVudSIsdGFnczpbIkltYWdlVXRpbGl0aWVzIl0sc2V0dGluZ3M6X2Ysb3BlbkltYWdlOnRzLHN0YXJ0KCl7ZGUoInVzZXItY29udGV4dCIsWFQpLGRlKCJndWlsZC1jb250ZXh0IixKVCl9LHN0b3AoKXtmZSgidXNlci1jb250ZXh0IixYVCksZmUoImd1aWxkLWNvbnRleHQiLEpUKX0scGF0Y2hlczpbe2ZpbmQ6Im9uQWRkRnJpZW5kOiIscmVwbGFjZW1lbnQ6e21hdGNoOi9ce3NyYzooXGkpKD89LGF2YXRhckRlY29yYXRpb24pLyxyZXBsYWNlOiJ7c3JjOiQxLG9uQ2xpY2s6KCk9PiRzZWxmLm9wZW5JbWFnZSgkMSkifX0se2ZpbmQ6Ii5OSVRST19CQU5ORVIsIixyZXBsYWNlbWVudDp7bWF0Y2g6L3N0eWxlOlx7KD89YmFja2dyb3VuZEltYWdlOihcaSYmXGkpXD8idXJsXCgiXC5jb25jYXRcKChcaSksKS8scmVwbGFjZTonb25DbGljazpldj0+JDEmJmV2LnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UmJiRzZWxmLm9wZW5JbWFnZSgkMiksc3R5bGU6e2N1cnNvcjokMT8icG9pbnRlciI6dm9pZCAwLCd9fSx7ZmluZDoiKCkuYXZhdGFyV3JhcHBlck5vblVzZXJCb3QiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWF2YXRhclBvc2l0aW9uUGFuZWwuKz8pb25DbGljazooXGlcfFx8XGkpXD92b2lkIDAoPzw9LChcaSk9XGlcLmF2YXRhclNyYy4rPykvLHJlcGxhY2U6J3N0eWxlOigkMSk/e2N1cnNvcjoicG9pbnRlciJ9Ont9LG9uQ2xpY2s6JDE/KCk9Pnskc2VsZi5vcGVuSW1hZ2UoJDIpfSd9fV19KX0pO2Z1bmN0aW9uIGZOKGUpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZSkuc29ydCgoW3RdLFtuXSk9PnQubG9jYWxlQ29tcGFyZShuKSkpfWZ1bmN0aW9uIGdOKGUpe2xldCB0PWZOKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKTtmb3IobGV0IHIgb2ZbImVtYWlsIiwicGhvbmUiLCJtZmFFbmFibGVkIiwicGVyc29uYWxDb25uZWN0aW9uSWQiXSlkZWxldGUgdC5hdXRob3Jbcl07bGV0IG49dDtyZXR1cm4gZGVsZXRlIG4uZWRpdEhpc3RvcnksZGVsZXRlIG4uZGVsZXRlZCxuLmF0dGFjaG1lbnRzPy5mb3JFYWNoKHI9PmRlbGV0ZSByLmRlbGV0ZWQpLHR9ZnVuY3Rpb24gVlQoZSl7cmV0dXJuIG8oImRpdiIse3N0eWxlOnt1c2VyU2VsZWN0OiJ0ZXh0In19LEFlLmRlZmF1bHRSdWxlcy5jb2RlQmxvY2sucmVhY3QoZSxudWxsLHt9KSl9ZnVuY3Rpb24gZXgoZSl7ZT1nTihlKTtsZXQgdD1KU09OLnN0cmluZ2lmeShlLG51bGwsNCksbj1QZShyPT5vKEQsbnVsbCxvKExlLHsuLi5yLHNpemU6ImxhcmdlIn0sbygkZSxudWxsLG8oZWUse3ZhcmlhbnQ6ImhlYWRpbmctbGcvc2VtaWJvbGQiLHN0eWxlOntmbGV4R3JvdzoxfX0sIlZpZXcgUmF3IiksbyhSdCx7b25DbGljazooKT0+V24obil9KSksbyhVZSxudWxsLG8oImRpdiIse3N0eWxlOntwYWRkaW5nOiIxNnB4IDAifX0sISFlLmNvbnRlbnQmJm8oZCxudWxsLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUifSwiQ29udGVudCIpLG8oVlQse2NvbnRlbnQ6ZS5jb250ZW50LGxhbmc6IiJ9KSxvKFQuRm9ybURpdmlkZXIse2NsYXNzTmFtZTp6LmJvdHRvbTIwfSkpLG8oVC5Gb3JtVGl0bGUse3RhZzoiaDUifSwiTWVzc2FnZSBEYXRhIiksbyhWVCx7Y29udGVudDp0LGxhbmc6Impzb24ifSkpKSxvKHV0LG51bGwsbyhjZSx7Y2VsbFNwYWNpbmc6MTB9LG8oUix7b25DbGljazooKT0+VnQodCwiTWVzc2FnZSBkYXRhIGNvcGllZCB0byBjbGlwYm9hcmQhIil9LCJDb3B5IE1lc3NhZ2UgSlNPTiIpLG8oUix7b25DbGljazooKT0+VnQoZS5jb250ZW50LCJDb250ZW50IGNvcGllZCB0byBjbGlwYm9hcmQhIil9LCJDb3B5IFJhdyBDb250ZW50IikpKSkpKX12YXIgbU4sZ2wsRmYsdHg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1FvKCk7VSgpO3NlKCk7YnQoKTtQKCk7bnQoKTtnZSgpO1plKCk7TSgpO3coKTttTj0oKT0+bygic3ZnIix7dmlld0JveDoiMCAwIDIwIDIwIixmaWxsOiJjdXJyZW50Q29sb3IiLCJhcmlhLWhpZGRlbiI6InRydWUiLHdpZHRoOiIyMiIsaGVpZ2h0OiIyMiJ9LG8oInBhdGgiLHtkOiJNMTIuOTI5NyAzLjI1MDA3QzEyLjczNDMgMy4wNTI2MSAxMi40MTU0IDMuMDUyMjYgMTIuMjE5NiAzLjI0OTI4TDExLjU3NDYgMy44OTgyNEMxMS4zODExIDQuMDkyOTcgMTEuMzgwOCA0LjQwNzMzIDExLjU3MzkgNC42MDI0NUwxNi41Njg1IDkuNjQ4MjRDMTYuNzYxNCA5Ljg0MzA5IDE2Ljc2MTQgMTAuMTU2OSAxNi41Njg1IDEwLjM1MTdMMTEuNTczOSAxNS4zOTc1QzExLjM4MDggMTUuNTkyNyAxMS4zODExIDE1LjkwNyAxMS41NzQ2IDE2LjEwMTdMMTIuMjE5NiAxNi43NTA3QzEyLjQxNTQgMTYuOTQ3NyAxMi43MzQzIDE2Ljk0NzQgMTIuOTI5NyAxNi43NDk5TDE5LjI2MDQgMTAuMzUxN0MxOS40NTMyIDEwLjE1NjggMTkuNDUzMiA5Ljg0MzE0IDE5LjI2MDQgOS42NDgzMkwxMi45Mjk3IDMuMjUwMDdaIn0pLG8oInBhdGgiLHtkOiJNOC40MjYxNiA0LjYwMjQ1QzguNjE5MyA0LjQwNzMzIDguNjE4OTggNC4wOTI5NyA4LjQyNTQ1IDMuODk4MjRMNy43ODA0NyAzLjI0OTI4QzcuNTg0NjYgMy4wNTIyNiA3LjI2NTc4IDMuMDUyNjEgNy4wNzA0MSAzLjI1MDA3TDAuNzM5NjY5IDkuNjQ4MzJDMC41NDY5IDkuODQzMTQgMC41NDY5MDEgMTAuMTU2OCAwLjczOTY2OSAxMC4zNTE3TDcuMDcwNDEgMTYuNzQ5OUM3LjI2NTc4IDE2Ljk0NzQgNy41ODQ2NSAxNi45NDc3IDcuNzgwNDcgMTYuNzUwN0w4LjQyNTQ1IDE2LjEwMTdDOC42MTg5OCAxNS45MDcgOC42MTkzIDE1LjU5MjcgOC40MjYxNiAxNS4zOTc1TDMuNDMxNTUgMTAuMzUxN0MzLjIzODY5IDEwLjE1NjkgMy4yMzg2OSA5Ljg0MzA5IDMuNDMxNTUgOS42NDgyNEw4LjQyNjE2IDQuNjAyNDVaIn0pKTtnbD1FKHtjbGlja01ldGhvZDp7ZGVzY3JpcHRpb246IkNoYW5nZSB0aGUgYnV0dG9uIHRvIHZpZXcgdGhlIHJhdyBjb250ZW50L2RhdGEgb2YgYW55IG1lc3NhZ2UuIix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJMZWZ0IENsaWNrIHRvIHZpZXcgdGhlIHJhdyBjb250ZW50LiIsdmFsdWU6IkxlZnQiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiUmlnaHQgY2xpY2sgdG8gdmlldyB0aGUgcmF3IGNvbnRlbnQuIix2YWx1ZToiUmlnaHQifV19fSksRmY9dih7bmFtZToiVmlld1JhdyIsZGVzY3JpcHRpb246IkNvcHkgYW5kIHZpZXcgdGhlIHJhdyBjb250ZW50L2RhdGEgb2YgYW55IG1lc3NhZ2UuIixhdXRob3JzOlttLktpbmdGaXNoLG0uVmVuLG0ucmFkXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlUG9wb3ZlckFQSSJdLHNldHRpbmdzOmdsLHN0YXJ0KCl7d24oIlZpZXdSYXciLGU9PntsZXQgdD0oKT0+e2dsLnN0b3JlLmNsaWNrTWV0aG9kPT09IlJpZ2h0Ij9WdChlLmNvbnRlbnQpOmV4KGUpfSxuPWk9PntnbC5zdG9yZS5jbGlja01ldGhvZD09PSJMZWZ0Ij8oaS5wcmV2ZW50RGVmYXVsdCgpLGkuc3RvcFByb3BhZ2F0aW9uKCksVnQoZS5jb250ZW50KSk6KGkucHJldmVudERlZmF1bHQoKSxpLnN0b3BQcm9wYWdhdGlvbigpLGV4KGUpKX07cmV0dXJue2xhYmVsOmdsLnN0b3JlLmNsaWNrTWV0aG9kPT09IlJpZ2h0Ij8iQ29weSBSYXcgKExlZnQgQ2xpY2spIC8gVmlldyBSYXcgKFJpZ2h0IENsaWNrKSI6IlZpZXcgUmF3IChMZWZ0IENsaWNrKSAvIENvcHkgUmF3IChSaWdodCBDbGljaykiLGljb246bU4sbWVzc2FnZTplLGNoYW5uZWw6dGUuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpLG9uQ2xpY2s6dCxvbkNvbnRleHRNZW51Om59fSl9LHN0b3AoKXtNbigiQ29weVJhd01lc3NhZ2UiKX19KX0pO3ZhciBueD1nKCgpPT57fSk7dmFyICRyLGhsPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtVKCk7TSgpOyRyPUUoe25vaXNlU3VwcHJlc3Npb246e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm9pc2UgU3VwcHJlc3Npb24iLGRlZmF1bHQ6ITB9LGVjaG9DYW5jZWxsYXRpb246e3R5cGU6MyxkZXNjcmlwdGlvbjoiRWNobyBDYW5jZWxsYXRpb24iLGRlZmF1bHQ6ITB9fSl9KTt2YXIgb3g9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3coKTtobCgpfSk7dmFyIExvLCRmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtPZSgpO0xvPWJlKCJ2Yy12bXNnLSIpfSk7dmFyIGhOLHJ4LGl4PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtoZSgpO0YoKTskZigpO2hOPXJlKCgpPT5IZSgnWyJvblZvbHVtZUNoYW5nZSIsInZvbHVtZSIsIm9uTXV0ZSJdJykpLHJ4PSh7c3JjOmUsd2F2ZWZvcm06dCxyZWNvcmRpbmc6bn0pPT57bGV0IHI9cXIoe2RlcHM6W25dfSksaT1uP01hdGguZmxvb3Ioci8xZTMpOjAscz1NYXRoLmZsb29yKGkvNjApKyI6IisoaSU2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIik7cmV0dXJuIGUmJiFuP28oaE4se2tleTplLHNyYzplLHdhdmVmb3JtOnR9KTpvKCJkaXYiLHtjbGFzc05hbWU6TG8oInByZXZpZXciLG4/InByZXZpZXctcmVjb3JkaW5nIjpbXSl9LG8oImRpdiIse2NsYXNzTmFtZTpMbygicHJldmlldy1pbmRpY2F0b3IiKX0pLG8oImRpdiIse2NsYXNzTmFtZTpMbygicHJldmlldy10aW1lIil9LHMpLG8oImRpdiIse2NsYXNzTmFtZTpMbygicHJldmlldy1sYWJlbCIpfSxuPyJSRUNPUkRJTkciOiItLS0tIikpfX0pO3ZhciBzeCxheD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dygpO2hsKCk7c3g9KHtzZXRBdWRpb0Jsb2I6ZSxvblJlY29yZGluZ0NoYW5nZTp0fSk9PntsZXRbbixyXT1qKCExKSxbaSxzXT1qKCExKSxbYyx1XT1qKCksW3AseV09aihbXSksaD1iPT57cihiKSx0Py4oYil9O2Z1bmN0aW9uIFMoKXshbj9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86e2VjaG9DYW5jZWxsYXRpb246JHIuc3RvcmUuZWNob0NhbmNlbGxhdGlvbixub2lzZVN1cHByZXNzaW9uOiRyLnN0b3JlLm5vaXNlU3VwcHJlc3Npb259fSkudGhlbih4PT57bGV0IEE9W107eShBKTtsZXQgTj1uZXcgTWVkaWFSZWNvcmRlcih4KTt1KE4pLE4uYWRkRXZlbnRMaXN0ZW5lcigiZGF0YWF2YWlsYWJsZSIsST0+e0EucHVzaChJLmRhdGEpfSksTi5zdGFydCgpLGgoITApfSk6YyYmKGMuYWRkRXZlbnRMaXN0ZW5lcigic3RvcCIsKCk9PntlKG5ldyBCbG9iKHAse3R5cGU6ImF1ZGlvL29nZzsgY29kZWNzPW9wdXMifSkpLGgoITEpfSksYy5zdG9wKCkpfXJldHVybiBvKGQsbnVsbCxvKFIse29uQ2xpY2s6U30sbj8iU3RvcCI6IlN0YXJ0IiwiIHJlY29yZGluZyIpLG8oUix7ZGlzYWJsZWQ6IW4sb25DbGljazooKT0+e3MoIWkpLGk/Yz8ucmVzdW1lKCk6Yz8ucGF1c2UoKX19LGk/IlJlc3VtZSI6IlBhdXNlIiwiIHJlY29yZGluZyIpKX19KTtmdW5jdGlvbiBUTihlLHQpe2xldCBuPXhlLmdldENoYW5uZWxJZCgpLHI9U04uZ2V0UGVuZGluZ1JlcGx5KG4pO3ImJk8uZGlzcGF0Y2goe3R5cGU6IkRFTEVURV9QRU5ESU5HX1JFUExZIixjaGFubmVsSWQ6bn0pO2xldCBpPW5ldyB5Tih7ZmlsZTpuZXcgRmlsZShbZV0sInZvaWNlLW1lc3NhZ2Uub2dnIix7dHlwZToiYXVkaW8vb2dnOyBjb2RlY3M9b3B1cyJ9KSxpc0NsaXA6ITEsaXNUaHVtYm5haWw6ITEscGxhdGZvcm06MX0sbiwhMSwwKTtpLm9uKCJjb21wbGV0ZSIsKCk9PntTdC5wb3N0KHt1cmw6YC9jaGFubmVscy8ke259L21lc3NhZ2VzYCxib2R5OntmbGFnczoxPDwxMyxjaGFubmVsX2lkOm4sY29udGVudDoiIixub25jZTp1by5mcm9tVGltZXN0YW1wKERhdGUubm93KCkpLHN0aWNrZXJfaWRzOltdLHR5cGU6MCxhdHRhY2htZW50czpbe2lkOiIwIixmaWxlbmFtZTppLmZpbGVuYW1lLHVwbG9hZGVkX2ZpbGVuYW1lOmkudXBsb2FkZWRGaWxlbmFtZSx3YXZlZm9ybTp0LndhdmVmb3JtLGR1cmF0aW9uX3NlY3M6dC5kdXJhdGlvbn1dLG1lc3NhZ2VfcmVmZXJlbmNlOnI/dk4uZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkocik/Lm1lc3NhZ2VSZWZlcmVuY2U6bnVsbH19KX0pLGkub24oImVycm9yIiwoKT0+TG4oIkZhaWxlZCB0byB1cGxvYWQgdm9pY2UgbWVzc2FnZSIsWi5UeXBlLkZBSUxVUkUpKSxpLnVwbG9hZCgpfWZ1bmN0aW9uIHhOKCl7bGV0W2UsdF09aigpO3JldHVybltlLHI9PntlJiZVUkwucmV2b2tlT2JqZWN0VVJMKGUpLHQoVVJMLmNyZWF0ZU9iamVjdFVSTChyKSl9XX1mdW5jdGlvbiB3Tih7bW9kYWxQcm9wczplfSl7bGV0W3Qsbl09aighMSksW3IsaV09aigpLFtzLGNdPXhOKCk7RGUoKCk9PigpPT57cyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX0sW3NdKTtsZXRbdV09WWUoYXN5bmMoKT0+e2lmKCFyKXJldHVybiBseDtsZXQgeT1hd2FpdCBuZXcgQXVkaW9Db250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKGF3YWl0IHIuYXJyYXlCdWZmZXIoKSksaD15LmdldENoYW5uZWxEYXRhKDApLFM9bmV3IFVpbnQ4QXJyYXkodW5zYWZlV2luZG93Ll8uY2xhbXAoTWF0aC5mbG9vcih5LmR1cmF0aW9uKjEwKSxNYXRoLm1pbigzMixoLmxlbmd0aCksMjU2KSksYj1NYXRoLmZsb29yKGgubGVuZ3RoL1MubGVuZ3RoKTtmb3IobGV0IE49MDtOPFMubGVuZ3RoO04rKyl7bGV0IEk9MDtmb3IobGV0ICQ9MDskPGI7JCsrKXtsZXQgXz1OKmIrJDtJKz1oW19dKioyfVNbTl09fn4oTWF0aC5zcXJ0KEkvYikqMjU1KX1sZXQgeD1NYXRoLm1heCguLi5TKSxBPTErKDI1NS94LTEpKk1hdGgubWluKDEsMTAwKih4LzI1NSkqKjMpO2ZvcihsZXQgTj0wO048Uy5sZW5ndGg7TisrKVNbTl09TWF0aC5taW4oMjU1LH5+KFNbTl0qQSkpO3JldHVybnt3YXZlZm9ybTp1bnNhZmVXaW5kb3cuYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLlMpKSxkdXJhdGlvbjp5LmR1cmF0aW9ufX0se2RlcHM6W3JdLGZhbGxiYWNrVmFsdWU6bHh9KTtyZXR1cm4gbyhMZSx7Li4uZX0sbygkZSxudWxsLG8oVC5Gb3JtVGl0bGUsbnVsbCwiUmVjb3JkIFZvaWNlIE1lc3NhZ2UiKSksbyhVZSx7Y2xhc3NOYW1lOkxvKCJtb2RhbCIpfSxvKCJkaXYiLHtjbGFzc05hbWU6TG8oImJ1dHRvbnMiKX0sbyhiTix7c2V0QXVkaW9CbG9iOnA9PntpKHApLGMocCl9LG9uUmVjb3JkaW5nQ2hhbmdlOm59KSxvKFIse29uQ2xpY2s6YXN5bmMoKT0+e2xldCBwPWF3YWl0IHFzKCJhdWRpby8qIik7cCYmKGkocCksYyhwKSl9fSwiVXBsb2FkIEZpbGUiKSksbyhULkZvcm1UaXRsZSxudWxsLCJQcmV2aWV3IiksbyhyeCx7c3JjOnMsd2F2ZWZvcm06dS53YXZlZm9ybSxyZWNvcmRpbmc6dH0pKSxvKHV0LG51bGwsbyhSLHtkaXNhYmxlZDohcixvbkNsaWNrOigpPT57VE4ocix1KSxlLm9uQ2xvc2UoKSxMbigiTm93IHNlbmRpbmcgdm9pY2UgbWVzc2FnZS4uLiBQbGVhc2UgYmUgcGF0aWVudCIsWi5UeXBlLk1FU1NBR0UpfX0sIlNlbmQiKSkpfXZhciB5Tix2TixTTixiTixVZixseCxjeCx1eD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bngoKTtUdCgpO2J0KCk7eG4oKTtQKCk7WmUoKTtoZSgpO00oKTtLcygpO0YoKTt3KCk7b3goKTtobCgpOyRmKCk7aXgoKTtheCgpO3lOPVJlKGU9PmUucHJvdG90eXBlPy51cGxvYWRGaWxlVG9DbG91ZCksdk49QygiZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkiLCJzZW5kTWVzc2FnZSIpLFNOPWxlKCJQZW5kaW5nUmVwbHlTdG9yZSIpLGJOPXN4LFVmPXYoe25hbWU6IlZvaWNlTWVzc2FnZXMiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHNlbmQgdm9pY2UgbWVzc2FnZXMgbGlrZSBvbiBtb2JpbGUuIFRvIGRvIHNvLCByaWdodCBjbGljayB0aGUgdXBsb2FkIGJ1dHRvbiBhbmQgY2xpY2sgU2VuZCBWb2ljZSBNZXNzYWdlIixhdXRob3JzOlttLlZlbixtLlZhcCxtLk5pY2t5dXhdLHNldHRpbmdzOiRyLHN0YXJ0KCl7ZGUoImNoYW5uZWwtYXR0YWNoIixjeCl9LHN0b3AoKXtmZSgiY2hhbm5lbC1hdHRhY2giLGN4KX19KSxseD17d2F2ZWZvcm06IkFBQUFBQUFBQUFBQSIsZHVyYXRpb246MX07Y3g9KGUsdCk9PigpPT57dC5jaGFubmVsLmd1aWxkX2lkJiYhKEJlLmNhbihLdC5TRU5EX1ZPSUNFX01FU1NBR0VTLHQuY2hhbm5lbCkmJkJlLmNhbihLdC5TRU5EX01FU1NBR0VTLHQuY2hhbm5lbCkpfHxlLnB1c2gobyhCLk1lbnVJdGVtLHtpZDoidmMtc2VuZC12bXNnIixsYWJlbDpvKGQsbnVsbCxvKGNlLHtmbGV4RGlyZWN0aW9uOiJyb3ciLHN0eWxlOnthbGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDo4fX0sbygkeSx7aGVpZ2h0OjI0LHdpZHRoOjI0fSksIlNlbmQgdm9pY2UgbWVzc2FnZSIpKSxhY3Rpb246KCk9PlBlKG49Pm8od04se21vZGFsUHJvcHM6bn0pKX0pKX19KTthc3luYyBmdW5jdGlvbiBNTihlKXtsZXQgdD1hd2FpdCBmKGUpO2lmKHQuc3RhdHVzPT09MjAwKXJldHVybiBhd2FpdCB0LmJsb2IoKX12YXIgUE4saXIsR2YscHg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1UoKTtQKCk7TSgpO0tzKCk7RigpO3coKTtQTj1SZShlPT5lLmVtaXR0ZXI/Ll9ldmVudHM/LklOU0VSVF9URVhUKSxpcj1FKHthZGRCYWNrOnt0eXBlOjMsZGVzY3JpcHRpb246IkFkZCBiYWNrIHRoZSBEaXNjb3JkIGNvbnRleHQgbWVudXMgZm9yIGltYWdlcywgbGlua3MgYW5kIHRoZSBjaGF0IGlucHV0IGJhciIsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfX0pLEdmPXYoe25hbWU6IldlYkNvbnRleHRNZW51cyIsZGVzY3JpcHRpb246IlJlLWFkZHMgY29udGV4dCBtZW51cyBtaXNzaW5nIGluIHRoZSB3ZWIgdmVyc2lvbiBvZiBEaXNjb3JkOiBMaW5rcyAmIEltYWdlcyAoQ29weS9PcGVuIExpbmsvSW1hZ2UpLCBUZXh0IEFyZWEgKENvcHksIEN1dCwgUGFzdGUsIFNwZWxsQ2hlY2spIixhdXRob3JzOlttLlZlbl0sZW5hYmxlZEJ5RGVmYXVsdDohMCxyZXF1aXJlZDohMSxzZXR0aW5nczppcixzdGFydCgpe2lmKGlyLnN0b3JlLmFkZEJhY2spe2xldCBlPWtuKCJjb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlIik7dW5zYWZlV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IixlLmNvbnRleHRNZW51Q2FsbGJhY2tXZWIpLHVuc2FmZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsZS5jb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlKSx0aGlzLmNoYW5nZWRMaXN0ZW5lcnM9ITB9fSxzdG9wKCl7aWYodGhpcy5jaGFuZ2VkTGlzdGVuZXJzKXtsZXQgZT1rbigiY29udGV4dE1lbnVDYWxsYmFja05hdGl2ZSIpO3Vuc2FmZVdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsZS5jb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlKSx1bnNhZmVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLGUuY29udGV4dE1lbnVDYWxsYmFja1dlYil9fSxwYXRjaGVzOlt7ZmluZDoib3Blbi1uYXRpdmUtbGluayIscmVwbGFjZW1lbnQ6W3ttYXRjaDovaWZcKCFcaVwuXGlcfFx8bnVsbD09LyxyZXBsYWNlOiJpZihudWxsPT0ifSx7bWF0Y2g6L1x3XC5kZWZhdWx0XC5jb3B5LyxyZXBsYWNlOiJWZW5jb3JkLldlYnBhY2suQ29tbW9uLkNsaXBib2FyZC5jb3B5In1dfSx7ZmluZDonaWQ6ImNvcHktaW1hZ2UiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9pZlwoIVxpXC5caVx8XHxudWxsPT0vLHJlcGxhY2U6ImlmKG51bGw9PSJ9LHttYXRjaDovcmV0dXJuXHMqP1xbXGlcLmRlZmF1bHRcLmNhbkNvcHlJbWFnZVwoXCkvLHJlcGxhY2U6InJldHVybiBbdHJ1ZSJ9LHttYXRjaDovKD88PUNPUFlfSU1BR0VfTUVOVV9JVEVNLClhY3Rpb246LyxyZXBsYWNlOiJhY3Rpb246KCk9PiRzZWxmLmNvcHlJbWFnZShhcmd1bWVudHNbMF0pLG9sZEFjdGlvbjoifSx7bWF0Y2g6Lyg/PD1TQVZFX0lNQUdFX01FTlVfSVRFTSwpYWN0aW9uOi8scmVwbGFjZToiYWN0aW9uOigpPT4kc2VsZi5zYXZlSW1hZ2UoYXJndW1lbnRzWzBdKSxvbGRBY3Rpb246In1dfSx7ZmluZDonbmF2SWQ6ImltYWdlLWNvbnRleHQiJyxwcmVkaWNhdGU6KCk9PmlyLnN0b3JlLmFkZEJhY2sscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gXGlcLlxpXD8vLHJlcGxhY2U6InJldHVybiB0cnVlPyJ9fSx7ZmluZDonImludGVyYWN0aW9uVXNlcm5hbWVQcm9maWxlIicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovaWZcKCJBIj09PVxpXC50YWdOYW1lJiYiIiE9PVxpXC50ZXh0Q29udGVudFwpLyxyZXBsYWNlOiJpZihmYWxzZSkifX0se2ZpbmQ6JyJzbGF0ZS10b29sYmFyIicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovKD88PVwuaGFuZGxlQ29udGV4dE1lbnU9Lis/ImJvdHRvbSI7KVxpXC5caVw/LyxyZXBsYWNlOiJ0cnVlPyJ9fSx7ZmluZDonbmF2SWQ6InRleHRhcmVhLWNvbnRleHQiJyxhbGw6ITAscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2lmXCghXGlcLlxpXClyZXR1cm4gbnVsbDsvLHJlcGxhY2U6IiJ9LHttYXRjaDovXGJcaVwuZGVmYXVsdFwuKGNvcHl8Y3V0fHBhc3RlKS9nLHJlcGxhY2U6IiRzZWxmLiQxIn1dfSx7ZmluZDonImFkZC10by1kaWN0aW9uYXJ5IicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovdmFyIFxpPVxpXC50ZXh0LC8scmVwbGFjZToicmV0dXJuIFtudWxsLG51bGxdOyQmIn19XSxhc3luYyBjb3B5SW1hZ2UoZSl7bGV0IHQ9bmV3IEltYWdlO3Qub25sb2FkPSgpPT57bGV0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7bi53aWR0aD10Lm5hdHVyYWxXaWR0aCxuLmhlaWdodD10Lm5hdHVyYWxIZWlnaHQsbi5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZSh0LDAsMCksbi50b0Jsb2Iocj0+e25hdmlnYXRvci5jbGlwYm9hcmQud3JpdGUoW25ldyBDbGlwYm9hcmRJdGVtKHsiaW1hZ2UvcG5nIjpyfSldKX0sImltYWdlL3BuZyIpfSx0LmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLHQuc3JjPWV9LGFzeW5jIHNhdmVJbWFnZShlKXtsZXQgdD1hd2FpdCBNTihlKTtpZighdClyZXR1cm47bGV0IG49bmV3IFVSTChlKS5wYXRobmFtZS5zcGxpdCgiLyIpLnBvcCgpLHI9bmV3IEZpbGUoW3RdLG4se3R5cGU6dC50eXBlfSk7V3Mocil9LGNvcHkoKXtsZXQgZT1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTshZXx8UXQuY29weShlLnRvU3RyaW5nKCkpfSxjdXQoKXt0aGlzLmNvcHkoKSxQTi5kaXNwYXRjaCgiSU5TRVJUX1RFWFQiLHtyYXdUZXh0OiIifSl9LGFzeW5jIHBhc3RlKCl7bGV0IGU9YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLHQ9bmV3IERhdGFUcmFuc2Zlcjt0LnNldERhdGEoInRleHQvcGxhaW4iLGUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IENsaXBib2FyZEV2ZW50KCJwYXN0ZSIse2NsaXBib2FyZERhdGE6dH0pKX19KX0pO2Z1bmN0aW9uIGtOKGUsdCxuKXtsZXQgcj10Lm5hbWUrKHQuaWQ/YDoke3QuaWR9YDoiIik7cmV0dXJuIFN0LmdldCh7dXJsOmAvY2hhbm5lbHMvJHtlLmNoYW5uZWxfaWR9L21lc3NhZ2VzLyR7ZS5pZH0vcmVhY3Rpb25zLyR7cn1gLHF1ZXJ5OntsaW1pdDoxMDAsdHlwZTpufSxvbGRGb3JtRXJyb3JzOiEwfSkudGhlbihpPT5PLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX1JFQUNUSU9OX0FERF9VU0VSUyIsY2hhbm5lbElkOmUuY2hhbm5lbF9pZCxtZXNzYWdlSWQ6ZS5pZCx1c2VyczppLmJvZHksZW1vamk6dCxyZWFjdGlvblR5cGU6bn0pKS5jYXRjaChjb25zb2xlLmVycm9yKS5maW5hbGx5KCgpPT5hbygyNTApKX1mdW5jdGlvbiBBTihlLHQsbil7bGV0IHI9YCR7ZS5pZH06JHt0Lm5hbWV9OiR7dC5pZD8/IiJ9OiR7bn1gLGk9Tk4uX19nZXRMb2NhbFZhcnMoKS5yZWFjdGlvbnNbcl0/Pz17ZmV0Y2hlZDohMSx1c2Vyczp7fX07cmV0dXJuIGkuZmV0Y2hlZHx8KFJOLnVuc2hpZnQoKCk9PmtOKGUsdCxuKSksaS5mZXRjaGVkPSEwKSxpLnVzZXJzfWZ1bmN0aW9uIExOKGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBvKFgse3RleHQ6ZS5zbGljZSg1KS5tYXAoaT0+aS51c2VybmFtZSkuam9pbigiLCAiKX0sKHtvbk1vdXNlRW50ZXI6aSxvbk1vdXNlTGVhdmU6c30pPT5vKCJkaXYiLHtjbGFzc05hbWU6Q04ubW9yZVVzZXJzLG9uTW91c2VFbnRlcjppLG9uTW91c2VMZWF2ZTpzfSwiKyIsZS5sZW5ndGgtNSkpfX1mdW5jdGlvbiBFTihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfXZhciBJTixDTixOTixSTixIZixkeD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTtQKCk7Z2UoKTttcigpO2hlKCk7TSgpO0YoKTt3KCk7SU49cmUoKCk9PkhlKCJkZWZhdWx0UmVuZGVyVXNlciIsInNob3dEZWZhdWx0QXZhdGFyc0Zvck51bGxVc2VycyIpKSxDTj1DKCJtb3JlVXNlcnMiLCJlbXB0eVVzZXIiLCJhdmF0YXJDb250YWluZXIiLCJjbGlja2FibGVBdmF0YXIiKSxOTj1DKCJnZXRSZWFjdGlvbnMiKSxSTj1uZXcgdm47SGY9dih7bmFtZToiV2hvUmVhY3RlZCIsZGVzY3JpcHRpb246IlJlbmRlcnMgdGhlIEF2YXRhcnMgb2YgcmVhY3RvcnMiLGF1dGhvcnM6W20uVmVuLG0uS2FubmFEZXZdLHBhdGNoZXM6W3tmaW5kOiIscmVhY3Rpb25SZWY6IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD0oXGkpPShcaSlcLmhpZGVDb3VudCwpKC4rP3JlYWN0aW9uQ291bnQuKz9cfVwpKS8scmVwbGFjZTooZSx0LG4scik9PmB3aG9SZWFjdGVkUHJvcHM9JHtufSwke3J9LCR7dH0/bnVsbDokc2VsZi5yZW5kZXJVc2Vycyh3aG9SZWFjdGVkUHJvcHMpYH19XSxyZW5kZXJVc2VycyhlKXtyZXR1cm4gZS5tZXNzYWdlLnJlYWN0aW9ucy5sZW5ndGg+MTA/bnVsbDpvKEQse25vb3A6ITB9LG8odGhpcy5fcmVuZGVyVXNlcnMsey4uLmV9KSl9LF9yZW5kZXJVc2Vycyh7bWVzc2FnZTplLGVtb2ppOnQsdHlwZTpufSl7bGV0IHI9JHQoKTtMLnVzZUVmZmVjdCgoKT0+e2xldCBjPXU9Pnt1Lm1lc3NhZ2VJZD09PWUuaWQmJnIoKX07cmV0dXJuIE8uc3Vic2NyaWJlKCJNRVNTQUdFX1JFQUNUSU9OX0FERF9VU0VSUyIsYyksKCk9Pk8udW5zdWJzY3JpYmUoIk1FU1NBR0VfUkVBQ1RJT05fQUREX1VTRVJTIixjKX0sW2UuaWRdKTtsZXQgaT1BTihlLHQsbikscz1PYmplY3QudmFsdWVzKGkpLmZpbHRlcihCb29sZWFuKTtmb3IobGV0IGMgb2YgcylPLmRpc3BhdGNoKHt0eXBlOiJVU0VSX1VQREFURSIsdXNlcjpjfSk7cmV0dXJuIG8oImRpdiIse3N0eWxlOnttYXJnaW5MZWZ0OiIwLjVlbSIsdHJhbnNmb3JtOiJzY2FsZSgwLjkpIn19LG8oImRpdiIse29uQ2xpY2s6RU59LG8oSU4se3VzZXJzOnMsZ3VpbGRJZDp0ZS5nZXRDaGFubmVsKGUuY2hhbm5lbF9pZCk/Lmd1aWxkX2lkLHJlbmRlckljb246ITEsbWF4OjUsc2hvd0RlZmF1bHRBdmF0YXJzRm9yTnVsbFVzZXJzOiEwLHNob3dVc2VyUG9wb3V0OiEwLHJlbmRlck1vcmVVc2VyczpMTihzKX0pKSl9fSl9KTt2YXIgemYsbXg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1l0KCk7UCgpO00oKTt6Zj12KHtuYW1lOiJXaWtpc2VhcmNoIixkZXNjcmlwdGlvbjoiU2VhcmNoZXMgV2lraXBlZGlhIGZvciB5b3VyIHJlcXVlc3RlZCBxdWVyeS4gKC93aWtpc2VhcmNoKSIsYXV0aG9yczpbbS5TYW11XSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToid2lraXNlYXJjaCIsZGVzY3JpcHRpb246IlNlYXJjaGVzIFdpa2lwZWRpYSBmb3IgeW91ciByZXF1ZXN0LiIsaW5wdXRUeXBlOjAsb3B0aW9uczpbe25hbWU6InNlYXJjaCIsZGVzY3JpcHRpb246IldvcmQgdG8gc2VhcmNoIGZvciIsdHlwZTozLHJlcXVpcmVkOiEwfV0sZXhlY3V0ZTphc3luYyhlLHQpPT57bGV0IG49WGUoZSwic2VhcmNoIiwiIik7aWYoIW4pcmV0dXJuIGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiTm8gd29yZCB3YXMgZGVmaW5lZCEifSk7bGV0IHI9bmV3IFVSTFNlYXJjaFBhcmFtcyh7YWN0aW9uOiJxdWVyeSIsZm9ybWF0OiJqc29uIixsaXN0OiJzZWFyY2giLGZvcm1hdHZlcnNpb246IjIiLG9yaWdpbjoiKiIsc3JzZWFyY2g6bn0pLGk9YXdhaXQgZigiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3cvYXBpLnBocD8iK3IpLnRoZW4ocD0+cC5qc29uKCkpLmNhdGNoKHA9Pihjb25zb2xlLmxvZyhwKSxhZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6IlRoZXJlIHdhcyBhbiBlcnJvci4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyJ9KSxudWxsKSk7aWYoIWkpcmV0dXJuO2lmKCFpLnF1ZXJ5Py5zZWFyY2g/Lmxlbmd0aClyZXR1cm4gY29uc29sZS5sb2coaSksYWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJObyByZXN1bHRzIGdpdmVuIn0pO2xldCBzPWF3YWl0IGYoYGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93L2FwaS5waHA/YWN0aW9uPXF1ZXJ5JmZvcm1hdD1qc29uJnByb3A9aW5mbyU3Q2Rlc2NyaXB0aW9uJTdDaW1hZ2VzJTdDaW1hZ2VpbmZvJTdDcGFnZWltYWdlcyZsaXN0PSZtZXRhPSZpbmRleHBhZ2VpZHM9MSZwYWdlaWRzPSR7aS5xdWVyeS5zZWFyY2hbMF0ucGFnZWlkfSZmb3JtYXR2ZXJzaW9uPTImb3JpZ2luPSpgKS50aGVuKHA9PnAuanNvbigpKS50aGVuKHA9PnAucXVlcnkucGFnZXNbMF0pLmNhdGNoKHA9Pihjb25zb2xlLmxvZyhwKSxhZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6IlRoZXJlIHdhcyBhbiBlcnJvci4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyJ9KSxudWxsKSk7aWYoIXMpcmV0dXJuO2xldCBjPXMudGh1bWJuYWlsLHU9YyYme3VybDpjLnNvdXJjZS5yZXBsYWNlKC8oNTBweC0pL2lnLCIxMDAwcHgtIiksaGVpZ2h0OmMuaGVpZ2h0KjEwMCx3aWR0aDpjLndpZHRoKjEwMH07YWUodC5jaGFubmVsLmlkLHtlbWJlZHM6W3t0eXBlOiJyaWNoIix0aXRsZTppLnF1ZXJ5LnNlYXJjaFswXS50aXRsZSx1cmw6YGh0dHBzOi8vd2lraXBlZGlhLm9yZy93L2luZGV4LnBocD9jdXJpZD0ke2kucXVlcnkuc2VhcmNoWzBdLnBhZ2VpZH1gLGNvbG9yOiIweDg2NjNCRSIsZGVzY3JpcHRpb246aS5xdWVyeS5zZWFyY2hbMF0uc25pcHBldC5yZXBsYWNlKC8oJm5ic3A7fDwoW14+XSspPikvaWcsIiIpLnJlcGxhY2UoLygmcXVvdDspL2lnLCciJykrIi4uLiIsaW1hZ2U6dSxmb290ZXI6e3RleHQ6IlBvd2VyZWQgYnkgdGhlIFdpa2ltZWRpYSBBUEkifX1dfSl9fV19KX0pO3ZhciBJZSx5cj1nKCgpPT57YSgpO2woKTtMZygpO0VnKCk7RGcoKTtPZygpO19nKCk7QmcoKTtGZygpOyRnKCk7VWcoKTtHZygpO0hnKCk7emcoKTtndSgpO2d5KCk7aHkoKTt5eSgpO2J5KCk7VHkoKTtSeSgpO2t5KCk7QXkoKTtMeSgpO0V5KCk7cXkoKTtZeSgpO1p5KCk7VnkoKTtldigpO3R2KCk7bnYoKTthdigpO2x2KCk7Z3YoKTtodigpO3l2KCk7TXYoKTtSdigpO2t2KCk7RXYoKTtEdigpO092KCk7X3YoKTtVdigpO0d2KCk7anYoKTtLdigpO1l2KCk7SnYoKTtJcCgpO2hhKCk7YzEoKTtwMSgpO20xKCk7aDEoKTtTMSgpO3cxKCk7QTEoKTtFMSgpO0QxKCk7TzEoKTtCMSgpO0YxKCk7JDEoKTtVMSgpO0cxKCk7SDEoKTt6MSgpO2oxKCk7VzEoKTtxMSgpO0sxKCk7WTEoKTtaMSgpO1gxKCk7SjEoKTtuUygpO0VpKCk7Z1MoKTtDUygpO05TKCk7QVMoKTtqUygpO1dTKCk7bjAoKTtvMCgpO3IwKCk7eTAoKTt2MCgpO1QwKCk7TzAoKTtfMCgpO1UwKCk7ejAoKTtZMCgpO2tiKCk7QWIoKTtCYigpO3ptKCk7cWIoKTtLYigpO1liKCk7WmIoKTtvVCgpO3JUKCk7c1QoKTtjVCgpO3BUKCk7dlQoKTtTVCgpO0NUKCk7UlQoKTtiZigpO2tUKCk7TFQoKTtFVCgpO0ZUKCk7R1QoKTt6VCgpO2pUKCk7S1QoKTtaVCgpO1FUKCk7dHgoKTt1eCgpO3B4KCk7ZHgoKTtteCgpO0llPXtbaWMubmFtZV06aWMsW3NjLm5hbWVdOnNjLFthYy5uYW1lXTphYyxbbGMubmFtZV06bGMsW2NjLm5hbWVdOmNjLFt1Yy5uYW1lXTp1YyxbcGMubmFtZV06cGMsW2RjLm5hbWVdOmRjLFttYy5uYW1lXTptYyxbZmMubmFtZV06ZmMsW2djLm5hbWVdOmdjLFtoYy5uYW1lXTpoYyxbVGkubmFtZV06VGksW2h1Lm5hbWVdOmh1LFt5dS5uYW1lXTp5dSxbdnUubmFtZV06dnUsW1N1Lm5hbWVdOlN1LFtidS5uYW1lXTpidSxbd3UubmFtZV06d3UsW011Lm5hbWVdOk11LFtQdS5uYW1lXTpQdSxbSXUubmFtZV06SXUsW0N1Lm5hbWVdOkN1LFtOdS5uYW1lXTpOdSxbUnUubmFtZV06UnUsW2t1Lm5hbWVdOmt1LFtGdS5uYW1lXTpGdSxbJHUubmFtZV06JHUsW1V1Lm5hbWVdOlV1LFtqdS5uYW1lXTpqdSxbV3UubmFtZV06V3UsW3F1Lm5hbWVdOnF1LFtZdS5uYW1lXTpZdSxbSnUubmFtZV06SnUsW1F1Lm5hbWVdOlF1LFtucC5uYW1lXTpucCxbb3AubmFtZV06b3AsW3JwLm5hbWVdOnJwLFtpcC5uYW1lXTppcCxbc3AubmFtZV06c3AsW2FwLm5hbWVdOmFwLFtjcC5uYW1lXTpjcCxbZnAubmFtZV06ZnAsW2dwLm5hbWVdOmdwLFt5cC5uYW1lXTp5cCxbU3AubmFtZV06U3AsW2JwLm5hbWVdOmJwLFt4cC5uYW1lXTp4cCxbTnAubmFtZV06TnAsW0FwLm5hbWVdOkFwLFtMcC5uYW1lXTpMcCxbT3AubmFtZV06T3AsW19wLm5hbWVdOl9wLFtCcC5uYW1lXTpCcCxbJHAubmFtZV06JHAsW3pwLm5hbWVdOnpwLFtxcC5uYW1lXTpxcCxbS3AubmFtZV06S3AsW1lwLm5hbWVdOllwLFtacC5uYW1lXTpacCxbSnAubmFtZV06SnAsW2VkLm5hbWVdOmVkLFt0ZC5uYW1lXTp0ZCxbbmQubmFtZV06bmQsW29kLm5hbWVdOm9kLFtyZC5uYW1lXTpyZCxbaWQubmFtZV06aWQsW3NkLm5hbWVdOnNkLFthZC5uYW1lXTphZCxbbGQubmFtZV06bGQsW2NkLm5hbWVdOmNkLFt1ZC5uYW1lXTp1ZCxbcGQubmFtZV06cGQsW2RkLm5hbWVdOmRkLFttZC5uYW1lXTptZCxbZmQubmFtZV06ZmQsW1RkLm5hbWVdOlRkLFt4ZC5uYW1lXTp4ZCxbQ2QubmFtZV06Q2QsW05kLm5hbWVdOk5kLFskZC5uYW1lXTokZCxbamQubmFtZV06amQsW1dkLm5hbWVdOldkLFtxZC5uYW1lXTpxZCxbWWQubmFtZV06WWQsW0pkLm5hbWVdOkpkLFtzbS5uYW1lXTpzbSxbYW0ubmFtZV06YW0sW2xtLm5hbWVdOmxtLFtnbS5uYW1lXTpnbSxbaG0ubmFtZV06aG0sW3ltLm5hbWVdOnltLFt2bS5uYW1lXTp2bSxbVG0ubmFtZV06VG0sWyRtLm5hbWVdOiRtLFtVbS5uYW1lXTpVbSxbR20ubmFtZV06R20sW1dtLm5hbWVdOldtLFtxbS5uYW1lXTpxbSxbWm0ubmFtZV06Wm0sW1htLm5hbWVdOlhtLFtKbS5uYW1lXTpKbSxbdGYubmFtZV06dGYsW29mLm5hbWVdOm9mLFthZi5uYW1lXTphZixbbGYubmFtZV06bGYsW2NmLm5hbWVdOmNmLFtwZi5uYW1lXTpwZixbZGYubmFtZV06ZGYsW3lmLm5hbWVdOnlmLFt4Zi5uYW1lXTp4ZixbU2YubmFtZV06U2YsW3dmLm5hbWVdOndmLFtQZi5uYW1lXTpQZixbSWYubmFtZV06SWYsW05mLm5hbWVdOk5mLFtSZi5uYW1lXTpSZixba2YubmFtZV06a2YsW0xmLm5hbWVdOkxmLFtEZi5uYW1lXTpEZixbT2YubmFtZV06T2YsW0JmLm5hbWVdOkJmLFtGZi5uYW1lXTpGZixbVWYubmFtZV06VWYsW0dmLm5hbWVdOkdmLFtIZi5uYW1lXTpIZixbemYubmFtZV06emZ9fSk7dmFyIFdmPXt9O1NlKFdmLHtCYWRnZVBvc2l0aW9uOigpPT5EcyxfZ2V0QmFkZ2VzOigpPT5ETixhZGRCYWRnZTooKT0+VWQscmVtb3ZlQmFkZ2U6KCk9PkdkfSk7ZnVuY3Rpb24gVWQoZSl7ZS5jb21wb25lbnQmJj1ELndyYXAoZS5jb21wb25lbnQse25vb3A6ITB9KSxqZi5hZGQoZSl9ZnVuY3Rpb24gR2QoZSl7cmV0dXJuIGpmLmRlbGV0ZShlKX1mdW5jdGlvbiBETihlKXtsZXQgdD1bXTtmb3IobGV0IHIgb2YgamYpKCFyLnNob3VsZFNob3d8fHIuc2hvdWxkU2hvdyhlKSkmJihyLnBvc2l0aW9uPT09MD90LnVuc2hpZnQoey4uLnIsLi4uZX0pOnQucHVzaCh7Li4uciwuLi5lfSkpO2xldCBuPUllLkJhZGdlQVBJLmdldERvbm9yQmFkZ2VzKGUudXNlci5pZCk7cmV0dXJuIG4mJnQudW5zaGlmdCguLi5uKSx0fXZhciBEcyxqZixPcz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTt5cigpO0RzPShuPT4obltuLlNUQVJUPTBdPSJTVEFSVCIsbltuLkVORD0xXT0iRU5EIixuKSkoRHN8fHt9KSxqZj1uZXcgU2V0fSk7dmFyIHFmPXt9O1NlKHFmLHtCYWRnZXM6KCk9PiROLENvbW1hbmRzOigpPT5fTixDb250ZXh0TWVudTooKT0+S04sRGF0YVN0b3JlOigpPT5PdCxNZW1iZXJMaXN0RGVjb3JhdG9yczooKT0+SE4sTWVzc2FnZUFjY2Vzc29yaWVzOigpPT5CTixNZXNzYWdlRGVjb3JhdGlvbnM6KCk9PkdOLE1lc3NhZ2VFdmVudHM6KCk9Pk9OLE1lc3NhZ2VQb3BvdmVyOigpPT5GTixOb3RpY2VzOigpPT5qYSxOb3RpZmljYXRpb25zOigpPT5xTixTZXJ2ZXJMaXN0OigpPT5VTixTZXR0aW5nczooKT0+ek4sU2V0dGluZ3NTdG9yZTooKT0+ak4sU3R5bGVzOigpPT5XTn0pO3ZhciBPTixqYSxfTixPdCxCTixGTiwkTixVTixHTixITix6TixqTixXTixxTixLTiwkaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T3MoKTtZdCgpO1R0KCk7bG4oKTtMZCgpO1NhKCk7X2QoKTskbigpO1FvKCk7VnMoKTttbygpO0hhKCk7VSgpO2RwKCk7T2UoKTtPTj1CdSxqYT1XYyxfTj1KYyxPdD1SbixCTj1HcCxGTj12cCwkTj1XZixVTj1YZCxHTj1PZCxITj1BZCx6Tj0kYyxqTj1wcCxXTj14YyxxTj1NYyxLTj12Y30pO3ZhciBaZj17fTtTZShaZix7dG9nZ2xlOigpPT5ZZn0pO2FzeW5jIGZ1bmN0aW9uIFlmKGUpe0VvP0VvLmRpc2FibGVkPSFlOmUmJihFbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLEVvLmlkPSJ2ZW5jb3JkLWN1c3RvbS1jc3MiLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChFbyksVmVuY29yZE5hdGl2ZS5xdWlja0Nzcy5hZGRDaGFuZ2VMaXN0ZW5lcih0PT57RW8udGV4dENvbnRlbnQ9dCxFby5kaXNhYmxlZD0hay51c2VRdWlja0Nzc30pLEVvLnRleHRDb250ZW50PWF3YWl0IFZlbmNvcmROYXRpdmUucXVpY2tDc3MuZ2V0KCkpfWFzeW5jIGZ1bmN0aW9uIEtmKCl7bnN8fChucz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLG5zLmlkPSJ2ZW5jb3JkLXRoZW1lcyIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKG5zKSk7bGV0e3RoZW1lTGlua3M6ZSxlbmFibGVkVGhlbWVzOnR9PWssbj1bLi4uZV07Zm9yKGxldCByIG9mIHQpe2xldCBpPWF3YWl0IFZlbmNvcmROYXRpdmUudGhlbWVzLmdldFRoZW1lRGF0YShyKTtpZighaSljb250aW51ZTtsZXQgcz1uZXcgQmxvYihbaV0se3R5cGU6InRleHQvY3NzIn0pO24ucHVzaChVUkwuY3JlYXRlT2JqZWN0VVJMKHMpKX1ucy50ZXh0Q29udGVudD1uLm1hcChyPT5gQGltcG9ydCB1cmwoIiR7ci50cmltKCl9Iik7YCkuam9pbihgCmApfXZhciBFbyxucyxYZj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7VSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCgpPT57S2YoKSxZZihrLnVzZVF1aWNrQ3NzKSxmaSgidXNlUXVpY2tDc3MiLFlmKSxmaSgidGhlbWVMaW5rcyIsS2YpLGZpKCJlbmFibGVkVGhlbWVzIixLZil9KX0pO3ZhciBKZj17fTtTZShKZix7Q29tbW9uOigpPT5IbCxfaW5pdFdlYnBhY2s6KCk9Pm1zLF9yZXNvbHZlUmVhZHk6KCk9PmRzLGFkZExpc3RlbmVyOigpPT5EeCxjYWNoZTooKT0+am4sZXh0cmFjdDooKT0+TGwsZmlsdGVyczooKT0+SixmaW5kOigpPT5xdCxmaW5kQWxsOigpPT5scixmaW5kQnVsazooKT0+anIsZmluZEJ5Q29kZTooKT0+SGUsZmluZEJ5Q29kZUxhenk6KCk9PnBlLGZpbmRCeVByb3BzOigpPT5rbixmaW5kQnlQcm9wc0xhenk6KCk9PkMsZmluZExhenk6KCk9PlJlLGZpbmRNb2R1bGVJZDooKT0+ZnMsZmluZFN0b3JlOigpPT5FeCxmaW5kU3RvcmVMYXp5OigpPT5sZSxsaXN0ZW5lcnM6KCk9PmtsLG1hcE1hbmdsZWRNb2R1bGU6KCk9PmFnLG1hcE1hbmdsZWRNb2R1bGVMYXp5OigpPT5ldCxvbmNlUmVhZHk6KCk9PlJsLHJlbW92ZUxpc3RlbmVyOigpPT5PeCxzZWFyY2g6KCk9PkFsLHN1YnNjcmlwdGlvbnM6KCk9PnNnLHdhaXRGb3I6KCk9PnR0LHdyZXE6KCk9Pld0fSk7dmFyIHlsPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3KCk7RigpfSk7ZnVuY3Rpb24gZ3goKXtmdW5jdGlvbiBlKHQpe3RyeXtsZXQgbj10WzFdLHtzdWJzY3JpcHRpb25zOnIsbGlzdGVuZXJzOml9PVZlbmNvcmQuV2VicGFjayx7cGF0Y2hlczpzfT1WZW5jb3JkLlBsdWdpbnM7Zm9yKGxldCBjIGluIG4pe2xldCB1PW5bY10scD11LnRvU3RyaW5nKCkucmVwbGFjZUFsbChgCmAsIiIpO3Auc3RhcnRzV2l0aCgiZnVuY3Rpb24oIikmJihwPSIwLCIrcCk7bGV0IHk9dSxoPW5ldyBTZXQsUz1uW2NdPWZ1bmN0aW9uKGIseCxBKXt0cnl7dShiLHgsQSl9Y2F0Y2goSSl7aWYodT09PXkpdGhyb3cgSTtyZXR1cm4gRG8uZXJyb3IoIkVycm9yIGluIHBhdGNoZWQgY2h1bmsiLEkpLHZvaWQgeShiLHgsQSl9aWYoYi5leHBvcnRzPT09dW5zYWZlV2luZG93KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoQS5jLGMse3ZhbHVlOkEuY1tjXSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO3JldHVybn1sZXQgTj1OdW1iZXIoYyk7Zm9yKGxldCBJIG9mIGkpdHJ5e0koeCxOKX1jYXRjaCgkKXtEby5lcnJvcigiRXJyb3IgaW4gd2VicGFjayBsaXN0ZW5lciIsJCl9Zm9yKGxldFtJLCRdb2Ygcil0cnl7aWYoSSh4KSlyLmRlbGV0ZShJKSwkKHgsTik7ZWxzZSBpZih0eXBlb2YgeD09Im9iamVjdCIpe3guZGVmYXVsdCYmSSh4LmRlZmF1bHQpJiYoci5kZWxldGUoSSksJCh4LmRlZmF1bHQsTikpO2ZvcihsZXQgXyBpbiB4KV8ubGVuZ3RoPD0zJiZ4W19dJiZJKHhbX10pJiYoci5kZWxldGUoSSksJCh4W19dLE4pKX19Y2F0Y2goXyl7RG8uZXJyb3IoIkVycm9yIHdoaWxlIGZpcmluZyBjYWxsYmFjayBmb3Igd2VicGFjayBjaHVuayIsXyl9fTt0cnl7Uy50b1N0cmluZz0oKT0+dS50b1N0cmluZygpLFMub3JpZ2luYWw9eX1jYXRjaHt9Zm9yKGxldCBiPTA7YjxzLmxlbmd0aDtiKyspe2xldCB4PXNbYl0sQT1wbihgcGF0Y2ggYnkgJHt4LnBsdWdpbn1gLChOLEkpPT5wLnJlcGxhY2UoTixJKSk7aWYoISh4LnByZWRpY2F0ZSYmIXgucHJlZGljYXRlKCkpJiZwLmluY2x1ZGVzKHguZmluZCkpe2guYWRkKHgucGx1Z2luKTtmb3IobGV0IE4gb2YgeC5yZXBsYWNlbWVudCl7aWYoTi5wcmVkaWNhdGUmJiFOLnByZWRpY2F0ZSgpKWNvbnRpbnVlO2xldCBJPXUsJD1wO2VpKE4seC5wbHVnaW4pO3RyeXtsZXQgXz1BKE4ubWF0Y2gsTi5yZXBsYWNlKTtfPT09cCYmIXgubm9XYXJuP0RvLndhcm4oYFBhdGNoIGJ5ICR7eC5wbHVnaW59IGhhZCBubyBlZmZlY3QgKE1vZHVsZSBpZCBpcyAke2N9KTogJHtOLm1hdGNofWApOihwPV8sdT0oMCxldmFsKShgLy8gV2VicGFjayBNb2R1bGUgJHtjfSAtIFBhdGNoZWQgYnkgJHtbLi4uaF0uam9pbigiLCAiKX0KJHtffQovLyMgc291cmNlVVJMPVdlYnBhY2tNb2R1bGUke2N9YCkpfWNhdGNoKF8pe0RvLmVycm9yKGBQYXRjaCBieSAke3gucGx1Z2lufSBlcnJvcmVkIChNb2R1bGUgaWQgaXMgJHtjfSk6ICR7Ti5tYXRjaH0KYCxfKSxwPSQsdT1JLGguZGVsZXRlKHgucGx1Z2luKX19eC5hbGx8fHMuc3BsaWNlKGItLSwxKX19fX1jYXRjaChuKXtEby5lcnJvcigiRXJyb3IgaW4gaGFuZGxlUHVzaCIsbil9cmV0dXJuIGUub3JpZ2luYWwuY2FsbCh1bnNhZmVXaW5kb3dbSnRdLHQpfWUub3JpZ2luYWw9dW5zYWZlV2luZG93W0p0XS5wdXNoLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bnNhZmVXaW5kb3dbSnRdLCJwdXNoIix7Z2V0OigpPT5lLHNldDp0PT5lLm9yaWdpbmFsPXQsY29uZmlndXJhYmxlOiEwfSl9dmFyIGZ4LERvLGh4PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7TWUoKTt0aSgpO3BzKCk7eWwoKTtEbz1uZXcgVigiV2VicGFja0ludGVyY2VwdG9yIiwiIzhjYWFlZSIpO3Vuc2FmZVdpbmRvd1tKdF0/KERvLmluZm8oYFBhdGNoaW5nICR7SnR9LnB1c2ggKHdhcyBhbHJlYWR5IGV4aXN0YW50LCBsaWtlbHkgZnJvbSBjYWNoZSEpYCksbXModW5zYWZlV2luZG93W0p0XSksZ3goKSk6T2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdyxKdCx7Z2V0OigpPT5meCxzZXQ6ZT0+e2U/LnB1c2ghPT1BcnJheS5wcm90b3R5cGUucHVzaCYmKERvLmluZm8oYFBhdGNoaW5nICR7SnR9LnB1c2hgKSxtcyhlKSxneCgpLGRlbGV0ZSB1bnNhZmVXaW5kb3dbSnRdLHVuc2FmZVdpbmRvd1tKdF09ZSksZng9ZX0sY29uZmlndXJhYmxlOiEwfSl9KTthc3luYyBmdW5jdGlvbiBZTigpe2lmKGsuY2xvdWQuYXV0aGVudGljYXRlZCYmYXdhaXQgV2UoIlZlbmNvcmRfY2xvdWRTZWNyZXQiKT09PW51bGwpe3ZlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb25zIixib2R5OiJXZSd2ZSBub3RpY2VkIHlvdSBoYXZlIGNsb3VkIGludGVncmF0aW9ucyBlbmFibGVkIGluIGFub3RoZXIgY2xpZW50ISBEdWUgdG8gbGltaXRhdGlvbnMsIHlvdSB3aWxsIG5lZWQgdG8gcmUtYXV0aGVudGljYXRlIHRvIGNvbnRpbnVlIHVzaW5nIHRoZW0uIENsaWNrIGhlcmUgdG8gZ28gdG8gdGhlIHNldHRpbmdzIHBhZ2UgdG8gZG8gc28hIixjb2xvcjoidmFyKC0teWVsbG93LTM2MCkiLG9uQ2xpY2s6KCk9PnByLm9wZW4oIlZlbmNvcmRDbG91ZCIpfSk7cmV0dXJufWsuY2xvdWQuc2V0dGluZ3NTeW5jJiZrLmNsb3VkLmF1dGhlbnRpY2F0ZWQmJihIby5WZW5jb3JkX3NldHRpbmdzRGlydHk/KGF3YWl0IGhyKCksZGVsZXRlIEhvLlZlbmNvcmRfc2V0dGluZ3NEaXJ0eSk6YXdhaXQgWXMoITEpJiZ2ZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJZb3VyIHNldHRpbmdzIGhhdmUgYmVlbiB1cGRhdGVkISBDbGljayBoZXJlIHRvIHJlc3RhcnQgdG8gZnVsbHkgYXBwbHkgY2hhbmdlcyEiLGNvbG9yOiJ2YXIoLS1ncmVlbi0zNjApIixvbkNsaWNrOlhzfSkpfWFzeW5jIGZ1bmN0aW9uIFpOKCl7aWYoYXdhaXQgUmwsdXUoKSxZTigpLCExKXRyeXt9Y2F0Y2goZSl7fX12YXIgUW09ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRpKCk7cmEoKTtWbCgpO1hmKCk7U3IoKTt5bCgpO1hmKCk7aHgoKTtsbigpO21vKCk7VSgpO3JhKCk7a3MoKTt2cigpO21pKCk7U3IoKTt5bCgpO3coKTtaTigpfSk7dmFyIFhOPXt9O1NlKFhOLHtBcGk6KCk9PnFmLFBsYWluU2V0dGluZ3M6KCk9Pk9uLFBsdWdpbnM6KCk9PmR1LFF1aWNrQ3NzOigpPT5aZixTZXR0aW5nczooKT0+ayxVcGRhdGVyOigpPT5HYyxVdGlsOigpPT5RbCxXZWJwYWNrOigpPT5KZn0pO2EoKTtsKCk7YSgpO2woKTthKCk7bCgpO3ZhciBvZz1gPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICAgIDxoZWFkPgogICAgICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgICAgIDx0aXRsZT5WZW5jb3JkIFF1aWNrQ1NTIEVkaXRvcjwvdGl0bGU+CiAgICAgICAgPGxpbmsKICAgICAgICAgICAgcmVsPSJzdHlsZXNoZWV0IgogICAgICAgICAgICBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb25hY28tZWRpdG9yLzAuNDAuMC9taW4vdnMvZWRpdG9yL2VkaXRvci5tYWluLm1pbi5jc3MiCiAgICAgICAgICAgIGludGVncml0eT0ic2hhNTEyLU1Pb1EwMmg4MGhrbGNjZkxyWEZZa0N6RytXVmpPUmZsT3A5WnA4ZGx0aWFSUCszNUxZbk80TEtPa2xSNjRvTUdmR2dKRExPOFdKcGtNMW81Z1pYWVpRPT0iCiAgICAgICAgICAgIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiCiAgICAgICAgICAgIHJlZmVycmVycG9saWN5PSJuby1yZWZlcnJlciIKICAgICAgICAvPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgaHRtbCwKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgI2NvbnRhaW5lciB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgfQogICAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CgogICAgPGJvZHk+CiAgICAgICAgPGRpdiBpZD0iY29udGFpbmVyIj48L2Rpdj4KICAgICAgICA8c2NyaXB0CiAgICAgICAgICAgIHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbW9uYWNvLWVkaXRvci8wLjQwLjAvbWluL3ZzL2xvYWRlci5taW4uanMiCiAgICAgICAgICAgIGludGVncml0eT0ic2hhNTEyLVF6TXBYZUNQY2lBSFA0d2JZbFYyUFlnclFjYUVrRFFVanprUFU0eG5qeVZTRDlUMzYvdWRhbXh0TkJxYjRxSzQvYk1RTVBaOGF5ckJlOWhyR2RCRmpRPT0iCiAgICAgICAgICAgIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiCiAgICAgICAgICAgIHJlZmVycmVycG9saWN5PSJuby1yZWZlcnJlciIKICAgICAgICA+PFwvc2NyaXB0PgoKICAgICAgICA8c2NyaXB0PgogICAgICAgICAgICByZXF1aXJlLmNvbmZpZyh7CiAgICAgICAgICAgICAgICBwYXRoczogewogICAgICAgICAgICAgICAgICAgIHZzOiAiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbW9uYWNvLWVkaXRvci8wLjQwLjAvbWluL3ZzIiwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmVxdWlyZShbInZzL2VkaXRvci9lZGl0b3IubWFpbiJdLCAoKSA9PiB7CiAgICAgICAgICAgICAgICBnZXRDdXJyZW50Q3NzKCkudGhlbigoY3NzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udGFpbmVyIiksCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogImNzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVtZTogZ2V0VGhlbWUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxDb250ZW50KCgpID0+CiAgICAgICAgICAgICAgICAgICAgICAgIHNldENzcyhlZGl0b3IuZ2V0VmFsdWUoKSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgbW9uYWNvIHJlLWxheW91dAogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IubGF5b3V0KCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgPFwvc2NyaXB0PgogICAgPC9ib2R5Pgo8L2h0bWw+CmA7bG4oKTtWbCgpO2F0KCk7YSgpO2woKTt2YXIgb3c9L1teXFNcclxuXSo/XHI/KD86XHJcbnxcbilbXlxTXHJcbl0qP1wqW15cU1xyXG5dPy8scnc9L15cXEAvO2Z1bmN0aW9uIGVjKGUsdD17fSl7cmV0dXJue2ZpbGVOYW1lOmUsbmFtZTp0Lm5hbWU/P2UucmVwbGFjZSgvXC5jc3MkL2ksIiIpLGF1dGhvcjp0LmF1dGhvcj8/IlVua25vd24gQXV0aG9yIixkZXNjcmlwdGlvbjp0LmRlc2NyaXB0aW9uPz8iQSBEaXNjb3JkIFRoZW1lLiIsdmVyc2lvbjp0LnZlcnNpb24sbGljZW5zZTp0LmxpY2Vuc2Usc291cmNlOnQuc291cmNlLHdlYnNpdGU6dC53ZWJzaXRlLGludml0ZTp0Lmludml0ZX19ZnVuY3Rpb24gUGcoZSx0KXtpZighZSlyZXR1cm4gZWModCk7bGV0IG49ZS5zcGxpdCgiLyoqIiwyKT8uWzFdPy5zcGxpdCgiKi8iLDEpPy5bMF07aWYoIW4pcmV0dXJuIGVjKHQpO2xldCByPXt9LGk9IiIscz0iIjtmb3IobGV0IGMgb2Ygbi5zcGxpdChvdykpaWYoYy5sZW5ndGghPT0wKWlmKGMuY2hhckF0KDApPT09IkAiJiZjLmNoYXJBdCgxKSE9PSIgIil7cltpXT1zLnRyaW0oKTtsZXQgdT1jLmluZGV4T2YoIiAiKTtpPWMuc3Vic3RyaW5nKDEsdSkscz1jLnN1YnN0cmluZyh1KzEpfWVsc2Ugcys9IiAiK2MucmVwbGFjZSgiXFxuIixgCmApLnJlcGxhY2UocncsIkAiKTtyZXR1cm4gcltpXT1zLnRyaW0oKSxkZWxldGUgclsiIl0sZWModCxyKX12YXJ7bG9jYWxTdG9yYWdlOklnfT11bnNhZmVXaW5kb3csQ2c9bmV3IFNldCxpdz0oKT0+e30sc3c9YXN5bmMoKT0+e30sYXc9RnQoZT0+VmVuY29yZE5hdGl2ZS5xdWlja0Nzcy5zZXQoZSkpLExzPWlzKCJWZW5jb3JkVGhlbWVzIiwiVmVuY29yZFRoZW1lRGF0YSIpO3Vuc2FmZVdpbmRvdy5WZW5jb3JkTmF0aXZlPXt0aGVtZXM6e3VwbG9hZFRoZW1lOihlLHQpPT5WZShlLHQsTHMpLGRlbGV0ZVRoZW1lOmU9PnhsKGUsTHMpLGdldFRoZW1lc0Rpcjphc3luYygpPT4iIixnZXRUaGVtZXNMaXN0OigpPT5NbChMcykudGhlbihlPT5lLm1hcCgoW3Qsbl0pPT5QZyhuLHQudG9TdHJpbmcoKSkpKSxnZXRUaGVtZURhdGE6ZT0+V2UoZSxMcyl9LG5hdGl2ZTp7Z2V0VmVyc2lvbnM6KCk9Pih7fSksb3BlbkV4dGVybmFsOmFzeW5jIGU9PnZvaWQgb3BlbihlLCJfYmxhbmsiKX0sdXBkYXRlcjp7Z2V0UmVwbzphc3luYygpPT4oe29rOiEwLHZhbHVlOiJodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZC9WZW5jb3JkIn0pLGdldFVwZGF0ZXM6YXN5bmMoKT0+KHtvazohMCx2YWx1ZTpbXX0pLHVwZGF0ZTphc3luYygpPT4oe29rOiEwLHZhbHVlOiExfSkscmVidWlsZDphc3luYygpPT4oe29rOiEwLHZhbHVlOiEwfSl9LHF1aWNrQ3NzOntnZXQ6KCk9PldlKCJWZW5jb3JkUXVpY2tDc3MiKS50aGVuKGU9PmU/PyIiKSxzZXQ6YXN5bmMgZT0+e2F3YWl0IFZlKCJWZW5jb3JkUXVpY2tDc3MiLGUpLENnLmZvckVhY2godD0+dChlKSl9LGFkZENoYW5nZUxpc3RlbmVyKGUpe0NnLmFkZChlKX0sYWRkVGhlbWVDaGFuZ2VMaXN0ZW5lcjppdyxvcGVuRmlsZTpzdyxhc3luYyBvcGVuRWRpdG9yKCl7bGV0IGU9YHBvcHVwLHdpZHRoPSR7TWF0aC5taW4odW5zYWZlV2luZG93LmlubmVyV2lkdGgsMWUzKX0saGVpZ2h0PSR7TWF0aC5taW4odW5zYWZlV2luZG93LmlubmVySGVpZ2h0LDFlMyl9YCx0PW9wZW4oImFib3V0OmJsYW5rIiwiVmVuY29yZFF1aWNrQ3NzIixlKTtpZighdCl7YWxlcnQoIkZhaWxlZCB0byBvcGVuIFF1aWNrQ1NTIHBvcHVwLiBNYWtlIHN1cmUgdG8gYWxsb3cgcG9wdXBzISIpO3JldHVybn10LnNldENzcz1hdyx0LmdldEN1cnJlbnRDc3M9KCk9PlZlbmNvcmROYXRpdmUucXVpY2tDc3MuZ2V0KCksdC5nZXRUaGVtZT0oKT0+VnIoKT09PTI/InZzLWxpZ2h0IjoidnMtZGFyayIsdC5kb2N1bWVudC53cml0ZShvZyl9fSxzZXR0aW5nczp7Z2V0OigpPT5JZy5nZXRJdGVtKCJWZW5jb3JkU2V0dGluZ3MiKXx8Int9IixzZXQ6YXN5bmMgZT0+SWcuc2V0SXRlbSgiVmVuY29yZFNldHRpbmdzIixlKSxnZXRTZXR0aW5nc0Rpcjphc3luYygpPT4iTG9jYWxTdG9yYWdlIn0scGx1Z2luSGVscGVyczp7fX07UW0oKTtyZXR1cm4gT28oWE4pO30pKCk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bnNhZmVXaW5kb3csJ1ZlbmNvcmQnLHtnZXQ6KCk9PlZlbmNvcmR9KTsKLyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgVmVuY29yZC51c2VyLmpzLkxFR0FMLnR4dCAqLwoKO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoCiAgICBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksIHsKICAgICAgICB0ZXh0Q29udGVudDogYC52Yy1lcnJvci1jYXJke3BhZGRpbmc6MmVtO2JhY2tncm91bmQtY29sb3I6I2U3ODI4NDMwO2JvcmRlcjoxcHggc29saWQgI2U3ODI4NDtib3JkZXItcmFkaXVzOjVweDtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCwgd2hpdGUpfS52Yy1ub3RpZmljYXRpb24tcm9vdHthbGw6dW5zZXQ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpO2JvcmRlci1yYWRpdXM6NnB4O292ZXJmbG93OmhpZGRlbjtjdXJzb3I6cG9pbnRlcjt3aWR0aDoxMDAlfS52Yy1ub3RpZmljYXRpb24tcm9vdDpub3QoLnZjLW5vdGlmaWNhdGlvbi1sb2ctd3JhcHBlciA+IC52Yy1ub3RpZmljYXRpb24tcm9vdCl7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyMTQ3NDgzNjQ3O3JpZ2h0OjFyZW07d2lkdGg6MjV2dzttaW4taGVpZ2h0OjEwdmh9LnZjLW5vdGlmaWNhdGlvbntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O3BhZGRpbmc6MS4yNXJlbTtnYXA6MS4yNXJlbX0udmMtbm90aWZpY2F0aW9uLWNvbnRlbnR7d2lkdGg6MTAwJX0udmMtbm90aWZpY2F0aW9uLWhlYWRlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LnZjLW5vdGlmaWNhdGlvbi10aXRsZXtjb2xvcjp2YXIoLS1oZWFkZXItcHJpbWFyeSk7Zm9udC1zaXplOjFyZW07Zm9udC13ZWlnaHQ6NjAwO2xpbmUtaGVpZ2h0OjEuMjVyZW07dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS52Yy1ub3RpZmljYXRpb24tY2xvc2UtYnRue2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjtjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO29wYWNpdHk6LjU7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dCxjb2xvciAuMnMgZWFzZS1pbi1vdXR9LnZjLW5vdGlmaWNhdGlvbi1jbG9zZS1idG46aG92ZXJ7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtaG92ZXIpO29wYWNpdHk6MX0udmMtbm90aWZpY2F0aW9uLWljb257aGVpZ2h0OjRyZW07d2lkdGg6NHJlbTtib3JkZXItcmFkaXVzOjZweH0udmMtbm90aWZpY2F0aW9uLXByb2dyZXNzYmFye2hlaWdodDouMjVyZW07Ym9yZGVyLXJhZGl1czo1cHg7bWFyZ2luLXRvcDphdXRvfS52Yy1ub3RpZmljYXRpb24tcHttYXJnaW46LjVyZW0gMCAwO2xpbmUtaGVpZ2h0OjE0MCV9LnZjLW5vdGlmaWNhdGlvbi1pbWd7d2lkdGg6MTAwJX0udmMtbm90aWZpY2F0aW9uLWxvZy1lbXB0eXtoZWlnaHQ6MjE4cHg7YmFja2dyb3VuZDp1cmwoL2Fzc2V0cy9iMzZkZTk4MGIxNzRkN2I3OThjODlmMzVjMTE2ZTVjNi5zdmcpIGNlbnRlciBuby1yZXBlYXQ7bWFyZ2luLWJvdHRvbTo0MHB4fS52Yy1ub3RpZmljYXRpb24tbG9nLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3BhZGRpbmc6MWVtO292ZXJmbG93OmhpZGRlbn0udmMtbm90aWZpY2F0aW9uLWxvZy13cmFwcGVye3RyYW5zaXRpb246LjJzIGVhc2U7dHJhbnNpdGlvbi1wcm9wZXJ0eTpoZWlnaHQsb3BhY2l0eX0udmMtbm90aWZpY2F0aW9uLWxvZy13cmFwcGVyOm5vdCg6bGFzdC1jaGlsZCl7bWFyZ2luLWJvdHRvbToxZW19LnZjLW5vdGlmaWNhdGlvbi1sb2ctcmVtb3Zpbmd7aGVpZ2h0OjAhaW1wb3J0YW50O29wYWNpdHk6MDttYXJnaW4tYm90dG9tOjFlbX0udmMtbm90aWZpY2F0aW9uLWxvZy1ib2R5e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LnZjLW5vdGlmaWNhdGlvbi1sb2ctdGltZXN0YW1we21hcmdpbi1sZWZ0OmF1dG87Zm9udC1zaXplOi44ZW07Zm9udC13ZWlnaHQ6bGlnaHRlcn0udmMtbm90aWZpY2F0aW9uLWxvZy1kYW5nZXItYnRue2NvbG9yOnZhcigtLXdoaXRlLTUwMCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1idXR0b24tZGFuZ2VyLWJhY2tncm91bmQpfS52Yy1zZXR0aW5ncy10YWItYmFye21hcmdpbi10b3A6MjBweDttYXJnaW4tYm90dG9tOjEwcHg7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1hY2NlbnQpfS52Yy1zZXR0aW5ncy10YWItYmFyLWl0ZW17bWFyZ2luLXJpZ2h0OjMycHg7cGFkZGluZy1ib3R0b206MTZweDttYXJnaW4tYm90dG9tOi0ycHh9LnZjLXNldHRpbmdzLXF1aWNrLWFjdGlvbnMtY2FyZHtwYWRkaW5nOjFlbTtkaXNwbGF5OmZsZXg7Z2FwOjFlbTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWV2ZW5seTtmbGV4LWdyb3c6MTtmbGV4LWZsb3c6cm93IHdyYXA7bWFyZ2luLWJvdHRvbToxZW19LnZjLXNldHRpbmdzLWRvbmF0ZXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93fS52Yy1zZXR0aW5ncy1jYXJke3BhZGRpbmc6MWVtO21hcmdpbi1ib3R0b206MWVtfS52Yy1iYWNrdXAtcmVzdG9yZS1jYXJke2JhY2tncm91bmQtY29sb3I6dmFyKC0taW5mby13YXJuaW5nLWJhY2tncm91bmQpO2JvcmRlci1jb2xvcjp2YXIoLS1pbmZvLXdhcm5pbmctZm9yZWdyb3VuZCk7Y29sb3I6dmFyKC0taW5mby13YXJuaW5nLXRleHQpfS52Yy1zZXR0aW5ncy10aGVtZS1saW5rc3tkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7Y29sb3I6dmFyKC0tdGV4dC1ub3JtYWwpIWltcG9ydGFudDtwYWRkaW5nOi41ZW07Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjY2VudCk7bWF4LWhlaWdodDp1bnNldH0udmMtY2xvdWQtc2V0dGluZ3Mtc3luYy1ncmlke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDMsMWZyKTtncmlkLWdhcDoxZW19LnZjLWNsb3VkLWVyYXNlLWRhdGEtZGFuZ2VyLWJ0bntjb2xvcjp2YXIoLS13aGl0ZS01MDApO2JhY2tncm91bmQtY29sb3I6dmFyKC0tYnV0dG9uLWRhbmdlci1iYWNrZ3JvdW5kKX0udmMtdGV4dC1zZWxlY3RhYmxlLC52Yy10ZXh0LXNlbGVjdGFibGUgOndoZXJlKFtjbGFzcyo9InRleHQiIGldLFtjbGFzcyo9InRpdGxlIiBpXSl7dXNlci1zZWxlY3Q6dGV4dDtjdXJzb3I6aW5pdGlhbH0udmMtc2V0dGluZ3MtdGhlbWUtZ3JpZHtkaXNwbGF5OmdyaWQ7Z3JpZC1nYXA6MTZweDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMjUwcHgsMWZyKSl9LnZjLXNldHRpbmdzLXRoZW1lLWNhcmR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtYWN0aXZlKTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjFlbTt3aWR0aDoxMDAlO3RyYW5zaXRpb246LjFzIGVhc2Utb3V0O3RyYW5zaXRpb24tcHJvcGVydHk6Ym94LXNoYWRvdyx0cmFuc2Zvcm0sYmFja2dyb3VuZCxvcGFjaXR5fS52Yy1zZXR0aW5ncy10aGVtZS1jYXJkLXRleHR7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztoZWlnaHQ6MS4yZW07bWFyZ2luLWJvdHRvbToycHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbn0udmMtc2V0dGluZ3MtdGhlbWUtYXV0aG9yOmJlZm9yZXtjb250ZW50OiJieSAifS52Yy1wbHVnaW5zLWdyaWR7bWFyZ2luLXRvcDoxNnB4O2Rpc3BsYXk6Z3JpZDtncmlkLWdhcDoxNnB4O2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyNTBweCwxZnIpKX0udmMtcGx1Z2lucy1pbmZvLWJ1dHRvbntoZWlnaHQ6MjRweDt3aWR0aDoyNHB4O3BhZGRpbmc6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O21hcmdpbi1yaWdodDo4cHh9LnZjLXBsdWdpbnMtc2V0dGluZ3MtYnV0dG9uOmhvdmVye2NvbG9yOnZhcigtLWludGVyYWN0aXZlLWhvdmVyKX0udmMtcGx1Z2lucy1maWx0ZXItY29udHJvbHN7ZGlzcGxheTpncmlkO2hlaWdodDo0MHB4O2dhcDoxMHB4O2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMTUwcHh9LnZjLXBsdWdpbnMtYmFkZ2V7cGFkZGluZzowIDZweDtmb250LWZhbWlseTp2YXIoLS1mb250LWRpc3BsYXkpO2ZvbnQtd2VpZ2h0OjUwMDtib3JkZXItcmFkaXVzOjhweDtoZWlnaHQ6MTZweDtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxNnB4O2NvbG9yOnZhcigtLXdoaXRlLTUwMCk7dGV4dC1hbGlnbjpjZW50ZXJ9LnZjLXBsdWdpbnMtZGVwLW5hbWV7bWFyZ2luOjAgYXV0b30udmMtcGx1Z2lucy1pbmZvLWNhcmR7cGFkZGluZzoxZW07aGVpZ2h0OjhlbTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS52Yy1wbHVnaW5zLWluZm8tY2FyZCBkaXZ7bGluZS1oZWlnaHQ6MzJweH0udmMtcGx1Z2lucy1yZXN0YXJ0LWNhcmR7cGFkZGluZzoxZW07YmFja2dyb3VuZDp2YXIoLS1pbmZvLXdhcm5pbmctYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1pbmZvLXdhcm5pbmctZm9yZWdyb3VuZCk7Y29sb3I6dmFyKC0taW5mby13YXJuaW5nLXRleHQpfS52Yy1wbHVnaW5zLXJlc3RhcnQtY2FyZCBidXR0b257bWFyZ2luLXRvcDouNWVtfS52Yy1wbHVnaW5zLWluZm8tYnV0dG9uIHN2Zzpub3QoOmhvdmVyLDpmb2N1cyl7Y29sb3I6dmFyKC0tdGV4dC1tdXRlZCl9LnZjLWFkZG9uLWNhcmR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpO2NvbG9yOnZhcigtLWludGVyYWN0aXZlLWFjdGl2ZSk7Ym9yZGVyLXJhZGl1czo4cHg7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTtwYWRkaW5nOjEycHg7d2lkdGg6MTAwJTt0cmFuc2l0aW9uOi4xcyBlYXNlLW91dDt0cmFuc2l0aW9uLXByb3BlcnR5OmJveC1zaGFkb3csdHJhbnNmb3JtLGJhY2tncm91bmQsb3BhY2l0eX0udmMtYWRkb24tY2FyZC1kaXNhYmxlZHtvcGFjaXR5Oi42fS52Yy1hZGRvbi1jYXJkOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmFja2dyb3VuZC10ZXJ0aWFyeSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTFweCk7Ym94LXNoYWRvdzp2YXIoLS1lbGV2YXRpb24taGlnaCl9LnZjLWFkZG9uLWhlYWRlcnttYXJnaW4tdG9wOmF1dG87ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6OHB4O21hcmdpbi1ib3R0b206LjVlbX0udmMtYWRkb24tbm90ZXtoZWlnaHQ6MzZweDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcztkaXNwbGF5Oi13ZWJraXQtYm94Oy13ZWJraXQtbGluZS1jbGFtcDoyO2xpbmUtY2xhbXA6Mjstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7Ym94LW9yaWVudDp2ZXJ0aWNhbH0udmMtYWRkb24tbmFtZS1hdXRob3J7d2lkdGg6MTAwJX0udmMtYWRkb24tbmFtZXtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1ncm93OjE7Z2FwOjhweH0udmMtYWRkb24tYXV0aG9ye2ZvbnQtc2l6ZTouOGVtfS52Yy1hZGRvbi1hdXRob3I6YmVmb3Jle2NvbnRlbnQ6ImJ5ICJ9LnZjLXN3aXRjaC1zbGlkZXJ7dHJhbnNpdGlvbjouMXMgdHJhbnNmb3JtIGVhc2UtaW4tb3V0fS52Yy1iZi1mb2xkZXItc2lkZWJhciBbY2xhc3MqPXdyYXBwZXItXT5bY2xhc3MqPWxpc3RJdGVtLV06Zmlyc3Qtb2YtdHlwZSwudmMtYmYtZm9sZGVyLXNpZGViYXIgW2NsYXNzKj11bnJlYWRNZW50aW9uc0luZGljYXRvcl17ZGlzcGxheTpub25lfS52Yy1iZi1mb2xkZXItc2lkZWJhciBbY2xhc3MqPWV4cGFuZGVkRm9sZGVyQmFja2dyb3VuZC1de2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LnZjLWJmLWZvbGRlci1zaWRlYmFye2Rpc3BsYXk6ZmxleH0udmMtYmYtZnVsbHNjcmVlbnt3aWR0aDowIWltcG9ydGFudDt2aXNpYmlsaXR5OmhpZGRlbn0udmMtb3Blbi1leHRlcm5hbC1pY29ue3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS52Yy1vd25lci1jcm93bi1pY29ue2NvbG9yOnZhcigtLXRleHQtd2FybmluZyl9Lm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCBbY2xhc3NePWJ1dHRvbnNde2Rpc3BsYXk6bm9uZX0ubWVzc2FnZWxvZ2dlci1kZWxldGVkIDppcyh2aWRlbywuZW1vamksW2RhdGEtdHlwZT0ic3RpY2tlciJdLGlmcmFtZSwubWVzc2FnZWxvZ2dlci1kZWxldGVkLWF0dGFjaG1lbnQsW2NsYXNzfD0iaW5saW5lTWVkaWFFbWJlZCJdKXtmaWx0ZXI6Z3JheXNjYWxlKDEpIWltcG9ydGFudDt0cmFuc2l0aW9uOi4xNXMgZmlsdGVyIGVhc2UtaW4tb3V0fS5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgOmlzKHZpZGVvLC5lbW9qaSxbZGF0YS10eXBlPSJzdGlja2VyIl0saWZyYW1lLC5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQtYXR0YWNobWVudCxbY2xhc3N8PSJpbmxpbmVNZWRpYUVtYmVkIl0pOmhvdmVyLC5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWR7ZmlsdGVyOmdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRoZW1lLWRhcmsgLm1lc3NhZ2Vsb2dnZXItZWRpdGVke2ZpbHRlcjpicmlnaHRuZXNzKDgwJSl9LnRoZW1lLWxpZ2h0IC5tZXNzYWdlbG9nZ2VyLWVkaXRlZHtvcGFjaXR5Oi41fS52Yy1wZXJtdmlld2VyLXVzZXJwZXJtcy10aXRsZS1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tdG9wOjEwcHg7bWFyZ2luLWJvdHRvbTo2cHh9LnZjLXBlcm12aWV3ZXItdXNlcnBlcm1zLWJ0bnMtY29udGFpbmVye2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LnZjLXBlcm12aWV3ZXItdXNlcnBlcm1zLXNvcnRvcmRlci1idG57YWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoyNHB4O2hlaWdodDoyNHB4fS52Yy1wZXJtdmlld2VyLXVzZXJwZXJtcy1wZXJtZGV0YWlscy1idG4sLnZjLXBlcm12aWV3ZXItdXNlcnBlcm1zLXRvZ2dsZXBlcm1zLWJ0bnthbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0udmMtcGVybXZpZXdlci1wZXJtcy10aXRsZXtmbGV4LWdyb3c6MX0udmMtcGVybXZpZXdlci1wZXJtcy1uby1wZXJtc3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0ZXh0LWFsaWduOmNlbnRlcn0udmMtcGVybXZpZXdlci1wZXJtcy1jb250YWluZXJ7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMmZyO2dyaWQtdGVtcGxhdGUtYXJlYXM6Imxpc3QgcGVybWlzc2lvbnMiO3BhZGRpbmc6MTZweCAwfS52Yy1wZXJtdmlld2VyLXBlcm1zLWxpc3R7Z3JpZC1hcmVhOmxpc3Q7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MnB4O2JvcmRlci1yaWdodDoycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1hY3RpdmUpfS52Yy1wZXJtdmlld2VyLXBlcm1zLWxpc3QtaXRlbS1idG57YWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyfS52Yy1wZXJtdmlld2VyLXBlcm1zLWxpc3QtaXRlbXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6OHB4IDVweDtjdXJzb3I6cG9pbnRlcjt3aWR0aDoyMzBweDtib3JkZXItcmFkaXVzOjVweH0udmMtcGVybXZpZXdlci1wZXJtcy1saXN0LWl0ZW06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKX0udmMtcGVybXZpZXdlci1wZXJtcy1saXN0LWl0ZW0tYWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zZWxlY3RlZCl9LnZjLXBlcm12aWV3ZXItcGVybXMtbGlzdC1pdGVtPmRpdnt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59LnZjLXBlcm12aWV3ZXItcGVybXMtcm9sZS1jaXJjbGV7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MTJweDtoZWlnaHQ6MTJweDttYXJnaW4tbGVmdDozcHg7bWFyZ2luLXJpZ2h0OjExcHg7ZmxleC1zaHJpbms6MH0udmMtcGVybXZpZXdlci1wZXJtcy11c2VyLWltZ3tib3JkZXItcmFkaXVzOjUwJTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O21hcmdpbi1yaWdodDo2cHh9LnZjLXBlcm12aWV3ZXItcGVybXMtcGVybXN7Z3JpZC1hcmVhOnBlcm1pc3Npb25zO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47bWFyZ2luLWxlZnQ6NXB4fS52Yy1wZXJtdmlld2VyLXBlcm1zLXBlcm1zLWl0ZW17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjEwcHg7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1hY3RpdmUpfS52Yy1wZXJtdmlld2VyLXBlcm1zLXBlcm1zLWl0ZW06bGFzdC1jaGlsZHtib3JkZXI6MH0udmMtcGVybXZpZXdlci1wZXJtcy1wZXJtcy1pdGVtLWljb257Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXNlbGVjdGVkKTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O21hcmdpbi1yaWdodDo1cHh9LnZjLXBlcm12aWV3ZXItcGVybXMtcGVybXMtaXRlbSAudmMtaW5mby1pY29ue2NvbG9yOnZhcigtLWludGVyYWN0aXZlLW11dGVkKTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3NjYWxlOi45O3RyYW5zaXRpb246Y29sb3IgZWFzZS1pbiAuMXN9LnZjLXBlcm12aWV3ZXItcGVybXMtcGVybXMtaXRlbSAudmMtaW5mby1pY29uOmhvdmVye2NvbG9yOnZhcigtLWludGVyYWN0aXZlLWFjdGl2ZSl9LnZjLWV4cGFuZGFibGVoZWFkZXItY2VudGVyLWZsZXh7ZGlzcGxheTpmbGV4O2p1c3RpZnktaXRlbXM6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0udmMtZXhwYW5kYWJsZWhlYWRlci1idG57YWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9LnZjLXByb25vdW5kYi1jb21wYWN0e2Rpc3BsYXk6bm9uZX1bY2xhc3MqPWNvbXBhY3RdIC52Yy1wcm9ub3VuZGItY29tcGFjdHtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tbGVmdDotMnB4O21hcmdpbi1yaWdodDouMjVyZW19W2NsYXNzfD1zZWN0aW9uXTpub3QoW2NsYXNzfD0ibGFzdFNlY3Rpb24iXSkrLnZjLXJkYi12aWV3e21hcmdpbi10b3A6MTJweH0udmMtcmRiLWJhZGdle3ZlcnRpY2FsLWFsaWduOm1pZGRsZTttYXJnaW4tbGVmdDo0cHh9LnZjLXJkYi1pbnB1dHttYXJnaW4tdG9wOjZweDttYXJnaW4tYm90dG9tOjEycHg7cmVzaXplOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1wcm9maWxlLW1lc3NhZ2UtaW5wdXQtYm9yZGVyLWNvbG9yKTtmb250LXNpemU6MTRweH0udmMtcmRiLXBsYWNlaG9sZGVye21hcmdpbi1ib3R0b206NHB4O2ZvbnQtd2VpZ2h0OjcwMDtmb250LXN0eWxlOml0YWxpYztjb2xvcjp2YXIoLS10ZXh0LW11dGVkKX0udmMtcmRiLW1vZGFsLWZvb3RlcntwYWRkaW5nOjB9LnZjLXJkYi1tb2RhbC1mb290ZXI+ZGl2e3dpZHRoOjEwMCU7bWFyZ2luOjZweCAxNnB4fS52Yy1yZGItbW9kYWwtZm9vdGVyIC52Yy1yZGItaW5wdXR7bWFyZ2luLWJvdHRvbTowO2JhY2tncm91bmQ6dmFyKC0taW5wdXQtYmFja2dyb3VuZCl9LnZjLXJkYi1tb2RhbC1mb290ZXIgW2NsYXNzfD1wYWdlQ29udHJvbENvbnRhaW5lcl17bWFyZ2luLXRvcDowfS52Yy1yZGItbW9kYWwtaGVhZGVye2ZsZXgtZ3JvdzoxfS52Yy1yZGItbW9kYWwtcmV2aWV3c3ttYXJnaW4tdG9wOjE2cHh9LnZjLXN0LW1vZGFsLWNvbnRlbnQgaW5wdXR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pbnB1dC1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCk7d2lkdGg6OTUlO3BhZGRpbmc6OHB4IDhweCA4cHggMTJweDttYXJnaW46MWVtIDA7b3V0bGluZTpub25lO2JvcmRlcjoxcHggc29saWQgdmFyKC0taW5wdXQtYmFja2dyb3VuZCk7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtc3R5bGU6aW5oZXJpdDtmb250LXNpemU6MTAwJX0udmMtc3QtZm9ybWF0LWxhYmVsLC52Yy1zdC1mb3JtYXQtbGFiZWwgc3BhbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS52Yy1zdC1tb2RhbC1jb250ZW50IFtjbGFzc3w9c2VsZWN0XXttYXJnaW4tYm90dG9tOjFlbX0udmMtc3QtbW9kYWwtY29udGVudCBbY2xhc3N8PXNlbGVjdF0gc3BhbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWlucHV0LWJhY2tncm91bmQpfS52Yy1zdC1tb2RhbC1oZWFkZXJ7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24tY29udGVudDpjZW50ZXJ9LnZjLXN0LW1vZGFsLWhlYWRlciBoMXttYXJnaW46MH0udmMtc3QtbW9kYWwtaGVhZGVyIGJ1dHRvbntwYWRkaW5nOjB9LnZjLXN0LXByZXZpZXctdGV4dHttYXJnaW4tYm90dG9tOjFlbX0udmMtc3QtYnV0dG9ue3BhZGRpbmc6MCA2cHh9LnZjLXN0LWJ1dHRvbiBzdmd7dHJhbnNmb3JtOnNjYWxlKDEuMSkgdHJhbnNsYXRlWSgxcHgpfS5zaGlraS1jb250YWluZXJ7Ym9yZGVyOjRweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KX0uc2hpa2ktcm9vdHtib3JkZXItcmFkaXVzOjRweH0uc2hpa2ktcm9vdCBjb2Rle2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3cteDphdXRvO3BhZGRpbmc6LjVlbTtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6Ljg3NXJlbTtsaW5lLWhlaWdodDoxLjEyNXJlbTt0ZXh0LWluZGVudDowO3doaXRlLXNwYWNlOnByZS13cmFwO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmV9LnNoaWtpLWRldmljb257bWFyZ2luLXJpZ2h0OjhweDt1c2VyLXNlbGVjdDpub25lfS5zaGlraS1wbGFpbiBjb2Rle3BhZGRpbmctdG9wOjhweH0uc2hpa2ktYnRuc3tmb250LXNpemU6MWVtO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7Ym90dG9tOjA7b3BhY2l0eTowfS5zaGlraS1yb290OmhvdmVyIC5zaGlraS1idG5ze29wYWNpdHk6MX0uc2hpa2ktYnRue2JvcmRlci1yYWRpdXM6NHB4IDRweCAwIDA7cGFkZGluZzo0cHggOHB4O3VzZXItc2VsZWN0Om5vbmV9LnNoaWtpLWJ0bn4uc2hpa2ktYnRue21hcmdpbi1sZWZ0OjRweH0uc2hpa2ktYnRuOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czo0cHggMH0uc2hpa2ktc3Bpbm5lci1jb250YWluZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMDk7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlO2p1c3RpZnktY29udGVudDpjZW50ZXI7aW5zZXQ6MH0uc2hpa2ktcHJldmlld3ttYXJnaW4tYm90dG9tOjJlbX0uc2hpa2ktbGFuZ3twYWRkaW5nOjAgNXB4O21hcmdpbi1ib3R0b206NnB4O2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LnNoaWtpLXRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt3aWR0aDoxMDAlfS5zaGlraS10YWJsZSB0cntoZWlnaHQ6MTlweDt3aWR0aDoxMDAlfS5zaGlraS1yb290IHRkOmZpcnN0LWNoaWxke2JvcmRlci1yaWdodDoxcHggc29saWQgdHJhbnNwYXJlbnQ7cGFkZGluZy1sZWZ0OjVweDtwYWRkaW5nLXJpZ2h0OjhweDt1c2VyLXNlbGVjdDpub25lfS5zaGlraS1yb290IHRkOmxhc3QtY2hpbGR7cGFkZGluZy1sZWZ0OjhweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7d2lkdGg6MTAwJX0udmMtdXNlci1jb25uZWN0aW9ue2FsbDp1bnNldDtkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcn0udmMtc2MtdG9vbHRpcHtkaXNwbGF5OmlubGluZS1mbGV4O2dhcDouMjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9LnNoYy1sb2NrLXNjcmVlbi1vdXRlci1jb250YWluZXJ7b3ZlcmZsb3c6aGlkZGVuIHNjcm9sbDtmbGV4OjEgMSBhdXRvO2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9LnNoYy1sb2NrLXNjcmVlbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjttaW4taGVpZ2h0OjEwMCV9LnNoYy1sb2NrLXNjcmVlbi1jb250YWluZXI+KnttYXJnaW46NXB4fS5zaGMtbG9jay1zY3JlZW4tbG9nb3t3aWR0aDoxODBweDtoZWlnaHQ6MTgwcHh9LnNoYy1sb2NrLXNjcmVlbi1oZWFkaW5nLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLWhlYWRpbmctY29udGFpbmVyPip7bWFyZ2luOmluaGVyaXR9LnNoYy1sb2NrLXNjcmVlbi1oZWFkaW5nLW5zZnctaWNvbntjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCl9LnNoYy1sb2NrLXNjcmVlbi10b3BpYy1jb250YWluZXJ7Y29sb3I6dmFyKC0tdGV4dC1ub3JtYWwpO2JhY2tncm91bmQ6dmFyKC0tYmctb3ZlcmxheS0zLCB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkpO2JvcmRlci1yYWRpdXM6NXB4O3BhZGRpbmc6MTBweDttYXgtd2lkdGg6NzB2d30uc2hjLWxvY2stc2NyZWVuLXRhZ3MtY29udGFpbmVye2JhY2tncm91bmQ6dmFyKC0tYmctb3ZlcmxheS0zLCB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkpO2JvcmRlci1yYWRpdXM6NXB4O3BhZGRpbmc6MTBweDttYXgtd2lkdGg6NzB2d30uc2hjLWxvY2stc2NyZWVuLXRhZ3MtY29udGFpbmVyPip7bWFyZ2luOmluaGVyaXR9LnNoYy1sb2NrLXNjcmVlbi10YWdze2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtmbGV4LXdyYXA6d3JhcDtnYXA6OHB4fS5zaGMtZXZlbm9kZC1maWxsLWN1cnJlbnQtY29sb3J7ZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpjdXJyZW50Y29sb3J9LnNoYy1oaWRkZW4tY2hhbm5lbC1pY29ue21hcmdpbi1sZWZ0OjZweDt6LWluZGV4OjA7Y3Vyc29yOm5vdC1hbGxvd2VkfS5zaGMtbG9jay1zY3JlZW4tZGVmYXVsdC1lbW9qaS1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXJ9LnNoYy1sb2NrLXNjcmVlbi1kZWZhdWx0LWVtb2ppLWNvbnRhaW5lcj5bY2xhc3NePWVtb2ppQ29udGFpbmVyXXtiYWNrZ3JvdW5kOnZhcigtLWJnLW92ZXJsYXktMywgdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpKTtib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nOjVweCA2cHg7bWFyZ2luLWxlZnQ6NXB4fS5zaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6dmFyKC0tYmctb3ZlcmxheS0zLCB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkpO2JvcmRlci1yYWRpdXM6NXB4O3BhZGRpbmc6MTBweDttYXgtd2lkdGg6NzB2d30uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci10aXRsZXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci10b2dnbGUtYnRue2FsbDp1bnNldDttYXJnaW4tbGVmdDo1cHg7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci10b2dnbGUtYnRuPnN2Z3tjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCl9LnNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXItcGVybWRldGFpbHMtYnRue2FsbDp1bnNldDttYXJnaW4tcmlnaHQ6NXB4O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LnNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXItcGVybWRldGFpbHMtYnRuPnN2Z3tjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCl9LnNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXI+W2NsYXNzXj1tZW1iZXJzXXttYXJnaW4tbGVmdDoxMHB4O2ZsZXgtd3JhcDp3cmFwO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnZjLXNteW4tc3VmZml4e2NvbG9yOnZhcigtLXRleHQtbXV0ZWQpfS52Yy1zbXluLXN1ZmZpeDpiZWZvcmV7Y29udGVudDoiKCJ9LnZjLXNteW4tc3VmZml4OmFmdGVye2NvbnRlbnQ6IikifSN2Yy1zcG90aWZ5LXBsYXllcntwYWRkaW5nOi4zNzVyZW0gLjVyZW07Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1hY2NlbnQpOy0tdmMtc3BvdGlmeS1ncmVlbjogIzFkYjk1NH0udGhlbWUtbGlnaHQgI3ZjLXNwb3RpZnktcGxheWVye2JhY2tncm91bmQ6dmFyKC0tYmctb3ZlcmxheS0zLCB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpKX0udGhlbWUtZGFyayAjdmMtc3BvdGlmeS1wbGF5ZXJ7YmFja2dyb3VuZDp2YXIoLS1iZy1vdmVybGF5LTEsIHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCkpfS52Yy1zcG90aWZ5LWJ1dHRvbntiYWNrZ3JvdW5kOm5vbmU7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKTtwYWRkaW5nOjA7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtib3JkZXItcmFkaXVzOjEwMCU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS52Yy1zcG90aWZ5LWJ1dHRvbjpob3Zlcntjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ob3Zlcik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXNlbGVjdGVkKX0udmMtc3BvdGlmeS1idXR0b24gc3Zne2hlaWdodDoyNHB4O3dpZHRoOjI0cHh9W2NsYXNzKj12Yy1zcG90aWZ5LXNodWZmbGVdPnN2ZyxbY2xhc3MqPXZjLXNwb3RpZnktcmVwZWF0XT5zdmd7d2lkdGg6MjJweDtoZWlnaHQ6MjJweH0udmMtc3BvdGlmeS1idXR0b24gc3ZnIHBhdGh7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0udmMtc3BvdGlmeS1zaHVmZmxlLW9uLC52Yy1zcG90aWZ5LXJlcGVhdC1jb250ZXh0LC52Yy1zcG90aWZ5LXJlcGVhdC10cmFjaywudmMtc3BvdGlmeS1zaHVmZmxlLW9uOmhvdmVyLC52Yy1zcG90aWZ5LXJlcGVhdC1jb250ZXh0OmhvdmVyLC52Yy1zcG90aWZ5LXJlcGVhdC10cmFjazpob3Zlcntjb2xvcjp2YXIoLS12Yy1zcG90aWZ5LWdyZWVuKX0udmMtc3BvdGlmeS10b29sdGlwLXRleHR7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDtwYWRkaW5nLXJpZ2h0Oi4yZW07bWF4LXdpZHRoOjEwMCU7bWFyZ2luOnVuc2V0fS52Yy1zcG90aWZ5LXJlcGVhdC0xe2ZvbnQtc2l6ZTo3MCU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9LnZjLXNwb3RpZnktYnV0dG9uLXJvd3tqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfSN2Yy1zcG90aWZ5LWluZm8td3JhcHBlcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6M2VtO2dhcDouNWVtfSN2Yy1zcG90aWZ5LWluZm8td3JhcHBlciBpbWd7aGVpZ2h0OjkwJTtvYmplY3QtZml0OmNvbnRhaW59I3ZjLXNwb3RpZnktYWxidW0tZXhwYW5kZWQtd3JhcHBlciBpbWd7d2lkdGg6MTAwJTtvYmplY3QtZml0OmNvbnRhaW59I3ZjLXNwb3RpZnktdGl0bGVze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47cGFkZGluZzouMnJlbTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7YWxpZ24tY29udGVudDpmbGV4LXN0YXJ0O292ZXJmbG93OmhpZGRlbn0jdmMtc3BvdGlmeS1zb25nLXRpdGxle2NvbG9yOnZhcigtLWhlYWRlci1wcmltYXJ5KTtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo2MDB9LnZjLXNwb3RpZnktZWxsaXBvdmVyZmxvd3t3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjEwMCU7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30udmMtc3BvdGlmeS1hcnRpc3QsLnZjLXNwb3RpZnktYWxidW17Zm9udC1zaXplOjEycHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6dmFyKC0taGVhZGVyLXNlY29uZGFyeSl9LnZjLXNwb3RpZnktY29tbWF7Y29sb3I6dmFyKC0taGVhZGVyLXNlY29uZGFyeSl9LnZjLXNwb3RpZnktYXJ0aXN0W3JvbGU9bGlua106aG92ZXIsI3ZjLXNwb3RpZnktYWxidW0tdGl0bGVbcm9sZT1saW5rXTpob3ZlciwjdmMtc3BvdGlmeS1zb25nLXRpdGxlW3JvbGU9bGlua106aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjdXJzb3I6cG9pbnRlcn0jdmMtc3BvdGlmeS1hbGJ1bS1pbWFnZXtib3JkZXItcmFkaXVzOjNweDt0cmFuc2l0aW9uOmZpbHRlciAuMnN9I3ZjLXNwb3RpZnktYWxidW0taW1hZ2U6aG92ZXJ7ZmlsdGVyOmJyaWdodG5lc3MoMS4yKTtjdXJzb3I6cG9pbnRlcn0jdmMtc3BvdGlmeS1wcm9ncmVzcy1iYXJ7cG9zaXRpb246cmVsYXRpdmU7Y29sb3I6dmFyKC0tdGV4dC1ub3JtYWwpO3dpZHRoOjEwMCU7bWFyZ2luOi41ZW0gMCA1cHh9I3ZjLXNwb3RpZnktcHJvZ3Jlc3MtYmFyPltjbGFzc149c2xpZGVyXXtmbGV4LWdyb3c6MTt3aWR0aDoxMDAlO3BhZGRpbmc6MCFpbXBvcnRhbnR9I3ZjLXNwb3RpZnktcHJvZ3Jlc3MtYmFyPltjbGFzc149c2xpZGVyXSBbY2xhc3NePWJhci1de2hlaWdodDo0cHghaW1wb3J0YW50fSN2Yy1zcG90aWZ5LXByb2dyZXNzLWJhcj5bY2xhc3NePXNsaWRlcl0gW2NsYXNzXj1ncmFiYmVyXXtoZWlnaHQ6MTBweCFpbXBvcnRhbnQ7d2lkdGg6MTBweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO2JvcmRlci1jb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO2NvbG9yOnZhcigtLWludGVyYWN0aXZlLW5vcm1hbCl9I3ZjLXNwb3RpZnktcHJvZ3Jlc3MtdGV4dHttYXJnaW46MH0udmMtc3BvdGlmeS1wcm9ncmVzcy10aW1le2ZvbnQtc2l6ZToxMnB4O3RvcDoxMHB4O3Bvc2l0aW9uOmFic29sdXRlfS52Yy1zcG90aWZ5LXRpbWUtbGVmdHtsZWZ0OjB9LnZjLXNwb3RpZnktdGltZS1yaWdodHtyaWdodDowfS52Yy1zcG90aWZ5LWZhbGxiYWNre3BhZGRpbmc6LjVlbTtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCl9LnZjLXRyYW5zLW1vZGFsLWNvbnRlbnR7cGFkZGluZzoxZW19LnZjLXRyYW5zLW1vZGFsLWhlYWRlcntqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1jb250ZW50OmNlbnRlcn0udmMtdHJhbnMtbW9kYWwtaGVhZGVyIGgxe21hcmdpbjowfS52Yy10cmFucy1hY2Nlc3Nvcnl7Y29sb3I6dmFyKC0tdGV4dC1tdXRlZCk7bWFyZ2luLXRvcDouNWVtO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OjQwMH0udmMtdHJhbnMtYWNjZXNzb3J5IHN2Z3ttYXJnaW4tcmlnaHQ6LjI1ZW19LnZjLXRyYW5zLWRpc21pc3N7YWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyO2NvbG9yOnZhcigtLXRleHQtbGluayl9LnZjLXRyYW5zLWRpc21pc3M6aXMoOmhvdmVyLDpmb2N1cyl7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0udmMtdHJhbnMtYXV0by10cmFuc2xhdGV7Y29sb3I6dmFyKC0tZ3JlZW4tMzYwKX0udmMtdXZzLWJ1dHRvbj5kaXZ7d2hpdGUtc3BhY2U6bm9ybWFsIWltcG9ydGFudH0udmMtdXZzLWJ1dHRvbnt3aWR0aDoxMDAlO21hcmdpbjphdXRvO2hlaWdodDp1bnNldH0udmMtdXZzLWhlYWRlcntjb2xvcjp2YXIoLS1oZWFkZXItcHJpbWFyeSk7bWFyZ2luLWJvdHRvbTo2cHh9LnZjLXV2cy1tb2RhbC1tYXJnaW57bWFyZ2luOjAgMTJweH0udmMtdXZzLW1vZGFsLW1hcmdpbiBkaXZ7bWFyZ2luLWJvdHRvbTowIWltcG9ydGFudH0udmMtdXZzLXBvcG91dC1tYXJnaW4+W2NsYXNzXj1zZWN0aW9uXXttYXJnaW4tdG9wOi0xMnB4fS52Yy10b29sYm94LWJ0biwudmMtdG9vbGJveC1idG4gc3Zney13ZWJraXQtYXBwLXJlZ2lvbjpuby1kcmFnfS52Yy10b29sYm94LWJ0biBzdmd7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKX06aXMoLnZjLXRvb2xib3gtYnRuOmhvdmVyLC52Yy10b29sYm94LWJ0bltjbGFzcyo9InNlbGVjdGVkIl0pIHN2Z3tjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1hY3RpdmUpfS52Yy12bXNnLW1vZGFse3BhZGRpbmc6MWVtfS52Yy12bXNnLWJ1dHRvbnN7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoMyxtaW5tYXgoMCwxZnIpKTtnYXA6LjVlbTttYXJnaW4tYm90dG9tOjFlbX0udmMtdm1zZy1tb2RhbCBhdWRpb3t3aWR0aDoxMDAlfS52Yy12bXNnLXByZXZpZXd7Y29sb3I6dmFyKC0tdGV4dC1ub3JtYWwpO2JvcmRlci1yYWRpdXM6MjRweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MCAxNnB4O2hlaWdodDo0OHB4fS52Yy12bXNnLXByZXZpZXctaW5kaWNhdG9ye2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLXNlY29uZGFyeS1iYWNrZ3JvdW5kKTt3aWR0aDoxNnB4O2hlaWdodDoxNnB4O2JvcmRlci1yYWRpdXM6NTAlO3RyYW5zaXRpb246YmFja2dyb3VuZCAuMnMgZWFzZS1pbi1vdXR9LnZjLXZtc2ctcHJldmlldy1yZWNvcmRpbmcgLnZjLXZtc2ctcHJldmlldy1pbmRpY2F0b3J7YmFja2dyb3VuZDp2YXIoLS1zdGF0dXMtZGFuZ2VyKX0udmMtdm1zZy1wcmV2aWV3LXRpbWV7b3BhY2l0eTouODttYXJnaW46MCAuNWVtO2ZvbnQtc2l6ZTo4MCU7Zm9udC1mYW1pbHk6dmFyKC0tZm9udC1jb2RlKX0udmMtdm1zZy1wcmV2aWV3LWxhYmVse29wYWNpdHk6LjU7bGV0dGVyLXNwYWNpbmc6LjEyNWVtO2ZvbnQtd2VpZ2h0OjYwMDtmbGV4OjE7dGV4dC1hbGlnbjpjZW50ZXJ9CmAsCiAgICAgICAgaWQ6ICJ2ZW5jb3JkLWNzcy1jb3JlIgogICAgfSkKKSwgeyBvbmNlOiB0cnVlIH0pOwo="},{"name":"Github  - ","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":"JavaScript","noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://github.com/*","*://kgithub.com/*","*://hub.fgit.gq/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1691319461449,"data":{"xiu2_menu_raw_fast":"n1","menu_rawDownLink":"btrue","menu_gitClone":"btrue"}},"enabled":true,"position":2,"file_url":"https://github.com/XIU2/UserScript/raw/master/GithubEnhanced-High-Speed-Download.user.js","uuid":"360a43af-c26e-49e7-bdef-4aaffe2087b3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHaXRodWIg5aKe5by6IC0g6auY6YCf5LiL6L29Ci8vIEBuYW1lOnpoLUNOICAgR2l0aHViIOWinuW8uiAtIOmrmOmAn+S4i+i9vQovLyBAbmFtZTp6aC1UVyAgIEdpdGh1YiDlop7lvLcgLSDpq5jpgJ/kuIvovIkKLy8gQG5hbWU6ZW4gICAgICBHaXRodWIgRW5oYW5jZW1lbnQgLSBIaWdoIFNwZWVkIERvd25sb2FkCi8vIEB2ZXJzaW9uICAgICAgMi40LjIKLy8gQGF1dGhvciAgICAgICBYLkkuVQovLyBAZGVzY3JpcHRpb24gIOmrmOmAn+S4i+i9vSBHaXQgQ2xvbmUvU1NI44CBUmVsZWFzZeOAgVJhd+OAgUNvZGUoWklQKSDnrYnmlofku7bjgIHpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSnjgIHmt7vliqAgZ2l0IGNsb25lIOWRveS7pAovLyBAZGVzY3JpcHRpb246emgtQ04gIOmrmOmAn+S4i+i9vSBHaXQgQ2xvbmUvU1NI44CBUmVsZWFzZeOAgVJhd+OAgUNvZGUoWklQKSDnrYnmlofku7bjgIHpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSkKLy8gQGRlc2NyaXB0aW9uOnpoLVRXICDpq5jpgJ/kuIvovIkgR2l0IENsb25lL1NTSOOAgVJlbGVhc2XjgIFSYXfjgIFDb2RlKFpJUCkg562J5paH5Lu244CB6aCF55uu5YiX6KGo5Zau5paH5Lu25b+r5o235LiL6LyJICjimIEpCi8vIEBkZXNjcmlwdGlvbjplbiAgSGlnaC1zcGVlZCBkb3dubG9hZCBvZiBHaXQgQ2xvbmUvU1NILCBSZWxlYXNlLCBSYXcsIENvZGUoWklQKSBhbmQgb3RoZXIgZmlsZXMsIHByb2plY3QgbGlzdCBmaWxlIHF1aWNrIGRvd25sb2FkICjimIEpCi8vIEBtYXRjaCAgICAgICAgKjovL2dpdGh1Yi5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9rZ2l0aHViLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2h1Yi5mZ2l0LmdxLyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQUZ6VWtkQ0FLN09IT2tBQUFDRVVFeFVSVXhwY1JnV0Zoc1lHQmdXRmhjV0ZoOFdGaG9ZR0JnV0ZpVWxKUmNWRlJrV0ZoZ1ZGUmdXRmhnVkZSc1dGaGdXRmlnZUhoa1dGdi8vLy8vLy8vLy8vL3I2K2g0ZUh2Ly8veGNWRmZMeDhTTWhJVU5DUXBTVGsvcjYralkwTkNrbko5N2UzcnU3dStmbjUxQk9Uc1BDd3FHZ29JU0RnNmVtcG1wb2FLMnNyTkRRMEZoWFYzZVhjQ2NBQUFBWGRGSk9Vd0NCSVpYTUdQNzBCdVJIMlplL0xwSU1VdW5Ia3BRUjM0c2Z5Z0FBQVZwSlJFRlVPTXQxVSttYWdqQU1EQVZiNUJEVTNXMjViOVQxL2Q5dmFZcFFLRHMvckY5blNOSmtBckRBOWV6UVo4d1BiYzhGRTZlQWlRVXNPTzFvMTlKb2xGaWJLQ2RIR0hDMElKZXpPTUQ1c254L3lFK0tPWVlyNDJmUFN1ZlNaeWF6cURvc2VUUHc0bEdKTk91NkxCWFZVUEJHM2xxWUFPdi81WnduTlVmVWlmekJ0OGdrZ2ZnSU5tanhPcGdxVUExNDdRV05hb2NMbmlxcTNRc1NWYlFITnA0NU4vQkF3b1lRejlvVUpFaUU0R01HZm9CU01qNWdqZVdSSU1NcWxlRC9DQXpVSEZxVEx5ak9BNXpqTm53YTRVQ0VaMllLM2toRWNCWEhqVkJ0RUZlSVo2K054WWJQcVdwMURMS1Y0MnQ2VWpuMnlkeWlQaTluWDBUVE5Ba1ZWWi9nb3pzbDZGYnJrdGt3YVZ2TDJUUkswQzhDYTdIY2s3ZjVPQlQ2RkZiTEFUa0wydWdWMHRtMFJMTTlmZWREdmhXc3RsOFdwOUFGRGpGWDd5T1kvbEpydjhBa1l1ejdmdVA4ZHY5aXpDWUgreDMvTEJuajlmWVBCVHBKRE56WCs3Y0FBQUFBU1VWT1JLNUNZSUk9Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICB3aW5kb3cub251cmxjaGFuZ2UKLy8gQHNhbmRib3ggICAgICBKYXZhU2NyaXB0Ci8vIEBsaWNlbnNlICAgICAgR1BMLTMuMCBMaWNlbnNlCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQxMjI0NQovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gQGhvbWVwYWdlVVJMICBodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Ci8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGJhY2tDb2xvciA9ICcjZmZmZmZmJywgZm9udENvbG9yID0gJyM4ODg4ODgnLCBtZW51X3Jhd0Zhc3QgPSBHTV9nZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JyksIG1lbnVfcmF3RmFzdF9JRCwgbWVudV9yYXdEb3duTGlua19JRCwgbWVudV9naXRDbG9uZV9JRCwgbWVudV9mZWVkQmFja19JRDsKICAgIGNvbnN0IGRvd25sb2FkX3VybF91cyA9IFsKICAgICAgICBbJ2h0dHBzOi8vZ2guaDIzMy5ldS5vcmcvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbQFguSS5VL1hJVTJdIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2doLmFwaS45OTk4ODg2Ni54eXovaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbaHVuc2hjbi9naC1wcm94eV0g5o+Q5L6bJ10sIC8vIOWumOaWuea8lOekuuermeeUqOeahOS6uuWkquWkmuS6hgogICAgICAgIFsnaHR0cHM6Ly9naC5kZGxjLnRvcC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtAbXRyLXN0YXRpYy1vZmZpY2lhbF0g5o+Q5L6bJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2gyLnlhbnFpc2h1aS53b3JrL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0BIb25namllQ05dIOaPkOS+myddLCAvLyBFcnJvciAxMTAxCiAgICAgICAgWydodHRwczovL2doZGwuZmVpemh1cXdxLmNmL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2ZlaXpodXF3cS5jb21dIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2doLXByb3h5LW1pc2FrYW5vNzU0NS5rb3llYi5hcHAvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLCAvLyA0MDQKICAgICAgICAvL1snaHR0cHM6Ly9naC5mbHlpbmJ1Zy50b3AvZ2gvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTWludGltYXRlXSDmj5DkvpsnXSwgLy8g5Z+f5ZCN5peg6Kej5p6QCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2l0aHViLjkxY2hpLmZ1bi9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sIC8vIOi/nuaOpei2heaXtgogICAgICAgIFsnaHR0cHM6Ly9zbGluay5sdGQvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBb55+l5LqG5bCP56uZXSDmj5DkvpsnXSwKICAgICAgICBbJ2h0dHBzOi8vZ2l0LnhmajAuY24vaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIFsnaHR0cHM6Ly9naC5jb24uc2gvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIFsnaHR0cHM6Ly9naHBzLmNjL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXSwKICAgICAgICBbJ2h0dHBzOi8vY29ycy5pc3RlZWQuY2MvZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0x1ZnNcJ3NdIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9odWIuZ2l0bWlycm9yLmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtHaXRNaXJyb3JdIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2pzLnh4b29vLm1sL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW+mlreWkquehrF0g5o+Q5L6bJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vcHJveHkuZnJlZWNkbi5tbC8/dXJsPWh0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXSwKICAgICAgICAvL1snaHR0cHM6Ly9jZG4uZ2l0aHVianMuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sIC8vIOWfn+WQjeaXoOino+aekAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC5uanV1LmNmJywgJ+e+juWbvScsICdb576O5Zu9IOaLieaWr+e7tOWKoOaWr10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0xpYnJhcnlDbG91ZF0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2Rvd25sb2FkLnl6dXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC5udWFhLmNmJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTGlicmFyeUNsb3VkXSDmj5DkvpsnXQogICAgXSwgZG93bmxvYWRfdXJsID0gWyAvLyBmYXN0Z2l0IOeahCBSZWxlYXNlIOaMguS6hu+8jOS9hiBEb3dubG9hZCBaSVAg5L6d54S25Y+v5LulCiAgICAgICAgWydodHRwczovL2Rvd25sb2FkLmZhc3RnaXQub3JnJywgJ+W+t+WbvScsICdb5b635Zu9XSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJiMxMDsmIzEwO+aPkOekuu+8muWmguaenOmAn+W6puWPr+S7peaOpeWPl++8jOW4jOacm+Wkp+WutuWwvemHj+WkmuS9v+eUqOWJjemdoueahOe+juWbveiKgueCue+8iOavj+asoemaj+acuiA0IOS4quadpei0n+i9veWdh+ihoe+8ie+8jCYjMTA76YG/5YWN5rWB6YeP6YO96ZuG5Lit5Yiw5Lqa5rSy5YWs55uK6IqC54K577yM5YeP5bCR5oiQ5pys5Y6L5Yqb5omN6IO96L+Q6JCl5pu05oyB5LmFficsICdodHRwczovL2FyY2hpdmUuZmFzdGdpdC5vcmcnXSwKICAgICAgICBbJ2h0dHBzOi8vZG93bmxvYWQuZmFzdGdpdC5peG11Lm5ldCcsICfml6XmnKwnLCAnW+aXpeacrCDlpKfpmKpdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFvpu4Pln5ToiIjlnItdIOaPkOS+myYjMTA7JiMxMDvmj5DnpLrvvJrlpoLmnpzpgJ/luqblj6/ku6XmjqXlj5fvvIzluIzmnJvlpKflrrblsL3ph4/lpJrkvb/nlKjliY3pnaLnmoTnvo7lm73oioLngrnvvIjmr4/mrKHpmo/mnLogNCDkuKrmnaXotJ/ovb3lnYfooaHvvInvvIwmIzEwO+mBv+WFjea1gemHj+mDvembhuS4reWIsOS6mua0suWFrOebiuiKgueCue+8jOWHj+WwkeaIkOacrOWOi+WKm+aJjeiDvei/kOiQpeabtOaMgeS5hX4nXSwKICAgICAgICBbJ2h0dHBzOi8vZ2hwcm94eS5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+mfqeWbvScsICdb5pel5pys44CB6Z+p5Zu944CB5b635Zu9562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2docHJveHldIOaPkOS+myYjMTA7JiMxMDvmj5DnpLrvvJrlpoLmnpzpgJ/luqblj6/ku6XmjqXlj5fvvIzluIzmnJvlpKflrrblsL3ph4/lpJrkvb/nlKjliY3pnaLnmoTnvo7lm73oioLngrnvvIjmr4/mrKHpmo/mnLogNCDkuKrmnaXotJ/ovb3lnYfooaHvvInvvIwmIzEwO+mBv+WFjea1gemHj+mDvembhuS4reWIsOS6mua0suWFrOebiuiKgueCue+8jOWHj+WwkeaIkOacrOWOi+WKm+aJjeiDvei/kOiQpeabtOaMgeS5hX4nXSwKICAgICAgICBbJ2h0dHBzOi8va2dpdGh1Yi5jb20nLCAn5paw5Yqg5Z2hJywgJ1vmlrDliqDlnaFdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtLR2l0SHViXSDmj5DkvpsmIzEwOyYjMTA75o+Q56S677ya5aaC5p6c6YCf5bqm5Y+v5Lul5o6l5Y+X77yM5biM5pyb5aSn5a625bC96YeP5aSa5L2/55So5YmN6Z2i55qE576O5Zu96IqC54K577yI5q+P5qyh6ZqP5py6IDQg5Liq5p2l6LSf6L295Z2H6KGh77yJ77yMJiMxMDvpgb/lhY3mtYHph4/pg73pm4bkuK3liLDkuprmtLLlhaznm4roioLngrnvvIzlh4/lsJHmiJDmnKzljovlipvmiY3og73ov5DokKXmm7TmjIHkuYV+J10KICAgIF0sIGNsb25lX3VybCA9IFsKICAgICAgICBbJ2h0dHBzOi8vZ2l0Y2xvbmUuY29tJywgJ+WbveWGhScsICdb5Lit5Zu9IOWbveWGhV0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0dpdENsb25lXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDpppbmrKHmr5TovoPmhaLvvIznvJPlrZjlkI7ovoPlv6snXSwKICAgICAgICBbJ2h0dHBzOi8vaHViLmZnaXQuZ3EnLCAn6LaK5Y2XJywgJ1votorljZddIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtGYXN0R2l0IOe+pOe7hOaIkOWRmF0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2tnaXRodWIuY29tJywgJ+aWsOWKoOWdoScsICdb5paw5Yqg5Z2hXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbS0dpdEh1Yl0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9naXRodWIubW9leXkueHl6L2h0dHBzOi8vZ2l0aHViLmNvbScsICfmlrDliqDlnaEnLCAnW+aWsOWKoOWdoeOAgemmmea4r+OAgeaXpeacrOetiV3vvIhDRE4g5LiN5Zu65a6a77yJIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtNb2V5eV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9naHByb3h5LmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn6Z+p5Zu9JywgJ1vml6XmnKzjgIHpn6nlm73jgIHlvrflm73nrYld77yIQ0ROIOS4jeWbuuWumu+8iSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbZ2hwcm94eV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddCiAgICAgICAgLy9bJ2h0dHBzOi8vc2xpbmsubHRkL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW+efpeS6huWwj+ermV0g5o+Q5L6bJ10gLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLmdpdG1pcnJvci5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbR2l0TWlycm9yXSDmj5DkvpsnXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLm5qdXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70g5ouJ5pav57u05Yqg5pavXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTGlicmFyeUNsb3VkXSDmj5DkvpsnXSwgLy8g5oyC5LqGCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLnl6dXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myddLCAvLyDmmoLml6Dlv4XopoEKICAgICAgICAvL1snaHR0cHM6Ly9odWIubnVhYS5jZicsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0xpYnJhcnlDbG91ZF0g5o+Q5L6bJ10gLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLjB6LmdzJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLCAvLyDln5/lkI3ml6Dop6PmnpAKICAgICAgICAvL1snaHR0cHM6Ly9odWIuc2h1dGNtLmNmJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddIC8vIOi/nuaOpei2heaXtgogICAgXSwgY2xvbmVfc3NoX3VybCA9IFsKICAgICAgICBbJ3NzaDovL2dpdEBzc2guZ2l0aHViLmNvbTo0NDMvJywgJ0dpdGh1YiDljp/nlJ8nLCAnW+aXpeacrOOAgeaWsOWKoOWdoeetiV0gLSBHaXRodWIg5a6Y5pa55o+Q5L6b55qEIDQ0MyDnq6/lj6PnmoQgU1NI77yI5L6d54S25pivIFNTSCDljY/orq7vvInvvIzpgILnlKjkuo7pmZDliLborr/pl64gMjIg56uv5Y+j55qE572R57uc546v5aKDJ10sCiAgICAgICAgWydnaXRAc3NoLmZhc3RnaXQub3JnOicsICfpppnmuK8nLCAnW+S4reWbvSDpppnmuK9dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtGYXN0R2l0XSDmj5DkvpsnXQogICAgICAgIC8vWydnaXRAZ2l0LnpobGg2LmNuOicsICfnvo7lm70nLCAnW+e+juWbvSDmtJvmnYnnn7ZdJ10gLy8g5oyC5LqGCiAgICBdLCByYXdfdXJsID0gWwogICAgICAgIFsnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ0dpdGh1YiDljp/nlJ8nLCAnW+aXpeacrCDkuJzkuqxdJ10sCiAgICAgICAgWydodHRwczovL3Jhdy5pcWlxLmlvJywgJ+mmmea4rycsICdb5Lit5Zu9IOmmmea4r10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2lRRE5TL2lRWm9uZV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIC8vWydodHRwczovL3Jhdy5mZ2l0LmdxJywgJ+i2iuWNlycsICdb6LaK5Y2XXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdCDnvqTnu4TmiJDlkZhdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgWydodHRwczovL3Jhdy5rZ2l0aHViLmNvbScsICfmlrDliqDlnaEnLCAnW+aWsOWKoOWdoV0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0tHaXRIdWJdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICBbJ2h0dHBzOi8vZ2hwcm94eS5jb20vaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ+mfqeWbvScsICdb5pel5pys44CB6Z+p5Zu944CB5b635Zu9562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2docHJveHldIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICBbJ2h0dHBzOi8vZmFzdGx5LmpzZGVsaXZyLm5ldC9naCcsICfml6XmnKwgMScsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0pTRGVsaXZyIENETl0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaciSYjMTA7IC0g5LiN5pSv5oyB5aSn5bCP6LaF6L+HIDUwIE1CIOeahOaWh+S7tiYjMTA7IC0g5LiN5pSv5oyB54mI5pys5Y+35qC85byP55qE5YiG5pSv5ZCN77yI5aaCIHYxLjIuM++8iSddLAogICAgICAgIFsnaHR0cHM6Ly9jZG4uc3RhdGljYWx5LmNvbS9naCcsICfml6XmnKwgMicsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW1N0YXRpY2FsbHkgQ0ROXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDkuI3mlK/mjIHlpKflsI/otoXov4cgMzAgTUIg55qE5paH5Lu2J10sCiAgICAgICAgWydodHRwczovL2docHJveHkubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbScsICfml6XmnKwgMycsICdb5pel5pysIOWkp+mYql0mIzEwOyYjMTA7IC0g57yT5a2Y77ya5peg77yI5oiW5pe26Ze05b6I55+t77yJJ10sCiAgICAgICAgWydodHRwczovL3Jhdy5mYXN0Z2l0Lml4bXUubmV0JywgJ+aXpeacrCA0JywgJ1vml6XmnKwg5aSn6ZiqXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBb6buD5Z+U6IiI5ZyLXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5peg77yI5oiW5pe26Ze05b6I55+t77yJJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vcmF3LmZhc3RnaXQub3JnJywgJ+W+t+WbvScsICdb5b635Zu9XSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLCAvLyDmmoLml6Dlv4XopoEKICAgICAgICAvL1snaHR0cHM6Ly9yYXcubmp1dS5jZicsICfnvo7lm70nLCAnW+e+juWbvSDmi4nmlq/nu7TliqDmlq9dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtHaXRNaXJyb3JdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2l0Lnl1bWVuYWthLm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70g5Zyj5L2V5aGeXSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g6L+e5o6l6LaF5pe2CiAgICAgICAgWydodHRwczovL2djb3JlLmpzZGVsaXZyLm5ldC9naCcsICflhbbku5YgMScsICdb56e75Yqo6LWw6aaZ5riv44CB55S15L+h6LWw5pel5pysXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbSlNEZWxpdnIgQ0ROXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDkuI3mlK/mjIHlpKflsI/otoXov4cgNTAgTUIg55qE5paH5Lu2JiMxMDsgLSDkuI3mlK/mjIHniYjmnKzlj7fmoLzlvI/nmoTliIbmlK/lkI3vvIjlpoIgdjEuMi4z77yJJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLnJlbi9naCcsICflhbbku5YgMScsICdb5paw5Yqg5Z2h44CB6aaZ5riv44CB5pel5pys562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2F5YW9dIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8g5Z+f5ZCN5peg6Kej5p6QCiAgICAgICAgWydodHRwczovL2pzZGVsaXZyLmItY2RuLm5ldC9naCcsICflhbbku5YgMicsICdb6aaZ5riv44CB5Y+w5rm+44CB5pel5pys44CB5paw5Yqg5Z2h562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW3J0dHd5anpdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8gNTAwCiAgICAgICAgWydodHRwczovL2dpdGh1Yi5tb2V5eS54eXovaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ+WFtuS7liAyJywgJ1vmlrDliqDlnaHjgIHpppnmuK/jgIHml6XmnKznrYld77yIQ0ROIOS4jeWbuuWumu+8iSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXQogICAgXSwgc3ZnID0gWwogICAgICAgICc8c3ZnIGNsYXNzPSJvY3RpY29uIG9jdGljb24tZmlsZS16aXAgbXItMiIgYXJpYS1oaWRkZW49InRydWUiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTYiIGRhdGEtdmlldy1jb21wb25lbnQ9InRydWUiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNSAxLjc1YS4yNS4yNSAwIDAxLjI1LS4yNWgzYS43NS43NSAwIDAwMCAxLjVoLjVhLjc1Ljc1IDAgMDAwLTEuNWgyLjA4NmEuMjUuMjUgMCAwMS4xNzcuMDczbDIuOTE0IDIuOTE0YS4yNS4yNSAwIDAxLjA3My4xNzd2OC41ODZhLjI1LjI1IDAgMDEtLjI1LjI1aC0uNWEuNzUuNzUgMCAwMDAgMS41aC41QTEuNzUgMS43NSAwIDAwMTQgMTMuMjVWNC42NjRjMC0uNDY0LS4xODQtLjkwOS0uNTEzLTEuMjM3TDEwLjU3My41MTNBMS43NSAxLjc1IDAgMDA5LjMzNiAwSDMuNzVBMS43NSAxLjc1IDAgMDAyIDEuNzV2MTEuNWMwIC42NDkuMzUzIDEuMjE0Ljg3NCAxLjUxNWEuNzUuNzUgMCAxMC43NTItMS4yOTguMjUuMjUgMCAwMS0uMTI2LS4yMTdWMS43NXpNOC43NSAzYS43NS43NSAwIDAwMCAxLjVoLjVhLjc1Ljc1IDAgMDAwLTEuNWgtLjV6TTYgNS4yNWEuNzUuNzUgMCAwMS43NS0uNzVoLjVhLjc1Ljc1IDAgMDEwIDEuNWgtLjVBLjc1Ljc1IDAgMDE2IDUuMjV6bTIgMS41QS43NS43NSAwIDAxOC43NSA2aC41YS43NS43NSAwIDAxMCAxLjVoLS41QS43NS43NSAwIDAxOCA2Ljc1em0tMS4yNS43NWEuNzUuNzUgMCAwMDAgMS41aC41YS43NS43NSAwIDAwMC0xLjVoLS41ek04IDkuNzVBLjc1Ljc1IDAgMDE4Ljc1IDloLjVhLjc1Ljc1IDAgMDEwIDEuNWgtLjVBLjc1Ljc1IDAgMDE4IDkuNzV6bS0uNzUuNzVhMS43NSAxLjc1IDAgMDAtMS43NSAxLjc1djNjMCAuNDE0LjMzNi43NS43NS43NWgyLjVhLjc1Ljc1IDAgMDAuNzUtLjc1di0zYTEuNzUgMS43NSAwIDAwLTEuNzUtMS43NWgtLjV6TTcgMTIuMjVhLjI1LjI1IDAgMDEuMjUtLjI1aC41YS4yNS4yNSAwIDAxLjI1LjI1djIuMjVIN3YtMi4yNXoiPjwvcGF0aD48L3N2Zz4nLAogICAgICAgICc8c3ZnIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgd2lkdGg9IjE2IiBkYXRhLXZpZXctY29tcG9uZW50PSJ0cnVlIiBjbGFzcz0ib2N0aWNvbiBvY3RpY29uLWNvcHkganMtY2xpcGJvYXJkLWNvcHktaWNvbiBkLWlubGluZS1ibG9jayI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMCA2Ljc1QzAgNS43ODQuNzg0IDUgMS43NSA1aDEuNWEuNzUuNzUgMCAwMTAgMS41aC0xLjVhLjI1LjI1IDAgMDAtLjI1LjI1djcuNWMwIC4xMzguMTEyLjI1LjI1LjI1aDcuNWEuMjUuMjUgMCAwMC4yNS0uMjV2LTEuNWEuNzUuNzUgMCAwMTEuNSAwdjEuNUExLjc1IDEuNzUgMCAwMTkuMjUgMTZoLTcuNUExLjc1IDEuNzUgMCAwMTAgMTQuMjV2LTcuNXoiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01IDEuNzVDNSAuNzg0IDUuNzg0IDAgNi43NSAwaDcuNUMxNS4yMTYgMCAxNiAuNzg0IDE2IDEuNzV2Ny41QTEuNzUgMS43NSAwIDAxMTQuMjUgMTFoLTcuNUExLjc1IDEuNzUgMCAwMTUgOS4yNXYtNy41em0xLjc1LS4yNWEuMjUuMjUgMCAwMC0uMjUuMjV2Ny41YzAgLjEzOC4xMTIuMjUuMjUuMjVoNy41YS4yNS4yNSAwIDAwLjI1LS4yNXYtNy41YS4yNS4yNSAwIDAwLS4yNS0uMjVoLTcuNXoiPjwvcGF0aD48L3N2Zz48c3ZnIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgd2lkdGg9IjE2IiBkYXRhLXZpZXctY29tcG9uZW50PSJ0cnVlIiBjbGFzcz0ib2N0aWNvbiBvY3RpY29uLWNoZWNrIGpzLWNsaXBib2FyZC1jaGVjay1pY29uIGNvbG9yLWZnLXN1Y2Nlc3MgZC1pbmxpbmUtYmxvY2sgZC1zbS1ub25lIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy43OCA0LjIyYS43NS43NSAwIDAxMCAxLjA2bC03LjI1IDcuMjVhLjc1Ljc1IDAgMDEtMS4wNiAwTDIuMjIgOS4yOGEuNzUuNzUgMCAwMTEuMDYtMS4wNkw2IDEwLjk0bDYuNzItNi43MmEuNzUuNzUgMCAwMTEuMDYgMHoiPjwvcGF0aD48L3N2Zz4nLAogICAgICAgICc8c3ZnIGNsYXNzPSJvY3RpY29uIG9jdGljb24tY2xvdWQtZG93bmxvYWQiIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2Ij48cGF0aCBkPSJNOSAxMmgybC0zIDMtMy0zaDJWN2gydjV6bTMtOGMwLS40NC0uOTEtMy00LjUtM0M1LjA4IDEgMyAyLjkyIDMgNSAxLjAyIDUgMCA2LjUyIDAgOGMwIDEuNTMgMSAzIDMgM2gzVjkuN0gzQzEuMzggOS43IDEuMyA4LjI4IDEuMyA4YzAtLjE3LjA1LTEuNyAxLjctMS43aDEuM1Y1YzAtMS4zOSAxLjU2LTIuNyAzLjItMi43IDIuNTUgMCAzLjEzIDEuNTUgMy4yIDEuOHYxLjJIMTJjLjgxIDAgMi43LjIyIDIuNyAyLjIgMCAyLjA5LTIuMjUgMi4yLTIuNyAyLjJoLTJWMTFoMmMyLjA4IDAgNC0xLjE2IDQtMy41QzE2IDUuMDYgMTQuMDggNCAxMiA0eiI+PC9wYXRoPjwvc3ZnPicKICAgIF0sIHN0eWxlID0gWydwYWRkaW5nOjAgNnB4OyBtYXJnaW4tcmlnaHQ6IC0xcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tWElVMi1iYWNrLUNvbG9yKTsgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMSk7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLVhJVTItZm9udC1Db2xvcik7J107CgogICAgaWYgKG1lbnVfcmF3RmFzdCA9PSBudWxsKXttZW51X3Jhd0Zhc3QgPSAxOyBHTV9zZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JywgMSl9OwogICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X3Jhd0Rvd25MaW5rJykgPT0gbnVsbCl7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCB0cnVlKX07CiAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfZ2l0Q2xvbmUnKSA9PSBudWxsKXtHTV9zZXRWYWx1ZSgnbWVudV9naXRDbG9uZScsIHRydWUpfTsKICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQoKTsKICAgIC8vIOazqOWGjOiEmuacrOiPnOWNlQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgICAgICAvLyDlpoLmnpzlj43ppojoj5zljZVJROS4jeaYryBudWxs77yM5YiZ5Yig6Zmk5omA5pyJ6ISa5pys6I+c5Y2VCiAgICAgICAgaWYgKG1lbnVfZmVlZEJhY2tfSUQpIHtHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudV9yYXdGYXN0X0lEKTsgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVfcmF3RG93bkxpbmtfSUQpOyBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudV9naXRDbG9uZV9JRCk7IEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZChtZW51X2ZlZWRCYWNrX0lEKTsgbWVudV9yYXdGYXN0ID0gR01fZ2V0VmFsdWUoJ3hpdTJfbWVudV9yYXdfZmFzdCcpO30KICAgICAgICAvLyDpgb/lhY3lnKjlh4/lsJEgcmF3IOaVsOe7hOWQju+8jOeUqOaIt+WCqOWtmOeahOaVsOaNruWkp+S6juaVsOe7hOiAjOaKpemUmQogICAgICAgIGlmIChtZW51X3Jhd0Zhc3QgPiByYXdfdXJsLmxlbmd0aCAtIDEpIG1lbnVfcmF3RmFzdCA9IDAKICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKSkgbWVudV9yYXdGYXN0X0lEID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZChgJHtbJzDvuI/ig6MnLCcx77iP4oOjJywnMu+4j+KDoycsJzPvuI/ig6MnLCc077iP4oOjJywnNe+4j+KDoycsJzbvuI/ig6MnLCc377iP4oOjJywnOO+4j+KDoycsJznvuI/ig6MnLCfwn5SfJ11bbWVudV9yYXdGYXN0XX0gWyAke3Jhd191cmxbbWVudV9yYXdGYXN0XVsxXX0gXSDliqDpgJ/mupAgKOKYgSkgLSDngrnlh7vliIfmjaJgLCBtZW51X3RvZ2dsZV9yYXdfZmFzdCk7CiAgICAgICAgbWVudV9yYXdEb3duTGlua19JRCA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7R01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKT8n4pyFJzon4p2MJ30g6aG555uu5YiX6KGo5Y2V5paH5Lu25b+r5o235LiL6L29ICjimIEpYCwgZnVuY3Rpb24oKXtpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKSA9PSB0cnVlKSB7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCBmYWxzZSk7IEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOW3suWFs+mXrSBb6aG555uu5YiX6KGo5Y2V5paH5Lu25b+r5o235LiL6L29ICjimIEpXSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pO30gZWxzZSB7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCB0cnVlKTsgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFvpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSldIOWKn+iDvVxu77yI54K55Ye75Yi35paw572R6aG15ZCO55Sf5pWI77yJYCwgdGltZW91dDogMzUwMCwgb25jbGljazogZnVuY3Rpb24oKXtsb2NhdGlvbi5yZWxvYWQoKTt9fSk7fXJlZ2lzdGVyTWVudUNvbW1hbmQoKTt9KTsKICAgICAgICBtZW51X2dpdENsb25lX0lEID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZChgJHtHTV9nZXRWYWx1ZSgnbWVudV9naXRDbG9uZScpPyfinIUnOifinYwnfSDmt7vliqAgZ2l0IGNsb25lIOWRveS7pGAsIGZ1bmN0aW9uKCl7aWYgKEdNX2dldFZhbHVlKCdtZW51X2dpdENsb25lJykgPT0gdHJ1ZSkge0dNX3NldFZhbHVlKCdtZW51X2dpdENsb25lJywgZmFsc2UpOyBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDlt7LlhbPpl60gW+a3u+WKoCBnaXQgY2xvbmUg5ZG95LukXSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pO30gZWxzZSB7R01fc2V0VmFsdWUoJ21lbnVfZ2l0Q2xvbmUnLCB0cnVlKTsgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFvmt7vliqAgZ2l0IGNsb25lIOWRveS7pF0g5Yqf6IO9XG7vvIjngrnlh7vliLfmlrDnvZHpobXlkI7nlJ/mlYjvvIlgLCB0aW1lb3V0OiAzNTAwLCBvbmNsaWNrOiBmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpO319KTt9cmVnaXN0ZXJNZW51Q29tbWFuZCgpO30pOwogICAgICAgIG1lbnVfZmVlZEJhY2tfSUQgPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCfwn5KsIOWPjemmiCAmIOW7uuiuriBbR2l0aHViXScsIGZ1bmN0aW9uICgpIHt3aW5kb3cuR01fb3BlbkluVGFiKCdodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Jywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzQxMjI0NS9mZWVkYmFjaycsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO30pOwogICAgfQoKICAgIC8vIOWIh+aNouWKoOmAn+a6kAogICAgZnVuY3Rpb24gbWVudV90b2dnbGVfcmF3X2Zhc3QoKSB7CiAgICAgICAgLy8g5aaC5p6c5b2T5YmN5Yqg6YCf5rqQ5L2N572u5aSn5LqO562J5LqO5Yqg6YCf5rqQ5oC75pWw77yM5YiZ5pS55Li656ys5LiA5Liq5Yqg6YCf5rqQ77yM5Y+N5LmL6YCS5aKe5LiL5LiA5Liq5Yqg6YCf5rqQCiAgICAgICAgaWYgKG1lbnVfcmF3RmFzdCA+PSByYXdfdXJsLmxlbmd0aCAtIDEpIHttZW51X3Jhd0Zhc3QgPSAwO30gZWxzZSB7bWVudV9yYXdGYXN0ICs9IDE7fQogICAgICAgIEdNX3NldFZhbHVlKCd4aXUyX21lbnVfcmF3X2Zhc3QnLCBtZW51X3Jhd0Zhc3QpOwogICAgICAgIGRlbFJhd0Rvd25MaW5rKCk7IC8vIOWIoOmZpOaXp+WKoOmAn+a6kAogICAgICAgIGFkZFJhd0Rvd25MaW5rKCk7IC8vIOa3u+WKoOaWsOWKoOmAn+a6kAogICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogIuW3suWIh+aNouWKoOmAn+a6kOS4uu+8miIgKyByYXdfdXJsW21lbnVfcmF3RmFzdF1bMV0sIHRpbWVvdXQ6IDMwMDB9KTsgLy8g5o+Q56S65raI5oGvCiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH07CgogICAgY29sb3JNb2RlKCk7IC8vIOmAgumFjeeZveWkqS/lpJzpl7TkuLvpopjmqKHlvI8KICAgIC8vaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZWxlYXNlcycpKSBhZGRSZWxlYXNlKCk7IC8vIFJlbGVhc2Ug5Yqg6YCfCiAgICBzZXRUaW1lb3V0KGFkZERvd25sb2FkWklQLCAyMDAwKTsgLy8gRG93bmxvYWQgWklQIOWKoOmAnwogICAgc2V0VGltZW91dChhZGRHaXRDbG9uZSwgMjAwMCk7IC8vICAgIEdpdCBDbG9uZSDliqDpgJ8KICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmVTU0gsIDIwMDApOyAvLyBHaXQgQ2xvbmUgU1NIIOWKoOmAnwogICAgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlciA9PT0gJ1RhbXBlcm1vbmtleScpIHthZGRSYXdGaWxlKCk7fSBlbHNlIHtzZXRUaW1lb3V0KGFkZFJhd0ZpbGUsIDEwMDApO30gLy8gUmF3IOWKoOmAnwogICAgc2V0VGltZW91dChhZGRSYXdEb3duTGluaywgMjAwMCk7IC8vIFJhdyDljZXmlofku7blv6vmjbfkuIvovb3vvIjimIHvvInvvIzlu7bov58gMiDnp5LmiafooYzvvIzpgb/lhY3ooqsgcGpheCDliLfmjokKCiAgICAvLyBUYW1wZXJtb25rZXkgdjQuMTEg54mI5pys5re75Yqg55qEIG9udXJsY2hhbmdlIOS6i+S7tiBncmFudO+8jOWPr+S7peebkeaOpyBwamF4IOetiee9kemhteeahCBVUkwg5Y+Y5YyWCiAgICBpZiAod2luZG93Lm9udXJsY2hhbmdlID09PSB1bmRlZmluZWQpIGFkZFVybENoYW5nZUV2ZW50KCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgY29sb3JNb2RlKCk7IC8vIOmAgumFjeeZveWkqS/lpJzpl7TkuLvpopjmqKHlvI8KICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlbGVhc2VzJykpIGFkZFJlbGVhc2UoKTsgLy8gUmVsZWFzZSDliqDpgJ8KICAgICAgICBzZXRUaW1lb3V0KGFkZERvd25sb2FkWklQLCAyMDAwKTsgLy8gRG93bmxvYWQgWklQIOWKoOmAnwogICAgICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmUsIDIwMDApOyAvLyAgICBHaXQgQ2xvbmUg5Yqg6YCfCiAgICAgICAgc2V0VGltZW91dChhZGRHaXRDbG9uZVNTSCwgMjAwMCk7IC8vIEdpdCBDbG9uZSBTU0gg5Yqg6YCfCiAgICAgICAgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlciA9PT0gJ1RhbXBlcm1vbmtleScpIHthZGRSYXdGaWxlKCk7fSBlbHNlIHtzZXRUaW1lb3V0KGFkZFJhd0ZpbGUsIDEwMDApO30gLy8gUmF3IOWKoOmAnwogICAgICAgIHNldFRpbWVvdXQoYWRkUmF3RG93bkxpbmssIDIwMDApOyAvLyBSYXcg5Y2V5paH5Lu25b+r5o235LiL6L2977yI4piB77yJ77yM5bu26L+fIDIg56eS5omn6KGM77yM6YG/5YWN6KKrIHBqYXgg5Yi35o6JCiAgICAgICAgc2V0VGltZW91dChhZGRSYXdEb3duTGlua18sIDEwMDApOyAvLyDlnKjmtY/op4jlmajov5Tlm54v5YmN6L+b5pe26YeN5paw5re75YqgIFJhdyDkuIvovb3pk77mjqXvvIjimIHvvInpvKDmoIfkuovku7YKICAgIH0pOwoKCiAgICAvLyBHaXRodWIgUmVsZWFzZSDmlLnniYjkuLrliqjmgIHliqDovb3mlofku7bliJfooajvvIzlm6DmraTpnIDopoHnm5HmjqfnvZHpobXlhYPntKDlj5jljJYKICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZWxlYXNlcycpID09PSAtMSkgcmV0dXJuCiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT09IDEpIHJldHVybgogICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiB0YXJnZXQuZGF0YXNldC52aWV3Q29tcG9uZW50ID09PSAndHJ1ZScgJiYgdGFyZ2V0LmNsYXNzTGlzdFswXSA9PT0gJ0JveCcpIGFkZFJlbGVhc2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwoKCiAgICAvLyBkb3dubG9hZF91cmwg6ZqP5py6IDQg5Liq576O5Zu95Yqg6YCf5rqQCiAgICBmdW5jdGlvbiBnZXRfTmV3X2Rvd25sb2FkX3VybCgpIHsKICAgICAgICAvL3JldHVybiBkb3dubG9hZF91cmxfdXMuY29uY2F0KGRvd25sb2FkX3VybCkgLy8g5YWo6L6T5Ye66LCD6K+V55SoCiAgICAgICAgbGV0IHNodWZmbGVkID0gZG93bmxvYWRfdXJsX3VzLnNsaWNlKDApLCBpID0gZG93bmxvYWRfdXJsX3VzLmxlbmd0aCwgbWluID0gaSAtIDQsIHRlbXAsIGluZGV4OwogICAgICAgIHdoaWxlIChpLS0gPiBtaW4pIHtpbmRleCA9IE1hdGguZmxvb3IoKGkgKyAxKSAqIE1hdGgucmFuZG9tKCkpOyB0ZW1wID0gc2h1ZmZsZWRbaW5kZXhdOyBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtpXTsgc2h1ZmZsZWRbaV0gPSB0ZW1wO30KICAgICAgICByZXR1cm4gc2h1ZmZsZWQuc2xpY2UobWluKS5jb25jYXQoZG93bmxvYWRfdXJsKTsgLy8g6ZqP5py65rSX54mMIGRvd25sb2FkX3VybF91cyDmlbDnu4Tlubblj5bliY0gNCDkuKrvvIznhLblkI7lsIblhbblkIjlubboh7MgZG93bmxvYWRfdXJsIOaVsOe7hAogICAgfQoKICAgIC8vIFJlbGVhc2UKICAgIGZ1bmN0aW9uIGFkZFJlbGVhc2UoKSB7CiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQm94LWZvb3RlcicpOyBpZiAoaHRtbC5sZW5ndGggPT0gMCB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcmVsZWFzZXMnKSA9PSAtMSkgcmV0dXJuCiAgICAgICAgbGV0IGRpdkRpc3BsYXkgPSAnbWFyZ2luLWxlZnQ6IC05MHB4OycsIG5ld19kb3dubG9hZF91cmwgPSBnZXRfTmV3X2Rvd25sb2FkX3VybCgpOwogICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiA3NTUpIHtkaXZEaXNwbGF5ID0gJ21hcmdpbi10b3A6IC0zcHg7bWFyZ2luLWxlZnQ6IDhweDtkaXNwbGF5OiBpbmhlcml0Oyc7fTsgLy8g6LCD5pW05bCP5bGP5bmV5pe255qE5qC35byPCiAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGh0bWwpIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnQucXVlcnlTZWxlY3RvcignLlhJVTItUlMnKSkgY29udGludWUKICAgICAgICAgICAgY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaS5Cb3gtcm93IGEnKS5mb3JFYWNoKGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICAgICAgbGV0IGhyZWYgPSBfdGhpcy5ocmVmLnNwbGl0KGxvY2F0aW9uLmhvc3QpLAogICAgICAgICAgICAgICAgICAgIHVybCA9ICcnLCBfaHRtbCA9IGA8ZGl2IGNsYXNzPSJYSVUyLVJTIiBzdHlsZT0iJHtkaXZEaXNwbGF5fSI+YDsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxuZXdfZG93bmxvYWRfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVswXSA9PSAnaHR0cHM6Ly9kb3dubG9hZC5mYXN0Z2l0Lm9yZycpIGNvbnRpbnVlIC8vIGZhc3RnaXQg55qEIFJlbGVhc2Ug5oyC5LqG77yM5L2GIERvd25sb2FkIFpJUCDkvp3nhLblj6/ku6UKICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSAhPT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCcvYXJjaGl2ZS8nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbmV3X2Rvd25sb2FkX3VybFtpXVszXSArIGhyZWZbMV0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBuZXdfZG93bmxvYWRfdXJsW2ldWzBdICsgaHJlZlsxXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdCAhPT0gJ2dpdGh1Yi5jb20nKSB1cmwgPSB1cmwucmVwbGFjZShsb2NhdGlvbi5ob3N0LCdnaXRodWIuY29tJykKICAgICAgICAgICAgICAgICAgICBfaHRtbCArPSBgPGEgc3R5bGU9IiR7c3R5bGVbMF19IiBjbGFzcz0iYnRuIiBocmVmPSIke3VybH0iIHRpdGxlPSIke25ld19kb3dubG9hZF91cmxbaV1bMl19IiByZWw9Im5vcmVmZXJyZXIgbm9vcGVuZXIgbm9mb2xsb3ciPiR7bmV3X2Rvd25sb2FkX3VybFtpXVsxXX08L2E+YAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBfaHRtbCArICc8L2Rpdj4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKCiAgICAvLyBEb3dubG9hZCBaSVAKICAgIGZ1bmN0aW9uIGFkZERvd25sb2FkWklQKCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuWElVMi1EWicpKSByZXR1cm4KICAgICAgICBsZXQgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2NhbC1wYW5lbCB1bCBsaTpsYXN0LWNoaWxkJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZiA9IGh0bWwuZmlyc3RFbGVtZW50Q2hpbGQuaHJlZiwKICAgICAgICAgICAgdXJsID0gJycsIF9odG1sID0gJycsIG5ld19kb3dubG9hZF91cmwgPSBnZXRfTmV3X2Rvd25sb2FkX3VybCgpOwogICAgICAgIGZvciAobGV0IGk9MDtpPG5ld19kb3dubG9hZF91cmwubGVuZ3RoO2krKykgewogICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSA9PT0gJycpIGNvbnRpbnVlCgogICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBuZXdfZG93bmxvYWRfdXJsW2ldWzNdICsgaHJlZi5zcGxpdChsb2NhdGlvbi5ob3N0KVsxXQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXJsID0gbmV3X2Rvd25sb2FkX3VybFtpXVswXSArIGhyZWYuc3BsaXQobG9jYXRpb24uaG9zdClbMV0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdCAhPT0gJ2dpdGh1Yi5jb20nKSB1cmwgPSB1cmwucmVwbGFjZShsb2NhdGlvbi5ob3N0LCdnaXRodWIuY29tJykKICAgICAgICAgICAgX2h0bWwgKz0gYDxsaSBjbGFzcz0iQm94LXJvdyBCb3gtcm93LS1ob3Zlci1ncmF5IHAtMyBtdC0wIFhJVTItRFoiPjxhIGNsYXNzPSJkLWZsZXggZmxleC1pdGVtcy1jZW50ZXIgY29sb3ItZmctZGVmYXVsdCB0ZXh0LWJvbGQgbm8tdW5kZXJsaW5lIiByZWw9Im5vcmVmZXJyZXIgbm9vcGVuZXIgbm9mb2xsb3ciIGhyZWY9IiR7dXJsfSIgdGl0bGU9IiR7bmV3X2Rvd25sb2FkX3VybFtpXVsyXX0iPiR7c3ZnWzBdfURvd25sb2FkIFpJUCAke25ld19kb3dubG9hZF91cmxbaV1bMV19PC9hPjwvbGk+YAogICAgICAgIH0KICAgICAgICBodG1sLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBfaHRtbCk7CiAgICB9CgoKICAgIC8vIEdpdCBDbG9uZQogICAgZnVuY3Rpb24gYWRkR2l0Q2xvbmUoKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5YSVUyLUdDJykpIHJldHVybgogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9InRhYnBhbmVsIl06bnRoLWNoaWxkKDIpIGRpdi5pbnB1dC1ncm91cCcpO2lmICghaHRtbCkgcmV0dXJuCiAgICAgICAgbGV0IGhyZWZfc3BsaXQgPSBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlLnNwbGl0KGxvY2F0aW9uLmhvc3QpLAogICAgICAgICAgICB1cmwgPSAnJywgX2h0bWwgPSAnJywgX2dpdENsb25lID0gJyc7CgogICAgICAgIGlmIChHTV9nZXRWYWx1ZSgnbWVudV9naXRDbG9uZScpKSB7X2dpdENsb25lPSdnaXQgY2xvbmUgJzsgaHRtbC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZSA9IF9naXRDbG9uZSArIGh0bWwuZmlyc3RFbGVtZW50Q2hpbGQudmFsdWU7fQogICAgICAgIGZvciAobGV0IGk9MDtpPGNsb25lX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIGlmIChjbG9uZV91cmxbaV1bMF0gPT09ICdodHRwczovL2dpdGNsb25lLmNvbScpIHsKICAgICAgICAgICAgICAgIHVybCA9IGNsb25lX3VybFtpXVswXSArICcvZ2l0aHViLmNvbScgKyBocmVmX3NwbGl0WzFdCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSBjbG9uZV91cmxbaV1bMF0gKyBocmVmX3NwbGl0WzFdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2h0bWwgKz0gYDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIFhJVTItR0MiIHN0eWxlPSJtYXJnaW4tdG9wOiA0cHg7IiB0aXRsZT0i5Yqg6YCf5rqQ77yaJHtjbG9uZV91cmxbaV1bMV19IO+8iOeCueWHu+WPr+ebtOaOpeWkjeWItu+8iSI+PGlucHV0IHZhbHVlPSIke19naXRDbG9uZX0ke3VybH0iIGFyaWEtbGFiZWw9IiR7dXJsfSIgdGl0bGU9IiR7Y2xvbmVfdXJsW2ldWzJdfSIgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBpbnB1dC1tb25vc3BhY2UgaW5wdXQtc20gY29sb3ItYmctc3VidGxlIiBkYXRhLWF1dG9zZWxlY3Q9IiIgcmVhZG9ubHk9IiI+PGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAtYnV0dG9uIj48Y2xpcGJvYXJkLWNvcHkgdmFsdWU9IiR7X2dpdENsb25lfSR7dXJsfSIgYXJpYS1sYWJlbD0iQ29weSB0byBjbGlwYm9hcmQiIGNsYXNzPSJidG4gYnRuLXNtIGpzLWNsaXBib2FyZC1jb3B5IHRvb2x0aXBwZWQtbm8tZGVsYXkgQ2xpcGJvYXJkQnV0dG9uIiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj4ke3N2Z1sxXX08L2NsaXBib2FyZC1jb3B5PjwvZGl2PjwvZGl2PmAKICAgICAgICB9CiAgICAgICAgaHRtbC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgX2h0bWwpOwogICAgfQoKCiAgICAvLyBHaXQgQ2xvbmUgU1NICiAgICBmdW5jdGlvbiBhZGRHaXRDbG9uZVNTSCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlhJVTItR0NTJykpIHJldHVybgogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9InRhYnBhbmVsIl06bnRoLWNoaWxkKDMpIGRpdi5pbnB1dC1ncm91cCcpO2lmICghaHRtbCkgcmV0dXJuCiAgICAgICAgbGV0IGhyZWZfc3BsaXQgPSBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlLnNwbGl0KCc6JyksCiAgICAgICAgICAgIF9odG1sID0gJycsIF9naXRDbG9uZSA9ICcnOwoKICAgICAgICBpZiAoaHJlZl9zcGxpdFswXSAhPSAnZ2l0QGdpdGh1Yi5jb20nKSByZXR1cm4KCiAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X2dpdENsb25lJykpIHtfZ2l0Q2xvbmU9J2dpdCBjbG9uZSAnOyBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlID0gX2dpdENsb25lICsgaHRtbC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZTt9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8Y2xvbmVfc3NoX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIF9odG1sICs9IGA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBYSVUyLUdDUyIgc3R5bGU9Im1hcmdpbi10b3A6IDRweDsiIHRpdGxlPSLliqDpgJ/mupDvvJoke2Nsb25lX3NzaF91cmxbaV1bMV19IO+8iOeCueWHu+WPr+ebtOaOpeWkjeWItu+8iSI+PGlucHV0IHZhbHVlPSIke19naXRDbG9uZX0ke2Nsb25lX3NzaF91cmxbaV1bMF0gKyBocmVmX3NwbGl0WzFdfSIgYXJpYS1sYWJlbD0iJHtjbG9uZV9zc2hfdXJsW2ldWzBdICsgaHJlZl9zcGxpdFsxXX0iIHRpdGxlPSIke2Nsb25lX3NzaF91cmxbaV1bMl19IiB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGlucHV0LW1vbm9zcGFjZSBpbnB1dC1zbSBjb2xvci1iZy1zdWJ0bGUiIGRhdGEtYXV0b3NlbGVjdD0iIiByZWFkb25seT0iIj48ZGl2IGNsYXNzPSJpbnB1dC1ncm91cC1idXR0b24iPjxjbGlwYm9hcmQtY29weSB2YWx1ZT0iJHtfZ2l0Q2xvbmV9JHtjbG9uZV9zc2hfdXJsW2ldWzBdICsgaHJlZl9zcGxpdFsxXX0iIGFyaWEtbGFiZWw9IkNvcHkgdG8gY2xpcGJvYXJkIiBjbGFzcz0iYnRuIGJ0bi1zbSBqcy1jbGlwYm9hcmQtY29weSB0b29sdGlwcGVkLW5vLWRlbGF5IENsaXBib2FyZEJ1dHRvbiIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+JHtzdmdbMV19PC9jbGlwYm9hcmQtY29weT48L2Rpdj48L2Rpdj5gCiAgICAgICAgfQogICAgICAgIGh0bWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIF9odG1sKTsKICAgIH0KCgogICAgLy8gUmF3CiAgICBmdW5jdGlvbiBhZGRSYXdGaWxlKCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuWElVMi1SRicpKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuWElVMi1SRicpLmZvckVhY2goKGUpPT57ZS5yZW1vdmUoKX0pCiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmF3LXVybCwgYVtkYXRhLXRlc3RpZD0icmF3LWJ1dHRvbiJdJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZShgaHR0cHM6Ly8ke2xvY2F0aW9uLmhvc3R9YCwnJyksCiAgICAgICAgICAgIGhyZWYyID0gaHJlZi5yZXBsYWNlKCcvYmxvYi8nLCcvJyksCiAgICAgICAgICAgIHVybCA9ICcnLCBfaHRtbCA9ICcnOwoKICAgICAgICBmb3IgKGxldCBpPTE7aTxyYXdfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgaWYgKChyYXdfdXJsW2ldWzBdLmluZGV4T2YoJy9naCcpICsgMyA9PT0gcmF3X3VybFtpXVswXS5sZW5ndGgpICYmIHJhd191cmxbaV1bMF0uaW5kZXhPZignY2RuLnN0YXRpY2FseS5jb20nKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbaV1bMF0gKyBocmVmLnJlcGxhY2UoJy9ibG9iLycsJ0AnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbaV1bMF0gKyBocmVmMjsKICAgICAgICAgICAgfQogICAgICAgICAgICBfaHRtbCArPSBgPGEgaHJlZj0iJHt1cmx9IiB0aXRsZT0iJHtyYXdfdXJsW2ldWzJdfSIgdGFyZ2V0PSJfYmxhbmsiIHJvbGU9ImJ1dHRvbiIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBkYXRhLXNpemU9InNtYWxsIiBjbGFzcz0iJHtodG1sLmNsYXNzTmFtZX0gWElVMi1SRiI+JHtyYXdfdXJsW2ldWzFdLnJlcGxhY2UoLyBcZC8sJycpfTwvYT5gCiAgICAgICAgfQogICAgICAgIGh0bWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIF9odG1sKTsKICAgIH0KCgogICAgLy8gUmF3IOWNleaWh+S7tuW/q+aNt+S4i+i9ve+8iOKYge+8iQogICAgZnVuY3Rpb24gYWRkUmF3RG93bkxpbmsoKSB7CiAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgnbWVudV9yYXdEb3duTGluaycpKSByZXR1cm4KICAgICAgICAvLyDlpoLmnpzkuI3mmK/pobnnm67mlofku7bpobXpnaLvvIzlsLHov5Tlm57vvIzlpoLmnpznvZHpobXmnIkgUmF3IOS4i+i9vemTvuaOpe+8iOKYge+8ieWwsei/lOWbngogICAgICAgIGxldCBmaWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5Cb3gtcm93IHN2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgLnJlYWN0LWRpcmVjdG9yeS1maWxlbmFtZS1jb2x1bW4+c3ZnLmNvbG9yLWZnLW11dGVkJyk7aWYoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90YWdzJykgPiAtMSkgcmV0dXJuCiAgICAgICAgbGV0IGZpbGVzMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EuZmlsZURvd25MaW5rJyk7aWYoZmlsZXMxLmxlbmd0aCA+IDApIHJldHVybjsKCiAgICAgICAgLy8g6byg5qCH5oyH5ZCR5YiZ5pi+56S6CiAgICAgICAgdmFyIG1vdXNlT3ZlckhhbmRsZXIgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgbGV0IGVsZW0gPSBldnQuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgIGFFbG1fbmV3ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZURvd25MaW5rJyksCiAgICAgICAgICAgICAgICBhRWxtX25vdyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCBzdmcuY29sb3ItZmctbXV0ZWQnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgICAgICBhRWxtX25vdy5mb3JFYWNoKGVsPT57ZWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBub25lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOm8oOagh+emu+W8gOWImemakOiXjwogICAgICAgIHZhciBtb3VzZU91dEhhbmRsZXIgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgbGV0IGVsZW0gPSBldnQuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgIGFFbG1fbmV3ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZURvd25MaW5rJyksCiAgICAgICAgICAgICAgICBhRWxtX25vdyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCBzdmcuY29sb3ItZmctbXV0ZWQnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSd9KTsKICAgICAgICAgICAgYUVsbV9ub3cuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOW+queOr+a3u+WKoAogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZUVsbSkgewogICAgICAgICAgICBsZXQgdHJFbG0gPSBmaWxlRWxtLnBhcmVudE5vZGUucGFyZW50Tm9kZSwKICAgICAgICAgICAgICAgIGNudEVsbV9hID0gdHJFbG0ucXVlcnlTZWxlY3RvcignW3JvbGU9InJvd2hlYWRlciJdID4gLmNzcy10cnVuY2F0ZS5jc3MtdHJ1bmNhdGUtdGFyZ2V0LmQtYmxvY2sud2lkdGgtZml0ID4gYSwgLnJlYWN0LWRpcmVjdG9yeS10cnVuY2F0ZT5hJyksCiAgICAgICAgICAgICAgICBOYW1lID0gY250RWxtX2EuaW5uZXJUZXh0LAogICAgICAgICAgICAgICAgaHJlZiA9IGNudEVsbV9hLmdldEF0dHJpYnV0ZSgnaHJlZicpLAogICAgICAgICAgICAgICAgaHJlZjIgPSBocmVmLnJlcGxhY2UoJy9ibG9iLycsJy8nKSwgdXJsLCB1cmxfbmFtZSwgdXJsX3RpcCA9ICcnOwogICAgICAgICAgICBpZiAoKHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5pbmRleE9mKCcvZ2gnKSArIDMgPT09IHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5sZW5ndGgpICYmIHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5pbmRleE9mKCdjZG4uc3RhdGljYWx5LmNvbScpID09PSAtMSkgewogICAgICAgICAgICAgICAgdXJsID0gcmF3X3VybFttZW51X3Jhd0Zhc3RdWzBdICsgaHJlZi5yZXBsYWNlKCcvYmxvYi8nLCdAJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMF0gKyBocmVmMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXJsX25hbWUgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMV07IHVybF90aXAgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMl07CiAgICAgICAgICAgIGZpbGVFbG0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGA8YSBocmVmPSIke3VybH0iIGRvd25sb2FkPSIke05hbWV9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBjbGFzcz0iZmlsZURvd25MaW5rIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIHRpdGxlPSLjgIwke3VybF9uYW1lfeOAjSYjMTA7JiMxMDtbQWx0ICsg5bem6ZSuXSDmiJYgW+WPs+mUriAtIOWPpuWtmOS4ui4uLl0g5LiL6L295paH5Lu244CCJiMxMDvms6jmhI/vvJrpvKDmoIfngrnlh7sgW+KYgV0g5Zu+5qCH77yM6ICM5LiN5piv5bem5L6n55qE5paH5Lu25ZCN77yBJiMxMDsmIzEwOyR7dXJsX3RpcH3mj5DnpLrvvJrngrnlh7vmtY/op4jlmajlj7PkuIrop5IgVGFtcGVybW9ua2V5IOaJqeWxleWbvuaghyAtIFsgJHtyYXdfdXJsW21lbnVfcmF3RmFzdF1bMV19IF0g5Yqg6YCf5rqQICjimIEpIOWNs+WPr+WIh+aNouOAgiI+JHtzdmdbMl19PC9hPmApOwogICAgICAgICAgICAvLyDnu5HlrprpvKDmoIfkuovku7YKICAgICAgICAgICAgdHJFbG0ub25tb3VzZW92ZXIgPSBtb3VzZU92ZXJIYW5kbGVyOwogICAgICAgICAgICB0ckVsbS5vbm1vdXNlb3V0ID0gbW91c2VPdXRIYW5kbGVyOwogICAgICAgIH0pOwogICAgfQoKCiAgICAvLyDnp7vpmaQgUmF3IOWNleaWh+S7tuW/q+aNt+S4i+i9ve+8iOKYge+8iQogICAgZnVuY3Rpb24gZGVsUmF3RG93bkxpbmsoKSB7CiAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgnbWVudV9yYXdEb3duTGluaycpKSByZXR1cm4KICAgICAgICBsZXQgYUVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlRG93bkxpbmsnKTtpZihhRWxtLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgIGFFbG0uZm9yRWFjaChmdW5jdGlvbihmaWxlRWxtKSB7ZmlsZUVsbS5yZW1vdmUoKTt9KQogICAgfQoKCiAgICAvLyDlnKjmtY/op4jlmajov5Tlm54v5YmN6L+b5pe26YeN5paw5re75YqgIFJhdyDljZXmlofku7blv6vmjbfkuIvovb3vvIjimIHvvInpvKDmoIfkuovku7YKICAgIGZ1bmN0aW9uIGFkZFJhd0Rvd25MaW5rXygpIHsKICAgICAgICBpZiAoIUdNX2dldFZhbHVlKCdtZW51X3Jhd0Rvd25MaW5rJykpIHJldHVybgogICAgICAgIC8vIOWmguaenOS4jeaYr+mhueebruaWh+S7tumhtemdou+8jOWwsei/lOWbnu+8jOWmguaenOe9kemhteayoeaciSBSYXcg5LiL6L296ZO+5o6l77yI4piB77yJ5bCx6L+U5ZueCiAgICAgICAgbGV0IGZpbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LkJveC1yb3cgc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCAucmVhY3QtZGlyZWN0b3J5LWZpbGVuYW1lLWNvbHVtbj5zdmcuY29sb3ItZmctbXV0ZWQnKTtpZihmaWxlcy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICBsZXQgZmlsZXMxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYS5maWxlRG93bkxpbmsnKTtpZihmaWxlczEubGVuZ3RoID09PSAwKSByZXR1cm47CgogICAgICAgIC8vIOm8oOagh+aMh+WQkeWImeaYvuekugogICAgICAgIHZhciBtb3VzZU92ZXJIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gZXZ0LmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgICBhRWxtX25ldyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpLAogICAgICAgICAgICAgICAgYUVsbV9ub3cgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgc3ZnLmNvbG9yLWZnLW11dGVkJyk7CiAgICAgICAgICAgIGFFbG1fbmV3LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZSd9KTsKICAgICAgICAgICAgYUVsbV9ub3cuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSd9KTsKICAgICAgICB9OwoKICAgICAgICAvLyDpvKDmoIfnprvlvIDliJnpmpDol48KICAgICAgICB2YXIgbW91c2VPdXRIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gZXZ0LmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgICBhRWxtX25ldyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpLAogICAgICAgICAgICAgICAgYUVsbV9ub3cgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgc3ZnLmNvbG9yLWZnLW11dGVkJyk7CiAgICAgICAgICAgIGFFbG1fbmV3LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmUnfSk7CiAgICAgICAgICAgIGFFbG1fbm93LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZSd9KTsKICAgICAgICB9OwogICAgICAgIC8vIOW+queOr+a3u+WKoAogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZUVsbSkgewogICAgICAgICAgICBsZXQgdHJFbG0gPSBmaWxlRWxtLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgLy8g57uR5a6a6byg5qCH5LqL5Lu2CiAgICAgICAgICAgIHRyRWxtLm9ubW91c2VvdmVyID0gbW91c2VPdmVySGFuZGxlcjsKICAgICAgICAgICAgdHJFbG0ub25tb3VzZW91dCA9IG1vdXNlT3V0SGFuZGxlcjsKICAgICAgICB9KTsKICAgIH0KCgogICAgLy8g6YCC6YWN55m95aSpL+WknOmXtOS4u+mimOaooeW8jwogICAgZnVuY3Rpb24gY29sb3JNb2RlKCkgewogICAgICAgIGxldCBzdHlsZV9BZGQ7CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdYSVUyLUdpdGh1YicpKSB7c3R5bGVfQWRkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1hJVTItR2l0aHViJyl9IGVsc2Uge3N0eWxlX0FkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7IHN0eWxlX0FkZC5pZCA9ICdYSVUyLUdpdGh1Yic7IHN0eWxlX0FkZC50eXBlID0gJ3RleHQvY3NzJzt9CiAgICAgICAgYmFja0NvbG9yID0gJyNmZmZmZmYnOyBmb250Q29sb3IgPSAnIzg4ODg4OCc7CgogICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuY29sb3JNb2RlID09PSAnZGFyaycpIHsgLy8g5aaC5p6c5piv5aSc6Ze05qih5byPCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuZGFya1RoZW1lID09PSAnZGFya19kaW1tZWQnKSB7CiAgICAgICAgICAgICAgICBiYWNrQ29sb3IgPSAnIzI3MmUzNyc7IGZvbnRDb2xvciA9ICcjNzY4MzkwJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJhY2tDb2xvciA9ICcjMTYxYTIxJzsgZm9udENvbG9yID0gJyM5N2EwYWEnOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuY29sb3JNb2RlID09PSAnYXV0bycpIHsgLy8g5aaC5p6c5piv6Ieq5Yqo5qih5byPCiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMgfHwgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5kYXRhc2V0LmxpZ2h0VGhlbWUuaW5kZXhPZignZGFyaycpID4gLTEpIHsgLy8g5aaC5p6c5rWP6KeI5Zmo5piv5aSc6Ze05qih5byPIOaIliDnmb3lpKnmqKHlvI/mmK8gZGFyayDnmoTmg4XlhrUKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuZGFya1RoZW1lID09PSAnZGFya19kaW1tZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgYmFja0NvbG9yID0gJyMyNzJlMzcnOyBmb250Q29sb3IgPSAnIzc2ODM5MCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuZGF0YXNldC5kYXJrVGhlbWUuaW5kZXhPZignbGlnaHQnKSA9PSAtMSkgeyAvLyDmjpLpmaTlpJzpl7TmqKHlvI/mmK8gbGlnaHQg55qE5oOF5Ya1CiAgICAgICAgICAgICAgICAgICAgYmFja0NvbG9yID0gJyMxNjFhMjEnOyBmb250Q29sb3IgPSAnIzk3YTBhYSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoc3R5bGVfQWRkKS50ZXh0Q29udGVudCA9IGAuWElVMi1SUyBhIHstLVhJVTItYmFjay1Db2xvcjogJHtiYWNrQ29sb3J9OyAtLVhJVTItZm9udC1Db2xvcjogJHtmb250Q29sb3J9O31gOwogICAgfQoKCiAgICAvLyDoh6rlrprkuYkgdXJsY2hhbmdlIOS6i+S7tu+8iOeUqOadpeebkeWQrCBVUkwg5Y+Y5YyW77yJ77yM6ZKI5a+56Z2eIFRhbXBlcm1vbmtleSDmsrnnjLTnrqHnkIblmagKICAgIGZ1bmN0aW9uIGFkZFVybENoYW5nZUV2ZW50KCkgewogICAgICAgIGhpc3RvcnkucHVzaFN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHB1c2hTdGF0ZSgpewogICAgICAgICAgICB2YXIgcmV0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3B1c2hzdGF0ZScpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CiAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfSkoaGlzdG9yeS5wdXNoU3RhdGUpOwoKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSA9ICggZiA9PiBmdW5jdGlvbiByZXBsYWNlU3RhdGUoKXsKICAgICAgICAgICAgdmFyIHJldCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXBsYWNlc3RhdGUnKSk7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgndXJsY2hhbmdlJykpOwogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0pKGhpc3RvcnkucmVwbGFjZVN0YXRlKTsKCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywoKT0+eyAvLyDngrnlh7vmtY/op4jlmajnmoTliY3ov5sv5ZCO6YCA5oyJ6ZKu5pe26Kem5Y+RIHVybGNoYW5nZSDkuovku7YKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSkKICAgICAgICB9KTsKICAgIH0KfSkoKTsK"},{"name":"Simple YouTube Age Restriction Bypass","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.youtube.com/*","https://www.youtube-nocookie.com/*","https://m.youtube.com/*","https://music.youtube.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1691319461456,"data":{}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/423851-simple-youtube-age-restriction-bypass/code/Simple%20YouTube%20Age%20Restriction%20Bypass.user.js","uuid":"88b326f1-f0e9-405f-8db0-d779b1b1551c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBTaW1wbGUgWW91VHViZSBBZ2UgUmVzdHJpY3Rpb24gQnlwYXNzCi8vIEBkZXNjcmlwdGlvbiAgICAgV2F0Y2ggYWdlIHJlc3RyaWN0ZWQgdmlkZW9zIG9uIFlvdVR1YmUgd2l0aG91dCBsb2dpbiBhbmQgd2l0aG91dCBhZ2UgdmVyaWZpY2F0aW9uIPCfmI4KLy8gQGRlc2NyaXB0aW9uOmRlICBTY2hhdWUgWW91VHViZSBWaWRlb3MgbWl0IEFsdGVyc2Jlc2NocsOkbmt1bmdlbiBvaG5lIEFubWVsZHVuZyB1bmQgb2huZSBkZWluIEFsdGVyIHp1IGJlc3TDpHRpZ2VuIPCfmI4KLy8gQGRlc2NyaXB0aW9uOmZyICBSZWdhcmRleiBkZXMgdmlkw6lvcyBZb3VUdWJlIGF2ZWMgZGVzIHJlc3RyaWN0aW9ucyBkJ8OiZ2Ugc2FucyB2b3VzIGluc2NyaXJlIGV0IHNhbnMgY29uZmlybWVyIHZvdHJlIMOiZ2Ug8J+YjgovLyBAZGVzY3JpcHRpb246aXQgIEd1YXJkYSBpIHZpZGVvIGNvbiByZXN0cml6aW9uaSBkaSBldMOgIHN1IFlvdVR1YmUgc2VuemEgbG9naW4gZSBzZW56YSB2ZXJpZmljYSBkZWxsJ2V0w6Ag8J+YjgovLyBAaWNvbiAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3Jhdy92Mi41LjQvc3JjL2V4dGVuc2lvbi9pY29uL2ljb25fNjQucG5nCi8vIEB2ZXJzaW9uICAgICAgICAgMi41LjgKLy8gQGF1dGhvciAgICAgICAgICBaZXJvZHkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaCkKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy8KLy8gQHN1cHBvcnRVUkwgICAgICBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMKLy8gQGxpY2Vuc2UgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHBzOi8vbS55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgaHR0cHM6Ly9tdXNpYy55b3V0dWJlLmNvbS8qCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBjb21wYXRpYmxlICAgICAgY2hyb21lCi8vIEBjb21wYXRpYmxlICAgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICAgIG9wZXJhCi8vIEBjb21wYXRpYmxlICAgICAgZWRnZQovLyBAY29tcGF0aWJsZSAgICAgIHNhZmFyaQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qCiAgICBUaGlzIGlzIGEgdHJhbnNwaWxlZCB2ZXJzaW9uIHRvIGFjaGlldmUgYSBjbGVhbiBjb2RlIGJhc2UgYW5kIGJldHRlciBicm93c2VyIGNvbXBhdGliaWxpdHkuCiAgICBZb3UgY2FuIGZpbmQgdGhlIG5pY2VseSByZWFkYWJsZSBzb3VyY2UgY29kZSBhdCBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcwoqLwoKKGZ1bmN0aW9uIGlpZmUocmFuT25jZSkgewogICAgLy8gVHJpY2sgdG8gZ2V0IGFyb3VuZCB0aGUgc2FuZGJveCByZXN0cmljdGlvbnMgaW4gR3JlYXNlbW9ua2V5IChGaXJlZm94KQogICAgLy8gSW5qZWN0IGNvZGUgaW50byB0aGUgbWFpbiB3aW5kb3cgaWYgY3JpdGVyaWEgbWF0Y2gKICAgIGlmICh0aGlzICE9PSB3aW5kb3cgJiYgIXJhbk9uY2UpIHsKICAgICAgICB3aW5kb3cuZXZhbCgnKCcgKyBpaWZlLnRvU3RyaW5nKCkgKyAnKSh0cnVlKTsnKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8gU2NyaXB0IGNvbmZpZ3VyYXRpb24gdmFyaWFibGVzCiAgICBjb25zdCBVTkxPQ0tBQkxFX1BMQVlBQklMSVRZX1NUQVRVU0VTID0gWydBR0VfVkVSSUZJQ0FUSU9OX1JFUVVJUkVEJywgJ0FHRV9DSEVDS19SRVFVSVJFRCcsICdDT05URU5UX0NIRUNLX1JFUVVJUkVEJywgJ0xPR0lOX1JFUVVJUkVEJ107CiAgICBjb25zdCBWQUxJRF9QTEFZQUJJTElUWV9TVEFUVVNFUyA9IFsnT0snLCAnTElWRV9TVFJFQU1fT0ZGTElORSddOwoKICAgIC8vIFRoZXNlIGFyZSB0aGUgcHJveHkgc2VydmVycyB0aGF0IGFyZSBzb21ldGltZXMgcmVxdWlyZWQgdG8gdW5sb2NrIHZpZGVvcyB3aXRoIGFnZSByZXN0cmljdGlvbnMuCiAgICAvLyBZb3UgY2FuIGhvc3QgeW91ciBvd24gYWNjb3VudCBwcm94eSBpbnN0YW5jZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3RyZWUvbWFpbi9hY2NvdW50LXByb3h5CiAgICAvLyBUbyBsZWFybiB3aGF0IGluZm9ybWF0aW9uIGlzIHRyYW5zZmVycmVkLCBwbGVhc2UgcmVhZDogaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MjcHJpdmFjeQogICAgY29uc3QgQUNDT1VOVF9QUk9YWV9TRVJWRVJfSE9TVCA9ICdodHRwczovL3lvdXR1YmUtcHJveHkuemVyb2R5Lm9uZSc7CiAgICBjb25zdCBWSURFT19QUk9YWV9TRVJWRVJfSE9TVCA9ICdodHRwczovL255LjRldmVycHJveHkuY29tJzsKCiAgICAvLyBVc2VyIG5lZWRzIHRvIGNvbmZpcm0gdGhlIHVubG9jayBwcm9jZXNzIG9uIGVtYmVkZGVkIHBsYXllcj8KICAgIGxldCBFTkFCTEVfVU5MT0NLX0NPTkZJUk1BVElPTl9FTUJFRCA9IHRydWU7CgogICAgLy8gU2hvdyBub3RpZmljYXRpb24/CiAgICBsZXQgRU5BQkxFX1VOTE9DS19OT1RJRklDQVRJT04gPSB0cnVlOwoKICAgIC8vIERpc2FibGUgY29udGVudCB3YXJuaW5ncz8KICAgIGxldCBTS0lQX0NPTlRFTlRfV0FSTklOR1MgPSB0cnVlOwoKICAgIC8vIFNvbWUgSW5uZXJ0dWJlIGJ5cGFzcyBtZXRob2RzIHJlcXVpcmUgdGhlIGZvbGxvd2luZyBhdXRoZW50aWNhdGlvbiBoZWFkZXJzIG9mIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIuCiAgICBjb25zdCBHT09HTEVfQVVUSF9IRUFERVJfTkFNRVMgPSBbJ0F1dGhvcml6YXRpb24nLCAnWC1Hb29nLUF1dGhVc2VyJywgJ1gtT3JpZ2luJ107CgogICAgLyoqCiAgICAgKiBUaGUgU1FQIHBhcmFtZXRlciBsZW5ndGggaXMgZGlmZmVyZW50IGZvciBibHVycmVkIHRodW1ibmFpbHMuCiAgICAgKiBUaGV5IGNvbnRhaW4gbXVjaCBsZXNzIGluZm9ybWF0aW9uLCB0aGFuIG5vcm1hbCB0aHVtYm5haWxzLgogICAgICogVGhlIHRodW1ibmFpbCBTUVBzIHRlbmQgdG8gaGF2ZSBhIGxvbmcgYW5kIGEgc2hvcnQgdmVyc2lvbi4KICAgICAqLwogICAgY29uc3QgQkxVUlJFRF9USFVNQk5BSUxfU1FQX0xFTkdUSFMgPSBbCiAgICAgICAgMzIsIC8vIE1vYmlsZSAoU0hPUlQpCiAgICAgICAgNDgsIC8vIERlc2t0b3AgUGxheWxpc3QgKFNIT1JUKQogICAgICAgIDU2LCAvLyBEZXNrdG9wIChTSE9SVCkKICAgICAgICA2OCwgLy8gTW9iaWxlIChMT05HKQogICAgICAgIDcyLCAvLyBNb2JpbGUgU2hvcnRzCiAgICAgICAgODQsIC8vIERlc2t0b3AgUGxheWxpc3QgKExPTkcpCiAgICAgICAgODgsIC8vIERlc2t0b3AgKExPTkcpCiAgICBdOwoKICAgIC8vIHNtYWxsIGhhY2sgdG8gcHJldmVudCB0cmVlIHNoYWtpbmcgb24gdGhlc2UgZXhwb3J0cwogICAgdmFyIENvbmZpZyA9IHdpbmRvd1tTeW1ib2woKV0gPSB7CiAgICAgICAgVU5MT0NLQUJMRV9QTEFZQUJJTElUWV9TVEFUVVNFUywKICAgICAgICBWQUxJRF9QTEFZQUJJTElUWV9TVEFUVVNFUywKICAgICAgICBBQ0NPVU5UX1BST1hZX1NFUlZFUl9IT1NULAogICAgICAgIFZJREVPX1BST1hZX1NFUlZFUl9IT1NULAogICAgICAgIEVOQUJMRV9VTkxPQ0tfQ09ORklSTUFUSU9OX0VNQkVELAogICAgICAgIEVOQUJMRV9VTkxPQ0tfTk9USUZJQ0FUSU9OLAogICAgICAgIFNLSVBfQ09OVEVOVF9XQVJOSU5HUywKICAgICAgICBHT09HTEVfQVVUSF9IRUFERVJfTkFNRVMsCiAgICAgICAgQkxVUlJFRF9USFVNQk5BSUxfU1FQX0xFTkdUSFMsCiAgICB9OwoKICAgIGZ1bmN0aW9uIGlzR29vZ2xlVmlkZW9VcmwodXJsKSB7CiAgICAgICAgcmV0dXJuIHVybC5ob3N0LmluY2x1ZGVzKCcuZ29vZ2xldmlkZW8uY29tJyk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNHb29nbGVWaWRlb1VubG9ja1JlcXVpcmVkKGdvb2dsZVZpZGVvVXJsLCBsYXN0UHJveGllZEdvb2dsZVZpZGVvSWQpIHsKICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGdvb2dsZVZpZGVvVXJsLnNlYXJjaCk7CiAgICAgICAgY29uc3QgaGFzR2NyRmxhZyA9IHVybFBhcmFtcy5nZXQoJ2djcicpOwogICAgICAgIGNvbnN0IHdhc1VubG9ja2VkQnlBY2NvdW50UHJveHkgPSB1cmxQYXJhbXMuZ2V0KCdpZCcpID09PSBsYXN0UHJveGllZEdvb2dsZVZpZGVvSWQ7CgogICAgICAgIHJldHVybiBoYXNHY3JGbGFnICYmIHdhc1VubG9ja2VkQnlBY2NvdW50UHJveHk7CiAgICB9CgogICAgY29uc3QgbmF0aXZlSlNPTlBhcnNlID0gd2luZG93LkpTT04ucGFyc2U7CiAgICBjb25zdCBuYXRpdmVYTUxIdHRwUmVxdWVzdE9wZW4gPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW47CgogICAgY29uc3QgaXNEZXNrdG9wID0gd2luZG93LmxvY2F0aW9uLmhvc3QgIT09ICdtLnlvdXR1YmUuY29tJzsKICAgIGNvbnN0IGlzTXVzaWMgPSB3aW5kb3cubG9jYXRpb24uaG9zdCA9PT0gJ211c2ljLnlvdXR1YmUuY29tJzsKICAgIGNvbnN0IGlzRW1iZWQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2VtYmVkLycpID09PSAwOwogICAgY29uc3QgaXNDb25maXJtZWQgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCd1bmxvY2tfY29uZmlybWVkJyk7CgogICAgY2xhc3MgRGVmZXJyZWQgewogICAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigKICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0OwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICB0aGlzLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIG9wdGlvbnMpIHsKICAgICAgICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKICAgICAgICBvcHRpb25zICYmIE9iamVjdC5hc3NpZ24obm9kZSwgb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JzsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5kTmVzdGVkT2JqZWN0c0J5QXR0cmlidXRlTmFtZXMob2JqZWN0LCBhdHRyaWJ1dGVOYW1lcykgewogICAgICAgIHZhciByZXN1bHRzID0gW107CgogICAgICAgIC8vIERvZXMgdGhlIGN1cnJlbnQgb2JqZWN0IG1hdGNoIHRoZSBhdHRyaWJ1dGUgY29uZGl0aW9ucz8KICAgICAgICBpZiAoYXR0cmlidXRlTmFtZXMuZXZlcnkoKGtleSkgPT4gdHlwZW9mIG9iamVjdFtrZXldICE9PSAndW5kZWZpbmVkJykpIHsKICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG9iamVjdCk7CiAgICAgICAgfQoKICAgICAgICAvLyBEaWdnaW4nIGRlZXBlciBmb3IgZWFjaCBuZXN0ZWQgb2JqZWN0IChyZWN1cnNpdmUpCiAgICAgICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHsKICAgICAgICAgICAgaWYgKG9iamVjdFtrZXldICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5maW5kTmVzdGVkT2JqZWN0c0J5QXR0cmlidXRlTmFtZXMob2JqZWN0W2tleV0sIGF0dHJpYnV0ZU5hbWVzKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9CgogICAgZnVuY3Rpb24gcGFnZUxvYWRlZCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwoKICAgICAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpOwoKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRlZmVycmVkLnJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KTsKCiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZURlZXBDb3B5KG9iaikgewogICAgICAgIHJldHVybiBuYXRpdmVKU09OUGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WXRjZmdWYWx1ZShuYW1lKSB7CiAgICAgICAgdmFyIF93aW5kb3ckeXRjZmc7CiAgICAgICAgcmV0dXJuIChfd2luZG93JHl0Y2ZnID0gd2luZG93Lnl0Y2ZnKSA9PT0gbnVsbCB8fCBfd2luZG93JHl0Y2ZnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JHl0Y2ZnLmdldChuYW1lKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTaWduYXR1cmVUaW1lc3RhbXAoKSB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgZ2V0WXRjZmdWYWx1ZSgnU1RTJykKICAgICAgICAgICAgfHwgKCgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBfZG9jdW1lbnQkcXVlcnlTZWxlY3Q7CiAgICAgICAgICAgICAgICAvLyBTVFMgaXMgbWlzc2luZyBvbiBlbWJlZGRlZCBwbGF5ZXIuIFJldHJpZXZlIGZyb20gcGxheWVyIGJhc2Ugc2NyaXB0IGFzIGZhbGxiYWNrLi4uCiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJCYXNlSnNQYXRoID0gKF9kb2N1bWVudCRxdWVyeVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPSIvYmFzZS5qcyJdJykpID09PSBudWxsIHx8IF9kb2N1bWVudCRxdWVyeVNlbGVjdCA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IF9kb2N1bWVudCRxdWVyeVNlbGVjdC5zcmM7CgogICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXJCYXNlSnNQYXRoKSByZXR1cm47CgogICAgICAgICAgICAgICAgY29uc3QgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgeG1saHR0cC5vcGVuKCdHRVQnLCBwbGF5ZXJCYXNlSnNQYXRoLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB4bWxodHRwLnNlbmQobnVsbCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHhtbGh0dHAucmVzcG9uc2VUZXh0Lm1hdGNoKC9zaWduYXR1cmVUaW1lc3RhbXA6KFswLTldKikvKVsxXSk7CiAgICAgICAgICAgIH0pKCkKICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVXNlckxvZ2dlZEluKCkgewogICAgICAgIC8vIExPR0dFRF9JTiBkb2Vzbid0IGV4aXN0IG9uIGVtYmVkZGVkIHBhZ2UsIHVzZSBERUxFR0FURURfU0VTU0lPTl9JRCBvciBTRVNTSU9OX0lOREVYIGFzIGZhbGxiYWNrCiAgICAgICAgaWYgKHR5cGVvZiBnZXRZdGNmZ1ZhbHVlKCdMT0dHRURfSU4nKSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gZ2V0WXRjZmdWYWx1ZSgnTE9HR0VEX0lOJyk7CiAgICAgICAgaWYgKHR5cGVvZiBnZXRZdGNmZ1ZhbHVlKCdERUxFR0FURURfU0VTU0lPTl9JRCcpID09PSAnc3RyaW5nJykgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKHBhcnNlSW50KGdldFl0Y2ZnVmFsdWUoJ1NFU1NJT05fSU5ERVgnKSkgPj0gMCkgcmV0dXJuIHRydWU7CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDdXJyZW50VmlkZW9TdGFydFRpbWUoY3VycmVudFZpZGVvSWQpIHsKICAgICAgICAvLyBDaGVjayBpZiB0aGUgVVJMIGNvcnJlc3BvbmRzIHRvIHRoZSByZXF1ZXN0ZWQgdmlkZW8KICAgICAgICAvLyBUaGlzIGlzIG5vdCB0aGUgY2FzZSB3aGVuIHRoZSBwbGF5ZXIgZ2V0cyBwcmVsb2FkZWQgZm9yIHRoZSBuZXh0IHZpZGVvIGluIGEgcGxheWxpc3QuCiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKGN1cnJlbnRWaWRlb0lkKSkgewogICAgICAgICAgICB2YXIgX3JlZjsKICAgICAgICAgICAgLy8gInQiLXBhcmFtIG9uIHlvdXR1LmJlIHVybHMKICAgICAgICAgICAgLy8gInN0YXJ0Ii1wYXJhbSBvbiBlbWJlZCBwbGF5ZXIKICAgICAgICAgICAgLy8gInRpbWVfY29udGludWUiIHdoZW4gY2xpY2tpbmcgIndhdGNoIG9uIHlvdXR1YmUiIG9uIGVtYmVkZGVkIHBsYXllcgogICAgICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgICAgICAgICBjb25zdCBzdGFydFRpbWVTdHJpbmcgPSAoX3JlZiA9IHVybFBhcmFtcy5nZXQoJ3QnKSB8fCB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpIHx8IHVybFBhcmFtcy5nZXQoJ3RpbWVfY29udGludWUnKSkgPT09IG51bGwgfHwgX3JlZiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiBfcmVmLnJlcGxhY2UoJ3MnLCAnJyk7CgogICAgICAgICAgICBpZiAoc3RhcnRUaW1lU3RyaW5nICYmICFpc05hTihzdGFydFRpbWVTdHJpbmcpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3RhcnRUaW1lU3RyaW5nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VXJsUGFyYW1zKHBhcmFtcykgewogICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CiAgICAgICAgZm9yIChjb25zdCBwYXJhbU5hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIHVybFBhcmFtcy5zZXQocGFyYW1OYW1lLCBwYXJhbXNbcGFyYW1OYW1lXSk7CiAgICAgICAgfQogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSB1cmxQYXJhbXM7CiAgICB9CgogICAgZnVuY3Rpb24gd2FpdEZvckVsZW1lbnQoZWxlbWVudFNlbGVjdG9yLCB0aW1lb3V0KSB7CiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTsKCiAgICAgICAgY29uc3QgY2hlY2tEb21JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudFNlbGVjdG9yKTsKICAgICAgICAgICAgaWYgKGVsZW0pIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tEb21JbnRlcnZhbCk7CiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMTAwKTsKCiAgICAgICAgaWYgKHRpbWVvdXQpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrRG9tSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7CiAgICAgICAgICAgIH0sIHRpbWVvdXQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhcnNlUmVsYXRpdmVVcmwodXJsKSB7CiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHVybC5pbmRleE9mKCcvJykgPT09IDApIHsKICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHVybDsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiB1cmwuaW5kZXhPZignaHR0cHM6Ly8nKSA9PT0gMCA/IG5ldyB3aW5kb3cuVVJMKHVybCkgOiBudWxsOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaXNXYXRjaE5leHRPYmplY3QocGFyc2VkRGF0YSkgewogICAgICAgIHZhciBfcGFyc2VkRGF0YSRjdXJyZW50VmksIF9wYXJzZWREYXRhJGN1cnJlbnRWaTI7CiAgICAgICAgaWYgKAogICAgICAgICAgICAhKHBhcnNlZERhdGEgIT09IG51bGwgJiYgcGFyc2VkRGF0YSAhPT0gdm9pZCAwICYmIHBhcnNlZERhdGEuY29udGVudHMpCiAgICAgICAgICAgIHx8ICEocGFyc2VkRGF0YSAhPT0gbnVsbCAmJiBwYXJzZWREYXRhICE9PSB2b2lkIDAgJiYgKF9wYXJzZWREYXRhJGN1cnJlbnRWaSA9IHBhcnNlZERhdGEuY3VycmVudFZpZGVvRW5kcG9pbnQpICE9PSBudWxsICYmIF9wYXJzZWREYXRhJGN1cnJlbnRWaSAhPT0gdm9pZCAwCiAgICAgICAgICAgICAgICAmJiAoX3BhcnNlZERhdGEkY3VycmVudFZpMiA9IF9wYXJzZWREYXRhJGN1cnJlbnRWaS53YXRjaEVuZHBvaW50KSAhPT0gbnVsbCAmJiBfcGFyc2VkRGF0YSRjdXJyZW50VmkyICE9PSB2b2lkIDAgJiYgX3BhcnNlZERhdGEkY3VycmVudFZpMi52aWRlb0lkKQogICAgICAgICkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiAhIXBhcnNlZERhdGEuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cyB8fCAhIXBhcnNlZERhdGEuY29udGVudHMuc2luZ2xlQ29sdW1uV2F0Y2hOZXh0UmVzdWx0czsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1dhdGNoTmV4dFNpZGViYXJFbXB0eShwYXJzZWREYXRhKSB7CiAgICAgICAgdmFyIF9wYXJzZWREYXRhJGNvbnRlbnRzMiwgX3BhcnNlZERhdGEkY29udGVudHMzLCBfcGFyc2VkRGF0YSRjb250ZW50czQsIF9wYXJzZWREYXRhJGNvbnRlbnRzNSwgX2NvbnRlbnQkZmluZDsKICAgICAgICBpZiAoaXNEZXNrdG9wKSB7CiAgICAgICAgICAgIHZhciBfcGFyc2VkRGF0YSRjb250ZW50cywgX3BhcnNlZERhdGEkY29udGVudHMkLCBfcGFyc2VkRGF0YSRjb250ZW50cyQyLCBfcGFyc2VkRGF0YSRjb250ZW50cyQzOwogICAgICAgICAgICAvLyBXRUIgcmVzcG9uc2UgbGF5b3V0CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChfcGFyc2VkRGF0YSRjb250ZW50cyA9IHBhcnNlZERhdGEuY29udGVudHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50cyQgPSBfcGFyc2VkRGF0YSRjb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50cyQgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJGNvbnRlbnRzJDIgPSBfcGFyc2VkRGF0YSRjb250ZW50cyQuc2Vjb25kYXJ5UmVzdWx0cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHMkMiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHMkMyA9IF9wYXJzZWREYXRhJGNvbnRlbnRzJDIuc2Vjb25kYXJ5UmVzdWx0cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHMkMyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiBfcGFyc2VkRGF0YSRjb250ZW50cyQzLnJlc3VsdHM7CiAgICAgICAgICAgIHJldHVybiAhcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgLy8gTVdFQiByZXNwb25zZSBsYXlvdXQKICAgICAgICBjb25zdCBjb250ZW50ID0gKF9wYXJzZWREYXRhJGNvbnRlbnRzMiA9IHBhcnNlZERhdGEuY29udGVudHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzMiA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJGNvbnRlbnRzMyA9IF9wYXJzZWREYXRhJGNvbnRlbnRzMi5zaW5nbGVDb2x1bW5XYXRjaE5leHRSZXN1bHRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czMgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50czQgPSBfcGFyc2VkRGF0YSRjb250ZW50czMucmVzdWx0cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHM0ID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHM1ID0gX3BhcnNlZERhdGEkY29udGVudHM0LnJlc3VsdHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzNSA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogX3BhcnNlZERhdGEkY29udGVudHM1LmNvbnRlbnRzOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbnRlbnQgPT09IG51bGwgfHwgY29udGVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jb250ZW50JGZpbmQgPSBjb250ZW50LmZpbmQoKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9lJGl0ZW1TZWN0aW9uUmVuZGVyZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoX2UkaXRlbVNlY3Rpb25SZW5kZXJlID0gZS5pdGVtU2VjdGlvblJlbmRlcmVyKSA9PT0gbnVsbCB8fCBfZSRpdGVtU2VjdGlvblJlbmRlcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lJGl0ZW1TZWN0aW9uUmVuZGVyZS50YXJnZXRJZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSAnd2F0Y2gtbmV4dC1mZWVkJzsKICAgICAgICAgICAgICAgICAgICB9KSkgPT09IG51bGwgfHwgX2NvbnRlbnQkZmluZCA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogX2NvbnRlbnQkZmluZC5pdGVtU2VjdGlvblJlbmRlcmVyOwogICAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0JzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1BsYXllck9iamVjdChwYXJzZWREYXRhKSB7CiAgICAgICAgcmV0dXJuIChwYXJzZWREYXRhID09PSBudWxsIHx8IHBhcnNlZERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcnNlZERhdGEudmlkZW9EZXRhaWxzKQogICAgICAgICAgICAmJiAocGFyc2VkRGF0YSA9PT0gbnVsbCB8fCBwYXJzZWREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWREYXRhLnBsYXlhYmlsaXR5U3RhdHVzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0VtYmVkZGVkUGxheWVyT2JqZWN0KHBhcnNlZERhdGEpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIChwYXJzZWREYXRhID09PSBudWxsIHx8IHBhcnNlZERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcnNlZERhdGEucHJldmlld1BsYXlhYmlsaXR5U3RhdHVzKSA9PT0gJ29iamVjdCc7CiAgICB9CgogICAgZnVuY3Rpb24gaXNBZ2VSZXN0cmljdGVkKHBsYXlhYmlsaXR5U3RhdHVzKSB7CiAgICAgICAgdmFyIF9wbGF5YWJpbGl0eVN0YXR1cyRlciwKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyMiwKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyMywKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNCwKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNSwKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNiwKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNywKICAgICAgICAgICAgX3BsYXlhYmlsaXR5U3RhdHVzJGVyODsKICAgICAgICBpZiAoIShwbGF5YWJpbGl0eVN0YXR1cyAhPT0gbnVsbCAmJiBwbGF5YWJpbGl0eVN0YXR1cyAhPT0gdm9pZCAwICYmIHBsYXlhYmlsaXR5U3RhdHVzLnN0YXR1cykpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAocGxheWFiaWxpdHlTdGF0dXMuZGVza3RvcExlZ2FjeUFnZUdhdGVSZWFzb24pIHJldHVybiB0cnVlOwogICAgICAgIGlmIChDb25maWcuVU5MT0NLQUJMRV9QTEFZQUJJTElUWV9TVEFUVVNFUy5pbmNsdWRlcyhwbGF5YWJpbGl0eVN0YXR1cy5zdGF0dXMpKSByZXR1cm4gdHJ1ZTsKCiAgICAgICAgLy8gRml4IHRvIGRldGVjdCBhZ2UgcmVzdHJpY3Rpb25zIG9uIGVtYmVkIHBsYXllcgogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMvODUjaXNzdWVjb21tZW50LTk0Njg1MzU1MwogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIGlzRW1iZWQKICAgICAgICAgICAgJiYgKChfcGxheWFiaWxpdHlTdGF0dXMkZXIgPSBwbGF5YWJpbGl0eVN0YXR1cy5lcnJvclNjcmVlbikgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGxheWFiaWxpdHlTdGF0dXMkZXIyID0gX3BsYXlhYmlsaXR5U3RhdHVzJGVyLnBsYXllckVycm9yTWVzc2FnZVJlbmRlcmVyKSA9PT0gbnVsbCB8fCBfcGxheWFiaWxpdHlTdGF0dXMkZXIyID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGxheWFiaWxpdHlTdGF0dXMkZXIzID0gX3BsYXlhYmlsaXR5U3RhdHVzJGVyMi5yZWFzb24pID09PSBudWxsIHx8IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjMgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wbGF5YWJpbGl0eVN0YXR1cyRlcjQgPSBfcGxheWFiaWxpdHlTdGF0dXMkZXIzLnJ1bnMpID09PSBudWxsIHx8IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjQgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wbGF5YWJpbGl0eVN0YXR1cyRlcjUgPSBfcGxheWFiaWxpdHlTdGF0dXMkZXI0LmZpbmQoKHgpID0+IHgubmF2aWdhdGlvbkVuZHBvaW50KSkgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNSA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BsYXlhYmlsaXR5U3RhdHVzJGVyNiA9IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjUubmF2aWdhdGlvbkVuZHBvaW50KSA9PT0gbnVsbCB8fCBfcGxheWFiaWxpdHlTdGF0dXMkZXI2ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGxheWFiaWxpdHlTdGF0dXMkZXI3ID0gX3BsYXlhYmlsaXR5U3RhdHVzJGVyNi51cmxFbmRwb2ludCkgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BsYXlhYmlsaXR5U3RhdHVzJGVyOCA9IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjcudXJsKSA9PT0gbnVsbCB8fCBfcGxheWFiaWxpdHlTdGF0dXMkZXI4ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjguaW5jbHVkZXMoJy8yODAyMTY3JykpCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1NlYXJjaFJlc3VsdChwYXJzZWREYXRhKSB7CiAgICAgICAgdmFyIF9wYXJzZWREYXRhJGNvbnRlbnRzNiwgX3BhcnNlZERhdGEkY29udGVudHM3LCBfcGFyc2VkRGF0YSRjb250ZW50czgsIF9wYXJzZWREYXRhJG9uUmVzcG9ucywgX3BhcnNlZERhdGEkb25SZXNwb25zMiwgX3BhcnNlZERhdGEkb25SZXNwb25zMzsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICB0eXBlb2YgKHBhcnNlZERhdGEgPT09IG51bGwgfHwgcGFyc2VkRGF0YSA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50czYgPSBwYXJzZWREYXRhLmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czYgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiBfcGFyc2VkRGF0YSRjb250ZW50czYudHdvQ29sdW1uU2VhcmNoUmVzdWx0c1JlbmRlcmVyKSA9PT0gJ29iamVjdCcgLy8gRGVza3RvcCBpbml0aWFsIHJlc3VsdHMKICAgICAgICAgICAgfHwgKHBhcnNlZERhdGEgPT09IG51bGwgfHwgcGFyc2VkRGF0YSA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50czcgPSBwYXJzZWREYXRhLmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czcgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHM4ID0gX3BhcnNlZERhdGEkY29udGVudHM3LnNlY3Rpb25MaXN0UmVuZGVyZXIpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzOCA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IF9wYXJzZWREYXRhJGNvbnRlbnRzOC50YXJnZXRJZCkgPT09ICdzZWFyY2gtZmVlZCcgLy8gTW9iaWxlIGluaXRpYWwgcmVzdWx0cwogICAgICAgICAgICB8fCAocGFyc2VkRGF0YSA9PT0gbnVsbCB8fCBwYXJzZWREYXRhID09PSB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJG9uUmVzcG9ucyA9IHBhcnNlZERhdGEub25SZXNwb25zZVJlY2VpdmVkQ29tbWFuZHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJG9uUmVzcG9ucyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRvblJlc3BvbnMyID0gX3BhcnNlZERhdGEkb25SZXNwb25zLmZpbmQoKHgpID0+IHguYXBwZW5kQ29udGludWF0aW9uSXRlbXNBY3Rpb24pKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRvblJlc3BvbnMyID09PSB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJG9uUmVzcG9uczMgPSBfcGFyc2VkRGF0YSRvblJlc3BvbnMyLmFwcGVuZENvbnRpbnVhdGlvbkl0ZW1zQWN0aW9uKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRvblJlc3BvbnMzID09PSB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgICAgIDogX3BhcnNlZERhdGEkb25SZXNwb25zMy50YXJnZXRJZCkgPT09ICdzZWFyY2gtZmVlZCcgLy8gRGVza3RvcCAmIE1vYmlsZSBzY3JvbGwgY29udGludWF0aW9uCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhdHRhY2gkNChvYmosIHByb3AsIG9uQ2FsbCkgewogICAgICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmpbcHJvcF0gIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IG9yaWdpbmFsID0gb2JqW3Byb3BdOwoKICAgICAgICBvYmpbcHJvcF0gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIG9uQ2FsbChhcmd1bWVudHMpOwogICAgICAgICAgICB9IGNhdGNoIHt9CiAgICAgICAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgIH0KCiAgICBjb25zdCBsb2dQcmVmaXggPSAnJWNTaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzOic7CiAgICBjb25zdCBsb2dQcmVmaXhTdHlsZSA9ICdiYWNrZ3JvdW5kLWNvbG9yOiAjMWU1Yzg1OyBjb2xvcjogI2ZmZjsgZm9udC1zaXplOiAxLjJlbTsnOwogICAgY29uc3QgbG9nU3VmZml4ID0gJ1x1RDgzRFx1REMxRSBZb3UgY2FuIHJlcG9ydCBidWdzIGF0OiBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMnOwoKICAgIGZ1bmN0aW9uIGVycm9yKGVyciwgbXNnKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihsb2dQcmVmaXgsIGxvZ1ByZWZpeFN0eWxlLCBtc2csIGVyciwgZ2V0WXRjZmdEZWJ1Z1N0cmluZygpLCAnXG5cbicsIGxvZ1N1ZmZpeCk7CiAgICAgICAgaWYgKHdpbmRvdy5TWUFSQl9DT05GSUcpIHsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoCiAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ1NZQVJCX0xPR19FUlJPUicsIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKG1zZyA/IG1zZyArICc7ICcgOiAnJykgKyAoZXJyICYmIGVyci5tZXNzYWdlID8gZXJyLm1lc3NhZ2UgOiAnJyksCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrOiBlcnIgJiYgZXJyLnN0YWNrID8gZXJyLnN0YWNrIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGluZm8obXNnKSB7CiAgICAgICAgY29uc29sZS5pbmZvKGxvZ1ByZWZpeCwgbG9nUHJlZml4U3R5bGUsIG1zZyk7CiAgICAgICAgaWYgKHdpbmRvdy5TWUFSQl9DT05GSUcpIHsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoCiAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ1NZQVJCX0xPR19JTkZPJywgewogICAgICAgICAgICAgICAgICAgIGRldGFpbDogewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRZdGNmZ0RlYnVnU3RyaW5nKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICBgSW5uZXJ0dWJlQ29uZmlnOiBgCiAgICAgICAgICAgICAgICArIGBpbm5lcnR1YmVBcGlLZXk6ICR7Z2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0FQSV9LRVknKX0gYAogICAgICAgICAgICAgICAgKyBgaW5uZXJ0dWJlQ2xpZW50TmFtZTogJHtnZXRZdGNmZ1ZhbHVlKCdJTk5FUlRVQkVfQ0xJRU5UX05BTUUnKX0gYAogICAgICAgICAgICAgICAgKyBgaW5uZXJ0dWJlQ2xpZW50VmVyc2lvbjogJHtnZXRZdGNmZ1ZhbHVlKCdJTk5FUlRVQkVfQ0xJRU5UX1ZFUlNJT04nKX0gYAogICAgICAgICAgICAgICAgKyBgbG9nZ2VkSW46ICR7Z2V0WXRjZmdWYWx1ZSgnTE9HR0VEX0lOJyl9IGAKICAgICAgICAgICAgKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgcmV0dXJuIGBGYWlsZWQgdG8gYWNjZXNzIGNvbmZpZzogJHtlcnJ9YDsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBBbmQgaGVyZSB3ZSBkZWFsIHdpdGggWW91VHViZSdzIGNyYXBweSBpbml0aWFsIGRhdGEgKHByZXNlbnQgaW4gcGFnZSBzb3VyY2UpIGFuZCB0aGUgcHJvYmxlbXMgdGhhdCBvY2N1ciB3aGVuIGludGVyY2VwdGluZyB0aGF0IGRhdGEuCiAgICAgKiBZb3VUdWJlIGhhcyBzb21lIHByb3RlY3Rpb25zIGluIHBsYWNlIHRoYXQgbWFrZSBpdCBkaWZmaWN1bHQgdG8gaW50ZXJjZXB0IGFuZCBtb2RpZnkgdGhlIGdsb2JhbCB5dEluaXRpYWxQbGF5ZXJSZXNwb25zZSB2YXJpYWJsZS4KICAgICAqIFRoZSBlYXNpZXN0IHdheSB3b3VsZCBiZSB0byBzZXQgYSBkZXNjcmlwdG9yIG9uIHRoYXQgdmFyaWFibGUgdG8gY2hhbmdlIHRoZSB2YWx1ZSBkaXJlY3RseSBvbiBkZWNsYXJhdGlvbi4KICAgICAqIEJ1dCBzb21lIGFkYmxvY2tlcnMgZGVmaW5lIHRoZWlyIG93biBkZXNjcmlwdG9ycyBvbiB0aGUgeXRJbml0aWFsUGxheWVyUmVzcG9uc2UgdmFyaWFibGUsIHdoaWNoIG1ha2VzIGl0IGhhcmQgdG8gcmVnaXN0ZXIgYW5vdGhlciBkZXNjcmlwdG9yIG9uIGl0LgogICAgICogQXMgYSB3b3JrYXJvdW5kIG9ubHkgdGhlIHJlbGV2YW50IHBsYXllclJlc3BvbnNlIHByb3BlcnR5IG9mIHRoZSB5dEluaXRpYWxQbGF5ZXJSZXNwb25zZSB2YXJpYWJsZSB3aWxsIGJlIGludGVyY2VwdGVkLgogICAgICogVGhpcyBpcyBhY2hpZXZlZCBieSBkZWZpbmluZyBhIGRlc2NyaXB0b3Igb24gdGhlIG9iamVjdCBwcm90b3R5cGUgZm9yIHRoYXQgcHJvcGVydHksIHdoaWNoIGFmZmVjdHMgYW55IG9iamVjdCB3aXRoIGEgYHBsYXllclJlc3BvbnNlYCBwcm9wZXJ0eS4KICAgICAqLwogICAgZnVuY3Rpb24gYXR0YWNoJDMob25Jbml0aWFsRGF0YSkgewogICAgICAgIGludGVyY2VwdE9iamVjdFByb3BlcnR5KCdwbGF5ZXJSZXNwb25zZScsIChvYmosIHBsYXllclJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGluZm8oYHBsYXllclJlc3BvbnNlIHByb3BlcnR5IHNldCwgY29udGFpbnMgc2lkZWJhcjogJHshIW9iai5yZXNwb25zZX1gKTsKCiAgICAgICAgICAgIC8vIFRoZSBzYW1lIG9iamVjdCBhbHNvIGNvbnRhaW5zIHRoZSBzaWRlYmFyIGRhdGEgYW5kIHZpZGVvIGRlc2NyaXB0aW9uCiAgICAgICAgICAgIGlmIChpc09iamVjdChvYmoucmVzcG9uc2UpKSBvbkluaXRpYWxEYXRhKG9iai5yZXNwb25zZSk7CgogICAgICAgICAgICAvLyBJZiB0aGUgc2NyaXB0IGlzIGV4ZWN1dGVkIHRvbyBsYXRlIGFuZCB0aGUgYm9vdHN0cmFwIGRhdGEgaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQsCiAgICAgICAgICAgIC8vIGEgcmVsb2FkIG9mIHRoZSBwbGF5ZXIgY2FuIGJlIGZvcmNlZCBieSBjcmVhdGluZyBhIGRlZXAgY29weSBvZiB0aGUgb2JqZWN0LgogICAgICAgICAgICAvLyBUaGlzIGlzIGVzcGVjaWFsbHkgcmVsZXZhbnQgaWYgdGhlIHVzZXJzY3JpcHQgbWFuYWdlciBkb2VzIG5vdCBoYW5kbGUgdGhlIGBAcnVuLWF0IGRvY3VtZW50LXN0YXJ0YCBjb3JyZWN0bHkuCiAgICAgICAgICAgIHBsYXllclJlc3BvbnNlLnVubG9ja2VkID0gZmFsc2U7CiAgICAgICAgICAgIG9uSW5pdGlhbERhdGEocGxheWVyUmVzcG9uc2UpOwogICAgICAgICAgICByZXR1cm4gcGxheWVyUmVzcG9uc2UudW5sb2NrZWQgPyBjcmVhdGVEZWVwQ29weShwbGF5ZXJSZXNwb25zZSkgOiBwbGF5ZXJSZXNwb25zZTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gVGhlIGdsb2JhbCBgeXRJbml0aWFsRGF0YWAgdmFyaWFibGUgY2FuIGJlIG1vZGlmaWVkIG9uIHRoZSBmbHkuCiAgICAgICAgLy8gSXQgY29udGFpbnMgc2VhcmNoIHJlc3VsdHMsIHNpZGViYXIgZGF0YSBhbmQgbWV0YSBpbmZvcm1hdGlvbgogICAgICAgIC8vIE5vdCByZWFsbHkgaW1wb3J0YW50IGJ1dCBmaXhlcyBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMvMTI3CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICAgICAgICAgIGlmIChpc09iamVjdCh3aW5kb3cueXRJbml0aWFsRGF0YSkpIHsKICAgICAgICAgICAgICAgIG9uSW5pdGlhbERhdGEod2luZG93Lnl0SW5pdGlhbERhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW50ZXJjZXB0T2JqZWN0UHJvcGVydHkocHJvcCwgb25TZXQpIHsKICAgICAgICB2YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0OwogICAgICAgIC8vIEFsbG93IG90aGVyIHVzZXJzY3JpcHRzIHRvIGRlY29yYXRlIHRoaXMgZGVzY3JpcHRvciwgaWYgdGhleSBkbyBzb21ldGhpbmcgc2ltaWxhcgogICAgICAgIGNvbnN0IGRhdGFLZXkgPSAnX19TWUFSQl8nICsgcHJvcDsKICAgICAgICBjb25zdCB7IGdldDogZ2V0dGVyLCBzZXQ6IHNldHRlciB9ID0gKF9PYmplY3QkZ2V0T3duUHJvcGVydCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwgcHJvcCkpICE9PSBudWxsICYmIF9PYmplY3QkZ2V0T3duUHJvcGVydCAhPT0gdm9pZCAwCiAgICAgICAgICAgID8gX09iamVjdCRnZXRPd25Qcm9wZXJ0CiAgICAgICAgICAgIDogewogICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpc1tkYXRhS2V5XSA9IHZhbHVlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tkYXRhS2V5XTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH07CgogICAgICAgIC8vIEludGVyY2VwdCB0aGUgZ2l2ZW4gcHJvcGVydHkgb24gYW55IG9iamVjdAogICAgICAgIC8vIFRoZSBhc3NpZ25lZCBhdHRyaWJ1dGUgdmFsdWUgYW5kIHRoZSBjb250ZXh0IChlbmNsb3Npbmcgb2JqZWN0KSBhcmUgcGFzc2VkIHRvIHRoZSBvblNldCBmdW5jdGlvbi4KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgcHJvcCwgewogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIGlzT2JqZWN0KHZhbHVlKSA/IG9uU2V0KHRoaXMsIHZhbHVlKSA6IHZhbHVlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHRoaXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gSW50ZXJjZXB0LCBpbnNwZWN0IGFuZCBtb2RpZnkgSlNPTi1iYXNlZCBjb21tdW5pY2F0aW9uIHRvIHVubG9jayBwbGF5ZXIgcmVzcG9uc2VzIGJ5IGhpamFja2luZyB0aGUgSlNPTi5wYXJzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gYXR0YWNoJDIob25Kc29uRGF0YVJlY2VpdmVkKSB7CiAgICAgICAgd2luZG93LkpTT04ucGFyc2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5hdGl2ZUpTT05QYXJzZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICByZXR1cm4gaXNPYmplY3QoZGF0YSkgPyBvbkpzb25EYXRhUmVjZWl2ZWQoZGF0YSkgOiBkYXRhOwogICAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gYXR0YWNoJDEob25SZXF1ZXN0Q3JlYXRlKSB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuUmVxdWVzdCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cuUmVxdWVzdCA9IG5ldyBQcm94eSh3aW5kb3cuUmVxdWVzdCwgewogICAgICAgICAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBbdXJsLCBvcHRpb25zXSA9IGFyZ3M7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFVybCA9IHBhcnNlUmVsYXRpdmVVcmwodXJsKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZFVybCA9IG9uUmVxdWVzdENyZWF0ZShwYXJzZWRVcmwsIG9wdGlvbnMpOwoKICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZWRVcmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IG1vZGlmaWVkVXJsLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyLCBgRmFpbGVkIHRvIGludGVyY2VwdCBSZXF1ZXN0KClgKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoLi4uYXJndW1lbnRzKTsKICAgICAgICAgICAgfSwKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhdHRhY2gob25YaHJPcGVuQ2FsbGVkKSB7CiAgICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IHBhcnNlZFVybCA9IHBhcnNlUmVsYXRpdmVVcmwodXJsKTsKCiAgICAgICAgICAgICAgICBpZiAocGFyc2VkVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRVcmwgPSBvblhock9wZW5DYWxsZWQobWV0aG9kLCBwYXJzZWRVcmwsIHRoaXMpOwoKICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZpZWRVcmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzFdID0gbW9kaWZpZWRVcmwudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgZXJyb3IoZXJyLCBgRmFpbGVkIHRvIGludGVyY2VwdCBYTUxIdHRwUmVxdWVzdC5vcGVuKClgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmF0aXZlWE1MSHR0cFJlcXVlc3RPcGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgIH0KCiAgICBjb25zdCBsb2NhbFN0b3JhZ2VQcmVmaXggPSAnU1lBUkJfJzsKCiAgICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZVByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlUHJlZml4ICsga2V5KSk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRQbGF5ZXIkMShwYXlsb2FkLCB1c2VBdXRoKSB7CiAgICAgICAgcmV0dXJuIHNlbmRJbm5lcnR1YmVSZXF1ZXN0KCd2MS9wbGF5ZXInLCBwYXlsb2FkLCB1c2VBdXRoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXROZXh0JDEocGF5bG9hZCwgdXNlQXV0aCkgewogICAgICAgIHJldHVybiBzZW5kSW5uZXJ0dWJlUmVxdWVzdCgndjEvbmV4dCcsIHBheWxvYWQsIHVzZUF1dGgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbmRJbm5lcnR1YmVSZXF1ZXN0KGVuZHBvaW50LCBwYXlsb2FkLCB1c2VBdXRoKSB7CiAgICAgICAgY29uc3QgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhtbGh0dHAub3BlbignUE9TVCcsIGAveW91dHViZWkvJHtlbmRwb2ludH0/a2V5PSR7Z2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0FQSV9LRVknKX0mcHJldHR5UHJpbnQ9ZmFsc2VgLCBmYWxzZSk7CgogICAgICAgIGlmICh1c2VBdXRoICYmIGlzVXNlckxvZ2dlZEluKCkpIHsKICAgICAgICAgICAgeG1saHR0cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICBDb25maWcuR09PR0xFX0FVVEhfSEVBREVSX05BTUVTLmZvckVhY2goKGhlYWRlck5hbWUpID0+IHsKICAgICAgICAgICAgICAgIHhtbGh0dHAuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lLCBnZXQoaGVhZGVyTmFtZSkpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHhtbGh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CiAgICAgICAgcmV0dXJuIG5hdGl2ZUpTT05QYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7CiAgICB9CgogICAgdmFyIGlubmVydHViZSA9IHsKICAgICAgICBnZXRQbGF5ZXI6IGdldFBsYXllciQxLAogICAgICAgIGdldE5leHQ6IGdldE5leHQkMSwKICAgIH07CgogICAgbGV0IG5leHRSZXNwb25zZUNhY2hlID0ge307CgogICAgZnVuY3Rpb24gZ2V0R29vZ2xlVmlkZW9Vcmwob3JpZ2luYWxVcmwpIHsKICAgICAgICByZXR1cm4gQ29uZmlnLlZJREVPX1BST1hZX1NFUlZFUl9IT1NUICsgJy9kaXJlY3QvJyArIGJ0b2Eob3JpZ2luYWxVcmwudG9TdHJpbmcoKSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxheWVyKHBheWxvYWQpIHsKICAgICAgICAvLyBBbHNvIHJlcXVlc3QgdGhlIC9uZXh0IHJlc3BvbnNlIGlmIGEgbGF0ZXIgL25leHQgcmVxdWVzdCBpcyBsaWtlbHkuCiAgICAgICAgaWYgKCFuZXh0UmVzcG9uc2VDYWNoZVtwYXlsb2FkLnZpZGVvSWRdICYmICFpc011c2ljICYmICFpc0VtYmVkKSB7CiAgICAgICAgICAgIHBheWxvYWQuaW5jbHVkZU5leHQgPSAxOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KCdnZXRQbGF5ZXInLCBwYXlsb2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXROZXh0KHBheWxvYWQpIHsKICAgICAgICAvLyBOZXh0IHJlc3BvbnNlIGFscmVhZHkgY2FjaGVkPyA9PiBSZXR1cm4gY2FjaGVkIGNvbnRlbnQKICAgICAgICBpZiAobmV4dFJlc3BvbnNlQ2FjaGVbcGF5bG9hZC52aWRlb0lkXSkgewogICAgICAgICAgICByZXR1cm4gbmV4dFJlc3BvbnNlQ2FjaGVbcGF5bG9hZC52aWRlb0lkXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzZW5kUmVxdWVzdCgnZ2V0TmV4dCcsIHBheWxvYWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGVuZHBvaW50LCBwYXlsb2FkKSB7CiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBheWxvYWQpOwogICAgICAgIGNvbnN0IHByb3h5VXJsID0gYCR7Q29uZmlnLkFDQ09VTlRfUFJPWFlfU0VSVkVSX0hPU1R9LyR7ZW5kcG9pbnR9PyR7cXVlcnlQYXJhbXN9JmNsaWVudD1qc2A7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeG1saHR0cC5vcGVuKCdHRVQnLCBwcm94eVVybCwgZmFsc2UpOwogICAgICAgICAgICB4bWxodHRwLnNlbmQobnVsbCk7CgogICAgICAgICAgICBjb25zdCBwcm94eVJlc3BvbnNlID0gbmF0aXZlSlNPTlBhcnNlKHhtbGh0dHAucmVzcG9uc2VUZXh0KTsKCiAgICAgICAgICAgIC8vIE1hcmsgcmVxdWVzdCBhcyAncHJveGllZCcKICAgICAgICAgICAgcHJveHlSZXNwb25zZS5wcm94aWVkID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vIFB1dCBpbmNsdWRlZCAvbmV4dCByZXNwb25zZSBpbiB0aGUgY2FjaGUKICAgICAgICAgICAgaWYgKHByb3h5UmVzcG9uc2UubmV4dFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBuZXh0UmVzcG9uc2VDYWNoZVtwYXlsb2FkLnZpZGVvSWRdID0gcHJveHlSZXNwb25zZS5uZXh0UmVzcG9uc2U7CiAgICAgICAgICAgICAgICBkZWxldGUgcHJveHlSZXNwb25zZS5uZXh0UmVzcG9uc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBwcm94eVJlc3BvbnNlOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBlcnJvcihlcnIsICdQcm94eSBBUEkgRXJyb3InKTsKICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JNZXNzYWdlOiAnUHJveHkgQ29ubmVjdGlvbiBmYWlsZWQnIH07CiAgICAgICAgfQogICAgfQoKICAgIHZhciBwcm94eSA9IHsKICAgICAgICBnZXRQbGF5ZXIsCiAgICAgICAgZ2V0TmV4dCwKICAgICAgICBnZXRHb29nbGVWaWRlb1VybCwKICAgIH07CgogICAgZnVuY3Rpb24gZ2V0VW5sb2NrU3RyYXRlZ2llcyQxKHZpZGVvSWQsIGxhc3RQbGF5ZXJVbmxvY2tSZWFzb24pIHsKICAgICAgICB2YXIgX2dldFl0Y2ZnVmFsdWUkY2xpZW50OwogICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBnZXRZdGNmZ1ZhbHVlKCdJTk5FUlRVQkVfQ0xJRU5UX05BTUUnKSB8fCAnV0VCJzsKICAgICAgICBjb25zdCBjbGllbnRWZXJzaW9uID0gZ2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9WRVJTSU9OJykgfHwgJzIuMjAyMjAyMDMuMDQuMDAnOwogICAgICAgIGNvbnN0IGhsID0gZ2V0WXRjZmdWYWx1ZSgnSEwnKTsKICAgICAgICBjb25zdCB1c2VySW50ZXJmYWNlVGhlbWUgPSAoX2dldFl0Y2ZnVmFsdWUkY2xpZW50ID0gZ2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NPTlRFWFQnKS5jbGllbnQudXNlckludGVyZmFjZVRoZW1lKSAhPT0gbnVsbCAmJiBfZ2V0WXRjZmdWYWx1ZSRjbGllbnQgIT09IHZvaWQgMAogICAgICAgICAgICA/IF9nZXRZdGNmZ1ZhbHVlJGNsaWVudAogICAgICAgICAgICA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhcmsnKQogICAgICAgICAgICA/ICdVU0VSX0lOVEVSRkFDRV9USEVNRV9EQVJLJwogICAgICAgICAgICA6ICdVU0VSX0lOVEVSRkFDRV9USEVNRV9MSUdIVCc7CgogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgc2lkZWJhciBhbmQgdmlkZW8gZGVzY3JpcHRpb24gYnkganVzdCBhZGRpbmcgYHJhY3lDaGVja09rYCBhbmQgYGNvbnRlbnRDaGVja09rYCBwYXJhbXMKICAgICAgICAgICAgICogVGhpcyBzdHJhdGVneSBjYW4gYmUgdXNlZCB0byBieXBhc3MgY29udGVudCB3YXJuaW5ncwogICAgICAgICAgICAgKi8KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ0NvbnRlbnQgV2FybmluZyBCeXBhc3MnLAogICAgICAgICAgICAgICAgc2tpcDogIWxhc3RQbGF5ZXJVbmxvY2tSZWFzb24gfHwgIWxhc3RQbGF5ZXJVbmxvY2tSZWFzb24uaW5jbHVkZXMoJ0NIRUNLX1JFUVVJUkVEJyksCiAgICAgICAgICAgICAgICBvcHRpb25hbEF1dGg6IHRydWUsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWZXJzaW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlVGhlbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHJhY3lDaGVja09rOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRDaGVja09rOiB0cnVlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVuZHBvaW50OiBpbm5lcnR1YmUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgc2lkZWJhciBhbmQgdmlkZW8gZGVzY3JpcHRpb24gZnJvbSBhbiBhY2NvdW50IHByb3h5IHNlcnZlci4KICAgICAgICAgICAgICogU2Vzc2lvbiBjb29raWVzIG9mIGFuIGFnZS12ZXJpZmllZCBHb29nbGUgYWNjb3VudCBhcmUgc3RvcmVkIG9uIHNlcnZlciBzaWRlLgogICAgICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MvdHJlZS9tYWluL2FjY291bnQtcHJveHkKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdBY2NvdW50IFByb3h5JywKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIGNsaWVudE5hbWUsCiAgICAgICAgICAgICAgICAgICAgY2xpZW50VmVyc2lvbiwKICAgICAgICAgICAgICAgICAgICBobCwKICAgICAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlVGhlbWUsCiAgICAgICAgICAgICAgICAgICAgaXNFbWJlZDogK2lzRW1iZWQsCiAgICAgICAgICAgICAgICAgICAgaXNDb25maXJtZWQ6ICtpc0NvbmZpcm1lZCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmRwb2ludDogcHJveHksCiAgICAgICAgICAgIH0sCiAgICAgICAgXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVbmxvY2tTdHJhdGVnaWVzKHZpZGVvSWQsIHJlYXNvbikgewogICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBnZXRZdGNmZ1ZhbHVlKCdJTk5FUlRVQkVfQ0xJRU5UX05BTUUnKSB8fCAnV0VCJzsKICAgICAgICBjb25zdCBjbGllbnRWZXJzaW9uID0gZ2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9WRVJTSU9OJykgfHwgJzIuMjAyMjAyMDMuMDQuMDAnOwogICAgICAgIGNvbnN0IHNpZ25hdHVyZVRpbWVzdGFtcCA9IGdldFNpZ25hdHVyZVRpbWVzdGFtcCgpOwogICAgICAgIGNvbnN0IHN0YXJ0VGltZVNlY3MgPSBnZXRDdXJyZW50VmlkZW9TdGFydFRpbWUodmlkZW9JZCk7CiAgICAgICAgY29uc3QgaGwgPSBnZXRZdGNmZ1ZhbHVlKCdITCcpOwoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIHZpZGVvIGluZm8gYnkganVzdCBhZGRpbmcgYHJhY3lDaGVja09rYCBhbmQgYGNvbnRlbnRDaGVja09rYCBwYXJhbXMKICAgICAgICAgICAgICogVGhpcyBzdHJhdGVneSBjYW4gYmUgdXNlZCB0byBieXBhc3MgY29udGVudCB3YXJuaW5ncwogICAgICAgICAgICAgKi8KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ0NvbnRlbnQgV2FybmluZyBCeXBhc3MnLAogICAgICAgICAgICAgICAgc2tpcDogIXJlYXNvbiB8fCAhcmVhc29uLmluY2x1ZGVzKCdDSEVDS19SRVFVSVJFRCcpLAogICAgICAgICAgICAgICAgb3B0aW9uYWxBdXRoOiB0cnVlLAogICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lOiBjbGllbnROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmVyc2lvbjogY2xpZW50VmVyc2lvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGxheWJhY2tDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQbGF5YmFja0NvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lU2VjcywKICAgICAgICAgICAgICAgICAgICByYWN5Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb250ZW50Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmRwb2ludDogaW5uZXJ0dWJlLAogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIHZpZGVvIGluZm8gYnkgdXNpbmcgdGhlIFRWSFRNTDUgRW1iZWRkZWQgY2xpZW50CiAgICAgICAgICAgICAqIFRoaXMgY2xpZW50IGhhcyBubyBhZ2UgcmVzdHJpY3Rpb25zIGluIHBsYWNlICgyMDIyLTAzLTI4KQogICAgICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1lvdVR1YmUtSW50ZXJuYWwtQ2xpZW50cwogICAgICAgICAgICAgKi8KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ1RWIEVtYmVkZGVkIFBsYXllcicsCiAgICAgICAgICAgICAgICByZXF1aXJlc0F1dGg6IGZhbHNlLAogICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lOiAnVFZIVE1MNV9TSU1QTFlfRU1CRURERURfUExBWUVSJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb246ICcyLjAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50U2NyZWVuOiAnV0FUQ0gnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGwsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXJkUGFydHk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkVXJsOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vJywKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBsYXliYWNrQ29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UGxheWJhY2tDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUaW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZVNlY3MsCiAgICAgICAgICAgICAgICAgICAgcmFjeUNoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgY29udGVudENoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5kcG9pbnQ6IGlubmVydHViZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFJldHJpZXZlIHRoZSB2aWRlbyBpbmZvIGJ5IHVzaW5nIHRoZSBXRUJfQ1JFQVRPUiBjbGllbnQgaW4gY29tYmluYXRpb24gd2l0aCB1c2VyIGF1dGhlbnRpY2F0aW9uCiAgICAgICAgICAgICAqIFJlcXVpcmVzIHRoYXQgdGhlIHVzZXIgaXMgbG9nZ2VkIGluLiBDYW4gYnlwYXNzIHRoZSB0aWdodGVuZWQgYWdlIHZlcmlmaWNhdGlvbiBpbiB0aGUgRVUuCiAgICAgICAgICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20veXQtZGxwL3l0LWRscC9wdWxsLzYwMAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogJ0NyZWF0b3IgKyBBdXRoJywKICAgICAgICAgICAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZTogJ1dFQl9DUkVBVE9SJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb246ICcxLjIwMjEwOTA5LjA3LjAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGxheWJhY2tDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQbGF5YmFja0NvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lU2VjcywKICAgICAgICAgICAgICAgICAgICByYWN5Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb250ZW50Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmRwb2ludDogaW5uZXJ0dWJlLAogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIHZpZGVvIGluZm8gZnJvbSBhbiBhY2NvdW50IHByb3h5IHNlcnZlci4KICAgICAgICAgICAgICogU2Vzc2lvbiBjb29raWVzIG9mIGFuIGFnZS12ZXJpZmllZCBHb29nbGUgYWNjb3VudCBhcmUgc3RvcmVkIG9uIHNlcnZlciBzaWRlLgogICAgICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MvdHJlZS9tYWluL2FjY291bnQtcHJveHkKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdBY2NvdW50IFByb3h5JywKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHJlYXNvbiwKICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lLAogICAgICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb24sCiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZVNlY3MsCiAgICAgICAgICAgICAgICAgICAgaGwsCiAgICAgICAgICAgICAgICAgICAgaXNFbWJlZDogK2lzRW1iZWQsCiAgICAgICAgICAgICAgICAgICAgaXNDb25maXJtZWQ6ICtpc0NvbmZpcm1lZCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmRwb2ludDogcHJveHksCiAgICAgICAgICAgIH0sCiAgICAgICAgXTsKICAgIH0KCiAgICB2YXIgYnV0dG9uVGVtcGxhdGUgPQogICAgICAgICc8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4ICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDNweCAxMHB4IDNweCAxMHB4OyBtYXJnaW46IDBweCBhdXRvOyBiYWNrZ3JvdW5kLWNvbG9yOiAjNGQ0ZDRkOyB3aWR0aDogZml0LWNvbnRlbnQ7IGZvbnQtc2l6ZTogMS4yZW07IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGJvcmRlci1yYWRpdXM6IDNweDsgY3Vyc29yOiBwb2ludGVyOyI+XG4gICAgPGRpdiBjbGFzcz0iYnV0dG9uLXRleHQiPjwvZGl2PlxuPC9kaXY+JzsKCiAgICBsZXQgYnV0dG9ucyA9IHt9OwoKICAgIGFzeW5jIGZ1bmN0aW9uIGFkZEJ1dHRvbihpZCwgdGV4dCwgYmFja2dyb3VuZENvbG9yLCBvbkNsaWNrKSB7CiAgICAgICAgY29uc3QgZXJyb3JTY3JlZW5FbGVtZW50ID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoJy55dHAtZXJyb3InLCAyMDAwKTsKICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzczogJ2J1dHRvbi1jb250YWluZXInLCBpbm5lckhUTUw6IGJ1dHRvblRlbXBsYXRlIH0pOwogICAgICAgIGJ1dHRvbkVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLXRleHQnKVswXS5pbm5lclRleHQgPSB0ZXh0OwoKICAgICAgICBpZiAoYmFja2dyb3VuZENvbG9yKSB7CiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQucXVlcnlTZWxlY3RvcignOnNjb3BlID4gZGl2Jykuc3R5bGVbJ2JhY2tncm91bmQtY29sb3InXSA9IGJhY2tncm91bmRDb2xvcjsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7CiAgICAgICAgfQoKICAgICAgICAvLyBCdXR0b24gYWxyZWFkeSBhdHRhY2hlZD8KICAgICAgICBpZiAoYnV0dG9uc1tpZF0gJiYgYnV0dG9uc1tpZF0uaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgYnV0dG9uc1tpZF0gPSBidXR0b25FbGVtZW50OwogICAgICAgIGVycm9yU2NyZWVuRWxlbWVudC5hcHBlbmQoYnV0dG9uRWxlbWVudCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQnV0dG9uKGlkKSB7CiAgICAgICAgaWYgKGJ1dHRvbnNbaWRdICYmIGJ1dHRvbnNbaWRdLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgICAgIGJ1dHRvbnNbaWRdLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0KCiAgICBjb25zdCBjb25maXJtYXRpb25CdXR0b25JZCA9ICdjb25maXJtQnV0dG9uJzsKICAgIGNvbnN0IGNvbmZpcm1hdGlvbkJ1dHRvblRleHQgPSAnQ2xpY2sgdG8gdW5sb2NrJzsKCiAgICBmdW5jdGlvbiBpc0NvbmZpcm1hdGlvblJlcXVpcmVkKCkgewogICAgICAgIHJldHVybiAhaXNDb25maXJtZWQgJiYgaXNFbWJlZCAmJiBDb25maWcuRU5BQkxFX1VOTE9DS19DT05GSVJNQVRJT05fRU1CRUQ7CiAgICB9CgogICAgZnVuY3Rpb24gcmVxdWVzdENvbmZpcm1hdGlvbigpIHsKICAgICAgICBhZGRCdXR0b24oY29uZmlybWF0aW9uQnV0dG9uSWQsIGNvbmZpcm1hdGlvbkJ1dHRvblRleHQsIG51bGwsICgpID0+IHsKICAgICAgICAgICAgcmVtb3ZlQnV0dG9uKGNvbmZpcm1hdGlvbkJ1dHRvbklkKTsKICAgICAgICAgICAgY29uZmlybSgpOwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbmZpcm0oKSB7CiAgICAgICAgc2V0VXJsUGFyYW1zKHsKICAgICAgICAgICAgdW5sb2NrX2NvbmZpcm1lZDogMSwKICAgICAgICAgICAgYXV0b3BsYXk6IDEsCiAgICAgICAgfSk7CiAgICB9CgogICAgdmFyIHREZXNrdG9wID0gJzx0cC15dC1wYXBlci10b2FzdD48L3RwLXl0LXBhcGVyLXRvYXN0PlxuJzsKCiAgICB2YXIgdE1vYmlsZSA9CiAgICAgICAgJzxjMy10b2FzdD5cbiAgICA8eXRtLW5vdGlmaWNhdGlvbi1hY3Rpb24tcmVuZGVyZXI+XG4gICAgICAgIDxkaXYgY2xhc3M9Im5vdGlmaWNhdGlvbi1hY3Rpb24tcmVzcG9uc2UtdGV4dCI+PC9kaXY+XG4gICAgPC95dG0tbm90aWZpY2F0aW9uLWFjdGlvbi1yZW5kZXJlcj5cbjwvYzMtdG9hc3Q+XG4nOwoKICAgIGNvbnN0IHRlbXBsYXRlID0gaXNEZXNrdG9wID8gdERlc2t0b3AgOiB0TW9iaWxlOwoKICAgIGNvbnN0IG5Ub2FzdENvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgaWQ6ICd0b2FzdC1jb250YWluZXInLCBpbm5lckhUTUw6IHRlbXBsYXRlIH0pOwogICAgY29uc3QgblRvYXN0ID0gblRvYXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IConKTsKCiAgICAvLyBPbiBZVCBNdXNpYyBzaG93IHRoZSB0b2FzdCBhYm92ZSB0aGUgcGxheWVyIGNvbnRyb2xzCiAgICBpZiAoaXNNdXNpYykgewogICAgICAgIG5Ub2FzdC5zdHlsZVsnbWFyZ2luLWJvdHRvbSddID0gJzg1cHgnOwogICAgfQoKICAgIGlmICghaXNEZXNrdG9wKSB7CiAgICAgICAgblRvYXN0Lm5NZXNzYWdlID0gblRvYXN0LnF1ZXJ5U2VsZWN0b3IoJy5ub3RpZmljYXRpb24tYWN0aW9uLXJlc3BvbnNlLXRleHQnKTsKICAgICAgICBuVG9hc3Quc2hvdyA9IChtZXNzYWdlKSA9PiB7CiAgICAgICAgICAgIG5Ub2FzdC5uTWVzc2FnZS5pbm5lclRleHQgPSBtZXNzYWdlOwogICAgICAgICAgICBuVG9hc3Quc2V0QXR0cmlidXRlKCdkaXInLCAnaW4nKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBuVG9hc3Quc2V0QXR0cmlidXRlKCdkaXInLCAnb3V0Jyk7CiAgICAgICAgICAgIH0sIG5Ub2FzdC5kdXJhdGlvbiArIDIyNSk7CiAgICAgICAgfTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHsKICAgICAgICBsZXQgZHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDU7CiAgICAgICAgaWYgKCFDb25maWcuRU5BQkxFX1VOTE9DS19OT1RJRklDQVRJT04pIHJldHVybjsKICAgICAgICBpZiAoaXNFbWJlZCkgcmV0dXJuOwoKICAgICAgICBhd2FpdCBwYWdlTG9hZGVkKCk7CgogICAgICAgIC8vIERvIG5vdCBzaG93IG5vdGlmaWNhdGlvbiB3aGVuIHRhYiBpcyBpbiBiYWNrZ3JvdW5kCiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHJldHVybjsKCiAgICAgICAgLy8gQXBwZW5kIHRvYXN0IGNvbnRhaW5lciB0byBET00sIGlmIG5vdCBhbHJlYWR5IGRvbmUKICAgICAgICBpZiAoIW5Ub2FzdENvbnRhaW5lci5pc0Nvbm5lY3RlZCkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZChuVG9hc3RDb250YWluZXIpOwoKICAgICAgICBuVG9hc3QuZHVyYXRpb24gPSBkdXJhdGlvbiAqIDEwMDA7CiAgICAgICAgblRvYXN0LnNob3cobWVzc2FnZSk7CiAgICB9CgogICAgdmFyIFRvYXN0ID0geyBzaG93IH07CgogICAgY29uc3QgbWVzc2FnZXNNYXAgPSB7CiAgICAgICAgc3VjY2VzczogJ0FnZS1yZXN0cmljdGVkIHZpZGVvIHN1Y2Nlc3NmdWxseSB1bmxvY2tlZCEnLAogICAgICAgIGZhaWw6ICdVbmFibGUgdG8gdW5sb2NrIHRoaXMgdmlkZW8g8J+ZgSAtIE1vcmUgaW5mb3JtYXRpb24gaW4gdGhlIGRldmVsb3BlciBjb25zb2xlJywKICAgIH07CgogICAgbGV0IGxhc3RQbGF5ZXJVbmxvY2tWaWRlb0lkID0gbnVsbDsKICAgIGxldCBsYXN0UGxheWVyVW5sb2NrUmVhc29uID0gbnVsbDsKCiAgICBsZXQgbGFzdFByb3hpZWRHb29nbGVWaWRlb1VybFBhcmFtczsKICAgIGxldCBjYWNoZWRQbGF5ZXJSZXNwb25zZSA9IHt9OwoKICAgIGZ1bmN0aW9uIGdldExhc3RQcm94aWVkR29vZ2xlVmlkZW9JZCgpIHsKICAgICAgICB2YXIgX2xhc3RQcm94aWVkR29vZ2xlVmlkOwogICAgICAgIHJldHVybiAoX2xhc3RQcm94aWVkR29vZ2xlVmlkID0gbGFzdFByb3hpZWRHb29nbGVWaWRlb1VybFBhcmFtcykgPT09IG51bGwgfHwgX2xhc3RQcm94aWVkR29vZ2xlVmlkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbGFzdFByb3hpZWRHb29nbGVWaWQuZ2V0KCdpZCcpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVubG9ja1Jlc3BvbnNlJDEocGxheWVyUmVzcG9uc2UpIHsKICAgICAgICB2YXIgX3BsYXllclJlc3BvbnNlJHZpZGVvLCBfcGxheWVyUmVzcG9uc2UkcGxheWEsIF9wbGF5ZXJSZXNwb25zZSRwcmV2aSwgX3VubG9ja2VkUGxheWVyUmVzcG9uLCBfdW5sb2NrZWRQbGF5ZXJSZXNwb24zOwogICAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIGhhcyB0byBjb25maXJtIHRoZSB1bmxvY2sgZmlyc3QKICAgICAgICBpZiAoaXNDb25maXJtYXRpb25SZXF1aXJlZCgpKSB7CiAgICAgICAgICAgIGluZm8oJ1VubG9jayBjb25maXJtYXRpb24gcmVxdWlyZWQuJyk7CiAgICAgICAgICAgIHJlcXVlc3RDb25maXJtYXRpb24oKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmlkZW9JZCA9ICgoX3BsYXllclJlc3BvbnNlJHZpZGVvID0gcGxheWVyUmVzcG9uc2UudmlkZW9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfcGxheWVyUmVzcG9uc2UkdmlkZW8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5ZXJSZXNwb25zZSR2aWRlby52aWRlb0lkKQogICAgICAgICAgICB8fCBnZXRZdGNmZ1ZhbHVlKCdQTEFZRVJfVkFSUycpLnZpZGVvX2lkOwogICAgICAgIGNvbnN0IHJlYXNvbiA9ICgoX3BsYXllclJlc3BvbnNlJHBsYXlhID0gcGxheWVyUmVzcG9uc2UucGxheWFiaWxpdHlTdGF0dXMpID09PSBudWxsIHx8IF9wbGF5ZXJSZXNwb25zZSRwbGF5YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXllclJlc3BvbnNlJHBsYXlhLnN0YXR1cykKICAgICAgICAgICAgfHwgKChfcGxheWVyUmVzcG9uc2UkcHJldmkgPSBwbGF5ZXJSZXNwb25zZS5wcmV2aWV3UGxheWFiaWxpdHlTdGF0dXMpID09PSBudWxsIHx8IF9wbGF5ZXJSZXNwb25zZSRwcmV2aSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXllclJlc3BvbnNlJHByZXZpLnN0YXR1cyk7CgogICAgICAgIGlmICghQ29uZmlnLlNLSVBfQ09OVEVOVF9XQVJOSU5HUyAmJiByZWFzb24uaW5jbHVkZXMoJ0NIRUNLX1JFUVVJUkVEJykpIHsKICAgICAgICAgICAgaW5mbyhgU0tJUF9DT05URU5UX1dBUk5JTkdTIGRpc2FibGVkIGFuZCAke3JlYXNvbn0gc3RhdHVzIGRldGVjdGVkLmApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBsYXN0UGxheWVyVW5sb2NrVmlkZW9JZCA9IHZpZGVvSWQ7CiAgICAgICAgbGFzdFBsYXllclVubG9ja1JlYXNvbiA9IHJlYXNvbjsKCiAgICAgICAgY29uc3QgdW5sb2NrZWRQbGF5ZXJSZXNwb25zZSA9IGdldFVubG9ja2VkUGxheWVyUmVzcG9uc2UodmlkZW9JZCwgcmVhc29uKTsKCiAgICAgICAgLy8gYWNjb3VudCBwcm94eSBlcnJvcj8KICAgICAgICBpZiAodW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5lcnJvck1lc3NhZ2UpIHsKICAgICAgICAgICAgVG9hc3Quc2hvdyhgJHttZXNzYWdlc01hcC5mYWlsfSAoUHJveHlFcnJvcilgLCAxMCk7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGxheWVyIFVubG9jayBGYWlsZWQsIFByb3h5IEVycm9yIE1lc3NhZ2U6ICR7dW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5lcnJvck1lc3NhZ2V9YCk7CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBpZiB0aGUgdW5sb2NrZWQgcmVzcG9uc2UgaXNuJ3QgcGxheWFibGUKICAgICAgICBpZiAoCiAgICAgICAgICAgICFDb25maWcuVkFMSURfUExBWUFCSUxJVFlfU1RBVFVTRVMuaW5jbHVkZXMoCiAgICAgICAgICAgICAgICAoX3VubG9ja2VkUGxheWVyUmVzcG9uID0gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5wbGF5YWJpbGl0eVN0YXR1cykgPT09IG51bGwgfHwgX3VubG9ja2VkUGxheWVyUmVzcG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdW5sb2NrZWRQbGF5ZXJSZXNwb24uc3RhdHVzLAogICAgICAgICAgICApCiAgICAgICAgKSB7CiAgICAgICAgICAgIHZhciBfdW5sb2NrZWRQbGF5ZXJSZXNwb24yOwogICAgICAgICAgICBUb2FzdC5zaG93KGAke21lc3NhZ2VzTWFwLmZhaWx9IChQbGF5YWJpbGl0eUVycm9yKWAsIDEwKTsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgICAgICAgICAgYFBsYXllciBVbmxvY2sgRmFpbGVkLCBwbGF5YWJpbGl0eVN0YXR1czogJHsKICAgICAgICAgICAgICAgICAgICAoX3VubG9ja2VkUGxheWVyUmVzcG9uMiA9IHVubG9ja2VkUGxheWVyUmVzcG9uc2UucGxheWFiaWxpdHlTdGF0dXMpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91bmxvY2tlZFBsYXllclJlc3BvbjIuc3RhdHVzCiAgICAgICAgICAgICAgICB9YCwKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIC8vIGlmIHRoZSB2aWRlbyBpbmZvIHdhcyByZXRyaWV2ZWQgdmlhIHByb3h5LCBzdG9yZSB0aGUgVVJMIHBhcmFtcyBmcm9tIHRoZSB1cmwtYXR0cmlidXRlIHRvIGRldGVjdCBsYXRlciBpZiB0aGUgcmVxdWVzdGVkIHZpZGVvIGZpbGUgKGdvb2dsZXZpZGVvLmNvbSkgbmVlZCBhIHByb3h5LgogICAgICAgIGlmICgKICAgICAgICAgICAgdW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5wcm94aWVkICYmIChfdW5sb2NrZWRQbGF5ZXJSZXNwb24zID0gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5zdHJlYW1pbmdEYXRhKSAhPT0gbnVsbCAmJiBfdW5sb2NrZWRQbGF5ZXJSZXNwb24zICE9PSB2b2lkIDAKICAgICAgICAgICAgJiYgX3VubG9ja2VkUGxheWVyUmVzcG9uMy5hZGFwdGl2ZUZvcm1hdHMKICAgICAgICApIHsKICAgICAgICAgICAgdmFyIF91bmxvY2tlZFBsYXllclJlc3BvbjQsIF91bmxvY2tlZFBsYXllclJlc3BvbjU7CiAgICAgICAgICAgIGNvbnN0IGNpcGhlclRleHQgPSAoX3VubG9ja2VkUGxheWVyUmVzcG9uNCA9IHVubG9ja2VkUGxheWVyUmVzcG9uc2Uuc3RyZWFtaW5nRGF0YS5hZGFwdGl2ZUZvcm1hdHMuZmluZCgoeCkgPT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2lnbmF0dXJlQ2lwaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICkpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbjQgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogX3VubG9ja2VkUGxheWVyUmVzcG9uNC5zaWduYXR1cmVDaXBoZXI7CiAgICAgICAgICAgIGNvbnN0IHZpZGVvVXJsID0gY2lwaGVyVGV4dAogICAgICAgICAgICAgICAgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKGNpcGhlclRleHQpLmdldCgndXJsJykKICAgICAgICAgICAgICAgIDogKF91bmxvY2tlZFBsYXllclJlc3BvbjUgPSB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuYWRhcHRpdmVGb3JtYXRzLmZpbmQoKHgpID0+IHgudXJsKSkgPT09IG51bGwgfHwgX3VubG9ja2VkUGxheWVyUmVzcG9uNSA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiBfdW5sb2NrZWRQbGF5ZXJSZXNwb241LnVybDsKCiAgICAgICAgICAgIGxhc3RQcm94aWVkR29vZ2xlVmlkZW9VcmxQYXJhbXMgPSB2aWRlb1VybCA/IG5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IHdpbmRvdy5VUkwodmlkZW9VcmwpLnNlYXJjaCkgOiBudWxsOwogICAgICAgIH0KCiAgICAgICAgLy8gT3ZlcndyaXRlIHRoZSBlbWJlZGRlZCAocHJldmlldykgcGxheWFiaWxpdHlTdGF0dXMgd2l0aCB0aGUgdW5sb2NrZWQgb25lCiAgICAgICAgaWYgKHBsYXllclJlc3BvbnNlLnByZXZpZXdQbGF5YWJpbGl0eVN0YXR1cykgewogICAgICAgICAgICBwbGF5ZXJSZXNwb25zZS5wcmV2aWV3UGxheWFiaWxpdHlTdGF0dXMgPSB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnBsYXlhYmlsaXR5U3RhdHVzOwogICAgICAgIH0KCiAgICAgICAgLy8gVHJhbnNmZXIgYWxsIHVubG9ja2VkIHByb3BlcnRpZXMgdG8gdGhlIG9yaWdpbmFsIHBsYXllciByZXNwb25zZQogICAgICAgIE9iamVjdC5hc3NpZ24ocGxheWVyUmVzcG9uc2UsIHVubG9ja2VkUGxheWVyUmVzcG9uc2UpOwoKICAgICAgICBwbGF5ZXJSZXNwb25zZS51bmxvY2tlZCA9IHRydWU7CgogICAgICAgIFRvYXN0LnNob3cobWVzc2FnZXNNYXAuc3VjY2Vzcyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VW5sb2NrZWRQbGF5ZXJSZXNwb25zZSh2aWRlb0lkLCByZWFzb24pIHsKICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBjYWNoZWQKICAgICAgICBpZiAoY2FjaGVkUGxheWVyUmVzcG9uc2UudmlkZW9JZCA9PT0gdmlkZW9JZCkgcmV0dXJuIGNyZWF0ZURlZXBDb3B5KGNhY2hlZFBsYXllclJlc3BvbnNlKTsKCiAgICAgICAgY29uc3QgdW5sb2NrU3RyYXRlZ2llcyA9IGdldFVubG9ja1N0cmF0ZWdpZXModmlkZW9JZCwgcmVhc29uKTsKCiAgICAgICAgbGV0IHVubG9ja2VkUGxheWVyUmVzcG9uc2UgPSB7fTsKCiAgICAgICAgLy8gVHJ5IGV2ZXJ5IHN0cmF0ZWd5IHVudGlsIG9uZSBvZiB0aGVtIHdvcmtzCiAgICAgICAgdW5sb2NrU3RyYXRlZ2llcy5ldmVyeSgoc3RyYXRlZ3ksIGluZGV4KSA9PiB7CiAgICAgICAgICAgIHZhciBfdW5sb2NrZWRQbGF5ZXJSZXNwb242LCBfdW5sb2NrZWRQbGF5ZXJSZXNwb243OwogICAgICAgICAgICAvLyBTa2lwIHN0cmF0ZWd5IGlmIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBub3QgbG9nZ2VkIGluCiAgICAgICAgICAgIGlmIChzdHJhdGVneS5za2lwIHx8IHN0cmF0ZWd5LnJlcXVpcmVzQXV0aCAmJiAhaXNVc2VyTG9nZ2VkSW4oKSkgcmV0dXJuIHRydWU7CgogICAgICAgICAgICBpbmZvKGBUcnlpbmcgUGxheWVyIFVubG9jayBNZXRob2QgIyR7aW5kZXggKyAxfSAoJHtzdHJhdGVneS5uYW1lfSlgKTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB1bmxvY2tlZFBsYXllclJlc3BvbnNlID0gc3RyYXRlZ3kuZW5kcG9pbnQuZ2V0UGxheWVyKHN0cmF0ZWd5LnBheWxvYWQsIHN0cmF0ZWd5LnJlcXVpcmVzQXV0aCB8fCBzdHJhdGVneS5vcHRpb25hbEF1dGgpOwogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGVycm9yKGVyciwgYFBsYXllciBVbmxvY2sgTWV0aG9kICR7aW5kZXggKyAxfSBmYWlsZWQgd2l0aCBleGNlcHRpb25gKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgaXNTdGF0dXNWYWxpZCA9IENvbmZpZy5WQUxJRF9QTEFZQUJJTElUWV9TVEFUVVNFUy5pbmNsdWRlcygKICAgICAgICAgICAgICAgIChfdW5sb2NrZWRQbGF5ZXJSZXNwb242ID0gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZSkgPT09IG51bGwgfHwgX3VubG9ja2VkUGxheWVyUmVzcG9uNiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfdW5sb2NrZWRQbGF5ZXJSZXNwb243ID0gX3VubG9ja2VkUGxheWVyUmVzcG9uNi5wbGF5YWJpbGl0eVN0YXR1cykgPT09IG51bGwgfHwgX3VubG9ja2VkUGxheWVyUmVzcG9uNyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IF91bmxvY2tlZFBsYXllclJlc3Bvbjcuc3RhdHVzLAogICAgICAgICAgICApOwoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFdvcmthcm91bmQ6IGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL2lzc3Vlcy8xOTEKICAgICAgICAgICAgICoKICAgICAgICAgICAgICogWW91VHViZSBjaGVja3MgaWYgdGhlIGB0cmFja2luZ1BhcmFtc2AgaW4gdGhlIHJlc3BvbnNlIG1hdGNoZXMgdGhlIGRlY29kZWQgYHRyYWNraW5nUGFyYW1gIGluIGByZXNwb25zZUNvbnRleHQubWFpbkFwcFdlYlJlc3BvbnNlQ29udGV4dGAuCiAgICAgICAgICAgICAqIEhvd2V2ZXIsIHRoZSBgVFYgRW1iZWRkZWQgUGxheWVyYCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBgdHJhY2tpbmdQYXJhbWAgaW4gdGhlIGByZXNwb25zZUNvbnRleHRgLCBjYXVzaW5nIHRoZSBjaGVjayB0byBmYWlsLgogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBUaGlzIHdvcmthcm91bmQgYWRkcmVzc2VzIHRoZSBpc3N1ZSBieSBoYXJkY29kaW5nIHRoZSBgdHJhY2tpbmdQYXJhbXNgIGluIHRoZSBgVFYgRW1iZWRkZWQgUGxheWVyYCBjb250ZXh0LgogICAgICAgICAgICAgKi8KICAgICAgICAgICAgaWYgKGlzU3RhdHVzVmFsaWQgJiYgc3RyYXRlZ3kubmFtZSA9PT0gJ1RWIEVtYmVkZGVkIFBsYXllcicpIHsKICAgICAgICAgICAgICAgIHVubG9ja2VkUGxheWVyUmVzcG9uc2UudHJhY2tpbmdQYXJhbXMgPSAnQ0FBUXUya2lFd2pvcjh1SHlPTF9BaFdPdmQ0S0hhdlhDS3c9JzsKICAgICAgICAgICAgICAgIHVubG9ja2VkUGxheWVyUmVzcG9uc2UucmVzcG9uc2VDb250ZXh0ID0gewogICAgICAgICAgICAgICAgICAgIG1haW5BcHBXZWJSZXNwb25zZUNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdQYXJhbTogJ2t4X2ZtUHhob1BaUnpnTDhrek93QU5VZFFoOFp3SFRSRWt3MlVxbUJBd3BCWXJ6UmdrdU1zTkxCd09jQ0U1OVREdHNsTEtQUS1TUycsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAhaXNTdGF0dXNWYWxpZDsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQ2FjaGUgcmVzcG9uc2UgdG8gcHJldmVudCBhIGZsb29kIG9mIHJlcXVlc3RzIGluIGNhc2UgeW91dHViZSBwcm9jZXNzZXMgYSBibG9ja2VkIHJlc3BvbnNlIG11dGlwbGUgdGltZXMuCiAgICAgICAgY2FjaGVkUGxheWVyUmVzcG9uc2UgPSB7IHZpZGVvSWQsIC4uLmNyZWF0ZURlZXBDb3B5KHVubG9ja2VkUGxheWVyUmVzcG9uc2UpIH07CgogICAgICAgIHJldHVybiB1bmxvY2tlZFBsYXllclJlc3BvbnNlOwogICAgfQoKICAgIGxldCBjYWNoZWROZXh0UmVzcG9uc2UgPSB7fTsKCiAgICBmdW5jdGlvbiB1bmxvY2tSZXNwb25zZShvcmlnaW5hbE5leHRSZXNwb25zZSkgewogICAgICAgIGNvbnN0IHZpZGVvSWQgPSBvcmlnaW5hbE5leHRSZXNwb25zZS5jdXJyZW50VmlkZW9FbmRwb2ludC53YXRjaEVuZHBvaW50LnZpZGVvSWQ7CgogICAgICAgIGlmICghdmlkZW9JZCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgdmlkZW9JZCBpbiBuZXh0UmVzcG9uc2VgKTsKICAgICAgICB9CgogICAgICAgIC8vIE9ubHkgdW5sb2NrIHRoZSAvbmV4dCByZXNwb25zZSB3aGVuIHRoZSBwbGF5ZXIgaGFzIGJlZW4gdW5sb2NrZWQgYXMgd2VsbAogICAgICAgIGlmICh2aWRlb0lkICE9PSBsYXN0UGxheWVyVW5sb2NrVmlkZW9JZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCB1bmxvY2tlZE5leHRSZXNwb25zZSA9IGdldFVubG9ja2VkTmV4dFJlc3BvbnNlKHZpZGVvSWQpOwoKICAgICAgICAvLyBjaGVjayBpZiB0aGUgc2lkZWJhciBvZiB0aGUgdW5sb2NrZWQgcmVzcG9uc2UgaXMgc3RpbGwgZW1wdHkKICAgICAgICBpZiAoaXNXYXRjaE5leHRTaWRlYmFyRW1wdHkodW5sb2NrZWROZXh0UmVzcG9uc2UpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2lkZWJhciBVbmxvY2sgRmFpbGVkYCk7CiAgICAgICAgfQoKICAgICAgICAvLyBUcmFuc2ZlciBzb21lIHBhcnRzIG9mIHRoZSB1bmxvY2tlZCByZXNwb25zZSB0byB0aGUgb3JpZ2luYWwgcmVzcG9uc2UKICAgICAgICBtZXJnZU5leHRSZXNwb25zZShvcmlnaW5hbE5leHRSZXNwb25zZSwgdW5sb2NrZWROZXh0UmVzcG9uc2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFVubG9ja2VkTmV4dFJlc3BvbnNlKHZpZGVvSWQpIHsKICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBjYWNoZWQKICAgICAgICBpZiAoY2FjaGVkTmV4dFJlc3BvbnNlLnZpZGVvSWQgPT09IHZpZGVvSWQpIHJldHVybiBjcmVhdGVEZWVwQ29weShjYWNoZWROZXh0UmVzcG9uc2UpOwoKICAgICAgICBjb25zdCB1bmxvY2tTdHJhdGVnaWVzID0gZ2V0VW5sb2NrU3RyYXRlZ2llcyQxKHZpZGVvSWQsIGxhc3RQbGF5ZXJVbmxvY2tSZWFzb24pOwoKICAgICAgICBsZXQgdW5sb2NrZWROZXh0UmVzcG9uc2UgPSB7fTsKCiAgICAgICAgLy8gVHJ5IGV2ZXJ5IHN0cmF0ZWd5IHVudGlsIG9uZSBvZiB0aGVtIHdvcmtzCiAgICAgICAgdW5sb2NrU3RyYXRlZ2llcy5ldmVyeSgoc3RyYXRlZ3ksIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGlmIChzdHJhdGVneS5za2lwKSByZXR1cm4gdHJ1ZTsKCiAgICAgICAgICAgIGluZm8oYFRyeWluZyBOZXh0IFVubG9jayBNZXRob2QgIyR7aW5kZXggKyAxfSAoJHtzdHJhdGVneS5uYW1lfSlgKTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB1bmxvY2tlZE5leHRSZXNwb25zZSA9IHN0cmF0ZWd5LmVuZHBvaW50LmdldE5leHQoc3RyYXRlZ3kucGF5bG9hZCwgc3RyYXRlZ3kub3B0aW9uYWxBdXRoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBlcnJvcihlcnIsIGBOZXh0IFVubG9jayBNZXRob2QgJHtpbmRleCArIDF9IGZhaWxlZCB3aXRoIGV4Y2VwdGlvbmApOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaXNXYXRjaE5leHRTaWRlYmFyRW1wdHkodW5sb2NrZWROZXh0UmVzcG9uc2UpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBDYWNoZSByZXNwb25zZSB0byBwcmV2ZW50IGEgZmxvb2Qgb2YgcmVxdWVzdHMgaW4gY2FzZSB5b3V0dWJlIHByb2Nlc3NlcyBhIGJsb2NrZWQgcmVzcG9uc2UgbXV0aXBsZSB0aW1lcy4KICAgICAgICBjYWNoZWROZXh0UmVzcG9uc2UgPSB7IHZpZGVvSWQsIC4uLmNyZWF0ZURlZXBDb3B5KHVubG9ja2VkTmV4dFJlc3BvbnNlKSB9OwoKICAgICAgICByZXR1cm4gdW5sb2NrZWROZXh0UmVzcG9uc2U7CiAgICB9CgogICAgZnVuY3Rpb24gbWVyZ2VOZXh0UmVzcG9uc2Uob3JpZ2luYWxOZXh0UmVzcG9uc2UsIHVubG9ja2VkTmV4dFJlc3BvbnNlKSB7CiAgICAgICAgdmFyIF91bmxvY2tlZE5leHRSZXNwb25zZSwgX3VubG9ja2VkTmV4dFJlc3BvbnNlMiwgX3VubG9ja2VkTmV4dFJlc3BvbnNlMywgX3VubG9ja2VkTmV4dFJlc3BvbnNlNCwgX3VubG9ja2VkTmV4dFJlc3BvbnNlNTsKICAgICAgICBpZiAoaXNEZXNrdG9wKSB7CiAgICAgICAgICAgIC8vIFRyYW5zZmVyIFdhdGNoTmV4dFJlc3VsdHMgdG8gb3JpZ2luYWwgcmVzcG9uc2UKICAgICAgICAgICAgb3JpZ2luYWxOZXh0UmVzcG9uc2UuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5zZWNvbmRhcnlSZXN1bHRzID0gdW5sb2NrZWROZXh0UmVzcG9uc2UuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5zZWNvbmRhcnlSZXN1bHRzOwoKICAgICAgICAgICAgLy8gVHJhbnNmZXIgdmlkZW8gZGVzY3JpcHRpb24gdG8gb3JpZ2luYWwgcmVzcG9uc2UKICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxWaWRlb1NlY29uZGFyeUluZm9SZW5kZXJlciA9IG9yaWdpbmFsTmV4dFJlc3BvbnNlLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHMucmVzdWx0cy5yZXN1bHRzLmNvbnRlbnRzLmZpbmQoCiAgICAgICAgICAgICAgICAoeCkgPT4geC52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlciwKICAgICAgICAgICAgKS52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlcjsKICAgICAgICAgICAgY29uc3QgdW5sb2NrZWRWaWRlb1NlY29uZGFyeUluZm9SZW5kZXJlciA9IHVubG9ja2VkTmV4dFJlc3BvbnNlLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHMucmVzdWx0cy5yZXN1bHRzLmNvbnRlbnRzLmZpbmQoCiAgICAgICAgICAgICAgICAoeCkgPT4geC52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlciwKICAgICAgICAgICAgKS52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlcjsKCiAgICAgICAgICAgIC8vIFRPRE86IFRocm93IGlmIGRlc2NyaXB0aW9uIG5vdCBmb3VuZD8KICAgICAgICAgICAgaWYgKHVubG9ja2VkVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIuZGVzY3JpcHRpb24pIHsKICAgICAgICAgICAgICAgIG9yaWdpbmFsVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIuZGVzY3JpcHRpb24gPSB1bmxvY2tlZFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmRlc2NyaXB0aW9uOwogICAgICAgICAgICB9IGVsc2UgaWYgKHVubG9ja2VkVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIuYXR0cmlidXRlZERlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgICAgICBvcmlnaW5hbFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmF0dHJpYnV0ZWREZXNjcmlwdGlvbiA9IHVubG9ja2VkVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIuYXR0cmlidXRlZERlc2NyaXB0aW9uOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBUcmFuc2ZlciBXYXRjaE5leHRSZXN1bHRzIHRvIG9yaWdpbmFsIHJlc3BvbnNlCiAgICAgICAgY29uc3QgdW5sb2NrZWRXYXRjaE5leHRGZWVkID0gKF91bmxvY2tlZE5leHRSZXNwb25zZSA9IHVubG9ja2VkTmV4dFJlc3BvbnNlLmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWROZXh0UmVzcG9uc2UgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IChfdW5sb2NrZWROZXh0UmVzcG9uc2UyID0gX3VubG9ja2VkTmV4dFJlc3BvbnNlLnNpbmdsZUNvbHVtbldhdGNoTmV4dFJlc3VsdHMpID09PSBudWxsIHx8IF91bmxvY2tlZE5leHRSZXNwb25zZTIgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IChfdW5sb2NrZWROZXh0UmVzcG9uc2UzID0gX3VubG9ja2VkTmV4dFJlc3BvbnNlMi5yZXN1bHRzKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWROZXh0UmVzcG9uc2UzID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiAoX3VubG9ja2VkTmV4dFJlc3BvbnNlNCA9IF91bmxvY2tlZE5leHRSZXNwb25zZTMucmVzdWx0cykgPT09IG51bGwgfHwgX3VubG9ja2VkTmV4dFJlc3BvbnNlNCA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogKF91bmxvY2tlZE5leHRSZXNwb25zZTUgPSBfdW5sb2NrZWROZXh0UmVzcG9uc2U0LmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWROZXh0UmVzcG9uc2U1ID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiBfdW5sb2NrZWROZXh0UmVzcG9uc2U1LmZpbmQoCiAgICAgICAgICAgICAgICAoeCkgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBfeCRpdGVtU2VjdGlvblJlbmRlcmU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoX3gkaXRlbVNlY3Rpb25SZW5kZXJlID0geC5pdGVtU2VjdGlvblJlbmRlcmVyKSA9PT0gbnVsbCB8fCBfeCRpdGVtU2VjdGlvblJlbmRlcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94JGl0ZW1TZWN0aW9uUmVuZGVyZS50YXJnZXRJZCkKICAgICAgICAgICAgICAgICAgICAgICAgPT09ICd3YXRjaC1uZXh0LWZlZWQnOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKTsKCiAgICAgICAgaWYgKHVubG9ja2VkV2F0Y2hOZXh0RmVlZCkgb3JpZ2luYWxOZXh0UmVzcG9uc2UuY29udGVudHMuc2luZ2xlQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5yZXN1bHRzLnJlc3VsdHMuY29udGVudHMucHVzaCh1bmxvY2tlZFdhdGNoTmV4dEZlZWQpOwoKICAgICAgICAvLyBUcmFuc2ZlciB2aWRlbyBkZXNjcmlwdGlvbiB0byBvcmlnaW5hbCByZXNwb25zZQogICAgICAgIGNvbnN0IG9yaWdpbmFsU3RydWN0dXJlZERlc2NyaXB0aW9uQ29udGVudFJlbmRlcmVyID0gb3JpZ2luYWxOZXh0UmVzcG9uc2UuZW5nYWdlbWVudFBhbmVscwogICAgICAgICAgICAuZmluZCgoeCkgPT4geC5lbmdhZ2VtZW50UGFuZWxTZWN0aW9uTGlzdFJlbmRlcmVyKQogICAgICAgICAgICAuZW5nYWdlbWVudFBhbmVsU2VjdGlvbkxpc3RSZW5kZXJlci5jb250ZW50LnN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlci5pdGVtcy5maW5kKCh4KSA9PiB4LmV4cGFuZGFibGVWaWRlb0Rlc2NyaXB0aW9uQm9keVJlbmRlcmVyKTsKICAgICAgICBjb25zdCB1bmxvY2tlZFN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlciA9IHVubG9ja2VkTmV4dFJlc3BvbnNlLmVuZ2FnZW1lbnRQYW5lbHMKICAgICAgICAgICAgLmZpbmQoKHgpID0+IHguZW5nYWdlbWVudFBhbmVsU2VjdGlvbkxpc3RSZW5kZXJlcikKICAgICAgICAgICAgLmVuZ2FnZW1lbnRQYW5lbFNlY3Rpb25MaXN0UmVuZGVyZXIuY29udGVudC5zdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIuaXRlbXMuZmluZCgoeCkgPT4geC5leHBhbmRhYmxlVmlkZW9EZXNjcmlwdGlvbkJvZHlSZW5kZXJlcik7CgogICAgICAgIGlmICh1bmxvY2tlZFN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlci5leHBhbmRhYmxlVmlkZW9EZXNjcmlwdGlvbkJvZHlSZW5kZXJlcikgewogICAgICAgICAgICBvcmlnaW5hbFN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlci5leHBhbmRhYmxlVmlkZW9EZXNjcmlwdGlvbkJvZHlSZW5kZXJlciA9CiAgICAgICAgICAgICAgICB1bmxvY2tlZFN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlci5leHBhbmRhYmxlVmlkZW9EZXNjcmlwdGlvbkJvZHlSZW5kZXJlcjsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiAgSGFuZGxlcyBYTUxIdHRwUmVxdWVzdHMgYW5kCiAgICAgKiAtIFJld3JpdGUgR29vZ2xldmlkZW8gVVJMcyB0byBQcm94eSBVUkxzIChpZiBuZWNlc3NhcnkpCiAgICAgKiAtIFN0b3JlIGF1dGggaGVhZGVycyBmb3IgdGhlIGF1dGhlbnRpY2F0aW9uIG9mIGZ1cnRoZXIgdW5sb2NrIHJlcXVlc3RzLgogICAgICogLSBBZGQgImNvbnRlbnQgY2hlY2sgb2siIGZsYWdzIHRvIHJlcXVlc3QgYm9keXMKICAgICAqLwogICAgZnVuY3Rpb24gaGFuZGxlWGhyT3BlbihtZXRob2QsIHVybCwgeGhyKSB7CiAgICAgICAgbGV0IHByb3h5VXJsID0gdW5sb2NrR29vZ2xlVmlkZW8odXJsKTsKICAgICAgICBpZiAocHJveHlVcmwpIHsKICAgICAgICAgICAgLy8gRXhjbHVkZSBjcmVkZW50aWFscyBmcm9tIFhNTEh0dHBSZXF1ZXN0CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4aHIsICd3aXRoQ3JlZGVudGlhbHMnLCB7CiAgICAgICAgICAgICAgICBzZXQ6ICgpID0+IHt9LAogICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBmYWxzZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBwcm94eVVybDsKICAgICAgICB9CgogICAgICAgIGlmICh1cmwucGF0aG5hbWUuaW5kZXhPZignL3lvdXR1YmVpLycpID09PSAwKSB7CiAgICAgICAgICAgIC8vIFN0b3JlIGF1dGggaGVhZGVycyBpbiBzdG9yYWdlIGZvciBmdXJ0aGVyIHVzYWdlLgogICAgICAgICAgICBhdHRhY2gkNCh4aHIsICdzZXRSZXF1ZXN0SGVhZGVyJywgKF9yZWYyKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgW2hlYWRlck5hbWUsIGhlYWRlclZhbHVlXSA9IF9yZWYyOwogICAgICAgICAgICAgICAgaWYgKENvbmZpZy5HT09HTEVfQVVUSF9IRUFERVJfTkFNRVMuaW5jbHVkZXMoaGVhZGVyTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXQoaGVhZGVyTmFtZSwgaGVhZGVyVmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChDb25maWcuU0tJUF9DT05URU5UX1dBUk5JTkdTICYmIG1ldGhvZCA9PT0gJ1BPU1QnICYmIFsnL3lvdXR1YmVpL3YxL3BsYXllcicsICcveW91dHViZWkvdjEvbmV4dCddLmluY2x1ZGVzKHVybC5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gQWRkIGNvbnRlbnQgY2hlY2sgZmxhZ3MgdG8gcGxheWVyIGFuZCBuZXh0IHJlcXVlc3QgKHRoaXMgd2lsbCBza2lwIGNvbnRlbnQgd2FybmluZ3MpCiAgICAgICAgICAgIGF0dGFjaCQ0KHhociwgJ3NlbmQnLCAoYXJncykgPT4gewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBzZXRDb250ZW50Q2hlY2tPayhhcmdzWzBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogIEhhbmRsZXMgRmV0Y2ggcmVxdWVzdHMgYW5kCiAgICAgKiAtIFJld3JpdGUgR29vZ2xldmlkZW8gVVJMcyB0byBQcm94eSBVUkxzIChpZiBuZWNlc3NhcnkpCiAgICAgKiAtIFN0b3JlIGF1dGggaGVhZGVycyBmb3IgdGhlIGF1dGhlbnRpY2F0aW9uIG9mIGZ1cnRoZXIgdW5sb2NrIHJlcXVlc3RzLgogICAgICogLSBBZGQgImNvbnRlbnQgY2hlY2sgb2siIGZsYWdzIHRvIHJlcXVlc3QgYm9keXMKICAgICAqLwogICAgZnVuY3Rpb24gaGFuZGxlRmV0Y2hSZXF1ZXN0KHVybCwgcmVxdWVzdE9wdGlvbnMpIHsKICAgICAgICBsZXQgbmV3R29vZ2xlVmlkZW9VcmwgPSB1bmxvY2tHb29nbGVWaWRlbyh1cmwpOwogICAgICAgIGlmIChuZXdHb29nbGVWaWRlb1VybCkgewogICAgICAgICAgICAvLyBFeGNsdWRlIGNyZWRlbnRpYWxzIGZyb20gRmV0Y2ggUmVxdWVzdAogICAgICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMuY3JlZGVudGlhbHMpIHsKICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmNyZWRlbnRpYWxzID0gJ29taXQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBuZXdHb29nbGVWaWRlb1VybDsKICAgICAgICB9CgogICAgICAgIGlmICh1cmwucGF0aG5hbWUuaW5kZXhPZignL3lvdXR1YmVpLycpID09PSAwICYmIGlzT2JqZWN0KHJlcXVlc3RPcHRpb25zLmhlYWRlcnMpKSB7CiAgICAgICAgICAgIC8vIFN0b3JlIGF1dGggaGVhZGVycyBpbiBhdXRoU3RvcmFnZSBmb3IgZnVydGhlciB1c2FnZS4KICAgICAgICAgICAgZm9yIChsZXQgaGVhZGVyTmFtZSBpbiByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzKSB7CiAgICAgICAgICAgICAgICBpZiAoQ29uZmlnLkdPT0dMRV9BVVRIX0hFQURFUl9OQU1FUy5pbmNsdWRlcyhoZWFkZXJOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHNldChoZWFkZXJOYW1lLCByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzW2hlYWRlck5hbWVdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKENvbmZpZy5TS0lQX0NPTlRFTlRfV0FSTklOR1MgJiYgWycveW91dHViZWkvdjEvcGxheWVyJywgJy95b3V0dWJlaS92MS9uZXh0J10uaW5jbHVkZXModXJsLnBhdGhuYW1lKSkgewogICAgICAgICAgICAvLyBBZGQgY29udGVudCBjaGVjayBmbGFncyB0byBwbGF5ZXIgYW5kIG5leHQgcmVxdWVzdCAodGhpcyB3aWxsIHNraXAgY29udGVudCB3YXJuaW5ncykKICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuYm9keSA9IHNldENvbnRlbnRDaGVja09rKHJlcXVlc3RPcHRpb25zLmJvZHkpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIElmIHRoZSBhY2NvdW50IHByb3h5IHdhcyB1c2VkIHRvIHJldHJpZXZlIHRoZSB2aWRlbyBpbmZvLCB0aGUgZm9sbG93aW5nIGFwcGxpZXM6CiAgICAgKiBzb21lIHZpZGVvIGZpbGVzIChtb3N0bHkgbXVzaWMgdmlkZW9zKSBjYW4gb25seSBiZSBhY2Nlc3NlZCBmcm9tIElQcyBpbiB0aGUgc2FtZSBjb3VudHJ5IGFzIHRoZSBpbm5lcnR1YmUgYXBpIHJlcXVlc3QgKC95b3V0dWJlaS92MS9wbGF5ZXIpIHdhcyBtYWRlLgogICAgICogdG8gZ2V0IGFyb3VuZCB0aGlzLCB0aGUgZ29vZ2xldmlkZW8gVVJMIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHdlYi1wcm94eSBVUkwgaW4gdGhlIHNhbWUgY291bnRyeSAoVVMpLgogICAgICogdGhpcyBpcyBvbmx5IHJlcXVpcmVkIGlmIHRoZSAiZ2NyPVtjb3VudHJ5Y29kZV0iIGZsYWcgaXMgc2V0IGluIHRoZSBnb29nbGV2aWRlby11cmwuLi4KICAgICAqIEByZXR1cm5zIFRoZSByZXdpdHRlbiB1cmwgKGlmIGEgcHJveHkgaXMgcmVxdWlyZWQpCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVubG9ja0dvb2dsZVZpZGVvKHVybCkgewogICAgICAgIGlmIChDb25maWcuVklERU9fUFJPWFlfU0VSVkVSX0hPU1QgJiYgaXNHb29nbGVWaWRlb1VybCh1cmwpKSB7CiAgICAgICAgICAgIGlmIChpc0dvb2dsZVZpZGVvVW5sb2NrUmVxdWlyZWQodXJsLCBnZXRMYXN0UHJveGllZEdvb2dsZVZpZGVvSWQoKSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwcm94eS5nZXRHb29nbGVWaWRlb1VybCh1cmwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQWRkcyBgY29udGVudENoZWNrT2tgIGFuZCBgcmFjeUNoZWNrT2tgIHRvIHRoZSBnaXZlbiBqc29uIGRhdGEgKGlmIHRoZSBkYXRhIGNvbnRhaW5zIGEgdmlkZW8gaWQpCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbW9kaWZpZWQganNvbgogICAgICovCiAgICBmdW5jdGlvbiBzZXRDb250ZW50Q2hlY2tPayhib2R5SnNvbikgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxldCBwYXJzZWRCb2R5ID0gSlNPTi5wYXJzZShib2R5SnNvbik7CiAgICAgICAgICAgIGlmIChwYXJzZWRCb2R5LnZpZGVvSWQpIHsKICAgICAgICAgICAgICAgIHBhcnNlZEJvZHkuY29udGVudENoZWNrT2sgPSB0cnVlOwogICAgICAgICAgICAgICAgcGFyc2VkQm9keS5yYWN5Q2hlY2tPayA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGFyc2VkQm9keSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIHt9CiAgICAgICAgcmV0dXJuIGJvZHlKc29uOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb2Nlc3NUaHVtYm5haWxzKHJlc3BvbnNlT2JqZWN0KSB7CiAgICAgICAgY29uc3QgdGh1bWJuYWlscyA9IGZpbmROZXN0ZWRPYmplY3RzQnlBdHRyaWJ1dGVOYW1lcyhyZXNwb25zZU9iamVjdCwgWyd1cmwnLCAnaGVpZ2h0J10pOwoKICAgICAgICBsZXQgYmx1cnJlZFRodW1ibmFpbENvdW50ID0gMDsKCiAgICAgICAgZm9yIChjb25zdCB0aHVtYm5haWwgb2YgdGh1bWJuYWlscykgewogICAgICAgICAgICBpZiAoaXNUaHVtYm5haWxCbHVycmVkKHRodW1ibmFpbCkpIHsKICAgICAgICAgICAgICAgIGJsdXJyZWRUaHVtYm5haWxDb3VudCsrOwogICAgICAgICAgICAgICAgdGh1bWJuYWlsLnVybCA9IHRodW1ibmFpbC51cmwuc3BsaXQoJz8nKVswXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaW5mbyhibHVycmVkVGh1bWJuYWlsQ291bnQgKyAnLycgKyB0aHVtYm5haWxzLmxlbmd0aCArICcgdGh1bWJuYWlscyBkZXRlY3RlZCBhcyBibHVycmVkLicpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVGh1bWJuYWlsQmx1cnJlZCh0aHVtYm5haWwpIHsKICAgICAgICBjb25zdCBoYXNTUVBQYXJhbSA9IHRodW1ibmFpbC51cmwuaW5kZXhPZignP3NxcD0nKSAhPT0gLTE7CgogICAgICAgIGlmICghaGFzU1FQUGFyYW0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgU1FQTGVuZ3RoID0gbmV3IFVSTCh0aHVtYm5haWwudXJsKS5zZWFyY2hQYXJhbXMuZ2V0KCdzcXAnKS5sZW5ndGg7CiAgICAgICAgY29uc3QgaXNCbHVycmVkID0gQ29uZmlnLkJMVVJSRURfVEhVTUJOQUlMX1NRUF9MRU5HVEhTLmluY2x1ZGVzKFNRUExlbmd0aCk7CgogICAgICAgIHJldHVybiBpc0JsdXJyZWQ7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBhdHRhY2gkMyhwcm9jZXNzWXREYXRhKTsKICAgICAgICBhdHRhY2gkMihwcm9jZXNzWXREYXRhKTsKICAgICAgICBhdHRhY2goaGFuZGxlWGhyT3Blbik7CiAgICAgICAgYXR0YWNoJDEoaGFuZGxlRmV0Y2hSZXF1ZXN0KTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGVycm9yKGVyciwgJ0Vycm9yIHdoaWxlIGF0dGFjaGluZyBkYXRhIGludGVyY2VwdG9ycycpOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb2Nlc3NZdERhdGEoeXREYXRhKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gUGxheWVyIFVubG9jayAjMTogSW5pdGlhbCBwYWdlIGRhdGEgc3RydWN0dXJlIGFuZCByZXNwb25zZSBmcm9tIGAveW91dHViZWkvdjEvcGxheWVyYCBYSFIgcmVxdWVzdAogICAgICAgICAgICBpZiAoaXNQbGF5ZXJPYmplY3QoeXREYXRhKSAmJiBpc0FnZVJlc3RyaWN0ZWQoeXREYXRhLnBsYXlhYmlsaXR5U3RhdHVzKSkgewogICAgICAgICAgICAgICAgdW5sb2NrUmVzcG9uc2UkMSh5dERhdGEpOwogICAgICAgICAgICB9IC8vIFBsYXllciBVbmxvY2sgIzI6IEVtYmVkZGVkIFBsYXllciBpbml0YWwgZGF0YSBzdHJ1Y3R1cmUKICAgICAgICAgICAgZWxzZSBpZiAoaXNFbWJlZGRlZFBsYXllck9iamVjdCh5dERhdGEpICYmIGlzQWdlUmVzdHJpY3RlZCh5dERhdGEucHJldmlld1BsYXlhYmlsaXR5U3RhdHVzKSkgewogICAgICAgICAgICAgICAgdW5sb2NrUmVzcG9uc2UkMSh5dERhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGVycm9yKGVyciwgJ1ZpZGVvIHVubG9jayBmYWlsZWQnKTsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIFVubG9jayBzaWRlYmFyIHdhdGNoIG5leHQgZmVlZCAoc2lkZWJhcikgYW5kIHZpZGVvIGRlc2NyaXB0aW9uCiAgICAgICAgICAgIGlmIChpc1dhdGNoTmV4dE9iamVjdCh5dERhdGEpICYmIGlzV2F0Y2hOZXh0U2lkZWJhckVtcHR5KHl0RGF0YSkpIHsKICAgICAgICAgICAgICAgIHVubG9ja1Jlc3BvbnNlKHl0RGF0YSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE1vYmlsZSB2ZXJzaW9uCiAgICAgICAgICAgIGlmIChpc1dhdGNoTmV4dE9iamVjdCh5dERhdGEucmVzcG9uc2UpICYmIGlzV2F0Y2hOZXh0U2lkZWJhckVtcHR5KHl0RGF0YS5yZXNwb25zZSkpIHsKICAgICAgICAgICAgICAgIHVubG9ja1Jlc3BvbnNlKHl0RGF0YS5yZXNwb25zZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZXJyb3IoZXJyLCAnU2lkZWJhciB1bmxvY2sgZmFpbGVkJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyBVbmxvY2sgYmx1cnJ5IHZpZGVvIHRodW1ibmFpbHMgaW4gc2VhcmNoIHJlc3VsdHMKICAgICAgICAgICAgaWYgKGlzU2VhcmNoUmVzdWx0KHl0RGF0YSkpIHsKICAgICAgICAgICAgICAgIHByb2Nlc3NUaHVtYm5haWxzKHl0RGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZXJyb3IoZXJyLCAnVGh1bWJuYWlsIHVubG9jayBmYWlsZWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB5dERhdGE7CiAgICB9Cn0pKCk7Cg=="},{"name":"Pagetual","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":["wedata.net","githubusercontent.com","ghproxy.com","hoothin.github.io","*"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1691416446289,"data":{"rulesData":"o{\"uninited\": true,\"opacity\": 1,\"hideBar\": false,\"dbClick2Stop\": true,\"enableWhiteList\": false,\"enableHistory\": false,\"openInNewTab\": false,\"enableDebug\": true,\"initRun\": true,\"preload\": true,\"customFirst\": false,\"manualMode\": false,\"clickMode\": false,\"pageBarMenu\": true,\"arrowToScroll\": false,\"hideLoadingIcon\": false,\"hideBarArrow\": false,\"urls\": [{\"id\": 2,\"url\": \"https://raw.githubusercontent.com/hoothin/UserScripts/master/Pagetual/pagetualRules.json\",\"type\": 1}],\"sort\": [2,1]}","hpRules":"o[{\"name\": \"Bing\",\"action\": 1,\"url\": \"^https://.*\\\\.bing\\\\.com/\",\"nextLink\": \"a[title='Next page'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl\",\"pageElement\": \"ol#b_results>li.b_algo\",\"wait\": \"if(doc==document)return true;doc.documentElement.scrollTop=99999;return doc.querySelector('a[title=\\\\'Next page\\\\'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl')\",\"pageBar\": \"pageBar.className='b_pageBar'\",\"from\": 2},{\"name\": \"Github issues and pulls\",\"type\": 0,\"action\": 0,\"url\": \"^https:\\\\/\\\\/github\\\\.com\\\\/[^/]+\\\\/[^/]+\\\\/(?:issues|pulls)\",\"pageElement\": \"//div[starts-with(@id,'issue_')]\",\"nextLink\": \"//a[@class='next_page']\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Google Search\",\"nextLink\": [\"id('pnnext')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\",\"id('pnprev')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\"],\"pageElement\": \"id('rso')|id('center_col')/style[contains(.,'relative')][id('rso')]|id('search')/div/div/style[1]\",\"action\": 1,\"pageNum\": \"&start={10*($p-1)}\",\"pageBarTop\": 55,\"url\": \"^https?://[^./]+\\\\.google(?:\\\\.[^./]{2,3}){1,2}/(?:c(?:se|ustom)|search|webhp|m|#)\",\"replaceElement\": \"[role='navigation']>[role='presentation']\",\"css\": \"ol>li{display: inline-flex;}\",\"from\": 2}]","smartRules":"o[{\"url\": \"https://discord.com/channels/@me\",\"singleUrl\": true},{\"url\": \"https://developer.mozilla.org/en-US/docs/Web/CSS/text-rendering\",\"singleUrl\": true},{\"url\": \"https://github.com/Vendicated/Vencord\",\"singleUrl\": true},{\"url\": \"https://tweetdeck.twitter.com/\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/634775005351116830/810706345753837579\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/634775005351116830/634775005875666945\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/634775005351116830/868867519044276245\",\"singleUrl\": true},{\"url\": \"https://www.twitsave.com/info\",\"singleUrl\": true},{\"url\": \"https://www.twitsave.com/\",\"singleUrl\": true},{\"url\": \"https://nitter.net/search\",\"singleUrl\": true},{\"url\": \"https://nitter.net/\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x/2lazy4gist\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x\",\"singleUrl\": true},{\"url\": \"https://github.com/sessions/verified-device\",\"singleUrl\": true},{\"url\": \"https://github.com/login\",\"singleUrl\": true},{\"url\": \"https://mail.google.com/mail/u/1/\",\"singleUrl\": true},{\"url\": \"https://mail.google.com/mail/u/0/\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/download/remini-2689/1\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/download/remini-2689\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/remini-ai-photo-enhancer.html\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/download/youtube-revanced-71686/2\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/download/youtube-revanced-71686\",\"singleUrl\": true},{\"url\": \"https://liteapks.com/youtube-revanced.html\",\"singleUrl\": true},{\"url\": \"https://tweetdeck.twitter.com/login\",\"singleUrl\": true},{\"url\": \"https://docs.google.com/document/d/1GaaSjZbqyI3V0hlxHh-FkXR8qs7sEz2d/edit\",\"singleUrl\": true},{\"url\": \"https://docs.google.com/document/u/0/\",\"singleUrl\": true},{\"url\": \"https://docs.google.com/document/d/15UctPnBP8IQIHfep1JYG31hxsgx4vekFKzWyF8CPrPU/edit\",\"singleUrl\": true},{\"url\": \"https://apps.microsoft.com/store/detail/splash-%E2%80%94-unsplash-wallpaper/9PHTTWJGG81F\",\"singleUrl\": true},{\"url\": \"https://unsplash.com/wallpapers\",\"singleUrl\": true},{\"url\": \"https://codegena.com/automatically-download-set-wallpapers-unsplash/\",\"singleUrl\": true},{\"url\": \"https://github.com/tobimori/unsplash-wallpaper\",\"singleUrl\": true},{\"url\": \"https://apps.microsoft.com/store/detail/9PHTTWJGG81F\",\"singleUrl\": true},{\"url\": \"https://www.addictivetips.com/windows-tips/automatically-set-wallpapers-from-unsplash-windows-10/\",\"singleUrl\": true},{\"url\": \"https://github.com/soroushchehresa/unsplash-wallpapers\",\"singleUrl\": true},{\"url\": \"https://github.com/soroushchehresa/unsplash-wallpapers/releases\",\"singleUrl\": true},{\"url\": \"https://fosspost.org/unsplash-wallpapers-desktop-app-software-opensource/\",\"singleUrl\": true},{\"url\": \"https://github.com/Floorp-Projects/Floorp\",\"singleUrl\": true},{\"url\": \"https://myaccount.google.com/\",\"singleUrl\": true},{\"url\": \"https://greasyfork.org/en/scripts/462422-chatgpt-auto-refresh\",\"singleUrl\": true},{\"url\": \"https://github.com/adamlui/chatgpt-auto-refresh\",\"singleUrl\": true},{\"url\": \"https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/runtime-desktop-3.1.32-windows-x64-installer\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/634775005351116830/634783819349884958\",\"singleUrl\": true},{\"url\": \"https://discord.com/login\",\"singleUrl\": true},{\"url\": \"https://github.com/MicaForEveryone/MicaForEveryone\",\"singleUrl\": true},{\"url\": \"https://us05web.zoom.us/j/86440390730\",\"singleUrl\": true},{\"url\": \"https://us05web.zoom.us/j/83727475849\",\"singleUrl\": true},{\"url\": \"https://us05web.zoom.us/j/6640623544\",\"singleUrl\": true},{\"url\": \"https://us05web.zoom.us/j/87582433611\",\"singleUrl\": true},{\"url\": \"https://us04web.zoom.us/j/5580166919\",\"singleUrl\": true},{\"url\": \"https://www.omnicalculator.com/math/triangle-area\",\"singleUrl\": true},{\"url\": \"https://us05web.zoom.us/postattendee\",\"singleUrl\": true},{\"url\": \"https://www.returnyoutubedislike.com/\",\"singleUrl\": true},{\"url\": \"https://chrome.google.com/webstore/detail/return-youtube-dislike/gebbhagfogifgggkldgodflihgfeippi\",\"singleUrl\": true},{\"url\": \"https://myaccount.google.com/u/1/\",\"singleUrl\": true},{\"url\": \"https://gds.google.com/web/chip\",\"singleUrl\": true},{\"url\": \"https://accounts.google.com/v3/signin/identifier\",\"singleUrl\": true},{\"url\": \"https://player.vimeo.com/video/579574710\",\"singleUrl\": true},{\"url\": \"https://stylebot.dev/help/\",\"singleUrl\": true},{\"url\": \"https://www.google.com/chrome/\",\"singleUrl\": true},{\"url\": \"https://chrome.google.com/webstore/detail/stylebot/oiaejidbmkiecgbjeifoejpgmdaleoha\",\"singleUrl\": true},{\"url\": \"https://fonts.google.com/noto/specimen/Noto+Sans+JP\",\"singleUrl\": true},{\"url\": \"https://fonts.google.com/noto\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/u8dI93E\",\"singleUrl\": true},{\"url\": \"https://www.nbcnews.com/news/us-news/lizzo-dancers-weight-shamed-pressured-touch-nude-performer-lawsuit-rcna95161\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/DGAzZ4X\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/y2v5z5k\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/agedlikemilk/comments/15fvtvj/i_meanlizzo_did_warn_us_that_shes_100_btch/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/GamingLeaksAndRumours/comments/15fsg2g/every_newcomer_for_nick_allstar_brawl_2_has/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/Gulong/comments/15fuu3e/behold_the_all_new_250_series_toyota_land_cruiser/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/formuladank/comments/15ft0x0/the_source_is_me_i_made_it_all_up/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/bing/top/\",\"singleUrl\": true,\"pageElement\": \"article.yn9v_hQEhjlRNZI0xspbA>*\"},{\"url\": \"https://www.reddit.com/r/bing/comments/15dfesb/i_hate_bings_passive_aggressive_why_did_they_give/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/bing/\",\"singleUrl\": true,\"pageBar\": 0,\"pageElement\": \"body > div:nth-of-type(1) > div._1VP69d9lk-Wk9zokOaylL.theme-beta > div.hciOr5UGrnYrZxB11tX9s > div.subredditvars-r-bing > div._1nxEQl5D2Bx2jxDILRHemb > div > div.qYj03fU5CXf5t2Fc5iSvg.ListingLayout-outerContainer > div._3ozFtOe6WpJEMUtxDOIvtU > div._31N0dvxfpsO6Ur5AKx4O5d > div._1OVBBWLtHoSPfGCRaPzpTf._3nSp9cdBpqL13CqjdMr2L_._2OVNlZuUd8L9v0yVECZ2iA > div.rpBJOHq2PR60pnwJlUyP0 > div:nth-of-type(2) > div > div._1oQyIsiPHYt6nx7VOmd1sz._1RYN-7H8gYctjOQeL8p2Q7.scrollerItem._3Qkp11fjcAw9I9wtLo8frE._1qftyZQ2bhqP62lbPjoGAh._1LmKpEAguLZV4jQMgQSFVL._1Qs6zz6oqdrQbR7yE_ntfY.Post.t3_15f73o4 > div._1poyrkZ7g36PawDueRza-J._11R7M_VOgKO1RJyRSRErT3._1Qs6zz6oqdrQbR7yE_ntfY > div.STit0dLageRsa2yR4te_b > div.m3aNC6yp8RrNM_-a0rrfa > div._3JgI-GOrkmyIeDeyzXdyUD._2CSlKHjH7lsjx0IpjORx14 > div._1NSbknF8ucHV2abfCZw2Z1 > a > div._3Oa0THmZ3f5iZXAQ0hBJ0k.media-element > div:nth-of-type(1) > img._2_tDEnGMLxpM6uOa2kaDB3.ImageBox-image._1XWObl-3b9tPy64oaG6fax\",\"lazyImgSrc\": \"0\"},{\"url\": \"https://github.com/Zerohazard8x/custom/blob/5350cf1cf1bfdc4ca620b569569692ab2c12d495/stylus/personal-tweetdeck.user.styl\",\"singleUrl\": true},{\"url\": \"https://open.spotify.com/desktop/auth/success\",\"singleUrl\": true},{\"url\": \"https://accounts.spotify.com/en/oauth2/v2/auth\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x/custom\",\"singleUrl\": true},{\"url\": \"https://github.com/\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x/scripts\",\"singleUrl\": true},{\"url\": \"https://github.com/Invertex/Twitter-AutoHD/blob/master/Twitter_AutoHD.user.js\",\"singleUrl\": true},{\"url\": \"https://better.tw/\",\"singleUrl\": true},{\"url\": \"https://us02web.zoom.us/postattendee\",\"singleUrl\": true},{\"url\": \"https://us02web.zoom.us/j/87296548072\",\"singleUrl\": true},{\"url\": \"https://web.telegram.org/k/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/purchase/success/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/purchase/offer/default-student-premium/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/plan/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/verification/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/premium/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/apply/sheerid-program/\",\"singleUrl\": true},{\"url\": \"https://services.sheerid.com/rest/v2/verification/sso/oidc_google\",\"singleUrl\": true},{\"url\": \"https://accounts.google.com/o/oauth2/v2/auth/oauthchooseaccount\",\"singleUrl\": true},{\"url\": \"https://services.sheerid.com/verify/63fd266996552d469aea40e1/\",\"singleUrl\": true},{\"url\": \"https://coupons.slickdeals.net/spotify/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/ph/apple-music/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/ph/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/choose-country-region/\",\"singleUrl\": true}]","ruleLastUpdate":"n1691319535831","rules":"o[{\"name\": \"imgur\",\"url\": \"^https?://imgur\\\\.com/\",\"enable\": 0,\"from\": 2},{\"name\": \"toodledo\",\"url\": \"^https?://www\\\\.toodledo\\\\.com/tasks\",\"enable\": 0,\"from\": 2},{\"name\": \"google newtab\",\"url\": \"^https?://www\\\\.google\\\\..*/_/chrome/newtab\",\"enable\": 0,\"from\": 2},{\"name\": \"twitter\",\"url\": \"^https?://(m\\\\.|www\\\\.)?twitter\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"order.jd\",\"url\": \"^https?://order\\\\.jd\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"map.google\",\"url\": \"^https?://(maps\\\\.google\\\\.|www\\\\.google\\\\..*/maps)\",\"enable\": 0,\"from\": 2},{\"name\": \"wasu\",\"url\": \"^https?://(m|www)\\\\.wasu\\\\.cn/Play/show\",\"enable\": 0,\"from\": 2},{\"name\": \"qqtv\",\"url\": \"^https?://(m\\\\.)?v\\\\.qq\\\\.com/(tv|x/cover|x/page)\",\"enable\": 0,\"from\": 2},{\"name\": \"pptv\",\"url\": \"^https?://(m|v|vip)\\\\.pptv\\\\.com/show\",\"enable\": 0,\"from\": 2},{\"name\": \"acfun\",\"url\": \"^https?://((m|www|live)\\\\.)?acfun\\\\.cn/(v|live)\",\"enable\": 0,\"from\": 2},{\"name\": \"sohu tv\",\"url\": \"^https?://(m\\\\.)?(film|tv)\\\\.sohu\\\\.com/(album|v)\",\"enable\": 0,\"from\": 2},{\"name\": \"youtube\",\"url\": \"^https?://(m\\\\.|www\\\\.)?youtube\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"youku\",\"url\": \"^https?://((m|i|v|www|play)\\\\.)?youku\\\\.com/(v_|alipay_video)\",\"enable\": 0,\"from\": 2},{\"name\": \"tudou\",\"url\": \"^https?://((m|i|v|www|play)\\\\.)?tudou\\\\.com/(albumplay|listplay|programs/view)\",\"enable\": 0,\"from\": 2},{\"name\": \"mgtv\",\"url\": \"^https?://((m|www)\\\\.)?mgtv\\\\.com/b\",\"enable\": 0,\"from\": 2},{\"name\": \"mega\",\"url\": \"^https?://(.*\\\\.)?mega\\\\.\",\"enable\": 0,\"from\": 2},{\"name\": \"letv\",\"url\": \"^https?://((m|www)\\\\.)?le\\\\.com/ptv/vplay\",\"enable\": 0,\"from\": 2},{\"name\": \"iqiyi\",\"url\": \"^https?://((m|www)\\\\.)?iqiyi\\\\.com/(a_|v_|w_|$)\",\"enable\": 0,\"from\": 2},{\"name\": \"instagram\",\"url\": \"^https?://((m|www)\\\\.)?instagram\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"bilibili\",\"url\": \"^https?://((m|www|live)\\\\.)?bilibili\\\\.com/(bangumi/play|video|anime|\\\\d)\",\"enable\": 0,\"from\": 2},{\"name\": \"baofeng\",\"url\": \"^https?://((m|www)\\\\.)?baofeng\\\\.com/play\",\"enable\": 0,\"from\": 2},{\"name\": \"wenku.baidu\",\"url\": \"^https?://wenku\\\\.baidu\\\\.com/view\",\"enable\": 0,\"from\": 2},{\"name\": \"baike.baidu\",\"url\": \"^https?://baike\\\\.baidu\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"pan.baidu\",\"url\": \"^https?://.*pan\\\\.baidu\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"AC\",\"url\": \".\",\"pageElement\": \".AC-style-logo\",\"enable\": 0,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://jump\\\\d?\\\\.bdimg\\\\.com/safecheck\",\"enable\": 0,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.yxhjgs\\\\.com/$\",\"enable\": 0,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.feng\\\\.com/\",\"nextLink\": \".next:not(.disable)\",\"pinUrl\": true,\"loadMore\": \".load-more-btn>button\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://movie\\\\.douban\\\\.com\",\"wheel\": true,\"loadMore\": \".explore-more>button\",\"from\": 2},{\"name\": \"REPACK \",\"url\": \"^https?://lrepacks\\\\.net/\",\"css\": \".animated .slideUp{opacity:1}\",\"from\": 2},{\"name\": \"bt1207\",\"url\": \"^https://bt1207ao\\\\.xyz/\",\"nextLinkByJs\": \"let n=doc.querySelector('ul.pagination>li.active+li>a');if(!n)return null;let params=[]; let form=doc.querySelector('#search-form'); [].forEach.call(form.querySelectorAll('input'), input=>{ if(input.name=='p')params.push('p='+n.innerText);else params.push(input.name+'='+input.value); }); return form.action+'?'+params.join('&');\",\"pageElement\": \"ul.list-unstyled\",\"from\": 2},{\"name\": \"wap\",\"url\": \"^https?://wap\\\\.sogou\\\\.com/web/searchList\\\\.jsp\",\"loadMore\": \"#ajax_next_page\",\"nextLink\": 0,\"from\": 2},{\"name\": \"infinitenoveltranslations\",\"url\": \"^https://infinitenoveltranslations\\\\.net\",\"type\": 0,\"pageElement\": \"//div[@class='entry-content']\",\"nextLink\": \"//a[contains(text(),'Next Chapter')]\",\"autoClick\": \"//a[contains(text(),'Enjoy')]\",\"pinUrl\": true,\"from\": 2},{\"name\": \"-\",\"url\": \"^https://www\\\\.yousuu\\\\.com\",\"pageElement\": \"div.result\",\"nextLink\": \"button.btn-next\",\"lockScroll\": true,\"from\": 2},{\"name\": \"Free Porn Videos & Sex Tube Movies at xHamster\",\"url\": \"^https://xhopen\\\\.com\",\"pageElement\": \".thumb-list.thumb-list--sidebar\",\"action\": 2,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.ruten\\\\.com\\\\.tw/find/\",\"nextLink\": \"button[aria-label='']\",\"pageElement\": \".search-result-container\",\"wait\": 1000,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://shopee\\\\.tw/\",\"pinUrl\": true,\"nextLink\": \"button.shopee-icon-button--right\",\"pageElement\": \".shopee-search-item-result__items\",\"waitElement\": [\"\",\".shopee-search-item-result__item img:not([src]),.shopee-image-placeholder\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https://weibo\\\\.com\",\"pageElement\": \".WB_feed\",\"nextLink\": \"a.next\",\"exclude\": \".container\",\"wait\": 500,\"from\": 2},{\"name\": \"Google cse\",\"url\": \"^(https://www\\\\.lukol\\\\.com|https://www\\\\.searchcraigslist\\\\.net|https://cse\\\\.google\\\\.com.*&gsc\\\\.q=)\",\"pageElement\": \".gsc-expansionArea>.gsc-result\",\"nextLink\": \".gsc-cursor-current-page+div\",\"wait\": 500,\"from\": 2},{\"name\": \"All the Internet\",\"url\": \"^https://www\\\\.alltheinternet\\\\.com\",\"pageElement\": \".gsc-result\",\"nextLink\": \".pagebuttons\",\"wait\": 500,\"from\": 2},{\"name\": \"Upwork\",\"url\": \"^https?://www\\\\.upwork\\\\.com/.*/search/\",\"pageElement\": \".up-card-section.up-card-hover\",\"wait\": 1000,\"iframeInit\": \"win.self=win.top\",\"from\": 2},{\"name\": \"Soccercatch.com\",\"url\": \"^https://www\\\\.soccercatch\\\\.com\",\"nextLink\": \".tabs-page[data-active=true] .pagination-next\",\"init\": \"if(doc){let tabName=document.querySelector('[data-active=true]').dataset.title;doc.querySelector('[data-title='+tabName+']').click()}\",\"pageElement\": \"[data-active=true]>section>*\",\"wait\": \"if(doc==document)return true;let tabName=document.querySelector('[data-active=true]').dataset.title;doc.querySelector('[data-title='+tabName+']').click();return true;\",\"from\": 2},{\"name\": \"16Personalities\",\"url\": \"^https://www\\\\.16personalities\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"iconfont-\",\"url\": \"^https://www\\\\.iconfont\\\\.cn\",\"pageElement\": \"ul.block-icon-list>li\",\"wait\": 500,\"nextLink\": \"a.next\",\"from\": 2},{\"name\": \"Ru.Board\",\"url\": \"^https?://forum\\\\.ru-board\\\\.com/\",\"nextLink\": \"table .small>b+a\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://rbsc\\\\.calis\\\\.edu\\\\.cn:8086/\",\"pageElement\": \"input~tr\",\"from\": 2},{\"name\": \"-_\",\"url\": \"^https?://1paipai\\\\.jd\\\\.com/\",\"nextLink\": \".btn-next\",\"pinUrl\": true,\"stopSign\": [\"\",\".btn-next[disabled]\"],\"pageElement\": \"body > div:nth-of-type(1) > div.auction-list > div.list-selector > div.container > div:nth-of-type(2)\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://sxgzlib\\\\.chineseall\\\\.cn/\",\"nextLink\": \".item.twocol>span:nth-child(2)\",\"css\": \"#bookContent{overflow: scroll;}\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.tpkonsale\\\\.moj\\\\.gov\\\\.tw/\",\"nextLinkByUrl\": [\"&PAGINATION_PAGE_NO=(\\\\d+)\",\"&PAGINATION_PAGE_NO={$1+1}\"],\"pageElement\": \".table_scroll\",\"from\": 2},{\"name\": \"SpankBang\",\"example\": \"https://jp.spankbang.com/trending_videos/\",\"url\": \"^https?://([a-z]{2}\\\\.)?spankbang\\\\.com/(trending_videos|new_videos|category|pornstar|upcoming|most_popular|s)\",\"pageElement\": \".video-list.video-rotate.video-list-with-ads\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+div {margin-top: -5px !important;}\",\"from\": 2},{\"name\": \"Parts search\",\"url\": \"^https?://pcpph\\\\.in/\",\"init\": \"$('#search_results')[0].dataset.pageLength=100;$('#search_results_length select').val(100).trigger('change');\",\"from\": 2},{\"name\": \"Zoeken met Startpagina en Google\",\"url\": \"^https?://startgoogle\\\\.startpagina\\\\.nl/.*query=\",\"pinUrl\": true,\"history\": 0,\"nextLinkByUrl\": [\"/(search)?\\\\?(.*)&(query|q)=(\\\\w+)(&page=(\\\\d+))?.*\",\"/search?$2&q=$4&page={$6+1}&start={($6-1)*10}&num=10\"],\"pageElement\": \"#organic-results>.organic\",\"pagePre\": \"let lis=[];JSON.parse(response).results.forEach(r=>{let li=`<li><h2><a href='${r.url}' target='_blank'>${r.title}</a></h2><div class='url'>${r.display_url}</div><div class='lines'>${r.snippet}</div></li>`;lis.push(li)});return `<div id='organic-results'><ul class='organic'>${lis.join('')}</ul></div>`;\",\"from\": 2},{\"name\": \"Gamersky.com\",\"url\": \"^https://(.+)?gamersky\\\\.com/\",\"pageElement\": \"(id('gspaging')|//div[contains(@class,'Mid')][contains(@class,'L')][contains(@class,'con')])/p\",\"nextLink\": \"//div[@class='page_css']/b/following-sibling::a[1]\",\"action\": 0,\"css\": \".post_ding{position: fixed; bottom: 5%; left: 0; z-index: 11;}.post_ding>.Content_Paging{padding: 5px 20px; width: auto;}.post_ding>.Content_Paging>.hd{width: auto;}.post_ding>.Content_Paging>.bd{display: none;}.post_ding:hover>.Content_Paging>.bd{display: block;}\",\"from\": 2},{\"name\": \" \",\"url\": \"^https?://search\\\\.zhelper\\\\.net/\",\"pinUrl\": true,\"nextLink\": \"//a[text()='']\",\"pageElement\": \"ol.list-group>a\",\"pageAction\": \"eles.forEach(ele=>{let source=ele.querySelector('.card-title').nextSibling.data.match(/(\\\\S+)/)[1];let id=ele.querySelector('small').innerText.match(/ID(\\\\d+)/)[1];ele.onclick=e=>{axios.post('https://api.ylibrary.org/api/detail/', {id: id,source: source}).then(response=>{if (response.data.errorn) {alert(response.data.msg)} else {let detail=response.data;document.querySelector('#detailModal .modal-body').innerHTML=`<div class='modal-body'>${detail.title}${detail.source} <br> ${detail.author} <br> MD5 ${detail.md5}<br> ${detail.filesize}<!----><p></p><div class='modal-footer'><a class='btn btn-secondary' href='http://libgendown.1kbtool.com/${detail.md5}' target='_blank'> Libgen </a><a class='btn btn-secondary' href='https://ipfs-checker.1kbtool.com/${detail.ipfs_cid}?filename=${detail.title}_${detail.author}_zhelper-search.pdf' target='_blank'> IPFS </a><a class='btn btn-secondary' href='https://rulite.1kbtool.com/${detail.md5}#${detail.filesize}#${detail.title}_${detail.author}_zhelper-search.pdf' target='_blank'></a><!----><!----></div></div>`}}).catch(error=>{if (error.toJSON().status == 429) {alert('(429)')} else {alert(`(${error.message})`)}});var myModal = new bootstrap.Modal(document.getElementById('detailModal'),{});myModal.toggle()}})\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.mikuclub\\\\.online\",\"pageElement\": \"#post-list > div.col.card\",\"lazyImgSrc\": \"file\",\"css\": \"img.sl_lazyimg{opacity:1}\",\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('img');img.classList.remove('sl_lazyimg')})\",\"from\": 2},{\"name\": \"MGS Videos\",\"url\": \"^https?://tktube\\\\.com/\",\"pageElement\": \" div.list-videos > div#list_videos_common_videos_list_items > div.item\",\"nextLink\": \".next>a[href^='#']\",\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('img[data-preview]');if(!img)return;let video=document.createElement('video');video.src=img.dataset.preview;video.setAttribute('playsinline','true');video.setAttribute('autoplay','');video.setAttribute('loop','');video.style.cssText='position: absolute; left: 0px; top: 0px; width: 318px; height: 179px; background: rgb(0, 0, 0); visibility: visible;';ele.onmouseenter=e=>{video.play();img.parentNode.appendChild(video)};ele.onmouseleave=e=>{img.parentNode.removeChild(video)}})\",\"from\": 2},{\"name\": \"Alibaba\",\"url\": \"^https://www\\\\.alibaba\\\\.com//?trade/search\",\"pageElement\": \".organic-list>*\",\"nextLink\": \".seb-pagination__pages>span+a\",\"action\": 1,\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('div[data-image]>img');if(!img)return;img.src=img.parentNode.dataset.image})\",\"wait\": \"return doc.querySelector('.seb-pagination__pages') && !doc.querySelector('.organic-list>p>i.ui2-icon-loading')\",\"from\": 2},{\"name\": \"buondua\",\"url\": \"^https://(.*\\\\.)?buondua\\\\.com/\",\"type\": 0,\"pageElement\": \"//div[@class='article-fulltext']\",\"nextLink\": \"//span[.//a[@class='pagination-link is-current']]/following-sibling::span/a\",\"from\": 2},{\"name\": \"SteamPeek\",\"url\": \"^https?://steampeek\\\\.hu/\",\"example\": \"https://steampeek.hu/?from=108&tagid=86\",\"pageElement\": \"#lister_result_container>article\",\"nextLinkByUrl\": [\"\\\\?(from=(\\\\d+)&)?\",\"?from={$2+36}&\"],\"lazyImgSrc\": \"data-src\",\"from\": 2},{\"name\": \"Steam Community Workshop Items\",\"url\": \"^https?://steamcommunity\\\\.com/\",\"pageElement\": \"#leftContents>div.workshopBrowsePaging+div.workshopBrowseItems\",\"from\": 2},{\"name\": \"SteamPY\",\"url\": \"^https?://steampy\\\\.com/\",\"pageElement\": \".market-detail > div.ivu-tabs > div.ivu-tabs-content > div.ivu-tabs-tabpane div.flex-row > .gameblock\",\"nextLink\": \".page-ul > li.active + li:not(.disabled)\",\"pinUrl\": true,\"from\": 2},{\"name\": \" - \",\"url\": \"^https://www\\\\.luogu\\\\.com\\\\.cn/training/list\",\"nextLinkByUrl\": [\"(&page=|$)(\\\\d*)\",\"&page={$2+1}\"],\"wait\": 1000,\"pagePre\": [\"<li><a href=\\\"(.*?)\\\">(.*?)</a></li>\",\"<div data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"row\\\"><span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"id\\\">$1</span> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"name\\\"><a data-v-303bbf52=\\\"\\\" data-v-128051e7=\\\"\\\" href=\\\"/training/$1\\\" target=\\\"_blank\\\" colorscheme=\\\"default\\\" class=\\\"color-default\\\" data-v-24f898d2=\\\"\\\"> $2 </a></span> <!----> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"problem-count\\\">0</span> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"collection\\\">0</span> <span data-v-128051e7=\\\"\\\" class=\\\"creator\\\" data-v-24f898d2=\\\"\\\"><span data-v-dfb4a326=\\\"\\\"><span data-v-58fd269e=\\\"\\\" data-v-dfb4a326=\\\"\\\"><span data-v-58fd269e=\\\"\\\"><a data-v-303bbf52=\\\"\\\" data-v-dfb4a326=\\\"\\\" href=\\\"/user/0\\\" target=\\\"_blank\\\" colorscheme=\\\"none\\\" class=\\\"color-none\\\" data-v-58fd269e=\\\"\\\"><span data-v-dfb4a326=\\\"\\\" data-v-303bbf52=\\\"\\\" style=\\\"font-weight: bold; color: rgb(254, 76, 97);\\\"> author </span></a></span> </span></span></span></div>\"],\"pageElement\": \".row\",\"from\": 2},{\"name\": \" - \",\"url\": \"^https://www\\\\.luogu\\\\.com\\\\.cn/problem/list\",\"nextLinkByUrl\": [\"(\\\\?page=|$)(\\\\d*)\",\"?page={$2+1}\"],\"wait\": 1000,\"pagePre\": [\"<a href=\\\"(.*?)\\\">(.*?)</a></li>\",\"<div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"row\\\"><!----> <span data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"status\\\"><svg data-v-1b44b3e6=\\\"\\\" data-v-c06fccc2=\\\"\\\" aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"minus\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 448 512\\\" class=\\\"icon svg-inline--fa fa-minus fa-w-14\\\" data-v-24f898d2=\\\"\\\" style=\\\"opacity: 0.7;\\\"><path data-v-1b44b3e6=\\\"\\\" fill=\\\"currentColor\\\" d=\\\"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\\\" class=\\\"\\\"></path></svg></span> <span data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"pid\\\">$1</span> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"title\\\"><a data-v-303bbf52=\\\"\\\" data-v-c06fccc2=\\\"\\\" href=\\\"/problem/$1\\\" target=\\\"_blank\\\" colorscheme=\\\"default\\\" class=\\\"title color-default\\\" data-v-24f898d2=\\\"\\\">$2</a></div> <div data-v-187aafe9=\\\"\\\" data-v-c06fccc2=\\\"\\\" class=\\\"tags\\\" data-v-24f898d2=\\\"\\\"><div data-v-187aafe9=\\\"\\\" class=\\\"tags-wrap multiline\\\"></div></div> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"difficulty\\\"></div> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"progress\\\"><div data-v-47712372=\\\"\\\" data-v-c06fccc2=\\\"\\\" class=\\\"progress-frame has-tooltip\\\" data-original-title=\\\"null\\\" data-v-24f898d2=\\\"\\\"><div data-v-47712372=\\\"\\\" style=\\\"width: 37.2682%; background-color: rgb(52, 152, 219);\\\"></div></div></div></div>\"],\"pageElement\": \".row\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.yxssp\\\\.com/\",\"pageElement\": \".td-modules-container\",\"nextLink\": \"span.current+a\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.runningcheese\\\\.com/\",\"pageElement\": \"section#scroll article.entry\",\"enable\": 0,\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.runningcheese\\\\.com/\",\"pageElement\": \"ul.ajaxposts>li\",\"from\": 2},{\"name\": \"423Down\",\"url\": \"^https?://www\\\\.423down\\\\.com/\",\"pageElement\": \"div#postcomments > ol.commentlist> li.comment\",\"from\": 2},{\"name\": \"1\",\"url\": \"^https?://.*\\\\.taobao\\\\.com/search\\\\.htm\",\"pageElement\": \".skin-box-bd>.grid>.item3line1\",\"pagePre\": \"return decodeURI(response).replace(/[\\\\\\\\]/g,'')\",\"nextLinkByJs\": \"let n=doc.querySelector('.pagination>a.next');if(!n)return;return n.href.replace(/(.*)\\\\/search\\\\.htm\\\\?(.*)/,'$1/i/asynSearch.htm?$2').replace(/&callback=.*?&/,'&')\",\"wait\": 500,\"from\": 2},{\"name\": \"\",\"url\": \"^https://buyertrade\\\\.taobao\\\\.com/\",\"pageElement\": \"table[data-reactid]\",\"lockScroll\": true,\"from\": 2},{\"name\": \"Ru.Board\",\"url\": \"^https?://forum\\\\.ru-board\\\\.com/\",\"nextLink\": \"table .small>b+a\",\"from\": 2},{\"name\": \"serx.ml\",\"url\": \"^https?://serx\\\\.ml/\",\"pageElement\": \"article.result\",\"from\": 2},{\"name\": \"scribblehub\",\"url\": \"^https://www\\\\.scribblehub\\\\.com/read\",\"pageElement\": \"#chp_raw\",\"nextLink\": \"a.btn-next\",\"pageAction\": \"eles.forEach(ele=>{[].forEach.call(ele.querySelectorAll('.sp-head'),sp=>{sp.onclick=e=>{sp.nextElementSibling.classList.toggle('folded')}})})\",\"from\": 2},{\"name\": \"bjav\",\"url\": \"^https://thebjav\\\\.com/|^https://sexbjcam\\\\.com/\",\"css\": \"img[data-src]{opacity: 1;}\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.ssylu\\\\.com/\",\"nextLink\": \".pagenavi>span.current+a\",\"from\": 2},{\"name\": \"lightnovelstranslations\",\"url\": \"^https://lightnovelstranslations\\\\.com/\",\"nextLink\": \"p.alignright>a\",\"pageElement\": \".entry-content>p\",\"from\": 2},{\"name\": \"inoveltranslation\",\"url\": \"^https://inoveltranslation\\\\.com/\",\"pageElement\": \".chakra-skeleton>p\",\"insert\": \"#chapterreadtrck\",\"nextLink\": \"button[aria-label='next chapter']\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.nipic\\\\.com/\",\"css\": \"a.new-works-img-box>span>img{display:initial!important}\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.192tp\\\\.com/\",\"pageElement\": \".picsboxcenter\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.cuiwei\\\\.org/book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"#chapter-content>p\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://yuyan\\\\.pw/novel/\\\\d+/\\\\d+\",\"pageElement\": \"#nr>div\",\"pageAction\": \"eles[0].innerHTML=''+eval(doc.querySelector('body>script:nth-of-type(8)').innerHTML.match(/var chapter =(.*?);\\\\n/)[1]);\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://s\\\\.weibo\\\\.com/\",\"pageElement\": \"#pl_feedlist_index>div>div.card-wrap\",\"action\": 1,\"pageAction\": \"eles.forEach(e=>{let vc=e.querySelector('a.WB_video_h5');if(vc){let v=vc.querySelector('video');let b=vc.querySelector('button.wbpv-big-play-button');b.onclick=e=>{v.style.zIndex=9;v.controls=true;v.play()}}})\",\"from\": 2},{\"name\": \"Fiction.live\",\"url\": \"^https://fiction\\\\.live/\",\"pageElement\": \"#storyPosts>div>article.chapter\",\"nextLink\": \".nextChapter\",\"action\": 1,\"wait\": 500,\"from\": 2},{\"name\": \"\",\"url\": \"^http://bbs\\\\.tianya\\\\.cn/post\",\"pageElement\": \".atl-main>.atl-item\",\"from\": 2},{\"name\": \"\",\"url\": \"^http://bbs\\\\.tianya\\\\.cn/list\",\"pageElement\": \"table.tab-bbs-list>tbody:not(tbody:nth-of-type(1))\",\"from\": 2},{\"name\": \"smzdm jingxuan\",\"action\": 0,\"url\": \"^https://.*\\\\.smzdm\\\\.com/jingxuan\",\"pageElement\": \"ul#feed-main-list>li\",\"nextLinkByUrl\": [\"(.*jingxuan)(/p)?(\\\\d*)\",\"$1/p{($3.0||1)+3}\"],\"insert\": \"ul#feed-main-list\",\"insertPos\": 2,\"delay\": \"let curpage=location.href.match(/\\\\d+$/);if(curpage)curpage=parseInt(curpage[0])+2;else curpage=3;return document.querySelector('#J_feed_pagenation>li.current').innerText>=curpage&&document.querySelector('#J_feed_loading').style.display=='none'\",\"from\": 2},{\"name\": \"mikuclub\",\"url\": \"^https://www\\\\.mikuclub\\\\.cc/\",\"loadMore\": \"button.get-next-page\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"\",\"url\": \"^http://quote\\\\.eastmoney\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"a.next:not(.disabled)\",\"pageElement\": \"#table_wrapper-table>tbody>tr\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://chrome\\\\.zzzmh\\\\.cn/\",\"pageElement\": \".row>.index-card-box\",\"nextLink\": \"[aria-label='Next page']\",\"waitElement\": [\"!.v-image__image--preload\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https://bz\\\\.zzzmh\\\\.cn/\",\"pageElement\": \"div.img-box\",\"nextLink\": \"div.vue_pagination_next\",\"wait\": \"let preload=doc.querySelector('.v-image__image--preload');if(preload){var actualTop=preload.offsetTop;var current=preload.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent;}doc.documentElement.scrollTop=actualTop;return false;}return doc.querySelector('div.vue_pagination_next');\",\"init\": \"if(iframe){iframe.style.position='fixed';iframe.style.top=0;iframe.height=1000;let mask=doc.querySelector('div.mask');setInterval(()=>{if(mask.style.display!='none'){iframe.style.visibility='';}else{iframe.style.visibility='hidden'}},1000)}\",\"enable\": 0,\"from\": 2},{\"name\": \"\",\"url\": \"^http://muchong\\\\.com\",\"pageElement\": \"div#maincontent\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://bbs\\\\.hupu\\\\.com/\\\\d+\",\"pageElement\": \".bbs-post-wrapper-content\",\"nextLink\": \"li.hupu-rc-pagination-next>a:not([disabled])\",\"from\": 2},{\"name\": \"phpwind old list\",\"url\": \"/thread\\\\.php\\\\?\",\"pageElement\": \"tr.t_two\",\"nextLink\": \"td>b+a\",\"from\": 2},{\"name\": \"phpwind old read\",\"url\": \"/read\\\\.php\\\\?\",\"pageElement\": \"form[name='delatc']>a[name]\",\"nextLink\": \"td>b+a\",\"insert\": \"form[name='delatc']>a:last-child>table:nth-child(2)\",\"insertPos\": 1,\"from\": 2},{\"name\": \"phpwind read\",\"url\": \"/read\\\\.php\\\\?\",\"pageElement\": \".main-box>.bbs-read-subbox\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.qidian\\\\.com/\",\"nextLink\": \"//a[contains(@class,'lbf-pagination-current')]/parent::li/following::li/a[not(contains(@class,'lbf-pagination-disabled'))]\",\"pinUrl\": true,\"from\": 2},{\"name\": \"\",\"type\": 0,\"url\": \"htm_data/\\\\d+/\\\\d+/\\\\d+\\\\.html|read\\\\.php\\\\?tid=|thread0806\\\\.php\\\\?fid=\",\"pageElement\": \"id('ajaxtable')//tr[.//a][./preceding-sibling::tr or ./following-sibling::tr]|//div[@class='t t2']\",\"sleep\": 2000,\"nextLink\": \"//div[@class='pages']/a[u]/following-sibling::a[1]\",\"action\": 0,\"from\": 2},{\"name\": \"Pornhub.com\",\"action\": 0,\"url\": \"^https://[^.]+\\\\.pornhub\\\\.com/(?!view_video\\\\.php).+\",\"pageElement\": \"id(\\\"videoCategory\\\") | \\r\\nid(\\\"incategoryVideos\\\") | \\r\\nid(\\\"videoSearchResult\\\") | \\r\\nid(\\\"mostRecentVideosSection\\\") | \\r\\nid(\\\"photosAlbumsSection\\\") | \\r\\nid(\\\"claimedRecentVideoSection\\\") | \\r\\n//div[@class='recommendedVideosContainer']/ul | \\r\\nid(\\\"popularPornstars\\\") | \\r\\n//ul[contains(concat(' ', normalize-space(@class), ' '), ' streamateContent ')] | \\r\\nid('filterChannelsSection') | \\r\\nid('playListSection')\",\"nextLink\": \"//li[contains(concat(\\\" \\\", normalize-space(@class), \\\" \\\"), \\\" page_next \\\")][not(contains(@class, \\\"disabled\\\"))]/a\",\"from\": 2},{\"name\": \"PornAV\",\"url\": \"^https://pornav\\\\.co\",\"pageElement\": \"div#grid-container\",\"css\": \".cbp-lightbox{visibility: visible;}.cbp-caption-defaultWrap{-webkit-transition: -webkit-transform .6s cubic-bezier(.19,1,.22,1); transition: transform .6s cubic-bezier(.19,1,.22,1)}.cbp-caption:hover .cbp-caption-defaultWrap{-webkit-transform: scale(1.25); -moz-transform: scale(1.25); transform: scale(1.25);}.cbp-caption-activeWrap{opacity:0}.cbp-caption-activeWrap:hover{opacity:1}#grid-container.cbp-l-grid-blog{visibility: visible;}\",\"from\": 2},{\"name\": \"XFantazy\",\"url\": \"^https://xfantazy\\\\.com\",\"pageElement\": \".MuiGrid-container\",\"action\": 2,\"fitWidth\": false,\"from\": 2},{\"name\": \"Amedia\",\"url\": \"^https://amedia\\\\.online\",\"pageElement\": \"#dle-content\",\"css\": \"img[data-src] { opacity: 1; }\",\"from\": 2},{\"name\": \"Femdom\",\"url\": \"^https://femdomup\\\\.net\",\"pageElement\": \".cat-shortstory>article\",\"pageAction\": \"eles.forEach(ele=>{let video=ele.querySelector('video');video.onmouseenter=e=>{video.src=video.dataset.src;video.classList.add('prev-video')};video.onmouseleave=e=>{video.src='/templates/videok2s/dleimages/plug.webm';video.classList.remove('prev-video')}})\",\"from\": 2},{\"name\": \"Konachan.com Anime Wallpapers\",\"url\": \"^https://konachan\\\\.com/post\",\"nextLink\": \"id(\\\"post-view\\\")/div[@class=\\\"sidebar\\\"]/div[5]/ul/li[2]/a\",\"pageElement\": \"id(\\\"image\\\")\",\"from\": 2},{\"name\": \"Handpicked Jerk-Off Instruction (JOI) Videos\",\"url\": \"^https://joi-me\\\\.com\",\"action\": \"1\",\"pageElement\": \"#container\",\"from\": 2},{\"name\": \"Mixfemdomcc\",\"url\": \"^https://mixfemdomcc\\\\.com\",\"css\": \".gray-block a.highslide_new > img{transform:unset}\",\"from\": 2},{\"name\": \"360\",\"url\": \"^https://www\\\\.so\\\\.com/s\",\"lazyImgSrc\": \"data-isrc\",\"css\": \".so-lazyimg{opacity:1!important}.so-rich-news .pics li{float:left;margin-right:17px;}\",\"pageNum\": \"pn={$p}\",\"from\": 2},{\"name\": \"Hoothin github page\",\"url\": \"^https?://hoothin\\\\.github\\\\.io/\",\"enable\": 0,\"from\": 2},{\"name\": \"Actions  github\",\"action\": 0,\"url\": \"^https?://github\\\\.com/\",\"pageElement\": \"div.Box-row.js-socket-channel.js-updatable-content\",\"nextLink\": \"//a[text()='Next']\",\"from\": 2},{\"name\": \"Repository search results  GitHub\",\"url\": \"^https?://github\\\\.com/search\",\"example\": \"https://github.com/search?q=C%2B%2B\",\"nextLinkByUrl\": [\"(&p=(\\\\d+))?$\",\"&p={$2+1}\"],\"pageElement\": \"[data-testid='results-list']\",\"action\": 0,\"include\": \"[rel='next']\",\"from\": 2},{\"name\": \"Github issues and pulls\",\"type\": 0,\"action\": 0,\"url\": \"^https:\\\\/\\\\/github\\\\.com\\\\/[^/]+\\\\/[^/]+\\\\/(?:issues|pulls)\",\"pageElement\": \"//div[starts-with(@id,'issue_')]\",\"nextLink\": \"//a[@class='next_page']\",\"pinUrl\": true,\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.douban\\\\.com/group/topic/\",\"pageElement\": \"ul#comments>li\",\"pageNum\": \"start={100*($p-1)}\",\"from\": 2},{\"name\": \"deviantArt\",\"url\": \"^https://www\\\\.deviantart\\\\.com/search\",\"pageElement\": \"div[data-hook='all_content']>div>div>div:not([class])\",\"from\": 2},{\"name\": \"3DM\",\"url\": \"^https://so\\\\.3dmgame\\\\.com\",\"pageElement\": \"body > div.content > div.search_wrap > div.search_lis\",\"action\": 1,\"from\": 2},{\"name\": \"\",\"url\": \"^https://iao\\\\.su/\",\"pageElement\": \"#index>article\",\"action\": 1,\"from\": 2},{\"name\": \"Mobilism\",\"type\": 0,\"url\": \"^https://forum\\\\.mobilism\\\\.org/\",\"pageElement\": \"id('page-body')//section|id('page-body')/main/table[last()]/tbody/tr|//div[@class='row-fluid blue-bar']\",\"nextLink\": \"//a[i/@class='icon-chevron-right']\",\"css\": \"table.phone .stats-color,table.phone .last-color,table.phone td.center { display: none; }\",\"from\": 2},{\"name\": \"YTS Movies\",\"type\": 0,\"url\": \"^https://yts\\\\.mx/browse-movies\",\"pageElement\": \"//section/div[@class=\\\"row\\\"]/div\",\"nextLink\": \"//li[./a[@class=\\\"current\\\"]]/following-sibling::li[1]/a\",\"css\": \"img{visibility: visible!important; display: block!important;}\",\"lazyImgSrc\": \"data-cfsrc\",\"from\": 2},{\"name\": \"Anime Time\",\"url\": \"^https://www\\\\.animetime\\\\.pw\",\"pageElement\": \"div.blog-posts.container > div.grid-posts\",\"nextLink\": \"a.page-num.page-next\",\"waitElement\": [\"\",\"img.post-thumb:not(.lazy-yard)\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.xsnvshen\\\\.co\",\"pageElement\": \".container> div.longConWhite> div.workContentWrapper > div.workShow > ul > li > img#bigImg\",\"nextLink\": \"span#next\",\"from\": 2},{\"name\": \"Agristudyinfo & 20govtjobs\",\"url\": \"^(https://agristudyinfo\\\\.in/|https://20govtjobs\\\\.com/)\",\"pageElement\": \"#main>article\",\"nextLink\": \".page-numbers.current+a\",\"from\": 2},{\"name\": \"hirelateral\",\"url\": \"^https://www\\\\.hirelateral\\\\.com/\",\"pageElement\": \"div.mainwrap > div.contentwrap > div.leftwrap > table.table-bordered > tbody> tr\",\"from\": 2},{\"name\": \"alternativeto\",\"url\": \"^https://alternativeto\\\\.net/\",\"nextLink\": \"nav[aria-label='Pagination Navigation']>a\",\"action\": 1,\"pageElement\": \"div.container>ol>li\",\"pageInit\": \"eles.forEach(e=>{let span=e.querySelector('div>div>div>span');if(span)span.onVisible()})\",\"from\": 2},{\"name\": \"K.F. \",\"url\": \"^https://(bbs\\\\.9shenmi\\\\.com|kf\\\\.miaola\\\\.work)/read.php\",\"pageElement\": \"//form/div[@class=\\\"readlou\\\"]|//form/div[@class=\\\"readtext\\\"]|//form/div[@class=\\\"c\\\"]\",\"type\": 0,\"nextLink\": \"//ul[@class=\\\"pages\\\"]/li/a[contains(text(),'')]\",\"from\": 2},{\"name\": \"K.F. \",\"url\": \"^https://(bbs\\\\.9shenmi\\\\.com|kf\\\\.miaola\\\\.work)/thread.php\",\"pageElement\": \"//table[@class=\\\"thread1\\\"]/tbody/tr[position()>3]\",\"type\": 0,\"nextLink\": \"//ul[@class=\\\"pages\\\"]/li/a[contains(text(),'')]\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/shenghuoba/\",\"pageElement\": \".lifeContent-topicList-item\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('#N_go_pageBtn');if(!pageSpan)return false;let maxPage=pageSpan.dataset.total,curPage=pageSpan.dataset.now;if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+\\\\/)[^\\\\/]*$/,'$1')+'H-'+(parseInt(curPage)+1);else return false;\",\"from\": 2},{\"name\": \"2\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/(jinghua|dianzan)\",\"pageElement\": \".kuaixun,.Notspmatch,.p_list,#contents\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+)\\\\d*(.*)$/,'$1')+(parseInt(curPage)+1)+'-0';else return false;\",\"from\": 2},{\"name\": \"1\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/(bbs|zongban|ttcl)\",\"pageElement\": \".kuaixun,.Notspmatch,.p_list,#contents\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+)\\\\d*(.*)$/,'$1')+(parseInt(curPage)+1)+'/0';else return false;\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/Article/\\\\d+/\\\\d+\",\"pageElement\": \"#new_wrap_container\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(.*?)\\\\d+$/,'$1')+(parseInt(curPage)+1);else return false;\",\"from\": 2},{\"name\": \"\",\"url\": \"^http://www\\\\.hynews\\\\.net/\",\"loadMore\": \"#_more\",\"from\": 2},{\"name\": \"NGA\",\"url\": \"^https?://(.*\\\\.nga\\\\.cn|nga\\\\.178\\\\.com|ngabbs\\\\.com)/thread\\\\.php\",\"action\": 1,\"pageElement\": \"#topicrows\",\"from\": 2},{\"name\": \"NGA\",\"url\": \"^https?://(.*\\\\.nga\\\\.cn|nga\\\\.178\\\\.com|ngabbs\\\\.com)/read\\\\.php\",\"nextLink\": \"a[title='']\",\"action\": 2,\"pageElement\": \"div#m_posts\",\"init\": \"doc&&doc.addEventListener('mouseover',e=>{e.preventDefault();e.stopPropagation()},true)\",\"from\": 2},{\"name\": \"\",\"nextLinkByJs\": \"let script=doc.querySelector('body>.mlfy_main>script:nth-of-type(2)');if(!script)return null;return location.origin+script.innerText.match(/.*url_next:'([^']+)'.*/i)[1]\",\"pageElement\": \"#mlfy_main_text\",\"url\": \"^https://www\\\\.23qb\\\\.(net|com)/book/\",\"from\": 2},{\"name\": \"MOOC\",\"url\": \"^https://www\\\\.icourse163\\\\.org/course/\",\"wait\": 1000,\"type\": 0,\"init\": \"if(doc)doc.querySelector('#review-tag-button').click()\",\"nextLink\": \"//ul[@class='ux-pager']/li/a[text()='']\",\"pageElement\": \"//div[@class='ux-mooc-comment-course-comment_comment-list']/div[@class='ux-mooc-comment-course-comment_comment-list_item']\",\"from\": 2},{\"name\": \"Freepik\",\"url\": \"^https?://www\\\\.freepik\\\\.com/\",\"pageElement\": \"div.list-content > section.showcase\",\"action\": 0,\"css\": \".showcase:not(.showcase--completed){display:flex;flex-wrap: wrap;}.showcase:not(.showcase--completed)>figure{visibility: visible;}.showcase:not(.showcase--completed)>div{display: none!important;}\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://588ku\\\\.com/\",\"action\": 1,\"pageElement\": \".data-box>.data-list\",\"from\": 2},{\"name\": \"58pic\",\"url\": \"^https://www\\\\.58pic\\\\.com/tupian/\",\"css\": \".card-lazy{display:none}.pagetual_pageBar{margin-bottom: 20px!important;}\",\"pageElement\": \"div.search-v3-content>.card-grid-box\",\"from\": 2},{\"name\": \"\",\"action\": 1,\"url\": \"^http://m\\\\.cankaoxiaoxi\\\\.com/\",\"pageElement\": \"div.content\",\"nextLink\": \"li.next>a\",\"from\": 2},{\"name\": \"eki szlk\",\"action\": 0,\"url\": \"^https://eksisozluk\\\\.com\",\"pageElement\": \"#entry-item-list\",\"nextLinkByJs\": \"let pager=doc.querySelector('.pager');if(!pager || pager.dataset.currentpage==pager.dataset.pagecount)return null;else return location.href.replace(/&p=\\\\d+/,'')+'&p='+(parseInt(pager.dataset.currentpage)+1)\",\"from\": 2},{\"name\": \"Hacker News\",\"action\": 0,\"url\": \"^https?://news\\\\.ycombinator\\\\.com/\",\"pageElement\": \"table.itemlist>tbody>tr\",\"nextLink\": \"a.morelink\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://copymanga\\\\.org/comic/.*/chapter/\",\"pageElement\": \"ul.comicContent-list>li\",\"nextLink\": \".comicContent-next>a\",\"action\": 1,\"insert\": \"ul.comicContent-list\",\"insertPos\": 2,\"wait\": \"if(doc==document)return true;let sy=doc.defaultView.scrollY;let cur=doc.querySelector('.comicIndex').innerText;let max=doc.querySelector('.comicCount').innerText;if(window._cur==cur){doc.defaultView.scroll(0, 0);window._cur='';}else{doc.defaultView.scroll(0, sy+9999999);window._cur=cur;}return cur==max;\",\"from\": 2},{\"name\": \"Yurifans\",\"url\": \"^https://yuri\\\\.website/[a-z]\",\"type\": 0,\"action\": 1,\"pageElement\": \"id('post-list')/ul\",\"nextLink\": \"//div[@class='btn-pager']/button[text()='']\",\"wait\": \"500\",\"include\": \"id('post-list')/ul/li\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://m\\\\.zongheng\\\\.com/h5/chapter\",\"type\": 0,\"pageElement\": \"//div[@class='title']|//div[@class='text']\",\"nextLink\": \"//div[contains(text(),'')]|//div[contains(text(),'')]\",\"wait\": 500,\"css\": \".text>div,#fukerr_bot,#fukerr{display:none!important}\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"\",\"url\": \"/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"pageElement\": \"div.page-content\",\"nextLinkByJs\": \"let next=doc.querySelector('a.curr+a');if(next)return next.href.replace(/^javascript:.*\\\\('\\\\d+','\\\\d+','(\\\\d+)','(\\\\d+)'\\\\);/,'$1_$2.html');\",\"action\": 2,\"from\": 2},{\"name\": \"netflav\",\"url\": \"^https://netflav\\\\.com/\",\"pageElement\": \".video_grid_container>.grid_root\",\"nextLink\": \"#general-pagination>div>a[aria-current='true']+a\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"from\": 2},{\"name\": \"17K_\",\"url\": \"^https://www\\\\.17k\\\\.com\",\"pageElement\": \".Context>.Article\",\"pageBarText\": 1,\"action\": 1,\"nextLink\": \".nextChapter\",\"wait\": \"return doc.querySelector('.copy')==null\",\"include\": \"div.content\",\"from\": 2},{\"name\": \"17K_\",\"url\": \"^https://www\\\\.17k\\\\.com\",\"pageElement\": \".area>.read,.area>.comment\",\"css\": \".infoPath,.read_tit,.rightSide,.tuijian{display:none}.readAreaBox{width:auto}\",\"pageBarText\": 1,\"nextLink\": \".nextChapter\",\"from\": 2},{\"name\": \"\",\"url\": \"^http://www\\\\.houhaiwang\\\\.com\",\"pageElement\": \".col-a1>.row-b7\",\"pageBarText\": 1,\"nextLink\": \".col-d3>span>a\",\"from\": 2},{\"name\": \"\",\"url\": \"^http://www\\\\.jjwxc\\\\.net\",\"pageElement\": \"div.noveltext,#lockpage\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"2\",\"type\": 0,\"nextLink\": \"//a[contains(text(),'')]|//a[contains(text(),'')]|//a[contains(text(),'')]\",\"pageElement\": \"//div[@class='content']|//div[@class='chaptercontent']\",\"url\": \"\\\\d+/[\\\\d_-]+\\\\.html?$\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"1\",\"type\": 0,\"nextLink\": \"//a[contains(text(),'')]|//a[contains(text(),'')]|//a[contains(text(),'')]\",\"pageElement\": \"//div[@id='content']|//div[@id='chaptercontent']|//div[@id='BookText']\",\"url\": \"\\\\d+/[\\\\d_-]+\\\\.html?$\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"Asian Sister\",\"url\": \"^https://asiansister\\\\.com/\",\"pageElement\": \"div.itemBox,div.itemBox_video\",\"from\": 2},{\"name\": \"51\",\"action\": 1,\"url\": \"^https://www\\\\.51yuansu\\\\.com\",\"pageElement\": \".f-content\",\"nextLink\": \"a.nextpage\",\"from\": 2},{\"name\": \"\",\"action\": 0,\"url\": \"^https://post\\\\.smzdm\\\\.com/p\",\"pageElement\": \"#comment\",\"nextLink\": \".pagedown>a\",\"from\": 2},{\"name\": \"\",\"action\": 0,\"url\": \"^http://hrss\\\\.sz\\\\.gov\\\\.cn/tzgg\",\"pageElement\": \".newsList>ul\",\"nextLink\": \"a.next\",\"from\": 2},{\"name\": \"bookmarkearth search\",\"action\": 0,\"url\": \"^https://www\\\\.bookmarkearth\\\\.com/s/search\\\\?q=\",\"pageElement\": \".source>.document-piece\",\"nextLinkByUrl\": [\"(.*/s/search\\\\?q=.*&currentPage=)(\\\\d*)\",\"$1{$2+1}\"],\"from\": 2},{\"name\": \"\",\"action\": 1,\"url\": \"^https://www\\\\.yinfans\\\\.me/\",\"pageElement\": \"#post_container\",\"nextLink\": \"a.next\",\"waitElement\": [\"#post_container[style]\"],\"from\": 2},{\"name\": \"bookmarkearth\",\"action\": 0,\"url\": \"^https://www\\\\.bookmarkearth\\\\.com(?:/?$|/page\\\\?currentPage=)\",\"pageElement\": \".source>.document-piece\",\"nextLinkByUrl\": [\"(.*\\\\.com)(?:/?$|/page\\\\?currentPage=)(\\\\d*)\",\"$1/page?currentPage={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.dongman\\\\.la/manhua/chapter/\",\"pageElement\": \".chapter-images img\",\"nextLink\": \".mdui-bottom-nav>a+a\",\"init\": \"let is=document.querySelectorAll('.chapter-images img'),j=document.querySelector('.lazyBox');is.forEach(i=>{i.src=i.dataset.srcset;j.appendChild(i);})\",\"pageAction\": \"let j=document.querySelector('.lazyBox');eles.forEach(i=>{i.src=i.dataset.srcset;})\",\"insert\": \".lazyBox\",\"insertPos\": 2,\"from\": 2},{\"name\": \"+\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"type\": 0,\"pageElement\": \"//tr[@align='center']\",\"nextLink\": \"//div[@class='pages']/ul/li[.//b]/following-sibling::li/a\",\"sleep\": 1000,\"pageNum\": \"page-{$p}.html\",\"from\": 2},{\"name\": \"+\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"type\": 0,\"pageElement\": \"//div[@id='main']/form\",\"nextLink\": \"//div[@class='pages']/ul/li[.//b]/following-sibling::li/a\",\"sleep\": 1000,\"pageNum\": \"page-{$p}.html\",\"from\": 2},{\"name\": \"+\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"sleep\": 1000,\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.iplaysoft\\\\.com/\",\"pageElement\": \"#postlist\",\"nextLink\": \".pagenavi>a[title='']\",\"from\": 2},{\"name\": \"2\",\"action\": 1,\"type\": 0,\"url\": \"^https?://www\\\\.(dm5|1kkk)\\\\.(com|cn)/(m|ch)\",\"pageElement\": \"//div[@id=\\\"barChapter\\\"]/img\",\"nextLink\": \"//div[@class=\\\"view-paging\\\"]/div/a[contains(text(),'')]\",\"rate\": 3,\"from\": 2},{\"name\": \"1\",\"action\": 1,\"url\": \"^https?://www\\\\.(dm5|1kkk)\\\\.(com|cn)/(m|ch)\",\"pageElement\": \".view-main>.item\",\"nextLink\": \"span.current+a,div#chapterpager+a+a\",\"rate\": 3,\"from\": 2},{\"name\": \"bilibili space\",\"url\": \"^https://space\\\\.bilibili\\\\.com/\",\"sandbox\": false,\"pageElement\": \"ul.cube-list>li,ul.video-list>li,ul.relation-list>li\",\"nextLink\": \".be-pager-next,.next-page\",\"wait\": 1000,\"from\": 2},{\"name\": \"bilibili search\",\"action\": 1,\"url\": \"^https://search\\\\.bilibili\\\\.com\",\"pageElement\": \"ul>li.video-item,div.video-list.row>*\",\"nextLinkByUrl\": [\"(.*keyword=.*?)(?:&page=|$)(\\\\d*).*\",\"$1&page={($2.0||1)+1}\"],\"sandbox\": false,\"wait\": \"return doc.querySelector('.bili-video-card__wrap')\",\"from\": 2},{\"name\": \"BBS-\",\"url\": \"bbs\\\\.pku\\\\.edu\\\\.cn/v2/post-read.php\",\"pageElement\": \".card-list\",\"nextLink\": \"//div[contains(text(),'')]/a\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"BBS-\",\"url\": \"bbs\\\\.pku\\\\.edu\\\\.cn/v2/thread.php\",\"pageElement\": \"#list-content\",\"nextLink\": \"//div[contains(text(),'')]/a\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"-\",\"url\": \"bbs\\\\.byr\\\\.cn/(|#!)article\",\"listenHashChange\": true,\"pageElement\": \".b-content\",\"replaceElement\": \".page\",\"pinUrl\": true,\"history\": 0,\"action\": 1,\"from\": 2},{\"name\": \"-\",\"url\": \"bbs\\\\.byr\\\\.cn/(|#!)board\",\"listenHashChange\": true,\"pageElement\": \".b-content> table>tbody\",\"pinUrl\": true,\"history\": 0,\"action\": 1,\"from\": 2},{\"name\": \"\",\"url\": \"bbs\\\\.byr\\\\.cn(|/(|#!)default)$\",\"listenHashChange\": true,\"pinUrl\": true,\"from\": 2},{\"name\": \"Trakt\",\"url\": \"^https://trakt\\\\.tv\",\"pageElement\": \"section#info-wrapper > div.container > div.row > div#overview>*\",\"action\": 1,\"waitElement\": [\".summary-activity\",\"#popular-comments.fade:not(.in)\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.foundertype\\\\.com/\",\"nextLink\": \"#page>a.on+a\",\"pageElement\": \"#fonPar,#chinese_ft1\",\"action\": 1,\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.ximalaya\\\\.com/\",\"nextLink\": \".page-next>a\",\"wait\": 1000,\"action\": 2,\"pageElement\": \".list-container,.main-content\",\"from\": 2},{\"name\": \"javdb\",\"action\": 0,\"url\": \"^https://javdb\\\\.com/\",\"pageElement\": \"#videos.video-container\",\"css\": \".grid.columns{display: flex; flex-wrap: wrap;}\",\"from\": 2},{\"name\": \"manga1000\",\"url\": \"^https://manga1000\\\\.top/\\\\d+/\\\\d+\",\"pageElement\": \"div.chapter-content>*\",\"css\": \".chapter-content>img{display:unset!important}\",\"nextLink\": \"ul.chapter_select a.next\",\"from\": 2},{\"name\": \"mhgui\",\"action\": 0,\"url\": \"^https://.*\\\\.mhgui\\\\.com/comic/\\\\d+\",\"pageElementByJs\": \"let link=document.querySelector('#mangaBox>img').src; let match=link.match(/(.*)(\\\\d{3})(\\\\.jpg.*)/); window.i=window.i||parseInt(match[2]);window.i++; let src=match[1]+(window.i>99?window.i:(window.i>9?'0'+window.i:'00'+window.i))+match[3]; let img=document.createElement('img');img.onload=()=>{over([img])};img.onerror=e=>{over()};img.src=src;\",\"insert\": \"#mangaBox\",\"insertPos\": 2,\"from\": 2},{\"name\": \"smzdm\",\"action\": 0,\"url\": \"^https://.*\\\\.smzdm\\\\.com\",\"pageElement\": \"ul#feed-main-list>li\",\"nextLink\": \".pagenation-list>li.current+li>a\",\"insert\": \"ul#feed-main-list\",\"insertPos\": 2,\"from\": 2},{\"name\": \"\",\"url\": \"^https?://www\\\\.fodizi\\\\.net/\",\"nextLink\": \"a.current+a\",\"pageElement\": \"div.wrap>*:not(.page)\",\"from\": 2},{\"name\": \"masuit\",\"action\": 0,\"url\": \"^https://masuit\\\\.com/\",\"pageElement\": \".ibox.wow\",\"nextLink\": \"a[aria-label=Next]\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.zcool\\\\.com\\\\.cn/search/content\",\"action\": 2,\"nextLinkByUrl\": [\"(.*/content\\\\?&?word=[^&]+)(?:&page=|$)(\\\\d*)\",\"$1&page={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"Literotica\",\"type\": 0,\"action\": 0,\"url\": \"^https://www\\\\.literotica\\\\.com/.\",\"pageElement\": \"//div[contains(@class,\\\"panel article\\\") or @class=\\\"b-story-list\\\"]/div\",\"nextLink\": \"//a[@title='Next Page' or @class='b-pager-next']\",\"wait\": 3000,\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.douyu\\\\.com/directory/\",\"nextLink\": \"li.dy-Pagination-next[aria-disabled='false']\",\"pageElement\": \"ul.layout-Cover-list\",\"wait\": 1000,\"enable\": 0,\"from\": 2},{\"name\": \"xxgame\",\"action\": 0,\"url\": \"^http://www\\\\.xxgame\\\\.net/chinese\",\"pageElement\": \"div.layui-row>div.layui-col-md4:not(div:nth-child(5),div:nth-child(6),div:nth-child(7))\",\"nextLinkByUrl\": [\"(http://www\\\\.xxgame\\\\.net/chinese/?)(?:\\\\?page=|$)(\\\\d*)\",\"$1?page={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"\",\"url\": \"^https?://jandan\\\\.net/\",\"nextLink\": \"a.previous-comment-page\",\"pageElement\": \"ol.commentlist>li\",\"pageAction\": \"let gif_click_load = getCookie('gif-click-load');let bad_click_load = getCookie('bad-click-load');let nsfw_click_load = getCookie('nsfw-click-load');let gif_on = (gif_click_load == 'on' || gif_click_load == null) ? true : false;let nsfw_on = (nsfw_click_load == 'on' || nsfw_click_load == null) ? true : false;let bad_on = (bad_click_load == 'on' || bad_click_load == null) ? true : false;[].forEach.call(eles, e => { let tucao = e.querySelector('a.tucao-btn'); if (tucao) tucao.onclick = e => { var n = $(e.currentTarget); var m = n.data('id'); var o = n.closest('li'); var l = o.find('div.jandan-tucao'); if (l.length) { l.slideToggle('fast') } else { tucao_load_content(o, m) } }; e=$(e);var is_bad = false; if (bad_on) { var oo = parseInt(e.find('.comment-like').next('span').text()); var xx = parseInt(e.find('.comment-unlike').next('span').text());if ( (oo + xx) >= 50 && (oo / xx) < 0.618 ) {is_bad = true;var r = e.find(\\\"p\\\").not('.bad_content');r.hide();e.find('.righttext').after('<p class=\\\"bad_content\\\" style=\\\"color:#ddd\\\">.<a href=\\\"javascript:;\\\" class=\\\"view_bad\\\">[]</a></p>');e.find(\\\".view_bad\\\").click(function () {if (this.innerHTML == '[]' || this.innerHTML == '[]') {r.show();if (this.innerHTML == '[]') {r.find('.gif-mask').remove();r.find('img').each(function() {var org_src = this.getAttribute('org_src');if (org_src)this.src = org_src;});}this.innerHTML = '[]';} else {r.hide();this.innerHTML = '[]';}});}}if ( ! is_bad && nsfw_on) {var p = e.find(\\\"p\\\").not('.bad_content');if (p.length == 0) return;let content = p.html();if (content.indexOf('NSFW') > -1) {p.hide();e.find('.righttext').after('<p class=\\\"nsfw_content\\\" style=\\\"color:#ff6600\\\"><b>NSFW</b>.<a href=\\\"javascript:;\\\" class=\\\"view_nsfw\\\">[]</a></p>');e.find(\\\".view_nsfw\\\").click(function () {if (this.innerHTML == '[]' || this.innerHTML == '[]') {p.show();p.find('.gif-mask').remove();if (this.innerHTML == '[]') {p.find('img').each(function() {var org_src = this.getAttribute('org_src');if (org_src)this.src = org_src;});}this.innerHTML = '[]';} else {p.hide();this.innerHTML = '[]';}});}}let img=e.find('p>img');if(img){img.css('max-width', '100%');img.css('max-height', '450px').click(function () {var $this = img;if ($this.css('max-height') == 'none') {var max_width = img.parent().parent().width();$this.css('max-width', max_width);$this.css('max-height', '450px');} else {if ($this.parent().hasClass('acv_comment'))$this.css('max-width', 'none');$this.css('max-height', 'none');}$(\\\"html,body\\\").animate({scrollTop: $this.offset().top - 40},325);});}})\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://club\\\\.autohome\\\\.com\\\\.cn\",\"pageElement\": \"#js-reply-list-container\",\"action\": 2,\"nextLink\": \".athm-page__next\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://m\\\\.mysmth\\\\.net/article/\",\"pageElement\": \"#m_main>ul.list\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.mysmth\\\\.net/nForum/#!article/\",\"nextLink\": \"a[title='']\",\"pageElement\": \"div.b-content\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.chuangkit\\\\.com/\",\"type\": 0,\"nextLink\": \"//div[@class='number']/ul/li[@class='item active']/following-sibling::li/a\",\"pageElement\": \"//div[@class='ckt-waterfall-content']\",\"pageAction\": \"let infos=doc.querySelector('body>script').innerText.match(/designTemplateId:\\\\d+,designTemplateImageUrl:\\\".*?\\\"/g),infoMap;if(infos){infoMap={};infos.forEach(i=>{let id=i.replace(/designTemplateId:(\\\\d+).*/,'$1');let src=i.replace(/.*designTemplateImageUrl:\\\"(.+)\\\"/,'$1');src=JSON.stringify(src);src=src.replace(/\\\\\\\\\\\\\\\\/g,'\\\\\\\\');src=JSON.parse(src);infoMap[id]=src;})};[].forEach.call(eles[0].querySelectorAll('.temp-sec__bottom>div>a'),a=>{let id=a.href.replace(/.*?(\\\\d+).*/,'$1');let src=infoMap[id];let img=a.parentNode.parentNode.previousElementSibling.querySelector('img');img.src=src;img.style.opacity=1;})\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://818ps\\\\.com/\",\"pageElement\": \"#masonry\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://kns\\\\.cnki\\\\.net/kns8/defaultresult/index\",\"nextLink\": \"a#PageNext\",\"pageElement\": \".result-table-list tbody>*\",\"iframeInit\": \"let doc;let ready=()=>{let fn1=window.BriefExtend.setFullTextState;window.BriefExtend.setFullTextState=()=>{fn1();win.$('#PageNext').attr('data-curPage',window.$('#PageNext').attr('data-curPage'))}; win.BriefParam._getSearchPaperArgModel=(isSearch, cPage)=>{return window.BriefParam._getSearchPaperArgModel(isSearch, (!!cPage ? cPage : win.BriefParam._getCurPage()))};doc.querySelector('#txt_search').value=document.querySelector('#txt_search').value;doc.querySelector('.search-btn').click()};let checkPage=()=>{if(win.document.querySelector('#txt_search')){doc=win.document;ready();}else setTimeout(checkPage,100)};checkPage();\",\"initRun\": 0,\"wait\": 1000,\"from\": 2},{\"name\": \" - \",\"url\": \"^https?://xueqiu\\\\.com/hq\",\"pageElement\": \"div#stockList table.portfolio\",\"pinUrl\": true,\"action\": 3,\"from\": 2},{\"name\": \"\",\"url\": \"^https://xueqiu\\\\.com/\",\"pageElement\": \".status-list>article\",\"nextLink\": \"a.pagination__next\",\"from\": 2},{\"name\": \"123\",\"url\": \"^https://(www|m)\\\\.meinvtu123\\\\.cc/\",\"pageElement\": \"div>img\",\"author\": \"bmp4cwa\",\"from\": 2},{\"name\": \"\",\"url\": \"^https://www\\\\.(?:imn5|mntp|jpmnb|jpmn8|mn5|xgmn|jpxgmn|jpxgyw|xiurenji|xiurenb|xrmn|xrmn5)\\\\.(?:com|net|vip|cc|top)/.*\\\\.html\",\"pageElement\": \"p>img\",\"author\": \"bmp4cwa\",\"from\": 2},{\"name\": \"Camp Firefox Forum\",\"url\": \"^https://www\\\\.camp-firefox\\\\.de/forum/ungelesene-beitraege/\",\"pageElement\": \"#content > div > ol.tabularList\",\"nextLink\": \"nav.pagination > ul > li.skip:last-child > a\",\"updatedAt\": \"2022-09-10\",\"author\": \"benzBrake\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://(so|m)\\\\.toutiao\\\\.com/search/\",\"nextLink\": \"a[class^=container_],a[class^=containerRight]\",\"from\": 2},{\"name\": \"wap\",\"url\": \"^https?://(wap|m)\\\\.sogou\\\\.com/web/(searchList\\\\.jsp|sl\\\\?)\",\"loadMore\": \"#ajax_next_page\",\"nextLink\": 0,\"from\": 2},{\"name\": \"\",\"pageBar\": \"pageBar.classList.add('l_post')\",\"nextLink\": \"//div[@class=\\\"pb_footer\\\"]//a[starts-with(text(), '')]\",\"pageElement\": \"//div[@class=\\\"p_postlist\\\"]/div[starts-with(@class, 'l_post')]\",\"type\": 0,\"action\": 1,\"pageNum\": \"&pn={$p}\",\"url\": \"^https?://tieba\\\\.baidu\\\\.com/p/.+\",\"wait\": \"if(doc==document)return true;let lzl=doc.querySelector('div.hideLzl');if(lzl){var actualTop=lzl.offsetTop;var current=lzl.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent;}doc.body.scrollTop=actualTop;doc.documentElement.scrollTop=actualTop;return false}else{return true}\",\"history\": 0,\"from\": 2},{\"name\": \"\",\"action\": 1,\"pageBar\": \"pageBar.classList.add('j_thread_list');pageBar.dataset.field='{}'\",\"url\": \"^https?://tieba\\\\.baidu\\\\.com/.+\",\"pageElement\": \"ul#thread_list>li\",\"pageNum\": \"&pn={50*($p-1)}\",\"nextLink\": \".next.pagination-item \",\"from\": 2},{\"name\": \"\",\"url\": \"^https://(m|www|wap)\\\\.baidu\\\\.com/\",\"nextLink\": \"a.new-nextpage-only,a.new-nextpage\",\"pageElement\": \"#results\",\"from\": 2},{\"name\": \"Baidu\",\"insertPos\": 1,\"nextLink\": [\"//*[@id=\\\"page\\\"]/div/a[contains(text(),'')]\",\"//*[@id=\\\"page\\\"]/div/a[contains(text(),'')]\"],\"pageElement\": \"//*[@id=\\\"content_style\\\"]|//*[@id=\\\"content_left\\\"]/*\",\"pageNum\": \"&pn={10*($p-1)}\",\"url\": \"^https?://www\\\\.baidu\\\\.com/(s|baidu)\\\\b.\",\"pageBarTop\": 75,\"replaceElement\": \"#page\",\"wait\": 500,\"from\": 2},{\"name\": \"AfreecaTV \",\"url\": \"^https?://afreecatv\\\\.com/total_search\",\"pageElement\": \"ul#detailVideoPageList>li\",\"nextLink\": \".pg_area>em+a\",\"wait\": 500,\"replaceElement\": \".pg_area\",\"from\": 2},{\"name\": \"blog1\",\"url\": \".\",\"pageElement\": \"section.posts-expand>article.post\",\"nextLink\": \"li.pagination-active+li>a\",\"css\": \"section.posts-expand>article.post{opacity:1}\",\"from\": 2},{\"name\": \"1688\",\"url\": \"^https://.*\\\\.1688\\\\.com/page\",\"pageElement\": \"#bd_1_container_0 > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(6) > div\",\"pageAction\": \"window.setUrl=null;window.index=0;eles.forEach(e=>{let img=e.querySelector('.main-picture[src^=data]');if(!img)return;img.src=img.nextElementSibling.children[0].src;e.onclick=()=>window.open(e.dataset.url,'_blank')})\",\"pageInit\": \"if(!window.index)window.index=0;if(!window.setUrl){window.setUrl=()=>{setTimeout(()=>{if(window.url){eles[window.index++].dataset.url=window.url;window.url=null;}if(eles[window.index]){eles[window.index].click();window.setUrl()}},1)};Object.defineProperty(doc.defaultView, 'open', { get: function () { return (s)=>window.url=s; } });window.setUrl();}if(eles.length<=window.index)return true;else return false;\",\"from\": 2},{\"name\": \"FC Portables\",\"url\": \"^https://www\\\\.fcportables\\\\.com\",\"pageElement\": \".listing-blog>article\",\"pageAction\": \"eles.forEach(e=>{let a=e.querySelector('.img-holder');if(!a)return;a.style.backgroundImage=`url(\\\"${a.dataset.src}\\\")`;a.classList.add('b-loaded')})\",\"from\": 2},{\"name\": \"chevereto\",\"url\": \".\",\"nextLink\": \"a[data-pagination='next']\",\"pageAction\": \"let w=document.querySelector('.list-item').style.width;let content=eles[0].querySelector('.pad-content-listing');content.style.display='flex';content.style.flexFlow='row wrap';[].forEach.call(eles[0].querySelectorAll('.list-item'),i=>{i.style.display='block';i.style.width=w;i.style.position='sticky';i.querySelector('.list-item-image').style.height=w;})\",\"pageElement\": \"div#content-listing-tabs\",\"from\": 2},{\"name\": \"Discuz7.2Threadlist\",\"url\": \"\\\\?fid\",\"nextLink\": \"a.next\",\"pageNum\": \"page={$p}\",\"pageElement\": \"div#threadlist form\",\"from\": 2},{\"name\": \"Discuz7.2Postlist\",\"url\": \"\\\\?tid\",\"nextLink\": \"a.next\",\"pageNum\": \"page={$p}\",\"pageElement\": \"div#postlist>*\",\"from\": 2},{\"name\": \"bbsThreadlist1\",\"url\": \"/f\",\"nextLink\": [\"a.nxt\",\"a.prev\"],\"pageNum\": \"\\\\-\\\\d+\\\\-{$p}\\\\.html\",\"pageElement\": \"div#threadlist form\",\"replaceElement\": \"#pgt div.pg\",\"from\": 2},{\"name\": \"bbsPostlist2\",\"url\": \".\",\"nextLink\": \".page-item.active+.page-item>a\",\"pageElement\": \"ul.postlist>*\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"bbsPostlist1\",\"url\": \".\",\"nextLink\": [\"a.nxt\",\"a.prev\"],\"pageNum\": \"\\\\-\\\\d+\\\\-{$p}\\\\-\\\\d+\\\\.html\",\"pageElement\": \"div#postlist>*\",\"replaceElement\": \".pgt>div.pg\",\"from\": 2},{\"name\": \"Discuz! mobile postlist2\",\"url\": \".\",\"pageElement\": \".bm:not(#postlist)>div[id^=post_],.bm:not(#postlist)>div[id^=post_]+div\",\"nextLink\": \"a.nxt\",\"action\": 1,\"from\": 2},{\"name\": \"Discuz! mobile postlist1\",\"url\": \".\",\"pageElement\": \".postlist>div[id^=pid]\",\"nextLink\": \".page>#select_a+a:not([class])\",\"action\": 1,\"from\": 2},{\"name\": \"SkrBT\",\"url\": \"^https://skrbt\",\"pageElement\": \"ul.list-unstyled\",\"nextLinkByJs\": \"let form=doc.querySelector('#search-form'),params=[];if(!form)return null;[].forEach.call(form.querySelectorAll('input'),input=>{params.push(input.name+'='+(input.name=='p'?parseInt(input.value)+1:input.value))});return form.action+'?'+params.join('&')\",\"from\": 2},{\"name\": \" - \",\"url\": \"^https?://(www\\\\.)?gujiguan\\\\.com/Search_Result\\\\.aspx\",\"pageElement\": \"#DataList1>tbody>tr\",\"wait\": \"let nv=doc.querySelector('#keyValue'),ov=document.querySelector('#keyValue');if(!nv||!ov)return false;if(nv.value==ov.value)return true;nv.value=ov.value;doc.querySelector('#sreach').click();doc.querySelector('#DataList1').innerHTML='';return false;\",\"refreshByClick\": \"#sreach\",\"from\": 2},{\"name\": \" - \",\"url\": \"^https?://(www\\\\.)?gujiguan\\\\.com/Book_View\\\\.aspx\",\"pageElement\": \"div#content > img#book\",\"from\": 2},{\"name\": \"COCOMANGA\",\"url\": \"^https?://www\\\\.cocomanga\\\\.com/\",\"pageElement\": \"body > div#mangalist.mh_mangalist\",\"action\": 2,\"from\": 2},{\"name\": \" - \",\"url\": \"^https?://forum\\\\.gamer\\\\.com\\\\.tw/(index|$)\",\"enable\": 0,\"from\": 2},{\"name\": \"goddessfantasy\",\"type\": 0,\"url\": \"^https://www\\\\.goddessfantasy\\\\.net/bbs/\",\"pageElement\": \"//div[@id='messageindex']|//form[@id='quickModForm']\",\"nextLink\": \"//div[@class='pagelinks']/a[text()='']\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Expreview\",\"url\": \"^https://www\\\\.expreview\\\\.com/\",\"loadMore\": \"span.load\",\"from\": 2},{\"name\": \"yande\",\"action\": 0,\"url\": \"^https://yande\\\\.re/\",\"pageElement\": \"ul#post-list-posts>li\",\"nextLink\": \"a.next_page\",\"css\": \".javascript-hide {display: inline-block !important;}\",\"from\": 2},{\"name\": \"playstation\",\"action\": 1,\"css\": \".psw-visually-hide{opacity:1!important}.pagetual_loading{display:none!important}[name='pagetual-iframe']{display:none}\",\"url\": \"^https://store\\\\.playstation\\\\.com/.*/\\\\d+$\",\"pageElement\": \"ul.psw-grid-list\",\"wait\": \"let img=doc.querySelector('ul.psw-grid-list img');return img!=null\",\"nextLinkByUrl\": [\"(.*/)(\\\\d+)$\",\"$1{$2+1}\"],\"pageAction\": \"[].forEach.call(eles[0].querySelectorAll('[loading=lazy]'),img=>{img.src=img.src.replace('w=54&thumb=true','w=230&thumb=false');img.classList.remove('psw-blur')});\",\"from\": 2},{\"name\": \"developer.wordpress\",\"url\": \"^https://developer\\\\.wordpress\\\\.org/\",\"pageElement\": \"#primary>*\",\"nextLink\": \"[rel=next]\",\"from\": 2},{\"name\": \"Moebooru:Danbooru clones\",\"url\": \"^https?://(konachan\\\\.com|yande\\\\.re|www\\\\.sakugabooru\\\\.com)/(post|comment)($|\\\\?|#|/search\\\\?)\",\"pageElement\": \"//li[contains(@class, 'creator-id-')]|//div[@id='comment-list']/div[@class='post']|//table[@class='highlightable']\",\"nextLink\": \"//a[@class='next_page']\",\"css\": \".javascript-hide { display: inline-block !important; }.pagetual_pageBar { display: inline-flex!important;width: 100%!important; }\",\"from\": 2},{\"name\": \"IMHentai\",\"url\": \"^https://imhentai\\\\.xxx\",\"pageElement\": \"#gimg\",\"nextLink\": \".nav_next\",\"css\": \"#footer,#bar{display:none}.pre_img+.nav_pagination{bottom: 10px; position: fixed; width: 100%;left:0;}.return_btn{bottom: 0; position: fixed; width: 100%;left:0;}\",\"lazyImgSrc\": 0,\"from\": 2},{\"name\": \"Search Getty Images\",\"url\": \"^https://www\\\\.gettyimages\\\\.ie\",\"nextLink\": \"button[title='Next page']\",\"pageElement\": \"[data-testid=galleryMosaicAsset]\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://202\\\\.96\\\\.31\\\\.78/\",\"pageElement\": \"body > div.wrap > div#side.list > div.item\",\"nextLinkByJs\": \"let n=doc.querySelector('[title=\\\"Next Page\\\"]');if(!n)return;let params=n.getAttribute('onclick').match(/JavaScript:toUrl\\\\('(.*)',(\\\\d+)\\\\);/);let temp=params[1];let index=params[2];if(temp.indexOf('&cGFn')!=-1)temp=temp.substring(0,temp.indexOf('&cGFn'));let code=window.btoa('page='+index);return temp+'&'+code;\",\"from\": 2},{\"name\": \"\",\"url\": \"^https?://pcpt\\\\.nlc\\\\.cn/\",\"pageElement\": \"#content > div.list-panel.thelist > div.block > table.table\",\"nextLinkByJs\": \"let max=doc.querySelector(`.pagination>.result>b:nth-child(2)`),cur=doc.querySelector(`.pagination>.result>b:nth-child(3)`);let form=doc.querySelector('#fm_id'),params=[];if(!max||!cur||max.innerText==cur.innerText||!form)return null;let formData = new FormData(form); for (let [key, value] of formData) {params.push(key+'='+encodeURIComponent(value))};return form.action.replace(/\\\\?pageCount.*/,'')+'?pageCount='+(parseInt(cur.innerText) + 1)+'#p{'+params.join('&')+'}'\",\"from\": 2},{\"name\": \"Startpage\",\"url\": \"^https://www\\\\.startpage\\\\.com/\",\"pageElement\": \"section.w-gl>div.w-gl__result\",\"nextLink\": \"button.next\",\"action\": 0,\"from\": 2},{\"name\": \"Z-Library\",\"url\": \"^https?://.*(1lib\\\\.(to|us|org)|z-lib\\\\.org|booksc\\\\.(org|eu)|bookfi\\\\.net|b\\\\-ok\\\\.(asia|africa)|1lib\\\\.pl|sg1lib\\\\.org|2lib\\\\.org|book4you\\\\.org)/s/\",\"pageElement\": \"#searchResultBox\",\"from\": 2},{\"name\": \"Pixiv\",\"url\": \"^https://www\\\\.pixiv\\\\.net/\",\"action\": 2,\"pageElement\": \"section>div>div>ul,section>div>ul,div.sc-l7cibp-0.juyBTC>*,div.sc-1eop7y7-0.cJYTWr>*\",\"nextLink\": \"a[class*='filterProps-Styled-Component']:last-child\",\"wait\": 500,\"fitWidth\": false,\"css\": \"@media (min-width: 1000px) {@supports (display:grid)  {.krFoBL { grid-template-columns: repeat(6, 184px); }}}\",\"from\": 2},{\"name\": \"gog\",\"action\": 1,\"url\": \"^https://www\\\\.gog\\\\.com/\",\"pageElement\": \"paginated-products-grid.ng-star-inserted\",\"nextLinkByUrl\": [\"(&page=(\\\\d+))?$\",\"&page={$2+1}\"],\"pageAction\": \"[].forEach.call(eles, ele=>{[].forEach.call(ele.querySelectorAll('source[lazyload]'), source=>{source.setAttribute('srcset',source.getAttribute('lazyload'))})})\",\"from\": 2},{\"name\": \"F \",\"url\": \"^https://fsoufsou\\\\.com/search\",\"nextLink\": \".bottom-pagination-bar+.turn-page-btn\",\"pinUrl\": true,\"css\": \"svg{visibility: visible;}\",\"pageElement\": \"div.organic-results>div\",\"stopSign\": [\"\",\".empty-result-container\"],\"from\": 2},{\"name\": \"Duckduckgo\",\"url\": \"^https://duckduckgo\\\\.com/\\\\?\",\"loadMore\": \".result--more>a,#more-results\",\"from\": 2},{\"name\": \"Bing\",\"action\": 1,\"url\": \"^https://.*\\\\.bing\\\\.com/\",\"nextLink\": \"a[title='Next page'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl\",\"pageElement\": \"ol#b_results>li.b_algo\",\"wait\": \"if(doc==document)return true;doc.documentElement.scrollTop=99999;return doc.querySelector('a[title=\\\\'Next page\\\\'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl')\",\"pageBar\": \"pageBar.className='b_pageBar'\",\"from\": 2},{\"name\": \"Pixabay\",\"url\": \"^https://pixabay\\\\.com\",\"pageAction\": \"eles.forEach(ele=>{let media=ele.querySelector('div.media');let timer;media.onmouseenter=e=>{timer=setTimeout((function() {var mp4 = media.dataset.mp4, webm = media.dataset.webm ? mp4.rsplit(\\\".\\\", 1)[0] + \\\".webm\\\": \\\"\\\", mp4Source = '<source type=\\\"video/mp4\\\" src=\\\"'.concat(mp4, '\\\">'), webmSource = webm ?' <source type=\\\"video/webm\\\" src=\\\"'.concat(webm, '\\\">') : \\\"\\\", videoElement = '<video style=\\\"display:none\\\" onloadeddata=\\\"$(this).addClass(\\\\'playing\\\\').show();\\\" autoplay muted loop>'.concat(mp4Source, \\\"                                 \\\").concat(webmSource, \\\"</video>\\\");media.insertBefore($(videoElement)[0], media.firstChild)}), 300);};media.onmouseleave=e=>{clearTimeout(timer);if(media.firstChild.tagName==='VIDEO')media.removeChild(media.firstChild)};})\",\"pageElement\": \".video-search-results>.row-masonry-cell\",\"nextLink\": \".media_list>a.pure-button\",\"lazyImgSrc\": \"data-lazy\",\"from\": 2},{\"name\": \"xda-developers\",\"url\": \"^https://forum\\\\.xda\\\\-developers\\\\.com/t/\",\"pageElement\": \".block-body>article\",\"from\": 2},{\"name\": \"Standards DOC\",\"url\": \"\\\\.html$\",\"nextLink\": \".header>p>[rel=next]\",\"pageElement\": \".header~*\",\"from\": 2},{\"name\": \"linuxfromscratch\",\"url\": \"^https://www\\\\.linuxfromscratch\\\\.org\",\"pageElement\": \"body>*\",\"css\": \".sect1{overflow-wrap: break-word;}div.navheader{position: relative;}\",\"from\": 2},{\"name\": \"Vipergirls\",\"pageElement\": \"#threads,.posts\",\"url\": \"^https://vipergirls\\\\.to\",\"nextLink\": [\"a[rel='next']\",\"a[rel='prev']\"],\"pageNum\": \"page{$p}$\",\"from\": 2},{\"name\": \"Linux Tips, Tricks and Tutorials | Linuxize\",\"url\": \"^https://linuxize\\\\.com\",\"pageElement\": \".post-list>.flex-wrap>section\",\"lazyImgSrc\": \"data-cfsrc\",\"from\": 2},{\"name\": \"16Personalities\",\"url\": \"^https://www\\\\.16personalities\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"Apphot\",\"url\": \"^https?://apphot\\\\.cc/\",\"pageElement\": \"section.container > div.content-wrap > div.content > article\",\"from\": 2},{\"name\": \"Google Search\",\"nextLink\": [\"id('pnnext')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\",\"id('pnprev')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\"],\"pageElement\": \"id('rso')|id('center_col')/style[contains(.,'relative')][id('rso')]|id('search')/div/div/style[1]\",\"action\": 1,\"pageNum\": \"&start={10*($p-1)}\",\"pageBarTop\": 55,\"url\": \"^https?://[^./]+\\\\.google(?:\\\\.[^./]{2,3}){1,2}/(?:c(?:se|ustom)|search|webhp|m|#)\",\"replaceElement\": \"[role='navigation']>[role='presentation']\",\"css\": \"ol>li{display: inline-flex;}\",\"from\": 2},{\"name\": \"google search mobile\",\"action\": 0,\"url\": \"^https://(?:www\\\\.)?google\\\\..*/search\",\"pageElement\": \"id('rso')/div|id('rso')/style\",\"insert\": \"//div[@role=\\\"progressbar\\\"]/following-sibling::a[@role=\\\"button\\\"]|id(\\\"extrares\\\")//span[count(a)>0]/span/following-sibling::a\",\"nextLink\": 0,\"loadMore\": \"div[role='progressbar']+a[role='button']\",\"from\": 2},{\"name\": \"yandex Images Video search mobile\",\"example\": \"https://yandex.com/\",\"url\": \"^https?://yandex\\\\.(com|ru)/\",\"include\": \".more_direction_next\",\"loadMore\": \".more_direction_next>button\",\"from\": 2},{\"name\": \"yandex web search mobile\",\"example\": \"https://yandex.com/\",\"url\": \"^https?://yandex\\\\.(com|ru)/\",\"include\": \".Pager-More\",\"loadMore\": \".Pager-More\",\"from\": 2},{\"name\": \"Yandex\",\"url\": \"^https?://yandex\\\\.(com|ru)/search/\",\"pageElement\": \"#search-result>li\",\"pageElementCss\": \"content-visibility:visible\",\"from\": 2},{\"name\": \"Discuz Archiver\",\"example\": \"https://bbs.yxfanfan.com/archiver/?fid-13.htmlhttps://bbs.yxfanfan.com/archiver/?tid-225893.html\",\"url\": \"^https?://[^/]+/archiver/\\\\?(fid|tid)\",\"nextLink\": \"strong+a\",\"pageElement\": \"#content\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.ixdzs.com/sort/1/\",\"url\": \"^https?://tw\\\\.ixdzs\\\\.com/(sort|hot|end)/\",\"nextLink\": \"a.num.current+a\",\"pageElement\": \".u-list\",\"replaceElement\": \"div.panel+div>.pagei\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.ixdzs.com/read/38804/p1.html\",\"url\": \"^https?://tw\\\\.ixdzs\\\\.com/read/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"nextLink\": \"a.chapter-paging.chapter-next\",\"pageElement\": \"#page .page-content\",\"replaceElement\": \"head>title,.page-d.page-turn,.page-d-top,.read-next,.read-pre,.read-prog-info\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)}gae('.pagetual_pageBar')[0].remove();let t=gae('#page .page-content');if(t.length>10){t[0].remove()}\",\"css\": \".page-content{margin-top:.16rem!important}.page-content h3{line-height:.20rem!important;font-size:.24rem!important;text-align:center!important}\",\"from\": 2},{\"name\": \"UUuuks.org - \",\"example\": \"https://www.uuks.org/b/53487/668581.html\",\"url\": \"^https?://www\\\\.uuks\\\\.org/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next\",\"pageElement\": \".h1title,#contentbox\",\"replaceElement\": \".fanye\",\"insert\": \".fanye\",\"insertPos\": 1,\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.h1title');let t=gae('#contentbox');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"UUuuks.org - \",\"example\": \"https://m.uuks.org/b/59/731.html\",\"url\": \"^https?://m\\\\.uuks\\\\.org/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#read_next\",\"pageElement\": \"#top,#bookContent\",\"replaceElement\": \"head>title,#read>.rp-switch,#read-page>.rp-switch\",\"css\": \"#read-page .iconback,#read-page .iconhome{display: none!important;}\",\"insert\": \"#read-page>.rp-switch\",\"insertPos\": 1,\"pageBar\": 0,\"from\": 2},{\"name\": \"UU - \",\"example\": \"https://www.uukanshu.com/list/xuanhuan-1.html\",\"url\": \"^https?://(www|tw)\\\\.uukanshu\\\\.com/list/\",\"nextLink\": \"//a[text()='' or text()='']\",\"pageElement\": \".content.clearfix>span\",\"replaceElement\": \"#page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"UU - \",\"example\": \"https://www.uukanshu.com/b/47854/32175.html\",\"url\": \"^https?://(www|tw)\\\\.uukanshu\\\\.com/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next\",\"pageElement\": \".h1title,.contentbox\",\"replaceElement\": \"head>title,.fanye\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.h1title');let t=gae('#contentbox');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"UU - ()\",\"example\": \"https://t.uukanshu.com/booklist.aspx?c=1\",\"url\": \"^https?://(t|sj)\\\\.uukanshu\\\\.com/(booklist|quanben|)\\\\.aspx\",\"loadMore\": \"#showMore\",\"from\": 2},{\"name\": \"UU -  - \",\"example\": \"https://t.uukanshu.com/read.aspx?tid=47854&sid=32186\",\"url\": \"^https?://(t|sj)\\\\.uukanshu\\\\.com/read\\\\.aspx\",\"init\": \"$('.ad_content').remove()\",\"action\": 1,\"history\": 2,\"nextLink\": \"#read_next\",\"pageElement\": \"#divContent > h3,#bookContent\",\"replaceElement\": \"head>title,#read-page>.rp-switch\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar')[0].remove();let h=gae('h3');let t=gae('#bookContent');if(t.length>10){h[0].remove();t[0].remove()}gae('.ad_content')[0].remove()\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.8book.com/booklists/update/\",\"url\": \"^https?://(www\\\\.)?8book\\\\.com/booklists/(update|newrelease|finish|list|\\\\d+)/\",\"nextLink\": \"li[onclick]+li>a\",\"pageElement\": \".row>div.p-2\",\"replaceElement\": \".row>li\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.8book.com/read/125687/?312407\",\"url\": \"^https?://(www\\\\.)?8book\\\\.com/read/\",\"action\": 1,\"history\": 2,\"init\": \"setTimeout(()=>{let t=document.querySelector('#text');t.innerHTML=t.innerHTML.replace(/[<br>]{4}[8bokcm.]{9,10}/gi,'')},1000)\",\"nextLink\": \"span.next>a\",\"pageElement\": \"//div[div/@id='subtitle'] | id('text')\",\"waitElement\": [\"#text>br\"],\"replaceElement\": \"//head/title | //div[@class='row mx-0 read_btn_gp']\",\"pageInit\": \"let t=doc.querySelector('#text');t.innerHTML=t.innerHTML.replace(/[<br>]{4}[8bokcm.]{9,10}/gi,'')\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\")[0].remove();let t=gax(\\\"//div[@id='text']\\\");let s=gax(\\\"//div[div/@id='subtitle']\\\");if(t.length>4){t[0].remove();s[0].remove()}\",\"css\": \"#text>br:nth-child(even){display:none!important}#subtitle{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.qidian.com/finish/size5-update1/\",\"url\": \"^https?://www\\\\.qidian\\\\.com/(all|finish|rank|free)/(chanId|size|vip|sign|update|tag)?\",\"nextLink\": \"//li[a/@class='lbf-pagination-page  lbf-pagination-current']/following-sibling::li[1]/a[not(starts-with(@href,'javascript'))]\",\"pinUrl\": true,\"pageElement\": \"#book-img-text\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://read.qidian.com/chapter/9r9u8W1evJUCpOPIBxLXdQ2/EKq5eZhajBtMs5iq0oQwLQ2/\",\"url\": \"^https?://read\\\\.qidian\\\\.com/chapter/\",\"history\": 2,\"nextLink\": \"#j_chapterNext:not(.disabled)\",\"pageElement\": \".text-head,.read-content\",\"replaceElement\": \"head>title,.chapter-control.dib-wrap\",\"css\": \".admire-wrap,.chapter-end-qrcode{display:none!important}\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.text-head');let t=gae('.read-content');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"bixia - \",\"example\": \"http://www.bixia.org/book/3726/\",\"url\": \"^https?://www\\\\.bixia\\\\.org/book/\\\\d+/\",\"nextLink\": \"//a[contains(text(),'')]|//a[contains(text(),'')]\",\"pageElement\": \"#main .list>li\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"bixia - \",\"example\": \"http://www.bixia.org/book/3726/9586349.html\",\"url\": \"^https?://www\\\\.bixia\\\\.org/book/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[contains(text(),'')]|//a[contains(text(),'')]|//a[contains(text(),'')]\",\"pageElement\": \".chapter-name,#content\",\"replaceElement\": \"head>title,.g-content-nav\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;setTimeout(()=>{let n=gx(\\\"//a[contains(text(),'')]\\\");if(n){let l=gae('.chapter-name').length-1;gae('.chapter-name')[l].remove()}},0);setTimeout(()=>{let t=gae('.chapter-name');if(t.length>10){gae('.g-reader>*:not(.chapter-opt):nth-child(n+1):nth-child(-n+4)').forEach(e=>{e.remove()})}},1000)\",\"pageBar\": 0,\"css\": \".chapter-name{font-size:20px!important;font-weight:bold!important;padding-top:10px;padding-bottom:10px;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.bxwx.cc/112/112794/56123570.html\",\"url\": \"^https?://www\\\\.bxwx\\\\.cc/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[contains(text(),'')]\",\"pageElement\": \".word_read>*:not(.read_btn)\",\"replaceElement\": \"head>title,.read_btn\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.bxwx.cc/112/112794/56123570.html\",\"url\": \"^https?://www\\\\.bxwx\\\\.cc/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"#pb_next\",\"pageElement\": \"#chaptername,#txt\",\"replaceElement\": \"head>title,.chapter-page-btn\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://czbooks.net/c/xuanhuan\",\"url\": \"^https?://czbooks\\\\.net/c/\\\\w+\",\"nextLink\": \".nav.paginate>li.active+li>a\",\"pageElement\": \".novel-list>.novel-item-wrapper\",\"replaceElement\": \".nav.paginate\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://czbooks.net/n/ul6pe/ukcme\",\"url\": \"^https?://czbooks\\\\.net/n/\\\\w+/\\\\w+\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".name,.content\",\"replaceElement\": \"head>title,.container .chapter-nav,.main>.chapter-nav,#mm-5>.chapter-nav\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.name');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.bg3.co/novel/pagea/yedemingmingshu-huishuohuadezhouzi_1.html\",\"url\": \"^https?://[^/]+/novel/pagea/[^.]+\\\\.html\",\"include\": \"//title[contains(text(),'') or contains(text(),'')]\",\"action\": 1,\"history\": 2,\"nextLink\": \".next_page_links>a[href$='html']\",\"pageElement\": \".title,.content\",\"replaceElement\": \"head>title,.prev_page,.next_page_links\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('amp-addthis').forEach(e=>{e.remove()});let h=gae('.title');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"css\": \".content>center{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.ttkan.co/novel/chapters/yedemingmingshu-huishuohuadezhouzi\",\"url\": \"^https?://[^/]+/novel/chapters/\",\"include\": [\"//title[contains(text(),'') or contains(text(),'')]\",\"#button_show_all_chatper\"],\"nextLink\": \"0\",\"autoClick\": \"#button_show_all_chatper\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.novel543.com/bookstack/\",\"url\": \"^https?://www\\\\.novel543\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \".layui-row>li\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.novel543.com/1004298677/8001_1.html\",\"url\": \"^https?://www\\\\.novel543\\\\.com/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let h=ge('h1');h.innerText=h.innerText.split('-')[1].trim();let c=ge('.content');c.innerHTML=c.innerHTML.replace(/[^\\\\u4e00-\\\\u9fa5]+(<br>)?/,'<br>').replace(/[^\\\\u4e00-\\\\u9fa5]+$/,'');let ad=ge('.gadBlock,.adBlock');if(ad){ad.remove()}c.innerHTML=c.innerHTML.replace(/<br><br>/g,'<br>');\",\"nextLink\": \"//a[text()='' and not(contains(@href,'end'))]\",\"pageElement\": \"h1,.content\",\"replaceElement\": \"head>title,.is-active,.foot-nav\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let h=ge('h1');h.innerText=h.innerText.split('-')[1].trim();let c=ge('.content');c.innerHTML=c.innerHTML.replace(/[^\\\\u4e00-\\\\u9fa5]+(<br>)?/,'<br>').replace(/[^\\\\u4e00-\\\\u9fa5]+$/,'');let ad=ge('.gadBlock,.adBlock');if(ad){ad.remove()}c.innerHTML=c.innerHTML.replace(/<br><br>/g,'<br>');\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('amp-addthis').forEach(e=>{e.remove()});let h=gae('h1');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"css\": \".gadBlock,.adBlock{display:none!important}#read h1{padding:20px 0 0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.wenku8.net/novel/1/1973/69567.htm\",\"url\": \"^https?://www\\\\.wenku8\\\\.net/novel/\\\\d+/\\\\d+/\\\\d+\\\\.htm\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('#contentmain>[id^=adv]').forEach(e=>{e.remove()})\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='' or text()='' and contains(@href,'.htm')]\",\"pageElement\": \"#title,#content\",\"replaceElement\": \"head>title,#footlink\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('#title');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.ciyuanji.com/chapter/5077_2227754.html\",\"url\": \"^https?://www\\\\.ciyuanji\\\\.com/chapter/\\\\w+\\\\.htm\",\"history\": 2,\"nextLink\": \"//a[button[text()='']]\",\"pageElement\": \"[class^=chapter_title],[class^=chapter_list],[class^=chapter_article]\",\"replaceElement\": \"head>title,[class^='chapter_footer']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('[class^=chapter_title]');let t=gae('[class^=chapter_article]');let l=gae('[class^=chapter_list]');if(t.length>10){h[0].remove();t[0].remove();l[0].remove()}\",\"pageBar\": 0,\"css\": \"[class^=chapter_article]+[class^=chapter_title]{padding-top:0px!important}\",\"from\": 2},{\"name\": \"69 - \",\"example\": \"https://www.69shu.com/top/0.htm\",\"url\": \"^https?://www\\\\.69shu\\\\.com/top/\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.lewenlou.org/list/1-1.html\",\"url\": \"^https?://www\\\\.lewenlou\\\\.org/list/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[@class='panel-body'][div[contains(@class,'col-sm-index')]]\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \" -\",\"example\": \"http://www.lewenlou.org/132/132683/41065575.html\",\"url\": \"^https?://www\\\\.lewenlou\\\\.org/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"nextLink\": \".next>a\",\"pageElement\": \"//div[div[contains(@class,'content-body')]]\",\"replaceElement\": \"head>title,.pager\",\"pageAction\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let t=gax(\\\"//div[div[contains(@class,'content-body')]]\\\");if(t.length>10){t[0].remove()}\",\"pageBar\": 0,\"css\": \".chaptera,#pccontent_tip{display:none!important}\",\"from\": 2},{\"name\": \"69 -\",\"example\": \"https://www.69shu.com/txt/38161/26369110\",\"url\": \"^https?://www\\\\.69shu\\\\.com/txt/\\\\d+/\\\\d+\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".txtnav\",\"replaceElement\": \"head>title\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let t=gae('.txtnav');if(t.length>10)t[0].remove()\",\"from\": 2},{\"name\": \" -\",\"example\": \"http://tongrenquan.org/\",\"url\": \"^https?://tongrenquan\\\\.org/\",\"pinUrl\": true,\"nextLink\": \".page b+a\",\"pageElement\": \".books>.bk\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \" -\",\"example\": \"http://tongrenquan.org/tongren/7070/1.html\",\"url\": \"^https?://tongrenquan\\\\.org/tongren/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".read_chapterName,.read_chapterDetail\",\"replaceElement\": \"head>title,.pageNav\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.read_chapterName');let t=gae('.read_chapterDetail');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".read_chapterName h1{font:24px 'Microsoft YaHei'!important}.read_chapterName{margin-top:25px!important;margin-bottom:15px!important}\",\"from\": 2},{\"name\": \" -\",\"example\": \"https://www.hetubook.com/book/index.php\",\"url\": \"^https?://www\\\\.(hetubook|hetushu)\\\\.com/book2?/index\\\\.php\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#list\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \" -\",\"example\": \"https://www.hetubook.com/book/5849/4387851.html\",\"url\": \"^https?://www\\\\.(hetubook|hetushu)\\\\.com/book2?/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"a#next\",\"pageElement\": \"#content\",\"waitElement\": [\"\",\".mask.mask2\"],\"replaceElement\": \"head>title,#right\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let t=gae('#content');if(t.length>10){t[0].remove()}\",\"css\": \"body,#center,#cbox,#content {overflow: initial !important;position: initial !important;} #right,.sidebarbox{position: fixed !important;right: 0;}#content+#content{padding-top:-10px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.hetubook.com/book/5849/4387851.html\",\"url\": \"^https?://m\\\\.(hetubook|hetushu)\\\\.com/book2?/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"a#next\",\"pageElement\": \".title>h2,#content\",\"waitElement\": [\"\",\".cmask\"],\"replaceElement\": \"head>title,#spage\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.title>h2');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".body>h2{text-align:center!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.hetubook.com/book/5849/catalog-1.html\",\"url\": \"^https?://m\\\\.(hetubook|hetushu)\\\\.com/book/\\\\d+/catalog-\\\\d+\\\\.html\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".dir>dd:not([id])\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"biqu86 - \",\"example\": \"https://www.biqu86.com/xuanhuan/\",\"url\": \"^https?://(www|m)\\\\.biqu86\\\\.com/(xuanhuan|xiuzhen|chuanyue|dushi|lishi|wangyou|kehuan|xiaoshuodaquan)\",\"action\": 1,\"nextLink\": \"li.current+li>a\",\"pageElement\": \".l>ul\",\"replaceElement\": \".pages\",\"css\": \"img{opacity:1!important}\",\"from\": 2},{\"name\": \"biqu86 - \",\"example\": \"https://www.biqu86.com/xiuzhen/3211/1.html\",\"url\": \"^https?://(www|m)\\\\.biqu86\\\\.com/[a-z]+/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,.bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \"#ifexplorer+h1,#content+h1{font:35px ;padding-top:20px;text-align:center}.read-top-ad{display:none!important}\",\"from\": 2},{\"name\": \"bqg9527 - \",\"example\": \"https://www.bqg9527.com/sort/1/\",\"url\": \"^https?://www\\\\.bqg9527\\\\.com/\",\"include\": \"#newscontent\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"bqg9527 - PC\",\"example\": \"https://www.bqg9527.com/zh_hant/book/265472/194745565.html\",\"url\": \"^https?://www\\\\.bqg9527\\\\.com/(zh_hant/)?book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,.bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".read-top-ad{display:none!important}h1{font: 30px !important;text-align:center!important}\",\"from\": 2},{\"name\": \"bqg9527 - \",\"example\": \"https://m.bqg9527.com/zh_hant/book/265472/194745565.html\",\"url\": \"^https?://m\\\\.bqg9527\\\\.com/(zh_hant/)?book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#nr_title,#nr.nr_nr\",\"replaceElement\": \"head>title,.nr_page\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('#nr_title');let t=gae('#nr.nr_nr');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.huanxiyuanjia.com/fenlei/xuanhuan/1/\",\"url\": \"^https?://www.huanxiyuanjia.com/fenlei/\",\"nextLink\": \"//a[text()='>>']\",\"pageElement\": \"#sitebox\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.huanxiyuanjia.com/12_12849/5258090.html\",\"url\": \"^https?://www.huanxiyuanjia.com/[0-9_]+/\\\\d+\\\\.html\",\"init\": \"let gae=e=>document.querySelectorAll(e);gae('#TextContent>*:not(p):nth-child(n+1):nth-child(-n+999)').forEach(e=>{e.remove()});gae('#TextContent>p:nth-child(n+1):nth-child(-n+2)').forEach(e=>{e.remove()});let t=gae('#TextContent')[0];t.innerHTML=t.innerHTML.replace('huanxiyuanjia.com ','');\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next_url\",\"pageElement\": \"h1,#TextContent\",\"replaceElement\": \"head>title,.mlfy_page+.mlfy_page\",\"pageBar\": 0,\"css\": \".mlfy_main h1{padding-bottom:0px!important;border-bottom:none!important}#TextContent>p:nth-child(n+2):nth-child(-n+3){display: none!important;}\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);gae('#TextContent>*:not(p):nth-child(n+1):nth-child(-n+999)').forEach(e=>{e.remove()});gae('#TextContent>p:nth-child(n+1):nth-child(-n+2)').forEach(e=>{e.remove()});let t=gae('#TextContent')[0];t.innerHTML=t.innerHTML.replace('huanxiyuanjia.com ','');\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#TextContent');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.77z5.com/boshi/xuanhuanqihuan/\",\"url\": \"^https?://www\\\\.(boshisw|77z5)\\\\.com/(boshi|modules)/(xuanhuanqihuan|wuxiaxianxia|dushiyanqing|lishijunshi|kehuanlingyi|wangyoudongman|wanben|article)/\",\"nextLink\": \"a.next\",\"pageElement\": \"#newscontent>.l>h2,#newscontent>.l>ul,#content>table.grid #nr\",\"replaceElement\": \".page_b,.pages\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.77z5.com/boshi/28_28437/14990400.html\",\"url\": \"^https?://www\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/\\\\d+\\\\.html\",\"history\": 2,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \"table+h1,#content+h1,.bookname+h1{padding-top:20px;text-align:center}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.77z5.com/boshi/quanben.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+\\\\.html\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#main\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.77z5.com/boshi/28_28437/all.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/(all|p\\\\d+)\\\\.html\",\"init\": \"let b = document.querySelector('body');b.innerHTML = b.innerHTML.replace(/<br>\\\\n<b>\\\\w+<\\\\/b>[^<]+<b>[^<]+<\\\\/b>[^<]+<b>\\\\d+<\\\\/b><br>/,'');\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//div[@id='chapterlist']/p[a/@title]\",\"replaceElement\": \".listpage\",\"pageBar\": 0,\"css\": \"#chapterlist>p[style]{display:none!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.77z5.com/boshi/28_28437/14990400.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/[0-9_]+\\\\.html\",\"history\": 2,\"nextLink\": \"#pt_next\",\"pageElement\": \"header#top,#chaptercontent\",\"replaceElement\": \"head>title,.Readpage\",\"pageBar\": 0,\"css\": \"#chaptercontent p[style],#chaptercontent p[style]+p,#chaptercontent+#top a,[style='text-align: left;color: #028aa0;font-size: 18px;font-weight:bold;']{display: none!important;}#chaptercontent+#top{height:30px!important;line-height:30px!important}\",\"initRun\": 1,\"autoLoadNum\": 1,\"from\": 2},{\"name\": \"www.shoujixs.net_ - \",\"example\": \"https://www.shoujixs.net/xhqh/\",\"url\": \"^https?://www\\\\.shoujixs\\\\.net/\",\"nextLink\": \"#pagelink strong+a:not([class])\",\"pageElement\": \".shoujixsl li,.c_row\",\"replaceElement\": \"#pagelink\",\"from\": 2},{\"name\": \"www.shoujixs.net_ - \",\"example\": \"https://www.shoujixs.net/shoujixs_161450_40736191.html\",\"url\": \"^https?://www\\\\.shoujixs\\\\.net/\\\\w+\\\\.html$\",\"history\": 2,\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \"//div[@class='bookname']/h1 | //div[@id and p]\",\"replaceElement\": \".bottem1,.bottem2\",\"pageBar\": 0,\"css\": \"[id]+h1{padding-top:10px;text-align:center}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.yousuu.com/booklists/?type=man\",\"url\": \"^https?://www\\\\.yousuu\\\\.com/(bookstore|booklists)/\",\"action\": 1,\"waitElement\": [\"\",\".loadingBlock\"],\"init\": \"setTimeout(()=>{document.querySelectorAll('label.tab').forEach(e=>{e.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});document.querySelectorAll('h1>span').forEach(e=>{e.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});},1000)\",\"nextLinkByJs\": \"let next=doc.querySelector('li.number.active+li.number');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+$/,'')+'&page='+next.innerText\",\"pageElement\": \".booklist-card\",\"replaceElement\": \".pagination\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let lsr=location.search.replace(/&page=\\\\d+$/,'');setTimeout(()=>{gae('.number:not(.active)').forEach(e=>{let ls=lsr+'&page='+e.innerText;let link=`location.href='${ls}'`;e.setAttribute('onclick',link)});let pb=ge('.btn-prev');let nb=ge('.btn-next');let c=ge('.number.active');let n=ge('.number.active+.number');if(n){let ls=lsr+'&page='+n.innerText;let link=`location.href='${ls}'`;nb.setAttribute('onclick',link)}if(c.innerText>1){let p=c.innerText-1;let ls=lsr+'&page='+p;let link=`location.href='${ls}'`;pb.setAttribute('onclick',link)}},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOKWALKER JP\",\"example\": \"https://bookwalker.jp/new/?qsto=st2\",\"url\": \"^https?://bookwalker\\\\.jp/(category|search|new)/\",\"include\": \".o-list--menu,.o-list--footer\",\"nextLink\": \".o-pager-next>a\",\"pageElement\": \".o-contents-section__body .m-tile\",\"replaceElement\": [\".o-list--menu\",\".o-list--footer\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOKWALKER JP - \",\"example\": \"https://bookwalker.jp/new/?qsto=st2\",\"url\": \"^https?://bookwalker\\\\.jp/(category|search|new)/\",\"include\": \".o-pager-box\",\"nextLink\": \"li.o-select-box+li>a\",\"pageElement\": \".o-tile-list>.o-tile\",\"replaceElement\": \".o-pager-box\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"BOOKWALKER TW\",\"example\": \"https://www.bookwalker.com.tw/search?m=2&series_display=1&vertical=0&order=sell_desc&s=19\",\"url\": \"^https?://www\\\\.bookwalker\\\\.com\\\\.tw/search\",\"nextLink\": \"//li[span/@class='active']/following-sibling::li[1]/a\",\"pageElement\": \".bookdesc2.clearfix,.row.listbox.clearfix+.row.mar0pad0\",\"replaceElement\": \".bw_main2 > div:first-child,.bw_main2 > div:last-child,.pagebar\",\"initRun\": 1,\"autoLoadNum\": 2,\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOKWALKER TW \",\"example\": \"https://www.bookwalker.com.tw/block/1\",\"url\": \"^https?://www\\\\.bookwalker\\\\.com\\\\.tw/\",\"nextLink\": \"//li[span/@class='active']/following-sibling::li[1]/a\",\"pageElement\": \".book_package\",\"replaceElement\": \".bw_main2 > div:first-child,.bw_main2 > div:last-child,.pagebar\",\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mox.moe\",\"example\": \"https://mox.moe/\",\"url\": \"^https?://mox\\\\.moe\",\"action\": 1,\"nextLink\": \"//a[button/text()='']\",\"pageElement\": \".listbg\",\"replaceElement\": \"td.listtitle[colspan='5']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Bookshop.tw\",\"example\": \"https://www.bookshop.tw/\",\"url\": \"^https?://www\\\\.bookshop\\\\.tw\",\"action\": 1,\"waitElement\": [\"#url_ne[href$='htm']\"],\"nextLink\": \"#url_ne[href$='htm']\",\"pageElement\": \".listbg0\",\"replaceElement\": \"//td[a/@id='url_fr']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.yalayi.com/gallery/\",\"url\": \"^https?://www\\\\.yalayi\\\\.com/\",\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//ul[li/div[@class='img-box']] | //div[@class='girls']/ul\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://myjkwd.com/e/action/ListInfo/?classid=1\",\"url\": \"^https?://myjkwd.com/e/action/ListInfo\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".bloglist > ul\",\"replaceElement\": \".pageLink\",\"css\": \".pagetual_pageBar{width:98.6%!important;}aside.side{display:none!important;}.main-content{margin-left:0px!important;}body{background:#EDEDED!important;}\",\"initRun\": 1,\"autoLoadNum\": 1,\"from\": 2},{\"name\": \" - \",\"example\": \"https://myjkwd.com/e/action/ShowInfo.php?classid=1&id=23726\",\"url\": \"^https?://myjkwd\\\\.com/e/action/ShowInfo\\\\.php\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let e=ge('.entry');e.innerHTML=e.innerHTML.replace('\\\"&gt;','');document.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='39'){let n=ge('.nextinfo a');if(n)n.click()}});document.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='37'){let p=ge('.nextinfo p:last-child a');if(p)p.click()}});\",\"nextLink\": \".pageLink b+a\",\"pageElement\": \".entry img\",\"replaceElement\": \".pageLink\",\"pageBar\": 0,\"rate\": 10,\"css\": \"aside.side,.pageLink{display:none!important;}.main-content{margin-left:0px!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://myjkwd.com/e/search/result/?searchid=7898\",\"url\": \"^https?://myjkwd\\\\.com/e/search/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"h2.r,table[width^='8']\",\"replaceElement\": \".list_page\",\"css\": \"table.nav,table[width^='8'] tr:nth-child(1){display:none!important;}td{font:12px/1.5 Verdana,Arial,Helvetica,sans-serif,''!important}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://gm23.xyz/\",\"url\": \"^https?://gm\\\\d+\\\\.xyz/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src})\",\"nextLink\": \"a.next\",\"pageElement\": \"#main > article\",\"replaceElement\": \"#nav-below\",\"pageBar\": 0,\"from\": 2},{\"name\": \"YINGPIAN\",\"example\": \"https://yingpian89.com/\",\"url\": \"^https?://(yingpian89|69avfilm).com/\",\"nextLink\": \"a[rel='next'],.nav-previous>a\",\"pageElement\": \"div[id^='post-']\",\"replaceElement\": \".wp-pagenavi\",\"wait\": \"let img=doc.querySelector('#content img');return img!=null\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.sssins.com/https://www.nicesss.com/\",\"url\": \"^https?://www\\\\.(sssins|nicesss)\\\\.com/\",\"nextLink\": \"//li[span[@aria-current='page']]/following-sibling::li[1]/a\",\"pageElement\": \".posts-wrapper>*\",\"replaceElement\": \"ul.page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.simracingzone.net/\",\"url\": \"^https?://www\\\\.simracingzone\\\\.net/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#index_ajax_list>*\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hitxhot - \",\"example\": \"https://www.hitxhot.org/\",\"url\": \"^https?://www\\\\.hitxhot\\\\.org/(\\\\?page=\\\\d+)?$\",\"include\": \".pag>.pagination-site\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".videos>.thumb-view\",\"replaceElement\": \".pag>.pagination-site\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hitxhot - \",\"example\": \"https://www.hitxhot.org/gallerys/TUNPcCtCSVhEMXNPZU52TWI2ZnB2Zz09.html\",\"url\": \"^https?://www\\\\.hitxhot\\\\.org/gallerys/\",\"action\": 1,\"init\": \"let F=new DocumentFragment();document.querySelectorAll('.contentme img').forEach(e=>{let img=new Image();img.src=e.src;F.appendChild(img)});let E=document.querySelector('.contentme');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".contentme img\",\"replaceElement\": \".pag>.pagination-site,.c-denomination.s-denomination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/photos/kind-2.htmlhttps://8se.me/photos/model-61be1af337a19.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/(photos|videos|models|fictions|torrents)\",\"exclude\": \"body>.image\",\"init\": \"let bs = document.querySelector('body[style]');if(bs)bs.removeAttribute('style');\",\"pinUrl\": true,\"nextLink\": \"a.next\",\"pageElement\": \".list>.item:not(._300x250),.list>.fiction,.list>.torrent,.videos>.item\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"rate\": 3,\"css\": \".pagetual_pageBar{margin-bottom:5px!important}.videos .pagetual_pageBar{margin-top:30px!important;margin-bottom:0px!important}.slider-ad,.article.ad,.jquery-modal.blocker.current,.banner_ad,.tips,.aside>.center,.item._300x250{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/photo/id-63d02a8cdaf75.htmlhttps://8se.me/photo/id-63938c1972fde.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/photo/\",\"include\": \"img.cr_only\",\"pinUrl\": true,\"action\": 1,\"waitElement\": [\"img.cr_only\"],\"nextLink\": \"a.next\",\"pageElement\": \".photos > a\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"css\": \".photos>div.item,.jquery-modal.blocker.current,.slider-ad,.article.ad,.pager>.tips,body>footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(.customPicDownloadMsg):not(#customPicDownload),.photoMask,.banner_ad{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/photoShow.php?server=1&id=6311c6080f9a5&index=0&pageSize=19&title=%E3%80%90%E6%9C%AA%E5%88%86%E9%A1%9E%E4%BA%BA%E9%AB%94%E6%94%9D%E5%BD%B1%E3%80%91%E9%87%91%E9%AD%9Akinngyo%E3%80%8A%E5%A4%8F%E6%97%A5%E5%8D%88%E5%BE%8C%E3%80%8B\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/photoShow\\\\.php\",\"action\": 1,\"nextLink\": \"//div[@class='image']/a[3][i[@class='fa fa-arrow-right right']][not(starts-with(@href,'java'))]\",\"pageElement\": \".container > img\",\"replaceElement\": \".image>.index,.image>a\",\"css\": \".image>a:nth-child(3),.image>a:nth-child(4),body>.image~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords){display: none!important;}.container>img {max-width: 100% !important;display: block !important;margin: 0 auto !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/search/keyword-%E4%B8%9D%E8%A2%9C/mode-photo.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/search/\",\"init\": \"let bs = document.querySelector('body[style]');if(bs)bs.removeAttribute('style');\",\"nextLink\": \"a.next\",\"pageElement\": \".article.result>.list\",\"replaceElement\": [\"div.article:not(.result)+div.pager\",\"div.article.result+div.pager\"],\"css\": \".pagetual_pageBar+div{margin-top:-5px !important;}.slider-ad,.jquery-modal.blocker.current,.article.ad,.body>*:not(.article):not(.pager),.banner_ad{display:none!important}\",\"rate\": 3,\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/fiction/id-64036d06046a5.htmlhttps://tw.xchina.co/model/id-605849cd980ad.html\",\"url\": \"^https?://(tw\\\\.)?xchina\\\\.co/(fiction|model)/id-\\\\w+\\\\.html\",\"pinUrl\": true,\"nextLink\": \"0\",\"css\": \".aside>.center,.banner_ad{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://tw.xchina.co/fiction/id-64036d06046a5/1.html\",\"url\": \"^https?://(tw\\\\.)?xchina\\\\.co/fiction/id-\\\\w+/\\\\d+\\\\.html\",\"nextLink\": \"a.next\",\"pageElement\": \".article.large\",\"replaceElement\": \".prevNext\",\"css\": \".banner_ad{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.haitangtxt.net/top/\",\"url\": \"^https?://m\\\\.haitangtxt\\\\.net/\",\"nextLink\": \"//a[text()='' or text()='']\",\"pageElement\": \".articlegeneral,.full_content,.chapters>li\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.haitangtxt.net/19/19363/1736943.html\",\"url\": \"^https?://m\\\\.haitangtxt\\\\.net/\",\"nextLink\": \"//a[contains(text(),'') or contains(text(),'')]\",\"pageElement\": \".content_title,#articlecontent\",\"replaceElement\": \".content_top,.novelbutton\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://litu100.xyz/comics.html\",\"url\": \"^https?://litu100\\\\.xyz/\",\"nextLink\": \"a.next\",\"pageElement\": \".list>.item\",\"replaceElement\": \".pager\",\"css\": \"._728x90{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://litu100.xyz/comic/id-624428abcf548/1.html\",\"url\": \"^https?://litu100\\\\.xyz/comic/id-\\\\w+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"a.next\",\"pageElement\": \".article.comic\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"replaceElement\": \".prevNext\",\"pageBarText\": \"return doc.querySelector('.tag[checked=true]').innerText;\",\"css\": \".banner_ad{display:none!important}.pagetual_pageBar{margin-top:2px!important}\",\"from\": 2},{\"name\": \"X \",\"example\": \"https://xbbs.me/forum/id-61fe70f2b9631.html\",\"url\": \"^https?://(tw\\\\.)?xbbs\\\\.me/forum/[^.]+\\\\.html\",\"nextLink\": \"a.next\",\"pageElement\": \".xbbs-item\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"css\": \".slider-ad,.push-top{display:none!important}\",\"from\": 2},{\"name\": \"X \",\"example\": \"https://xbbs.me/thread/id-620bd15362b3d.html\",\"url\": \"^https?://(tw\\\\.)?xbbs\\\\.me/thread/[^.]+\\\\.html\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"a.next\",\"pageElement\": \"//div[div[@class='xbbs-thread-content reply']]\",\"insert\": \".pager\",\"insertPos\": 1,\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.xsnvshen.co/girl/\",\"url\": \"^https?://www\\\\.xsnvshen\\\\.[a-z]{2,3}/\",\"include\": \"#pageNum\",\"nextLink\": \"a.active+a\",\"pageElement\": \"//ul[li[contains(@class,'min')]/a[@class='itemimg']]\",\"replaceElement\": \"#pageNum\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.xsnvshen.co/album/39844?p=1\",\"url\": \"^https?://m\\\\.xsnvshen\\\\.[a-z]{2,3}/album/\\\\d+(\\\\?p=\\\\d+)?\",\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('#arcbox img.nolazy').forEach(img=>{img.src=img.src.replace(/thumb[^/]+\\\\//,'');img.removeAttribute('style');img.parentNode.outerHTML=img.outerHTML});document.querySelectorAll('#arcbox img.lazy[alt]').forEach(img=>{img.src=img.getAttribute('data-original').replace(/thumb[^/]+\\\\//,'');img.removeAttribute('data-original');img.setAttribute('class','nolazy');img.removeAttribute('style');img.parentNode.outerHTML=img.outerHTML});\",\"nextLink\": \"a.pg_next\",\"pageElement\": \"#arcbox img[alt]\",\"replaceElement\": \"#pageNum\",\"pageInit\": \"doc.querySelectorAll('#arcbox img.nolazy').forEach(img=>{img.src=img.src.replace(/thumb[^/]+\\\\//,'');img.removeAttribute('style');});doc.querySelectorAll('#arcbox img.lazy[alt]').forEach(img=>{img.src=img.getAttribute('data-original').replace(/thumb[^/]+\\\\//,'');img.removeAttribute('data-original');img.removeAttribute('style');img.setAttribute('class','nolazy')});\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"sleep\": 5000,\"css\": \"#arcbox img[alt]{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0px auto !important}[id^='ad']{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.wai77.com/tag/%E7%A7%80%E4%BA%BA%E7%BD%91/\",\"url\": \"^https?://www\\\\.wai77\\\\.com/(tag|category|\\\\?s=)\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#recent-content>[id^='post']\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.wai77.com/xiuren%e7%a7%80%e4%ba%ba%e7%bd%91-no-5566-manuela%e7%8e%9b%e9%b2%81%e5%a8%9c-%e6%b7%a1%e7%bb%bf%e7%81%b0%e8%89%b2%e4%b8%8a%e8%a1%a3%e6%90%ad%e9%85%8d%e7%99%bd%e8%89%b2%e7%9f%ad%e8%a3%99/\",\"url\": \"^https?://www\\\\.wai77\\\\.com/[^/]+/\",\"init\": \"let fimgs=document.querySelectorAll('div[data-src]');let alts=document.querySelectorAll('#lightgallery img[alt]');let _img='';for(let i=0;i<fimgs.length;i++){_img+=`<img src='${fimgs[i].dataset.src}'alt='${alts[i].getAttribute('alt')}'>`};document.querySelector('#lightgallery').innerHTML=_img;\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#lightgallery\",\"replaceElement\": \".single-nav-links\",\"pageInit\": \"let fimgs=doc.querySelectorAll('div[data-src]');let alts=doc.querySelectorAll('#lightgallery img[alt]');let _img='';for(let i=0;i<fimgs.length;i++){_img+=`<img src='${fimgs[i].dataset.src}'alt='${alts[i].getAttribute('alt')}'>`};doc.querySelector('#lightgallery').innerHTML=_img;\",\"css\": \".cbox{display:block!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"HD - \",\"example\": \"https://yskhd.com/archives/category/xiuren/xiuren%e7%a7%80%e4%ba%ba%e7%bd%91?t\",\"url\": \"^https?://yskhd\\\\.com/\",\"include\": \".pagination\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".posts\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}.grids{margin:0 -10px 0px!important}\",\"from\": 2},{\"name\": \"Porn Pics - \",\"example\": \"https://www.pornpics.com/galleries/brunette-asian-girl-yui-uehara-gives-a-blowjob-and-gets-fucked-by-two-knobs-29982680/\",\"url\": \"^https?://www\\\\.pornpics\\\\.com/galleries/[^/]+/\",\"include\": \"a[data-tid]\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.parentNode.href})\",\"from\": 2},{\"name\": \"Xgirls - \",\"example\": \"https://xgirlscollection.com/collections\",\"url\": \"^https?://xgirlscollection\\\\.com/\",\"nextLink\": \"//a[i[@class='fa fa-angle-right']]\",\"pageElement\": \"//div[@class='container']/div[@class='row']/div/div[div/div[@class='card-wrapper']/div[@class='card-img']/a/img][@class='row']/*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Xgirls - \",\"example\": \"https://xgirlscollection.com/collection/2015\",\"url\": \"^https?://xgirlscollection\\\\.com/\",\"nextLink\": \"//a[i[@class='fa fa-angle-right']]\",\"pageElement\": \"img[id].collection-image\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.2avtt.com/xingan/\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \"//div[@class='col-left-right'][div/div[@align='center']/following-sibling::div[1]/div[@class='item']]\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.2avtt.com/xingan/54985.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"action\": 1,\"init\": \"let a=document.querySelector('#nextPageTagA');a.outerHTML=a.innerHTML;\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \"#photoMain img[alt]\",\"replaceElement\": \".page,.local>span\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"div[align='center']+div[align='center'],#photoMain br{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.2avtt.com/xingan/\",\"url\": \"^https?://m\\\\.[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"nextLink\": \"//a[@class='last' and text()='']\",\"pageElement\": \"//div[(span) and @class='items']\",\"replaceElement\": \"p.action\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.2avtt.com/xiuren/56166.html\",\"url\": \"^https?://m\\\\.[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"action\": 1,\"init\": \"document.querySelectorAll('.wallpaper-container br').forEach(e=>{e.remove()});let a=document.querySelector('.wallpaper-container>a');a.outerHTML=a.innerHTML;\",\"nextLinkByUrl\": [\"/([^_]+)(_(\\\\d+))?\\\\.html$\",\"/$1_{$3+1}.html\"],\"stopSign\": [[\".title>h2>em\",\"(\\\\d+)\"],[\".title>h2>i\",\"(\\\\d+)\"]],\"pageElement\": \".wallpaper-container img\",\"replaceElement\": \".title>h2>em\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"strong,.wallpaper-container+div[align]{display:none!important}\",\"from\": 2},{\"name\": \"Taotuxp.com - \",\"example\": \"https://www.taotucc.com/\",\"url\": \"^https?://www\\\\.taotucc\\\\.com/\",\"nextLink\": \"a.current+a\",\"pageElement\": \"#post_container\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"Taotuxp.com - \",\"example\": \"https://www.taotucc.com/252555.html\",\"url\": \"^https?://www\\\\.taotucc\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".pagelist>span+a\",\"pageElement\": \"#post_content>p\",\"replaceElement\": \".pagelist\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#post_content img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#content p{margin:0!important}\",\"from\": 2},{\"name\": \"imgasd\",\"example\": \"https://imgasd.com/\",\"url\": \"^https?://imgasd\\\\.com\",\"nextLink\": \"a.active+a\",\"pageElement\": \".list>li\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRL.asia - \",\"example\": \"https://hotgirl.asia/imiss%e7%88%b1%e8%9c%9c%e7%a4%be-vol-693-lavinia%e8%82%89%e8%82%89/\",\"url\": \"^https?://hotgirl\\\\.asia/[^/]+/\",\"include\": \".mx-auto\",\"init\": \"document.querySelectorAll(\\\"img[alt][src^='data']\\\").forEach(e=>{e.parentNode.remove()})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[@class='galeria_img'][img[starts-with(@src,'http')]]\",\"css\": \"#footer,#commentfb,.content-kuss{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"HOTGIRL.asia - \",\"example\": \"https://hotgirl.asia/genre/china/\",\"url\": \"^https?://hotgirl\\\\.asia/(\\\\?s=|genre|tag|photos|livestream|china|korea|videos)(\\\\/)?\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".vl-item,.movies-list,#myimg\",\"replaceElement\": \"#pagination\",\"from\": 2},{\"name\": \"javbangers.com\",\"example\": \"https://www.javbangers.com/latest-updates/\",\"url\": \"^https?://www\\\\.javbangers\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"li.page-current+li.page>a\",\"pageElement\": \".porntrex-box .video-item,.box .item\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"X5AV\",\"example\": \"https://x5av.com/e/action/ListInfo/?classid=2\",\"url\": \"^https?://x5av\\\\.com/(e|popular)/((action|search)/)?\",\"pageElement\": \".videos-container>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"avple.tv - \",\"example\": \"https://avple.tv/search?key=FC2PPV&page=1&sort=date\",\"action\": 1,\"url\": \"^https?://avple\\\\.tv/search\\\\?key=\",\"nextLinkByUrl\": [\"(&page=)(\\\\d+)(&.+)$\",\"$1{$2+1}$3\",\"[aria-label='Go to next page']:not(.Mui-disabled)\"],\"pageElement\": \".jss23\",\"replaceElement\": \".jss15\",\"waitElement\": [\".lazyload-wrapper>img\",\".lazyload-placeholder\"],\"pageInit\": \"doc.querySelectorAll('img.jss29').forEach(img=>{img.setAttribute('class','jss28');img.src=img.src})\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let bs=document.querySelectorAll(`button[aria-label^='Go to page']`);let pp=ge(`button[aria-label='Go to previous page']:not(.Mui-disabled)`);let cp=ge('button.Mui-selected');let np=ge(`button[aria-label='Go to next page']:not(.Mui-disabled)`);let ls=location.search;let m=ls.match(/^(\\\\?key=)([^&]+)(&page=)(\\\\d+)(&sort=date|&sort=view_count|&sort=favorite)/);bs.forEach(button=>{let pn=button.textContent;let link=m[1]+m[2]+m[3]+pn+m[5];let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});if(pp){let cpn=cp.textContent;let p=cpn-1;let link=m[1]+m[2]+m[3]+p+m[5];let lh=`location.href='${link}'`;pp.setAttribute('onclick',lh)}if(np){let npn=cp.parentNode.nextSibling.textContent;let link=m[1]+m[2]+m[3]+npn+m[5];let lh=`location.href='${link}'`;np.setAttribute('onclick',lh)}},1000)\",\"css\": \".lazyload-wrapper+span.jss28{display:none!important;}\",\"from\": 2},{\"name\": \"avple.tv - \",\"example\": \"https://avple.tv/tags/135/1/date\",\"url\": \"^https?://avple\\\\.tv/tags/\\\\d+/\\\\d+/\\\\w+$\",\"action\": 1,\"nextLinkByUrl\": [\"(/\\\\d+/)(\\\\d+)(/\\\\w+)$\",\"$1{$2+1}$3\",\"[aria-label='Go to next page']:not(.Mui-disabled)\"],\"pageElement\": \".jss23\",\"replaceElement\": \".jss15\",\"waitElement\": [\".lazyload-wrapper>img\",\".lazyload-placeholder\"],\"pageInit\": \"doc.querySelectorAll('img.jss29').forEach(img=>{img.setAttribute('class','jss28');img.src=img.src})\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let bs=document.querySelectorAll(`button[aria-label^='Go to page']`);let pp=ge(`button[aria-label='Go to previous page']:not(.Mui-disabled)`);let cp=ge('button.Mui-selected');let np=ge(`button[aria-label='Go to next page']:not(.Mui-disabled)`);let lp=location.pathname;let lps=lp.split('/');bs.forEach(button=>{let pn=button.textContent;let link='/'+lps[1]+'/'+lps[2]+'/'+pn+'/'+lps[4];let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});if(pp){let cpn=cp.textContent;let p=cpn-1;let link='/'+lps[1]+'/'+lps[2]+'/'+p+'/'+lps[4];let lh=`location.href='${link}'`;pp.setAttribute('onclick',lh)}if(np){let npn=cp.parentNode.nextSibling.textContent;let link='/'+lps[1]+'/'+lps[2]+'/'+npn+'/'+lps[4];let lh=`location.href='${link}'`;np.setAttribute('onclick',lh)}},1000)\",\"css\": \".lazyload-wrapper+span.jss28{display:none!important}\",\"from\": 2},{\"name\": \"NETFLAV1\",\"example\": \"https://netflav.com/uncensored\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/(censored|uncensored|chinese-sub|actress)(\\\\?page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=gae(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=gae('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+'?page='+next.getAttribute('value')\",\"pageElement\": \"//div[@class='video_grid_container']/div[contains(@class,'grid_root')]/* | //div[a[@href]/div/img[@class='ui image']]\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.pathname+'?page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NETFLAV2\",\"example\": \"https://netflav.com/uncensored?genre=FC2PPV\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/(censored|uncensored|chinese-sub|actress)\\\\?genre=[^&]+(&page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=gae(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=gae('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+/,'')+'&page='+next.getAttribute('value')\",\"pageElement\": \".video_grid_container>.grid_root>*\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.search.replace(/&page=\\\\d+/,'')+'&page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NETFLAV3\",\"example\": \"https://netflav.com/all?genre=%E6%80%A7%E6%84%9F%E7%9A%84&page=2\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/all\\\\?(genre|actress)=.+(&page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=document.querySelectorAll(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=document.querySelectorAll('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+/,'')+'&page='+next.getAttribute('value')\",\"pageElement\": \".video_grid_container>.grid_root>*\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.search.replace(/&page=\\\\d+/,'')+'&page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"A\",\"example\": \"https://159i.com/video/\",\"url\": \"^https?://159i\\\\.com/video/((category|search)/.+/)?$\",\"nextLink\": \".next>a\",\"pageElement\": \"#content>.post.f\",\"replaceElement\": \".page-navigator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Supjav\",\"example\": \"https://supjav.com/ja/category/uncensored-jav\",\"url\": \"^https?://supjav\\\\.com/(zh/|ja/)?(\\\\?s=|popular|category)\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".posts.clearfix>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://javcaptain.com/uncensored\",\"url\": \"^https?://javcaptain\\\\.com/(en/|ja/|zh/|ko/)?(rank/|series/)?(censored|uncensored|western|fc2|hanime|search)\",\"nextLink\": \"a.page-link[rel='next']\",\"pageElement\": \".card-deck.row>.px-1\",\"replaceElement\": \".pagination.pagination-sm\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AV\",\"example\": \"https://avtime.tv/category/28/\",\"url\": \"^https?://avtime\\\\.tv/\",\"nextLink\": \"//li[(span) and @class='page-item']/following-sibling::li[1]/a\",\"pageElement\": \"//div[div/div/@class='img-box cover-md']\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AVPRO\",\"example\": \"https://avpro.cc/videos/category/847?page_id=1\",\"url\": \"^https?://avpro\\\\.cc/\",\"nextLink\": \"a[title='Next Page']\",\"pageElement\": \".videos-latest-list>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AVPRO - \",\"example\": \"https://avpro.cc/search?keyword=%E7%BE%8E%E5%A5%B3&page_id=1\",\"url\": \"^https?://avpro\\\\.cc/search\",\"nextLinkByUrl\": [\"(keyword=[^&]+)(&page_id=(\\\\d+))?$\",\"$1&page_id={($3.0||1)+1}\",\"li.active+li>a:not([title='Last Page']\"],\"pageElement\": \".videos-latest-list>*\",\"replaceElement\": \".pagination,.showing_pages\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let as=document.querySelectorAll('a.waves-effect:not([title])');let ls=location.search.replace(/&page_id=\\\\d+/,'');as.forEach(a=>{let p=a.innerText;let ap=ls+'&page_id='+p;a.href=ap;a.removeAttribute('onclick')});let fp=ge(`a[title='First Page']`);fp.href=ls;fp.removeAttribute('onclick');let cp=ge('li.active>a').innerText;let app=ge(`a[title='Previous Page']`);if(app!=null){let pp=cp-1;app.href=ls+'&page_id='+pp;app.removeAttribute('onclick')}let np=ge('li.active+li>a').innerText;let anp=ge(`a[title='Next Page']`);if(anp!=null){anp.href=ls+'&page_id='+np;anp.removeAttribute('onclick')}let lp=ge('.showing_pages').innerText;let match=lp.match(/of (\\\\d+)/);let alp=ge(`a[title='Last Page']`);alp.href=ls+'&page_id='+match[1];alp.removeAttribute('onclick')},1000)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AV RBO\",\"example\": \"https://avbro.top/index.php/vod/type/id/12.html\",\"url\": \"^https?://avbro\\\\.top/index\\\\.php/vod/\",\"nextLink\": \".page>li.active+li>a\",\"pageElement\": \".vodlist.clearfix\",\"replaceElement\": \".page\",\"pageAction\": \"document.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"JAVDAY\",\"example\": \"https://javday.tv/category/uncensored-leaked/\",\"url\": \"^https?://javday\\\\.tv/(category|search)/\",\"nextLink\": \".layui-laypage-next\",\"pageElement\": \".videoGroup .video-wrapper .col-style.loaded\",\"replaceElement\": \"div.av\",\"pageBar\": 0,\"from\": 2},{\"name\": \"fanxxx.net\",\"example\": \"https://fanxxx.net/\",\"url\": \"^https?://fanxxx\\\\.net/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".video-list\",\"replaceElement\": \".pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"3xchina.net\",\"example\": \"https://3xchina.net/category/chinese-av/\",\"url\": \"^https?://3xchina\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".videos-list>article\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://aiwucm.com/\",\"url\": \"aiw\",\"include\": [\"//title[contains(text(),'')]\",\".pagination.justify-content-center\"],\"nextLink\": \"a[title='Go to next page!']\",\"pageElement\": \".grid.mx-auto.videos>.cell.video\",\"replaceElement\": \".pagination.justify-content-center\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MISSAV\",\"example\": \"https://missav.com/fc2\",\"url\": \"^https?://missav.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[div/div/a/video] | //div[div/a/img[@data-src] and contains(@class,'shadow-lg')]\",\"replaceElement\": \"nav.flex\",\"pageBar\": 0,\"from\": 2},{\"name\": \"SpankBang\",\"example\": \"https://jp.spankbang.com/trending_videos/\",\"url\": \"^https?://([a-z]{2}\\\\.)?spankbang\\\\.com/\",\"pinUrl\": true,\"nextLink\": \".next:not(.disabled)>a,a.next\",\"pageElement\": \".video-list .video-item[id],#pornstars ul.results li\",\"replaceElement\": \".pagination\",\"pageAction\": \"image_rotate('.video-rotate .thumb')\",\"pageBar\": 0,\"from\": 2},{\"name\": \"New Videos\",\"example\": \"https://watchporn.to/latest-updates/\",\"url\": \"^https?://watchporn\\\\.to/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".list-videos\",\"replaceElement\": \".pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='main.min.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"from\": 2},{\"name\": \"xstarshub\",\"example\": \"https://xstarshub.com/\",\"url\": \"^https?://xstarshub.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-list>article\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Femdom\",\"example\": \"https://femdomup.net/lastnews/\",\"url\": \"^https?://femdomup\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \"article.shortstory\",\"replaceElement\": \".navigation\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='cat.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Mixfemdomcc\",\"example\": \"https://mixfemdomcc.com/lastnews/\",\"url\": \"^https?://mixfemdomcc.com/\",\"nextLink\": \".nnext>a\",\"pageElement\": \".gray-block\",\"replaceElement\": \".basenavi\",\"pageAction\": \"eval(document.querySelector('.gray-block>script').innerHTML)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Jerk-Off Instruction\",\"example\": \"https://joi-me.com/lastnews/\",\"url\": \"^https?://joi-me\\\\.com\",\"action\": \"1\",\"waitElement\": [\"article[style]\"],\"nextLink\": \".page_next>a\",\"pageElement\": \"#container\",\"replaceElement\": \".navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"U9A9\",\"example\": \"https://u9a9.net/\",\"url\": \"^https?://u9a9\\\\.[a-z]{2,3}\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"table>tbody>tr\",\"replaceElement\": \"nav>.pagination\",\"from\": 2},{\"name\": \"Nyaa\",\"example\": \"https://sukebei.nyaa.si/\",\"url\": \"^https?://(sukebei\\\\.)?nyaa\\\\.si/\",\"nextLink\": \"a[rel='next'], li.next>a\",\"pageElement\": \"table.torrent-list>tbody>tr\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.xgmn01.com/Xiuren/\",\"url\": \"^https?://[^/]+/\\\\w+/\",\"include\": [\"body>.container>.content-wrap>.content>.speedbar+.widget-title\",\".widget-title+.pagination\",\"//div[@class='content']//a[text()='']\"],\"nextLink\": \".current+a\",\"pageElement\": \".widget-title\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-15px !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.xgmn01.com/Xiuren/Xiuren23112.html\",\"url\": \"^https?://[^/]+/\\\\w+/\\\\w+\\\\.html\",\"include\": [\"body>section.container>div.content-wrap>div.content>article.article-content img[alt]\",\".article-content>.pagination\",\"//div[@class='content']//a[text()='']\"],\"action\": 1,\"nextLink\": \".current+a\",\"pageElement\": \".article-content img[alt]:not([width])\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"pageAction\": \"document.querySelectorAll('article img[alt]').forEach(img=>{img.removeAttribute('title')})\",\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".article-content img[width],.article-content br{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.xgmn01.com/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://[^/]+/plus/search/index\\\\.asp\\\\?keyword=\",\"include\": \"body>.container>.container+font>font>font>.list>.list>.node+.pagination\",\"nextLink\": \".current+a\",\"pageElement\": \".node\",\"replaceElement\": \".node+.pagination\",\"css\": \".pagetual_pageBar {margin-top: -5px !important;margin-bottom: 15px !important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.meitule.cc/i/\",\"url\": \"^https?://www\\\\.meitule\\\\.cc/\",\"pageElement\": \".list-item\",\"replaceElement\": \".page\",\"css\": \".list-img img{opacity:1!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.v2ph.com/country/taiwan\",\"url\": \"^https?://(www\\\\.)?v2ph\\\\.(com|net|ovh)/\",\"nextLink\": \".active.page-item+li>a\",\"pageElement\": \"//div[(div/div/div/a/@class='media-cover') and contains(@class,'albums-list')]\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar {margin-top: 5px!important;}.pagetual_pageBar+div {margin-top: -8px!important;}img{opacity:1!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.v2ph.com/album/SSA-392\",\"url\": \"^https?://(www\\\\.)?v2ph\\\\.(com|net|ovh)/album/\",\"nextLink\": \".active.page-item+li>a\",\"pageElement\": \"div.album-photo\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"css\": \".album-photo,.photos-list img{opacity:1 !important;position:unset !important;padding:0 !important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://nshens.com/https://inewgirl.com/\",\"url\": \"^https?://(nshens\\\\.com|inewgirl\\\\.com)/\",\"include\": \".v-pagination\",\"pageElement\": \".justify-start>.col\",\"from\": 2},{\"name\": \"onejav.com - \",\"example\": \"https://onejav.com/\",\"url\": \"^https?://onejav\\\\.com/$\",\"loadMore\": \"#button-load-more\",\"from\": 2},{\"name\": \"onejav.com\",\"example\": \"https://onejav.com/new\",\"url\": \"^https?://onejav\\\\.com/(new|popular|tag|actress|search)\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \"div.card.mb-3,.columns.is-multiline\",\"replaceElement\": \"nav.pagination\",\"css\": \".pagetual_pageBar {margin-top: -10px !important;margin-bottom: 21px !important;}\",\"from\": 2},{\"name\": \"jav9999\",\"example\": \"https://jav9999.com/uded/1\",\"url\": \"^https?://jav9999\\\\.com/(1|uded|amateur|chinese|actress|wuman|search)?\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".yps>.yp\",\"replaceElement\": \".row+.ad-list+.row.text-center.fanye>ul.text-center\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://rouv01.xyz/t/%E6%8E%A2%E8%8A%B1\",\"url\": \"^https?://(rouv\\\\d+|rou)\\\\.(xyz|video)/(t|v|search)\",\"pinUrl\": true,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".grid-cols-2>.shadow\",\"replaceElement\": \".bg-white.px-4.py-3\",\"pageBar\": 0,\"css\": \".col-span-2.md\\\\:col-span-1{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://rouman5.com/bookshttps://rouman01.xyz/books\",\"url\": \"^https?://rouman\\\\d{1,2}\\\\.[a-z]{3}/\",\"include\": \"div[class^='pagination']\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"ul[class^='books_list']>li\",\"replaceElement\": \"div[class^='pagination']\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://rouman5.com/books/354b56da-1ab9-4909-9330-743842c5a5bf/0\",\"url\": \"^https?://rouman[0-9]{1,2}\\\\.[a-z]{3}/books/[^/]+/\",\"history\": 2,\"action\": 2,\"init\": \"document.querySelector(\\\"div[class^='id_chapterRoot']\\\").setAttribute('style','padding-right:0px!important;padding-left:0px!important;');\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//div[div/img[@id]]\",\"replaceElement\": \"div[class^='id_pagination']\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let p=gax(\\\"//*[@class='pagetual_pageBar']\\\");if(p.length>1){if(gax('//div[div/img[@id]]').length>0){gax(\\\"//div[div/img[@id]]/preceding-sibling::*[not(contains(@class,'id_pagination'))]\\\").forEach(e=>{e.remove()});gax('//div[div/img[@id]]')[0].remove()}gax('//iframe')[0].remove();p[0].remove()}\",\"pageBarText\": 1,\"css\": \"inIframe:nav.navbar,#__next>div[class^='footer'],.row,div[class^='id_pagination']{display:none!important}.container{padding-right:0px!important;padding-left:0px!important;max-width: 800px!important;}\",\"from\": 2},{\"name\": \"CableAV\",\"example\": \"https://cableav.tv/playlist/lk4cv1f3j1v/\",\"url\": \"^https?://cableav\\\\.tv/\",\"nextLink\": \"span.current+a\",\"pageElement\": \".blog-items>article\",\"replaceElement\": \".wp-pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"HPJAV\",\"example\": \"https://hpav.tv/ja/category/uncensored\",\"url\": \"^https?://(hpav|hpjav)\\\\.tv/\",\"init\": \"document.querySelectorAll('img[data-original]').forEach(img=>{img.src=img.getAttribute('data-original')})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".post-list>*,.models-list>.col-md-2\",\"replaceElement\": \"nav>.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"C - \",\"example\": \"https://niuc.icu/67307.html\",\"url\": \"^https?://niuc[^/]+/\\\\d+\\\\.html\",\"exclude\": \".page-nav\",\"nextLink\": \".nav.previous>a\",\"pageElement\": \".panel.card,.single-top-area.text-sm.card.mt-4\",\"replaceElement\": \".near-navigation.rounded.mt-4.py-2\",\"pageAction\": \"let ps=document.querySelectorAll('.panel.card');let last=ps.length-1;ps[last].querySelectorAll('script').forEach(e=>{eval(e.innerHTML)})\",\"css\": \"#content>main>div.content-wrap>div>h4,h4+div,#comments.comments,.post-apd{display: none!important;}.pagetual_pageBar{margin-top:0px!important;margin-bottom:1rem!important}\",\"from\": 2},{\"name\": \"C - \",\"example\": \"https://niuc.icu/78111.html\",\"url\": \"^https?://niuc[^/]+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('a.js').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"span+a\",\"pageElement\": \"div.panel-body.single.mt-2 > p\",\"replaceElement\": \".page-nav\",\"css\": \".alignnone,p{margin:0!important}.post-apd{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"C - \",\"example\": \"https://niuc.icu/sex\",\"url\": \"^https?://niuc[^/]+/(blog|sex|pornhub|apps)\",\"init\": \"document.querySelectorAll('a[data-src]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`})\",\"nextLink\": \"span.current+a\",\"pageElement\": \".cat_list\",\"replaceElement\": \".posts-nav\",\"pageInit\": \"doc.querySelectorAll('a[data-src]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`})\",\"css\": \".pagetual_pageBar{margin-top:-4px!important}#search+div.row.mb-4,#content>.slide-blog.mb-4{display:none!important}\",\"from\": 2},{\"name\": \",\",\"example\": \"https://madou.club/https://xxxmadou.com/\",\"url\": \"^https?://(madou|xxxmadou|)\\\\.(club|com)/\",\"loadMore\": \".ias_trigger>a\",\"from\": 2},{\"name\": \"\",\"example\": \"https://madoucun.com/\",\"url\": \"^https?://madoucun\\\\.com/\",\"include\": \".hl-page-wrap\",\"pageElement\": \".hl-list-item\",\"replaceElement\": \".hl-page-wrap\",\"pageInit\": \"doc.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"from\": 2},{\"name\": \"XVIDEOS\",\"example\": \"https://www.xvideos.com/\",\"url\": \"^https?://www\\\\.(xvideos|xnxx)\\\\.com/\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1]/a\",\"pinUrl\": true,\"pageElement\": \".mozaique.cust-nb-cols\",\"replaceElement\": \".pagination\",\"pageAction\": \"xv.thumb_block_initiator.init_listing()\",\"from\": 2},{\"name\": \"Pornhub\",\"example\": \"https://cn.pornhub.com/\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/\",\"exclude\": [\".photoAlbumListContainer\",\"#albumListResults\",\".photosAlbumsListing\",\".albumList\",\".centerImage img[alt]\"],\"pinUrl\": true,\"action\": 1,\"nextLink\": \".page_next:not(.disabled)>a\",\"pageElement\": \"#singleFeedSection>.pcVideoListItem,#videoCategory>.pcVideoListItem,#videoSearchResult>.pcVideoListItem,.videoList,.homeSection\",\"replaceElement\": \".paginationGated\",\"from\": 2},{\"name\": \"PornHub album\",\"example\": \"https://cn.pornhub.com/albumshttps://cn.pornhub.com/album/10042641\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/album\",\"pinUrl\": true,\"nextLink\": \".page_next:not(.disabled)>a\",\"pageElement\": \".photoAlbumListContainer,#albumListResults>*,.photosAlbumsListing,.albumList>*\",\"replaceElement\": \".paginationGated\",\"pageInit\": \"doc.querySelectorAll('.js_lazy_bkg').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.bkg}')`})\",\"lazyImgSrc\": \"data-thumb_url\",\"pageBar\": 0,\"from\": 2},{\"name\": \"PornHub photo\",\"example\": \"https://cn.pornhub.com/photo/825175581\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/photo/\\\\d+\",\"init\": \"let a=document.querySelector('.centerImage img[alt]').parentNode;a.outerHTML=a.innerHTML;\",\"nextLink\": \".arrowRight\",\"stopSign\": [[\".itemCount\",\"(\\\\d+)$\"],[\".itemCount\",\"^(\\\\d+)\"]],\"pageElement\": \".centerImage img[alt]\",\"replaceElement\": \".arrowLeft,.arrowRight,.thumbSliderButtons,.thumbSliderContent,.itemCount\",\"pageBar\": 0,\"css\": \".arrowLeft,.arrowRight{display:none!important}#photoImageSection img{margin:0!important}\",\"from\": 2},{\"name\": \"PicHunter\",\"example\": \"https://www.pichunter.com/\",\"url\": \"^https?://www\\\\.pichunter\\\\.com/\",\"enable\": 0,\"from\": 2},{\"name\": \"Porned Up\",\"example\": \"https://pornedup.com/\",\"url\": \"^https?://pornedup.com/pics/\\\\d+/[^/]+/\",\"nextLink\": \"a.control.next\",\"pageElement\": \"div.main\",\"from\": 2},{\"name\": \"YouPorn\",\"example\": \"https://www.youporn.com/recommended/\",\"url\": \"^https?://www\\\\.youporn\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"li.current+li>a\",\"pageElement\": \".full-row-thumbs>[data-espnode='videobox'],.channelLists .full-row-channel,.all-erotica-section>.erotica-box,.fifteen-column .porn-star-list\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"RedTube\",\"example\": \"https://www.redtube.com/hot?cc=us\",\"url\": \"^https?://www\\\\.redtube\\\\.com/\",\"exclude\": \"#trending_country_section\",\"nextLink\": \"#wp_navNext\",\"pageElement\": \".videoblock_list:not([id*='_vid_']):not([id*='_premium_']), .content_limit>ul>li.channel-box\",\"replaceElement\": \"#w_pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='default-redtube.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"Tube8\",\"example\": \"https://www.tube8.com/newest.html\",\"url\": \"^https?://[a-z]{2,3}\\\\.tube8\\\\.com/\",\"nextLink\": \"#pagination_next\",\"pageElement\": \"#category_video_list .video_box, #result_container>.video_box, .sectionWrapper .video_box\",\"replaceElement\": \"#pagination\",\"lazyImgSrc\": \"data-thumb\",\"pageBar\": 0,\"css\": \"#home_page_wrapper>.sectionWrapper:nth-last-child(-n+3) {display: none;}\",\"from\": 2},{\"name\": \"Thumbzilla\",\"example\": \"https://www.thumbzilla.com/newest\",\"url\": \"^https?://www\\\\.thumbzilla\\\\.com/\",\"nextLink\": \".page_next>a\",\"pageElement\": \".responsiveListing>li:not([id]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"91Porn\",\"example\": \"http://91porn.com/index.php\",\"url\": \"^https?://(0118\\\\.)?(91porn|workarea7)\\\\.(com|live)/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".row .row>div\",\"replaceElement\": \"#paging\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.seselah.com/\",\"url\": \"^https?://www\\\\.seselah\\\\.com/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.classList.add('loaded');e.previousElementSibling.setAttribute('srcset',e.previousElementSibling.getAttribute('data-srcset'))})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a/div/picture]\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.classList.add('loaded');e.previousElementSibling.setAttribute('srcset',e.previousElementSibling.getAttribute('data-srcset'))})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"xHamster\",\"example\": \"https://zh.xhamster.com/newest\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/\",\"exclude\": \".fotorama__img\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".thumb-list\",\"replaceElement\": \".pager-section\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.thumb-list');let last=ps.length-1;ps[last].querySelectorAll('a[data-previewvideo]').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('video');v.setAttribute('loop','loop');v.setAttribute('autoplay','autoplay');v.setAttribute('playsinline','playsinline');v.setAttribute('webkitplaysinline','webkitplaysinline');v.setAttribute('src',a.getAttribute('data-previewvideo'));v.setAttribute('class','thumb-image-container__video');v.setAttribute('eid1','156');a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('video').remove()}})\",\"from\": 2},{\"name\": \"xHamster pornstars\",\"example\": \"https://zh.xhamster.com/pornstars\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/pornstars\",\"nextLink\": \"li.next>a\",\"pageElement\": \".thumb-container\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster creators\",\"example\": \"https://zh.xhamster.com/creators\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/creators\",\"nextLink\": \"li.next>a\",\"pageElement\": \".best-list-block>.width-wrap>.thumb-container\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster channels\",\"example\": \"https://zh.xhamster.com/channels\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/channels\",\"nextLink\": \"li.next>a\",\"pageElement\": \".best-list-block>.width-wrap>.channels-thumbs\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster photos\",\"example\": \"https://zh.xhamster.com/photos\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos\",\"nextLink\": \"li.next>a\",\"pageElement\": \".thumb-list.gallery.thumb-list--sidebar\",\"replaceElement\": \".pager-section\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster gallery1 \",\"example\": \"https://zh.xhamster.com/photos/gallery/selfie-porn-pic-134-15984561https://zh.xhamster.com/photos/gallery/selfie-porn-pic-122-15979608\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos/gallery/\",\"include\": \".gallery-list\",\"pinUrl\": true,\"init\": \"let F=new DocumentFragment();window.initials.photosGalleryModel.photos.forEach(e=>{let a=document.createElement('a');a.href=e.pageURL;let img=new Image();img.src=e.imageURL;a.appendChild(img);F.appendChild(a)});let E=document.querySelector('.gallery-list');E.innerHTML='';E.appendChild(F);\",\"action\": 1,\"waitElement\": [\"\",\".image-thumb:not([style])\"],\"nextLink\": \".next>a[href^='http']\",\"pageElement\": \".gallery-list\",\"replaceElement\": \".pager-section>[data-sync]\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/initials/)>-1).innerHTML;let imgData=eval(code).photosGalleryModel.photos;let F=new DocumentFragment();imgData.forEach(e=>{let a=document.createElement('a');a.href=e.pageURL;let img=new Image();img.src=e.imageURL;a.appendChild(img);F.appendChild(a)});let E=doc.querySelector('.gallery-list');E.innerHTML='';E.appendChild(F);\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".gallery-list img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"xHamster gallery2\",\"example\": \"https://zh.xhamster.com/photos/gallery/15979608/513740284\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos/gallery/\",\"exclude\": \".gallery-list\",\"nextLink\": \".fotorama__arr--next\",\"stopSign\": [[\".photo-amounts-info\",\"^(\\\\d+)\"],[\".photo-amounts-info\",\"(\\\\d+)$\"]],\"pageElement\": \".fotorama__active>img\",\"replaceElement\": \".gallery-thumbs,.photo-amounts-info\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#photo_slider *{overflow: initial !important;position: initial !important;}.fotorama__stage{height:auto!important;}.fotorama__loaded--img:not(.fotorama__active){display:none!important}.fotorama__img {max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"EPORNER\",\"example\": \"https://www.eporner.com/\",\"url\": \"^https?://[a-z]{2,3}\\\\.eporner\\\\.com/\",\"nextLink\": \".nmnext\",\"pageElement\": \"#vidresults>[id],.photosgrid,main>.mbprofile\",\"replaceElement\": \".numlist2\",\"pageAction\": \"EPtbnsStandardRebind()\",\"css\": \".pagetual_pageBar{margin-top:-15px!important}.photosgrid+.pagetual_pageBar{margin-top:10px!important}.mbprofile+.pagetual_pageBar{margin-top:0px!important}.mbphoto2+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"EPORNER Photo\",\"example\": \"https://www.eporner.com/photo/02USX1vSH4e/8/\",\"url\": \"^https?://[a-z]{2,3}\\\\.eporner\\\\.com/photo/\",\"init\": \"let img = document.querySelector('.photohref>img[alt]');img.src = img.parentNode.href;\",\"nextLink\": \"#photobitrighta\",\"pageElement\": \"#gridphoto>.photohref,#gridphoto>.mainphoto\",\"pageInit\": \"let img = doc.querySelector('.photohref>img[alt]');img.src = img.parentNode.href;\",\"pageAction\": \"document.querySelectorAll('.photohref').forEach(e=>{e.outerHTML=e.innerHTML})\",\"replaceElement\": \"#photobitlefta,#photobitrighta\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#photobitlefta,#photobitrighta{display:none!important}#gridphoto *{overflow: initial !important;position: initial !important;}img[alt]{max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"YouJizz\",\"example\": \"https://www.youjizz.com/\",\"url\": \"^https?://www\\\\.youjizz\\\\.com/\",\"action\": 1,\"nextLink\": \".pagination-next\",\"pageElement\": \"//div[div[@class='video-thumb']]\",\"replaceElement\": \".pagination, .mobilePager\",\"pageInit\": \"doc.querySelectorAll('video[preload]').forEach(e=>{e.src=e.parentNode.getAttribute('data-clip')})\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let ps=gax(\\\"//div[div[@class='video-thumb']]\\\");let last=ps.length-1;ps[last].querySelectorAll('a.frame.video').forEach(a=>{a.onmouseenter=e=>{let v=a.querySelector('video');v.style='';v.setAttribute('loop','')};a.onmouseleave=e=>{let v=a.querySelector('video');v.style.display='none';v.removeAttribute('loop')}})\",\"from\": 2},{\"name\": \"DaftSex - \",\"example\": \"https://daftsex.com/\",\"url\": \"^https?://daftsex\\\\.com/$\",\"loadMore\": \".more\",\"from\": 2},{\"name\": \"DaftSex - other\",\"example\": \"https://daftsex.com/browse\",\"url\": \"^https?://daftsex\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".video-item\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('.video-thumb').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.thumb}')`})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"ACG RW\",\"example\": \"https://www.acgrw.net/category/lifan/\",\"url\": \"^https?://www\\\\.acgrw\\\\.net/\",\"nextLink\": \"a.next\",\"pageElement\": \".uk-animation-slide-bottom-small\",\"replaceElement\": \".nav-links\",\"pageInit\": \"doc.querySelectorAll('.media-content.scrollLoading:not(.ojbk)').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.xurl}')`;div.classList.add('ojbk');div.removeAttribute('data-xurl')})\",\"from\": 2},{\"name\": \"Latino Hentai\",\"example\": \"https://latinohentai.com/\",\"url\": \"^https?://latinohentai\\\\.com/\",\"nextLink\": \".current+a\",\"pageElement\": \".items\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"Hentai Anime Zone / HentaiDLs / Hentai-Hot\",\"example\": \"https://hentaianimezone.com/https://hentaidls.com/https://hentai-hot.com/\",\"url\": \"^https?://(hentaianimezone|hentaidls|hentai-hot)\\\\.com/\",\"nextLink\": \".navigation>span+a,.nav-links>span.current+a,.pagi-nav span.pnext>a\",\"pageElement\": \"#dle-content>article,.writemag-compact-post-wrapper,.skladchik-item\",\"replaceElement\": \".navigation,.nav-links,.pagi-nav\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Avbebe\",\"example\": \"https://avbebe.com/\",\"url\": \"^https?://avbebe\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".jeg_block_container\",\"replaceElement\": \".jeg_block_navigation\",\"css\": \".pagetual_pageBar{margin-top:-16px!important}\",\"from\": 2},{\"name\": \"H \",\"example\": \"https://h-ciyuan.com/\",\"url\": \"^https?://h-ciyuan\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".gridview-posts\",\"replaceElement\": \".nav-links\",\"from\": 2},{\"name\": \"JavDB\",\"example\": \"https://javdb.com/\",\"url\": \"^https?://javdb\\\\.com/\",\"nextLink\": \"a.pagination-next\",\"pageElement\": \".movie-list, #videos, #makers, #series, #actors>div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:5px!important}\",\"from\": 2},{\"name\": \"JavBus / AVMOO\",\"example\": \"https://www.javbus.com/https://avmoo.click/tw\",\"url\": \"^https?://(www\\\\.)?(javbus|avmoo)\\\\.(com|click)/\",\"nextLink\": \"#next, .pagination>.active+li>a\",\"pageElement\": \"#waterfall>.item\",\"replaceElement\": \".pagination\",\"css\": \"#waterfall>.item {position: static !important; float: left !important; height: 400px !important;}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Javhd.today\",\"example\": \"https://javhd.today/\",\"url\": \"^https?://javhd\\\\.today/\",\"nextLink\": \".pagination>li.active+li>a\",\"pageElement\": \"ul.videos,ul.playlists,div.models,[id^='blog']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}\",\"from\": 2},{\"name\": \"JavDisk\",\"example\": \"https://javdoe.to/https://javfinder.li/\",\"url\": \"^https?://(javdoe|javfinder)\\\\.[a-z]{2,3}/\",\"action\": 1,\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".videos-list\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"porn78.info\",\"example\": \"https://porn78.info/https://nyaa.porn78.info/\",\"url\": \"^https?://(nyaa\\\\.)?porn78.info/\",\"action\": 1,\"nextLink\": \".next>a\",\"pageElement\": \"#portfolio>li\",\"replaceElement\": \".general-pagination\",\"from\": 2},{\"name\": \"Porn87\",\"example\": \"https://porn87.com/\",\"url\": \"^https?://porn87\\\\.com/\",\"nextLink\": \".pagination-next:not(.mobile_pagination)>a\",\"pageElement\": \".column:not(.native_ads)\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"GGJAV\",\"example\": \"https://ggjav.com/main/uncensored\",\"url\": \"^https?://ggjav\\\\.com/\",\"nextLink\": \".pager>a:last-child[href]\",\"pageElement\": \".item.columns:not(.native_ads), .columns.model_chunk\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \"Avgle & AV01\",\"example\": \"avgle.comwww.av01.tv\",\"url\": \"^https?://(www\\\\.)?(avgle|av01)\\\\.(com|tv)/\",\"nextLink\": \".prevnext\",\"pageElement\": \"//div[(div/div/a/div/@class='thumb-overlay') and @class='row']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-9px!important}\",\"from\": 2},{\"name\": \"Jav223\",\"example\": \"https://www.jav223.com/?m=video_list*5*1\",\"url\": \"^https?://www\\\\.jav223\\\\.com/\",\"action\": 1,\"nextLinkByJs\": \"let next = doc.querySelector('span.curwrpage+a'); if (next) return location.href.replace(/\\\\d+$/,'') + next.innerText\",\"pageElement\": \".video-content\",\"waitElement\": [\"span.curwrpage\"],\"replaceElement\": \"#wr-page\",\"pageAction\": \"let ge=e=>document.querySelector(e);let url=location.search.replace(/\\\\d+$/,'');setTimeout(()=>{let as=document.querySelectorAll('a.wrpage_number');as.forEach(a=>{a.href=url+a.innerText});let hp=ge('a.wr_pagefirst');if(hp){hp.href=url+'1'}let ep=ge('a.wr_pageend');if(ep){let epn=ge('span.wr_pagefirst').innerText.match(/(\\\\d+)/)[1];ep.href=url+epn}let pp=ge('a.wr_pagepre');if(pp){let cp=ge('span.curwrpage').innerText;let cpn=cp-1;pp.href=url+cpn}let np=ge('a.wr_pagenext');if(np){let npn=ge('span.curwrpage+a').innerText;np.href=url+npn}},1000)\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"CCAVB\",\"example\": \"https://ccavb.tv/category/%E6%9C%80%E6%96%B0%E4%B8%8A%E5%82%B3\",\"url\": \"^https?://ccavb\\\\.tv/\",\"init\": \"document.querySelectorAll('div.__mantine-ref-control').forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 200)')})\",\"nextLinkByJs\": \"let next=doc.querySelector('[aria-current]+button[tabindex]');if(next)return location.origin+location.pathname.replace(/\\\\/\\\\d+$/,'')+'/'+next.textContent;\",\"pageElement\": \"//div[div/a/div/figure]\",\"insert\": \"//div[div/div/div/a/div/figure][2]\",\"insertPos\": 2,\"replaceElement\": \"[role='navigation']\",\"pageAction\": \"let ge=e=>document.querySelector(e);let url=location.pathname.replace(/\\\\/\\\\d+$/,'');setTimeout(()=>{let bs=document.querySelectorAll(`button[tabindex='0']`);bs.forEach(button=>{let link=url+'/'+button.textContent;let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});let pb=ge(`button[aria-disabled='false']:first-child`);let nb=ge(`button[aria-disabled='false']:last-child`);let cp=ge('[aria-current]').textContent;let pn=cp-1;if(pb){let link=url+'/'+pn;let lh=`location.href='${link}'`;pb.setAttribute('onclick',lh)}if(nb){let nn=ge('[aria-current]+button[tabindex]').textContent;let link=url+'/'+nn;let lh=`location.href='${link}'`;nb.setAttribute('onclick',lh)}},1000)\",\"css\": \"[style='margin-top:20px'],[style='margin-top: 20px;'],.mantine-SimpleGrid-root[style^='margin-bottom']>div:nth-child(1),[style='width:300px;height:190px;margin:0 auto'],[style='width: 300px; height: 190px; margin: 0px auto;'],#__next>.mantine-Stack-root{display:none!important}.mantine-Container-root .mantine-Image-image{margin: 0 auto !important;width: auto!important;height: 210px!important}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"258PORN\",\"example\": \"http://www.258porn.com/list/%E6%97%A5%E9%9F%93%E7%84%A1%E7%A2%BC/0.html\",\"url\": \"^https?://www\\\\.258porn\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpts-wrapper\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-30px!important}\",\"from\": 2},{\"name\": \"MOVIEFFM\",\"example\": \"https://www.movieffm.net/category/hd-uncensored/\",\"url\": \"^https?://www\\\\.movieffm\\\\.net/\",\"nextLink\": \"span.current+a\",\"pinUrl\": true,\"pageElement\": \"#archive-content,.items,.blog-list-items\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-25px!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://jav889.xyz/\",\"url\": \"^https?://jav889\\\\.[^/]+/\",\"nextLink\": \"//li[span/@class='page-numbers current']/following-sibling::li[1]/a\",\"pageElement\": \".posts-wrapper\",\"replaceElement\": \".page-numbers\",\"css\": \".pagetual_pageBar{margin-top:-16px!important}\",\"from\": 2},{\"name\": \"JAVMOST\",\"example\": \"https://www.javmost.cx/category/uncensor/\",\"url\": \"^https?://\\\\w+\\\\.javmost\\\\.[a-z]{2,3}/\",\"nextLink\": \".pagination>li.active+li>a\",\"pageElement\": \"#content-update\",\"replaceElement\": \".pagination,#nav-page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"BuzzAV\",\"example\": \"https://www.buzzav.com/videos\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/(videos|albums)\",\"nextLink\": \".page-item.active+li>a\",\"pageElement\": \".content-left>.row.content-row\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"BuzzAV - album\",\"example\": \"https://www.buzzav.com/album/260/jk\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/album/\\\\d+\",\"nextLink\": \".page-item.active+li>a\",\"pageElement\": \".row>.col-12>.row.content-row\",\"replaceElement\": \".pagination,.well-info\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BuzzAV - photo\",\"example\": \"https://www.buzzav.com/photo/3972/\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/photo/\\\\d+\",\"init\": \"document.querySelector('.thumb-overlay>a').removeAttribute('href');\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".img-responsive-mw\",\"replaceElement\": \".float-right\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"JavDove \",\"example\": \"https://www.javdove.com/videos/uncensored\",\"url\": \"^https?://www\\\\.javdove\\\\.com/\",\"nextLink\": \".prevnext[rel='next']\",\"pageElement\": \".row>.col-video\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"85TUBE\",\"example\": \"https://85tube.com/latest-updates/\",\"url\": \"^https?://85tube\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \"#list_videos_most_recent_videos_items,#list_videos_latest_videos_list_items,#list_videos_common_videos_list_items\",\"replaceElement\": \".pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='main.min.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"css\": \".pagetual_pageBar{margin-top:10px!important}\",\"from\": 2},{\"name\": \"AV8\",\"example\": \"https://www.royal888.xyz/news\",\"url\": \"^https?://www\\\\.royal888\\\\.xyz/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".recommended-grids>.resent-grid\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"AV6K\",\"example\": \"https://av6k.com/rihanwuma/\",\"url\": \"^https?://av6k\\\\.com/(rihanwuma|rihanyouma|jxny|chinese-av-porn|surenzipai|oumeiwuma|chengrendongman|plus)\",\"nextLink\": \".thisclass+li>a,td[width='50']>a\",\"pageElement\": \".listA:not(.clickadulist)\",\"replaceElement\": \".pages_c\",\"from\": 2},{\"name\": \"141 JAV\",\"example\": \"https://www.141jav.com/new\",\"url\": \"^https?://www\\\\.(141jav|141ppv)\\\\.com/\",\"nextLink\": \"a.pagination-next\",\"pageElement\": \"body>.container>.card, body>.container>.columns\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;margin-bottom:20px!important;}\",\"from\": 2},{\"name\": \"JavBooks\",\"example\": \"https://javbooks.com/https://jmvbt.com/\",\"url\": \"^https?://(javbooks|jmvbt)\\\\.com/\",\"nextLink\": \"span.pageback>a\",\"pageElement\": \".Po_topic, .Po_u_topic\",\"replaceElement\": \".PageBar\",\"css\": \".pagetual_pageBar{margin-top:10px!important;margin-bottom:2px!important}\",\"from\": 2},{\"name\": \"JAV Library\",\"example\": \"https://www.javlibrary.com/\",\"url\": \"^https?://www\\\\.javlibrary\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".video, table.pubgroup>tbody>tr:not(#header), table.post\",\"replaceElement\": \".page_selector\",\"from\": 2},{\"name\": \"JavTorrent\",\"example\": \"ijavtorrent.comprojectjav.com\",\"url\": \"^https?://(ijavtorrent|projectjav)\\\\.com/\",\"nextLink\": \"a.btn-secondary+a\",\"pageElement\": \".movie-list, .articles-list, .actress-list\",\"replaceElement\": \"//a[contains(@class, 'gonext')]/parent::div\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"UraakaList\",\"example\": \"https://uraakalist.com/\",\"url\": \"^https?://uraakalist\\\\.com/\",\"action\": 1,\"nextLink\": \"a.next_page\",\"pageElement\": \".image-list,.prof-list\",\"replaceElement\": \"#pagenation\",\"css\": \".pagetual_pageBar{margin-top:-4px!important;margin-bottom:10px!important}.prof-list+.pagetual_pageBar{margin-top:10px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \"Sex Nori\",\"example\": \"https://www.sexnori26.me/bbs/board.php?bo_table=av_korea\",\"url\": \"^https?://www\\\\.sexnori(\\\\d+)?\\\\.me/\",\"nextLink\": \"a.next\",\"pageElement\": \".gallery-item\",\"replaceElement\": \".eb-pagination\",\"css\": \".pagetual_pageBar{margin-top:12px!important}.gallery-item {position: static !important;float: left !important;}\",\"from\": 2},{\"name\": \"3D\",\"example\": \"https://oreno3d.com/\",\"url\": \"^https?://oreno3d\\\\.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".g-main-grid>article\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"FC2 \",\"example\": \"https://adult.contents.fc2.com/search/?q=&genre=30&type=1\",\"url\": \"^https?://adult\\\\.contents\\\\.fc2\\\\.com/search\",\"nextLink\": \"span.items+a[data-link-name='pager']\",\"pageElement\": \".c-cntCard-110-f\",\"replaceElement\": \".c-pager-101\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hentai.tv\",\"example\": \"https://hentai.tv/\",\"url\": \"^https?://hentai\\\\.tv/(trending|genre)\",\"nextLink\": \"button[data-next]\",\"pageElement\": \"[data-results]\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"CartoonPornVideos\",\"example\": \"https://www.cartoonpornvideos.com/popular\",\"url\": \"^https?://www\\\\.cartoonpornvideos\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".thumb-list>div\",\"replaceElement\": \".content>.pagination\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.rouav.com/\",\"url\": \"^https?://www\\\\.rouav\\\\.com/(home)?\",\"nextLink\": \".active+a\",\"pageElement\": \"//div[not(div/@id='loading') and @class='box']\",\"replaceElement\": \".pages\",\"lazyImgSrc\": \"img\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.rouav.com/magnet/index.html\",\"url\": \"^https?://www\\\\.rouav\\\\.com/magnet\",\"nextLink\": \".active+a\",\"pageElement\": \"//div[@class='magnet']\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin-top:-17px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"JieAV\",\"example\": \"www.jieav.comwww.qinav.comwww.qinimg.comwww.yinmh.comwww.txtxi.comwww.dnaav.comwww.jiedm.comwww.tasexy.comwww.feiav.comwww.liliav.comwww.keaiav.comwww.miliav.comwww.huiav.comwww.heihd.comwww.pornff.comwww.comfff.com\",\"url\": \"^https?://(www|cn|jp|kr|ru)\\\\.(jieav|qinav|qinimg|yinmh|txtxi|dnaav|jiedm|tasexy|feiav|liliav|keaiav|miliav|huiav|heihd|pornff|comfff)\\\\.(com|xyz|top)/\",\"nextLink\": \"a.active+a\",\"pageElement\": \".list_box>ul:not([id]):not([class]),.site+.actor_box>ul\",\"replaceElement\": \".pages\",\"lazyImgSrc\": \"img\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 1,\"pageInit\": \"doc.querySelectorAll(`.image>img[img^='h']`).forEach(img=>{img.src=img.getAttribute('img');img.setAttribute('img','')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NEXE\",\"example\": \"https://nehen.xyz/\",\"url\": \"^https?://[^/]+/(\\\\?forwarding.+|best.+|search.+|index.+|amateur.+|danmaku.*|keywords.*)?$\",\"pinUrl\": true,\"include\": \"//title[contains(text(),'NEXE')]\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1][not(@title)]/a\",\"pageElement\": \".margin-top-sm>.hex,.hot-keywords\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('div.media[data-thumb]').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.src}')`;div.removeAttribute('data-src');div.classList.remove('loading');})\",\"pageAction\": \"let es=document.querySelectorAll('.margin-top-sm>.hex');if(es.length>1){let last=[...es].pop();last.querySelectorAll('div[data-thumb]').forEach(e=>{let img=new Image();img.src=e.getAttribute('data-thumb');img.onerror=()=>{e.classList.add('error')}})}\",\"css\": \".pagetual_pageBar{margin-top:0px!important}.hot-keywords+.pagetual_pageBar{margin-top:6px!important}.pagetual_pageBar+.hot-keywords{margin-top:0px!important}.padding-lr-xs.margin-tb-xs {display: none !important;}.mobile .content{padding:0!important}\",\"from\": 2},{\"name\": \"NEXE channels/models\",\"example\": \"https://nehen.xyz/models\",\"url\": \"^https?://[^/]+/(models|channels)\",\"pinUrl\": true,\"include\": \"//title[contains(text(),'NEXE')]\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1][not(@title)]/a\",\"pageElement\": \".margin-top-sm>.hex,.padding-lr-sm>.hex\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('div.media[data-src]').forEach(div=>{div.style.width=div.dataset.width;div.style.height=div.dataset.height+'px';div.style.backgroundImage=`url('${div.dataset.src}')`;div.removeAttribute('data-src');div.removeAttribute('data-height');div.removeAttribute('data-width');div.classList.remove('loading')})\",\"css\": \"h2~.pagetual_pageBar{margin-top:-20px!important}.pagetual_pageBar{margin-top:2px!important}.padding-lr-xs.margin-tb-xs {display: none !important;}.mobile .content{padding:0!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://meirentu.cc/group/xiuren.html\",\"url\": \"^https?://meirentu\\\\.cc/\",\"include\": \".fl_title\",\"nextLink\": \"//a[text()='']\",\"stopSign\": [\"ul.update_area_lists img\"],\"pageElement\": \"ul.update_area_lists\",\"replaceElement\": \"div.page\",\"css\": \".pagetual_pageBar{margin-top: -10px!important;margin-bottom: -10px!important;}.update_area_lists{margin-top: -10px!important;margin-bottom: 0px!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://meirentu.cc/pic/147617207297.html\",\"url\": \"^https?://meirentu\\\\.cc/pic/\",\"include\": \".item_info\",\"init\": \"document.querySelectorAll('.content br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content img\",\"replaceElement\": \"div.page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Asianude4u - \",\"example\": \"https://www.asianude4u.net/\",\"url\": \"^https?://www\\\\.asianude4u\\\\.net/\",\"action\": 1,\"pageElement\": \"#infinite-articles\",\"replaceElement\": \".wp-pagenavi\",\"css\": \".ms-item.homeimg{display:none!important}\",\"from\": 2},{\"name\": \"Fuskator- \",\"example\": \"https://fuskator.com/\",\"url\": \"^https?://fuskator\\\\.com/\",\"pageElement\": \".thumblinks\",\"replaceElement\": \"td.pages\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.tuzac.com/\",\"url\": \"^https?://www\\\\.tuzac\\\\.com/\",\"pageElement\": \".node-teaser\",\"insert\": \"#pager\",\"insertPos\": 1,\"replaceElement\": \"#pager\",\"css\": \".content-container .content{margin-right:0px!important}.ad-side-right,.footer{display:none!important}\",\"from\": 2},{\"name\": \"Chinese Beauties - \",\"example\": \"https://sxchinesegirlz.one/\",\"url\": \"^https?://sxchinesegirlz\\\\.one/\",\"nextLinkByJs\": \"let next=doc.querySelector('span.current+a');if(next)return next.href.replace(/\\\\?fbclid=\\\\w+/i,'');\",\"pageElement\": \".latestPost.excerpt\",\"insert\": \".pagination\",\"insertPos\": 1,\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"COSPLAY ZIP - \",\"example\": \"https://www.coszip.com/\",\"url\": \"^https?://www\\\\.coszip\\\\.com/\",\"pageElement\": \".jeg_inner_content .jeg_block_container\",\"insert\": \".jeg_block_navigation\",\"insertPos\": 1,\"replaceElement\": \".jeg_block_navigation\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.cos6.net/\",\"url\": \"^https?://www\\\\.cos6\\\\.net/\",\"pageElement\": \"posts.posts-item\",\"insert\": \".pagenav.ajax-pag\",\"insertPos\": 1,\"replaceElement\": \".pagenav\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.yylsp.com/\",\"url\": \"^https?://www\\\\.yylsp\\\\.com/\",\"pageElement\": \".posts-item.card\",\"insert\": \".pagenav.ajax-pag\",\"insertPos\": 1,\"replaceElement\": \".pagenav\",\"from\": 2},{\"name\": \"Xiutaku - \",\"example\": \"https://xiutaku.com/brand/1\",\"url\": \"^https?://xiutaku\\\\.com/(\\\\w+/\\\\d+|\\\\w+)?$\",\"init\": \"document.querySelectorAll('.search-form~*,.blog~*:not([class]),.pagination~*').forEach(e=>{e.remove()});\",\"pageElement\": \".columns\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://xiuren0.com/\",\"url\": \"^https?://xiuren0\\\\.com/\",\"init\": \"let gax=x=>{let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};gax(\\\"//div[div[a[img[contains(@data-src,'igusoft')]]]]\\\").forEach(e=>{e.remove()})\",\"pageElement\": \"//div[div[a[img[not(contains(@data-src,'igusoft.com'))]]]]\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" /  /  - \",\"example\": \"https://www.xiurenba.cc/XiuRen/https://www.xrmn01.cc/XiuRen/http://www.imn5.net/XiuRen/XiuRen/\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/\",\"exclude\": [\".item_info\",\".imgwebp\"],\"nextLink\": \"//a[text()='']\",\"pageElement\": \"div.page+ul.update_area_lists>*,script+ul.update_area_lists>*,.excerpts>.excerpt\",\"replaceElement\": \"div.page\",\"pageBar\": 0,\"from\": 2},{\"name\": \" /  /  - \",\"example\": \"https://www.xiurenba.cc/XiuRen/11496.htmlhttps://www.xrmn01.cc/XiuRen/2022/202212158.htmlhttp://www.imn5.net/XiuRen/XiuRen/11535.html\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/\",\"init\": \"document.querySelectorAll('br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content img,.imgwebp img\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".item_title>[id],section.container>p{display:none!important}\",\"from\": 2},{\"name\": \" /  /  - \",\"example\": \"https://www.xiurenba.cc/plus/search/index.asp?keyword=XiuRenhttps://www.xrmn01.cc/plus/search/index.asp?keyword=XiuRenhttp://www.imn5.net/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/plus/search/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".list>.node\",\"replaceElement\": \".page\",\"pageBar\": 0,\"css\": \"section.container>p{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.mfsft.com/gaoqing/tulie/1_1.htmlhttp://www.ywmtw.com/yao/kantum/1_1.html\",\"url\": \"^https?://[^/]+/\",\"include\": \".pagelist a[title='']\",\"init\": \"let gax=x=>{let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};gax(\\\"//div[@id='list']/ul/li[a[not(@title)] or starts-with(@id,'listmmt')]\\\").forEach(e=>{e.remove()})\",\"nextLink\": \"//div[@class='pagelist']/p/u[b]/following-sibling::a[1]\",\"pageElement\": \"//div[@id='list']/ul/li[a[@title and img[@class='lazy']]/following-sibling::div[@class='title']]\",\"replaceElement\": \".pagelist\",\"rate\": 4,\"pageBar\": 0,\"css\": \"[href^='https://www.358a.vip/'],#span_xzappsq,#span_listp,#bdssx,#listmt,#listmt2,#listmt3,#listmt4,#listmmt2,#xzappsq,#listp,#listja,.interestline~br{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.mfsft.com/gaoqing/photo/20221021/139363.htmlhttp://www.ywmtw.com/yao/kantu/20240223/160249.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"#ztlui3\",\"action\": 1,\"init\": \"document.querySelectorAll('#picg a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//div[@class='page']/div[@class='pagelist']//a[text()='']\",\"pageElement\": \"#picg img[alt]\",\"replaceElement\": \".page>.pagelist\",\"css\": \"#picg img:hover{transform:none !important}#picg img{max-width:100% !important;display:block !important;margin:0 auto !important;filter:blur(0px) !important}body>br,.interestline+center,center+#pic,#xzpap1,#divpsgx,#bdivpx,#divfts,#divftsp,#app+div,#xzappsq,div.bg-text,#divpsg,#divStayTopright2,#bdssy,#qrcode2,#d5tig,#pcapicb,#google_translate_element,#d5a>*:not([id]):not([class]){display:none !important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.mizugigurabia.com/\",\"url\": \"^https?://www\\\\.mizugigurabia\\\\.com/\",\"action\": 1,\"nextLink\": \".pn2 .page-link+a\",\"pageElement\": \".list>li\",\"replaceElement\": \".pn2\",\"css\": \".kb-l img,.kb-r{opacity:1!important}#content1>br{display:none!important}\",\"rate\": 3,\"from\": 2},{\"name\": \"\",\"example\": \"https://kenshin.hk/category/jnews/photoalbum/\",\"url\": \"^https?://kenshin\\\\.hk/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"div[id^=post].post\",\"replaceElement\": \".navigation\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.umeitu.com/i/\",\"url\": \"^https?://www\\\\.umeitu\\\\.com/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".viptop~li\",\"replaceElement\": \".page_navi\",\"css\": \"img{opacity:1!important}\",\"from\": 2},{\"name\": \"Models Vibe\",\"example\": \"https://www.modelsvibe.com/albums/china/\",\"url\": \"^https?://www\\\\.modelsvibe\\\\.com/albums/\\\\w+/\",\"nextLinkByUrl\": [\"(albums/\\\\w+/)(page/(\\\\d+)/)?\",\"$1page/{$3+1}/\"],\"pageElement\": \".td_flex_block:not(.td-flex-radius),.td_block_inner.tdb-block-inner\",\"pageInit\": \"doc.querySelectorAll('span[data-img-url]').forEach(span=>{span.classList.add('td-animation-stack-type0-2');span.style.backgroundImage=`url('${span.dataset.imgUrl}')`})\",\"from\": 2},{\"name\": \"Hanime1\",\"example\": \"https://hanime1.me/search?genre=%E8%A3%8F%E7%95%AA&duration=&sort=&query=&year=&month=\",\"url\": \"^https?://hanime1\\\\.me/(search|comics)\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".home-rows-videos-wrapper>a,.content-padding-new,.comics-related-wrapper>.comic-rows-videos-div\",\"replaceElement\": \".pagination\",\"lazyImgSrc\": \"data-srcset\",\"css\": \".home-rows-videos-div{margin-bottom:10px!important;}.search-pagination{margin-top:-50px!important;}\",\"from\": 2},{\"name\": \"Hanime1 - \",\"example\": \"https://hanime1.me/comic/65225\",\"url\": \"^https?://hanime1\\\\.me/comic/\\\\d+$\",\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let loop=setInterval(()=>{let b=document.querySelector(\\\"#comics-thumbnail-show-btn-wrapper:not([style*='none'])\\\");if(b){b.querySelector('#show-all-comics-btn').click()}if(!b){clearInterval(loop)}},2000)\",\"from\": 2},{\"name\": \"Hanime1 - \",\"example\": \"https://hanime1.me/comic/80357/1\",\"url\": \"^https?://hanime1\\\\.me/comic\\\\/\\\\d+\\\\/\\\\d\",\"nextLink\": \"a.comic-show-content-nav-item-wrapper.arrow-right\",\"pageElement\": \"img#current-page-image\",\"replaceElement\": \".comic-show-content-nav\",\"css\": \"#current-page-image {display: block !important; margin: 0 auto !important; max-height: calc(250vh) !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://18comic.vip/https://18comic.org/\",\"url\": \"^https?://18comic\\\\.(vip|org)/(album|search|blogs|videos|movies|promotes)\",\"pinUrl\": true,\"init\": \"setTimeout(()=>{let c=document.querySelector('button#chk_cover');if(c){c.click()}},2000);document.querySelectorAll(`img[src*='blank.jpg'][data-original]`).forEach(img=>{img.src=img.getAttribute('data-original')})\",\"nextLink\": \"#wrapper>.container>div:not(.row)>.pagination .prevnext\",\"pageElement\": \"#wrapper>.container>.row:not(:last-of-type):not(.visible-xs)\",\"replaceElement\": \"#wrapper>.container>div:not(.row)>.pagination\",\"autoClick\": \"#chk_cover\",\"css\": \".row>[style='z-index: 0;'], .col-lg-3.col-md-3.col-sm-3.col-xs-6 {display: none !important;}\",\"from\": 2},{\"name\": \"18  - \",\"example\": \"https://www.18mh.cc/index-html-status-2\",\"url\": \"^https?://www\\\\.18mh\\\\.cc/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".liemh.htmls.indliemh>*\",\"replaceElement\": \".pagination\",\"lazyImgSrc\": \"data-url\",\"pageBar\": 0,\"from\": 2},{\"name\": \"18  - \",\"example\": \"https://www.18mh.cc/index-look-name-%E8%AB%8B%E6%BB%91%E5%85%A5%E8%A7%A3%E9%8E%96-cid-NaTcMaxcMjYO0O0O-id-619923\",\"url\": \"^https?://www\\\\.18mh\\\\.cc/index-look\",\"nextLink\": \"//div[@class='c']/a[text()=''][not(@class='n fanye')]\",\"pageElement\": \".e>img:not([style='display:none;'])\",\"replaceElement\": \".c, .b\",\"css\": \".e img {display: block; margin: 0 auto;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"lazyImgSrc\": \"data-url\",\"from\": 2},{\"name\": \"177 /xxiav - \",\"example\": \"www.177picyy.comwww.xxiav.com\",\"url\": \"^https?://www.(177picyy|177pica|xxiav)\\\\.com/\",\"include\": \".nav-links\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#main article\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"177 /xxiav - \",\"example\": \"www.177picyy.comwww.xxiav.com\",\"url\": \"^https?://www.(177picyy|177pica|xxiav).com/\",\"init\": \"let _img='';document.querySelectorAll('img[data-lazy-src]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-lazy-src')}'>`});document.querySelector('.single-content').innerHTML=_img;\",\"include\": \".page-links\",\"nextLink\": \"//div[@class='page-links']/a[span/i[@class='be be-arrowright']]\",\"pageElement\": \".single-content\",\"replaceElement\": \".page-links\",\"pageInit\": \"let _img='';doc.querySelectorAll('img[data-lazy-src]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-lazy-src')}'>`});doc.querySelector('.single-content').innerHTML=_img;\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".single-content+.single-content{margin-top:0px!important}\",\"from\": 2},{\"name\": \"E-Hentai\",\"example\": \"http://e-hentai.org/https://exhentai.org/\",\"url\": \"^https?://(e-hentai|exhentai)\\\\.org/\",\"nextLink\": \"//table[@class='ptt']//a[string()='>'] | id('next') | id('unext')\",\"pageElement\": \".itg>div,.itg>tbody>tr:not(:first-of-type),.gl1t, #gdt>div:not(.c), #img\",\"replaceElement\": \".ptt,.ptb,.sn,.searchnav\",\"css\": \"#img {max-width: 100% !important;height: auto !important;min-height: 400px;}\",\"from\": 2},{\"name\": \"Orzqwq\",\"example\": \"https://orzqwq.com/manga-genre/big-breasts/\",\"url\": \"^https?://orzqwq\\\\.com/\",\"action\": 1,\"nextLink\": \".nextpostslink,li.active+li>a\",\"pageElement\": \".page-content-listing.item-big_thumbnail,.chapter-images-list>.image-item\",\"replaceElement\": \".wp-pagenavi,.pagination\",\"rate\": 3,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 10,\"from\": 2},{\"name\": \"hitomi - \",\"example\": \"https://hitomi.la/?page=2\",\"url\": \"^https?://hitomi\\\\.la/\",\"include\": \".page-container\",\"action\": 1,\"nextLinkByUrl\": [\"([^?]+)(\\\\?page=(\\\\d+))?$\",\"$1?page={($3.0||1)+1}\",\".page-container>ul>li:last-child>a\"],\"pageElement\": \".gallery-content>*\",\"replaceElement\": \".page-container\",\"waitElement\": [\"\",\".gallery-content[style]\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"hitomi - Gallery Info\",\"example\": \"https://hitomi.la/doujinshi/akisame-mabara-ni-natte-%E4%B8%AD%E6%96%87-2431684.html#1\",\"url\": \"^https?://hitomi\\\\.la/(cg|manga|doujinshi|gamecg)/.+\\\\.html#1$\",\"pinUrl\": true,\"css\": \"li[class^='simplePagerPage']{display: inline-block!important;}.simplePagerNav{display:none!important}\",\"from\": 2},{\"name\": \"yande\",\"example\": \"konachan.netkonachan.comyande.rewww.sakugabooru.com\",\"url\": \"^https?://(konachan\\\\.net|konachan\\\\.com|yande\\\\.re|www\\\\.sakugabooru\\\\.com)/(post|comment)($|\\\\?|#|/search\\\\?)\",\"pageElement\": \"//li[contains(@class, 'creator-id-')]|//div[@id='comment-list']/div[@class='post']|//table[@class='highlightable']\",\"nextLink\": \"//a[@class='next_page']\",\"replaceElement\": \"#paginator\",\"pageBar\": 0,\"css\": \".javascript-hide { display: inline-block !important; }.pagetual_pageBar { display: inline-flex!important;width: 100%!important; }\",\"from\": 2},{\"name\": \"Gelbooru\",\"example\": \"gelbooru.comtbib.orgsafebooru.orgillusioncards.booru.orgrule34.xxxhypnohub.netxbooru.com\",\"url\": \"^https?://(illusioncards\\\\.)?(gelbooru|tbib|safebooru|booru|rule34|hypnohub|xbooru)\\\\.(com|org|xxx|net)/.+s=list\",\"nextLink\": \"a[alt='next']\",\"pageElement\": \".thumbnail-container, span.thumb\",\"replaceElement\": \"#paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Rule34\",\"example\": \"rule34hentai.netrule34.paheal.net\",\"url\": \"^https?://rule34(hentai|\\\\.paheal)\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".thumb\",\"replaceElement\": \"#paginator\",\"from\": 2},{\"name\": \"Danbooru\",\"example\": \"danbooru.donmai.use621.net\",\"url\": \"^https?://(danbooru\\\\.)?(donmai|e621)\\\\.(us|net)/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"article\",\"replaceElement\": \".paginator\",\"from\": 2},{\"name\": \"The Hentai World\",\"example\": \"https://thehentaiworld.com/?new\",\"url\": \"^https?://thehentaiworld\\\\.com/\",\"nextLink\": \"a.next, .current+.minithumb>a\",\"papageElementeE\": \".thumb, #doujin>a\",\"replaceElement\": \".navigation, #miniThumbContainer\",\"from\": 2},{\"name\": \"LoLHentai\",\"example\": \"https://www.lolhentai.net/\",\"url\": \"^https?://www\\\\.lolhentai\\\\.net/\",\"action\": 1,\"wait\": 2000,\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[ul/li/div/a/img[@class='thumbnail']]\",\"replaceElement\": \".pagination\",\"rate\": 3,\"from\": 2},{\"name\": \"\",\"example\": \"https://cangku.icu/\",\"url\": \"^https?://cangku\\\\.\",\"action\": 1,\"nextLink\": \"li.number.active+li.number\",\"pageElement\": \".post-list>.row, .category-post>.row, #user-post>.row, #user-favorite>.row, #user-comment .comment-list\",\"waitElement\": [\".post-card-content>.cover\"],\"replaceElement\": \".page-pagination\",\"css\": \".pagetual_pageBar{margin-top:-12px!important}\",\"from\": 2},{\"name\": \" - /\",\"example\": \"https://cangku.icu/\",\"url\": \"^https?://cangku\\\\.[^/]+/(rank|author)\",\"loadMore\": \".container .el-button:not(.is-loading)\",\"from\": 2},{\"name\": \"\",\"example\": \"www.hentaiclub.netwww.sshs.club\",\"url\": \"^https?://www\\\\.(hentaiclub|sshs)\\\\.(net|club)/\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \"article[class]:not(.excerpt-minic-index)\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://ahri8.top/dnew.php?t=1669824000\",\"url\": \"^https?://[^/]+/dnew\\\\.php\",\"include\": \"//div[@id='logo-group']//a[contains(text(),'') or contains(text(),'')]\",\"action\": 1,\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"#gallery\",\"replaceElement\": \".pagination\",\"css\": \"#content>[style^='text-align']{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://ahri8.top/readOnline2.php?ID=97432&host_id=0\",\"url\": \"^https?://[^/]+/readOnline2\\\\.php\",\"include\": \"//div[@id='logo-group']//a[contains(text(),'') or contains(text(),'')]\",\"action\": 1,\"pageElement\": \"[id^=read_online_image]\",\"replaceElement\": \"#page_num1,#next_page_btn_area,#page_num2,#next_page_btn_area2\",\"pageBar\": 0,\"css\": \"#content>.col-lg-12,[id^=read_online_ads_area],#Big_Image~*{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://wnacg.org/albums-index-cate-9.html\",\"url\": \"^https?://(www\\\\.)?(wnacg|htcomic|ssmh\\\\d+)\\\\.[^/]+/(albums|search|photos-index)\",\"nextLink\": \"span.thispage+a\",\"pageElement\": \"li.gallary_item\",\"replaceElement\": \".paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://wnacg.org/photos-view-id-15403544.html\",\"url\": \"^https?://(www\\\\.)?(wnacg|htcomic|ssmh\\\\d+)\\\\.[^/]+/photos-view\",\"include\": \"span.newpagelabel\",\"init\": \"let a=document.querySelector('#imgarea>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"stopSign\": \"let p=doc.querySelector('span.newpagelabel').textContent;let m=p.match(/(\\\\d+)\\\\/(\\\\d+)/);if(m[1]==m[2])return true;\",\"pageElement\": \"#picarea\",\"replaceElement\": \".newpagewrap,.png.bread,.grid_2.cc\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"18x78\",\"example\": \"https://18x78.com/\",\"url\": \"^https?://18x78\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-wrapper\",\"replaceElement\": \".page-numbers\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"ACGN/\",\"example\": \"https://www.bbsacgn.com/https://pipidm.top/https://www.pipidm.top/\",\"url\": \"^https?://(www\\\\.bbsacgn\\\\.com|pipidm\\\\.top|www\\\\.pipidm\\\\.top)/\",\"pageElement\": \".posts-wrapper.scroll>*\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"ACG - \",\"example\": \"https://www.acgxmh.com/hentai/\",\"url\": \"^https?://www\\\\.acgxmh\\\\.com/\",\"nextLink\": \".page.bigpage span+a\",\"pageElement\": \"#list,#doujin_album\",\"replaceElement\": \".page.bigpage\",\"from\": 2},{\"name\": \"ACG - \",\"example\": \"https://www.acgxmh.com/h/314618.html\",\"url\": \"^https?://www\\\\.acgxmh\\\\.com/\",\"nextLink\": \"#pages span+a\",\"pageElement\": \".manga-page img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"css\": \".manga-page a{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://jdaily18.com/view1/category/%e5%af%ab%e7%9c%9f/\",\"url\": \"^https?://jdaily18\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#post_container>*\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"MANGA1000 - /\",\"example\": \"https://manga1000.top/\",\"url\": \"^https?://manga1000\\\\.top/\",\"include\": \".pagination\",\"nextLink\": \"//a[text()='']\",\"pinUrl\": true,\"pageElement\": \".thumb-item-flow\",\"replaceElement\": \".pagination, .col-md-8>.btn-group:first-child\",\"from\": 2},{\"name\": \"MANGA1000 - \",\"example\": \"https://manga1000.top/197/8175/\",\"url\": \"^https?://manga1000\\\\.top/\\\\d+/\\\\d+/\",\"pinUrl\": true,\"history\": 2,\"init\": \"setTimeout(()=>{document.querySelectorAll('img.chapter-img').forEach(img=>{img.src=img.src.replace('https://welovekai.com/proxy.php?link=','')})},500)\",\"nextLinkByJs\": \"let n = doc.querySelector('ul.chapter_select option[selected]').previousElementSibling;if(n!=null) return location.origin+n.value\",\"pageElement\": \"div.chapter-content>img\",\"pageInit\": \"doc.querySelectorAll('img.chapter-img').forEach(img=>{img.src=img.src.replace('https://welovekai.com/proxy.php?link=','')})\",\"replaceElement\": \"span[itemprop='name']\",\"css\": \"img.chapter-img{max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"MANGAROW - \",\"url\": \"^https?://mangarow\\\\.org/chapters/\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".container-chapter-reader\",\"replaceElement\": \"//div[div/div/select]\",\"from\": 2},{\"name\": \"manga1001 - \",\"example\": \"manga1001.inmanga1001.sumangaraw.vip\",\"url\": \"^https?://(manga1001|mangaraw)\\\\.(in|su|vip)/chapters/\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"a[rel='next'],.nextchapter\",\"manualMode\": true,\"from\": 2},{\"name\": \"Rawkuma - \",\"example\": \"https://rawkuma.com/mikata-ga-yowa-sugite-hojo-mahou-ni-toushite-ita-kyuutei-mahou-shi-tsuihou-sarete-saikyou-wo-mezasu-chapter-1/\",\"url\": \"^https?://rawkuma\\\\.com/\",\"pinUrl\": true,\"action\": 1,\"history\": 2,\"nextLink\": \".ch-next-btn\",\"pageElement\": \"#readerarea\",\"replaceElement\": \".chnav.ctop\",\"from\": 2},{\"name\": \"klmanga - \",\"example\": \"https://klmanga.net/bsaq-i-became-a-magical-cheat-loli-witch-my-different-world-life-with-my-reincarnation-privilege-creation-magic-and-the-seed-of-magic-manga-chapter-5.html\",\"url\": \"^https?://klmanga\\\\.net/\",\"include\": \"option[selected]\",\"pinUrl\": true,\"action\": 1,\"history\": 2,\"nextLinkByJs\": \"function gx(x){return doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let next = gx('//option[@selected]/preceding-sibling::option[1]'); if (next) return location.href.replace(/[^-]+\\\\.html$/,'') + next.innerText.match(/[0-9.]+/)[0]+'.html'\",\"pageElement\": \"center .chapter-content\",\"replaceElement\": \".navbar-nav\",\"from\": 2},{\"name\": \"mangabtt - \",\"example\": \"https://mangabtt.com/manga/transmigrating-to-the-otherworld-once-more/chapter-30-eng-li/291628\",\"url\": \"^https?://mangabtt\\\\.com/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"include\": \"option[selected]\",\"nextLink\": \"#nextChapter\",\"pageElement\": \".reading-detail\",\"replaceElement\": \"#chapter-nav\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://yinaw.com/\",\"url\": \"^https?://yinaw\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+.excerpt{margin-top:-2px!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://yinaw.com/23035.html\",\"url\": \"^https?://yinaw\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".fenye span+a\",\"pageElement\": \".article-content>p,.article-content>h2,.article-content>#erphpdown\",\"replaceElement\": \".fenye\",\"pageBar\": 0,\"from\": 2},{\"name\": \"javpark.net\",\"example\": \"https://javpark.net/category/movie/\",\"url\": \"^https?://javpark\\\\.net/category/\",\"action\": 1,\"nextLink\": \"a.next.page-numbers\",\"pageElement\": \"#main article\",\"replaceElement\": \"nav.navigation.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Jable\",\"example\": \"https://jable.tv/new-release/\",\"url\": \"^https?://(jable|fs1)\\\\.(tv|app)/\",\"init\": \"document.querySelectorAll('#list_videos_common_videos_list_sort_list a').forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 800)')})\",\"nextLink\": \"//li[span/@class='page-link active disabled']/following-sibling::li[1]/a\",\"pageElement\": \"section>.row\",\"replaceElement\": \".pagination\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('section>.row');let last=ps.length-1;ps[last].querySelectorAll('.img-box>a').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('video');let img=a.querySelector('img');let src=img.getAttribute('data-preview');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview')});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('video').remove()}})\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"JAVCT\",\"example\": \"https://javct.net/uncensored\",\"url\": \"^https?://javct\\\\.net/\",\"nextLink\": \"li.paginator__item.paginator__item--next>a\",\"pageElement\": \".container>.row.row--grid>*\",\"replaceElement\": \".paginator\",\"rate\": 3,\"pageBar\": 0,\"css\": \".text__links{display:none!important}\",\"from\": 2},{\"name\": \"RIRI TV / playav\",\"example\": \"https://ri1.site/?filter=randomhttps://playav.tv/category/chinese-model\",\"url\": \"^https?://(ri1\\\\.site|playav\\\\.tv)/\",\"pinUrl\": true,\"nextLink\": \"//li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \"#main .thumb-block\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageInit\": \"doc.querySelectorAll('.post-thumbnail-container>img:not(.loaded)').forEach(img=>{if(img){img.setAttribute('class','loaded')}})\",\"pageAction\": \"let url=document.querySelector('#wpst-main-js').src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"pageBar\": 0,\"css\": \"#dclm_modal_screen,#dclm_modal_content,[class^='happy'],.widget.widget_text{display:none!important}\",\"from\": 2},{\"name\": \"tktube\",\"example\": \"https://www.tktube.com/categories/fc2/\",\"url\": \"^https?://(www\\\\.)?tktube\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \".list-videos\",\"replaceElement\": \"[id$='pagination']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.list-videos');let last=ps.length-1;ps[last].querySelectorAll('.item>a>.img').forEach(div=>{div.onmouseenter=e=>{let v=document.createElement('video');let img=div.querySelector('.thumb');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview'),webkitplaysinline:'true',playsinline:'true'});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});div.appendChild(v)};div.onmouseleave=e=>{div.querySelector('video').remove()}})\",\"from\": 2},{\"name\": \"7mmtv - \",\"example\": \"https://7mmtv.sx/zh/uncensored_random/all/index.html\",\"url\": \"^https?://7mmtv\\\\.sx/(zh|en|ja|ko)/[a-z]+_(random|list)/\",\"nextLink\": \"li.page-item.current+li.page-item>a\",\"pageElement\": \".row.content\",\"replaceElement\": \"nav.pagination-row\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.row.content');let last=ps.length-1;ps[last].querySelectorAll('.video').forEach(div=>{div.onmouseenter=e=>{let v=div.querySelector('video[data-src]');v.setAttribute('src',v.getAttribute('data-src'));$(v).css({visibility:'visible'});let l=div.querySelector('.video-loader');$(l).css({visibility:'visible'});setTimeout(()=>{$(l).css({visibility:'hidden'})},500)};div.onmouseleave=e=>{let v=div.querySelector('video[data-src]');let l=div.querySelector('.video-loader');v.setAttribute('src','');v.setAttribute('style','');$(l).css({visibility:'hidden'})}})\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"tokyomotion\",\"example\": \"https://www.tokyomotion.net/\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/(page=\\\\d+)?$\",\"action\": 1,\"nextLink\": \"li.active+li>a\",\"pageElement\": \".col-sm-12>.row>.col-sm-12>.row>*\",\"replaceElement\": \".pagination\",\"wait\": \"let img=doc.querySelector('.col-lg-4 img');return img!=null\",\"pageBar\": 0,\"from\": 2},{\"name\": \"tokyomotion - \",\"example\": \"https://www.tokyomotion.net/album/67719\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/album/\\\\d+\",\"nextLink\": \"ul.pagination:not(.pagination-lg) li.active+li>a\",\"pageElement\": \".row>div[id^=album_photo_]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"tokyomotion - \",\"example\": \"https://www.tokyomotion.net/photo/884869/\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/photo\",\"nextLink\": \"//a[text()='' or text()='Next']\",\"pageElement\": \".thumb-overlay\",\"replaceElement\": \".clearfix+div.pull-left+div\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"tokyomotion\",\"example\": \"https://www.tokyomotion.net/videos\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/(videos|albums)\",\"nextLink\": \"ul.pagination:not(.pagination-lg) li.active+li>a\",\"pageElement\": \".well.well-sm+.row,#wrapper>.container>.row .row>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"magnetdl.com\",\"example\": \"www.magnetdl.com\",\"url\": \"^https?://www\\\\.magnetdl\\\\.com/\",\"nextLink\": \"id('pages')/a[contains(string(),'>')]\",\"pageElement\": \".download>tbody>tr:nth-last-child(n+4)\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"YavTube\",\"example\": \"https://yavtube.com/https://r18hub.com/\",\"url\": \"^https?://(yavtube|r18hub)\\\\.com/\",\"exclude\": \".model-wrapper\",\"nextLink\": \"li.active+li.wave-effect>a\",\"pageElement\": \"ul.item-list\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"PPP.Porn - ( )\",\"example\": \"https://ppp.porn/\",\"url\": \"^https?://ppp\\\\.porn/$\",\"loadMore\": \".btn.btn--sm\",\"from\": 2},{\"name\": \"PPP.Porn\",\"example\": \"https://ppp.porn/\",\"url\": \"^https?://ppp\\\\.porn/\",\"nextLink\": \"//li[a/@class='pagination__item  pagination__item--selected']/following-sibling::li[1]/a\",\"pageElement\": \"div[id^='list_videos']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae(\\\"div[id^='list_videos']\\\");let last=ps.length-1;ps[last].querySelectorAll('figure.aspect-ratio>a').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('VIDEO');let img=a.querySelector('img');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview'),webkitplaysinline:'true',playsinline:'true'});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('VIDEO').remove()}})\",\"replaceElement\": \"nav.pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:16px!important}.padding-bottom-md{padding-bottom:unset!important}nav.pagination{padding-top:var(--space-md)!important}\",\"from\": 2},{\"name\": \"fc2hub\",\"example\": \"https://fc2hub.com/\",\"url\": \"^https?://fc2hub\\\\.com/\",\"action\": 1,\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[(div/div/@class='card shadow') and @class='row']\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"fc2cm \",\"example\": \"https://fc2cm.com/?c=sensen321&nc=0\",\"url\": \"^https?://fc2cm\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"span+a\",\"pageElement\": \"#contentInner aside dl\",\"replaceElement\": \".st-pagelink\",\"pageBar\": 0,\"css\": \".sampleimg_b,img{-webkit-filter:none!important}img{-moz-opacity:1!important;opacity:1!important}\",\"from\": 2},{\"name\": \"r18.clickme.net\",\"example\": \"https://r18.clickme.net/c/new\",\"url\": \"^https?://r18\\\\.clickme\\\\.net/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"#article-list\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"\",\"example\": \"http://2364ck.cc/vodtype/15.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"pinUrl\": true,\"nextLink\": \"li.hidden-xs.active+li>a\",\"pageElement\": \".stui-pannel-bd\",\"replaceElement\": \".stui-pannel-ft\",\"css\": \"body>*:nth-child(1),.stui-vodlist>li:nth-child(n+1):nth-child(-n+3){display:none!important}.pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}.pagetual_pageBar+*{margin-top:-10px!important;}a[data-original]{opacity:1!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.yasetube.com/video/category/javhd\",\"url\": \"^https?://www\\\\.yasetube\\\\.com/\",\"action\": 1,\"waitElement\": [\".video-preview+img[data-src].loaded\",\".video-preview+img[data-src]:not(.loaded)\"],\"nextLink\": \"//li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \".videos-list article\",\"replaceElement\": \".pagination\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let url=gae('#wpst-main-js')[0].src;if(url){fetch(url).then(res=>res.text()).then((res)=>{eval(res)})}let ps=gae('.videos-list');let last=ps.length-1;ps[last].querySelectorAll('img.loaded').forEach(img=>{if(!img.parentNode.getAttribute('data-thumbs')){img.onmouseenter=e=>{img.classList.add('video-img--hidden')}}})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.jokerlu357.cc/index.php/vodtype/121.html\",\"url\": \"^https?://www\\\\.jokerlu\\\\d+\\\\.cc/index\\\\.php/vodtype/.+\\\\.html\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".main-grids>.top-grids+.recommended>.recommended-grids.english-grid\",\"replaceElement\": \".recommended+.recommended>.recommended-grids.english-grid>.clearfix>.pagination\",\"css\": \".pagetual_pageBar{margin-top:12px!important;}\",\"from\": 2},{\"name\": \" \",\"example\": \"https://www.jokerlutxt.top/index.php/vodtype/131.html\",\"url\": \"^https?://www\\\\.jokerlutxt\\\\.top/index\\\\.php/vodtype/.+\\\\.html\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".box tbody\",\"replaceElement\": \"nav.pagination\",\"from\": 2},{\"name\": \"\",\"example\": \"https://9wm9.info/viewforum/38\",\"url\": \"^https?://9wm9\\\\.info/\",\"nextLink\": \"//a[text()='Next page']\",\"pageElement\": \".box tbody\",\"replaceElement\": \"nav.pagination\",\"from\": 2},{\"name\": \"24fa\",\"example\": \"https://www.24fa.com/n93763c49.aspx\",\"url\": \"^https?://(www\\\\.)?\\\\d{2,3}(m|w|faw|fa|aa)?\\\\.[a-z]{2,4}/m?n\\\\w+\\\\.aspx$\",\"include\": \"//title[contains(text(),'24FA')]\",\"init\": \"document.querySelectorAll('#content br').forEach(br=>{br.remove()})\",\"nextLink\": \"li.p_current+li>a\",\"pageElement\": \"#content img[alt]\",\"replaceElement\": \".pager\",\"css\": \"img{margin-top:0px!important;margin-bottom:1px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Hentai Image - \",\"example\": \"https://ja.porn-images-xxx.com/search/\",\"url\": \"^https?://(.+)?(porn-images-xxx|hentai-cosplays|hentai-img)\\\\.com/(search|recently|ranking|search-video|ranking-video)/\",\"nextLink\": \"span+a\",\"pageElement\": \"#center>#display_area_image\",\"replaceElement\": \".wp-pagenavi\",\"css\": \".pagetual_pageBar{margin-top:-30px!important;}#post_list_title+#display_area_image,.pagetual_pageBar+#display_area_image{margin-bottom:0px!important;}\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"from\": 2},{\"name\": \"Hentai Image - \",\"example\": \"hentai-img.comhentai-cosplays.comporn-images-xxx.com\",\"url\": \"^https?://(.+)?(porn-images-xxx|hentai-cosplays|hentai-img)\\\\.com/image/\",\"nextLink\": \"//a[contains(text(),'>') or contains(text(),'next')]\",\"pageElement\": \"#display_image_detail img\",\"replaceElement\": \"script+#paginator,#detail_tag+div+div\",\"css\": \"#display_image_detail a[id]{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.umei.cc/meinvtupian/xingganmeinv/\",\"url\": \"^https?://(www\\\\.)?(umeitu|umei)\\\\.(com|fun|cc)/\",\"include\": \"#pageNum\",\"nextLink\": \".thisclass+a\",\"pageElement\": \"#infinite_scroll,.pic-list>ul\",\"replaceElement\": \"#pageNum\",\"css\": \"#infinite_scroll+.pagetual_pageBar{margin-top:-15px!important}.pagetual_pageBar+#infinite_scroll{margin-top:-15px!important}ul+.pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.umei.cc/meinvtupian/xingganmeinv/255974.htm\",\"url\": \"^https?://(www\\\\.)?(umeitu|umei)\\\\.(com|fun|cc)/\",\"include\": \".pages\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \".big-pic>a\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Wndfx \",\"example\": \"https://www.wndfx.com/\",\"url\": \"^https?://www.\\\\wndfx\\\\.com/\",\"include\": \"nav.pagination\",\"nextLink\": \"//a[text()=' ']\",\"pageElement\": \".update_area_lists\",\"replaceElement\": \"nav.pagination\",\"css\": \".update_area_lists+.pagetual_pageBar{margin-top:-15px!important}.pagetual_pageBar+.update_area_lists{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"Wndfx  - \",\"example\": \"https://www.wndfx.com/gogort/zg/8364.html\",\"url\": \"^https?://www\\\\.wndfx\\\\.com/gogort/\",\"include\": \".nav-links.page_imges\",\"nextLink\": \"span+a\",\"pageElement\": \".article-content img\",\"replaceElement\": \".nav-links.page_imges\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.lesmao.site/\",\"url\": \"^https?://www\\\\.(lsm|lesmao|lsmpx)\\\\.(site|me|pro|co|com|org)/\",\"nextLink\": \".current+a,strong+a\",\"pageElement\": \"#index-pic,#ul-pic\",\"replaceElement\": \".pg\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}#ul-pic img{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.lesmao.site/thread-31035-1-1.html\",\"url\": \"^https?://www\\\\.(lsm|lesmao|lsmpx)\\\\.(site|me|pro|co|com|org)/thread\",\"nextLink\": \"strong+a,a.r\",\"pageElement\": \"#thread-pic li,#pic\",\"replaceElement\": \"#thread-page\",\"css\": \"#thread-pic li,#pic li{margin-bottom: 0px!important;}#pic img{width:100%!important;height:auto!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.taotu8.xyz/\",\"url\": \"^https?://(www|m)\\\\.(192[a-z+]|taotu8)\\\\.(top|com|xyz)/\",\"include\": \".page\",\"nextLink\": \".page b+a\",\"pageElement\": \".piclist>ul\",\"lazyImgSrc\": [\"lazysrc\",\"lazysrc\"],\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-20px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.taotu8.xyz/gq/meinv/xiaoyu847.html\",\"url\": \"^https?://(www|m)\\\\.(192[a-z+]|taotu8)\\\\.(top|com|xyz)/\",\"include\": \".picmainer>h1\",\"action\": 1,\"nextLinkByUrl\": [\"/([^_]+)(_)?(\\\\d+)?(\\\\.html)$\",\"/$1_{($3.0||1)+1}$4\",\".next[href*='_']\"],\"pageElement\": \".picsbox img\",\"replaceElement\": \".next,.pre,.picmainer>h1\",\"waitElement\": [\".picsbox img[style]\"],\"css\": \".picsbox img{opacity: 1!important}.national-day,.picpege,.pictopline p.pright,#back-to-top{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://m.taotu8.xyz/\",\"url\": \"^https?://m\\\\.taotu8\\\\.(top|com|xyz)/\",\"include\": \"#morepic\",\"nextLink\": \"0\",\"loadMore\": \"#morepic\",\"from\": 2},{\"name\": \"Xiuren \",\"example\": \"http://www.xiuren.org/category/TuiGirl.html\",\"url\": \"^https?://www\\\\.xiuren\\\\.org/\",\"include\": \"#page\",\"pinUrl\": true,\"nextLink\": \".next\",\"pageElement\": \"#main>.loop\",\"replaceElement\": \"#page\",\"rate\": 3,\"from\": 2},{\"name\": \"Everia.club\",\"example\": \"https://everia.club/category/gravure/\",\"url\": \"^https?://everia\\\\.club/category\",\"nextLink\": \".next\",\"pageElement\": \".posts-wrapper article\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM \",\"example\": \"https://www.95mm.org/qingchun\",\"url\": \"^https?://www\\\\.95mm\\\\.org/(qingchun|sifang|xinggan|tag)?\",\"include\": \".dposts-ajax-load\",\"loadMore\": \".dposts-ajax-load\",\"from\": 2},{\"name\": \"MM  - \",\"example\": \"https://www.95mm.tv/65309.html\",\"url\": \"^https?://www\\\\.95mm\\\\.\\\\w+/\\\\w+\\\\.html\",\"init\": \"let a=document.querySelector('.post a');a.outerHTML=a.innerHTML;\",\"include\": \".post img[alt]\",\"nextLinkByUrl\": [\"/(\\\\d+)(/)?(\\\\d+)?(\\\\.html)\",\"/$1/{($3.0||1)+1}$4\"],\"stopSign\": [[\".post-title\",\"(\\\\d+)\"],[\".post-title\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \".post img\",\"replaceElement\": \"h1.h3\",\"pageAction\": \"document.querySelectorAll('.post img[title]').forEach(img=>{img.removeAttribute('title')})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"span.d-md-inline-block.d-none:not(.mx-1),.text-xs.text-muted>b{display:none!important}\",\"from\": 2},{\"name\": \"jpmnb  - \",\"example\": \"https://www.jpmnb.net/Xrqj/XiuRen/\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".container>.excerpt\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"from\": 2},{\"name\": \"jpmnb  - \",\"example\": \"https://www.jpmnb.net/Xrqj/XiuRen/19379.html\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/\",\"init\": \"document.querySelectorAll('p br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"p img\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"jpmnb  - \",\"example\": \"https://www.jpmnb.net/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/plus/search/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".list>.node\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Dmmtu  - \",\"example\": \"https://www.dmmtu.com/new/\",\"url\": \"^https?://www\\\\.dmmtu\\\\.com/\",\"include\": \"#pagenavi\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#postlist>*\",\"replaceElement\": \"#pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Dmmtu  - \",\"example\": \"https://www.dmmtu.com/xiezhen/25837.html\",\"url\": \"^https?://www\\\\.dmmtu\\\\.com/\",\"include\": \".link_pages\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".main-body>img\",\"replaceElement\": \".link_pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" INS\",\"example\": \"https://www.ikanins.com/\",\"url\": \"^https?://www\\\\.ikanins\\\\.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"#masonry\",\"replaceElement\": \".wp-pagenavi\",\"from\": 2},{\"name\": \"Sexyxbody\",\"example\": \"https://cn.sexyxbody.com/zone_detail/ouz5i1j\",\"url\": \"^https?://cn\\\\.sexyxbody\\\\.com/(zone_detail|tag_list|tag_detail)\",\"nextLink\": \"a.next\",\"pageElement\": \".blog-posts\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"replaceElement\": \".pgz-pagination\",\"from\": 2},{\"name\": \"Sexyxbody - \",\"example\": \"https://cn.sexyxbody.com/sexy_article/i103swym3j/\",\"url\": \"^https?://cn\\\\.sexyxbody\\\\.com/sexy_article\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".album-post-body>.separator,.album-post-body>br\",\"initRun\": 1,\"autoLoadNum\": \"0\",\"pageBar\": 0,\"replaceElement\": \".pgz-pagination,.album-post-inner,.breadcrumbs\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.99nvshen.com/galleryList/\",\"url\": \"^https?://www\\\\.99nvshen\\\\.com/(articles|galleryList|modelList|paihang)\",\"nextLink\": \".pagination-box li.active+li>a\",\"pageElement\": \".book-list-title+.book-list,.book-list>.row\",\"replaceElement\": \".pagination-box\",\"css\": \".pagetual_pageBar{margin-bottom:-5px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.99nvshen.com/gallery/15123\",\"url\": \"^https?://www\\\\.99nvshen\\\\.com/(gallery|galleryImg)/\\\\d+\",\"nextLink\": \".pagination-box li.active+li>a\",\"pageElement\": \".gallery-detail-img,.gallery-img\",\"replaceElement\": \".pagination-box\",\"pageAction\": \"document.querySelectorAll('.gallery-img').forEach(a=>{a.removeAttribute('href')})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".book-list>div[style]{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"www.gnvshen.comwww.fnvshen.com\",\"url\": \"^https?://www\\\\.(gnvshen|fnvshen)\\\\.com/(gallery|tag)/\",\"nextLink\": \"a.cur+a\",\"pageElement\": \"#listdiv>ul>li\",\"replaceElement\": \".pagesYY\",\"css\": \".pagetual_pageBar{margin-bottom:-5px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"www.gnvshen.comwww.fnvshen.com\",\"url\": \"^https?://www\\\\.(gnvshen|fnvshen|)\\\\.com/g/\",\"nextLink\": \"#pages>span +a:not(.a1), a.cur+a\",\"pageElement\": \"#hgallery>img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#hgallery img{margin:0px!important}\",\"from\": 2},{\"name\": \"Mrcong\",\"example\": \"https://mrcong.com/\",\"url\": \"^https?://mrcong\\\\.com/(page/\\\\d+/)?\",\"nextLink\": \".current+a\",\"pageElement\": \"article.item-list\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mrcong - \",\"enable\": 0,\"example\": \"https://mrcong.com/xiaoyu-vol-831-yang-chen-chen-yome-74-anh/\",\"url\": \"^https?://mrcong\\\\.com/\",\"init\": \"document.querySelectorAll('p>br').forEach(br=>{br.remove()})\",\"nextLink\": \".page-link>span+a\",\"pageElement\": \"p>img\",\"replaceElement\": \".page-link\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.tuiimg.com/meinv/\",\"url\": \"^https?://www\\\\.tuiimg\\\\.com/\",\"nextLink\": \"em+a\",\"pageElement\": \".beauty>ul,.main>ul\",\"replaceElement\": \".page\",\"css\": \".beauty>.pagetual_pageBar+ul{padding-top:15px!important}.main>ul+.pagetual_pageBar{margin-top:10px!important}.main>.pagetual_pageBar+ul{margin-top:-14px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.tuiimg.com/meinv/\",\"url\": \"^https?://m\\\\.tuiimg\\\\.com/\",\"nextLink\": \".now+a\",\"pageElement\": \"#main\",\"replaceElement\": \".page\",\"lazyImgSrc\": \"realsrc\",\"pageBar\": 0,\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://m.tuiimg.com/\",\"url\": \"^https?://m\\\\.tuiimg\\\\.com/$\",\"nextLinkByJs\": \"showmore()\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.tuiimg.com/meinv/2653/\",\"url\": \"^https?://(www|m)\\\\.tuiimg\\\\.com/meinv/\\\\d+/\",\"init\": \"goshowall()\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Nsfwp\",\"example\": \"https://nsfwx.pics/\",\"url\": \"^https?://nsfwx\\\\.pics/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[id^='post']\",\"replaceElement\": \".pag-wrapper\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131 - \",\"example\": \"https://www.mmm131.com/xinggan/\",\"url\": \"^https?://www\\\\.mmm131\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//dl[@class='list-left public-box']/dd[a/@target]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131 - \",\"example\": \"https://www.mmm131.com/xinggan/5774.html\",\"url\": \"^https?://www\\\\.mmm131\\\\.com/.+\\\\html$\",\"init\": \"let a=document.querySelector('.content-pic>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content-pic img\",\"replaceElement\": \".content-page\",\"css\": \".content-tips{display:none!important}.content-pic img{margin-top:0px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MM131 - \",\"example\": \"https://m.mmm131.com/\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/$\",\"css\": \".bannert_ios,.bannerb_ios,.tips{display:none!important}\",\"nextLinkByJs\": \"homemore()\",\"from\": 2},{\"name\": \"MM131 - \",\"example\": \"https://m.mmm131.com/xinggan/\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/\",\"include\": \"#listm\",\"init\": \"document.querySelectorAll('.post.nop').forEach(e=>{e.classList.remove('nop')})\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \".post\",\"replaceElement\": \"#webpage\",\"lazyImgSrc\": \"data-img\",\"pageAction\": \"document.querySelectorAll('.post.nop').forEach(e=>{e.classList.remove('nop')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131 - \",\"example\": \"https://m.mmm131.com/xinggan/5761.html\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/.+\\\\html$\",\"init\": \"let a=document.querySelector('.post-content>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".post-content img\",\"replaceElement\": \".paging\",\"css\": \".bannert_ios,.bannerb_ios,.tips{display:none!important}.single-post-content{line-height: 0!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.photos18.com/cat/5\",\"url\": \"^https?://www\\\\.photos18\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \"#videos\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.aiweifulishe.net/heji\",\"url\": \"^https?://www\\\\.aiweifulishe\\\\.net/\",\"nextLink\": \"a.next\",\"pageElement\": \"#index_ajax_list li\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.aiweifulishe.net/dress/silkstocking/whitesilkstocking/68742.html\",\"url\": \"^https?://www\\\\.aiweifulishe\\\\.net/.+\\\\.html\",\"action\": 1,\"nextLink\": \".current+a\",\"pageElement\": \"#content img\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"BeautyLeg - \",\"example\": \"https://www.beautyleg6.com/weimeixiezhen/\",\"url\": \"^https?://www.beautyleg\\\\d+\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".pic\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"BeautyLeg - \",\"example\": \"http://www.beautyleg6.com/xingganmeinv/201406/133.html\",\"url\": \"^https?://www.beautyleg\\\\d+\\\\.com/.+\\\\.html\",\"init\": \"function gae(e){return document.querySelectorAll(e)}let imgs=gae('.contents img');let _img='';for(let i=0;i<imgs.length;i++){_img+=imgs[i].outerHTML};gae('.contents')[0].innerHTML=_img;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".contents img\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"HOTGIRLchina - \",\"example\": \"https://hotgirlchina.com/tag/xiuren/\",\"url\": \"^https?://hotgirlchina\\\\.com/tag/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \"#grid-wrapper article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRLchina -  - \",\"example\": \"https://hotgirlchina.com/?s=XIUREN\",\"url\": \"^https?://hotgirlchina\\\\.com/(page/(\\\\d+)/)?\\\\?s=\",\"init\": \"setTimeout(()=>{document.querySelectorAll('.wp-pagenavi a').forEach(a=>{a.href=a.href.replace(/\\\\/$/,'')})},1000)\",\"nextLinkByUrl\": [\"(page/(\\\\d+)/)?(\\\\?s=\\\\w+)$\",\"page/{($2.0||1)+1}/$3\",\".nextpostslink\"],\"pageElement\": \"#grid-wrapper article\",\"pageAction\": \"setTimeout(()=>{document.querySelectorAll('.wp-pagenavi a').forEach(a=>{a.href=a.href.replace(/\\\\/$/,'')})},1000)\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRLchina - \",\"example\": \"https://hotgirlchina.com/xiuren-no-5261-zhu-ke-er-%e6%9c%b1%e5%8f%af%e5%84%bfflora-115-photos/\",\"url\": \"^https?://hotgirlchina\\\\.com/.+photos/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \".entry-inner>p\",\"replaceElement\": \"nav.pagination\",\"css\": \".entry p{margin-bottom:0!important}[id^='boxzilla']{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"BaoBua.Com - \",\"example\": \"https://blog.baobua.com/mlem\",\"url\": \"^https?://blog\\\\.baobua\\\\.com/mlem(\\\\?&page=(\\\\d+))?$\",\"include\": \".pagination-custom\",\"nextLinkByUrl\": [\"mlem(\\\\?&page=(\\\\d+))?$\",\"mlem?&page={$2+1}\",\"span.nextPage\"],\"pageElement\": \".large--one-third\",\"replaceElement\": \".pagination-custom\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"BaoBua.Com - \",\"example\": \"https://blog.baobua.com/mlem?cat=korean\",\"url\": \"^https?://blog\\\\.baobua\\\\.com/mlem\\\\?cat=\",\"include\": \".pagination-custom\",\"nextLinkByUrl\": [\"(cat=[^&]+)(&page=(\\\\d+))?$\",\"$1&page={$3+1}\",\"span.nextPage\"],\"pageElement\": \".large--one-third\",\"replaceElement\": \".pagination-custom\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"BaoBua.Com - \",\"example\": \"https://blog.baobua.com/mlem/6350798069264574102~rogle-song-hana-%EC%86%A1%ED%95%98%EB%82%98-leggings\",\"url\": \"^https?://(blog|fb)\\\\.baobua\\\\.com/\",\"include\": \"img[data-original]\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);ge('#fix_scale').setAttribute('id','fix');let fimgs=document.querySelectorAll('.article-content img[data-original]');let _img='';for(let i=0;i<fimgs.length;i++){let imgSrc=fimgs[i].dataset.original;let p=parseInt(i)+1;if(i<9){p='0'+p}let alt=ge('h1').innerText.match(/[^@]+/)[0].trim()+'_P'+p;_img+=`<img src='${imgSrc}'alt='${alt}'>`};ge('.article-body').innerHTML=_img;\",\"from\": 2},{\"name\": \"BAOBUA.COM - \",\"example\": \"https://www.baobua.com/?page=1\",\"url\": \"^https?://www\\\\.baobua\\\\.com/\\\\?page=\",\"action\": 1,\"nextLinkByUrl\": [\"page=(\\\\d+)$\",\"page={$1+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - \",\"example\": \"https://www.baobua.com/video/index.html\",\"url\": \"^https?://www\\\\.baobua\\\\.com/video/index\\\\.html\",\"action\": 1,\"wait\": 500,\"nextLinkByUrl\": [\"html(\\\\?&page=(\\\\d+))?$\",\"html?&page={($2.0||1)+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - \",\"example\": \"https://www.baobua.com/?cat=Tm1ydGlaZ1A2YWM3a3BvYWh6L3dIdz09\",\"url\": \"^https?://www\\\\.baobua\\\\.com/\\\\?cat=\",\"action\": 1,\"nextLinkByUrl\": [\"(\\\\?cat=[^&]+)(\\\\&page=(\\\\d+))?$\",\"$1&page={($3.0||1)+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"wait\": 500,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - \",\"example\": \"https://www.baobua.com/post/d00yYmh4WFNoZERNdFd5Q1QwNHhrNmZPZlMzUUI5UUo3OFVDRm5jWG11OFZ6aDJaeXpHdGh0Sm5sU0s4WjF5aXVIR0pLTTJvb0h3SDdlM1NSR0JxSHc9PQ==\",\"url\": \"^https?://www\\\\.baobua\\\\.com/post/\",\"nextLink\": \".current+a,.current+.dots+a\",\"pageElement\": \".entry-content.read-details>.wp-block-image\",\"replaceElement\": \"nav.pagination,.trail-items\",\"pageAction\": \"document.querySelectorAll('.entry-content.read-details>*:not(.wp-block-image)').forEach(e=>{e.remove()});\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".wp-block-image{margin-bottom:0!important}\",\"from\": 2},{\"name\": \"Buon Dua - \",\"example\": \"https://buondua.com/\",\"url\": \"^https?://buondua\\\\.com/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".blog.columns\",\"replaceElement\": \"nav.pagination\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Buon Dua - \",\"example\": \"https://buondua.com/saint-photolife-%E2%80%93-zzyuri-%EC%AE%B8%EB%A6%AC-blueming-part-2-57-photos-27769\",\"url\": \"^https?://buondua\\\\.com/\",\"init\": \"document.querySelectorAll('.article-fulltext>*:not(p)').forEach(e=>{e.remove()});\",\"nextLink\": \"//span[a/@class='pagination-link is-current']/following-sibling::span/a\",\"pageElement\": \".article-fulltext p\",\"replaceElement\": \"nav.pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".content p:not(:last-child){margin-bottom:0!important}\",\"from\": 2},{\"name\": \"Popular JAV\",\"example\": \"https://javme.net/\",\"url\": \"^https?://javme\\\\.net/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".column.is-one-fifth-desktop\",\"replaceElement\": \"nav.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Goddess247\",\"example\": \"https://goddess247.com/\",\"url\": \"^https?://goddess247\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[class*=post]\",\"replaceElement\": \"nav.elementor-pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+div{margin-top:-6px!important}\",\"from\": 2},{\"name\": \"4KUP - \",\"example\": \"https://www.4kup.net/\",\"url\": \"^https?://www\\\\.4kup\\\\.net/\",\"include\": \"#pagination\",\"pinUrl\": true,\"pageElement\": \"article.item-post\",\"pageBar\": 0,\"css\": \".lazyload{opacity:1!important}\",\"from\": 2},{\"name\": \"4KHD - \",\"example\": \"https://www.4khd.com/\",\"url\": \"^https?://www\\\\.4khd\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \".wp-block-post-template.is-flex-container\",\"replaceElement\": \"nav[aria-label='Pagination']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"4KHD - \",\"example\": \"https://www.4khd.com/2023/01/15/puremedia-vol210-seer.html\",\"url\": \"^https?://www\\\\.4khd\\\\.com/[^.]+\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('a[data-fancybox]').forEach(e=>{e.outerHTML=`<img src='${e.href}'>`})\",\"nextLink\": \"li.current+li>a\",\"pageElement\": \".wp-block-image\",\"pageInit\": \"doc.querySelectorAll('a[data-fancybox]').forEach(e=>{e.outerHTML=`<img src='${e.href}'>`})\",\"replaceElement\": \".page-link-box\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Cosplaytele - \",\"example\": \"https://cosplaytele.com/\",\"url\": \"^https?://cosplaytele\\\\.com/\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"#content .row .row\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"CoserBOX - \",\"enable\": 0,\"example\": \"https://acg.coserbox.net/https://coserbox.org/https://picacg.org/https://loli.pub/\",\"url\": \"^https?://[^/]+/$\",\"include\": \"//img[contains(@alt,'CoserBOX')]\",\"loadMore\": \".load-more:not(:disabled)\",\"from\": 2},{\"name\": \"CoserBOX - \",\"example\": \"https://coserbox.org/rootcategory/62b6e84d412f63180e09d1a0https://picacg.org/rootcategory/62fd110a5a40959e2fed9352\",\"url\": \"^https?://[^/]+/(rootcategory|category|search)\",\"include\": \"//img[contains(@alt,'CoserBOX')]\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a[@class='category']] | //div[div[@class='card']]\",\"replaceElement\": \".catalog__paginator-wrap\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NongMo.Zone\",\"example\": \"http://www.ilovexs.com/\",\"url\": \"^https?://www\\\\.ilovexs\\\\.com/(category)?\",\"nextLink\": \".nav-next>a\",\"pageElement\": \"//div[article]\",\"replaceElement\": \".nav-links\",\"rate\": 3,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 10,\"from\": 2},{\"name\": \"idol.gravureprincess.date\",\"example\": \"http://idol.gravureprincess.date/\",\"url\": \"^https?://idol\\\\.gravureprincess\\\\.date/\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('.date-outer').forEach(e=>{e.removeAttribute('style')})\",\"nextLink\": \".blog-pager-older-link\",\"pageElement\": \".blog-posts>.date-outer\",\"replaceElement\": \"#blog-pager\",\"pageInit\": \"doc.querySelectorAll('.date-outer').forEach(e=>{e.removeAttribute('style')})\",\"from\": 2},{\"name\": \"Mitaku\",\"example\": \"https://mitaku.net/\",\"url\": \"^https?://mitaku\\\\.net/\",\"nextLink\": \".current+a\",\"pageElement\": \"article.post\",\"replaceElement\": \".wp-pagenavi\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mitaku - \",\"enable\": 0,\"example\": \"https://mitaku.net/ero-cosplay/byoru-riamu-yumemi-nekomini/\",\"url\": \"^https?://mitaku\\\\.net/\",\"include\": \".msacwl-slider-wrap\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Nlegs\",\"example\": \"https://www.nlegs.com/\",\"url\": \"^https?://www\\\\.nlegs\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[div/a/div/@class='img-div']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+div{margin-top:0px!important}\",\"from\": 2},{\"name\": \"Nlegs - \",\"example\": \"https://www.nlegs.com/girls/2022/10/01/28219.html\",\"url\": \"^https?://www\\\\.nlegs\\\\.com/girls/[^.]+\\\\.html\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a/div[contains(@style,'thumb') and span]]\",\"replaceElement\": \"#dnav\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".col-md-12.col-xs-12>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"NUDECOSPLAY\",\"example\": \"https://nudecosplaygirls.com/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/(category)?\",\"nextLink\": \"a.next\",\"pageElement\": \".g1-collection-viewport li\",\"replaceElement\": \".g1-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NUDECOSPLAY - \",\"example\": \"https://nudecosplaygirls.com/haneame-summer/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/\",\"include\": [\".entry-content\",\"img[decoding='async'].lazy\"],\"pinUrl\": true,\"init\": \"let imgs=document.querySelectorAll('img.lazy');let _img='';for(let i=0;i<imgs.length;i++){let p=parseInt(i)+1;if(i<9){p='00'+p}else if(i<99){p='0'+p}let alt=document.querySelector('h1.entry-title').innerText+'_P'+p;_img+=`<img src='${imgs[i].getAttribute('src')}'alt='${alt}'>`};document.querySelector('.entry-content').innerHTML=_img;\",\"css\": \".entry-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#secondary{display:none!important}h1.g1-mega{text-align:center}\",\"from\": 2},{\"name\": \"NUDECOSPLAY - \",\"example\": \"https://nudecosplaygirls.com/%e4%b9%a0%e5%91%86%e5%91%86-%e5%88%bb%e6%99%b4/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/\",\"include\": [\".entry-content img[decoding='async']:not(.lazy)\"],\"pinUrl\": true,\"init\": \"let imgs=document.querySelectorAll(\\\".entry-content img[decoding='async']\\\");let _img='';for(let i=0;i<imgs.length;i++){let p=parseInt(i)+1;if(i<9){p='00'+p}else if(i<99){p='0'+p}let alt=document.querySelector('h1.entry-title').innerText+'_P'+p;_img+=`<img src='${imgs[i].src}'alt='${alt}'>`};document.querySelector('.entry-content').innerHTML=_img;\",\"css\": \".entry-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#secondary{display:none!important}h1.g1-mega{text-align:center}\",\"from\": 2},{\"name\": \"NudeBird\",\"example\": \"https://nudebird.biz/\",\"url\": \"^https?://nudebird\\\\.biz/(tag|category|\\\\?s=)?\",\"nextLink\": \"li.current+li>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"ASD ASFD CN\",\"example\": \"https://asdasfd.net/\",\"url\": \"^https?://asdasfd\\\\.net/(category|\\\\?s=)\",\"nextLink\": \"//a[text()='Older posts']\",\"pageElement\": \"article.post\",\"replaceElement\": \".navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Yellow Fever\",\"example\": \"https://yellowfever18.com/chinese/\",\"url\": \"^https?://yellowfever18\\\\.com/(tag|chinese|korean|japanese|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \".jeg_postblock_15 .jeg_post\",\"replaceElement\": \".jeg_block_navigation\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Asian Girls\",\"example\": \"https://allasiangirls.net/category/free-content/\",\"url\": \"^https?://allasiangirls\\\\.net/(category|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \"//div[div/@class='col post-item']\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 4,\"from\": 2},{\"name\": \"Make Girls\",\"example\": \"https://asdcosplay.com/category/collections/djawa/\",\"url\": \"^https?://asdcosplay\\\\.com/(\\\\?s=|category)?\",\"nextLink\": \"a.next\",\"pageElement\": \"article.post\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.yeitu.com/meinv/xinggan/\",\"url\": \"^https?://www\\\\.yeitu\\\\.com/\",\"include\": \"#pages\",\"nextLink\": \"//a[@class='a1' and text()='']\",\"pageElement\": \".list-box-p\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.yeitu.com/meinv/xinggan/20220725_31887.html\",\"url\": \"^https?://www\\\\.yeitu\\\\.com/\",\"include\": \".img_content\",\"init\": \"let a=document.querySelector('.img_box>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[@class='a1' and text()='']\",\"pageElement\": \".img_box img[alt]\",\"replaceElement\": \"#pages,.imageset-current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://m.yeitu.com/meinv/xinggan/\",\"url\": \"^https?://m.yeitu.com/\",\"include\": \".uk-pagination\",\"nextLink\": \"//a[@class='a1' and text()='']\",\"pageElement\": \".uk-container>ul li\",\"replaceElement\": \".uk-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.yeitu.com/meinv/xinggan/20221205_32251.html\",\"url\": \"^https?://m\\\\.yeitu\\\\.com/\",\"include\": \".uk-article\",\"init\": \"let a=document.querySelector('.gallery-item>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".gallery-item img[alt]\",\"replaceElement\": \".yt-pages,.imageset-current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MEITU131\",\"example\": \"https://www.meitu131.net/rank/dalu/\",\"url\": \"^https?://www\\\\.meitu131\\\\.net/(e/search|rank|meinv|shouji|sucai|nvshen|hot)/([a-z]+)?\",\"exclude\": \"h1\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".details>ul,.cover-list\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".cover-list+.pagetual_pageBar{margin-top:0px!important}.pagetual_pageBar+.cover-list{margin-top:-4px!important}\",\"from\": 2},{\"name\": \"MEITU131 - \",\"example\": \"https://www.meitu131.net/meinv/7672/\",\"url\": \"^https?://www\\\\.meitu131\\\\.net/meinv/\\\\d+\",\"init\": \"document.querySelectorAll('p>a').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".work-content img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MEITU131 \",\"example\": \"https://m.meitu131.com/meinv/\",\"url\": \"^https?://m\\\\.meitu131\\\\.com/\",\"exclude\": \".uk-article\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".uk-container li\",\"replaceElement\": \".uk-page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MEITU131 - \",\"example\": \"https://m.meitu131.com/meinv/8140/\",\"url\": \"^https?://m\\\\.meitu131\\\\.com/\",\"include\": \".uk-article\",\"init\": \"let a=document.querySelector('.uk-article-bd a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".uk-article-bd img[alt]\",\"replaceElement\": \".uk-page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://dongtidemimi.org/\",\"url\": \"^https?://dongti[^/]+/(category|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \"ul.post-loop.post-loop-image.cols-4,.post-loop-default\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://dongti2022.com/tag/%e6%a1%9c%e4%ba%95%e5%ae%81%e5%ae%81\",\"url\": \"^https?://dongti[^/]+/tag/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".post-loop\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://dongti2022.com/751999.html\",\"url\": \"^https?://dongti[^/]+/\",\"include\": [\".j-wpcom-lightbox:not([href*='loding'])\",\".entry-content\"],\"pinUrl\": true,\"init\": \"setTimeout(()=>{document.querySelectorAll(\\\"a.j-wpcom-lightbox:not([href*='loding'])\\\").forEach(e=>{e.parentNode.outerHTML=`<img src='${e.href}'>`})},1000)\",\"from\": 2},{\"name\": \"\",\"example\": \"https://dongti.blog.2nt.com/\",\"url\": \"^https?://dongti\\\\.blog\\\\.2nt\\\\.com/\",\"action\": 1,\"nextLink\": \"//li[span[@class='current']]/following-sibling::li[1]/a\",\"pageElement\": \"#grid-container>*\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://meitulu.me/t/nvshen/\",\"url\": \"^https?://meitulu\\\\.me/(t|xihuan|rihan|gangtai|guochan|search)\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".row.my-gutters-b\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://meitulu.me/item/3242.html\",\"url\": \"^https?://meitulu\\\\.me/item/\\\\d+\\\\.html\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".container-inner-fix-m>img\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"//// - \",\"example\": \"www.tuao.onewww.63mm.ccwww.97mm.ccwww.luge8.coluge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao\\\\d?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/\",\"include\": \".pagenavi\",\"nextLink\": \".now-page+a\",\"pageElement\": \"main.main>article\",\"replaceElement\": \".pagenavi\",\"css\": \"img[src$='.gif'],body>[style*='float']{display: none !important;}\",\"from\": 2},{\"name\": \"//// - \",\"example\": \"www.tuao.onewww.63mm.ccwww.97mm.ccwww.luge8.coluge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao\\\\d?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/\",\"include\": \".pagination\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"//// - \",\"example\": \"www.tuao.onewww.63mm.ccwww.97mm.ccwww.luge8.coluge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao8?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/(post|web)/\",\"init\": \"let a=document.querySelector('img[title][original]').parentNode;a.outerHTML=a.innerHTML;\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \".entry img, .article-content img\",\"replaceElement\": \"#dm-fy\",\"css\": \"img[src$='.gif'],body>[style*='float']{display: none !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - xinwenba.net\",\"example\": \"www.xinwenba.netm.xinwenba.net\",\"url\": \"^https?://(www|m)\\\\.xinwenba\\\\.net/plus/list\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".list_image>ul>li,.list_img\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \" - xinwenba.net\",\"example\": \"www.xinwenba.netm.xinwenba.net\",\"url\": \"^https?://(www|m)\\\\.xinwenba\\\\.net/plus/view\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".picture>p, .view_img>p\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"www.yuleba.orgm.yuleba.org\",\"url\": \"^https?://(www|m)\\\\.yuleba\\\\.org/b/\",\"nextLink\": \"//div[@class='paging']/a[text()='']\",\"pageElement\": \".b_txt,.b_img:not(:nth-child(7))>ul\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \" - \",\"example\": \"www.yuleba.orgm.yuleba.org\",\"url\": \"^https?://(www|m)\\\\.yuleba\\\\.org/a/\",\"nextLink\": \"//div[@class='paging']/a[text()='']\",\"pageElement\": \".picture>p, .a_img>p\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"www.2meinv.comwap.2meinv.com\",\"url\": \"^https?://(www|wap)\\\\.2meinv\\\\.com/(search|tags|index)?\",\"exclude\": \".title,h1>span\",\"nextLink\": \"//a[contains(@href,'html') and text()='']\",\"pageElement\": \"ul.detail-list, .arcmain li, #listcon>ul\",\"replaceElement\": \".page-show, .article-page\",\"from\": 2},{\"name\": \" - \",\"example\": \"www.2meinv.comwap.2meinv.com\",\"url\": \"^https?://(www|wap)\\\\.2meinv\\\\.com/article\",\"init\": \"function ge(e){return document.querySelector(e)}let a=ge('.hh+.pp > a');let a2=ge('.clearfix.arcmain a');if(a){a.outerHTML=a.innerHTML}else{a2.outerHTML=a2.innerHTML}\",\"nextLink\": \"//div[@class='page-show' or contains(@class,'article-page')]/a[contains(@href,'html') and text()='']\",\"pageElement\": \".hh+.pp img[alt],.clearfix.arcmain img\",\"replaceElement\": \".page-show,h1>span,.article-page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".pgg1+.hh{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.6evu.com/jgmntp\",\"url\": \"^https?://www\\\\.6evu\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"a.next\",\"pageElement\": \"#post_container\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.6evu.com/30131.html\",\"url\": \"^https?://www\\\\.6evu\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".pagelist>span+a\",\"init\": \"function gae(e){return document.querySelectorAll(e)}let _img='';gae('#post_content img').forEach(e=>{_img+=e.outerHTML});gae('#post_content')[0].innerHTML=_img;\",\"pageElement\": \"#post_content img\",\"replaceElement\": \".pagelist\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"nvsheng\",\"example\": \"www.nvsheng.ccm.nvsheng.cc\",\"url\": \"^https?://(www|m)\\\\.nvsheng\\\\.cc/(meizi|weibo|mx|cos|search)/\",\"nextLink\": \"a[title='']\",\"pageElement\": \".main.wide>.row>*\",\"replaceElement\": \".pagebar\",\"pageBar\": 0,\"from\": 2},{\"name\": \"nvsheng - \",\"example\": \"www.nvsheng.ccm.nvsheng.cc\",\"url\": \"^https?://(www|m)\\\\.nvsheng\\\\.cc/.+\\\\.html\",\"nextLink\": \".now-page+a\",\"pageElement\": \".info-imtg-box>img\",\"replaceElement\": \".pagebar\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".img-next{display:none!important}\",\"from\": 2},{\"name\": \"3G \",\"example\": \"https://www.3gbizhi.com/meinv/\",\"url\": \"^https?://www\\\\.3gbizhi\\\\.com/\",\"init\": \"document.querySelectorAll('img[alt][lazysrc]').forEach(img=>{img.src=img.getAttribute('lazysrc');img.removeAttribute('lazysrc');img.setAttribute('srcset',img.getAttribute('lazysrc2x'));img.removeAttribute('lazysrc2x');img.style='width: 100%; display: inline;'})\",\"nextLink\": \"#pageNum span+a\",\"pageElement\": \"//ul[@class='cl'][li/a[@class='imgw']/div[@class='img']/img]\",\"replaceElement\": \"#pageNum\",\"pageInit\": \"doc.querySelectorAll('img[alt][lazysrc]').forEach(img=>{img.src=img.getAttribute('lazysrc');img.removeAttribute('lazysrc');img.setAttribute('srcset',img.getAttribute('lazysrc2x'));img.removeAttribute('lazysrc2x');img.style='width: 100%; display: inline;'})\",\"pageAction\": \"document.querySelectorAll('img').forEach(img=>{img.src=img.src})\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"3G  - \",\"example\": \"https://www.3gbizhi.com/meinv/mn1869.html\",\"url\": \"^https?://www\\\\.3gbizhi\\\\.com/meinv/\\\\w+\\\\.html\",\"init\": \"function ge(e){return document.querySelector(e)}ge('#showimg').appendChild(ge('#showpicnow'));document.querySelectorAll('#showimg>a').forEach(e=>{e.remove()})\",\"nextLinkByUrl\": [\"/([^_]+)(_(\\\\d+))?\\\\.html$\",\"/$1_{$3+1}.html\"],\"stopSign\": [[\".showtitle>h2\",\"(\\\\d+)\"],[\".showtitle>h2\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#showpicnow\",\"replaceElement\": \"h2,.showpicboxw\",\"insert\": \"#showimg\",\"insertPos\": 2,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".morew,#showimg>a{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.girldir.com/star/v_siwa/\",\"url\": \"^https?://[^/]+/star/\",\"include\": \"//title[contains(text(), '')]\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.girldir.com/photos/lichengmin_1156859/\",\"url\": \"^https?://[^/]+/photos/\",\"include\": \"//title[contains(text(), '')]\",\"action\": 1,\"init\": \"function ge(e){return document.querySelector(e)}let a = ge('.photo-box>a');a.outerHTML=a.innerHTML;ge('source').remove()\",\"nextLink\": \"//a[text()='>']\",\"pageElement\": \".photo-box picture img[alt]\",\"replaceElement\": \".tools row\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.girldir.com/photos/aozhongmaqin_list/\",\"url\": \"^https?://[^/]+/photos/\",\"include\": [\"//nav[@id='topNavBar']/a[@class='navbar-brand']/img[@src='/assets/logo.png']\",\".page-item.active\",\"nav.pagination\"],\"action\": 1,\"init\": \"document.querySelectorAll('source').forEach(e=>{e.remove()});document.querySelectorAll('picture>img').forEach(img=>{img.src=img.src.match(/[^/]+\\\\/\\\\/[^/]+\\\\/[^.]+\\\\.[a-z]{3}/)[0]})\",\"nextLink\": \"li.page-item.active+li>a\",\"pageElement\": \".photo-list.row\",\"replaceElement\": \"nav.pagination\",\"pageInit\": \"doc.querySelectorAll('source').forEach(e=>{e.remove()});doc.querySelectorAll('picture>img').forEach(img=>{img.src=img.src.match(/[^/]+\\\\/\\\\/[^/]+\\\\/[^.]+\\\\.[a-z]{3}/)[0]})\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.9iktb.com/galleryList/\",\"url\": \"^https?://www\\\\.9iktb\\\\.com/(galleryList|search)\",\"nextLink\": \"a[aria-label='Next']\",\"pageElement\": \".book-list>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.9iktb.com/gallery/46215\",\"url\": \"^https?://www\\\\.9iktb\\\\.com/gallery/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".gallery-detail-img\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"\",\"example\": \"https://m.xtushe.com/catalog/xinggan.html\",\"url\": \"^https?://m\\\\.xtushe\\\\.com/\",\"nextLink\": \"li.next>a[title='']\",\"pageElement\": \"#content-list\",\"replaceElement\": \".pagebreak\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.xtushe.com/photo/10377.html\",\"url\": \"^https?://m\\\\.xtushe\\\\.com/photo/\\\\w+\\\\.html\",\"nextLink\": \"li.next>a[title='']\",\"pageElement\": \"#content-photo>img\",\"replaceElement\": \"#content-title,.pagebreak\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"24tupian\",\"example\": \"https://www.24tupian.org/\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/(meinv|nvyou|tuimo|gaoqing|model|class|Serch)\",\"nextLink\": \"a.on+a[href$='html']\",\"pageElement\": \".lbleft>.lbl,.paihan.fl>ul,.model,.big.fl>ul,.gtps.fl>ul\",\"replaceElement\": \".page\",\"from\": 2},{\"name\": \"24tupian - \",\"example\": \"https://www.24tupian.org/hd2/tuimo52612.html\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/hd\\\\d+/\\\\w+\\\\.html\",\"nextLink\": \"a.on+a[href$=html]\",\"pageElement\": \".gtps.fl>ul\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"24tupian - \",\"example\": \"https://www.24tupian.org/2022/10-12/tuimo52612_1.html\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/\\\\d+/[0-9-]+/\\\\w+\\\\.html\",\"init\": \"let a=document.querySelector('#imgshow>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//div[@class='bb']//li[img/@id='bimg']/following-sibling::li[1]/a\",\"pageElement\": \"#imgshow img\",\"replaceElement\": \".bb ul,.hddiv+span\",\"css\": \"#imgshow img {max-width: 100%;}\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"18\",\"example\": \"https://www.cool18.com/bbs/index.php?app=forum&act=cachepage&cp=tree1\",\"url\": \"^https?://www\\\\.cool18\\\\.com/bbs\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#d_list\",\"replaceElement\": \"#d_list_page,#d_list_foot\",\"from\": 2},{\"name\": \"\",\"example\": \"https://mm.tvv.tw/\",\"url\": \"^https?://mm\\\\.tvv\\\\.tw/\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"//div[div/div[@class='blog-image']]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.xtg123.cc/xrall\",\"url\": \"^https?://www\\\\.xtg123\\\\.cc/([a-z]+|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-wrapper>.row\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"Simply Hentai\",\"example\": \"https://www.simply-hentai.com/\",\"url\": \"^https?://www\\\\.simply-hentai\\\\.com/\",\"pageElement\": \"//div[div[article[a[div[@class='image-wrapper']/img[@data-src]]]]]\",\"insert\": \"nav.pagination\",\"insertPos\": 1,\"pageInit\": \"doc.querySelectorAll('.image-loader').forEach(e=>{e.remove()});\",\"css\": \".text-center{display:none!important}\",\"from\": 2},{\"name\": \"nhentai\",\"example\": \"https://nhentai.net/\",\"url\": \"^https?://(n(ya)?hentai|cathentai)\\\\.(net|to|xxx|red)/(search|\\\\?page=|tags|artists|characters|parodies|groups)?\",\"nextLink\": \"a.next,a.current+a,a.last,span.next>a\",\"pageElement\": \"//section[contains(@class,'pagination')]/preceding-sibling::div[1]/div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+div{margin-top:0px!important}\",\"from\": 2},{\"name\": \"nhentai - \",\"example\": \"https://nhentai.net/g/422938/1/\",\"url\": \"^https?://n(ya)?hentai\\\\.(net|to|xxx|red)/g/\\\\d+/\\\\d+/?\",\"init\": \"let a = document.querySelector('#image-container>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"a.next\",\"stopSign\": [[\"span.current\",\"(\\\\d+)\"],[\"span.num-pages\",\"(\\\\d+)\"]],\"pageElement\": \"#content>img,.container>img,#image-container\",\"replaceElement\": \".reader-pagination,span.current\",\"pageInit\": \"let a = doc.querySelector('#image-container>a');a.outerHTML=a.innerHTML;\",\"pageAction\": \"document.querySelectorAll('#image-container').forEach(e=>{e.outerHTML=e.innerHTML});document.querySelectorAll('img').forEach(e=>{e.src=e.src})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"imhentai.xxx\",\"example\": \"https://imhentai.xxx/?page=1\",\"url\": \"^https?://imhentai\\\\.xxx/(\\\\?page=\\\\d+|search)?\",\"nextLink\": \".page-item.active+li:not(.disabled)>a\",\"pageElement\": \".thumb\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"imhentai.xxx - \",\"example\": \"https://imhentai.xxx/gallery/928466/\",\"url\": \"^https?://imhentai\\\\.xxx/gallery/\\\\d+/$\",\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let loop=setInterval(()=>{let b=document.querySelector('#load_all:not([style])');if(b){b.click()}if(!b){clearInterval(loop)}},2000)\",\"from\": 2},{\"name\": \"imhentai.xxx - \",\"example\": \"https://imhentai.xxx/view/932112/1/\",\"url\": \"^https?://imhentai\\\\.xxx/view/\\\\d+/\\\\d+/\",\"nextLink\": \".nav_next\",\"pageElement\": \"#gimg\",\"replaceElement\": \"span.current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".nav_pagination,#bar,#footer,.prev_nav.page_prev,.next_nav.page_next{display:none!important}\",\"from\": 2},{\"name\": \"Pic Yailay\",\"example\": \"https://pic.yailay.com/?page=1\",\"url\": \"^https?://(pic\\\\.yailay\\\\.com|nungvl\\\\.net)/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".blog\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Pic Yailay - \",\"example\": \"https://pic.yailay.com/articles/UTVKYXJDOFRFVy8zVGlINHUySk1Ldz09.htmlhttps://nungvl.net/gallerys/87379.cg?page=1\",\"url\": \"^https?://(pic\\\\.yailay\\\\.com|nungvl\\\\.net)/(articles|gallerys)\",\"pinUrl\": true,\"nextLink\": \"//a[text()='Next >']\",\"pageElement\": \"img[onerror]+br,img[onerror]\",\"replaceElement\": \".article-header>h1,.entry-title,.dept-ct.show-less,.pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".spa-title,.spa-title+div{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.mevtu.com/\",\"url\": \"^https?://www\\\\.mevtu\\\\.com/\",\"include\": \".nav-links\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#index_ajax_list>*\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.mevtu.com/xingganmm/15275.html\",\"url\": \"^https?://www\\\\.mevtu\\\\.com/\",\"include\": \".page_imges\",\"init\": \"let a=document.querySelector('.imageclick-href');a.outerHTML=a.innerHTML;\",\"nextLink\": \"span.current+a:not(.prev)\",\"pageElement\": \"#image_div img[alt]\",\"replaceElement\": \".nav-links,.mbx-nav-right\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#content>a{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.meijuntu.com/beauty/\",\"url\": \"^https?://www\\\\.meijuntu\\\\.com/\",\"exclude\": \".next_picture\",\"nextLink\": \".pages>span +a:not(.a1)\",\"pageElement\": \".pic-list>ul>*\",\"replaceElement\": \".th_page\",\"from\": 2},{\"name\": \"\",\"example\": \"https://kanmeitu1.cc/p/\",\"url\": \"^https?://kanmeitu\\\\d\\\\.cc/p/(index_\\\\d+.html)?\",\"pageElement\": \".sou-con-list>ul\",\"replaceElement\": \".pages\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.meijuntu.com/beauty/wanghongnenmo_abbyliya_wanmeishencainvshen_mistar_vol_144.html\",\"url\": \"^https?://www\\\\.meijuntu\\\\.com/\",\"include\": \".next_picture\",\"init\": \"document.querySelectorAll('.pictures>a').forEach(e=>{e.remove()})\",\"nextLink\": \".pages>span +a:not(.a1)\",\"pageElement\": \".pictures>img[alt]\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://taotuhome.com/category/xgyw/\",\"url\": \"^https?://taotuhome\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//main[@id='main'][article/figure[@class='thumbnail']]\",\"replaceElement\": \".pagenav-clear\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://taotuhome.com/19377.html\",\"url\": \"^https?://taotuhome\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//p[img[@alt]]\",\"replaceElement\": \".page-links\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://qq.quantuwang1.com/meinv/taotu/http://m.54mn.cc/meinv/taotu/\",\"url\": \"^https?://(qq?|t|w|m)\\\\.(quantuwang\\\\d?|54mn)\\\\.(com|cc)/\",\"exclude\": \".index_c_img img[alt]\",\"nextLink\": \"span+a\",\"pageElement\": \".index_middle_c\",\"replaceElement\": \".index_c_page,.list_page\",\"css\": \"body>[style*='z-index'],img[src*='/aaa/']{display:none!important}\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"http://qq.quantuwang1.com/m/fb9deaa66efefa21.htmlhttp://m.54mn.cc/m/29491/1.html\",\"url\": \"^https?://(qq?|t|w|m)\\\\.(quantuwang\\\\d?|54mn)\\\\.(com|cc)/m/\",\"include\": [\".index_c_img img[alt]\",\".index_c_page\"],\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let ge=e=>document.querySelector(e);let end=ge('.index_c_page>a:last-child').innerText;let m=ge('.index_c_img img').src.match(/(^.+\\\\/)(\\\\d+)(\\\\.[a-z]{3}$)/);let path=m[1];let start=m[2];let ex=m[3];let max=parseInt(end)+parseInt(start)-1;let _img='';for(let i=start;i<=max;i++){let imgSrc=path+i+ex;let p;if(i<10){p='00'+i}else if(i<100){p='0'+i}else{p=i}let alt=ge('.index_c_title').innerText+'_P'+p;_img+=`<img src='${imgSrc}'alt='${alt}'>`};ge('.index_c_img').innerHTML=_img;\",\"css\": \"body>[style*='z-index'],img[src*='/aaa/'],.index_c_page{display:none!important}body{padding-bottom:0px!important}\",\"from\": 2},{\"name\": \"Kemono - posts\",\"example\": \"https://kemono.party/posts\",\"url\": \"^https?://kemono\\\\.party/posts\",\"nextLink\": \"a.pagination-button-after-current\",\"stopSign\": [\"\",\".card-list__item--no-results\"],\"pageElement\": \".card-list.card-list--legacy\",\"from\": 2},{\"name\": \"Kemono - user\",\"example\": \"https://kemono.party/fantia/user/17148?o=0\",\"url\": \"^https?://kemono\\\\.party/fantia/user/\\\\d+\\\\?o=\",\"nextLink\": \"a.pagination-button-after-current\",\"stopSign\": [\"\",\"li.pagination-button-disabled.pagination-button-current+li.pagination-button-disabled.pagination-button-after-current\"],\"pageElement\": \".card-list__items>article\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Kemono - post\",\"example\": \"https://kemono.party/fantia/user/17148/post/1528173\",\"url\": \"^https?://kemono\\\\.party/fantia/user/\\\\d+/post/\\\\d+$\",\"nextLink\": \".post__nav-item>a.next\",\"pageElement\": \".post__header,.post__body\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.tujidao03.com/u/?action=gengxin\",\"url\": \"^https?://www\\\\.tujidao\\\\d+\\\\.com/\",\"nextLink\": \".num+.next\",\"pageElement\": \"div.hezi>ul>li\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"GOGO\",\"example\": \"http://www.gogort2.com/html/yazhou/index_2.html\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/html/[a-z]+/(index_\\\\d+\\\\.html)?\",\"include\": \".index_list\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".ulPic\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"css\": \"iframe{height:55px!important}\",\"from\": 2},{\"name\": \"GOGO - \",\"example\": \"http://www.gogort2.com/index.php?m=search&c=index&a=init&typeid=&siteid=1&q=%B4%F3%B5%A8\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/index\\\\.php\\\\?m=search\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".search_content\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"GOGO - \",\"example\": \"http://www.gogort2.net/index.php?m=content&c=tag&a=lists&tag=%B3%AC%B4%F3%B3%DF%B6%C8\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/index\\\\.php\\\\?m=content&c=tag\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".search_list ul\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"10\",\"from\": 2},{\"name\": \"GOGO - \",\"example\": \"http://www.gogort2.com/html/yazhou/9988.html\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/html/\\\\w+/\\\\d+(_\\\\d+)?\\\\.html$\",\"action\": 1,\"init\": \"document.querySelectorAll('.main>div>a[title]').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".avrquwl img,.stmyzbx img,.cgdijkk img,.pwb45A1 img,.wppRCvy img,.zKLIsoJ img,.RlHeZsp img,.d70qZyL img,.vI7O8HI img,.i099Wt8 img,.Mrlhr55 img,.ApxBGcj img,.O5hE1YO img,.bFzVVIb img,.cgKhHJm img,.NpowfkG img,.fFva0bX img,.ARSR2Ka img,.flZ0dv3 img,.oP7WdAw img,.wd8SrVn img,.UsP0xCk img,.yH0NSlb img,.HStHSH0 img,.re8tbBu img\",\"replaceElement\": \"//div[a/@class='a1']\",\"css\": \".main>iframe{display:none!important}iframe{height:55px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"139\",\"example\": \"88rtys.comhttps://www.139tu.com/rtysyz/\",\"url\": \"^https?://www\\\\.139tu\\\\.[a-z]{2,3}/\",\"include\": \".list_tags\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".list-box\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".pagetual_pageBar{margin-top:4px!important}\",\"from\": 2},{\"name\": \"139 - \",\"example\": \"https://www.139tu.com/rtysyz/20210829/8674.html\",\"url\": \"^https?://www\\\\.139tu\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('.img_box>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".img_box img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"139\",\"example\": \"88rtys.comhttps://m.139tu.com/rtysyz/\",\"url\": \"^https?://(m|wap)\\\\.([0-9]{2,4}[a-z]{1,5}|[a-z]{2,5}[0-9]{1,3}|\\\\d+aj|\\\\d+|xixirt|gogortrt|7m11)\\\\.[a-z]{2,3}/\",\"include\": \".page-show\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".listmain\",\"replaceElement\": \".page-show\",\"lazyImgSrc\": \"lazysrc\",\"css\": \"[style='margin:3px 0 0 0;']{display:none!important}img[alt]{opacity: 1!important}\",\"from\": 2},{\"name\": \"139 - \",\"example\": \"https://m.139tu.com/rtysyz/20200710/7479.html\",\"url\": \"^https?://(m|wap)\\\\.([0-9]{2,4}[a-z]{1,5}|[a-z]{2,5}[0-9]{1,3}|\\\\d+aj|\\\\d+|xixirt|gogortrt|7m11)\\\\.[a-z]{2,3}/[a-zA-Z]+/(\\\\d+/(\\\\d+\\\\.html$)?|\\\\d+(_\\\\d+)?\\\\.html$|\\\\d+/\\\\d+(_\\\\d+)?\\\\.html$)\",\"init\": \"document.querySelectorAll('.tal>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".tal img[alt]\",\"replaceElement\": \".page,body>[style='font-size:14px;'],.tip\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"[style='margin:3px 0 0 0;']{display:none!important}img[alt]{opacity: 1!important}\",\"from\": 2},{\"name\": \"AJ\",\"example\": \"https://www.02aj.com/yzrt/\",\"url\": \"^https?://www\\\\.\\\\d+aj\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//div[(div/div/a/img/@alt) and @class='list']\",\"replaceElement\": \".page-list\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"AJ - \",\"example\": \"https://www.02aj.com/yzrt/8674.html\",\"url\": \"^https?://www\\\\.02aj\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('.content>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content img\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"23\",\"example\": \"http://www.23fe.com/gogoddppys/\",\"url\": \"^https?://www\\\\.23[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".fitCont_2>ul\",\"replaceElement\": \".gengduo\",\"from\": 2},{\"name\": \"23 - \",\"example\": \"http://www.23fe.com/gogoddppys/435.html\",\"url\": \"^https?://www\\\\.23[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"let a=document.querySelector('#content-p a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#content-p img\",\"replaceElement\": \".gengduo\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"36\",\"example\": \"www.36ut.comxixirt.org\",\"url\": \"^https?://(www\\\\.)?(36[a-z]{2}|xixirt)\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".detail-list\",\"replaceElement\": \".page-show\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"36 - \",\"example\": \"www.36ut.comxixirt.org\",\"url\": \"^https?://(www\\\\.)?(36[a-z]{2}|xixirt)\\\\.[a-z]{2,3}/[a-z]+/(\\\\d+/|\\\\d+(_\\\\d+)?\\\\.html)\",\"action\": 1,\"init\": \"let a=document.querySelector('.pp>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".pp img\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".picTip{display:none!important}\",\"from\": 2},{\"name\": \"42\",\"example\": \"http://www.42jd.com/ddxxltmnrt/\",\"url\": \"^https?://www\\\\.42[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".fzltp>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"42 - \",\"example\": \"http://www.42jd.com/plus/search.php?keyword=%E7%BE%8E%E5%A5%B3&searchtype=titlekeyword&channeltype=0&orderby=&kwtype=0&pagesize=24&typeid=0&TotalResult=50&PageNo=1\",\"url\": \"^https?://www\\\\.[0-9]{2}[a-z]{2}\\\\.[a-z]{2,3}/plus/search\\\\.php\",\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//ul[li/a/@title]\",\"replaceElement\": \".page-show\",\"from\": 2},{\"name\": \"42 - \",\"example\": \"http://www.42jd.com/ddrGOGOtysgq/417.html\",\"url\": \"^https?://www\\\\.42[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"let a=document.querySelector('.imgbox>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".imgbox img[alt]\",\"replaceElement\": \".pagelist,.imgbox>h1\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"48\",\"example\": \"http://www.48gd.com/qltysz/\",\"url\": \"^https?://www\\\\.48[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".grid\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"48 - \",\"example\": \"http://www.48gd.com/yyrtdd/448.html\",\"url\": \"^https?://www\\\\.48[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('#content>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#content img[alt]\",\"replaceElement\": \".pagelist,h3\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"54\",\"example\": \"http://www.54aj.com/gogogmbspqq/\",\"url\": \"^https?://www\\\\.54[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//div[(li/a/img/@alt) and @class='yyy']\",\"replaceElement\": \".page\",\"from\": 2},{\"name\": \"54 - \",\"example\": \"http://www.54aj.com/gogogmbspqq/432.html\",\"url\": \"^https?://www\\\\.54[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('.content>a:not([href*=tags])');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content img[alt]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"98\",\"example\": \"http://www.98ah.com/gogoltmnysxz/\",\"url\": \"^https?://www\\\\.98[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".main>dl>dd\",\"replaceElement\": \".page-show\",\"from\": 2},{\"name\": \"98 - \",\"example\": \"http://www.98ah.com/GOGOqqddgqrt/415.html\",\"url\": \"^https?://www\\\\.98[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('.content-pic>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content-pic img[alt]\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"64\",\"example\": \"http://www.64ay.com/xxrtddbkxb/\",\"url\": \"^https?://www\\\\.64[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".tu_list\",\"replaceElement\": \".page-show\",\"css\": \".wzlist{height:auto!important}\",\"from\": 2},{\"name\": \"64 - \",\"example\": \"http://www.64ay.com/xxrtddbkxb/313.html\",\"url\": \"^https?://www\\\\.64[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"document.querySelectorAll('.tu>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".tu img[alt]\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"666\",\"example\": \"https://6666rt.com/ArtZG/\",\"url\": \"^https?://[6]{3,4}[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".tpm02>.fzltp>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"666 - \",\"example\": \"https://6666rt.com/ArtZG/2152/1.html\",\"url\": \"^https?://[6]{3,4}[a-z]{2}\\\\.[a-z]{2,3}/[a-zA-Z]+/\\\\d+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('.imgbox>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()=' >>' and contains(@href,'html')]\",\"pageElement\": \".imgbox img[alt]\",\"replaceElement\": \".page,span>h1,.www\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}.dis{display:none!important}\",\"from\": 2},{\"name\": \"956\",\"example\": \"https://956n.com/rbddszysz/\",\"url\": \"^https?://956[a-z]{1,2}\\\\.[a-z]{2,3}/\",\"exclude\": \".title\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \"//ul[li/a/@title]\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"956 - \",\"example\": \"https://956n.com/rbddszysz/1398/\",\"url\": \"^https?://956[a-z]{1,2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/(\\\\d+\\\\.html$)?\",\"init\": \"document.querySelectorAll('.content>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \".content img[alt]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"gogo\",\"example\": \"https://gogortrt.com/gmgqdd/\",\"url\": \"^https?://gogortrt\\\\.[a-z]{2,3}/[a-z]+/\",\"include\": \".index_list\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \".ulPic\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"css\": \"iframe{height:55px!important}\",\"from\": 2},{\"name\": \"gogo - \",\"example\": \"https://gogortrt.com/gmgqdd/1305/\",\"url\": \"^https?://gogortrt\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/\",\"init\": \"let a=document.querySelector('.main>div:not(.atc_new_head)>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".main>div:not(.atc_new_head):not(.keywords) img[alt]\",\"replaceElement\": \".Mrlsr55,.RlpeZsp,.cgdijkn,.d70rZyL,.i09cWt8,.pages,.pfb45A1,.vd7O8HI,.wpwRCvy,.zrLIsoJ\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"448\",\"example\": \"https://488xm.com/666rentiyishu/\",\"url\": \"^https?://488xm\\\\.com/\\\\w+/\",\"pageElement\": \"#container>.grid\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"ftopx.com\",\"example\": \"https://ftopx.com/\",\"url\": \"^https?://ftopx\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[div[@class='thumbnail']]\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Erowall.com\",\"example\": \"https://erowall.com/\",\"url\": \"^https?://erowall\\\\.com/\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".wpmini\",\"replaceElement\": \".paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://forum.gamer.com.tw/B.php?bsn=23805\",\"url\": \"^https?://forum\\\\.gamer\\\\.com.tw/B\\\\.php\",\"nextLink\": \"a.next\",\"pageElement\": \".b-list>tbody>tr:not(.b-list__head)\",\"replaceElement\": [\".forum-ad_top+.b-pager.pager\",\".b-popular.popular+.b-pager.pager\"],\"pageAction\": \"Forum.B.lazyThumbnail();Forum.Common.drawNoImageCanvas()\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://forum.gamer.com.tw/C.php?bsn=23805&snA=610529&tnum=14858\",\"url\": \"^https?://forum\\\\.gamer\\\\.com.tw/C\\\\.php\",\"nextLink\": \"a.next\",\"pageElement\": \".c-section[id*='post']\",\"replaceElement\": [\"div.forum-ad_top+section>.c-section__main>#BH-pagebtn\",\"section+section>.c-section__main>#BH-pagebtn\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"Mobile01 - \",\"example\": \"https://www.mobile01.com/topiclist.php?f=300\",\"url\": \"^https?://(www|m)\\\\.mobile01\\\\.com/(forumtopic|topiclist)\",\"nextLink\": \"li.l-pagination__page.is-active+li>a,.c-pagination--next\",\"pageElement\": \".l-listTable__tbody,.u-gapNextV--lg>.u-gapNextV--lg>div[class$='u-gapNextV--lg'] .l-articleList\",\"replaceElement\": \".l-tabulate__action,.l-pagination\",\"rate\": 3,\"sleep\": 2000,\"from\": 2},{\"name\": \"Mobile01 - \",\"example\": \"https://www.mobile01.com/topicdetail.php?f=300&t=6660682\",\"url\": \"^https?://www\\\\.mobile01\\\\.com/topicdetail\",\"nextLink\": \"li.l-pagination__page.is-active+li>a\",\"pageElement\": \"//div[(div/@class='l-articlePage__author') and @class='l-articlePage']\",\"replaceElement\": \"ul.l-pagination\",\"pageBar\": 0,\"rate\": 2,\"sleep\": 1000,\"from\": 2},{\"name\": \"Mobile01 - \",\"example\": \"https://m.mobile01.com/topicdetail.php?f=300&t=6660682\",\"url\": \"^https?://m\\\\.mobile01\\\\.com/topicdetail\",\"nextLink\": \".c-pagination--next\",\"pageElement\": \".u-gapNextV--lg>.u-gapNextV--md\",\"replaceElement\": \".u-gapNextV--lg.u-tac\",\"pageBar\": 0,\"rate\": 2,\"sleep\": 1000,\"from\": 2},{\"name\": \"94i.in - \",\"example\": \"https://94i.in/\",\"url\": \"^https?://94i\\\\.in/\",\"autoClick\": \"#pper_a:not([style='display: none;'])\",\"from\": 2},{\"name\": \"Gdaily\",\"example\": \"https://www.gdaily.org/software\",\"url\": \"^https?://www\\\\.gdaily\\\\.org/(search|software|app|online|teaching)\",\"init\": \"document.querySelectorAll('.adsbygoogle').forEach(e=>{e.parentNode.parentNode.remove()})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".columns .column\",\"replaceElement\": \".navigation\",\"pageInit\": \"doc.querySelectorAll('.adsbygoogle').forEach(e=>{e.parentNode.parentNode.remove()})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://softblog.tw/green-portable\",\"url\": \"^https?://softblog\\\\.tw/\",\"include\": \".page-numbers\",\"nextLink\": \"a.next\",\"pageElement\": \"#blog-entries\",\"replaceElement\": \".oceanwp-pagination.clr\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Apkpure\",\"example\": \"https://apkpure.com/tw/game\",\"url\": \"^https?://apkpure\\\\.com/\",\"nextLink\": \"a.loadmore\",\"pageElement\": \"#pagedata\",\"replaceElement\": \".loadmore\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.azofreeware.com/\",\"url\": \"^https?://www\\\\.azofreeware\\\\.com/\",\"action\": 1,\"nextLink\": \".blog-pager-older-link\",\"pageElement\": \".blog-posts.hfeed\",\"replaceElement\": \"#blog-pager\",\"from\": 2},{\"name\": \"KaranPc\",\"example\": \"https://karanpc.com/windows/download-managers/\",\"url\": \"^https?://karanpc\\\\.com/\",\"include\": \"#nav-below\",\"nextLink\": \"a.next\",\"pageElement\": \"article[id^='post']\",\"replaceElement\": \"#nav-below\",\"pageBar\": 0,\"from\": 2},{\"name\": \"FC Portables\",\"example\": \"https://www.fcportables.com/\",\"url\": \"^https?://www\\\\.fcportables\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[class^='post']\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('a.img-holder').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`;a.classList.add('b-loaded');a.removeAttribute('data-src')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"&\",\"example\": \"http://www.dnxitong.com/soft/\",\"url\": \"^https?://www\\\\.(ypojie|dnxitong)\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \"article[class^='excerpt excerpt-']\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.ghxi.com/category/all/pcsoft\",\"url\": \"^https?://www\\\\.ghxi\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"ul.post-loop>.item\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"http://www.dayanzai.me/\",\"url\": \"^https?://www\\\\.dayanzai\\\\.me/\",\"nextLink\": \".page>span+a\",\"pageElement\": \"ul.c-news\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"423down\",\"example\": \"https://www.423down.com/\",\"url\": \"^https?://www\\\\.423down\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".content>.excerpt, .commentlist>li\",\"replaceElement\": \".paging, .pagenav\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"http://www.runningcheese.com/\",\"url\": \"^https?://www\\\\.runningcheese\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".ajaxpost\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.runoob.com/js/js-tutorial.html\",\"url\": \"^https?://www\\\\.runoob\\\\.com/[a-z/-]+\\\\.html\",\"action\": 1,\"nextLink\": \"a[style^='b']+a,a[style^='b']+br+h2+a\",\"pageElement\": \".article-heading, .article-body\",\"waitElement\": [\"a[target='_top'][style^='background']\"],\"replaceElement\": \".sidebar-box\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.runoob.com/w3cnote\",\"url\": \"^https?://www\\\\.runoob\\\\.com/w3cnote\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \".archive-list>.archive-list-item\",\"replaceElement\": \"#wp_page_numbers\",\"from\": 2},{\"name\": \"w3school.com.cn\",\"example\": \"https://www.w3school.com.cn/js/index.asp\",\"url\": \"^https?://www\\\\.w3school\\\\.com\\\\.cn/\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('li.next>a[href]');if(next&&next.href.indexOf('/index.')===-1)return next.href\",\"pageElement\": \"#maincontent>*:not([class*='prenextnav']):not(#bpn):not(#tpn)\",\"replaceElement\": \"ul.prenext, #navsecond\",\"insert\": \"id('bpn') | //div[contains(@class, 'prenextnav')][last()]\",\"insertPos\": 1,\"pageBarText\": 1,\"initRun\": 1,\"autoLoadNum\": 2,\"from\": 2},{\"name\": \"docs.oracle.com\",\"example\": \"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html\",\"url\": \"^https?://docs\\\\.oracle\\\\.com/\",\"action\": 2,\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".chapter,.index,.appendix\",\"from\": 2},{\"name\": \"4download\",\"example\": \"https://4download.net/software/\",\"url\": \"^https?://4download\\\\.net/\",\"include\": \".pagi-nav.clearfix.ignore-select\",\"nextLink\": \"span.pnext>a\",\"pageElement\": \".short-item\",\"replaceElement\": \".pagi-nav\",\"rate\": 2,\"pageBar\": 0,\"from\": 2},{\"name\": \"cahdroid\",\"example\": \"https://cahdroid.com/\",\"url\": \"^https?://cahdroid\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"span.page-numbers.current+a\",\"pageElement\": \".relat,.post-show\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Winaero\",\"example\": \"https://winaero.com/category/windows-10/\",\"url\": \"^https?://winaero\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#main>article\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"scloud.ws\",\"url\": \"^https?://scloud\\\\.ws/\",\"nextLink\": \".js-ls-pagination-next\",\"pageElement\": \".topic-card-wrapper\",\"from\": 2},{\"name\": \"ijtsrd.com\",\"example\": \"https://www.ijtsrd.com/archive/21/volume-3/issue-4\",\"url\": \"^https?://www\\\\.ijtsrd\\\\.com/\",\"include\": \"//ul[li[@class='active'] and @class='pagination']/following-sibling::ul[1]//a[@href]\",\"nextLinkByJs\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let next=gx(\\\"//ul[li[@class='active'] and @class='pagination']/following-sibling::ul[1]//a[@href]\\\");if(next)return location.href.replace(/\\\\/p-\\\\d+$/,'')+'/p-'+next.innerText\",\"pageElement\": \".mGrid\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.appinn.com/abouttime/amp/\",\"url\": \"^https?://www\\\\.appinn\\\\.com/\",\"nextLink\": \"a.next,.next>a\",\"pageElement\": \"article,.amp-post-title,.amp-featured-image,.cntn-wrp\",\"replaceElement\": \"#pagination,.pagination,.sp-lt,.s_stk\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"https://www.orcy.net.cn/\",\"example\": \"https://www.orcy.net.cn/\",\"url\": \"^https?://www\\\\.orcy\\\\.net\\\\.cn/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \".Article__content\",\"replaceElement\": \".wp-pagenavi\",\"from\": 2},{\"name\": \"www.thingiverse.com\",\"example\": \"https://www.thingiverse.com/\",\"url\": \"^https?://www\\\\.thingiverse\\\\.com/\",\"action\": 1,\"waitElement\": [\"img[alt='Make Card'][loading]\"],\"nextLink\": \"//a[div[span[text()='More']]]\",\"pageElement\": \"[class^='SearchResult__searchResultItems']\",\"replaceElement\": \"[class^='Pagination__pagination']\",\"css\": \".pagetual_pageBar{margin-top:2px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"onehu.xyz\",\"example\": \"https://onehu.xyz/\",\"url\": \"^https?://onehu\\\\.xyz/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//div[article]\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"200btsow.vip\",\"example\": \"https://200btsow.vip/\",\"url\": \"^https?://200btsow\\\\.vip/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//tr[td/a[@title]]\",\"replaceElement\": \"//a[text()='']\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.taodocs.com/p-118668992.html\",\"url\": \"^https?://m\\\\.taodocs\\\\.com/\",\"autoClick\": \".view\",\"loadMore\": \"#moreBtn\",\"from\": 2},{\"name\": \"\",\"example\": \"http://www.fjisu2.com/acg/japan/\",\"url\": \"^https?://(www\\\\.|m\\\\.)?(fjisu|feijisu)\\\\d+\\\\.com/\\\\w+/\\\\w+/\",\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".b-listtab,.picTxt>.picTxt\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar+div {margin-top: -10px !important;}\",\"from\": 2},{\"name\": \"115 - \",\"example\": \"https://115kanju.com/center\",\"url\": \"^https?://115kanju\\\\.com/\",\"nextLink\": \"li[title='']\",\"pageElement\": \"//div[div/div/a/img[@alt]]\",\"replaceElement\": \".ant-pagination\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"NO\",\"example\": \"https://www.novipnoad.com/movie/\",\"url\": \"^https?://www\\\\.novipnoad\\\\.com/\",\"nextLink\": \"a.nextpostslink\",\"pageElement\": \"//div[div[@id and contains(@class,'video-item')] and contains(@class,'col-md-3')] | //div[@id and contains(@class,'blog-item video-item')]\",\"replaceElement\": \".wp-pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://czzy01.com/\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'')]\",\"nextLink\": \".current+a\",\"pageElement\": \".bt_img>ul\",\"replaceElement\": \".pagenavi_txt\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.dianyinggou.com/yingku/\",\"url\": \"^https?://www\\\\.dianyinggou\\\\.com/\",\"nextLink\": \".mainPage li.selected+li>a\",\"pageElement\": \".movies,.celebrity,.cntBox.articles\",\"replaceElement\": \".mainPage \",\"lazyImgSrc\": \"data-url\",\"css\": \".movies+.pagetual_pageBar,.celebrity+.pagetual_pageBar{margin-top:-40px!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.macat.vip/%e5%ad%97%e4%bd%93\",\"url\": \"^https?://www\\\\.macat\\\\.vip/\",\"include\": \".posts-wrapper.row\",\"nextLink\": \".next\",\"pageElement\": \".posts-wrapper>div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://ddys.tv/category/movie/\",\"url\": \"^https?://ddys\\\\d?\\\\.[a-z]{2,3}/\",\"nextLink\": \"a.next\",\"pageElement\": \".post-box-list\",\"replaceElement\": \".pagination_wrap\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"http://kkkk.plus/vodshow/1-----------.html\",\"url\": \"^https?://kkkk\\\\.plus/\",\"nextLink\": \".page-next\",\"pageElement\": \".module-items\",\"replaceElement\": \"#page\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"91 \",\"example\": \"https://91mjw.vip/category/dianying\",\"url\": \"^https?://(91mjw|91mj)\\\\.vip/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".m-movies>.u-movie\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"ZzzFun \",\"example\": \"http://www.zzzfun.com/vod_type_id_1.html\",\"url\": \"^https?://www\\\\.zzzfun\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".main-guide>.search-result>a\",\"replaceElement\": \"#page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"https://www.tucao.lol/list/7/\",\"url\": \"^https?://www\\\\.tucao\\\\.[a-z]{3}/\",\"nextLink\": \".pagego a\",\"pageElement\": \".list>ul\",\"replaceElement\": \".newpages,.pagego,#float_sho\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.tucao.lol/index.php?m=content&c=search&a=init&catid=24&dosubmit=1&orderby=a.id+DESC&info%5Btitle%5D=%E8%BD%AC%E7%94%9F&page=3\",\"action\": 1,\"url\": \"^https?://www\\\\.tucao\\\\.[a-z]{3}/index\\\\.php\\\\?\",\"nextLink\": \"//a[@class='a1' and contains(text(), '')]\",\"pageElement\": \"//div[div[@class='search_info']]\",\"replaceElement\": \".newpages\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+div{margin-top:10px!important}\",\"from\": 2},{\"name\": \"Vilipix\",\"example\": \"https://www.vilipix.com/new\",\"url\": \"^https?://www\\\\.vilipix\\\\.com/\",\"action\": 2,\"nextLinkByJs\": \"let next=doc.querySelector('li.number.active+li.number');if(next)return location.origin+location.pathname+'?p='+next.innerText\",\"pageElement\": \"ul.illust-content\",\"replaceElement\": \"ul.el-pager\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);setTimeout(()=>{let cpn=ge('.el-pager>.number.active').innerText;let ps=gae('.el-pager>.number:not(.active)');let lp=location.pathname;ps.forEach(e=>{let p=e.innerText;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;e.setAttribute('onclick',link)});let pb=ge('button.btn-prev');if(pb){if(cpn>1){pb.removeAttribute('disabled');let p=cpn-1;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;pb.setAttribute('onclick',link)}}let nb=ge('button.btn-next');if(nb){let last=ge('.el-pager>li.active:last-child');if(last){nb.setAttribute('disabled','disabled')}else{let npn=ge('.el-pager>.number.active+li').innerText;let p=parseInt(cpn)+1;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;nb.setAttribute('onclick',link)}}},500)\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.yystv.cn/docs\",\"url\": \"^https?://www\\\\.yystv\\\\.cn/\",\"action\": 1,\"nextLinkByJs\": \"let next = doc.querySelector('.cur-page+li'); if (next) return location.origin + location.pathname + '?page=' + next.innerText\",\"pageElement\": \".list-container>li,.video-list,.img-mode\",\"replaceElement\": \".page-list\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);gae('.scale-img').forEach(e=>{e.style=e.getAttribute('style')});setTimeout(()=>{let ls=gae('.page-num-list li:not([class])');let lp=location.pathname;ls.forEach(e=>{let p=e.innerText;let link=lp+'?page='+p;let ps=`location.href='${link}'`;e.setAttribute('onclick',ps)});let h=ge('.page-list>li:nth-child(1)');let gohp=`location.href='${lp}'`;h.setAttribute('onclick',gohp);let n=ge('.page-list>li:nth-child(2)');let np=ge('.cur-page+li');if(n&&np){let link=lp+'?page='+np.innerText;let next=`location.href='${link}'`;n.setAttribute('onclick',next)}else{n.removeAttribute('onclick')}let input=ge('.page-list-custom-input');input.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='13'){let url=location.href.replace(/\\\\?page=\\\\d+/,'');if(input.value>0)location.href=url+'?page='+input.value}})},500)\",\"from\": 2},{\"name\": \"steamcommunity.com\",\"url\": \"^https?://steamcommunity\\\\.com/\",\"include\": \".workshopBrowsePaging\",\"nextLink\": \"a.pagebtn:last-child\",\"pageElement\": \".workshopBrowseItems\",\"replaceElement\": \".workshopBrowsePaging\",\"pageAction\": \"let ps=document.querySelectorAll('.workshopBrowseItems');let last=ps.length-1;ps[last].querySelectorAll('script').forEach(e=>{eval(e.innerHTML)})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"99images\",\"example\": \"https://www.99images.com/celebrities/aisha-sharma\",\"url\": \"^https?://www.99images.com/\",\"action\": 1,\"init\": \"document.querySelectorAll('.gallery-images-container').forEach(e=>{e.nextElementSibling.remove()})\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".gallery-images-container\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"libgen.rs\",\"example\": \"http://libgen.rs/search.php?&req=The+Way+Out&phrase=1&view=simple&column=def&sort=def&sortmode=ASC&page=1\",\"url\": \"^https?://libgen\\\\.rs/\",\"action\": 1,\"waitElement\": [\"//td[span/strong]\"],\"nextLink\": \"//td[span/strong]/following-sibling::td[1]//a | //table/tbody/tr/td/font[@color]/a\",\"pageElement\": \"//tr[td[@nowrap]]\",\"replaceElement\": \"//div[contains(@class,'paginator')] | //table[tbody/tr/td/font[@color]]\",\"from\": 2},{\"name\": \"\",\"example\": \"http://biquys.com/acg/y2022/\",\"url\": \"^https?://(www\\\\.)?biquys.com/(acg|zongyi|mov|tv)/\",\"action\": 1,\"nextLink\": \"//a[@class='a1' and text()='']\",\"pageElement\": \".index-tj\",\"replaceElement\": \".page\",\"wait\": \"let img=doc.querySelector('ul.main img');return img!=null\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;}.mb {margin-bottom: 10px!important;}\",\"from\": 2},{\"name\": \"LIBVIO\",\"example\": \"https://libvio.me/type/1.html\",\"url\": \"^https?://libvio\\\\.me/\",\"action\": 1,\"wait\": 1000,\"nextLink\": \"li.active+li>a\",\"pageElement\": \".stui-vodlist\",\"replaceElement\": \".stui-page__item\",\"pageInit\": \"let defaultImg='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-ae4eabf5-1b15-425e-bdc9-144e48cded99/c9d2141e-8569-4996-9c73-d633a0669fa8.gif';doc.querySelectorAll('a.lazyload').forEach((item)=>{let imgUrl=item.dataset.original;let image=new Image();image.src=imgUrl;if(!image.complete){item.style.backgroundImage=`url(${defaultImg})`}})\",\"css\": \".stui-page__all{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.yxdmlove.com/resource/\",\"url\": \"^https?://www\\\\.yxdmlove\\\\.com/\",\"nextLink\": \"//a[@class='nextPage' or text()='']\",\"pageElement\": \".dhnew>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"\",\"example\": \"http://www.nicotv.me/video/type3/-----4-addtime.html\",\"url\": \"^https?://www\\\\.nicotv\\\\.me/\",\"nextLink\": \"//ul[contains(@class, 'pagination ')]//a[text()='']\",\"pageElement\": \"ul.list-unstyled\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"\",\"example\": \"https://www.mandao.tv/list/lm1.html\",\"url\": \"^https?://www\\\\.mandao\\\\.tv/\",\"nextLink\": \"//div[contains(@class, 'page')]/a[text()='>']\",\"pageElement\": \".index-tj>ul\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-30px!important}\",\"from\": 2},{\"name\": \"AGE \",\"example\": \"https://www.agemys.net/catalog/all-all-all-all-all-time-1\",\"url\": \"^https?://www\\\\.agemys\\\\.[^/]+/\",\"nextLink\": \"id('container')//div[@class='blockcontent']/div[@style][not(@class)]/li/a[contains(text(), '')]\",\"pageElement\": \"#container .blockcontent1>div, #container .blockcontent>ul:not(.search-list)>li\",\"replaceElement\": \"#container .blockcontent>div[style]:not([class])\",\"from\": 2},{\"name\": \"AGE  - \",\"example\": \"https://www.agemys.cc/rank\",\"url\": \"^https?://www\\\\.agemys\\\\.cc/rank\",\"nextLink\": \"id('container')/ul[@style][not(@class)]/li/a[contains(text(), '')]\",\"pageElement\": \"#container>.div_right .blockcontent.div_right_r_3>ul\",\"replaceElement\": \"#container>ul[style]:not([class])\",\"css\": \".pagetual_pageBar+ul{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"233 \",\"example\": \"https://www.dm233.cc/catalog/\",\"url\": \"^https?://www\\\\.dm233\\\\.cc/\",\"nextLink\": \"//div[@class='pagelist']//a[contains(text(), '') or contains(text(), '')]\",\"pageElement\": \".dhnew ul, .xgyd ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"233  - \",\"example\": \"https://www.dm233.cc/rank/\",\"url\": \"^https?://www\\\\.dm233\\\\.cc/rank/\",\"nextLink\": \"//div[@class='pagelist']//a[contains(text(), '') or contains(text(), '')]\",\"pageElement\": \".side-update.normal-wai>.normal-nei\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"anime1.me\",\"example\": \"https://anime1.me/\",\"url\": \"^https?://anime1\\\\.me/\",\"nextLink\": \"a.next\",\"pageElement\": \"#table-list>tbody>tr\",\"from\": 2},{\"name\": \"ACG.RIP\",\"example\": \"https://acg.rip/\",\"url\": \"^https?://acg\\\\.rip/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"table.post-index>tbody\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"AniRena\",\"example\": \"https://www.anirena.com/\",\"url\": \"^https?://www\\\\.anirena\\\\.com/\",\"nextLink\": \"a.disabled+a:not(.disabled)\",\"pageElement\": \".full2, .full2+script\",\"replaceElement\": \".full3.buttons\",\"pageAction\": \"let ss=document.querySelectorAll('.full2+script');let n=Math.ceil(ss.length/100);for(let i=(n-1)*100-1;i<ss.length;i++){eval(ss[i].innerHTML)};\",\"from\": 2},{\"name\": \"\",\"example\": \"https://bangumi.moe/\",\"url\": \"^https?://bangumi\\\\.moe/\",\"loadMore\": \"[torrent-list='lattorrents'] button[ng-click='loadMore()'] ,[torrent-list='torrents'] button[ng-click='loadMore()']\",\"from\": 2},{\"name\": \" lite\",\"example\": \"https://bangumi.moe/lite/\",\"url\": \"^https?://bangumi\\\\.moe/lite/\",\"nextLink\": \"//section/a[span[contains(@class, 'next')]]\",\"pageElement\": \".torrents-ul\",\"replaceElement\": \".page-btn-section\",\"pageAction\": \"eval(document.querySelector('head>script:not([src])').innerHTML)\",\"css\": \".pagetual_pageBar+ul{padding-top:0px!important}\",\"from\": 2},{\"name\": \"YTS\",\"example\": \"https://yts.mx/browse-movies\",\"url\": \"^https?://yts\\\\.mx/browse-movies\",\"nextLink\": \"//ul[contains(@class, 'tsc_pagination')]/li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \".browse-movie-wrap\",\"replaceElement\": \".tsc_pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"1337x\",\"example\": \"https://www.1377x.to/\",\"url\": \"^https?://www\\\\.1377x\\\\.\",\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"table.table-list>tbody\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"kickasss\",\"example\": \"https://kickasss.to/\",\"url\": \"^https?://(kickasss|katcr)\\\\.\",\"nextLink\": \"a.active+a\",\"pageElement\": \"table.data.frontPageWidget>tbody>tr:not(.firstr)\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"TorrentGalaxy\",\"example\": \"https://torrentgalaxy.to/torrents.php\",\"url\": \"^https?://torrentgalaxy\\\\.to/\",\"nextLink\": \"li.page-item.active+li.page-item>a\",\"pageElement\": \".tgxtable>.tgxtablerow\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"limetorrents\",\"example\": \"https://ww1.limetorrents.icu/movies\",\"url\": \"^https?://(\\\\w{1,3}\\\\.)?limetorrents\\\\.icu/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"section>.row\",\"replaceElement\": \".tsc_pagination\",\"css\": \"#social_popup{display:none!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"WebHD\",\"example\": \"http://webhd.cc/\",\"url\": \"^https?://webhd\\\\.cc/\",\"nextLink\": \"//a[@class='page-link'][contains(text(), '')]\",\"pageElement\": \".col-lg-9 .bg-white.shadow-sm.rounded-3>.row.gx-0\",\"replaceElement\": \"ul.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"WebHD - \",\"example\": \"http://webhd.cc/search/king\",\"url\": \"^https?://webhd\\\\.cc/search/\",\"nextLink\": \"//a[@class='page-link'][contains(text(), '')]\",\"pageElement\": \".col-lg-9 .bg-white.shadow-sm.rounded-3\",\"replaceElement\": \"ul.pagination\",\"insert\": \"nav[aria-label='pagination']\",\"insertPos\": 1,\"pageBar\": 0,\"from\": 2},{\"name\": \"MINI4K\",\"example\": \"https://www.mini4k.com/movies\",\"url\": \"^https?://www\\\\.mini4k\\\\.com/movies\",\"nextLink\": \"a.pager__item--next\",\"pageElement\": \"div[class*='-item-list']>ul>.column\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://yandanshe.com/\",\"url\": \"^https?://yandanshe\\\\.com/b\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpts\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://yandanshe.com/\",\"url\": \"^https?://yandanshe\\\\.com/\\\\d+\",\"nextLink\": \"span.current+a\",\"pageElement\": \"title,.article-content\",\"replaceElement\": \".list\",\"pageBarText\": \"let t=doc.querySelector('.article-content');if(t)return t.innerText\",\"from\": 2},{\"name\": \"&MioBT\",\"example\": \"http://www.kisssub.org/http://miobt.com/\",\"url\": \"^https?://(www\\\\.|m|share\\\\.)?(kisssub|miobt|comicat|acgnx|anix|36dm)\\\\.(org|com|se|moe|club)\",\"action\": 1,\"nextLink\": \"span.current+a\",\"pageElement\": \"#data_list>tr,.lists\",\"replaceElement\": \".pages.clear\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"\",\"example\": \"http://share.dmhy.org/topics/list/sort_id/2\",\"url\": \"^https?://(www|share|dmhy)?(\\\\.)?(dmhy|anoneko)\\\\.(org|com)\",\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \"thead+tbody\",\"replaceElement\": \".table.clear>.nav_title,script+.nav_title\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"\",\"example\": \"https://mikanani.me/Home/Classic\",\"url\": \"^https?://mikanani\\\\.me/Home/Classic\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('.pagination>li.active+li:not([style]):not([class])>a');if(next)return location.origin+location.pathname.replace(/\\\\/\\\\d+$/,'')+'/'+next.innerText\",\"pageElement\": \"//table/tbody/tr\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BT \",\"example\": \"https://www.btbtt15.com/forum-index-fid-950.htm\",\"url\": \"^https?://www\\\\.btbtt\\\\d+\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"//div[@class='page']/a[text()='' or text()='']\",\"pageElement\": \"#threadlist>.thread\",\"replaceElement\": \"div+div.page\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"limetorrents.cc\",\"example\": \"https://www.limetorrents.lol/browse-torrents/Movies/\",\"url\": \"^https?://www\\\\.limetorrents\\\\.lol/(browse-torrents|search)/\",\"nextLink\": \"#next\",\"pageElement\": \"table.table2>tbody>tr:not(:first-of-type)\",\"replaceElement\": \".search_stat\",\"from\": 2},{\"name\": \"RARBG\",\"example\": \"https://rarbg.to/torrents.php?category=movies\",\"url\": \"^https?://(proxy|unblocked)?rarbg([a-z0-9]+)?\\\\.(to|org|com)/\",\"pinUrl\": true,\"action\": 2,\"include\": \"#pager_links\",\"nextLink\": \"#pager_links>a[title='next page']\",\"pageElement\": \"//table[tbody/tr[@class='lista2']/td/a/img]\",\"replaceElement\": \"#pager_links\",\"pageAction\": \"document.querySelectorAll('iframe[name]').forEach(iftame=>{iftame.style.margin='0 -2px 2px 0px'});let w=document.querySelector('.lista2t .lista2>td[align=center]:not([width])').clientWidth-2;let iframes=document.getElementsByTagName('iframe');for(let i=0;i<iframes.length;i++){let iframe=iframes[i].contentWindow.document;iframe.body.querySelectorAll('.lista2t .lista2>td[align=center]:not([width])').forEach(e=>{e.setAttribute('width',w)})};\",\"sleep\": 1000,\"css\": \"inIframe:body,table{margin:0!important;padding:0!important;width:100.1%!important}td[width='100'],.lista2t tr:not(.lista2){display:none!important}body{background:none!important}table.lista2t{border-top:2px solid #a0cff0}\",\"from\": 2},{\"name\": \"SkrBT / BT1207\",\"example\": \"http://ibt120701.xyz/search?keyword=king\",\"url\": \"^https?://.*(bt1207|skrbt)[^/]+/\",\"include\": \"#search-form\",\"nextLinkByJs\": \"let n=doc.querySelector('ul.pagination>li.active+li>a');if(!n)return null;let params=[];let form=doc.querySelector('#search-form');form.querySelectorAll('input').forEach(input=>{if(input.name=='p')params.push('p='+n.innerText);else params.push(input.name+'='+input.value)});return form.action+'?'+params.join('&')\",\"pageElement\": \"ul.list-unstyled\",\"replaceElement\": \"nav>.pagination\",\"css\": \".pagetual_pageBar+.list-unstyled{margin-top:0px!important;}#right-panel{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"http://www.ddzimu.com/download/xslist.php?key=king\",\"url\": \"^https?://www\\\\.ddzimu\\\\.com/\\\\w+/xslist\\\\.php\",\"nextLink\": \"li.disabled+li>a\",\"pageElement\": \".list>ul>li:not(.first)\",\"replaceElement\": \"div.pagination\",\"from\": 2},{\"name\": \" zimuzimu\",\"example\": \"http://cn.zimuzimu.com/so_zimu.htm?q=2020\",\"url\": \"^https?://cn\\\\.zimuzimu\\\\.com/\",\"nextLink\": \"li.page-item.active+li>a\",\"pageElement\": \"li.thread\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" zmk\",\"example\": \"https://zimuku.org/\",\"url\": \"^https?://zimuku\\\\.org/\",\"nextLink\": \"a.next\",\"pageElement\": \"table>tbody\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"A4k \",\"example\": \"https://www.a4k.net/\",\"url\": \"^https?://www\\\\.a4k\\\\.net/\",\"nextLink\": \"a.pager__item--next\",\"pageElement\": \".list>.item\",\"replaceElement\": \"nav.pager\",\"pageBar\": 0,\"from\": 2},{\"name\": \"\",\"example\": \"http://assrt.net/xml/list/sub/\",\"url\": \"^https?://assrt\\\\.net/\",\"nextLinkByJs\": \"let next = doc.querySelector('#pl-current+a'); if (next) return location.origin + location.pathname + '?page=' + next.innerText\",\"pageElement\": \".subitem:not([style])\",\"replaceElement\": \".pagelinkcard\",\"insert\": \".pagelinkcard\",\"insertPos\": 1,\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+.subitem{margin-top:-2px!important}\",\"from\": 2},{\"name\": \"SubHD\",\"example\": \"https://subhd.tv/sub/movie\",\"url\": \"^https?://subhd(tw)?\\\\.(tv|com|la|cc|me)/(zu|sub|search)/\",\"include\": \"nav.clearfix\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".bg-white.shadow-sm.rounded-3\",\"replaceElement\": \".pagination\",\"insert\": \"nav.clearfix\",\"insertPos\": 1,\"css\": \".col-lg-3.pt-5{display:none!important}.pagetual_pageBar{margin-top:-10px!important;}\",\"rate\": 3,\"sleep\": 1000,\"from\": 2},{\"name\": \"R3SUB - \",\"example\": \"https://r3sub.com/search.php?s=king\",\"url\": \"^https?://r3sub\\\\.com/search\\\\.php\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".movie.movie--preview.ddd\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important;}.pagetual_pageBar+.movie{margin-top:-2px!important;}\",\"from\": 2},{\"name\": \"kantv.io\",\"example\": \"http://kantv.io/home/\",\"url\": \"^https?://kantv\\\\.io/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".subom-post\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important;}\",\"from\": 2},{\"name\": \"comic.bh3.com\",\"example\": \"https://comic.bh3.com/book/1001/1\",\"url\": \"^https?://comic\\\\.bh3\\\\.com/book/\\\\d+/\\\\d+\",\"nextLinkByJs\": \"let n=doc.querySelector('.comic-wrapper>a:last-child');if(n){return location.origin+n.href.split('\\\\'')[3]}\",\"pageElement\": \"img.comic_img,.comic-wrapper>.read-next\",\"replaceElement\": \".comic-wrapper>a:last-child,.header_word\",\"css\": \".comic-wrapper {overflow-y: initial !important;} .comic_img{display: inline;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.kuaikanmanhua.com/web/comic/190217/\",\"url\": \"^https?://www\\\\.kuaikanmanhua\\\\.com/web/comic/\\\\d+\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src})\",\"nextLink\": \"//a[not(@href='javascript:void(0);') and text()='']\",\"pageElement\": \".imgList\",\"replaceElement\": \".comicDetails h3,.AdjacentChapters,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.imgList');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"css\": \".giude{display:none!important}\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/[^|]+/)[0].trim()\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.kuaikanmanhua.com/tag/0\",\"url\": \"^https?://www\\\\.kuaikanmanhua\\\\.com/tag/\\\\d+\",\"init\": \"let ge=e=>document.querySelector(e);let link=ge('.headerContent>div>ul>li:nth-child(2)>a');link.href='/tag/0\\\\?region=1&pays=0&state=0&sort=1&page=1';link.removeAttribute('target');if(!location.search){ge('.selList.fl.cls>a:first-child').click()}\",\"action\": 1,\"nextLinkByUrl\": [\"&page=(\\\\d+)$\",\"&page={$1+1}\",\"ul.pagination>li:not(.disabled):last-child\"],\"pageElement\": \".tagContent.cls>*\",\"replaceElement\": \".TagPages.pagesBox\",\"pageAction\": \"setTimeout(()=>{let ge=e=>document.querySelector(e);let url=location.search.replace(/(\\\\d+)$/,'');document.querySelectorAll('.itemBten:not(.active)>a:not(.prev):not(.Next)').forEach(a=>{a.href=url+a.innerText});let cp=ge('.pagination>li.active>a').innerText;let ppn=cp-1;let hb=ge('.pagination>li:not(.disabled):first-child>a');if(hb){hb.href=url+ppn}let pb=ge('a.prev');if(pb){pb.href=url+ppn}let next=ge('.pagination>li.active+li>a');let nb=ge('a.Next');if(next){nb.href=url+next.innerText}let enb=ge('.pagination>li:not(.disabled):last-child>a');if(enb){enb.href=url+next.innerText}},1000)\",\"css\": \".pagetual_pageBar{margin-top:-20px!important}.blankImg\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://kumw7.com/rank/5-1.html\",\"url\": \"^https?://(m\\\\.)?(kumw|kuman)\\\\d+\\\\.com/(sort|rank)/\",\"nextLink\": \"//a[text()=' > ']\",\"pageElement\": \".manList>ul\",\"replaceElement\": \"div+footer\",\"css\": \"aside{display:none!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://kumw7.com/25387/1391494.html\",\"url\": \"^https?://(m\\\\.)?(kumw|kuman)\\\\d+\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')});let ge=e=>document.querySelector(e);\",\"nextLink\": \"li.end-itm.next>a[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".chapter-end,.rd-static,div.title,head>title\",\"lazyImgSrc\": [\"data-src\",\"data-src\"],\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ge=e=>document.querySelector(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let v=ge('.van-nav-bar:not([style])');let vn=ge('.van-nav-bar[style*=none]');let vb=ge('.van-nav-bar[style*=block]');let b=ge('.bottom-tool-bar:not([style])');let bn=ge('.bottom-tool-bar[style*=none]');let bb=ge('.bottom-tool-bar[style*=block]');if(v){v.setAttribute('style','display: block;')}if(b){b.setAttribute('style','display: block;')}if(vn){vn.style.display='block'}else{vb.style.display='none'}if(bn){bn.style.display='block'}else{bb.style.display='none'}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.rd-static>span');if(t)return t.innerText\",\"css\": \".img_Page,.morepl,#adhtml{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.kumw7.com/sort/13-1.html\",\"url\": \"^https?://www\\\\.(kumw|kuman)\\\\d+\\\\.com/(sort|rank)/\",\"nextLink\": \"//a[text()=' > ']\",\"pageElement\": \".box.container\",\"replaceElement\": \"section+footer\",\"css\": \".pagetual_pageBar {margin-top: -8px !important;}.pagetual_pageBar+section {margin-top: 5px !important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.kumw7.com/24186/1259138.html\",\"url\": \"^https?://www\\\\.(kumw|kuman)\\\\d+\\\\.com/\\\\d+/\\\\d+\\\\.html$\",\"history\": 2,\"action\": 1,\"nextLink\": \"a.next[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".chaptitle,.chapend,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \".chapter-img-box{margin-bottom:-1px!important}.chapend .next,.chapend .prev{margin:0 auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.2animx.com/index-html-status-1\",\"url\": \"^https?://www\\\\.2animx\\\\.com/index-html-status\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".box.across.list>.box-bd>.liemh.htmls.indliemh\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.2animx.com/index-look-name-%E5%A6%96%E7%A5%9E%E8%A8%98-cid-22592-id-235546\",\"url\": \"^https?://www\\\\.2animx\\\\.com/index-look-name\",\"init\": \"document.querySelectorAll('#img_ad_img>img[style*=none]').forEach(e=>{e.remove()});document.querySelectorAll('#ComicPic').forEach(e=>{e.outerHTML=`<img src='${e.src}'>`});\",\"nextLink\": \"//a[text()=''][not(starts-with(@href,'javascript'))] | //a[text()='']\",\"pageElement\": \"#img_ad_img>img\",\"replaceElement\": \"head>title,script+div.c,.e+.c,.b\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#img_ad_img>img[style*=none]').forEach(e=>{e.remove()});gae('#ComicPic').forEach(e=>{e.outerHTML=`<img src='${e.src}'>`});gae('.pagetual_pageBar>a').forEach(e=>{if(/-p-/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>5){ps[0].remove();let ds=gae('#img_ad_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.match(/-([^-]+)/)[1].trim();\",\"rate\": 10,\"css\": \".e>h1,.e>p,.fb-share-button,#index_mian,.c>.fanye,.c>select,#k_zsy,.lookpage{display:none!important}#img_ad_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://copymanga.site/recommend\",\"url\": \"^https?://copymanga\\\\.site/recommend\",\"nextLink\": \"li.next>a\",\"pageElement\": \".container.correlationList\",\"replaceElement\": \".container>.page-all\",\"css\": \".pagetual_pageBar {margin-top: -10px !important;margin-bottom: 20px !important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://copymanga.site/comics\",\"url\": \"^https?://copymanga\\\\.site/comics\",\"action\": 1,\"nextLink\": \"li.next>a\",\"pageElement\": \".container.exemptComicList\",\"replaceElement\": \".container>.page-all\",\"from\": 2},{\"name\": \"8 - \",\"example\": \"http://haoman8.com/category/\",\"url\": \"^https?://haoman8\\\\.com/category/\",\"nextLink\": \"a.on+a\",\"pageElement\": \".acgn-comic-list\",\"replaceElement\": \".acgn-pages\",\"css\": \".pagetual_pageBar{margin-top:-15px!important}.acgn-comic-list{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"8 -  - PC\",\"example\": \"http://haoman8.com/comic/222/718631\",\"url\": \"^https?://(www\\\\.)?haoman8\\\\.com/comic/\\\\d+/\\\\d+\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"init\": \"setTimeout(()=>{let s=document.querySelector('#js_swichV:not(.hide)');if(s){s.click()}},1000);let _img='';document.querySelectorAll('img[data-echo]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-echo')}'>`});document.querySelector('#reader-scroll').innerHTML=_img\",\"nextLinkByJs\": \"let next = document.querySelector(`#js_pageNextBtn[_href^='/']`); if (next) return location.origin + next.getAttribute('_href')\",\"manualMode\": true,\"from\": 2},{\"name\": \"8 - \",\"example\": \"http://haoman8.com/comic/222/746937\",\"url\": \"^https?://(www\\\\.)?haoman8\\\\.com/comic/\\\\d+/\\\\d+\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"wait\": 2000,\"init\": \"function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}setTimeout(()=>{document.querySelectorAll('img[data-echo]').forEach(e=>{e.src=e.getAttribute('data-echo')})},2000);let nh=document.querySelector('li.next-chapter').getAttribute('_href');let ph=document.querySelector('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=document.querySelector('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='` + ph + `'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=document.querySelector('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='` + nh + `'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(ph.indexOf('/')!=-1){document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\"></a></li>'}else{document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href></a></li>'}if(nh.indexOf('/')!=-1){document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\"></a></li>'}else{document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>'}},150)\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"lazyImgSrc\": [\"data-echo\",\"data-echo\"],\"pageInit\": \"let nh=doc.querySelector('li.next-chapter').getAttribute('_href');let ph=doc.querySelector('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\"></a></li>';let nlink=`location.href='` + nh + `'`;document.querySelector('.chapternext').setAttribute('onclick',nlink)}else{document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>';document.querySelector('.chapternext').removeAttribute('onclick')}document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\"></a></li>';let plink=`location.href='` + ph + `'`;document.querySelector('.chapterprev').setAttribute('onclick',plink)},200)\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}let r=gae('.read-end')[0];if(r){gae('.prev-chapter')[0].remove()}},10000);\",\"pageBarText\": 1,\"css\": \".read-pos,.ds{display:none!important}.comic-list>.comic-page{margin-top:-3px!important}\",\"from\": 2},{\"name\": \" - PC/\",\"example\": \"http://www.manben.com/mh-updated/\",\"url\": \"^https?://www\\\\.manben\\\\.com/(mh-updated|mh-list)/\",\"loadMore\": \"#moreDiv\",\"css\": \"div[class^=''floatBar][style*='.png']{display:none!important}\",\"from\": 2},{\"name\": \" - PC\",\"example\": \"http://www.manben.com/m1149741/\",\"url\": \"^https?://www\\\\.manben\\\\.com/m\\\\d+(#page_\\\\d+)?\",\"include\": \"//script[contains(text(),'eval') and contains(text(),'newImgs')]\",\"exclude\": \"//p[text()=''] | //a[@class='readTipForm']\",\"pinUrl\": true,\"init\": \"$('#mainView').removeAttr('style');let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#comicContain img');if(set){clearInterval(loop);let F=new DocumentFragment();newImgs.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#comicContain');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLink\": \"id('mainControlNext') | //a[img[@alt=''] and not(@href='javascript:void(0);')]\",\"pageElement\": \"#comicContain\",\"replaceElement\": \"head>title,.title-comicHeading,.main_control,.catalog~a\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#comicContain');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#comicContain');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.title-comicHeading');if(t)return t.innerText\",\"css\": \"p.num,p.say,.comic-text{display:none!important}#comicContain img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.manben.com/m1149741/\",\"url\": \"^https?://www\\\\.manben\\\\.com/m\\\\d+(#page_\\\\d+)?\",\"exclude\": \"id('mainControlNext')\",\"init\": \"window.onscroll=null;let ge=e=>document.querySelector(e);function showtoolbar(){let t=ge(\\\".titleBar[style*='40px']\\\");if(t){$('.titleBar').attr('style','background-color:#373737;top: 0px;')}else{$('.titleBar').attr('style','background-color:#373737;top: -40px;')}let b=ge('.toolBar[style]');if(b){$('.toolBar').removeAttr('style')}else{$('.toolBar').attr('style','bottom: -65px;')}};document.addEventListener('click',showtoolbar);function keyshowtoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){return}else{$('.titleBar').attr('style','background-color:#373737;top: 0px;');$('.toolBar').removeAttr('style')}};document.addEventListener('keydown',keyshowtoolbar);let F=new DocumentFragment();newImgs.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#cp_img');E.innerHTML='';E.appendChild(F);\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//p[text()='']/preceding-sibling::a[starts-with(@href,'/m')] | //a[@class='readTipForm' and not(@href='/m0/')]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"//head/title | id('title') | //a[@class='readTipForm'] | //p[contains(text(), '') or contains(text(), '')]/preceding-sibling::a\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#title');if(t)return t.innerText.replace(/\\\\S+/,'').trim()\",\"from\": 2},{\"name\": \" 6  - \",\"example\": \"https://www.haoman6.com/http://www.g-lens.com/\",\"url\": \"^https?://www\\\\.(haoman6|g-lens)\\\\.com/category/(tags|finish|pay|list)/\",\"include\": \".getmore\",\"loadMore\": \".getmore\",\"from\": 2},{\"name\": \" 6 /  /  - \",\"example\": \"https://www.haoman6.com/category/https://www.mkzhan.com/category/https://www.mhua5.com/category/https://mh5.org/index.php/category/\",\"url\": \"^https?://(www\\\\.)?(haoman6|g-lens|mkzhan|mhua5|mh5)\\\\.(com|org)/((category|search)|index\\\\.php/(category|search))\",\"nextLink\": \"a.next\",\"pageElement\": \".cate-comic-list\",\"replaceElement\": \"#Pagination\",\"css\": \".pagetual_pageBar{margin-top:-20px!important}.pagetual_pageBar+.cate-comic-list{margin-top:2px!important}\",\"from\": 2},{\"name\": \" 6 -  - PC\",\"example\": \"https://www.haoman6.com/chapter/1630368\",\"url\": \"^https?://www\\\\.haoman6\\\\.com/chapter/\\\\d+\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"wait\": 1000,\"init\": \"document.querySelectorAll(`.rd-article__pic[style='display: none;']`).forEach(e=>{e.style.display='block'});document.querySelectorAll('img.lazy-read').forEach(img=>{img.src=img.getAttribute('data-ecp')})\",\"nextLinkByJs\": \"let next = doc.querySelector('.rd-aside__item.j-rd-next:not([style])'); if (next) return location.origin + next.getAttribute('_href')\",\"pageElement\": \".rd-article-wr\",\"replaceElement\": \".last-crumb,.rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title\",\"pageInit\": \"doc.querySelectorAll(`.rd-article__pic[style='display: none;']`).forEach(e=>{e.style.display='block'});doc.querySelectorAll('img.lazy-read').forEach(img=>{img.src=img.getAttribute('data-ecp')})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.rd-article-wr');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}#mainView{margin-top:0px!important}.rd-article__pic{min-height: auto!important}\",\"from\": 2},{\"name\": \" 6 - \",\"example\": \"https://www.haoman6.com/chapter/520621\",\"url\": \"^https?://www\\\\.haoman6\\\\.com/chapter/\\\\d+\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;$('#mainView').removeAttr('style');let nh=ge('li.next-chapter').getAttribute('_href');let ph=ge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=ge('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='${ph}'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=ge('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='${nh}'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(ph.indexOf('/')!=-1){ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\"></a></li>'}else{ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href></a></li>'}if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\"></a></li>'}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>'}},150);setTimeout(()=>{let F=new DocumentFragment();document.querySelectorAll('.ldimg[mob-ec]').forEach(e=>{let img=new Image();img.src=e.getAttribute('mob-ec');F.appendChild(img)});let E=ge('.main_img');E.innerHTML='';E.appendChild(F)},100);\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let nh=docge('li.next-chapter').getAttribute('_href');let ph=docge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\"></a></li>';let nlink=`location.href='${nh}'`;ge('.chapternext').setAttribute('onclick',nlink)}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>';ge('.chapternext').removeAttribute('onclick')}ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\"></a></li>';let plink=`location.href='${ph}'`;ge('.chapterprev').setAttribute('onclick',plink)},200);let F=new DocumentFragment();doc.querySelectorAll('.ldimg[mob-ec]').forEach(e=>{let img=new Image();img.src=e.getAttribute('mob-ec');F.appendChild(img)});let E=docge('.main_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \".read-pos,.ds,.top-tool-bar+div[style]{display:none!important}.comic-list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.mkzhan.com/216512/1007019.html\",\"url\": \"^https?://www\\\\.mkzhan\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"action\": 1,\"waitElement\": [\"#pages-tpl>*\"],\"init\": \"document.querySelectorAll('img.lazy-read').forEach(img=>{let dc=img.getAttribute('data-src');img.src=dc})\",\"nextLinkByJs\": \"let next=doc.querySelector('.rd-aside__item.j-rd-next:not([style])');if(next)return location.origin+next.getAttribute('href')\",\"pageElement\": \"#pages-tpl\",\"replaceElement\": \".rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title,.last-crumb\",\"pageInit\": \"doc.querySelectorAll('img.lazy-read').forEach(img=>{let dc=img.getAttribute('data-src');img.src=dc})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pages-tpl');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}#mainView{margin-top:0px!important}.rd-article__pic{min-height: auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.mkzhan.com/216512/1006597.html\",\"url\": \"^https?://m\\\\.mkzhan\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"waitElement\": [\".next-chapter[data-href]\"],\"nextLinkByJs\": \"let n = doc.querySelector('.next-chapter[data-href$=html]');if (n) return location.origin+n.getAttribute('data-href');\",\"pageElement\": \".comic-list,.read-end\",\"replaceElement\": \"head>title,h1.comic-name,.prev-chapter,.next-chapter,.chapter-end\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \"p.read-pos{display:none!important}\",\"from\": 2},{\"name\": \" /  - PC\",\"example\": \"https://www.mhua5.com/chapter-1612038.htmlhttps://mh5.org/index.php/chapter/741258\",\"url\": \"^https?://(www\\\\.)?(mh5|mhua5|mianzhui)\\\\.(org|com)/(chapter-\\\\d+\\\\.html|index\\\\.php/chapter/\\\\d+|[0-9-]+\\\\.html)\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"autoClick\": \"//div[@class='rd-aside__item j-rd-mod'][span[text()='']]\",\"history\": 2,\"action\": 1,\"wait\": 1000,\"init\": \"document.querySelectorAll('img[data-original]').forEach(e=>{e.src=e.dataset.original})\",\"nextLinkByJs\": \"let next = doc.querySelector('.rd-aside__item.j-rd-next:not([style])'); if (next) return location.origin + next.getAttribute('_href')\",\"pageElement\": \".rd-article-wr\",\"replaceElement\": \".last-crumb,.rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.rd-article-wr');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}.rd-article-wr>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://www.mhua5.com/chapter-1582203.htmlhttps://www.mh5.org/index.php/chapter/233329\",\"url\": \"^https?://(www|m)\\\\.(mh5|mhua5|mianzhui)\\\\.(org|com)/(chapter-\\\\d+\\\\.html|index\\\\.php/chapter/\\\\d+|[0-9-]+\\\\.html)\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let nh=ge('li.next-chapter').getAttribute('_href');let ph=ge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=ge('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='` + ph + `'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=ge('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='` + nh + `'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(location.hostname=='m.mianzhui.com'){document.querySelectorAll('img.lazy-image[data-original]').forEach(e=>{e.src=e.dataset.original})}},100);setTimeout(()=>{if(ph.indexOf('/')!=-1){ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\"></a></li>'}else{ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href></a></li>'}if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\"></a></li>'}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>'}},150)\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let gae=e=>doc.querySelectorAll(e);gae(`.comic-page[style='display: none;']`).forEach(e=>{e.style.display='list-item'});gae('.ldimg[mob-ec]').forEach(e=>{e.src=e.getAttribute('mob-ec')});let nh=docge('li.next-chapter').getAttribute('_href');let ph=docge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML=`<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'${nh}'\\\"></a></li>`;let nlink=`location.href='${nh}'`;ge('.chapternext').setAttribute('onclick',nlink)}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href></a></li>';ge('.chapternext').removeAttribute('onclick')}ge('.end-itm.prev').outerHTML=`<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"${ph}\\\"></a></li>`;let plink=`location.href='${ph}'`;ge('.chapterprev').setAttribute('onclick',plink)},200)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \".read-pos,.ds,ins{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"http://www.gllmh.com/\",\"url\": \"^https?://www\\\\.gllmh\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \".article-content img, #newsArticle img, .listl>ul, ul.news_list_1\",\"replaceElement\": \".pagination, .pages, .page\",\"css\": \".article-content img, #newsArticle img{visibility:visible!important;opacity:1!important;}\",\"from\": 2},{\"name\": \" / KuKu - \",\"example\": \"http://www.manmanju.com/comictype/3_1.htmhttp://manhua.ikukudm.com/comictype/3_1.htm\",\"url\": \"^https?://(m|www|manhua)\\\\.(manmanju|ikukudm)\\\\.com/comictype/\",\"nextLink\": \"//a[text()=''] | //a[span[text()='']]\",\"pageElement\": \"//dl[@id='comicmain'] | //div[@class='imgBox']\",\"replaceElement\": \"//dl[@id='comicmain']/preceding-sibling::table | //dl[@id='comicmain']/following-sibling::table | //ul[@class='subNav']\",\"css\": \".pagetual_pageBar+dl,.imgBox+.pagetual_pageBar{margin-top:-2px!important}\",\"from\": 2},{\"name\": \" / KuKu - \",\"example\": \"http://www.manmanju.com/comiclist/3658/97532/1.htmhttp://manhua.ikukudm.com/comiclist/3756/102656/1.htmhttp://m.manmanju.com/comiclist/3658/97532/1.htm\",\"url\": \"^https?://(m|a|b|www|manhua)\\\\.(manmanju|ikukudm)\\\\.com/comiclist/\\\\d+/\\\\d+/\\\\d+\\\\.htm$\",\"action\": 1,\"init\": \"let ia = document.querySelector('input~a');let sa = document.querySelector('script[language]+a');if(ia){ia.removeAttribute('href');}else{sa.removeAttribute('href');}\",\"nextLink\": \"//a[./img[@src='/images/d.gif']][not(@href='/exit/exit.htm')] | //a[span[text()='']][not(@href='/exit/exit.htm')]\",\"pageElement\": \"//script[@language]/following-sibling::a/img[@src][not(contains(@src,'.gif'))]\",\"replaceElement\": \"//a[./img[@src='/images/d.gif']] | //a[./img[@src='/images/t.gif']] | //div[@class='bottom']/ul[@class='subNav'] | //li[@class='txtA']\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.77mh.xyz/lianzai/index.html\",\"url\": \"^https?://(www|so)\\\\.77mh\\\\.[a-z]{2,3}/\",\"include\": \".pages_s\",\"nextLink\": \"a.current+a, a.next\",\"pageElement\": \"//ul[dl/dt/a/img] | //div[ul/li/a/img and @class='ar_list_co']\",\"replaceElement\": \".pages_s\",\"css\": \".pagetual_pageBar{margin-top:3px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://m.77mh.xyz/lianzai/index.html\",\"url\": \"^https?://(m|so)\\\\.77mh\\\\.[a-z]{2,3}/\",\"include\": \".lpagelist\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//ul[a/li/img]\",\"replaceElement\": \".lpagelist\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://www.77mh.xyz/202102/481169.htmlhttp://m.77mh.xyz/202102/481169.html\",\"url\": \"^https?://(www|m)\\\\.77mh\\\\.[a-z]{2,3}/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"wait\": 1000,\"init\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let code=eval(Array.from(document.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.hostname.indexOf('m.77mh')!=-1){img.src=ImgSvrList+e}else{img.src=img_qianz+e}F.appendChild(img)});if(location.hostname.indexOf('m.77mh')!=-1){let E=ge('.mg-co');E.innerHTML='';E.appendChild(F)}else{let E=ge('#comicImg');E.innerHTML='';E.appendChild(F)}},1000)\",\"nextLinkByJs\": \"let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextLink_b/)>-1).innerHTML.trim().slice(4));let next=eval(code.match(/nextLink_b[^;]+/)[0]);if(next.indexOf('html')!=-1)return location.origin+next\",\"pageElement\": \"#comicImg,.mg-co\",\"replaceElement\": \"head>title,#subTitle>h1,#pnpage,.page_num,.nav.nav-back\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.hostname.indexOf('m.77mh')!=-1){img.src=ImgSvrList+e}else{img.src=img_qianz+e}F.appendChild(img)});if(location.hostname.indexOf('m.77mh')!=-1){let E=ge('.mg-co');E.innerHTML='';E.appendChild(F)}else{let E=ge('#comicImg');E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);if(location.hostname.indexOf('m.77mh')!=-1){let m=gae('.mg-co');if(m.length>10){gae('.mg-co')[0].remove()}}else{let c=gae('#comicImg');if(c.length>10){gae('#comicImg')[0].remove()}}let p=gae('.pagetual_pageBar');if(p.length>10){gae('.pagetual_pageBar')[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(location.hostname.indexOf('m.77mh')!=-1){imgSrc=ImgSvrList+e}else{imgSrc=img_qianz+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t1=doc.querySelector('h1>a');let t2=doc.querySelector('.tit>a');if(t1){return t1.innerText.replace(/\\\\S+/,'').trim()}else if(t2){return t2.innerText.replace(/\\\\S+/,'').trim()}\",\"css\": \"#main>*:not(#comicImg):not(.pagetual_pageBar),.qrcode_div,.content~*:not(#toApp),body>p{display:none!important}#comicImg>img,.mg-co>img{max-width:100%!important;display:block!important;margin: 0 auto !important;border:0px!important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://comic.acgn.cc/cate-1.htm\",\"url\": \"^https?://comic\\\\.acgn\\\\.cc/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"ul#display\",\"replaceElement\": \"#pagination\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://comic.acgn.cc/view-202.htm\",\"url\": \"^https?://comic\\\\.acgn\\\\.cc/view-\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let c=ge('.tbCenter>tbody').cloneNode(true);ge('.tbCenter').appendChild(c);let F=new DocumentFragment();document.querySelectorAll('.pic[_src][id]').forEach(e=>{let img=new Image();img.src=e.getAttribute('_src');F.appendChild(img)});let E=ge('#pic_list');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#next_chapter\",\"pageElement\": \"#pic_list\",\"replaceElement\": \"#top,#breadcrumb,[class^='display_'],head>title\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('.pic[_src][id]').forEach(e=>{let img=new Image();img.src=e.getAttribute('_src');F.appendChild(img)});let E=doc.querySelector('#pic_list');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic_list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let ge=e=>document.querySelector(e);ge('.tbCenter>tbody:last-child').outerHTML=ge('.tbCenter>tbody').outerHTML},200)\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let imgSrcArr=[];doc.querySelectorAll('.pic[_src][id]').forEach(e=>{let imgSrc=e.getAttribute('_src');imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \".btn_wrap,#ss-toolbar{display:none!important}#pic_list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.kanbook.net/list-r-1\",\"url\": \"^https?://www\\\\.kanbook\\\\.net/(update|list|rank|news)\",\"nextLink\": \"//a[@title='' or @title='']\",\"pageElement\": \"//div[div/div/a/img[starts-with(@class,'comic-book-cover')]] | //div[div/div/div/div/a/img][starts-with(@class,'comic-main-section')] | //ul[li/div/a/img][starts-with(@class,'top10-list')] | //ul[@class='list-body'] | //div[div/div[starts-with(@class,'comicbook-index')]]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.kanbook.net/comic/1661/1/1\",\"url\": \"^https?://(www\\\\.)?kanbook\\\\.net/\",\"include\": \"nav+.container-fluid+.container-fluid\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';var addGlobalscript=code=>{let script=document.createElement('script');script.type='text/javascript';script.innerHTML=code;document.body.appendChild(script)}`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);setTimeout(()=>{let imgData=[];if(is_refresh==0){for(let i=0;i<pageNum;i++){imgData.push(Gm.getImgUrl(comic_id+'/'+version_id+'/'+part_id+'/'+my_sha2(x_tokens[i])))}}else{for(let i=0;i<data.url.length;i++){imgData.push(Gm.getImgUrl(data.url[i]))}}let F=new DocumentFragment();for(let i=0;i<imgData.length;i++){let img=new Image();img.src=loading_bak;img.dataset.src=imgData[i];imagesObserver.observe(img);F.appendChild(img)}let E=ge('nav+.container-fluid+.container-fluid');E.innerHTML='';E.appendChild(F)},1000)\",\"nextLink\": \"//a[text()='' and not(starts-with(@href,'javascript'))]\",\"pageElement\": \"//script[contains(text(),'x_tokens')]\",\"insert\": \"nav+.container-fluid+.container-fluid\",\"insertPos\": 2,\"replaceElement\": \".paginationContent\",\"pageInit\": \"let code1=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML;addGlobalscript(code1);let code2=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x_tokens/)>-1).innerHTML;addGlobalscript(code2);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let imgData=[];if(is_refresh==0){for(let i=0;i<pageNum;i++){imgData.push(Gm.getImgUrl(comic_id+'/'+version_id+'/'+part_id+'/'+my_sha2(x_tokens[i])))}}else{for(let i=0;i<data.url.length;i++){imgData.push(Gm.getImgUrl(data.url[i]))}}let F=new DocumentFragment();for(let i=0;i<imgData.length;i++){let img=new Image();img.src=loading_bak;img.dataset.src=imgData[i];imagesObserver.observe(img);F.appendChild(img)}let E=ge('nav+.container-fluid+.container-fluid');E.appendChild(F);let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>9){titles[0].remove();let removes=gae('nav+.container-fluid+.container-fluid>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"sleep\": 1000,\"pageBarText\": \"let t=doc.querySelector('div.justify-content-center.mt-3.mt-md-4.text-left.view-title.one-line>span:nth-child(5)');if(t)return t.innerText\",\"css\": \"nav+.container-fluid+.container-fluid>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}h2~span:not(.h4),.ppre,.pnext,#page-selector,.pagination>a:nth-child(1)~*:not(.next_part){display:none!important}.container-fluid{max-width:1000px}\",\"from\": 2},{\"name\": \"DB - \",\"example\": \"https://www.manhuadb.com/manhua/list-r-4-a-4-c-12.html\",\"url\": \"^https?://www\\\\.manhuadb\\\\.com/manhua/list\",\"nextLink\": \"a[title='']\",\"pageElement\": \".comic-main-section>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"DB - \",\"example\": \"https://www.manhuadb.com/manhua/1167/1315_13028.html\",\"url\": \"^https?://www\\\\.manhuadb\\\\.com/manhua/\\\\d+/\\\\w+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=document.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.className='img-fluid show-pic';if(is_webp!=1&&e.img_webp){img.src=imgHost+imgPre+e.img_webp}else{img.src=imgHost+imgPre+e.img}F.appendChild(img)});let E=document.querySelector('#all');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"return new Promise((resolve)=>{let v=doc.querySelector('.vg-r-data');let n=v.dataset.num;$.ajax({type:'post',url:'/book/goNumPage',data:{ccid:v.dataset.ccid,id:v.dataset.id,num:parseInt(n)+1,d:v.dataset.d,type:'next'},dataType:'json',success:function(json){if(json.state==0){resolve(null)}else{let url=json.url;resolve(location.origin+url)}}})}).then((res)=>{return res});\",\"pageElement\": \"#all\",\"replaceElement\": \"head>title,.h4.text-center,ol.breadcrumb\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=doc.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.className='img-fluid show-pic';if(is_webp!=1&&e.img_webp){img.src=imgHost+imgPre+e.img_webp}else{img.src=imgHost+imgPre+e.img}F.appendChild(img)});let E=doc.querySelector('#all');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#all');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=doc.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(is_webp!=1&&e.img_webp){imgSrc=imgHost+imgPre+e.img_webp}else{imgSrc=imgHost+imgPre+e.img}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.h4.text-center');if(t)return t.innerText\",\"css\": \"nav.d-none+div.row,#left,#right,.pagination .form-inline>*:nth-child(n+2):nth-child(-n+4){display:none!important}.row>*{padding:0px!important}#all,img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.maofly.com/update.html\",\"url\": \"^https?://www\\\\.maofly\\\\.com/(update|list)\",\"nextLink\": \"//a[text()=' ']\",\"pageElement\": \"//div[(div/a/img) and @class='row m-0'] | //div[(a/img) and contains(@class,'media')] | //div[(a/img) and contains(@class,'media')]/following-sibling::hr[1]\",\"replaceElement\": \".pagination\",\"css\": \".row+.pagetual_pageBar{margin-top:-1px!important;margin-bottom:15px!important}hr+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.maofly.com/manga/39027/515484.html\",\"url\": \"^https?://www\\\\.maofly\\\\.com/manga/\",\"pinUrl\": true,\"history\": 2,\"init\": \"let vgrdata=document.querySelector('.vg-r-data');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.match(/img_data = \\\".+\\\"/g)[0]);let imgData=LZString.decompressFromBase64(Base64).split(',');let imgPre='/uploads/';let assetDomain=vgrdata.getAttribute('data-chapter-domain');let assetKey=vgrdata.getAttribute('data-chapter-key');let _img='';for(let i=0;i<imgData.length;i++){let imgSrc=assetDomain+imgPre+imgData[i];_img+=`<img class=\\\"img-fluid show-pic\\\"src='${imgSrc}'>`};document.querySelector('.img-content').innerHTML=_img;\",\"nextLinkByJs\": \"let vgrdata=doc.querySelector('.vg-r-data');let num=vgrdata.getAttribute('data-chapter_num');let type=vgrdata.getAttribute('data-chapter-type');let n=1;let json='/chapter_num?chapter_id='+num+'&ctype='+n+'&type='+type;return fetch(json).then((response)=>{return response.json()}).then((json)=>{if(json.code!='0000'){return null}else{return json.url}}).then((res)=>{return res});\",\"pageElement\": \".img-content\",\"replaceElement\": \"head>title,.breadcrumb-item.active,.h4.text-center\",\"pageInit\": \"let vgrdata=doc.querySelector('.vg-r-data');let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.match(/img_data = \\\".+\\\"/g)[0]);let imgData=LZString.decompressFromBase64(Base64).split(',');let imgPre='/uploads/';let assetDomain=vgrdata.getAttribute('data-chapter-domain');let assetKey=vgrdata.getAttribute('data-chapter-key');let _img='';for(let i=0;i<imgData.length;i++){let imgSrc=assetDomain+imgPre+imgData[i];_img+=`<img class=\\\"img-fluid show-pic\\\"src='${imgSrc}'>`};doc.querySelector('.img-content').innerHTML=_img;\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('.img-content');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}},10000)\",\"pageBarText\": 1,\"css\": \"a[onclick],a[href*='false']{display:none!important}.img-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://manhua.idmzj.com/update_1.shtml\",\"url\": \"^https?://manhua\\\\.i?dmzj\\\\.com/\",\"action\": 1,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".newpic_bg,.newpic_bgno,.tcaricature_block.tcaricature_block2\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin:20px 5px 0!important}.newpic_bgno,.tcaricature_block+.pagetual_pageBar{margin-top:5px!important}.pagetual_pageBar+.tcaricature_block{margin-top:0px!important}\",\"iframeInit\": \"win.self=win.top\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://manhua.idmzj.com/shenghuomosgushimentiaozhanmigong/118093.shtml\",\"url\": \"^https?://manhua\\\\.i?dmzj\\\\.com/[a-z]+/\\\\d+\\\\.shtml\",\"pinUrl\": true,\"autoClick\": \"//a[@id='qiehuan_txt' and text()='']\",\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();eval(pages).forEach(e=>{let img=new Image();img.src='//images.idmzj.com/'+decodeURI(e);F.appendChild(img)});let loop=setInterval(()=>{let set=ge('#center_box img');if(set){clearInterval(loop);let E=ge('#center_box');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLink\": \"a.fr\",\"pageElement\": \"#center_box\",\"replaceElement\": \"head>title,.display_graybg,.btmBtnBox\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML;let imgs=eval(code.match(/eval.+\\\\)\\\\)/)[0].slice(4));let imgsArr=eval(imgs.match(/\\\\[.+\\\\]/)[0]);let F=new DocumentFragment();imgsArr.forEach(e=>{let img=new Image();img.src='//images.idmzj.com/'+decodeURI(e);F.appendChild(img)});let E=ge('#center_box');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#center_box');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML;let imgs=eval(code.match(/eval.+\\\\)\\\\)/)[0].slice(4));let imgsArr=eval(imgs.match(/\\\\[.+\\\\]/)[0]);let imgSrcArr=[];imgsArr.forEach(e=>{let imgSrc='//images.dmzj.com/'+decodeURI(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('span.redhotl');if(t)return t.innerText\",\"css\": \"#center_box img{opacity:1!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important;border: none!important;padding: 0px!important;}\",\"from\": 2},{\"name\": \"2 - \",\"example\": \"https://www.idmzj.com/update/\",\"url\": \"^https?://www\\\\.i?dmzj\\\\.com/(update|category|rank)\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".list_con_li,.ph_r_con_li\",\"replaceElement\": \".top_page.page,.bottom_page.page\",\"css\": \".wrap_list,.wrap_mhlist .wrap_mhlist_l,.wrap_mhlist .wrap_mhlist_r{height:auto!important}.pagetual_pageBar{margin-top:-10px!important;margin-bottom:0px!important}.ph_r_con_li+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"2 - \",\"example\": \"https://www.idmzj.com/view/siwangleyuan/75382.html\",\"url\": \"^https?://www\\\\.i?dmzj\\\\.com/view/\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"waitElement\": [\".btmBtnBox\"],\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=host+decodeURI(e).replace(/amp;/g,'');F.appendChild(img)});let E=document.querySelector('.comic_wraCon');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"span.next>a\",\"pageElement\": \".comic_wraCon\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid,.btmBtnBox\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=host+decodeURI(e).replace(/amp;/g,'');F.appendChild(img)});let E=doc.querySelector('.comic_wraCon');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic_wraCon');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=host+decodeURI(e).replace(/amp;/g,'');imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.user_show,.login_tip.out,#floatCode,.ad_bottom_code,script[src]+[style*=both]{display:none!important}.comic_wraCon>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}.head_wz,.foot-detail-wrap{width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.idmzj.com/view/60351/119828.html\",\"url\": \"^https?://m\\\\.i?dmzj\\\\.com/view/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);ge('.iconRet').setAttribute('onclick','goBack();');gae('.letchepter>a[onclick]').forEach(a=>{a.removeAttribute('onclick')});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);let p=code.search(/prev_chap/);let cm=code.match(/comic_id:(\\\\d+)/)[1];if(n>-1){let nm=code.match(/next_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+nm+'.html';ge('.afterChapter').href=url}else{ge('.afterChapter').href=ge('.ChapterLestMune').href}if(p>-1){let pm=code.match(/prev_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+pm+'.html';ge('.beforeChapter').href=url}else{ge('.beforeChapter').href=ge('.ChapterLestMune').href}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);if(n>-1){let cm=code.match(/comic_id:(\\\\d+)/)[1];let nm=code.match(/next_chap_id:(\\\\d+)/)[1];return location.origin+'/view/'+cm+'/'+nm+'.html'}\",\"pageElement\": \"div[id^='charpet']\",\"replaceElement\": \"head>title,a.BarTit,.botNav .tc\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let gae=e=>doc.querySelectorAll(e);ge('.iconRet').setAttribute('onclick','goBack();');gae('.letchepter>a[onclick]').forEach(a=>{a.removeAttribute('onclick')});let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);let p=code.search(/prev_chap/);let cm=code.match(/comic_id:(\\\\d+)/)[1];if(n>-1){let nm=code.match(/next_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+nm+'.html';ge('.afterChapter').href=url}else{ge('.afterChapter').href=ge('.ChapterLestMune').href}if(p>-1){let pm=code.match(/prev_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+pm+'.html';ge('.beforeChapter').href=url}else{ge('.beforeChapter').href=ge('.ChapterLestMune').href}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('div[id^=charpet]');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/initData/)>-1).innerHTML;let imgSrcArr=eval(code.match(/page_url.+(\\\\[.+\\\\])/)[1]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText\",\"css\": \"#commicBox img{opacity:1!important}#m_r_panelbox,#khdDown,#divAD,.appTil{display:none!important}\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://m.idmzj.com/\",\"url\": \"^https?://m\\\\.i?dmzj\\\\.com/\",\"exclude\": [\"div[id^='charpet']\",\"#list\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.main_image a[href]:not([target=_blank]),.imgBox a[href]:not([target=_blank]),.UpdateList a[href]:not([target=_blank]),.topicList a[href]:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.omyschool.com/rank/update/\",\"url\": \"^https?://www\\\\.omyschool\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#book_list>.item\",\"replaceElement\": \".uk-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.omyschool.com/article_detail/19057/672194/%E7%A5%9E%E6%98%8E%E5%AD%B8%E6%A0%A1%E7%9A%84%E5%B7%AE%E7%AD%89%E7%94%9F/01%E8%A9%B1/\",\"url\": \"^https?://www\\\\.omyschool\\\\.com/article_detail/\\\\d+/\\\\d+/\",\"history\": 2,\"init\": \"const gax=xpath=>{let nodes=[];let results=document.evaluate(xpath,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};setTimeout(()=>{[...gax('//div[span[@style]]')].forEach(e=>{e.remove()})},0)\",\"nextLink\": \".nav_button.next\",\"pageElement\": \"//div[amp-img]\",\"pageBarText\": \"return doc.querySelector('.uk-breadcrumb').innerText.trim().slice(2).trim()\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let arr=[];[...doc.querySelectorAll('#imgs amp-img')].forEach(e=>{arr.push(e.getAttribute('src'))});return arr\",\"css\": \"#col_right{display:none!important}\",\"from\": 2},{\"name\": \" / 6  / 733  /   / x18 / 57 /  / 160 - \",\"example\": \"www.mhxqiu1.comwww.sixmh7.comwww.733.sowww.17fuman.comhttps://www.x18mh.com/http://www.wuqimh.com/list/http://www.qiman58.com/www.mh160.cc\",\"url\": \"^https?://(www|m)\\\\.((six|6)mh\\\\d+|mhxqiu\\\\d|733|17fuman|x18mh|wuqimh|qiman58|mh160)\\\\.(com|so|cc)/\",\"nextLink\": \"//a[text()=''] | //li[a[@class='active']]/following-sibling::li[1]/a\",\"pageElement\": \".cy_list_r,.grid-row.clearfix,#dmList,#contList,[class^='bookList'],.mh-search-list\",\"replaceElement\": \".NewPages,.pager,.page_moreDiv\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}.mh-search-list+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"733  / 160 - PC\",\"example\": \"https://www.733.so/mh/33671/614269.htmlhttps://www.mh160.cc/kanmanhua/tianqiyubao/1668716868.html\",\"url\": \"^https?://www\\\\.(733|mh160)\\\\.(so|cc)/(mh|kanmanhua)/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=document.querySelector('#qTcms_Pic_middle').parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id])\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=doc.querySelector('#qTcms_Pic_middle').parentNode;E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.cf:not([id])');if(c.length>10){c[0].parentNode.remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=f_qTcms_Pic_curUrl_realpic(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"733  / 73 - \",\"example\": \"https://m.733.so/all/all/all/all/0/1.htmlhttp://www.73mh.net/neidi/\",\"url\": \"^https?://(m\\\\.733\\\\.so|www\\\\.73mh\\\\.net)/\",\"exclude\": [\"#pic_box\",\"//div[@class='v_con_box'][p/img]\"],\"nextLink\": \"//a[text()='']\",\"pageElement\": \".tv-list\",\"replaceElement\": \".v-page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"733  - \",\"example\": \"https://m.733.so/mh/54709/1353912/1.html\",\"url\": \"^https?://m\\\\.733\\\\.so/mh/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let imgs = Array.from(document.scripts).find(s => s.innerHTML.search(/temp_pic_all/) > -1).innerHTML.slice(18, -1).replace(/<\\\\/?p>/g,'');document.querySelector('#pic_box').innerHTML = imgs;\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#pic_box\",\"replaceElement\": \"head>title,.v-page\",\"pageInit\": \"let imgs = Array.from(doc.scripts).find(s => s.innerHTML.search(/temp_pic_all/) > -1).innerHTML.slice(18, -1).replace(/<\\\\/?p>/g,'');doc.querySelector('#pic_box').innerHTML = imgs;\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic_box');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let imgs=Array.from(doc.scripts).find(s=>s.innerHTML.search(/temp_pic_all/)>-1).innerHTML.slice(18);let html=new DOMParser().parseFromString(imgs,'text/html');let imgData=html.querySelectorAll('img');let imgSrcArr=[];imgData.forEach(e=>{imgSrcArr.push(e.src)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.v-page>span');if(t)return t.innerText\",\"css\": \"#pic_box img{margin-bottom:-6px!important}.icon>.container{padding-right:0px!important;padding-left:0px!important}\",\"from\": 2},{\"name\": \"160 - \",\"example\": \"https://m.mh160.cc/kanmanhua/yuanlaiwoshixianjiezhizun/1689580801.html\",\"url\": \"^https?://m\\\\.mh160\\\\.cc/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=document.querySelector('#commicBox');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \"#commicBox\",\"replaceElement\": \".BarTit,#action\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=doc.querySelector('#commicBox');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#commicBox');if(c.length>10){c[0].parentNode.remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=f_qTcms_Pic_curUrl_realpic(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.match(/[^\\\\(]+/)[0].trim()\",\"css\": \"#commicBox>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}\",\"from\": 2},{\"name\": \"73 - \",\"example\": \"http://www.73mh.net/mh/63788_1633109/1\",\"url\": \"^https?://www\\\\.73mh\\\\.net/mh/\\\\w+/\\\\d+\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('section .v_con_box>p').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//div[@class='v_con_box'][p/img] | //div[@class='v_con_box'][img]\",\"replaceElement\": \"head>title,.v-page\",\"pageInit\": \"doc.querySelectorAll('section .v_con_box>p').forEach(e=>{e.outerHTML=e.innerHTML})\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let gae=e=>document.querySelectorAll(e);let c=gae(\\\"//div[@class='v_con_box'][img]\\\");if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.v-page>span');if(t)return t.innerText\",\"css\": \".v_con_box>img{margin-bottom:-6px!important}.icon>.container{padding-right:0px!important;padding-left:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.17fuman.com/rszimukaitou/34599/171775.htmlhttp://m.17fuman.com/rszimukaitou/34669/172185.htmlhttp://m.fumanhua44.com/rszimukaitou/34761/172779.html\",\"url\": \"^https?://(www|m\\\\d?)\\\\.(17fuman|fumanhua-?\\\\d+)\\\\.com/[a-z]+/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=e}else{img.src=qTcms_m_weburl+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});let E=ge('#qTcms_pic').parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id]),.UnderPage\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager,#m_r_title,#action\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=e}else{img.src=qTcms_m_weburl+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});let E=ge('#qTcms_pic').parentNode;E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);if(location.origin.indexOf('/m.')==-1){let cf=gae('.cf:not([id])');if(cf.length>10){cf[0].remove()}}else{let c=gae('.UnderPage');if(c.length>10){c[0].remove()}}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(location.origin.indexOf('/m.')==-1){imgSrc=e}else{imgSrc=qTcms_m_weburl+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t1=doc.querySelector('h2');let t2=doc.querySelector('.BarTit');if(t1){return t1.innerText}else if(t2){return t2.innerText.match(/[^(]+/)[0].trim()}\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span,#bd1,.globalPadding{display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \"x18 - \",\"example\": \"https://www.x18mh.com/manhua/60497/996071.htmlhttps://m.x18mh.com/manhua/60497/996071.html\",\"url\": \"^https?://(www|m)\\\\.x18mh\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=eval(code.match(/qTcms_S_m_murl_e[^;]+/)[0]);let imgData=window.atob(imgBase64).split('$qingtiandy$');let p='/statics/pic/?p=';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=p+e}else{img.src=p+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});if(location.origin.indexOf('/m.')==-1){let E=ge('.cf:not([id])');E.innerHTML='';E.appendChild(F)}else{let E=ge('.UnderPage');E.innerHTML='';E.appendChild(F)}\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id]),.UnderPage\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager,#m_r_title,#action\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=eval(code.match(/qTcms_S_m_murl_e[^;]+/)[0]);let imgData=window.atob(imgBase64).split('$qingtiandy$');let p='/statics/pic/?p=';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=p+e}else{img.src=p+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});if(location.origin.indexOf('/m.')==-1){let E=ge('.cf:not([id])');E.innerHTML='';E.appendChild(F)}else{let E=ge('.UnderPage');E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cf=gae('#subNav~.cf');if(cf.length>10){cf[0].remove()}let c=gae('.UnderPage');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t1=doc.querySelector('h2');let t2=doc.querySelector('.BarTit');if(t1){return t1.innerText}else if(t2){return t2.innerText.match(/[^(]+/)[0].trim()}\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span,.control_bottom+.img_001{display:none!important}.cf>img,.UnderPage>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \"57 - \",\"example\": \"http://www.wuqimh.com/45107/01.html\",\"url\": \"^https?://(www|m)\\\\.wuqimh\\\\.com/\\\\d+/\\\\d+(\\\\.html|/)$\",\"include\": \"//script[contains(text(),'images') and contains(text(),'tingliu')]\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/images/)>-1).innerHTML.match(/eval[^$]+/)[0].trim().slice(4);let data=eval('('+eval(code).replace(/^[^{]+/,'').replace(/;$/,'')+')');let _img='';for(let i=0;i<data.fs.length;i++){_img+=`<img src='${data.fs[i]}'>`};document.querySelector('.cf:not([id])).innerHTML=_img;\",\"nextLink\": \".nextC:not([href^='j'])\",\"pageElement\": \".cf:not([id])\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#mangaTitle,#action\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/images/)>-1).innerHTML.match(/eval[^$]+/)[0].trim().slice(4);let data=eval('('+eval(code).replace(/^[^{]+/,'').replace(/;$/,'')+')');let _img='';for(let i=0;i<data.fs.length;i++){_img+=`<img src='${data.fs[i]}'>`};doc.querySelector('.cf:not([id])').innerHTML=_img;\",\"pageAction\": \"function ge(e){return document.querySelector(e)}setTimeout(()=>{let ph=ge('.prevC').href;let nh=ge('.nextC').href;ge('#pager>.prev').outerHTML=`<a class=\\\"prev\\\"href='${ph}'></a>`;ge('#pager>.next:last-child').outerHTML=`<a class=\\\"next\\\"href='${nh}'></a>`},1000);function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('#subNav~.cf');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}},10000)\",\"pageBarText\": 1,\"css\": \".title>*:nth-child(n+5):nth-child(-n+6):not(.cf),.bd_960_90,.main-btn>*:nth-child(n+3):nth-child(-n+5),.help,#pager>*:not(.prev):not(.next:last-child),.bd_960_90+[style]:not(.w996),#action~*:not(#pageNo):not(.pagetual_tipsWords),span.manga-page,#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.action-list li{width:50%!important}body{padding-bottom:0px!important}\",\"from\": 2},{\"name\": \" / 6  /  - \",\"example\": \"m.mhxqiu1.comm.sixmh7.comm.qiman57.com\",\"url\": \"^https?://(m\\\\.)?((six|6)mh\\\\d+|mhxqiu\\\\d|qiman\\\\d+)\\\\.com/(sort|rank)/\",\"loadMore\": \".getmore,.getmore1\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \" /  / 6  - PC\",\"example\": \"http://www.qiman58.com/21429/1416724.htmlhttp://www.mhxqiu2.com/22914/1235326.htmlhttp://www.6mh66.com/22914/1235327.html\",\"url\": \"^https?://(www\\\\.qiman5\\\\d\\\\.com|www\\\\.mhxqiu\\\\d\\\\.com|www\\\\.6mh66\\\\.com)/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);$('#mainView').removeAttr('style');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('#comicContain>li');if(set){clearInterval(loop);let E=ge('#comicContain');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \"#mainControlNext\",\"pageElement\": \"#comicContain\",\"replaceElement\": \"head>title,.main_control,#mainView~a\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#comicContain');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#comicContain');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.chaptername_title');if(t)return t.innerText\",\"css\": \"body.view .logo-sub-wrap,.guide-download{display:none!important}#mainView img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.pagetual_pageBar{margin-top:30px!important;margin-bottom:22px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://qiman59.com/21429/999975.html\",\"url\": \"^https?://(m\\\\.)?qiman\\\\d{2}\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"include\": \".bottom-tool-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('.comic-list img');if(set){clearInterval(loop);let E=ge('.comic-list');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \".next>a[href$='html']\",\"pageElement\": \".comic-list\",\"replaceElement\": \"head>title,h1.comic-name,li.prev-chapter,li.next-chapter,.chapter-end,p.read-pos\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('.comic-list');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgSrcArr=eval(eval(code).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \"#adhtml,.guide-download,.read-end~*:not(.pagetual_tipsWords):not(.bottom-tool-bar){display:none!important}.comic-list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"6  - \",\"example\": \"http://m.6mh66.com/25528/1411234.html\",\"url\": \"^https?://m\\\\.6mh66\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('.main_img img');if(set){clearInterval(loop);let E=ge('.main_img');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \".next>a[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".swiper-chapter,head>title,.title>h1,.end-btns\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=doc.querySelector('.main_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ge=e=>document.querySelector(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let v=ge('.van-nav-bar:not([style])');let vn=ge('.van-nav-bar[style*=none]');let vb=ge('.van-nav-bar[style*=block]');let b=ge('.reader-footer:not([style])');let bn=ge('.reader-footer[style*=none]');let bb=ge('.reader-footer[style*=flex]');if(v){v.setAttribute('style','display: block;')}if(b){b.setAttribute('style','display: flex;')}if(vn){vn.style.display='block'}else{vb.style.display='none'}if(bn){bn.style.display='flex'}else{bb.style.display='none'}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgSrcArr=eval(eval(code).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \"#adhtml{display:none!important}.main_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"http://www.qiximh2.com/sort/1-1.htmlhttp://www.mhxqiu2.com/sort/1-1.html\",\"url\": \"^https?://www\\\\.(qiximh\\\\d|mhxqiu\\\\d)\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \".cy_list_mh\",\"replaceElement\": \".NewPages\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+div{margin-top:-20px!important;}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"http://m.qiximh2.com/sort/1-1.htmlhttp://m.mhxqiu2.com/sort/1.html\",\"url\": \"^https?://m\\\\.(qiximh\\\\d|mhxqiu\\\\d)\\\\.com/\",\"include\": \".list_notdone>button\",\"nextLink\": \"0\",\"loadMore\": \".list_notdone>button\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://m.mhxqiu2.com/22914/1235326.html\",\"url\": \"^https?://m\\\\.mhxqiu\\\\d\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"//a[i[@class='ift-next']]\",\"pageElement\": \".main_img\",\"replaceElement\": \"head>title,.chapter_title,.bottom-nav,.bottom_menu\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('.nav-box.show_nav');if(t){$('.nav-box').removeClass('show_nav');$('.bottom-box').removeClass('show_footer')}else{$('.nav-box').addClass('show_nav');$('.bottom-box').addClass('show_footer')}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.chapter_title');if(t)return t.innerText\",\"css\": \"#adhtml,.pinglunadd-btn{display:none!important}\",\"from\": 2},{\"name\": \"\",\"example\": \"http://www.qiximh2.com/21429/999975.htmlhttp://m.qiximh2.com/22914/1235326.html\",\"url\": \"^https?://(www|m)\\\\.qiximh\\\\d\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src;img.removeAttribute('data-src')})\",\"nextLink\": \"//a[img[@alt=''] and contains(@href,'html')] | //a[p[text()=''] and contains(@href,'html')]\",\"pageElement\": \".main_img\",\"replaceElement\": \"h1.chaptitle,.imgFloat>p:not(.chappl),head>title,.bottom_menu,.bottom-fix,.bottom-nav,.top_left,.readend\",\"pageBarText\": \"let t1=doc.querySelector('.chaptitle');let t2=doc.querySelector('.chapter_title');if(t1){return t1.innerText}else if(t2){return t2.innerText}\",\"lazyImgSrc\": [\"data-src\",\"data-src\"],\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);if(location.hostname=='www.qiximh2.com'){setTimeout(()=>{let last=ge('.imgFloat>p:nth-child(3)>a:not([href$=html])');if(last){ge('.cy_intro_r.wxfocus').innerHTML='<br><br><br><br><br><br><p>^_^</p><br><p></p><br><br><br>'}},100)};if(location.hostname=='m.qiximh2.com'){let cs=document.querySelectorAll('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('.top-layout.hide_nav.show_nav');if(t){$('.top-layout.hide_nav').removeClass('show_nav');$('.bottom-layout.hide_footer').removeClass('show_footer')}else{$('.top-layout.hide_nav').addClass('show_nav');$('.bottom-layout.hide_footer').addClass('show_footer')}})};let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"css\": \".cy_intro_r>img,.cy_intro_r>p:nth-child(3),.logo.lbc{display:none!important}.cy_intro_r{height:30px!important;}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://www.dongman.la/manhua/oumei/2.htmlhttps://www.mianzhui.com/category/list/1\",\"url\": \"^https?://www\\\\.(dongman|mianzhui)\\\\.(la|com)/\",\"include\": \".NewPages\",\"pinUrl\": true,\"nextLink\": \"//a[text()='']\",\"pageElement\": \".cy_list_mh\",\"replaceElement\": \".NewPages\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - PC -  - \",\"example\": \"https://www.dongman.la/manhua/chapter/5985/54979/1.html\",\"url\": \"^https?://www\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"include\": \"//a[text()=' ']\",\"init\": \"document.querySelectorAll(\\\"a[href*='m.d']\\\").forEach(a=>{a.href=a.href.replace(\\\"/m.\\\",'/www.')});setTimeout(()=>{let link=document.querySelector('.imgListBox>a');link.removeAttribute('href')},100);function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue};function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(p){p.click()}else{alert('')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \".imgListBox>a[href^='http']\",\"pageElement\": \".imgListBox img\",\"replaceElement\": \"button.prePic,button.nextPic\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"a.mdui-btn.mdui-btn-icon,button.prePic,button.nextPic,button.allBtn{display:none!important}.mdui-container{width:100%!important;padding:0px!important}.imgListBox img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto!important}.pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \" - PC -  - \",\"example\": \"https://www.dongman.la/manhua/chapter/5985/54979/1.html\",\"url\": \"^https?://www\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"include\": \"//a[text()=' ']\",\"pinUrl\": true,\"init\": \"document.querySelectorAll(\\\"a[href*='m.d']\\\").forEach(a=>{a.href=a.href.replace('/m.','/www.')});function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue};function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(p){p.click()}else{alert('')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[label[text()='']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \"0\",\"manualMode\": true,\"css\": \".pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.dongman.la/manhua/chapter/5985/54979/\",\"url\": \"^https?://m\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"wait\": 1000,\"init\": \"let gae=e=>document.querySelectorAll(e);let _img='';gae('img[data-src]').forEach(e=>{_img+=`<img src='${e.dataset.src}'>`});let loop=setInterval(()=>{let set=gae('.chapter-images img')[0];if(set){clearInterval(loop);gae('.chapter-images')[0].innerHTML=_img}},200)\",\"nextLink\": \"//a[label[text()='']][starts-with(@href,'http')]\",\"pageElement\": \".chapter-images\",\"replaceElement\": \"//head/title | //a[@class='mdui-typo-title'] | //div[@class='main']/following-sibling::footer[1]//a\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);let _img='';gae('img[data-src]').forEach(e=>{_img+=`<img src='${e.dataset.src}'>`});gae('.chapter-images')[0].innerHTML=_img\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.chapter-images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.mdui-typo-title');if(t)return t.innerText\",\"css\": \".chapter-images>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" /  / 360  /  /  /  /  /  / 456 /  /  - \",\"example\": \"www.gufengmh.comwww.ykmh.comwww.qianwee.comwww.100fanwo.comwww.izhegu.comwww.zuimh.comwww.mhxin.comwww.acgud.comwww.manhua456.comwww.imitui.comwww.qwmanhua.com\",\"url\": \"^https?://www\\\\.(gufengmh|ykmh|qianwee|100fanwo|izhegu|zuimh|mhxin|acg(u|q)d|manhua456|imitui|qwmanhua)\\\\.com/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"li.item-lg,.list-comic\",\"replaceElement\": \"ul.pagination\",\"css\": \".pagetual_pageBar{margin-top:-30px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \" - PC\",\"example\": \"http://www.acgud.com/manhua/39305/1277010.html\",\"url\": \"^https?://www\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);document.querySelector('.comic_wraCon').appendChild(imgs);\",\"nextLink\": \"span.next>a\",\"pageElement\": \"//script[contains(text(),'chapterImages')]\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid,.btmBtnBox\",\"insert\": \".comic_wraCon\",\"insertPos\": 2,\"pageInit\": \"let code = Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;document.querySelector('.comic_wraCon').appendChild(document.createElement('script')).textContent = code;\",\"pageAction\": \"jmzz20191018();let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);document.querySelector('.comic_wraCon').appendChild(imgs);let gae=e=>document.querySelectorAll(e);let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#images~*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText;\",\"sleep\": 1000,\"css\": \".comic_wraCon img{border:none!important;padding:0!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}select,.img_land_prev,.img_land_next,#images{display:none!important}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.acgqd.com/manhua/39305/1277010.html\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);$('.control_bottom').append('<div class=\\\"side_public scroll-top\\\"id=\\\"sidePublic\\\"style=\\\"display: block;\\\"><a href=\\\"javascript:SinMH.scrollTo(0);\\\"id=\\\"returnTop\\\"class=\\\"return-top\\\"></a></div>');let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);let x=ge('#loading');x.parentNode.insertBefore(imgs,x);ge('a.iconRet').href=comicUrl;let n=ge('#action li:nth-child(4)>a');if(nextChapterData.id==null){n.href=comicUrl;n.innerText=''}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"//script[contains(text(),'chapterImages')]\",\"replaceElement\": \"head>title,.BarTit\",\"insert\": \"#loading\",\"insertPos\": 1,\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let s=document.createElement('script');s.textContent=code;let x=document.querySelector('#loading');x.parentNode.insertBefore(s,x);let cd=eval(code.match(/comicUrl[^;]+/)[0]);let pd=eval(code.match(/prevChapterData[^;]+/)[0]);let nd=eval(code.match(/nextChapterData[^;]+/)[0]);let p=ge('#action li:nth-child(1)>a');let n=ge('#action li:nth-child(4)>a');if(nd.id>0){n.href=nd.uri;n.innerText=''}else{n.href=cd;n.innerText=''}p.href=pd.uri;\",\"pageAction\": \"jmzz20191018();let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);let x=document.querySelector('#loading');x.parentNode.insertBefore(imgs,x);let gae=e=>document.querySelectorAll(e);let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#images~*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.match(/[^(]+/)[0];\",\"sleep\": 1000,\"css\": \"#page-info,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*,.chapter-view~*,#images{display:none!important}#action li{width:50%!important}.chapter-view img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.side_public{opacity:0.4;border-radius: 50%;position:fixed;bottom:60px;right:13px;width:36px;height:35px;display:none;margin-left:20px}.side_public a{border-radius: 50%;display:inline-block;*zoom:1;*display:inline;width:36px;height:36px;border:1px solid #e6e6e6;}.side_public a.return-top{background:#fff url(https://www.acgqd.com/assets/4155373f/images/side_ico.png) no-repeat 2px -81px}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.acgqd.com/manhua/38496/\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/$\",\"pinUrl\": true,\"autoClick\": \"//a[@title='']\",\"css\": \"script+a{display:none!important}.Introduct_Sub{background:url(https://m.idmzj.com/images/int_bg.png)!important;background-size:100% 100%!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.acgqd.com/update/\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/(update|list|list/wanjie)?/?$\",\"pinUrl\": true,\"init\": \"let openInNewTab=()=>document.querySelectorAll('.itemBox a:not([target=_blank]),.list-comic a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \"456 - PC\",\"example\": \"https://www.manhua456.com/manhua/wodeshifumeidaodaxiancaitupo/766673.html\",\"url\": \"^https?://www\\\\.manhua456\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#images img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='.comic_wraCon>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style)}},200)\",\"nextLink\": \".next>a\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.head_wz');if(t)return t.innerHTML.replace(/.+;/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.block.clearfix{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"456 - \",\"example\": \"https://m.manhua456.com/manhua/moliwuxiandezuiqiangmonvyongchuangzaomofazaiyishijieyouzaishenghuo/537951.html\",\"url\": \"^https?://m\\\\.manhua456\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"$('#images').unbind('click',SinTheme.nextPage);$('#images').unbind('mousedown');let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#images img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih = eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih = eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.trim()\",\"css\": \"#page-info,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*:not(.pagetual_tipsWords),.chapter-view~*:not(.pagetual_tipsWords),#loading{display:none!important}#action li{width:50%!important}.chapter-view>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"456 - \",\"example\": \"https://m.manhua456.com/manhua/zhongniannandeyishijiewanggoushenghuo/\",\"url\": \"^https?://m\\\\.manhua456\\\\.com/manhua/\\\\w+/$\",\"pinUrl\": true,\"autoClick\": \"//a[@title='']\",\"from\": 2},{\"name\": \" / 360  - PC\",\"example\": \"https://www.izhegu.com/manhua/banbenDAYS/2011818.htmlhttps://www.100fanwo.com/manhua/banbenDAYS/3434626.html\",\"url\": \"^https?://www\\\\.(izhegu|100fanwo)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imghost='https://res1.izhegu.com';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=imghost+e}F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imghost='https://res1.izhegu.com';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=imghost+e}F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.uri}else{e.href=c;e.innerHTML=e.innerHTML.replace('','')}});gae('.prevC').forEach(e=>{e.href=p.uri})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \" / 360  - \",\"example\": \"https://m.izhegu.com/update/https://m.100fanwo.com/update/\",\"url\": \"^https?://(m)\\\\.(100fanwo|izhegu)\\\\.com/\",\"nextLink\": \"li.next>a\",\"pageElement\": \".UpdateList>.itemBox,.list-comic\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"90 - \",\"example\": \"http://www.90mh.com/update/\",\"url\": \"^https?://www\\\\.90mh\\\\.com/(update|list)/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"#contList\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"90 - PC\",\"example\": \"http://www.90mh.com/manhua/DRAWINGzuiqiangmanhuajialiyonghuihuajinengzaiyishijiekaiwushuang/204311.html\",\"url\": \"^https?://www\\\\.90mh\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"autoClick\": \"#chapter-scroll:not(.active)\",\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.uri}else{e.href=c;e.innerHTML=e.innerHTML.replace('','')}});gae('.prevC').forEach(e=>{e.href=p.uri})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"90 /  - \",\"example\": \"http://wap.90mh.com/update/https://m.chashengchen.com/list/update/\",\"url\": \"^https?://(wap|m)\\\\.(90mh|chashengchen)\\\\.com/(update|list)/\",\"nextLink\": \"#update_list li.next>a,#w0 li.next>a\",\"pageElement\": \".itemBox,.list-comic\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"90 - \",\"example\": \"http://wap.90mh.com/manhua/DRAWINGzuiqiangmanhuajialiyonghuihuajinengzaiyishijiekaiwushuang/204311.html\",\"url\": \"^https?://wap\\\\.90mh\\\\.com/manhua/\",\"init\": \"let Imgs=document.querySelector('#chapter-image');let Img=document.querySelector('#chapter-image img');Imgs.innerHTML=Img.outerHTML;\",\"nextLinkByJs\": \"function ge(e){return doc.querySelector(e)}let page=ge('#k_page').innerText;let total=ge('#k_total').innerText;let np=ge('.action-list li:nth-child(3) a');let nc=ge('.action-list li:nth-child(4) a');if(page!=total){return np.href}else if(/html$/.test(nc.href)){return nc.href}\",\"pageElement\": \"#chapter-image img\",\"replaceElement\": \"head>title,h1,#m_r_bottom\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#chapter-image>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.match(/>(.+)\\\\n/)[1];\",\"rate\": 10,\"css\": \".friendly,#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \" - PC\",\"example\": \"http://www.ykmh.com/manhua/yiquanchaoren/346.html\",\"url\": \"^https?://www\\\\.ykmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \".next>a\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.head_wz');if(t)return t.innerHTML.replace(/.+;/,'')\",\"pageNum\": \"{$p}\\\\.html$\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://wap.ykmh.com/manhua/yiquanchaoren/346.html\",\"url\": \"^https?://wap\\\\.ykmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"$('#images').unbind('click',SinTheme.nextPage);$('#images').unbind('mousedown');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let F=new DocumentFragment();imgs.forEach(e=>{let img=new Image();img.src=host+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url;\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.BarTit\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let F=new DocumentFragment();imgs.forEach(e=>{let img=new Image();img.src=host+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let n=ge('#action>ul>li:nth-child(4)>a');let n2=ge('.afterChapter');if(next.id>0){n.href=next.uri;n2.outerHTML=`<a href=\\\"${next.uri}\\\"class=\\\"afterChapter\\\">></a>`}else{n.removeAttribute('href');n.innerText='';n2.outerHTML=`<a href class=\\\"afterChapter\\\"></a>`}let prev=eval(code.match(/prevChapterData[^;]+/)[0]);let p=ge('#action>ul>li:nth-child(1)>a');let p2=ge('.beforeChapter');if(prev.id>0){p.href=prev.uri;p2.outerHTML=`<a href=\\\"${prev.uri}\\\"class=\\\"beforeChapter\\\"><</a>`}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let imgSrcArr=[];imgs.forEach(e=>{let imgSrc=host+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerHTML.match(/\\\\n?([^<]+)/)[1]\",\"css\": \".subHeader span,#action>ul>li:nth-child(n+2):nth-child(-n+3),.letchepter>section,.letchepter>svg,i~div[id][class],body>span~div:not(#pagetual-preload):not(.pagetual_tipsWords),.comic-comment{display:none!important}.action-list li{width:50%!important}.chapter-view #images img{margin:0 auto 0px!important}\",\"from\": 2},{\"name\": \" - PC\",\"example\": \"https://www.gufengmh.com/manhua/yuanlaiwoshixianjiezhizun/2053294.html\",\"url\": \"^https?://www\\\\.gufengmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"autoClick\": \"#chapter-pagination:not(.active)\",\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return comicUrl+next.id+'.html'\",\"pageElement\": \"#images\",\"replaceElement\": \"h2,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.nextC').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.nextC').forEach(e=>{e.href=comicUrl;e.style.display='none';})}if(prev.id>0){gae('.prevC').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+imgPath+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.gufengmh.com/update/\",\"url\": \"^https?://m\\\\.gufengmh\\\\.com/\",\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"//div[@class='UpdateList'] | //ul[li[@class='list-comic']]\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+.UpdateList{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.gufengmh.com/manhua/wokeyiwuxianzhaohuan/2042963.html\",\"url\": \"^https?://m\\\\.gufengmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);ge('body>div:nth-child(1)').innerHTML=ge('#panel-title').innerHTML;ge('.iconRet').href=comicUrl;gae('.beforeChapter,.afterChapter').forEach(e=>{e.removeAttribute('onclick')});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.afterChapter').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.afterChapter').forEach(e=>{e.href=comicUrl;})}if(prev.id>0){gae('.beforeChapter').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return comicUrl+next.id+'.html'\",\"pageElement\": \"#images\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.afterChapter').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.afterChapter').forEach(e=>{e.href=comicUrl;})}if(prev.id>0){gae('.beforeChapter').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+imgPath+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.trim()\",\"css\": \"#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body>div:nth-child(1) .iconRet{position:absolute;left:0px;width:45px;height:45px;top:-3px;display:block;background:url(https://m.gufengmh.com/assets/f0660635/images/bg_icon_ret.png) no-repeat 20px 14px;background-size:9px 17px}\",\"from\": 2},{\"name\": \" /  /  - PC\",\"example\": \"https://www.mhxin.com/manhua/taixugongyu/2345840.htmlhttps://www.qianmh.com/manhua/dianjuren/253973.htmlhttps://www.qwmanhua.com/manhua/woshenmeshihouwudile/1239187.html\",\"url\": \"^https?://www\\\\.(qianmh|mhxin|qwmanhua)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#images');if(E){E.innerHTML='';E.appendChild(F)}let style=document.createElement('style');style.innerHTML='.comic_wraCon>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0 && !document.querySelector('.ip-body'))return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#images');if(E){E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let n=ge('.next>a');if(n){ge('.btm_chapter_btn.fr').href=n.href}else{ge('.btm_chapter_btn').href=ge('.head_wz>a+a').href}let p=ge('.pre>a');if(p){ge('.btm_chapter_btn.fl').href=p.href}},300);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=document.querySelector('.head_wz');let t2=document.querySelector('a+h1');if(t){return t.innerHTML.replace(/.+;/,'').replace(/\\\\s-\\\\s/,'')}else if(t2){return t2.innerText.match(/\\\\S+\\\\s(\\\\S+\\\\s\\\\S+)/)[1]}\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \" /  - PC\",\"example\": \"https://www.zuimh.com/manhua/maoshendoumaocao/1755415.htmlhttps://www.imitui.com/manhua/yuanzun/3683.html\",\"url\": \"^https?://www\\\\.(zuimh|imitui)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"autoClick\": \"#chapter-scroll:not(.active)\",\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.url}else{e.href=c;e.innerHTML=e.innerHTML.replace('','')}});gae('.prevC').forEach(e=>{e.href=p.url})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://m.mhxin.com/manhua/douluodalu/631505.htmlhttps://m.zuimh.com/manhua/douluodalu/314222.html\",\"url\": \"^https?://m\\\\.(mhxin|zuimh)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"init\": \"let a=document.querySelector('#images a');a.outerHTML=a.innerHTML;\",\"nextLinkByJs\": \"let ge=e=>doc.querySelector(e);let m=ge('.image-content>p:last-child').innerText.match(/(\\\\d+)\\\\/(\\\\d+)/);let np=ge('.action-list li:nth-child(3)>a');let nc=ge('.action-list li:nth-child(4)>a');if(m[1]!=m[2]){return np.href}else if(/html$/.test(nc.href)){return nc.href}\",\"pinUrl\": true,\"pageElement\": \"#images img[id]\",\"replaceElement\": \".image-content>p:last-child\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>5){ps[0].remove();let ds=document.querySelector('#images img[id]').parentNode.querySelectorAll('*');for(let i=0;i<ds.length;i++){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText\",\"rate\": 10,\"css\": \"#image-msg,ul.nav+div:not(#images),ul.nav+div+div:not(#images),.action-list>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}.chapter-view #images img{margin:0 auto 0px!important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://m.imitui.com/manhua/yuanzun/3683.htmlhttps://m.qwmanhua.com/manhua/woshenmeshihouwudile/1239188.html\",\"url\": \"^https?://m\\\\.(imitui|qwmanhua)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"action\": 1,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);document.querySelectorAll('.comic-panel a:last-child').forEach(e=>{e.removeAttribute('onclick');if(next.id>0){e.href=next.url}else{e.href='';e.innerText=''}});document.querySelectorAll('.comic-panel a:first-child').forEach(e=>{e.removeAttribute('onclick');if(prev.id>0)e.href=prev.url});let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('#images').remove();\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,.BarTit\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);document.querySelectorAll('.comic-panel a:last-child').forEach(e=>{if(next.id>0){e.href=next.url}else{e.href='';e.innerText=''}});document.querySelectorAll('.comic-panel a:first-child').forEach(e=>{if(prev.id>0)e.href=prev.url});\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText;\",\"css\": \".nav+div{display:none!important}#scroll-image img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"xlsmh / 85 - \",\"example\": \"https://www.xlsmh.com/manhua/wodetexingnengwuxianchengzhang/1308826.htmlhttps://www.85iu.com/manhua/mofaxueyuandeweizhuangjiaoshi/2740936.html\",\"url\": \"^https?://www\\\\.(xlsmh|85iu)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.?\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.match(/\\\\S+([^<]+)<.+>/)[1]\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"xlsmh /  - \",\"example\": \"https://m.xlsmh.com/manhua/wodetexingnengwuxianchengzhang/1308826.html\",\"url\": \"^https?://m\\\\.(xlsmh|qmiaomh)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('#images').remove();\",\"nextLink\": \"//a[contains(text(),'') and contains(@href,'html')]\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,.letchepter\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"css\": \".right,.letchepter+p,.action-list{display:none!important}\",\"from\": 2},{\"name\": \"85 - \",\"example\": \"https://m.85iu.com/manhua/mofaxueyuandeweizhuangjiaoshi/2740936.html\",\"url\": \"^https?://m\\\\.85iu\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let Imgs=document.querySelector('.erPag');let Img=document.querySelector('.erPag img');Imgs.innerHTML=Img.outerHTML;\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \".erPag img\",\"replaceElement\": \"head>title,h1,#action\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.erPag>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"rate\": 10,\"css\": \".right{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.dmhua8.com/manhua/shengnvyintaiguowanmeibugoukeaierbeifeichuhunyuebingmaidaolinguo/966404.html\",\"url\": \"^https?://www\\\\.d?mhua8\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"autoClick\": \"#chapter-scroll:not(.active)\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \"#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}.img_info{display:none!important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://m.dmhua8.com/manhua/shengnvyintaiguowanmeibugoukeaierbeifeichuhunyuebingmaidaolinguo/966591.html\",\"url\": \"^https?://m\\\\.(d?mhua8|100mhl)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"init\": \"let gae=e=>document.querySelectorAll(e);let Imgs=gae('#images')[0];let Img=gae('img[alt]');let _img='';for(let i=0;i<Img.length;i++){_img+=Img[i].outerHTML}Imgs.innerHTML=_img;\",\"action\": 1,\"wait\": \"let img=doc.querySelector('#images img[alt]');return img!=null\",\"nextLinkByJs\": \"let n=doc.querySelector('.action-list li:nth-child(3)>a');if(/html$/.test(n.href))return n.href\",\"pageElement\": \"#images img[alt]\",\"replaceElement\": \"head>title,.BarTit,#action\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>9){ps[0].remove();let ds=document.querySelectorAll('#images>*');for(let i=0;i<ds.length;i++){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText;\",\"rate\": 10,\"css\": \"#images~[id]:not(.control_bottom){display:none!important}#images img{margin:0 auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.laimanhua.net/kanmanhua/kaijujiangliyiyitiaoming/1684241122.html\",\"url\": \"^https?://www\\\\.laimanhua\\\\.net/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=encodeURI(host+e);F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>.loading-box+#pic-list>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextUrlid/)>-1).innerHTML;let next=eval(code.match(/nextUrlid[^,]+/)[0]);if(next>0)return location.href.replace(/\\\\d+\\\\.html$/,'')+next+'.html'\",\"pageElement\": \"#pic-list\",\"replaceElement\": \"head>title,h1,#position>b\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=encodeURI(host+e);F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=encodeURI(host+e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#position>b');if(t)return t.innerText\",\"css\": \".img_info{display:none!important}#pic-list>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}.pagetual_pageBar+.img-box{margin-top:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.laimanhua.net/kanmanhua/kaijujiangliyiyitiaoming/1684241122.html\",\"url\": \"^https?://m\\\\.laimanhua\\\\.net/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let E=ge('#manga');let F=new DocumentFragment();json.images.forEach(e=>{let img=new Image();img.src=realurl+json.path+e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let next=json.nextUrlid;if(next>0)return location.href.replace(/\\\\d+\\\\.html$/,'')+next+'.html';\",\"pageElement\": \"#manga\",\"replaceElement\": \"head>title,#mangaTitle\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let E=ge('#manga');let F=new DocumentFragment();json.images.forEach(e=>{let img=new Image();img.src=realurl+json.path+e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#manga');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let imgSrcArr=[];json.images.forEach(e=>{let imgSrc=realurl+json.path+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#mangaTitle');if(t)return t.innerHTML.replace(/.+<.+>/g,'').trim()\",\"css\": \".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,[id^='jusha']{display:none!important}.manga-box img{border-top:0px!important;border-bottom:0px!important}\",\"from\": 2},{\"name\": \" /  - \",\"example\": \"https://www.chashengchen.com/manhua/xianziniyoudaxiongzhizhao/2867318.html\",\"url\": \"^https?://www\\\\.(chashengchen|qmiaomh)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(e.indexOf('http')!=-1){imgSrc=e}else{imgSrc=SinConf.resHost[0].domain+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.replace(/\\\\s<.+>/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.100mhl.com/manhua/yuanlaiwoshixianjiezhizun/1268523.html\",\"url\": \"^https?://www\\\\.100mhl\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#imagesOld');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#tbCenter>#imagesOld:nth-child(1)>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#imagesOld\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#imagesOld');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.replace(/\\\\s<.+>/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#imagesOld>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.chashengchen.com/manhua/xianziniyoudaxiongzhizhao/2867318.html\",\"url\": \"^https?://m\\\\.chashengchen\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('.erPag').remove();\",\"nextLink\": \"//a[text()='' and contains(@href,'html')]\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,#action\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"css\": \".action-list li{width:50%!important}.right,#action>ul>li:nth-child(n+2):nth-child(-n+3),.UnderPage+div+script+div[id]{display:none!important}\",\"from\": 2},{\"name\": \" / 361 - \",\"example\": \"https://www.szcdmj.com/szcbolist\",\"url\": \"^https?://www\\\\.(szcdmj|361zw)\\\\.com/(szcbolist|booklist)\",\"nextLink\": \"#nextPage,a[title=''],li.active+li>a\",\"pageElement\": \".mh-list,.manga-list>ul\",\"replaceElement\": \".pagination\",\"pageAction\": \"document.querySelectorAll('.mh-cover').forEach(e=>{e.style=e.getAttribute('style')})\",\"css\": \".mh-list+.pagetual_pageBar{margin-top:20px!important}.manga-list-2-cover-img{opacity: 1!important}\",\"from\": 2},{\"name\": \" / 361 /  - PC\",\"example\": \"https://www.szcdmj.com/szcchapter/736400https://www.361zw.com/361zwchapter/318168https://7hxy.com/chapter/968191?page=8&id=968191\",\"url\": \"^https?://(www\\\\.)?(szcdmj|361zw|7hxy)\\\\.com/\\\\w{0,5}chapter/\\\\d+\",\"include\": \".read-section\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//a[@href][text()='' or text()='' or text()='']\",\"pageElement\": \".comiclist>.comicpage\",\"replaceElement\": \".fanye\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/page=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.comiclist>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.title');if(t)return t.innerText.match(/\\\\s(.+)/)[1]\",\"css\": \".comiclist img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" / 361 - \",\"example\": \"https://www.szcdmj.com/szcchapter/736400https://www.361zw.com/361zwchapter/318949\",\"url\": \"^https?://www\\\\.(szcdmj|361zw)\\\\.com/\\\\w{3,5}chapter/\\\\d+(\\\\?page=\\\\d+)?\",\"include\": \".view-bottom-bar\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//a[@href][text()='' or text()='']\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".view-bottom-bar,.view-fix-top-bar,.view-fix-bottom-bar\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/page=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.view-fix-top-bar-title');if(t)return t.innerText\",\"css\": \".view-bottom-bar>li:nth-child(n+3):nth-child(-n+4),.view-fix-bottom-bar-item:nth-child(n+4):nth-child(-n+5){display:none!important}.view-fix-bottom-bar-item,.view-bottom-bar>li{width:33.33%!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/html/1/\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/html/\\\\d+/$\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/photo/1-1.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/[0-9-]+\\\\.html$\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".photo_main_div .row\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/photo/6041.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/\\\\d+\\\\.html$\",\"init\": \"document.querySelectorAll('#dl img').forEach(img=>{let f=img.src.replace('.jpe','.jpg');img.src=f})\",\"pinUrl\": true,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/photo/p6038.html?n=1\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/p\\\\d+\\\\.html\\\\?n=\\\\d+$\",\"nextLinkByUrl\": [\"(\\\\?n=(\\\\d+))$\",\"?n={$2+1}\",\"#next:not([style])\"],\"pageElement\": \"img[name='TheImg']\",\"replaceElement\": \".photo_main_div > div:nth-child(1)\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[name='TheImg'] {max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/comic/6-1.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/comic/[a-z0-9-]+\\\\.html\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".default_row_width>.p-0\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-14px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.comicabc.com/list/all_all_all/\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/list/\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".default_row_width .row>.p-0\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-14px!important}\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://www.comicabc.com/ReadComic/103/1/1_FU4_LD9_7.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/ReadComic/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"init\": \"function ge(e){return document.querySelector(e)}function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(location.pathname.split('/')[3]==1){alert('')}else{p.click()}}};document.addEventListener('keydown',prev);\",\"nextLinkByUrl\": [\"html(\\\\?p=(\\\\d+))?$\",\"html?p={($2.0||1)+1}\"],\"stopSign\": [[\"#pagenum\",\"(\\\\d+)\"],[\"#pagenum\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#TheImg\",\"replaceElement\": \"#pagenum\",\"css\": \"img[name='TheImg'] {max-width: 100% !important;display: block !important;margin: 0 auto !important;}#TheTable td:nth-child(1),#TheTable td:nth-child(3),.comment_block,#prevnext2,#prev,#next{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - 2 - \",\"example\": \"https://www.comicabc.com/online/new-18722.html?ch=26\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/online/new-\\\\d+\\\\.html(\\\\?ch=\\\\d+(-\\\\d+)?)?$\",\"init\": \"if(location.href.indexOf('ch=')==-1)location.href=location.href+'?ch=1';function ge(e){return document.querySelector(e)}function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(location.href.match(/ch=(\\\\d+)/)[1]==1){alert('')}else{p.click()}}};document.addEventListener('keydown',prev);\",\"nextLinkByUrl\": [\"(ch=\\\\d+)(-(\\\\d+))?$\",\"$1-{($3.0||1)+1}\"],\"stopSign\": [[\"#pagenum\",\"(\\\\d+)\"],[\"#pagenum\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#TheImg\",\"replaceElement\": \"#pagenum\",\"css\": \"img[name='TheImg'] {max-width: 100% !important;display: block !important;margin: 0 auto !important;}#TheTable td:nth-child(1),#TheTable td:nth-child(3),.comment_block,#prevnext2,#prev,#next{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.comicbus.com/category/update_comic-1.html\",\"url\": \"^https?://m\\\\.comicbus\\\\.com/category/\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next mdi-next-btn']\",\"pageElement\": \"#list_dl\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-1px!important;margin-bottom:5px!important}\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://8.twobili.com/comic/insurance_15059.html?ch=1\",\"url\": \"^https?://8\\\\.twobili\\\\.com/comic/insurance\",\"pinUrl\": true,\"init\": \"ge=e=>document.querySelector(e);function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(ch==1){alert('')}else{p.click()}}};document.addEventListener('keydown',prev);function dcnext(e){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('')}};document.addEventListener('dblclick',dcnext);let E=ge('#TheTable>ul>li');let F=new DocumentFragment();for(let i=1;i<=ps;i++){let imgSrc='//img'+ss(c,4,2)+'.8comic.com/'+ss(c,6,1)+'/'+ti+'/'+ss(c,0,4)+'/'+nn([i])+'_'+ss(c,mm([i])+10,3,f)+'.jpg';let img=new Image();img.src=imgSrc;F.appendChild(img)};E.innerHTML='';E.appendChild(F);let ul=ge('#TheTable>ul');let v1=ge('.view_tmenu').cloneNode(true);let v2=document.querySelectorAll('.view_menut')[1];ul.appendChild(v2);ul.appendChild(v1);let b1=ge('.book_inc_title');let b2=ge('.book_link_item');ul.appendChild(b1);ul.appendChild(b2);\",\"nextLink\": \"0\",\"css\": \".pinch-zoom-container{height: auto!important; display: contents!important}#pagenum,[onclick^='j'],#pageindex,ico+a+.material-icons.right-logo{display:none!important}.view_menut a{width:33.3%!important;max-width:33.3%!important}\",\"from\": 2},{\"name\": \"dm5  /  - \",\"example\": \"https://www.dm5.com/manhua-list/https://www.1kkk.com/manhua-list/\",\"url\": \"^https?://(www|tel|en|cnc|hk)?\\\\.?(dm5|1kkk)\\\\.(com|cn)/manhua-([a-z]+/|list-area|list-tag|list-char)\",\"init\": \"document.querySelectorAll('.cat-filter a').forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 1000)')})\",\"nextLink\": \"//a[text()=' > ']\",\"pinUrl\": true,\"pageElement\": \".box-body\",\"replaceElement\": \".page-pagination\",\"from\": 2},{\"name\": \"dm5  /  - PC\",\"example\": \"https://www.dm5.com/m1331307/https://www.1kkk.com/ch1063-1331307/\",\"url\": \"^https?://(www|tel|en|cnc)?\\\\.?(dm5|1kkk)\\\\.(com|cn)/(m|ch)[-_0-9]+/$\",\"include\": \"#chapterpager\",\"pinUrl\": true,\"init\": \"let ge=(e)=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('body').removeAttribute('style');ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML}},100);\",\"nextLinkByJs\": \"let ge=(e)=>doc.querySelector(e);let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let c=ge('.chapterpager>span.current').innerText;let m=ge('.chapterpager>*:last-child').innerText;let nc=gx(\\\"//a[text()='']\\\");if(c!=m){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/DM5_CURL/)>-1).innerHTML;let dc=eval(code.match(/DM5_CURL[^;]+/)[0]);let url=location.origin+dc;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(c)+1)+'/';return next}else if(nc){return nc.href}else{return null}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=(e)=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.active');if(t)return t.innerText.trim()\",\"rate\": 10,\"css\": \"a[href^='j'],.chapterpager{display:none!important}#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.container{width:auto!important}\",\"from\": 2},{\"name\": \" - PC\",\"example\": \"https://www.1kkk.com/vol1-4761/\",\"url\": \"^https?://(www|hk)\\\\.1kkk\\\\.com/vol[-_0-9]+/$\",\"include\": \"#chapterpager\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img img');if(set){clearInterval(loop);document.body.style.overflow='scroll';ge('#cp_img').innerHTML='';let pcData=async(page)=>{if(page>DM5_IMAGE_COUNT){return}if(!mkey){var mkey=''}let apiUrl=location.href+'chapterfun.ashx'+`?cid=${DM5_CID}&page=${page}&key=${mkey}&language=1>k=6&_cid=${DM5_CID}&_mid=${DM5_MID}&_dt=${DM5_VIEWSIGN_DT}&_sign=${DM5_VIEWSIGN}`;let res=await fetch(apiUrl);let resText=await res.text();let imgSrc=await eval(resText)[0];let img=new Image();img.src=imgSrc;ge('#cp_img').appendChild(img);page++;pcData(page)};pcData(1)}},100)\",\"nextLink\": \"//a[text()='']\",\"manualMode\": true,\"css\": \"a[href^='j'],.chapterpager,.view-comment{display:none!important}#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.container{width:auto!important}\",\"from\": 2},{\"name\": \" / dm5  /  - \",\"example\": \"https://www.manhuaren.com/manhua-list-s2/https://www.manhuaren.com/m198122/https://m.dm5.com/m1331307/https://m.1kkk.com/ch1063-1331307/https://m.1kkk.com/vol1-4761/\",\"url\": \"^https?://(www|m)\\\\.(manhuaren|1kkk|dm5)\\\\.(com|cn)/(m|ch|vol|other)[-_0-9]+/$\",\"exclude\": \".view-paging\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgData=eval(eval(code).replace('var',''));let E=ge('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F)}},100)\",\"nextLinkByJs\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let next=gx(\\\"//ul[@class='view-bottom-bar']//a[text()='' and not(contains(@href,'-end'))]\\\");if(next)return location.origin+next.href.split(\\\"'\\\")[1]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"head>title,.view-fix-top-bar-title,ul.view-bottom-bar,.view-fix-bottom-bar\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgData=eval(eval(code).replace('var',''));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cs=gae('#cp_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}});let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{gae('a[href*=pushHistory]').forEach(a=>{a.href=a.href.split(\\\"'\\\")[1]})},300);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgSrcArr=eval(eval(code).replace('var',''));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/_([^_]+)/)[1]\",\"css\": \".view-bottom-bar>li:nth-child(n+2):nth-child(-n+3),.view-fix-bottom-bar>a:nth-child(2),.guide{display:none!important}.view-bottom-bar li{width:50%!important}.view-fix-bottom-bar>a{width:25%!important}\",\"from\": 2},{\"name\": \" / dm5  /  -  - \",\"example\": \"https://m.dm5.com/\",\"url\": \"^https?://(www\\\\.manhuaren|m\\\\.dm5|m\\\\.1kkk)\\\\.com/\",\"exclude\": [\"#cp_img\",\"#tempc\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.swiper-wrapper a:not([target=_blank]),.manga-list a:not([target=_blank]),.rank-list a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.cartoonmad.com/hotrank.html\",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/(hotrank|topcm|newcm|comic\\\\d+)(\\\\.\\\\d+)?\\\\.html\",\"nextLink\": \"a.onpage+a\",\"pageElement\": \"//table[tbody/tr/td/table/tbody/tr/td/a/span[@class='covers']]\",\"replaceElement\": \"td[align='right']>table:last-child\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/comic/\\\\d+\\\\.html\",\"example\": \"https://www.cartoonmad.com/comic/6187.html\",\"history\": 2,\"init\": \"document.onkeydown=null;let ge=e=>document.querySelector(e);let _src=ge('img[onload]').src.match(/.+\\\\//)[0];let max=document.querySelectorAll('option[value]').length;let E=ge('img[onload]').parentNode.parentNode;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};E.innerHTML='';E.appendChild(F);let p=ge('body>table>tbody>tr:nth-child(2)').cloneNode(true);let c=ge('body>table>tbody>tr:last-child');c.parentNode.insertBefore(p,c);\",\"nextLink\": \"//a[img[@src='/image/rad.gif']]\",\"pageElement\": \"//script[contains(text(),'top.')]\",\"replaceElement\": \"head>title\",\"insert\": \"//td[@align]//td\",\"insertPos\": 2,\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let _src=docge('img[onload]').src.match(/.+\\\\//)[0];let max=doc.querySelectorAll('option[value]').length;let E=ge('.PagetualImg').parentNode;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};E.appendChild(F);let re=docge('body>table>tbody>tr:nth-child(2)').outerHTML;ge('body>table>tbody>tr:nth-child(2)').outerHTML=re;ge('body>table>tbody>tr:nth-child(6)').outerHTML=re;\",\"pageAction\": \"let ps=document.querySelectorAll('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=document.querySelector('.PagetualImg').parentNode.querySelectorAll('*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};const fetchPicSrc=url=>{return fetch(url).then(res=>{return res.url})};document.querySelectorAll('img.PagetualImg[src*=file]').forEach(async(img)=>{img.src=await fetchPicSrc(img.src)})\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let _src=ge('img[onload]').src.match(/.+\\\\//)[0];let max=doc.querySelectorAll('option[value]').length;let imgSrcArr=[];for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}imgSrcArr.push(imgSrc)};return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('b+a[style]');if(t)return t.innerText;\",\"css\": \".PagetualImg{max-width: 100% !important;display: block !important;margin: 0 auto !important;}td[valign='top'][width='160'],td[width='12'],select[name],body>table>tbody>tr:nth-child(5){display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.cartoonmad.com/m/comic/618700022010001.html\",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/m/comic/\\\\d+\\\\.html\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};let E=ge('img[oncontextmenu]').parentNode.parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let lastPage=doc.querySelector('.onpage').parentNode.lastElementChild.previousElementSibling;let parseHTML=srt=>new DOMParser().parseFromString(srt,'text/html');return fetch(lastPage.href).then(res=>res.text()).then(async res=>{let fdoc=parseHTML(res);let ele=fdoc.querySelector('body>table>tbody>tr:nth-child(3)>td>a');return await fetch(ele.href).then(res=>res.text()).then(res=>{let ffdoc=parseHTML(res);let next=ffdoc.querySelector('.pages');if(next){return next.href}else{return null}})})\",\"pageElement\": \"script[src*='/gpt.js']\",\"insert\": \"body>table>tbody>tr:nth-child(3)>td\",\"insertPos\": 2,\"pageInit\": \"let ge=e=>doc.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};let E=document.querySelector('.PagetualImg').parentNode;E.appendChild(F);\",\"pageAction\": \"let ps=document.querySelectorAll('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=document.querySelector('.PagetualImg').parentNode.querySelectorAll('*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};const fetchPicSrc=url=>{return fetch(url).then(res=>{return res.url})};document.querySelectorAll('img.PagetualImg[src*=file]').forEach(async(img)=>{img.src=await fetchPicSrc(img.src)})\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let imgSrcArr=[];for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}imgSrcArr.push(imgSrc)};return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('body>table>tbody>tr:nth-child(1)>td>table>tbody>tr>td:nth-child(2)>li>a:nth-child(3)');if(t)return t.innerText;\",\"css\": \".PagetualImg{max-width: 100% !important;display: block !important;margin: 0 auto !important;}body>table>tbody>tr:nth-child(5){display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://manhua.fffdm.com/2/1040/https://www.fffdm.com/manhua/132/222/\",\"url\": \"^https?://(manhua|www)\\\\.fffdm\\\\.com/(manhua/)?\\\\d+/.+/\",\"pinUrl\": true,\"init\": \"let loop=setInterval(()=>{let mhpic=document.querySelector('#mhpic');if(mhpic&&mhpic.parentNode){let a=mhpic.parentNode;a.nextElementSibling.remove();a.outerHTML=a.innerHTML;clearInterval(loop)}},100);setTimeout(()=>{try{clearInterval(loop)}catch(e){}},5000)\",\"nextLink\": \"//div[@class='navigation']/a[text()=''][@href]\",\"pageElement\": \"#mhpic\",\"replaceElement\": \".text-xl,.navigation\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#mhpic{border:none!important;padding:0!important;border-radius:0px!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#main>div>div:not([id]){display:none!important}\",\"from\": 2},{\"name\": \"Mangabz / Xmanhua - \",\"example\": \"https://www.mangabz.com/manga-list-0-0-0/https://xmanhua.com/manga-list-0-0-0/\",\"url\": \"^https?://(www\\\\.)?(mangabz|xmanhua)\\\\.com/(manga-list|search)\",\"nextLink\": \"//div[contains(@class,'page-pagination')]//a[contains(text(), '>')]\",\"pageElement\": \"ul.mh-list\",\"replaceElement\": \".page-pagination\",\"css\": \".mh-list{padding-bottom:0px!important}.pagetual_pageBar+.mh-list{padding-top:10px!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"Mangabz - PC\",\"example\": \"https://www.mangabz.com/m38701/\",\"url\": \"^https?://(www\\\\.)?mangabz\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".container\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML}},100);function hidetoolbar(){var e=e||window.event;if(e.wheelDelta<0||e.detail>0){$('.top-bar').attr('style','top: -74px;')}else{$('.top-bar').removeAttr('style')}};document.addEventListener('wheel',hidetoolbar);document.addEventListener('DOMMouseScroll',hidetoolbar);function keyhidetoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){$('.top-bar').attr('style','top: -74px;')}else{$('.top-bar').removeAttr('style')}};document.addEventListener('keydown',keyhidetoolbar);\",\"nextLinkByJs\": \"let m=doc.querySelector('[class^=bottom-page]').innerText.match(/(\\\\d+)-(\\\\d+)/);let nc=doc.querySelector('img[src*=xiayizhang]');if(m[1]!=m[2]){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/MANGABZ_CURL/)>-1).innerHTML;let c=eval(code.match(/MANGABZ_CURL[^;]+/)[0]);let url=location.origin+c;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(m[1])+1)+'/';return next}else if(nc&&nc.parentNode){if(/javascript/.test(nc.parentNode.href)){return;}else{return nc.parentNode.href}}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.top-title');if(t)return t.innerText.trim()\",\"rate\": 5,\"css\": \"a[href^='j']{display:none!important}.container{width:auto!important}#cp_img img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"Xmanhua - PC\",\"example\": \"https://xmanhua.com/m10344/\",\"url\": \"^https?://(www\\\\.)?xmanhua\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".reader-bottom-page-list\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML;ge('#showimage').removeAttribute('style');}},100);function showtoolbar(){let t=ge('.header.toolbar');if(t){$('.header').removeClass('toolbar');$('.header').removeAttr('style')}else{$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;')}let b=ge('.reader-bottom.toolbar');if(b){$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}else{$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}};document.addEventListener('click',showtoolbar);function hidetoolbar(){var e=e||window.event;if(e.wheelDelta<0||e.detail>0){$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;');$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}else{$('.header').removeClass('toolbar');$('.header').removeAttr('style');$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}};document.addEventListener('wheel',hidetoolbar);document.addEventListener('DOMMouseScroll',hidetoolbar);function keyhidetoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;');$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}else{$('.header').removeClass('toolbar');$('.header').removeAttr('style');$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}};document.addEventListener('keydown',keyhidetoolbar);\",\"nextLinkByJs\": \"let m=doc.querySelector('.relative>a').innerText.match(/(\\\\d+)\\\\/(\\\\d+)/);let nc=doc.querySelector('img[src*=right-2]');if(m[1]!=m[2]){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/XMANHUA_CURL/)>-1).innerHTML;let c=eval(code.match(/XMANHUA_CURL[^;]+/)[0]);let url=location.origin+c;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(m[1])+1)+'/';return next}else if(nc&&nc.parentNode){if(/javascript/.test(nc.parentNode.href)){return;}else{return nc.parentNode.href}}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.reader-title>a:last-child');if(t)return t.innerText.trim()\",\"rate\": 5,\"css\": \".container{width:auto!important}#cp_img img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.reader-img-con{padding:64px 0 50px !important;}\",\"from\": 2},{\"name\": \"Mangabz - \",\"example\": \"https://www.mangabz.com/m38701/\",\"url\": \"^https?://(www\\\\.)?mangabz\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".bottom-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let b=ge('body.viewbody');if(b){b.innerHTML=b.innerHTML.replace('<!--','').replace('-->','');setTimeout(()=>{$('.top-bar-tool').removeAttr('style');$('.bottom-bar').removeAttr('style')},0)}function showtoolbar(){let t=ge('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}};document.addEventListener('click',showtoolbar);document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src});\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#cp_img\",\"replaceElement\": \".bottom-bar,.toast-win,head>title\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=ge('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let m=document.title.match(/([^_]+)_([^_]+)/);let t=document.querySelector('.top-title');t.innerText=m[1].replace('','')+'_'+m[2];$('.bottom-bar').removeAttr('style')},100);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/_(.+)_/)[1]\",\"from\": 2},{\"name\": \"Xmanhua - \",\"example\": \"https://xmanhua.com/m10344/\",\"url\": \"^https?://(www\\\\.)?xmanhua\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".bottom-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src});\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"#cp_img\",\"replaceElement\": \".top-title,.bottom-bar,.toast-win,head>title\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let m=document.title.match(/([^_]+)_([^_]+)/);let t=ge('.top-title');t.innerText=m[1].replace('','')+'_'+m[2]},100);let cs=gae('#cp_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=ge('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}});\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.top-title');if(t)return t.innerText.replace(/XManhua\\\\?.+\\\\?/,'')\",\"from\": 2},{\"name\": \"Mangabz / Xmanhua - \",\"example\": \"https://xmanhua.com/1904xm/https://www.mangabz.com/1904bz/\",\"url\": \"^https?://(www\\\\.)?(mangabz|xmanhua)\\\\.com/\\\\d+(bz|xm)/$\",\"pinUrl\": true,\"init\": \"showMoreItem()\",\"autoClick\": \"//a[text()='']\",\"from\": 2},{\"name\": \"zero - \",\"example\": \"http://www.zerobywgeat.com/\",\"url\": \"^https?://www\\\\.zerobywgeat\\\\.com/\",\"nextLink\": \"a.nxt\",\"pageElement\": \"//div[div[contains(@class,'mbm')] and contains(@class,'rootcate')]\",\"replaceElement\": \".pg.page\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"zero - PC\",\"example\": \"http://www.zerobywgeat.com/plugin.php?id=jameson_manhua&a=read&zjid=346180\",\"url\": \"^https?://www\\\\.zerobywgeat\\\\.com/plugin\\\\.php\",\"nextLink\": \"//a[span[contains(@uk-icon,'right')]]\",\"pageElement\": \".uk-zjimg\",\"replaceElement\": \".uk-grid-collapse,.uk-text-center,head>title\",\"pageBarText\": 1,\"css\": \".uk-text-center.xg1.xs2{display:none!important}img[id]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://mh5.tw/allcartoonlist\",\"url\": \"^https?://mh5\\\\.tw/allcartoonlist\",\"nextLink\": \"a.cur+a\",\"pageElement\": \"dl.alllist\",\"replaceElement\": \"div.num\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+dl{margin-top:-10px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://mh5.tw/series-wunalfy-484928-1-%E4%B8%8D%E5%B9%B8%E8%81%B7%E6%A5%AD%E7%9A%84%E5%B9%B8%E9%81%8B?\",\"url\": \"^https?://mh5\\\\.tw/series\",\"pinUrl\": true,\"nextLinkByJs\": \"let ge=e=>doc.querySelector(e);let np=ge('.num>.cur+a');let nc=ge('.next>a:not(.hui)');let c=ge('.num>.cur').innerText;let m=ge('.num>a:last-child').innerText-1;if(c!=m){return np.href}else if(nc){return nc.href}else return;\",\"pageElement\": \".ptview>img:not([style])\",\"replaceElement\": \".setnmh-pagedos\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let d=gae('img[alt][style]')[0];if(d)d.remove();gae('.pagetual_pageBar>a').forEach(e=>{if(!/-1-/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.ptview>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText.replace(/\\\\\\\\d+P\\\\/,'')\",\"rate\": 10,\"css\": \".setnmh-seebox img{max-width: 100% !important;display: block !important;margin: 0 auto !important;box-shadow:none!important}.setnmh-seebox{width:auto !important;max-width:800px !important}.num>a:last-child{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.manhuagui.com/list/lianzai/\",\"url\": \"^https?://(www|tw)\\\\.manhuagui\\\\.com/list/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#contList\",\"replaceElement\": \".pager-cont,.result-count\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.manhuagui.com/comic/30278/405998.html\",\"url\": \"^https?://(tw|www)\\\\.manhuagui\\\\.com/comic/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){observer.unobserve(entry.target);let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let loop=setInterval(()=>{let set=ge('.pr.tbCenter.cb img');if(set){clearInterval(loop);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.files.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+imgData.path+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('.pr.tbCenter.cb');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let n=imgData.nextId;if(n!=0)return location.href.replace(/\\\\d+\\\\.html$/,'')+n+'.html';\",\"pageElement\": \"//script[contains(text(),'x6c')]\",\"insert\": \".pr.tbCenter.cb\",\"insertPos\": 2,\"replaceElement\": \".title h2\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.files.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+imgData.path+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('.pr.tbCenter.cb');E.appendChild(F);let pc=ge('.btn-red.prevC');let curl=location.href.replace(/\\\\d+\\\\.html.*/,'');let purl=curl+imgData.prevId+'.html';let nurl=curl+imgData.nextId+'.html';pc.href=purl;pc.removeAttribute('onclick');let p=ge('.btn-red.prev');p.href=purl;p.removeAttribute('onclick');if(imgData.nextId!=0){ge('.btn-red.nextC').href=nurl;let n=ge('.btn-red.next+a');n.href=nurl;n.removeAttribute('onclick')}else{ge('.btn-red.nextC').href=curl;let n=ge('.btn-red.next+a');n.href=curl;n.innerText=ge('#viewList').innerText;n.removeAttribute('onclick')}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>10){titles[0].remove();let removes=gae('.pr.tbCenter.cb>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".title>div:not(.fr)>span,#pageSelect,.main-btn>a[href^='j'],.pager>a[href*='goPage'],.pager>span{display:none!important}.pr.tbCenter.cb>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - //// 20 - \",\"example\": \"https://m.manhuagui.com/list/update.html\",\"url\": \"^https?://m\\\\.manhuagui\\\\.com/\",\"exclude\": [\"#manga\",\"#chapter\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.top-slider-wrap a,.main-list a:not([target=_blank]),.cont-list a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"loadMore\": \"#more:not([style*='none'])>.more-go\",\"css\": \".clickforceads{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.manhuagui.com/comic/30278/405998.html\",\"url\": \"^https?://m\\\\.manhuagui\\\\.com/comic/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"$('body').append('<div class=\\\"goback\\\" title=\\\"\\\" onclick=\\\"window.scrollTo({top: 0})\\\" style=\\\"background: url(/images/bg_main.png) -258px -80px no-repeat;opacity:0.3;position:fixed;left:50%;margin-left:-20px;bottom:0px;width:40px;height:40px;\\\"></div>');let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){observer.unobserve(entry.target);let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let loop=setInterval(()=>{let set=ge('#manga img');if(set){clearInterval(loop);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.images.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('#manga');E.innerHTML='';E.appendChild(F);let n=ge(\\\"a[data-action='chapter.next']\\\");if(imgData.nextId==0){n.href=location.pathname.replace(/\\\\d+\\\\.html$/,'');n.innerText=''}}},100)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let n=imgData.nextId;if(n!=0)return location.href.replace(/\\\\d+\\\\.html$/,'')+n+'.html';\",\"pageElement\": \"//script[contains(text(),'x6c')]\",\"insert\": \"#manga\",\"insertPos\": 2,\"replaceElement\": \"#mangaTitle\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.images.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('#manga');E.appendChild(F);let n=ge(\\\"a[data-action='chapter.next']\\\");if(imgData.nextId==0){n.href=location.pathname.replace(/\\\\d+\\\\.html$/,'');n.innerText=''}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>10){titles[0].remove();let removes=gae('#manga>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('#mangaTitle');if(t)return t.innerHTML.replace(/<.+>\\\\s?/g,'')\",\"css\": \".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,.clickforceads{display:none!important}.manga-box img{border-top:0px!important;border-bottom:0px!important}\",\"from\": 2},{\"name\": \"COCOMANGA - /\",\"example\": \"https://www.colamanhua.com/show?orderBy=update\",\"url\": \"^https?://www\\\\.colamanhua\\\\.com/(show|search)\",\"init\": \"let w = document.querySelector(`h2 a[href*='weeklyCount']`); if (!location.search) w.click()\",\"nextLinkByJs\": \"let next=doc.querySelector('.fed-page-info a.fed-btns-green+a[onclick]');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+$/,'')+'&page='+next.innerText\",\"pageElement\": \"//div[contains(@class,'fed-list-head')]/following-sibling::ul[li/a/span] | //dl[dt/a/span]\",\"pageInit\": \"doc.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"replaceElement\": \".fed-page-info\",\"from\": 2},{\"name\": \"COCOMANGA -  - \",\"example\": \"https://www.colamanhua.com/15177/1/2.html\",\"url\": \"^https?://www\\\\.colamanhua\\\\.com/\",\"include\": \".mh_comicpic\",\"init\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;function next(e){let key=window.event?e.keyCode:e.which;if(key==39){e.preventDefault();let n=gx(\\\"//a[contains(@href,'html') and text()='']\\\");if(n){n.click()}else{alert('')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){e.preventDefault();let p=gx(\\\"//a[contains(@href,'html') and text()='']\\\");if(p){p.click()}else{alert('')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[contains(@href,'html') and text()='']\\\");if(n){n.click()}else{alert('')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \"0\",\"pinUrl\": true,\"css\": \".mh_wrap{width:100%!important;min-width:100%!important}\",\"from\": 2},{\"name\": \"GODA - /\",\"example\": \"https://godamanga.com/\",\"url\": \"^https?://(cn\\\\.)?godamanga\\\\.com/\",\"nextLink\": \"span.current+a,a[aria-label='Next page']\",\"pageElement\": \"//article[a/img]\",\"replaceElement\": \"nav.ct-pagination,.paging-navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"GODA  - \",\"example\": \"https://chapter.godamanga.com/manga/wozhendebushiqiyunzhizi-vv/0_0/\",\"url\": \"^https?://([a-z]{2,7}\\\\.)?godamanga\\\\.com/manga/[^/]+/\\\\w+/\",\"history\": 2,\"init\": \"document.querySelectorAll('img[data-lazy-src]').forEach(e=>{e.src=e.getAttribute('data-lazy-src')})\",\"nextLink\": \"//a[span[text()='']]\",\"pageElement\": \"//div[div/div/div/img[@decoding='async']]\",\"replaceElement\": \"head>title,.hero-section,#pagenation\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let c=gax(\\\"//div[div/div/div/img[@decoding='async']]\\\");if(c.length>10){c[0].remove()}let p=gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\");if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-item>span');if(t)return t.innerText\",\"css\": \".pagetual_pageBar+.stk-row{margin-top:-3px!important}\",\"from\": 2},{\"name\": \"2 - /\",\"example\": \"https://baozimh.org/\",\"url\": \"^https?://baozimh\\\\.org/\",\"nextLink\": \"span.current+a,a[aria-label='Next page']\",\"pageElement\": \"#main>article article,header.page-header~article\",\"replaceElement\": \"nav.ct-pagination,.paging-navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"2 - \",\"example\": \"https://baozimh.org/manga/kaijuyizuoshan-yulemeicuo/0_2/\",\"url\": \"^https?://baozimh\\\\.org/manga/[^/]+/\\\\w+/\",\"history\": 2,\"pinUrl\": true,\"init\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let E=gx(\\\"//div[(div/img) and contains(@class,'gb-container')]\\\");let F=new DocumentFragment();document.querySelectorAll('img[data-src]').forEach(e=>{let img=new Image();img.src=e.dataset.src;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"//a[span[text()='']]\",\"pageElement\": \"//div[(div/img) and contains(@class,'gb-container')] | //div[(img) and contains(@class,'gb-container')]\",\"replaceElement\": \"head>title,.gb-inside-container>h1,.last,#pagenation\",\"pageInit\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let E=gx(\\\"//div[(div/img) and contains(@class,'gb-container')]\\\");let F=new DocumentFragment();doc.querySelectorAll('img[data-src]').forEach(e=>{let img=new Image();img.src=e.dataset.src;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let c=gax(\\\"//div[(img) and contains(@class,'gb-container')]\\\");if(c.length>10){c[0].remove()}let p=gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\");if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last');if(t)return t.innerText\",\"css\": \".pagetual_pageBar+.gb-container{margin-top:-3px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.kukuc.co/comic/chapter/dawangraoming-yuedongwenhua/0_0.html\",\"url\": \"^https?://[^/]+/comic/chapter/[^/]+/\\\\w+\\\\.html\",\"include\": [\"//title[contains(text(),'') or contains(text(),'')]\",\".chapter-main.scroll-mode>.comic-contain amp-img>img[amp-img-id]\"],\"history\": 2,\"action\": 1,\"pinUrl\": true,\"init\": \"let gae=e=>document.querySelectorAll(e);let E=gae('.comic-contain')[0];let F=new DocumentFragment();let imgs=gae('.comic-contain amp-img');imgs.forEach(e=>{let img=new Image();img.className='comic-contain__item';img.src=e.getAttribute('src');F.appendChild(img)});E.innerHTML='';E.appendChild(F);let loop=setInterval(()=>{let set=document.querySelector('#interstitial_fade');if(set){clearInterval(loop);set.remove()}},100);setTimeout(()=>{if(loop)clearInterval(loop)},5000)\",\"nextLink\": \"#next-chapter\",\"pageElement\": \".comic-contain\",\"replaceElement\": \"//head/title | //span[@class='title'] | //div[@class='comic-chapter']/div[@class='next_chapter'] | //div[@class='bottom-bar']\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);let E=gae('.comic-contain')[0];let F=new DocumentFragment();let imgs=gae('.comic-contain amp-img');imgs.forEach(e=>{let img=new Image();img.className='comic-contain__item';img.src=e.getAttribute('src');F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar a').forEach(e=>{if(/\\\\/\\\\d+_\\\\d+_\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=gae('.chapter-main>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('span.title');if(t)return t.innerText\",\"css\": \".mobadsq{display:none!important}ul{margin-block-start:-2px!important;margin-block-end:2px!important}.pagetual_pageBar{margin-top:7px!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.baozimh.com/comic/dawangraoming-yuedongwenhua\",\"url\": \"^https?://[^/]+/comic/\",\"include\": [\"//title[contains(text(),'') or contains(text(),'')]\",\"#button_show_all_chatper\"],\"nextLink\": \"0\",\"autoClick\": \"#button_show_all_chatper\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.webmota.com/\",\"url\": \"^https?://[^/]+/\",\"include\": [\"//title[contains(text(),'') or contains(text(),'')]\",\".comics-card\"],\"exclude\": [\".comic-contain\",\".comics-detail\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.comics-card a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \" -  - \",\"example\": \"https://m.happymh.com/manga/shishijilingdishejishi\",\"url\": \"^https?://m\\\\.happymh\\\\.com/reads/\",\"enable\": \"0\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.happymh.com/latest\",\"url\": \"^https?://m\\\\.happymh\\\\.com/latest$\",\"loadMore\": \".more-div-btn\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.happymh.com/manga/daiwangraoming\",\"url\": \"^https?://m\\\\.happymh\\\\.com/manga/\",\"autoClick\": \"#expandButton\",\"from\": 2},{\"name\": \"K- \",\"example\": \"https://kmansin09.com/bbs/board.php?bo_table=2001&wr_id=9984203&sfl=wr_subject&stx=PICK+ME+UP\",\"url\": \"^https?://kmansin\\\\d+\\\\.com/\",\"exclude\": \"#ep_box\",\"nextLink\": \".pagination li.active+li:not(.disabled)>a[href]\",\"pageElement\": \".list-body\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"rate\": 10,\"from\": 2},{\"name\": \"K- \",\"example\": \"https://kmansin09.com/bbs/board.php?bo_table=2001&wr_id=9984280\",\"url\": \"^https?://kmansin\\\\d+\\\\.com/\",\"include\": \"#ep_box\",\"nextLink\": \".panel-heading a[title='']\",\"pageElement\": \".view-content\",\"rate\": 10,\"css\": \".view-padding{padding:0px!important}.remote{display:none!important}\",\"from\": 2},{\"name\": \"Manga Koma \",\"example\": \"https://mangakoma01.com/manga/pick-me-up-direa-ying-xiongno-chengri-shanggari/1hua/25650\",\"url\": \"^https?://mangakoma\\\\d+\\\\.com/\",\"action\": 1,\"waitElement\": [\"\",\"img[alt='Lazy']\"],\"init\": \"setTimeout(()=>{document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.getAttribute('data-src');e.classList.add('loaded')})},5000)\",\"nextLink\": \"a.nextBtn:not([disabled])\",\"pageElement\": \"#chapterContent\",\"replaceElement\": \"head>title,.i-block:nth-child(3) span[itemprop='name'],h1.fs-25,.prevBtn,a.nextBtn\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.getAttribute('data-src');e.classList.add('loaded')})\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.dashumanhua.com/category/all/\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/\",\"nextLink\": \"//a[text()='']\",\"pageElement\": \"//dt[div[@class='img']/a/img[@alt]]\",\"replaceElement\": \".mypage\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.dashumanhua.com/comic/shendijianglinwoyouyiwanshuxingdian/\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/\",\"include\": \"//a[text()='']\",\"autoClick\": \"//div[span[text()='']]\",\"css\": \"[class^='ad']{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.dashumanhua.com/comic/douluodalu5zhongshengtangsan/read-0.html\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/comic/[^/]+/read-\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(m).slice(12,-1));let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#pre-loading+#pic-list>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLink\": \"//a[text()='' and not(contains(@href,'--1'))]\",\"pageElement\": \"#pic-list\",\"replaceElement\": \"head>title,h2,.prev,.huiname,.next,.setnmh-pagedos\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(m).slice(12,-1));let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#pic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{ge('.prev>a').href=ge('.prev>.tandiv>a').href;let n=ge('.next>.tandiv>a');if(n){ge('.next>a').href=n.href;ge('.next>a+span').remove();ge('a[v-if=booknext]+span').remove()}else{ge('div[v-if=booknext]').remove();ge('.next>a').classList.add('hui')}},100)\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgSrcArr=eval(eval(m).slice(12,-1));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.setnmh-bookname>h2');if(t)return t.innerText\",\"rate\": 3,\"css\": \"#pic-list img{box-shadow:none!important}.setnmh-seebox>*:first-child:not(.loading-box),.loading-box,.aboutmh>*:last-child{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://18p.fun/library/?cid=3&tid=1702\",\"url\": \"^https?://18p\\\\.fun/\",\"include\": \".loadmore\",\"init\": \"let gae=e=>document.querySelectorAll(e);let openInNewTab=()=>gae('#itemlist li>a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});let setImgSrc=()=>gae('img.lazy[src$=svg]').forEach(img=>{img.src=img.dataset.src});openInNewTab();setImgSrc();new MutationObserver(()=>{openInNewTab();setImgSrc()}).observe(document.body,{childList:true,subtree:true});\",\"nextLink\": \"0\",\"loadMore\": \".loadmore>button\",\"css\": \".page{display:none!important}.loadmore{display:block!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://18p.fun/ForInject/Chapter/?id=641992\",\"url\": \"^https?://(www\\\\.)?(18p|gohaveababy|imynest|healthway|beforeout)\\\\.[a-z]{2,5}/(ForInject/|Article/|content/)\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('img[data-src]');if(set){clearInterval(loop);if(location.hostname!='18p.fun'&&window.$_curChap){location.replace('https://18p.fun/ForInject/Chapter/?id='+window.$_curChap.id)};document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src});let hasTouchEvents=()=>{if(('ontouchstart'in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){return true}return false};let toggleToolbar=()=>{var e=e||window.event;if(e.wheelDelta<0||e.detail>0){ge('[my-id=header]').setAttribute('style','top: -60px;');ge('[class^=footerbox]').setAttribute('style','display:none;')}else{ge('[my-id=header]').removeAttribute('style');ge('[class^=footerbox]').removeAttribute('style')}};if(hasTouchEvents()===false){document.addEventListener('wheel',toggleToolbar);document.addEventListener('DOMMouseScroll',toggleToolbar)}ge('[class^=pictures]').addEventListener('click',()=>{let t=ge('[my-id=header][style]');if(t){ge('[my-id=header]').removeAttribute('style');ge('[class^=footerbox]').removeAttribute('style')}else{ge('[my-id=header]').setAttribute('style','top: -60px;');ge('[class^=footerbox]').setAttribute('style','display:none;')}})}},200);\",\"nextLinkByJs\": \"let next=doc.querySelector('[class^=picnexta]>a');if(next&&next.dataset.url)return next.dataset.url\",\"pageElement\": \"[class^=pictures]>img[data-src],[class^=needfee]\",\"replaceElement\": \"[class^=footerbox] li:nth-child(n+3):nth-child(-n+6)\",\"pageInit\": \"document.querySelector('h1').outerHTML=doc.querySelector('h1').outerHTML;let na=document.querySelector('[class^=picnexta]');let a=null;if(na){a=na.querySelector('a')}let rna=doc.querySelector('[class^=picnexta]');let ra=null;if(rna){ra=rna.querySelector('a')}if(ra!=null&&ra.dataset.url){a.dataset.url=ra.dataset.url;a.innerHTML=ra.innerHTML}else if(rna){na.innerHTML=rna.innerHTML}let needfee=doc.querySelector('[class^=needfee]');if(needfee){let css=Array.from(doc.querySelectorAll('style')).find(s=>s.innerHTML.search(/needfee/)>-1).innerHTML;let style=document.createElement('style');style.id='PagetualStyle';style.innerHTML=css;document.head.appendChild(style)}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar a').forEach(e=>{if(/pi=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('[class^=pictures]>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};setTimeout(()=>{gae('div[class^=picnexta],[class^=footerbox] li:nth-child(n+3):nth-child(-n+6)').forEach(e=>{e.addEventListener('click',()=>{let a=e.querySelector('a');if(a&&a.dataset.url){location.replace(a.dataset.url)}})});ge('[class^=footerbox] li:nth-child(7)').addEventListener('click',()=>{location.replace('https://18p.fun/book/'+window.$_curChap.bookid)})},200)\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.split('\\\"')[2].replace(/\\\\d+??$/,'').trim();\",\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.manhua666.com/sort/1/1.html\",\"url\": \"^https?://www\\\\.manhua666\\\\.com/\",\"include\": \".pages\",\"pinUrl\": true,\"nextLink\": \"strong+a[href$=html]\",\"pageElement\": \"h2~.item\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \" - \",\"example\": \"http://www.manhua666.com/13_13215/1208996.html#p=1\",\"url\": \"^https?://www\\\\.manhua666\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(!ge('.pageselect')){gx(\\\"//a[text()='']\\\").click()}let F='';imgs.forEach(e=>{F+=e});let E=ge('#contents');E.innerHTML=F;\",\"nextLink\": \"a[rel=next][href$=html]\",\"pageElement\": \"#contents\",\"replaceElement\": \"head>title,.con_top,.bottem1,.bottem2\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imgs/)>-1).innerHTML;let imgData=eval(code.match(/imgs[^;]+/)[0]);let F='';imgs.forEach(e=>{F+=e});let E=doc.querySelector('#contents');E.innerHTML=F;\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#contents');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imgs/)>-1).innerHTML;let imgData=eval(code.match(/imgs[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=e.match(/http[^\\\"]+/)[0];imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.bookname');if(t)return t.innerText.match(/[^]+/)[0].trim();\",\"css\": \".box_con #content{font-size:0!important}.bookname,.imgpage,.imgpage2,h3,.readtj{display:none!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://www.xianmanwang.com/kaijujiuwudi/0.html\",\"url\": \"^https?://www\\\\.xianmanwang\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);if(ge('img[src*=banquan]')){location.replace(location.href.replace('www','m'))}else{let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imgDomain+e;F.appendChild(img)});let E=ge('.comiclist');E.innerHTML='';E.appendChild(F)}\",\"nextLink\": \"//li[a[@class='active']]/preceding-sibling::li[1]/a\",\"pageElement\": \".comiclist\",\"replaceElement\": \"head>title,h1.title\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imgDomain+e;F.appendChild(img)});let E=doc.querySelector('.comiclist');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comiclist');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imgDomain+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('a.active');if(t)return t.innerText.match(/[^]+/)[0].trim();\",\"css\": \"h1.title>span{display:none!important}.comiclist>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.xianmanwang.com/kaijujiuwudi/0.html\",\"url\": \"^https?://m\\\\.xianmanwang\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let hasTouchEvents=()=>{if(('ontouchstart'in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){return true}return false};if(hasTouchEvents()===false){let style=document.createElement('style');style.id='PagetualStyle';style.innerHTML='#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}';document.head.appendChild(style)}let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src='https://res.xiaoqinre.com/'+e;F.appendChild(img)});let E=document.querySelector('#cp_img');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"a.next[href$=html]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"head>title,#title[style*='30'],.btn.prev,.btn.next\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src='https://res.xiaoqinre.com/'+e;F.appendChild(img)});let E=doc.querySelector('#cp_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc='https://res.xiaoqinre.com/'+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector(\\\"#title[style*='30']\\\");if(t)return t.innerText\",\"rate\": 2,\"css\": \"img[style*='18vh'],.dropload-down{display:none!important}.recommendList{display:block!important}\",\"from\": 2},{\"name\": \" - \",\"example\": \"https://m.xianmanwang.com/wodetianjienvyou/\",\"url\": \"^https?://m\\\\.xianmanwang\\\\.com/\\\\w+/$\",\"include\": \"a.mm\",\"autoClick\": \"a.mm\",\"nextLink\": \"0\",\"css\": \"[class^='ad']{display:none!important}\",\"from\": 2},{\"name\": \"webtoons - \",\"url\": \"^https?://www\\\\.webtoons\\\\.com/([^/]+/)?$\",\"pinUrl\": true,\"nextLink\": \"0\",\"enable\": 0,\"from\": 2},{\"name\": \"webtoons - \",\"example\": \"https://www.webtoons.com/zh-hant/time-slip/estatedeveloper/list?title_no=4354\",\"url\": \"^https?://www\\\\.webtoons\\\\.com/.+/list\\\\?\",\"pinUrl\": true,\"nextLink\": \"//div[@class='paginate']/a[span[@class='on']]/following-sibling::a[1]\",\"pageElement\": \"._episodeItem\",\"replaceElement\": \".paginate\",\"pageBar\": 0,\"from\": 2},{\"name\": \"webtoons - \",\"example\": \"https://www.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"url\": \"^https?://www\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('img[data-url]').forEach(e=>{e.src=e.dataset.url})\",\"nextLink\": \"//div[@class='episode_cont']//li[a[starts-with(@class,'on')]]/following-sibling::li[1]/a\",\"pageElement\": \"#_imageList>img\",\"replaceElement\": \".subj_info>h1,.paginate.v2,.episode_cont\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#bottomEpisodeList img[data-url]').forEach(e=>{e.src=e.dataset.url});let titles=gae('.pagetual_pageBar');if(titles.length>5){titles[0].remove();let removes=gae('#_imageList>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.subj_info>h1');if(t)return t.innerText\",\"rate\": 3,\"from\": 2},{\"name\": \"webtoons -  ()\",\"example\": \"https://m.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"enable\": 0,\"url\": \"^https?://m\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=document.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"nextLink\": \".paginate a.lk_next\",\"pageElement\": \".flick-ct._imageWrap\",\"replaceElement\": \".h1_viewer,#sequence_scroll,.btn_comment,.paginate\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=doc.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#bottomEpisodeList img[data-url]').forEach(e=>{e.src=e.dataset.url});let titles=gae('.pagetual_pageBar');if(titles.length>5){titles[0].remove();let removes=gae('#_viewer>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgSrcArr=[];for(let i=0;i<imgData.length;i++){let imgSrc=imgData[i].url;imgSrcArr.push(imgSrc)}return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.h1_viewer>._goTop');if(t)return t.innerText\",\"rate\": 3,\"css\": \"#_viewer{height:auto !important}#_webRetentionArea{display:none!important}\",\"from\": 2},{\"name\": \"webtoons -  ()\",\"example\": \"https://m.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"url\": \"^https?://m\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"manualMode\": true,\"pinUrl\": true,\"init\": \"document.addEventListener('dblclick',()=>{let n=document.querySelector('.paginate a.lk_next');if(n)location.href=n.href});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=document.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"nextLink\": \".paginate a.lk_next\",\"preloadImages\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgSrcArr=[];for(let i=0;i<imgData.length;i++){let imgSrc=imgData[i].url;imgSrcArr.push(imgSrc)}return imgSrcArr\",\"css\": \"#_webRetentionArea,.pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \" - JS/CSS/JSON/HTML \",\"enable\": 1,\"example\": \"https://c.runoob.com/front-end/51/https://c.runoob.com/front-end/52/https://c.runoob.com/front-end/7683/https://c.runoob.com/front-end/47/\",\"url\": \"^https?://c\\\\.runoob\\\\.com/front-end/(47|51|52|7683)/\",\"init\": \"if(location.href.indexOf('7683')==-1){clearAll()}document.querySelectorAll('div.col-md-6').forEach(div=>{div.setAttribute('class','code');div.style='width:100%;max-width:100%;position:relative;padding-right:15px;padding-left:15px;'})\",\"pinUrl\": true,\"from\": 2},{\"name\": \"ICONFINDER \",\"enable\": 0,\"example\": \"https://www.iconfinder.com/search?q=Download\",\"url\": \"^https?://www\\\\.iconfinder\\\\.com/\",\"from\": 2}]"}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/438684-pagetual/code/Pagetual.user.js","uuid":"26ac1f19-e68f-4c4c-90b6-7cd7f2483d79","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBQYWdldHVhbAovLyBAbmFtZTp6aC1DTiAgIOS4nOaWueawuOmhteacugovLyBAbmFtZTp6aC1UVyAgIOadseaWueawuOmggeapnwovLyBAbmFtZTpqYSAgICAgIOadseaWueawuOmggeapnwovLyBAbmFtZTprbyAgICAgIOadseaWueawuOmggeapnwovLyBAbmFtZTpydSAgICAgIFBhZ2V0dWFsCi8vIEBuYW1lOmRlICAgICAgUGFnZXR1YWwKLy8gQG5hbWU6ZXMgICAgICBQYWdldHVhbAovLyBAbmFtZTpmciAgICAgIFBhZ2V0dWFsCi8vIEBuYW1lOml0ICAgICAgUGFnZXR1YWwKLy8gQG5hbWVzcGFjZSAgICBob290aGluCi8vIEB2ZXJzaW9uICAgICAgMS45LjM2LjQ0Ci8vIEBkZXNjcmlwdGlvbiAgUGVycGV0dWFsIHBhZ2VzIC0gcG93ZXJmdWwgYXV0by1wYWdlciBzY3JpcHQuIEF1dG8gbG9hZGluZyBuZXh0IHBhZ2luYXRlZCB3ZWIgcGFnZXMgYW5kIGluc2VydGluZyBpbnRvIGN1cnJlbnQgcGFnZS4gU3VwcG9ydCB0aG91c2FuZHMgb2Ygd2ViIHNpdGVzIHdpdGhvdXQgYW55IHJ1bGUuCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg57uI5p6B6Ieq5Yqo57+76aG1IC0g5Yqg6L295bm25ou85o6l5LiL5LiA5YiG6aG15YaF5a656Iez5b2T5YmN6aG15bC+77yM5pm66IO96YCC6YWN5Lu75oSP572R6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg57WC5qW16Ieq5YuV57+76aCBIC0g5Yqg6LyJ5Lim5ou85o6l5LiL5LiA5YiG6aCB5YWn5a656Iez55W25YmN6aCB5bC+77yM5pm66IO96YGp6YWN5Lu75oSP57ay6aCBCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAgV2Vi44Oa44O844K444KS6Ieq5YuV44Gn6Kqt44G/6L6844G/57aZ44GO6Laz44GX6KGo56S644KS6KGM44GG44OW44Op44Km44K25ouh5by144Gn44GZ44CB5qyh44Gu44Oa44O844K45LuY44GR44GV44KM44GfIFdlYiDjg5rjg7zjgrjjga7oh6rli5Xoqq3jgb/ovrzjgb/jgajnj77lnKjjga7jg5rjg7zjgrjjgbjjga7mjL/lhaUg44Or44O844Or44Gq44GX44Gn5L2V5Y2D44KC44GuIFdlYiDjgrXjgqTjg4jjgpLjgrXjg53jg7zjg4jjgZfjgb7jgZnjgIIKLy8gQGRlc2NyaXB0aW9uOmtvICAgICDtjpjsnbTsp4DqsIAg66ek6rKo7KeEIOuLpOydjCDsm7kg7Y6Y7J207KeA66W8IOyekOuPmeycvOuhnCDroZzrk5ztlZjqs6Ag7ZiE7J6sIO2OmOydtOyngOyXkCDsgr3snoXtlanri4jri6QuIOq3nOy5mSDsl4bsnbQg7IiY7LKcIOqwnOydmCDsm7kg7IKs7J207Yq466W8IOyngOybkO2VqeuLiOuLpC4KLy8gQGRlc2NyaXB0aW9uOnJ1ICAgICDQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINC/0L7QtNCz0YDRg9C30LrQsCDRgdC70LXQtNGD0Y7RidC40YUg0YHRgtGA0LDQvdC40YYg0Lgg0LLRgdGC0LDQstC60LAg0LjRhSDRgdC+0LTQtdGA0LbQuNC80L7Qs9C+INCyINGC0LXQutGD0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMuINCf0L7QtNC00LXRgNC20LjQstCw0LXRgiDRgtGL0YHRj9GH0Lgg0YHQsNC50YLQvtCyINC00LDQttC1INGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4uCi8vIEBkZXNjcmlwdGlvbjpkZSAgICAgQXV0b21hdGlzY2hlcyBMYWRlbiBkZXIgbsOkY2hzdGVuIHBhZ2luaWVydGVuIFdlYnNlaXRlbiB1bmQgRWluZsO8Z2VuIGluIGRpZSBha3R1ZWxsZSBTZWl0ZS4gVW50ZXJzdMO8dHplbiBTaWUgVGF1c2VuZGUgdm9uIFdlYnNpdGVzIG9obmUgUmVnZWxuLgovLyBAZGVzY3JpcHRpb246ZXMgICAgIENhcmdhIGF1dG9tw6F0aWNhIGRlIGxhcyBzaWd1aWVudGVzIHDDoWdpbmFzIHdlYiBwYWdpbmFkYXMgZSBpbnNlcmNpw7NuIGVuIGxhIHDDoWdpbmEgYWN0dWFsLiBBZG1pdGUgbWlsZXMgZGUgc2l0aW9zIHdlYiBzaW4gbmluZ3VuYSByZWdsYS4KLy8gQGRlc2NyaXB0aW9uOmZyICAgICBDaGFyZ2VtZW50IGF1dG9tYXRpcXVlIGRlcyBwYWdlcyBXZWIgcGFnaW7DqWVzIHN1aXZhbnRlcyBldCBpbnNlcnRpb24gZGFucyBsYSBwYWdlIGVuIGNvdXJzLiBQcmVuZCBlbiBjaGFyZ2UgZGVzIG1pbGxpZXJzIGRlIHNpdGVzIFdlYiBzYW5zIGF1Y3VuZSByw6hnbGUuCi8vIEBkZXNjcmlwdGlvbjppdCAgICAgQ2FyaWNhbWVudG8gYXV0b21hdGljbyBkZWxsZSBwYWdpbmUgV2ViIGltcGFnaW5hdGUgc3VjY2Vzc2l2ZSBlIGluc2VyaW1lbnRvIG5lbGxhIHBhZ2luYSBjb3JyZW50ZS4gU3VwcG9ydGEgbWlnbGlhaWEgZGkgc2l0aSB3ZWIgc2VuemEgYWxjdW5hIHJlZ29sYS4KLy8gQGF1dGhvciAgICAgICBob290aGluCi8vIEBsaWNlbnNlICAgICAgTVBMLTIuMAovLyBAbWF0Y2ggICAgICAgICo6Ly8qLyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQU1BQUFDZHQ0SHNBQUFBZFZCTVZFVUFBQUQzVlUzM1ZVMzJWRXo4VTA3M1ZVMzJWVTMzVlUzMlZVejBVay8zVkUzMlZVMzJWVXoyVlUzMlZVMzJWVTMyVlUzM1ZVMzNVMHoyVlUzNFdrdjNWRTMyVlV6L21wai9uSmoyVlV6MlZVMzJWRTMzVkV6MlZVMzJWVTMyVlV6M1ZFMzJWRXozVkUzL21aZjJWa3oyVlUzL21waWxGRm9sQUFBQUpYUlNUbE1BM0xwL0d2VEJUNVlRTHVhd1ovRE95WndsUFFlS2MyMU4wNCtGWDFicXBtOUROb0I0VDY4ZVB3QUFBaXRKUkVGVVdNUHQxdHVhc2lBVUJ1Q0ZDRzVSczNReWJUUFYxLzFmNHYvM1BEa3lJb2puOHg1cUJySStsdEFmaDMyL3l5c21CS3Z5WGIrbmpiNmJETDlrelRkNVN6akRBc1lUOG5Gb0dTeFllNkJWcW9ORHAyakZEaXQyNUJSZ1ZVQU9EQjRZV2NFVFdWVHdWTkdpR041aVd0QmdnNFlNQ3Bzb0kzOGROdW5tbVd5eFVUdmJQd3dic1lSMGZJelpMUTBwVEc4ZWllUm1CTE1tcGRIOXVpbVFFZjZUTlJuWFhLTFpIaXhwSnR5d0x6T2dNSHRGQ3FkTTY0RGFoSFJuT0UxZHNyZWttOXdyMld0TGNBbHBkSHdjcDFwQUp5U1hZbkVSY2x6cDQrdjE5alhkbWNUdlFVSnR6K1phSTRpMDUvVi9VR1lyQ3hiYUFzT1lvTmZJS0VReHBxUXV6Q2dKSkovM2Y0Mk84eXdFWnVNVldpLzhoT0R4R2ozR1cyYjB1ZGtiR1VMTERPamltQUcwUzNmTEdsQm5YUU05aXJHMUNpUWRWUWkwZHFRc09TRGx5RUV6N1Z5OU94eGZSNzFWQ1hzU0IyM2pNcktKWVpYU2p3NTdzcWdMbjVaMHdvbHNPQ3owUnlKa3llWWpnejdwd3dWcTIwZWJvWnd0VlVsMkVuTjVnSjUwZFFaRmRyeUFUdkFCUlRyL3RKWGtVTWRhQUs1cHd0Q2Fwd3RGTHNrZ3V3dXlNaC9TZDlXQ2hRNHNJdklVWVNrM1BZcVF2Q1FsT0MwNElmTjdQa2RqT3lSS1doZEtYTW1pQUZ0OWkzc0o1anhvUnVSMHZxQWdoeHh3SHVxZlFFNU9IR0RLT3J3RW5xczFEZ0FaMmU0RWV2MWQ0NVRON0pmaHJRTEtnZndNRllBc3ZwMzNkWElJMDczYVZRTEkyZ041UzU4bGZtR25LS0Z0YWg3bmtnbkJaQjd6bFA3WS9RTmlUTTZzWU56YXd3QUFBQUJKUlU1RXJrSmdnZz09Ci8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgR01fbm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTS5yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgR00ubm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR00uZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTS5zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNLmFkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR00ub3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR00uZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICBHTS5pbmZvCi8vIEBncmFudCAgICAgICAgR00uc2V0Q2xpcGJvYXJkCi8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL2hvb3RoaW4vVXNlclNjcmlwdHMvaXNzdWVzCi8vIEBjb25uZWN0ICAgICAgd2VkYXRhLm5ldAovLyBAY29ubmVjdCAgICAgIGdpdGh1YnVzZXJjb250ZW50LmNvbQovLyBAY29ubmVjdCAgICAgIGdocHJveHkuY29tCi8vIEBjb25uZWN0ICAgICAgaG9vdGhpbi5naXRodWIuaW8KLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1pZGxlCi8vIEBjb25uZWN0ICAgICAgKgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBpZiAod2luZG93Lm5hbWUgPT09ICdwYWdldHVhbC1pZnJhbWUnIHx8ICh3aW5kb3cuZnJhbWVFbGVtZW50ICYmIHdpbmRvdy5mcmFtZUVsZW1lbnQubmFtZSA9PT0gJ3BhZ2V0dWFsLWlmcmFtZScpKSB7CiAgICAgICAgdmFyIGRvbWxvYWRlZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdwYWdldHVhbC1pZnJhbWU6RE9NTG9hZGVkJywgJyonKTsKICAgICAgICB9OwogICAgICAgIGlmICh3aW5kb3cub3BlcmEpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRvbWxvYWRlZCwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvbWxvYWRlZCgpOwogICAgICAgIH0KICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmRpc3BsYXkgPT0gJ25vbmUnKSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkgJiYgZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5kaXNwbGF5ID09ICdub25lJykgZG9jdW1lbnQuYm9keS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHdpbmRvdy50b3AgIT0gd2luZG93LnNlbGYpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAod2luZG93LnNlbGYuaW5uZXJXaWR0aCA8IDMwMCB8fCB3aW5kb3cuc2VsZi5pbm5lckhlaWdodCA8IDMwMCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgY29uc3Qgbm9SdWxlVGVzdCA9IGZhbHNlOwogICAgY29uc3QgbGFuZyA9IG5hdmlnYXRvci5hcHBOYW1lID09ICJOZXRzY2FwZSIgPyBuYXZpZ2F0b3IubGFuZ3VhZ2UgOiBuYXZpZ2F0b3IudXNlckxhbmd1YWdlOwogICAgbGV0IGNvbmZpZyA9IHt9OwogICAgc3dpdGNoIChsYW5nKSB7CiAgICAgICAgY2FzZSAiemgtQ04iOgogICAgICAgIGNhc2UgInpoLVNHIjoKICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgZW5hYmxlRGVidWc6ICLosIPor5XmqKHlvI/vvIzovpPlh7rkv6Hmga/oh7PmjqfliLblj7AiLAogICAgICAgICAgICAgICAgZGlzYWJsZTogIuaaguaXtuemgeeUqCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogIuermeeCueemgeeUqOW8gOWFsyIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICLlt7LlnKjmraTnq5nnpoHnlKgiLAogICAgICAgICAgICAgICAgZW5hYmxlU2l0ZVRpcHM6ICLlt7LlnKjmraTnq5nlkK/nlKgiLAogICAgICAgICAgICAgICAgZW5hYmxlOiAi5ZCv55So6Ieq5Yqo57+76aG1IiwKICAgICAgICAgICAgICAgIHRvVG9wOiAi5Zue5Yiw6aG26YOoIiwKICAgICAgICAgICAgICAgIHRvQm90dG9tOiAi5YmN5b6A6aG15bC+IiwKICAgICAgICAgICAgICAgIGN1cnJlbnQ6ICLlvZPliY3pobUiLAogICAgICAgICAgICAgICAgZm9yY2VJZnJhbWU6ICLlvLrliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgY2FuY2VsRm9yY2VJZnJhbWU6ICLlj5bmtojlvLrliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgY29uZmlndXJlOiAi5omT5byA6YWN572u6aG16Z2iIiwKICAgICAgICAgICAgICAgIGZpcnN0VXBkYXRlOiAi54K55Ye75q2k5aSE5Yid5aeL5YyW6KeE5YiZIiwKICAgICAgICAgICAgICAgIHVwZGF0ZTogIuabtOaWsOWcqOe6v+inhOWImSIsCiAgICAgICAgICAgICAgICBjbGljazJ1cGRhdGU6ICLngrnlh7vnq4vljbPmm7TmlrDop4TliJkiLAogICAgICAgICAgICAgICAgbG9hZE5vdzogIueri+WNs+e/u+mhtSIsCiAgICAgICAgICAgICAgICBsb2FkQ29uZmlybTogIuimgee/u+WHoOmhte+8n++8iDDkuLrkuI3pl7Tmlq3vvIkiLAogICAgICAgICAgICAgICAgbm9OZXh0OiAi5rKh5pyJ5om+5Yiw5LiL5LiA6aG177yM6K+35paw5bu66KeE5YiZIiwKICAgICAgICAgICAgICAgIHBhc3NTZWM6ICLmm7TmlrDkuo4gI3QjIOenkuWJjSIsCiAgICAgICAgICAgICAgICBwYXNzTWluOiAi5pu05paw5LqOICN0IyDliIbpkp/liY0iLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICLmm7TmlrDkuo4gI3QjIOWwj+aXtuWJjSIsCiAgICAgICAgICAgICAgICBwYXNzRGF5OiAi5pu05paw5LqOICN0IyDlpKnliY0iLAogICAgICAgICAgICAgICAgY2FudERlbDogIuaXoOazleWIoOmZpOWGhee9ruinhOWImSIsCiAgICAgICAgICAgICAgICBjb25maXJtRGVsOiAi5piv5ZCm56Gu6K6k6KaB5Yig6Zmk5q2k6KeE5YiZ77yfIiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICLmm7TmlrDmiJDlip8iLAogICAgICAgICAgICAgICAgYmVnaW5VcGRhdGU6ICLmraPlnKjmm7TmlrDvvIzor7fogJDlv4PnrYnlvoXvvIzkuI3opoHlhbPpl63pobXpnaIiLAogICAgICAgICAgICAgICAgY3VzdG9tVXJsczogIuWvvOWFpSBQYWdldHVhbCDmiJYgQXV0b1BhZ2VyaXplIOinhOWImSB1cmzvvIzkuIDooYzkuIDmnaEiLAogICAgICAgICAgICAgICAgY3VzdG9tUnVsZXM6ICLovpPlhaXjgJDkuJzmlrnmsLjpobXmnLrjgJHmoLzlvI/nmoToh6rlrprkuYnop4TliJkgPGEgaHJlZj0nI3QjJz7otKHnjK7op4TliJk8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLkv53lrZjorr7nva4iLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICLlsJHlpbPnpYjnpbfkuK0uLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIuS4jemAj+aYjuWAvCIsCiAgICAgICAgICAgICAgICBvcGFjaXR5UGxhY2Vob2xkZXI6ICIwOiDpmpDol4/liIbpmpTmnaEiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIumakOiXj+WIhumhtemalOadoSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQnV0Tm9TdG9wOiAi6ZqQ6JeP5L2G5LiN5YGc5q2iIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIuepuueZveWkhOWPjOWHu+aaguWBnOe/u+mhtSIsCiAgICAgICAgICAgICAgICBzb3J0VGl0bGU6ICLmjpLluo/lnKjkuIvmrKHmm7TmlrDop4TliJnlkI7nlJ/mlYgiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIuiHquWKqOWQr+eUqO+8jOWQpuWImeS4uueZveWQjeWNleaooeW8jyIsCiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bTogIuiHquWKqOWKoOi9veaMh+WumumhteaVsCIsCiAgICAgICAgICAgICAgICB0dXJuUmF0ZTogIui3neemu+mhteWwvuOAkFjjgJHlgI3pobXpnaLpq5jluqbml7blsLHlvIDlp4vnv7vpobUiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi6L6T5YWl6aG156CB6Lez6L2sIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLnv7vpobXlkI7lhpnlhaXljoblj7LorrDlvZUiLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAi5ou85o6l5ZCO56uL5Y2z5YaZ5YWl5Y6G5Y+y6K6w5b2V77yM5ZCm5YiZ5rWP6KeI5a6M5q+V5ZCO5YaN6KGM5YaZ5YWlIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAi6Ieq5Yqo5YiH5o2iIGNvbnRlbnRWaXNpYmlsaXR577yM5o+Q5Y2H5riy5p+T5oCn6IO9IiwKICAgICAgICAgICAgICAgIGluaXRSdW46ICLmiZPlvIDpobXpnaLlkI7nq4vljbPlsJ3or5Xnv7vpobXvvIzlkKbliJnmu5rliqjoh7PpobXlsL7lho3nv7vpobUiLAogICAgICAgICAgICAgICAgcHJlbG9hZDogIue/u+mhteWJjemihOivu+S4i+S4gOmhte+8jOWKoOmAn+a1j+iniCIsCiAgICAgICAgICAgICAgICBjbGljazJJbXBvcnRSdWxlOiAi54K55Ye75LiL5pa55re75Yqg54m55q6K6KeE5YiZ5bqT77yM5bm26Z2Z5b6F5pu05paw5oiQ5Yqf77yaIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogIuaYr+WQpuaLvOaOpeaVtOS4qumhtemdou+8nyIsCiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWI6ICLkvb/mi7zmjqXpobXpnaLnmoTlhoXlrrnlnKjmlrDpobXpnaLmiZPlvIAiLAogICAgICAgICAgICAgICAgaW1wb3J0U3VjYzogIuWvvOWFpeaIkOWKnyIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICLlr7zlhaUiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICLnvJbovpHmraTnq5nop4TliJkiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogIue8lui+kem7keWQjeWNlee9keWdgO+8jOS4gOihjOS4gOadoe+8jOaUr+aMgT8gKumAmumFjeespuS4juato+WImSIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogIuWbnuWIsOmhtemmluWbvuaghyIsCiAgICAgICAgICAgICAgICBkb3duQnRuSW1nOiAi5YmN5b6A6aG15bC+5Zu+5qCHIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVySWNvbjogIuS+p+i+ueagj+WbvuaghyIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAi5Yqg6L295Lit5paH5a2XIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIOmUriIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BBbHQ6ICJBbHQg6ZSuIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcFNoaWZ0OiAiU2hpZnQg6ZSuIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIOmUriIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BLZXk6ICLlv6vmjbfplK4iLAogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRDc3M6ICLpobXpnaLkuLvkvZPmoYbmnrbnmoTmoLflvI8iLAogICAgICAgICAgICAgICAgY3VzdG9tQ3NzOiAi6Ieq5a6a5LmJIGNzcyIsCiAgICAgICAgICAgICAgICBmaXJzdEFsZXJ0OiAi5L2g6L+Y5pyq5a+85YWl6KeE5YiZ5bqT77yM6K+36YCJ5oup5ZCI6YCC55qE6KeE5YiZ5bqT5a+85YWl5ZOmIiwKICAgICAgICAgICAgICAgIHBpY2tlcjogIuS4nOaWueawuOmhteacuuS4u+S9k+WFg+e0oOaKk+WPluWZqCIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIuWFs+mXreS4nOaWueawuOmhteacuuaKk+WPluWZqCIsCiAgICAgICAgICAgICAgICBwaWNrZXJQbGFjZWhvbGRlcjogIuWFg+e0oOmAieaLqeWZqO+8jOayoeaDs+azleW7uuiurueVmeepuiIsCiAgICAgICAgICAgICAgICBwaWNrZXJDaGVjazogIuajgOafpeS9oOe8lui+keeahOmAieaLqeWZqOW5tuWkjeWItiIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogIueCueWHu+WIh+aNouWFg+e0oCIsCiAgICAgICAgICAgICAgICBnb3RvRWRpdDogIuS9v+eUqOW9k+WJjeeahOmAieaLqeWZqOWJjeW+gOe8lui+keinhOWImSIsCiAgICAgICAgICAgICAgICBtYW51YWxNb2RlOiAi56aB55So5ou85o6l77yM5omL5Yqo55So5Y+z5pa55ZCR6ZSu57+76aG177yM5Y+v5L2/55So5bem5pa55ZCR6ZSu6L+U5ZueIiwKICAgICAgICAgICAgICAgIGNsaWNrTW9kZTogIuemgeeUqOaLvOaOpe+8jOa7muWKqOiHs+mhteWwvuaXtuiHquWKqOeCueWHu+S4i+S4gOmhtSIsCiAgICAgICAgICAgICAgICBwYWdlQmFyTWVudTogIueCueWHu+WIhumalOadoeS4remXtOW8ueWHuuiPnOWNlSIsCiAgICAgICAgICAgICAgICBuZXh0U3dpdGNoOiAi5YiH5o2i5YW25LuW6aG156CBIiwKICAgICAgICAgICAgICAgIGFycm93VG9TY3JvbGw6ICLlt6bmlrnlkJHplK7mu5rliqjoh7PkuIrkuIDpobXvvIzlj7PmlrnlkJHplK7mu5rliqjoh7PkuIvkuIDpobUiLAogICAgICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXI6ICLlnKjkvqfovrnmmL7npLrnv7vpobXmjqfliLbmoI8iLAogICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdJY29uOiAi6ZqQ6JeP5Yqg6L295Yqo55S7IiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogIumakOiXj+WIhumalOadoeWumuS9jeeureWktCIsCiAgICAgICAgICAgICAgICBkdXBsaWNhdGU6ICLmo4DmtYvliLDmsLjpobXmnLrph43lpI3lronoo4XvvIzor7fliKDpmaTlhbbku5bohJrmnKznrqHnkIblmajkuK3nmoTmsLjpobXmnLohIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVJZnJhbWU6ICLku6UgaWZyYW1lIOW1jOWFpeaVtOmhtSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogIumAmui/hyBpZnJhbWUg5Yqg6L295Yqo5oCB5YaF5a655ZCO5Y+W5Ye6IiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVEaXNhYmxlOiAi5Zyo5q2k56uZ56aB55SoIiwKICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxSYXRlOiAi5rua5Yqo6YCf5bqm77yIMX4xMDAw77yJIiwKICAgICAgICAgICAgICAgIGRpc2FibGVBdXRvU2Nyb2xsOiAi5YGc5q2i6Ieq5Yqo5rua5YqoIiwKICAgICAgICAgICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6ICLlvIDlkK/oh6rliqjmu5rliqgiLAogICAgICAgICAgICAgICAgdG9nZ2xlQXV0b1Njcm9sbDogIuiHquWKqOa7muWKqOW8gOWFsyIsCiAgICAgICAgICAgICAgICBwYWdlOiAiUGFnZSAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICLkuIrkuIDpobUiLAogICAgICAgICAgICAgICAgbmV4dFBhZ2U6ICLkuIvkuIDpobUiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAi6KeE5YiZ5b+F6aG75Li65pWw57uE5b2i5byPISIsCiAgICAgICAgICAgICAgICBlcnJvckpzb246ICJKU09OIOagvOW8j+aciemUme+8jOivt+mHjeaWsOajgOafpSEiLAogICAgICAgICAgICAgICAgZWRpdFN1Y2Nlc3M6ICLnvJbovpHmiJDlip8iLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogIlVSTCDplJnor68sIOivt+mHjeaWsOajgOafpSEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAi5bey57uP5a2Y5ZyoISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAi6K6+572u5bey5L+d5a2Y77yM5Yi35paw5ZCO55Sf5pWIIiwKICAgICAgICAgICAgICAgIGlmcmFtZTogIuW8uuWItuaLvOaOpSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAi5Yqo5oCB5Yqg6L29IiwKICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2U6ICLnvJbovpHlrozmiJDvvIzmmK/lkKbnq4vljbPliLfmlrDpobXpnaLvvJ8iLAogICAgICAgICAgICAgICAgY29waWVkOiAi5bey5aSN5Yi2IiwKICAgICAgICAgICAgICAgIG5vVmFsaWRDb250ZW50OiAi5rKh5pyJ5qOA5rWL5Yiw5pyJ5pWI5YaF5a6577yM54K55Ye75p+l55yLIiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIuiEmuacrOW3sui/h+aXtu+8jOivt+WPiuaXtuabtOaWsOWIsOacgOaWsOeJiOacrO+8gSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogIumakOiXj+WIhumhtemalOadoe+8jOayiea1uOW8j+S9k+mqjCIsCiAgICAgICAgICAgICAgICBzZXRDb25maWdQYWdlOiAi5bCG5b2T5YmN6aG16Z2i6K6+5Li66buY6K6k6YWN572u6aG1IiwKICAgICAgICAgICAgICAgIHdlZGF0YTJnaXRodWI6ICLlsIYgd2VkYXRhIOWcsOWdgOabtOaUueS4uiBnaXRodWIg5LuT5bqT5YaF55qE6ZWc5YOP5Zyw5Z2AIiwKICAgICAgICAgICAgICAgIGFkZE90aGVyUHJvcDogIua3u+WKoOinhOWImeWxnuaApyIsCiAgICAgICAgICAgICAgICBhZGROZXh0U2VsZWN0b3I6ICLmt7vliqDpgInmi6nlmajlhoXlrrnkuLogbmV4dExpbmsiLAogICAgICAgICAgICAgICAgYWRkUGFnZVNlbGVjdG9yOiAi5re75Yqg6YCJ5oup5Zmo5YaF5a655Li6IHBhZ2VFbGVtZW50IiwKICAgICAgICAgICAgICAgIHByb3BOYW1lOiAi6L6T5YWl6KeE5YiZ5bGe5oCn5ZCNIiwKICAgICAgICAgICAgICAgIHByb3BWYWx1ZTogIui+k+WFpeinhOWImeWxnuaAp+WAvCIsCiAgICAgICAgICAgICAgICBjdXN0b21GaXJzdDogIuS4uuacrOWcsOiHquWumuS5ieinhOWImeW/veeVpee8k+WtmCIsCiAgICAgICAgICAgICAgICBydWxlc0V4YW1wbGU6ICLoh6rlrprkuYnop4TliJnor6bop6MiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInpoLVRXIjoKICAgICAgICBjYXNlICJ6aC1ISyI6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAi6Kq/6Kmm5qih5byP77yM6Ly45Ye65L+h5oGv6Iez5o6n5Yi25Y+wIiwKICAgICAgICAgICAgICAgIGRpc2FibGU6ICLmmqvmmYLnpoHnlKgiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGU6ICLnq5npu57npoHnlKjplovpl5wiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGVUaXBzOiAi5bey5Zyo5q2k56uZ56aB55SoIiwKICAgICAgICAgICAgICAgIGVuYWJsZVNpdGVUaXBzOiAi5bey5Zyo5q2k56uZ5ZWf55SoIiwKICAgICAgICAgICAgICAgIGVuYWJsZTogIuWVn+eUqOiHquWLlee/u+mggSIsCiAgICAgICAgICAgICAgICB0b1RvcDogIuWbnuWIsOmggumDqCIsCiAgICAgICAgICAgICAgICB0b0JvdHRvbTogIuWJjeW+gOmggeWwviIsCiAgICAgICAgICAgICAgICBjdXJyZW50OiAi55W25YmN6aCBIiwKICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lOiAi5by35Yi25ou85o6lIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAi5Y+W5raI5by65Yi25ou85o6lIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogIuaJk+mWi+mFjee9rumggemdoiIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogIum7nuaTiuatpOiZleWIneWni+WMluimj+WJhyIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICLmm7TmlrDlnKjntqvopo/liYciLAogICAgICAgICAgICAgICAgY2xpY2sydXBkYXRlOiAi6bue5pOK56uL5Y2z5pu05paw6KaP5YmHIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLnq4vljbPnv7vpoIEiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLopoHnv7vlh6DpoIHvvJ/vvIgw54K65LiN6ZaT5pa377yJIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIuaykuacieaJvuWIsOS4i+S4gOmgge+8jOiri+aWsOW7uuimj+WJhyIsCiAgICAgICAgICAgICAgICBwYXNzU2VjOiAi5pu05paw5LqOICN0IyDnp5LliY0iLAogICAgICAgICAgICAgICAgcGFzc01pbjogIuabtOaWsOS6jiAjdCMg5YiG6ZCY5YmNIiwKICAgICAgICAgICAgICAgIHBhc3NIb3VyOiAi5pu05paw5LqOICN0IyDlsI/mmYLliY0iLAogICAgICAgICAgICAgICAgcGFzc0RheTogIuabtOaWsOS6jiAjdCMg5aSp5YmNIiwKICAgICAgICAgICAgICAgIGNhbnREZWw6ICLnhKHms5XliKrpmaTlhoXnva7opo/liYciLAogICAgICAgICAgICAgICAgY29uZmlybURlbDogIuaYr+WQpueiuuiqjeimgeWIqumZpOatpOimj+WJh++8nyIsCiAgICAgICAgICAgICAgICB1cGRhdGVTdWNjOiAi5pu05paw5oiQ5YqfIiwKICAgICAgICAgICAgICAgIGJlZ2luVXBkYXRlOiAi5q2j5Zyo5pu05paw77yM6KuL56iN5YCZIiwKICAgICAgICAgICAgICAgIGN1c3RvbVVybHM6ICLlsI7lhaUgUGFnZXR1YWwg5oiWIEF1dG9QYWdlcml6ZSDopo/liYcgdXJs77yM5LiA6KGM5LiA5qKdIiwKICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzOiAi6Ly45YWl44CQ5p2x5pa55rC46aCB5qmf44CR5qC85byP55qE6Ieq5a6a576p6KaP5YmHIDxhIGhyZWY9JyN0Iyc+6LKi54276KaP5YmHPC9hPiIsCiAgICAgICAgICAgICAgICBzYXZlOiAi5a2Y5YSy6Kit572uIiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAi5bCR5aWz56WI56ax5LitLi4uIiwKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICLkuI3pgI/mmI7lgLwiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMDog6Zqx6JeP5YiG6ZqU5qKdIiwKICAgICAgICAgICAgICAgIGhpZGVCYXI6ICLpmrHol4/liIbpoIHpmpTmop0iLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogIumaseiXj+S9huS4jeWBnOatoiIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3A6ICLnqbrnmb3omZXpm5nmk4rmmqvlgZznv7vpoIEiLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAi5o6S5bqP5Zyo5LiL5qyh5pu05paw6KaP5YmH5b6M55Sf5pWIIiwKICAgICAgICAgICAgICAgIGF1dG9SdW46ICLoh6rli5XllZPnlKjvvIzlkKbliYfngrrnmb3lkI3llq7mqKHlvI8iLAogICAgICAgICAgICAgICAgYXV0b0xvYWROdW06ICLoh6rli5XliqDovInmjIflrprpoIHmlbgiLAogICAgICAgICAgICAgICAgdHVyblJhdGU6ICLot53pm6LpoIHlsL7jgJBY44CR5YCN6aCB6Z2i6auY5bqm5pmC5bCx6ZaL5aeL57+76aCBIiwKICAgICAgICAgICAgICAgIGlucHV0UGFnZU51bTogIui8uOWFpemggeeivOi3s+i9iSIsCiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5OiAi57+76aCB5ZCO5a+r5YWl5q235Y+y6KiY6YyEIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnlBZnRlckluc2VydDogIuaLvOaOpeW+jOeri+WNs+Wvq+WFpeatt+WPsuiomOmMhO+8jOWQpuWJh+eAj+imveWujOeVouW+jOWGjeihjOWvq+WFpSIsCiAgICAgICAgICAgICAgICBjb250ZW50VmlzaWJpbGl0eTogIuiHquWLleWIh+aPmyBjb250ZW50VmlzaWJpbGl0ee+8jOaPkOWNh+a4suafk+aAp+iDvSIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAi5omT6ZaL6aCB6Z2i5ZCO56uL5Y2z5ZiX6Kmm57+76aCB77yM5ZCm5YmH5ru+5YuV6Iez6aCB5bC+5YaN57+76aCBIiwKICAgICAgICAgICAgICAgIHByZWxvYWQ6ICLnv7vpoIHliY3poJDoroDkuIvkuIDpoIHvvIzliqDpgJ/ngI/opr0iLAogICAgICAgICAgICAgICAgY2xpY2sySW1wb3J0UnVsZTogIum7nuaTiuS4i+aWuea3u+WKoOeJueauiuimj+WJh+W6q++8jOW5tumdnOW+heabtOaWsOaIkOWKn++8miIsCiAgICAgICAgICAgICAgICBmb3JjZUFsbEJvZHk6ICLmmK/lkKbmi7zmjqXmlbTlgIvpoIHpnaLvvJ8iLAogICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiOiAi5L2/5ou85o6l6aCB6Z2i55qE5YaF5a655Zyo5paw6aCB6Z2i5omT6ZaLIiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLlsI7lhaXmiJDlip8iLAogICAgICAgICAgICAgICAgaW1wb3J0OiAi5bCO5YWlIiwKICAgICAgICAgICAgICAgIGVkaXRDdXJyZW50OiAi57eo6Lyv5q2k56uZ6KaP5YmHIiwKICAgICAgICAgICAgICAgIGVkaXRCbGFja2xpc3Q6ICLnt6jovK/pu5HlkI3llq7ntrLlnYDvvIzkuIDooYzkuIDmop3vvIzmlK/mjIE/ICrpgJrphY3nrKboiIfmraPliYciLAogICAgICAgICAgICAgICAgdXBCdG5JbWc6ICLlm57liLDpoIHpppblnJbmqJkiLAogICAgICAgICAgICAgICAgZG93bkJ0bkltZzogIuWJjeW+gOmggeWwvuWcluaomSIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlckljb246ICLlgbTpgormrITlnJbmqJkiLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHRUaXRsZTogIuWKoOi8ieS4reaWh+WtlyIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BDdHJsOiAiQ3RybCDpjbUiLAogICAgICAgICAgICAgICAgZGJDbGljazJTdG9wQWx0OiAiQWx0IOmNtSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ0IOmNtSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BNZXRhOiAiTWV0YSDpjbUiLAogICAgICAgICAgICAgICAgZGJDbGljazJTdG9wS2V5OiAi5b+r5o236Y21IiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi6aCB6Z2i5Li76auU5qGG5p6255qE5qij5byPIiwKICAgICAgICAgICAgICAgIGN1c3RvbUNzczogIuiHquWumue+qSBjc3MiLAogICAgICAgICAgICAgICAgZmlyc3RBbGVydDogIuS9oOmChOacquWwjuWFpeimj+WJh+W6q++8jOiri+mBuOaTh+WQiOmBqeeahOimj+WJh+W6q+WwjuWFpeWTpiIsCiAgICAgICAgICAgICAgICBwaWNrZXI6ICLmnbHmlrnmsLjpoIHmqZ/kuLvpq5TlhYPntKDmipPlj5blmagiLAogICAgICAgICAgICAgICAgY2xvc2VQaWNrZXI6ICLpl5zplonmnbHmlrnmsLjpoIHmqZ/mipPlj5blmagiLAogICAgICAgICAgICAgICAgcGlja2VyUGxhY2Vob2xkZXI6ICLlhYPntKDpgbjmk4flmajvvIzmspLmg7Pms5Xlu7rorbDnlZnnqboiLAogICAgICAgICAgICAgICAgcGlja2VyQ2hlY2s6ICLmqqLmn6XkvaDnt6jovK/nmoTpgbjmk4flmajkuKbopIfoo70iLAogICAgICAgICAgICAgICAgc3dpdGNoU2VsZWN0b3I6ICLpu57mk4rliIfmj5vlhYPntKAiLAogICAgICAgICAgICAgICAgZ290b0VkaXQ6ICLkvb/nlKjnlbbliY3nmoTpgbjmk4flmajliY3lvoDnt6jovK/opo/liYciLAogICAgICAgICAgICAgICAgbWFudWFsTW9kZTogIuemgeeUqOaLvOaOpe+8jOaJi+WLleeUqOWPs+aWueWQkemNtee/u+mgge+8jOW3puaWueWQkemNtei/lOWbniIsCiAgICAgICAgICAgICAgICBjbGlja01vZGU6ICLnpoHnlKjmi7zmjqXvvIzmu77li5Xoh7PpoIHlsL7mmYLoh6rli5Xpu57mk4rkuIvkuIDpoIEiLAogICAgICAgICAgICAgICAgcGFnZUJhck1lbnU6ICLpu57mk4rliIbpmpTmop3kuK3plpPlvYjlh7roj5zllq4iLAogICAgICAgICAgICAgICAgbmV4dFN3aXRjaDogIuWIh+aPm+WFtuS7lumggeeivCIsCiAgICAgICAgICAgICAgICBhcnJvd1RvU2Nyb2xsOiAi5bem5pa55ZCR6Y215ru+5YuV6Iez5LiK5LiA6aCB77yM5Y+z5pa55ZCR6Y215ru+5YuV6Iez5LiL5LiA6aCBIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVyOiAi5Zyo5YG06YKK6aGv56S657+76aCB5o6n5Yi25qyEIiwKICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nSWNvbjogIumaseiXj+WKoOi8ieWLleeVqyIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQXJyb3c6ICLpmrHol4/liIbpmpTmop3lrprkvY3nrq3poK0iLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAi5qqi5ris5Yiw5rC46aCB5qmf6YeN6KSH5a6J6KOd77yM6KuL5Yiq6Zmk5YW25LuW6IWz5pys566h55CG5Zmo5Lit55qE5rC46aCB5qmfISIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlSWZyYW1lOiAi5LulIGlmcmFtZSDltYzlhaXmlbTpoIEiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZUR5bmFtaWM6ICLpgJrpgY4gaWZyYW1lIOWKoOi8ieWLleaFi+WFp+WuueW+jOWPluWHuiIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRGlzYWJsZTogIuWcqOatpOermeemgeeUqCIsCiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsUmF0ZTogIua7vuWLlemAn+W6pu+8iDF+MTAwMO+8iSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbDogIuWBnOatouiHquWLlea7vuWLlSIsCiAgICAgICAgICAgICAgICBlbmFibGVBdXRvU2Nyb2xsOiAi6ZaL5ZWf6Ieq5YuV5ru+5YuVIiwKICAgICAgICAgICAgICAgIHRvZ2dsZUF1dG9TY3JvbGw6ICLoh6rli5Xmu77li5Xplovpl5wiLAogICAgICAgICAgICAgICAgcGFnZTogIlBhZ2UgIiwKICAgICAgICAgICAgICAgIHByZXZQYWdlOiAi5LiK5LiA6aCBIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAi5LiL5LiA6aCBIiwKICAgICAgICAgICAgICAgIGVycm9yUnVsZXNNdXN0QmVBcnJheTogIuimj+WJh+W/hemgiOeCuumZo+WIl+W9ouW8jyEiLAogICAgICAgICAgICAgICAgZXJyb3JKc29uOiAiSlNPTiDmoLzlvI/mnInpjK/vvIzoq4vph43mlrDmqqLmn6UhIiwKICAgICAgICAgICAgICAgIGVkaXRTdWNjZXNzOiAi57eo6Lyv5oiQ5YqfIiwKICAgICAgICAgICAgICAgIGVycm9yV3JvbmdVcmw6ICJVUkwg6Yyv6KqkLCDoq4vph43mlrDmqqLmn6UhIiwKICAgICAgICAgICAgICAgIGVycm9yQWxyZWFkeUV4aXN0czogIuW3sue2k+WtmOWcqCEiLAogICAgICAgICAgICAgICAgc2V0dGluZ3NTYXZlZDogIuioree9ruW3suS/neWtmO+8jOWIt+aWsOW+jOeUn+aViCIsCiAgICAgICAgICAgICAgICBpZnJhbWU6ICLlvLfliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgZHluYW1pYzogIuWLleaFi+WKoOi8iSIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAi57eo6Lyv5a6M5oiQ77yM5piv5ZCm56uL5Y2z5Yi35paw6aCB6Z2i77yfIiwKICAgICAgICAgICAgICAgIGNvcGllZDogIuW3suW+qeWItiIsCiAgICAgICAgICAgICAgICBub1ZhbGlkQ29udGVudDogIuaykuacieaqoua4rOWIsOacieaViOWGheWuue+8jOm7nuaTiuafpeeciyIsCiAgICAgICAgICAgICAgICBvdXRPZkRhdGU6ICLohJrmnKzlt7LpgY7mmYLvvIzoq4vlj4rmmYLmm7TmlrDliLDmnIDmlrDniYjmnKzvvIEiLAogICAgICAgICAgICAgICAgaGlkZUJhclRpcHM6ICLpmrHol4/liIbpoIHpmpTmop3vvIzmsonmtbjlvI/pq5TpqZciLAogICAgICAgICAgICAgICAgc2V0Q29uZmlnUGFnZTogIuWwh+eVtuWJjemggemdouioreeCuum7mOiqjemFjee9rumggSIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAi5bCHIHdlZGF0YSDlnLDlnYDmm7TmlLnngrogZ2l0aHViIOWAieW6q+WFp+eahOmPoeWDj+WcsOWdgCIsCiAgICAgICAgICAgICAgICBhZGRPdGhlclByb3A6ICLmt7vliqDopo/liYflsazmgKciLAogICAgICAgICAgICAgICAgYWRkTmV4dFNlbGVjdG9yOiAi5re75Yqg6YG45pOH5Zmo5YWn5a6554K6IG5leHRMaW5rIiwKICAgICAgICAgICAgICAgIGFkZFBhZ2VTZWxlY3RvcjogIua3u+WKoOmBuOaTh+WZqOWFp+WuueeCuiBwYWdlRWxlbWVudCIsCiAgICAgICAgICAgICAgICBwcm9wTmFtZTogIui8uOWFpeimj+WJh+WxrOaAp+WQjSIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLovLjlhaXopo/liYflsazmgKflgLwiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLngrrmnKzlnLDoh6rlrprnvqnopo/liYflv73nlaXnt6nlrZgiLAogICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlOiAi6Ieq5a6a576p6KaP5YmH6Kmz6KejIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJqYSI6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAi44OH44OQ44OD44Kw44Oi44O844OJIiwKICAgICAgICAgICAgICAgIGRpc2FibGU6ICLkuIDmmYLnmoTjgavnhKHlirkiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGU6ICLnhKHlirnnirbmhYvjga7liIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGVUaXBzOiAi44GT44Gu44K144Kk44OI44Gn5pei44Gr54Sh5Yq544Gr44Gq44Gj44Gm44GE44G+44GZIiwKICAgICAgICAgICAgICAgIGVuYWJsZVNpdGVUaXBzOiAi44GT44Gu44K144Kk44OI44Gn5pei44Gr5pyJ5Yq544Gr44Gq44Gj44Gm44GE44G+44GZIiwKICAgICAgICAgICAgICAgIGVuYWJsZTogIuODmuODvOOCuOOCgeOBj+OCiuOCkuacieWKueOBq+OBmeOCiyIsCiAgICAgICAgICAgICAgICB0b1RvcDogIuODiOODg+ODl+OBq+aIu+OCiyIsCiAgICAgICAgICAgICAgICB0b0JvdHRvbTogIuODmuODvOOCuOOBruS4i+mDqOOBq+enu+WLlSIsCiAgICAgICAgICAgICAgICBjdXJyZW50OiAi54++5Zyo44Gu44Oa44O844K4IiwKICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lOiAi5by35Yi244K544OG44OD44OBIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAi5by35Yi244K544OG44OD44OB44KS44Kt44Oj44Oz44K744OrIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogIuioreWumuODmuODvOOCuOOCkumWi+OBjyIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogIuOBk+OBk+OCkuOCr+ODquODg+OCr+OBl+OBpuODq+ODvOODq+OCkuWIneacn+WMluOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICLmm7TmlrDjg6vjg7zjg6siLAogICAgICAgICAgICAgICAgY2xpY2sydXBkYXRlOiAi5LuK44GZ44GQ44Or44O844Or44KS5pu05paw44GX44Gm44GP44Gg44GV44GEIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLku4rjgZnjgZDjg5rjg7zjgrjjgpLjgoHjgY/jgosiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLmlbDjg5rjg7zjgrjjgoHjgY/jgorjgZ/jgYTjgafjgZnjgYvvvJ/vvIgw44Gv6YCU5YiH44KM44Gq44GE77yJIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIuasoeOBruODmuODvOOCuOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk+OAgeaWsOOBl+OBhOODq+ODvOODq+OCkuS9nOaIkOOBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwYXNzU2VjOiAiI3Qj56eS5YmN44Gr5pu05pawIiwKICAgICAgICAgICAgICAgIHBhc3NNaW46ICIjdCPliIbliY3jgavmm7TmlrAiLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICIjdCPmmYLplpPliY3jgavmm7TmlrAiLAogICAgICAgICAgICAgICAgcGFzc0RheTogIiN0I+aXpeWJjeOBq+abtOaWsCIsCiAgICAgICAgICAgICAgICBjYW50RGVsOiAi57WE44G/6L6844G/44Or44O844Or44KS5YmK6Zmk44Gn44GN44G+44Gb44KTIiwKICAgICAgICAgICAgICAgIGNvbmZpcm1EZWw6ICLjgZPjga7jg6vjg7zjg6vjgpLliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ8iLAogICAgICAgICAgICAgICAgdXBkYXRlU3VjYzogIuabtOaWsOOBq+aIkOWKn+OBl+OBvuOBl+OBnyIsCiAgICAgICAgICAgICAgICBiZWdpblVwZGF0ZTogIuabtOaWsOS4reOAgeOBiuW+heOBoeOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAi44Kk44Oz44Od44O844OI44Or44O844Or44GuVVJM44CBMeihjOOBqzHjgaQiLAogICAgICAgICAgICAgICAgY3VzdG9tUnVsZXM6ICLjgJDmnbHmlrnmsLjpoIHmqZ/jgJHjga7lvaLlvI/jgafjgqvjgrnjgr/jg6Djg6vjg7zjg6vjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQgPGEgaHJlZj0nI3QjJz7lr4TnqL/jg6vjg7zjg6s8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLoqK3lrprjgpLkv53lrZgiLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICLlsJHlpbPnpYjnpbfkuK0uLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIuS4jemAj+aYjuWApCIsCiAgICAgICAgICAgICAgICBvcGFjaXR5UGxhY2Vob2xkZXI6ICIwOiDpmqDjgZkiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIuODmuODvOOCuOWMuuWIh+OCiuaWh+Wtl+OCkumdnuihqOekuuOBq+OBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQnV0Tm9TdG9wOiAi6Z2e6KGo56S644Gr44GZ44KL44GM5YGc5q2i44GX44Gq44GEIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIuepuueZvemDqOWIhuOCkuODgOODluODq+OCr+ODquODg+OCr+OBl+OBpuODmuODvOOCuOOCgeOBj+OCiuOCkuS4gOaZguWBnOatouOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBzb3J0VGl0bGU6ICLkuKbjgbnmm7/jgYjjga/jgIHmrKHjga7jg6vjg7zjg6vjga7mm7TmlrDlvozjgavmnInlirnjgavjgarjgorjgb7jgZkiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIuiHquWLleeahOOBq+acieWKuSIsCiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bTogIuaMh+WumuOBl+OBn+ODmuODvOOCuOaVsOOCkuiHquWLleeahOOBq+iqreOBv+i+vOOBv+OBvuOBmSIsCiAgICAgICAgICAgICAgICB0dXJuUmF0ZTogIuODmuODvOOCuOOBruerr+OBi+OCieODmuODvOOCuOOBrumrmOOBleOBruOAkFjjgJHlgI3jgavjgarjgaPjgZ/jgonjg5rjg7zjgrjjgpLjgoHjgY/jgosiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi44K444Oj44Oz44OX44GZ44KL44Oa44O844K455Wq5Y+344KS5YWl5YqbIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLjg5rjg7zjgrjjgoHjgY/jgorlvozjga7lsaXmrbTjgpLmm7jjgY8iLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAi44K544OX44Op44Kk44K344Oz44Kw44Gu55u05b6M44Gr5bGl5q2044Os44Kz44O844OJ44KS5pu444GN6L6844G/44G+44GZ44CC44Gd44KM5Lul5aSW44Gu5aC05ZCI44Gv44CB6Zay6Kan5b6M44Gr5pu444GN6L6844G/44G+44GZIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAiY29udGVudFZpc2liaWxpdHkg44KS6Ieq5YuV55qE44Gr5YiH44KK5pu/44GI44Gm44Os44Oz44OA44Oq44Oz44KwIOODkeODleOCqeODvOODnuODs+OCueOCkuWQkeS4iuOBleOBm+OCiyIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAiV2Vi44Oa44O844K444KS6ZaL44GE44Gf55u05b6M44Gr44Oa44O844K444KS44KB44GP44KLIiwKICAgICAgICAgICAgICAgIHByZWxvYWQ6ICLkuovliY3jgavmrKHjga7jg5rjg7zjgrjjgpLoqq3jgoAiLAogICAgICAgICAgICAgICAgY2xpY2sySW1wb3J0UnVsZTogIuS7peS4i+OCkuOCr+ODquODg+OCr+OBl+OBpuOAgeODq+ODvOODq+ODmeODvOOCueOCkui/veWKoOOBl+OBvuOBme+8miIsCiAgICAgICAgICAgICAgICBmb3JjZUFsbEJvZHk6ICLjg5Xjg6vjg5rjg7zjgrjln4vjgoHovrzjgb/vvJ8iLAogICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiOiAi44K544OX44Op44Kk44K544GV44KM44Gf44Oa44O844K444Gu44Kz44Oz44OG44Oz44OE44KS5paw44GX44GE44Oa44O844K444Gn6ZaL44GN44G+44GZIiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLjgqTjg7Pjg53jg7zjg4jlrozkuoYiLAogICAgICAgICAgICAgICAgaW1wb3J0OiAi44Kk44Oz44Od44O844OIIiwKICAgICAgICAgICAgICAgIGVkaXRDdXJyZW50OiAi54++5Zyo44Gu44Or44O844Or44Gu57eo6ZuGIiwKICAgICAgICAgICAgICAgIGVkaXRCbGFja2xpc3Q6ICLjg5bjg6njg4Pjgq/jg6rjgrnjg4jjga5VUkzjgpLnt6jpm4bjgZfjgIEx6KGM44Ga44Gk44CB44K144Od44O844OIPyAq44Ov44Kk44Or44OJ44Kr44O844OJIiwKICAgICAgICAgICAgICAgIHVwQnRuSW1nOiAi44OI44OD44OX44Ki44Kk44Kz44Oz44Gr5oi744KLIiwKICAgICAgICAgICAgICAgIGRvd25CdG5JbWc6ICLjg5Xjg4Pjgr/jg7zjgqLjgqTjgrPjg7Pjgavnp7vli5UiLAogICAgICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uOiAi44K144Kk44OJ44OQ44O8IOOCouOCpOOCs+ODsyIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAi44OG44Kt44K544OI44KS44Ot44O844OJIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJs44Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEFsdDogIkFsdOOCreODvCIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ044Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRh44Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEtleTogIlNob3J0Y3V044Kt44O8IiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi44Oa44O844K45pys5paH44OV44Os44O844Og44GuIFNUWUxFIiwKICAgICAgICAgICAgICAgIGN1c3RvbUNzczogIuOCq+OCueOCv+ODoCBjc3MiLAogICAgICAgICAgICAgICAgZmlyc3RBbGVydDogIuODq+ODvOODq+ODmeODvOOCueOCkuOCpOODs+ODneODvOODiOOBl+OBpuOBhOOBquOBhOOBn+OCgeOAgeOCpOODs+ODneODvOODiOOBmeOCi+mBqeWIh+OBquODq+ODvOODq+ODmeODvOOCueOCkumBuOaKnuOBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwaWNrZXI6ICJQYWdldHVhbOODmuODvOOCuOimgee0oOODlOODg+OCq+ODvCIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIlBhZ2V0dWFs44OU44OD44Kr44O844KS6ZaJ44GY44KLIiwKICAgICAgICAgICAgICAgIHBpY2tlclBsYWNlaG9sZGVyOiAi44KP44GL44KJ44Gq44GE5aC05ZCI44Gv56m644Gu44G+44G+44Gr44GX44Gm44GP44Gg44GV44GEIiwKICAgICAgICAgICAgICAgIHBpY2tlckNoZWNrOiAi44K744Os44Kv44K/44O844KS44OB44Kn44OD44Kv44GX44Gm44Kz44OU44O8IiwKICAgICAgICAgICAgICAgIHN3aXRjaFNlbGVjdG9yOiAi44Kv44Oq44OD44Kv44GX44Gm6KaB57Sg44KS5YiH44KK5pu/44GI44G+44GZIiwKICAgICAgICAgICAgICAgIGdvdG9FZGl0OiAi54++5Zyo44Gu44K744Os44Kv44K/44O844Gn44Or44O844Or44KS57eo6ZuG44GZ44KLIiwKICAgICAgICAgICAgICAgIG1hbnVhbE1vZGU6ICLjgrnjg5fjg6njgqTjgrfjg7PjgrDjgpLnhKHlirnjgavjgZfjgb7jgZnjgILmiYvli5Xjgaflj7Pjga7nn6LljbDjgq3jg7zjgpLkvb/nlKjjgZfjgabjg5rjg7zjgrjjgpLjgoHjgY/jgorjgb7jgZkiLAogICAgICAgICAgICAgICAgY2xpY2tNb2RlOiAi44K544OG44Kj44OD44OB44Oz44Kw44KS54Sh5Yq544Gr44GX44G+44GZ44CC44Oa44O844K444Gu5pyA5b6M44G+44Gn44K544Kv44Ot44O844Or44GZ44KL44Go44CB5qyh44Gu44Oa44O844K444GM6Ieq5YuV55qE44Gr44Kv44Oq44OD44Kv44GV44KM44G+44GZIiwKICAgICAgICAgICAgICAgIHBhZ2VCYXJNZW51OiAi44Oa44O844K444OQ44O844Gu5Lit5aSu44KS44Kv44Oq44OD44Kv44GX44Gm44Oh44OL44Ol44O844KS44Od44OD44OX44Ki44OD44OX6KGo56S6IiwKICAgICAgICAgICAgICAgIG5leHRTd2l0Y2g6ICLmrKHjga7jg5rjg7zjgrjjgavliIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgYXJyb3dUb1Njcm9sbDogIuW3puefouWNsOOCreODvOOBp+WJjeOBuOOAgeWPs+efouWNsOOCreODvOOBp+asoeOBuCIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlcjogIuOCteOCpOODieODkOODvOOBq+ODmuODvOOCuOODs+OCsCDjgrPjg7Pjg4jjg63jg7zjg6sg44OQ44O844KS6KGo56S644GZ44KLIiwKICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nSWNvbjogIuiqreOBv+i+vOOBv+S4reOBruOCouODi+ODoeODvOOCt+ODp+ODs+OCkumaoOOBmSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQXJyb3c6ICLliIblibLnt5rjga7kvY3nva7nn6LljbDjgpLpmqDjgZkiLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAiUGFnZXR1YWwg44Gu6YeN6KSH44Kk44Oz44K544OI44O844Or44GM5qSc5Ye644GV44KM44G+44GX44Gf44CC5LuW44Gu44K544Kv44Oq44OX44OIIOODnuODjeODvOOCuOODo+OBp+awuOe2mueahOOBquODmuODvOOCuCDjg57jgrfjg7PjgpLliYrpmaTjgZfjgabjgY/jgaDjgZXjgYQhIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVJZnJhbWU6ICJpZnJhbWUg44Gr44Oa44O844K45YWo5L2T44KS5Z+L44KB6L6844KAIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVEeW5hbWljOiAiaWZyYW1lIOe1jOeUseOBp+WLleeahOOCs+ODs+ODhuODs+ODhOOCkuiqreOBv+i+vOOCgCIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRGlzYWJsZTogIuOBk+OBruOCueODhuODvOOCt+ODp+ODs+OBp+OBruODmuODvOOCuOOCgeOBj+OCiuOCkueEoeWKueOBq+OBmeOCiyIsCiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsUmF0ZTogIuOCueOCr+ODreODvOODq+mAn+W6piAoMX4xMDAwKSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbDogIuiHquWLleOCueOCr+ODreODvOODq+OCkuWBnOatouOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBFbmFibGVBdXRvU2Nyb2xsOiAi6Ieq5YuV44K544Kv44Ot44O844Or44KS5pyJ5Yq544Gr44GZ44KLIiwKICAgICAgICAgICAgICAgIHRvZ2dsZUF1dG9TY3JvbGw6ICLoh6rli5Xjgrnjgq/jg63jg7zjg6vjga7liIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgcGFnZTogIlBhZ2UgIiwKICAgICAgICAgICAgICAgIHByZXZQYWdlOiAiUHJldiBwYWdlIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAiTmV4dCBwYWdlIiwKICAgICAgICAgICAgICAgIGVycm9yUnVsZXNNdXN0QmVBcnJheTogIlJ1bGVzIG11c3QgYmUgYSBBcnJheSEiLAogICAgICAgICAgICAgICAgZXJyb3JKc29uOiAiSlNPTiBlcnJvciwgY2hlY2sgYWdhaW4hIiwKICAgICAgICAgICAgICAgIGVkaXRTdWNjZXNzOiAiRWRpdCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogIldyb25nIHVybCwgY2hlY2sgYWdhaW4hIiwKICAgICAgICAgICAgICAgIGVycm9yQWxyZWFkeUV4aXN0czogIkFscmVhZHkgZXhpc3RzISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAiVGhlIHNldHRpbmdzIGFyZSBzYXZlZCwgcmVmcmVzaCB0byB2aWV3IiwKICAgICAgICAgICAgICAgIGlmcmFtZTogIklmcmFtZSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAiRHluYW1pYyIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAiRWRpdCBjb21wbGV0ZWQsIHJlbG9hZCBwYWdlIG5vdz8iLAogICAgICAgICAgICAgICAgY29waWVkOiAiQ29waWVkIiwKICAgICAgICAgICAgICAgIG5vVmFsaWRDb250ZW50OiAi5pyJ5Yq544Gq44Kz44Oz44OG44Oz44OE44GM5qSc5Ye644GV44KM44G+44Gb44KT44Gn44GX44Gf44CC44Kv44Oq44OD44Kv44GX44Gm6KGo56S6IiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIuOCueOCr+ODquODl+ODiOOBjOWPpOOBj+OBquOBo+OBpuOBhOOBvuOBmeOAguacgOaWsOODkOODvOOCuOODp+ODs+OBq+abtOaWsOOBl+OBpuOBj+OBoOOBleOBhOOAgiIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogIuODmuODvOOCuOODjeODvOOCt+ODp+ODsyDjg5Djg7zjgpLpnZ7ooajnpLrjgavjgZfjgb7jgZnjgILmsqHlhaXlnovjgqjjgq/jgrnjg5rjg6rjgqjjg7PjgrkiLAogICAgICAgICAgICAgICAgc2V0Q29uZmlnUGFnZTogIuePvuWcqOOBruODmuODvOOCuOOCkuODh+ODleOCqeODq+ODiOioreWumuODmuODvOOCuOOBqOOBl+OBpuioreWumiIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAid2VkYXRhIOOCouODieODrOOCueOCkiBnaXRodWIg44Km44Kn44Ki44OP44Km44K544Gu44Of44Op44O8IOOCouODieODrOOCueOBq+WkieabtCIsCiAgICAgICAgICAgICAgICBhZGRPdGhlclByb3A6ICLjg6vjg7zjg6vjg5fjg63jg5Hjg4bjgqPjgpLov73liqAiLAogICAgICAgICAgICAgICAgYWRkTmV4dFNlbGVjdG9yOiAi44K744Os44Kv44K/44O844Gu44Kz44Oz44OG44Oz44OE44KSIG5leHRMaW5rIOOBqOOBl+OBpui/veWKoCIsCiAgICAgICAgICAgICAgICBhZGRQYWdlU2VsZWN0b3I6ICLjgrvjg6zjgq/jgr8g44Kz44Oz44OG44Oz44OE44KSIHBhZ2VFbGVtZW50IOOBqOOBl+OBpui/veWKoCIsCiAgICAgICAgICAgICAgICBwcm9wTmFtZTogIuODq+ODvOODq+OBruODl+ODreODkeODhuOCo+WQjeOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLjg6vjg7zjg6vjga7jg5fjg63jg5Hjg4bjgqPlgKTjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLjg63jg7zjgqvjg6vjgqvjgrnjgr/jg6Djg6vjg7zjg6vjga7jgq3jg6Pjg4Pjgrfjg6XjgpLnhKHoppbjgZnjgosiLAogICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlOiAi44Kr44K544K/44Og44Or44O844Or44Gu6Kmz44GX44GE6Kqs5piOIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJydSI6CiAgICAgICAgY2FzZSAicnUtUlUiOgogICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICBlbmFibGVEZWJ1ZzogItCS0LrQu9GO0YfQuNGC0Ywg0L7RgtC70LDQtNC60YMiLAogICAgICAgICAgICAgICAgZGlzYWJsZTogItCS0YvQutC70Y7Rh9C40YLRjCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogItCS0LrQu9GO0YfQuNGC0Ywv0LLRi9C60LvRjtGH0LjRgtGMINC90LAg0YHQsNC50YLQtSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICLQktGL0LrQu9GO0YfQtdC90L4g0LTQu9GPINGN0YLQvtCz0L4g0YHQsNC50YLQsCIsCiAgICAgICAgICAgICAgICBlbmFibGVTaXRlVGlwczogItCS0LrQu9GO0YfQtdC90L4g0LTQu9GPINGN0YLQvtCz0L4g0YHQsNC50YLQsCIsCiAgICAgICAgICAgICAgICBlbmFibGU6ICLQktC60LvRjtGH0LjRgtGMIiwKICAgICAgICAgICAgICAgIHRvVG9wOiAi0J3QsNCy0LXRgNGFIiwKICAgICAgICAgICAgICAgIHRvQm90dG9tOiAi0JLQvdC40LciLAogICAgICAgICAgICAgICAgY3VycmVudDogItCi0LXQutGD0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAiLAogICAgICAgICAgICAgICAgZm9yY2VJZnJhbWU6ICLQn9C+0LTQs9GA0YPQt9C40YLRjCDQtdGJ0ZEg0YHRgtGA0LDQvdC40YbRgyIsCiAgICAgICAgICAgICAgICBjYW5jZWxGb3JjZUlmcmFtZTogItCe0YLQvNC10L3QuNGC0Ywg0L/QvtC00LPRgNGD0LfQutGDIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogItCd0LDRgdGC0YDQvtC50LrQuCIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogItCd0LDQttC80LjRgtC1INC30LTQtdGB0YwsINGH0YLQvtCx0Ysg0LjQvdC40YbQuNCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0L/RgNCw0LLQuNC70LAiLAogICAgICAgICAgICAgICAgdXBkYXRlOiAi0J7QsdC90L7QstC40YLRjCDQv9GA0LDQstC40LvQsCIsCiAgICAgICAgICAgICAgICBjbGljazJ1cGRhdGU6ICLQndCw0LbQvNC40YLQtSwg0YfRgtC+0LHRiyDQvtCx0L3QvtCy0LjRgtGMINC/0YDQsNCy0LjQu9CwIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLQl9Cw0LPRgNGD0LfQuNGC0Ywg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLQodC60L7Qu9GM0LrQviDRgdGC0YDQsNC90LjRhiDQstGLINGF0L7RgtC40YLQtSDQt9Cw0LPRgNGD0LfQuNGC0Yw/ICgwINC+0LfQvdCw0YfQsNC10YIg0LHQtdGB0LrQvtC90LXRh9C90L7RgdGC0YwpIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogItCh0YHRi9C70LrQsCDQvdCwINGB0LvQtdC00YPRjtGJ0YPRjiDRgdGC0YDQsNC90LjRhtGDINC90LUg0L3QsNC50LTQtdC90LAuINCf0L7QttCw0LvRg9C50YHRgtCwLCDRgdC+0LfQtNCw0LnRgtC1INC90L7QstC+0LUg0L/RgNCw0LLQuNC70L4iLAogICAgICAgICAgICAgICAgcGFzc1NlYzogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0YHQtdC60YPQvdC0INC90LDQt9Cw0LQiLAogICAgICAgICAgICAgICAgcGFzc01pbjogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0LzQuNC90YPRgiDQvdCw0LfQsNC0IiwKICAgICAgICAgICAgICAgIHBhc3NIb3VyOiAi0J7QsdC90L7QstC70LXQvdC+ICN0IyDRh9Cw0YHQvtCyINC90LDQt9Cw0LQiLAogICAgICAgICAgICAgICAgcGFzc0RheTogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0LTQvdC10Lkg0L3QsNC30LDQtCIsCiAgICAgICAgICAgICAgICBjYW50RGVsOiAi0J3QtdC70YzQt9GPINGD0LTQsNC70LjRgtGMINC/0YDQsNCy0LjQu9CwINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIiwKICAgICAgICAgICAgICAgIGNvbmZpcm1EZWw6ICLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0YLRgyDRgdGB0YvQu9C60YM/IiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICLQn9GA0LDQstC40LvQsCDQvtCx0L3QvtCy0LvQtdC90YsiLAogICAgICAgICAgICAgICAgYmVnaW5VcGRhdGU6ICLQntCx0L3QvtCy0LvQtdC90LjQtS4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC90LXQvNC90L7Qs9C+INC/0L7QtNC+0LbQtNC40YLQtSIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAi0KHRgdGL0LvQutC4INGBINC/0YDQsNCy0LjQu9Cw0LzQuCDQtNC70Y8g0LjQvNC/0L7RgNGC0LAuINCe0LTQvdCwINGB0YHRi9C70LrQsCDQvdCwINGB0YLRgNC+0LrRgyIsCiAgICAgICAgICAgICAgICBjdXN0b21SdWxlczogItCS0LLQtdC00LjRgtC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNC1INC/0YDQsNCy0LjQu9CwINCyINGE0L7RgNC80LDRgtC1IFBhZ2V0dWFsLiA8YSBocmVmPScjdCMnPtCj0LvRg9GH0YjQuNGC0Ywg0LLRgdGC0YDQvtC10L3QvdGL0LUg0L/RgNCw0LLQuNC70LA8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLQodC+0YXRgNCw0L3QuNGC0Ywg0L3QsNGB0YLRgNC+0LnQutC4IiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAi0KHQu9C10LTRg9GO0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAg0L/QvtC00LPRgNGD0LbQsNC10YLRgdGP4oCmIiwKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICLQn9GA0L7Qt9GA0LDRh9C90L7RgdGC0YwiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMCAtINGB0LrRgNGL0YLRjCIsCiAgICAgICAgICAgICAgICBoaWRlQmFyOiAi0KHQutGA0YvRgtGMINGA0LDQt9C00LXQu9C40YLQtdC70Ywg0YHRgtGA0LDQvdC40YYiLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogItCh0LrRgNGL0YLRjCwg0L3QviDQvdC1INC+0YHRgtCw0L3QsNCy0LvQuNCy0LDRgtGMIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogItCU0LLQvtC50L3QvtC5INC60LvQuNC6INC90LAg0YHRgtGA0LDQvdC40YbQtSDQtNC70Y8g0LLRi9C60LvRjtGH0LXQvdC40Y8iLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAi0J/RgNCw0LLQuNC70L4g0YHQvtGA0YLQuNGA0L7QstC60Lgg0L/RgNC40LzQtdC90LjRgtGB0Y8g0L/QvtGB0LvQtSDRgdC70LXQtNGD0Y7RidC10LPQviDQvtCx0L3QvtCy0LvQtdC90LjRjyDQv9GA0LDQstC40LsiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogItCQ0LLRgtC+0LfQsNC/0YPRgdC6ICjRgNC10LbQuNC8INGH0LXRgNC90L7Qs9C+INGB0L/QuNGB0LrQsCkiLAogICAgICAgICAgICAgICAgYXV0b0xvYWROdW06ICLQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdGC0YDQsNC90LjRhiDQtNC70Y8g0L/RgNC10LTQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIHR1cm5SYXRlOiAi0J/QvtC00LPRgNGD0LfQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgywg0LrQvtCz0LTQsCDQvtC90LAg0LHRg9C00LXRgiDQsiDjgJBY44CRINGA0LDQtyDQsdC+0LvRjNGI0LUg0LLRi9GB0L7RgtGLINGB0YLRgNCw0L3QuNGG0Ysg0L7RgiDQutC+0L3RhtCwINGB0YLRgNCw0L3QuNGG0YsiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi0JLQstC10LTQuNGC0LUg0L3QvtC80LXRgCDRgdGC0YDQsNC90LjRhtGLINC00LvRjyDQv9C10YDQtdGF0L7QtNCwIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLQl9Cw0L/QuNGB0LDRgtGMINC40YHRgtC+0YDQuNGOINC/0L7RgdC70LUg0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0YLRgNCw0L3QuNGGIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnlBZnRlckluc2VydDogItCX0LDQv9C40YHQsNGC0Ywg0LfQsNC/0LjRgdGMINC40YHRgtC+0YDQuNC4INGB0YDQsNC30YMg0L/QvtGB0LvQtSDQstGB0YLQsNCy0LrQuCwg0LjQvdCw0YfQtSDQt9Cw0L/QuNGB0LDRgtGMINC/0L7RgdC70LUg0L/RgNC+0YHQvNC+0YLRgNCwIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAi0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/QtdGA0LXQutC70Y7Rh9Cw0YLRjCBjb250ZW50VmlzaWJpbGl0eSDQtNC70Y8g0L/QvtCy0YvRiNC10L3QuNGPINC/0YDQvtC40LfQstC+0LTQuNGC0LXQu9GM0L3QvtGB0YLQuCDRgNC10L3QtNC10YDQuNC90LPQsCIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAi0J/QvtC00LPRgNGD0LbQsNGC0Ywg0YHRgtGA0LDQvdC40YbRiyDRgdGA0LDQt9GDINC/0L7RgdC70LUg0L7RgtC60YDRi9GC0LjRjyIsCiAgICAgICAgICAgICAgICBwcmVsb2FkOiAi0J/RgNC10LTQt9Cw0LPRgNGD0LfQutCwINGB0LvQtdC00YPRjtGJ0LXQuSDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGNsaWNrMkltcG9ydFJ1bGU6ICLQndCw0LbQvNC40YLQtSwg0YfRgtC+0LHRiyDQuNC80L/QvtGA0YLQuNGA0L7QstCw0YLRjCDQsdCw0LfQvtCy0YvQtSDQv9GA0LDQstC40LvQsDogIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogItCf0YDQuNGB0L7QtdC00LjQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDINGG0LXQu9C40LrQvtC8PyIsCiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWI6ICLQntGC0LrRgNGL0YLRjCDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INGB0YHRi9C70LrQuCDQsiDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC1IiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLQmNC80L/QvtGA0YIg0LfQsNCy0LXRgNGI0LXQvSIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICLQmNC80L/QvtGA0YIiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICLQmNC30LzQtdC90LjRgtGMINC/0YDQsNCy0LjQu9C+INC00LvRjyDRgtC10LrRg9GJ0LXQs9C+INGB0LDQudGC0LAiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogItCY0LfQvNC10L3QuNGC0Ywg0YfQtdGA0L3Ri9C5INGB0L/QuNGB0L7Qui4g0J7QtNC90LAg0YHRgdGL0LvQutCwINC90LAg0YHRgtGA0L7QutGDLiDQn9C+0LTQtNC10YDQttC40LLQsNGO0YLRgdGPINC80LXRgtCw0YHQuNC80LLQvtC70Ys6ID8g0LggKiIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogItCY0LrQvtC90LrQsCDQv9C10YDQtdGF0L7QtNCwINC6INC90LDRh9Cw0LvRgyIsCiAgICAgICAgICAgICAgICBkb3duQnRuSW1nOiAi0JjQutC+0L3QutCwINC/0LXRgNC10YXQvtC00LAg0Log0LrQvtC90YbRgyIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlckljb246ICLQl9C90LDRh9C+0Log0LHQvtC60L7QstC+0Lkg0L/QsNC90LXQu9C4IiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0VGl0bGU6ICLQotC10LrRgdGCINCy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEFsdDogIkFsdCIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ0IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEtleTogItCa0LvQsNCy0LjRiNCwIiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lkg0YHRgtC40LvRjCDQtNC70Y8g0L7RgdC90L7QstC90YvRhSDRjdC70LXQvNC10L3RgtC+0LIg0YHRgtGA0LDQvdC40YbRiyIsCiAgICAgICAgICAgICAgICBjdXN0b21Dc3M6ICLQn9C+0LvQvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40LkgQ1NTIiwKICAgICAgICAgICAgICAgIGZpcnN0QWxlcnQ6ICLQktGLINC90LUg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC70Lgg0LHQsNC30L7QstC+0LUg0L/RgNCw0LLQuNC70L4uINCf0L7QttCw0LvRg9C50YHRgtCwLCDQstGL0LHQtdGA0LjRgtC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQtSDQv9GA0LDQstC40LvQviDQtNC70Y8g0LjQvNC/0L7RgNGC0LAiLAogICAgICAgICAgICAgICAgcGlja2VyOiAiUGFnZXR1YWw6INCy0YvQsdC+0YAg0Y3Qu9C10LzQtdC90YLQsCDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGNsb3NlUGlja2VyOiAi0JfQsNC60YDRi9GC0Ywg0L7QutC90L4gUGFnZXR1YWwiLAogICAgICAgICAgICAgICAgcGlja2VyUGxhY2Vob2xkZXI6ICLQldGB0LvQuCDQvdC1INC30L3QsNC10YLQtSwg0YfRgtC+INGC0YPRgiDQv9C40YHQsNGC0Ywg4oCUINC+0YHRgtCw0LLRjNGC0LUg0L/QvtC70LUg0L/Rg9GB0YLRi9C8IiwKICAgICAgICAgICAgICAgIHBpY2tlckNoZWNrOiAi0J/RgNC+0LLQtdGA0LjRgtGMINC4INGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0YHQtdC70LXQutGC0L7RgCIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogItCd0LDQttC80LjRgtC1INC00LvRjyDQstGL0LHQvtGA0LAg0Y3Qu9C10LzQtdC90YLQsCIsCiAgICAgICAgICAgICAgICBnb3RvRWRpdDogItCf0LXRgNC10LnRgtC4INC6INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y4g0L/RgNCw0LLQuNC70LAg0YEg0YLQtdC60YPRidC40Lwg0YHQtdC70LXQutGC0L7RgNC+0LwiLAogICAgICAgICAgICAgICAgbWFudWFsTW9kZTogItCe0YLQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINC30LDQs9GA0YPQt9C60YMg0YHRgtGA0LDQvdC40YYuINCX0LDQs9GA0YPQttCw0YLRjCDQstGA0YPRh9C90YPRjiDRgSDQv9C+0LzQvtGJ0YzRjiDRgdGC0YDQtdC70LrQuCDQstC/0YDQsNCy0L4gKNC40LvQuCDQstGL0LfQvtCy0LAg0YHQvtCx0YvRgtC40Y8gJ3BhZ2V0dWFsLm5leHQnKSIsCiAgICAgICAgICAgICAgICBjbGlja01vZGU6ICLQntGC0LrQu9GO0YfQuNGC0YwgXCLRgdGI0LjQstCw0L3QuNC1XCIg0YHRgtGA0LDQvdC40YYuINCf0YDQuCDQv9GA0L7QutGA0YPRgtC60LUg0LTQviDQutC+0L3RhtCwINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC/0LXRgNC10YXQvtC00LjRgtGMINC90LAg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgcGFnZUJhck1lbnU6ICLQntGC0LrRgNGL0LLQsNGC0Ywg0LzQtdC90Y4g0LrQu9C40LrQvtC8INC90LAg0YHQtdGA0LXQtNC40L3RgyDQv9Cw0L3QtdC70Lgg0YHRgtGA0LDQvdC40YYiLAogICAgICAgICAgICAgICAgbmV4dFN3aXRjaDogItCf0LXRgNC10LrQu9GO0YfQuNGC0Ywg0YHRgdGL0LvQutGDINC90LAg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgYXJyb3dUb1Njcm9sbDogItCb0LjRgdGC0LDRgtGMINGB0YLRgNCw0L3QuNGG0Ysg0LrQu9Cw0LLQuNGI0LDQvNC4INGB0L4g0YHRgtGA0LXQu9C60LDQvNC4INCy0LvQtdCy0L4g0Lgg0LLQv9GA0LDQstC+IiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVyOiAi0J/QvtC60LDQt9Cw0YLRjCDRgdC/0YDQsNCy0LAg0L/QsNC90LXQu9GMINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0L/QviDQstC60LvQsNC00LrQtSIsCiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0ljb246ICLQodC60YDRi9GC0Ywg0LDQvdC40LzQsNGG0LjRjiDQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogItCh0LrRgNGL0YLRjCDQutC90L7Qv9C60Lgg0L/QtdGA0LXQvNC10YnQtdC90LjRjyDQvdCwINGA0LDQt9C00LXQu9C40YLQtdC70LUiLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAi0J/QvtGF0L7QttC1LCBQYWdldHVhbCDRg9GB0YLQsNC90L7QstC70LXQvSDQvdC10YHQutC+0LvRjNC60L4g0YDQsNC3LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPQtNCw0LvQuNGC0LUgUGFnZXR1YWwg0LjQtyDQtNGA0YPQs9C40YUg0LzQtdC90LXQtNC20LXRgNC+0LIg0YHQutGA0LjQv9GC0L7QsiEiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZUlmcmFtZTogItCS0YHRgtCw0LLQuNGC0Ywg0L/QvtC70L3Rg9GOINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6IGlmcmFtZSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogItCX0LDQs9GA0YPQttCw0YLRjCDQtNC40L3QsNC80LjRh9C10YHQutC40Lkg0LrQvtC90YLQtdC90YIg0YfQtdGA0LXQtyBpZnJhbWUiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZURpc2FibGU6ICLQntGC0LrQu9GO0YfQuNGC0Ywg0L/QtdGA0LXQu9C40YHRgtGL0LLQsNC90LjQtSDRgdGC0YDQsNC90LjRhiDQvdCwINGN0YLQvtC5INGB0YLQsNC90YbQuNC4IiwKICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxSYXRlOiAi0KHQutC+0YDQvtGB0YLRjCDQv9GA0L7QutGA0YPRgtC60LggKDF+MTAwMCkiLAogICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9TY3JvbGw6ICLQntGB0YLQsNC90L7QstC40YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICBlbmFibGVBdXRvU2Nyb2xsOiAi0JLQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICB0b2dnbGVBdXRvU2Nyb2xsOiAi0J/QtdGA0LXQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICBwYWdlOiAi0KHRgtGA0LDQvdC40YbQsCAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICLQn9GA0LXQtNGL0LTRg9GJ0LDRjyDRgdGC0YDQsNC90LjRhtCwIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAi0KHQu9C10LTRg9GO0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAi0J/RgNCw0LLQuNC70LAg0LTQvtC70LbQvdGLINCx0YvRgtGMINC80LDRgdGB0LjQstC+0LwhIiwKICAgICAgICAgICAgICAgIGVycm9ySnNvbjogItCe0YjQuNCx0LrQsCDRgNCw0LfQsdC+0YDQsCBKU09OLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0LjRgdC/0YDQsNCy0YzRgtC1INC10LPQviIsCiAgICAgICAgICAgICAgICBlZGl0U3VjY2VzczogItCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0YPRgdC/0LXRiNC90L4iLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogItCh0YHRi9C70LrQsCDQvdC10LrQvtGA0YDQtdC60YLQvdCwLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0LjRgdC/0YDQsNCy0YzRgtC1INC10ZEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAi0KPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAi0J3QsNGB0YLRgNC+0LnQutC4INGB0L7RhdGA0LDQvdC10L3Riy4g0J7QsdC90L7QstC40YLQtSDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGlmcmFtZTogImlmcmFtZSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAi0JTQuNC90LDQvNC40YfQtdGB0LrQuCIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAi0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQt9Cw0LLQtdGA0YjQtdC90L4uINCe0LHQvdC+0LLQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgz8iLAogICAgICAgICAgICAgICAgY29waWVkOiAi0KHQutC+0L/QuNGA0L7QstCw0L3QviIsCiAgICAgICAgICAgICAgICBub1ZhbGlkQ29udGVudDogItCU0LXQudGB0YLQstC40YLQtdC70YzQvdGL0Lkg0LrQvtC90YLQtdC90YIg0L3QtSDQvtCx0L3QsNGA0YPQttC10L0sINC90LDQttC80LjRgtC1INC00LvRjyDQv9GA0L7RgdC80L7RgtGA0LAiLAogICAgICAgICAgICAgICAgb3V0T2ZEYXRlOiAi0KHQutGA0LjQv9GCINGD0YHRgtCw0YDQtdC7LCDRgdCy0L7QtdCy0YDQtdC80LXQvdC90L4g0L7QsdC90L7QstC70Y/QudGC0LUg0LTQviDQv9C+0YHQu9C10LTQvdC10Lkg0LLQtdGA0YHQuNC4ISIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogItCh0LrRgNGL0YLRjCDQv9Cw0L3QtdC70Ywg0YDQsNC30LHQuNC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbRiywg0LjQvNC80LXRgNGB0LjQstC90YvQuSDQvtC/0YvRgiIsCiAgICAgICAgICAgICAgICBzZXRDb25maWdQYWdlOiAi0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0YLQtdC60YPRidGD0Y4g0YHRgtGA0LDQvdC40YbRgyDQsiDQutCw0YfQtdGB0YLQstC1INGB0YLRgNCw0L3QuNGG0Ysg0LrQvtC90YTQuNCz0YPRgNCw0YbQuNC4INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIiwKICAgICAgICAgICAgICAgIHdlZGF0YTJnaXRodWI6ICLQmNC30LzQtdC90LjRgtGMINCw0LTRgNC10YEgd2VkYXRhINC90LAg0LfQtdGA0LrQsNC70YzQvdGL0Lkg0LDQtNGA0LXRgSDQvdCwINGB0LrQu9Cw0LTQtSBnaXRodWIiLAogICAgICAgICAgICAgICAgYWRkT3RoZXJQcm9wOiAi0JTQvtCx0LDQstC40YLRjCDRgdCy0L7QudGB0YLQstC+INC/0YDQsNCy0LjQu9CwIiwKICAgICAgICAgICAgICAgIGFkZE5leHRTZWxlY3RvcjogItCU0L7QsdCw0LLQuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0YHQtdC70LXQutGC0L7RgNCwINC60LDQuiBuZXh0TGluayIsCiAgICAgICAgICAgICAgICBhZGRQYWdlU2VsZWN0b3I6ICLQlNC+0LHQsNCy0LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INGB0LXQu9C10LrRgtC+0YDQsCDQutCw0LogcGFnZUVsZW1lbnQiLAogICAgICAgICAgICAgICAgcHJvcE5hbWU6ICLQktCy0LXQtNC40YLQtSDQuNC80Y8g0YHQstC+0LnRgdGC0LLQsCDQv9GA0LDQstC40LvQsCIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLQktCy0LXQtNC40YLQtSDQt9C90LDRh9C10L3QuNC1INGB0LLQvtC50YHRgtCy0LAg0L/RgNCw0LLQuNC70LAiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLQmNCz0L3QvtGA0LjRgNC+0LLQsNGC0Ywg0LrQtdGIINC00LvRjyDQu9C+0LrQsNC70YzQvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40YUg0L/RgNCw0LLQuNC7IiwKICAgICAgICAgICAgICAgIHJ1bGVzRXhhbXBsZTogItCf0L7QtNGA0L7QsdC90L7QtSDQvtCx0YrRj9GB0L3QtdC90LjQtSDQvdCw0YHRgtGA0LDQuNCy0LDQtdC80YvRhSDQv9GA0LDQstC40LsiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAiRW5hYmxlIGRlYnVnIG91dHB1dCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlOiAiRGlzYWJsZSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogIlRvZ2dsZSBkaXNhYmxlZCBzdGF0ZSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICJEaXNhYmxlZCBvbiB0aGlzIHNpdGUiLAogICAgICAgICAgICAgICAgZW5hYmxlU2l0ZVRpcHM6ICJFbmFibGVkIG9uIHRoaXMgc2l0ZSIsCiAgICAgICAgICAgICAgICBlbmFibGU6ICJFbmFibGUiLAogICAgICAgICAgICAgICAgdG9Ub3A6ICJUbyBUb3AiLAogICAgICAgICAgICAgICAgdG9Cb3R0b206ICJUbyBCb3R0b20iLAogICAgICAgICAgICAgICAgY3VycmVudDogIkN1cnJlbnQgUGFnZSIsCiAgICAgICAgICAgICAgICBmb3JjZUlmcmFtZTogIkZvcmNlIHRvIGpvaW4gbmV4dCBwYWdlIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAiQ2FuY2VsIEZvcmNlIGpvaW4iLAogICAgICAgICAgICAgICAgY29uZmlndXJlOiAiQ29uZmlndXJlIiwKICAgICAgICAgICAgICAgIGZpcnN0VXBkYXRlOiAiQ2xpY2sgaGVyZSB0byBpbml0aWFsaXplIHRoZSBydWxlcyIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICJVcGRhdGUgb25saW5lIHJ1bGVzIiwKICAgICAgICAgICAgICAgIGNsaWNrMnVwZGF0ZTogIkNsaWNrIHRvIHVwZGF0ZSBydWxlcyBmcm9tIHVybCBub3ciLAogICAgICAgICAgICAgICAgbG9hZE5vdzogIkxvYWQgbmV4dCBwYWdlIG1hbnVhbGx5IiwKICAgICAgICAgICAgICAgIGxvYWRDb25maXJtOiAiSG93IG11Y2ggcGFnZXMgZG8geW91IHdhbnQgdG8gbG9hZD8gKDAgbWVhbnMgaW5maW5pdGUpIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIk5vIG5leHQgbGluayBmb3VuZCwgcGxlYXNlIGNyZWF0ZSBhIG5ldyBydWxlIiwKICAgICAgICAgICAgICAgIHBhc3NTZWM6ICJVcGRhdGVkICN0IyBzZWNvbmRzIGFnbyIsCiAgICAgICAgICAgICAgICBwYXNzTWluOiAiVXBkYXRlZCAjdCMgbWludXRlcyBhZ28iLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICJVcGRhdGVkICN0IyBob3VycyBhZ28iLAogICAgICAgICAgICAgICAgcGFzc0RheTogIlVwZGF0ZWQgI3QjIGRheXMgYWdvIiwKICAgICAgICAgICAgICAgIGNhbnREZWw6ICJDYW4ndCBkZWxldGUgYnVpbGRpbiBydWxlcyIsCiAgICAgICAgICAgICAgICBjb25maXJtRGVsOiAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJ1bGU/IiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICJVcGRhdGUgc3VjY2VlZGVkIiwKICAgICAgICAgICAgICAgIGJlZ2luVXBkYXRlOiAiQmVnaW4gdXBkYXRlLCB3YWl0IGEgbWludXRlIHBsZWFzZSIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAiSW1wb3J0IFBhZ2V0dWFsIG9yIEF1dG9QYWdlcml6ZSBydWxlIHVybCwgT25lIHVybCBwZXIgbGluZSIsCiAgICAgICAgICAgICAgICBjdXN0b21SdWxlczogIklucHV0IGN1c3RvbSBydWxlcyB3aXRoIFtQYWdldHVhbF0gZm9ybWF0LiA8YSBocmVmPScjdCMnPkNvbnRyaWJ1dGUgcnVsZXM8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICJTYXZlIiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAiU2hvam8gTm93IExvYWRpbmcuLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIk9wYWNpdHkiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMDogaGlkZSBzcGFjZXIiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIkhpZGUgdGhlIHBhZ2luZyBzcGFjZXIiLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogIkhpZGUgYnV0IG5vdCBzdG9wIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIkRvdWJsZS1jbGljayBvbiB0aGUgYmxhbmsgc3BhY2UgdG8gcGF1c2UiLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAiU29ydGluZyB0YWtlcyBlZmZlY3QgYWZ0ZXIgdGhlIG5leHQgcnVsZSB1cGRhdGUiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIkF1dG8gcnVuIChibGFjayBsaXN0IG1vZGUpIiwKICAgICAgICAgICAgICAgIGF1dG9Mb2FkTnVtOiAiQW1vdW50IGZvciBwcmVsb2FkIHBhZ2VzIiwKICAgICAgICAgICAgICAgIHR1cm5SYXRlOiAiVHVybiB0aGUgbmV4dCBwYWdlIHdoZW4gaXQncyBsZXNzIHRoYW4g44CQWOOAkSB0aW1lcyBwYWdlIGhlaWdodCBmcm9tIHRoZSBmb290ZXIiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAiRW50ZXIgcGFnZSBudW1iZXIgdG8ganVtcCIsCiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5OiAiV3JpdGUgaGlzdG9yeSBhZnRlciBwYWdlIHR1cm5pbmciLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAiV3JpdGUgaGlzdG9yeSBpbW1lZGlhdGVseSBhZnRlciBzcGxpY2luZywgb3RoZXJ3aXNlIHdyaXRlIGFmdGVyIGJyb3dzaW5nIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAiQXV0b21hdGljYWxseSBzd2l0Y2ggY29udGVudFZpc2liaWxpdHkgdG8gaW1wcm92ZSByZW5kZXJpbmcgcGVyZm9ybWFuY2UiLAogICAgICAgICAgICAgICAgaW5pdFJ1bjogIlR1cm4gcGFnZXMgaW1tZWRpYXRlbHkgYWZ0ZXIgb3BlbmluZyIsCiAgICAgICAgICAgICAgICBwcmVsb2FkOiAiUHJlbG9hZCBuZXh0IHBhZ2UgZm9yIHNwZWVkaW5nIHVwIiwKICAgICAgICAgICAgICAgIGNsaWNrMkltcG9ydFJ1bGU6ICJDbGljayB0byBpbXBvcnQgYmFzZSBydWxlcyBsaW5rLCB0aGVuIHdhaXQgdW50aWwgdGhlIHVwZGF0ZSBpcyBjb21wbGV0ZTogIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogIkpvaW4gZnVsbCBib2R5IG9mIHBhZ2U/IiwKICAgICAgICAgICAgICAgIG9wZW5Jbk5ld1RhYjogIk9wZW4gdXJscyBvZiBhZGRpdGlvbnMgaW4gbmV3IHRhYiIsCiAgICAgICAgICAgICAgICBpbXBvcnRTdWNjOiAiSW1wb3J0IGNvbXBsZXRlZCIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICJJbXBvcnQiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICJFZGl0IHJ1bGUgZm9yIGN1cnJlbnQiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogIkVkaXQgdGhlIGJsYWNrbGlzdCB1cmxzLCBsaW5lIGJ5IGxpbmUsIFN1cHBvcnQgPyAqIGZvciB3aWxkY2FyZCIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogIkljb24gb2YgYmFjayB0byB0b3AiLAogICAgICAgICAgICAgICAgZG93bkJ0bkltZzogIkljb24gb2YgZ28gdG8gZm9vdGVyIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVySWNvbjogIkljb24gb2Ygc2lkZWJhciIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAiTG9hZGluZyB0ZXh0IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIGtleSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BBbHQ6ICJBbHQga2V5IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcFNoaWZ0OiAiU2hpZnQga2V5IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIGtleSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BLZXk6ICJTaG9ydGN1dCBrZXkiLAogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRDc3M6ICJDdXN0b20gc3R5bGUgZm9yIG1haW4gcGFnZSBlbGVtZW50cyIsCiAgICAgICAgICAgICAgICBjdXN0b21Dc3M6ICJDdXN0b20gY29tcGxldGUgY3NzIiwKICAgICAgICAgICAgICAgIGZpcnN0QWxlcnQ6ICJZb3UgaGF2ZSBub3QgaW1wb3J0ZWQgdGhlIGJhc2UgcnVsZSwgcGxlYXNlIHNlbGVjdCB0aGUgYXBwcm9wcmlhdGUgcnVsZSB0byBpbXBvcnQiLAogICAgICAgICAgICAgICAgcGlja2VyOiAiUGFnZXR1YWwgcGFnZSBlbGVtZW50IHBpY2tlciIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIkNsb3NlIFBhZ2V0dWFsIHBpY2tlciIsCiAgICAgICAgICAgICAgICBwaWNrZXJQbGFjZWhvbGRlcjogIkVsZW1lbnQgc2VsZWN0b3IsIExlYXZlIGVtcHR5IGlmIHlvdSBoYXZlIG5vIGlkZWEiLAogICAgICAgICAgICAgICAgcGlja2VyQ2hlY2s6ICJDaGVjayBzZWxlY3RvciBhbmQgY29weSIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogIkNsaWNrIHRvIHN3aXRjaCBlbGVtZW50IiwKICAgICAgICAgICAgICAgIGdvdG9FZGl0OiAiR28gdG8gZWRpdCBydWxlIHdpdGggY3VycmVudCBzZWxlY3RvciIsCiAgICAgICAgICAgICAgICBtYW51YWxNb2RlOiAiRGlzYWJsZSBzcGxpY2luZywgbWFudWFsbHkgdHVybiBwYWdlcyB3aXRoIHRoZSByaWdodCBhcnJvdyBrZXlzIChvciBkaXNwYXRjaCBldmVudCAncGFnZXR1YWwubmV4dCcpIiwKICAgICAgICAgICAgICAgIGNsaWNrTW9kZTogIkRpc2FibGUgc3BsaWNpbmcsIGF1dG9tYXRpY2FsbHkgY2xpY2sgdGhlIG5leHQgcGFnZSB3aGVuIHNjcm9sbGluZyB0byB0aGUgZW5kIG9mIHRoZSBwYWdlIiwKICAgICAgICAgICAgICAgIHBhZ2VCYXJNZW51OiAiQ2xpY2sgdGhlIG1pZGRsZSBvZiB0aGUgcGFnZSBiYXIgdG8gb3BlbiB0aGUgbWVudSIsCiAgICAgICAgICAgICAgICBuZXh0U3dpdGNoOiAiU3dpdGNoIG5leHQgbGluayIsCiAgICAgICAgICAgICAgICBhcnJvd1RvU2Nyb2xsOiAiUHJlc3MgbGVmdCBhcnJvdyBrZXkgdG8gc2Nyb2xsIHByZXYgYW5kIHJpZ2h0IGFycm93IGtleSB0byBzY3JvbGwgbmV4dCIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlcjogIkRpc3BsYXkgdGhlIHBhZ2luZyBjb250cm9sIGJhciBpbiB0aGUgc2lkZWJhciIsCiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0ljb246ICJIaWRlIGxvYWRpbmcgYW5pbWF0aW9uIiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogIkhpZGUgYXJyb3cgZm9yIHBhZ2UgYmFyIiwKICAgICAgICAgICAgICAgIGR1cGxpY2F0ZTogIkR1cGxpY2F0ZSBQYWdldHVhbCBoYXZlIGJlZW4gaW5zdGFsbGVkLCBjaGVjayB5b3VyIHNjcmlwdCBtYW5hZ2VyISIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlSWZyYW1lOiAiRW1iZWQgZnVsbCBwYWdlIGFzIGlmcmFtZSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogIkxvYWQgZHluYW1pYyBjb250ZW50IHZpYSBpZnJhbWUiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZURpc2FibGU6ICJEaXNhYmxlIHBhZ2UgdHVybmluZyBvbiB0aGlzIHNpdGUiLAogICAgICAgICAgICAgICAgYXV0b1Njcm9sbFJhdGU6ICJTY3JvbGwgc3BlZWQgKDF+MTAwMCkiLAogICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9TY3JvbGw6ICJTdG9wIEF1dG8gU2Nyb2xsIiwKICAgICAgICAgICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6ICJFbmFibGUgQXV0byBTY3JvbGwiLAogICAgICAgICAgICAgICAgdG9nZ2xlQXV0b1Njcm9sbDogIlRvZ2dsZSBBdXRvIFNjcm9sbCIsCiAgICAgICAgICAgICAgICBwYWdlOiAiUGFnZSAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICJQcmV2IHBhZ2UiLAogICAgICAgICAgICAgICAgbmV4dFBhZ2U6ICJOZXh0IHBhZ2UiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAiUnVsZXMgbXVzdCBiZSBhIEFycmF5ISIsCiAgICAgICAgICAgICAgICBlcnJvckpzb246ICJKU09OIGVycm9yLCBjaGVjayBhZ2FpbiEiLAogICAgICAgICAgICAgICAgZWRpdFN1Y2Nlc3M6ICJFZGl0IHN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICBlcnJvcldyb25nVXJsOiAiV3JvbmcgdXJsLCBjaGVjayBhZ2FpbiEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAiQWxyZWFkeSBleGlzdHMhIiwKICAgICAgICAgICAgICAgIHNldHRpbmdzU2F2ZWQ6ICJUaGUgc2V0dGluZ3MgYXJlIHNhdmVkLCByZWZyZXNoIHRvIHZpZXciLAogICAgICAgICAgICAgICAgaWZyYW1lOiAiSWZyYW1lIiwKICAgICAgICAgICAgICAgIGR5bmFtaWM6ICJEeW5hbWljIiwKICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2U6ICJFZGl0IGNvbXBsZXRlZCwgcmVsb2FkIHBhZ2Ugbm93PyIsCiAgICAgICAgICAgICAgICBjb3BpZWQ6ICJDb3BpZWQiLAogICAgICAgICAgICAgICAgbm9WYWxpZENvbnRlbnQ6ICJObyB2YWxpZCBjb250ZW50IGRldGVjdGVkLCBjbGljayB0byB2aWV3IiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIlRoZSBzY3JpcHQgaXMgb3V0ZGF0ZWQsIHVwZGF0ZSB0byB0aGUgbGF0ZXN0IHZlcnNpb24gaW4gdGltZSEiLAogICAgICAgICAgICAgICAgaGlkZUJhclRpcHM6ICJIaWRlIHRoZSBwYWdpbmF0aW9uIGJhciwgdG9nZ2xlIGltbWVyc2l2ZSBleHBlcmllbmNlIiwKICAgICAgICAgICAgICAgIHNldENvbmZpZ1BhZ2U6ICJTZXQgY3VycmVudCBwYWdlIGFzIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFnZSIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAiQ2hhbmdlIHRoZSB3ZWRhdGUgYWRkcmVzcyB0byB0aGUgbWlycm9yIGFkZHJlc3MgaW4gdGhlIGdpdGh1YiByZXBvc2l0b3J5IiwKICAgICAgICAgICAgICAgIGFkZE90aGVyUHJvcDogIkFkZCBydWxlIHByb3BlcnR5IiwKICAgICAgICAgICAgICAgIGFkZE5leHRTZWxlY3RvcjogIkFkZCBzZWxlY3RvciBjb250ZW50IGFzIG5leHRMaW5rIiwKICAgICAgICAgICAgICAgIGFkZFBhZ2VTZWxlY3RvcjogIkFkZCBzZWxlY3RvciBjb250ZW50IGFzIHBhZ2VFbGVtZW50IiwKICAgICAgICAgICAgICAgIHByb3BOYW1lOiAiRW50ZXIgcnVsZSBwcm9wZXJ0eSBuYW1lIiwKICAgICAgICAgICAgICAgIHByb3BWYWx1ZTogIkVudGVyIHJ1bGUgcHJvcGVydHkgdmFsdWUiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICJJZ25vcmUgY2FjaGUgZm9yIGxvY2FsIGN1c3RvbSBydWxlcyIsCiAgICAgICAgICAgICAgICBydWxlc0V4YW1wbGU6ICJSdWxlcyBFeGFtcGxlIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIHZhciBlbmFibGVEZWJ1ZyA9IHRydWU7CiAgICBmdW5jdGlvbiBpMThuKG5hbWUsIHBhcmFtKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZ1tuYW1lXSA/IGNvbmZpZ1tuYW1lXS5yZXBsYWNlKCIjdCMiLCBwYXJhbSkgOiBuYW1lOwogICAgfTsKCiAgICBmdW5jdGlvbiBkZWJ1ZyhzdHIsIHRpdGxlKSB7CiAgICAgICAgaWYgKGVuYWJsZURlYnVnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgICAgICAgYCVj44CQUGFnZXR1YWwgdi4ke19HTV9pbmZvLnNjcmlwdC52ZXJzaW9ufeOAkSAke3RpdGxlID8gdGl0bGUgOiAnZGVidWcnfTpgLAogICAgICAgICAgICAgICAgJ2NvbG9yOiB5ZWxsb3c7Zm9udC1zaXplOiBsYXJnZTtmb250LXdlaWdodDogYm9sZDtiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTsnLAogICAgICAgICAgICAgICAgc3RyCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgX0dNX3htbGh0dHBSZXF1ZXN0LCBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCwgX0dNX25vdGlmaWNhdGlvbiwgX0dNX2FkZFN0eWxlLCBfR01fb3BlbkluVGFiLCBfR01faW5mbywgX0dNX3NldENsaXBib2FyZDsKICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01feG1saHR0cFJlcXVlc3QgPSBHTV94bWxodHRwUmVxdWVzdDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS54bWxIdHRwUmVxdWVzdCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV94bWxodHRwUmVxdWVzdCA9IEdNLnhtbEh0dHBSZXF1ZXN0OwogICAgfSBlbHNlIHsKICAgICAgICBfR01feG1saHR0cFJlcXVlc3QgPSAoZikgPT4ge2ZldGNoKGYudXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkudGhlbihkYXRhID0+IHtsZXQgcmVzID0ge3Jlc3BvbnNlOmRhdGF9OyBmLm9ubG9hZChyZXMpfSkuY2F0Y2goZSA9PiBmLm9uZXJyb3IoZSkpfTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5yZWdpc3Rlck1lbnVDb21tYW5kICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQgPSBHTS5yZWdpc3Rlck1lbnVDb21tYW5kOwogICAgfSBlbHNlIHsKICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCA9IChzLCBmKSA9PiB7fTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01faW5mbyAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9pbmZvID0gR01faW5mbzsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5pbmZvICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX2luZm8gPSBHTS5pbmZvOwogICAgfSBlbHNlIHsKICAgICAgICBfR01faW5mbyA9IHtzY3JpcHQ6IHt9fTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fbm90aWZpY2F0aW9uICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX25vdGlmaWNhdGlvbiA9IEdNX25vdGlmaWNhdGlvbjsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5ub3RpZmljYXRpb24gIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01fbm90aWZpY2F0aW9uID0gR00ubm90aWZpY2F0aW9uOwogICAgfSBlbHNlIHsKICAgICAgICBfR01fbm90aWZpY2F0aW9uID0gKHMpID0+IHtzaG93VGlwcyhzKX07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX29wZW5JblRhYiAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9vcGVuSW5UYWIgPSBHTV9vcGVuSW5UYWI7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00ub3BlbkluVGFiICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX29wZW5JblRhYiA9IEdNLm9wZW5JblRhYjsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX29wZW5JblRhYiA9IChzLHQpID0+IHt3aW5kb3cub3BlbihzKX07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX2FkZFN0eWxlID0gR01fYWRkU3R5bGU7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00uYWRkU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01fYWRkU3R5bGUgPSBHTS5hZGRTdHlsZTsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX2FkZFN0eWxlID0gY3NzU3RyID0+IHsKICAgICAgICAgICAgbGV0IHN0eWxlRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICAgICAgc3R5bGVFbGUuaW5uZXJIVE1MID0gY3NzU3RyOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlKTsKICAgICAgICAgICAgcmV0dXJuIHN0eWxlRWxlOwogICAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX3NldENsaXBib2FyZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9zZXRDbGlwYm9hcmQgPSBHTV9zZXRDbGlwYm9hcmQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00uc2V0Q2xpcGJvYXJkICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX3NldENsaXBib2FyZCA9IEdNLnNldENsaXBib2FyZDsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX3NldENsaXBib2FyZCA9IChzLCBpKSA9PiB7fTsKICAgIH0KICAgIGNvbnN0IF91bnNhZmVXaW5kb3cgPSAodHlwZW9mIHVuc2FmZVdpbmRvdyA9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bnNhZmVXaW5kb3c7Ly/lhbzlrrkgaW9zIHVzZXJzY3JpcHRzIOeahOWvq+azlQogICAgY29uc3Qgc3RvcmFnZSA9IHsKICAgICAgICBzdXBwb3J0R006IHR5cGVvZiBHTV9nZXRWYWx1ZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBHTV9nZXRWYWx1ZSgnYScsICdiJykgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgc3VwcG9ydEdNUHJvbWlzZTogdHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5nZXRWYWx1ZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBHTS5nZXRWYWx1ZSgnYScsICdiJykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEdNLmdldFZhbHVlKCdhJywgJ2InKS50aGVuID09ICdmdW5jdGlvbicsCiAgICAgICAgc3VwcG9ydENyb3NzU2F2ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1cHBvcnRHTSB8fCB0aGlzLnN1cHBvcnRHTVByb21pc2U7CiAgICAgICAgfSwKICAgICAgICBteEFwcFN0b3JhZ2U6IChmdW5jdGlvbigpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZXh0ZXJuYWwubXhHZXRSdW50aW1lKCkuc3RvcmFnZTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpLAogICAgICAgIG9wZXJhVUpTU3RvcmFnZTogKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5vcGVyYS5zY3JpcHRTdG9yYWdlOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgfQogICAgICAgIH0pKCksCiAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewogICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0R01Qcm9taXNlKSB7CiAgICAgICAgICAgICAgICBHTS5zZXRWYWx1ZShrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gIiIgJiYgdHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5kZWxldGVWYWx1ZSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIEdNLmRlbGV0ZVZhbHVlKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0R00pIHsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKGtleSwgdmFsdWUpOwogICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAiIiAmJiB0eXBlb2YgR01fZGVsZXRlVmFsdWUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZShrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3BlcmFVSlNTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9wZXJhVUpTU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubXhBcHBTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB0aGlzLm14QXBwU3RvcmFnZS5zZXRDb25maWcoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnZXRJdGVtOiBmdW5jdGlvbihrZXksIGNiKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZTsKICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydEdNUHJvbWlzZSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBHTS5nZXRWYWx1ZShrZXkpLnRoZW4odiA9PiB7Y2Iodil9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRHTSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBHTV9nZXRWYWx1ZShrZXkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3BlcmFVSlNTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMub3BlcmFVSlNTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm14QXBwU3RvcmFnZSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm14QXBwU3RvcmFnZS5nZXRDb25maWcoa2V5KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBjYih2YWx1ZSk7CiAgICAgICAgfQogICAgfTsKICAgIHZhciBydWxlc0RhdGEgPSB7dW5pbml0ZWQ6IHRydWV9LCBydWxlVXJscywgdXBkYXRlRGF0ZTsKICAgIGNvbnN0IGNvbmZpZ1BhZ2UgPSBbImh0dHBzOi8vZ2l0aHViLmNvbS9ob290aGluL1VzZXJTY3JpcHRzL3RyZWUvbWFzdGVyL1BhZ2V0dWFsIiwKICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2hvb3RoaW4uZ2l0aHViLmlvL1VzZXJTY3JpcHRzL1BhZ2V0dWFsLyJdOwogICAgY29uc3QgZ3VpZGVQYWdlID0gL15odHRwcz86XC9cLy4qcGFnZXR1YWwuKnJ1bGVcLmh0bWwvaTsKICAgIGNvbnN0IHJ1bGVJbXBvcnRVcmxSZWcgPSAvZ3JlYXN5Zm9ya1wub3JnXC8uKnNjcmlwdHNcLzQzODY4NChcLVteXC9dKik/KFwvZGlzY3Vzc2lvbnN8XC8/JHxcL2ZlZWRiYWNrKXxnaXRodWJcLmNvbVwvaG9vdGhpblwvVXNlclNjcmlwdHNcLyh0cmVlXC9tYXN0ZXJcL1BhZ2V0dWFsfGlzc3VlcykvaTsKICAgIGNvbnN0IGFsbE9mQm9keSA9ICJib2R5PioiOwogICAgY29uc3QgbWFpblNlbCA9ICJhcnRpY2xlLC5hcnRpY2xlLFtyb2xlPW1haW5dLG1haW4sLm1haW4sI21haW4iOwogICAgY29uc3QgbmV4dFRleHRSZWcxID0gbmV3IFJlZ0V4cCgiXHUwMDVlXHU3ZmZiXHUwMDNmXHUwMDViXHU0ZTBiXHU1NDBlXHU1ZjhjXHU2YjIxXHUwMDVkXHUwMDViXHU0ZTAwXHUzMGZjXHUwMDMxXHUwMDVkXHUwMDNmXHUwMDViXHU5ODc1XHU5ODAxXHU1ZjIwXHU1ZjM1XHUwMDVkXHUwMDdjXHUwMDVlXHUwMDZlXHUwMDY1XHUwMDc4XHUwMDc0XHUwMDViXHUwMDIwXHUwMDVmXHUwMDJkXHUwMDVkXHUwMDNmXHUwMDcwXHUwMDYxXHUwMDY3XHUwMDY1XHUwMDVjXHUwMDczXHUwMDJhXHUwMDViXHUyMDNhXHUwMDNlXHUyMTkyXHUwMGJiXHUwMDVkXHUwMDNmXHUwMDI0XHUwMDdjXHU2YjIxXHUzMDZlXHUzMGRhXHUzMGZjXHUzMGI4XHUwMDdjXHUwMDVlXHU2YjIxXHUzMDc4XHUwMDNmXHUwMDI0XHUwMDdj0JLQv9C10YDQtdC0IiwgImkiKTsKICAgIGNvbnN0IG5leHRUZXh0UmVnMiA9IG5ldyBSZWdFeHAoIlx1MDA1ZVx1MDAyOFx1MDA1Ylx1NGUwYlx1NTQwZVx1NWY4Y1x1NmIyMVx1MDA1ZFx1MDA1Ylx1NGUwMFx1MzBmY1x1MDAzMVx1MDA1ZFx1MDAzZlx1MDA1Ylx1N2FlMFx1OGJkZFx1OGE3MVx1ODI4Mlx1N2JjMFx1NGUyYVx1NTAwYlx1NWU0NVx1MDA1ZFx1MDA3Y1x1MDA2ZVx1MDA2NVx1MDA3OFx1MDA3NFx1MDAyZVx1MDAzZlx1MDA2M1x1MDA2OFx1MDA2MVx1MDA3MFx1MDA3NFx1MDA2NVx1MDA3Mlx1MDAyOVx1MDAyOFx1MDA1Ylx1MDAzYVx1ZmYxYVx1MDA1Y1x1MDA1Y1x1MDAyZFx1MDA1Zlx1MjAxNFx1MDAyMFx1MDA1Y1x1MDA1Y1x1MDAyZVx1MzAwMlx1MDAzZVx1MDAyM1x1MDBiN1x1MDA1Y1x1MDA1Y1x1MDA1Ylx1MzAxMFx1MzAwMVx1ZmYwOFx1MDA1Y1x1MDA1Y1x1MDAyOFx1MDAyZlx1MDAyY1x1ZmYwY1x1ZmYxYlx1MDAzYlx1MDA1ZFx1MDA3Y1x1MDAyNFx1MDAyOSIsICJpIik7CiAgICBjb25zdCBsYXp5SW1nQXR0ciA9IFsiZGF0YS1sYXp5LXNyYyIsICJkYXRhLWxhenkiLCAiZGF0YS11cmwiLCAiZGF0YS1vcmlnLWZpbGUiLCAiem9vbWZpbGUiLCAiZmlsZSIsICJvcmlnaW5hbCIsICJsb2FkLXNyYyIsICJpbWdzcmMiLCAicmVhbF9zcmMiLCAic3JjMiIsICJvcmlnaW4tc3JjIiwgImRhdGEtbGF6eWxvYWQiLCAiZGF0YS1sYXp5bG9hZC1zcmMiLCAiZGF0YS1sYXp5LWxvYWQtc3JjIiwgImRhdGEta3MtbGF6eWxvYWQiLCAiZGF0YS1rcy1sYXp5bG9hZC1jdXN0b20iLCAiZGF0YS1zcmMiLCAiZGF0YS1kZWZlci1zcmMiLCAiZGF0YS1hY3R1YWxzcmMiLCAiZGF0YS1jb3ZlciIsICJkYXRhLW9yaWdpbmFsIiwgImRhdGEtdGh1bWIiLCAiZGF0YS1pbWFnZXVybCIsICJkYXRhLXBsYWNlaG9sZGVyIiwgImxhenlzcmMiXTsKICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oImNvbmZpZ3VyZSIpLCAoKSA9PiB7CiAgICAgICAgX0dNX29wZW5JblRhYihydWxlc0RhdGEuY29uZmlnUGFnZSB8fCBjb25maWdQYWdlWzBdLCB7YWN0aXZlOiB0cnVlfSk7CiAgICB9KTsKICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oImVkaXRDdXJyZW50IiksICgpID0+IHsKICAgICAgICBwaWNrZXIuc3RhcnQoKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGdldEJvZHkoZG9jKSB7CiAgICAgICAgcmV0dXJuIGRvYy5ib2R5IHx8IGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JykgfHwgZG9jOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRCeVhwYXRoKHhwYXRoLCBkb2MsIGNvbnRleHROb2RlKSB7CiAgICAgICAgZG9jID0gZG9jIHx8IGRvY3VtZW50OwogICAgICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBkb2MuZXZhbHVhdGUoeHBhdGgsIGNvbnRleHROb2RlLCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQuc2luZ2xlTm9kZVZhbHVlICYmIHJlc3VsdC5zaW5nbGVOb2RlVmFsdWUubm9kZVR5cGUgPT09IDEgJiYgcmVzdWx0LnNpbmdsZU5vZGVWYWx1ZTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZGVidWcoYEludmFsaWQgeHBhdGg6ICR7eHBhdGh9YCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFsbEVsZW1lbnRzQnlYcGF0aCh4cGF0aCwgY29udGV4dE5vZGUsIGRvYykgewogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgICAgICBjb250ZXh0Tm9kZSA9IGNvbnRleHROb2RlIHx8IGRvYzsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gZG9jLmV2YWx1YXRlKHhwYXRoLCBjb250ZXh0Tm9kZSwgbnVsbCwgWFBhdGhSZXN1bHQuT1JERVJFRF9OT0RFX1NOQVBTSE9UX1RZUEUsIG51bGwpOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5LnNuYXBzaG90TGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBub2RlID0gcXVlcnkuc25hcHNob3RJdGVtKGkpOwogICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHJlc3VsdC5wdXNoKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGRlYnVnKGBJbnZhbGlkIHhwYXRoOiAke3hwYXRofWApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGlzWFBhdGgoeHBhdGgpIHsKICAgICAgICBpZiAoIXhwYXRoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIC9eXCgqKGRlc2NlbmRhbnQ6OnxcLlwvfFwvfGlkXCgpLy50ZXN0KHhwYXRoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRBbGxFbGVtZW50cyhzZWwsIGRvYywgY29udGV4dE5vZGUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIWlzWFBhdGgoc2VsKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgZGVidWcoZSwgJ0Vycm9yIHNlbGVjdG9yJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBnZXRBbGxFbGVtZW50c0J5WHBhdGgoc2VsLCBjb250ZXh0Tm9kZSwgZG9jKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRFbGVtZW50KHNlbCwgZG9jLCBjb250ZXh0Tm9kZSwgYnlTb3J0KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFpc1hQYXRoKHNlbCkpIHsKICAgICAgICAgICAgICAgIGlmICghYnlTb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yKHNlbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBzZWxBcnIgPSBzZWwuc3BsaXQoIiwiKTsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbEFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGRvYy5xdWVyeVNlbGVjdG9yKHNlbEFycltpXS50cmltKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZSkgcmV0dXJuIGVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgZGVidWcoZSwgJ0Vycm9yIHNlbGVjdG9yJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBnZXRFbGVtZW50QnlYcGF0aChzZWwsIGRvYywgY29udGV4dE5vZGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdlbmVTZWxlY3RvcihlbGUsIGFkZElEKSB7CiAgICAgICAgbGV0IHNlbGVjdG9yID0gZWxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgLy9Hb29nbGUgaWQgY2xhc3Ppg73mmK/pmqjmqZ/jgILnmb7luqbmm7TpgY7liIbvvIxzdHlsZSBzY3JpcHTpoIbluo/pg73mmK/pmqjmqZ/nmoQKICAgICAgICBpZiAoc2VsZWN0b3IgIT0gImh0bWwiICYmIHNlbGVjdG9yICE9ICJib2R5IikgewogICAgICAgICAgICBsZXQgaGFzSWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGFkZElEICYmIGVsZS5pZCAmJiAvXlthLXpfXVtcd1wtX10qJC9pLnRlc3QoZWxlLmlkKSkgewogICAgICAgICAgICAgICAgaWYgKGVsZS5vd25lckRvY3VtZW50ICYmIGVsZS5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiMiICsgZWxlLmlkKS5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGhhc0lkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICcjJyArIGVsZS5pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWhhc0lkKSB7CiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gIiI7CiAgICAgICAgICAgICAgICBpZiAoZWxlLmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBjbGFzc0xpc3QgPSBlbGUuY2xhc3NMaXN0LCBpID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IGNsYXNzTGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eW1x3XC1fXSskLy50ZXN0KGMpICYmICEvXGR7NCx9Ly50ZXN0KGMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gJy4nICsgYzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciArPSBjbGFzc05hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gZWxlLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBnZW5lU2VsZWN0b3IocGFyZW50LCBhZGRJRCkgKyAnID4gJyArIHNlbGVjdG9yOwogICAgICAgICAgICAgICAgICAgIGlmICghY2xhc3NOYW1lICYmICFoYXNJZCAmJiBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID4gMSAmJiAhL15IVE1MJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaSwgbnRoID0gMCwgYWxsID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbltpXS5ub2RlTmFtZSA9PSBlbGUubm9kZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGwrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuW2ldID09IGVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudGggPSBhbGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudGggPiAwICYmIGFsbCA+IDEpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9IChhbGwgPT0gMSA/ICIiIDogYDpudGgtb2YtdHlwZSgke250aH0pYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWxlY3RvcjsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVYUGF0aEZyb21FbGVtZW50KGVsbSkgewogICAgICAgIGxldCBhbGxOb2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksIHNlZ3M7CiAgICAgICAgZm9yIChzZWdzID0gW107IGVsbSAmJiBlbG0ubm9kZVR5cGUgPT0gMTsgZWxtID0gZWxtLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgaWYgKC9eKEJPRFl8SFRNTCkkL2kudGVzdChlbG0ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbG0uaGFzQXR0cmlidXRlICYmIGVsbS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHsKICAgICAgICAgICAgICAgIHZhciB1bmlxdWVJZENvdW50ID0gMDsKICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYWxsTm9kZXMubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYWxsTm9kZXNbbl0uaGFzQXR0cmlidXRlKCdpZCcpICYmIGFsbE5vZGVzW25dLmlkID09IGVsbS5pZCkgdW5pcXVlSWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIGlmICh1bmlxdWVJZENvdW50ID4gMSkgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIHVuaXF1ZUlkQ291bnQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHNlZ3MudW5zaGlmdCgnaWQoIicgKyBlbG0uZ2V0QXR0cmlidXRlKCdpZCcpICsgJyIpJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZ3Muam9pbignLycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpICsgJ1tAaWQ9IicgKyBlbG0uZ2V0QXR0cmlidXRlKCdpZCcpICsgJyJdJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxtLmhhc0F0dHJpYnV0ZSAmJiBlbG0uaGFzQXR0cmlidXRlKCdjbGFzcycpKSB7CiAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpICsgJ1tAY2xhc3M9IicgKyBlbG0uZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyJdJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgaSwgc2liOwogICAgICAgICAgICAgICAgZm9yIChpID0gMSwgc2liID0gZWxtLnByZXZpb3VzU2libGluZzsgc2liOyBzaWIgPSBzaWIucHJldmlvdXNTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpYi5sb2NhbE5hbWUgPT0gZWxtLmxvY2FsTmFtZSkgaSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2Vncy51bnNoaWZ0KGVsbS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSArICdbJyArIGkgKyAnXScpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWdzLmxlbmd0aCA/ICcvJyArIHNlZ3Muam9pbignLycpIDogbnVsbDsKICAgIH0KCiAgICBjb25zdCBlc2NhcGVIVE1MUG9saWN5ID0gKF91bnNhZmVXaW5kb3cudHJ1c3RlZFR5cGVzICYmIF91bnNhZmVXaW5kb3cudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSkgPyBfdW5zYWZlV2luZG93LnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ3BhZ2V0dWFsX2RlZmF1bHQnLCB7CiAgICAgICAgY3JlYXRlSFRNTDogKHN0cmluZywgc2luaykgPT4gc3RyaW5nCiAgICB9KSA6IG51bGw7CgogICAgZnVuY3Rpb24gY3JlYXRlSFRNTChodG1sKSB7CiAgICAgICAgcmV0dXJuIGVzY2FwZUhUTUxQb2xpY3kgPyBlc2NhcGVIVE1MUG9saWN5LmNyZWF0ZUhUTUwoaHRtbCkgOiBodG1sOwogICAgfQoKICAgIGNvbnN0IEFzeW5jRnVuY3Rpb24gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24oKXt9KS5jb25zdHJ1Y3RvcjsKCiAgICBhc3luYyBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgIH0sIHRpbWUpOwogICAgICAgIH0pCiAgICB9CgogICAgY2xhc3MgUnVsZVBhcnNlciB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuaHBSdWxlcyA9IFtdOwogICAgICAgICAgICB0aGlzLnNtYXJ0UnVsZXMgPSBbXTsKICAgICAgICAgICAgdGhpcy5jdXN0b21SdWxlcyA9IFtdOwogICAgICAgICAgICB0aGlzLnJ1bGVzID0gW107CiAgICAgICAgICAgIHRoaXMucGFnZURvYyA9IGRvY3VtZW50OwogICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IG51bGw7CiAgICAgICAgICAgIHRoaXMubmV4dFRpdGxlID0gIiI7CiAgICAgICAgICAgIHRoaXMub2xkVXJsID0gIiI7CiAgICAgICAgICAgIHRoaXMuY3VyVXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZSA9IHt9OwogICAgICAgIH0KCiAgICAgICAgaW5pdFNhdmVkUnVsZXMoY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBzdG9yYWdlLmdldEl0ZW0oInNtYXJ0UnVsZXMiLCBzbWFydFJ1bGVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChzbWFydFJ1bGVzKSBzZWxmLnNtYXJ0UnVsZXMgPSBzbWFydFJ1bGVzOwogICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJocFJ1bGVzIiwgaHBSdWxlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhwUnVsZXMpIHNlbGYuaHBSdWxlcyA9IGhwUnVsZXM7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJjdXN0b21SdWxlcyIsIGN1c3RvbVJ1bGVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJ1bGVzKSBzZWxmLmN1c3RvbVJ1bGVzID0gY3VzdG9tUnVsZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgicnVsZXMiLCBydWxlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXMpIHNlbGYucnVsZXMgPSBydWxlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc2F2ZUN1clNpdGVSdWxlKCkgewogICAgICAgICAgICAvKmlmKCF0aGlzLmN1clNpdGVSdWxlIHx8ICF0aGlzLmN1clNpdGVSdWxlLnVybCB8fCB0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCB8fCB0aGlzLmN1clNpdGVSdWxlLnVybC5sZW5ndGg8MTMpcmV0dXJuOwogICAgICAgICAgICB0aGlzLmhwUnVsZXM9dGhpcy5ocFJ1bGVzLmZpbHRlcihpdGVtPT57cmV0dXJuIGl0ZW0mJml0ZW0udXJsIT10aGlzLmN1clNpdGVSdWxlLnVybH0pOwogICAgICAgICAgICB0aGlzLmhwUnVsZXMudW5zaGlmdCh0aGlzLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgaWYodGhpcy5ocFJ1bGVzLmxlbmd0aD4zMCl7CiAgICAgICAgICAgICAgICB0aGlzLmhwUnVsZXMucG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJocFJ1bGVzIiwgdGhpcy5ocFJ1bGVzKTsqLwogICAgICAgIH0KCiAgICAgICAgcmVxdWVzdEpTT04odXJsLCBjYWxsYmFjaykgewogICAgICAgICAgICBfR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXMucmVzcG9uc2UgfHwgcmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUsICdFcnJvciBqc29uJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb24pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmb3JtYXRSdWxlKGl0ZW0sIGZyb20pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSAmJiBpdGVtLmRhdGEudXJsKSB7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgICAgICAgICAgICAgIGFjdGlvbjogaXRlbS5kYXRhLmZvcmNlSWZyYW1lPT0idHJ1ZSI/MTp1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBpdGVtLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiBpdGVtLmRhdGEucGFnZUVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGl0ZW0uZGF0YS5uZXh0TGluaywKICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IGl0ZW0uZGF0YS5pbnNlcnRCZWZvcmV8fHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGl0ZW0udXBkYXRlZF9hdAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxldCBfY3NzID0gKGl0ZW0uZGF0YS5TdHlsdXMgfHwgJycpICsgKGl0ZW0uZGF0YS5DU1MgfHwgJycpOwogICAgICAgICAgICAgICAgaWYgKF9jc3MpIHJlc3VsdC5jc3MgPSBfY3NzOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5ib29rbWFya2xldCkgcmVzdWx0LnBhZ2VBY3Rpb24gPSBpdGVtLmRhdGEuYm9va21hcmtsZXQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaXRlbS5mcm9tID0gZnJvbTsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgYWRkUnVsZUJ5VXJsKHVybCwgZnJvbSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCI/IikgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHVybCA9IHVybCArICI/IiArIERhdGUubm93KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJiIgKyBEYXRlLm5vdygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVxdWVzdEpTT04odXJsLCAoanNvbixlcnIpID0+IHsKICAgICAgICAgICAgICAgIGlmICghanNvbikgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGVyciwgIlVwZGF0ZSAiICsgdXJsICsgIiBydWxlcyBmYWlsISIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRSdWxlcyhqc29uLCBmcm9tKTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb24sIGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYWRkUnVsZXMocnVsZXMsIGZyb20pIHsKICAgICAgICAgICAgaWYgKHJ1bGVzICYmIHJ1bGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IC0xOwogICAgICAgICAgICAgICAgdGhpcy5ydWxlcyA9IHRoaXMucnVsZXMuZmlsdGVyKChpdGVtLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZnJvbSA9PSBmcm9tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCA9PSAtMSkgZmlyc3QgPSBpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoZmlyc3QgPT0gLTEpIGZpcnN0ID0gMDsKICAgICAgICAgICAgICAgIHJ1bGVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGUgPSB0aGlzLmZvcm1hdFJ1bGUoaXRlbSwgZnJvbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlcy5zcGxpY2UoZmlyc3QsIDAsIHJ1bGUpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJ1bGVNYXRjaFByZShyKSB7CiAgICAgICAgICAgIGlmIChyLmluY2x1ZGUpIHsKICAgICAgICAgICAgICAgIGxldCBpbmNsdWRlOwogICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShyLmluY2x1ZGUpKSB7CiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZSA9IHIuaW5jbHVkZS5ldmVyeSgoc2VsLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGUgPSBnZXRFbGVtZW50KHNlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFlbGU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaW5jbHVkZSA9IGdldEVsZW1lbnQoci5pbmNsdWRlLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBpZiAoIWluY2x1ZGUpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoci5leGNsdWRlKSB7CiAgICAgICAgICAgICAgICBsZXQgZXhjbHVkZTsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoci5leGNsdWRlKSkgewogICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGUgPSAhci5leGNsdWRlLmV2ZXJ5KChzZWwsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGdldEVsZW1lbnQoc2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZWxlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGV4Y2x1ZGUgPSBnZXRFbGVtZW50KHIuZXhjbHVkZSwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGUpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJ1bGVNYXRjaFJlYWR5KHIpIHsKICAgICAgICAgICAgbGV0IGZpbmRJbmRleCA9IDA7CiAgICAgICAgICAgIGlmIChyLm5leHRMaW5rICYmIHIubmV4dExpbmsgIT0gMCkgewogICAgICAgICAgICAgICAgbGV0IG5leHRMaW5rU2VsID0gci5uZXh0TGluaywgbmV4dExpbms7CiAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KG5leHRMaW5rU2VsKSkgewogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rID0gIW5leHRMaW5rU2VsLmV2ZXJ5KChzZWwsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGdldEVsZW1lbnQoc2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUpIGZpbmRJbmRleCA9IGk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZWxlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIG5leHRMaW5rID0gZ2V0RWxlbWVudChuZXh0TGlua1NlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKCFuZXh0TGluaykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyLnBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWwgPSByLnBhZ2VFbGVtZW50LCBwYWdlRWxlbWVudDsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkocGFnZUVsZW1lbnRTZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbFtmaW5kSW5kZXhdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRFbGVtZW50KHBhZ2VFbGVtZW50U2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGVtZW50KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHIuaW5zZXJ0KSB7CiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0U2VsID0gci5pbnNlcnQsIGluc2VydDsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoaW5zZXJ0U2VsKSkgewogICAgICAgICAgICAgICAgICAgIGluc2VydFNlbCA9IGluc2VydFNlbFtmaW5kSW5kZXhdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5zZXJ0ID0gZ2V0RWxlbWVudChpbnNlcnRTZWwsIGRvY3VtZW50KTsKICAgICAgICAgICAgICAgIGlmICghaW5zZXJ0KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9pZiAoZmluZEluZGV4ICE9PSAwKSBuZXh0SW5kZXggPSBmaW5kSW5kZXg7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcnVsZU1hdGNoKHIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVsZU1hdGNoUHJlKHIpICYmIHRoaXMucnVsZU1hdGNoUmVhZHkocik7CiAgICAgICAgfQoKICAgICAgICBzY3JvbGxUb1Nob3coc2VsLCBkb2MpIHsKICAgICAgICAgICAgbGV0IGV4Y2x1ZGUgPSBnZXRFbGVtZW50KHNlbCwgZG9jKTsKICAgICAgICAgICAgaWYgKGV4Y2x1ZGUpIHsKICAgICAgICAgICAgICAgIHZhciBhY3R1YWxUb3AgPSBleGNsdWRlLm9mZnNldFRvcDsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZXhjbHVkZS5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGFjdHVhbFRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSBNYXRoLm1heChnZXRCb2R5KGRvYykuc2Nyb2xsSGVpZ2h0LCBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gYWN0dWFsVG9wIC0gMTA7CiAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGFjdHVhbFRvcCAtIDEwOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFjdHVhbFRvcCA8IG1heEhlaWdodCkgewogICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxUb3AgKz0gMjAwOwogICAgICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gYWN0dWFsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGFjdHVhbFRvcDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHdhaXRFbGVtZW50KGRvYywgc2VsQXJyKSB7CiAgICAgICAgICAgIGlmICghc2VsQXJyKSBzZWxBcnIgPSB0aGlzLmN1clNpdGVSdWxlLndhaXRFbGVtZW50OwogICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VsQXJyKSkgewogICAgICAgICAgICAgICAgc2VsQXJyID0gW3NlbEFycl07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGluY2x1ZGVTZWwgPSBzZWxBcnJbMF0udHJpbSgpLCBleGNsdWRlU2VsOwogICAgICAgICAgICBpZiAoc2VsQXJyLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gc2VsQXJyWzFdLnRyaW0oKS5yZXBsYWNlKC9eIS8sICcnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlU2VsLmluZGV4T2YoJyEnKSA9PSAwKSB7CiAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gaW5jbHVkZVNlbC5yZXBsYWNlKC9eIS8sICcnKTsKICAgICAgICAgICAgICAgIGluY2x1ZGVTZWwgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaW5jbHVkZVNlbCkgewogICAgICAgICAgICAgICAgbGV0IGluY2x1ZGUgPSBnZXRFbGVtZW50KGluY2x1ZGVTZWwsIGRvYyk7CiAgICAgICAgICAgICAgICBpZiAoIWluY2x1ZGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRvYyA9PT0gZG9jdW1lbnQpIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAoZXhjbHVkZVNlbCkgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbFRvU2hvdyhleGNsdWRlU2VsLCBkb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkaW5nRGl2Lm9mZnNldFBhcmVudCAmJiB0aGlzLmluc2VydC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0RWxlbWVudChsb2FkaW5nRGl2KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZ2V0UnVsZShjYWxsYmFjaykgewogICAgICAgICAgICBpZihub1J1bGVUZXN0KSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlID0ge307CiAgICAgICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlLnVybCA9IGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lOwogICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgPSB0cnVlOwogICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgNTAwKTsKICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUgJiYgdGhpcy5jdXJTaXRlUnVsZS51cmwgJiYgIXRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCh0aGlzLmN1clNpdGVSdWxlLnVybCwgImkiKTsKICAgICAgICAgICAgICAgIGlmICh1cmxSZWcudGVzdChocmVmKSAmJiB0aGlzLnJ1bGVNYXRjaCh0aGlzLmN1clNpdGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLnBvc3NpYmxlUnVsZSkgewogICAgICAgICAgICAgICAgbGV0IHVybFJlZyA9IG5ldyBSZWdFeHAodGhpcy5wb3NzaWJsZVJ1bGUudXJsLCAiaSIpOwogICAgICAgICAgICAgICAgaWYgKHVybFJlZy50ZXN0KGhyZWYpICYmIHRoaXMucnVsZU1hdGNoKHRoaXMucG9zc2libGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyU2l0ZVJ1bGUgPSB0aGlzLnBvc3NpYmxlUnVsZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlID0ge307CiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFJ1bGUocikgewogICAgICAgICAgICAgICAgaWYgKHNlbGYucHJlU2l0ZVJ1bGUpIHsKICAgICAgICAgICAgICAgICAgICBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCA1MDApOwogICAgICAgICAgICAgICAgICAgIGxldCB1cmxSZWcgPSBuZXcgUmVnRXhwKHNlbGYucHJlU2l0ZVJ1bGUudXJsLCAiaSIpOwogICAgICAgICAgICAgICAgICAgIGlmICh1cmxSZWcudGVzdChocmVmKSAmJiBzZWxmLnJ1bGVNYXRjaChzZWxmLnByZVNpdGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlID0gc2VsZi5wcmVTaXRlUnVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFyLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYuaW5zZXJ0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICBzZWxmLnByZVNpdGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICBpZiAoci5lbmFibGUgIT09IDApIGRlYnVnKHIsICdNYXRjaCBydWxlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxmLmN1clNpdGVSdWxlIHx8ICFzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgc2VsZi5jdXJTaXRlUnVsZSA9IHI7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja1J1bGUocikgewogICAgICAgICAgICAgICAgaWYgKHIuZnJvbSA9PSAxICYmIHIudXJsLmxlbmd0aCA8PSAxMykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgbGV0IHVybFJlZyA9IG5ldyBSZWdFeHAoci51cmwsICJpIik7CiAgICAgICAgICAgICAgICBpZiAodXJsUmVnLnRlc3QoaHJlZikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUHJlKHIpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHIudXJsLmxlbmd0aCA+IDE1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucG9zc2libGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHIud2FpdEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdhaXRUaW1lID0gNTAwOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tSZWFkeSA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi53YWl0RWxlbWVudChkb2N1bWVudCwgci53YWl0RWxlbWVudCkgfHwgIXNlbGYucnVsZU1hdGNoUmVhZHkocikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcGFyc2VJbnQod2FpdFRpbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhyLCAnV2FpdCBmb3IgcnVsZScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHIud2FpdCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2FpdFRpbWUgPSA1MDAsIGNoZWNrRXZhbCwgbWF4Q2hlY2tUaW1lcyA9IDUwOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oci53YWl0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0V2YWwgPSAodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxXYWl0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCcidXNlIHN0cmljdCI7JyArIHIud2FpdCkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsV2FpdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUsICdFcnJvciB3aGVuIGNoZWNrZXZhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSByLndhaXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4Q2hlY2tUaW1lcy0tIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygiV2FpdCBmb3IgcnVsZSByZWFkeSBidXQgZmFpbGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UnVsZShyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUmVhZHkocikgfHwgKGNoZWNrRXZhbCAmJiAhY2hlY2tFdmFsKGRvY3VtZW50KSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcGFyc2VJbnQod2FpdFRpbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhyLCAnV2FpdCBmb3IgcnVsZScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHIucGluVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUmVhZHkocikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZXRSdWxlKHIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0hwUnVsZXMoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHNlbGYuaHBSdWxlcykgewogICAgICAgICAgICAgICAgICAgIGxldCBydWxlID0gc2VsZi5ocFJ1bGVzW2ldOwogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZSB8fCAhcnVsZS51cmwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrUnVsZShydWxlKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrQ3VzdG9tUnVsZXMoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHNlbGYuY3VzdG9tUnVsZXMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IHNlbGYuY3VzdG9tUnVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlIHx8ICFydWxlLnVybCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrUnVsZShydWxlKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChydWxlc0RhdGEuY3VzdG9tRmlyc3QpIHsKICAgICAgICAgICAgICAgIGlmIChjaGVja0N1c3RvbVJ1bGVzKCkpIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChjaGVja0hwUnVsZXMoKSkgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrSHBSdWxlcygpKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAoY2hlY2tDdXN0b21SdWxlcygpKSByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLnNtYXJ0UnVsZXMpIHsKICAgICAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5zbWFydFJ1bGVzW2ldOwogICAgICAgICAgICAgICAgaWYgKCFydWxlIHx8ICFydWxlLnVybCkgY29udGludWU7CiAgICAgICAgICAgICAgICBpZiAocnVsZS5zaW5nbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2xlVXJsID0gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZVVybCA9PSBydWxlLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRSdWxlKHJ1bGUpOwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1clNpdGVSdWxlICYmICFzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc21hcnRSdWxlcyA9IHNlbGYuc21hcnRSdWxlcy5maWx0ZXIoaXRlbSA9PiB7cmV0dXJuIGl0ZW0gJiYgaXRlbS51cmwgIT0gc2luZ2xlVXJsfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgc2VsZi5zbWFydFJ1bGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jdXJTaXRlUnVsZS51cmwubGVuZ3RoID4gMTMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRUb0hwUnVsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgciA9IDA7CiAgICAgICAgICAgIGZ1bmN0aW9uIHNlYXJjaEJ5VGltZSgpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSByICsgNTA7CiAgICAgICAgICAgICAgICAgICAgZW5kID0gZW5kID4gc2VsZi5ydWxlcy5sZW5ndGggPyBzZWxmLnJ1bGVzLmxlbmd0aCA6IGVuZDsKICAgICAgICAgICAgICAgICAgICBmb3IgKDsgciA8IGVuZDsgcisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBydWxlID0gc2VsZi5ydWxlc1tyXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuZnJvbSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5hdXRvTG9hZE51bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBydWxlLmhpc3Rvcnk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5zaWRlQ29udHJvbGxlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnBhZ2VCYXIgPT0gMCkgZGVsZXRlIHJ1bGUucGFnZUJhcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tSdWxlKHJ1bGUpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPj0gc2VsZi5ydWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0UnVsZSh7dXJsOiBsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZSwgc2luZ2xlVXJsOiB0cnVlfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hCeVRpbWUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWFyY2hCeVRpbWUoKTsKICAgICAgICB9CgogICAgICAgIGFkZFRvSHBSdWxlcyhpbnN0ZWFkKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaHBSdWxlcykgdGhpcy5ocFJ1bGVzID0gW107CiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5jdXJTaXRlUnVsZSAmJiB0aGlzLmN1clNpdGVSdWxlLnVybCwgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBsZXQgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgNTAwKTsKICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkUnVsZXMgPSB0aGlzLmhwUnVsZXMuZmlsdGVyKHJ1bGUgPT4gcnVsZSAhPSBzZWxmLmN1clNpdGVSdWxlICYmIG5ldyBSZWdFeHAocnVsZS51cmwsICJpIikudGVzdChocmVmKSAmJiBzZWxmLnJ1bGVNYXRjaChydWxlKSk7CiAgICAgICAgICAgICAgICBpZiAodXJsKSBtYXRjaGVkUnVsZXMucHVzaCh0aGlzLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgICAgIG1hdGNoZWRSdWxlcy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKChhLmluY2x1ZGUgfHwgYS5leGNsdWRlKSAmJiAoIWIuaW5jbHVkZSAmJiAhYi5leGNsdWRlKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYi5pbmNsdWRlIHx8IGIuZXhjbHVkZSkgJiYgKCFhLmluY2x1ZGUgJiYgIWEuZXhjbHVkZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChhLm5leHRMaW5rIHx8IGEucGFnZUVsZW1lbnQpICYmICghYi5uZXh0TGluayAmJiAhYi5wYWdlRWxlbWVudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYi5uZXh0TGluayB8fCBiLnBhZ2VFbGVtZW50KSAmJiAoIWEubmV4dExpbmsgJiYgIWEucGFnZUVsZW1lbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnVybC5sZW5ndGggPiBiLnVybC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGEudXJsLmxlbmd0aCA8IGIudXJsLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5ocFJ1bGVzID0gdGhpcy5ocFJ1bGVzLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAmJiAhbWF0Y2hlZFJ1bGVzLmZpbmQocnVsZSA9PiBpdGVtLnVybCA9PSBydWxlLnVybCAmJiBKU09OLnN0cmluZ2lmeShpdGVtKSA9PSBKU09OLnN0cmluZ2lmeShydWxlKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChpbnN0ZWFkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVybCkgdGhpcy5ocFJ1bGVzLnVuc2hpZnQodGhpcy5jdXJTaXRlUnVsZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaHBSdWxlcyA9IG1hdGNoZWRSdWxlcy5jb25jYXQodGhpcy5ocFJ1bGVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkUnVsZXMgJiYgbWF0Y2hlZFJ1bGVzLmxlbmd0aCkgdGhpcy5jdXJTaXRlUnVsZSA9IG1hdGNoZWRSdWxlc1swXTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmhwUnVsZXMubGVuZ3RoID4gMzApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhwUnVsZXMucG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImhwUnVsZXMiLCB0aGlzLmhwUnVsZXMpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmVwbGFjZUVsZW1lbnQoZG9jKSB7CiAgICAgICAgICAgIGlmICghZG9jIHx8IGRvYyA9PT0gZG9jdW1lbnQpIHJldHVybjsKICAgICAgICAgICAgbGV0IHJlcGxhY2VFbGVtZW50U2VsID0gdGhpcy5jdXJTaXRlUnVsZS5yZXBsYWNlRWxlbWVudDsKICAgICAgICAgICAgaWYgKHJlcGxhY2VFbGVtZW50U2VsKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVwbGFjZUVsZW1lbnRTZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnRTZWwgPSBbcmVwbGFjZUVsZW1lbnRTZWxdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnRTZWwuZm9yRWFjaChzZWwgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlcyA9IGdldEFsbEVsZW1lbnRzKHNlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgIGxldCByZXBsYWNlRWxlcyA9IGdldEFsbEVsZW1lbnRzKHNlbCwgZG9jKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VFbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBsYWNlRWxlID0gcmVwbGFjZUVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlID0gcGFnZUVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlRWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHJlcGxhY2VFbGUuY2xvbmVOb2RlKHRydWUpLCBwYWdlRWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZWZyZXNoQnlDbGljaygpIHsKICAgICAgICAgICAgbGV0IHJlZnJlc2hCeUNsaWNrU2VsID0gdGhpcy5jdXJTaXRlUnVsZS5yZWZyZXNoQnlDbGljazsKICAgICAgICAgICAgaWYgKHJlZnJlc2hCeUNsaWNrU2VsKSB7CiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5yZWZyZXNoaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tFbGVzID0gZ2V0QWxsRWxlbWVudHMocmVmcmVzaEJ5Q2xpY2tTZWwsIGRvY3VtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tFbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrRWxlc1tpXSA9PT0gZS50YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmKSBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBnZXRWYWxpZEhlaWdodChlbGUsIHdpbikgewogICAgICAgICAgICBpZiAoIWVsZS5vZmZzZXRQYXJlbnQpIHJldHVybiAwOwogICAgICAgICAgICBsZXQgaCA9IGVsZS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgIGlmICh3aW4gJiYgd2luLmdldENvbXB1dGVkU3R5bGUoZWxlKS5vdmVyZmxvdyA9PSAiaGlkZGVuIikgewogICAgICAgICAgICAgICAgaCA9IGVsZS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGggPT09IDAgJiYgZWxlLnBhcmVudE5vZGUgJiYgZWxlLnBhcmVudE5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBoID0gZWxlLnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb3JlQ2hpbGQgPSBlbGUuY2hpbGRyZW5bMF0sIG1pbk9mZnNldFRvcCA9IGg7CiAgICAgICAgICAgIHdoaWxlIChtb3JlQ2hpbGQpIHsKICAgICAgICAgICAgICAgIGlmIChtb3JlQ2hpbGQub2Zmc2V0UGFyZW50ID09IGVsZSAmJiBtb3JlQ2hpbGQub2Zmc2V0VG9wIDwgbWluT2Zmc2V0VG9wKSB7CiAgICAgICAgICAgICAgICAgICAgbWluT2Zmc2V0VG9wID0gbW9yZUNoaWxkLm9mZnNldFRvcDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1vcmVDaGlsZCA9IG1vcmVDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1pbk9mZnNldFRvcCAhPSBoICYmIG1pbk9mZnNldFRvcCA+IDApIHsKICAgICAgICAgICAgICAgIGggLT0gbWluT2Zmc2V0VG9wOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBoOwogICAgICAgIH0KCiAgICAgICAgZ2V0UGFnZUVsZW1lbnQoZG9jLCBjdXJXaW4sIGRvbnRGaW5kKSB7CiAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQgJiYgdGhpcy5kb2NQYWdlRWxlbWVudCkgewogICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuZG9jUGFnZUVsZW1lbnQgJiYgdGhpcy5kb2NQYWdlRWxlbWVudFswXTsKICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgJiYgIS9eQk9EWSQvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgL15CT0RZJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1BhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBwYWdlRWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgbGV0IGJvZHkgPSBnZXRCb2R5KGRvYyk7CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWwgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShwYWdlRWxlbWVudFNlbCkpIHsKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudFNlbCA9IHBhZ2VFbGVtZW50U2VsW25leHRJbmRleCA8IHBhZ2VFbGVtZW50U2VsLmxlbmd0aCA/IG5leHRJbmRleCA6IDBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhwYWdlRWxlbWVudFNlbCwgZG9jKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU2VsTWF0Y2ggPSAvPlxzKlwqJC87CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hpbGQgPSBjaGlsZFNlbE1hdGNoLnRlc3QocGFnZUVsZW1lbnRTZWwpOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDaGlsZCkgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbC5yZXBsYWNlKGNoaWxkU2VsTWF0Y2gsICIiKTsKICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWxTcGxpdCA9IHBhZ2VFbGVtZW50U2VsLnNwbGl0KCI+Iik7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUocGFnZUVsZW1lbnRTZWxTcGxpdCAmJiBwYWdlRWxlbWVudFNlbFNwbGl0Lmxlbmd0aCA+IDUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWxTcGxpdC5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFNlbCA9IHBhZ2VFbGVtZW50U2VsU3BsaXQuam9pbigiPiIpOwogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKHRlbXBTZWwsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBwYWdlRWxlbWVudC5jaGlsZHJlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSB0ZW1wU2VsICsgKHRhcmdldENoaWxkID8gIj4qIiA6ICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnQgfHwgcGFnZUVsZW1lbnQubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbC5yZXBsYWNlKC86bnRoLW9mLXR5cGVcKFxkK1wpL2csICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhwYWdlRWxlbWVudFNlbCwgZG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50LmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50U2VsICsgKHRhcmdldENoaWxkID8gIj4qIiA6ICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggJiYgY3VyV2luICYmIGN1cldpbiAhPSBfdW5zYWZlV2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHBhZ2VFbGVtZW50WzBdLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRpbmcgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj1sb2FkaW5nXScpOwogICAgICAgICAgICAgICAgICAgIGlmIChsb2FkaW5nICYmIGxvYWRpbmcub2Zmc2V0UGFyZW50ICYmIGxvYWRpbmcub2Zmc2V0SGVpZ2h0ID4gcGFyZW50Lm9mZnNldEhlaWdodD4+MikgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPT09IDEgJiYgcGFnZUVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IFtib2R5XTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgJiYgcGFnZUVsZW1lbnQgJiYgcGFnZUVsZW1lbnQubGVuZ3RoID4gMCAmJiAvXlRSJC9pLnRlc3QocGFnZUVsZW1lbnRbMF0ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICBsZXQgbWFpblRyID0gdGhpcy5pbnNlcnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCd0cicpLCBtYWluVGROdW0gPSAwLCBuZXdUZE51bSA9IDA7CiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobWFpblRyLmNoaWxkcmVuLCBlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFREfFRIKSQvaS50ZXN0KGVsLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBtYWluVGROdW0gKz0gZWwuY29sU3BhbiB8fCAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHBhZ2VFbGVtZW50WzBdLmNoaWxkcmVuLCBlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFREfFRIKSQvaS50ZXN0KGVsLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdUZE51bSArPSBlbC5jb2xTcGFuIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAobWFpblRkTnVtICE9IG5ld1RkTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFsbE9mQm9keTsKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IFtib2R5XTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEluc2VydCh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoKHRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsIHx8ICF0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50KSAmJiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSAmJiBjdXJXaW4gJiYgIWRvbnRGaW5kKSB7CiAgICAgICAgICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgbGV0IGJvZHlIZWlnaHQgPSBwYXJzZUludChib2R5Lm9mZnNldEhlaWdodCB8fCBib2R5LnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICBsZXQgY3VySGVpZ2h0ID0gYm9keUhlaWdodCwgY3VyV2lkdGggPSAwOwogICAgICAgICAgICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodMKgfHzCoGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgICAgICAgICAgICBsZXQgbmVlZENoZWNrTmV4dCA9IChkb2MgPT0gZG9jdW1lbnQgJiYgdGhpcy5pbml0TmV4dCksIG5leHRMZWZ0UG9zID0gMDsKICAgICAgICAgICAgICAgIGlmIChuZWVkQ2hlY2tOZXh0ICYmIHRoaXMuaW5pdE5leHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dExlZnRQb3MgPSB0aGlzLmluaXROZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja0VsZW1lbnQoZWxlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFBSRXxDT0RFKSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGdlbmVTZWxlY3RvcihlbGUucGFyZW50Tm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsICdQYWdlIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbGUucGFyZW50Tm9kZV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4gJiYgZWxlLmNoaWxkcmVuLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoYXNUZXh0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gZWxlLmNoaWxkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGVsZS5jaGlsZE5vZGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMgJiYgY2hpbGQubm9kZVZhbHVlLnRyaW0oKSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1RleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZSA9IGVsZS5jaGlsZHJlblswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckhlaWdodCA9IHNlbGYuZ2V0VmFsaWRIZWlnaHQoZWxlLCBjdXJXaW4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyV2lkdGggPSBwYXJzZUludChlbGUub2Zmc2V0V2lkdGggfHwgZWxlLnNjcm9sbFdpZHRoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoL15QSUNUVVJFJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSB8fCAhZWxlLmlubmVyVGV4dCB8fCBlbGUuaW5uZXJUZXh0LnRyaW0oKSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gZ2VuZVNlbGVjdG9yKGVsZS5wYXJlbnROb2RlKSArICI+IiArIGVsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckhlaWdodCAvIGJvZHlIZWlnaHQgPD0gMC4yMikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJ0aWNsZSA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKG1haW5TZWwpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJ0aWNsZSAmJiBhcnRpY2xlLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlID0gYXJ0aWNsZVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBhcnRpY2xlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKyAoYXJ0aWNsZS5pZCA/ICIjIiArIGFydGljbGUuaWQgOiAiIikgKyAoYXJ0aWNsZS5jbGFzc05hbWUgPyAiLiIgKyBhcnRpY2xlLmNsYXNzTmFtZS5yZXBsYWNlKC8gL2csICIuIikgOiAiIikgKyAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCwgJ1BhZ2UgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFydGljbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFsbE9mQm9keTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCwgJ1BhZ2UgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2JvZHldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoL15GT1JNJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSAmJiBlbGUucGFyZW50Tm9kZSAhPSBnZXRCb2R5KGRvY3VtZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gZ2VuZVNlbGVjdG9yKGVsZSkgKyAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiYgIXNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eUCQvaS50ZXN0KGVsZS5wYXJlbnROb2RlLm5vZGVOYW1lKSkgZWxlID0gZWxlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBnZW5lU2VsZWN0b3IoZWxlLnBhcmVudE5vZGUpICsgIj4iICsgZWxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsICdQYWdlIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEVsZW1lbnRzKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBpLCBtaW5IZWlnaHQgPSBjdXJIZWlnaHQgKiAwLjUyLCBjdXJNYXhFbGUgPSBudWxsLCBjdXJNYXhBcmVhID0gMCwgbWluV2lkdGggPSBNYXRoLm1pbihjdXJXaWR0aCAqIDAuMzgsIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlzSG9yaSwgcHJlT2Zmc2V0VG9wID0gLTE7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFydGljbGVOdW0gPSAwOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGUgPSBlbGUuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXihDQU5WQVN8TkFWKSQvaS50ZXN0KGN1ck5vZGUubm9kZU5hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJOb2RlLm9mZnNldFBhcmVudCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghL15JTUckL2kudGVzdChjdXJOb2RlLm5vZGVOYW1lKSAmJiBjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpID09IG51bGwgJiYgL15ccyokLy50ZXN0KGN1ck5vZGUuaW5uZXJUZXh0KSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkQ2hlY2tOZXh0ICYmICFjdXJOb2RlLmNvbnRhaW5zKHNlbGYuaW5pdE5leHQpICYmIGdldEVsZW1lbnRUb3AoY3VyTm9kZSkgPiB3aW5kb3dIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXkFSVElDTEUkL2kudGVzdChjdXJOb2RlLm5vZGVOYW1lKSkgYXJ0aWNsZU51bSsrOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaCA9IHNlbGYuZ2V0VmFsaWRIZWlnaHQoY3VyTm9kZSwgY3VyV2luKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSBjdXJOb2RlLnNjcm9sbFdpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaCkgfHwgaXNOYU4odykpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpc0hvcmkgPSBNYXRoLmFicyhwcmVPZmZzZXRUb3AgLSBjdXJOb2RlLm9mZnNldFRvcCkgPD0gMjAgPyB0cnVlIDogKHByZU9mZnNldFRvcCA9PSAtMSAmJiBjdXJOb2RlLm5leHRFbGVtZW50U2libGluZyAmJiBjdXJOb2RlLm5leHRFbGVtZW50U2libGluZy5vZmZzZXRUb3AgPT0gY3VyTm9kZS5vZmZzZXRUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpICYmIGggPD0gNTApIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpICYmIG5leHRMZWZ0UG9zICYmIGN1ck1heEVsZSAmJiBjdXJXaWR0aCA+IDUwMCAmJiBjdXJIZWlnaHQgPiA1MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJSZWN0ID0gY3VyTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJSZWN0LmxlZnQgPD0gbmV4dExlZnRQb3MgJiYgY3VyUmVjdC5yaWdodCA+IG5leHRMZWZ0UG9zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBoICogdywgbW9yZUNoaWxkID0gY3VyTm9kZS5jaGlsZHJlblswXTsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1vcmVDaGlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoID0gc2VsZi5nZXRWYWxpZEhlaWdodChtb3JlQ2hpbGQsIGN1cldpbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3cgPSBtb3JlQ2hpbGQuc2Nyb2xsV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA8IGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGNoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vcmVDaGlsZC5pbm5lclRleHQgIT0gIiIgJiYgY2ggJiYgY3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhICs9IGNoICogY3c7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlQ2hpbGQgPSBtb3JlQ2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc01heCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTWF4RWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cldpZHRoIDwgdykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01heCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJXaWR0aCA8IHcgKyAzMDAgJiYgY3VyTWF4QXJlYSA8IGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUgJiYgY3VyTWF4RWxlLm9mZnNldFBhcmVudCA9PSBjdXJOb2RlLm9mZnNldFBhcmVudCAmJiBjdXJNYXhFbGUub2Zmc2V0VG9wID09IGN1ck5vZGUub2Zmc2V0VG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1heEFyZWEgKiAyID4gYSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01heCA9IGN1ck1heEFyZWEgPCBhOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUgPT0gbnVsbCB8fCBpc01heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSG9yaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgbWluV2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGggPCBtaW5IZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5lZWRDaGVja05leHQgfHwgaCA8ICh3aW5kb3dIZWlnaHQ+PjIpIHx8ICFlbGUuY29udGFpbnMoc2VsZi5pbml0TmV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySGVpZ2h0ID0gaDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck1heEFyZWEgPSBhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyV2lkdGggPSB3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTWF4RWxlID0gY3VyTm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZU9mZnNldFRvcCA9IGN1ck5vZGUub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbWVDbGFzc051bSA9IDAsIGhhc0RpZmZlcmVudCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTWF4RWxlLmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgZWxlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGUgPSBlbGUuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1heEVsZSAhPSBjdXJOb2RlICYmIGN1ck5vZGUuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIGN1ck1heEVsZS5jbGFzc05hbWUgPT0gY3VyTm9kZS5jbGFzc05hbWUgJiYgY3VyTWF4RWxlLm5vZGVOYW1lID09IGN1ck5vZGUubm9kZU5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1lQ2xhc3NOdW0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ck1heEVsZS5jbGFzc05hbWUgIT0gY3VyTm9kZS5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRGlmZmVyZW50ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhbWVDbGFzc051bSA8IDIgfHwgKHNhbWVDbGFzc051bSA8IDUgJiYgaGFzRGlmZmVyZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrRWxlbWVudChjdXJNYXhFbGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUucGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGggPT0gMSAmJiBjdXJXaW4uZ2V0Q29tcHV0ZWRTdHlsZShlbGUucGFyZW50Tm9kZSkuZmxvYXQgPT0gJ25vbmUnKSBlbGUgPSBlbGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXihQfEJSfFREKSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIGVsZSA9IGVsZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eVEJPRFkkL2kudGVzdChlbGUubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBnZW5lU2VsZWN0b3IoZWxlKSArICI+KiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiBlbGUuY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigidGgiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiOm5vdCg6Zmlyc3QtY2hpbGQpIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBpbWdzID0gZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbWdzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSBpbWdzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLm9mZnNldFdpZHRoID4gZWxlLm9mZnNldFdpZHRoIC8gMyAqIDIgJiYgaW1nLm9mZnNldEhlaWdodCA+IGVsZS5vZmZzZXRIZWlnaHQgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBpbWc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGdlbmVTZWxlY3RvcihlbGUpOwogICAgICAgICAgICAgICAgICAgIGxldCBwZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChlbGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFTdHlsZSA9IGN1cldpbi5nZXRDb21wdXRlZFN0eWxlKGVsZS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhRGlzcGxheSA9IHBhU3R5bGUuZGlzcGxheTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhT3ZlcmZsb3cgPSBwYVN0eWxlLm92ZXJmbG93OwogICAgICAgICAgICAgICAgICAgICAgICBwZiA9IHBhRGlzcGxheS5pbmRleE9mKCdmbGV4JykgIT09IC0xIHx8IHBhRGlzcGxheS5pbmRleE9mKCdncmlkJykgIT09IC0xIHx8IHBhT3ZlcmZsb3cgPT0gImhpZGRlbiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBjdXJTdHlsZSA9IGN1cldpbi5nZXRDb21wdXRlZFN0eWxlKGVsZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5jaGlsZHJlbi5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnRpY2xlTnVtID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiPmFydGljbGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gZWxlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc1RleHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gZWxlLmNoaWxkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSBlbGUuY2hpbGROb2Rlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMyAmJiBjaGlsZC5ub2RlVmFsdWUudHJpbSgpICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncmlkQXJlYSA9IGN1clN0eWxlLmdyaWRBcmVhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQXJlYSAmJiBncmlkQXJlYSAhPSAiYXV0byAvIGF1dG8gLyBhdXRvIC8gYXV0byIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pZGRsZUNoaWxkID0gZWxlLmNoaWxkcmVuW3BhcnNlSW50KGVsZS5jaGlsZHJlbi5sZW5ndGggLyAyKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHlsZS5kaXNwbGF5ID09PSAnZmxleCcgfHwgKHJ1bGVzRGF0YS5vcGFjaXR5ICE9IDAgJiYgIXBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKG1pZGRsZUNoaWxkLnN0eWxlICYmIG1pZGRsZUNoaWxkLnN0eWxlLnBvc2l0aW9uID09PSAiYWJzb2x1dGUiICYmIG1pZGRsZUNoaWxkLnN0eWxlLmxlZnQgJiYgbWlkZGxlQ2hpbGQuc3R5bGUudG9wKSB8fCAvXlVMJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSB8fCBjdXJIZWlnaHQgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ICs9ICI+KiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBmIHx8IGN1clN0eWxlLnBvc2l0aW9uID09PSAiYWJzb2x1dGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgKz0gIj4qIjsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gZWxlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZSA9IFtlbGVdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50ID0gY2hlY2tFbGVtZW50KGJvZHkpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIHBhZ2VFbGVtZW50Lmxlbmd0aCA+IDAgJiYgc2VsZi5pbml0TmV4dCkgewogICAgICAgICAgICAgICAgICAgIGxldCBsYXN0Qm90dG9tID0gZ2V0RWxlbWVudEJvdHRvbShwYWdlRWxlbWVudFtwYWdlRWxlbWVudC5sZW5ndGggLSAxXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCb3R0b20gJiYgZ2V0RWxlbWVudFRvcChzZWxmLmluaXROZXh0KSAtIGxhc3RCb3R0b20gPiAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIHRvbyBsb25nIGJldHdlZW4gbmV4dCAmIHBhZ2UgZWxlbWVudCIpOwogICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1lbnQubGVuZ3RoID09IDEgJiYgL15JTUckL2kudGVzdChwYWdlRWxlbWVudFswXS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUJhciA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL2lmKHBhZ2VFbGVtZW50KXRoaXMuc2F2ZUN1clNpdGVSdWxlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkb2MgIT09IGRvY3VtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLnNldFBhZ2VFbGVtZW50Q3NzKHBhZ2VFbGVtZW50KTsKICAgICAgICAgICAgICAgIHRoaXMubGF6eUltZ0FjdGlvbihwYWdlRWxlbWVudCk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckVsZXMoZG9jLCBwYWdlRWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jUGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFnZUVsZW1lbnRDc3MocGFnZUVsZW1lbnQsIHRydWUpOwogICAgICAgICAgICAgICAgdGhpcy5kb2NQYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJFbGVzKGRvYywgcGFnZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dExpbmtIcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWIocGFnZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RWxlID0gcGFnZUVsZW1lbnQubGVuZ3RoID4gMSA/IHBhZ2VFbGVtZW50WzBdLnBhcmVudE5vZGUgOiBwYWdlRWxlbWVudFswXTsKICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IHRhcmdldEVsZS5xdWVyeVNlbGVjdG9yKCJ2aWRlbyxpZnJhbWVbaWQqPXBsYXldLFtpZCo9cGxheV0+aWZyYW1lLGlmcmFtZVtzcmMqPXBsYXllcl0saWZyYW1lW3NyYyo9bTN1OF0iKTsKICAgICAgICAgICAgICAgIGlmICh2aWRlbyAmJiBkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW8ub2Zmc2V0UGFyZW50ICYmIHZpZGVvLm5hbWUgIT0gJ3BhZ2V0dWFsLWlmcmFtZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFdpZHRoID0gdmlkZW8uc2Nyb2xsV2lkdGggfHwgdmlkZW8ub2Zmc2V0V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSB2aWRlby5zY3JvbGxIZWlnaHQgfHwgdmlkZW8ub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL0lGUkFNRS9pLnRlc3QodmlkZW8ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsV2lkdGggPiAxMDAgJiYgc2Nyb2xsSGVpZ2h0ID4gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aMKgfHzCoGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHTCoHx8wqBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbFdpZHRoID4gd2luV2lkdGg+PjEgJiYgc2Nyb2xsSGVpZ2h0ID4gd2luSGVpZ2h0Pj4xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoIkRpc2FibGUgd2hlbiBsYXJnZSBtZWRpYSBmb3VuZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHZpZGVvKSB7CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckFkZGVkRWxlbWVudHMoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcGFnZUVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICBjaGFuZ2VWaXNpYmlsaXR5KCkgewogICAgICAgICAgICBsZXQgY29udGVudFZpc2liaWxpdHkgPSB0aGlzLmN1clNpdGVSdWxlLmNvbnRlbnRWaXNpYmlsaXR5IHx8IHJ1bGVzRGF0YS5jb250ZW50VmlzaWJpbGl0eTsKICAgICAgICAgICAgaWYgKCFjb250ZW50VmlzaWJpbGl0eSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIXRoaXMuY2hhbmdpbmdWaXNpYmlsaXR5KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jaGFuZ2VWaXNpYmlsaXR5VGltZXIpOwogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWaXNpYmlsaXR5VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5naW5nVmlzaWJpbGl0eSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWaXNpYmlsaXR5KCk7CiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY2hhbmdpbmdWaXNpYmlsaXR5ID0gZmFsc2U7CiAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmlsaXR5SXRlbXMgfHwgIXRoaXMudmlzaWJpbGl0eUl0ZW1zLmxlbmd0aCB8fCB0aGlzLnZpc2libGVJbmRleCA8IDApIHJldHVybjsKICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IHRoaXMudmlzaWJsZUluZGV4LCBmaW5kVmlzaWJsZSA9IGZhbHNlLCBsYXN0VmlzaWJsZSA9IDA7CiAgICAgICAgICAgIGxldCB2aWV3UG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGdldEJvZHkoZG9jdW1lbnQpLmNsaWVudEhlaWdodDsKICAgICAgICAgICAgbGV0IGNoZWNrSXRlbSA9IHRoaXMudmlzaWJpbGl0eUl0ZW1zW3RlbXBJbmRleF07CiAgICAgICAgICAgIHdoaWxlKGNoZWNrSXRlbSkgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrSXRlbS5vZmZzZXRQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrSXRlbS5zdHlsZS5jb250YWluSW50cmluc2ljU2l6ZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGxldCBjbGllbnRSZWN0ID0gY2hlY2tJdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGxldCB0b3AgPSBjbGllbnRSZWN0ICYmIGNsaWVudFJlY3QudG9wOwogICAgICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSBjbGllbnRSZWN0ICYmIGNsaWVudFJlY3QuYm90dG9tOwogICAgICAgICAgICAgICAgICAgIGlmIChib3R0b20gPiAwICYmIHRvcCA8IHZpZXdQb3J0SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZFZpc2libGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlID0gdGVtcEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSXRlbS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9wIDwgdmlld1BvcnRIZWlnaHQgJiYgY2hlY2tJdGVtLnN0eWxlLmNvbnRlbnRWaXNpYmlsaXR5ID09ICJhdXRvIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjaGVja0l0ZW0uc3R5bGUuY29udGVudFZpc2liaWxpdHkgPSAiYXV0byI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRlbXBJbmRleCA9PSAwKSBicmVhazsKICAgICAgICAgICAgICAgIHRlbXBJbmRleC0tOwogICAgICAgICAgICAgICAgY2hlY2tJdGVtID0gdGhpcy52aXNpYmlsaXR5SXRlbXNbdGVtcEluZGV4XTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZW1wSW5kZXggPSB0aGlzLnZpc2libGVJbmRleCArIDE7CiAgICAgICAgICAgIGlmIChmaW5kVmlzaWJsZSkgewogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlSW5kZXggPSBsYXN0VmlzaWJsZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjaGVja0l0ZW0gPSB0aGlzLnZpc2liaWxpdHlJdGVtc1t0ZW1wSW5kZXhdOwogICAgICAgICAgICB3aGlsZShjaGVja0l0ZW0pIHsKICAgICAgICAgICAgICAgIGlmIChjaGVja0l0ZW0ub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja0l0ZW0uc3R5bGUuY29udGFpbkludHJpbnNpY1NpemUpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBsZXQgY2xpZW50UmVjdCA9IGNoZWNrSXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gY2xpZW50UmVjdCAmJiBjbGllbnRSZWN0LnRvcDsKICAgICAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gY2xpZW50UmVjdCAmJiBjbGllbnRSZWN0LmJvdHRvbTsKICAgICAgICAgICAgICAgICAgICBpZiAoYm90dG9tID4gMCAmJiB0b3AgPCB2aWV3UG9ydEhlaWdodCkgewogICAgICAgICAgICAgICAgICAgICAgICBmaW5kVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlID0gdGVtcEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0l0ZW0uc3R5bGUuY29udGVudFZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmRWaXNpYmxlICYmIGNoZWNrSXRlbS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9PSAiYXV0byIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2hlY2tJdGVtLnN0eWxlLmNvbnRlbnRWaXNpYmlsaXR5ID0gImF1dG8iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0ZW1wSW5kZXggPT0gdGhpcy52aXNpYmlsaXR5SXRlbXMubGVuZ3RoIC0gMSkgYnJlYWs7CiAgICAgICAgICAgICAgICB0ZW1wSW5kZXgrKzsKICAgICAgICAgICAgICAgIGNoZWNrSXRlbSA9IHRoaXMudmlzaWJpbGl0eUl0ZW1zW3RlbXBJbmRleF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGZpbmRWaXNpYmxlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVJbmRleCA9IGxhc3RWaXNpYmxlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzZXRQYWdlRWxlbWVudENzcyhwYWdlRWxlbWVudCwgaW5pdCkgewogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRDc3MgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50Q3NzIHx8IHJ1bGVzRGF0YS5wYWdlRWxlbWVudENzczsKICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnRDc3MgJiYgaW5pdCAmJiAhdGhpcy5uZXh0TGlua0hyZWYpIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCBjb250ZW50VmlzaWJpbGl0eSA9IHRoaXMuY3VyU2l0ZVJ1bGUuY29udGVudFZpc2liaWxpdHkgfHwgcnVsZXNEYXRhLmNvbnRlbnRWaXNpYmlsaXR5OwogICAgICAgICAgICAgICAgaWYgKCFjb250ZW50VmlzaWJpbGl0eSAmJiAhcGFnZUVsZW1lbnRDc3MpIHJldHVybjsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChwYWdlRWxlbWVudCwgKGVsZSwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghL0xJTkt8TUVUQXxTVFlMRXxTQ1JJUFQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50Q3NzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1lbnRDc3MgIT09ICcwJyAmJiAhZWxlLmRhdGFzZXQucGFnZXR1YWxQYWdlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ID0gKGVsZS5zdHlsZS5jc3NUZXh0IHx8ICcnKSArIHBhZ2VFbGVtZW50Q3NzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5kYXRhc2V0LnBhZ2V0dWFsUGFnZUVsZW1lbnQgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VmlzaWJpbGl0eSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnN0eWxlLmNvbnRhaW5JbnRyaW5zaWNTaXplID0gYGF1dG8gJHtlbGUub2Zmc2V0SGVpZ2h0IHx8IHNlbGYucHJlVmlzaWJsZUhlaWdodCB8fCAxMDB9cHhgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5zdHlsZS5jb250YWluSW50cmluc2ljU2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUub2Zmc2V0SGVpZ2h0KSBzZWxmLnByZVZpc2libGVIZWlnaHQgPSBlbGUub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52aXNpYmlsaXR5SXRlbXMucHVzaChlbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnZpc2libGVJbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9IGVtdUlmcmFtZSA/ICJ2aXNpYmxlIiA6ICJhdXRvIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xlYXJBZGRlZEVsZW1lbnRzKCkgewogICAgICAgICAgICBpZiAodGhpcy5hZGRlZEVsZVBvb2wgJiYgdGhpcy5hZGRlZEVsZVBvb2wubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFkZGVkRWxlUG9vbC5mb3JFYWNoKGVsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5wYXJlbnROb2RlKSBlbGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hZGRlZEVsZVBvb2wgPSBbXTsKICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXIucmVtb3ZlKCk7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBnZXRQYWdlKGRvYykgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdkaXNjb3Vyc2UnKSAhPSAtMSkgcmV0dXJuIHt9OwogICAgICAgICAgICBsZXQgYm9keSA9IGdldEJvZHkoZG9jKTsKICAgICAgICAgICAgbGV0IGNhblNhdmUgPSBmYWxzZTsvL+eZvOePvumggeeivOmBuOaTh+WZqOWcqOWFtuS7lumggeWwjeS4jeS4iu+8jOmChOaYr+WIpeS/neWtmOS6hgogICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5jdXJVcmwuc2xpY2UoMCwgMjUwKS5yZXBsYWNlKCJpbmRleC5waHA/IiwgIj8iKTsKICAgICAgICAgICAgbGV0IF91cmwgPSB1cmwucmVwbGFjZSgvXC5zP2h0bWw/JC9pLCAiIikudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgbGV0IHBhZ2VOdW0gPSAxLCBwcmVTdHIgPSAiIiwgYWZ0ZXJTdHIgPSAiIjsKICAgICAgICAgICAgbGV0IHBhZ2VUd29SZWcgPSAvXltcL1w/Jl0/W18tXT8ocHxwYWdlKT89P1wvPzIoXC9bXlwvXSokfFw/fCZ8JCkvaTsKICAgICAgICAgICAgbGV0IHBhZ2VNYXRjaDEgPSB1cmwubWF0Y2goLyguKltcPyZdcCg/OmFnZSk/PSkoXGQrKSgkfFsjJl0uKikvaSk7CiAgICAgICAgICAgIGxldCBkb3VidFRleHRSZWcgPSAvXlxzKijCu3w+PilccyokLzsKICAgICAgICAgICAgaWYgKHBhZ2VNYXRjaDEpIHsKICAgICAgICAgICAgICAgIHByZVN0ciA9IHBhZ2VNYXRjaDFbMV07CiAgICAgICAgICAgICAgICBwYWdlTnVtID0gcGFyc2VJbnQocGFnZU1hdGNoMVsyXSk7CiAgICAgICAgICAgICAgICBhZnRlclN0ciA9IHBhZ2VNYXRjaDFbM107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZU1hdGNoMiA9IHVybC5tYXRjaCgvKC4qW2EtelwvXC1fXSg/OnB8cGFnZSk/XC8/KShcZCspKFwucz9odG1sPyR8XC8/JCkvaSk7CiAgICAgICAgICAgICAgICBpZiAocGFnZU1hdGNoMikgewogICAgICAgICAgICAgICAgICAgIHByZVN0ciA9IHBhZ2VNYXRjaDJbMV07CiAgICAgICAgICAgICAgICAgICAgcGFnZU51bSA9IHBhcnNlSW50KHBhZ2VNYXRjaDJbMl0pOwogICAgICAgICAgICAgICAgICAgIGFmdGVyU3RyID0gcGFnZU1hdGNoMlszXTsKICAgICAgICAgICAgICAgICAgICBpZiAoL15cLz8kLy50ZXN0KGFmdGVyU3RyKSAmJiAhLyhwKGFnZSk/fF98XC18XC8pJC8udGVzdChwcmVTdHIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZVN0ciA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBhZnRlclN0ciA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGFnZU51bSA+IDk5OSkgewogICAgICAgICAgICAgICAgcGFnZU51bSA9IDE7CiAgICAgICAgICAgICAgICBwcmVTdHIgPSAiIjsKICAgICAgICAgICAgICAgIGFmdGVyU3RyID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGN1clBhZ2UgPSBkb2MsIGksIGN1ciwganNOZXh0OwogICAgICAgICAgICBsZXQgbmV4dDEsIG5leHQyLCBuZXh0MywgbmV4dDQsIG5leHRKczEsIG5leHRKczIsIG5leHRKczM7CiAgICAgICAgICAgIGxldCBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnZS1uZXh0PmEiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLm5leHRfcGFnZSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIiNuZXh0X3BhZ2UiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIubmV4dFBhZ2UiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnaW5hdGlvbi1uZXh0PmEiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhW2RhdGEtcGFnaW5hdGlvbj1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdpbmF0aW9uIGxpLmFjdGl2ZX5saT5hIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiW2NsYXNzXj1wYWddIC5jdXJyZW50K2EiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnZUJ1dHRvbnNDdXJyZW50K2EiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhW2NsYXNzKj1uZXh0cGFnZV0iKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJsaS5wYWdlLWN1cnJlbnQrbGk+YSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149cGFnXSBhW3JlbD1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149UGFnXSBbYXJpYS1sYWJlbD1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdpbmF0aW9uLW5hdl9faXRlbS0tbmV4dD5hIik7CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMSk7CiAgICAgICAgICAgICAgICBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2VyaWdodCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdlLW51bWJlcnMuY3VycmVudCthIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLnBhZ2VfY3VycmVudCthIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiaW5wdXRbdmFsdWU9J25leHQnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSdOZXh0IHBhZ2UnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSfkuIvkuIDpobUnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSfkuIvkuIDpoIEnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImEjcGJfbmV4dCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImEjcmlnaHRGaXgiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhI2J0blByZUduIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiYS5wYWdlLW5leHQiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2VzLW5leHQiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2UucmlnaHQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIHsKICAgICAgICAgICAgICAgIGF3YWl0IHNsZWVwKDEpOwogICAgICAgICAgICAgICAgbmV4dCA9IGJvZHkucXVlcnlTZWxlY3RvcigiYSNuZXh0IikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLm5leHQ+YSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5uZXh0PmJ1dHRvbiIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImFbYWx0PW5leHRdIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLnBnX2FyZWE+ZW0rYSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbi5uZXh0Om5vdChbZGlzYWJsZWRdKSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5idG5fbmV4dDpub3QoW2Rpc2FibGVkXSkiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIuYnRuLW5leHQ6bm90KFtkaXNhYmxlZF0pIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiYSNsaW5rTmV4dCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImFbY2xhc3MqPXBhZ2VfX25leHRdIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgxKTsKICAgICAgICAgICAgICAgIGxldCBuZXh0cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgiYS5uZXh0Iik7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dHNbaV0uc3R5bGUuZGlzcGxheSAhPT0gIm5vbmUiICYmCiAgICAgICAgICAgICAgICAgICAgICAgbmV4dHNbaV0ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ICE9PSAibm9uZSIgJiYKICAgICAgICAgICAgICAgICAgICAgICAhL15ccyooW+S4iuWJjemmluWwvl18cHJldmlvdXMpL2kudGVzdChuZXh0c1tpXS5pbm5lclRleHQudHJpbSgpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dHNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV4dCAmJiAoIW5leHQuaHJlZiB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHQuaHJlZi5yZXBsYWNlKCIjcHsiLCAiIikucmVwbGFjZShsb2NhdGlvbi5ocmVmLCAiIikpKSkgewogICAgICAgICAgICAgICAganNOZXh0ID0gbmV4dDsKICAgICAgICAgICAgICAgIG5leHQgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgbmV4dCA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgiW2FyaWEtbGFiZWw9J05leHQgcGFnZSddIik7CiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHRbMF07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0LmhyZWYgfHwgL14oamF2YXNjcmlwdHwjKS8udGVzdChuZXh0LmhyZWYucmVwbGFjZSgiI3B7IiwgIiIpLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWpzTmV4dCkganNOZXh0ID0gbmV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoanNOZXh0KSB7CiAgICAgICAgICAgICAgICBpZiAoanNOZXh0LmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgIGlmICgvc2xpY2t8c2xpZGV8Z2FsbGVyeS9pLnRlc3QoanNOZXh0LmNsYXNzTmFtZSkpIGpzTmV4dCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoanNOZXh0LmNsYXNzTGlzdCAmJiBqc05leHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSBqc05leHQgPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGpzTmV4dCkgewogICAgICAgICAgICAgICAgICAgIGxldCBhcmlhTGFiZWwgPSBqc05leHQuZ2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyaWFMYWJlbCAmJiAvc2xpY2t8c2xpZGV8Z2FsbGVyeS9pLnRlc3QoYXJpYUxhYmVsKSkganNOZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0VGV4dFJlZzIudGVzdChuZXh0LmlubmVyVGV4dC50cmltKCkpKSB7CiAgICAgICAgICAgICAgICBuZXh0MiA9IG5leHQ7CiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIHsKICAgICAgICAgICAgICAgIG5leHQgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoImEuY3VycithIikgfHwKICAgICAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImRpdi53cC1wYWdlbmF2aT5zcGFuLmN1cnJlbnQrYSxkaXYucGFnZS1uYXY+c3Bhbi5jdXJyZW50K2EsZGl2LmFydGljbGUtcGFnaW5nPnNwYW4rYSIpIHx8CiAgICAgICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIubnVtYmVyPnVsPmxpLmFjdGl2ZStsaT5hIik7OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgbGV0IHBhZ2VEaXYgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoImRpdi5wYWdlcz51bCIpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VEaXYpIHsKICAgICAgICAgICAgICAgICAgICBjdXIgPSBwYWdlRGl2LnF1ZXJ5U2VsZWN0b3IoImxpPmIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyKSBuZXh0ID0gY3VyLnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0KSBuZXh0ID0gbmV4dC5xdWVyeVNlbGVjdG9yKCJhIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnZXM+YVtocmVmPSdqYXZhc2NyaXB0OjsnXSthIik7CiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiAobmV4dC5ocmVmID09ICJqYXZhc2NyaXB0OjsiIHx8IG5leHQuZ2V0QXR0cmlidXRlKCJocmVmIikgPT0gIiMiKSkgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgxKTsKICAgICAgICAgICAgICAgIGxldCBwYWdlRGl2ID0gYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnaW5hdGlvbiIpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VEaXYpIHsKICAgICAgICAgICAgICAgICAgICBjdXIgPSBwYWdlRGl2LnF1ZXJ5U2VsZWN0b3IoIltjbGFzcyo9Y3VycmVudF0iKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyKSBuZXh0ID0gY3VyLnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0KSBuZXh0ID0gbmV4dC5xdWVyeVNlbGVjdG9yKCJhIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgxKTsKICAgICAgICAgICAgICAgIGxldCBwYWdlRGl2cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgiW2NsYXNzKj1wYWdpbmF0aW9uXSxbY2xhc3MqPVBhZ2luYXRpb25dIik7CiAgICAgICAgICAgICAgICBpZiAocGFnZURpdnMgJiYgcGFnZURpdnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlRGl2cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHBhZ2VEaXZzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLyhuZXh0XHMqKMK7fD4+fD584oC6fOKGknzina8pP3wmZ3Q7fOKWtnw+fOKAunzihpJ84p2vKS9pLnRlc3QocC50aXRsZSB8fCBwLnZhbHVlIHx8ICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXihuZXh0XHMqKMK7fD4+fD584oC6fOKGknzina8pP3wmZ3Q7fOKWtnw+fOKAunzihpJ84p2vKSQvaS50ZXN0KChwLmlubmVyVGV4dCB8fCAnJykudHJpbSgpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIHsKICAgICAgICAgICAgICAgIGxldCBhVGFncyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgiYSxidXR0b24sW3R5cGU9J2J1dHRvbiddIik7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSBhVGFncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0MSkgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSAzMDAgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IGFUYWcgPSBhVGFnc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5zdHlsZS5kaXNwbGF5ID09ICJub25lIikgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlubmVyVGV4dCA9IChhVGFnLmlubmVyVGV4dCB8fCBhVGFnLnZhbHVlIHx8IGFUYWcudGl0bGUgfHwgJycpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyVGV4dCA9PSAiwqciKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0ID0gaW5uZXJUZXh0LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyVGV4dC5sZW5ndGggPiA4MCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBhdmFpbGFibGVIcmVmID0gYVRhZy5ocmVmICYmIGFUYWcuaHJlZi5sZW5ndGggPCAyNTAgJiYgL15odHRwLy50ZXN0KGFUYWcuaHJlZik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZUhyZWYgJiYgL25leHRcLT8ocGFnZSk/JC9pLnRlc3QoYVRhZy5ocmVmKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcuY2xhc3NOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvc2xpY2t8c2xpZGV8Z2FsbGVyeS9pLnRlc3QoYVRhZy5jbGFzc05hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcuY2xhc3NMaXN0ICYmIGFUYWcuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcuZGF0YXNldCAmJiBhVGFnLmRhdGFzZXQucHJldmlldykgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFyaWFMYWJlbCA9IGFUYWcuZ2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyaWFMYWJlbCAmJiAvc2xpY2t8c2xpZGV8Z2FsbGVyeS9pLnRlc3QoYXJpYUxhYmVsKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5wYXJlbnROb2RlLmNsYXNzTmFtZSAmJiAvc2xpY2t8c2xpZGV8Z2FsbGVyeS9pLnRlc3QoYVRhZy5wYXJlbnROb2RlLmNsYXNzTmFtZSkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5wYXJlbnROb2RlLmNsYXNzTGlzdCAmJiBhVGFnLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcucGFyZW50Tm9kZS5jbGFzc0xpc3QgJiYgYVRhZy5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15CTE9DS1FVT1RFJC9pLnRlc3QoYVRhZy5wYXJlbnROb2RlLm5vZGVOYW1lKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgL1xiKHBsYXl8dm9sdW1lKVxiLy50ZXN0KGFUYWcucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc05hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5uZXh0RWxlbWVudFNpYmxpbmcgJiYgL1xiKHBsYXl8dm9sdW1lKVxiLy50ZXN0KGFUYWcubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTmFtZSkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGxldCBpc0pzID0gIWFUYWcuaHJlZiB8fCAhYVRhZy5ocmVmLnJlcGxhY2UgfHwgL14oamF2YXNjcmlwdHwjKS8udGVzdChhVGFnLmhyZWYucmVwbGFjZSgiI3B7IiwgIiIpLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCA9IGlubmVyVGV4dC5zcGxpdCgvXG4vKVswXS5yZXBsYWNlKC8gL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMgJiYgL14owrt8Pj58PnzigLp84oaSfOKdrykkLy50ZXN0KGlubmVyVGV4dCkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0ICYmIGlubmVyVGV4dC5sZW5ndGggPD0gMjUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRleHRSZWcxLnRlc3QoaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNKcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0SnMxKSBuZXh0SnMxID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQxID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dFJlZzIudGVzdChpbm5lclRleHQpIHx8IC9uZXh0cGFnZXxwYWdlclwtb2xkZXIvaS50ZXN0KGFUYWcuY2xhc3NOYW1lKSB8fCAvXijCu3w+PikkLy50ZXN0KGlubmVyVGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0pzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0SnMyKSBuZXh0SnMyID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDIgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKG5leHRccyoowrt8Pj58PnzigLp84oaSfOKdryk/fCZndDt84pa2fD584oC6fOKGknzina8pJC9pLnRlc3QoaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRKczMpIG5leHRKczMgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0MyA9IGFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZFbGUgPSBhVGFnLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RWxlICYmICgvXihCfFNQQU58U1RST05HKSQvaS50ZXN0KHByZXZFbGUubm9kZU5hbWUpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eXGQrJC8udGVzdChhVGFnLmlubmVyVGV4dC50cmltKCkpICYmIC9eXGQrJC8udGVzdChwcmV2RWxlLmlubmVyVGV4dC50cmltKCkpICYmIHBhcnNlSW50KGFUYWcuaW5uZXJUZXh0KSA9PSBwYXJzZUludChwcmV2RWxlLmlubmVyVGV4dCkgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDQgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQgJiYgYXZhaWxhYmxlSHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5ocmVmLmluZGV4T2YobG9jYXRpb24uaG9zdG5hbWUpID09PSAtMSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfYUhyZWYgPSBhVGFnLmhyZWYucmVwbGFjZSgiPyYiLCAiPyIpLnJlcGxhY2UoImluZGV4LnBocD8iLCAiPyIpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVTdHIgfHwgYWZ0ZXJTdHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfYUhyZWZUcmltID0gX2FIcmVmOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZVN0cikgX2FIcmVmVHJpbSA9IF9hSHJlZlRyaW0ucmVwbGFjZShwcmVTdHIsICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlclN0cikgX2FIcmVmVHJpbSA9IF9hSHJlZlRyaW0ucmVwbGFjZShhZnRlclN0ciwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9hSHJlZlRyaW0gPT0gcGFnZU51bSArIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0NCA9IGFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJVcmwgIT0gYVRhZy5ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYUhyZWYgPSBfYUhyZWYucmVwbGFjZSgvXC5zP2h0bWw/JC9pLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2FIcmVmLmluZGV4T2YoX3VybCkgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZVR3b01hdGNoID0gX2FIcmVmLnJlcGxhY2UoX3VybCwgIiIpLm1hdGNoKHBhZ2VUd29SZWcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlVHdvTWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTdHIgPSBwYWdlVHdvTWF0Y2hbMl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ0ID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQ0ICYmICEvcGFnZS8udGVzdChuZXh0NC5ocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckhyZWYgPSBuZXh0NC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJQYWdlUmVnID0gbmV3IFJlZ0V4cCgiKC4qKSIgKyAocGFnZU51bSArIDEpICsgYWZ0ZXJTdHIucmVwbGFjZSgvKFtcLlw/XSkvZywgJ1xcJDEnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3RoZXJQYWdlSHJlZiA9IGN1ckhyZWYucmVwbGFjZShjdXJQYWdlUmVnLCBgJDEke3BhZ2VOdW19JHthZnRlclN0cn1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdGhlclBhZ2VFbGUgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoYGFbaHJlZj0nJHtvdGhlclBhZ2VIcmVmfSddYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW90aGVyUGFnZUVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUGFnZUhyZWYgPSBjdXJIcmVmLnJlcGxhY2UoY3VyUGFnZVJlZywgYCQxJHtwYWdlTnVtICsgMn0ke2FmdGVyU3RyfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUGFnZUVsZSA9IGJvZHkucXVlcnlTZWxlY3RvcihgYVtocmVmPScke290aGVyUGFnZUhyZWZ9J11gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclBhZ2VFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gb3RoZXJQYWdlRWxlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5jb250YWlucyhvdGhlclBhZ2VFbGUpICYmICEvXlxkKyQvLnRlc3Qob3RoZXJQYWdlRWxlLmlubmVyVGV4dC50cmltKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dDIgJiYgZG91YnRUZXh0UmVnLnRlc3QobmV4dDIuaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgIG5leHQyID0gdGhpcy52ZXJpZnlOZXh0KG5leHQyLCBkb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG5leHRKczIgJiYgZG91YnRUZXh0UmVnLnRlc3QobmV4dEpzMi5pbm5lclRleHQpKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dEpzMiA9IHRoaXMudmVyaWZ5TmV4dChuZXh0SnMyLCBkb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG5leHQzKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dDMgPSB0aGlzLnZlcmlmeU5leHQobmV4dDMsIGRvYyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dEpzMykgewogICAgICAgICAgICAgICAgICAgIG5leHRKczMgPSB0aGlzLnZlcmlmeU5leHQobmV4dEpzMywgZG9jKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIG5leHQgPSBuZXh0MSB8fCBuZXh0NCB8fCBuZXh0MyB8fCBuZXh0MjsKICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBuZXh0ID0ganNOZXh0IHx8IG5leHRKczEgfHwgbmV4dEpzMyB8fCBuZXh0SnMyOwogICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5wYXJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKCd0YWInKSAhPSAtMSkgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5jbGFzc0xpc3QgJiYgKG5leHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJyZXN1bHRzLW1vcmUiKSB8fCBuZXh0LmNsYXNzTGlzdC5jb250YWlucygibm8iKSkpIG5leHQgPSBudWxsOwogICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmhhc0F0dHJpYnV0ZSAmJiBuZXh0Lmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKSkgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiB7bmV4dDpuZXh0LCBjYW5TYXZlOmNhblNhdmV9OwogICAgICAgIH0KCiAgICAgICAgdmVyaWZ5TmV4dChuZXh0LCBkb2MpIHsKICAgICAgICAgICAgaWYgKCFuZXh0KSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgaWYgKG5leHQucHJldmlvdXNFbGVtZW50U2libGluZyAmJiAvXkJSJC9pLnRlc3QobmV4dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLm5vZGVOYW1lKSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIGxldCBlbGVzID0gZ2V0QWxsRWxlbWVudHMoYC8vJHtuZXh0Lm5vZGVOYW1lfVt0ZXh0KCk9JyR7bmV4dC5pbm5lclRleHR9J11gLCBkb2MpOwogICAgICAgICAgICBpZiAoZWxlcy5sZW5ndGggPj0gMiAmJiBlbGVzWzBdLmhyZWYgIT0gZWxlc1sxXS5ocmVmKSB7CiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gZ2V0RWxlbWVudExlZnQobmV4dCk7CiAgICAgICAgICAgICAgICBpZiAobGVmdCA8IDIwIHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPiA1MDAgJiYgbGVmdCA8IDI1MCkpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcCA9IGdldEVsZW1lbnRUb3AobmV4dCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcCA8IDIwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSB0b3AgKyBuZXh0Lm9mZnNldEhlaWdodCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsSCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxIIC0gYm90dG9tIDwgMTApIG5leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICB9CgogICAgICAgIGNhbm9uaWNhbFVyaShzcmMpIHsKICAgICAgICAgICAgaWYgKCFzcmMpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc3JjLmNoYXJBdCgwKSA9PSAiIyIpIHJldHVybiB0aGlzLmN1clVybCArIHNyYzsKICAgICAgICAgICAgaWYgKHNyYy5jaGFyQXQoMCkgPT0gIj8iKSByZXR1cm4gdGhpcy5jdXJVcmwucmVwbGFjZSgvXihbXlw/I10rKS4qLywgIiQxIiArIHNyYyk7CiAgICAgICAgICAgIGxldCBvcmlnaW4gPSBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0OwogICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5iYXNlUGF0aCB8fCBvcmlnaW47CiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8oXD98IykuKi8sICIiKTsKICAgICAgICAgICAgaWYgKC9odHRwcz86XC9cL1teXC9dKyQvLnRlc3QodXJsKSkgdXJsID0gdXJsICsgJy8nOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoImh0dHAiKSAhPT0gMCkgdXJsID0gb3JpZ2luICsgdXJsOwogICAgICAgICAgICB2YXIgcm9vdF9wYWdlID0gL15bXlw/I10qXC8vLmV4ZWModXJsKVswXSwKICAgICAgICAgICAgICAgIHJvb3RfZG9tYWluID0gL15cdytcOlwvXC9cLz9bXlwvXSsvLmV4ZWMocm9vdF9wYWdlKVswXSwKICAgICAgICAgICAgICAgIGFic29sdXRlX3JlZ2V4ID0gL15cdytcOlwvXC8vOwogICAgICAgICAgICB0aGlzLnVwZGF0ZVVybCA9IGZhbHNlOwogICAgICAgICAgICB3aGlsZSAoc3JjLmluZGV4T2YoIi4uLyIpID09PSAwKSB7CiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyKDMpOwogICAgICAgICAgICAgICAgcm9vdF9wYWdlID0gcm9vdF9wYWdlLnJlcGxhY2UoL1wvW15cL10rXC8kLywgIi8iKTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXJsID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXC5cLy8sICIiKTsKICAgICAgICAgICAgaWYgKC9eXC9cL1wvPy8udGVzdChzcmMpKSB7CiAgICAgICAgICAgICAgICBzcmMgPSBsb2NhdGlvbi5wcm90b2NvbCArIHNyYzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKGFic29sdXRlX3JlZ2V4LnRlc3Qoc3JjKSA/IHNyYyA6ICgoc3JjLmNoYXJBdCgwKSA9PSAiLyIgPyByb290X2RvbWFpbiA6IHJvb3RfcGFnZSkgKyBzcmMpKTsKICAgICAgICB9CgogICAgICAgIGdldExpbmtCeVBhZ2UodXJsLCBwYWdlTnVtKSB7CiAgICAgICAgICAgIGlmICghdXJsKSByZXR1cm47CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW0pIHsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW07CiAgICAgICAgICAgICAgICBsZXQgc3RyTWF0Y2ggPSByZXN1bHQubWF0Y2goL1x7Lio/fS8pOwogICAgICAgICAgICAgICAgaWYgKCFzdHJNYXRjaCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCgiKCIgKyByZXN1bHQucmVwbGFjZShzdHJNYXRjaFswXSwgIilcXGQrKCIpICsgIikiLCAiaSIpOwogICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBzdHJNYXRjaFswXS5yZXBsYWNlKC9eey8sICIiKS5yZXBsYWNlKC99JC8sICIiKS5yZXBsYWNlKC9cJHAvZywgcGFnZU51bSk7CiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSBwYWdlTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdXJsLnJlcGxhY2UodXJsUmVnLCAiJDEiICsgY29kZSArICIkMiIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjtyZXR1cm4gJyArIGNvZGUpKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHVybC5yZXBsYWNlKHVybFJlZywgIiQxIiArIGNvZGUgKyAiJDIiKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSB1cmwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvKFsmXC9cP10ocD18cGFnZVs9XC9fLV0/KSlcZCsvaSwgIiQxIiArIHBhZ2VOdW0pLnJlcGxhY2UoLyhbXy1dKVxkK1wuL2ksICIkMSIgKyBwYWdlTnVtICsgIi4iKTsKICAgICAgICB9CgogICAgICAgIGdldFBhZ2VOdW1Gcm9tVXJsKHVybCkgewogICAgICAgICAgICBpZiAoIXVybCkgcmV0dXJuIGN1clBhZ2U7CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW0pIHsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW07CiAgICAgICAgICAgICAgICBsZXQgc3RyTWF0Y2ggPSByZXN1bHQubWF0Y2goL1x7Lio/fS8pOwogICAgICAgICAgICAgICAgaWYgKCFzdHJNYXRjaCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCgiLioiICsgcmVzdWx0LnJlcGxhY2Uoc3RyTWF0Y2hbMF0sICIoXFxkKykiKSArICIuKiIsICJpIik7CiAgICAgICAgICAgICAgICBsZXQgY3VyU2hvd051bSA9IHVybC5yZXBsYWNlKHVybFJlZywgIiQxIik7CiAgICAgICAgICAgICAgICBpZiAoY3VyU2hvd051bSAhPSB1cmwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHN0ck1hdGNoWzBdLnJlcGxhY2UoL157LywgIiIpLnJlcGxhY2UoL30kLywgIiIpOwogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09ICIkcCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1clNob3dOdW07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlMSA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICcgKyBjb2RlLnJlcGxhY2UoIiRwIiwgIjAiKSkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlMiA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICcgKyBjb2RlLnJlcGxhY2UoIiRwIiwgIjEiKSkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW1HYXAgPSBwYWdlMiAtIHBhZ2UxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjdXJTaG93TnVtIC0gcGFnZTEpIC8gbnVtR2FwOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyUGFnZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcGFnZU51bSA9IHVybC5yZXBsYWNlKC8uKlsmXC9cP10ocD18cGFnZVs9XC9fLV0/KShcZCspLiovaSwgIiQyIik7CiAgICAgICAgICAgIHJldHVybiBwYWdlTnVtID09IHVybCA/IGN1clBhZ2UgOiAocGFnZU51bS5sZW5ndGggPiA0ID8gY3VyUGFnZSA6IHBhZ2VOdW0pOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZ2V0TmV4dExpbmsoZG9jKSB7CiAgICAgICAgICAgIGxldCBuZXh0TGluayA9IG51bGwsIHBhZ2UsIGhyZWY7CiAgICAgICAgICAgIGxldCBnZXROZXh0TGlua0J5Rm9ybSA9IChmb3JtLCBzdWJtaXRCdG4sIG4pID0+IHsKICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSBbXTsKICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTsKICAgICAgICAgICAgICAgIGlmIChzdWJtaXRCdG4gJiYgc3VibWl0QnRuLmdldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBidG5WYWx1ZSwgYnRuTmFtZTsKICAgICAgICAgICAgICAgICAgICBidG5OYW1lID0gc3VibWl0QnRuLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICAgICAgICAgICAgICAgIGJ0blZhbHVlID0gc3VibWl0QnRuLmdldEF0dHJpYnV0ZSgidmFsdWUiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYnRuTmFtZSAmJiBidG5WYWx1ZSkgcGFyYW1zID0gW2J0bk5hbWUgKyAiPSIgKyBidG5WYWx1ZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiAvXihwfHBhZ2UpJC9pLnRlc3Qoa2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkgKyAnPScgKyBuKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm0uYWN0aW9uICsgKGZvcm0uYWN0aW9uLmluZGV4T2YoJz8nKSA9PSAtMSA/ICc/JyA6ICcmJykgKyBwYXJhbXMgKyAoZm9ybS5tZXRob2QgPT0gJ3Bvc3QnID8gJyNweycgKyBwYXJhbXMgKyAnfScgOiAnJyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50QnlKcykgewogICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSAiIyI7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlKcykgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlciA9IF91cmwgPT4gewogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFVybCA9IGF3YWl0ICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxOZXh0TGlua0J5SnMgPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEFzeW5jRnVuY3Rpb24oImRvYyIsICcidXNlIHN0cmljdCI7JyArIHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeUpzKSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxOZXh0TGlua0J5SnMpKGRvYyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFVybCkgbmV4dExpbmsgPSB7aHJlZjogdGFyZ2V0VXJsfTsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeVVybCkgewogICAgICAgICAgICAgICAgbGV0IHRhcmdldFVybCA9IHRoaXMuY3VyVXJsLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbMF0sICJpIiksIHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeVVybFsxXSk7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VXJsICE9IHRoaXMuY3VyVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGluY2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbMl07CiAgICAgICAgICAgICAgICAgICAgbGV0IGV4Y2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbM107CiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IGluY2x1ZGVTZWwudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdldEVsZW1lbnQoaW5jbHVkZVNlbCwgZG9jKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWY9ZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZVNlbCkgewogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gZXhjbHVkZVNlbC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRFbGVtZW50KGV4Y2x1ZGVTZWwsIGRvYykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmPWZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlcHMgPSB0YXJnZXRVcmwubWF0Y2goL3suKj99L2cpOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXBzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcHMuZm9yRWFjaChyZXAgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSByZXAucmVwbGFjZSgieyIsICIiKS5yZXBsYWNlKCJ9IiwgIiIpLnJlcGxhY2UoL1woXCkvZywgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb2RlLm1hdGNoKC9eKFxkKilcKzEkLyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VJbnQocmVzdWx0WzFdIHx8IDEpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjtyZXR1cm4gJyArIGNvZGUpKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFVybCA9IHRhcmdldFVybC5yZXBsYWNlKHJlcCwgcmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmV4dExpbmsgPSB7aHJlZjogdGFyZ2V0VXJsfTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICBsZXQgbmV4dExpbmtTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rOwogICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rU2VsICE9IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KG5leHRMaW5rU2VsKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWxbbmV4dEluZGV4XSwgZG9jLCBudWxsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0TGluayAmJiBjdXJQYWdlID09IDEgJiYgbmV4dEluZGV4ICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWxbbmV4dEluZGV4XSwgZG9jLCBudWxsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWwsIGRvYywgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dExpbmsgJiYgKHRoaXMuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDAgfHwgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMSB8fCB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAyKSkgewogICAgICAgICAgICAgICAgICAgIGxldCBmb3JtID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gtZm9ybScpOwogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dExpbmsuaHJlZiAmJiBuZXh0TGluay5oYXNBdHRyaWJ1dGUgJiYgbmV4dExpbmsuaGFzQXR0cmlidXRlKCJvbmNsaWNrIikgJiYgZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15cZCskLy50ZXN0KG5leHRMaW5rLmlubmVyVGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5rLmhyZWYgPSBnZXROZXh0TGlua0J5Rm9ybShmb3JtLCBuZXh0TGluaywgbmV4dExpbmsuaW5uZXJUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15JTlBVVCQvaS50ZXN0KG5leHRMaW5rLm5vZGVOYW1lKSB8fCBuZXh0TGluay50eXBlID09ICJzdWJtaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPSBuZXh0TGluay5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eRk9STSQvaS50ZXN0KGZvcm0ubm9kZU5hbWUpKSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZm9ybSA9IGZvcm0ucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmsuaHJlZiA9IGdldE5leHRMaW5rQnlGb3JtKGZvcm0sIG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExpbmsuaHJlZiAmJiB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5rLmhyZWYgPSBuZXh0TGluay5ocmVmLnJlcGxhY2UoLyNwey4qLywgIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhZ2UgPSBhd2FpdCB0aGlzLmdldFBhZ2UoZG9jKTsKICAgICAgICAgICAgICAgIG5leHRMaW5rID0gcGFnZS5uZXh0OwogICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eSU5QVVQkL2kudGVzdChuZXh0TGluay5ub2RlTmFtZSkgfHwgbmV4dExpbmsudHlwZSA9PSAic3VibWl0IikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybSA9IG5leHRMaW5rLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChmb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15GT1JNJC9pLnRlc3QoZm9ybS5ub2RlTmFtZSkpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBmb3JtID0gZm9ybS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluay5ocmVmID0gZ2V0TmV4dExpbmtCeUZvcm0oZm9ybSwgbmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBuZXh0TGluazsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmICEvXkJPRFkkL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXkFTSURFJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuaGFzQXR0cmlidXRlICYmIHBhcmVudC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNsYXNzTmFtZSAmJiBwYXJlbnQuY2xhc3NMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygibm9DbGljayIpIHx8IHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5vLXBhZ2VzIikgfHwgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5zdHlsZSAmJiBwYXJlbnQuc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCghbmV4dExpbmsuaHJlZiB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHRMaW5rLmhyZWYucmVwbGFjZSgiI3B7IiwgIiIpLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKSkgJiYgIWlzVmlzaWJsZShuZXh0TGluaywgX3Vuc2FmZVdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0TGlua0NzID0gX3Vuc2FmZVdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGlua0NzLmN1cnNvciA9PSAibm90LWFsbG93ZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdE5leHQgPSBuZXh0TGluazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybSA9IGRvYy5xdWVyeVNlbGVjdG9yKCcjc2VhcmNoLWZvcm0nKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRMaW5rLmhyZWYgJiYgbmV4dExpbmsuaGFzQXR0cmlidXRlKCJvbmNsaWNrIikgJiYgZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybSAmJiAvXlxkKyQvLnRlc3QobmV4dExpbmsuaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZiA9IGdldE5leHRMaW5rQnlGb3JtKGZvcm0sIG5leHRMaW5rLCBuZXh0TGluay5pbm5lclRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXh0TGluaykgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrU3RvcFNpZ24obmV4dExpbmssIGRvYykpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jID09IGRvY3VtZW50KSBkZWJ1ZyhuZXh0TGluaywgJ05leHQgbGluaycpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gJyMnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbmVlZFVybCA9ICh0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAwIHx8IHRoaXMuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDEgfHwgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMik7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFocmVmKSBocmVmID0gbmV4dExpbmsuaHJlZjsKICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZiAmJiBuZXh0TGluay5nZXRBdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9ocmVmID0gbmV4dExpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9ocmVmLmNoYXJBdCgwKSA9PSAiIyIgfHwgX2hyZWYgPT0gIj8iKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gIiMiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gX2hyZWY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2hyZWYgPT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gX2hyZWY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChuZWVkVXJsICYmIChocmVmID09PSAiIiB8fCBocmVmID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmVlZFVybCAmJiAvXihqYXZhc2NyaXB0OnwjKS8udGVzdChocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gKGhyZWYgJiYgIS9eKGphdmFzY3JpcHQ6fCMpLy50ZXN0KGhyZWYpKSA/IHRoaXMuY2Fub25pY2FsVXJpKGhyZWYpIDogIiMiOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFVybCA9IHRoaXMubmV4dExpbmtIcmVmOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFVybCAhPSAiIyIgJiYgKHRoaXMuY29tcGFyZVVybCh0ZW1wVXJsLCB0aGlzLmluaXRVcmwpIHx8IHRoaXMuY29tcGFyZVVybCh0ZW1wVXJsLCB0aGlzLmN1clVybCkgfHwgdGhpcy5jb21wYXJlVXJsKHRlbXBVcmwsIHRoaXMuY3VyVXJsICsgIiMiKSB8fCB0aGlzLmNvbXBhcmVVcmwodGVtcFVybCwgdGhpcy5vbGRVcmwpIHx8IHRoaXMuY29tcGFyZVVybCh0ZW1wVXJsLCB0aGlzLm9sZFVybCArICIjIikpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvYyA9PSBkb2N1bWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcobmV4dExpbmssICdOZXh0IGxpbmsnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5uZXh0TGlua0VsZSA9IG5leHRMaW5rOwogICAgICAgICAgICB0aGlzLnByZWxvYWQoKTsKICAgICAgICAgICAgcmV0dXJuIG5leHRMaW5rOwogICAgICAgIH0KCiAgICAgICAgY29tcGFyZVVybCh1cmwxLCB1cmwyKSB7CiAgICAgICAgICAgIGlmICh1cmwxID09IHVybDIpIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAoIXVybDEgfHwgIXVybDIpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgbGV0IHVybDFBcnIgPSB1cmwxLnNwbGl0KCI/Iik7CiAgICAgICAgICAgIGxldCB1cmwyQXJyID0gdXJsMi5zcGxpdCgiPyIpOwogICAgICAgICAgICBpZiAodXJsMUFyclswXSAhPSB1cmwyQXJyWzBdKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGlmICghdXJsMUFyclsxXSB8fCAhdXJsMkFyclsxXSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB1cmwxQXJyID0gdXJsMUFyclsxXS5zcGxpdCgiJiIpLnNvcnQoKS5qb2luKCImIik7CiAgICAgICAgICAgIHVybDJBcnIgPSB1cmwyQXJyWzFdLnNwbGl0KCImIikuc29ydCgpLmpvaW4oIiYiKTsKICAgICAgICAgICAgcmV0dXJuIHVybDFBcnIgPT0gdXJsMkFycjsKICAgICAgICB9CgogICAgICAgIGZpbHRlckVsZXMoZG9jLCBlbGVzKSB7CiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSB0aGlzLmN1clNpdGVSdWxlLmZpbHRlcjsKICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgIWVsZXMgfHwgZWxlcy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICAgICAgaWYgKGVsZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBlbGVzID0gZWxlc1swXS5jaGlsZHJlbjsKICAgICAgICAgICAgICAgIGlmIChlbGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIGVsZXMgPSBlbGVzWzBdLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICBpZiAoL15cZCskLy50ZXN0KGZpbHRlcikpIHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSB7Y291bnQ6IHBhcnNlSW50KGZpbHRlcil9OwogICAgICAgICAgICAgICAgfSBlbHNlIGZpbHRlciA9IHt3b3JkczogZmlsdGVyfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlcywgZWxlID0+IHsKICAgICAgICAgICAgICAgIGlmICghZWxlLnBhcmVudE5vZGUpIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCBjYW5LZWVwID0gKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgaW5uZXJUZXh0ID0gKGVsZS5pbm5lclRleHQgJiYgZWxlLmlubmVyVGV4dC50cmltKCkpIHx8ICIiOwogICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuY291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyVGV4dC5sZW5ndGggPCBmaWx0ZXIuY291bnQpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci53b3JkcykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd29yZHNSZWdFeHAgPSBuZXcgUmVnRXhwKGZpbHRlci53b3JkcywgImkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyVGV4dCAmJiB3b3Jkc1JlZ0V4cC50ZXN0KGlubmVyVGV4dCkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5saW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaW5rUmVnRXhwID0gbmV3IFJlZ0V4cChmaWx0ZXIubGluaywgImkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eQSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkgJiYgbGlua1JlZ0V4cC50ZXN0KGVsZS5ocmVmKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYUNoaWxkcmVuID0gZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGFDaGlsZHJlbltpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rUmVnRXhwLnRlc3QoY2hpbGQuaHJlZikpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLnNlbGVjdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRFbGVtZW50KGZpbHRlci5zZWxlY3RvciwgZG9jLCBlbGUpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAgICAgIGlmICghY2FuS2VlcCkgewogICAgICAgICAgICAgICAgICAgIGVsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tTdG9wU2lnbihuZXh0TGluaywgZG9jKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduKSB7CiAgICAgICAgICAgICAgICBsZXQgdHlwZUFycmF5ID0gQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24pOwogICAgICAgICAgICAgICAgbGV0IHR5cGVPYmplY3QgPSAhdHlwZUFycmF5ICYmICh0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduLmluY2x1ZGUgfHwgdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbi5leGNsdWRlIHx8IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24ucGFnZU51bSk7CiAgICAgICAgICAgICAgICBpZiAodHlwZUFycmF5IHx8IHR5cGVPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgaW5jbHVkZVNlbCwgZXhjbHVkZVNlbCwgY3VyU2lnbiwgbWF4U2lnbjsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZUFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnblsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2lnbiA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ25bMl07CiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNpZ24gPSB0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduWzNdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KGluY2x1ZGVTZWwpICYmICFjdXJTaWduKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaWduID0gaW5jbHVkZVNlbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVTZWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZVNlbCAmJiBBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoZXhjbHVkZVNlbCkgJiYgIW1heFNpZ24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFNpZ24gPSBleGNsdWRlU2VsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVNlbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24uaW5jbHVkZTsKICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVNlbCA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24uZXhjbHVkZTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2lnbiA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24ucGFnZU51bTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IGluY2x1ZGVTZWwudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdldEVsZW1lbnQoaW5jbHVkZVNlbCwgZG9jKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlU2VsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVTZWwgPSBleGNsdWRlU2VsLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldEVsZW1lbnQoZXhjbHVkZVNlbCwgZG9jKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaWduKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWF4U2lnbikgbWF4U2lnbiA9IGN1clNpZ24uc2xpY2UoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RWxlID0gZ2V0RWxlbWVudChjdXJTaWduWzBdLCBkb2MpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4RWxlID0gZ2V0RWxlbWVudChtYXhTaWduWzBdLCBkb2MpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVsZSAmJiBtYXhFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2lnbk51bSwgbWF4U2lnbk51bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXCguKlwpLy50ZXN0KGN1clNpZ25bMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpZ25OdW0gPSBjdXJyZW50RWxlLmlubmVyVGV4dC5tYXRjaChuZXcgUmVnRXhwKGN1clNpZ25bMV0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNpZ25OdW0pIGN1cnJlbnRTaWduTnVtID0gY3VycmVudFNpZ25OdW1bMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRFbGUuZ2V0QXR0cmlidXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpZ25OdW0gPSBjdXJyZW50RWxlLmdldEF0dHJpYnV0ZShjdXJTaWduWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXCguKlwpLy50ZXN0KG1heFNpZ25bMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4U2lnbk51bSA9IG1heEVsZS5pbm5lclRleHQubWF0Y2gobmV3IFJlZ0V4cChtYXhTaWduWzFdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heFNpZ25OdW0pIG1heFNpZ25OdW0gPSBtYXhTaWduTnVtWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXhFbGUuZ2V0QXR0cmlidXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4U2lnbk51bSA9IG1heEVsZS5nZXRBdHRyaWJ1dGUobWF4U2lnblsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNpZ25OdW0gJiYgbWF4U2lnbk51bSAmJiBjdXJyZW50U2lnbk51bSA9PSBtYXhTaWduTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdG9wU2lnbiA9ICgodHlwZW9mIF91bnNhZmVXaW5kb3cuc3RvcFNpZ24gPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsICJuZXh0TGluayIsICcidXNlIHN0cmljdCI7JyArIHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24pIDogX3Vuc2FmZVdpbmRvdy5zdG9wU2lnbikoZG9jLCBuZXh0TGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wU2lnbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHByZWxvYWQoKSB7CiAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLnByZWxvYWQpIHJldHVybjsKICAgICAgICAgICAgaWYgKCF0aGlzLm5leHRMaW5rSHJlZiB8fCB0aGlzLm5leHRMaW5rSHJlZiA9PSAiIyIpIHJldHVybjsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzLCB1cmwgPSB0aGlzLm5leHRMaW5rSHJlZjsKICAgICAgICAgICAgbGV0IHBvc3RQYXJhbXMgPSB1cmwubWF0Y2goLyNweyguKil9JC8pOwogICAgICAgICAgICBpZiAocG9zdFBhcmFtcykgewogICAgICAgICAgICAgICAgcG9zdFBhcmFtcyA9IHBvc3RQYXJhbXNbMV07CiAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvI3B7LiovLCAiIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX0dNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgbWV0aG9kOiBwb3N0UGFyYW1zID8gJ1BPU1QnIDogJ0dFVCcsCiAgICAgICAgICAgICAgICBkYXRhOiBwb3N0UGFyYW1zLAogICAgICAgICAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogJ3RleHQvaHRtbDtjaGFyc2V0PScgKyAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0IHx8IGRvY3VtZW50LmNoYXJzZXQgfHwgZG9jdW1lbnQuaW5wdXRFbmNvZGluZyksCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogbmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogKHBvc3RQYXJhbXMgPyAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiA6ICJ0ZXh0L2h0bWwiKSArICI7Y2hhcnNldD0iICsgKGRvY3VtZW50LmNoYXJhY3RlclNldCB8fCBkb2N1bWVudC5jaGFyc2V0IHx8IGRvY3VtZW50LmlucHV0RW5jb2RpbmcpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IHJlcy5yZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBnZXRCb2R5KGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2R5ICYmIGJvZHkuZmlyc3RDaGlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXp5SW1nQWN0aW9uKGJvZHkuY2hpbGRyZW4pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5wcmVsb2FkRGl2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnByZWxvYWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbG9hZERpdi5pZCA9ICJwYWdldHVhbC1wcmVsb2FkIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbG9hZERpdi5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHNlbGYucHJlbG9hZERpdik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrZWRJbWdzID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvYy5pbWFnZXMsIGkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlTcmMgPSBpLnNyYzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpU3JjICYmICFzZWxmLmNoZWNrZWRJbWdzW2lTcmNdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja2VkSW1nc1tpU3JjXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpU3JjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbG9hZERpdi5hcHBlbmRDaGlsZChpbWcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBzZWxmLmN1clNpdGVSdWxlLnByZWxvYWRJbWFnZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nU3JjQXJyID0gbmV3IEZ1bmN0aW9uKCJkb2MiLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKShkb2MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZ1NyY0FyciAmJiBpbWdTcmNBcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nU3JjQXJyLmZvckVhY2goaW1nU3JjID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZ1NyYyAmJiAhc2VsZi5jaGVja2VkSW1nc1tpbWdTcmNdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrZWRJbWdzW2ltZ1NyY10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGltZ1NyYzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbG9hZERpdi5hcHBlbmRDaGlsZChpbWcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBnZXRJbnNlcnQocmVmcmVzaCkgewogICAgICAgICAgICBpZiAocmVmcmVzaCkgewogICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmluc2VydCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnModGhpcy5pbnNlcnQpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUuaW5zZXJ0KSB7CiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0U2VsID0gdGhpcy5jdXJTaXRlUnVsZS5pbnNlcnQ7CiAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KGluc2VydFNlbCkpIHsKICAgICAgICAgICAgICAgICAgICBpbnNlcnRTZWwgPSBpbnNlcnRTZWxbbmV4dEluZGV4IDwgaW5zZXJ0U2VsLmxlbmd0aCA/IG5leHRJbmRleCA6IDBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQgPSBnZXRFbGVtZW50KGluc2VydFNlbCwgZG9jdW1lbnQsIG51bGwsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5kb2NQYWdlRWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnQgPSB0aGlzLmdldFBhZ2VFbGVtZW50KGRvY3VtZW50LCBfdW5zYWZlV2luZG93KTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiB0aGlzLm5leHRMaW5rSHJlZiA9PSAiIyIgJiYgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9PT0gJ2JvZHknKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoIlN0b3AgYXMganNOZXh0ICYgd2hvbGUgYm9keSIpOwogICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIHBhZ2VFbGVtZW50Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcEVMYXN0ID0gcGFnZUVsZW1lbnRbcGFnZUVsZW1lbnQubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQgPSBwRUxhc3QubmV4dFNpYmxpbmcgPyBwRUxhc3QubmV4dFNpYmxpbmcgOiBwRUxhc3QucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQ7CiAgICAgICAgfQoKICAgICAgICBwYWdlSW5pdChkb2MsIGVsZXMpIHsKICAgICAgICAgICAgbGV0IGNvZGUgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VJbml0OwogICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgbGV0IGluaXRGdW5jID0gKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VJbml0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCAiZWxlcyIsICcidXNlIHN0cmljdCI7JyArIGNvZGUpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VJbml0KTsKICAgICAgICAgICAgICAgIGxldCBjaGVja0luaXQgPSAocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0RnVuYyhkb2MsIGVsZXMpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tJbml0KHJlc29sdmUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjaGVja0luaXQoZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwYWdlQWN0aW9uKGRvYywgZWxlcykgewogICAgICAgICAgICBsZXQgY29kZSA9IHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUFjdGlvbjsKICAgICAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VBY3Rpb24gPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsICJlbGVzIiwgJyJ1c2Ugc3RyaWN0IjsnICsgY29kZSkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUFjdGlvbikoZG9jLCBlbGVzKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMub3BlbkluTmV3VGFiKGVsZXMpOwogICAgICAgICAgICB0aGlzLnJlcGxhY2VFbGVtZW50KGRvYyk7CiAgICAgICAgfQoKICAgICAgICBvcGVuSW5OZXdUYWIoZWxlcykgewogICAgICAgICAgICBpZiAob3BlbkluTmV3VGFiKSB7CiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlcywgZWxlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoL15BJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSAmJiBlbGUuaHJlZiAmJiAhL14obWFpbHRvOnxqYXZhc2NyaXB0Oil8Iy8udGVzdChlbGUuaHJlZikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZSgndGFyZ2V0Jywgb3BlbkluTmV3VGFiID09IDEgPyAnX2JsYW5rJyA6ICdfc2VsZicpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGUucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXTpub3QoW2hyZWZePSJtYWlsdG86Il0pOm5vdChbaHJlZl49ImphdmFzY3JpcHQ6Il0pOm5vdChbaHJlZl49IiMiXSknKSwgYSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlbkluTmV3VGFiID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmdldEF0dHJpYnV0ZSgnb25jbGljaycpID09ICdhdGFyZ2V0KHRoaXMpJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnJlbW92ZUF0dHJpYnV0ZSgnb25jbGljaycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBhLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19zZWxmJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBsYXp5SW1nQWN0aW9uKGVsZXMpIHsKICAgICAgICAgICAgaWYgKCFlbGVzIHx8IGVsZXMubGVuZ3RoID09IDApIHJldHVybjsKICAgICAgICAgICAgbGV0IGxhenlJbWdTcmMgPSB0aGlzLmN1clNpdGVSdWxlLmxhenlJbWdTcmM7CiAgICAgICAgICAgIGlmIChsYXp5SW1nU3JjID09PSAwIHx8IGxhenlJbWdTcmMgPT09ICcwJykgcmV0dXJuOwogICAgICAgICAgICBsZXQgc2V0TGF6eUltZyA9IGltZyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcmVhbFNyYzsKICAgICAgICAgICAgICAgIGlmIChsYXp5SW1nU3JjKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxhenlJbWdTcmMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlJbWdTcmMgPSBbbGF6eUltZ1NyY107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlYWxTcmMgPSBpbWcuZ2V0QXR0cmlidXRlKGxhenlJbWdTcmNbMF0pOwogICAgICAgICAgICAgICAgICAgIGlmIChsYXp5SW1nU3JjLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVQcm9wcyA9IGxhenlJbWdTcmNbMV0uc3BsaXQoIiwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcHMuZm9yRWFjaChwcm9wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5yZW1vdmVBdHRyaWJ1dGUocHJvcC50cmltKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWxTcmMpIGltZy5zcmMgPSByZWFsU3JjOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFyZWFsU3JjKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxhenlBdHRyID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5nZXRBdHRyaWJ1dGUoIl9zcmMiKSAmJiAhaW1nLnNyYykgewogICAgICAgICAgICAgICAgICAgICAgICBsYXp5QXR0ciA9ICJfc3JjIjsKICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNyYyA9IGltZy5nZXRBdHRyaWJ1dGUobGF6eUF0dHIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gbGF6eUltZ0F0dHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhenlBdHRyID0gbGF6eUltZ0F0dHJbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0clZhbHVlID0gaW1nLmdldEF0dHJpYnV0ZShsYXp5QXR0cik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0clZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNyYyA9IGF0dHJWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJlYWxTcmMgJiYgaW1nLl9sYXp5cmlhcyAmJiBpbWcuX2xhenlyaWFzLnNyY3NldCkgewogICAgICAgICAgICAgICAgICAgICAgICByZWFsU3JjID0gaW1nLl9sYXp5cmlhcy5zcmNzZXRbaW1nLl9sYXp5cmlhcy5zcmNzZXQubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlBdHRyID0gIl9sYXp5cmlhcyI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghcmVhbFNyYyAmJiBpbWcuc3Jjc2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlBdHRyID0gInNyY3NldCI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNzID0gaW1nLnNyY3NldC5zcGxpdCgvW3h3XSwvaSksIGxhcmdlU2l6ZSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNyY3MuZm9yRWFjaChzcmNpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcmNJbmZvID0gc3JjaS50cmltKCkuc3BsaXQoIiAiKSwgY3VyU2l6ZSA9IHBhcnNlSW50KHNyY0luZm9bMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyY0luZm9bMV0gJiYgY3VyU2l6ZSA+IGxhcmdlU2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhcmdlU2l6ZSA9IGN1clNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNyYyA9IHNyY0luZm9bMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocmVhbFNyYykgewogICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gcmVhbFNyYzsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnJlbW92ZUF0dHJpYnV0ZSgic3Jjc2V0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5yZW1vdmVBdHRyaWJ1dGUobGF6eUF0dHIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuc3R5bGUudmlzaWJpbGl0eSA9PSAiaGlkZGVuIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLnZpc2liaWxpdHkgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLnN0eWxlLm9wYWNpdHkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZXMsIGVsZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoL15JTUckL2kudGVzdChlbGUubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0TGF6eUltZyhlbGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImltZyxwaWN0dXJlPnNvdXJjZSIpLCBpbWcgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzZXRMYXp5SW1nKGltZyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZS5xdWVyeVNlbGVjdG9yQWxsKCJkaXZbZGF0YS1zcmNdW2RhdGEtdGh1bWJdIiksIGRpdiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgiYmFja2dyb3VuZC1pbWFnZSIsICJ1cmwoIiArIGRpdi5kYXRhc2V0LnNyYyArICIpIiwgImltcG9ydGFudCIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC9eQSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkgJiYgZWxlLmNsYXNzTGlzdC5jb250YWlucygibGF6eWxvYWQiKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlbGUuZGF0YXNldC5vcmlnaW5hbCkgewogICAgICAgICAgICAgICAgICAgICAgICBlbGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgiJyArIGVsZS5kYXRhc2V0Lm9yaWdpbmFsICsgJyIpJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGUucXVlcnlTZWxlY3RvckFsbCgiYS5sYXp5bG9hZCIpLCBhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuZGF0YXNldC5vcmlnaW5hbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCInICsgYS5kYXRhc2V0Lm9yaWdpbmFsICsgJyIpJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGluaXRQYWdlKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgaWYgKHNlbGYuaW5pdGluZykgcmV0dXJuOwogICAgICAgICAgICBzZWxmLmluaXRpbmcgPSB0cnVlOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHNlbGYuaW5pdGluZyA9IGZhbHNlOwogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICBjdXJQYWdlID0gMTsKICAgICAgICAgICAgdXJsQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNsZWFyQWRkZWRFbGVtZW50cygpOwogICAgICAgICAgICB0aGlzLmluc2VydCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUl0ZW1zID0gW107CiAgICAgICAgICAgIHRoaXMudmlzaWJsZUluZGV4ID0gLTE7CiAgICAgICAgICAgIHRoaXMucGFnZURvYyA9IGRvY3VtZW50OwogICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuY3VyVXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgdGhpcy5vbGRVcmwgPSAiIjsKICAgICAgICAgICAgdGhpcy5pbml0VXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgdGhpcy5oaXN0b3J5VXJsID0gIiI7CiAgICAgICAgICAgIGxldCBiYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpOwogICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZSA/IGJhc2UuaHJlZiA6IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIHRoaXMuZ2V0UnVsZShhc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgICBpc1BhdXNlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jdXJTaXRlUnVsZS5lbmFibGUgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIHJ1bGUgZGlzYWJsZSIpOwogICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oImVuYWJsZSIpLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVuYWJsZVNpdGVUaXBzIikpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighc2VsZi5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXN0b21SdWxlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gc2VsZi5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VzdG9tUnVsZXNbaV0udXJsID09IHNlbGYuY3VyU2l0ZVJ1bGUudXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXN0b21SdWxlcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5lbmFibGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1c3RvbVJ1bGVzLnVuc2hpZnQoc2VsZi5jdXJTaXRlUnVsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiY3VzdG9tUnVsZXMiLCBzZWxmLmN1c3RvbVJ1bGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/oi6XmmK/lho3kuoLljLnphY3lsLHkuI3nt6nlrZh3ZWRhdGHvvIzmiJbogIXlj6rlnKjmib7lrozmnKzlnLDopo/liYfkuYvlvozlho3ogIPmha53ZWRhdGHnmoTnt6nlrZgKICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgICAgIHNlbGYuc21hcnRSdWxlcyA9IHNlbGYuc21hcnRSdWxlcy5maWx0ZXIoaXRlbSA9PiB7cmV0dXJuIGl0ZW0gJiYgaXRlbS51cmwgIT0gc2VsZi5jdXJTaXRlUnVsZS51cmx9KTsKICAgICAgICAgICAgICAgICAgICBzZWxmLnNtYXJ0UnVsZXMudW5zaGlmdChzZWxmLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5zbWFydFJ1bGVzLmxlbmd0aCA+IDEwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNtYXJ0UnVsZXMucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgic21hcnRSdWxlcyIsIHNlbGYuc21hcnRSdWxlcyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VyU2l0ZVJ1bGUgJiYgc2VsZi5jdXJTaXRlUnVsZS51cmwubGVuZ3RoID4gMTMpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZFRvSHBSdWxlcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IGNzcyA9IHNlbGYuY3VyU2l0ZVJ1bGUuY3NzIHx8IHJ1bGVzRGF0YS5jdXN0b21Dc3M7CiAgICAgICAgICAgICAgICBpZiAoY3NzKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNzc0FyciA9IGNzcy5zcGxpdCgiaW5JZnJhbWU6Iik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNzc0FyciAmJiBjc3NBcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9HTV9hZGRTdHlsZShjc3NBcnJbMF0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgvc2lkZXNlYXJjaD0oMXx0cnVlKSQvLnRlc3Qoc2VsZi5jdXJVcmwpKSB7CiAgICAgICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYuY3VyU2l0ZVJ1bGUub3BlbkluTmV3VGFiICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIG9wZW5Jbk5ld1RhYiA9IHNlbGYuY3VyU2l0ZVJ1bGUub3BlbkluTmV3VGFiID8gMSA6IDI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgYXV0b0NsaWNrID0gc2VsZi5jdXJTaXRlUnVsZS5hdXRvQ2xpY2s7CiAgICAgICAgICAgICAgICBpZiAoYXV0b0NsaWNrKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGF1dG9DbGlja0J0bjsKICAgICAgICAgICAgICAgICAgICBhdXRvQ2xpY2tCdG4gPSBnZXRFbGVtZW50KGF1dG9DbGljaywgZG9jdW1lbnQsIG51bGwsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIGlmIChhdXRvQ2xpY2tCdG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2soYXV0b0NsaWNrQnRuKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHNlbGYuY3VyU2l0ZVJ1bGUuaW5pdDsKICAgICAgICAgICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbEluaXQgPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEFzeW5jRnVuY3Rpb24oJ2RvYycsICd3aW4nLCAnaWZyYW1lJywgJ2NsaWNrJywgJ2VudGVyJywgJ2lucHV0JywgJyJ1c2Ugc3RyaWN0IjsnICsgY29kZSkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsSW5pdCkobnVsbCwgbnVsbCwgbnVsbCwgc2VsID0+IHtjbGlja0FjdGlvbihzZWwsIGRvY3VtZW50KX0sIHNlbCA9PiB7ZW50ZXJBY3Rpb24oc2VsLCBkb2N1bWVudCl9LCAoc2VsLCB2KSA9PntpbnB1dEFjdGlvbihzZWwsIHYsIGRvY3VtZW50KX0pOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmdldE5leHRMaW5rKGRvY3VtZW50KTsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBzZWxmLm5leHRMaW5rSHJlZiA9PSBmYWxzZSAmJiBzZWxmLnBvc3NpYmxlUnVsZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluaXRQYWdlKCgpID0+IHt9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaEJ5Q2xpY2soKTsKCiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRDc3MgPSBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50Q3NzIHx8IHJ1bGVzRGF0YS5wYWdlRWxlbWVudENzczsKICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudENzcyAmJiBwYWdlRWxlbWVudENzcyAhPT0gJzAnKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRQYWdlRWxlbWVudChkb2N1bWVudCwgX3Vuc2FmZVdpbmRvdyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgbGV0IGluaXRSdW4gPSB0eXBlb2Ygc2VsZi5jdXJTaXRlUnVsZS5pbml0UnVuID09ICd1bmRlZmluZWQnID8gcnVsZXNEYXRhLmluaXRSdW4gOiBzZWxmLmN1clNpdGVSdWxlLmluaXRSdW47CiAgICAgICAgICAgICAgICBpZiAoaW5pdFJ1biAmJiBpbml0UnVuICE9IGZhbHNlICYmIHNlbGYubmV4dExpbmtIcmVmKSBuZXh0UGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGJlZ2luTG9hZGluZygpIHsKICAgICAgICAgICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IGxhc3RTY3JvbGxUb3AgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgcnVsZVBhcnNlci5pbnNlcnRFbGVtZW50KGxvYWRpbmdEaXYpOwogICAgICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAyKSB7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBsb2FkaW5nRGl2LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICBpZiAoL15UQk9EWSQvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgvXlRBQkxFJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHBhcmVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCA9IGxhc3RTY3JvbGxUb3A7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBsYXN0U2Nyb2xsVG9wOwogICAgICAgIH0KCiAgICAgICAgaW5zZXJ0RWxlbWVudChlbGUpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmluc2VydCB8fCAhdGhpcy5pbnNlcnQucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRJbnNlcnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5pbnNlcnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWRkZWRFbGVQb29sLnB1c2goZWxlKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLmluc2VydFBvcyA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQuYXBwZW5kQ2hpbGQoZWxlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlLCB0aGlzLmluc2VydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFzeW5jIGluc2VydFBhZ2UoZG9jLCBlbGVzLCB1cmwsIGNhbGxiYWNrLCB0cmllZCkgewogICAgICAgICAgICB0aGlzLm9sZFVybCA9IHRoaXMuY3VyVXJsOwogICAgICAgICAgICBsZXQgb2xkVGl0bGUgPSB0aGlzLnBhZ2VEb2MudGl0bGU7CiAgICAgICAgICAgIHRoaXMucGFnZURvYyA9IGRvYzsKICAgICAgICAgICAgdGhpcy5jdXJVcmwgPSB1cmw7CiAgICAgICAgICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGxldCBuZXh0TGluayA9IGF3YWl0IHRoaXMuZ2V0TmV4dExpbmsoZG9jKTsKICAgICAgICAgICAgdGhpcy5uZXh0VGl0bGUgPSAiIjsKICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUJhclRleHQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VCYXJUZXh0ID09IDEgfHwgdGhpcy5jdXJTaXRlUnVsZS5wYWdlQmFyVGV4dCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGl0bGUgPSBkb2MudGl0bGU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFRpdGxlID0gKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VCYXJUZXh0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCcidXNlIHN0cmljdCI7JyArIHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUJhclRleHQpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VCYXJUZXh0KShkb2MpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGN1clBhZ2UgPT0gMSAmJiAhdHJpZWQgJiYgIW5leHRMaW5rICYmIHRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsICYmIHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgJiYgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gIT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPSAxOwogICAgICAgICAgICAgICAgdGhpcy5jdXJVcmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGxhc3RTY3JvbGxUb3AgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgdGhpcy5nZXRJbnNlcnQoKTsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLCBuZXdFbGVzID0gW107CiAgICAgICAgICAgIGlmICghZWxlcyB8fCBlbGVzLmxlbmd0aCA9PSAwIHx8ICFzZWxmLmluc2VydCB8fCAhc2VsZi5pbnNlcnQucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlbGVzKTsKICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYWdlSW5pdChkb2MsIGVsZXMpOwogICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlbGVzKTsKICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGVzLCBlbGUgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbGUgPSBlbGUuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICAgICAgICAgIGxldCBvbGRDYW52YXNzID0gZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImNhbnZhcyIpOwogICAgICAgICAgICAgICAgICAgIGxldCBuZXdDYW52YXNzID0gbmV3RWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImNhbnZhcyIpOwogICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVwZGF0ZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobmV3RWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImltZyIpLCBpbWcgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5nZXRBdHRyaWJ1dGUoInNyYyIpKSBpbWcuc3JjID0gc2VsZi5jYW5vbmljYWxVcmkoaW1nLmdldEF0dHJpYnV0ZSgic3JjIikpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKG5ld0VsZS5xdWVyeVNlbGVjdG9yQWxsKCJhIiksIGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuZ2V0QXR0cmlidXRlKCJocmVmIikpIGEuaHJlZiA9IHNlbGYuY2Fub25pY2FsVXJpKGEuZ2V0QXR0cmlidXRlKCJocmVmIikpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRDYW52YXNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvbGRDYW52YXMgPSBvbGRDYW52YXNzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3Q2FudmFzID0gbmV3Q2FudmFzc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKG9sZENhbnZhcywgMCwgMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghL14oU1RZTEV8U0NSSVBUKSQvLnRlc3QobmV3RWxlLm5vZGVOYW1lKSkgc2VsZi52aXNpYmlsaXR5SXRlbXMucHVzaChuZXdFbGUpOwogICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uYXBwZW5kQ2hpbGQobmV3RWxlKQogICAgICAgICAgICAgICAgICAgIG5ld0VsZXMucHVzaChuZXdFbGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZWxmLmluc2VydEVsZW1lbnQoY29sbGVjdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gbGFzdFNjcm9sbFRvcDsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGxhc3RTY3JvbGxUb3A7CiAgICAgICAgICAgIHRoaXMucGFnZUFjdGlvbihkb2MsIG5ld0VsZXMpOwogICAgICAgICAgICBsZXQgZW5hYmxlSGlzdG9yeSA9IHRoaXMuY3VyU2l0ZVJ1bGUuaGlzdG9yeTsKICAgICAgICAgICAgbGV0IGVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA9IGZhbHNlOwogICAgICAgICAgICBpZiAoZW5hYmxlSGlzdG9yeSA9PSAxKSB7CiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5ID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbmFibGVIaXN0b3J5ID09IDIpIHsKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnkgPSB0cnVlOwogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbmFibGVIaXN0b3J5ID09IDApIHsKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnkgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnkgPSBydWxlc0RhdGEuZW5hYmxlSGlzdG9yeTsKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA9IHJ1bGVzRGF0YS5lbmFibGVIaXN0b3J5QWZ0ZXJJbnNlcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGVuYWJsZUhpc3RvcnkpIHsKICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeVVybCA9IGVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA/IHRoaXMuY3VyVXJsIDogdGhpcy5vbGRVcmw7CiAgICAgICAgICAgICAgICBpZih0aGlzLmhpc3RvcnlVcmwgIT0gbG9jYXRpb24uaHJlZikgewogICAgICAgICAgICAgICAgICAgIGxldCBpc0pzID0gL14oamF2YXNjcmlwdHwjKS8udGVzdCh0aGlzLmhpc3RvcnlVcmwucmVwbGFjZSgiI3B7IiwgIiIpLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpc3RvcnlUaXRsZSA9IGVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA/IGRvYy50aXRsZSA6IG9sZFRpdGxlOwogICAgICAgICAgICAgICAgICAgICAgICBfdW5zYWZlV2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHVuZGVmaW5lZCwgaGlzdG9yeVRpdGxlLCB0aGlzLmhpc3RvcnlVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGhpc3RvcnlUaXRsZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIHZhciBydWxlUGFyc2VyID0gbmV3IFJ1bGVQYXJzZXIoKTsKCiAgICBjbGFzcyBTaWRlQ29udHJvbGxlciB7CiAgICAgICAgLy9zdGF0aWMgY29udHJvbGxlcjsKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8qc3RhdGljIGdldEluc3RhbmNlKCkgewogICAgICAgICAgICBpZiAoIVNpZGVDb250cm9sbGVyLmNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgIFNpZGVDb250cm9sbGVyLmNvbnRyb2xsZXIgPSBuZXcgU2lkZUNvbnRyb2xsZXIoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gU2lkZUNvbnRyb2xsZXIuY29udHJvbGxlcjsKICAgICAgICB9Ki8KCiAgICAgICAgc2V0dXAoKSB7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpZGVDb250cm9sbGVyID09PSBmYWxzZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlciAmJiAhcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaWRlQ29udHJvbGxlcikgcmV0dXJuOwogICAgICAgICAgICB0aGlzLmFkZFRvU3RhZ2UoKTsKICAgICAgICB9CgogICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluaXRlZCkgcmV0dXJuOwogICAgICAgICAgICB0aGlzLmluaXRlZCA9IHRydWU7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgdGhpcy5jc3NUZXh0ID0gYAogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyIHsKICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgICAgdG9wOiBjYWxjKDUwJSAtIDgzcHgpOwogICAgICAgICAgICAgICAgIGxlZnQ6IGNhbGMoOTklIC0gNDBweCk7CiAgICAgICAgICAgICAgICAgd2lkdGg6IDQwcHg7CiAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiByZ2IoMCAwIDApIDBweCAwcHggMTBweDsKICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZmQwIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ2IWltcG9ydGFudDsKICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjM1OwogICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjVzIGVhc2UsIGJhY2tncm91bmQgLjVzLCBib3gtc2hhZG93IC41czsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlcjpob3ZlciB7CiAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciAqIHsKICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogYXJpYWw7CiAgICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOwogICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgY29sb3I6IGJsYWNrIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogbm9ybWFsOwogICAgICAgICAgICAgICAgIGZsb2F0OiBub25lOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLnN0b3AgewogICAgICAgICAgICAgICAgIC13ZWJraXQtZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgICAgICAgZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAucGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYnRuIHsKICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMDsKICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4xNXMgZWFzZS1pbi1vdXQsIG9wYWNpdHkgLjNzIGVhc2U7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgLnBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLWJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjUpOwogICAgICAgICAgICAgICAgIGNvbG9yOiByZWQhaW1wb3J0YW50OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLm1pblNpemUgewogICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYigwIDAgMCAvIDAlKSAwcHggMHB4IDBweDsKICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwMDAhaW1wb3J0YW50OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLm1pblNpemUgLnBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLWJ0biB7CiAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IHN2ZyB7CiAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1tb3ZlID4gc3ZnOmhvdmVyIHsKICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIubWluU2l6ZSAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IHN2ZyB7CiAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IGltZywKICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IHNwYW4gewogICAgICAgICAgICAgICAgIHdpZHRoOiAzNXB4OwogICAgICAgICAgICAgICAgIGhlaWdodDogMzVweDsKICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIubWluU2l6ZSAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IGltZywKICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci5taW5TaXplICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1tb3ZlID4gc3BhbiB7CiAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogcmdiKDI1NSAyNTUgMjU1KSAwcHggMHB4IDEwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLXBhZ2VudW0gewogICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICByaWdodDogY2FsYyg1MCUgLSAxNXB4KTsKICAgICAgICAgICAgICAgICB0b3A6IGNhbGMoNTAlIC0gMTVweCk7CiAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDk5OwogICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgICB3aWR0aDogMzBweDsKICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IC41cyBlYXNlOwogICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLm1pblNpemUgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLXBhZ2VudW0gewogICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuODsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgYDsKICAgICAgICAgICAgbGV0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGZyYW1lLmlkID0gInBhZ2V0dWFsLXNpZGVDb250cm9sbGVyIjsKICAgICAgICAgICAgZnJhbWUuaW5uZXJIVE1MID0gY3JlYXRlSFRNTChgCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci10b3AiIGNsYXNzPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci1idG4iPuKKvDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItcHJlIiBjbGFzcz0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYnRuIj7iiKc8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSI+PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHN0eWxlPSJib3JkZXItcmFkaXVzOiAxNXB4O2Rpc3BsYXk6IGluaXRpYWw7cG9zaXRpb246IHJlbGF0aXZlO2N1cnNvcjogcG9pbnRlcjttYXJnaW46IDA7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI5NiA0NDBjLTQ0LjEgMC04MCAzNS45LTgwIDgwczM1LjkgODAgODAgODAgODAtMzUuOSA4MC04MC0zNS45LTgwLTgwLTgweiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjxwYXRoIGQ9Ik05NjAgNTEyYzAtMjQ3LTIwMS00NDgtNDQ4LTQ0OFM2NCAyNjUgNjQgNTEyYzAgMS44IDAuMSAzLjUgMC4xIDUuMyAwIDAuOS0wLjEgMS44LTAuMSAyLjdoMC4yQzY4LjUgNzYzLjMgMjY3LjcgOTYwIDUxMiA5NjBjMjM2LjIgMCA0MzAuMS0xODMuNyA0NDYuNy00MTUuNyAwLjEtMC44IDAuMS0xLjYgMC4yLTIuMyAwLjQtNC42IDAuNS05LjMgMC43LTEzLjkgMC4xLTIuNyAwLjQtNS4zIDAuNC04aC0wLjJjMC0yLjggMC4yLTUuNCAwLjItOC4xeiBtLTE1MiA4YzAgNDQuMS0zNS45IDgwLTgwIDgwcy04MC0zNS45LTgwLTgwIDM1LjktODAgODAtODAgODAgMzUuOSA4MCA4MHpNNTEyIDkyOEMyODQuNCA5MjggOTkgNzQ0LjMgOTYuMSA1MTcuMyA5Ny42IDQwOC4zIDE4Ni42IDMyMCAyOTYgMzIwYzExMC4zIDAgMjAwIDg5LjcgMjAwIDIwMCAwIDEyNy45IDEwNC4xIDIzMiAyMzIgMjMyIDYyLjkgMCAxMTkuOS0yNS4yIDE2MS43LTY2LTY2IDE0Mi43LTIxMC40IDI0Mi0zNzcuNyAyNDJ6IiBmaWxsPSIjNjA0YjRhIj48L3BhdGg+PC9zdmc+PGRpdiBpZD0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItcGFnZW51bSI+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW5leHQiIGNsYXNzPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci1idG4iPuKIqDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci1ib3R0b20iIGNsYXNzPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci1idG4iPuKKuzwvZGl2PgogICAgICAgICAgICBgKTsKICAgICAgICAgICAgbGV0IHRvcCA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNwYWdldHVhbC1zaWRlQ29udHJvbGxlci10b3AiKTsKICAgICAgICAgICAgbGV0IHByZSA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1wcmUiKTsKICAgICAgICAgICAgbGV0IG1vdmUgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSIpOwogICAgICAgICAgICBsZXQgbmV4dCA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1uZXh0Iik7CiAgICAgICAgICAgIGxldCBib3R0b20gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYm90dG9tIik7CiAgICAgICAgICAgIGxldCBwYWdlbnVtID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLXBhZ2VudW0iKTsKICAgICAgICAgICAgaWYgKHNpZGVDb250cm9sbGVySWNvbikgbW92ZS5pbm5lckhUTUwgPSBzaWRlQ29udHJvbGxlckljb247CgogICAgICAgICAgICBmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJkYmxjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CgogICAgICAgICAgICBmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5oaWRlVGltZXIpOwogICAgICAgICAgICAgICAgZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgibWluU2l6ZSIpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBlID0+IHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLmhpZGVUaW1lcik7CiAgICAgICAgICAgICAgICBzZWxmLmhpZGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGZyYW1lLmNsYXNzTGlzdC5hZGQoIm1pblNpemUiKTsKICAgICAgICAgICAgICAgIH0sIDgwMCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcHJlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcHJlUGFnZUJhciA9IGdldFBhZ2VCYXIoKS5wcmVCYXI7CiAgICAgICAgICAgICAgICBpZiAocHJlUGFnZUJhcikgewogICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvUGFnZUJhcihwcmVQYWdlQmFyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsVG9wIC0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHRydWUpOwoKICAgICAgICAgICAgbmV4dC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHBhZ2VCYXJPYmogPSBnZXRQYWdlQmFyKCk7CiAgICAgICAgICAgICAgICBsZXQgbmV4dFBhZ2VCYXIgPSBwYWdlQmFyT2JqLm5leHRCYXI7CiAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2VCYXIpIHsKICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIobmV4dFBhZ2VCYXIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUJhck9iai5wcmVCYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbEggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IChzY3JvbGxIIHx8IDk5OTk5OTkpLCBiZWhhdmlvcjogJ3Ntb290aCd9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsVG9wICsgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIHRvcC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wPTA7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPTA7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIGJvdHRvbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLnNoaWZ0S2V5ICYmICFlLm1ldGFLZXkpIHsKICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTdG9wKHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IHNjcm9sbEggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gc2Nyb2xsSCB8fCA5OTk5OTk5OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbEggfHwgOTk5OTk5OTsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0sIHRydWUpOwoKICAgICAgICAgICAgbGV0IGluaXRYLCBpbml0WSwgbW92aW5nID0gZmFsc2U7CiAgICAgICAgICAgIG1vdmUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGlmICghbW92aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RvcCghaXNQYXVzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHRydWUpOwoKICAgICAgICAgICAgbW92ZS5vbmNvbnRleHRtZW51ID0gZSA9PiB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBwaWNrZXIuc3RhcnQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgbGV0IHJlbW92ZVRpbWVyOwoKICAgICAgICAgICAgbGV0IG1vdXNlTW92ZUhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChtb3ZpbmcpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgd2luZG93SGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgIGxldCB3aW5kb3dXaWR0aD13aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgaW5pdFggPSAoZS5jbGllbnRYIC0gMTAgKyA0MCkgLyB3aW5kb3dXaWR0aCAqIDEwMDsKICAgICAgICAgICAgICAgICAgICBpbml0WSA9IChlLmNsaWVudFkgLSA4MyArIDgzKSAvIHdpbmRvd0hlaWdodCAqIDEwMDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLnRvcCA9IGBjYWxjKCR7aW5pdFl9JSAtIDgzcHgpYDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLmxlZnQgPSBgY2FsYygke2luaXRYfSUgLSA0MHB4KWA7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGUuY2xpZW50WCAtIGluaXRYKSArIE1hdGguYWJzKGUuY2xpZW50WSAtIGluaXRZKSA+IDIwKSB7CiAgICAgICAgICAgICAgICAgICAgbW92aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocmVtb3ZlVGltZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBsZXQgbW91c2VVcEhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZW1vdmVUaW1lcik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBtb3VzZU1vdmVIYW5kbGVyLCB0cnVlKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCBtb3VzZVVwSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBpZiAobW92aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnNpZGVDb250cm9sbGVyUG9zID0ge3g6IHBhcnNlSW50KGluaXRYKSwgeTogcGFyc2VJbnQoaW5pdFkpfTsKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGUgPT4gewogICAgICAgICAgICAgICAgaW5pdFggPSBlLmNsaWVudFg7CiAgICAgICAgICAgICAgICBpbml0WSA9IGUuY2xpZW50WTsKICAgICAgICAgICAgICAgIG1vdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlbW92ZVRpbWVyKTsKICAgICAgICAgICAgICAgIHJlbW92ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgbW91c2VNb3ZlSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgbW91c2VVcEhhbmRsZXIsIHRydWUpOwogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTsKICAgICAgICAgICAgdGhpcy5wYWdlbnVtID0gcGFnZW51bTsKICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlclBvcykgewogICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS50b3AgPSBgY2FsYygke3J1bGVzRGF0YS5zaWRlQ29udHJvbGxlclBvcy55fSUgLSA4M3B4KWA7CiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLnN0eWxlLmxlZnQgPSBgY2FsYygke3J1bGVzRGF0YS5zaWRlQ29udHJvbGxlclBvcy54fSUgLSA0MHB4KWA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFkZFRvU3RhZ2UoKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgICBpZiAoIXRoaXMuc3R5bGVFbGUgfHwgIXRoaXMuc3R5bGVFbGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdHlsZUVsZSA9IF9HTV9hZGRTdHlsZSh0aGlzLmNzc1RleHQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghaXNQYXVzZSkgewogICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5jbGFzc0xpc3QucmVtb3ZlKCJzdG9wIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5wYWdlbnVtLmlubmVyVGV4dCA9IGN1clBhZ2U7CiAgICAgICAgICAgIHRoaXMuZnJhbWUudGl0bGUgPSBpMThuKCJwYWdlIikgKyBjdXJQYWdlOwogICAgICAgICAgICBpZiAodGhpcy5mcmFtZS5wYXJlbnROb2RlKSByZXR1cm47CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpOwogICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpOwogICAgICAgICAgICB0aGlzLmZyYW1lLmNsYXNzTGlzdC5hZGQoIm1pblNpemUiKTsKICAgICAgICB9CgogICAgICAgIHJlbW92ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWUgJiYgdGhpcy5mcmFtZS5wYXJlbnROb2RlKSB0aGlzLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mcmFtZSk7CiAgICAgICAgfQogICAgfQogICAgY29uc3Qgc2lkZUNvbnRyb2xsZXIgPSBuZXcgU2lkZUNvbnRyb2xsZXIoKTsKCiAgICBjbGFzcyBOZXh0U3dpdGNoIHsKICAgICAgICAvL3N0YXRpYyBuZXh0U3dpdGNoOwogICAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgICAgICB0aGlzLmluaXRlZCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgLypzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgICAgIGlmICghTmV4dFN3aXRjaC5uZXh0U3dpdGNoKSB7CiAgICAgICAgICAgICAgICBOZXh0U3dpdGNoLm5leHRTd2l0Y2ggPSBuZXcgTmV4dFN3aXRjaCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBOZXh0U3dpdGNoLm5leHRTd2l0Y2g7CiAgICAgICAgfSovCgogICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluaXRlZCkgcmV0dXJuOwogICAgICAgICAgICB0aGlzLmluaXRlZCA9IHRydWU7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgdGhpcy5jc3NUZXh0ID0gYAogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2ggewogICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgICAgbGVmdDogY2FsYyg1MCUgLSAxNjBweCk7CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogYWxpY2VibHVlOwogICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjk1OwogICAgICAgICAgICAgIGNvbG9yOiAjMTYxNjE2OwogICAgICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYigwIDAgMCkgMHB4IDBweCAxMHB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+LnRpdGxlIHsKICAgICAgICAgICAgICBtYXJnaW46IC01cHggNDVweCAxMHB4IDQ1cHg7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlcmVkOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+Lmdyb3VwIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtbmV4dFN3aXRjaD4uZ3JvdXA+c3BhbiB7CiAgICAgICAgICAgICAgY29sb3I6ICMxNjE2MTY7CiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgIG1hcmdpbjogM3B4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogbGFyZ2VyOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+Lmdyb3VwPnNwYW46aG92ZXIgewogICAgICAgICAgICAgIGNvbG9yOiByZWQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtbmV4dFN3aXRjaD4uZ3JvdXA+c3Bhbi5jdXJyZW50IHsKICAgICAgICAgICAgICBib3JkZXI6IDJweCBkb3R0ZWQgcmVkOwogICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtbmV4dFN3aXRjaD4uY2xvc2VTd2l0Y2ggewogICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICB0b3A6IDNweDsKICAgICAgICAgICAgICByaWdodDogMTBweDsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOwogICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtbmV4dFN3aXRjaCBzdmcgewogICAgICAgICAgICAgIHdpZHRoOiAzMHB4OwogICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAgIGZpbGw6ICMxNjE2MTY7CiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1uZXh0U3dpdGNoIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOwogICAgICAgICAgICAgfQogICAgICAgICAgICBgOwogICAgICAgICAgICBsZXQgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgZnJhbWUuaWQgPSAicGFnZXR1YWwtbmV4dFN3aXRjaCI7CiAgICAgICAgICAgIGZyYW1lLmlubmVySFRNTCA9IGNyZWF0ZUhUTUwoYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGl0bGUiPiR7aTE4bigibmV4dFN3aXRjaCIpfTwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZVN3aXRjaCI+CiAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI3NTQiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01MTIgMTI4YzIxMiAwIDM4NCAxNzIgMzg0IDM4NHMtMTcyIDM4NC0zODQgMzg0LTM4NC0xNzItMzg0LTM4NCAxNzItMzg0IDM4NC0zODRtMC02NEMyNjQuOCA2NCA2NCAyNjQuOCA2NCA1MTJzMjAwLjggNDQ4IDQ0OCA0NDggNDQ4LTIwMC44IDQ0OC00NDhTNzU5LjIgNjQgNTEyIDY0eiBtMjM4LjQgMjU0LjRsLTQ1LjYtNDUuNkw1MTIgNDY3LjIgMzE4LjQgMjczLjZsLTQ1LjYgNDUuNkw0NjcuMiA1MTIgMjczLjYgNzA1LjZsNDUuNiA0NS42TDUxMiA1NTcuNmwxOTMuNiAxOTMuNiA0NS42LTQ1LjZMNTU3LjYgNTEybDE5Mi44LTE5My42eiIgcC1pZD0iMjc1NSI+CiAgICAgICAgICAgICAgICAgICAgPC9wYXRoPgogICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ3JvdXAiPjwvZGl2PgogICAgICAgICAgICBgKTsKICAgICAgICAgICAgbGV0IGdyb3VwID0gZnJhbWUucXVlcnlTZWxlY3RvcigiLmdyb3VwIik7CiAgICAgICAgICAgIGxldCBjbG9zZUJ0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi5jbG9zZVN3aXRjaCIpOwogICAgICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lOwogICAgICAgICAgICBsZXQgY3VycmVudFNwYW47CiAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubmV4dExpbmsuZm9yRWFjaCgobGluaywgaSkgPT4gewogICAgICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZ2V0RWxlbWVudChsaW5rLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAiPGI+IiArIChpICsgMSkgKyAiPC9iPjogIjsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0SW5uZXIgPSB0YXJnZXQuaW5uZXJUZXh0LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICBzcGFuLmlubmVySFRNTCA9IGluZGV4ICsgKHRhcmdldElubmVyIHx8IGxpbmspOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzcGFuLmlubmVySFRNTCA9IGluZGV4ICsgIk5vdCBGb3VuZCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzcGFuLnRpdGxlID0gbGluazsKICAgICAgICAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNwYW4pIGN1cnJlbnRTcGFuLmNsYXNzTGlzdC5yZW1vdmUoImN1cnJlbnQiKTsKICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoImN1cnJlbnQiKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3BhbiA9IHNwYW47CiAgICAgICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gaTsKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oIm5leHRTd2l0Y2hfIiArIGxvY2F0aW9uLmhvc3QsIG5leHRJbmRleCA9PT0gMCA/ICIiIDogbmV4dEluZGV4KTsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clVybCArPSAiI3BhZ2V0dWFsIjsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLm9sZFVybCA9IHJ1bGVQYXJzZXIuY3VyVXJsOwogICAgICAgICAgICAgICAgICAgIGF1dG9Mb2FkTnVtID0gLTE7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLm5leHRMaW5rSHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5nZXROZXh0TGluayhydWxlUGFyc2VyLnBhZ2VEb2MgfHwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKGkgPT0gbmV4dEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCJjdXJyZW50Iik7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNwYW4gPSBzcGFuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQoc3Bhbik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc3RhcnQoKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgICBpZiAoIXRoaXMuc3R5bGVFbGUgfHwgIXRoaXMuc3R5bGVFbGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdHlsZUVsZSA9IF9HTV9hZGRTdHlsZSh0aGlzLmNzc1RleHQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTsKICAgICAgICB9CgogICAgICAgIGNsb3NlKCkgewogICAgICAgICAgICBpZiAodGhpcy5mcmFtZS5wYXJlbnROb2RlKSB0aGlzLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mcmFtZSk7CiAgICAgICAgfQogICAgfQogICAgY29uc3QgbmV4dFN3aXRjaCA9IG5ldyBOZXh0U3dpdGNoKCk7CgogICAgY2xhc3MgUGlja2VyIHsKICAgICAgICAvL3N0YXRpYyBwaWNrZXI7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICAvKnN0YXRpYyBnZXRJbnN0YW5jZSgpIHsKICAgICAgICAgICAgaWYgKCFQaWNrZXIucGlja2VyKSB7CiAgICAgICAgICAgICAgICBQaWNrZXIucGlja2VyID0gbmV3IFBpY2tlcigpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBQaWNrZXIucGlja2VyOwogICAgICAgIH0qLwoKICAgICAgICBpbml0KCkgewogICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuc2lnbkxpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5jc3NUZXh0ID0gYAogICAgICAgICAgICAgYm9keS5wYWdldHVhbC1waWNrZXIsCiAgICAgICAgICAgICBib2R5LnBhZ2V0dWFsLXBpY2tlciAqOmhvdmVyLAogICAgICAgICAgICAgYm9keS5wYWdldHVhbC1waWNrZXIgYTpob3ZlciB7CiAgICAgICAgICAgICAgY3Vyc29yOiBjcm9zc2hhaXIgIWltcG9ydGFudDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgewogICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgICAgbGVmdDogY2FsYyg1MCUgLSAxNzhweCk7CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogYWxpY2VibHVlOwogICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjk1OwogICAgICAgICAgICAgIGNvbG9yOiAjMTYxNjE2OwogICAgICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDY7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYigwIDAgMCkgMHB4IDBweCAxMHB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAqIHsKICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgICBmb250LWZhbWlseTogVGltZXMgTmV3IFJvbWFuOwogICAgICAgICAgICAgIG92ZXJmbG93OiBpbml0aWFsOwogICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlcj4udGl0bGUgewogICAgICAgICAgICAgIG1hcmdpbjogLTVweCA0NXB4IDEwcHggNDVweDsKICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgY3Vyc29yOiBtb3ZlOwogICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlcmVkOwogICAgICAgICAgICAgIGhlaWdodDogaW5pdGlhbDsKICAgICAgICAgICAgICB3aWR0aDogaW5pdGlhbDsKICAgICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgYnV0dG9uIHsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOwogICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB1bnNldCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlcj4uY2xvc2VQaWNrZXIgewogICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICB0b3A6IDNweDsKICAgICAgICAgICAgICByaWdodDogMTBweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXI+LmxvZ29JY29uIHsKICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgdG9wOiAzcHg7CiAgICAgICAgICAgICAgbGVmdDogMTBweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXI+LmxvZ29JY29uLnNob3dTaWduPnN2Zz5wYXRoIHsKICAgICAgICAgICAgICBmaWxsOiBncmF5OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciB0ZXh0YXJlYXsKICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDY1cHgpOwogICAgICAgICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICAgICAgICBtaW4td2lkdGg6IDI5MHB4OwogICAgICAgICAgICAgIG1heC13aWR0aDogY2FsYyg2NXZ3IC0gNTBweCk7CiAgICAgICAgICAgICAgbWluLWhlaWdodDogdW5zZXQ7CiAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDEycHg7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICAgICAgICBjb2xvcjogIzQ5NTA1NzsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4xNXMgZWFzZS1pbi1vdXQsYm94LXNoYWRvdyAuMTVzIGVhc2UtaW4tb3V0OwogICAgICAgICAgICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94OwogICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4OwogICAgICAgICAgICAgIHJlc2l6ZTogYm90aDsKICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDFweCA1cHggMXB4ICNkZGQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIHRleHRhcmVhOmZvY3VzIHsKICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7CiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICM4MGJkZmY7CiAgICAgICAgICAgICAgb3V0bGluZTogMDsKICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAzLjJweCByZ2IoMCAxMjMgMjU1IC8gMjUlKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgW3R5cGU9Y2hlY2tib3hdLAogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciBbdHlwZT1yYWRpb10gewogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgICAgICAgICAgIGhlaWdodDogMjVweDsKICAgICAgICAgICAgICB3aWR0aDogMjVweDsKICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogNXB4OwogICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgYXBwZWFyYW5jZTogYXV0bzsKICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgcG9zaXRpb246IGluaXRpYWw7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIGxhYmVsIHsKICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgY29sb3I6IGJsYWNrOwogICAgICAgICAgICAgIHBvc2l0aW9uOiBpbml0aWFsOwogICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLmJvdHRvbSB7CiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgICBtYXJnaW46IDEwcHggMDsKICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLmJvdHRvbT5idXR0b24gewogICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgc3ZnIHsKICAgICAgICAgICAgICB3aWR0aDogMzBweDsKICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICBmaWxsOiAjMTYxNjE2OwogICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIHN2ZyAqIHsKICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLmFsbHBhdGggewogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgICAgICAgICBtYXJnaW46IDEwcHggYXV0bzsKICAgICAgICAgICAgICBtYXgtd2lkdGg6IDMzMHB4OwogICAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgICBjdXJzb3I6IGNvbnRleHQtbWVudTsKICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDQycHg7CiAgICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOm1heC1oZWlnaHQgMXMgZWFzZS1pbjsKICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246bWF4LWhlaWdodCAxcyBlYXNlLWluOwogICAgICAgICAgICAgIHRyYW5zaXRpb246bWF4LWhlaWdodCAxcyBlYXNlLWluOwogICAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLmFsbHBhdGg6aG92ZXIgewogICAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxMzBweCk7CiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5hbGxwYXRoPnNwYW4ucGF0aCB7CiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuYWxscGF0aD5zcGFuLnBhdGg6aG92ZXIgewogICAgICAgICAgICAgIGNvbG9yOiBvcmFuZ2VyZWQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5tb3JlQ29uZmlnIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQ7CiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7CiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5jb21tYW5kIHsKICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICBjb2xvcjogYmxhY2shaW1wb3J0YW50OwogICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICBmb250LXNpemU6IGxhcmdlOwogICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5jb21tYW5kOmhvdmVyIHsKICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlcmVkOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAjc2hvd0RldGFpbCB7CiAgICAgICAgICAgICAgZmxvYXQ6IGluaXRpYWw7CiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgI3Nob3dEZXRhaWwuc2hvd0RldGFpbCB7CiAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAjc2hvd0RldGFpbD5zdmcgewogICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zcyBlYXNlOwogICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zcyBlYXNlOwogICAgICAgICAgICAgIHRyYW5zaXRpb246dHJhbnNmb3JtIDAuMyBlYXNlOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAjc2hvd0RldGFpbC5zaG93RGV0YWlsPnN2ZyB7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLnRlbXBSdWxlIHsKICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgIGhlaWdodDogMzAwcHg7CiAgICAgICAgICAgICAgbWluLWhlaWdodDogMTUwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyICNzYXZlRGV0YWlsIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICBib3R0b206IDEwcHg7CiAgICAgICAgICAgICAgcmlnaHQ6IDhweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLnNob3dEZXRhaWx+I3NhdmVEZXRhaWwgewogICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgI3NhdmVEZXRhaWwgc3ZnIHsKICAgICAgICAgICAgICB3aWR0aDogMzVweDsKICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5hZGRQcm9wIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgIGJvdHRvbTogNDVweDsKICAgICAgICAgICAgICByaWdodDogMTJweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLnNob3dEZXRhaWx+LmFkZFByb3AgewogICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5hZGRQcm9wPmJ1dHRvbiB7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAzMHB4OwogICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCxzYW5zLXNlcmlmOwogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzNXB4OwogICAgICAgICAgICAgIGNvbG9yOiAjMTYxNjE2OwogICAgICAgICAgICAgfQogICAgICAgICAgICBgOwogICAgICAgICAgICB0aGlzLm1haW5TaWduRGl2ID0gdGhpcy5jcmVhdGVTaWduRGl2KCk7CiAgICAgICAgICAgIHRoaXMuYWxsU2lnbkRpdiA9IFtdOwogICAgICAgICAgICBsZXQgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgZnJhbWUuaWQgPSAicGFnZXR1YWwtcGlja2VyIjsKICAgICAgICAgICAgZnJhbWUuaW5uZXJIVE1MID0gY3JlYXRlSFRNTChgCiAgICAgICAgICAgICAgICA8YnV0dG9uIHRpdGxlPSJQYWdldHVhbCIgdHlwZT0iYnV0dG9uIiBjbGFzcz0ibG9nb0ljb24iPgogICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgY2xhc3M9InVwU3ZnIHBhZ2V0dWFsIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI5NiA0NDBjLTQ0LjEgMC04MCAzNS45LTgwIDgwczM1LjkgODAgODAgODAgODAtMzUuOSA4MC04MC0zNS45LTgwLTgwLTgweiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjxwYXRoIGQ9Ik05NjAgNTEyYzAtMjQ3LTIwMS00NDgtNDQ4LTQ0OFM2NCAyNjUgNjQgNTEyYzAgMS44IDAuMSAzLjUgMC4xIDUuMyAwIDAuOS0wLjEgMS44LTAuMSAyLjdoMC4yQzY4LjUgNzYzLjMgMjY3LjcgOTYwIDUxMiA5NjBjMjM2LjIgMCA0MzAuMS0xODMuNyA0NDYuNy00MTUuNyAwLjEtMC44IDAuMS0xLjYgMC4yLTIuMyAwLjQtNC42IDAuNS05LjMgMC43LTEzLjkgMC4xLTIuNyAwLjQtNS4zIDAuNC04aC0wLjJjMC0yLjggMC4yLTUuNCAwLjItOC4xeiBtLTE1MiA4YzAgNDQuMS0zNS45IDgwLTgwIDgwcy04MC0zNS45LTgwLTgwIDM1LjktODAgODAtODAgODAgMzUuOSA4MCA4MHpNNTEyIDkyOEMyODQuNCA5MjggOTkgNzQ0LjMgOTYuMSA1MTcuMyA5Ny42IDQwOC4zIDE4Ni42IDMyMCAyOTYgMzIwYzExMC4zIDAgMjAwIDg5LjcgMjAwIDIwMCAwIDEyNy45IDEwNC4xIDIzMiAyMzIgMjMyIDYyLjkgMCAxMTkuOS0yNS4yIDE2MS43LTY2LTY2IDE0Mi43LTIxMC40IDI0Mi0zNzcuNyAyNDJ6IiBmaWxsPSIjNjA0YjRhIj48L3BhdGg+PC9zdmc+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlIiB0aXRsZT0iJHtpMThuKCJjb25maWd1cmUiKX0iPiR7aTE4bigicGlja2VyIil9PC9kaXY+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHRpdGxlPSIke2kxOG4oImNsb3NlUGlja2VyIil9IiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZVBpY2tlciI+CiAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01MTIgMTI4YzIxMiAwIDM4NCAxNzIgMzg0IDM4NHMtMTcyIDM4NC0zODQgMzg0LTM4NC0xNzItMzg0LTM4NCAxNzItMzg0IDM4NC0zODRtMC02NEMyNjQuOCA2NCA2NCAyNjQuOCA2NCA1MTJzMjAwLjggNDQ4IDQ0OCA0NDggNDQ4LTIwMC44IDQ0OC00NDhTNzU5LjIgNjQgNTEyIDY0eiBtMjM4LjQgMjU0LjRsLTQ1LjYtNDUuNkw1MTIgNDY3LjIgMzE4LjQgMjczLjZsLTQ1LjYgNDUuNkw0NjcuMiA1MTIgMjczLjYgNzA1LjZsNDUuNiA0NS42TDUxMiA1NTcuNmwxOTMuNiAxOTMuNiA0NS42LTQ1LjZMNTU3LjYgNTEybDE5Mi44LTE5My42eiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjwvc3ZnPgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbGxwYXRoIiB0aXRsZT0iJHtpMThuKCJzd2l0Y2hTZWxlY3RvciIpfSI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9InNlbGVjdG9yIiBzcGVsbGNoZWNrPSJmYWxzZSIgbmFtZT0ic2VsZWN0b3IiIHBsYWNlaG9sZGVyPSIke2kxOG4oInBpY2tlclBsYWNlaG9sZGVyIil9Ij48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjaGVjayIgdGl0bGU9IiR7aTE4bigicGlja2VyQ2hlY2siKX0iIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiAxMjhhMzg0IDM4NCAwIDEgMCAwIDc2OCAzODQgMzg0IDAgMCAwIDAtNzY4eiBtMC04NS4zMzMzMzNjMjU5LjIgMCA0NjkuMzMzMzMzIDIxMC4xMzMzMzMgNDY5LjMzMzMzMyA0NjkuMzMzMzMzcy0yMTAuMTMzMzMzIDQ2OS4zMzMzMzMtNDY5LjMzMzMzMyA0NjkuMzMzMzMzUzQyLjY2NjY2NyA3NzEuMiA0Mi42NjY2NjcgNTEyIDI1Mi44IDQyLjY2NjY2NyA1MTIgNDIuNjY2NjY3ek02OTYuMTQ5MzMzIDI5OC42NjY2NjdMNzY4IDM0OS44NjY2NjcgNDcxLjU5NDY2NyA3MjUuMzMzMzMzIDI1NiA1NzEuNzMzMzMzbDUzLjg4OC02OC4yNjY2NjYgMTQzLjc0NCAxMDIuNHoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48L3N2Zz4KICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbSI+CiAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPSJ4cGF0aCIgaWQ9ImNoZWNrYm94X2lkIiB0eXBlPSJjaGVja2JveCIgLz4KICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iY2hlY2tib3hfaWQiPlhQYXRoPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZWRpdCIgdGl0bGU9IiR7aTE4bigiZ290b0VkaXQiKX0iIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBzdHlsZT0iY29sb3I6IG9yYW5nZXJlZDtmaWxsOiBvcmFuZ2VyZWQ7IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzc1Ljg0IDM5Mi43NjhsLTE1NS4yLTE3Mi4zNTJMMTYwLjc2OCA2NDMuMjY0bC0zOC4zNjggMTg3LjkzNiAxOTAuNTYtMTIuODMyek05MjkuOTUyIDIyOS45NTJsLTEzMS4yLTE1MC45NDQtMC4yODgtMC4zMmExNiAxNiAwIDAgMC0yMi41OTItMC45NmwtMTMxLjE2OCAxMjAuNTc2IDE1NS4xNjggMTcyLjM1MiAxMjguODMyLTExOC40NjRhMTUuOTM2IDE1LjkzNiAwIDAgMCAxLjI0OC0yMi4yNHpNOTYgODk2aDgzMnY2NEg5NnoiPgogICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9yZUNvbmZpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgdGl0bGU9IiR7aTE4bignZm9yY2VTdGF0ZUlmcmFtZScpfSI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9ImZvcmNlU3RhdGUiIGlkPSJmb3JjZVN0YXRlSWZyYW1lIiB0eXBlPSJyYWRpbyIgLz4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJmb3JjZVN0YXRlSWZyYW1lIj4ke2kxOG4oJ2lmcmFtZScpfTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPSIke2kxOG4oJ2ZvcmNlU3RhdGVEeW5hbWljJyl9Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iZm9yY2VTdGF0ZSIgaWQ9ImZvcmNlU3RhdGVEeW5hbWljIiB0eXBlPSJyYWRpbyIgLz4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJmb3JjZVN0YXRlRHluYW1pYyI+JHtpMThuKCdkeW5hbWljJyl9PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgdGl0bGU9IiR7aTE4bignZm9yY2VTdGF0ZURpc2FibGUnKX0iPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPSJmb3JjZVN0YXRlIiBpZD0iZm9yY2VTdGF0ZURpc2FibGUiIHR5cGU9InJhZGlvIiAvPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZvcmNlU3RhdGVEaXNhYmxlIj4ke2kxOG4oJ2Rpc2FibGUnKX08L2xhYmVsPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibmV4dFN3aXRjaCIgY2xhc3M9ImNvbW1hbmQiIHRpdGxlPSIke2kxOG4oIm5leHRTd2l0Y2giKX0iIHR5cGU9ImJ1dHRvbiI+JHtpMThuKCJuZXh0U3dpdGNoIil9PC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJsb2FkTm93IiBjbGFzcz0iY29tbWFuZCIgdGl0bGU9IiR7aTE4bigibG9hZE5vdyIpfSIgdHlwZT0iYnV0dG9uIj4ke2kxOG4oImxvYWROb3ciKX08L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImF1dG9TY3JvbGwiIGNsYXNzPSJjb21tYW5kIiB0aXRsZT0iJHtpMThuKCJ0b2dnbGVBdXRvU2Nyb2xsIil9IiB0eXBlPSJidXR0b24iPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgY2xhc3M9InRlbXBSdWxlIiBzcGVsbGNoZWNrPSJmYWxzZSIgcGxhY2Vob2xkZXI9IntSdWxlIG9iamVjdH0iIHRpdGxlPSJSdWxlIGZvciBjdXJyZW50IHNpdGUiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNob3dEZXRhaWwiIHRpdGxlPSIiIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMS4xIDYzLjdjLTI0Ny40IDAtNDQ4IDIwMC42LTQ0OCA0NDhzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDgtMjAwLjYtNDQ4LTQ0OC00NDh6IG0yODEuMiAzNzQuNUw1MzUuNiA2OTQuOWMtMTIuNSAxMi41LTMyLjggMTIuNS00NS4zIDBsLTI1NS44LTI1NmMtMTIuNS0xMi41LTEyLjUtMzIuOCAwLTQ1LjNzMzIuOC0xMi41IDQ1LjMgMGwyMTAuNyAyMTAuN2MxMi41IDEyLjUgMzIuOCAxMi41IDQ1LjMgMGwyMTEuNC0yMTEuNGMxMi41LTEyLjUgMzIuOC0xMi41IDQ1LjMgMCAxMi4zIDEyLjUgMTIuMyAzMi44LTAuMiA0NS4zeiIgZmlsbD0ib3JhbmdlcmVkIj48L3BhdGg+PC9zdmc+CiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZGRQcm9wIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJhZGRPdGhlclByb3AiIHRpdGxlPSIke2kxOG4oImFkZE90aGVyUHJvcCIpfSIgdHlwZT0iYnV0dG9uIj4rPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iYWRkTmV4dFNlbGVjdG9yIiB0aXRsZT0iJHtpMThuKCJhZGROZXh0U2VsZWN0b3IiKX0iIHR5cGU9ImJ1dHRvbiI+PjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImFkZFBhZ2VTZWxlY3RvciIgdGl0bGU9IiR7aTE4bigiYWRkUGFnZVNlbGVjdG9yIil9IiB0eXBlPSJidXR0b24iPuKdjzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic2F2ZURldGFpbCIgdGl0bGU9IiR7aTE4bigic2F2ZSIpfSIgdHlwZT0iYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNzA0IDEyOEgxOTJjLTM1LjIgMC02NCAyOC44LTY0IDY0djY0MGMwIDM1LjIgMjguOCA2NCA2NCA2NGg2NDBjMzUuMiAwIDY0LTI4LjggNjQtNjRWMzIwTDcwNCAxMjh6TTI1NiAyNTZoMzIwdjEyOEgyNTZWMjU2eiBtMjU2IDUxMmMtNzAuNCAwLTEyOC01Ny42LTEyOC0xMjhzNTcuNi0xMjggMTI4LTEyOCAxMjggNTcuNiAxMjggMTI4LTU3LjYgMTI4LTEyOCAxMjh6IiBmaWxsPSJvcmFuZ2VyZWQiPjwvcGF0aD48L3N2Zz4KICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIGxldCBmb3JjZVN0YXRlSWZyYW1lID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2ZvcmNlU3RhdGVJZnJhbWUiKTsvL2ZvcmNlU3RhdGUgMSDnpoHnlKggMiDlvLrltYwgMyDliqjmgIEKICAgICAgICAgICAgbGV0IGZvcmNlU3RhdGVEeW5hbWljID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2ZvcmNlU3RhdGVEeW5hbWljIik7CiAgICAgICAgICAgIGxldCBmb3JjZVN0YXRlRGlzYWJsZSA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNmb3JjZVN0YXRlRGlzYWJsZSIpOwogICAgICAgICAgICBsZXQgY2xpY2tSYWRpbyA9IGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHJhZGlvID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgICBpZiAocmFkaW8uY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAiIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyYWRpby5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJmb3JjZVN0YXRlSWZyYW1lIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImZvcmNlU3RhdGVEeW5hbWljIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImZvcmNlU3RhdGVEaXNhYmxlIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJmb3JjZVN0YXRlXyIgKyBsb2NhdGlvbi5ob3N0LCBmb3JjZVN0YXRlKTsKICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBmb3JjZVN0YXRlSWZyYW1lLnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgY2xpY2tSYWRpbyk7CiAgICAgICAgICAgIGZvcmNlU3RhdGVEeW5hbWljLnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgY2xpY2tSYWRpbyk7CiAgICAgICAgICAgIGZvcmNlU3RhdGVEaXNhYmxlLnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgY2xpY2tSYWRpbyk7CiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRlID09IDEpIGZvcmNlU3RhdGVEaXNhYmxlLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBlbHNlIGlmIChmb3JjZVN0YXRlID09IDIpIGZvcmNlU3RhdGVJZnJhbWUuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIGVsc2UgaWYgKGZvcmNlU3RhdGUgPT0gMykgZm9yY2VTdGF0ZUR5bmFtaWMuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIGxldCBjbG9zZUJ0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi5jbG9zZVBpY2tlciIpOwogICAgICAgICAgICBsZXQgbG9nb0J0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi5sb2dvSWNvbiIpOwogICAgICAgICAgICBsZXQgdGl0bGUgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIudGl0bGUiKTsKICAgICAgICAgICAgbGV0IGFsbHBhdGggPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIuYWxscGF0aCIpOwogICAgICAgICAgICBsZXQgc2VsZWN0b3JJbnB1dCA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi5zZWxlY3RvciIpOwogICAgICAgICAgICBsZXQgeHBhdGggPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjY2hlY2tib3hfaWQiKTsKICAgICAgICAgICAgbGV0IGNoZWNrQnRuID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2NoZWNrIik7CiAgICAgICAgICAgIGxldCBlZGl0QnRuID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2VkaXQiKTsKICAgICAgICAgICAgbGV0IG5leHRTd2l0Y2hCdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjbmV4dFN3aXRjaCIpOwogICAgICAgICAgICBsZXQgYXV0b1Njcm9sbEJ0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNhdXRvU2Nyb2xsIik7CiAgICAgICAgICAgIGxldCBsb2FkTm93ID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2xvYWROb3ciKTsKICAgICAgICAgICAgbGV0IHRlbXBSdWxlID0gZnJhbWUucXVlcnlTZWxlY3RvcigiLnRlbXBSdWxlIik7CiAgICAgICAgICAgIGxldCBzaG93RGV0YWlsQnRuID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI3Nob3dEZXRhaWwiKTsKICAgICAgICAgICAgbGV0IHNhdmVEZXRhaWxCdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjc2F2ZURldGFpbCIpOwogICAgICAgICAgICBsZXQgYWRkT3RoZXJQcm9wID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2FkZE90aGVyUHJvcCIpOwogICAgICAgICAgICBsZXQgYWRkTmV4dFNlbGVjdG9yID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2FkZE5leHRTZWxlY3RvciIpOwogICAgICAgICAgICBsZXQgYWRkUGFnZVNlbGVjdG9yID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2FkZFBhZ2VTZWxlY3RvciIpOwogICAgICAgICAgICBhdXRvU2Nyb2xsQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7CiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsID0gKGF1dG9TY3JvbGwgPyAwIDogcHJvbXB0KGkxOG4oImF1dG9TY3JvbGxSYXRlIiksIDUwKSkgfHwgMDsKICAgICAgICAgICAgICAgIGF1dG9TY3JvbGwgPSBwYXJzZUludChhdXRvU2Nyb2xsKSB8fCAwOwogICAgICAgICAgICAgICAgaWYgKGF1dG9TY3JvbGwgPCAwKSBhdXRvU2Nyb2xsID0gMDsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9TY3JvbGwgPiAxMDAwKSBhdXRvU2Nyb2xsID0gMTAwMDsKICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiYXV0b1Njcm9sbF8iICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lLCBhdXRvU2Nyb2xsKTsKICAgICAgICAgICAgICAgIHN0YXJ0QXV0b1Njcm9sbCgpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgYWRkT3RoZXJQcm9wLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcHJvcE5hbWUgPSBwcm9tcHQoaTE4bigicHJvcE5hbWUiKSk7CiAgICAgICAgICAgICAgICBpZiAoIXByb3BOYW1lKSByZXR1cm47CiAgICAgICAgICAgICAgICBsZXQgcHJvcFZhbHVlID0gcHJvbXB0KGkxOG4oInByb3BWYWx1ZSIpKTsKICAgICAgICAgICAgICAgIGlmICghcHJvcFZhbHVlKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAocHJvcFZhbHVlID09PSAidHJ1ZSIpIHByb3BWYWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wVmFsdWUgPT09ICJmYWxzZSIpIHByb3BWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoL15cZCskLy50ZXN0KHByb3BWYWx1ZSkpIHByb3BWYWx1ZSA9IHBhcnNlSW50KHByb3BWYWx1ZSk7CiAgICAgICAgICAgICAgICBsZXQgZWRpdFRlbXAgPSBzZWxmLmdldFRlbXBSdWxlKCk7CiAgICAgICAgICAgICAgICBpZiAoIWVkaXRUZW1wKSByZXR1cm47CiAgICAgICAgICAgICAgICBlZGl0VGVtcFtwcm9wTmFtZV0gPSBwcm9wVmFsdWU7CiAgICAgICAgICAgICAgICBzZWxmLnRlbXBSdWxlLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZWRpdFRlbXAsIG51bGwsIDQpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgYWRkTmV4dFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZWRpdFRlbXAgPSBzZWxmLmdldFRlbXBSdWxlKCk7CiAgICAgICAgICAgICAgICBpZiAoIWVkaXRUZW1wKSByZXR1cm47CiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBzZWxmLnNlbGVjdG9ySW5wdXQudmFsdWU7CiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICAgICBlZGl0VGVtcC5uZXh0TGluayA9IHNlbGVjdG9yOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi50ZW1wUnVsZS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGVkaXRUZW1wLCBudWxsLCA0KTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGFkZFBhZ2VTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IGVkaXRUZW1wID0gc2VsZi5nZXRUZW1wUnVsZSgpOwogICAgICAgICAgICAgICAgaWYgKCFlZGl0VGVtcCkgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gc2VsZi5zZWxlY3RvcklucHV0LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgZWRpdFRlbXAucGFnZUVsZW1lbnQgPSBzZWxlY3RvcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYudGVtcFJ1bGUudmFsdWUgPSBKU09OLnN0cmluZ2lmeShlZGl0VGVtcCwgbnVsbCwgNCk7CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICBzaG93RGV0YWlsQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodGVtcFJ1bGUuc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICAgICB0ZW1wUnVsZS5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgc2hvd0RldGFpbEJ0bi5jbGFzc0xpc3QuYWRkKCJzaG93RGV0YWlsIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRlbXBSdWxlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgc2hvd0RldGFpbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCJzaG93RGV0YWlsIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICBzYXZlRGV0YWlsQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZWRpdFRlbXAgPSBzZWxmLmdldFRlbXBSdWxlKHRydWUpOwogICAgICAgICAgICAgICAgaWYgKHRlbXBSdWxlLnZhbHVlICYmICFlZGl0VGVtcCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCFydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXN0b21SdWxlcyA9IFtdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXNbaV0udXJsID09IGVkaXRUZW1wLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRlbXBSdWxlLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXN0b21SdWxlcy51bnNoaWZ0KGVkaXRUZW1wKTsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlID0gZWRpdFRlbXA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUgPSB7fTsKICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiY3VzdG9tUnVsZXMiLCBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKTsKICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmhwUnVsZXMgJiYgcnVsZVBhcnNlci5jdXJTaXRlUnVsZSAmJiAhcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmFkZFRvSHBSdWxlcyh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlybShpMThuKCJyZWxvYWRQYWdlIikpKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7bG9jYXRpb24ucmVsb2FkKCl9LCAxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgbmV4dFN3aXRjaEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpOwogICAgICAgICAgICAgICAgbmV4dFN3aXRjaC5zdGFydCgpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgbG9hZE5vdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpOwogICAgICAgICAgICAgICAgbGV0IGxvYWROdW0gPSB3aW5kb3cucHJvbXB0KGkxOG4oImxvYWRDb25maXJtIiksICIxIik7CiAgICAgICAgICAgICAgICBpZiAobG9hZE51bSA9PT0gIiIgfHwgbG9hZE51bSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgYXV0b0xvYWROdW0gPSBNYXRoLmFicyhwYXJzZUludChsb2FkTnVtKSk7CiAgICAgICAgICAgICAgICBuZXh0UGFnZSgpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuc2hvd1NpZ24gPSB0cnVlOwogICAgICAgICAgICBsb2dvQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2dvQnRuLmNsYXNzTGlzdC50b2dnbGUoInNob3dTaWduIik7CiAgICAgICAgICAgICAgICBzZWxmLnNob3dTaWduID0gIXNlbGYuc2hvd1NpZ247CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5jbGFzc0xpc3QudG9nZ2xlKCJwYWdldHVhbC1waWNrZXIiKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGxldCBtb3ZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IGluaXRYID0gMCwgaW5pdFkgPSAwLCBpbml0UG9zID0ge3g6IDAsIHk6IDB9OwogICAgICAgICAgICBsZXQgbW92ZUhhbmxkZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChtb3ZpbmcpIHsKICAgICAgICAgICAgICAgICAgICBmcmFtZS5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYIC0gaW5pdFggKyAicHgiOwogICAgICAgICAgICAgICAgICAgIGZyYW1lLnN0eWxlLnRvcCA9IGUuY2xpZW50WSAtIGluaXRZICsgInB4IjsKICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihNYXRoLmFicyhlLmNsaWVudFggLSBpbml0UG9zLngpICsgTWF0aC5hYnMoZS5jbGllbnRZIC0gaW5pdFBvcy55KSA+IDIwKSB7CiAgICAgICAgICAgICAgICAgICAgbW92aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgbGV0IHVwSGFubGRlciA9IGUgPT4gewogICAgICAgICAgICAgICAgaWYgKG1vdmluZykgewogICAgICAgICAgICAgICAgICAgIG1vdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfR01fb3BlbkluVGFiKHJ1bGVzRGF0YS5jb25maWdQYWdlIHx8IGNvbmZpZ1BhZ2VbMF0sIHthY3RpdmU6IHRydWV9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIG1vdmVIYW5sZGVyLCB0cnVlKTsKICAgICAgICAgICAgICAgIHRpdGxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCB1cEhhbmxkZXIsIHRydWUpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpbml0UG9zID0ge3g6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZfTsKICAgICAgICAgICAgICAgIGluaXRYID0gZS5jbGllbnRYIC0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShmcmFtZSkubGVmdCk7CiAgICAgICAgICAgICAgICBpbml0WSA9IGUuY2xpZW50WSAtIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZnJhbWUpLnRvcCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBtb3ZlSGFubGRlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgdXBIYW5sZGVyLCB0cnVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCBlID0+IHsKICAgICAgICAgICAgICAgIGlmICghc2VsZi5zaG93U2lnbiB8fCBtb3ZpbmcpIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChzZWxmLm1haW5TaWduRGl2LnBhcmVudE5vZGUpIHNlbGYubWFpblNpZ25EaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxmLm1haW5TaWduRGl2KTsKICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tJbnB1dFNlbGVjdG9yKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc2hvd1NpZ24pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tYWluU2lnbkRpdi5wYXJlbnROb2RlKSBzZWxmLm1haW5TaWduRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsZi5tYWluU2lnbkRpdik7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGVhclNpZ25zKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG1vdmluZykgcmV0dXJuOwogICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoc2VsZi5tYWluU2lnbkRpdik7CiAgICAgICAgICAgICAgICBzZWxmLmNsZWFyU2lnbnMoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNoZWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBzZWxmLmNoZWNrSW5wdXRTZWxlY3RvcigpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3JJbnB1dC52YWx1ZSkgX0dNX3NldENsaXBib2FyZCh0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWUpOwogICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiY29waWVkIikpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgeHBhdGguYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGlmICghc2VsZWN0b3JJbnB1dC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0U2VsZWN0b3JEaXYoIiIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZ2V0RWxlbWVudChzZWxlY3RvcklucHV0LnZhbHVlLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBzZWxmLmdldFNlbGVjdG9yRnJvbUVsZShlbGVtZW50KTsKICAgICAgICAgICAgICAgIHNlbGYuc2V0U2VsZWN0b3JEaXYoc2VsZWN0b3IpOwogICAgICAgICAgICAgICAgc2VsZWN0b3JJbnB1dC52YWx1ZSA9IHNlbGVjdG9yOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgcnVsZXNEYXRhLmVkaXRUZW1wID0gc2VsZi5nZXRUZW1wUnVsZSgpOwogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlc0RhdGEiLCBydWxlc0RhdGEpOwogICAgICAgICAgICAgICAgX0dNX29wZW5JblRhYihydWxlc0RhdGEuY29uZmlnUGFnZSB8fCBjb25maWdQYWdlWzBdLCB7YWN0aXZlOiB0cnVlfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBlZGl0QnRuLm9uY29udGV4dG1lbnUgPSBlID0+IHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIF9HTV9vcGVuSW5UYWIocnVsZXNEYXRhLmNvbmZpZ1BhZ2UgfHwgY29uZmlnUGFnZVswXSwge2FjdGl2ZTogdHJ1ZX0pOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7CiAgICAgICAgICAgIHRoaXMueHBhdGggPSB4cGF0aDsKICAgICAgICAgICAgdGhpcy5hbGxwYXRoID0gYWxscGF0aDsKICAgICAgICAgICAgdGhpcy5zZWxlY3RvcklucHV0ID0gc2VsZWN0b3JJbnB1dDsKICAgICAgICAgICAgdGhpcy5uZXh0U3dpdGNoQnRuID0gbmV4dFN3aXRjaEJ0bjsKICAgICAgICAgICAgdGhpcy5hdXRvU2Nyb2xsQnRuID0gYXV0b1Njcm9sbEJ0bjsKICAgICAgICAgICAgdGhpcy5sb2FkTm93ID0gbG9hZE5vdzsKICAgICAgICAgICAgdGhpcy50ZW1wUnVsZSA9IHRlbXBSdWxlOwogICAgICAgICAgICB0aGlzLmxvZ29CdG4gPSBsb2dvQnRuOwogICAgICAgICAgICBsZXQgc2V0VGl0bGVUaW1lcjsKICAgICAgICAgICAgdGhpcy5tb3ZlSGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNob3dTaWduIHx8IGUudGFyZ2V0ID09PSBkb2N1bWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHNlbGYuZ2V0VGFyZ2V0KGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0U2lnbkRpdihzZWxmLm1haW5TaWduRGl2LCB0YXJnZXQpOwogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNldFRpdGxlVGltZXIpOwogICAgICAgICAgICAgICAgc2V0VGl0bGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmluUGlja2VyICYmIHRhcmdldC5oYXNBdHRyaWJ1dGVzKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKyAiXG4iOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgdGFyZ2V0LmF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlICs9IGDjgJAke2F0dHIubmFtZX3jgJEke2F0dHIudmFsdWUgPyAiIOKeoe+4jyAiICsgYXR0ci52YWx1ZSA6ICIifVxuYDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS50aXRsZSA9IHRpdGxlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuY2xpY2tIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc2hvd1NpZ24pIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmluUGlja2VyKSB7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gc2VsZi5nZXRUYXJnZXQoZS50YXJnZXQpOwogICAgICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gc2VsZi5nZXRTZWxlY3RvckZyb21FbGUodGFyZ2V0KTsKICAgICAgICAgICAgICAgIHNlbGVjdG9ySW5wdXQudmFsdWUgPSBzZWxlY3RvcjsKICAgICAgICAgICAgICAgIHNlbGYuc2V0U2VsZWN0b3JEaXYoc2VsZWN0b3IpOwogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgZ2V0VGVtcFJ1bGUoZGV0YWlsKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBSdWxlLnZhbHVlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRlbXAgPSBKU09OLnBhcnNlKHRoaXMudGVtcFJ1bGUudmFsdWUpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRlbXAgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IGUgJiYgZS5tZXNzYWdlICYmIGUubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxkKykvKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gcGFyc2VJbnQocG9zWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcFJ1bGUudmFsdWUgPSB0aGlzLnRlbXBSdWxlLnZhbHVlLnNsaWNlKDAsIHBvcykgKyAi4p6h77iPIiArIHRoaXMudGVtcFJ1bGUudmFsdWVbcG9zXSArICLirIXvuI8iICsgdGhpcy50ZW1wUnVsZS52YWx1ZS5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvckpzb24iKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXRoaXMuZWRpdFRlbXApIHsKICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnVybCAmJiAhcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRUZW1wID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0VGVtcCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogIl4iICsgKGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lKS5yZXBsYWNlKC9bXlwvXSokLywgIiIpLnJlcGxhY2UoL15odHRwcz8vLCAiaHR0cHM/IikucmVwbGFjZSgvXC4vZywgIlxcLiIpLAogICAgICAgICAgICAgICAgICAgICAgICBleGFtcGxlOiBsb2NhdGlvbi5ocmVmCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmVkaXRUZW1wLmZyb207CiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5lZGl0VGVtcC50eXBlOwogICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZWRpdFRlbXAudXBkYXRlZEF0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWUgJiYgdGhpcy50ZW1wUnVsZS5zdHlsZS5kaXNwbGF5ID09ICJub25lIikgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0VGVtcC5wYWdlRWxlbWVudCA9IHRoaXMuc2VsZWN0b3JJbnB1dC52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5lZGl0VGVtcDsKICAgICAgICB9CgogICAgICAgIGdldFRhcmdldChlbGUpIHsKICAgICAgICAgICAgd2hpbGUgKGVsZS5wYXJlbnROb2RlICYmIChlbGUub2Zmc2V0V2lkdGggPT09IDAgfHwgZWxlLm9mZnNldEhlaWdodCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgIGVsZSA9IGVsZS5wYXJlbnROb2RlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBlbGU7CiAgICAgICAgfQoKICAgICAgICBjbG9zZSgpIHsKICAgICAgICAgICAgdGhpcy5jbGVhclNpZ25zKCk7CiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lLnBhcmVudE5vZGUpIHRoaXMuZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmZyYW1lKTsKICAgICAgICAgICAgaWYgKHRoaXMubWFpblNpZ25EaXYucGFyZW50Tm9kZSkgdGhpcy5tYWluU2lnbkRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubWFpblNpZ25EaXYpOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5jbGFzc0xpc3QucmVtb3ZlKCJwYWdldHVhbC1waWNrZXIiKTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5tb3ZlSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5jbGlja0hhbmRsZXIsIHRydWUpOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS50aXRsZSA9ICIiOwogICAgICAgICAgICB0aGlzLmluUGlja2VyID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBzZXRJbXBvcnRhbnQoZWxlLCBwcm9wLCB2YWx1ZSkgewogICAgICAgICAgICBlbGUuc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgdmFsdWUsICJpbXBvcnRhbnQiKTsKICAgICAgICB9CgogICAgICAgIGNyZWF0ZVNpZ25EaXYoKSB7CiAgICAgICAgICAgIGxldCBzaWduRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KHNpZ25EaXYsICJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChzaWduRGl2LCAicG9pbnRlci1ldmVudHMiLCAibm9uZSIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChzaWduRGl2LCAiei1pbmRleCIsICIyMTQ3NDgzNjQ2Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KHNpZ25EaXYsICJiYWNrZ3JvdW5kIiwgInJnYmEoMTIwLCAxNzAsIDIxMCwgMC42KSIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChzaWduRGl2LCAidHJhbnNpdGlvbiIsICJhbGwgMC4xNXMgZWFzZS1vdXQiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoc2lnbkRpdiwgImJveC1zaGFkb3ciLCAicmdiKDAgMCAwKSAwcHggMHB4IDNweCAwcHgiKTsKICAgICAgICAgICAgcmV0dXJuIHNpZ25EaXY7CiAgICAgICAgfQoKICAgICAgICBhZGp1c3RTaWduRGl2KGRpdiwgdGFyZ2V0KSB7CiAgICAgICAgICAgIGxldCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChkaXYsICJ3aWR0aCIsIHJlY3Qud2lkdGggKyAicHgiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoZGl2LCAiaGVpZ2h0IiwgcmVjdC5oZWlnaHQgKyAicHgiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoZGl2LCAibGVmdCIsIHJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYICsgInB4Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KGRpdiwgInRvcCIsIHJlY3QudG9wICsgd2luZG93LnNjcm9sbFkgKyAicHgiKTsKICAgICAgICB9CgogICAgICAgIGdldFNlbGVjdG9yRnJvbUVsZShlbGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMueHBhdGguY2hlY2tlZCA/IGNyZWF0ZVhQYXRoRnJvbUVsZW1lbnQoZWxlKSA6IGdlbmVTZWxlY3RvcihlbGUsIHRydWUpOwogICAgICAgIH0KCiAgICAgICAgZmlsbFRlbXBSdWxlVGV4dGFyZWEoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBSdWxlLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKSB0aGlzLnRlbXBSdWxlLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRUZW1wUnVsZSgpLCBudWxsLCA0KTsKICAgICAgICB9CgogICAgICAgIHNldFNlbGVjdG9yRGl2KHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHRoaXMuZmlsbFRlbXBSdWxlVGV4dGFyZWEoKTsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICB0aGlzLmFsbHBhdGguaW5uZXJIVE1MID0gY3JlYXRlSFRNTCgiIik7CiAgICAgICAgICAgIGlmICghc2VsZWN0b3IpIHJldHVybjsKICAgICAgICAgICAgaWYgKHRoaXMueHBhdGguY2hlY2tlZCkgewogICAgICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IHNlbGVjdG9yOwogICAgICAgICAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0b3JJbnB1dC52YWx1ZSA9IHNlbGVjdG9yOwogICAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tJbnB1dFNlbGVjdG9yKCk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgIHRoaXMuYWxscGF0aC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9yLnNwbGl0KCI+IikuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHNlbGYuZ2VuZVNlbGVjdG9ySXRlbShpdGVtLCBpbmRleCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBnZW5lU2VsZWN0b3JJdGVtKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgaXRlbSA9IGl0ZW0udHJpbSgpOwogICAgICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjsKICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7CiAgICAgICAgICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gIiA+ICI7CiAgICAgICAgICAgICAgICB0aGlzLmFsbHBhdGguYXBwZW5kQ2hpbGQoc3Bhbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgIHNwYW4uY2xhc3NOYW1lID0gInBhdGgiOwogICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGl0ZW07CiAgICAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvciA9ICIiOwogICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0OwogICAgICAgICAgICAgICAgd2hpbGUgKHRhcmdldCkgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gdGFyZ2V0LmlubmVyVGV4dCArIHNlbGVjdG9yOwogICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RvcklucHV0LnZhbHVlID0gc2VsZWN0b3I7CiAgICAgICAgICAgICAgICBzZWxmLmNoZWNrSW5wdXRTZWxlY3RvcigpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgdGhpcy5hbGxwYXRoLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tJbnB1dFNlbGVjdG9yKCkgewogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuY2xlYXJTaWducygpOwogICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0b3JJbnB1dC52YWx1ZSkgcmV0dXJuOwogICAgICAgICAgICBsZXQgZWxlcyA9IGdldEFsbEVsZW1lbnRzKHRoaXMuc2VsZWN0b3JJbnB1dC52YWx1ZSwgZG9jdW1lbnQpOwogICAgICAgICAgICBpZiAoZWxlcyAmJiBlbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGVsZXMuZm9yRWFjaChlbGUgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBzaWduID0gc2VsZi5jcmVhdGVTaWduRGl2KCk7CiAgICAgICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoc2lnbik7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3RTaWduRGl2KHNpZ24sIGVsZSk7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5zaWduTGlzdC5wdXNoKHNpZ24pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGxUZW1wUnVsZVRleHRhcmVhKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsZWFyU2lnbnMoKSB7CiAgICAgICAgICAgIHRoaXMuc2lnbkxpc3QuZm9yRWFjaChzaWduID0+IHsKICAgICAgICAgICAgICAgIGlmIChzaWduLnBhcmVudE5vZGUpIHNpZ24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaWduKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuc2lnbkxpc3QgPSBbXTsKICAgICAgICB9CgogICAgICAgIHN0YXJ0KCkgewogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgaWYgKHRoaXMuaW5QaWNrZXIpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5pblBpY2tlciA9IHRydWU7CiAgICAgICAgICAgIGlmICghdGhpcy5zdHlsZUVsZSB8fCAhdGhpcy5zdHlsZUVsZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlRWxlID0gX0dNX2FkZFN0eWxlKHRoaXMuY3NzVGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZCh0aGlzLm1haW5TaWduRGl2KTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuY2xhc3NMaXN0LmFkZCgicGFnZXR1YWwtcGlja2VyIik7CgogICAgICAgICAgICB0aGlzLmxvZ29CdG4uY2xhc3NMaXN0LnJlbW92ZSgic2hvd1NpZ24iKTsKICAgICAgICAgICAgdGhpcy5zaG93U2lnbiA9IHRydWU7CgogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCB0aGlzLm1vdmVIYW5kbGVyLCB0cnVlKTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmNsaWNrSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMueHBhdGguY2hlY2tlZCA9IGlzWFBhdGgocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCk7CgogICAgICAgICAgICB0aGlzLmxvYWROb3cuc3R5bGUuZGlzcGxheSA9IHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmID8gImJsb2NrIiA6ICJub25lIjsKICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubmV4dExpbmsgJiYgQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubmV4dExpbmspKSB7CiAgICAgICAgICAgICAgICB0aGlzLm5leHRTd2l0Y2hCdG4uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm5leHRTd2l0Y2hCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmF1dG9TY3JvbGxCdG4uaW5uZXJUZXh0ID0gaTE4bihhdXRvU2Nyb2xsID8gImRpc2FibGVBdXRvU2Nyb2xsIiA6ICJlbmFibGVBdXRvU2Nyb2xsIik7CgogICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWwgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50IHx8ICIiOwogICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHBhZ2VFbGVtZW50U2VsKSkgewogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbFtuZXh0SW5kZXggPCBwYWdlRWxlbWVudFNlbC5sZW5ndGggPyBuZXh0SW5kZXggOiAwXTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNldFNlbGVjdG9yRGl2KHBhZ2VFbGVtZW50U2VsKTsKICAgICAgICB9CiAgICB9CiAgICBjb25zdCBwaWNrZXIgPSBuZXcgUGlja2VyKCk7CgogICAgdmFyIGVkaXRvciwgZWRpdG9yQ2hhbmdlZCA9IGZhbHNlOwogICAgZnVuY3Rpb24gY3JlYXRlRWRpdCgpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgbW9kZTogJ2NvZGUnLAogICAgICAgICAgICBtb2RlczogWydjb2RlJywgJ3RyZWUnXSwKICAgICAgICAgICAgdGVtcGxhdGVzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05ldyBzaXRlJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0luc2VydCBhIG5ldyBzaXRlJywKICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdqc29uZWRpdG9yLXR5cGUtb2JqZWN0JywKICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ1NpdGVUZW1wbGF0ZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAnU2l0ZSBuYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICdTaXRlIHVybCcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHNjaGVtYTogewogICAgICAgICAgICAgICAgInRpdGxlIjogIlNpdGVzIGRhdGEiLAogICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIk9iamVjdCBjb250YWluaW5nIHNpdGUgY29uZmlnIiwKICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICdvYmplY3QnLAogICAgICAgICAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0aXRsZSI6ICJTaXRlIE5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzaXRlJ3MgbmFtZS4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImV4YW1wbGVzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJHb29nbGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAidXJsIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInRpdGxlIjogIlNpdGUgVXJsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgUmVnZXhwIG9mIHNpdGUncyB1cmwuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJleGFtcGxlcyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiXmh0dHBzOlwvXC95YW5kZVxcLnJlXC8iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiBbIm5hbWUiLCAidXJsIl0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25DaGFuZ2U6ICgpID0+IHsKICAgICAgICAgICAgICAgIGVkaXRvckNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJqc29uZWRpdG9yIik7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnODAwcHgnOwogICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgIGVkaXRvciA9IG5ldyBKU09ORWRpdG9yKGNvbnRhaW5lciwgb3B0aW9ucyk7CiAgICAgICAgICAgIGVkaXRvci5zZXQocnVsZVBhcnNlci5jdXN0b21SdWxlcyk7CiAgICAgICAgfSwgNTAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja0d1aWRlUGFnZShocmVmKSB7CiAgICAgICAgaWYgKGd1aWRlUGFnZS50ZXN0KGhyZWYpKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgSlNPTkVkaXRvciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBjaGVja0VkaXRvclJlYWR5ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgSlNPTkVkaXRvciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWRpdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrRWRpdG9yUmVhZHkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGdldEJvZHkoZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKSwgZWxlID0+IHsKICAgICAgICAgICAgICAgIGVsZS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnRBdXRvU2Nyb2xsKCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbEludGVydmFsKTsKICAgICAgICBpZiAoYXV0b1Njcm9sbCA8PSAwKSByZXR1cm47CiAgICAgICAgYXV0b1Njcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBpZiAoaXNQYXVzZSkgcmV0dXJuOwogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHdpbmRvdy5zY3JvbGxYLCB3aW5kb3cuc2Nyb2xsWSArIDEpOwogICAgICAgIH0sIHBhcnNlSW50KDEwMDAgLyBhdXRvU2Nyb2xsKSk7CiAgICB9CgogICAgdmFyIGluVXBkYXRlID0gZmFsc2U7CiAgICBmdW5jdGlvbiBpbml0Q29uZmlnKGhyZWYpIHsKICAgICAgICBsZXQgaXNHdWlkZVBhZ2UgPSBjaGVja0d1aWRlUGFnZShocmVmKTsKICAgICAgICBpZiAoIWlzR3VpZGVQYWdlKSB7CiAgICAgICAgICAgIGlmIChocmVmLmluZGV4T2YoIlBhZ2V0dWFsR3VpZGUiKSAhPSAtMSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gInBhZ2V0dWFsLmhvb3RoaW4uY29tIikgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29uZmlnQ29uLCBpbnNlcnRQb3MsIGNsaWNrMmltcG9ydCwgaW1wb3J0VXJsUHJlOwoKICAgICAgICBsZXQgaW5Db25maWcgPSBpc0d1aWRlUGFnZTsKICAgICAgICBpZiAoIWluQ29uZmlnKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmlnUGFnZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1BhZ2VbaV0gPT0gbG9jYXRpb24uaHJlZikgewogICAgICAgICAgICAgICAgICAgIGluQ29uZmlnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAocnVsZUltcG9ydFVybFJlZy50ZXN0KGhyZWYpIHx8IGluQ29uZmlnKSB7CiAgICAgICAgICAgIGxldCBpbXBvcnRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKCFpblVwZGF0ZSAmJiBydWxlc0RhdGEudW5pbml0ZWQpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghaW5VcGRhdGUgJiYgIWltcG9ydGluZykgc2hvd1RpcHMoaTE4bigiZmlyc3RBbGVydCIpKTsKICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpblVwZGF0ZSAmJiAhaW1wb3J0aW5nKSBzaG93VGlwcyhpMThuKCJmaXJzdEFsZXJ0IikpOwogICAgICAgICAgICAgICAgfSwgNjAwMCk7CiAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJmaXJzdEFsZXJ0IikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBkZWZhdWx0T3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2N1c3Npb25fcmF0aW5nXzQnKTsKICAgICAgICAgICAgaWYgKGRlZmF1bHRPcHRpb24pIGRlZmF1bHRPcHRpb24uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIGxldCBjcmVhdGVJbXBvcnRCdG4gPSAocHJlKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgaW1wb3J0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uaWQgPSAicGFnZXR1YWxJbXBvcnQiOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLmlubmVyVGV4dCA9IGkxOG4oImltcG9ydCIpOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLnN0eWxlLm1hcmdpblRvcCA9ICIxMDBweCI7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uc3R5bGUuZmxvYXQgPSAicmlnaHQiOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5zdHlsZS5mb250U2l6ZSA9ICIyMHB4IjsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnROb2RlID0gaW1wb3J0QnRuLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnROb2RlKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbXBvcnRCdG4pOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBydWxlcyA9IHBhcmVudE5vZGUuaW5uZXJUZXh0LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzQ29udGVudCA9IC9bJyJdbmFtZVsnIl0vaS50ZXN0KHJ1bGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29udGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGVMaXN0ID0gSlNPTi5wYXJzZShgWyR7cnVsZXN9XWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBydWxlTGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoYXNSdWxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBydWxlTGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqIGluIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXNbal0ubmFtZSA9PSByLm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXNbal0gPSByOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUnVsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1J1bGUpIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMucHVzaChyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmhwUnVsZXMudW5zaGlmdChyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiY3VzdG9tUnVsZXMiLCBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiaHBSdWxlcyIsIHJ1bGVQYXJzZXIuaHBSdWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInNtYXJ0UnVsZXMiLCBbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJpbXBvcnRTdWNjIikpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXMgPSBydWxlcy5zcGxpdCgiXG4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHJ1bGVzLmxlbmd0aDsgYysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybEFyciA9IHJ1bGVzW2NdLnNwbGl0KCJ8IiksIHVybCwgdHlwZSA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybEFyci5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmxBcnJbMF0udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS9eaHR0cC8udGVzdCh1cmwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvcldyb25nVXJsIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cmxBcnIubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHVybEFyclswXS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHVybEFyclsxXS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghL15odHRwLy50ZXN0KHVybCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9yV3JvbmdVcmwiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heElkID0gMSwgaGFzVXJsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEudXJscykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEudXJscyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhJZCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnVybHMuZm9yRWFjaCh1ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhJZCA8IHUuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhJZCA9IHUuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodS51cmwgPT0gdXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzVXJsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNVcmwpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS5zb3J0KSBydWxlc0RhdGEuc29ydCA9IFsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEudXJscy5wdXNoKHtpZDogbWF4SWQgKyAxLCB1cmw6IHVybCwgdHlwZTogdHlwZX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zb3J0LnVuc2hpZnQobWF4SWQgKyAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGlmZikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9yQWxyZWFkeUV4aXN0cyIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiYmVnaW5VcGRhdGUiKSwgIiIsIDMwMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigidXBkYXRlU3VjYyIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAocnVsZSwgZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhgVXBkYXRlICR7cnVsZS51cmx9IHJ1bGVzIGZhaWwhYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNEYXRhLnVybHMpIHJ1bGVVcmxzID0gcnVsZVVybHMuY29uY2F0KHJ1bGVzRGF0YS51cmxzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlc0RhdGEuc29ydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmxzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnNvcnQuZm9yRWFjaChpZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgcnVsZVVybHMubGVuZ3RoOyBzKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PSBydWxlVXJsc1tzXS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHMucHVzaChydWxlVXJsc1tzXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlVXJscyA9IHVybHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJiZWdpblVwZGF0ZSIpLCAiIiwgMzAwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oInVwZGF0ZVN1Y2MiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAocnVsZSwgZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoYFVwZGF0ZSAke3J1bGUudXJsfSBydWxlcyBmYWlsIWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9HTV9ub3RpZmljYXRpb24oZS50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChwcmUpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY2xpZW50SGVpZ2h0ID0gMzUgLSBwcmUuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRIZWlnaHQgPiAtMjApIGNsaWVudEhlaWdodCA9IC0yMDsKICAgICAgICAgICAgICAgICAgICBpbXBvcnRCdG4uc3R5bGUubWFyZ2luVG9wID0gYCR7Y2xpZW50SGVpZ2h0fXB4YDsKICAgICAgICAgICAgICAgICAgICBwcmUuYXBwZW5kQ2hpbGQoaW1wb3J0QnRuKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnRCdG47CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcmVbbmFtZT1wYWdldHVhbF0scHJlW25hbWU9dXNlci1jb250ZW50LXBhZ2V0dWFsXScpLCBwcmUgPT4gewogICAgICAgICAgICAgICAgbGV0IGltcG9ydEJ0biA9IGNyZWF0ZUltcG9ydEJ0bihwcmUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoL15QUkUkL2kudGVzdChlLnRhcmdldC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZUF0dHIgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUF0dHIgPT0gInBhZ2V0dWFsIiB8fCBuYW1lQXR0ciA9PSAidXNlci1jb250ZW50LXBhZ2V0dWFsIikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQucXVlcnlTZWxlY3RvcignI3BhZ2V0dWFsSW1wb3J0JykpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltcG9ydEJ0biA9IGNyZWF0ZUltcG9ydEJ0bihlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChpbkNvbmZpZykgewogICAgICAgICAgICAgICAgaWYgKCFpblVwZGF0ZSAmJiBfR01faW5mby5zY3JpcHQgJiYgX0dNX2luZm8uc2NyaXB0LnZlcnNpb24gJiYgX0dNX2luZm8uc2NyaXB0LnZlcnNpb24gIT09ICcxLjAuMCcpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdmVyc2lvbkVsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXJrZG93bi1ib2R5PmgxW2lkXSxhcnRpY2xlPmgxJyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxhdGVzdFZlciA9IHZlcnNpb25FbGUgJiYgdmVyc2lvbkVsZS5pbm5lclRleHQubWF0Y2goL1xkW1xkXC5dKy8pWzBdOwogICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXIgJiYgbGF0ZXN0VmVyICE9IF9HTV9pbmZvLnNjcmlwdC52ZXJzaW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oJ291dE9mRGF0ZScpLCAiIiwgMzAwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX0dNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgICBwPnNwYW46bnRoLWNoaWxkKDEpLHA+c3BhbjpudGgtY2hpbGQoMikscD5zcGFuOm50aC1jaGlsZCgzKXsKICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOmNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3M7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjNzOwogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOmNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3M7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIHA+c3BhbjpudGgtY2hpbGQoMSk6aG92ZXIscD5zcGFuOm50aC1jaGlsZCgyKTpob3ZlcixwPnNwYW46bnRoLWNoaWxkKDMpOmhvdmVyewogICAgICAgICAgICAgICAgICBjb2xvcjpyZWQ7CiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS41KTsKICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuNSk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIC51cGRhdGVEYXRlewogICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgICAgICAgICAgICAgICAtbW96LXRyYW5zaXRpb246Y29sb3IgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4zczsKICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3M7CiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246Y29sb3IgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4zczsKICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDsKICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0OwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAudXBkYXRlRGF0ZTpob3ZlcnsKICAgICAgICAgICAgICAgICAgY29sb3I6cmVkOwogICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sCiAgICAgICAgICAgICAgICAgaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHsKICAgICAgICAgICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGlucHV0W3R5cGU9bnVtYmVyXSB7CiAgICAgICAgICAgICAgICAgIC1tb3otYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIHJlYWN0LWFwcD5kaXY+ZGl2PmRpdj5kaXY+ZGl2PmRpdj5kaXZbdGFiaW5kZXg9IjAiXTpub3QoW2RhdGEtc2VsZWN0b3JdKSB7CiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIHRhYmxlIHRkPmgzIHsKICAgICAgICAgICAgICAgICAgbWFyZ2luOiAxNnB4IWltcG9ydGFudDsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI3NhdmVCdG4gewogICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk7CiAgICAgICAgICAgICAgICAgIGJvdHRvbTogMHB4OwogICAgICAgICAgICAgICAgICBsZWZ0OiAwcHg7CiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogeC1sYXJnZTsKICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC44OwogICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZTsKICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlOwogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAjc2F2ZUJ0bjpob3ZlciB7CiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgICAgICBjbGljazJpbXBvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbbmFtZT0ndXNlci1jb250ZW50LWNsaWNrMmltcG9ydCddLFtuYW1lPSdjbGljazJpbXBvcnQnXSIpOwogICAgICAgICAgICAgICAgaWYgKGNsaWNrMmltcG9ydCkgY2xpY2syaW1wb3J0LmlubmVyVGV4dCA9IGkxOG4oImNsaWNrMkltcG9ydFJ1bGUiKQogICAgICAgICAgICAgICAgY29uZmlnQ29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm1hcmtkb3duLWJvZHksLnRoZW1lLWRlZmF1bHQtY29udGVudCIpOwogICAgICAgICAgICAgICAgaWYgKCFjb25maWdDb24pIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbnNlcnRQb3MgPSBjb25maWdDb24ucXVlcnlTZWxlY3RvcigiaHIsI2pzb25lZGl0b3IiKTsKCiAgICAgICAgICAgICAgICBpbXBvcnRVcmxQcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJwcmVbbmFtZT0ndXNlci1jb250ZW50LXBhZ2V0dWFsJ10scHJlW25hbWU9J3BhZ2V0dWFsJ10iKTsKICAgICAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLnVuaW5pdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGltcG9ydFVybFByZSkgaW1wb3J0VXJsUHJlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWNrMmltcG9ydCkgY2xpY2syaW1wb3J0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgb3RoZXJjb25maWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJhW25hbWU9J3VzZXItY29udGVudC1vdGhlcmNvbmZpZyddLGFbbmFtZT0nb3RoZXJjb25maWcnXSIpOwogICAgICAgICAgICAgICAgaWYgKG90aGVyY29uZmlnKSBvdGhlcmNvbmZpZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG90aGVyY29uZmlnKTsKICAgICAgICAgICAgICAgIGxldCBydWxlc0V4YW1wbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdXNlci1jb250ZW50LXJ1bGVzLWV4YW1wbGUrYSwjcnVsZXMtZXhhbXBsZT5hIik7CiAgICAgICAgICAgICAgICBpZiAocnVsZXNFeGFtcGxlKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlLmlubmVyVGV4dCA9IGkxOG4oInJ1bGVzRXhhbXBsZSIpOwogICAgICAgICAgICAgICAgICAgIGlmIChsYW5nID09ICJ6aC1DTiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlLmhyZWYgPSBydWxlc0V4YW1wbGUuaHJlZi5yZXBsYWNlKCJlbiIsICJjbiIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFuZyA9PSAiemgtVFciKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRXhhbXBsZS5ocmVmID0gcnVsZXNFeGFtcGxlLmhyZWYucmVwbGFjZSgiL2VuIiwgIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSByZXR1cm4gZmFsc2U7CiAgICAgICAgY2xhc3MgUnVsZWJhciB7CiAgICAgICAgICAgIGluaXQocnVsZVVybCkgewogICAgICAgICAgICAgICAgbGV0IGlkID0gcnVsZVVybC5pZDsKICAgICAgICAgICAgICAgIHRoaXMucnVsZVVybCA9IHJ1bGVVcmw7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0uZGF0YXNldC5pZCA9IGlkOwogICAgICAgICAgICAgICAgbGV0IHVybCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICAgIHVybC5ocmVmID0gcnVsZVVybC51cmw7CiAgICAgICAgICAgICAgICB1cmwuaW5uZXJIVE1MID0gcnVsZVVybC51cmw7CiAgICAgICAgICAgICAgICBsZXQgdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICB1cC5pbm5lckhUTUwgPSAi4oaRICI7CiAgICAgICAgICAgICAgICB1cC50aXRsZSA9IGkxOG4oInNvcnRUaXRsZSIpOwogICAgICAgICAgICAgICAgbGV0IGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBkb3duLmlubmVySFRNTCA9ICLihpMgIjsKICAgICAgICAgICAgICAgIGRvd24udGl0bGUgPSBpMThuKCJzb3J0VGl0bGUiKTsKICAgICAgICAgICAgICAgIGxldCBkZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBkZWwuaW5uZXJIVE1MID0gIsOXICI7CiAgICAgICAgICAgICAgICB1cC5vbmNsaWNrID0gZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVXAoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkb3duLm9uY2xpY2sgPSBlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVEb3duKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZGVsLm9uY2xpY2sgPSBlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbCgpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5hcHBlbmRDaGlsZCh1cCk7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQoZG93bik7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQoZGVsKTsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5hcHBlbmRDaGlsZCh1cmwpOwogICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIucnVsZXMpIHsKICAgICAgICAgICAgICAgICAgICB1cmwuc3R5bGUubWF4V2lkdGggPSAiODAlIjsKICAgICAgICAgICAgICAgICAgICB1cmwuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgICAgICAgICAgICB1cmwuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgICAgICAgICAgICAgIHVybC5zdHlsZS50ZXh0T3ZlcmZsb3cgPSAiZWxsaXBzaXMiOwogICAgICAgICAgICAgICAgICAgIHVybC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gImJvdHRvbSI7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGVzTGVuZ3RoID0gcnVsZVBhcnNlci5ydWxlcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyAoY3VyLmZyb20gPT0gaWQgPyAxIDogMCksIDApOwogICAgICAgICAgICAgICAgICAgIGxldCBpZFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICAgICAgaWRTcGFuLnN0eWxlLmZsb2F0ID0gInJpZ2h0IjsKICAgICAgICAgICAgICAgICAgICBpZFNwYW4uaW5uZXJIVE1MID0gYFtydWxlczogJHtydWxlc0xlbmd0aH1dYDsKICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQoaWRTcGFuKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlkU3BhbiA9IGlkU3BhbjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUodGhpcy5pdGVtLCBpbnNlcnRQb3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZU51bSgpIHsKICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLnJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGVzTGVuZ3RoID0gcnVsZVBhcnNlci5ydWxlcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyAoY3VyLmZyb20gPT0gdGhpcy5pdGVtLmRhdGFzZXQuaWQgPyAxIDogMCksIDApOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaWRTcGFuLmlubmVySFRNTCA9IGBbcnVsZXM6ICR7cnVsZXNMZW5ndGh9XWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2F2ZVNvcnQoKSB7CiAgICAgICAgICAgICAgICBsZXQgc29ydCA9IFtdOwogICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuaXRlbS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoInBbZGF0YS1pZF0iKSwgaSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc29ydC5wdXNoKGkuZGF0YXNldC5pZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zb3J0ID0gc29ydDsKICAgICAgICAgICAgICAgIGxldCB1cmxzID0gW107CiAgICAgICAgICAgICAgICBzb3J0LmZvckVhY2goaWQgPT4gewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgcnVsZVVybHMubGVuZ3RoOyBzKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09IHJ1bGVVcmxzW3NdLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2gocnVsZVVybHNbc10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJ1bGVVcmxzID0gdXJsczsKICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtb3ZlVXAoKSB7CiAgICAgICAgICAgICAgICBsZXQgcHJlRSA9IHRoaXMuaXRlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgaWYgKC9eUCQvaS50ZXN0KHByZUUubm9kZU5hbWUpICYmIHByZUUuY2hpbGRyZW4ubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLml0ZW0sIHByZUUpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVNvcnQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBtb3ZlRG93bigpIHsKICAgICAgICAgICAgICAgIGxldCBuZXh0RSA9IHRoaXMuaXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICBpZiAoL15QJC9pLnRlc3QobmV4dEUubm9kZU5hbWUpICYmIG5leHRFLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV4dEUsIHRoaXMuaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlU29ydCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGRlbCgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVVcmwuaWQgPCAyKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiY2FudERlbCIpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbmZpcm0oaTE4bigiY29uZmlybURlbCIpKSkgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgcnVsZXNEYXRhLnVybHMubGVuZ3RoOyB1KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVsZVVybC5pZCA9PSBydWxlc0RhdGEudXJsc1t1XS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnVybHMuc3BsaWNlKHUsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCBydWxlVXJscy5sZW5ndGg7IHUrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ydWxlVXJsLmlkID09IHJ1bGVVcmxzW3VdLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlVXJscy5zcGxpY2UodSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IHJ1bGVzRGF0YS5zb3J0Lmxlbmd0aDsgdSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVVcmwuaWQgPT0gcnVsZXNEYXRhLnNvcnRbdV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zb3J0LnNwbGljZSh1LCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLnJ1bGVzID0gcnVsZVBhcnNlci5ydWxlcy5maWx0ZXIoaXRlbSA9PiB7cmV0dXJuIGl0ZW0uZnJvbSAhPSB0aGlzLnJ1bGVVcmwuaWR9KTsKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzIiwgcnVsZVBhcnNlci5ydWxlcyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5pdGVtKTsKICAgICAgICAgICAgICAgICAgICAvL2xvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCB1cGRhdGVQID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLCBpID0gMDsKICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgoKICAgICAgICBsZXQgcGFzdERhdGUgPSAobmV3IERhdGUodXBkYXRlRGF0ZSkpLnRvU3RyaW5nKCksIHBhc3NTdHI7CiAgICAgICAgbGV0IHBhc3NUaW1lID0gKG5vdyAtIHVwZGF0ZURhdGUpIC8gMTAwMDsKICAgICAgICBpZiAoaXNOYU4ocGFzc1RpbWUpKSB7CiAgICAgICAgICAgIHBhc3NTdHIgPSBpMThuKCJmaXJzdFVwZGF0ZSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChwYXNzVGltZSA8IDYwKSB7CiAgICAgICAgICAgICAgICBwYXNzU3RyID0gaTE4bigicGFzc1NlYyIsIHBhcnNlSW50KHBhc3NUaW1lKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzc1RpbWUgPCA2MCAqIDYwKSB7CiAgICAgICAgICAgICAgICBwYXNzU3RyID0gaTE4bigicGFzc01pbiIsIHBhcnNlSW50KHBhc3NUaW1lIC8gNjApKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzVGltZSA8IDYwICogNjAgKiAyNCkgewogICAgICAgICAgICAgICAgcGFzc1N0ciA9IGkxOG4oInBhc3NIb3VyIiwgcGFyc2VJbnQocGFzc1RpbWUgLyAzNjAwKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwYXNzU3RyID0gaTE4bigicGFzc0RheSIsIHBhcnNlSW50KHBhc3NUaW1lIC8gODY0MDApKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwYXNzU3RyICs9ICIg8J+RhiAiICsgaTE4bigiY2xpY2sydXBkYXRlIik7CiAgICAgICAgfQoKICAgICAgICBsZXQgcnVsZWJhckxpc3QgPSBbXSwgdXBkYXRlRmFpbCA9IGZhbHNlOwogICAgICAgIHVwZGF0ZVAuY2xhc3NOYW1lID0gInVwZGF0ZURhdGUiOwogICAgICAgIHVwZGF0ZVAuaW5uZXJIVE1MID0gcGFzc1N0cjsKICAgICAgICB1cGRhdGVQLnRpdGxlID0gaTE4bigidXBkYXRlIikgKyAiIC0gIiArIHBhc3REYXRlOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUodXBkYXRlUCwgaW5zZXJ0UG9zKTsKICAgICAgICBpZiAocnVsZVVybHMpIHsKICAgICAgICAgICAgcnVsZVVybHMuZm9yRWFjaChydWxlVXJsID0+IHsKICAgICAgICAgICAgICAgIGxldCBydWxlYmFyID0gbmV3IFJ1bGViYXIoKTsKICAgICAgICAgICAgICAgIHJ1bGViYXIuaW5pdChydWxlVXJsKTsKICAgICAgICAgICAgICAgIHJ1bGViYXJMaXN0LnB1c2gocnVsZWJhcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBsZXQgY3VzdG9tVXJsc1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBjdXN0b21VcmxzVGl0bGUuaW5uZXJIVE1MID0gaTE4bigiY3VzdG9tVXJscyIpOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoY3VzdG9tVXJsc1RpdGxlLCBpbnNlcnRQb3MpOwogICAgICAgIGxldCBjdXN0b21VcmxzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICAgIGN1c3RvbVVybHNJbnB1dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBjdXN0b21VcmxzSW5wdXQucGxhY2Vob2xkZXIgPSAiaHR0cDovL3dlZGF0YS5uZXQvZGF0YWJhc2VzL0F1dG9QYWdlcml6ZS9pdGVtc19hbGwuanNvbiBcbmh0dHBzOi8vaG9vdGhpbi5naXRodWIuaW8vVXNlclNjcmlwdHMvUGFnZXR1YWwvcGFnZXR1YWxSdWxlcy5qc29uIjsKICAgICAgICBjdXN0b21VcmxzSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoY3VzdG9tVXJsc0lucHV0LCBpbnNlcnRQb3MpOwoKICAgICAgICBsZXQgYnRucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGJ0bnMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGJ0bnMsIGluc2VydFBvcyk7CiAgICAgICAgbGV0IHVwQnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgdXBCdG5JbWcuc3R5bGUud2lkdGggPSAiMzMlIjsKICAgICAgICBsZXQgdXBCdG5JbWdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICAgICAgdXBCdG5JbWdUaXRsZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgdXBCdG5JbWdUaXRsZS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICB1cEJ0bkltZ1RpdGxlLmlubmVySFRNTCA9IGkxOG4oInVwQnRuSW1nIik7CiAgICAgICAgdXBCdG5JbWcuYXBwZW5kQ2hpbGQodXBCdG5JbWdUaXRsZSk7CiAgICAgICAgbGV0IHVwQnRuSW1nSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHVwQnRuSW1nSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgdXBCdG5JbWdJbnB1dC5wbGFjZWhvbGRlciA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsVXBCdG4iOwogICAgICAgIHVwQnRuSW1nSW5wdXQudmFsdWUgPSBydWxlc0RhdGEudXBCdG5JbWcgfHwgJyc7CiAgICAgICAgdXBCdG5JbWdJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgdXBCdG5JbWcuYXBwZW5kQ2hpbGQodXBCdG5JbWdJbnB1dCk7CiAgICAgICAgYnRucy5hcHBlbmRDaGlsZCh1cEJ0bkltZyk7CgogICAgICAgIGxldCBkb3duQnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgZG93bkJ0bkltZy5zdHlsZS53aWR0aCA9ICIzMyUiOwogICAgICAgIGxldCBkb3duQnRuSW1nVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwogICAgICAgIGRvd25CdG5JbWdUaXRsZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgZG93bkJ0bkltZ1RpdGxlLnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgIGRvd25CdG5JbWdUaXRsZS5pbm5lckhUTUwgPSBpMThuKCJkb3duQnRuSW1nIik7CiAgICAgICAgZG93bkJ0bkltZy5hcHBlbmRDaGlsZChkb3duQnRuSW1nVGl0bGUpOwogICAgICAgIGxldCBkb3duQnRuSW1nSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIGRvd25CdG5JbWdJbnB1dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBkb3duQnRuSW1nSW5wdXQucGxhY2Vob2xkZXIgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LERvd25CdG4iOwogICAgICAgIGRvd25CdG5JbWdJbnB1dC52YWx1ZSA9IHJ1bGVzRGF0YS5kb3duQnRuSW1nIHx8ICcnOwogICAgICAgIGRvd25CdG5JbWdJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgZG93bkJ0bkltZy5hcHBlbmRDaGlsZChkb3duQnRuSW1nSW5wdXQpOwogICAgICAgIGJ0bnMuYXBwZW5kQ2hpbGQoZG93bkJ0bkltZyk7CgogICAgICAgIGxldCBzaWRlQ29udHJvbGxlckljb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25EaXYuc3R5bGUud2lkdGggPSAiMzMlIjsKICAgICAgICBsZXQgc2lkZUNvbnRyb2xsZXJJY29uVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwogICAgICAgIHNpZGVDb250cm9sbGVySWNvblRpdGxlLnN0eWxlLndoaXRlU3BhY2UgPSAibm93cmFwIjsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25UaXRsZS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25UaXRsZS5pbm5lckhUTUwgPSBpMThuKCJzaWRlQ29udHJvbGxlckljb24iKTsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25EaXYuYXBwZW5kQ2hpbGQoc2lkZUNvbnRyb2xsZXJJY29uVGl0bGUpOwogICAgICAgIGxldCBzaWRlQ29udHJvbGxlckljb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQucGxhY2Vob2xkZXIgPSAi8J+kjSI7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQudmFsdWUgPSBydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJJY29uIHx8ICcnOwogICAgICAgIHNpZGVDb250cm9sbGVySWNvbklucHV0LnNwZWxsY2hlY2sgPSBmYWxzZTsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25EaXYuYXBwZW5kQ2hpbGQoc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQpOwogICAgICAgIGJ0bnMuYXBwZW5kQ2hpbGQoc2lkZUNvbnRyb2xsZXJJY29uRGl2KTsKCiAgICAgICAgbGV0IG90aGVyQnRucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIG90aGVyQnRucy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUob3RoZXJCdG5zLCBpbnNlcnRQb3MpOwogICAgICAgIGxldCBsb2FkaW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGxvYWRpbmdUZXh0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGxldCBsb2FkaW5nVGV4dFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBsb2FkaW5nVGV4dFRpdGxlLnN0eWxlLndoaXRlU3BhY2UgPSAibm93cmFwIjsKICAgICAgICBsb2FkaW5nVGV4dFRpdGxlLnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgIGxvYWRpbmdUZXh0VGl0bGUuaW5uZXJIVE1MID0gaTE4bigibG9hZGluZ1RleHRUaXRsZSIpOwogICAgICAgIGxvYWRpbmdUZXh0LmFwcGVuZENoaWxkKGxvYWRpbmdUZXh0VGl0bGUpOwogICAgICAgIGxldCBsb2FkaW5nVGV4dElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICBsb2FkaW5nVGV4dElucHV0LnZhbHVlID0gcnVsZXNEYXRhLmxvYWRpbmdUZXh0IHx8ICcnOwogICAgICAgIGxvYWRpbmdUZXh0SW5wdXQucGxhY2Vob2xkZXIgPSBpMThuKCJsb2FkaW5nVGV4dCIpOwogICAgICAgIGxvYWRpbmdUZXh0SW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgbG9hZGluZ1RleHRJbnB1dC5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgICAgbG9hZGluZ1RleHRJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgbG9hZGluZ1RleHQuYXBwZW5kQ2hpbGQobG9hZGluZ1RleHRJbnB1dCk7CiAgICAgICAgb3RoZXJCdG5zLmFwcGVuZENoaWxkKGxvYWRpbmdUZXh0KTsKCiAgICAgICAgbGV0IG9wYWNpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBsZXQgb3BhY2l0eVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBvcGFjaXR5VGl0bGUuc3R5bGUud2hpdGVTcGFjZSA9ICJub3dyYXAiOwogICAgICAgIG9wYWNpdHlUaXRsZS5zdHlsZS5vdmVyZmxvdyA9ICJ2aXNpYmxlIjsKICAgICAgICBvcGFjaXR5VGl0bGUuaW5uZXJIVE1MID0gaTE4bigib3BhY2l0eSIpOwogICAgICAgIG9wYWNpdHkuYXBwZW5kQ2hpbGQob3BhY2l0eVRpdGxlKTsKICAgICAgICBsZXQgb3BhY2l0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICBvcGFjaXR5SW5wdXQudmFsdWUgPSBydWxlc0RhdGEub3BhY2l0eSAqIDEwMDsKICAgICAgICBvcGFjaXR5SW5wdXQudHlwZSA9ICJudW1iZXIiOwogICAgICAgIG9wYWNpdHlJbnB1dC5taW4gPSAwOwogICAgICAgIG9wYWNpdHlJbnB1dC5tYXggPSAxMDA7CiAgICAgICAgb3BhY2l0eUlucHV0LnN0eWxlLndpZHRoID0gIjExMHB4IjsKICAgICAgICBvcGFjaXR5SW5wdXQuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICAgIG9wYWNpdHlJbnB1dC5wbGFjZWhvbGRlciA9IGkxOG4oIm9wYWNpdHlQbGFjZWhvbGRlciIpOwogICAgICAgIG9wYWNpdHlJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgb3BhY2l0eUlucHV0Lm9uaW5wdXQgPSBlID0+IHsKICAgICAgICAgICAgaWYgKG9wYWNpdHlJbnB1dC52YWx1ZSA+IDEwMCkgb3BhY2l0eUlucHV0LnZhbHVlID0gMTAwOwogICAgICAgICAgICBlbHNlIGlmIChvcGFjaXR5SW5wdXQudmFsdWUgPCAwKSBvcGFjaXR5SW5wdXQudmFsdWUgPSAwOwogICAgICAgIH07CiAgICAgICAgb3BhY2l0eS5hcHBlbmRDaGlsZChvcGFjaXR5SW5wdXQpOwogICAgICAgIG90aGVyQnRucy5hcHBlbmRDaGlsZChvcGFjaXR5KTsKCiAgICAgICAgbGV0IHBhZ2VFbGVtZW50Q3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgcGFnZUVsZW1lbnRDc3Muc3R5bGUubWFyZ2luQm90dG9tID0gIjMwcHgiOwogICAgICAgIGxldCBwYWdlRWxlbWVudENzc1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBwYWdlRWxlbWVudENzc1RpdGxlLmlubmVySFRNTCA9IGkxOG4oInBhZ2VFbGVtZW50Q3NzIik7CiAgICAgICAgcGFnZUVsZW1lbnRDc3MuYXBwZW5kQ2hpbGQocGFnZUVsZW1lbnRDc3NUaXRsZSk7CiAgICAgICAgbGV0IHBhZ2VFbGVtZW50Q3NzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHBhZ2VFbGVtZW50Q3NzSW5wdXQudmFsdWUgPSBydWxlc0RhdGEucGFnZUVsZW1lbnRDc3MgfHwgJyc7CiAgICAgICAgcGFnZUVsZW1lbnRDc3NJbnB1dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBwYWdlRWxlbWVudENzc0lucHV0LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgICBwYWdlRWxlbWVudENzc0lucHV0LnBsYWNlaG9sZGVyID0gImZvbnQtc2l6ZTogeHgtbGFyZ2U7IjsKICAgICAgICBwYWdlRWxlbWVudENzc0lucHV0LnNwZWxsY2hlY2sgPSBmYWxzZTsKICAgICAgICBwYWdlRWxlbWVudENzcy5hcHBlbmRDaGlsZChwYWdlRWxlbWVudENzc0lucHV0KTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKHBhZ2VFbGVtZW50Q3NzLCBpbnNlcnRQb3MpOwoKICAgICAgICBsZXQgY3VzdG9tQ3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgY3VzdG9tQ3NzLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICI1MHB4IjsKICAgICAgICBsZXQgY3VzdG9tQ3NzVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwogICAgICAgIGN1c3RvbUNzc1RpdGxlLmlubmVySFRNTCA9IGkxOG4oImN1c3RvbUNzcyIpOwogICAgICAgIGN1c3RvbUNzcy5hcHBlbmRDaGlsZChjdXN0b21Dc3NUaXRsZSk7CiAgICAgICAgbGV0IGN1c3RvbUNzc0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTsKICAgICAgICBjdXN0b21Dc3NJbnB1dC52YWx1ZSA9IHJ1bGVzRGF0YS5jdXN0b21Dc3MgfHwgJyc7CiAgICAgICAgY3VzdG9tQ3NzSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgY3VzdG9tQ3NzSW5wdXQuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICAgIGN1c3RvbUNzc0lucHV0LnBsYWNlaG9sZGVyID0gIi5wYWdldHVhbCB7XG59IjsKICAgICAgICBjdXN0b21Dc3NJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgY3VzdG9tQ3NzLmFwcGVuZENoaWxkKGN1c3RvbUNzc0lucHV0KTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGN1c3RvbUNzcywgaW5zZXJ0UG9zKTsKCiAgICAgICAgbGV0IGNvbmZpZ1RhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICBjb25maWdUYWJsZS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBsZXQgY29uZmlnVGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpOwogICAgICAgIGNvbmZpZ1Rib2R5LnN0eWxlLndpZHRoID0gIjk5JSI7CiAgICAgICAgY29uZmlnVGJvZHkuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtdGFibGUiOwogICAgICAgIGNvbmZpZ1RhYmxlLmFwcGVuZENoaWxkKGNvbmZpZ1Rib2R5KTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGNvbmZpZ1RhYmxlLCBpbnNlcnRQb3MpOwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KGlubmVyVGV4dCwgdmFsLCB0YWcsIHBhcmVudENoZWNrLCBvdGhlclR5cGUpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gJ3VuZGVmaW5lZCcpIHZhbCA9ICIiOwogICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyB8fCAiaDMiKTsKICAgICAgICAgICAgdGl0bGUuaW5uZXJIVE1MID0gaW5uZXJUZXh0OwogICAgICAgICAgICB0aXRsZS5zdHlsZS5vdmVyZmxvd1dyYXAgPSAibm9ybWFsIjsKICAgICAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICAgICAgaWYgKG90aGVyVHlwZSA9PT0gJ2tleScpIHsKICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7CiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRPbmx5JywgJ3JlYWRvbmx5Jyk7CiAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyB8fCBlLmtleSA9PT0gJ0JhY2tzcGFjZScpIGlucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpbnB1dC52YWx1ZSA9IGUua2V5OwogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gb3RoZXJUeXBlIHx8ICJjaGVja2JveCI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSAiMzBweCI7CiAgICAgICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9ICIyMHB4IjsKICAgICAgICAgICAgaW5wdXQuc3R5bGUuZmxvYXQgPSAibGVmdCI7CiAgICAgICAgICAgIGlucHV0LnN0eWxlLm1hcmdpbiA9ICI1cHgiOwogICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbDsKICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHZhbDsKICAgICAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICAgICAgICBpZiAocGFyZW50Q2hlY2spIHsKICAgICAgICAgICAgICAgIHRpdGxlLnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKHRpdGxlKTsKICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDaGVjay5wYXJlbnROb2RlLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgIGxldCB0ciA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCJ0ciIpOwogICAgICAgICAgICAgICAgaWYgKCF0cikgewogICAgICAgICAgICAgICAgICAgIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodHIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpOwogICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRDaGVjay5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhcmVudENoZWNrLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUuZGlzcGxheSA9IHBhcmVudENoZWNrLmNoZWNrZWQgPyAiIiA6ICJub25lIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTsKICAgICAgICAgICAgICAgIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKHRpdGxlKTsKICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTsKICAgICAgICAgICAgICAgIGNvbmZpZ1RhYmxlLmNoaWxkcmVuWzBdLmFwcGVuZENoaWxkKHRyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgeE5vZGVQb3MgPSBpbm5lclRleHQuaW5kZXhPZign44CQWOOAkScpOwogICAgICAgICAgICBpZiAoeE5vZGVQb3MgIT09IC0xKSB7CiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5mbG9hdCA9ICIiOwogICAgICAgICAgICAgICAgbGV0IHhOb2RlID0gdGl0bGUuZmlyc3RDaGlsZC5zcGxpdFRleHQoeE5vZGVQb3MpOwogICAgICAgICAgICAgICAgeE5vZGUuc3BsaXRUZXh0KDMpOwogICAgICAgICAgICAgICAgeE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaW5wdXQsIHhOb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaW5wdXQ7CiAgICAgICAgfQoKICAgICAgICBsZXQgc2V0Q29uZmlnUGFnZUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigic2V0Q29uZmlnUGFnZSIpLCBmYWxzZSk7CiAgICAgICAgbGV0IGVuYWJsZVdoaXRlTGlzdElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiYXV0b1J1biIpLCBydWxlc0RhdGEuZW5hYmxlV2hpdGVMaXN0ICE9IHRydWUpOwogICAgICAgIGxldCBzaWRlQ29udHJvbGxlcklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigic2lkZUNvbnRyb2xsZXIiKSwgcnVsZXNEYXRhLnNpZGVDb250cm9sbGVyKTsKICAgICAgICBsZXQgZW5hYmxlRGVidWdJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImVuYWJsZURlYnVnIiksIHJ1bGVzRGF0YS5lbmFibGVEZWJ1ZyAhPSBmYWxzZSk7CiAgICAgICAgbGV0IGVuYWJsZUhpc3RvcnlJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImVuYWJsZUhpc3RvcnkiKSwgcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnkgPT09IHRydWUpOwogICAgICAgIGxldCBlbmFibGVIaXN0b3J5QWZ0ZXJJbnNlcnRJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImVuYWJsZUhpc3RvcnlBZnRlckluc2VydCIpLCBydWxlc0RhdGEuZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID09PSB0cnVlKTsKICAgICAgICBsZXQgb3BlbkluTmV3VGFiSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJvcGVuSW5OZXdUYWIiKSwgcnVsZXNEYXRhLm9wZW5Jbk5ld1RhYiAhPSBmYWxzZSk7CiAgICAgICAgbGV0IGhpZGVQYWdlQmFySW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJoaWRlQmFyVGlwcyIpLCBydWxlc0RhdGEub3BhY2l0eSA9PSAwKTsKICAgICAgICBsZXQgaGlkZVBhZ2VCYXJBcnJvd0lucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiaGlkZUJhckFycm93IiksIHJ1bGVzRGF0YS5oaWRlQmFyQXJyb3cpOwogICAgICAgIGxldCBoaWRlTG9hZGluZ0ljb25JbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImhpZGVMb2FkaW5nSWNvbiIpLCBydWxlc0RhdGEuaGlkZUxvYWRpbmdJY29uICE9IGZhbHNlKTsKICAgICAgICBsZXQgaW5pdFJ1bklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiaW5pdFJ1biIpLCBydWxlc0RhdGEuaW5pdFJ1biAhPSBmYWxzZSk7CiAgICAgICAgbGV0IGF1dG9Mb2FkTnVtSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJhdXRvTG9hZE51bSIpLCBydWxlc0RhdGEuYXV0b0xvYWROdW0sICJoNCIsIGluaXRSdW5JbnB1dCwgIm51bWJlciIpOwogICAgICAgIGxldCBwcmVsb2FkSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJwcmVsb2FkIiksIHJ1bGVzRGF0YS5wcmVsb2FkICE9IGZhbHNlKTsKICAgICAgICBsZXQgcmF0ZUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigidHVyblJhdGUiKSwgcnVsZXNEYXRhLnJhdGUsICJoNCIsIHByZWxvYWRJbnB1dCwgIm51bWJlciIpOwogICAgICAgIGxldCBkYkNsaWNrMlN0b3BJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImRiQ2xpY2syU3RvcCIpLCBydWxlc0RhdGEuZGJDbGljazJTdG9wKTsKICAgICAgICBsZXQgbWFudWFsTW9kZUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigibWFudWFsTW9kZSIpLCBydWxlc0RhdGEubWFudWFsTW9kZSk7CiAgICAgICAgbGV0IGNsaWNrTW9kZUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiY2xpY2tNb2RlIiksIHJ1bGVzRGF0YS5jbGlja01vZGUpOwogICAgICAgIGxldCBwYWdlQmFyTWVudUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigicGFnZUJhck1lbnUiKSwgcnVsZXNEYXRhLnBhZ2VCYXJNZW51ICE9IGZhbHNlKTsKICAgICAgICBsZXQgYXJyb3dUb1Njcm9sbElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiYXJyb3dUb1Njcm9sbCIpLCBydWxlc0RhdGEuYXJyb3dUb1Njcm9sbCk7CiAgICAgICAgbGV0IGNvbnRlbnRWaXNpYmlsaXR5SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJjb250ZW50VmlzaWJpbGl0eSIpLCBydWxlc0RhdGEuY29udGVudFZpc2liaWxpdHkpOwogICAgICAgIGxldCB3ZWRhdGEyZ2l0aHViSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJ3ZWRhdGEyZ2l0aHViIiksIHJ1bGVzRGF0YS53ZWRhdGEyZ2l0aHViKTsKICAgICAgICBsZXQgY3VzdG9tRmlyc3RJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImN1c3RvbUZpcnN0IiksIHJ1bGVzRGF0YS5jdXN0b21GaXJzdCk7CgogICAgICAgIGxldCBoaWRlQmFySW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJoaWRlQmFyIiksIHJ1bGVzRGF0YS5oaWRlQmFyICYmICFydWxlc0RhdGEuaGlkZUJhckJ1dE5vU3RvcCwgImg0IiwgZGJDbGljazJTdG9wSW5wdXQsICdyYWRpbycpOwogICAgICAgIGhpZGVCYXJJbnB1dC5uYW1lID0gJ2hpZGVCYXInOwogICAgICAgIGxldCBoaWRlQmFyQnV0Tm9TdG9wSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJoaWRlQmFyQnV0Tm9TdG9wIiksIHJ1bGVzRGF0YS5oaWRlQmFyQnV0Tm9TdG9wLCAiaDQiLCBkYkNsaWNrMlN0b3BJbnB1dCwgJ3JhZGlvJyk7CiAgICAgICAgaGlkZUJhckJ1dE5vU3RvcElucHV0Lm5hbWUgPSAnaGlkZUJhcic7CiAgICAgICAgaGlkZUJhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHsKICAgICAgICAgICAgaWYgKGhpZGVCYXJJbnB1dC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtoaWRlQmFySW5wdXQuY2hlY2tlZCA9IGZhbHNlfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBoaWRlQmFyQnV0Tm9TdG9wSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGUgPT4gewogICAgICAgICAgICBpZiAoaGlkZUJhckJ1dE5vU3RvcElucHV0LmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge2hpZGVCYXJCdXROb1N0b3BJbnB1dC5jaGVja2VkID0gZmFsc2V9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGhpZGVQYWdlQmFySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICAgICAgICAgICAgb3BhY2l0eUlucHV0LnZhbHVlID0gaGlkZVBhZ2VCYXJJbnB1dC5jaGVja2VkID8gMCA6IDEwMDsKICAgICAgICB9KTsKCiAgICAgICAgbGV0IGRiQ2xpY2syU3RvcEN0cmxJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImRiQ2xpY2syU3RvcEN0cmwiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcEN0cmwsICJoNCIsIGRiQ2xpY2syU3RvcElucHV0KTsKICAgICAgICBsZXQgZGJDbGljazJTdG9wQWx0SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJkYkNsaWNrMlN0b3BBbHQiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcEFsdCwgImg0IiwgZGJDbGljazJTdG9wSW5wdXQpOwogICAgICAgIGxldCBkYkNsaWNrMlN0b3BTaGlmdElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiZGJDbGljazJTdG9wU2hpZnQiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcFNoaWZ0LCAiaDQiLCBkYkNsaWNrMlN0b3BJbnB1dCk7CiAgICAgICAgbGV0IGRiQ2xpY2syU3RvcE1ldGFJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImRiQ2xpY2syU3RvcE1ldGEiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcE1ldGEsICJoNCIsIGRiQ2xpY2syU3RvcElucHV0KTsKICAgICAgICBsZXQgZGJDbGljazJTdG9wS2V5SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJkYkNsaWNrMlN0b3BLZXkiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcEtleSwgImg0IiwgZGJDbGljazJTdG9wSW5wdXQsICJrZXkiKTsKCiAgICAgICAgbGV0IG90aGVyQ29uZmlnUGFnZSA9IHJ1bGVzRGF0YS5jb25maWdQYWdlID8gcnVsZXNEYXRhLmNvbmZpZ1BhZ2UgIT0gbG9jYXRpb24uaHJlZiA6IGNvbmZpZ1BhZ2VbMF0gIT0gbG9jYXRpb24uaHJlZjsKICAgICAgICBpZiAoIW90aGVyQ29uZmlnUGFnZSkgewogICAgICAgICAgICBzZXRDb25maWdQYWdlSW5wdXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfQoKICAgICAgICB1cGRhdGVQLm9uY2xpY2sgPSBlID0+IHsKICAgICAgICAgICAgdXBkYXRlRmFpbCA9IGZhbHNlOwogICAgICAgICAgICBydWxlUGFyc2VyLnJ1bGVzID0gW107CiAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImJlZ2luVXBkYXRlIiksICIiLCAzMDAwMCk7CiAgICAgICAgICAgIHVwZGF0ZVJ1bGVzKCgpID0+IHsKICAgICAgICAgICAgICAgIGlmICghdXBkYXRlRmFpbCkgewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oInVwZGF0ZVN1Y2MiKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGltcG9ydFVybFByZSkgaW1wb3J0VXJsUHJlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWNrMmltcG9ydCkgY2xpY2syaW1wb3J0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB1cGRhdGVQLmlubmVySFRNTCA9IGkxOG4oInBhc3NTZWMiLCAwKTsKICAgICAgICAgICAgICAgIHVwZGF0ZVAudGl0bGUgPSBpMThuKCJ1cGRhdGUiKTsKICAgICAgICAgICAgICAgIHJ1bGViYXJMaXN0LmZvckVhY2gocnVsZWJhciA9PiB7CiAgICAgICAgICAgICAgICAgICAgcnVsZWJhci51cGRhdGVOdW0oKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCAocnVsZSwgZXJyKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocnVsZS5pZCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoYFVwZGF0ZSB3ZWRhdGEgcnVsZXMgZmFpbCEgVHJ5IHRvIHN3aXRjaCB0byB3ZWRhdGEgbWlycm9yIWApOwogICAgICAgICAgICAgICAgICAgIHdlZGF0YTJnaXRodWJJbnB1dC5zY3JvbGxJbnRvVmlldygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhgVXBkYXRlICR7cnVsZS51cmx9IHJ1bGVzIGZhaWwhYCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWJ1ZyhlcnIpOwogICAgICAgICAgICAgICAgdXBkYXRlRmFpbCA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgbGV0IGN1c3RvbVJ1bGVzVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwogICAgICAgIGN1c3RvbVJ1bGVzVGl0bGUuaW5uZXJIVE1MID0gaTE4bigiY3VzdG9tUnVsZXMiLCAvdHJlZS8udGVzdChsb2NhdGlvbi5ocmVmKSA/IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgndHJlZScsICdlZGl0JykucmVwbGFjZSgvXC8kLywgJycpICsgJy9wYWdldHVhbFJ1bGVzLmpzb24nIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9ob290aGluL1VzZXJTY3JpcHRzL2VkaXQvbWFzdGVyL1BhZ2V0dWFsL3BhZ2V0dWFsUnVsZXMuanNvbicpOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoY3VzdG9tUnVsZXNUaXRsZSwgaW5zZXJ0UG9zKTsKICAgICAgICBsZXQgY3VzdG9tUnVsZXNJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShjdXN0b21SdWxlc0lucHV0LCBpbnNlcnRQb3MpOwogICAgICAgIGlmIChydWxlc0RhdGEuZWRpdFRlbXApIHsKICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzID0gW107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXN0b21SdWxlc1tpXS51cmwgPT0gcnVsZXNEYXRhLmVkaXRUZW1wLnVybCkgewogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMudW5zaGlmdChydWxlc0RhdGEuZWRpdFRlbXApOwogICAgICAgICAgICBydWxlc0RhdGEuZWRpdFRlbXAgPSBudWxsOwogICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CiAgICAgICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy5zY3JvbGxJbnRvVmlldygpOwogICAgICAgIH0KICAgICAgICBjdXN0b21SdWxlc0lucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQuc3R5bGUuaGVpZ2h0ID0gIjgwMHB4IjsKICAgICAgICBjdXN0b21SdWxlc0lucHV0LnBsYWNlaG9sZGVyID0gYFtcbiAge1xuICAgICJuYW1lIjoieWFuZGUiLFxuICAgICJhY3Rpb24iOiIwIixcbiAgICAidXJsIjoiXmh0dHBzOlwvXC95YW5kZVxcLnJlXC8iLFxuICAgICJwYWdlRWxlbWVudCI6InVsI3Bvc3QtbGlzdC1wb3N0cz5saSIsXG4gICAgIm5leHRMaW5rIjoiYS5uZXh0X3BhZ2UiLFxuICAgICJjc3MiOiIuamF2YXNjcmlwdC1oaWRlIHtkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDt9IlxuICB9LFxuICB7XG4gICAgIm5hbWUiOiJ0aWViYSIsXG4gICAgImFjdGlvbiI6IjEiLFxuICAgICJ1cmwiOiJeaHR0cHM6XC9cL3RpZWJhXFwuYmFpZHUuY29tXC9mXFw/a3c9IixcbiAgICAicGFnZUVsZW1lbnQiOiJ1bCN0aHJlYWRfbGlzdD5saSIsXG4gICAgIm5leHRMaW5rIjoiLm5leHQucGFnaW5hdGlvbi1pdGVtICJcbiAgfVxuXWA7CiAgICAgICAgbGV0IHByZUN1c3RvbSA9IGdldEZvcm1hdEpTT04ocnVsZVBhcnNlci5jdXN0b21SdWxlcyk7CiAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC52YWx1ZSA9IHByZUN1c3RvbTsKICAgICAgICBpZiAoaXNHdWlkZVBhZ2UpIGN1c3RvbVJ1bGVzSW5wdXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBsZXQgYmxhY2tsaXN0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICAgIGJsYWNrbGlzdElucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGJsYWNrbGlzdElucHV0LnN0eWxlLmhlaWdodCA9ICI1MDBweCI7CiAgICAgICAgYmxhY2tsaXN0SW5wdXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBibGFja2xpc3RJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgYmxhY2tsaXN0SW5wdXQucGxhY2Vob2xkZXIgPSAiaHR0cDovLyoueHh4LmNvbS8qL3lcbi9eaHR0cHM/Oi8vLipcXC54eHhcXC5jb20vaSI7CiAgICAgICAgYmxhY2tsaXN0SW5wdXQudmFsdWUgPSBydWxlc0RhdGEuYmxhY2tsaXN0ID8gcnVsZXNEYXRhLmJsYWNrbGlzdC5qb2luKCJcbiIpIDogIiI7CiAgICAgICAgbGV0IGJsYWNrbGlzdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgIGJsYWNrbGlzdEJ0bi5pbm5lclRleHQgPSBpMThuKCJlZGl0QmxhY2tsaXN0Iik7CiAgICAgICAgYmxhY2tsaXN0QnRuLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGJsYWNrbGlzdEJ0bi5vbmNsaWNrID0gZSA9PiB7CiAgICAgICAgICAgIGJsYWNrbGlzdElucHV0LnN0eWxlLmRpc3BsYXkgPSBibGFja2xpc3RJbnB1dC5zdHlsZS5kaXNwbGF5ID09ICJub25lIiA/ICIiIDogIm5vbmUiOwogICAgICAgIH07CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShibGFja2xpc3RCdG4sIGluc2VydFBvcyk7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShibGFja2xpc3RJbnB1dCwgaW5zZXJ0UG9zKTsKICAgICAgICBsZXQgc2F2ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgIHNhdmVCdG4uaW5uZXJIVE1MID0gaTE4bigic2F2ZSIpOwogICAgICAgIHNhdmVCdG4uaWQgPSAic2F2ZUJ0biI7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShzYXZlQnRuLCBpbnNlcnRQb3MpOwogICAgICAgIHNhdmVCdG4ub25jbGljayA9IGUgPT4gewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IGN1c3RvbVJ1bGVzOwogICAgICAgICAgICAgICAgaWYgKGVkaXRvcikgewogICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JDaGFuZ2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvckNoYW5nZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJocFJ1bGVzIiwgW10pOwogICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInNtYXJ0UnVsZXMiLCBbXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gZWRpdG9yLmdldCgpOwogICAgICAgICAgICAgICAgICAgIGlmICghY3VzdG9tUnVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUnVsZXMgPSAiIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheShjdXN0b21SdWxlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9yUnVsZXNNdXN0QmVBcnJheSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUgIT0gcHJlQ3VzdG9tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiaHBSdWxlcyIsIFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgW10pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VzdG9tUnVsZXNJbnB1dC52YWx1ZSA9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21SdWxlcyA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gSlNPTi5wYXJzZShjdXN0b21SdWxlc0lucHV0LnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoY3VzdG9tUnVsZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvclJ1bGVzTXVzdEJlQXJyYXkiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGN1c3RvbVJ1bGVzLCBudWxsLCA0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWJ1ZyhjdXN0b21SdWxlcyk7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImN1c3RvbVJ1bGVzIiwgY3VzdG9tUnVsZXMpOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgbGV0IHBvcyA9IGUgJiYgZS5tZXNzYWdlICYmIGUubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxkKykvKTsKICAgICAgICAgICAgICAgIGlmIChwb3MgJiYgIWVkaXRvcikgewogICAgICAgICAgICAgICAgICAgIHBvcyA9IHBhcnNlSW50KHBvc1sxXSk7CiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC52YWx1ZSA9IGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUuc2xpY2UoMCwgcG9zKSArICLinqHvuI8iICsgY3VzdG9tUnVsZXNJbnB1dC52YWx1ZVtwb3NdICsgIuKshe+4jyIgKyBjdXN0b21SdWxlc0lucHV0LnZhbHVlLnNsaWNlKHBvcyArIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZXJyb3JKc29uIikpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZXRDb25maWdQYWdlSW5wdXQuY2hlY2tlZCkgcnVsZXNEYXRhLmNvbmZpZ1BhZ2UgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICBydWxlc0RhdGEud2VkYXRhMmdpdGh1YiA9IHdlZGF0YTJnaXRodWJJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBsZXQgb3BhY2l0eSA9IHBhcnNlSW50KG9wYWNpdHlJbnB1dC52YWx1ZSkgfHwgMDsKICAgICAgICAgICAgaWYgKG9wYWNpdHkgPiAxMDApIG9wYWNpdHkgPSAxMDA7CiAgICAgICAgICAgIGVsc2UgaWYgKG9wYWNpdHkgPCAwKSBvcGFjaXR5ID0gMDsKICAgICAgICAgICAgcnVsZXNEYXRhLm9wYWNpdHkgPSBvcGFjaXR5IC8gMTAwOwogICAgICAgICAgICBydWxlc0RhdGEuYmxhY2tsaXN0ID0gYmxhY2tsaXN0SW5wdXQudmFsdWUgPyBibGFja2xpc3RJbnB1dC52YWx1ZS50cmltKCkuc3BsaXQoIlxuIikgOiAiIjsKICAgICAgICAgICAgcnVsZXNEYXRhLmhpZGVCYXIgPSBoaWRlQmFySW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmhpZGVCYXJCdXROb1N0b3AgPSBoaWRlQmFyQnV0Tm9TdG9wSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcCA9IGRiQ2xpY2syU3RvcElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5lbmFibGVXaGl0ZUxpc3QgPSAhZW5hYmxlV2hpdGVMaXN0SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmVuYWJsZURlYnVnID0gZW5hYmxlRGVidWdJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZW5hYmxlSGlzdG9yeSA9IGVuYWJsZUhpc3RvcnlJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID0gZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLm9wZW5Jbk5ld1RhYiA9IG9wZW5Jbk5ld1RhYklucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5oaWRlTG9hZGluZ0ljb24gPSBoaWRlTG9hZGluZ0ljb25JbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuaGlkZUJhckFycm93ID0gaGlkZVBhZ2VCYXJBcnJvd0lucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5jdXN0b21GaXJzdCA9IGN1c3RvbUZpcnN0SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmluaXRSdW4gPSBpbml0UnVuSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmF1dG9Mb2FkTnVtID0gYXV0b0xvYWROdW1JbnB1dC52YWx1ZSAhPT0gIjAiID8gYXV0b0xvYWROdW1JbnB1dC52YWx1ZSA6ICcnOwogICAgICAgICAgICBydWxlc0RhdGEucmF0ZSA9IHBhcnNlSW50KHJhdGVJbnB1dC52YWx1ZSkgfHwgMTsKICAgICAgICAgICAgcnVsZXNEYXRhLnByZWxvYWQgPSBwcmVsb2FkSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLm1hbnVhbE1vZGUgPSBtYW51YWxNb2RlSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmNsaWNrTW9kZSA9IGNsaWNrTW9kZUlucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5wYWdlQmFyTWVudSA9IHBhZ2VCYXJNZW51SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmFycm93VG9TY3JvbGwgPSBhcnJvd1RvU2Nyb2xsSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmNvbnRlbnRWaXNpYmlsaXR5ID0gY29udGVudFZpc2liaWxpdHlJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBpZiAocnVsZXNEYXRhLnNpZGVDb250cm9sbGVyICE9IHNpZGVDb250cm9sbGVySW5wdXQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgcnVsZXNEYXRhLnNpZGVDb250cm9sbGVyUG9zID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcnVsZXNEYXRhLnNpZGVDb250cm9sbGVyID0gc2lkZUNvbnRyb2xsZXJJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEucGFnZUVsZW1lbnRDc3MgPSBwYWdlRWxlbWVudENzc0lucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEuY3VzdG9tQ3NzID0gY3VzdG9tQ3NzSW5wdXQudmFsdWU7CiAgICAgICAgICAgIHJ1bGVzRGF0YS51cEJ0bkltZyA9IHVwQnRuSW1nSW5wdXQudmFsdWU7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kb3duQnRuSW1nID0gZG93bkJ0bkltZ0lucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJJY29uID0gc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQudmFsdWU7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5sb2FkaW5nVGV4dCA9IGxvYWRpbmdUZXh0SW5wdXQudmFsdWU7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BDdHJsID0gZGJDbGljazJTdG9wQ3RybElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BBbHQgPSBkYkNsaWNrMlN0b3BBbHRJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wU2hpZnQgPSBkYkNsaWNrMlN0b3BTaGlmdElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BNZXRhID0gZGJDbGljazJTdG9wTWV0YUlucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BLZXkgPSBkYkNsaWNrMlN0b3BLZXlJbnB1dC52YWx1ZTsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlc0RhdGEiLCBydWxlc0RhdGEpOwogICAgICAgICAgICBsZXQgY3VzdG9tVXJscyA9IGN1c3RvbVVybHNJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGlmIChjdXN0b21VcmxzKSB7CiAgICAgICAgICAgICAgICBjdXN0b21VcmxzID0gY3VzdG9tVXJscy5zcGxpdCgvXG4vKTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY3VzdG9tVXJscy5sZW5ndGg7IGMrKykgewogICAgICAgICAgICAgICAgICAgIGxldCB1cmw7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eMFxzKlx8Ly50ZXN0KGN1c3RvbVVybHNbY10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IGN1c3RvbVVybHNbY10ucmVwbGFjZSgvXjBccypcfFxzKi8sICIiKS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghL15odHRwLy50ZXN0KHVybCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9yV3JvbmdVcmwiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBjdXN0b21VcmxzW2NdLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEvXmh0dHAvLnRlc3QodXJsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZXJyb3JXcm9uZ1VybCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgbWF4SWQgPSAxLCBoYXNVcmwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS51cmxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS51cmxzID0gW107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJ1bGVVcmxzLmZvckVhY2godSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhJZCA8IHUuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heElkID0gdS5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodS51cmwgPT0gdXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNVcmwgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1VybCkgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEuc29ydCkgcnVsZXNEYXRhLnNvcnQgPSBbMV07CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnVybHMucHVzaCh7aWQ6IG1heElkICsgMSwgdXJsOiB1cmx9KTsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuc29ydC5wdXNoKG1heElkICsgMSk7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlc0RhdGEiLCBydWxlc0RhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oInNldHRpbmdzU2F2ZWQiKSk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVSdWxlcyAoc3VjY2VzcywgZmFpbCwga2VlcENhY2hlKSB7CiAgICAgICAgaWYgKCFzdG9yYWdlLnN1cHBvcnRDcm9zc1NhdmUoKSkgewogICAgICAgICAgICBmYWlsKHt1cmw6Jyd9LCAiTm90IHN1cHBvcnQgY3Jvc3Mgc3RvcmFnZSIpOwogICAgICAgICAgICBzaG93VGlwcygiQ3VycmVudCBwbGF0Zm9ybSBkbyBub3Qgc3VwcG9ydCBjcm9zcyBzdG9yYWdlISIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpblVwZGF0ZSkgcmV0dXJuOwogICAgICAgIGluVXBkYXRlID0gdHJ1ZTsKICAgICAgICBsZXQgcnVsZUluZGV4ID0gcnVsZVVybHMubGVuZ3RoIC0gMTsKICAgICAgICBpZiAoIWtlZXBDYWNoZSkgewogICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImhwUnVsZXMiLCBbXSk7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgic21hcnRSdWxlcyIsIFtdKTsKICAgICAgICB9CiAgICAgICAgbGV0IGFsbE9rID0gdHJ1ZTsKICAgICAgICBmdW5jdGlvbiBhZGROZXh0UnVsZSgpIHsKICAgICAgICAgICAgaWYgKHJ1bGVJbmRleCA8IDApIHsKICAgICAgICAgICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZUxhc3RVcGRhdGUiLCBub3cpOwogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlcyIsIHJ1bGVQYXJzZXIucnVsZXMpOwogICAgICAgICAgICAgICAgaW5VcGRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChhbGxPaykgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS51bmluaXRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBydWxlID0gcnVsZVVybHNbcnVsZUluZGV4LS1dOwogICAgICAgICAgICAgICAgcnVsZVBhcnNlci5hZGRSdWxlQnlVcmwocnVsZS51cmwsIHJ1bGUuaWQsIChqc29uLCBlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWpzb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChydWxlLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhZGROZXh0UnVsZSgpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBhZGROZXh0UnVsZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9iaklzQXJyKG9iaikgewogICAgICAgIHJldHVybiBvYmogJiYKICAgICAgICAgICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYKICAgICAgICAgICAgdHlwZW9mIG9iai5sZW5ndGggPT09ICdudW1iZXInICYmCiAgICAgICAgICAgICEob2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlKCdsZW5ndGgnKSk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNWaXNpYmxlKGVsLCB3aW4pIHsKICAgICAgICBpZighZWwgfHwgIWVsLm9mZnNldFBhcmVudClyZXR1cm4gZmFsc2U7CiAgICAgICAgdmFyIGxvb3BhYmxlID0gdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZSA9IGVsLm5vZGVOYW1lICYmIHdpbi5nZXRDb21wdXRlZFN0eWxlKGVsKS5kaXNwbGF5ICE9ICdub25lJyAmJiB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCkudmlzaWJpbGl0eSAhPSAnaGlkZGVuJzsKICAgICAgICB3aGlsZShsb29wYWJsZSAmJiB2aXNpYmxlKSB7CiAgICAgICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTsKCiAgICAgICAgICAgIGlmKGVsICYmICEvXkJPRFkkL2kudGVzdChlbC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgIHZpc2libGUgPSB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheSAhPSAnbm9uZScgJiYgd2luLmdldENvbXB1dGVkU3R5bGUoZWwpLnZpc2liaWxpdHkgIT0gJ2hpZGRlbic7CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIGxvb3BhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpc2libGU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RWxlbWVudFRvcChlbGUpIHsKICAgICAgICBpZiAoIWVsZSkgcmV0dXJuIDA7CiAgICAgICAgaWYgKGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsKICAgICAgICAgICAgcmV0dXJuIGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgIH0KICAgICAgICB2YXIgYWN0dWFsVG9wID0gZWxlLm9mZnNldFRvcDsKICAgICAgICB2YXIgY3VycmVudCA9IGVsZS5vZmZzZXRQYXJlbnQ7CiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHsKICAgICAgICAgICAgYWN0dWFsVG9wICs9IGN1cnJlbnQub2Zmc2V0VG9wOwogICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhY3R1YWxUb3A7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RWxlbWVudExlZnQoZWxlKSB7CiAgICAgICAgaWYgKCFlbGUpIHJldHVybiAwOwogICAgICAgIGlmIChlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7CiAgICAgICAgICAgIHJldHVybiBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwogICAgICAgIH0KICAgICAgICB2YXIgYWN0dWFsTGVmdCA9IGVsZS5vZmZzZXRMZWZ0OwogICAgICAgIHZhciBjdXJyZW50ID0gZWxlLm9mZnNldFBhcmVudDsKICAgICAgICB3aGlsZSAoY3VycmVudCkgewogICAgICAgICAgICBhY3R1YWxMZWZ0ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDsKICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50OwogICAgICAgIH0KICAgICAgICByZXR1cm4gYWN0dWFsTGVmdDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRFbGVtZW50Qm90dG9tKGVsZSkgewogICAgICAgIHJldHVybiBnZXRFbGVtZW50VG9wKGVsZSkgKyAoZWxlLm9mZnNldEhlaWdodCB8fCBlbGUuc2Nyb2xsSGVpZ2h0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRGb3JtYXRKU09OKG9iail7CiAgICAgICAgaWYoIW9iaklzQXJyKG9iaikgfHwgb2JqLmxlbmd0aCA9PT0gMClyZXR1cm4gIiI7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgNCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2xvYk1hdGNoKGZpcnN0LCBzZWNvbmQpIHsKICAgICAgICBpZiAoZmlyc3QgPT09ICcqJykgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGZpcnN0Lmxlbmd0aCA9PSAwICYmIHNlY29uZC5sZW5ndGggPT0gMCl7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGZpcnN0Lmxlbmd0aCA+IDEgJiYgZmlyc3RbMF0gPT0gJyonICYmCiAgICAgICAgICAgIHNlY29uZC5sZW5ndGggPT0gMCl7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmICgoZmlyc3QubGVuZ3RoID4gMSAmJiBmaXJzdFswXSA9PSAnPycpIHx8CiAgICAgICAgICAgIChmaXJzdC5sZW5ndGggIT0gMCAmJiBzZWNvbmQubGVuZ3RoICE9IDAgJiYKICAgICAgICAgICAgIGZpcnN0WzBdID09IHNlY29uZFswXSkpewogICAgICAgICAgICByZXR1cm4gZ2xvYk1hdGNoKGZpcnN0LnN1YnN0cmluZygxKSwKICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZC5zdWJzdHJpbmcoMSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGZpcnN0Lmxlbmd0aCA+IDAgJiYgZmlyc3RbMF0gPT0gJyonKXsKICAgICAgICAgICAgcmV0dXJuIGdsb2JNYXRjaChmaXJzdC5zdWJzdHJpbmcoMSksIHNlY29uZCkgfHwKICAgICAgICAgICAgICAgIGdsb2JNYXRjaChmaXJzdCwgc2Vjb25kLnN1YnN0cmluZygxKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgbGV0IHBhZ2VSZWFkeSA9IGZhbHNlOwogICAgZnVuY3Rpb24gaW5pdFJ1bGVzKGNhbGxiYWNrKSB7CiAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJydWxlc0RhdGEiLCBkYXRhID0+IHsKICAgICAgICAgICAgLyowIHdlZGF0YeagvOW8j++8jDEgcGFnZXR1YWzmoLzlvI8qLwogICAgICAgICAgICBydWxlVXJscyA9IFt7CiAgICAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgICAgIHVybDogZGF0YSAmJiBkYXRhLndlZGF0YTJnaXRodWIgPyAnaHR0cHM6Ly9ob290aGluLmdpdGh1Yi5pby9Vc2VyU2NyaXB0cy9QYWdldHVhbC9pdGVtc19hbGwuanNvbicgOiAnaHR0cDovL3dlZGF0YS5uZXQvZGF0YWJhc2VzL0F1dG9QYWdlcml6ZS9pdGVtc19hbGwuanNvbicsCiAgICAgICAgICAgICAgICB0eXBlOiAwLAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICAgIHJ1bGVzRGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS51cmxzKSBydWxlVXJscyA9IHJ1bGVVcmxzLmNvbmNhdChkYXRhLnVybHMpOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuc29ydCkgewogICAgICAgICAgICAgICAgICAgIGxldCB1cmxzID0gW107CiAgICAgICAgICAgICAgICAgICAgZGF0YS5zb3J0LmZvckVhY2goaWQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHJ1bGVVcmxzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gcnVsZVVybHNbc10uaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2gocnVsZVVybHNbc10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcnVsZVVybHMgPSB1cmxzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlc0RhdGEuYmxhY2tsaXN0ICYmIHJ1bGVzRGF0YS5ibGFja2xpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgbGV0IGhyZWYgPSBsb2NhdGlvbi5ocmVmLnNsaWNlKDAsIDUwMCk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzRGF0YS5ibGFja2xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY3VyR2xvYiA9IHJ1bGVzRGF0YS5ibGFja2xpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJHbG9iKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyR2xvYi5pbmRleE9mKCIvIikgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnTWF0Y2ggPSBjdXJHbG9iLm1hdGNoKC9eXC8oLiopXC8oXHcqKSQvKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ01hdGNoICYmIG5ldyBSZWdFeHAocmVnTWF0Y2hbMV0sIHJlZ01hdGNoWzJdKS50ZXN0KGhyZWYpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID09IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdsb2JNYXRjaChjdXJHbG9iLCBocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID09IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcnVsZVBhcnNlci5pbml0U2F2ZWRSdWxlcygoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgdXBCdG5JbWcgPSBydWxlc0RhdGEudXBCdG5JbWcsIGRvd25CdG5JbWcgPSBydWxlc0RhdGEuZG93bkJ0bkltZywgX3NpZGVDb250cm9sbGVySWNvbiA9IHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlckljb247CiAgICAgICAgICAgICAgICBpZiAodXBCdG5JbWcgJiYgZG93bkJ0bkltZykgewogICAgICAgICAgICAgICAgICAgIGRvd25TdmdDU1MgPSBkb3duU3ZnQ1NTLnJlcGxhY2UoInRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7IiwgIiIpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cEJ0bkltZyAmJiAhZG93bkJ0bkltZykgewogICAgICAgICAgICAgICAgICAgIGRvd25CdG5JbWcgPSB1cEJ0bkltZzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihkb3duQnRuSW1nICYmICF1cEJ0bkltZykgewogICAgICAgICAgICAgICAgICAgIHVwQnRuSW1nID0gZG93bkJ0bkltZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1cEJ0bkltZykgewogICAgICAgICAgICAgICAgICAgIHVwU3ZnID0gL2h0dHBzPzp8ZGF0YS8udGVzdCh1cEJ0bkltZykgPyBgPGltZyBjbGFzcz0icGFnZXR1YWwiIHNyYz0iJHt1cEJ0bkltZ30iLz5gIDogYDxzcGFuPiR7dXBCdG5JbWd9PC9zcGFuPmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZG93bkJ0bkltZykgewogICAgICAgICAgICAgICAgICAgIGRvd25TdmcgPSAvaHR0cHM/OnxkYXRhLy50ZXN0KGRvd25CdG5JbWcpID8gYDxpbWcgY2xhc3M9InBhZ2V0dWFsIiBzcmM9IiR7ZG93bkJ0bkltZ30iLz5gIDogYDxzcGFuPiR7ZG93bkJ0bkltZ308L3NwYW4+YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChfc2lkZUNvbnRyb2xsZXJJY29uKSB7CiAgICAgICAgICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uID0gL2h0dHBzPzp8ZGF0YS8udGVzdChfc2lkZUNvbnRyb2xsZXJJY29uKSA/IGA8aW1nIGNsYXNzPSJwYWdldHVhbCIgc3JjPSIke19zaWRlQ29udHJvbGxlckljb259Ii8+YCA6IGA8c3Bhbj4ke19zaWRlQ29udHJvbGxlckljb259PC9zcGFuPmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nRGl2KHJ1bGVzRGF0YS5sb2FkaW5nVGV4dCB8fCBpMThuKCJsb2FkaW5nVGV4dCIpKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLm9wYWNpdHkpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLm9wYWNpdHkgPSAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuaGlkZUJhcikgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuaGlkZUJhciA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuZGJDbGljazJTdG9wKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3AgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuZW5hYmxlV2hpdGVMaXN0KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5lbmFibGVXaGl0ZUxpc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmVuYWJsZUhpc3RvcnkpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLm9wZW5Jbk5ld1RhYikgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEub3BlbkluTmV3VGFiID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5lbmFibGVEZWJ1ZykgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuZW5hYmxlRGVidWcgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuaW5pdFJ1bikgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuaW5pdFJ1biA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5wcmVsb2FkKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5wcmVsb2FkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmN1c3RvbUZpcnN0KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5jdXN0b21GaXJzdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEubWFudWFsTW9kZSkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEubWFudWFsTW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuY2xpY2tNb2RlKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5jbGlja01vZGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLnBhZ2VCYXJNZW51KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5wYWdlQmFyTWVudSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5hcnJvd1RvU2Nyb2xsKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5hcnJvd1RvU2Nyb2xsID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5oaWRlTG9hZGluZ0ljb24pID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLmhpZGVMb2FkaW5nSWNvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuaGlkZUJhckFycm93KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5oaWRlQmFyQXJyb3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChydWxlc0RhdGEuYXV0b0xvYWROdW0gJiYgcnVsZXNEYXRhLmluaXRSdW4pIHsKICAgICAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IHBhcnNlSW50KHJ1bGVzRGF0YS5hdXRvTG9hZE51bSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWIgPSBydWxlc0RhdGEub3BlbkluTmV3VGFiID8gMSA6IDA7CiAgICAgICAgICAgICAgICBlbmFibGVEZWJ1ZyA9IHJ1bGVzRGF0YS5lbmFibGVEZWJ1ZzsKICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgibmV4dFN3aXRjaF8iICsgbG9jYXRpb24uaG9zdCwgaSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJmb3JjZVN0YXRlXyIgKyBsb2NhdGlvbi5ob3N0LCB2ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJhdXRvU2Nyb2xsXyIgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUsIF9hdXRvU2Nyb2xsID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgicnVsZUxhc3RVcGRhdGUiLCBkYXRlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsID0gX2F1dG9TY3JvbGwgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGkpICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHYpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAocnVsZXNEYXRhLmVuYWJsZVdoaXRlTGlzdCA/IDEgOiAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTdGF0ZSA9IHY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0ZSA9IGRhdGU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdW5zYWZlV2luZG93LmluaXRlZFBhZ2V0dWFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZUltcG9ydFVybFJlZy50ZXN0KGhyZWYpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bignZHVwbGljYXRlJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91bnNhZmVXaW5kb3cuaW5pdGVkUGFnZXR1YWwgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge3Nob3dUaXBzKGUpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlblVybCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oInVwZGF0ZSIpLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImJlZ2luVXBkYXRlIiksICIiLCA2MDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJ1bGVzKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oInVwZGF0ZVN1Y2MiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwocnVsZSwgZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhgVXBkYXRlICR7cnVsZS51cmx9IHJ1bGVzIGZhaWwhYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKGZvcmNlU3RhdGUgPT0gMSA/ICJlbmFibGUiIDogImRpc2FibGVTaXRlIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTdGF0ZSA9IChmb3JjZVN0YXRlID09IDEgPyAwIDogMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiZm9yY2VTdGF0ZV8iICsgbG9jYXRpb24uaG9zdCwgZm9yY2VTdGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oZm9yY2VTdGF0ZSA9PSAxID8gImRpc2FibGVTaXRlVGlwcyIgOiAiZW5hYmxlU2l0ZVRpcHMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5jdXJTaXRlUnVsZS51cmwpIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oInRvZ2dsZUF1dG9TY3JvbGwiKSwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsID0gKGF1dG9TY3JvbGwgPyAwIDogcHJvbXB0KGkxOG4oImF1dG9TY3JvbGxSYXRlIiksIDUwKSkgfHwgMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbCA9IHBhcnNlSW50KGF1dG9TY3JvbGwpIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRvU2Nyb2xsIDwgMCkgYXV0b1Njcm9sbCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF1dG9TY3JvbGwgPiAxMDAwKSBhdXRvU2Nyb2xsID0gMTAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJhdXRvU2Nyb2xsXyIgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUsIGF1dG9TY3JvbGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEF1dG9TY3JvbGwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEF1dG9TY3JvbGwoKTsKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0Q29uZmlnKGhyZWYpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAxKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZSB8fCBub3cgLSBkYXRlID4gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAocnVsZSwgZXJyKSA9PiB7fSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZUxhc3RVcGRhdGUiLCBub3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlcXVlc3REb2ModXJsLCBjYWxsYmFjayl7CiAgICAgICAgbGV0IHBvc3RQYXJhbXMgPSB1cmwubWF0Y2goLyNweyguKil9JC8pOwogICAgICAgIGlmIChwb3N0UGFyYW1zKSB7CiAgICAgICAgICAgIHBvc3RQYXJhbXMgPSBwb3N0UGFyYW1zWzFdOwogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvI3B7LiovLCAiIik7CiAgICAgICAgfQogICAgICAgIGxldCBydWxlSGVhZGVycyA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuaGVhZGVyczsKICAgICAgICBsZXQgaGVhZGVycyA9IHsKICAgICAgICAgICAgJ1JlZmVyZXInOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAnVXNlci1BZ2VudCc6IG5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWwnLAogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogKHBvc3RQYXJhbXMgPyAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiA6ICJ0ZXh0L2h0bWwiKSArICI7Y2hhcnNldD0iICsgKGRvY3VtZW50LmNoYXJhY3RlclNldCB8fCBkb2N1bWVudC5jaGFyc2V0IHx8IGRvY3VtZW50LmlucHV0RW5jb2RpbmcpLAogICAgICAgIH07CiAgICAgICAgaWYgKHJ1bGVIZWFkZXJzKSB7CiAgICAgICAgICAgIGlmIChydWxlSGVhZGVycy5yZWZlcmVyKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzLnJlZmVyZXIgPSBydWxlSGVhZGVycy5yZWZlcmVyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlSGVhZGVycy51c2VyQWdlbnQpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnMudXNlckFnZW50ID0gcnVsZUhlYWRlcnMudXNlckFnZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlSGVhZGVycy5hY2NlcHQpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnMuYWNjZXB0ID0gcnVsZUhlYWRlcnMuYWNjZXB0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlSGVhZGVycy5jb250ZW50VHlwZSkgewogICAgICAgICAgICAgICAgaGVhZGVycy5jb250ZW50VHlwZSA9IHJ1bGVIZWFkZXJzLmNvbnRlbnRUeXBlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlSGVhZGVycy5jb29raWUpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnMuY29va2llID0gcnVsZUhlYWRlcnMuY29va2llOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIF9HTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBtZXRob2Q6IHBvc3RQYXJhbXMgPyAnUE9TVCcgOiAnR0VUJywKICAgICAgICAgICAgZGF0YTogcG9zdFBhcmFtcywKICAgICAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogJ3RleHQvaHRtbDtjaGFyc2V0PScgKyAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0IHx8IGRvY3VtZW50LmNoYXJzZXQgfHwgZG9jdW1lbnQuaW5wdXRFbmNvZGluZyksCiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAwLAogICAgICAgICAgICBvbmxvYWQ6IGFzeW5jIGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgaWYgKGlzUGF1c2UpIHJldHVybiBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICB2YXIgZG9jID0gbnVsbCwgcmVzcG9uc2UgPSByZXMucmVzcG9uc2U7CiAgICAgICAgICAgICAgICBsZXQgcHJlQ29kZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnRQcmUgfHwgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlUHJlOwogICAgICAgICAgICAgICAgaWYgKHByZUNvZGUpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlUHJlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlUHJlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVDb2RlLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlLnJlcGxhY2UobmV3IFJlZ0V4cChwcmVDb2RlWzBdLCAiZ2kiKSwgcHJlQ29kZVsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEZ1bmN0aW9uKCJyZXNwb25zZSIsJyJ1c2Ugc3RyaWN0IjsnICsgcHJlQ29kZSkocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTsKICAgICAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIGxldCBiYXNlID0gZG9jLnF1ZXJ5U2VsZWN0b3IoImJhc2UiKTsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmJhc2VQYXRoID0gYmFzZSA/IGJhc2UuaHJlZiA6IHVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ3BhcnNlIGVycm9yOicgKyBlLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IHBhZ2VFbGVtZW50ID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChkb2MpOwogICAgICAgICAgICAgICAgaWYgKCghcGFnZUVsZW1lbnQgfHwgcGFnZUVsZW1lbnQubGVuZ3RoID09IDApICYmIHJlcy5zdGF0dXMgPj0gNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcocmVzLnN0YXR1cywgIkVycm9yIHN0YXR1cyIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaW5Db3JzICYmICghcGFnZUVsZW1lbnQgfHwgcGFnZUVsZW1lbnQubGVuZ3RoID09IDApICYmIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFydGljbGUgPSBkb2MucXVlcnlTZWxlY3RvckFsbChtYWluU2VsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYXJ0aWNsZSAmJiBhcnRpY2xlLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGUgPSBhcnRpY2xlWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gYXJ0aWNsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICsgKGFydGljbGUuaWQgPyAiIyIgKyBhcnRpY2xlLmlkIDogIiIpICsgKGFydGljbGUuY2xhc3NOYW1lID8gIi4iICsgYXJ0aWNsZS5jbGFzc05hbWUucmVwbGFjZSgvIC9nLCAiLiIpIDogIiIpICsgIj4qIjsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBhcnRpY2xlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBhbGxPZkJvZHk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50ID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChkb2MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmdldEluc2VydCh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8v5Y+q5pyJMeeahOipseaAleS4jeaYr+WclueJh+WTpgogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIChwYWdlRWxlbWVudC5sZW5ndGggPiAxIHx8IChwYWdlRWxlbWVudC5sZW5ndGggPT0gMSAmJiAhL15JTUckL2kudGVzdChwYWdlRWxlbWVudFswXS5ub2RlTmFtZSkpKSkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShkb2MsIHBhZ2VFbGVtZW50LCB1cmwsIGNhbGxiYWNrLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEZyb21JZnJhbWUodXJsLCAoZG9jLCBlbGVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShkb2MsIGVsZXMsIHVybCwgY2FsbGJhY2ssIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hY3Rpb24gPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgfHwgY3VyUGFnZSA9PSAxKSAmJiAhaW5Db3JzKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hY3Rpb24gPSAxOwogICAgICAgICAgICAgICAgICAgIHJlcXVlc3RGcm9tSWZyYW1lKHVybCwgKGRvYywgZWxlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5pbnNlcnRQYWdlKGRvYywgZWxlcywgdXJsLCBjYWxsYmFjaywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoIlN0b3AgYXMgbm8gcGFnZSBlbGVtZW50Iik7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigibm9WYWxpZENvbnRlbnQiKSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKGUsICJOZXRFcnJvciIpOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKGUsICJOZXRUaW1lb3V0Iik7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0UGFnZSgpIHsKICAgICAgICBydWxlUGFyc2VyLmluaXRQYWdlKCgpID0+IHsKICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYXV0b0xvYWROdW0pIHsKICAgICAgICAgICAgICAgIGF1dG9Mb2FkTnVtID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hdXRvTG9hZE51bTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5uZXh0TGluayAmJiBBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5uZXh0TGluaykpIHsKICAgICAgICAgICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oIm5leHRTd2l0Y2giKSwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIG5leHRTd2l0Y2guc3RhcnQoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLm5leHRMaW5rSHJlZikgewogICAgICAgICAgICAgICAgbGV0IGlzSnMgPSAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmLnJlcGxhY2UoIiNweyIsICIiKS5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSk7CiAgICAgICAgICAgICAgICBpZiAoIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgaW5Gb3JjZSA9IChmb3JjZVN0YXRlID09IDIgfHwgZm9yY2VTdGF0ZSA9PSAzKTsKICAgICAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKGluRm9yY2UgPyAiY2FuY2VsRm9yY2VJZnJhbWUiIDogImZvcmNlSWZyYW1lIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluRm9yY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiZm9yY2VTdGF0ZV8iICsgbG9jYXRpb24uaG9zdCwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9zdGF0ZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID4gMCB8fCBjb25maXJtKGkxOG4oImZvcmNlQWxsQm9keSIpKSA/IDIgOiAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJmb3JjZVN0YXRlXyIgKyBsb2NhdGlvbi5ob3N0LCBfc3RhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoaTE4bigibG9hZE5vdyIpLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWROdW0gPSB3aW5kb3cucHJvbXB0KGkxOG4oImxvYWRDb25maXJtIiksICIxIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWROdW0gPT09ICIiIHx8IGxvYWROdW0gPT09IG51bGwpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IE1hdGguYWJzKHBhcnNlSW50KGxvYWROdW0pKTsKICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdExpc3RlbmVyKCk7CiAgICAgICAgfSk7CiAgICB9CgogICAgdmFyIHBhZ2VCYXJTdHlsZSwgbWFpblN0eWxlRWxlLCBtYWluU3R5bGVTdHlsZTsKICAgIGZ1bmN0aW9uIGluaXRWaWV3KCkgewogICAgICAgIGlmICghbWFpblN0eWxlU3R5bGUpIHsKICAgICAgICAgICAgbWFpblN0eWxlU3R5bGUgPSBgCiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyewogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjphbGwgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3MgZWFzZS1pbi1vdXQgMHM7CiAgICAgICAgICAgdHJhbnNpdGlvbjphbGwgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsc2Fucy1zZXJpZiAhaW1wb3J0YW50OwogICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyLnN0b3AgewogICAgICAgICAgIC13ZWJraXQtZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgb3BhY2l0eTogMSFpbXBvcnRhbnQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuaGlkZSB7CiAgICAgICAgICAgZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXI6aG92ZXIgewogICAgICAgICAgIG9wYWNpdHk6IDEhaW1wb3J0YW50OwogICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCAwcHggIzAwMDAwMGFhOwogICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MCAyNDAgMjQwIC8gODAlKTsKICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuIHsKICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogc3VwZXI7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgYTo6YmVmb3JlLAogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOjphZnRlciB7CiAgICAgICAgICAgY29udGVudDogbm9uZTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhPnNwYW4gewogICAgICAgICAgIG1hcmdpbi10b3A6IDAhaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgICAgIHBhZGRpbmc6IHVuc2V0OwogICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOm1hcmdpbi10b3AgMC4zcyBlYXNlLWluLW91dCAwcywgb3BhY2l0eSAuM3M7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm1hcmdpbi10b3AgMC4zcyBlYXNlLWluLW91dCAwcywgb3BhY2l0eSAuM3M7CiAgICAgICAgICAgdHJhbnNpdGlvbjptYXJnaW4tdG9wIDAuM3MgZWFzZS1pbi1vdXQgMHMsIG9wYWNpdHkgLjNzOwogICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTsKICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKDUwJSAtIDIwcHgpOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIGE+c3Bhbjpob3ZlciB7CiAgICAgICAgICAgY29sb3I6IHJlZDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOmhvdmVyPnNwYW4gewogICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbi5wcmV2U2NyZWVuLAogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuLm5leHRTY3JlZW4gewogICAgICAgICAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOmhvdmVyPnNwYW4ucHJldlNjcmVlbiB7CiAgICAgICAgICAgbWFyZ2luLXRvcDogLSR7cnVsZXNEYXRhLm9wYWNpdHkgPT0gMSA/IDMxIDogMzB9cHghaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgYTpob3Zlcj5zcGFuLm5leHRTY3JlZW4gewogICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHghaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbj5zdmcgewogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC41cyBlYXNlLCBvcGFjaXR5IDAuM3MgZWFzZTsKICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246dHJhbnNmb3JtIDAuNXMgZWFzZSwgb3BhY2l0eSAwLjNzIGVhc2U7CiAgICAgICAgICAgdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC41IGVhc2UsIG9wYWNpdHkgMC4zcyBlYXNlOwogICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuc3RvcCBzcGFuPnN2Z3sKICAgICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyLnN0b3Agc3Bhbj5zdmc+cGF0aHsKICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKC44KTsKICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2U7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2U7CiAgICAgICAgICAgdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zIGVhc2U7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuc3RvcDpob3ZlciBzcGFuPnN2Zz5wYXRoewogICAgICAgICAgIHRyYW5zZm9ybTogdW5zZXQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXI6aG92ZXIgc3Bhbj5zdmcgewogICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbj5zdmcudXBTdmc6aG92ZXIgewogICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZykgc2NhbGUzZCgxLjIsIDEuMiwgMS4yKTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuPnN2Zy5kb3duU3ZnOmhvdmVyIHsKICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg1NDBkZWcpIHNjYWxlM2QoMS4yLCAxLjIsIDEuMikhaW1wb3J0YW50OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIC5wYWdldHVhbF9wYWdlTnVtewogICAgICAgICAgIGNvbG9yOiAjNTU1NTVmOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIC5wYWdldHVhbF9wYWdlTnVtOmhvdmVyewogICAgICAgICAgIGNvbG9yOiAjZmY2NDY0OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF90aXBzV29yZHMgewogICAgICAgICAgIGZvbnQtc2l6ZTogNTBweDsKICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICBmb250LWZhbWlseTogIum7keS9kyIsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgIlJvYm90byIsCiAgICAgICAgICAgICAiT3h5Z2VuIiwgIlVidW50dSIsICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmLCAiQXBwbGUgQ29sb3IgRW1vamkiLAogICAgICAgICAgICAgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7CiAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgbWluLWhlaWdodDogNzBweDsKICAgICAgICAgICBtYXgtd2lkdGg6IDgwJTsKICAgICAgICAgICBsaW5lLWhlaWdodDogNzBweDsKICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgIHRvcDogMTAlOwogICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtOTk5OTlweDsKICAgICAgICAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NzsKICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOwogICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMDMwMzA7CiAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgIGZpbHRlcjogYWxwaGEob3BhY2l0eT02NSk7CiAgICAgICAgICAgYm94LXNoYWRvdzogNXB4IDVweCAyMHB4IDBweCAjMDAwOwogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXQgMHM7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICB0cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfdGlwc1dvcmRzPmEgewogICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9sb2FkaW5nIHsKICAgICAgICAgICB3aWR0aDogNTBweDsKICAgICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgICAgICAgbWFyZ2luOiAxMHB4IGF1dG87CiAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsKICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBwYWdldHVhbF9sb2FkaW5nX3NjYWxlb3V0IDEuMHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgYW5pbWF0aW9uOiBwYWdldHVhbF9sb2FkaW5nX3NjYWxlb3V0IDEuMHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgIH0KICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfc2NhbGVvdXQgewogICAgICAgICAgIDAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuMCkgfQogICAgICAgICAgIDEwMCUgewogICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMCk7CiAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICBAa2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfc2NhbGVvdXQgewogICAgICAgICAgIDAlIHsKICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC4wKTsKICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjApOwogICAgICAgICAgIH0gMTAwJSB7CiAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMCk7CiAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4wKTsKICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9sb2FkaW5nX3RleHQgewogICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSAyLjZzIGluZmluaXRlIGVhc2UtaW4tb3V0OwogICAgICAgICAgIGFuaW1hdGlvbjogcGFnZXR1YWxfbG9hZGluZ19vcGFjaXR5IDIuNnMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgIH0KICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSB7CiAgICAgICAgICAgMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgICA1MCUgeyBvcGFjaXR5OiAwLjIgfQogICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgfQogICAgICAgICBAa2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSB7CiAgICAgICAgICAgMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgICA1MCUgeyBvcGFjaXR5OiAwLjIgfQogICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgfQogICAgICAgIGA7CiAgICAgICAgICAgIGxldCBib2R5Q29sb3IKICAgICAgICAgICAgcGFnZUJhclN0eWxlID0gYG92ZXJmbG93OiB2aXNpYmxlO3RleHQtaW5kZW50OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBzdXBlcjtsaW5lLWhlaWdodDoxO29wYWNpdHk6JHtydWxlc0RhdGEub3BhY2l0eX07ZGlzcGxheToke3J1bGVzRGF0YS5vcGFjaXR5ID09IDAgPyAibm9uZSIgOiAiaW5saW5lLWZsZXgifTtwYWRkaW5nOjA7Zm9udC1zaXplOiAzMHB4O3Zpc2liaWxpdHk6IHZpc2libGU7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IGF1dG87IG1heC13aWR0aDogMTAwdnc7IGhlaWdodDogMzBweDsgZmxvYXQ6IG5vbmU7IGNsZWFyOiBib3RoOyBtYXJnaW46IDVweCBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBjZW50ZXI7Ym94LXNpemluZzogY29udGVudC1ib3g7JHtydWxlc0RhdGEub3BhY2l0eSA9PSAxID8gImJvcmRlci10b3A6IDFweCBzb2xpZCByZ2IoODAsIDgwLCA4MCk7IiA6ICJib3gtc2hhZG93OiAwcHggMHB4IDEwcHggMHB4ICMwMDAwMDBhYTtib3JkZXItcmFkaXVzOiAyMHB4O2JhY2tncm91bmQtY29sb3I6IHJnYigyNDAgMjQwIDI0MCAvIDgwJSk7In1gOwogICAgICAgIH0KICAgICAgICBpZiAoIW1haW5TdHlsZUVsZSB8fCAhbWFpblN0eWxlRWxlLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgbWFpblN0eWxlRWxlID0gX0dNX2FkZFN0eWxlKG1haW5TdHlsZVN0eWxlKTsKICAgICAgICB9CiAgICB9CiAgICB2YXIgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbG9hZGluZ0Rpdi5zdHlsZS5jc3NUZXh0ID0gInRleHQtaW5kZW50OiBpbml0aWFsO2N5OiBpbml0aWFsO2Q6IGluaXRpYWw7ZG9taW5hbnQtYmFzZWxpbmU6IGluaXRpYWw7ZW1wdHktY2VsbHM6IGluaXRpYWw7ZmlsbDogaW5pdGlhbDtmaWxsLW9wYWNpdHk6IGluaXRpYWw7ZmlsbC1ydWxlOiBpbml0aWFsO2ZpbHRlcjogaW5pdGlhbDtmbGV4OiBpbml0aWFsO2ZsZXgtZmxvdzogaW5pdGlhbDtmbG9hdDogaW5pdGlhbDtmbG9vZC1jb2xvcjogaW5pdGlhbDtmbG9vZC1vcGFjaXR5OiBpbml0aWFsO2dyaWQ6IGluaXRpYWw7Z3JpZC1hcmVhOiBpbml0aWFsO2hlaWdodDogaW5pdGlhbDtoeXBoZW5zOiBpbml0aWFsO2ltYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO2ltYWdlLXJlbmRlcmluZzogaW5pdGlhbDtpbmxpbmUtc2l6ZTogaW5pdGlhbDtpbnNldC1ibG9jazogaW5pdGlhbDtpbnNldC1pbmxpbmU6IGluaXRpYWw7aXNvbGF0aW9uOiBpbml0aWFsO2xldHRlci1zcGFjaW5nOiBpbml0aWFsO2xpZ2h0aW5nLWNvbG9yOiBpbml0aWFsO2xpbmUtYnJlYWs6IGluaXRpYWw7bGlzdC1zdHlsZTogaW5pdGlhbDttYXJnaW4tYmxvY2s6IGluaXRpYWw7bWFyZ2luOiAwcHggYXV0bzttYXJnaW4taW5saW5lOiBpbml0aWFsO21hcmtlcjogaW5pdGlhbDttYXNrOiBpbml0aWFsO21hc2stdHlwZTogaW5pdGlhbDttYXgtYmxvY2stc2l6ZTogaW5pdGlhbDttYXgtaGVpZ2h0OiBpbml0aWFsO21heC1pbmxpbmUtc2l6ZTogaW5pdGlhbDttYXgtd2lkdGg6IGluaXRpYWw7bWluLWJsb2NrLXNpemU6IGluaXRpYWw7bWluLWhlaWdodDogaW5pdGlhbDttaW4taW5saW5lLXNpemU6IGluaXRpYWw7bWluLXdpZHRoOiBpbml0aWFsO21peC1ibGVuZC1tb2RlOiBpbml0aWFsO29iamVjdC1maXQ6IGluaXRpYWw7b2JqZWN0LXBvc2l0aW9uOiBpbml0aWFsO29mZnNldDogaW5pdGlhbDtvcGFjaXR5OiBpbml0aWFsO29yZGVyOiBpbml0aWFsO29yaWdpbi10cmlhbC10ZXN0LXByb3BlcnR5OiBpbml0aWFsO29ycGhhbnM6IGluaXRpYWw7b3V0bGluZTogaW5pdGlhbDtvdXRsaW5lLW9mZnNldDogaW5pdGlhbDtvdmVyZmxvdy1hbmNob3I6IGluaXRpYWw7b3ZlcmZsb3ctY2xpcC1tYXJnaW46IGluaXRpYWw7b3ZlcmZsb3ctd3JhcDogaW5pdGlhbDtvdmVyZmxvdzogaW5pdGlhbDtvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrOiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lOiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3I6IGluaXRpYWw7cGFkZGluZy1ibG9jazogaW5pdGlhbDtwYWRkaW5nOiBpbml0aWFsO3BhZGRpbmctaW5saW5lOiBpbml0aWFsO3BhZ2U6IGluaXRpYWw7cGFnZS1vcmllbnRhdGlvbjogaW5pdGlhbDtwYWludC1vcmRlcjogaW5pdGlhbDtwZXJzcGVjdGl2ZTogaW5pdGlhbDtwZXJzcGVjdGl2ZS1vcmlnaW46IGluaXRpYWw7cG9pbnRlci1ldmVudHM6IGluaXRpYWw7cG9zaXRpb246IGluaXRpYWw7cXVvdGVzOiBpbml0aWFsO3I6IGluaXRpYWw7cmVzaXplOiBpbml0aWFsO3J1YnktcG9zaXRpb246IGluaXRpYWw7cng6IGluaXRpYWw7cnk6IGluaXRpYWw7c2Nyb2xsLWJlaGF2aW9yOiBpbml0aWFsO3Njcm9sbC1tYXJnaW4tYmxvY2s6IGluaXRpYWw7c2Nyb2xsLW1hcmdpbjogaW5pdGlhbDtzY3JvbGwtbWFyZ2luLWlubGluZTogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1ibG9jazogaW5pdGlhbDtzY3JvbGwtcGFkZGluZzogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1pbmxpbmU6IGluaXRpYWw7c2Nyb2xsLXNuYXAtYWxpZ246IGluaXRpYWw7c2Nyb2xsLXNuYXAtc3RvcDogaW5pdGlhbDtzY3JvbGwtc25hcC10eXBlOiBpbml0aWFsO3Njcm9sbGJhci1ndXR0ZXI6IGluaXRpYWw7c2hhcGUtaW1hZ2UtdGhyZXNob2xkOiBpbml0aWFsO3NoYXBlLW1hcmdpbjogaW5pdGlhbDtzaGFwZS1vdXRzaWRlOiBpbml0aWFsO3NoYXBlLXJlbmRlcmluZzogaW5pdGlhbDtzaXplOiBpbml0aWFsO3NwZWFrOiBpbml0aWFsO3N0b3AtY29sb3I6IGluaXRpYWw7c3RvcC1vcGFjaXR5OiBpbml0aWFsO3N0cm9rZTogaW5pdGlhbDtzdHJva2UtZGFzaGFycmF5OiBpbml0aWFsO3N0cm9rZS1kYXNob2Zmc2V0OiBpbml0aWFsO3N0cm9rZS1saW5lY2FwOiBpbml0aWFsO3N0cm9rZS1saW5lam9pbjogaW5pdGlhbDtzdHJva2UtbWl0ZXJsaW1pdDogaW5pdGlhbDtzdHJva2Utb3BhY2l0eTogaW5pdGlhbDtzdHJva2Utd2lkdGg6IGluaXRpYWw7dGFiLXNpemU6IGluaXRpYWw7dGFibGUtbGF5b3V0OiBpbml0aWFsO3RleHQtYWxpZ246IGluaXRpYWw7dGV4dC1hbGlnbi1sYXN0OiBpbml0aWFsO3RleHQtYW5jaG9yOiBpbml0aWFsO3RleHQtY29tYmluZS11cHJpZ2h0OiBpbml0aWFsO3RleHQtZGVjb3JhdGlvbjogaW5pdGlhbDt0ZXh0LWRlY29yYXRpb24tc2tpcC1pbms6IGluaXRpYWw7dGV4dC1pbmRlbnQ6IGluaXRpYWw7dGV4dC1vdmVyZmxvdzogaW5pdGlhbDt0ZXh0LXNoYWRvdzogaW5pdGlhbDt0ZXh0LXNpemUtYWRqdXN0OiBpbml0aWFsO3RleHQtdHJhbnNmb3JtOiBpbml0aWFsO3RleHQtdW5kZXJsaW5lLW9mZnNldDogaW5pdGlhbDt0ZXh0LXVuZGVybGluZS1wb3NpdGlvbjogaW5pdGlhbDt0b3VjaC1hY3Rpb246IGluaXRpYWw7dHJhbnNmb3JtOiBpbml0aWFsO3RyYW5zZm9ybS1ib3g6IGluaXRpYWw7dHJhbnNmb3JtLW9yaWdpbjogaW5pdGlhbDt0cmFuc2Zvcm0tc3R5bGU6IGluaXRpYWw7dHJhbnNpdGlvbjogaW5pdGlhbDt1c2VyLXNlbGVjdDogaW5pdGlhbDt2ZWN0b3ItZWZmZWN0OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBpbml0aWFsO3Zpc2liaWxpdHk6IGluaXRpYWw7Ym9yZGVyLXNwYWNpbmc6IGluaXRpYWw7LXdlYmtpdC1ib3JkZXItaW1hZ2U6IGluaXRpYWw7LXdlYmtpdC1ib3gtYWxpZ246IGluaXRpYWw7LXdlYmtpdC1ib3gtZGVjb3JhdGlvbi1icmVhazogaW5pdGlhbDstd2Via2l0LWJveC1kaXJlY3Rpb246IGluaXRpYWw7LXdlYmtpdC1ib3gtZmxleDogaW5pdGlhbDstd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiBpbml0aWFsOy13ZWJraXQtYm94LW9yaWVudDogaW5pdGlhbDstd2Via2l0LWJveC1wYWNrOiBpbml0aWFsOy13ZWJraXQtYm94LXJlZmxlY3Q6IGluaXRpYWw7LXdlYmtpdC1oaWdobGlnaHQ6IGluaXRpYWw7LXdlYmtpdC1oeXBoZW5hdGUtY2hhcmFjdGVyOiBpbml0aWFsOy13ZWJraXQtbGluZS1icmVhazogaW5pdGlhbDstd2Via2l0LWxpbmUtY2xhbXA6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTogaW5pdGlhbDstd2Via2l0LW1hc2s6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWNvbXBvc2l0ZTogaW5pdGlhbDstd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14OiBpbml0aWFsOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGluaXRpYWw7LXdlYmtpdC1ydGwtb3JkZXJpbmc6IGluaXRpYWw7LXdlYmtpdC1ydWJ5LXBvc2l0aW9uOiBpbml0aWFsOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogaW5pdGlhbDstd2Via2l0LXRleHQtY29tYmluZTogaW5pdGlhbDstd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0OiBpbml0aWFsOy13ZWJraXQtdGV4dC1lbXBoYXNpczogaW5pdGlhbDstd2Via2l0LXRleHQtZW1waGFzaXMtcG9zaXRpb246IGluaXRpYWw7LXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IGluaXRpYWw7LXdlYmtpdC10ZXh0LXNlY3VyaXR5OiBpbml0aWFsOy13ZWJraXQtdGV4dC1zdHJva2U6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXg6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXo6IGluaXRpYWw7LXdlYmtpdC11c2VyLWRyYWc6IGluaXRpYWw7LXdlYmtpdC11c2VyLW1vZGlmeTogaW5pdGlhbDt3aGl0ZS1zcGFjZTogaW5pdGlhbDt3aWRvd3M6IGluaXRpYWw7d2lkdGg6IGluaXRpYWw7d2lsbC1jaGFuZ2U6IGluaXRpYWw7d29yZC1icmVhazogaW5pdGlhbDt3b3JkLXNwYWNpbmc6IGluaXRpYWw7eDogaW5pdGlhbDt5OiBpbml0aWFsO3otaW5kZXg6IDIxNDc0ODM2NDc7IjsKCiAgICBjb25zdCBsb2FkaW5nQ1NTID0gYHRleHQtaW5kZW50OiB1bnNldDsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBpbml0aWFsOyBtYXJnaW46IGF1dG8gYXV0byA1cHggYXV0bzsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB2aXNpYmlsaXR5OiB2aXNpYmxlOyB3aWR0aDogaW5pdGlhbDsgaGVpZ2h0OiBpbml0aWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNmU2ZTZlOyBmbGV4OiAwO2A7CiAgICBmdW5jdGlvbiBzZXRMb2FkaW5nRGl2KGxvYWRpbmdUZXh0KSB7CiAgICAgICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKGA8cCBjbGFzcz0icGFnZXR1YWxfbG9hZGluZ190ZXh0IiBzdHlsZT0iJHtsb2FkaW5nQ1NTfWRpc3BsYXk6IGlubGluZS1ibG9jazt3aWR0aDogMTAwJTsiPiR7bG9hZGluZ1RleHR9PC9wPiR7cnVsZXNEYXRhLmhpZGVMb2FkaW5nSWNvbiA/ICIiIDogYDxkaXYgY2xhc3M9InBhZ2V0dWFsX2xvYWRpbmciPjxzdmcgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBzdHlsZT0icG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO3dpZHRoOiA1MHB4O2hlaWdodDogNTBweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2ZTZlNmUiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzZlNmU2ZSI+PC9wYXRoPjwvc3ZnPjwvZGl2PmB9YCk7CiAgICB9CgogICAgdmFyIHVwU3ZnID0gYDxzdmcgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBjbGFzcz0idXBTdmcgcGFnZXR1YWwiIHN0eWxlPSJkaXNwbGF5OmluaXRpYWw7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjsiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjk2IDQ0MGMtNDQuMSAwLTgwIDM1LjktODAgODBzMzUuOSA4MCA4MCA4MCA4MC0zNS45IDgwLTgwLTM1LjktODAtODAtODB6IiBmaWxsPSIjNjA0YjRhIj48L3BhdGg+PHBhdGggZD0iTTk2MCA1MTJjMC0yNDctMjAxLTQ0OC00NDgtNDQ4UzY0IDI2NSA2NCA1MTJjMCAxLjggMC4xIDMuNSAwLjEgNS4zIDAgMC45LTAuMSAxLjgtMC4xIDIuN2gwLjJDNjguNSA3NjMuMyAyNjcuNyA5NjAgNTEyIDk2MGMyMzYuMiAwIDQzMC4xLTE4My43IDQ0Ni43LTQxNS43IDAuMS0wLjggMC4xLTEuNiAwLjItMi4zIDAuNC00LjYgMC41LTkuMyAwLjctMTMuOSAwLjEtMi43IDAuNC01LjMgMC40LThoLTAuMmMwLTIuOCAwLjItNS40IDAuMi04LjF6IG0tMTUyIDhjMCA0NC4xLTM1LjkgODAtODAgODBzLTgwLTM1LjktODAtODAgMzUuOS04MCA4MC04MCA4MCAzNS45IDgwIDgwek01MTIgOTI4QzI4NC40IDkyOCA5OSA3NDQuMyA5Ni4xIDUxNy4zIDk3LjYgNDA4LjMgMTg2LjYgMzIwIDI5NiAzMjBjMTEwLjMgMCAyMDAgODkuNyAyMDAgMjAwIDAgMTI3LjkgMTA0LjEgMjMyIDIzMiAyMzIgNjIuOSAwIDExOS45LTI1LjIgMTYxLjctNjYtNjYgMTQyLjctMjEwLjQgMjQyLTM3Ny43IDI0MnoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48L3N2Zz5gOwogICAgdmFyIHVwU3ZnQ1NTID0gYHRleHQtYWxpZ246IGNlbnRlcjtkaXNwbGF5OiBpbml0aWFsO3Bvc2l0aW9uOiByZWxhdGl2ZTtjdXJzb3I6IHBvaW50ZXI7bWFyZ2luOiAwIDhweDt3aWR0aDogMzBweDtoZWlnaHQ6IDMwcHg7dmVydGljYWwtYWxpZ246IGJhc2VsaW5lO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuO2A7CiAgICB2YXIgZG93blN2ZyA9IGA8c3ZnIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgY2xhc3M9ImRvd25TdmcgcGFnZXR1YWwiIHN0eWxlPSJkaXNwbGF5OmluaXRpYWw7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjt0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjwvc3ZnPmA7CiAgICB2YXIgZG93blN2Z0NTUyA9IGB0ZXh0LWFsaWduOiBjZW50ZXI7ZGlzcGxheTogaW5pdGlhbDtwb3NpdGlvbjogcmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjt0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO2A7CgogICAgY29uc3QgaW5pdFN0eWxlID0gYHRleHQtaW5kZW50OiBpbml0aWFsO2Rpc3BsYXk6IGNvbnRlbnRzO3JpZ2h0OiB1bnNldDtsZWZ0OiB1bnNldDt0b3A6IHVuc2V0O2JvdHRvbTogdW5zZXQ7aW5zZXQ6IHVuc2V0O2NsZWFyOiBib3RoO2N5OiBpbml0aWFsO2Q6IGluaXRpYWw7ZG9taW5hbnQtYmFzZWxpbmU6IGluaXRpYWw7ZW1wdHktY2VsbHM6IGluaXRpYWw7ZmlsbDogaW5pdGlhbDtmaWxsLW9wYWNpdHk6IGluaXRpYWw7ZmlsbC1ydWxlOiBpbml0aWFsO2ZpbHRlcjogaW5pdGlhbDtmbGV4OiBpbml0aWFsO2ZsZXgtZmxvdzogaW5pdGlhbDtmbG9hdDogaW5pdGlhbDtmbG9vZC1jb2xvcjogaW5pdGlhbDtmbG9vZC1vcGFjaXR5OiBpbml0aWFsO2dyaWQ6IGluaXRpYWw7Z3JpZC1hcmVhOiBpbml0aWFsO2hlaWdodDogaW5pdGlhbDtoeXBoZW5zOiBpbml0aWFsO2ltYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO2ltYWdlLXJlbmRlcmluZzogaW5pdGlhbDtpbmxpbmUtc2l6ZTogaW5pdGlhbDtpbnNldC1ibG9jazogaW5pdGlhbDtpbnNldC1pbmxpbmU6IGluaXRpYWw7aXNvbGF0aW9uOiBpbml0aWFsO2xldHRlci1zcGFjaW5nOiBpbml0aWFsO2xpZ2h0aW5nLWNvbG9yOiBpbml0aWFsO2xpbmUtYnJlYWs6IGluaXRpYWw7bGlzdC1zdHlsZTogaW5pdGlhbDttYXJnaW4tYmxvY2s6IGluaXRpYWw7bWFyZ2luOiAwcHggNXB4O21hcmdpbi1pbmxpbmU6IGluaXRpYWw7bWFya2VyOiBpbml0aWFsO21hc2s6IGluaXRpYWw7bWFzay10eXBlOiBpbml0aWFsO21heC1ibG9jay1zaXplOiBpbml0aWFsO21heC1oZWlnaHQ6IGluaXRpYWw7bWF4LWlubGluZS1zaXplOiBpbml0aWFsO21heC13aWR0aDogaW5pdGlhbDttaW4tYmxvY2stc2l6ZTogaW5pdGlhbDttaW4taGVpZ2h0OiBpbml0aWFsO21pbi1pbmxpbmUtc2l6ZTogaW5pdGlhbDttaW4td2lkdGg6IGluaXRpYWw7bWl4LWJsZW5kLW1vZGU6IGluaXRpYWw7b2JqZWN0LWZpdDogaW5pdGlhbDtvYmplY3QtcG9zaXRpb246IGluaXRpYWw7b2Zmc2V0OiBpbml0aWFsO29wYWNpdHk6IGluaXRpYWw7b3JkZXI6IGluaXRpYWw7b3JwaGFuczogaW5pdGlhbDtvdXRsaW5lOiBpbml0aWFsO291dGxpbmUtb2Zmc2V0OiBpbml0aWFsO292ZXJmbG93LWFuY2hvcjogaW5pdGlhbDtvdmVyZmxvdy1jbGlwLW1hcmdpbjogaW5pdGlhbDtvdmVyZmxvdy13cmFwOiBpbml0aWFsO292ZXJmbG93OiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3ItYmxvY2s6IGluaXRpYWw7b3ZlcnNjcm9sbC1iZWhhdmlvci1pbmxpbmU6IGluaXRpYWw7b3ZlcnNjcm9sbC1iZWhhdmlvcjogaW5pdGlhbDtwYWRkaW5nLWJsb2NrOiBpbml0aWFsO3BhZGRpbmc6IGluaXRpYWw7cGFkZGluZy1pbmxpbmU6IGluaXRpYWw7cGFnZTogaW5pdGlhbDtwYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO3BhaW50LW9yZGVyOiBpbml0aWFsO3BlcnNwZWN0aXZlOiBpbml0aWFsO3BlcnNwZWN0aXZlLW9yaWdpbjogaW5pdGlhbDtwb2ludGVyLWV2ZW50czogaW5pdGlhbDtwb3NpdGlvbjogcmVsYXRpdmU7cXVvdGVzOiBpbml0aWFsO3I6IGluaXRpYWw7cmVzaXplOiBpbml0aWFsO3J1YnktcG9zaXRpb246IGluaXRpYWw7cng6IGluaXRpYWw7cnk6IGluaXRpYWw7c2Nyb2xsLWJlaGF2aW9yOiBpbml0aWFsO3Njcm9sbC1tYXJnaW4tYmxvY2s6IGluaXRpYWw7c2Nyb2xsLW1hcmdpbjogaW5pdGlhbDtzY3JvbGwtbWFyZ2luLWlubGluZTogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1ibG9jazogaW5pdGlhbDtzY3JvbGwtcGFkZGluZzogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1pbmxpbmU6IGluaXRpYWw7c2Nyb2xsLXNuYXAtYWxpZ246IGluaXRpYWw7c2Nyb2xsLXNuYXAtc3RvcDogaW5pdGlhbDtzY3JvbGwtc25hcC10eXBlOiBpbml0aWFsO3Njcm9sbGJhci1ndXR0ZXI6IGluaXRpYWw7c2hhcGUtaW1hZ2UtdGhyZXNob2xkOiBpbml0aWFsO3NoYXBlLW1hcmdpbjogaW5pdGlhbDtzaGFwZS1vdXRzaWRlOiBpbml0aWFsO3NoYXBlLXJlbmRlcmluZzogaW5pdGlhbDtzaXplOiBpbml0aWFsO3NwZWFrOiBpbml0aWFsO3N0b3AtY29sb3I6IGluaXRpYWw7c3RvcC1vcGFjaXR5OiBpbml0aWFsO3N0cm9rZTogaW5pdGlhbDtzdHJva2UtZGFzaGFycmF5OiBpbml0aWFsO3N0cm9rZS1kYXNob2Zmc2V0OiBpbml0aWFsO3N0cm9rZS1saW5lY2FwOiBpbml0aWFsO3N0cm9rZS1saW5lam9pbjogaW5pdGlhbDtzdHJva2UtbWl0ZXJsaW1pdDogaW5pdGlhbDtzdHJva2Utb3BhY2l0eTogaW5pdGlhbDtzdHJva2Utd2lkdGg6IGluaXRpYWw7dGFiLXNpemU6IGluaXRpYWw7dGFibGUtbGF5b3V0OiBpbml0aWFsO3RleHQtYWxpZ246IGluaXRpYWw7dGV4dC1hbGlnbi1sYXN0OiBpbml0aWFsO3RleHQtYW5jaG9yOiBpbml0aWFsO3RleHQtY29tYmluZS11cHJpZ2h0OiBpbml0aWFsO3RleHQtZGVjb3JhdGlvbjogaW5pdGlhbDt0ZXh0LWRlY29yYXRpb24tc2tpcC1pbms6IGluaXRpYWw7dGV4dC1pbmRlbnQ6IGluaXRpYWw7dGV4dC1vdmVyZmxvdzogaW5pdGlhbDt0ZXh0LXNoYWRvdzogaW5pdGlhbDt0ZXh0LXNpemUtYWRqdXN0OiBpbml0aWFsO3RleHQtdHJhbnNmb3JtOiBpbml0aWFsO3RleHQtdW5kZXJsaW5lLW9mZnNldDogaW5pdGlhbDt0ZXh0LXVuZGVybGluZS1wb3NpdGlvbjogaW5pdGlhbDt0b3VjaC1hY3Rpb246IGluaXRpYWw7dHJhbnNmb3JtOiBpbml0aWFsO3RyYW5zZm9ybS1ib3g6IGluaXRpYWw7dHJhbnNmb3JtLW9yaWdpbjogaW5pdGlhbDt0cmFuc2Zvcm0tc3R5bGU6IGluaXRpYWw7dHJhbnNpdGlvbjogaW5pdGlhbDt1c2VyLXNlbGVjdDogaW5pdGlhbDt2ZWN0b3ItZWZmZWN0OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBpbml0aWFsO3Zpc2liaWxpdHk6IGluaXRpYWw7Ym9yZGVyLXNwYWNpbmc6IGluaXRpYWw7LXdlYmtpdC1ib3JkZXItaW1hZ2U6IGluaXRpYWw7LXdlYmtpdC1ib3gtYWxpZ246IGluaXRpYWw7LXdlYmtpdC1ib3gtZGVjb3JhdGlvbi1icmVhazogaW5pdGlhbDstd2Via2l0LWJveC1kaXJlY3Rpb246IGluaXRpYWw7LXdlYmtpdC1ib3gtZmxleDogaW5pdGlhbDstd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiBpbml0aWFsOy13ZWJraXQtYm94LW9yaWVudDogaW5pdGlhbDstd2Via2l0LWJveC1wYWNrOiBpbml0aWFsOy13ZWJraXQtYm94LXJlZmxlY3Q6IGluaXRpYWw7LXdlYmtpdC1oaWdobGlnaHQ6IGluaXRpYWw7LXdlYmtpdC1oeXBoZW5hdGUtY2hhcmFjdGVyOiBpbml0aWFsOy13ZWJraXQtbGluZS1icmVhazogaW5pdGlhbDstd2Via2l0LWxpbmUtY2xhbXA6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTogaW5pdGlhbDstd2Via2l0LW1hc2s6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWNvbXBvc2l0ZTogaW5pdGlhbDstd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14OiBpbml0aWFsOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGluaXRpYWw7LXdlYmtpdC1ydGwtb3JkZXJpbmc6IGluaXRpYWw7LXdlYmtpdC1ydWJ5LXBvc2l0aW9uOiBpbml0aWFsOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogaW5pdGlhbDstd2Via2l0LXRleHQtY29tYmluZTogaW5pdGlhbDstd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0OiBpbml0aWFsOy13ZWJraXQtdGV4dC1lbXBoYXNpczogaW5pdGlhbDstd2Via2l0LXRleHQtZW1waGFzaXMtcG9zaXRpb246IGluaXRpYWw7LXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IGluaXRpYWw7LXdlYmtpdC10ZXh0LXNlY3VyaXR5OiBpbml0aWFsOy13ZWJraXQtdGV4dC1zdHJva2U6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXg6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXo6IGluaXRpYWw7LXdlYmtpdC11c2VyLWRyYWc6IGluaXRpYWw7LXdlYmtpdC11c2VyLW1vZGlmeTogaW5pdGlhbDt3aGl0ZS1zcGFjZTogaW5pdGlhbDt3aWRvd3M6IGluaXRpYWw7d2lkdGg6IGluaXRpYWw7d2lsbC1jaGFuZ2U6IGluaXRpYWw7d29yZC1icmVhazogaW5pdGlhbDt3b3JkLXNwYWNpbmc6IGluaXRpYWw7eDogaW5pdGlhbDt5OiBpbml0aWFsO2A7CiAgICBjb25zdCBwYWdlVGV4dFN0eWxlID0gYG9wYWNpdHk6IDEhaW1wb3J0YW50O3RleHQtaW5kZW50OiBpbml0aWFsO3BhZGRpbmc6IHVuc2V0O2JvcmRlcjogbm9uZTtiYWNrZ3JvdW5kOiB1bnNldCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6IDMwcHg7dGV4dC1kZWNvcmF0aW9uOiBub25lO3VzZXItc2VsZWN0OiBub25lO3Zpc2liaWxpdHk6IHZpc2libGU7cG9zaXRpb246IGluaXRpYWw7d2lkdGg6IGF1dG87bWF4LXdpZHRoOiA4MCU7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO292ZXJmbG93OiBoaWRkZW47aGVpZ2h0OiBhdXRvO2Zsb2F0OiBub25lO2NsZWFyOiBib3RoO21hcmdpbjogMHB4O3RleHQtYWxpZ246IGNlbnRlcjtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1zdHlsZTogbm9ybWFsO2ZvbnQtc2l6ZTogMTZweDtsZXR0ZXItc3BhY2luZzogaW5pdGlhbDt2ZXJ0aWNhbC1hbGlnbjogdG9wO2NvbG9yOiByZ2IoODUsIDg1LCA5NSkhaW1wb3J0YW50O2A7CiAgICB2YXIgc2lkZUNvbnRyb2xsZXJJY29uID0gJyc7CgogICAgdmFyIHRpcHNXb3JkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGlwc1dvcmRzLmNsYXNzTmFtZSA9ICJwYWdldHVhbF90aXBzV29yZHMiOwoKICAgIHZhciBpc1BhdXNlID0gZmFsc2UsIGlzSGlkZUJhciA9IGZhbHNlLCBpc0xvYWRpbmcgPSBmYWxzZSwgY3VyUGFnZSA9IDEsIGZvcmNlU3RhdGUgPSAwLCBhdXRvU2Nyb2xsID0gMCwgYXV0b1Njcm9sbEludGVydmFsLCBib3R0b21HYXAgPSAxMDAwLCBhdXRvTG9hZE51bSA9IC0xLCBuZXh0SW5kZXggPSAwLCBzdG9wU2Nyb2xsID0gZmFsc2UsIGNsaWNrTW9kZSA9IGZhbHNlOwogICAgdmFyIG9wZW5Jbk5ld1RhYiA9IDA7CgogICAgZnVuY3Rpb24gY2hhbmdlU3RvcChzdG9wKSB7CiAgICAgICAgaXNQYXVzZSA9IHN0b3A7CiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGdldEJvZHkoZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5wYWdldHVhbF9wYWdlQmFyLCNwYWdldHVhbC1zaWRlQ29udHJvbGxlciIpLCBiYXIgPT4gewogICAgICAgICAgICBpZiAoaXNQYXVzZSkgewogICAgICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5hZGQoInN0b3AiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJhci5jbGFzc0xpc3QucmVtb3ZlKCJzdG9wIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VIaWRlQmFyKGhpZGUpIHsKICAgICAgICBpc0hpZGVCYXIgPSBoaWRlOwogICAgICAgIFtdLmZvckVhY2guY2FsbChnZXRCb2R5KGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKCIucGFnZXR1YWxfcGFnZUJhciIpLCBiYXIgPT4gewogICAgICAgICAgICBpZiAoaXNIaWRlQmFyKSB7CiAgICAgICAgICAgICAgICBiYXIuY2xhc3NMaXN0LmFkZCgiaGlkZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5yZW1vdmUoImhpZGUiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uwqBpc0luVmlld1BvcnQoZWxlbWVudCnCoHsKICAgICAgICBpZiAoIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKGVsZW1lbnQpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKF91bnNhZmVXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXNwbGF5ID09ICJub25lIikgcmV0dXJuIGZhbHNlOwogICAgICAgIGNvbnN0wqB2aWV3V2lkdGjCoD3CoHdpbmRvdy5pbm5lcldpZHRowqB8fMKgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgIGNvbnN0wqB2aWV3SGVpZ2h0wqA9wqB3aW5kb3cuaW5uZXJIZWlnaHTCoHx8wqBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIGNvbnN0wqB7CiAgICAgICAgICAgIHRvcCwKICAgICAgICAgICAgcmlnaHQsCiAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgbGVmdCwKICAgICAgICB9wqA9wqBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm7CoCgKICAgICAgICAgICAgdG9wwqA+PcKgMMKgJiYKICAgICAgICAgICAgbGVmdMKgPj3CoDDCoCYmCiAgICAgICAgICAgIHJpZ2h0wqA8PcKgdmlld1dpZHRoICsgMcKgJiYKICAgICAgICAgICAgdG9wwqA8PcKgdmlld0hlaWdodCAqIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnJhdGUgfHwgcnVsZXNEYXRhLnJhdGUgfHwgMSkKICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFBhZ2VCYXIoKSB7CiAgICAgICAgbGV0IHByZUJhciA9IG51bGwsIG5leHRCYXIgPSBudWxsOwogICAgICAgIGxldCBwYWdlQmFycyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnBhZ2V0dWFsX3BhZ2VCYXIiKSk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQmFycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsZXQgcGFnZUJhciA9IHBhZ2VCYXJzW2ldOwogICAgICAgICAgICBpZiAoIXBhZ2VCYXIgfHwgIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKHBhZ2VCYXIpKSBjb250aW51ZTsKICAgICAgICAgICAgbGV0wqB7CiAgICAgICAgICAgICAgICB0b3AsCiAgICAgICAgICAgICAgICByaWdodCwKICAgICAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgICAgIGxlZnQsCiAgICAgICAgICAgIH3CoD3CoHBhZ2VCYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGlmICh0b3AgPiA1MDApIHsKICAgICAgICAgICAgICAgIG5leHRCYXIgPSBwYWdlQmFyOwogICAgICAgICAgICAgICAgcHJlQmFyID0gKGkgLSAxID49IDAgPyBwYWdlQmFyc1tpIC0gMV0gOiBudWxsKTsKICAgICAgICAgICAgICAgIGlmIChwYWdlQmFyICYmIGdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKHBhZ2VCYXIpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0wqB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCwKICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCwKICAgICAgICAgICAgICAgICAgICB9wqA9wqBwYWdlQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmICh0b3AgPCAtNTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZUJhciA9IHBhZ2VCYXI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHByZUJhciA9IChpIC0gMiA+PSAwID8gcGFnZUJhcnNbaSAtIDJdIDogbnVsbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIW5leHRCYXIpIHByZUJhciA9IHBhZ2VCYXJzW3BhZ2VCYXJzLmxlbmd0aCAtIDJdOwogICAgICAgIHJldHVybiB7cHJlQmFyOiBwcmVCYXIsIG5leHRCYXI6IG5leHRCYXJ9OwogICAgfQoKICAgIHZhciB1cmxDaGFuZ2VkID0gZmFsc2U7CiAgICB2YXIgdXJsY2hhbmdlSGFuZGxlciA9IGUgPT4gewogICAgICAgIGlmIChydWxlUGFyc2VyICYmIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUgJiYgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5saXN0ZW5VcmxDaGFuZ2UgPT0gZmFsc2UpIHJldHVybjsKICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbGFzdEFjdGl2ZVVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGxldCBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCA2MCk7CiAgICAgICAgICAgIGlmIChocmVmID09IGNvbmZpZ1BhZ2VbMF0pIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGluaXRDb25maWcoaHJlZik7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChndWlkZVBhZ2UudGVzdChocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRDb25maWcoaHJlZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybENoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL2lmICghcGFnZVJlYWR5ICYmICFydWxlSW1wb3J0VXJsUmVnLnRlc3QoaHJlZikpIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAxKTsKICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXR1YWxfcHVzaFN0YXRlJywgdXJsY2hhbmdlSGFuZGxlcik7CiAgICAvKnZhciBfd3IgPSBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgdmFyIG9yaWcgPSBoaXN0b3J5W3R5cGVdOwogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHJ2ID0gb3JpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgncGFnZXR1YWxfJyArIHR5cGUpOwogICAgICAgICAgICBlLmFyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgICAgIHJldHVybiBydjsKICAgICAgICB9OwogICAgfTsKICAgIGhpc3RvcnkucHVzaFN0YXRlID0gX3dyKCdwdXNoU3RhdGUnKTsqLwoKICAgIGZ1bmN0aW9uIGxpc3RlblVybCgpIHsKICAgICAgICB2YXIgcHJldlN0YXRlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgICB2YXIgY2hlY2tVcmxUaW1lID0gMTAwOwogICAgICAgIHZhciBjaGVja1VybFRpbWVyOwogICAgICAgIHZhciBjaGVja0Z1bmMgPSAoKSA9PiB7CiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRlID09IDEpIHJldHVybjsKICAgICAgICAgICAgaWYgKGNoZWNrVXJsVGltZSA8IDUwMDApIHsKICAgICAgICAgICAgICAgIGNoZWNrVXJsVGltZSArPSBjaGVja1VybFRpbWU+PjE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNoZWNrVXJsVGltZXIpOwogICAgICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjsKICAgICAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgICAgIGlmIChwcmV2U3RhdGUgIT09IHVybCAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiAhPSBydWxlUGFyc2VyLmhpc3RvcnlVcmwpIHsKICAgICAgICAgICAgICAgIGNoZWNrVXJsVGltZSA9IDIwMDA7CiAgICAgICAgICAgICAgICBwcmV2U3RhdGUgPSB1cmw7CiAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgncGFnZXR1YWxfcHVzaFN0YXRlJyk7CiAgICAgICAgICAgICAgICBlLmFyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGNoZWNrVXJsVGltZSA9IDEwMDsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNoZWNrVXJsVGltZXIpOwogICAgICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGlzdFRvQm90dG9tICgpIHsKICAgICAgICBsZXQgc2Nyb2xseSA9IHdpbmRvdy5zY3JvbGxZOwogICAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICBsZXQgc2Nyb2xsSCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbEhlaWdodCk7CiAgICAgICAgcmV0dXJuIHNjcm9sbEggLSBzY3JvbGx5IC0gd2luZG93SGVpZ2h0OwogICAgfQoKICAgIGxldCBjaGVja0xvYWRNb3JlLCBzY3JvbGxIYW5kbGVyLCBjbGlja1RvUmVzZXRIYW5kbGVyLCBkYmxjbGlja0hhbmRsZXIsIGtleWRvd25IYW5kbGVyLCBoYXNoY2hhbmdlSGFuZGxlciwgbWFudWFsTW9kZUtleUhhbmRsZXIsIHBhZ2V0dWFsTmV4dEhhbmRsZXIsIGtleXVwSGFuZGxlcjsKICAgIGZ1bmN0aW9uIGluaXRMaXN0ZW5lciAoKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0xvYWRNb3JlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyLCB0cnVlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHNjcm9sbEhhbmRsZXIsIHRydWUpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZGJsY2xpY2tIYW5kbGVyKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpOwogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaGNoYW5nZUhhbmRsZXIsIGZhbHNlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbWFudWFsTW9kZUtleUhhbmRsZXIpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhZ2V0dWFsLm5leHQnLCBwYWdldHVhbE5leHRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXl1cEhhbmRsZXIpOwogICAgICAgIGxldCBsb2FkbW9yZUJ0biwgbG9hZGluZ01vcmUgPSB0cnVlLCBsYXN0U2Nyb2xsID0gMCwgY2hlY2tMb2FkTW9yZVRpbWVzID0gMDsKICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxvYWRNb3JlKSB7CiAgICAgICAgICAgICAgICBsb2FkaW5nTW9yZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hlY2tMb2FkTW9yZSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0TG9hZE1vcmUoZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKGxvYWRtb3JlQnRuICYmIGlzVmlzaWJsZShsb2FkbW9yZUJ0biwgX3Vuc2FmZVdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0luVmlld1BvcnQobG9hZG1vcmVCdG4pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtdUNsaWNrKGxvYWRtb3JlQnRuKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2FkaW5nTW9yZSA9IGZhbHNlfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0xvYWRNb3JlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tMb2FkTW9yZVRpbWVzKysgPiAxMCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tMb2FkTW9yZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgICBjbGlja01vZGUgPSB0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5jbGlja01vZGUgPT0gJ3VuZGVmaW5lZCcgPyBydWxlc0RhdGEuY2xpY2tNb2RlIDogcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5jbGlja01vZGU7CiAgICAgICAgbGV0IGNsaWNraW5nTmV4dCA9IGZhbHNlOwogICAgICAgIGxldCBjbGlja05leHQgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGlmIChjbGlja2luZ05leHQpIHJldHVybjsKICAgICAgICAgICAgY2xpY2tpbmdOZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjbGlja2luZ05leHQgPSBmYWxzZTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIGxldCBuZXh0TGluayA9IHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmOwogICAgICAgICAgICBpZiAoIW5leHRMaW5rKSByZXR1cm47CiAgICAgICAgICAgIGxldCBpc0pzID0gL14oamF2YXNjcmlwdHwjKS8udGVzdChuZXh0TGluay5yZXBsYWNlKCIjcHsiLCAiIikucmVwbGFjZShsb2NhdGlvbi5ocmVmLCAiIikpOwogICAgICAgICAgICBpZiAoaXNKcykgewogICAgICAgICAgICAgICAgbGV0IG5leHRCdG4gPSBydWxlUGFyc2VyLm5leHRMaW5rRWxlOwogICAgICAgICAgICAgICAgaWYgKCFuZXh0QnRuIHx8ICFuZXh0QnRuLm9mZnNldFBhcmVudCkgbmV4dEJ0biA9IGF3YWl0IHJ1bGVQYXJzZXIuZ2V0TmV4dExpbmsoZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKG5leHRCdG4pIGVtdUNsaWNrKG5leHRCdG4pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXh0TGluazsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbGV0IGNoZWNrU2Nyb2xsUmVhY2ggPSAoKSA9PiB7CiAgICAgICAgICAgIGxldCBkaXN0ID0gZGlzdFRvQm90dG9tKCk7CiAgICAgICAgICAgIGlmIChjbGlja01vZGUpIHsKICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgMTApIHsKICAgICAgICAgICAgICAgICAgICBjbGlja05leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0IDwgYm90dG9tR2FwKSB7CiAgICAgICAgICAgICAgICBuZXh0UGFnZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBzY3JvbGxIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkICYmICFpc0xvYWRpbmcpIHsKICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5pdFBhZ2UoKCkgPT4ge30pOwogICAgICAgICAgICAgICAgdXJsQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1BhdXNlKSByZXR1cm47CiAgICAgICAgICAgIGlmICghbG9hZGluZ01vcmUpIHsKICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0TG9hZE1vcmUoZG9jdW1lbnQsIGxvYWRtb3JlQnRuKTsKICAgICAgICAgICAgICAgIGlmIChsb2FkbW9yZUJ0bikgewogICAgICAgICAgICAgICAgICAgIGlmIChpc0luVmlld1BvcnQobG9hZG1vcmVCdG4pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtdUNsaWNrKGxvYWRtb3JlQnRuKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2FkaW5nTW9yZSA9IGZhbHNlfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb3JlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2FkaW5nTW9yZSA9IGZhbHNlfSwgMjAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWlzTG9hZGluZyAmJiAhc3RvcFNjcm9sbCkgewogICAgICAgICAgICAgICAgY2hlY2tTY3JvbGxSZWFjaCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bGVQYXJzZXIuY2hhbmdlVmlzaWJpbGl0eSgpOwogICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5sb2NrU2Nyb2xsKSB7CiAgICAgICAgICAgICAgICBsZXQgY3VyU2Nyb2xsID0gZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICBpZiAoaXNMb2FkaW5nICYmIE1hdGguYWJzKGxhc3RTY3JvbGwgLSBjdXJTY3JvbGwpID4gMzUwKSB7CiAgICAgICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gbGFzdFNjcm9sbDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gbGFzdFNjcm9sbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbCA9IGN1clNjcm9sbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZGJsY2xpY2tIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRlID09IDEgfHwgL14oSU5QVVR8VEVYVEFSRUF8U0VMRUNUKSQvaS50ZXN0KGUudGFyZ2V0Lm5vZGVOYW1lKSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BLZXkpIHsKICAgICAgICAgICAgICAgIGlmICgocnVsZXNEYXRhLmRiQ2xpY2syU3RvcEN0cmwgJiYgIWUuY3RybEtleSkgfHwKICAgICAgICAgICAgICAgICAgIChydWxlc0RhdGEuZGJDbGljazJTdG9wQWx0ICYmICFlLmFsdEtleSkgfHwKICAgICAgICAgICAgICAgICAgIChydWxlc0RhdGEuZGJDbGljazJTdG9wU2hpZnQgJiYgIWUuc2hpZnRLZXkpIHx8CiAgICAgICAgICAgICAgICAgICAocnVsZXNEYXRhLmRiQ2xpY2syU3RvcE1ldGEgJiYgIWUubWV0YUtleSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCEvXkJPRFkkL2kudGVzdChlLnRhcmdldC5ub2RlTmFtZSkgJiYgZS50YXJnZXQuY2xhc3NOYW1lICE9PSAncGFnZXR1YWxfcGFnZUJhcicpIHsKICAgICAgICAgICAgICAgIGxldCBzZWxTdHIgPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgaWYgKHNlbFN0ciAmJiBzZWxTdHIudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChydWxlc0RhdGEuZGJDbGljazJTdG9wICYmIChydWxlUGFyc2VyLm5leHRMaW5rSHJlZiB8fCBsb2FkbW9yZUJ0bikpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChydWxlc0RhdGEuaGlkZUJhckJ1dE5vU3RvcCB8fCBydWxlc0RhdGEuaGlkZUJhcikgewogICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIaWRlQmFyKCFpc0hpZGVCYXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS5oaWRlQmFyQnV0Tm9TdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0b3AoIWlzUGF1c2UpOwogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKGlzUGF1c2UgPyAiZGlzYWJsZSIgOiAiZW5hYmxlIikpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tTY3JvbGxSZWFjaCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBkYmxjbGlja0hhbmRsZXIpOwogICAgICAgIGNsaWNrVG9SZXNldEhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLm5leHRMaW5rSHJlZikgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrVG9SZXNldEhhbmRsZXIpOwogICAgICAgIGlmIChydWxlc0RhdGEuZGJDbGljazJTdG9wS2V5KSB7CiAgICAgICAgICAgIGtleWRvd25IYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BDdHJsICYmICFlLmN0cmxLZXkpIHx8CiAgICAgICAgICAgICAgICAgICAocnVsZXNEYXRhLmRiQ2xpY2syU3RvcEFsdCAmJiAhZS5hbHRLZXkpIHx8CiAgICAgICAgICAgICAgICAgICAocnVsZXNEYXRhLmRiQ2xpY2syU3RvcFNoaWZ0ICYmICFlLnNoaWZ0S2V5KSB8fAogICAgICAgICAgICAgICAgICAgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BNZXRhICYmICFlLm1ldGFLZXkpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYKICAgICAgICAgICAgICAgICAgICAoL14oSU5QVVR8VEVYVEFSRUEpJC9pLnRlc3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSkgfHwKICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgPT0gJ3RydWUnKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BLZXkudG9Mb3dlckNhc2UoKSA9PSBrZXkpIHsKICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID0gKGZvcmNlU3RhdGUgPT0gMSA/IDAgOiAxKTsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKGZvcmNlU3RhdGUgPT0gMSA/ICJkaXNhYmxlU2l0ZVRpcHMiIDogImVuYWJsZVNpdGVUaXBzIikpOwogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5jdXJTaXRlUnVsZS51cmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJmb3JjZVN0YXRlXyIgKyBsb2NhdGlvbi5ob3N0LCBmb3JjZVN0YXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5saXN0ZW5IYXNoQ2hhbmdlKSB7CiAgICAgICAgICAgIGhhc2hjaGFuZ2VIYW5kbGVyID0gKCkgPT4gewogICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICB1cmxDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5uZXh0TGlua0hyZWYpIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhc2hjaGFuZ2VIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIGxldCBtYW51YWxNb2RlID0gdHlwZW9mIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubWFudWFsTW9kZSA9PSAndW5kZWZpbmVkJyA/IHJ1bGVzRGF0YS5tYW51YWxNb2RlIDogcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5tYW51YWxNb2RlOwogICAgICAgIGlmIChtYW51YWxNb2RlKSB7CiAgICAgICAgICAgIG1hbnVhbE1vZGVLZXlIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJgogICAgICAgICAgICAgICAgICAgICgvXihJTlBVVHxURVhUQVJFQSkkL2kudGVzdChkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lKSB8fAogICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9PSAndHJ1ZScpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAzOSkgewogICAgICAgICAgICAgICAgICAgIGNsaWNrTmV4dCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMzcpIHsKICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG1hbnVhbE1vZGVLZXlIYW5kbGVyKTsKICAgICAgICAgICAgcGFnZXR1YWxOZXh0SGFuZGxlciA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGNsaWNrTmV4dCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYWdldHVhbC5uZXh0JywgcGFnZXR1YWxOZXh0SGFuZGxlciwgZmFsc2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChydWxlc0RhdGEuYXJyb3dUb1Njcm9sbCkgewogICAgICAgICAgICBrZXl1cEhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmCiAgICAgICAgICAgICAgICAgICAgKC9eKElOUFVUfFRFWFRBUkVBKSQvaS50ZXN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUpIHx8CiAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGVudEVkaXRhYmxlID09ICd0cnVlJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDM5KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRQYWdlQmFyPWdldFBhZ2VCYXIoKS5uZXh0QmFyOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZUJhcikgewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIobmV4dFBhZ2VCYXIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiBzY3JvbGxUb3AgKyAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpLCBiZWhhdmlvcjogJ3Ntb290aCd9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAzNykgewogICAgICAgICAgICAgICAgICAgIGxldCBwcmVQYWdlQmFyID0gZ2V0UGFnZUJhcigpLnByZUJhcjsKICAgICAgICAgICAgICAgICAgICBpZiAocHJlUGFnZUJhcikgewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIocHJlUGFnZUJhcik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFRvcCAtICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCksIGJlaGF2aW9yOiAnc21vb3RoJ30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXl1cEhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2hlZWwpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgc2Nyb2xsSGFuZGxlciwgdHJ1ZSk7CiAgICB9CgogICAgbGV0IGhpZGVUaXBzVGltZW91dDsKICAgIGZ1bmN0aW9uIHNob3dUaXBzKGNvbnRlbnQsIGhyZWYsIHRpbWUsIHdvcmRDb2xvciwgYmFja0NvbG9yKSB7CiAgICAgICAgaW5pdFZpZXcoKTsKICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZCh0aXBzV29yZHMpOwogICAgICAgIHRpcHNXb3Jkcy5zdHlsZS5jb2xvciA9IHdvcmRDb2xvciB8fCAweEZGRkZGRjsKICAgICAgICB0aXBzV29yZHMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja0NvbG9yIHx8IDB4MDAwOwogICAgICAgIGxldCBfdGltZSA9IDE1MDA7CiAgICAgICAgaWYgKGhyZWYpIHsKICAgICAgICAgICAgX3RpbWUgPSAzNTAwOwogICAgICAgICAgICB0aXBzV29yZHMuaW5uZXJIVE1MID0gY3JlYXRlSFRNTChgPGEgaHJlZj0nJHtocmVmfSc+JHtjb250ZW50fTwvYT5gKTsKICAgICAgICAgICAgdGlwc1dvcmRzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aXBzV29yZHMuaW5uZXJIVE1MID0gY3JlYXRlSFRNTChjb250ZW50KTsKICAgICAgICB9CiAgICAgICAgdGlwc1dvcmRzLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGlwc1dvcmRzLm9mZnNldFdpZHRoIC8gMiArICJweCI7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRpcHNXb3Jkcy5zdHlsZS5tYXJnaW5MZWZ0ID0gLXRpcHNXb3Jkcy5vZmZzZXRXaWR0aCAvIDIgKyAicHgiOwogICAgICAgIH0sIDApOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aXBzV29yZHMuc3R5bGUub3BhY2l0eSA9IDAuODsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhpZGVUaXBzVGltZW91dCk7CiAgICAgICAgICAgIGhpZGVUaXBzVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGlwc1dvcmRzLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgICAgICAgICAgdGlwc1dvcmRzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnJzsKICAgICAgICAgICAgfSwgdGltZSB8fCBfdGltZSk7CiAgICAgICAgfSwgMSk7CiAgICB9CgogICAgY29uc3QgbG9hZG1vcmVSZWcgPSAvXlxzKigo54K55Ye7KT/liqDovb3mm7TlpJp8KOm7nuaTiik/5Yqg6LyJ5pu05aSafGxvYWRccyptb3JlfOOCguOBo+OBqOiqreOBv+i+vOOCgClbLuKApl0qXHMqJC9pOwogICAgY29uc3QgZGVmYXVsdExvYWRtb3JlU2VsID0gIi5sb2FkTW9yZSwuTG9hZE1vcmUsLmxvYWQtbW9yZSxidXR0b24uc2hvd19tb3JlLC5idXR0b24tc2hvdy1tb3JlLGJ1dHRvbltkYXRhLXRlc3RpZD0nbW9yZS1yZXN1bHRzLWJ1dHRvbiddLCNidG5fcHJldmlld19yZW1haW4iOwogICAgZnVuY3Rpb24gZ2V0TG9hZE1vcmUoZG9jLCBsb2FkbW9yZUJ0bikgewogICAgICAgIGlmICghbG9hZG1vcmVCdG4gfHwgIWdldEJvZHkoZG9jKS5jb250YWlucyhsb2FkbW9yZUJ0bikgfHwgL2xlc3MvLnRlc3QobG9hZG1vcmVCdG4uaW5uZXJUZXh0KSkgbG9hZG1vcmVCdG4gPSBudWxsOwogICAgICAgIGlmICghcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgJiYgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubG9hZE1vcmUpIHJldHVybiBudWxsOwogICAgICAgIGlmIChsb2FkbW9yZUJ0bikgcmV0dXJuIGxvYWRtb3JlQnRuOwogICAgICAgIGxldCBidG5TZWwgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxvYWRNb3JlIHx8IGRlZmF1bHRMb2FkbW9yZVNlbDsKICAgICAgICBpZiAoYnRuU2VsKSB7CiAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0RWxlbWVudChidG5TZWwsIGRvYywgbnVsbCwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghbG9hZG1vcmVCdG4pIHsKICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgiaW5wdXQsYnV0dG9uLGEsZGl2W29uY2xpY2tdIik7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGJ1dHRvbnNbaV07CiAgICAgICAgICAgICAgICBpZiAoIWJ1dHRvbi5pbm5lclRleHQgfHwgYnV0dG9uLmlubmVyVGV4dC5sZW5ndGggPiAyMCkgY29udGludWU7CiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uICYmIGxvYWRtb3JlUmVnLnRlc3QoYnV0dG9uLmlubmVyVGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkbW9yZUJ0biA9IGJ1dHRvbjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAobG9hZG1vcmVCdG4gJiYgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubG9hZE1vcmUgJiYgbG9hZG1vcmVCdG4uZGF0YXNldC5hamF4ICE9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgbGV0IGhyZWYgPSBsb2FkbW9yZUJ0bi5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgICAgICAgICAgaWYgKGhyZWYgJiYgaHJlZiAhPSAiLyIgJiYgIS9eKGphdmFzY3JpcHR8IykvLnRlc3QoaHJlZi5yZXBsYWNlKCIjcHsiLCAiIikucmVwbGFjZShsb2NhdGlvbi5ocmVmLCAiIikpKSB7CiAgICAgICAgICAgICAgICBsb2FkbW9yZUJ0biA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGxvYWRtb3JlQnRuICYmIC9sZXNzLy50ZXN0KGxvYWRtb3JlQnRuLmlubmVyVGV4dCkpIGxvYWRtb3JlQnRuID0gbnVsbDsKICAgICAgICByZXR1cm4gbG9hZG1vcmVCdG47CiAgICB9CgogICAgZnVuY3Rpb24gc2Nyb2xsVG9QYWdlQmFyKGJhcil7CiAgICAgICAgbGV0IHlPZmZzZXQgPSAtMjA7CiAgICAgICAgaWYgKHR5cGVvZiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VCYXJUb3AgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHlPZmZzZXQgPSAtcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlQmFyVG9wOwogICAgICAgIH0KICAgICAgICBjb25zdCB5ID0gYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIHlPZmZzZXQ7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiB5LCBiZWhhdmlvcjogJ3Ntb290aCd9KTsKICAgIH0KCiAgICBjb25zdCBwYWdlTnVtUmVnPS9bJlwvXD9dKHA9fHBhZ2VbPVwvXy1dPylcZCt8W18tXVxkK1wuLzsKICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZ2VCYXIodXJsKSB7CiAgICAgICAgY3VyUGFnZSsrOwogICAgICAgIHNpZGVDb250cm9sbGVyLnNldHVwKCk7CiAgICAgICAgbGV0IHBvc0VsZSA9IG51bGw7CiAgICAgICAgbGV0IHNjcm9sbEggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxIZWlnaHQpOwogICAgICAgIGxldCBpbnNlcnQgPSBydWxlUGFyc2VyLmdldEluc2VydCgpOwogICAgICAgIGlmICghaW5zZXJ0IHx8ICFpbnNlcnQucGFyZW50Tm9kZSkgcmV0dXJuOwogICAgICAgIGlmIChmb3JjZVN0YXRlID09IDIpIHsKICAgICAgICAgICAgcG9zRWxlID0gZ2V0Qm9keShkb2N1bWVudCk7CiAgICAgICAgICAgIHBvc0VsZSA9IHBvc0VsZS5jaGlsZHJlbltwb3NFbGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zRWxlID0gaW5zZXJ0OwogICAgICAgIH0KICAgICAgICB3aGlsZSAocG9zRWxlICYmICFwb3NFbGUub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgICAgIHBvc0VsZSA9IHBvc0VsZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIHx8IHBvc0VsZS5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgICBpZiAocG9zRWxlKSB7CiAgICAgICAgICAgIGxldCBhY3R1YWxCb3R0b20gPSBnZXRFbGVtZW50Qm90dG9tKHBvc0VsZSk7CiAgICAgICAgICAgIGJvdHRvbUdhcCA9IHNjcm9sbEggLSBhY3R1YWxCb3R0b20gKyAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICogKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucmF0ZSB8fCBydWxlc0RhdGEucmF0ZSB8fCAxKTsKICAgICAgICAgICAgaWYgKGJvdHRvbUdhcCA8IDEwMCkgYm90dG9tR2FwID0gMTAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJvdHRvbUdhcCA9IDEwMDA7CiAgICAgICAgfQogICAgICAgIGlmIChydWxlc0RhdGEub3BhY2l0eSA9PSAwIHx8IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUJhciA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyNwey4qLywgIiIpOwogICAgICAgIGxldCBleGFtcGxlID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pbnNlcnRQb3MgPT0gMiA/IGluc2VydC5jaGlsZHJlblswXSA6IChpbnNlcnQucGFyZW50Tm9kZS5jaGlsZHJlblswXSB8fCBpbnNlcnQpOwogICAgICAgIHdoaWxlIChleGFtcGxlICYmICgvXihTQ1JJUFR8U1RZTEUpJC9pLnRlc3QoZXhhbXBsZS5ub2RlTmFtZSkgfHwgZXhhbXBsZS5jbGFzc05hbWUgPT0gInBhZ2V0dWFsX3BhZ2VCYXIiKSkgewogICAgICAgICAgICBleGFtcGxlID0gZXhhbXBsZS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgfQogICAgICAgIGlmICghZXhhbXBsZSB8fCAhZXhhbXBsZS5wYXJlbnROb2RlKSBleGFtcGxlID0gaW5zZXJ0OwogICAgICAgIGlmIChleGFtcGxlLm5vZGVUeXBlICE9IDEpIHsKICAgICAgICAgICAgZXhhbXBsZSA9IGV4YW1wbGUucHJldmlvdXNFbGVtZW50U2libGluZyB8fCBleGFtcGxlLnBhcmVudE5vZGU7CiAgICAgICAgICAgIGlmICghZXhhbXBsZSB8fCBleGFtcGxlLm5vZGVUeXBlICE9IDEpIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGV4YW1wbGVTdHlsZSA9IF91bnNhZmVXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShleGFtcGxlKTsKICAgICAgICBsZXQgaW5UYWJsZSwgaW5MaTsKICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAyKSB7CiAgICAgICAgICAgIGluVGFibGUgPSBpbkxpID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5UYWJsZSA9IC9eKFRBQkxFfFRCT0RZKSQvaS50ZXN0KGV4YW1wbGUucGFyZW50Tm9kZS5ub2RlTmFtZSkgfHwKICAgICAgICAgICAgL14oVFJ8VEJPRFkpJC9pLnRlc3QoZXhhbXBsZS5ub2RlTmFtZSkgfHwKICAgICAgICAgICAgZXhhbXBsZVN0eWxlLmRpc3BsYXkgPT0gInRhYmxlLXJvdyIgfHwKICAgICAgICAgICAgKGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nICYmIC9eKFRSfFRCT0RZKSQvaS50ZXN0KGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nLm5vZGVOYW1lKSk7CiAgICAgICAgICAgIGluTGkgPSAvXkxJJC9pLnRlc3QoZXhhbXBsZS5ub2RlTmFtZSkgfHwgKGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nICYmIC9eTEkkL2kudGVzdChleGFtcGxlLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZSkpOwogICAgICAgIH0KICAgICAgICBsZXQgcGFnZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaW5UYWJsZSA/ICJ0ciIgOiAoaW5MaSA/ICJsaSIgOiAiZGl2IikpOwogICAgICAgIGxldCB1cFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgbGV0IGRvd25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgIGxldCBwYWdlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBsZXQgcGFnZU51bTsKICAgICAgICBwYWdlQmFyLmNsYXNzTmFtZSA9IGlzSGlkZUJhciA/ICJwYWdldHVhbF9wYWdlQmFyIGhpZGUiIDogInBhZ2V0dWFsX3BhZ2VCYXIiOwogICAgICAgIHBhZ2VCYXIuaWQgPSAicGFnZXR1YWxfcGFnZUJhciIgKyBjdXJQYWdlOwogICAgICAgIHBhZ2VCYXIuc2V0QXR0cmlidXRlKCJ0cmFuc2xhdGUiLCAibm8iKTsKICAgICAgICBpZiAoaXNQYXVzZSkgewogICAgICAgICAgICBwYWdlQmFyLmNsYXNzTGlzdC5hZGQoInN0b3AiKTsKICAgICAgICB9CiAgICAgICAgcGFnZUJhci5zdHlsZS5jc3NUZXh0ID0gcGFnZUJhclN0eWxlOwogICAgICAgIHBhZ2VCYXIudGl0bGUgPSBpMThuKGlzUGF1c2UgPyAiZW5hYmxlIiA6ICJkaXNhYmxlIik7CiAgICAgICAgdXBTcGFuLmlubmVySFRNTCA9IHVwU3ZnOwogICAgICAgIHVwU3Bhbi5jaGlsZHJlblswXS5zdHlsZS5jc3NUZXh0ID0gdXBTdmdDU1M7CiAgICAgICAgdXBTcGFuLnRpdGxlID0gaTE4bigidG9Ub3AiKTsKICAgICAgICBkb3duU3Bhbi5pbm5lckhUTUwgPSBkb3duU3ZnOwogICAgICAgIGRvd25TcGFuLmNoaWxkcmVuWzBdLnN0eWxlLmNzc1RleHQgPSBkb3duU3ZnQ1NTOwogICAgICAgIGRvd25TcGFuLnRpdGxlID0gaTE4bigidG9Cb3R0b20iKTsKICAgICAgICB1cFNwYW4uc3R5bGUuY3NzVGV4dCA9IGluaXRTdHlsZTsKICAgICAgICBkb3duU3Bhbi5zdHlsZS5jc3NUZXh0ID0gaW5pdFN0eWxlOwogICAgICAgIHBhZ2VUZXh0LmhyZWYgPSB1cmw7CiAgICAgICAgcGFnZVRleHQuc3R5bGUuY3NzVGV4dCA9IHBhZ2VUZXh0U3R5bGU7CiAgICAgICAgcGFnZVRleHQudGl0bGUgPSBpMThuKCJjdXJyZW50Iik7CiAgICAgICAgaWYgKG9wZW5Jbk5ld1RhYiA9PSAxKSBwYWdlVGV4dC50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICBwYWdlQmFyLmFwcGVuZENoaWxkKHVwU3Bhbik7CiAgICAgICAgcGFnZUJhci5hcHBlbmRDaGlsZChwYWdlVGV4dCk7CiAgICAgICAgaWYgKHJ1bGVzRGF0YS5wYWdlQmFyTWVudSkgewogICAgICAgICAgICBwYWdlVGV4dC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgfHwgZS5hbHRLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkpIHJldHVybjsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIHBpY2tlci5zdGFydCgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgbGV0IHRvdWNoZWQgPSBmYWxzZTsKICAgICAgICBsZXQgdG91Y2hCb2R5SGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICB0b3VjaGVkID0gZmFsc2U7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaEJvZHlIYW5kbGVyLCB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiBmYWxzZSB9KTsKICAgICAgICB9OwogICAgICAgIHBhZ2VUZXh0LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBlID0+IHsKICAgICAgICAgICAgaWYgKHRvdWNoZWQpIHJldHVybjsKICAgICAgICAgICAgdG91Y2hlZCA9IHRydWU7CiAgICAgICAgICAgIHBhZ2VUZXh0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgcGFnZVRleHQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnOwogICAgICAgICAgICB9LCAyNTApOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgdG91Y2hCb2R5SGFuZGxlciwgeyBwYXNzaXZlOiBmYWxzZSwgY2FwdHVyZTogZmFsc2UgfSk7CiAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSwgY2FwdHVyZTogZmFsc2UgfSk7CiAgICAgICAgaWYgKHJ1bGVQYXJzZXIubmV4dFRpdGxlKSB7CiAgICAgICAgICAgIHBhZ2VUZXh0LmlubmVySFRNTCA9IHJ1bGVQYXJzZXIubmV4dFRpdGxlICsgIiAiOwogICAgICAgICAgICBwYWdlVGV4dC50aXRsZSA9IHJ1bGVQYXJzZXIubmV4dFRpdGxlOwogICAgICAgIH0KICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlTnVtIHx8IHBhZ2VOdW1SZWcudGVzdCh1cmwpKSB7CiAgICAgICAgICAgIHBhZ2VUZXh0LmlubmVySFRNTCArPSBpMThuKCJwYWdlIik7CiAgICAgICAgICAgIHBhZ2VOdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgIGxldCBudW0gPSBydWxlUGFyc2VyLmdldFBhZ2VOdW1Gcm9tVXJsKHVybCk7CiAgICAgICAgICAgIHBhZ2VOdW0uaW5uZXJIVE1MID0gbnVtOwogICAgICAgICAgICBwYWdlTnVtLmNsYXNzTmFtZSA9ICJwYWdldHVhbF9wYWdlTnVtIjsKICAgICAgICAgICAgcGFnZU51bS50aXRsZSA9IGkxOG4oImlucHV0UGFnZU51bSIpOwogICAgICAgICAgICBwYWdlTnVtLnN0eWxlLmNzc1RleHQgPSBwYWdlVGV4dFN0eWxlOwogICAgICAgICAgICBwYWdlTnVtLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgICAgICAgICAgcGFnZU51bS5zdHlsZS5jb2xvciA9ICIiOwogICAgICAgICAgICBwYWdlTnVtLnN0eWxlLm1hcmdpbkxlZnQgPSAiNXB4IjsKICAgICAgICAgICAgcGFnZU51bS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHBhZ2VJbnB1dCA9IHByb21wdChpMThuKCJpbnB1dFBhZ2VOdW0iKSwgbnVtIHx8ICIxIik7CiAgICAgICAgICAgICAgICBpZiAocGFnZUlucHV0KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsUGFnZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYWdldHVhbF9wYWdlQmFyIiArIHBhZ2VJbnB1dCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUGFnZUJhcikgewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIobG9jYWxQYWdlQmFyKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZUxpbmsgPSBydWxlUGFyc2VyLmdldExpbmtCeVBhZ2UodXJsLCBwYWdlSW5wdXQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9HTV9vcGVuSW5UYWIocGFnZUxpbmssIHthY3RpdmU6dHJ1ZX0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhZ2VCYXIuYXBwZW5kQ2hpbGQocGFnZU51bSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFnZVRleHQuaW5uZXJIVE1MICs9IGkxOG4oInBhZ2UiKSArIGN1clBhZ2U7CiAgICAgICAgfQogICAgICAgIGxldCBwcmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgcHJlQnRuLmlubmVySFRNTCA9ICLiiKciOwogICAgICAgIHByZUJ0bi50aXRsZSA9IGkxOG4oInByZXZQYWdlIik7CiAgICAgICAgcHJlQnRuLmNsYXNzTmFtZSA9ICJwcmV2U2NyZWVuIjsKICAgICAgICBwcmVCdG4uc3R5bGUuY3NzVGV4dCA9ICJkaXNwbGF5OiBub25lO3RleHQtYWxpZ246IGNlbnRlcjtyaWdodDogdW5zZXQ7IGZsb2F0OiBsZWZ0OyB3aWR0aDogNDBweDsgYmFja2dyb3VuZDogcmdiYSgyNDAsIDI0MCwgMjQwLCAwLjgpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDk5OTk5OTk7IGJveC1zaGFkb3c6IHJnYigwIDAgMCAvIDUwJSkgMHB4IC01cHggNXB4OyBib3JkZXItcmFkaXVzOiAyMHB4IDIwcHggMCAwOyBtYXJnaW4tdG9wOiAtMzBweDsgIjsKICAgICAgICBsZXQgbmV4dEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICBuZXh0QnRuLmlubmVySFRNTCA9ICLiiKgiOwogICAgICAgIG5leHRCdG4udGl0bGUgPSBpMThuKCJuZXh0UGFnZSIpOwogICAgICAgIG5leHRCdG4uY2xhc3NOYW1lID0gIm5leHRTY3JlZW4iOwogICAgICAgIG5leHRCdG4uc3R5bGUuY3NzVGV4dCA9ICJkaXNwbGF5OiBub25lO3RleHQtYWxpZ246IGNlbnRlcjtyaWdodDogdW5zZXQ7IGZsb2F0OiBsZWZ0OyB3aWR0aDogNDBweDsgYmFja2dyb3VuZDogcmdiYSgyNDAsIDI0MCwgMjQwLCAwLjgpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDk5OTk5OTk7IGJveC1zaGFkb3c6IHJnYigwIDAgMCAvIDUwJSkgMHB4IDVweCA1cHg7IGJvcmRlci1yYWRpdXM6IDAgMCAyMHB4IDIwcHg7IG1hcmdpbi10b3A6IDMwcHg7ICI7CiAgICAgICAgbGV0IGxvY2FsUGFnZSA9IGN1clBhZ2U7CiAgICAgICAgcHJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IHByZVBhZ2VCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWxfcGFnZUJhciIgKyAobG9jYWxQYWdlIC0gMSkpOwogICAgICAgICAgICBpZiAocHJlUGFnZUJhcikgewogICAgICAgICAgICAgICAgc2Nyb2xsVG9QYWdlQmFyKHByZVBhZ2VCYXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiBzY3JvbGxUb3AgLSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpLCBiZWhhdmlvcjogJ3Ntb290aCd9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBsZXQgbmV4dFBhZ2VCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWxfcGFnZUJhciIgKyAobG9jYWxQYWdlICsgMSkpOwogICAgICAgICAgICBpZiAobmV4dFBhZ2VCYXIpIHsKICAgICAgICAgICAgICAgIHNjcm9sbFRvUGFnZUJhcihuZXh0UGFnZUJhcik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzY3JvbGxIID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsSCB8fCA5OTk5OTk5LCBiZWhhdmlvcjogJ3Ntb290aCd9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmICghcnVsZXNEYXRhLmhpZGVCYXJBcnJvdykgewogICAgICAgICAgICBwYWdlVGV4dC5pbnNlcnRCZWZvcmUocHJlQnRuLCBwYWdlVGV4dC5maXJzdENoaWxkKTsKICAgICAgICAgICAgcGFnZVRleHQuaW5zZXJ0QmVmb3JlKG5leHRCdG4sIHBhZ2VUZXh0LmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgICBwYWdlQmFyLmFwcGVuZENoaWxkKGRvd25TcGFuKTsKICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAyKSB7CiAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUud2lkdGggPSAiOTklIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgcGFyZW50U3R5bGUgPSBfdW5zYWZlV2luZG93LmdldENvbXB1dGVkU3R5bGUoZXhhbXBsZS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgbGV0IHBhcmVudFdpZHRoID0gZXhhbXBsZS5wYXJlbnROb2RlLm9mZnNldFdpZHRoIHx8IHBhcnNlSW50KHBhcmVudFN0eWxlLndpZHRoKTsKICAgICAgICAgICAgcGFnZUJhci5zdHlsZS53aWR0aCA9IHBhcmVudFdpZHRoIC0gcGFyc2VJbnQocGFyZW50U3R5bGUucGFkZGluZ0xlZnQpIC0gcGFyc2VJbnQocGFyZW50U3R5bGUucGFkZGluZ1JpZ2h0KSAtIDEwICsgInB4IjsKICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5tYXJnaW4gPSAnMTBweCA1cHgnOwogICAgICAgICAgICBpZiAocGFyZW50U3R5bGUuZGlzcGxheSA9PSAiZ3JpZCIgfHwgcGFyZW50U3R5bGUuZGlzcGxheSA9PSAiaW5saW5lLWdyaWQiKSB7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmdyaWRDb2x1bW4gPSAiMS8tMSI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGluVGFibGUpIHsKICAgICAgICAgICAgICAgIGV4YW1wbGUgPSAoL14oVFJ8VEJPRFkpJC9pLnRlc3QoZXhhbXBsZS5ub2RlTmFtZSkpID8gZXhhbXBsZSA6IGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nIHx8IGV4YW1wbGU7CiAgICAgICAgICAgICAgICBpZiAoL15UQk9EWSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpKSBleGFtcGxlID0gZXhhbXBsZS5xdWVyeVNlbGVjdG9yKCJ0ciIpOwogICAgICAgICAgICAgICAgbGV0IG5leHRUciA9IGV4YW1wbGU7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dFRyICYmIG5leHRUci5jaGlsZHJlbi5sZW5ndGggPT0gMCkgbmV4dFRyID0gbmV4dFRyLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgIGlmIChuZXh0VHIpIGV4YW1wbGUgPSBuZXh0VHI7CiAgICAgICAgICAgICAgICBsZXQgdGROdW0gPSAwOwogICAgICAgICAgICAgICAgaWYgKGV4YW1wbGVTdHlsZS5kaXNwbGF5ID09ICJ0YWJsZS1yb3ciKSB7CiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGV4YW1wbGUuY2hpbGRyZW4sIGVsID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGROdW0gKz0gZWwuY29sU3BhbiB8fCAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZXhhbXBsZS5jaGlsZHJlbiwgZWwgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14oVER8VEgpJC9pLnRlc3QoZWwubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZE51bSArPSBlbC5jb2xTcGFuIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUuY3NzVGV4dCA9ICIiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5kaXNwbGF5ID0gInRhYmxlLXJvdyI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ1bnNldCI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmxpbmVIZWlnaHQgPSAiMjBweCI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmJveFNoYWRvdyA9ICIiOwogICAgICAgICAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgIHRkLmNvbFNwYW4gPSB0ZE51bSB8fCAxOwogICAgICAgICAgICAgICAgbGV0IGluVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUuY3NzVGV4dCA9IHBhZ2VCYXJTdHlsZTsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgICAgICAgICAgaW5UZC5jbGFzc05hbWUgPSBwYWdlQmFyLmNsYXNzTmFtZTsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuY2xhc3NOYW1lID0gIiI7CiAgICAgICAgICAgICAgICBpblRkLmFwcGVuZENoaWxkKHVwU3Bhbik7CiAgICAgICAgICAgICAgICBpblRkLmFwcGVuZENoaWxkKHBhZ2VUZXh0KTsKICAgICAgICAgICAgICAgIGlmIChwYWdlTnVtKSBpblRkLmFwcGVuZENoaWxkKHBhZ2VOdW0pOwogICAgICAgICAgICAgICAgaW5UZC5hcHBlbmRDaGlsZChkb3duU3Bhbik7CiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChpblRkKTsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuYXBwZW5kQ2hpbGQodGQpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGluTGkpIHsKICAgICAgICAgICAgICAgIGV4YW1wbGUgPSAvXkxJJC9pLnRlc3QoZXhhbXBsZS5ub2RlTmFtZSkgPyBleGFtcGxlIDogZXhhbXBsZS5uZXh0RWxlbWVudFNpYmxpbmcgfHwgZXhhbXBsZTsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmRpc3BsYXkgPSBnZXRDb21wdXRlZFN0eWxlKGV4YW1wbGUpLmRpc3BsYXk7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ1bnNldCI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmxpbmVIZWlnaHQgPSAiMjBweCI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmJveFNoYWRvdyA9ICIiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5ib3JkZXIgPSAiIjsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUubWF4V2lkdGggPSAidW5zZXQiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5mbGV4ID0gImF1dG8iOwogICAgICAgICAgICAgICAgbGV0IGluVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUuY3NzVGV4dCA9IHBhZ2VCYXJTdHlsZTsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgICAgICAgICAgaW5UZC5zdHlsZS5tYXJnaW4gPSAiMCIKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUucGFkZGluZyA9ICIwIDAiOwogICAgICAgICAgICAgICAgaW5UZC5zdHlsZS50ZXh0QWxpZ24gPSAiY2VudGVyIjsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUubWluV2lkdGggPSAiMTUwcHgiOwogICAgICAgICAgICAgICAgaW5UZC5zdHlsZS53aWR0aCA9ICdjYWxjKDEwMCUgLSAyMHB4KSc7CiAgICAgICAgICAgICAgICBpblRkLmNsYXNzTmFtZSA9IHBhZ2VCYXIuY2xhc3NOYW1lOwogICAgICAgICAgICAgICAgcGFnZUJhci5jbGFzc05hbWUgPSAiIjsKICAgICAgICAgICAgICAgIGluVGQuYXBwZW5kQ2hpbGQodXBTcGFuKTsKICAgICAgICAgICAgICAgIGluVGQuYXBwZW5kQ2hpbGQocGFnZVRleHQpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW0pIGluVGQuYXBwZW5kQ2hpbGQocGFnZU51bSk7CiAgICAgICAgICAgICAgICBpblRkLmFwcGVuZENoaWxkKGRvd25TcGFuKTsKICAgICAgICAgICAgICAgIGlmIChwYWdlQmFyLnN0eWxlLmRpc3BsYXkgPT09ICd0YWJsZS1yb3cnKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgICAgICAgICAgICB0ZC5jb2xTcGFuID0gZXhhbXBsZS5jaGlsZHJlbi5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoaW5UZCk7CiAgICAgICAgICAgICAgICAgICAgcGFnZUJhci5hcHBlbmRDaGlsZCh0ZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGluVGQuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgICAgICAgICAgcGFnZUJhci5hcHBlbmRDaGlsZChpblRkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdXBTcGFuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCA9IDA7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgZG93blNwYW4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLnNoaWZ0S2V5ICYmICFlLm1ldGFLZXkpIHsKICAgICAgICAgICAgICAgIGNoYW5nZVN0b3AodHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGFnZUJhci50aXRsZSA9IGkxOG4oaXNQYXVzZSA/ICJlbmFibGUiIDogImRpc2FibGUiKTsKICAgICAgICAgICAgc2Nyb2xsSD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSBzY3JvbGxIIHx8IDk5OTk5OTk7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxIIHx8IDk5OTk5OTk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICBwYWdlQmFyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGNoYW5nZVN0b3AoIWlzUGF1c2UpOwogICAgICAgICAgICBwYWdlQmFyLnRpdGxlID0gaTE4bihpc1BhdXNlID8gImVuYWJsZSIgOiAiZGlzYWJsZSIpOwogICAgICAgIH0pOwogICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0RWxlbWVudChwYWdlQmFyKTsKICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlQmFyICYmIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUJhciAhPT0gMCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VCYXIgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oInBhZ2VCYXIiLCcidXNlIHN0cmljdCI7JyArIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUJhcikgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUJhcikocGFnZUJhcik7CiAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBwYWdlQmFyOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JFbGVtZW50KHNlbCwgZG9jKSB7CiAgICAgICAgaWYgKCFzZWwpIHJldHVybiBudWxsOwogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICBsZXQgY2hlY2tJbnYgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gZ2V0RWxlbWVudChzZWwsIGRvYywgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludik7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0pOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGNsaWNrQWN0aW9uKHNlbCwgZG9jKSB7CiAgICAgICAgbGV0IGJ0biA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KHNlbCwgZG9jKTsKICAgICAgICBlbXVDbGljayhidG4pOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGVudGVyQWN0aW9uKHNlbCwgZG9jKSB7CiAgICAgICAgbGV0IGJ0biA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KHNlbCwgZG9jKTsKICAgICAgICBsZXQgZXZlbnRQYXJhbSA9IHsga2V5OiAiRW50ZXIiLCBrZXlDb2RlOiAxMywgYnViYmxlczogdHJ1ZSB9OwogICAgICAgIGxldCBldmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgZXZlbnRQYXJhbSk7CiAgICAgICAgYnRuLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgIGV2ZW50ID0gbmV3IEtleWJvYXJkRXZlbnQoJ2tleXVwJywgZXZlbnRQYXJhbSk7CiAgICAgICAgYnRuLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgIGV2ZW50ID0gbmV3IEtleWJvYXJkRXZlbnQoJ2tleXByZXNzJywgZXZlbnRQYXJhbSk7CiAgICAgICAgYnRuLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGlucHV0QWN0aW9uKHNlbCwgdiwgZG9jKSB7CiAgICAgICAgbGV0IGlucHV0ID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoc2VsLCBkb2MpOwogICAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCgnZm9jdXMnLCB7IGJ1YmJsZXM6IHRydWUgfSk7CiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgbGV0IGxhc3RWYWx1ZSA9IGlucHV0LnZhbHVlOwogICAgICAgIGlmIChpbnB1dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIpIHsKICAgICAgICAgICAgdmFyIG5hdGl2ZUlucHV0VmFsdWVTZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZSwgInZhbHVlIikuc2V0OwogICAgICAgICAgICBuYXRpdmVJbnB1dFZhbHVlU2V0dGVyLmNhbGwoaW5wdXQsIHYpOwogICAgICAgIH0gZWxzZSBpZiAoaW5wdXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAiVEVYVEFSRUEiKSB7CiAgICAgICAgICAgIHZhciBuYXRpdmVUZXh0YXJlYVZhbHVlU2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUsICJ2YWx1ZSIpLnNldDsKICAgICAgICAgICAgbmF0aXZlVGV4dGFyZWFWYWx1ZVNldHRlci5jYWxsKGlucHV0LCB2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpbnB1dC5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKHYpOwogICAgICAgIH0KICAgICAgICBldmVudCA9IG5ldyBFdmVudCgnaW5wdXQnLCB7IGJ1YmJsZXM6IHRydWUgfSk7CiAgICAgICAgbGV0IHRyYWNrZXIgPSBpbnB1dC5fdmFsdWVUcmFja2VyOwogICAgICAgIGlmICh0cmFja2VyKSB7CiAgICAgICAgICAgIHRyYWNrZXIuc2V0VmFsdWUobGFzdFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KTsKICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICBkZWJ1ZyhpbnB1dCwgYGlucHV0ICR7c2VsfWApOwogICAgfQoKICAgIGZ1bmN0aW9uIGVtdUNsaWNrKGJ0bikgewogICAgICAgIGxldCBjdXJTY3JvbGwgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICBsZXQgb3JnSHJlZiA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgICAgICBpZiAob3JnSHJlZiAmJiBvcmdIcmVmLnJlcGxhY2UobG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWUsICIiKS5pbmRleE9mKCIjIikgPT09IDApIHsKICAgICAgICAgICAgbGV0IGhhc2hBY3Rpb24gPSBlID0+IHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCA9IGN1clNjcm9sbDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBjdXJTY3JvbGw7CiAgICAgICAgICAgICAgICBidG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYXNoQWN0aW9uLCBmYWxzZSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhc2hBY3Rpb24sIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFQb2ludGVyRXZlbnQpIHJldHVybiBidG4uY2xpY2soKTsKICAgICAgICBsZXQgZXZlbnRQYXJhbSA9IHsKICAgICAgICAgICAgaXNUcnVzdGVkOiB0cnVlLAogICAgICAgICAgICBhbHRLZXk6IGZhbHNlLAogICAgICAgICAgICBhemltdXRoQW5nbGU6IDAsCiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsCiAgICAgICAgICAgIGJ1dHRvbjogMCwKICAgICAgICAgICAgYnV0dG9uczogMCwKICAgICAgICAgICAgY2xpZW50WDogMSwKICAgICAgICAgICAgY2xpZW50WTogMSwKICAgICAgICAgICAgY2FuY2VsQnViYmxlOiBmYWxzZSwKICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsCiAgICAgICAgICAgIGN0cmxLZXk6IGZhbHNlLAogICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZSwKICAgICAgICAgICAgZGV0YWlsOiAxLAogICAgICAgICAgICBldmVudFBoYXNlOiAyLAogICAgICAgICAgICBmcm9tRWxlbWVudDogbnVsbCwKICAgICAgICAgICAgaGVpZ2h0OiAxLAogICAgICAgICAgICBpc1ByaW1hcnk6IGZhbHNlLAogICAgICAgICAgICBtZXRhS2V5OiBmYWxzZSwKICAgICAgICAgICAgcG9pbnRlcklkOiAxLAogICAgICAgICAgICBwb2ludGVyVHlwZTogIm1vdXNlIiwKICAgICAgICAgICAgcHJlc3N1cmU6IDAsCiAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IG51bGwsCiAgICAgICAgICAgIHJldHVyblZhbHVlOiB0cnVlLAogICAgICAgICAgICBzaGlmdEtleTogZmFsc2UsCiAgICAgICAgICAgIHRvRWxlbWVudDogbnVsbCwKICAgICAgICAgICAgdHdpc3Q6IDAsCiAgICAgICAgICAgIHdoaWNoOiAxCiAgICAgICAgfTsKICAgICAgICBsZXQgbW91c2VFdmVudCA9IG5ldyBQb2ludGVyRXZlbnQoIm1vdXNlZG93biIsIGV2ZW50UGFyYW0pOwogICAgICAgIGJ0bi5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpOwogICAgICAgIG1vdXNlRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KCJtb3VzZXVwIiwgZXZlbnRQYXJhbSk7CiAgICAgICAgYnRuLmRpc3BhdGNoRXZlbnQobW91c2VFdmVudCk7CiAgICAgICAgbGV0IGRpc3BhdGNoVG91Y2hFdmVudCA9IChlbGUsIHR5cGUpID0+IHsKICAgICAgICAgICAgbGV0IHRvdWNoRXZlbnQ7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB0b3VjaEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ1RvdWNoRXZlbnQnKQogICAgICAgICAgICAgICAgdG91Y2hFdmVudC5pbml0VG91Y2hFdmVudCh0eXBlLCB0cnVlLCB0cnVlKQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdVSUV2ZW50JykKICAgICAgICAgICAgICAgICAgICB0b3VjaEV2ZW50LmluaXRVSUV2ZW50KHR5cGUsIHRydWUsIHRydWUpCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICB0b3VjaEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykKICAgICAgICAgICAgICAgICAgICB0b3VjaEV2ZW50LmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0b3VjaEV2ZW50KSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHRvdWNoRXZlbnQudGFyZ2V0VG91Y2hlcyA9IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBwYWdlWTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBidG4KICAgICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgICAgICB0b3VjaEV2ZW50LnRvdWNoZXMgPSBbewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlWDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogYnRuCiAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlcyA9IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBwYWdlWTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBidG4KICAgICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgICAgICAgICAgICAgIGVsZS5kaXNwYXRjaEV2ZW50KHRvdWNoRXZlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRpc3BhdGNoVG91Y2hFdmVudChidG4sICJ0b3VjaHN0YXJ0Iik7CiAgICAgICAgZGlzcGF0Y2hUb3VjaEV2ZW50KGJ0biwgInRvdWNoZW5kIik7CgogICAgICAgIGJ0bi5jbGljaygpOwogICAgfQoKICAgIHZhciBmYWlsRnJvbUlmcmFtZSA9IDA7CiAgICB2YXIgaW5Db3JzID0gZmFsc2U7CiAgICB2YXIgY2hlY2tSZW1vdmVJbnR2OwogICAgZnVuY3Rpb24gcmVxdWVzdEZyb21JZnJhbWUodXJsLCBjYWxsYmFjayl7CiAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiAhL15odHRwczovLnRlc3QodXJsKSkgewogICAgICAgICAgICBzaG93VGlwcyhpMThuKCJub1ZhbGlkQ29udGVudCIpLCB1cmwpOwogICAgICAgIH0KICAgICAgICB1cmwgPSB1cmwuaW5kZXhPZignPScpID09IC0xID8gdXJsLnJlcGxhY2UoLyNbXiNdKi8sIiIpIDogdXJsOwogICAgICAgIGxldCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICBpZnJhbWUubmFtZSA9ICdwYWdldHVhbC1pZnJhbWUnOwogICAgICAgIGlmcmFtZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICBpZnJhbWUuaGVpZ2h0ID0gJzEwMDAnOwogICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9ICcwJzsKICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zYW5kYm94ICE9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmcmFtZS5zYW5kYm94ID0gImFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctcG9wdXBzIGFsbG93LWZvcm1zIjsKICAgICAgICB9CiAgICAgICAgaWZyYW1lLnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7dmlzaWJpbGl0eTpoaWRkZW4haW1wb3J0YW50O2ZsZXg6MDtvcGFjaXR5OjAhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3RvcDowcHg7bGVmdDowcHg7ei1pbmRleDotMjE0NzQ4MzY0NzsnOwogICAgICAgIGxldCB3YWl0VGltZSA9IDEwMCwgY2hlY2tFdmFsOwogICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXRFbGVtZW50KSB7CiAgICAgICAgICAgIGNoZWNrRXZhbCA9IGRvYyA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZVBhcnNlci53YWl0RWxlbWVudChkb2MpOwogICAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0KSB7CiAgICAgICAgICAgIGlmIChpc05hTihydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXQpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNoZWNrRXZhbCA9ICh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFdhaXQgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsJyJ1c2Ugc3RyaWN0IjsnICsgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0KSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxXYWl0OwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3YWl0VGltZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoY2hlY2tSZW1vdmVJbnR2KSBjbGVhckludGVydmFsKGNoZWNrUmVtb3ZlSW50dik7CiAgICAgICAgY2hlY2tSZW1vdmVJbnR2ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBpZiAoIWlmcmFtZSB8fCAhZ2V0Qm9keShkb2N1bWVudCkuY29udGFpbnMoaWZyYW1lKSkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlbW92ZUludHYpOwogICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCA1MDApOwogICAgICAgIGxldCBsb2FkZWRIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgIGlmIChlLmRhdGEgIT0gJ3BhZ2V0dWFsLWlmcmFtZTpET01Mb2FkZWQnICYmIGUudHlwZSAhPSAnbG9hZCcpIHJldHVybjsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlbW92ZUludHYpOwogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxvYWRlZEhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgaWZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkZWRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIGxldCB0cnlUaW1lcyA9IDA7CiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrSWZyYW1lKCkgewogICAgICAgICAgICAgICAgaWYgKHVybENoYW5nZWQgfHwgaXNQYXVzZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBsZXQgZG9jID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgICAgICAgICAgICAgICBsZXQgYmFzZSA9IGRvYy5xdWVyeVNlbGVjdG9yKCJiYXNlIik7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5iYXNlUGF0aCA9IGJhc2UgPyBiYXNlLmhyZWYgOiB1cmw7CiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZXMgPSBydWxlUGFyc2VyLmdldFBhZ2VFbGVtZW50KGRvYywgaWZyYW1lLmNvbnRlbnRXaW5kb3csIHRyeVRpbWVzIDwgMTApOwogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0V2YWwgJiYgIWNoZWNrRXZhbChkb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tJZnJhbWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgd2FpdFRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVzICYmIGVsZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkb2MsIGVsZXMpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJ5VGltZXMrKyA8IDEwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSWZyYW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWlsRnJvbUlmcmFtZSsrID4gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbEZyb21JZnJhbWUgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoIlN0b3AgYXMgZmFpbEZyb21JZnJhbWUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oIm5vVmFsaWRDb250ZW50IiksIHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgaW5Db3JzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PT0gMykgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygiU3RvcCBhcyBjb3JzIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFsbE9mQm9keTsKICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5nZXRJbnNlcnQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID0gMDsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLm5leHRMaW5rSHJlZiA9IHVybDsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIG5leHRQYWdlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5wYXJlbnROb2RlKSBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgY2hlY2tJZnJhbWUoKTsKICAgICAgICAgICAgfSwgd2FpdFRpbWUpOwogICAgICAgIH07CiAgICAgICAgbGV0IGNvZGUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmlmcmFtZUluaXQ7CiAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgbGV0IGNoZWNrUmVhZHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZG9jOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBkb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50IHx8IChpZnJhbWUuY29udGVudFdpbmRvdyAmJiBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUmVhZHkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbignd2luJywgJ2lmcmFtZScsICcidXNlIHN0cmljdCI7JyArIGNvZGUpKGlmcmFtZS5jb250ZW50V2luZG93LCBpZnJhbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUmVhZHkpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICB9CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsb2FkZWRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkZWRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgaWZyYW1lLnNyYyA9IHVybDsKICAgICAgICB0cnkgewogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZChpZnJhbWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgfQogICAgfQoKICAgIHZhciBlbXVJZnJhbWUsIGxhc3RBY3RpdmVVcmwsIG9yZ0NvbnRlbnQsIG1lZXRDb3JzID0gZmFsc2U7CiAgICBmdW5jdGlvbiBlbXVQYWdlKGNhbGxiYWNrKSB7CiAgICAgICAgbGV0IG9yZ1BhZ2UgPSBudWxsLCBwcmVDb250ZW50ID0gbnVsbCwgaWZyYW1lRG9jLCBjaGVja1RpbWVzID0gMCwgbG9hZG1vcmVCdG4sIHBhZ2VFbGUsIG5leHRMaW5rLCBsb2FkbW9yZUVuZCA9IGZhbHNlLCB3YWl0VGltZXMgPSA4MCwgY2hhbmdlZCA9IGZhbHNlOwogICAgICAgIGZ1bmN0aW9uIHJldHVybkZhbHNlKGxvZykgewogICAgICAgICAgICBkZWJ1Zyhsb2cpOwogICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKGVtdUlmcmFtZSAmJiBlbXVJZnJhbWUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgZW11SWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZW11SWZyYW1lKTsKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVyLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgZW11SWZyYW1lID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBhc3luYyBmdW5jdGlvbiBjaGVja1BhZ2UoKSB7CiAgICAgICAgICAgIGlmIChpc1BhdXNlKSByZXR1cm4gbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZnJhbWVEb2MgPSBlbXVJZnJhbWUuY29udGVudERvY3VtZW50IHx8IGVtdUlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybkZhbHNlKCJTdG9wIGFzIGNvcnMiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IHdhaXRUaW1lID0gMjAwLCBjaGVja0V2YWw7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBjaGVja0V2YWwgPSBkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiBydWxlUGFyc2VyLndhaXRFbGVtZW50KGRvYyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgaWYocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0KSB7CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0KSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRXZhbCA9ICh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFdhaXQgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsICcidXNlIHN0cmljdCI7JyArIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdCkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsV2FpdDsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB3YWl0VGltZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFvcmdQYWdlKSB7CiAgICAgICAgICAgICAgICBpZiAoIWxvYWRtb3JlRW5kKSB7CiAgICAgICAgICAgICAgICAgICAgbG9hZG1vcmVCdG4gPSBnZXRMb2FkTW9yZShpZnJhbWVEb2MpOwogICAgICAgICAgICAgICAgICAgIGlmIChsb2FkbW9yZUJ0biAmJiBpc1Zpc2libGUobG9hZG1vcmVCdG4sIGVtdUlmcmFtZS5jb250ZW50V2luZG93KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbXVDbGljayhsb2FkbW9yZUJ0bik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnR2ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZG1vcmVCdG4gPSBnZXRMb2FkTW9yZShpZnJhbWVEb2MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkbW9yZUJ0biB8fCAhZ2V0Qm9keShkb2N1bWVudCkuY29udGFpbnMobG9hZG1vcmVCdG4pIHx8ICFpc1Zpc2libGUobG9hZG1vcmVCdG4sIGVtdUlmcmFtZS5jb250ZW50V2luZG93KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50dik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZG1vcmVFbmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0luVmlld1BvcnQobG9hZG1vcmVCdG4pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2sobG9hZG1vcmVCdG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZG1vcmVFbmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjaGVja0V2YWwgJiYgIWNoZWNrRXZhbChpZnJhbWVEb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWVzID0gNTA7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dExpbmsgfHwgIW5leHRMaW5rLm9mZnNldFBhcmVudCkgbmV4dExpbmsgPSBhd2FpdCBydWxlUGFyc2VyLmdldE5leHRMaW5rKGlmcmFtZURvYyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rKSBwYWdlRWxlID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChpZnJhbWVEb2MsIGVtdUlmcmFtZS5jb250ZW50V2luZG93LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGUgfHwgcGFnZUVsZS5sZW5ndGggPT0gMCB8fCAhbmV4dExpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdhaXRUaW1lcy0tID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGUgfHwgcGFnZUVsZS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybkZhbHNlKCJTdG9wIGFzIG5vIHBhZ2Ugd2hlbiBlbXUiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoL15VTCQvaS50ZXN0KHBhZ2VFbGVbMF0ubm9kZU5hbWUpKSBwYWdlRWxlID0gcGFnZUVsZVswXS5jaGlsZHJlbjsKICAgICAgICAgICAgICAgIHBhZ2VFbGUgPSBwYWdlRWxlW3BhcnNlSW50KChwYWdlRWxlLmxlbmd0aCAtIDEpIC8gMildOwogICAgICAgICAgICAgICAgd2hpbGUocGFnZUVsZSAmJiAoKHBhZ2VFbGUuc2Nyb2xsSGVpZ2h0ICYmIHBhZ2VFbGUuc2Nyb2xsSGVpZ2h0IDwgNTApIHx8ICFwYWdlRWxlLm9mZnNldFBhcmVudCB8fCAoIS9eSU1HJC9pLnRlc3QocGFnZUVsZS5ub2RlTmFtZSkgJiYgIXBhZ2VFbGUuaW5uZXJIVE1MLnRyaW0oKSkpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGUubmV4dEVsZW1lbnRTaWJsaW5nKSBwYWdlRWxlID0gcGFnZUVsZS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBvcmdDb250ZW50ICE9IHBhZ2VFbGUuaW5uZXJIVE1MKSB7CiAgICAgICAgICAgICAgICAgICAgb3JnQ29udGVudCA9IHBhZ2VFbGUuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgICAgIGlmICh3YWl0VGltZXMtLSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgd2FpdFRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb3JnUGFnZSA9IHBhZ2VFbGU7CiAgICAgICAgICAgICAgICBpZiAobmV4dExpbmspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoL15JTUckL2kudGVzdChvcmdQYWdlLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubGF6eUltZ1NyYykgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5sYXp5SW1nU3JjID0gIjAiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JnUGFnZS5zcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0NvbnRlbnQgPSBvcmdQYWdlLnNyYzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0NvbnRlbnQgPSBvcmdQYWdlLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJlQ29udGVudCA9IG9yZ0NvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Zpc2libGUobmV4dExpbmssIGVtdUlmcmFtZS5jb250ZW50V2luZG93KSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GYWxzZSgiU3RvcCBhcyBuZXh0IGhpZGUgd2hlbiBlbXUiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBlbXVDbGljayhuZXh0TGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm5GYWxzZSgiU3RvcCBhcyBubyBuZXh0IHdoZW4gZW11Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLmNoZWNrU3RvcFNpZ24obmV4dExpbmssIGlmcmFtZURvYykpIHJldHVybiByZXR1cm5GYWxzZSgiU3RvcCBhcyBzdG9wU2lnbiIpOzsKICAgICAgICAgICAgaWYgKGNoZWNrVGltZXMrKyA+IDIwMCkgewogICAgICAgICAgICAgICAgcmV0dXJuRmFsc2UoIlN0b3AgYXMgdGltZW91dCB3aGVuIGVtdSIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBlbGVzID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChpZnJhbWVEb2MsIGVtdUlmcmFtZS5jb250ZW50V2luZG93LCB0cnVlKSwgY2hlY2tJdGVtOwogICAgICAgICAgICBpZiAoZWxlcyAmJiBlbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGNoZWNrSXRlbSA9IGVsZXM7CiAgICAgICAgICAgICAgICBpZiAoL15VTCQvaS50ZXN0KGVsZXNbMF0ubm9kZU5hbWUpKSBjaGVja0l0ZW0gPSBlbGVzWzBdLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgY2hlY2tJdGVtID0gY2hlY2tJdGVtW3BhcnNlSW50KChjaGVja0l0ZW0ubGVuZ3RoIC0gMSkgLyAyKV07CiAgICAgICAgICAgICAgICB3aGlsZShjaGVja0l0ZW0gJiYgKChjaGVja0l0ZW0uc2Nyb2xsSGVpZ2h0ICYmIGNoZWNrSXRlbS5zY3JvbGxIZWlnaHQgPCA1MCkgfHwgIWNoZWNrSXRlbS5vZmZzZXRQYXJlbnQgfHwgKCEvXklNRyQvaS50ZXN0KGNoZWNrSXRlbS5ub2RlTmFtZSkgJiYgIWNoZWNrSXRlbS5pbm5lckhUTUwudHJpbSgpKSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tJdGVtLm5leHRFbGVtZW50U2libGluZykgY2hlY2tJdGVtID0gY2hlY2tJdGVtLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgICAgICBlbHNlIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghY2hlY2tJdGVtIHx8IChjaGVja0V2YWwgJiYgIWNoZWNrRXZhbChpZnJhbWVEb2MpKSkgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrRXZhbCkgY2hlY2tUaW1lcyA9IDA7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBjaGVja0lubmVyOwogICAgICAgICAgICAgICAgaWYgKC9eSU1HJC9pLnRlc3QoY2hlY2tJdGVtLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0l0ZW0uc3JjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSW5uZXIgPSBjaGVja0l0ZW0uc3JjOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tJbm5lciA9IGNoZWNrSXRlbS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAob3JnUGFnZSAhPSBjaGVja0l0ZW0gfHwgY2hlY2tJbm5lciAhPSBwcmVDb250ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgb3JnUGFnZSA9IGNoZWNrSXRlbTsKICAgICAgICAgICAgICAgICAgICBwcmVDb250ZW50ID0gY2hlY2tJbm5lcjsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgd2FpdFRpbWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tUaW1lcyA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZ0NvbnRlbnQgPT0gcHJlQ29udGVudCAmJiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgfHwgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zdG9wU2FtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmFsc2UoIlN0b3AgYXMgc2FtZSBjb250ZW50Iik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3JnQ29udGVudCA9IHByZUNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGlmcmFtZURvYywgZWxlcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tUaW1lcyAlIDEwID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dExpbmsgfHwgIW5leHRMaW5rLm9mZnNldFBhcmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmsgPSBhd2FpdCBydWxlUGFyc2VyLmdldE5leHRMaW5rKGlmcmFtZURvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXVDbGljayhuZXh0TGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVtdUlmcmFtZSkgewogICAgICAgICAgICBsZXQgbG9hZGVkID0gZmFsc2U7CiAgICAgICAgICAgIGVtdUlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgICAgICBlbXVJZnJhbWUubmFtZSA9ICdwYWdldHVhbC1pZnJhbWUnOwogICAgICAgICAgICBsZXQgbm90U2V0U2FuZGJveCA9IHR5cGVvZiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNhbmRib3ggPT0gJ3VuZGVmaW5lZCc7CiAgICAgICAgICAgIGlmIChub3RTZXRTYW5kYm94IHx8IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2FuZGJveCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBlbXVJZnJhbWUuc2FuZGJveCA9ICJhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXBvcHVwcyBhbGxvdy1mb3JtcyI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zYW5kYm94KSB7CiAgICAgICAgICAgICAgICBlbXVJZnJhbWUuc2FuZGJveCA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2FuZGJveDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbXVJZnJhbWUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIGVtdUlmcmFtZS5oZWlnaHQgPSAnMTAwJSc7CiAgICAgICAgICAgIGVtdUlmcmFtZS5mcmFtZUJvcmRlciA9ICcwJzsKICAgICAgICAgICAgZW11SWZyYW1lLnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luOjAhaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7ZmxleDowO29wYWNpdHk6MCFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7cG9zaXRpb246Zml4ZWQ7dG9wOjBweDtsZWZ0OjBweDt6LWluZGV4Oi0yMTQ3NDgzNjQ3Oyc7CiAgICAgICAgICAgIGVtdUlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVEb2MgPSBlbXVJZnJhbWUuY29udGVudERvY3VtZW50IHx8IGVtdUlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5tZXNzYWdlICYmIGUubWVzc2FnZS5pbmRleE9mKCJjcm9zcy1vcmlnaW4iKSAhPSAtMSAmJiBub3RTZXRTYW5kYm94ICYmIGVtdUlmcmFtZS5oYXNBdHRyaWJ1dGUoInNhbmRib3giKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW11SWZyYW1lLnJlbW92ZUF0dHJpYnV0ZSgic2FuZGJveCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVldENvcnMgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZhbHNlKCJTdG9wIGFzIGNvcnMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG1lZXRDb3JzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmluaXQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBc3luY0Z1bmN0aW9uKCdkb2MnLCd3aW4nLCdpZnJhbWUnLCdjbGljaycsICdlbnRlcicsICdpbnB1dCcsICcidXNlIHN0cmljdCI7JyArIGNvZGUpKGlmcmFtZURvYywgZW11SWZyYW1lLmNvbnRlbnRXaW5kb3csIGVtdUlmcmFtZSwgc2VsID0+IHtjbGlja0FjdGlvbihzZWwsIGlmcmFtZURvYyl9LCBzZWwgPT4ge2VudGVyQWN0aW9uKHNlbCwgaWZyYW1lRG9jKX0sIChzZWwsIHYpID0+e2lucHV0QWN0aW9uKHNlbCwgdiwgaWZyYW1lRG9jKX0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBsb2FkZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxldCBjb2RlID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pZnJhbWVJbml0OwogICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgbGV0IGNoZWNrUmVhZHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lRG9jID0gZW11SWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCAoZW11SWZyYW1lLmNvbnRlbnRXaW5kb3cgJiYgZW11SWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUmVhZHkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChpZnJhbWVEb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uKCd3aW4nLCAnaWZyYW1lJywgJyJ1c2Ugc3RyaWN0IjsnICsgY29kZSkoZW11SWZyYW1lLmNvbnRlbnRXaW5kb3csIGVtdUlmcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUmVhZHkpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbGFzdEFjdGl2ZVVybCkgbGFzdEFjdGl2ZVVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGVtdUlmcmFtZS5zcmMgPSBsYXN0QWN0aXZlVXJsOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZChlbXVJZnJhbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChlbXVJZnJhbWUuc3JjICE9IGxhc3RBY3RpdmVVcmwgfHwgbWVldENvcnMpIHsKICAgICAgICAgICAgICAgIGVtdUlmcmFtZS5zcmMgPSBsYXN0QWN0aXZlVXJsOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgIH0KICAgIH0KCiAgICB2YXIgc2Nyb2xsVG9SZXNpemVJbml0ZWQgPSBmYWxzZTsKICAgIHZhciByZXNpemVQb29sID0gW107CiAgICB2YXIgc2Nyb2xsaW5nVG9SZXNpemUgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiBpc1RvdWNoVmlld1BvcnQoZWxlbWVudCkgewogICAgICAgIGNvbnN0wqB2aWV3V2lkdGjCoD3CoHdpbmRvdy5pbm5lcldpZHRowqB8fMKgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgIGNvbnN0wqB2aWV3SGVpZ2h0wqA9wqB3aW5kb3cuaW5uZXJIZWlnaHTCoHx8wqBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIGNvbnN0wqB7CiAgICAgICAgICAgIHRvcCwKICAgICAgICAgICAgcmlnaHQsCiAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgbGVmdCwKICAgICAgICB9wqA9wqBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm7CoCgKICAgICAgICAgICAgdG9wwqA8wqB2aWV3SGVpZ2h0wqAmJgogICAgICAgICAgICBsZWZ0wqA8wqB2aWV3V2lkdGjCoCYmCiAgICAgICAgICAgIHJpZ2h0wqA+wqAwwqAmJgogICAgICAgICAgICBib3R0b23CoD7CoDAKICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlc2l6ZUlmcmFtZShpZnJhbWUsIGZyYW1lRG9jLCBwYWdlRWxlKSB7CiAgICAgICAgbGV0IGN1clNjcm9sbCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpbmdsZVVybCB8fCBmb3JjZVN0YXRlID09PSAyKSB7CiAgICAgICAgICAgIGxldCBoZWlnaHQgPSAoZ2V0Qm9keShmcmFtZURvYykuc2Nyb2xsSGVpZ2h0IHx8IGdldEJvZHkoZnJhbWVEb2MpLm9mZnNldEhlaWdodCB8fCA1MDApOwogICAgICAgICAgICBpZiAoIWlmcmFtZS5zdHlsZS5oZWlnaHQgfHwgaGVpZ2h0IC0gcGFyc2VJbnQoaWZyYW1lLnN0eWxlLmhlaWdodCkgPiA1MCkgewogICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICJweCI7CiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubWluSGVpZ2h0ID0gaWZyYW1lLnN0eWxlLmhlaWdodDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgICAgIGZyYW1lRG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICBmcmFtZURvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHBhZ2VFbGUpIHsKICAgICAgICAgICAgICAgIGxldCBmaXRXaWR0aCA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuZml0V2lkdGggIT09IGZhbHNlOwogICAgICAgICAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSBwYWdlRWxlWzBdOwogICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAocGFnZUVsZS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSB0YXJnZXRFbGVtZW50LnNjcm9sbEhlaWdodCB8fCB0YXJnZXRFbGVtZW50Lm9mZnNldEhlaWdodCB8fCA1MDA7CiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gc2Nyb2xsSGVpZ2h0ICsgInB4IjsKICAgICAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSAwLCBzY3JvbGxMZWZ0ID0gMDsKICAgICAgICAgICAgICAgIGdldEJvZHkoZnJhbWVEb2MpLnNjcm9sbFRvcCA9IDA7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGZyYW1lRG9jKS5zY3JvbGxMZWZ0ID0gMDsKICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXRFbGVtZW50ICYmIHRhcmdldEVsZW1lbnQub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRQYXJlbnQuc2Nyb2xsVG9wID0gdGFyZ2V0RWxlbWVudC5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQub2Zmc2V0UGFyZW50LnNjcm9sbFRvcCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcCArPSB0YXJnZXRFbGVtZW50Lm9mZnNldFRvcDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpdFdpZHRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0UGFyZW50LnNjcm9sbExlZnQgPSB0YXJnZXRFbGVtZW50Lm9mZnNldExlZnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50Lm9mZnNldFBhcmVudC5zY3JvbGxMZWZ0ID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgKz0gdGFyZ2V0RWxlbWVudC5vZmZzZXRMZWZ0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZyYW1lRG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7CiAgICAgICAgICAgICAgICBmcmFtZURvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7CiAgICAgICAgICAgICAgICBpZiAoZnJhbWVEb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9PSAwICYmIGZyYW1lRG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID09IDApIHsKICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGZyYW1lRG9jKS5zY3JvbGxUb3AgKz0gc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgIGdldEJvZHkoZnJhbWVEb2MpLnNjcm9sbExlZnQgKz0gc2Nyb2xsTGVmdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZml0V2lkdGggJiYgaWZyYW1lLnN0eWxlLm1hcmdpbkxlZnQgPT0gJzBweCcpIHsKICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSAiMTAwdnciOwogICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5tYXhXaWR0aCA9ICIxMDB2dyI7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLm1pbldpZHRoID0gIjEwMHZ3IjsKICAgICAgICAgICAgICAgICAgICB2YXIgY1dpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5tYXJnaW5MZWZ0ID0gLWlmcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gKGlXaWR0aCAtIGNXaWR0aCkgLyAyICsgInB4IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSBjdXJTY3JvbGw7CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGN1clNjcm9sbDsKICAgIH0KCiAgICBmdW5jdGlvbiBzY3JvbGxUb1Jlc2l6ZShlKSB7CiAgICAgICAgaWYgKHNjcm9sbGluZ1RvUmVzaXplKSByZXR1cm47CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHNjcm9sbGluZ1RvUmVzaXplID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgdG91Y2hlZCA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHJlc2l6ZVBvb2wpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzaXplQXJyID0gcmVzaXplUG9vbFtpXTsKICAgICAgICAgICAgICAgICAgICBsZXQgaWZyYW1lID0gcmVzaXplQXJyWzFdKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVG91Y2hWaWV3UG9ydChpZnJhbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoZWQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2VFbGUgPSByZXNpemVBcnJbMF0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyYW1lRG9jID0gcmVzaXplQXJyWzJdKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZUlmcmFtZShpZnJhbWUsIGZyYW1lRG9jLCBwYWdlRWxlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvdWNoZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoZWQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2VFbGUgPSByZXNpemVBcnJbMF0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZURvYyA9IHJlc2l6ZUFyclsyXSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplSWZyYW1lKGlmcmFtZSwgZnJhbWVEb2MsIHBhZ2VFbGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlmcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZVBvb2wuc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgc2Nyb2xsaW5nVG9SZXNpemUgPSBmYWxzZTsKICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgcmVzaXplSGFuZGxlcigpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmb3JjZUlmcmFtZSh1cmwsIGNhbGxiYWNrKSB7CiAgICAgICAgdXJsID0gdXJsLmluZGV4T2YoJz0nKSA9PSAtMSA/IHVybC5yZXBsYWNlKC8jW14jXSovLCIiKSA6IHVybDsKICAgICAgICBsZXQgY3VySWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyksIGlmcmFtZURvYywgcGFnZUVsZW1lbnQgPSBudWxsLCBpc2xvYWRlZCA9IGZhbHNlLCBpbkFjdGlvbiA9IHRydWU7CiAgICAgICAgbGV0IGxvYWRlZEhhbmRsZXIgPSAoKSA9PiB7CiAgICAgICAgICAgIGxldCBnZXRQYWdlRWxlID0gKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnQgfHwgcGFnZUVsZW1lbnQubGVuZ3RoID09PSAwIHx8ICFwYWdlRWxlbWVudFswXS5vZmZzZXRQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBydWxlUGFyc2VyLmdldFBhZ2VFbGVtZW50KGlmcmFtZURvYywgY3VySWZyYW1lLmNvbnRlbnRXaW5kb3cpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFnZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlc2l6ZUlmcmFtZShjdXJJZnJhbWUsIGlmcmFtZURvYywgZ2V0UGFnZUVsZSgpKTsKICAgICAgICAgICAgaWYgKGlzbG9hZGVkKSByZXR1cm47CiAgICAgICAgICAgIGlzbG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IGdldElmcmFtZSA9ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBjdXJJZnJhbWU7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCBnZXRGcmFtZURvYyA9ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBpZnJhbWVEb2M7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShpZnJhbWVEb2MsIFtdLCB1cmwsIGVsZSA9PiB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhjdXJJZnJhbWUpOwogICAgICAgICAgICAgICAgaW5BY3Rpb24gPSBmYWxzZTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIHJlc2l6ZVBvb2wucHVzaChbZ2V0UGFnZUVsZSwgZ2V0SWZyYW1lLCBnZXRGcmFtZURvY10pOwogICAgICAgIH07CiAgICAgICAgbGV0IGNoZWNrSWZyYW1lVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICghY3VySWZyYW1lLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJZnJhbWVUaW1lcik7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNsb2FkZWQgfHwgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgICBsZXQgY29kZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuaWZyYW1lSW5pdDsKICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICBsZXQgY2hlY2tSZWFkeSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lRG9jID0gY3VySWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCAoY3VySWZyYW1lLmNvbnRlbnRXaW5kb3cgJiYgY3VySWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaWZyYW1lRG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24oJ3dpbicsICdpZnJhbWUnLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKShjdXJJZnJhbWUuY29udGVudFdpbmRvdywgY3VySWZyYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgfQogICAgICAgIGN1cklmcmFtZS5uYW1lID0gJ3BhZ2V0dWFsLWlmcmFtZSc7CiAgICAgICAgY3VySWZyYW1lLnNhbmRib3ggPSAiYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy1wb3B1cHMgYWxsb3ctZm9ybXMiOwogICAgICAgIGN1cklmcmFtZS5mcmFtZUJvcmRlciA9ICcwJzsKICAgICAgICBjdXJJZnJhbWUuc2Nyb2xsaW5nID0gIm5vIjsKICAgICAgICBjdXJJZnJhbWUuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBibG9jazsgdmlzaWJpbGl0eTogdmlzaWJsZTsgZmxvYXQ6IG5vbmU7IGNsZWFyOiBib3RoOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAwOyBiYWNrZ3JvdW5kOiBpbml0aWFsOyBib3JkZXI6IDBweDsgYm9yZGVyLXJhZGl1czogMHB4OyBtYXJnaW46IDBweDsgcGFkZGluZzogMHB4OyB6LWluZGV4OiAyMTQ3NDgzNjQ3O2NvbnRlbnQtdmlzaWJpbGl0eTogYXV0bztjb250YWluLWludHJpbnNpYy1zaXplOiBhdXRvIDMwMHB4Oyc7CiAgICAgICAgY3VySWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBlID0+IHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0lmcmFtZVRpbWVyKTsKICAgICAgICAgICAgaWYgKGlzUGF1c2UpIHJldHVybiBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZnJhbWVEb2MgPSBjdXJJZnJhbWUuY29udGVudERvY3VtZW50IHx8IGN1cklmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIGNvcnMiKTsKICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBjc3MgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmNzcyB8fCBydWxlc0RhdGEuY3VzdG9tQ3NzOwogICAgICAgICAgICBpZiAoY3NzKSB7CiAgICAgICAgICAgICAgICBsZXQgY3NzQXJyID0gY3NzLnNwbGl0KCJpbklmcmFtZToiKTsKICAgICAgICAgICAgICAgIGlmIChjc3NBcnIgJiYgY3NzQXJyLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVFbGUgPSBpZnJhbWVEb2MuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICBzdHlsZUVsZS5pbm5lckhUTUwgPSBjc3NBcnJbMV07CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lRG9jLmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxvYWRlZEhhbmRsZXIoKTsKICAgICAgICAgICAgbGV0IGNvZGUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmluaXQ7CiAgICAgICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIG5ldyBBc3luY0Z1bmN0aW9uKCdkb2MnLCAnd2luJywgJ2lmcmFtZScsICdjbGljaycsICdlbnRlcicsICdpbnB1dCcsICcidXNlIHN0cmljdCI7JyArIGNvZGUpKGlmcmFtZURvYywgY3VySWZyYW1lLmNvbnRlbnRXaW5kb3csIGN1cklmcmFtZSwgc2VsID0+IHtjbGlja0FjdGlvbihzZWwsIGlmcmFtZURvYyl9LCBzZWwgPT4ge2VudGVyQWN0aW9uKHNlbCwgaWZyYW1lRG9jKX0sIChzZWwsIHYpID0+e2lucHV0QWN0aW9uKHNlbCwgdiwgaWZyYW1lRG9jKX0pOwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBsZXQgY2hlY2tUaW1lcyA9IDAsIGZpbmRQYWdlRWxlID0gZmFsc2U7CiAgICAgICAgbGV0IGZvcmNlUmVmcmVzaCA9IGUgPT4gewogICAgICAgICAgICBpZiAoaW5BY3Rpb24gfHwgIWlmcmFtZURvYykgcmV0dXJuOwogICAgICAgICAgICBpbkFjdGlvbiA9IHRydWU7CiAgICAgICAgICAgIGxldCBmb3VuZE5leHQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmb3JjZVJlZnJlc2gpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgaW5BY3Rpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5uZXh0TGlua0hyZWYgJiYgIWlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICBjaGVja1RpbWVzKys7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcnVsZVBhcnNlci5nZXROZXh0TGluayhpZnJhbWVEb2MpOwogICAgICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLm5leHRMaW5rSHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZE5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTG9hZGluZykgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVja1RpbWVzID49IDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kTmV4dCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tUaW1lcyA+PSAzICYmICFmaW5kUGFnZUVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGVtZW50KSBwYWdlRWxlbWVudCA9IHJ1bGVQYXJzZXIuZ2V0UGFnZUVsZW1lbnQoaWZyYW1lRG9jLCBjdXJJZnJhbWUuY29udGVudFdpbmRvdyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluQWN0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cklmcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFBhZ2VFbGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmb3VuZE5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9OwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIGZvcmNlUmVmcmVzaCk7CiAgICAgICAgY3VySWZyYW1lLnNyYyA9IHVybDsKICAgICAgICBsZXQgaW5zZXJ0ID0gcnVsZVBhcnNlci5nZXRJbnNlcnQoKTsKICAgICAgICBsZXQgY3VyU2Nyb2xsID0gZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT0gMikgewogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoY3VySWZyYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydEVsZW1lbnQoY3VySWZyYW1lKTsKICAgICAgICB9CiAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gY3VyU2Nyb2xsOwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBjdXJTY3JvbGw7CgogICAgICAgIGlmICghc2Nyb2xsVG9SZXNpemVJbml0ZWQpIHsKICAgICAgICAgICAgc2Nyb2xsVG9SZXNpemVJbml0ZWQgPSB0cnVlOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBzY3JvbGxUb1Jlc2l6ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjdXJJZnJhbWU7CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZFBhZ2VPdmVyKCkgewogICAgICAgIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0b3BTY3JvbGwgPSB0cnVlOwogICAgICAgIGxldCBkaXN0ID0gZGlzdFRvQm90dG9tKCk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7c3RvcFNjcm9sbCA9IGZhbHNlfSwgMzAwKTsKICAgICAgICBpZiAobG9hZGluZ0Rpdi5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgIGxvYWRpbmdEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkaW5nRGl2KTsKICAgICAgICB9CiAgICAgICAgbGV0IHJhdGUgPSAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5yYXRlIHx8IHJ1bGVzRGF0YS5yYXRlIHx8IDEpOwogICAgICAgIGlmIChyYXRlICE9IDEgJiYgIWNsaWNrTW9kZSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgYm90dG9tR2FwKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dFBhZ2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrQXV0b0xvYWROdW0oKSB7CiAgICAgICAgaWYgKGF1dG9Mb2FkTnVtID49IDApIHsKICAgICAgICAgICAgaWYgKGF1dG9Mb2FkTnVtICE9IDAgJiYgLS1hdXRvTG9hZE51bSA9PSAwKSB7CiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IC0xOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBuZXh0UGFnZSgpLCAxKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB2YXIgdHJ5VGltZXMgPSAwOwogICAgYXN5bmMgZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgICAgaWYgKHR5cGVvZiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLm1hbnVhbE1vZGUgPT0gJ3VuZGVmaW5lZCcgPyBydWxlc0RhdGEubWFudWFsTW9kZSA6IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubWFudWFsTW9kZSkgcmV0dXJuOwogICAgICAgIGlmIChjbGlja01vZGUpIHJldHVybjsKICAgICAgICBpZiAoaXNQYXVzZSB8fCBpc0xvYWRpbmcgfHwgZm9yY2VTdGF0ZSA9PSAxKSByZXR1cm47CiAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuZGVsYXkpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGxldCBjaGVja0RlbGF5ID0gKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5wYWdldHVhbERlbGF5PT0ndW5kZWZpbmVkJykgPyBGdW5jdGlvbignInVzZSBzdHJpY3QiOycgKyBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmRlbGF5KSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxEZWxheSkoKTsKICAgICAgICAgICAgICAgIGlmICghY2hlY2tEZWxheSkgcmV0dXJuOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCBuZXh0TGluayA9IHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmOwogICAgICAgIGlmICghbmV4dExpbmspIHsKICAgICAgICAgICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGN1clBhZ2UgPT0gMSkgewogICAgICAgICAgICAgICAgYXdhaXQgcnVsZVBhcnNlci5nZXROZXh0TGluayhkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBuZXh0TGluayA9IHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dExpbmspIHsKICAgICAgICAgICAgICAgIGlmIChjdXJQYWdlID09IDEgJiYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGluVXJsIHx8IHRyeVRpbWVzKysgPD0gMykpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtpc0xvYWRpbmcgPSBmYWxzZX0sIDUwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGxldCBwdkdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzcGFuLnB2LWdhbGxlcnktY29udGFpbmVyIik7CiAgICAgICAgaWYgKHB2R2FsbGVyeSAmJiBwdkdhbGxlcnkuc3R5bGUuZGlzcGxheSAhPSAibm9uZSIpIHJldHVybjsKICAgICAgICBsZXQgaW5zZXJ0ID0gcnVsZVBhcnNlci5nZXRJbnNlcnQoKTsKICAgICAgICBpZiAoaW5zZXJ0KSB7CiAgICAgICAgICAgIGlmIChjdXJQYWdlID09IDEpIGluaXRWaWV3KCk7CiAgICAgICAgICAgIHNpZGVDb250cm9sbGVyLnNldHVwKCk7CiAgICAgICAgICAgIC8qaWYgKGN1clBhZ2UgPT0gMSkgewogICAgICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IGdlbmVTZWxlY3RvcihydWxlUGFyc2VyLmN1clNpdGVSdWxlLmluc2VydFBvcyA9PSAyID8gaW5zZXJ0IDogaW5zZXJ0LnBhcmVudE5vZGUsIHRydWUpLAogICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdwYWdldHVhbC5pbnNlcnQnCiAgICAgICAgICAgICAgICB9LCAnKicpOwogICAgICAgICAgICB9Ki8KICAgICAgICAgICAgbGV0IGlzSnMgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAzIHx8IC9eKGphdmFzY3JpcHR8IykvLnRlc3QobmV4dExpbmsucmVwbGFjZSgiI3B7IiwgIiIpLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKTsKICAgICAgICAgICAgaWYgKCFpc0pzKSB7CiAgICAgICAgICAgICAgICBlbXVJZnJhbWUgPSBudWxsOwogICAgICAgICAgICAgICAgbGFzdEFjdGl2ZVVybCA9IG5leHRMaW5rOwogICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09ICJodHRwczoiICYmIC9eaHR0cDovLnRlc3QobmV4dExpbmspKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dExpbmsgPSBuZXh0TGluay5yZXBsYWNlKC9eaHR0cC8sICJodHRwcyIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGlmIChjdXJQYWdlICE9IDEgfHwgIWlzSnMgfHwgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmJlZ2luTG9hZGluZyhsb2FkaW5nRGl2KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgc2xlZXAgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNsZWVwIHx8IDA7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnRCeUpzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG92ZXIgPSBlbGVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybENoYW5nZWQgfHwgaXNQYXVzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShkb2N1bWVudCwgZWxlcywgbmV4dExpbmssICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIG5vIHBhZ2Ugd2hlbiBnZXQgYnkganMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlRWxlbWVudEJ5SnMgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oIm92ZXIiLCAicGFnZU51bSIsJyJ1c2Ugc3RyaWN0IjsnICsgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudEJ5SnMpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VFbGVtZW50QnlKcykob3ZlciwgY3VyUGFnZSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGZvcmNlU3RhdGUgPT0gMiB8fCBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAyKSAmJiAhaXNKcykgewogICAgICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lKG5leHRMaW5rLCAoaWZyYW1lKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkIHx8IGlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlQmFyID0gY3JlYXRlUGFnZUJhcihuZXh0TGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlQmFyICYmIGlmcmFtZSAmJiBpZnJhbWUucGFyZW50Tm9kZSkgaWZyYW1lLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBhZ2VCYXIsIGlmcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChmb3JjZVN0YXRlID09IDMgfHwgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMSkgJiYgIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RnJvbUlmcmFtZShuZXh0TGluaywgKGRvYywgZWxlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsQ2hhbmdlZCB8fCBpc1BhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5pbnNlcnRQYWdlKGRvYywgZWxlcywgbmV4dExpbmssICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERvYyhuZXh0TGluaywgKGVsZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkIHx8IGlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBhZ2VCYXIobmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXV0b0xvYWROdW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11UGFnZSgoZG9jLCBlbGVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsQ2hhbmdlZCB8fCBpc1BhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydFBhZ2UoZG9jLCBlbGVzLCAiIiwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBdXRvTG9hZE51bSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHNsZWVwKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnbG9hZGluZycgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAndW5pbml0aWFsaXplZCcpIHsKICAgICAgICAgICAgbGV0IGRvbVJlYWR5ID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpbml0UnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGluaXRQYWdlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBkb21SZWFkeSwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBkb21SZWFkeSwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluaXRSdWxlcygoKSA9PiB7CiAgICAgICAgICAgICAgICBpbml0UGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdmlzaWJpbGl0eWNoYW5nZUhhbmRsZXIoKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHljaGFuZ2VIYW5kbGVyKTsKICAgICAgICBpbml0KCk7CiAgICB9CgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikgewogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eWNoYW5nZUhhbmRsZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluaXQoKTsKICAgICAgICB9CiAgICB9LCAzMDApOwp9KSgpOwo="},{"name":"Twitch Drop Auto-Claim","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/inventory","https://www.twitch.tv/drops/inventory"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1691319461456,"data":{}},"enabled":false,"position":5,"file_url":"https://greasyfork.org/scripts/467231-twitch-drop-auto-claim/code/Twitch%20Drop%20Auto-Claim.user.js","uuid":"ce4e5f2b-7986-4efb-ab71-8db343271181","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0Y2ggRHJvcCBBdXRvLUNsYWltCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy8xMDc3MjU5LXN5bnRoZXRpYwovLyBAdmVyc2lvbiAgICAgIDAuNwovLyBAZGVzY3JpcHRpb24gIEF1dG8tQ2xhaW1zIGRyb3BzLCB3aGlsZSBhdHRlbXB0aW5nIHRvIGV2YWRlIGJvdCBkZXRlY3Rpb24gYW5kIGNsYWltIHF1aWNrbHkuCi8vIEBhdXRob3IgICAgICAgQFN5bnRoZXRpYwovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnR3aXRjaC50di9pbnZlbnRvcnkKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy50d2l0Y2gudHYvZHJvcHMvaW52ZW50b3J5Ci8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49dHdpdGNoLnR2Ci8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBUaGUgY3VycmVudCB2ZXJzaW9uCiAgICBjb25zdCBWRVJTSU9OID0gMC43OwoKICAgIC8vIFBhZ2UgZWxlbWVudCBzZWxlY3RvcnMKICAgIGNvbnN0IFBST0dSRVNTX0JBUiA9ICdkaXZbZGF0YS1hLXRhcmdldD0idHctcHJvZ3Jlc3MtYmFyLWFuaW1hdGlvbiJdJzsKICAgIGNvbnN0IENMQUlNX0RST1AgPSAnYnV0dG9uLlNjQ29yZUJ1dHRvbi1zYy1vY2pka3EtMC5TY0NvcmVCdXR0b25QcmltYXJ5LXNjLW9jamRrcS0xLmROR29IdC5oZEF4WmknOwoKICAgIC8vIEhhbmR5IGNvbnN0YW50cwogICAgY29uc3QgTk9XID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKCiAgICAvKioKICAgICAqIFRoZSByYXRlIHRvIHVzZSBpZiBub25lIGNhbiBiZSBjYWxjdWxhdGVkLCBpbiBzZWNvbmRzLgogICAgICoKICAgICAqIFRoZSByYXRlIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBuZXh0IHJlZnJlc2gsCiAgICAgKiBhbmQgaXMgZGVmaW5lZCBhcyB0aGUgdGltZSB0YWtlbiB0byBwcm9ncmVzcyAxJS4KICAgICAqLwogICAgY29uc3QgVEhJUlRZX1JBVEUgPSAxODsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogVGhlIG1heGltdW0gdGltZSBiZWZvcmUgdGhlIG5leHQgcmVmcmVzaCwgaW4gc2Vjb25kcy4KICAgICAqCiAgICAgKiBXZSBkb24ndCB3YW50IHRvIGNhbGN1bGF0ZSB0b28gZWFybHksIGFzIHRoZSBsb25nZXIgdGhlIHRpbWVmcmFtZQogICAgICogd2UgaGF2ZSB0aGUgbW9yZSBhY2N1cmF0ZSB0aGUgcmF0ZSBjYWxjdWxhdGlvbiB3aWxsIGJlLgogICAgICogV2UgYWxzbyBkb24ndCB3YW50IHRvIHRyaWdnZXIgdGhlIGJvdCBieSByZWZyZXNoaW5nIHRvbyBtdWNoLgogICAgICovCiAgICBjb25zdCBNQVhfUkVGUkVTSCA9IDE4MDA7IC8vIHNlY29uZHMKCiAgICAvKioKICAgICAqIFRoZSBtYXhpbXVtIGFnZSBvZiBhIHByZXZpb3VzIHJlYWQsIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYgd2UgZmluZCBhIHByZXZpb3VzIHJlYWQgYnV0IGl0J3MgdG9vIG9sZCB3ZSBqdXN0IGlnbm9yZSBpdCwKICAgICAqIGFzIGl0IGlzIHVubGlrZWx5IHRvIGJlIHJlbGV2YW50IHRvIHRoaXMgZHJvcC4KICAgICAqLwogICAgY29uc3QgVEhSRVNIT0xEID0gMTUwMDA7IC8vIHNlY29uZHMKCiAgICAvKioKICAgICAqIEEgYnVmZmVyIHRvIGFkZCB0byB0aGUgZmluYWwgcmVmcmVzaCB0byBlbnN1cmUgd2UgaGF2ZSBoaXQgMTAwJSwgaW4gc2Vjb25kcy4KICAgICAqCiAgICAgKiBBcyB3ZSB0cnkgdG8gYWNjdXJhdGVseSBjYWxjdWxhdGUgdGhlIHRpbWUgcmVxdWlyZWQgdG8gcmVhY2ggMTAwJSB3ZSBtYXkgZmFsbCBqdXN0IHNob3J0LgogICAgICogVGhpcyBidWZmZXIgaXMgdXNlZCB0byB0cnkgdG8gZW5zdXJlIHdlIGFyZSBqdXN0IG92ZXIgcmF0aGVyIHRoYW4ganVzdCB1bmRlci4KICAgICAqLwogICAgY29uc3QgVElNRV9CVUZGRVIgPSAxMDsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogQSBidWZmZXIgdG8gYWRkIHdoZW4gY2hlY2tpbmcgZXhwZWN0ZWQgcmVmcmVzaCB0aW1lcy4KICAgICAqCiAgICAgKiBFdmVuIHRob3VnaCB3ZSBzZXQgYSByZWZyZXNoIG9mIGEgc3BlY2lmaWMgaW50ZXJ2YWwgdGhlIGRpZmZlcmVuY2UKICAgICAqIGJldHdlZW4gbG9hZCB0aW1lcyB3aWxsIG5vdCBleGFjdGx5IG1hdGNoIHRoYXQgZmlndXJlLCBzbyB3ZSB1c2UgdGhpcyBidWZmZXIKICAgICAqIHdoZW4gY2hlY2tpbmcgd2hldGhlciB0aGUgbG9hZCB0aW1lIGlzIGV4cGVjdGVkLgogICAgICovCiAgICAgY29uc3QgUkVGUkVTSF9CVUZGRVIgPSAzMDsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogRHVtcHMgYW4gb2JqZWN0IHRvIHRoZSBjb25zb2xlLgogICAgICogCiAgICAgKiBAcGFyYW0gIG9iamVjdCBvIFRoZSBvYmplY3QgdG8gZHVtcC4KICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBjb25zdCBkdW1wID0gKG8pID0+IHsKICAgICAgICBmb3IgKHZhciBwIGluIG8pIHsKICAgICAgICAgICAgaWYgKChvW3BdICE9IG51bGwpICYmICh0eXBlb2Ygb1twXSA9PSAnb2JqZWN0JykpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAocCk7CiAgICAgICAgICAgICAgICAgICAgZHVtcChvW3BdKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHAsIG9bcF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYmFzZSBzdG9yYWdlIG9iamVjdC4KICAgICAqIAogICAgICogQHJldHVybiBvYmplY3QKICAgICAqLwogICAgY29uc3QgZ2V0RGVmYXVsdHMgPSAoKSA9PiB7CiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoCiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJhc2U6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogbnVsbCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxhc3Q6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyBzdG9yZWQgZGF0YQogICAgICoKICAgICAqIEByZXR1cm4gb2JqZWN0fGJvb2xlYW4KICAgICAqLwogICAgY29uc3QgZ2V0UHJldmlvdXMgPSAoKSA9PiB7CiAgICAgICAgdmFyIHByZXZpb3VzID0gR01fZ2V0VmFsdWUoJ3ByZXZpb3VzJyk7CiAgICAgICAgaWYgKHR5cGVvZiBwcmV2aW91cyA9PSAndW5kZWZpbmVkJyB8fCBwcmV2aW91cyA9PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHByZXZpb3VzID0gSlNPTi5wYXJzZShwcmV2aW91cyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgcHJldmlvdXMudmVyc2lvbiA9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBwcmV2aW91cy52ZXJzaW9uID0gdHlwZW9mIHByZXZpb3VzLnN0YXJ0ID09ICd1bmRlZmluZWQnID8gMC4xIDogMC4yOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmlvdXMudmVyc2lvbiA9PSAwLjEpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmlvdXMudmVyc2lvbiA8IDAuNCkgewogICAgICAgICAgICBwcmV2aW91cyA9IHsKICAgICAgICAgICAgICAgIGJhc2U6IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiBwcmV2aW91cy5iYXNlLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiBwcmV2aW91cy5zdGFydCwKICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAuNSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYXN0OiB7CiAgICAgICAgICAgICAgICAgICAgdGltZTogcHJldmlvdXMudGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiBwcmV2aW91cy5wcm9ncmVzcywKICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogbnVsbCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBwcmV2aW91czsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb252ZXJ0cyBhIGNhbGN1bGF0ZWQgcHJvZ3Jlc3MgcmF0ZSBpbnRvIGEgZml4ZWQgdmFsdWUgKDMwbSwgNDVtLCAxaHIsIDJyLCAzaHIsIDRocikuCiAgICAgKgogICAgICogQHBhcmFtICBpbnRlZ2VyIHJhdGUgVGhlIGNhbGN1bGF0ZWQgcmF0ZS4KICAgICAqIEByZXR1cm4gaW50ZWdlciAgICAgIFRoZSBmaXhlZCByYXRlLgogICAgICovCiAgICBjb25zdCBmaXhlZFJhdGUgPSAocmF0ZSkgPT4gewogICAgICAgIHZhciBkaWZmID0gMTAwMDA7CiAgICAgICAgdmFyIGZpeGVkID0gVEhJUlRZX1JBVEU7CiAgICAgICAgWzE4LCAyNywgMzYsIDcyLCAxMDgsIDE0NF0uZm9yRWFjaCgocikgPT4gewogICAgICAgICAgICBpZiAoTWF0aC5hYnMocmF0ZSAtIHIpIDwgZGlmZikgewogICAgICAgICAgICAgICAgZGlmZiA9IE1hdGguYWJzKHJhdGUgLSByKTsKICAgICAgICAgICAgICAgIGZpeGVkID0gcjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmaXhlZDsKICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSB0aW1lciB0byByZWZyZXNoIHRoZSBwYWdlLgogICAgICoKICAgICAqIEBwYXJhbSAgaW50ZWdlciByZWZyZXNoIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZWZyZXNoaW5nLgogICAgICogQHJldHVybiB2b2lkCiAgICAgKi8KICAgIGNvbnN0IHNldFRpbWVyID0gKHJlZnJlc2gpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyByZWZyZXNoIG9mJywgcmVmcmVzaCwgJ3NlY29uZHMnKTsKICAgICAgICBjb25zb2xlLmxvZygnTmV4dCBsb2FkJywgbmV3IERhdGUoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIHJlZnJlc2ggKiAxMDAwKSk7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVmcmVzaCAqIDEwMDAKICAgICAgICApOwogICAgfTsKCiAgICAvKioKICAgICAqIENsaWNrcyB0aGUgQ2xhaW0gYnV0dG9uLgogICAgICoKICAgICAqIEByZXR1cm4gYm9vbGVhbgogICAgICovCiAgICBjb25zdCBjbGFpbURyb3AgPSAoKSA9PiB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ0xBSU1fRFJPUCkpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihDTEFJTV9EUk9QKS5jbGljaygpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKCiAgICAvKioKICAgICAqIFJ1bnMgd2hlbiB0aGUgZG9tIHVwZGF0ZXMsIHVzZWQgdG8gZ2FpbiBhY2Nlc3MgdG8gdGhlIHByb2dyZXNzIGJhcnMsIHdoZW4gdGhleSBmaW5hbGx5IGxvYWQuCiAgICAgKiBDb250YWlucyBhbGwgdGhlIGxvZ2ljIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBwYWdlIHJlZnJlc2guCiAgICAgKgogICAgICogQHBhcmFtICBhcnJheSBtdXRhdGlvbnNMaXN0IFRoZSBsaXN0IG9mIG11dGF0aW9ucy4KICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBjb25zdCBvbk11dGF0ZSA9IChtdXRhdGlvbnNMaXN0KSA9PiB7CiAgICAgICAgaWYgKHJlZnJlc2ggIT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChQUk9HUkVTU19CQVIpOwogICAgICAgIGlmICghbm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgIHZhciBwcm9ncmVzcyA9IDA7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwcm9ncmVzcyA9IE1hdGgubWF4KHByb2dyZXNzLCBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnUHJvZ3Jlc3MnLCBwcm9ncmVzcyk7CiAgICAgICAgdmFyIHJhdGU7CiAgICAgICAgaWYgKHByb2dyZXNzID09IDEwMCkgewogICAgICAgICAgICByYXRlID0gVEhJUlRZX1JBVEU7CiAgICAgICAgICAgIGlmIChjbGFpbURyb3AoKSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgY2xhaW1lZCEnKTsKICAgICAgICAgICAgICAgIHJlZnJlc2ggPSByYXRlICogMTAwOwogICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAwOwogICAgICAgICAgICAgICAgcHJldmlvdXMgPSBnZXREZWZhdWx0cygpOwogICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZSA9IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWZyZXNoID0gcmF0ZTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChwcmV2aW91cykgewogICAgICAgICAgICAgICAgY29uc3QgaW5jcmVhc2UgPSB7CiAgICAgICAgICAgICAgICAgICAgYmFzZTogcHJvZ3Jlc3MgLSBwcmV2aW91cy5iYXNlLnByb2dyZXNzLAogICAgICAgICAgICAgICAgICAgIGxhc3Q6IHByb2dyZXNzIC0gcHJldmlvdXMubGFzdC5wcm9ncmVzcywKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpbmNyZWFzZS5sYXN0IDwgMSkgewogICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGluY3JlYXNlIHNpbmNlIGxhc3QgbG9hZCwgcmVzZXR0aW5nIGRhdGEnKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByYXRlID0gZml4ZWRSYXRlKE1hdGguY2VpbChpbnRlcnZhbC5iYXNlIC8gaW5jcmVhc2UuYmFzZSkpOwogICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cy5sYXN0LmV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWR1Y2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeHBlY3RlZCBpbmNyZWFzZSBvZicsIHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWN0dWFsIGluY3JlYXNlIGlzJywgaW5jcmVhc2UubGFzdCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQgPT0gaW5jcmVhc2UubGFzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IE1hdGguZmxvb3IocHJldmlvdXMubGFzdC5yYXRlICogcHJldmlvdXMuYmFzZS5vZmZzZXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGludGVydmFsLmxhc3QgLSBwcmV2aW91cy5sYXN0LnJlZnJlc2gpID4gUkVGUkVTSF9CVUZGRVIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgYSBmdWxsIHJlZmVzaCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBNYXRoLmZsb29yKGludGVydmFsLmxhc3QgLyByYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXcgZXhwZWN0ZWQgaW5jcmVhc2Ugb2YnLCBleHBlY3RlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jcmVhc2UubGFzdCA+IGV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGludGVydmFsLmxhc3QgLSBleHBlY3RlZCAqIHJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZHVjZSA9IGluY3JlYXNlLmxhc3QgPCBleHBlY3RlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWR1Y2VkIGJhc2UgdGltZSBieScsIGRpZmYsICdzZWNvbmRzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5iYXNlLnRpbWUgLT0gZGlmZiAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZHVjZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZS5vZmZzZXQgLz0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cy5iYXNlLm9mZnNldCA8IDAuMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5iYXNlLm9mZnNldCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFwcmV2aW91cykgewogICAgICAgICAgICAgICAgcmF0ZSA9IFRISVJUWV9SQVRFOwogICAgICAgICAgICAgICAgcHJldmlvdXMgPSBnZXREZWZhdWx0cygpOwogICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZSA9IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiBOT1csCiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMC41LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZygnUmF0ZScsIHJhdGUpOwogICAgICAgICAgICByZWZyZXNoID0gKDEwMCAtIHByb2dyZXNzKSAqIHJhdGU7CiAgICAgICAgICAgIHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQgPSBudWxsOwogICAgICAgICAgICBpZiAocHJldmlvdXMubGFzdC5wcm9ncmVzcyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKHJlZnJlc2ggPCBNQVhfUkVGUkVTSCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwID0gTWF0aC5taW4oMTAwLCBwcmV2aW91cy5iYXNlLnByb2dyZXNzICsgKGludGVydmFsLmJhc2UgLyByYXRlKSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjY3VyYXRlIHByb2dyZXNzJywgcC50b0ZpeGVkKDMpKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoID0gTWF0aC5tYXgocmF0ZSwgTWF0aC5jZWlsKCgxMDAgLSBwKSAqIHJhdGUpICsgVElNRV9CVUZGRVIpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cy5iYXNlLm9mZnNldCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5sYXN0LmV4cGVjdGVkID0gTWF0aC5mbG9vcihNQVhfUkVGUkVTSCAvIHJhdGUpOwogICAgICAgICAgICAgICAgICAgIHJlZnJlc2ggPSAocHJldmlvdXMubGFzdC5leHBlY3RlZCAqIHJhdGUpIC0gTWF0aC5mbG9vcihyYXRlICogcHJldmlvdXMuYmFzZS5vZmZzZXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlZnJlc2ggPSBNYXRoLm1pbihyZWZyZXNoLCBNQVhfUkVGUkVTSCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoJywgcmVmcmVzaCk7CiAgICAgICAgfQoKICAgICAgICBwcmV2aW91cy5sYXN0LnRpbWUgPSBOT1c7CiAgICAgICAgcHJldmlvdXMubGFzdC5wcm9ncmVzcyA9IHByb2dyZXNzOwogICAgICAgIHByZXZpb3VzLmxhc3QucmF0ZSA9IHJhdGU7CiAgICAgICAgcHJldmlvdXMubGFzdC5yZWZyZXNoID0gcmVmcmVzaDsKICAgICAgICBHTV9zZXRWYWx1ZSgncHJldmlvdXMnLCBKU09OLnN0cmluZ2lmeShwcmV2aW91cykpOwogICAgICAgIHNldFRpbWVyKHJlZnJlc2gpOwogICAgfTsKCiAgICBjb25zb2xlLmxvZygnTG9hZGVkIGF0JywgbmV3IERhdGUoKSk7CiAgICB2YXIgdGltZW91dDsKICAgIHZhciByZWZyZXNoID0gbnVsbDsKICAgIHZhciBpbnRlcnZhbDsKICAgIHZhciBwcmV2aW91cyA9IGdldFByZXZpb3VzKCk7CgogICAgaWYgKHByZXZpb3VzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Jhc2VsaW5lJywgbmV3IERhdGUocHJldmlvdXMuYmFzZS50aW1lKSk7CiAgICAgICAgY29uc29sZS5sb2coJ0xhc3Qgc2VlbicsIG5ldyBEYXRlKHByZXZpb3VzLmxhc3QudGltZSkpOwogICAgICAgIGludGVydmFsID0gewogICAgICAgICAgICBiYXNlOiBNYXRoLnJvdW5kKChOT1cgLSBwcmV2aW91cy5iYXNlLnRpbWUpIC8gMTAwMCksCiAgICAgICAgICAgIGxhc3Q6IE1hdGgucm91bmQoKE5PVyAtIHByZXZpb3VzLmxhc3QudGltZSkgLyAxMDAwKQogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJ2YWwnLCBpbnRlcnZhbC5iYXNlKTsKICAgICAgICBpZiAoKGludGVydmFsLmJhc2UgPiBUSFJFU0hPTEQpIHx8IChpbnRlcnZhbC5sYXN0ID4gTUFYX1JFRlJFU0ggKyBSRUZSRVNIX0JVRkZFUikpIHsKICAgICAgICAgICAgcHJldmlvdXMgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVydmFsIGlzIHRvbyBsYXJnZScpOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoIXByZXZpb3VzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ05vIHJlbGV2YW50IHJlYWQnKTsKICAgIH0KCiAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGEgcHJvZ3Jlc3MgYmFyIGFmdGVyIDEwcyB0aGlzIHdpbGwgc2V0IGEgcmVmZXNoCiAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoCiAgICAgICAgKCkgPT4gewogICAgICAgICAgICBHTV9zZXRWYWx1ZSgncHJldmlvdXMnLCBmYWxzZSk7CiAgICAgICAgICAgIHNldFRpbWVyKDEwMCAqIFRISVJUWV9SQVRFKTsKICAgICAgICB9LAogICAgICAgIDEwMDAwCiAgICApOwoKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG9uTXV0YXRlKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cgp9KSgpOwo="},{"name":"Twitch Hide Viewer Bots","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1691319461458,"data":{}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/467920-twitch-hide-viewer-bots/code/Twitch%20Hide%20Viewer%20Bots.user.js","uuid":"b1e7654d-ae30-4241-b73f-3041c20e4444","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgVHdpdGNoIEhpZGUgVmlld2VyIEJvdHMKLy8gQGRlc2NyaXB0aW9uIEhpZGUgYm90cyBmcm9tIHZpZXdlcnMgbGlzdCBpbiBUd2l0Y2ggKGJvdCBkYXRhIGZyb20gdHdpdGNoaW5zaWdodHMubmV0KQovLyBAbGljZW5zZSBNSVQKLy8gQGF1dGhvciDEsHNtYWlsIEthcnNsxLEgPGNzem5AcG0ubWU+IChodHRwczovL2lzbWFpbC5rYXJzbGkubmV0KQovLyBAbmFtZXNwYWNlIGh0dHBzOi8vZ2l0aHViLmNvbS9pc21haWxrYXJzbGkKLy8gQGhvbWVwYWdlVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9pc21haWxrYXJzbGkvdXNlcnNjcmlwdHMKLy8gQHN1cHBvcnRVUkwgaHR0cHM6Ly9naXRodWIuY29tL2lzbWFpbGthcnNsaS91c2Vyc2NyaXB0cy9pc3N1ZXMKLy8gQHZlcnNpb24gMS4wLjAKLy8gQG1hdGNoIGh0dHBzOi8vd3d3LnR3aXRjaC50di8qCi8vIEBncmFudCBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKY29uc3QgYm90cyA9IG5ldyBTZXQoKTsKY29uc3QgTXV0YXRpb25PYnNlcnZlciA9Cgl3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjsKY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZSkgPT4gewoJbGV0IGNoYXR0ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmNoYXR0ZXItbGlzdC1pdGVtIik7CgljaGF0dGVycy5mb3JFYWNoKChjaGF0dGVyKSA9PiB7CgkJY29uc3QgdXNlcm5hbWUgPSBjaGF0dGVyLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbi50dy1saW5rIik/LmlubmVyVGV4dDsKCQljb25zdCBpc0JvdCA9IGJvdHMuaGFzKHVzZXJuYW1lKTsKCQlpZiAoaXNCb3QpIHsKCQkJY2hhdHRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwoJCX0KCX0pOwp9KTsKCmZldGNoKCJodHRwczovL2FwaS50d2l0Y2hpbnNpZ2h0cy5uZXQvdjEvYm90cy9vbmxpbmUiKQoJLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkKCS50aGVuKChkYXRhKSA9PiB7CgkJZGF0YT8uYm90cz8uZm9yRWFjaCgoYm90KSA9PiBib3Q/LlswXSAmJiBib3RzLmFkZChib3RbMF0pKTsKCQlpZiAoYm90cy5zaXplKSB7CgkJCW9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewoJCQkJY2hpbGRMaXN0OiB0cnVlLAoJCQkJc3VidHJlZTogdHJ1ZSwKCQkJfSk7CgkJfQoJfSkKCS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUud2FybigiVHdpdGNoIEhpZGUgVmlld2VyIEJvdHMiLCAiQm90IGxpc3QgY291bGRuJ3QgZmV0Y2hlZCIsIGVycm9yKSk7Cg=="},{"name":"Twitch React Auto Claimer","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1691319461458,"data":{}},"enabled":false,"position":7,"file_url":"https://greasyfork.org/scripts/470838-twitch-react-auto-claimer/code/Twitch%20React%20Auto%20Claimer.user.js","uuid":"82d081cc-6c32-4314-a0f9-c44d45a89c4c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgVHdpdGNoIFJlYWN0IEF1dG8gQ2xhaW1lcgovLyBAdmVyc2lvbiAyLjIuNgovLyBAYXV0aG9yIFlha29Ib2Jpc2EKLy8gQGF1dGhvciBEZW4zZXIKLy8gQGF1dGhvciBhbGV4X2xvdmEKLy8gQGRlc2NyaXB0aW9uIEF1dG8gY2xhaW0gdHdpdGNoIGNoYW5uZWwgcmVhY3Rpb25zLgovLyBAbWF0Y2ggaHR0cHM6Ly93d3cudHdpdGNoLnR2LyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy8xMDg1MjM5LXlha29ob2Jpc2EKLy8gQGxpY2Vuc2UgYWxleF9sb3ZhCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gaGlkZSB0aGUgbW9kYWwgYm94IHdpdGggYSByZWFjdGlvbiBjb250ZW50CmNvbnN0IHN0eWxlcyA9IGAKICAuUmVhY3RNb2RhbFBvcnRhbDpoYXMoLmZlZWRiYWNrLWZsb3ctbW9kYWwpIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQpgOwoKY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CnN0eWxlU2hlZXQuaW5uZXJUZXh0ID0gc3R5bGVzOwpkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpOwoKc2V0SW50ZXJ2YWwoKCkgPT4gewogIGNvbnN0ICRyZWFjdEJ1dHRvbiA9IEFycmF5LmZyb20oCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hLXRhcmdldD0idHctY29yZS1idXR0b24tbGFiZWwtdGV4dCJdJykKICApLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQudGV4dENvbnRlbnQgPT09ICJSZWFjdCIpOwoKICBpZiAoISRyZWFjdEJ1dHRvbikgewogICAgcmV0dXJuOwogIH0KCiAgJHJlYWN0QnV0dG9uLmNsaWNrKCk7CgogIHNldFRpbWVvdXQoKCkgPT4gewogICAgJHJlYWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICIuU2NDaGVja0JveElucHV0QmFzZS1zYy12dTd1N2QtMS5nQkRESWEudHctcmFkaW9fX2lucHV0IgogICAgKTsKICAgICRyYW5kb21SZWFjdCA9ICRyZWFjdHNbZ2V0UmFuZG9tSW50KDUpXTsKICAgICRyYW5kb21SZWFjdC5jbGljaygpOwoKICAgIGNvbnN0ICRzdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAogICAgICAiLlJlYWN0TW9kYWxQb3J0YWwgLkxheW91dC1zYy0xeGNzNm1jLTAucGhNTXAiCiAgICApOwogICAgJHN1Ym1pdC5jbGljaygpOwoKICAgIGNvbnN0ICRjbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAgICIuUmVhY3RNb2RhbFBvcnRhbCAuU2NDb3JlQnV0dG9uLXNjLW9jamRrcS0wLmlidFl5Vy5TY0J1dHRvbkljb24tc2MtOXlhcDByLTAuaXF4eG9wIgogICAgKTsKICAgICRjbG9zZS5jbGljaygpOwogIH0sIDEwMDApOwp9LCAxMCAqIDEwMDApOwoKY29uc3QgZ2V0UmFuZG9tSW50ID0gKG1heCkgPT4gewogIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpOwp9"},{"name":"Twitch - Skip content warnings","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1691319461458,"data":{}},"enabled":true,"position":8,"file_url":"https://greasyfork.org/scripts/469384-twitch-skip-content-warnings/code/Twitch%20-%20Skip%20content%20warnings.user.js","uuid":"3f74a697-9cdf-42b7-9358-644fcbe1e3e8","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0Y2ggLSBTa2lwIGNvbnRlbnQgd2FybmluZ3MKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL3R3aXRjaC10b29scy5yb290b25saW5lLmRlLwovLyBAdmVyc2lvbiAgICAgIDEuMgovLyBAZGVzY3JpcHRpb24gIEF1dG9tYXRpY2FsbHkgc2tpcCBjb250ZW50IHdhcm5pbmdzIGJlZm9yZSBwbGF5aW5nIGEgc3RyZWFtIG9uIFR3aXRjaAovLyBAYXV0aG9yICAgICAgIEBDb21tYW5kZXJSb290Ci8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cudHdpdGNoLnR2LyoKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gSGlkZSBvdmVybGF5IHdhcm5pbmcgaW4gdGhlIHRvcCBsZWZ0IHdoZW4geW91IGhvdmVyIG92ZXIgdGhlIHN0cmVhbQpHTV9hZGRTdHlsZSgnLmRpc2Nsb3N1cmUtY2FyZHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fScpOwoKZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHsKCWNvbnN0IHZhbHVlID0gJzsgJyArIGRvY3VtZW50LmNvb2tpZTsKCWNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoJzsgJyArIG5hbWUgKyAnPScpOwoJaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKTsKfQoKZnVuY3Rpb24gZ2V0Y3VycmVudFVzZXJJRCgpIHsKCWNvbnN0IHVzZXJDb29raWUgPSBnZXRDb29raWUoJ3R3aWxpZ2h0LXVzZXInKTsKCWNvbnNvbGUubG9nKHVzZXJDb29raWUpOwoJaWYgKHR5cGVvZiB1c2VyQ29va2llICE9PSAndW5kZWZpbmVkJykgewoJCWxldCB1c2VyID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodXNlckNvb2tpZSkpOwoJCWlmICh0eXBlb2YgdXNlciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHVzZXJbJ2lkJ10gIT09ICd1bmRlZmluZWQnKSB7CgkJCXJldHVybiB1c2VyWydpZCddLnRvU3RyaW5nKCk7CgkJfQoJfQp9CgooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCWNvbnN0IGxvY2FsU3RvcmFnZUtleSA9ICdjb250ZW50LWNsYXNzaWZpY2F0aW9uLWxhYmVscy1hY2tub3dsZWRnZWQnOwoJY29uc3QgYWNrbm93bGVkZ2VkRHVyYXRpb24gPSBEYXRlLm5vdygpICsgKDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyBOb3cgKyAzNjUgZGF5cwoJY29uc3QgYWNrbm93bGVkZ2VkTWF4QWdlID0gRGF0ZS5ub3coKSArICgxICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vIE5vdyArIDEgZGF5CgoJdHJ5IHsKCQkvLyBHZXQgY3VycmVudCBzZXR0aW5nCgkJbGV0IGN1cnJlbnRTZXR0aW5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSk7CgkJaWYgKGN1cnJlbnRTZXR0aW5nICE9PSBudWxsKSB7CgkJCWN1cnJlbnRTZXR0aW5nID0gSlNPTi5wYXJzZShjdXJyZW50U2V0dGluZyk7CgkJfSBlbHNlIHsKCQkJY3VycmVudFNldHRpbmcgPSB7fTsKCQl9CgoJCWNvbnN0IGN1cnJlbnRVc2VySUQgPSBnZXRjdXJyZW50VXNlcklEKCk7CgoJCWxldCB0YXJnZXRTZXR0aW5nID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyZW50U2V0dGluZykpOwoJCWlmICh0eXBlb2YgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXSA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXSA9IHt9OwoJCX0KCQlpZiAodHlwZW9mIHRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddID09PSAndW5kZWZpbmVkJykgewoJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXSA9IHsKCQkJCSdEcnVnc0ludG94aWNhdGlvbic6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJJ0dhbWJsaW5nJzogYWNrbm93bGVkZ2VkRHVyYXRpb24sCgkJCQknTWF0dXJlR2FtZSc6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJLy8gIlNpZ25pZmljYW50IFByb2Zhbml0eSBvciBWdWxnYXJpdHkiIChzZWxlY3RhYmxlIGJ1dCBkb2Vzbid0IHRyaWdnZXIgYW55dGhpbmcgYXRtKQoJCQkJJ1NleHVhbFRoZW1lcyc6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJJ1Zpb2xlbnRHcmFwaGljJzogYWNrbm93bGVkZ2VkRHVyYXRpb24sCgkJCX07CgkJfSBlbHNlIHsKCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnRHJ1Z3NJbnRveGljYXRpb24nXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ0RydWdzSW50b3hpY2F0aW9uJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydEcnVnc0ludG94aWNhdGlvbiddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnR2FtYmxpbmcnXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ0dhbWJsaW5nJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydHYW1ibGluZyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddID09PSAndW5kZWZpbmVkJyB8fCB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddIDwgYWNrbm93bGVkZ2VkTWF4QWdlKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnU2V4dWFsVGhlbWVzJ10gPT09ICd1bmRlZmluZWQnIHx8IHRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydTZXh1YWxUaGVtZXMnXSA8IGFja25vd2xlZGdlZE1heEFnZSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ1NleHVhbFRoZW1lcyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnVmlvbGVudEdyYXBoaWMnXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ1Zpb2xlbnRHcmFwaGljJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydWaW9sZW50R3JhcGhpYyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQl9CgoJCWlmICh0eXBlb2YgY3VycmVudFVzZXJJRCA9PT0gJ3N0cmluZycgJiYgY3VycmVudFVzZXJJRCAhPT0gJycpIHsKCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdID09PSAndW5kZWZpbmVkJykgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXSA9IFtdOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnRHJ1Z3NJbnRveGljYXRpb24nKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdEcnVnc0ludG94aWNhdGlvbicpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnR2FtYmxpbmcnKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdHYW1ibGluZycpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnTWF0dXJlR2FtZScpKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdLnB1c2goJ01hdHVyZUdhbWUnKTsKCQkJfQoJCQlpZiAoIXRhcmdldFNldHRpbmdbJ2xvZ2dlZEluJ11bY3VycmVudFVzZXJJRF0uaW5jbHVkZXMoJ1NleHVhbFRoZW1lcycpKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdLnB1c2goJ1NleHVhbFRoZW1lcycpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnVmlvbGVudEdyYXBoaWMnKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdWaW9sZW50R3JhcGhpYycpOwoJCQl9CgkJfQoKCQkvLyBTZXQgbmV3IHNldHRpbmcKCQl3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeSh0YXJnZXRTZXR0aW5nKSk7Cgl9IGNhdGNoIChlKSB7CgkJLy8gQnJvd3NlciBibG9ja3MgbG9jYWxTdG9yYWdlIGFjY2VzcyBzbyB3ZSBjYW4ndCBnZXQgb3Igc2V0IGFueSBzZXR0aW5nCgkJcmV0dXJuOwoJfQoKfSkoKTsK"},{"name":"Twitch Player Quality Changer","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*","https://player.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1691319461458,"data":{}},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/465887-twitch-player-quality-changer/code/Twitch%20Player%20Quality%20Changer.user.js","uuid":"e906cdcc-e50e-4a78-b9d4-893930c7a049","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBUd2l0Y2ggUGxheWVyIFF1YWxpdHkgQ2hhbmdlcgovLyBAZGVzY3JpcHRpb24gICAgIEF1dG9tYXRpY2FsbHkgY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZSBUd2l0Y2ggcGxheWVyIHRvIHlvdXIgbGlraW5nLgovLyBAbmFtZXNwYWNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW1oYWlkYXIvVHdpdGNoLVBsYXllci1RdWFsaXR5LUNoYW5nZXIKLy8gQHZlcnNpb24gICAgICAgICAwLjAuNwovLyBAYXV0aG9yICAgICAgICAgIHJhbWhhaWRhcgovLyBAaG9tZXBhZ2VVUkwgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW1oYWlkYXIvVHdpdGNoLVBsYXllci1RdWFsaXR5LUNoYW5nZXIKLy8gQGljb24gICAgICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTY0JmRvbWFpbj10d2l0Y2gudHYKLy8gQGxpY2Vuc2UgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy50d2l0Y2gudHYvKgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHBzOi8vcGxheWVyLnR3aXRjaC50di8qCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgIGRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgLy8gU2V0IHRoZSBkZXNpcmVkIGF1dG8tcXVhbGl0eS4KICAgIC8qIEF2YWlsYWJsZSBRdWFsaXR5IE9wdGlvbnM6CiAgICAgICAtIDEwODBwNjAKICAgICAgIC0gOTM2cDYwCiAgICAgICAtIDcyMHA2MAogICAgICAgLSA3MjBwCiAgICAgICAtIDQ4MHAKICAgICAgIC0gMzYwcAogICAgICAgLSAxNjBwCiAgICAqLwogICAgY29uc3QgUHJlZmVyZWRRdWFsaXR5ID0gIjEwODBwNjAiOyAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIFByZWZlcmVkIFF1YWxpdHkKCiAgICBjb25zdCBBbGxRdWFsaXR5ID0gWyIxMDgwcDYwIiwgIjkzNnA2MCIsICI3MjBwNjAiLCAiNzIwcCIsICI0ODBwIiwgIjM2MHAiLCAiMTYwcCJdOwogICAgY29uc3QgUHJlZmVycmVkSW5kZXggPSBBbGxRdWFsaXR5LmluZGV4T2YoUHJlZmVyZWRRdWFsaXR5KTsKCiAgICAvLyBBIGZ1bmN0aW9uIHRoYXQgd2FpdHMgZm9yIGFuIGVsZW1lbnQgdG8gZXhpc3QgaW4gdGhlIERPTSBhbmQgdGhlbiBleGVjdXRlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uLgogICAgZnVuY3Rpb24gd2FpdEZvckVsZW1lbnQoc2VsZWN0b3IsIG1heEF0dGVtcHRzID0gMTAsIGNhbGxiYWNrKSB7CiAgICAgICAgbGV0IGF0dGVtcHRzID0gMDsKICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhdHRlbXB0cysrOwogICAgICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heEF0dGVtcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIHNlbGVjdG9yICsgJyBub3QgZm91bmQgYWZ0ZXIgJyArIG1heEF0dGVtcHRzICsgJyBhdHRlbXB0cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGVsZW1lbnQgdGhhdCBpbmRpY2F0ZXMgaWYgYSBjaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4KICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHctY2hhbm5lbC1zdGF0dXMtdGV4dC1pbmRpY2F0b3IsIC5jaGFubmVsLXN0YXR1cy1pbmZvJyk7CgogICAgLy8gQSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgZm91bmQuCiAgICBmdW5jdGlvbiBvbkVsZW1lbnRGb3VuZChlbGVtKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdFbGVtZW50IGZvdW5kOicsIGVsZW0pOwogICAgICAgIG1haW4oKTsKICAgIH0KCiAgICAvLyBBIGZ1bmN0aW9uIHRoYXQgd2FpdHMgdW50aWwgdGhlIGVsZW1lbnQgZXhpc3RzIGluIHRoZSBET00sIHRoZW4gZXhlY3V0ZXMgYSBjYWxsYmFjayBmdW5jdGlvbi4KICAgIGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoZWxlbSwgY2FsbGJhY2spIHsKICAgICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR3LWNoYW5uZWwtc3RhdHVzLXRleHQtaW5kaWNhdG9yLCAuY2hhbm5lbC1zdGF0dXMtaW5mbycpOwogICAgICAgIGlmIChlbGVtICE9PSBudWxsKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKGVsZW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2FpdFVudGlsRWxlbWVudEV4aXN0cyhlbGVtLCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgfQoKICAgIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoZWxlbSwgb25FbGVtZW50Rm91bmQpOwoKICAgIGZ1bmN0aW9uIG1haW4oKSB7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZSBjaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4KICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR3LWNoYW5uZWwtc3RhdHVzLXRleHQtaW5kaWNhdG9yJyk/LnRleHRDb250ZW50ID09PSAiTElWRSIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYW5uZWwtc3RhdHVzLWluZm8nKT8udGV4dENvbnRlbnQgPT09ICJPZmZsaW5lIikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIkNoYW5uZWwgaXMgbGl2ZSBvciBvZmZsaW5lLiIpOwoKICAgICAgICAgICAgbGV0IHNldHRpbmdzQnV0dG9uID0gbnVsbDsKICAgICAgICAgICAgbGV0IHNldHRpbmdzTWVudUJ1dHRvbiA9IG51bGw7CgogICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uLgogICAgICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgc2V0dGluZ3NCdXR0b24gPSBlbGVtZW50OwogICAgICAgICAgICAgICAgc2V0dGluZ3NCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBDbGljayB0aGUgcXVhbGl0eSBzZXR0aW5ncyBidXR0b24uCiAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLW1lbnUtaXRlbS1xdWFsaXR5Il0nLCAyNSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnVCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcXVhbGl0eSBvcHRpb25zIHRvIGxvYWQgYW5kIHNlbGVjdCB0aGUgcHJlZmVycmVkIHF1YWxpdHkgb3B0aW9uLgogICAgICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InR3LXJhZGlvIl0nLCAyNSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKTsKICAgICAgICAgICAgICAgIHZhciBxdWFsaXR5Rm91bmQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICB2YXIgaW5wdXRzeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHN4Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0c3hbaV0ucGFyZW50Tm9kZS50ZXh0Q29udGVudC5pbmNsdWRlcyhBbGxRdWFsaXR5W1ByZWZlcnJlZEluZGV4XSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eUZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJQcmVmZXJyZWQgUXVhbGl0eSBGb3VuZDogIiArIHF1YWxpdHlGb3VuZCk7CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZWZlcnJlZCBxdWFsaXR5IGlzIGF2YWlsYWJsZSwgc2VsZWN0IGl0LgogICAgICAgICAgICAgICAgaWYgKHF1YWxpdHlGb3VuZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBpbnB1dHNbaV0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwgJiYgbGFiZWwudGV4dENvbnRlbnQudHJpbSgpLmluY2x1ZGVzKEFsbFF1YWxpdHlbUHJlZmVycmVkSW5kZXhdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzW2ldLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzW2ldLmNsaWNrKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJRdWFsaXR5IFVzZWQ6ICIgKyBpbnB1dHNbaV0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLnRleHRDb250ZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uIGFnYWluLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEZvckVsZW1lbnQoJ1tkYXRhLWEtdGFyZ2V0PSJwbGF5ZXItc2V0dGluZ3MtYnV0dG9uIl0nLCBJbmZpbml0eSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3NCdXR0b24gPSBlbGVtZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJDbGlja2VkIFNldHRpbmdzIEJ1dHRvbiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZWZlcnJlZCBxdWFsaXR5IGlzIG5vdCBhdmFpbGFibGUsIHNlbGVjdCB0aGUgbG93ZXN0IGF2YWlsYWJsZSBxdWFsaXR5LgogICAgICAgICAgICAgICAgaWYgKHF1YWxpdHlGb3VuZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBsYXN0UXVhbGl0eUluZGV4ID0gQWxsUXVhbGl0eS5sZW5ndGggLSAxOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdElucHV0SW5kZXggPSBpbnB1dHN4Lmxlbmd0aCAtIDE7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRzeFtsYXN0SW5wdXRJbmRleF0uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRzeFtsYXN0SW5wdXRJbmRleF0uY2xpY2soKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJRdWFsaXR5IFVzZWQ6ICIgKyBpbnB1dHN4W2xhc3RJbnB1dEluZGV4XS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJykudGV4dENvbnRlbnQpOwoKICAgICAgICAgICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uIGFnYWluLgogICAgICAgICAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLWJ1dHRvbiJdJywgSW5maW5pdHksIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiQ2xpY2tlZCBTZXR0aW5ncyBCdXR0b24iKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCJDYW4ndCBkZXRlY3Qgd2hldGhlciBDaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4iKTsKICAgICAgICB9CiAgICB9Cn0pKCk7"},{"name":"Twitter AutoHD","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://*.twitter.com/*","https://*.twimg.com/media/*","https://*.x.com/*","https://*.x.com/media/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":true}},"storage":{"ts":1691319461452,"data":{"thd_primaryWidth":"n600","thd_hideTrending":"btrue","thd_blurNSFW":"btrue","thd_toggleFollowed":"btrue","thd_toggleClearTopics":"btrue","thd_toggleTimelineScaling":"bfalse","thd_toggleAnalyticsDisplay":"btrue"}},"enabled":true,"position":10,"file_url":"https://github.com/Invertex/Twitter-AutoHD/raw/master/Twitter_AutoHD.user.js","uuid":"84d11cb1-e3d8-4983-b428-eb95d95698ba","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0dGVyIEF1dG9IRAovLyBAbmFtZXNwYWNlICAgIEludmVydGV4Ci8vIEB2ZXJzaW9uICAgICAgMi4yMwovLyBAZGVzY3JpcHRpb24gIEZvcmNlcyB3aG9sZSBpbWFnZSB0byBzaG93IG9uIHRpbWVsaW5lIHdpdGggYmlnZ2VyIGxheW91dCBmb3IgbXVsdGktaW1hZ2UuIEZvcmNlcyB2aWRlb3MvaW1hZ2VzIHRvIHNob3cgaW4gaGlnaGVzdCBxdWFsaXR5IGFuZCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uIGFuZCByaWdodC1jbGljayBmb3IgY29udGVudCB0aGF0IGVuc3VyZXMgYW4gb3JnYW5pemVkIGZpbGVuYW1lLiBBcyB3ZWxsIGFzIG90aGVyIGltcHJvdmVtZW50cy4KLy8gQGF1dGhvciAgICAgICBJbnZlcnRleAovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9JbnZlcnRleC9Ud2l0dGVyLUF1dG9IRC9yYXcvbWFzdGVyL1R3aXR0ZXJfQXV0b0hELnVzZXIuanMKLy8gQGRvd25sb2FkVVJMICBodHRwczovL2dpdGh1Yi5jb20vSW52ZXJ0ZXgvVHdpdHRlci1BdXRvSEQvcmF3L21hc3Rlci9Ud2l0dGVyX0F1dG9IRC51c2VyLmpzCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9pLmltZ3VyLmNvbS9NOW9POEs5LnBuZwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi50d2l0dGVyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnR3aW1nLmNvbS9tZWRpYS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnguY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovLyoueC5jb20vbWVkaWEvKgovLyBAbm9mcmFtZXMKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2Rvd25sb2FkCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNLnNldFZhbHVlCi8vIEBncmFudCBHTS5nZXRWYWx1ZQovLyBAcnVuLWF0IGRvY3VtZW50LXN0YXJ0Ci8vIEByZXF1aXJlIGh0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzIuMS4wL2pxdWVyeS5taW4uanMKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBjb29reSA9IGdldENvb2tpZSgiY3QwIik7IC8vR2V0IG91ciBjdXJyZW50IFR3aXR0ZXIgc2Vzc2lvbiB0b2tlbiBzbyB3ZSBjYW4gdXNlIFR3aXR0ZXIgQVBJIHRvIHJlcXVlc3QgaGlnaGVyIHF1YWxpdHkgY29udGVudApjb25zdCBtb2RpZmllZEF0dHIgPSAiVEhEX21vZGlmaWVkIjsKY29uc3QgdHdlZXRRdWVyeSA9ICdkaXZbZGF0YS10ZXN0aWQ9InR3ZWV0Il0nOwpjb25zdCBHTV9PcGVuSW5UYWJNaXNzaW5nID0gKHR5cGVvZiBHTV9vcGVuSW5UYWIgPT09ICd1bmRlZmluZWQnKTsKCnZhciB0d2VldHMgPSBuZXcgTWFwKCk7IC8vQ2FjaGUgaW50ZXJjZXB0ZWQgdHdlZXRzIGRhdGEKLy8vCmNvbnN0IGFyZ3NDaGlsZEFuZFN1YiA9IHsgYXR0cmlidXRlczogZmFsc2UsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9Owpjb25zdCBhcmdzQ2hpbGRPbmx5ID0geyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiBmYWxzZSB9Owpjb25zdCBhcmdzQ2hpbGRBbmRBdHRyID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IGZhbHNlIH07CmNvbnN0IGFyZ3NBbGwgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9Owpjb25zdCBhcmdzQXR0ck9ubHkgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogZmFsc2UsIHN1YnRyZWU6IGZhbHNlIH07Cgpjb25zdCBkbFNWRyA9ICc8Zz48cGF0aCBkPSJNIDggNTEgQyA1IDU0IDUgNDggNSA0MiBMIDUgLTQwIEMgNSAtNDUgLTUgLTQ1IC01IC00MCBWIDQyIEMgLTUgNDggLTUgNTQgLTggNTEgTCAtNDggMTUgQyAtNTEgMTIgLTYxIDE3IC01NiAyMiBMIC0xMiA2MSBDIDAgNzEgMCA3MSAxMiA2MSBMIDU2IDIyIEMgNjEgMTcgNTIgMTEgNDggMTUgWiI+PC9wYXRoPicgKwogICAgJzxwYXRoIGQ9Ik0gNTYgLTU4IEMgNjIgLTU4IDYyIC02OCA1NiAtNjggSCAtNTYgQyAtNjIgLTY4IC02MiAtNTggLTU2IC01OCBaIj48L3BhdGg+PC9nPic7Cgpjb25zdCB0d2l0U1ZHID0gJzxnPjxwYXRoIGQ9Ik0yMy42NDMgNC45MzdjLS44MzUuMzctMS43MzIuNjItMi42NzUuNzMzLjk2Mi0uNTc2IDEuNy0xLjQ5IDIuMDQ4LTIuNTc4LS45LjUzNC0xLjg5Ny45MjItMi45NTggMS4xMy0uODUtLjkwNC0yLjA2LTEuNDctMy40LTEuNDctMi41NzIgMC00LjY1OCAyLjA4Ni00LjY1OCA0LjY2IDAgLjM2NC4wNDIuNzE4LjEyIDEuMDYtMy44NzMtLjE5NS03LjMwNC0yLjA1LTkuNjAyLTQuODY4LS40LjY5LS42MyAxLjQ5LS42MyAyLjM0MiAwIDEuNjE2LjgyMyAzLjA0MyAyLjA3MiAzLjg3OC0uNzY0LS4wMjUtMS40ODItLjIzNC0yLjExLS41ODN2LjA2YzAgMi4yNTcgMS42MDUgNC4xNCAzLjczNyA0LjU2OC0uMzkyLjEwNi0uODAzLjE2Mi0xLjIyNy4xNjItLjMgMC0uNTkzLS4wMjgtLjg3Ny0uMDgyLjU5MyAxLjg1IDIuMzEzIDMuMTk4IDQuMzUyIDMuMjM0LTEuNTk1IDEuMjUtMy42MDQgMS45OTUtNS43ODYgMS45OTUtLjM3NiAwLS43NDctLjAyMi0xLjExMi0uMDY1IDIuMDYyIDEuMzIzIDQuNTEgMi4wOTMgNy4xNCAyLjA5MyA4LjU3IDAgMTMuMjU1LTcuMDk4IDEzLjI1NS0xMy4yNTQgMC0uMi0uMDA1LS40MDItLjAxNC0uNjAyLjkxLS42NTggMS43LTEuNDc3IDIuMzIzLTIuNDF6Ij48L3BhdGg+PC9nPic7Cgpjb25zdCBib29rbWFya1NWRyA9ICc8Zz48cGF0aCBkPSJNMTcgM1YwaDJ2M2gzdjJoLTN2M2gtMlY1aC0zVjNoM3pNNi41IDRjLS4yNzYgMC0uNS4yMi0uNS41djE0LjU2bDYtNC4yOSA2IDQuMjlWMTFoMnYxMS45NGwtOC01LjcxLTggNS43MVY0LjVDNCAzLjEyIDUuMTE5IDIgNi41IDJoNC41MDJ2Mkg2LjV6Ij48L3BhdGg+PC9nPic7CmNvbnN0IHVuYm9va21hcmtTVkcgPSAnPGc+PHBhdGggZD0iTTE2LjU4NiA0bC0yLjA0My0yLjA0TDE1Ljk1Ny41NCAxOCAyLjU5IDIwLjA0My41NGwxLjQxNCAxLjQyTDE5LjQxNCA0bDIuMDQzIDIuMDQtMS40MTQgMS40MkwxOCA1LjQxbC0yLjA0MyAyLjA1LTEuNDE0LTEuNDJMMTYuNTg2IDR6TTYuNSA0Yy0uMjc2IDAtLjUuMjItLjUuNXYxNC41Nmw2LTQuMjkgNiA0LjI5VjExaDJ2MTEuOTRsLTgtNS43MS04IDUuNzFWNC41QzQgMy4xMiA1LjExOSAyIDYuNSAyaDQuNTAydjJINi41eiI+PC9wYXRoPjwvZz4nOwoKYWRkR2xvYmFsU3R5bGUoJ0BrZXlmcmFtZXMgc3BpbiB7IDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfScpOwphZGRHbG9iYWxTdHlsZSgnLmxvYWRlciB7IGJvcmRlcjogMTZweCBzb2xpZCAjZjNmM2YzNzM7IGRpc3BsYXk6IGZsZXg7IG1hcmdpbjogYXV0bzsgYm9yZGVyLXRvcDogMTZweCBzb2xpZCAjMzQ5OGRiOTk7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDEyMHB4OyBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlO30nKTsKCmFkZEdsb2JhbFN0eWxlKCcuY29udGV4dC1tZW51IHsgcG9zaXRpb246IGFic29sdXRlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMHB4OyBiYWNrZ3JvdW5kOiAjMDQwNDA0OyBib3JkZXI6IDFweCBzb2xpZCAjMGUwZTBlOyBib3JkZXItcmFkaXVzOiA1cHg7fScpOwphZGRHbG9iYWxTdHlsZSgnLmNvbnRleHQtbWVudSB1bCB7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiAwcHg7IG1pbi13aWR0aDogMTkwcHg7IGxpc3Qtc3R5bGU6IG5vbmU7fScpOwphZGRHbG9iYWxTdHlsZSgnLmNvbnRleHQtbWVudSB1bCBsaSB7IHBhZGRpbmctYm90dG9tOiA3cHg7IHBhZGRpbmctdG9wOiA3cHg7IGJvcmRlcjogMXB4IHNvbGlkICMwZTBlMGU7IGNvbG9yOiNjMWJjYmM7IGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyB1c2VyLXNlbGVjdDogbm9uZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcuY29udGV4dC1tZW51IHVsIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogIzIwMjAyMDt9Jyk7CgovLzwtLT4gU2F2ZS9Mb2FkIFVzZXIgQ3V0b20gTGF5b3V0IFdpZHRoIDwtLT4vLwpjb25zdCB1c2VQcmVmX01haW5XaWR0aEtleSA9ICJ0aGRfcHJpbWFyeVdpZHRoIjsKY29uc3QgdXNlUHJlZl9oaWRlVHJlbmRpbmdLZXkgPSAidGhkX2hpZGVUcmVuZGluZyI7CmNvbnN0IHVzZVByZWZfYmx1ck5TRlcgPSAidGhkX2JsdXJOU0ZXIjsKY29uc3QgdXNlUHJlZl90b2dnbGVIUUltZyA9ICJ0aGRfdG9nZ2xlSFFJbWciOwpjb25zdCB1c2VQcmVmX3RvZ2dsZUxpa2VkID0gInRoZF90b2dnbGVMaWtlZCI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlUmV0d2VldCA9ICJ0aGRfdG9nZ2xlUmV0d2VldCI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlRm9sbG93ZWQgPSAidGhkX3RvZ2dsZUZvbGxvd2VkIjsKY29uc3QgdXNlUHJlZl90b2dnbGVUb3BpY3MgPSAidGhkX3RvZ2dsZVRvcGljcyI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlQ2xlYXJUb3BpY3MgPSAidGhkX3RvZ2dsZUNsZWFyVG9waWNzIjsKY29uc3QgdXNlUHJlZl9sYXN0VG9waWNzQ2xlYXJUaW1lID0gInRoZF9sYXN0VG9waWNzQ2xlYXJUaW1lIjsKY29uc3QgdXNlUHJlZl90b2dnbGVUaW1lbGluZVNjYWxpbmcgPSAidGhkX3RvZ2dsZVRpbWVsaW5lU2NhbGluZyI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSA9ICJ0aGRfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlRGlzYWJsZUZvcllvdSA9ICJ0aGRfdG9nZ2xlRGlzYWJsZUZvcllvdSI7Ci8vR3JlYXNlbW9ua2V5IGRvZXMgbm90IGhhdmUgdGhpcyBmdW5jdGlvbmFsaXR5LCBzbyBoZWxwZnVsIHdheSB0byBjaGVjayB3aGljaCBmdW5jdGlvbiB0byB1c2UKY29uc3QgaXNHTSA9ICh0eXBlb2YgR01fYWRkVmFsdWVDaGFuZ2VMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpOwoKCi8vPC0tPiBUV0VFVCBQUk9DRVNTSU5HIDwtLT4vLwpmdW5jdGlvbiBTdHJpbmdCdWlsZGVyKHZhbHVlKQp7CiAgICB0aGlzLnN0cmluZ3MgPSBuZXcgQXJyYXkoKTsKICAgIHRoaXMuYXBwZW5kKHZhbHVlKTsKfQpTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAodmFsdWUpCnsKICAgIGlmICh2YWx1ZSkKICAgIHsKICAgICAgICB0aGlzLnN0cmluZ3MucHVzaCh2YWx1ZSk7CiAgICB9Cn0KU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKQp7CiAgICB0aGlzLnN0cmluZ3MubGVuZ3RoID0gMDsKfQpTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpCnsKICAgIHJldHVybiB0aGlzLnN0cmluZ3Muam9pbigiIik7Cn0KCmNvbnN0IHNiID0gbmV3IFN0cmluZ0J1aWxkZXIoIiIpOwoKY29uc3QgQnVpbGRNM1UgPSBmdW5jdGlvbiAobGluZXMpCnsKICAgIGNvbnN0IHJlZ2V4ID0gLyxCQU5EV0lEVEg9KC4qKSxSRVNPTFVUSU9OL2dtOwoKICAgIGxldCBiZXN0TGluZSA9IDA7CiAgICBsZXQgYmVzdEJhbmR3aWR0aCA9IDA7CiAgICBzYi5hcHBlbmQobGluZXNbMF0pOwoKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgaWYgKCFsaW5lc1tpXS5pbmNsdWRlcygnU1RSRUFNLUlORjonKSkgeyBzYi5hcHBlbmQoJyMnICsgbGluZXNbaV0pOyB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgbGV0IGJhbmR3aWR0aCA9IHBhcnNlSW50KHJlZ2V4LmV4ZWMobGluZXNbaV0pKTsKICAgICAgICAgICAgaWYgKGJhbmR3aWR0aCA+IGJlc3RCYW5kd2lkdGgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJlc3RCYW5kd2lkdGggPSBiYW5kd2lkdGg7CiAgICAgICAgICAgICAgICBiZXN0TGluZSA9IGk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoYmVzdExpbmUgPT09IDApIHsgYmVzdExpbmUgPSBpOyB9IC8vZmFpbHNhZmUgaW4gY2FzZSBzb21ldGhpbmcgYnJlYWtzIHdpdGggcGFyc2luZyBkb3duIHRoZSBsaW5lCiAgICAgICAgfQogICAgfQoKICAgIHNiLmFwcGVuZCgnIycgKyBsaW5lc1tiZXN0TGluZV0pOwogICAgbGV0IG0zdSA9IHNiLnRvU3RyaW5nKCk7CiAgICBzYi5jbGVhcigpOwoKICAgIHJldHVybiBtM3U7Cn07CgoKdmFyIHRyYW5zYWN0SUQgPSAiIjsKdmFyIGF1dGh5ID0gIiI7Ci8vIEdyYWIgcmVsZXZhbnQga2V5cyB1c2VkIGJ5IEFQSSBzbyB3ZSBjYW4gaW50ZXJmYWNlIHdpdGggaXQgdG9vCihmdW5jdGlvbiAoc2V0UmVxdWVzdEhlYWRlcikKewogICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkKICAgIHsKICAgICAgICBpZihuYW1lID09ICJYLUNsaWVudC1UcmFuc2FjdGlvbi1JZCIpCiAgICAgICAgewogICAgICAgICAgICB0cmFuc2FjdElEID0gdmFsdWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYobmFtZSA9PSAiYXV0aG9yaXphdGlvbiIpCiAgICAgICAgewogICAgICAgICAgICBhdXRoeSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgc2V0UmVxdWVzdEhlYWRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKfSkoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIpOwoKCi8vSW50ZXJjZXB0IG0zdTggcGxheWxpc3QgcmVxdWVzdHMgYW5kIG1vZGlmeSB0aGUgY29udGVudHMgdG8gb25seSBpbmNsdWRlIHRoZSBoaWdoZXN0IHF1YWxpdHkKKGZ1bmN0aW9uIChvcGVuKQp7CiAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCkKICAgIHsKCiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygndmlkZW8udHdpbWcuY29tJykgJiYgdXJsLmluY2x1ZGVzKCcubTN1OD8nKSkKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIChlKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkKICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBlLnRhcmdldC5yZXNwb25zZVRleHQuc3BsaXQoJyMnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtM3UgPSBCdWlsZE0zVShsaW5lcyk7CgogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzcG9uc2UnLCB7IHdyaXRhYmxlOiB0cnVlIH0pOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzcG9uc2VUZXh0JywgeyB3cml0YWJsZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBtM3U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKHVybC5pbmNsdWRlcygnc2hvdy5qc29uPycpKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHZpZEluZm8gPSBqc29uLmV4dGVuZGVkX2VudGl0aWVzPy5tZWRpYT8udmlkZW9faW5mbyA/PyBudWxsOwoKICAgICAgICAgICAgICAgICAgICBpZih2aWRJbmZvICE9IG51bGwgJiYgdmlkSW5mby52YXJpYW50cyAhPSBudWxsICYmIHZpZEluZm8udmFyaWFudHMubGVuZ3RoID4gMSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZEluZm8udmFyaWFudHMgPSBbc3RyaXBWYXJpYW50cyh2aWRJbmZvLnZhcmlhbnRzKV07CgogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gSlNPTi5zdHJpbmdpZnkoanNvbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih1cmwuaW5jbHVkZXMoJy9Ib21lJykgfHwgdXJsLmluY2x1ZGVzKCdpbmNsdWRlUHJvbW90ZWRDb250ZW50JykpCiAgICAgICAgewogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaW5jbHVkZVByb21vdGVkQ29udGVudCUyMiUzQXRydWUnLCAnaW5jbHVkZVByb21vdGVkQ29udGVudCUyMiUzQWZhbHNlJyk7CiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdwaG9uZV9sYWJlbF9lbmFibGVkJTIyJTNBZmFsc2UnLCAncGhvbmVfbGFiZWxfZW5hYmxlZCUyMiUzQXRydWUnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ3JlYWNoX2ZldGNoX2VuYWJsZWQlMjIlM0F0cnVlJywgJ3JlYWNoX2ZldGNoX2VuYWJsZWQlMjIlM0FmYWxzZScpOwogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnd2l0aFF1aWNrUHJvbW90ZUVsaWdpYmlsaXR5VHdlZXRGaWVsZHMlMjIlM0F0cnVlJywgJ3dpdGhRdWlja1Byb21vdGVFbGlnaWJpbGl0eVR3ZWV0RmllbGRzJTIyJTNBZmFsc2UnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2FydGljbGVfdHdlZXRfY29uc3VtcHRpb25fZW5hYmxlZCUyMiUzQXRydWUnLCAnYXJ0aWNsZV90d2VldF9jb25zdW1wdGlvbl9lbmFibGVkJTIyJTNBZmFsc2UnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2NvdW50JTIyJTNBMjAnLCAnY291bnQlMjIlM0EzMCcpOwoKICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgICAgaWYoanNvbi5kYXRhKQogICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUaW1lbGluZURhdGEoanNvbik7CgogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGpzb24uZGF0YS50aHJlYWRlZF9jb252ZXJzYXRpb25fd2l0aF9pbmplY3Rpb25zX3YyKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAganNvbi5kYXRhLnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjIuaW5zdHJ1Y3Rpb25zWzBdLmVudHJpZXMgPSBwcm9jZXNzVHdlZXRzUXVlcnkoanNvbi5kYXRhLnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjIuaW5zdHJ1Y3Rpb25zWzBdLmVudHJpZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih1cmwuaW5jbHVkZXMoJ2d1aWRlLmpzb24nKSkgLy9FeHBsb3JlCiAgICAgICAgewogICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFeHBsb3JlRGF0YShqc29uPy5nbG9iYWxPYmplY3RzPy50d2VldHMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgb3Blbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKfSkoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4pOwoKZnVuY3Rpb24gaXNUd2VldEJvb2ttYXJrZWQoaWQpCnsKICAgIGxldCB0d2VldCA9IHR3ZWV0cy5nZXQoaWQpOwogICAgaWYodHdlZXQpCiAgICB7CiAgICAgICAgcmV0dXJuIHR3ZWV0LmJvb2ttYXJrZWQ7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIHN0cmlwVmFyaWFudHModmFyaWFudHMpCnsKICAgIGlmKHZhcmlhbnRzID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH0KICAgIHZhcmlhbnRzID0gdmFyaWFudHMuZmlsdGVyKHZhcmlhbnQgPT4gdmFyaWFudD8uYml0cmF0ZSAhPSBudWxsKTsKICAgIHZhcmlhbnRzID0gdmFyaWFudHMuc29ydCgoYSwgYikgPT4gKGIuYml0cmF0ZSAtIGEuYml0cmF0ZSkpOwogICAgcmV0dXJuIHZhcmlhbnRzWzBdOwp9CgpmdW5jdGlvbiBUd2VldCh0d2VldFJlc3VsdCkKewogICAgdGhpcy5kYXRhID0gdHdlZXRSZXN1bHQ7CiAgICBpZih0aGlzLmRhdGE/LnR3ZWV0ICE9IG51bGwpeyB0aGlzLmRhdGEgPSB0aGlzLmRhdGEudHdlZXQ7IH0gLy9JZiB0d2VldCBpcyBsaW1pdGVkIGJ5IHdobyBjYW4gY29tbWVudCwgbmVlZCB0byBkbyB0aGlzCgogICAgdGhpcy5pc1JldHdlZXQgPSB0aGlzLmRhdGE/LmxlZ2FjeT8ucmV0d2VldGVkX3N0YXR1c19yZXN1bHQ/LnJlc3VsdCAhPSBudWxsOwogICAgaWYodGhpcy5pc1JldHdlZXQpCiAgICB7CiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLmxlZ2FjeS5yZXR3ZWV0ZWRfc3RhdHVzX3Jlc3VsdC5yZXN1bHQ7CiAgICAgICAgaWYodGhpcy5kYXRhPy50d2VldCkgeyB0aGlzLmRhdGEgPSB0aGlzLmRhdGEudHdlZXQ7IH0KICAgIH0KICAgIHRoaXMubGVnYWN5ID0gdGhpcy5kYXRhPy5sZWdhY3kgPz8gdGhpcy5kYXRhOyAvL1N3YXBwaW5nIHRvIGhhbmRsZSBvZGQgRXhwbG9yZSBwYWdlIGRhdGEKICAgIHRoaXMubWVkaWEgPSB0aGlzLmxlZ2FjeT8uZXh0ZW5kZWRfZW50aXRpZXM/Lm1lZGlhOwogICAgdGhpcy5tZWRpYUJhc2ljID0gdGhpcy5sZWdhY3k/LmVudGl0aWVzPy5tZWRpYTsKICAgIHRoaXMuaGFzTWVkaWEgPSB0aGlzLm1lZGlhICE9IG51bGw7CgogICAgdGhpcy5xdW90ZSA9IHRoaXMuZGF0YT8ucXVvdGVkX3N0YXR1c19yZXN1bHQ/LnJlc3VsdDsKICAgIHRoaXMuaXNRdW90ZSA9IHRoaXMucXVvdGUgIT0gbnVsbDsKICAgIGlmKHRoaXMuaXNRdW90ZSkgeyB0aGlzLnF1b3RlID0gbmV3IFR3ZWV0KHRoaXMucXVvdGUpOyB9CiAgICB0aGlzLnF1b3RlSGFzTWVkaWEgPSB0aGlzLmlzUXVvdGUgJiYgdGhpcy5xdW90ZS5oYXNNZWRpYTsKICAgIHRoaXMuaWQgPSB0aGlzLmRhdGE/LnJlc3RfaWQgPz8gdGhpcy5kYXRhPy5jb252ZXJzYXRpb25faWQ7CiAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy5kYXRhPy5jb3JlPy51c2VyX3Jlc3VsdHM/LnJlc3VsdC5sZWdhY3k/LnNjcmVlbl9uYW1lOwogICAgdGhpcy51cmwgPSAiaHR0cHM6Ly90d2l0dGVyLmNvbS8iICsgdGhpcy51c2VybmFtZSArICIvIiArIHRoaXMuaWQ7CiAgICB0aGlzLnR3ZWV0RWxlbSA9IG51bGw7CgogICAgdGhpcy5ib29rbWFya2VkID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzPy5sZWdhY3k/LmJvb2ttYXJrZWQgPz8gZmFsc2U7IH07CiAgICB0aGlzLmJvb2ttYXJrID0gZnVuY3Rpb24gKCkKICAgIHsKICAgICAgICBpZih0aGlzLmxlZ2FjeT8uYm9va21hcmtlZCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5sZWdhY3kuYm9va21hcmtlZCA9IHRydWU7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMudW5ib29rbWFyayA9IGZ1bmN0aW9uICgpCiAgICB7CiAgICAgICAgaWYodGhpcy5sZWdhY3k/LmJvb2ttYXJrZWQgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMubGVnYWN5LmJvb2ttYXJrZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5nZXRNZWRpYURhdGEgPSBmdW5jdGlvbihpbmRleCkKICAgIHsKICAgICAgICBpZih0aGlzLm1lZGlhID09IG51bGwgfHwgdGhpcy5tZWRpYS5sZW5ndGggPD0gaW5kZXgpIHsgcmV0dXJuIG51bGw7IH0KCiAgICAgICAgbGV0IG1lZGlhSXRlbSA9IHRoaXMubWVkaWFbaW5kZXhdOwogICAgICAgIGxldCB1cmwgPSBtZWRpYUl0ZW0uZXhwYW5kZWRfdXJsOwogICAgICAgIGxldCBjb21JbmRleCA9IHVybC5pbmRleE9mKCcuY29tLycpOwogICAgICAgIGxldCB1cmxQYXJ0cyA9IHVybC5zdWJzdHJpbmcoY29tSW5kZXggPCAwID8gMCA6IGNvbUluZGV4ICsgNSkuc3BsaXQoJy8nKTsKICAgICAgICBpZih1cmxQYXJ0cy5sZW5ndGggPCA0KSB7IHJldHVybiBudWxsOyB9CiAgICAgICAgbGV0IGNvdW50ZXIgPSB0aGlzLm1lZGlhLmxlbmd0aCA8IDIgPyAtMSA6IGluZGV4ICsgMTsKICAgICAgICBsZXQgc3JjVVJMID0gbWVkaWFJdGVtLm1lZGlhX3VybF9odHRwczsKICAgICAgICBsZXQgY29udGVudFVSTCA9IHN0cmlwVmFyaWFudHMobWVkaWFJdGVtPy52aWRlb19pbmZvPy52YXJpYW50cyk/LnVybCA/PyBzcmNVUkw7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB1cmxQYXJ0c1swXSwKICAgICAgICAgICAgaWQ6IHVybFBhcnRzWzJdLAogICAgICAgICAgICBtZWRpYU51bTogY291bnRlciwKICAgICAgICAgICAgc3JjVVJMOiBzcmNVUkwsCiAgICAgICAgICAgIGNvbnRlbnRVUkw6IGNvbnRlbnRVUkwsCiAgICAgICAgICAgIHR5cGU6IG1lZGlhSXRlbS50eXBlLAogICAgICAgICAgICB3aWR0aDogbWVkaWFJdGVtLm9yaWdpbmFsX2luZm8ud2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogbWVkaWFJdGVtLm9yaWdpbmFsX2luZm8uaGVpZ2h0CiAgICAgICAgfTsKICAgIH07Cn0KCmZ1bmN0aW9uIHByb2Nlc3NFeHBsb3JlRGF0YShleHBsb3JlVHdlZXRzKQp7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZXhwbG9yZVR3ZWV0cy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgICBsZXQgZXhwbG9yZVR3ZWV0ID0gZXhwbG9yZVR3ZWV0c1tpXTsKICAgICAgICBsZXQgdHdlZXQgPSBuZXcgVHdlZXQoZXhwbG9yZVR3ZWV0KTsKICAgICAgICB0d2VldHMuc2V0KHR3ZWV0LmlkLCB0d2VldCk7CgogICAgICAgIGlmKHR3ZWV0Lmhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICAgICAgaWYodHdlZXQuaXNRdW90ZSAmJiB0d2VldC5xdW90ZUhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQucXVvdGUubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5xdW90ZS5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHByb2Nlc3NSZXNwb25zZU1lZGlhKG1lZGlhcykKewogICAgaWYobWVkaWFzID09IG51bGwpeyByZXR1cm47IH0KCiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWVkaWFzLmxlbmd0aDsgaSsrKQogICAgewogICAgICAgIGxldCBtZWRpYSA9IG1lZGlhc1tpXTsKICAgICAgICBpZihtZWRpYS50eXBlID09ICdwaG90bycpCiAgICAgICAgewogICAgICAgICAgICBtZWRpYS5tZWRpYV91cmxfaHR0cHMgPSBnZXRIaWdoUXVhbGl0eUltYWdlKG1lZGlhLm1lZGlhX3VybF9odHRwcyk7CiAgICAgICAgfQogICAgICAvKiAgZWxzZSBpZiAobWVkaWEudHlwZSA9PSAndmlkZW8nKQogICAgICAgIHsKICAgICAgICAgICAgbWVkaWEudmlkZW9faW5mby52YXJpYW50cyA9IFtzdHJpcFZhcmlhbnRzKG1lZGlhLnZpZGVvX2luZm8udmFyaWFudHMpXTsKICAgICAgICB9Ki8KICAgIH0KfQoKZnVuY3Rpb24gcHJvY2Vzc1RpbWVsaW5lSXRlbShpdGVtKQp7CiAgICBpZihpdGVtPy5wcm9tb3RlZE1ldGFkYXRhICE9IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9CiAgICBsZXQgcmVzdWx0ID0gaXRlbT8udHdlZXRfcmVzdWx0cz8ucmVzdWx0OwoKICAgIGlmKHJlc3VsdCkKICAgIHsKICAgICAgICBsZXQgdHdlZXQgPSBuZXcgVHdlZXQocmVzdWx0KTsKICAgICAgICB0d2VldHMuc2V0KHR3ZWV0LmlkLCB0d2VldCk7CgogICAgICAgIGlmKHR3ZWV0Lmhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICAgICAgaWYodHdlZXQuaXNRdW90ZSAmJiB0d2VldC5xdW90ZUhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQucXVvdGUubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5xdW90ZS5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn0KCgpmdW5jdGlvbiBwcm9jZXNzVGltZWxpbmVFbnRyeShlbnRyeSkKewogICAgaWYoZW50cnk/LmNvbnRlbnQ/LmNsaWVudEV2ZW50SW5mbz8uY29tcG9uZW50ID09ICJzdWdnZXN0X3Byb21vdGVkIikKICAgIHsKICAgICAgICBlbnRyeS5jb250ZW50ID0ge307CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IGl0ZW1zID0gZW50cnk/LmNvbnRlbnQ/Lml0ZW1zOwogICAgaWYoaXRlbXMgIT0gbnVsbCkKICAgIHsKICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBpZighcHJvY2Vzc1RpbWVsaW5lSXRlbShpdGVtc1tpXS5pdGVtLml0ZW1Db250ZW50KSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW50cnkuY29udGVudC5pdGVtcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChlbnRyeT8uY29udGVudD8uaXRlbUNvbnRlbnQpCiAgICB7CiAgICAgICAgaWYoIXByb2Nlc3NUaW1lbGluZUl0ZW0oZW50cnkuY29udGVudC5pdGVtQ29udGVudCkpCiAgICAgICAgewogICAgICAgICAgICBlbnRyeS5jb250ZW50ID0ge307CiAgICAgICAgfQogICAgfQoKfQoKZnVuY3Rpb24gcHJvY2Vzc1RpbWVsaW5lRW50cmllcyhlbnRyaWVzKQp7CiAgLy8gIGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbnRlbnQuY2xpZW50RXZlbnRJbmZvPy5jb21wb25lbnQgIT0gInN1Z2dlc3RfcHJvbW90ZWQiKTsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKQogICAgewogICAgICAgIHByb2Nlc3NUaW1lbGluZUVudHJ5KGVudHJpZXNbaV0pOwogICAgfQp9CgpmdW5jdGlvbiBwcm9jZXNzVGltZWxpbmVEYXRhKGpzb24pCnsKICAgIGxldCBpbnN0cnVjdGlvbnMgPSBqc29uPy5kYXRhPy5ob21lPy5ob21lX3RpbWVsaW5lX3VydD8uaW5zdHJ1Y3Rpb25zOwogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgaW5zdHJ1Y3Rpb25zID0ganNvbi5kYXRhPy51c2VyPy5yZXN1bHQ/LnRpbWVsaW5lX3YyPy50aW1lbGluZT8uaW5zdHJ1Y3Rpb25zOyB9CiAgICBpZihpbnN0cnVjdGlvbnMgPT0gbnVsbCkgeyBpbnN0cnVjdGlvbnMgPSBqc29uLmRhdGE/LnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjI/Lmluc3RydWN0aW9uczsgfQogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgaW5zdHJ1Y3Rpb25zID0ganNvbi5kYXRhPy5ib29rbWFya190aW1lbGluZV92Mj8udGltZWxpbmU/Lmluc3RydWN0aW9uczsgfQogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgZm9yKGxldCBpbnN0ID0gMDsgaW5zdCA8IGluc3RydWN0aW9ucy5sZW5ndGg7IGluc3QrKykKICAgIHsKICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaW5zdF07CiAgICAgICAgaWYoaW5zdHJ1Y3Rpb24udHlwZSA9PSAiVGltZWxpbmVBZGRFbnRyaWVzIikKICAgICAgICB7CiAgICAgICAgICAgIHByb2Nlc3NUaW1lbGluZUVudHJpZXMoaW5zdHJ1Y3Rpb24uZW50cmllcyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoaW5zdHJ1Y3Rpb24udHlwZSA9PSAiVGltZWxpbmVQaW5FbnRyeSIpCiAgICAgICAgewogICAgICAgICAgICBwcm9jZXNzVGltZWxpbmVFbnRyeShpbnN0cnVjdGlvbi5lbnRyeSk7IC8vUGlubmVkIHR3ZWV0CiAgICAgICAgfQogICAgfQp9Cgp2YXIgZmlyc3RSdW4gPSB0cnVlOwoKZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0c1F1ZXJ5KGVudHJpZXMpCnsKICAgIGZvcihsZXQgaSA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pCiAgICB7CiAgICAgICAgbGV0IGVudHJ5ID0gZW50cmllc1tpXTsKICAgICAgICBsZXQgY29udGVudCA9IGVudHJ5LmNvbnRlbnQ7CiAgICAgICAgaWYoY29udGVudCA9PSBudWxsKSB7IGNvbnRpbnVlOyB9CgogICAgICAgIGlmKGNvbnRlbnQuaXRlbXMpCiAgICAgICAgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5pdGVtc1swXS5pdGVtLml0ZW1Db250ZW50OwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5pdGVtQ29udGVudDsKICAgICAgICB9CgogICAgICAgIGlmKGNvbnRlbnQgPT0gbnVsbCB8fCBjb250ZW50LnR3ZWV0X3Jlc3VsdHMgPT0gbnVsbCkgeyBjb250aW51ZTsgfQogICAgICAgIGlmKGZpcnN0UnVuICYmIGVudHJpZXMubGVuZ3RoIDw9IDQpIC8vQXZvaWQgdGhlIHRpbWVsaW5lIGZyZWV6aW5nIGZyb20gbm90IGVub3VnaCBpbml0aWFsIGVudHJpZXMKICAgICAgICB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgaWYoY29udGVudC5wcm9tb3RlZE1ldGFkYXRhICYmIGNvbnRlbnQucHJvbW90ZWRNZXRhZGF0YS5hZHZlcnRpc2VyX3Jlc3VsdHMpCiAgICAgICAgewogICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihjb250ZW50LnNvY2lhbENvbnRleHQpCiAgICAgICAgewoKICAgICAgICAgICAgbGV0IGNvbnRleHRUeXBlID0gY29udGVudC5zb2NpYWxDb250ZXh0LmNvbnRleHRUeXBlOwoKICAgICAgICAgICAgaWYoKCF0b2dnbGVMaWtlZC5lbmFibGVkICYmIGNvbnRleHRUeXBlID09ICJMaWtlIikgfHwgKCF0b2dnbGVGb2xsb3dlZC5lbmFibGVkICYmIGNvbnRleHRUeXBlID09ICJGb2xsb3ciKSB8fCAoIXRvZ2dsZVRvcGljcy5lbmFibGVkICYmIGNvbnRlbnQuc29jaWFsQ29udGV4dC50eXBlID09ICJUaW1lbGluZVRvcGljQ29udGV4dCIpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgZWxzZSBpZighdG9nZ2xlUmV0d2VldC5lbmFibGVkCiAgICAgICAgICAgICAgICAmJiBjb250ZW50LnR3ZWV0X3Jlc3VsdHMucmVzdWx0LmxlZ2FjeSAhPSBudWxsCiAgICAgICAgICAgICAgICAmJiBjb250ZW50LnR3ZWV0X3Jlc3VsdHMucmVzdWx0LmxlZ2FjeS5yZXR3ZWV0ZWRfc3RhdHVzX3Jlc3VsdCAhPSBudWxsCiAgICAgICAgICAgICAgICYmIGNvbnRlbnQudHdlZXRfcmVzdWx0cy5yZXN1bHQubGVnYWN5LnJldHdlZXRlZF9zdGF0dXNfcmVzdWx0LnJlc3VsdC5jb3JlLnVzZXJfcmVzdWx0cy5yZXN1bHQubGVnYWN5LmZvbGxvd2luZyA9PSBmYWxzZSkgLy9Pbmx5IGhpZGUgdGhlIFJldHdlZXQgaWYgaXQncyBub3QgdGhlIHVzZXIncyBvd24gdHdlZXQKICAgICAgICB7CgogICAgICAgICAgICAgZW50cmllcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgfQoKICAgIGZpcnN0UnVuID0gZmFsc2U7CiAgICByZXR1cm4gZW50cmllczsKfQoKCmZ1bmN0aW9uIGdldFBvc3RCdXR0b25Db3B5KHR3ZWV0LCBuYW1lLCBzdmcsIHN2Z1ZpZXdCb3gsIGNvbG9yLCBiZ0NvbG9yLCBvbkhvdmVyaW5nLCBvbk5vdEhvdmVyaW5nKQp7CiAgICBsZXQgZ2V0QnV0dG9uVG9EdXBlID0gZnVuY3Rpb24gKGJ0bkdycCkgeyByZXR1cm4gYnRuR3JwLmxhc3RDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7IH07CiAgICBsZXQgaXNJZnJhbWUgPSBmYWxzZTsKICAgIGxldCBpZCA9ICJ0aGRfYnV0dG9uXyIgKyBuYW1lOwoKICAgIGxldCBidXR0b25HcnAgPSB0d2VldC5jbG9zZXN0KCdhcnRpY2xlW3JvbGU9ImFydGljbGUiXScpPy5xdWVyeVNlbGVjdG9yKCdkaXZbcm9sZT0iZ3JvdXAiXVtpZF49ImlkX18iXScpOwogICAgaWYgKGJ1dHRvbkdycCA9PSBudWxsKSAvL1RyeSBpZnJhbWUgdmVyc2lvbgogICAgewogICAgICAgIGJ1dHRvbkdycCA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdiBhW2hyZWYqPSJsaWtlPyJdJyk/LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgaWYgKGJ1dHRvbkdycCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgaXNJZnJhbWUgPSB0cnVlOwogICAgICAgICAgICBnZXRCdXR0b25Ub0R1cGUgPSBmdW5jdGlvbiAoYnRuR3JwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gYnRuR3JwLnF1ZXJ5U2VsZWN0b3IoJ2E6bnRoLWNoaWxkKDIpJykuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0KICAgIGlmIChidXR0b25HcnAgPT0gbnVsbCB8fCBidXR0b25HcnAucXVlcnlTZWxlY3RvcigiZGl2IyIgKyBpZCkgIT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfSAvL0J1dHRvbiBncm91cCBkb2Vzbid0IGV4aXN0IG9yIHdlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgZWxlbWVudCBhbmQgYWRkZWQgYSBETCBidXR0b24KCiAgICBidXR0b25HcnAuc3R5bGUubWF4V2lkdGggPSAiMTAwJSI7CgogICAgaWYoIXRvZ2dsZUFuYWx5dGljc0Rpc3BsYXkuZW5hYmxlZCkKICAgIHsKICAgICAgICBsZXQgYW5hbEJ0biA9IGJ1dHRvbkdycC5xdWVyeVNlbGVjdG9yKCdhW2hyZWYkPSIvYW5hbHl0aWNzIl0nKTsKICAgICAgICBpZihhbmFsQnRuKSB7IGFuYWxCdG4ucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyB9CiAgICB9CgogICAgbGV0IGJ0biA9IGdldEJ1dHRvblRvRHVwZShidXR0b25HcnApOwoKICAgIGlmKGJ0biAhPSBudWxsKQogICAgewogICAgICAgIGJ1dHRvbkdycC5hcHBlbmRDaGlsZChidG4pOwogICAgICAgIGJ0bi5pZCA9IGlkOwogICAgICAgIGJ0bi5zdHlsZS5tYXJnaW5SaWdodCA9ICI4cHgiOwogICAgICAgIGJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjhweCI7CiAgICAgICAgJChidG4ucGFyZW50Tm9kZSkuYWRkQ2xhc3MoYnRuLmNsYXNzTmFtZSk7CiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG5hbWUpOwogICAgICAgIGJ0bi50aXRsZSA9IG5hbWU7CiAgICAgICAgY29uc3QgaWNvbkRpdiA9IGlzSWZyYW1lID8gYnRuLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkaXI9ImF1dG8iXScpIDogYnRuLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkaXI9Imx0ciJdJyk7CiAgICAgICAgY29uc3Qgc3ZnRWxlbSA9IGJ0bi5xdWVyeVNlbGVjdG9yKCdzdmcnKTsKICAgICAgICBjb25zdCBiZyA9IGlzSWZyYW1lID8gc3ZnRWxlbS5wYXJlbnRFbGVtZW50IDogaWNvbkRpdi5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZDsKCiAgICAgICAgc3ZnRWxlbS5pbm5lckhUTUwgPSBzdmc7CgogICAgICAgIHN2Z0VsZW0uc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgc3ZnVmlld0JveCk7CgogICAgICAgIGNvbnN0IG9sZEJHQ29sb3IgPSAkKGJnKS5jc3MoImJhY2tncm91bmQtY29sb3IiKTsKICAgICAgICBjb25zdCBvbGRJY29uQ29sb3IgPSAkKGljb25EaXYpLmNzcygiY29sb3IiKTsKCiAgICAgICAgbGV0IGhvdmVyID0gZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgJChiZykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgYmdDb2xvcik7CiAgICAgICAgICAgICQoYmcpLmNzcygiYm9yZGVyLXJhZGl1cyIsICIyMHB4Iik7CiAgICAgICAgICAgICQoc3ZnRWxlbSkuY3NzKCJjb2xvciIsIGNvbG9yKTsKICAgICAgICAgIC8vICBvbkhvdmVyaW5nKHtidG46IGJ0biwgaW5JZnJhbWU6IGlzSWZyYW1lLCBzdmc6IHN2Z0VsZW19KTsKICAgICAgICB9OwoKICAgICAgICBsZXQgdW5ob3ZlciA9IGZ1bmN0aW9uKCkKICAgICAgICB7CiAgICAgICAgICAgICQoYmcpLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIG9sZEJHQ29sb3IpOwogICAgICAgICAgICAkKHN2Z0VsZW0pLmNzcygiY29sb3IiLCBvbGRJY29uQ29sb3IpOwogICAgICAgICAgICBpZihvbk5vdEhvdmVyaW5nKSBvbk5vdEhvdmVyaW5nKHN2Z0VsZW0pOwogICAgICAgIH07CgogICAgICAgIGxldCB1cGRhdGVDb2xvciA9IGZ1bmN0aW9uKCkKICAgICAgICB7CiAgICAgICAgICBpZihidG4ubWF0Y2hlcygiOmhvdmVyIikpIHsgdW5ob3ZlcigpOyB9CiAgICAgICAgICBlbHNlIHsgaG92ZXIoKTsgfQogICAgICAgIH07CgogICAgICAgIC8vRW11bGF0ZSBUd2l0dGVyIGhvdmVyIGNvbG9yIGNoYW5nZQogICAgICAgICQoYnRuKS5ob3ZlcigoKSA9PiB7IGhvdmVyKCk7IH0sICgpID0+IHsgdW5ob3ZlcigpOyB9KTsKCiAgICAgICAgJChiZykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgb2xkQkdDb2xvcik7CiAgICAgICAgJChzdmdFbGVtKS5jc3MoImNvbG9yIiwgb2xkSWNvbkNvbG9yKTsKCgogICAgICAgIHJldHVybiB7YnRuOiBidG4sIGluSWZyYW1lOiBpc0lmcmFtZSwgc3ZnOiBzdmdFbGVtLCBkb0hvdmVyOiBob3ZlciwgZG9VbmhvdmVyOiB1bmhvdmVyLCB1cGRhdGVDb2w6IHVwZGF0ZUNvbG9yfTsKICAgIH0KCiAgICByZXR1cm4ge2J0bjogYnRuLCBpbklmcmFtZTogaXNJZnJhbWUsIHN2ZzogbnVsbH07Cn0KCmZ1bmN0aW9uIGFkZEJvb2ttYXJrQnV0dG9uKHR3ZWV0RGF0YSkKewogICAgbGV0IGlkID0gdHdlZXREYXRhLmlkOwogICAgbGV0IHR3ZWV0ID0gdHdlZXREYXRhLnR3ZWV0RWxlbTsKICAgIGlmKHR3ZWV0ID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgaWYodHdlZXQucXVlcnlTZWxlY3RvcignZGl2W2RhdGEtdGVzdGlkPSJib29rbWFyayJdJykgIT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBsZXQgb25Ib3ZlclN0b3BwZWQgPSBmdW5jdGlvbihzdmdFbGVtLCB0d2VldElEKQogICAgewogICAgICAgICBsZXQgdHdlZXREYXRhID0gdHdlZXRzLmdldCh0d2VldElEKTsKICAgICAgICBpZih0d2VldERhdGEgJiYgdHdlZXREYXRhLmJvb2ttYXJrZWQoKSkgewogICAgICAgICAgICAkKHN2Z0VsZW0pLmNzcygiY29sb3IiLCAiIzFjOWJmMEZGIik7CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IGJ0bkNvcHkgPSBnZXRQb3N0QnV0dG9uQ29weSh0d2VldCwgIkJvb2ttYXJrIiwgYm9va21hcmtTVkcsICIwIDAgMjQgMjQiLCAiIzFjOWJmMCIsICIjMWM5YmYwMWEiLCAoZGF0YSk9Pnt9LCAoc3ZnRWxlbSkgPT4ge29uSG92ZXJTdG9wcGVkKHN2Z0VsZW0sIGlkKTt9KTsKCiAgICBpZihidG5Db3B5ID09IG51bGwpIHsgcmV0dXJuOyB9CiAgICBsZXQgYnRuID0gYnRuQ29weS5idG47CiAgICBpZihidG4gPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBvbkhvdmVyU3RvcHBlZChidG5Db3B5LnN2ZywgaWQpOwoKICAgICQoYnRuKS5jbGljayhmdW5jdGlvbiAoZSkKICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBsZXQgdHdlZXREYXRhID0gdHdlZXRzLmdldChpZCk7CgogICAgICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IGNvbnNvbGUubG9nKCJDb3VsZG4ndCBmaW5kIHR3ZWV0IGRhdGEgZm9yOiAiICsgaWQpOyByZXR1cm47fQogICAgICAgIGlmKHR3ZWV0RGF0YS5ib29rbWFya2VkKCkpCiAgICAgICAgewogICAgICAgICAgICB1bmJvb2ttYXJrUG9zdChpZCwgKHJlc3ApID0+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKHJlc3Auc3RhdHVzIDwgMzAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHR3ZWV0RGF0YS51bmJvb2ttYXJrKCk7CiAgICAgICAgICAgICAgICAgICAgYnRuQ29weS51cGRhdGVDb2woKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgYm9va21hcmtQb3N0KGlkLCAocmVzcCkgPT4KICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZihyZXNwLnN0YXR1cyA8IDMwMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0d2VldERhdGEuYm9va21hcmsoKTsKICAgICAgICAgICAgICAgICAgICBidG5Db3B5LnVwZGF0ZUNvbCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gYWRkRG93bmxvYWRCdXR0b24odHdlZXREYXRhLCBtZWRpYUluZm8pCnsKICAgIGZvcihsZXQgaSA9IG1lZGlhSW5mby5kYXRhLm1lZGlhTnVtIC0gMjsgaSA+IDA7IGktLSkKICAgIHsKICAgICAgICBpZih0d2VldERhdGEubWVkaWFbaV0udHlwZSA9PSAndmlkZW8nKSB7IHJldHVybjsgfQogICAgfQogICAgbGV0IHZpZFVybCA9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkw7CiAgICBjb25zdCBidG5Db3B5ID0gZ2V0UG9zdEJ1dHRvbkNvcHkodHdlZXREYXRhLnR3ZWV0RWxlbSwgIkRvd25sb2FkIiwgZGxTVkcsICItODAgLTgwIDE2MCAxNjAiLCAiI2YzZDYwN0ZGIiwgIiNmM2Q2MDcyMCIpOwogICAgaWYoYnRuQ29weSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IGRsQnRuID0gYnRuQ29weS5idG47CgogICAgaWYoZGxCdG4gPT0gbnVsbCB8fCBidG5Db3B5ID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgbGV0IGlzSWZyYW1lID0gYnRuQ29weS5pbklmcmFtZTsKICAgIGNvbnN0IGZpbGVuYW1lID0gZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhSW5mby5kYXRhKTsKCiAgICBkbEJ0bi5ocmVmID0gdmlkVXJsOwoKICAgIGNvbnN0IGxpbmtFbGVtID0gaXNJZnJhbWUgPyBkbEJ0biA6ICQoZGxCdG4pLndyYXBBbGwoYDxhIGhyZWY9IiR7dmlkVXJsfSIgZG93bmxvYWQ9IiR7ZmlsZW5hbWV9IiBzdHlsZT0iIj48L2E+YClbMF0ucGFyZW50RWxlbWVudDsKCiAgICBpZiAoaXNJZnJhbWUpCiAgICB7CiAgICAgICAgbGlua0VsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTsKICAgICAgICBkbEJ0bi5xdWVyeVNlbGVjdG9yKCdkaXZbZGlyPSJhdXRvIl0gPiBzcGFuJykuaW5uZXJUZXh0ID0gIkRvd25sb2FkIjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkbEJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIiI7CiAgICAgICAgbGlua0VsZW0uc3R5bGUuY3NzVGV4dCA9IGRsQnRuLnN0eWxlLmNzc1RleHQ7CiAgICAgICAgZGxCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSAiIjsKICAgIH0KCgogICAgJChsaW5rRWxlbSkuY2xpY2soZnVuY3Rpb24gKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgZG93bmxvYWQodmlkVXJsLCBmaWxlbmFtZSk7IH0pOwp9CgpmdW5jdGlvbiB3YWl0Rm9ySW1nTG9hZChpbWcpCnsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PgogICAgewogICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7CiAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7CiAgICB9KTsKfQoKZnVuY3Rpb24gdXBkYXRlSW1nU3JjKGltZ0VsZW0sIGJnRWxlbSwgc3JjKQp7CiAgICBpZiAoaW1nRWxlbS5zcmMgIT0gc3JjICYmIHRvZ2dsZUhRSW1nLmVuYWJsZWQpCiAgICB7CiAgICAgICAgaW1nRWxlbS5zcmMgPSBzcmM7CiAgICAgICAgYmdFbGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoIiR7c3JjfSIpYDsKICAgIH0KfTsKCmZ1bmN0aW9uIHVwZGF0ZUVsZW1QYWRkaW5nKHBhbmVsQ250LCBiYWNrZ3JvdW5kLCBpbWdDb250YWluZXJFbGVtKQp7CiAgICBpZiAocGFuZWxDbnQgIT0gMykKICAgIHsKICAgICAgICBpZihiYWNrZ3JvdW5kKQogICAgICAgIHsKICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgICB9IGVsc2Uge30KICAgICAgICAvL2ltZ0NvbnRhaW5lckVsZW0uc3R5bGUubWFyZ2luQm90dG9tID0gIjAlIjsKICAgIH0KICAgIGlmIChwYW5lbENudCA8IDIpCiAgICB7CiAgICAgICAgaW1nQ29udGFpbmVyRWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaW1nQ29udGFpbmVyRWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAlIjsKICAgICAgICBpbWdDb250YWluZXJFbGVtLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjAlIjsKICAgICAgICBpbWdDb250YWluZXJFbGVtLnN0eWxlLm1hcmdpblRvcCA9ICIwJSI7CiAgICB9Cn07CgpmdW5jdGlvbiB1cGRhdGVDb250ZW50RWxlbWVudCh0d2VldERhdGEsIG1lZGlhSW5mbywgZWxlbUluZGV4LCBlbGVtQ250KQp7CiAgICBsZXQgaHFTcmMgPSB0d2VldERhdGEuZGF0YS51cmxTcmM7CiAgICBsZXQgbWVkaWFFbGVtID0gbWVkaWFJbmZvLm1lZGlhRWxlbTsKICAgIGxldCB0d2VldFBob3RvID0gbWVkaWFFbGVtLmNsb3Nlc3QoJ2RpdltkYXRhLXRlc3RpZD0idHdlZXRQaG90byJdJyk7CiAgICBjb25zdCBmbGV4RGlyID0gJCh0d2VldFBob3RvKS5jc3MoJ2ZsZXgtZGlyZWN0aW9uJyk7CiAgICBjb25zdCBpc1ZpZGVvID0gbWVkaWFJbmZvLmRhdGEudHlwZSA9PSAndmlkZW8nOwogICAgbGV0IGJnID0gaXNWaWRlbyA/IG1lZGlhRWxlbS5wYXJlbnRFbGVtZW50IDogdHdlZXRQaG90by5xdWVyeVNlbGVjdG9yKCdkaXZbc3R5bGVePSJiYWNrZ3JvdW5kLWltYWdlIl0nKTsKCiAgICBsZXQgbGlua0VsZW0gPSB0d2VldFBob3RvLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0idmlkZW9QbGF5ZXIiXScpID8/IG1lZGlhRWxlbS5jbG9zZXN0KCdhJyk7CgogICAgbWVkaWFJbmZvLnR3ZWV0UGhvdG9FbGVtID0gdHdlZXRQaG90bzsKICAgIG1lZGlhSW5mby5saW5rRWxlbSA9IGxpbmtFbGVtOwogICAgbWVkaWFJbmZvLmJnRWxlbSA9IGJnOwogICAgbWVkaWFJbmZvLmZsZXggPSBmbGV4RGlyOwoKICAgIGlmKGlzVmlkZW8pCiAgICB7CiAgICAgICAgYWRkRG93bmxvYWRCdXR0b24odHdlZXREYXRhLCBtZWRpYUluZm8pOwogICAgfQogICAgZWxzZSBpZihtZWRpYUVsZW0uc3JjICE9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpCiAgICB7CiAgICAgICAgdXBkYXRlSW1nU3JjKG1lZGlhRWxlbSwgYmcsIG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpOwogICAgfQoKICAgIGFkZEN1c3RvbUN0eE1lbnUodHdlZXREYXRhLCBtZWRpYUluZm8sIG1lZGlhSW5mby5saW5rRWxlbSk7Ci8vICAgIG1lZGlhRWxlbS5zZXRBdHRyaWJ1dGUobW9kaWZpZWRBdHRyLCAiIik7CgogICAgdXBkYXRlRWxlbVBhZGRpbmcoZWxlbUNudCwgYmcsIHR3ZWV0UGhvdG8pOwogICAgZG9PbkF0dHJpYnV0ZUNoYW5nZSh0d2VldFBob3RvLCAoY29udGFpbmVyKSA9PiB1cGRhdGVFbGVtUGFkZGluZyhlbGVtQ250LCBiZywgY29udGFpbmVyKSwgdHJ1ZSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRFbGVtZW50cyh0d2VldERhdGEsIG1lZGlhSW5mb3MpCnsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsIHx8IG1lZGlhSW5mb3MgPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBsZXQgZWxlbUNudCA9IG1lZGlhSW5mb3MubGVuZ3RoOwogICAgZm9yKGxldCBpID0gMDsgaSA8IGVsZW1DbnQ7IGkrKykKICAgIHsKICAgICAgICB1cGRhdGVDb250ZW50RWxlbWVudCh0d2VldERhdGEsIG1lZGlhSW5mb3NbaV0sIGksIGVsZW1DbnQpOwogICAgfQoKICAgIHVwZGF0ZUNvbnRlbnRMYXlvdXQodHdlZXREYXRhLCBtZWRpYUluZm9zKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ29udGVudExheW91dCh0d2VldERhdGEsIG1lZGlhRWxlbXMpCnsKICAgICBwcm9jZXNzQmx1ckJ1dHRvbih0d2VldERhdGEudHdlZXRFbGVtKTsKCiAgICBsZXQgZWxlbUNudCA9IG1lZGlhRWxlbXMubGVuZ3RoOwoKICAgIGxldCByYXRpbyA9IDEwMDsKCiAgICByYXRpbyA9IChtZWRpYUVsZW1zWzBdLmRhdGEuaGVpZ2h0IC8gbWVkaWFFbGVtc1swXS5kYXRhLndpZHRoKSAqIDEwMDsKCiAgICBpZiAoZWxlbUNudCA9PSAyKQogICAgewogICAgICAgIGxldCBpbWcxID0gbWVkaWFFbGVtc1swXTsKICAgICAgICBsZXQgaW1nMiA9IG1lZGlhRWxlbXNbMV07CiAgICAgICAgbGV0IGltZzFSYXRpbyA9IGltZzEuZGF0YS5oZWlnaHQgLyBpbWcxLmRhdGEud2lkdGg7CiAgICAgICAgbGV0IGltZzJSYXRpbyA9IGltZzIuZGF0YS5oZWlnaHQgLyBpbWcyLmRhdGEud2lkdGg7CiAgICAgICAgdmFyIGltZ1RvUmF0aW8gPSBpbWcxUmF0aW8gPiBpbWcyUmF0aW8gPyBpbWcxIDogaW1nMjsKICAgICAgICByYXRpbyA9IChpbWdUb1JhdGlvLmRhdGEuaGVpZ2h0IC8gaW1nVG9SYXRpby5kYXRhLndpZHRoKTsKCiAgICAgICAgaW1nMS5iZ0VsZW0uc3R5bGUuYmFja2dyb3VuZFNpemUgPSAiY292ZXIiOwogICAgICAgIGltZzIuYmdFbGVtLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgICBpbWcxLnR3ZWV0UGhvdG9FbGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpOwogICAgICAgIGltZzIudHdlZXRQaG90b0VsZW0ucGFyZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIik7CgogICAgICAgIGlmIChpbWcxLmZsZXggPT0gInJvdyIpCiAgICAgICAgewogICAgICAgICAgICBpZiAoaW1nVG9SYXRpby5kYXRhLmhlaWdodCA+IGltZ1RvUmF0aW8uZGF0YS53aWR0aCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmF0aW8gKj0gMC41OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIC8vaWYocmF0aW8gPiAxLjApIHsgICByYXRpbyA9ICgocmF0aW8gLSAxLjApICogMC41KSArIDEuMDt9CiAgICAgICAgICAgIHJhdGlvICo9IDAuNTsKICAgICAgICB9CgogICAgICAgIHJhdGlvID0gTWF0aC5taW4ocmF0aW8sIDMuMCk7CiAgICAgICAgcmF0aW8gPSByYXRpbyAqIDEwMDsKICAgIH0KICAgIGVsc2UgaWYgKGVsZW1DbnQgPT0gMyAmJiBtZWRpYUVsZW1zWzBdLmZsZXggPT0gInJvdyIpCiAgICB7CiAgICAgICAgbGV0IGltZzEgPSBtZWRpYUVsZW1zWzBdOwogICAgICAgIGxldCBpbWcxUmF0aW8gPSBpbWcxLmRhdGEuaGVpZ2h0IC8gaW1nMS5kYXRhLndpZHRoOwogICAgICAgIGlmIChpbWcxUmF0aW8gPCAxLjEwICYmIGltZzFSYXRpbyA+IDAuOSkgeyBpbWcxLmJnRWxlbS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICJjb250YWluIjsgfQogICAgfQogICAgZWxzZSBpZiAoZWxlbUNudCA9PSA0KQogICAgewogICAgICAgIGlmIChtZWRpYUVsZW1zWzBdLmRhdGEud2lkdGggPiBtZWRpYUVsZW1zWzBdLmRhdGEuaGVpZ2h0ICYmCiAgICAgICAgICAgIG1lZGlhRWxlbXNbMV0uZGF0YS53aWR0aCA+IG1lZGlhRWxlbXNbMV0uZGF0YS5oZWlnaHQgJiYKICAgICAgICAgICAgbWVkaWFFbGVtc1syXS5kYXRhLndpZHRoID4gbWVkaWFFbGVtc1syXS5kYXRhLmhlaWdodCAmJgogICAgICAgICAgICBtZWRpYUVsZW1zWzNdLmRhdGEud2lkdGggPiBtZWRpYUVsZW1zWzNdLmRhdGEuaGVpZ2h0KQogICAgICAgIHt9IC8vQWxsLXdpZGUgNC1wYW5lbCBhbHJlYWR5IGhhcyBhbiBvcHRpbWFsIGxheW91dCBieSBkZWZhdWx0LgogICAgICAgIGVsc2UgaWYgKG1lZGlhRWxlbXNbMF0uZGF0YS53aWR0aCA+IG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQpCiAgICAgICAgewogICAgICAgICAgICAvLyByYXRpbyA9IDEwMDsKICAgICAgICAgICAgbGV0IGltZzFSYXRpbyA9IG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQgLyBtZWRpYUVsZW1zWzBdLmRhdGEud2lkdGg7CiAgICAgICAgICAgIGxldCBpbWcyUmF0aW8gPSBtZWRpYUVsZW1zWzFdLmRhdGEuaGVpZ2h0IC8gbWVkaWFFbGVtc1sxXS5kYXRhLndpZHRoOwogICAgICAgICAgICBsZXQgaW1nM1JhdGlvID0gbWVkaWFFbGVtc1syXS5kYXRhLmhlaWdodCAvIG1lZGlhRWxlbXNbMl0uZGF0YS53aWR0aDsKICAgICAgICAgICAgbGV0IGltZzRSYXRpbyA9IG1lZGlhRWxlbXNbM10uZGF0YS5oZWlnaHQgLyBtZWRpYUVsZW1zWzNdLmRhdGEud2lkdGg7CiAgICAgICAgICAgIGxldCBtaW5JbWcgPSBpbWcxUmF0aW8gPiBpbWcyUmF0aW8gPyBtZWRpYUVsZW1zWzFdIDogbWVkaWFFbGVtc1swXTsKCiAgICAgICAgICAgIHJhdGlvID0gKG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQgKyBtZWRpYUVsZW1zWzFdLmRhdGEuaGVpZ2h0KSAvIG1pbkltZy5kYXRhLndpZHRoOwogICAgICAgICAgICByYXRpbyAqPSAxMDA7CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IHVwZGF0ZVBhZGRlciA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICBjb25zdCBwYWRkZXIgPSB0d2VldERhdGEudHdlZXRFbGVtLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpZF49ImlkXyJdIGRpdltzdHlsZV49InBhZGRpbmctYm90dG9tIl0nKTsKCiAgICAgICAgaWYocGFkZGVyICE9IG51bGwgJiYgcGFkZGVyLmdldEF0dHJpYnV0ZSgibW9kaWZpZWRQYWRkaW5nIikgPT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGNvbnN0IG1vZFBhZGRpbmdBdHRyID0gIm1vZGlmaWVkUGFkZGluZyI7CiAgICAgICAgICAgIGNvbnN0IHBhZGRlclBhcmVudCA9IHBhZGRlci5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICBjb25zdCBmbGV4ZXIgPSBwYWRkZXIuY2xvc2VzdCgnZGl2W2lkXj0iaWRfIl0gPiBkaXYnKTsKICAgICAgICAgICAgY29uc3QgYmcgPSBmbGV4ZXIucXVlcnlTZWxlY3RvcignZGl2W3N0eWxlXj0iYmFja2dyb3VuZCJdID4gZGl2Jyk7CgogICAgICAgICAgICBwYWRkZXJQYXJlbnQuc3R5bGUgPSAiIjsKICAgICAgICAgICAgcGFkZGVyLnN0eWxlID0gYHBhZGRpbmctYm90dG9tOiAke3JhdGlvfSU7YDsKICAgICAgICAgICAgcGFkZGVyLnNldEF0dHJpYnV0ZShtb2RQYWRkaW5nQXR0ciwgIiIpOwogICAgICAgICAgICBwYWRkZXJQYXJlbnQuc2V0QXR0cmlidXRlKG1vZFBhZGRpbmdBdHRyLCAiIik7CiAgICAgICAgICAgIGZsZXhlci5zdHlsZSA9ICJhbGlnbi1zZWxmOm5vcm1hbDsgIWltcG9ydGFudCI7IC8vQ291bnRlcmFjdCBUd2l0dGVyJ3MgbmV3IHZhcmlhYmxlIHdpZHRoIGRpc3BsYXkgb2YgY29udGVudCB0aGF0IGlzIHJhdGhlciB3YXN0ZWZ1bCBvZiBzY3JlZW5zcGFjZQogICAgICAgICAgICBpZihiZykgeyBiZy5zdHlsZS53aWR0aCA9ICIxMDAlIjsgfQoKICAgICAgICAgICAgZG9PbkF0dHJpYnV0ZUNoYW5nZShwYWRkZXIsIChwYWRkZXJFbGVtKSA9PiB7IGlmKHBhZGRlckVsZW0uZ2V0QXR0cmlidXRlKCJtb2RpZmllZFBhZGRpbmciKSA9PSBudWxsKSB7IHBhZGRlckVsZW0uc3R5bGUgPSAicGFkZGluZy1ib3R0b206ICIgKyAocmF0aW8pICsgIiU7Ijt9IH0pCiAgICAgICAgICAgIGlmKHBhZGRlclBhcmVudC5nZXRBdHRyaWJ1dGUoIm1vZGlmaWVkUGFkZGluZyIpID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRvT25BdHRyaWJ1dGVDaGFuZ2UocGFkZGVyUGFyZW50LCAocGFkZGVyUGFyZW50RWxlbSkgPT4geyBpZihwYWRkZXJQYXJlbnRFbGVtLmdldEF0dHJpYnV0ZSgibW9kaWZpZWRQYWRkaW5nIikgPT0gbnVsbCkgeyBwYWRkZXJQYXJlbnRFbGVtLnN0eWxlID0gIiI7fSB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgdXBkYXRlUGFkZGVyKCk7CiAgICB3YXRjaEZvckNoYW5nZSh0d2VldERhdGEudHdlZXRFbGVtLCBhcmdzQ2hpbGRBbmRTdWIsICh0d2VldCwgbXV0ZXMpID0+IHsgdXBkYXRlUGFkZGVyKCk7IH0pOwoKCiAvKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbUNudDsgaSsrKQogICAgewogICAgICAgIGxldCBjdXJJbWcgPSBtZWRpYUVsZW1zW2ldOwogICAgICAgIHVwZGF0ZUltZ1NyYyhjdXJJbWcsIGN1ckltZy5iZ0VsZW0sIGN1ckltZy5ocVNyYyk7CiAgICAgICAgZG9PbkF0dHJpYnV0ZUNoYW5nZShjdXJJbWcubGF5b3V0Q29udGFpbmVyLCAoKSA9PiB7IHVwZGF0ZUltZ1NyYyhjdXJJbWcsIGN1ckltZy5iZ0VsZW0sIGN1ckltZy5ocVNyYykgfSk7CiAgICB9Ki8KCiAgICAvL0Fubm95aW5nIEVkZ2UuLi4uZWRnZS1jYXNlLiBIYXZlIHRvIGZpbmQgdGhpcyByYW5kb20gY2xhc3MgbmFtZSBnZW5lcmF0ZWQgZWxlbWVudCBhbmQgcmVtb3ZlIGl0cyBhbGlnbiBzbyB0aGF0IGVsZW1lbnRzIHdpbGwgZXhwYW5kIGZ1bGx5IGludG8gdGhlIGZlZWQgY29sdW1uCiAgICB2YXIgZWRnZUNhc2UgPSBnZXRDU1NSdWxlQ29udGFpbmluZ1N0eWxlKCdhbGlnbi1zZWxmJywgWycuci0nXSwgMCwgJ2ZsZXgtc3RhcnQnKTsKICAgIGlmIChlZGdlQ2FzZSAhPSBudWxsKQogICAgewogICAgICAgIGVkZ2VDYXNlLnN0eWxlLnNldFByb3BlcnR5KCdhbGlnbi1zZWxmJywgImluaGVyaXQiKTsKICAgIH0KCi8vICAgIGlmKHBhZGRlciAhPSBudWxsKQovLyAgICB7CiAvLyAgICAgICBkb09uQXR0cmlidXRlQ2hhbmdlKHBhZGRlciwgKHBhZGRlckVsZW0pID0+IHsgaWYocGFkZGVyRWxlbS5nZXRBdHRyaWJ1dGUoIm1vZGlmaWVkUGFkZGluZyIpID09IG51bGwpIHsgcGFkZGVyRWxlbS5zdHlsZSA9ICJwYWRkaW5nLWJvdHRvbTogIiArIChyYXRpbykgKyAiJTsiO30gfSkKIC8vICAgICAgIGRvT25BdHRyaWJ1dGVDaGFuZ2UocGFkZGVyLnBhcmVudEVsZW1lbnQsIChwYWRkZXJQYXJlbnRFbGVtKSA9PiB7IGlmKHBhZGRlclBhcmVudEVsZW0uZ2V0QXR0cmlidXRlKCJtb2RpZmllZFBhZGRpbmciKSA9PSBudWxsKSB7IHBhZGRlclBhcmVudEVsZW0uc3R5bGUgPSAiIjt9IH0pCiAvLyAgIH0KfQoKCmZ1bmN0aW9uIGlzQWR2ZXJ0KHR3ZWV0KQp7CiAgICBsZXQgaW1wcmVzc2lvbiA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0icGxhY2VtZW50VHJhY2tpbmciXSBkaXZbZGF0YS10ZXN0aWQkPSJpbXByZXNzaW9uLXBpeGVsIl0nKTsKICAgIGlmKGltcHJlc3Npb24pCiAgICB7CiAgICAgICAgdHdlZXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0Q29udGVudCh0d2VldERhdGEpCnsKICAgIGxldCBtZWRpYXMgPSB0d2VldERhdGEubWVkaWE7CiAgICBsZXQgZWxlbXNRdWVyeSA9IG5ldyBBcnJheShtZWRpYXMubGVuZ3RoKTsKICAgIGxldCBtZWRpYUluZm9zID0gbmV3IEFycmF5KG1lZGlhcy5sZW5ndGgpOwoKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBtZWRpYXMubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgbGV0IG1lZGlhRGF0YSA9IHR3ZWV0RGF0YS5nZXRNZWRpYURhdGEoaSk7CiAgICAgICAgbWVkaWFJbmZvc1tpXSA9IHsgZGF0YTogbWVkaWFEYXRhLCBtZWRpYUVsZW06IG51bGwsIGxpbmtFbGVtOiBudWxsLCB0d2VldFBob3RvRWxlbTogbnVsbCwgYmdFbGVtOiBudWxsLCBmbGV4OiBudWxsIH07CgogICAgICAgIGlmKG1lZGlhRGF0YS50eXBlID09ICdwaG90bycpCiAgICAgICAgewogICAgICAgICAgICBsZXQgc3JjSUQgPSBtZWRpYURhdGEuc3JjVVJMLnN1YnN0cmluZyhtZWRpYURhdGEuc3JjVVJMLmxhc3RJbmRleE9mKCcvJykgKyAxKS5zcGxpdCgnPycpWzBdLnNwbGl0KCcuJylbMF07CiAgICAgICAgICAgIGVsZW1zUXVlcnlbaV0gPSBhd2FpdEVsZW0odHdlZXREYXRhLnR3ZWV0RWxlbSwgYFtzcmMqPSIke3NyY0lEfSJdYCwgYXJnc0NoaWxkQW5kU3ViKTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgZWxlbXNRdWVyeVtpXSA9IGF3YWl0RWxlbSh0d2VldERhdGEudHdlZXRFbGVtLCBgdmlkZW9bcG9zdGVyPSIke21lZGlhRGF0YS5zcmNVUkx9Il1gLCBhcmdzQ2hpbGRBbmRTdWIpOwogICAgICAgIH0KICAgIH0KCiAgICBQcm9taXNlLmFsbChlbGVtc1F1ZXJ5KS50aGVuKCh2YWx1ZXMpID0+CiAgICB7CiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIG1lZGlhSW5mb3NbaV0ubWVkaWFFbGVtID0gdmFsdWVzW2ldOwogICAgICAgIH0KICAgICAgICB1cGRhdGVDb250ZW50RWxlbWVudHModHdlZXREYXRhLCBtZWRpYUluZm9zKTsKCiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0KHR3ZWV0LCB0d2VldE9ic2VydmVyKQp7CiAgICBpZiAodHdlZXQgPT0gbnVsbCAvKnx8ICghaXNPU3RhdHVzUGFnZSgpICYmIHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0icGxhY2VtZW50VHJhY2tpbmciXScpID09IG51bGwpKi8gKSB7IHJldHVybiBmYWxzZTsgfSAvL0lmIHZpZGVvLCBzaG91bGQgaGF2ZSBwbGFjZW1lbnRUcmFja2luZyBhZnRlciBmaXJzdCBtdXRhdGlvbgogICAgaWYgKHR3ZWV0LmdldEF0dHJpYnV0ZShtb2RpZmllZEF0dHIpICE9IG51bGwgfHwgdHdlZXQucXVlcnlTZWxlY3RvcihgWyR7bW9kaWZpZWRBdHRyfV1gKSApIHsgcmV0dXJuIHRydWU7IH0KICAgIHR3ZWV0T2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgYWRkSGFzQXR0cmlidXRlKHR3ZWV0LCBtb2RpZmllZEF0dHIpOwoKICAgIGlmKGlzQWR2ZXJ0KHR3ZWV0KSkgeyByZXR1cm47IH0KCiAgICBsZXQgdHdlZXREYXRhID0gZ2V0VHdlZXREYXRhKHR3ZWV0KTsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGFkZEJvb2ttYXJrQnV0dG9uKHR3ZWV0RGF0YSk7CgogICAgaWYodHdlZXREYXRhLmhhc01lZGlhKSB7IHByb2Nlc3NUd2VldENvbnRlbnQodHdlZXREYXRhKTsgfQogICAgaWYodHdlZXREYXRhLmlzUXVvdGUgJiYgdHdlZXREYXRhLnF1b3RlLmhhc01lZGlhKSB7CiAgICAgICAgdHdlZXREYXRhLnF1b3RlLnR3ZWV0RWxlbSA9IHR3ZWV0OwogICAgICAgIHByb2Nlc3NUd2VldENvbnRlbnQodHdlZXREYXRhLnF1b3RlKTsKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gbGlzdGVuRm9yTWVkaWFUeXBlKHR3ZWV0KQp7CiAgICBpZiAoYWRkSGFzQXR0cmlidXRlKHR3ZWV0LCAidGhkX29ic2VydmluZyIpKSB7IHJldHVybjsgfQoKICAvLyAgaWYoIXNldHVwRmlsdGVycyh0d2VldCkpIHsgcmV0dXJuOyB9CgogICAgY29uc3QgdHdlZXRPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRlTGlzdCwgb2JzZXJ2ZXIpID0+IHsgcHJvY2Vzc1R3ZWV0KHR3ZWV0LCBvYnNlcnZlcik7IH0pOwogICAgcHJvY2Vzc1R3ZWV0KHR3ZWV0LCB0d2VldE9ic2VydmVyKTsKICAgIHR3ZWV0T2JzZXJ2ZXIub2JzZXJ2ZSh0d2VldCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cn0KCmNvbnN0IHRvcGljc0ZpbHRlciA9ICdhW2hyZWZePSIvaS90b3BpY3MvIl0nOwpjb25zdCBsaWtlZEZpbHRlciA9ICdhW2hyZWZePSIvaS91c2VyLyJdJzsKY29uc3QgZm9sbG93c0ZpbHRlciA9ICdhW2hyZWY9Ii9pL3RpbWVsaW5lIl0nOwoKY29uc3Qgc2V0dXBUb2dnbGUgPSBmdW5jdGlvbihlbGVtLCB0b2dnbGUpCnsKICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IHRvZ2dsZS5lbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgIHRvZ2dsZS5saXN0ZW4oKGUpPT57CiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gZS5kZXRhaWwudG9nZ2xlLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwogICAgfSk7Cn0KCi8qCmZ1bmN0aW9uIHNldHVwRmlsdGVycyh0d2VldCkKewogICAgcmV0dXJuIHRydWU7CiAgICBsZXQgc29jaWFsQ3R4ID0gdHdlZXQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXRlc3RpZD0ic29jaWFsQ29udGV4dCJdJyk7CiAgICBpZihzb2NpYWxDdHggIT0gbnVsbCkKICAgIHsKICAgICAgICBsZXQgcm9vdCA9IHR3ZWV0LmNsb3Nlc3QoJ1tkYXRhLXRlc3RpZD0iY2VsbElubmVyRGl2Il0nKTsKCiAgICAgICAgbGV0IHRvcGljcyA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IodG9waWNzRmlsdGVyKTsKICAgICAgICBpZih0b3BpY3MgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZVRvcGljcyk7CiAgICAgICAgICAgIGlmKCF0b2dnbGVUb3BpY3MuZW5hYmxlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290LmZpcnN0RWxlbWVudENoaWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdG9nZ2xlVG9waWNzLmVuYWJsZWQ7CiAgICAgICAgfQoKICAgICAgICBsZXQgZm9sbG93ZWQgPSB0d2VldC5xdWVyeVNlbGVjdG9yKGZvbGxvd3NGaWx0ZXIpOwogICAgICAgIGlmKGZvbGxvd2VkICE9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICAgIGlmKCF0b2dnbGVGb2xsb3dlZC5lbmFibGVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGQocm9vdC5maXJzdEVsZW1lbnRDaGlsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0dXBUb2dnbGUocm9vdCwgdG9nZ2xlRm9sbG93ZWQpOwogICAgICAgICAgICByZXR1cm4gdG9nZ2xlRm9sbG93ZWQuZW5hYmxlZDsKICAgICAgICB9CgogICAgICAgIGxldCBsaWtlZCA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoYGxpa2VkRmlsdGVyYCk7CiAgICAgICAgaWYobGlrZWQgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmKGxpa2VkLmhyZWYuaW5jbHVkZXMoJy91c2VyLycpICYmIHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NOYW1lLnNwbGl0KCcgJykubGVuZ3RoIDwgNCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy9yZXBseQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoIXRvZ2dsZUxpa2VkLmVuYWJsZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICByb290LnJlbW92ZUNoaWxkKHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZUxpa2VkKTsKCiAgICAgICAgICAgIHJldHVybiB0b2dnbGVMaWtlZC5lbmFibGVkOwogICAgICAgIH0KIEJ1Z3MgdG8gaXJvbiBvdXQKIC8vICAgICAgIGxldCByZXR3ZWV0ID0gdHdlZXQucXVlcnlTZWxlY3RvcignYVtocmVmXj0iLyJdW2Rpcj0iYXV0byJdW3JvbGU9ImxpbmsiXScpOwogLy8gICAgICAgaWYocmV0d2VldCAhPSBudWxsKQogLy8gICAgICAgewogLy8gICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZVJldHdlZXQpOwovLyAgICAgICAgfQoKCiAgICB9CiAgICAgICByZXR1cm4gdHJ1ZTsKfQoqLwoKLy88LS0+IENPTFVNTiBSRVNJWklORyBTVEFSVDwtLT4vLwp2YXIgcHJpbWFyeUNvbHVtbkN1cnNvckRpc3RUb0VkZ2UgPSA5MDA7CnZhciBwcmltYXJ5Q29sdW1uTW91c2VEb3duUG9zID0gMDsKdmFyIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IGZhbHNlOwp2YXIgcHJpbWFyeUNvbHVtblByZVdpZHRoID0gNjAwOwp2YXIgbWF4V2lkdGhDbGFzcyA9IG51bGw7CnZhciBwcmVDdXJzb3I7CnZhciBoZWFkZXJDb2x1bW4gPSBudWxsOwoKZnVuY3Rpb24gcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgbW91c2VFdmVudCwgbW91c2VEb3duLCBtb3VzZVVwKQp7CiAgICBpZihtb3VzZURvd24gJiYgbW91c2VFdmVudC5idXR0b24gIT0gMCkgeyByZXR1cm47IH0KICAgIGxldCBwcmltYXJ5UmVjdCA9IHByaW1hcnlDb2x1bW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBsZXQgbG9jYWxQb3NYID0gbW91c2VFdmVudC5jbGllbnRYIC0gcHJpbWFyeVJlY3QubGVmdDsKICAgIHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlID0gTWF0aC5hYnMocHJpbWFyeVJlY3Qud2lkdGggLSBsb2NhbFBvc1gpOwoKICAgIGlmIChtb3VzZVVwIHx8IHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlID4gMTgwKQogICAgewogICAgICAgIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IGZhbHNlOwogICAgICAgIGlmIChtb3VzZVVwKQogICAgICAgIHsKICAgICAgICAgICAgbGV0IHByaW1hcnlTaXplID0gcGFyc2VJbnQobWF4V2lkdGhDbGFzcy5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXgtd2lkdGgnKSk7CiAgICAgICAgICAgIHVwZGF0ZUxheW91dFdpZHRoKHByaW1hcnlTaXplLCB0cnVlKTsKICAgICAgICB9CiAgICB9OwogICAgaWYgKHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlIDwgNiB8fCBwcmltYXJ5Q29sdW1uUmVzaXppbmcpCiAgICB7CiAgICAgICAgcHJlQ3Vyc29yID0gZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAiZXctcmVzaXplIjsKICAgICAgICBpZiAobW91c2VEb3duKQogICAgICAgIHsKICAgICAgICAgICAgcHJpbWFyeUNvbHVtbk1vdXNlRG93blBvcyA9IG1vdXNlRXZlbnQucGFnZVg7CiAgICAgICAgICAgIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IHRydWU7CiAgICAgICAgICAgIHByaW1hcnlDb2x1bW5QcmVXaWR0aCA9IHBhcnNlSW50KG1heFdpZHRoQ2xhc3Muc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWF4LXdpZHRoJykpOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IChwcmVDdXJzb3IgPT0gImV3LXJlc2l6ZSIpID8gImF1dG8iIDogcHJlQ3Vyc29yOwogICAgfQogICAgaWYgKHByaW1hcnlDb2x1bW5SZXNpemluZykKICAgIHsKICAgICAgICBtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgbGV0IGNvbHVtbk9mZnNldCA9IG1vdXNlRXZlbnQucGFnZVggLSBwcmltYXJ5Q29sdW1uTW91c2VEb3duUG9zOwogICAgICAgIGxldCBuZXdDb2x1bW5TaXplID0gcHJpbWFyeUNvbHVtblByZVdpZHRoICsgY29sdW1uT2Zmc2V0OwogICAgICAgIG5ld0NvbHVtblNpemUgPSBNYXRoLm1heCgyNTAsIG5ld0NvbHVtblNpemUpOwogICAgICAgIHVwZGF0ZUxheW91dFdpZHRoKG5ld0NvbHVtblNpemUpOwogICAgfQp9CgpmdW5jdGlvbiB1cGRhdGVMYXlvdXRXaWR0aCh3aWR0aCwgZmluYWxpemUpCnsKICAgIGlmKCF0b2dnbGVUaW1lbGluZVNjYWxpbmcuZW5hYmxlZCkgeyByZXR1cm47IH0KCiAgICBtYXhXaWR0aENsYXNzLnN0eWxlLnNldFByb3BlcnR5KCdtYXgtd2lkdGgnLCB3aWR0aCArICJweCIpOwogICAgaWYgKGZpbmFsaXplKQogICAgewogICAgICAgIGhlYWRlckNvbHVtbiA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignSEVBREVSJyk7CiAgICAgICAgaGVhZGVyQ29sdW1uLnN0eWxlLmZsZXhHcm93ID0gMC4yOwogICAgICAgIGhlYWRlckNvbHVtbi5zdHlsZS53ZWJraXRCb3hGbGV4ID0gMC4yOwogICAgICAgIHNldFVzZXJQcmVmKHVzZVByZWZfTWFpbldpZHRoS2V5LCB3aWR0aCk7CiAgICB9Cn0KCgpmdW5jdGlvbiByZWZyZXNoTGF5b3V0V2lkdGgoKQp7CiAgICBsZXQgd2lkdGggPSBnZXRVc2VyUHJlZih1c2VQcmVmX01haW5XaWR0aEtleSwgNjAwKTsKICAgIHVwZGF0ZUxheW91dFdpZHRoKHdpZHRoLCB0cnVlKTsKfQovLzwtLT4gQ09MVU1OIFJFU0laSU5HIEVORCA8LS0+Ly8KCi8vPC0tPiBUSU1FTElORSBQUk9DRVNTSU5HIDwtLT4vLwphc3luYyBmdW5jdGlvbiBvblRpbWVsaW5lQ29udGFpbmVyQ2hhbmdlKGNvbnRhaW5lciwgbXV0YXRpb25zKQp7CiAgICBMb2dNZXNzYWdlKCJvbiB0aW1lbGluZSBjb250YWluZXIgY2hhbmdlIik7CiAgICBsZXQgdGwgPSBhd2FpdCBhd2FpdEVsZW0oY29udGFpbmVyLCAnRElWW3N0eWxlKj0icG9zaXRpb246Il0nLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZSB9KTsKICAgIG9ic2VydmVUaW1lbGluZSh0bCk7Cn0KCmZ1bmN0aW9uIG9uVGltZWxpbmVDaGFuZ2UoYWRkZWROb2RlcykKewogICAgTG9nTWVzc2FnZSgib24gdGltZWxpbmUgY2hhbmdlIik7CiAgICBpZiAoYWRkZWROb2Rlcy5sZW5ndGggPT0gMCkgeyBMb2dNZXNzYWdlKCJubyBhZGRlZCBub2RlcyIpOyByZXR1cm47IH0KICAgIGFkZGVkTm9kZXMuZm9yRWFjaCgoY2hpbGQpID0+CiAgICB7CiAgICAgICAgLy8gICBpZihhZGRIYXNBdHRyaWJ1dGUoY2hpbGQsIG1vZGlmaWVkQXR0cikpIHsgcmV0dXJuOyB9CiAgICAgICAgYXdhaXRFbGVtKGNoaWxkLCAnQVJUSUNMRScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbihsaXN0ZW5Gb3JNZWRpYVR5cGUpOwogICAgICAgIC8vICBhd2FpdEVsZW0oY2hpbGQsICdBUlRJQ0xFLEFSVElDTEUgJysgdHdlZXRRdWVyeSwgYXJnc0NoaWxkQW5kU3ViKS50aGVuKHR3ZWV0ID0+IHsgbGlzdGVuRm9yTWVkaWFUeXBlKHR3ZWV0LnBhcmVudEVsZW1lbnQpOyB9KQogICAgfSk7Cn0KCmZ1bmN0aW9uIG9ic2VydmVUaW1lbGluZSh0bCkKewogICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUodGwsICJ0aGRfb2JzZXJ2aW5nX3RpbWVsaW5lIikpCiAgICB7CiAgICAgICAgTG9nTWVzc2FnZSgic3RhcnRpbmcgdGltZWxpbmUgb2JzZXJ2YXRpb24iKTsKICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gQXJyYXkuZnJvbSh0bC5jaGlsZE5vZGVzKTsKICAgICAgICBvblRpbWVsaW5lQ2hhbmdlKGNoaWxkTm9kZXMpOwoKICAgICAgICB3YXRjaEZvckFkZGVkTm9kZXModGwsIGZhbHNlLCB7IGF0dHJpYnV0ZXM6IGZhbHNlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IGZhbHNlIH0sIG9uVGltZWxpbmVDaGFuZ2UpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIHNlY3Rpb24pCnsKICAgIGNvbnN0IGNoZWNrVGltZWxpbmUgPSBhc3luYyBmdW5jdGlvbiAoKQogICAgewogICAgICAgIGxldCB0bCA9IGF3YWl0IGF3YWl0RWxlbShzZWN0aW9uLCAnRElWW3N0eWxlKj0icG9zaXRpb246Il0nLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZSB9KTsKICAgICAgICBsZXQgcHJvZ0JhciA9IHRsLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPSJwcm9ncmVzc2JhciJdJyk7CiAgICAgICAgaWYgKHByb2dCYXIpCiAgICAgICAgewogICAgICAgICAgICAvLyBXYWl0IGZvciBhbiBBcnRpY2xlIHRvIHNob3cgdXAgYmVmb3JlIHByb2NlZWRpbmcKICAgICAgICAgLy8gICBMb2dNZXNzYWdlKCJIYXMgUHJvZyBCYXIsIEF3YWl0aW5nIEFydGljbGUiKTsKICAgICAgICAgICAgbGV0IGFydCA9IGF3YWl0IGF3YWl0RWxlbShzZWN0aW9uLCAiYXJ0aWNsZSIsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlIH0pOwogICAgICAgICAgLy8gIExvZ01lc3NhZ2UoIkZvdW5kIEFydGljbGUiKTsKICAgICAgICB9CgogICAgICAgIGxldCB0bENvbnRhaW5lciA9IHRsLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUodGxDb250YWluZXIsICJ0aGRfb2JzZXJ2aW5nX3RpbWVsaW5lIikpCiAgICAgICAgewogICAgICAgICAgICBvYnNlcnZlVGltZWxpbmUodGwpOwogICAgICAgICAgICB3YXRjaEZvckNoYW5nZSh0bENvbnRhaW5lciwgeyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlIH0sICh0bGMsIG11dGVzKSA9PiB7IG9uVGltZWxpbmVDb250YWluZXJDaGFuZ2UodGxjLCBtdXRlcyk7IH0pOwogICAgICAgIH0KCiAgICB9OwoKICAgIGNoZWNrVGltZWxpbmUoKTsKCiAgICBsZXQgcHJvZ0Jhck9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4geyBjaGVja1RpbWVsaW5lKCk7IH0pOwogICAgcHJvZ0Jhck9ic2VydmVyLm9ic2VydmUoc2VjdGlvbiwgeyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlIH0pOwp9Cgp2YXIgcGFnZVdpZHRoTGF5b3V0UnVsZTsKCgphc3luYyBmdW5jdGlvbiB3YXRjaFByaW1hcnlDb2x1bW4obWFpbiwgcHJpbWFyeUNvbHVtbikKewogICAgaWYocHJpbWFyeUNvbHVtbiA9PSBudWxsKSB7IHJldHVybjsgfQogICAgaWYgKGFkZEhhc0F0dHJpYnV0ZShwcmltYXJ5Q29sdW1uLCBtb2RpZmllZEF0dHIpKSB7IHJldHVybjsgfQoKICAgIGF3YWl0RWxlbShwcmltYXJ5Q29sdW1uLCAnbmF2JywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChuYXYpID0+CiAgICB7CiAgICAgICAgbGV0IG5hdkNvbnQgPSBuYXYucGFyZW50RWxlbWVudDsKICAgICAgICB3YXRjaEZvckNoYW5nZShuYXZDb250LCBhcmdzQ2hpbGRPbmx5LCAoKSA9PiB7CiAgICAgICAgICAgICAgICB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIG5hdkNvbnQpOwogICAgICAgICAgICB9KTsKICAgIH0pOwoKICAgIGhpZGVGb3JZb3UocHJpbWFyeUNvbHVtbik7CgogICAgLy9XYXRjaCB0byBoYW5kbGUgY2FzZSB3aGVyZSB0aW1lbGluZXMgYXJlIHBhcnRpYWxseSBsb3N0IHdoZW4gY2xpY2tpbmcgb24gdGhlIHF1b3RlZCBwb3N0IG5hbWUuCiAgICB3YXRjaEZvckNoYW5nZShwcmltYXJ5Q29sdW1uLmZpcnN0RWxlbWVudENoaWxkLCBhcmdzQ2hpbGRPbmx5LCAoKSA9PiB7CiAgICAgICAgYXdhaXRFbGVtKHByaW1hcnlDb2x1bW4sICdzZWN0aW9uW3JvbGU9InJlZ2lvbiJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChzZWN0aW9uKSA9PiB7CiAgICAgICAgICAgIHdhdGNoRm9yVGltZWxpbmUocHJpbWFyeUNvbHVtbiwgc2VjdGlvbik7CiAgICAgICAgfSk7CiAgICB9KTsKCgogICAgaWYocGFnZVdpZHRoTGF5b3V0UnVsZSA9PSBudWxsKSB7IHBhZ2VXaWR0aExheW91dFJ1bGUgPSBnZXRDU1NSdWxlQ29udGFpbmluZ1N0eWxlKCd3aWR0aCcsICgoIi4iICsgbWFpbi5jbGFzc05hbWUpLnJlcGxhY2UoJyAnLCAnIC4nKSkuc3BsaXQoJyAnKSk7IH0KCiAgICBpZih0b2dnbGVUaW1lbGluZVNjYWxpbmcuZW5hYmxlZCkKICAgIHsKICAgICAgICBwYWdlV2lkdGhMYXlvdXRSdWxlLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsICIxMDAlIik7CgogICAgICAgIGxldCBwcmltYXJ5Q29sdW1uR3JwID0gcHJpbWFyeUNvbHVtbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgbGV0IGNvbHVtbkNsYXNzTmFtZXMgPSAoIi4iICsgcHJpbWFyeUNvbHVtbi5jbGFzc05hbWUucmVwbGFjZSgiICIsICIgLiIpKS5zcGxpdCgnICcpOwoKICAgICAgICBtYXhXaWR0aENsYXNzID0gZ2V0Q1NTUnVsZUNvbnRhaW5pbmdTdHlsZSgibWF4LXdpZHRoIiwgY29sdW1uQ2xhc3NOYW1lcyk7CiAgICAgICAgZ2V0VXNlclByZWYodXNlUHJlZl9NYWluV2lkdGhLZXksIDYwMCkudGhlbigodXNlcldpZHRoKSA9PiB1cGRhdGVMYXlvdXRXaWR0aCh1c2VyV2lkdGgsIHRydWUpKTsKCiAgICAgICAgcHJpbWFyeUNvbHVtbkdycC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4geyBwcmltYXJ5Q29sdW1uUmVzaXplcihwcmltYXJ5Q29sdW1uLCBlLCBmYWxzZSwgZmFsc2UpIH0pOwogICAgICAgIHByaW1hcnlDb2x1bW5HcnAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHsgcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgZSwgdHJ1ZSwgZmFsc2UpIH0pOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGUpID0+IHsgcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgZSwgZmFsc2UsIHRydWUpIH0pOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4geyBwcmltYXJ5Q29sdW1uUmVzaXplcihwcmltYXJ5Q29sdW1uLCBlLCBmYWxzZSwgdHJ1ZSkgfSk7CiAgICB9CgogICAgLy8gIGxldCBzZWN0aW9uID0gYXdhaXRFbGVtKHByaW1hcnlDb2x1bW4sICdzZWN0aW9uW3JvbGU9InJlZ2lvbiJdJywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIGF3YWl0RWxlbShwcmltYXJ5Q29sdW1uLCAnc2VjdGlvbltyb2xlPSJyZWdpb24iXScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbigoc2VjdGlvbikgPT4KICAgIHsKICAgICAgICBMb2dNZXNzYWdlKCJyZWdpb24gZm91bmQiKTsKICAgICAgICB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIHNlY3Rpb24pOwogICAgfSk7Cgp9Cgphc3luYyBmdW5jdGlvbiBvbk1haW5DaGFuZ2UobWFpbiwgbXV0YXRpb25zKQp7CiAgICBhd2FpdEVsZW0obWFpbiwgJ2RpdltkYXRhLXRlc3RpZD0icHJpbWFyeUNvbHVtbiJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChwcmltYXJ5Q29sdW1uKSA9Pnsgd2F0Y2hQcmltYXJ5Q29sdW1uKG1haW4sIHByaW1hcnlDb2x1bW4pOyB9KTsKICAgIHdhdGNoU2lkZUJhcihtYWluKTsKfQoKZnVuY3Rpb24gaGlkZUZvcllvdShwcmltYXJ5Q29sdW1uKQp7CiAgICBpZighdG9nZ2xlRGlzYWJsZUZvcllvdS5lbmFibGVkKSB7IHJldHVybjsgfQoKICAgIGxldCBtYWluVGFicyA9IHByaW1hcnlDb2x1bW4ucXVlcnlTZWxlY3RvcignZGl2W3JvbGU9InRhYmxpc3QiXScpOwogICAgaWYobWFpblRhYnMpCiAgICB7CiAgICAgICAgbGV0IHRhYnMgPSBtYWluVGFicy5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbcm9sZT0icHJlc2VudGF0aW9uIl0nKTsKICAgICAgICBpZih0YWJzLmxlbmd0aCA+IDEpCiAgICAgICAgewogICAgICAgICAgICB0YWJzWzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIHRhYnNbMV0uY2xpY2soKTsKICAgICAgICB9CiAgICB9Cn0KCi8vPC0tPiBSSUdIVCBTSURFQkFSIENPTlRFTlQgPC0tPi8vCnZhciB0b2dnbGVOU0ZXOwp2YXIgdG9nZ2xlSFFJbWc7CnZhciB0b2dnbGVMaWtlZDsKdmFyIHRvZ2dsZUZvbGxvd2VkOwp2YXIgdG9nZ2xlUmV0d2VldDsKdmFyIHRvZ2dsZVRvcGljczsKdmFyIHRvZ2dsZUNsZWFyVG9waWNzOwp2YXIgdG9nZ2xlVGltZWxpbmVTY2FsaW5nOwp2YXIgdG9nZ2xlQW5hbHl0aWNzRGlzcGxheTsKdmFyIHRvZ2dsZURpc2FibGVGb3JZb3U7Cgphc3luYyBmdW5jdGlvbiB3YXRjaFNpZGVCYXIobWFpbikKewogICAgYXdhaXRFbGVtKG1haW4sICdkaXZbZGF0YS10ZXN0aWQ9InNpZGViYXJDb2x1bW4iXScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbigoc2lkZUJhcikgPT4KICAgIHsKICAgICAgICBhd2FpdEVsZW0oc2lkZUJhciwgJ3NlY3Rpb25bcm9sZT0icmVnaW9uIl0gPiBbcm9sZT0iaGVhZGluZyJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChzaWRlQmFyVHJlbmRpbmcpID0+CiAgICAgICAgewogICAgICAgICAgICBsZXQgdmVyaU5hZyA9IHNpZGVCYXIucXVlcnlTZWxlY3RvcignYXNpZGUnKTsKICAgICAgICAgICAgYXdhaXRFbGVtKHNpZGVCYXIsICdhc2lkZScpLnRoZW4oKG5hZykgPT4geyBuYWcucmVtb3ZlKCk7fSk7CgogICAgICAgICAgICBzZXR1cFRyZW5kaW5nQ29udHJvbHMoc2lkZUJhclRyZW5kaW5nLnBhcmVudEVsZW1lbnQpOwogICAgICAgICAgICBzZXR1cFRvZ2dsZXMoc2lkZUJhcik7CiAgICAgICAgICAgIGNsZWFyVG9waWNzQW5kSW50ZXJlc3RzKCk7CiAgICAgICAgfSk7CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gZ2V0VG9nZ2xlT2JqKG5hbWUsIGRlZmF1bHRWYWwpCnsKICAgIGxldCBlbmFibGUgPSBhd2FpdCBnZXRVc2VyUHJlZihuYW1lLCBkZWZhdWx0VmFsKTsKICAgIHJldHVybiB7ZW5hYmxlZDogZW5hYmxlLCBlbGVtOiBudWxsLCBuYW1lOiBuYW1lLCBvbkNoYW5nZWQ6IG5ldyBFdmVudFRhcmdldCgpLCBsaXN0ZW46IGZ1bmN0aW9uKGZ1bmMpIHsgdGhpcy5vbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIGZ1bmMpOyB9fTsKfQoKYXN5bmMgZnVuY3Rpb24gbG9hZFRvZ2dsZVZhbHVlcygpCnsKICAgIHRvZ2dsZU5TRlcgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl9ibHVyTlNGVywgZmFsc2UpOwogICAgdG9nZ2xlSFFJbWcgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVIUUltZywgdHJ1ZSk7CiAgICB0b2dnbGVMaWtlZCA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZUxpa2VkLCB0cnVlKTsKICAgIHRvZ2dsZUZvbGxvd2VkID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlRm9sbG93ZWQsIGZhbHNlKTsKICAgIHRvZ2dsZVJldHdlZXQgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVSZXR3ZWV0LCBmYWxzZSk7CiAgICB0b2dnbGVUb3BpY3MgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVUb3BpY3MsIGZhbHNlKTsKICAgIHRvZ2dsZUNsZWFyVG9waWNzID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlQ2xlYXJUb3BpY3MsIGZhbHNlKTsKICAgIHRvZ2dsZVRpbWVsaW5lU2NhbGluZyA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZVRpbWVsaW5lU2NhbGluZywgdHJ1ZSk7CiAgICB0b2dnbGVBbmFseXRpY3NEaXNwbGF5ID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSwgZmFsc2UpOwogICAgdG9nZ2xlRGlzYWJsZUZvcllvdSA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZURpc2FibGVGb3JZb3UsIGZhbHNlKTsKCiAgICBpZighdG9nZ2xlQW5hbHl0aWNzRGlzcGxheS5lbmFibGVkKQogICAgewogICAgICAgIGFkZEdsb2JhbFN0eWxlKCdkaXZbcm9sZT0iZ3JvdXAiXSA+IGRpdiA+IGFbaHJlZiQ9Ii9hbmFseXRpY3MiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBzZXR1cFRvZ2dsZXMoc2lkZVBhbmVsKQp7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVOU0ZXLCAiTlNGVyBCbHVyICIsICJPTiIsICJPRkYiKTsKICAgIGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZUhRSW1nLCAiSFEgSW1hZ2UgTG9hZGluZyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVMaWtlZCwgIkxpa2VkIFR3ZWV0cyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVGb2xsb3dlZCwgIkZvbGxvd2VkIEJ5IFR3ZWV0cyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVSZXR3ZWV0LCAiUmV0d2VldHMgIiwgIk9OIiwgIk9GRiIpOwogICAgY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlVG9waWNzLCAiVG9waWMgVHdlZXRzICIsICJPTiIsICJPRkYiKTsKICAgIGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZUNsZWFyVG9waWNzLCAiSW50ZXJlc3RzL1RvcGljcyBQcmVmcyBBdXRvQ2xlYXIgIiwgIk9OIiwgIk9GRiIpOwogICAgY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlVGltZWxpbmVTY2FsaW5nLCAiVGltZWxpbmUgV2lkdGggU2NhbGluZyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVBbmFseXRpY3NEaXNwbGF5LCAiU2hvdyBQb3N0IFZpZXdzICIsICJPTiIsICJPRkYiKTsKICAgIGF3YWl0IGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZURpc2FibGVGb3JZb3UsICdEaXNhYmxlICJGb3IgWW91IiBwYWdlICcsICJPTiIsICJPRkYiKTsKfQoKYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlU3RhdGUsIHRvZ2dsZVRleHQsIHRvZ2dsZU9uVGV4dCwgdG9nZ2xlT2ZmVGV4dCkKewogICAgdG9nZ2xlU3RhdGUuZWxlbSA9IHNpZGVQYW5lbC5xdWVyeVNlbGVjdG9yKCcjJyArIHRvZ2dsZVN0YXRlLm5hbWUpOwogICAgdG9nZ2xlT25UZXh0ID0gdG9nZ2xlVGV4dCArIHRvZ2dsZU9uVGV4dDsKICAgIHRvZ2dsZU9mZlRleHQgPSB0b2dnbGVUZXh0ICsgdG9nZ2xlT2ZmVGV4dDsKICAgIGlmICh0b2dnbGVTdGF0ZS5lbGVtID09IG51bGwpCiAgICB7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbSA9IGNyZWF0ZVRvZ2dsZUJ1dHRvbih0b2dnbGVTdGF0ZS5lbmFibGVkID8gdG9nZ2xlT25UZXh0IDogdG9nZ2xlT2ZmVGV4dCwgdG9nZ2xlU3RhdGUubmFtZSk7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5tYXJnaW5Ub3AgPSAiMC40ZW0iOwogICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uc3R5bGUubWFyZ2luQm90dG9tID0gIjAuMWVtIjsKICAgICAgICB0b2dnbGVTdGF0ZS5lbGVtLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjFlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjFlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5vdXRsaW5lU3R5bGUgPSAic29saWQiOwogICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uc3R5bGUub3V0bGluZVdpZHRoID0gIjAuMDJlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PgogICAgICAgIHsKICAgICAgICAgICAgdG9nZ2xlU3RhdGUuZW5hYmxlZCA9IHRvZ2dsZVN0YXRlLmVuYWJsZWQgPyBmYWxzZSA6IHRydWU7CiAgICAgICAgICAgIHNldFVzZXJQcmVmKHRvZ2dsZVN0YXRlLm5hbWUsIHRvZ2dsZVN0YXRlLmVuYWJsZWQpOwogICAgICAgICAgICB0b2dnbGVTdGF0ZS5vbkNoYW5nZWQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQodG9nZ2xlU3RhdGUubmFtZSwgeydkZXRhaWwnOnsndG9nZ2xlJzp0b2dnbGVTdGF0ZX19KSk7CiAgICAgICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uaW5uZXJIVE1MID0gdG9nZ2xlU3RhdGUuZW5hYmxlZCA/IHRvZ2dsZU9uVGV4dCA6IHRvZ2dsZU9mZlRleHQ7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGZvb3RlciA9IHNpZGVQYW5lbC5xdWVyeVNlbGVjdG9yKCduYXYnKS5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRvZ2dsZVN0YXRlLmVsZW0pOwogICAgfQp9Cgp2YXIgYmx1clNob3dUZXh0ID0gIiI7Cgphc3luYyBmdW5jdGlvbiBwcm9jZXNzQmx1ckJ1dHRvbih0d2VldCkKewogICAgY29uc3QgZ2V0Qmx1clRleHQgPSBmdW5jdGlvbihibHVyKQogICAgewogICAgICAgIHJldHVybiBibHVyLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4gPiBzcGFuJykuaW5uZXJUZXh0OwogICAgfQoKICAgIGNvbnN0IGJsdXJCdG4gPSB0d2VldC5xdWVyeVNlbGVjdG9yKCdkaXZbcm9sZT0iYnV0dG9uIl1bc3R5bGVePSJiYWNrZHJvcC1maWx0ZXI6IGJsdXIiXScpOwogICAgaWYoYmx1ckJ0biAhPSBudWxsKQogICAgewogICAgICAgIGlmKGJsdXJTaG93VGV4dCA9PSAiIikKICAgICAgICB7CiAgICAgICAgICAgIGJsdXJTaG93VGV4dCA9IGdldEJsdXJUZXh0KGJsdXJCdG4pOwogICAgICAgIH0KICAgICAgICBpZighdG9nZ2xlTlNGVy5lbmFibGVkKQogICAgICAgIHsKICAgICAgICAgICAgYmx1ckJ0bi5jbGljaygpOwogICAgICAgIH0KICAgICAgICBibHVyQnRuLnN0eWxlLmRpc3BsYXkgPSB0b2dnbGVOU0ZXLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwoKICAgICAgICB3YXRjaEZvckNoYW5nZSh0d2VldCwge2F0dHJpYnV0ZXM6IGZhbHNlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9LCAoYmx1clBhcmVudCwgbXV0ZXMpID0+IHsKCiAgICAgICAgICAgIGNvbnN0IGN1ckJsdXIgPSBibHVyUGFyZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdltyb2xlPSJidXR0b24iXVtzdHlsZV49ImJhY2tkcm9wLWZpbHRlcjogYmx1ciJdJyk7CiAgICAgICAgICAgIGlmKGN1ckJsdXIgPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICAgICAgICAgIGlmKCF0b2dnbGVOU0ZXLmVuYWJsZWQgJiYgZ2V0Qmx1clRleHQoY3VyQmx1cikgPT0gYmx1clNob3dUZXh0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdXJCbHVyPy5jbGljaygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjdXJCbHVyLnN0eWxlLmRpc3BsYXkgPSB0b2dnbGVOU0ZXLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwogICAgICAgICAgICBsZXQgc3BhbiA9IGN1ckJsdXIucXVlcnlTZWxlY3Rvcignc3BhbiA+IHNwYW4nKTsKCiAgICAgICAgICAgIGlmKCFhZGRIYXNBdHRyaWJ1dGUoY3VyQmx1ciwgbW9kaWZpZWRBdHRyKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgd2F0Y2hGb3JDaGFuZ2UoY3VyQmx1ciwge2F0dHJpYnV0ZXM6dHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSwgKGJsdXIsIG11dGVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY3VyQmx1ci5zdHlsZS5kaXNwbGF5ID0gdG9nZ2xlTlNGVy5lbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdG9nZ2xlTlNGVy5vbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigibnNmd1RvZ2dsZUNoYW5nZWQiLCBmdW5jdGlvbihlbmFibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyQmx1cj8uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBjdXJCbHVyLnN0eWxlLmRpc3BsYXkgPSBlbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgIH0pOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBzZXR1cFRyZW5kaW5nQ29udHJvbHModHJlbmRpbmdCb3gpCnsKICAgIGNvbnN0IHNob3dTdHIgPSAiU2hvdyI7CiAgICBjb25zdCBoaWRlU3RyID0gIkhpZGUiOwoKICAgIGNvbnN0IHNldFRyZW5kaW5nVmlzaWJsZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIGJ1dHRvbiwgaGlkZGVuKQogICAgewogICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBoaWRkZW4gPyAiNDRweCIgOiAibm9uZSI7CiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGhpZGRlbiA/IHNob3dTdHIgOiBoaWRlU3RyOwogICAgICAgIHNldFVzZXJQcmVmKHVzZVByZWZfaGlkZVRyZW5kaW5nS2V5LCBoaWRkZW4pOwogICAgfTsKCiAgICBsZXQgdHJlbmRpbmdUaXRsZSA9IGF3YWl0IGF3YWl0RWxlbSh0cmVuZGluZ0JveCwgJ2gyJywgYXJnc0NoaWxkQW5kU3ViKTsKCiAgICBpZiAoIWFkZEhhc0F0dHJpYnV0ZSh0cmVuZGluZ1RpdGxlLCBtb2RpZmllZEF0dHIpKQogICAgewogICAgICAgIGxldCB0b2dnbGUgPSB0cmVuZGluZ1RpdGxlLnF1ZXJ5U2VsZWN0b3IoJyN0aGRfdG9nZ2xlVHJlbmRpbmcnKTsKCiAgICAgICAgaWYgKHRvZ2dsZSA9PSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdG9nZ2xlID0gY3JlYXRlVG9nZ2xlQnV0dG9uKGhpZGVTdHIsICJ0aGRfdG9nZ2xlVHJlbmRpbmciKTsKICAgICAgICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBpc0hpZGRlbiA9IHRvZ2dsZS5pbm5lclRleHQgPT0gaGlkZVN0cjsKICAgICAgICAgICAgICAgIHNldFRyZW5kaW5nVmlzaWJsZSh0cmVuZGluZ0JveCwgdG9nZ2xlLCBpc0hpZGRlbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0cmVuZGluZ1RpdGxlLmFwcGVuZENoaWxkKHRvZ2dsZSk7CiAgICAgICAgfQogICAgICAgIGdldFVzZXJQcmVmKHVzZVByZWZfaGlkZVRyZW5kaW5nS2V5LCB0cnVlKS50aGVuKCh2aXNpYmxlKSA9PgogICAgICAgIHsKICAgICAgICAgICAgc2V0VHJlbmRpbmdWaXNpYmxlKHRyZW5kaW5nQm94LCB0b2dnbGUsIHZpc2libGUpOwogICAgICAgICAgICB3YXRjaEZvckNoYW5nZSh0cmVuZGluZ0JveCwgYXJnc0NoaWxkQW5kU3ViLCBzZXR1cFRyZW5kaW5nQ29udHJvbHMpOwogICAgICAgIH0pOwoKICAgIH0KfQoKZnVuY3Rpb24gY3JlYXRlVG9nZ2xlQnV0dG9uKHRleHQsIGlkKQp7CiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIGJ0bi5pbm5lclRleHQgPSB0ZXh0OwogICAgYnRuLmlkID0gaWQ7CiAgICBidG4uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjk5OTlweCI7CiAgICBidG4uc3R5bGUuYm9yZGVyU3R5bGUgPSAic29saWQiOwogICAgYnRuLnN0eWxlLmJvcmRlcldpZHRoID0gIjFweCI7CiAgICBidG4uc3R5bGUuYm9yZGVyQ29sb3IgPSAiIzAwMDAwMDAwIjsKICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI5MjgyOCI7CiAgICBidG4uc3R5bGUuY29sb3IgPSAiI2NkY2NjOCI7CiAgICByZXR1cm4gYnRuOwp9Cgphc3luYyBmdW5jdGlvbiB3YXRjaEZvckNvbW1lbnRzKGRpYWxvZykKewogICAgbGV0IGNvbW1lbnRMaXN0ID0gYXdhaXQgYXdhaXRFbGVtKGRpYWxvZywgJ2RpdltzdHlsZV49InBvc2l0aW9uOiByZWxhdGl2ZSJdJywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIG9ic2VydmVUaW1lbGluZShjb21tZW50TGlzdCk7Cn0KCi8vPC0tPiBGVUxMLVNDUkVFTiBJTUFHRSBWSUVXIFJFTEFURUQgPC0tPi8vCmFzeW5jIGZ1bmN0aW9uIG9uTGF5ZXJzQ2hhbmdlKGxheWVycywgbXV0YXRpb24pCnsKCiAgICBpZiAobXV0YXRpb24uYWRkZWROb2RlcyAhPSBudWxsICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkKICAgIHsKCiAgICAgICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IEFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2RlcylbMF07CiAgICAgICAgY29uc3QgZGlhbG9nID0gYXdhaXQgYXdhaXRFbGVtKGNvbnRlbnRDb250YWluZXIsICdkaXZbcm9sZT0iZGlhbG9nIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICB3YXRjaEZvckNvbW1lbnRzKGRpYWxvZyk7CgogICAgICAgIGxldCBjdHhUYXJnZXQgPSBhd2FpdCBhd2FpdEVsZW0oZGlhbG9nLCAnaW1nW2FsdD0iSW1hZ2UiXSxkaXZbZGF0YS10ZXN0aWQ9InZpZGVvUGxheWVyIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICBjb25zdCBsaXN0ID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ3VsW3JvbGU9Imxpc3QiXScpOwogICAgICAgIGxldCBpZCA9IGdldElERnJvbVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgICAgICAgbGV0IHR3ZWV0RGF0YSA9IHR3ZWV0cy5nZXQoaWQpOwogICAgICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgICAgICBpZiAobGlzdCAhPSBudWxsIC8qICYmICFhZGRIYXNBdHRyaWJ1dGUobGlzdCwgJ3RoZF9tb2RpZmllZCcpKi8gKQogICAgICAgIHsKICAgICAgICAgICAgY29uc3QgbGlzdEl0ZW1zID0gbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpOwogICAgICAgICAgICBjb25zdCBpdGVtQ250ID0gbGlzdEl0ZW1zLmxlbmd0aDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbUNudDsgaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdHhUYXJnZXQgPSBhd2FpdCBhd2FpdEVsZW0obGlzdEl0ZW1zW2ldLCAnaW1nW2FsdD0iSW1hZ2UiXSxkaXZbZGF0YS10ZXN0aWQ9InZpZGVvUGxheWVyIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICAgICAgICAgIGxldCBtZWRpYURhdGEgPSB0d2VldERhdGEuZ2V0TWVkaWFEYXRhKGkpOwogICAgICAgICAgICAgICAgaWYobWVkaWFEYXRhKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bGxWaWV3SW1hZ2UoY3R4VGFyZ2V0LCB0d2VldERhdGEsIG1lZGlhRGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgbGV0IG1lZGlhRGF0YSA9IHR3ZWV0RGF0YS5nZXRNZWRpYURhdGEoMCk7CiAgICAgICAgICAgIHVwZGF0ZUZ1bGxWaWV3SW1hZ2UoY3R4VGFyZ2V0LCB0d2VldERhdGEsIG1lZGlhRGF0YSk7CiAgICAgICAgfQoKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gdXBkYXRlRnVsbFZpZXdJbWFnZShjdHhUYXJnZXQsIHR3ZWV0RGF0YSwgbWVkaWFEYXRhKQp7CiAgLy8gIGlmIChhZGRIYXNBdHRyaWJ1dGUoaW1nLCAidGhkX21vZGlmaWVkIikpIHsgcmV0dXJuOyB9CiAgICBsZXQgYmcgPSBjdHhUYXJnZXQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKSA/PyBjdHhUYXJnZXQucGFyZW50RWxlbWVudDsKCiAgICBsZXQgaHFTcmMgPSBtZWRpYURhdGEuY29udGVudFVSTDsKICAgIGxldCBtZWRpYUluZm8gPSB7IGRhdGE6IG1lZGlhRGF0YSwgbGlua0VsZW06IGN0eFRhcmdldCwgbWVkaWFFbGVtOiBjdHhUYXJnZXQgfTsKICAgLy8gIGxldCBocVNyYyA9IGltZy5zcmM7CgogICAgYWRkQ3VzdG9tQ3R4TWVudSh0d2VldERhdGEsIG1lZGlhSW5mbywgY3R4VGFyZ2V0KTsKICAgIGlmKG1lZGlhRGF0YS50eXBlID09ICdwaG90bycpCiAgICB7CiAgICAgICAgdXBkYXRlSW1nU3JjKGN0eFRhcmdldCwgYmcsIGhxU3JjKTsKICAgICAgICBkb09uQXR0cmlidXRlQ2hhbmdlKGN0eFRhcmdldCwgKGN0eFRhcmcpID0+IHsgdXBkYXRlSW1nU3JjKGN0eFRhcmcsIGJnLCBocVNyYyk7IH0sIGZhbHNlKTsKICAgIH0KfQoKLy88LS0+IFJJR0hULUNMSUNLIENPTlRFWFQgTUVOVSBTVFVGRiBTVEFSVCA8LS0+Ly8KdmFyIGN0eE1lbnU7CnZhciBjdHhNZW51TGlzdDsKdmFyIGN0eE1lbnVPcGVuSW5OZXdUYWI7CnZhciBjdHhNZW51T3BlblZpZEluTmV3VGFiOwp2YXIgY3R4TWVudVNhdmVBczsKdmFyIGN0eE1lbnVTYXZlQXNWaWQ7CnZhciBjdHhNZW51Q29weUltZzsKdmFyIGN0eE1lbnVDb3B5QWRkcmVzczsKdmFyIGN0eE1lbnVDb3B5VmlkQWRkcmVzczsKdmFyIGN0eE1lbnVHUklTOwp2YXIgY3R4TWVudVNob3dEZWZhdWx0OwoKZnVuY3Rpb24gaW5pdGlhbGl6ZUN0eE1lbnUoKQp7CiAgICBjdHhNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBjdHhNZW51LnN0eWxlLnpJbmRleCA9ICI1MDAiOwogICAgY3R4TWVudS5pZCA9ICJjb250ZXh0TWVudSI7CiAgICBjdHhNZW51LmNsYXNzTmFtZSA9ICJjb250ZXh0LW1lbnUiOwogICAgY3R4TWVudUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOwogICAgLy9jdHhNZW51TGlzdC5zdHlsZS56SW5kZXggPSA1MDA7CiAgICBjdHhNZW51LmFwcGVuZENoaWxkKGN0eE1lbnVMaXN0KTsKCiAgICBjdHhNZW51T3BlbkluTmV3VGFiID0gY3JlYXRlQ3R4TWVudUl0ZW0oY3R4TWVudUxpc3QsICJPcGVuIEltYWdlIGluIE5ldyBUYWIiKTsKICAgIGN0eE1lbnVPcGVuVmlkSW5OZXdUYWIgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIk9wZW4gVmlkZW8gaW4gTmV3IFRhYiIpOwogICAgY3R4TWVudVNhdmVBcyA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiU2F2ZSBJbWFnZSBBcyIpOwogICAgY3R4TWVudVNhdmVBc1ZpZCA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiU2F2ZSBWaWRlbyBBcyIpOwogICAgY3R4TWVudUNvcHlJbWcgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIkNvcHkgSW1hZ2UiKTsKICAgIGN0eE1lbnVDb3B5QWRkcmVzcyA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiQ29weSBJbWFnZSBMaW5rIik7CiAgICBjdHhNZW51Q29weVZpZEFkZHJlc3MgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIkNvcHkgVmlkZW8gTGluayIpOwogICAgY3R4TWVudUdSSVMgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIlNlYXJjaCBHb29nbGUgZm9yIEltYWdlIik7CiAgICBjdHhNZW51U2hvd0RlZmF1bHQgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIlNob3cgRGVmYXVsdCBDb250ZXh0IE1lbnUiKTsKCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGN0eE1lbnUpOwogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7IH0pOwoKICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2F0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsKCkgPT4gewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICB9KTsKCn0KCmZ1bmN0aW9uIGNyZWF0ZUN0eE1lbnVJdGVtKG1lbnVMaXN0LCB0ZXh0KQp7CiAgICBsZXQgbWVudUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdMSScpOwogICAgbWVudUl0ZW0uaW5uZXJUZXh0ID0gdGV4dDsKICAgIG1lbnVMaXN0LmFwcGVuZENoaWxkKG1lbnVJdGVtKTsKICAgIHJldHVybiBtZW51SXRlbTsKfQoKZnVuY3Rpb24gbW91c2VYKGV2dCkKewogICAgaWYgKGV2dC5wYWdlWCkKICAgIHsKICAgICAgICByZXR1cm4gZXZ0LnBhZ2VYOwogICAgfQogICAgZWxzZSBpZiAoZXZ0LmNsaWVudFgpCiAgICB7CiAgICAgICAgcmV0dXJuIGV2dC5jbGllbnRYICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOgogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpmdW5jdGlvbiBtb3VzZVkoZXZ0KQp7CiAgICBpZiAoZXZ0LnBhZ2VZKQogICAgewogICAgICAgIHJldHVybiBldnQucGFnZVk7CiAgICB9CiAgICBlbHNlIGlmIChldnQuY2xpZW50WSkKICAgIHsKICAgICAgICByZXR1cm4gZXZ0LmNsaWVudFkgKyAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOgogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn0KCmZ1bmN0aW9uIHNldENvbnRleHRNZW51VmlzaWJsZSh2aXNpYmxlKQp7CiAgICBjdHhNZW51LnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID8gImJsb2NrIiA6ICJub25lIjsKfQoKdmFyIHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0ID0gZmFsc2U7Ci8vVG8gYXZvaWQgdGhlIHZhbHVlIGJlaW5nIGNhcHR1cmVkIHdoZW4gc2V0dGluZyB1cCB0aGUgZXZlbnQgbGlzdGVuZXJzLgpmdW5jdGlvbiB3YXNTaG93RGVmYXVsdENvbnRleHRDbGlja2VkKCkKewogICAgcmV0dXJuIHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0Owp9Cgphc3luYyBmdW5jdGlvbiB1cGRhdGVDb250ZXh0TWVudUxpbmsodHdlZXREYXRhLCBtZWRpYUluZm8pCnsKICAgIGlmKG1lZGlhSW5mbyA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGxldCBkbFVSTCA9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkw7CiAgICBjdHhNZW51LnNldEF0dHJpYnV0ZSgnc2VsZWN0aW9uJywgZGxVUkwpOwoKICAgIGxldCBpc0ltYWdlID0gbWVkaWFJbmZvLm1lZGlhRWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gImltZyI7CgogICAgbGV0IGltZ1Zpc2liaWxpdHkgPSBpc0ltYWdlID8gImJsb2NrIiA6ICJub25lIjsKICAgIGxldCB2aWRWaXNpYmlsaXR5ID0gaXNJbWFnZSA/ICJub25lIiA6ICJibG9jayI7CgogICAgY3R4TWVudU9wZW5Jbk5ld1RhYi5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVTYXZlQXMuc3R5bGUuZGlzcGxheSA9IGltZ1Zpc2liaWxpdHk7CiAgICBjdHhNZW51Q29weUltZy5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVDb3B5QWRkcmVzcy5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVHUklTLnN0eWxlLmRpc3BsYXkgPSBpbWdWaXNpYmlsaXR5OwoKICAgIGN0eE1lbnVPcGVuVmlkSW5OZXdUYWIuc3R5bGUuZGlzcGxheSA9IHZpZFZpc2liaWxpdHk7CiAgICBjdHhNZW51U2F2ZUFzVmlkLnN0eWxlLmRpc3BsYXkgPSB2aWRWaXNpYmlsaXR5OwogICAgY3R4TWVudUNvcHlWaWRBZGRyZXNzLnN0eWxlLmRpc3BsYXkgPSB2aWRWaXNpYmlsaXR5OwoKICAgIGNvbnN0IGNvcHlBZGRyZXNzID0gZnVuY3Rpb24odXJsKXsgc2V0Q29udGV4dE1lbnVWaXNpYmxlKGZhbHNlKTsgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTsgfTsKICAgIGNvbnN0IHNhdmVNZWRpYSA9IGZ1bmN0aW9uKHVybCkKICAgIHsKICAgICAgICBzZXRDb250ZXh0TWVudVZpc2libGUoZmFsc2UpOwogICAgICAgIGRvd25sb2FkKHVybCwgZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhSW5mby5kYXRhKSk7CiAgICB9OwogICAgY29uc3Qgb3BlbkluTmV3VGFiID0gZnVuY3Rpb24odXJsKQogICAgewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgICAgaWYgKEdNX09wZW5JblRhYk1pc3NpbmcpCiAgICAgICAgewogICAgICAgICAgICB2YXIgbGFzdFdpbiA9IHdpbmRvdzsKICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICAgICAgICAgIGxhc3RXaW4uZm9jdXMoKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7IEdNX29wZW5JblRhYih1cmwsIHsgYWN0aXZlOiBmYWxzZSwgaW5zZXJ0OiB0cnVlLCBzZXRQYXJlbnQ6IHRydWUsIGluY29nbml0bzogZmFsc2UgfSk7IH0KICAgIH07CgoKICAgIC8vSW1hZ2UgQ29udGV4dAogICAgaWYoaXNJbWFnZSA9PSB0cnVlKQogICAgewogICAgICAgIG1lZGlhSW5mby5tZWRpYUVsZW0uY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJzsgLy9OZWVkZWQgdG8gYXZvaWQgYnJvd3NlciBwcmV2ZW50aW5nIHRoZSBDYW52YXMgZnJvbSBiZWluZyBjb3BpZWQgd2hlbiBkb2luZyAiQ29weSBJbWFnZSIKCiAgICAgICAgY3R4TWVudU9wZW5Jbk5ld1RhYi5vbmNsaWNrID0gKCkgPT4geyBvcGVuSW5OZXdUYWIoZGxVUkwpIH07CiAgICAgICAgY3R4TWVudVNhdmVBcy5vbmNsaWNrID0gKCkgPT4geyBzYXZlTWVkaWEoZGxVUkwpIH07CgogICAgICAgIGN0eE1lbnVDb3B5SW1nLm9uY2xpY2sgPSAoKSA9PgogICAgICAgIHsKICAgICAgICAgICAgc2V0Q29udGV4dE1lbnVWaXNpYmxlKGZhbHNlKTsKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxldCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgICAgICAgICBjLndpZHRoID0gbWVkaWFJbmZvLmRhdGEud2lkdGg7CiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IG1lZGlhSW5mby5kYXRhLmhlaWdodDsKICAgICAgICAgICAgICAgIGMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UobWVkaWFJbmZvLm1lZGlhRWxlbSwgMCwgMCwgYy53aWR0aCwgYy5oZWlnaHQpOwogICAgICAgICAgICAgICAgYy50b0Jsb2IoKHBuZykgPT4KICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlKFtuZXcgQ2xpcGJvYXJkSXRlbSh7CiAgICAgICAgICAgICAgICAgICAgICAgIFtwbmcudHlwZV06IHBuZyB9KV0pOwogICAgICAgICAgICAgICAgfSwgImltYWdlL3BuZyIsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlcnIpIHsgY29uc29sZS5sb2coZXJyKTsgfTsKICAgICAgICB9OwogICAgICAgIGN0eE1lbnVDb3B5QWRkcmVzcy5vbmNsaWNrID0gKCkgPT4geyBjb3B5QWRkcmVzcyhkbFVSTCkgfTsKICAgICAgICBjdHhNZW51R1JJUy5vbmNsaWNrID0gKCkgPT4geyBzZXRDb250ZXh0TWVudVZpc2libGUoZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoYnlpbWFnZT9zYmlzcmM9Y3JfMV81XzImaW1hZ2VfdXJsPSIgKyBkbFVSTCk7IH07CiAgICB9CiAgICBlbHNlIC8vVmlkZW8KICAgIHsKICAgICAgICBjdHhNZW51T3BlblZpZEluTmV3VGFiLm9uY2xpY2sgPSAoKSA9PiB7IG9wZW5Jbk5ld1RhYihkbFVSTCkgfTsKICAgICAgICBjdHhNZW51U2F2ZUFzVmlkLm9uY2xpY2sgPSAoKSA9PiB7IHNhdmVNZWRpYShkbFVSTCkgfTsKICAgICAgICBjdHhNZW51Q29weVZpZEFkZHJlc3Mub25jbGljayA9ICgpID0+IHsgY29weUFkZHJlc3MoZGxVUkwpIH07CiAgICB9CgogICAgLy9HZW5lcmljIFN0dWZmCiAgICBjdHhNZW51U2hvd0RlZmF1bHQub25jbGljayA9ICgpID0+IHsgc2VsZWN0ZWRTaG93RGVmYXVsdENvbnRleHQgPSB0cnVlOwogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7IH07Cn0KCmZ1bmN0aW9uIGFkZEN1c3RvbUN0eE1lbnUodHdlZXREYXRhLCBtZWRpYUluZm8sIGN0eFRhcmdldCkKewogICAgaWYgKGFkZEhhc0F0dHJpYnV0ZShjdHhUYXJnZXQsICJ0aGRfY3VzdG9tY3R4IikpIHsgcmV0dXJuOyB9CiAgICBjdHhUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZSkKICAgIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICBsZXQgY3VyU2VsID0gY3R4TWVudS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGlvbicpOwoKICAgICAgICBpZiAod2FzU2hvd0RlZmF1bHRDb250ZXh0Q2xpY2tlZCgpKSB7IHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0ID0gZmFsc2U7IHJldHVybjsgfSAvL1NraXAgZXZlcnl0aGluZyBoZXJlIGFuZCBzaG93IGRlZmF1bHQgY29udGV4dCBtZW51CiAgICAgICAgaWYoY3R4TWVudS5zdHlsZS5kaXNwbGF5ICE9ICJibG9jayIgfHwKICAgICAgICAoY3R4TWVudS5zdHlsZS5kaXNwbGF5ID09ICJibG9jayIgJiYgKGN1clNlbCA9PSBudWxsIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VyU2VsICE9IG51bGwgJiYgY3VyU2VsICE9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpKSkpCiAgICAgICAgewogICAgICAgICAgICB1cGRhdGVDb250ZXh0TWVudUxpbmsodHdlZXREYXRhLCBtZWRpYUluZm8pOwogICAgICAgICAgICBzZXRDb250ZXh0TWVudVZpc2libGUodHJ1ZSk7CiAgICAgICAgICAgIGN0eE1lbnUuc3R5bGUubGVmdCA9IG1vdXNlWChlKSArICJweCI7CiAgICAgICAgICAgIGN0eE1lbnUuc3R5bGUudG9wID0gbW91c2VZKGUpICsgInB4IjsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgICAgfQoKICAgIH0sIGZhbHNlKTsKfQoKLy88LS0+IFRXSVRURVIgVVRJTElUWSBGVU5DVElPTlMgPC0tPi8vCgovL0JlY2F1c2UgRmlyZWZveCBkb2Vzbid0IGFzc3VtZSB0aGUgZm9ybWF0IHVubGlrZSBDaHJvbWUuLi4KZnVuY3Rpb24gZ2V0TWVkaWFGb3JtYXQodXJsKQp7CiAgICBsZXQgZW5kID0gdXJsLnNwbGl0KCcvJykucG9wKCk7CiAgICBsZXQgcGVyaW9kU3BsaXQgPSBlbmQuc3BsaXQoJy4nKTsKICAgIGlmIChwZXJpb2RTcGxpdC5sZW5ndGggPiAxKQogICAgewogICAgICAgIHJldHVybiAnLicgKyBwZXJpb2RTcGxpdC5wb3AoKS5zcGxpdCgnPycpWzBdOwogICAgfQogICAgaWYgKHVybC5pbmNsdWRlcygnZm9ybWF0PScpKQogICAgewogICAgICAgIGxldCBwYXJhbXMgPSB1cmwuc3BsaXQoJz8nKS5wb3AoKS5zcGxpdCgnJicpOwogICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGFyYW1zLmxlbmd0aDsgcCsrKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHBhcmFtc1twXS5pbmNsdWRlcygnZm9ybWF0JykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAnLicgKyBwYXJhbXNbcF0uc3BsaXQoJz0nKS5wb3AoKS5zcGxpdCgnPycpWzBdOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAnJzsKfQoKZnVuY3Rpb24gaXNEaXJlY3RJbWFnZVBhZ2UodXJsKSAvL0NoZWNrcyBpZiB3ZWJwYWdlIHdlJ3JlIG9uIGlzIGEgZGlyZWN0IGltYWdlIHZpZXcKewogICAgaWYgKHVybC5pbmNsdWRlcygncGJzLnR3aW1nLmNvbS9tZWRpYS8nKSkKICAgIHsKICAgICAgICBpZighdXJsLmluY2x1ZGVzKCduYW1lPW9yaWcnKSkKICAgICAgICB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZ2V0SGlnaFF1YWxpdHlJbWFnZSh1cmwpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZG93bmxvYWQodXJsLCBmaWxlbmFtZSkKewogICAgR01fZG93bmxvYWQoCiAgICB7CiAgICAgICAgbmFtZTogZmlsZW5hbWUgKyBnZXRNZWRpYUZvcm1hdCh1cmwpLAogICAgICAgIHVybDogdXJsLAogICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKCkgeyAvKkxvZ01lc3NhZ2UoYERvd25sb2FkZWQgJHt1cmx9IWApOyovIH0KICAgIH0pOwp9CgpmdW5jdGlvbiBnZXRVcmxGcm9tVHdlZXQodHdlZXQpCnsKICAgIGxldCBhcnRpY2xlID0gdHdlZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICdBUlRJQ0xFJyA/IHR3ZWV0IDogdHdlZXQucXVlcnlTZWxlY3RvcignYXJ0aWNsZScpOwoKICAgIGlmIChhcnRpY2xlID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH0KICAgIGxldCB0aW1lRWxlbSA9IGFydGljbGUucXVlcnlTZWxlY3RvcigndGltZScpOwogICAgaWYodGltZUVsZW0pCiAgICB7CiAgICAgICAgbGV0IHBhcmVudExpbmsgPSB0aW1lRWxlbS5wYXJlbnRFbGVtZW50OwogICAgICAgIGlmKHBhcmVudExpbmsudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICdBJykKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBwYXJlbnRMaW5rLmhyZWY7CiAgICAgICAgfQogICAgfQoKICAgIGxldCBwb3N0TGluayA9IGFydGljbGUucXVlcnlTZWxlY3RvcignYTpub3QoW2hyZWYqPSIvcmV0d2VldHMiXSxbaHJlZiQ9Ii9saWtlcyJdKVtocmVmKj0iL3N0YXR1cy8iXVtyb2xlPSJsaW5rIl1bZGlyPSJhdXRvIl0nKTsKICAgIGxldCBpbWdMaW5rID0gYXJ0aWNsZS5xdWVyeVNlbGVjdG9yKCdhOm5vdChbaHJlZio9Ii9yZXR3ZWV0cyJdLFtocmVmJD0iL2xpa2VzIl0sW2Rpcj0iYXV0byJdKVtocmVmKj0iL3N0YXR1cy8iXVtyb2xlPSJsaW5rIl0nKTsKCiAgICBpZiAoaW1nTGluaykKICAgIHsKICAgICAgICBsZXQgc3RhdHVzTGluayA9IGltZ0xpbmsuaHJlZi5zcGxpdCgnL3Bob3RvLycpWzBdOwogICAgICAgIGxldCBpbWdVc2VyID0gc3RhdHVzTGluay5zcGxpdCgnL3N0YXR1cy8nKVswXTsKICAgICAgICBpZiAocG9zdExpbmsgPT0gbnVsbCB8fCAhcG9zdExpbmsuaHJlZi5pbmNsdWRlcyhpbWdVc2VyKSkgeyByZXR1cm4gc3RhdHVzTGluazsgfQogICAgfQoKICAgIGlmIChwb3N0TGluaykgeyByZXR1cm4gcG9zdExpbmsuaHJlZjsgfQoKCiAgICByZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gZ2V0SURGcm9tVHdlZXQodHdlZXQpCnsKICAgIGxldCB1cmwgPSBnZXRVcmxGcm9tVHdlZXQodHdlZXQpOwogICAgcmV0dXJuIGdldElERnJvbVVSTCh1cmwpOwp9CgpmdW5jdGlvbiBnZXRJREZyb21VUkwodXJsKQp7CiAgICBpZih1cmwgPT0gbnVsbCkgcmV0dXJuIG51bGw7CgogICAgbGV0IHNwbGl0ID0gdXJsLnNwbGl0KCcvJyk7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgaWYoc3BsaXRbaV0gPT0gJ3N0YXR1cycpIHsgcmV0dXJuIHNwbGl0W2kgKyAxXTsgfQogICAgfQoKICAgIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBnZXRUd2VldERhdGEodHdlZXQpCnsKICAgICBsZXQgaWQgPSBnZXRJREZyb21Ud2VldCh0d2VldCk7CiAgICBpZiAoaWQgPT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfQoKICAgIGxldCB0d2VldERhdGEgPSB0d2VldHMuZ2V0KGlkKTsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybiBudWxsOyB9CiAgICB0d2VldERhdGEudHdlZXRFbGVtID0gdHdlZXQ7CgogICAgcmV0dXJuIHR3ZWV0RGF0YTsKfQoKZnVuY3Rpb24gZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhRGF0YSkKewogICAgbGV0IGZpbGVuYW1lID0gbWVkaWFEYXRhLnVzZXJuYW1lICsgJyAtICcgKyBtZWRpYURhdGEuaWQ7CiAgICBpZiAobWVkaWFEYXRhLm1lZGlhTnVtID49IDApIHsgZmlsZW5hbWUgKz0gJ18nICsgbWVkaWFEYXRhLm1lZGlhTnVtLnRvU3RyaW5nKCk7IH0KICAgIHJldHVybiBmaWxlbmFtZTsKfQoKZnVuY3Rpb24gZ2V0SGlnaFF1YWxpdHlJbWFnZSh1cmwpCnsKICAgIGlmKCF1cmwuaW5jbHVkZXMoIm5hbWU9IikpIHsgcmV0dXJuIHVybCArICh1cmwuaW5jbHVkZXMoJz89JykgPyAnJicgOiAnPycpICsgJ25hbWU9b3JpZyc7IH0KICAgIHJldHVybiB1cmwucmVwbGFjZSgvKD88PVtcJlw/XW5hbWU9KShbQS1aYS16MC05XSkrKD89XCYpPy8sICdvcmlnJyk7Cn0KCgovLy0tPiBQUkVGRVJFTkNFIFVQREFUSU5HIDwtLS8vCnZhciBjbGVhcmVkVG9waWNzID0gZmFsc2U7Cgphc3luYyBmdW5jdGlvbiBjbGVhclRvcGljc0FuZEludGVyZXN0cyhmb3JjZSA9IGZhbHNlKQp7CiAgICBpZighZm9yY2UgJiYgY2xlYXJlZFRvcGljcykgeyByZXR1cm47IH0KICAgIGNsZWFyZWRUb3BpY3MgPSB0cnVlOwoKICAgIGxldCBhdXRvQ2xlYXIgPSBhd2FpdCBnZXRVc2VyUHJlZih0b2dnbGVDbGVhclRvcGljcy5uYW1lLCBmYWxzZSk7CiAgICBpZihhdXRvQ2xlYXIgPT0gZmFsc2UgJiYgZm9yY2UgPT0gZmFsc2UpIHsgcmV0dXJuOyB9CgogICAgbGV0IGxhc3RDbGVhclRpbWVUZXh0ID0gYXdhaXQgZ2V0VXNlclByZWYodXNlUHJlZl9sYXN0VG9waWNzQ2xlYXJUaW1lLCAiMTYiKTsKICAgIGxldCBsYXN0Q2xlYXJUaW1lID0gcGFyc2VJbnQobGFzdENsZWFyVGltZVRleHQpOwogICAgbGV0IGN1clRpbWUgPSBEYXRlLm5vdygpOwoKICAgIGlmKGN1clRpbWUgLSBsYXN0Q2xlYXJUaW1lIDwgODY0MDAwMDAgfHwgY3VyVGltZSA9PSBsYXN0Q2xlYXJUaW1lKQogICAgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBhd2FpdCBzZXRVc2VyUHJlZih1c2VQcmVmX2xhc3RUb3BpY3NDbGVhclRpbWUsIGN1clRpbWUudG9TdHJpbmcoKSk7CgogICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvMS4xL2FjY291bnQvcGVyc29uYWxpemF0aW9uL3R3aXR0ZXJfaW50ZXJlc3RzLmpzb24iLCB7CiAgICAgICAgImhlYWRlcnMiOiB7CiAgICAgICAgICAgICJhY2NlcHQiOiAiKi8qIiwKICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICJlbi1VUyxlbjtxPTAuOSIsCiAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogYXV0aHksCiAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICJlbXB0eSIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAieC10d2l0dGVyLWFjdGl2ZS11c2VyIjogInllcyIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYXV0aC10eXBlIjogIk9BdXRoMlNlc3Npb24iLAogICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICB9LAogICAgICAgICJyZWZlcnJlciI6ICJodHRwczovL3R3aXR0ZXIuY29tL3NldHRpbmdzL3lvdXJfdHdpdHRlcl9kYXRhL3R3aXR0ZXJfaW50ZXJlc3RzIiwKICAgICAgICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBudWxsLAogICAgICAgICJtZXRob2QiOiAiR0VUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICBpZihyZXNwb25zZS5zdGF0dXMgPT0gMjAwKQogICAgICAgIHsKICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb24pID0+IHsKCiAgICAgICAgICAgICAgICBmZXRjaCgiaHR0cHM6Ly90d2l0dGVyLmNvbS9pL2FwaS8xLjEvYWNjb3VudC9wZXJzb25hbGl6YXRpb24vcDEzbl9wcmVmZXJlbmNlcy5qc29uIiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImVuLVVTLGVuO3E9MC45IiwKICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogImVtcHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInJlZmVycmVyIjogImh0dHBzOi8vdHdpdHRlci5jb20vc2V0dGluZ3MveW91cl90d2l0dGVyX2RhdGEvdHdpdHRlcl9pbnRlcmVzdHMiLAogICAgICAgICAgICAgICAgICAgICJyZWZlcnJlclBvbGljeSI6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIiwKICAgICAgICAgICAgICAgICAgICAiYm9keSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICJtb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICJjcmVkZW50aWFscyI6ICJpbmNsdWRlIgogICAgICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChwcmVmcykgPT4KICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJlc3RzID0ganNvbi5pbnRlcmVzdGVkX2luOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJlc3RzLmxlbmd0aCA9PSAwKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzaW50ZXJlc3RzID0gcHJlZnMuaW50ZXJlc3RfcHJlZmVyZW5jZXMuZGlzYWJsZWRfaW50ZXJlc3RzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuYWxsb3dfYWRzX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMudXNlX2Nvb2tpZV9wZXJzb25hbGl6YXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZzLmlzX2V1X2NvdW50cnkgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuYWdlX3ByZWZlcmVuY2VzLnVzZV9hZ2VfZm9yX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuZ2VuZGVyX3ByZWZlcmVuY2VzLnVzZV9nZW5kZXJfZm9yX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpbnRlcmVzdHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzaW50ZXJlc3RzLnB1c2goaW50ZXJlc3RzW2ldLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmcy5pbnRlcmVzdF9wcmVmZXJlbmNlcy5kaXNhYmxlZF9pbnRlcmVzdHMgPSBkaXNpbnRlcmVzdHM7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvMS4xL2FjY291bnQvcGVyc29uYWxpemF0aW9uL3AxM25fcHJlZmVyZW5jZXMuanNvbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWFjdGl2ZS11c2VyIjogInllcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYXV0aC10eXBlIjogIk9BdXRoMlNlc3Npb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWZlcnJlciI6ICJodHRwczovL3R3aXR0ZXIuY29tL3NldHRpbmdzL3lvdXJfdHdpdHRlcl9kYXRhL3R3aXR0ZXJfaW50ZXJlc3RzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiBgeyJwcmVmZXJlbmNlcyI6JHtKU09OLnN0cmluZ2lmeShwcmVmcyl9fWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwoKICAgIGZldGNoKCJodHRwczovL3R3aXR0ZXIuY29tL2kvYXBpL2dyYXBocWwvTHQ5V1BrTkJVUC1MdEdfT1BXOUZrQS9Ub3BpY3NNYW5hZ2VtZW50UGFnZT92YXJpYWJsZXM9JTdCJTIyd2l0aFN1cGVyRm9sbG93c1VzZXJGaWVsZHMlMjIlM0FmYWxzZSUyQyUyMndpdGhEb3dudm90ZVBlcnNwZWN0aXZlJTIyJTNBZmFsc2UlMkMlMjJ3aXRoUmVhY3Rpb25zTWV0YWRhdGElMjIlM0FmYWxzZSUyQyUyMndpdGhSZWFjdGlvbnNQZXJzcGVjdGl2ZSUyMiUzQWZhbHNlJTJDJTIyd2l0aFN1cGVyRm9sbG93c1R3ZWV0RmllbGRzJTIyJTNBdHJ1ZSU3RCZmZWF0dXJlcz0lN0IlMjJyZXNwb25zaXZlX3dlYl90d2l0dGVyX2JsdWVfdmVyaWZpZWRfYmFkZ2VfaXNfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIydmVyaWZpZWRfcGhvbmVfbGFiZWxfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIycmVzcG9uc2l2ZV93ZWJfZ3JhcGhxbF90aW1lbGluZV9uYXZpZ2F0aW9uX2VuYWJsZWQlMjIlM0F0cnVlJTJDJTIydW5pZmllZF9jYXJkc19hZF9tZXRhZGF0YV9jb250YWluZXJfZHluYW1pY19jYXJkX2NvbnRlbnRfcXVlcnlfZW5hYmxlZCUyMiUzQXRydWUlMkMlMjJ0d2VldHlwaWVfdW5tZW50aW9uX29wdGltaXphdGlvbl9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnJlc3BvbnNpdmVfd2ViX3VjX2dxbF9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnZpYmVfYXBpX2VuYWJsZWQlMjIlM0F0cnVlJTJDJTIycmVzcG9uc2l2ZV93ZWJfZWRpdF90d2VldF9hcGlfZW5hYmxlZCUyMiUzQXRydWUlMkMlMjJncmFwaHFsX2lzX3RyYW5zbGF0YWJsZV9yd2ViX3R3ZWV0X2lzX3RyYW5zbGF0YWJsZV9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnN0YW5kYXJkaXplZF9udWRnZXNfbWlzaW5mbyUyMiUzQXRydWUlMkMlMjJ0d2VldF93aXRoX3Zpc2liaWxpdHlfcmVzdWx0c19wcmVmZXJfZ3FsX2xpbWl0ZWRfYWN0aW9uc19wb2xpY3lfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIyaW50ZXJhY3RpdmVfdGV4dF9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnJlc3BvbnNpdmVfd2ViX3RleHRfY29udmVyc2F0aW9uc19lbmFibGVkJTIyJTNBZmFsc2UlMkMlMjJyZXNwb25zaXZlX3dlYl9lbmhhbmNlX2NhcmRzX2VuYWJsZWQlMjIlM0F0cnVlJTdEIiwgewogICAgICAgICJoZWFkZXJzIjogewogICAgICAgICAgICAiYWNjZXB0IjogIiovKiIsCiAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiZW4tVVMsZW47cT0wLjkiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICJ4LWNzcmYtdG9rZW4iOiBjb29reSwKICAgICAgICAgICAgIngtdHdpdHRlci1hY3RpdmUtdXNlciI6ICJ5ZXMiLAogICAgICAgICAgICAieC10d2l0dGVyLWF1dGgtdHlwZSI6ICJPQXV0aDJTZXNzaW9uIiwKICAgICAgICAgICAgIngtdHdpdHRlci1jbGllbnQtbGFuZ3VhZ2UiOiAiZW4iCiAgICAgICAgfSwKICAgICAgICAicmVmZXJyZXIiOiAiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnZlcnRfeC90b3BpY3MvZm9sbG93ZWQiLAogICAgICAgICJyZWZlcnJlclBvbGljeSI6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIiwKICAgICAgICAiYm9keSI6IG51bGwsCiAgICAgICAgIm1ldGhvZCI6ICJHRVQiLAogICAgICAgICJtb2RlIjogImNvcnMiLAogICAgICAgICJjcmVkZW50aWFscyI6ICJpbmNsdWRlIgogICAgfSkudGhlbigocmVzcCkgPT4gewogICAgICAgIGlmKHJlc3Auc3RhdHVzID09IDIwMCkKICAgICAgICB7CiAgICAgICAgICAgIHJlc3AuanNvbigpLnRoZW4oKHRvcGljcykgPT4gewogICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gdG9waWNzLmRhdGEudmlld2VyLnRvcGljc19tYW5hZ2VtZW50X3BhZ2UuYm9keS5pbml0aWFsVGltZWxpbmUudGltZWxpbmUudGltZWxpbmUuaW5zdHJ1Y3Rpb25zWzJdLmVudHJpZXM7CgogICAgICAgICAgICAgICAgZm9yKGxldCB0ID0gMDsgdCA8IGl0ZW1zLmxlbmd0aDsgdCsrKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gaXRlbXNbdF07CiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5jb250ZW50LmNsaWVudEV2ZW50SW5mby5jb21wb25lbnQgPT0gInN1Z2dlc3RfZm9sbG93ZWRfdG9waWMiICYmIGl0ZW0uY29udGVudC5pdGVtQ29udGVudC50b3BpYy5mb2xsb3dpbmcgPT0gdHJ1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvZ3JhcGhxbC9zcndqVTZKTV9aS1RqX1FNZlVHTmN3L1RvcGljVW5mb2xsb3ciLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0IjogIiovKiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICJlbi1VUyxlbjtxPTAuOSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICJlbXB0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWF1dGgtdHlwZSI6ICJPQXV0aDJTZXNzaW9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9keSI6IGB7InZhcmlhYmxlcyI6eyJ0b3BpY0lkIjoiJHtpdGVtLmNvbnRlbnQuaXRlbUNvbnRlbnQudG9waWMudG9waWNfaWR9In0sInF1ZXJ5SWQiOiIifWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWV0aG9kIjogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gYm9va21hcmtQb3N0KHBvc3RJZCwgb25SZXNwb25zZSkKewogICAgZmV0Y2goImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL2dyYXBocWwvYW9EYnUzUkh6bnVpU2tROWFOTTY3US9DcmVhdGVCb29rbWFyayIsIHsKICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgIH0sCiAgICAgICAgInJlZmVycmVyIjogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgIC8vICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBgeyJ2YXJpYWJsZXMiOnsidHdlZXRfaWQiOiIke3Bvc3RJZH0ifSwicXVlcnlJZCI6ImFvRGJ1M1JIem51aVNrUTlhTk02N1EifWAsCiAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oKHJlc3ApID0+IHsgb25SZXNwb25zZShyZXNwKTsgfSkuY2F0Y2goKGVycikgPT4ge30pOwp9Cgphc3luYyBmdW5jdGlvbiB1bmJvb2ttYXJrUG9zdChwb3N0SWQsIG9uUmVzcG9uc2UpCnsKICAgIGZldGNoKCJodHRwczovL3R3aXR0ZXIuY29tL2kvYXBpL2dyYXBocWwvV2xtbGoyLXh6eVMxR04zYTZjai1tUS9EZWxldGVCb29rbWFyayIsIHsKICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgIH0sCiAgICAgICAgInJlZmVycmVyIjogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgIC8vICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBgeyJ2YXJpYWJsZXMiOnsidHdlZXRfaWQiOiIke3Bvc3RJZH0ifSwicXVlcnlJZCI6IldsbWxqMi14enlTMUdOM2E2Y2otbVEifWAsCiAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oKHJlc3ApID0+IHsgb25SZXNwb25zZShyZXNwKTsgfSkuY2F0Y2goKGVycikgPT4ge30pOwp9CgovLzwtLT4gR0VORVJJQyBVVElMSVRZIEZVTkNUSU9OUyA8LS0+Ly8KZnVuY3Rpb24gd2F0Y2hGb3JDaGFuZ2Uocm9vdCwgb2JzQXJndW1lbnRzLCBvbkNoYW5nZSkKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykKICAgIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IG9uQ2hhbmdlKHJvb3QsIG11dGF0aW9uKSk7CiAgICB9KTsKICAgIHJvb3RPYnNlcnZlci5vYnNlcnZlKHJvb3QsIG9ic0FyZ3VtZW50cyk7CiAgICByZXR1cm4gcm9vdE9ic2VydmVyOwp9CgpmdW5jdGlvbiB3YXRjaEZvckNoYW5nZUZ1bGwocm9vdCwgb2JzQXJndW1lbnRzLCBvbkNoYW5nZSkKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykKICAgIHsKICAgICAgICByb290T2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgIG9uQ2hhbmdlKHJvb3QsIG11dGF0aW9ucyk7CiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIH0pOwogICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIHJldHVybiByb290T2JzZXJ2ZXI7Cn0KCmFzeW5jIGZ1bmN0aW9uIHdhdGNoRm9yQWRkZWROb2Rlcyhyb290LCBzdG9wQWZ0ZXJGaXJzdE11dGF0aW9uLCBvYnNBcmd1bWVudHMsIGV4ZWN1dGVBZnRlcikKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoCiAgICAgICAgZnVuY3Rpb24gKG11dGF0aW9ucykKICAgICAgICB7CiAgICAgICAgICAgIC8vICBMb2dNZXNzYWdlKCJ0aW1lbGluZSBtdXRhdGVkIik7CiAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMgPT0gbnVsbCB8fCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA9PSAwKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgaWYgKHN0b3BBZnRlckZpcnN0TXV0YXRpb24pIHsgcm9vdE9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfQogICAgICAgICAgICAgICAgZXhlY3V0ZUFmdGVyKG11dGF0aW9uLmFkZGVkTm9kZXMpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgfSk7CgogICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZmluZEVsZW0ocm9vdEVsZW0sIHF1ZXJ5LCBvYnNlcnZlciwgcmVzb2x2ZSkKewogICAgY29uc3QgZWxlbSA9IHJvb3RFbGVtLnF1ZXJ5U2VsZWN0b3IocXVlcnkpOwogICAgaWYgKGVsZW0gIT0gbnVsbCAmJiBlbGVtICE9IHVuZGVmaW5lZCkKICAgIHsKICAgICAgICByZXNvbHZlKGVsZW0pOwogICAgICAgIG9ic2VydmVyPy5kaXNjb25uZWN0KCk7CiAgICB9CiAgICByZXR1cm4gZWxlbTsKfQoKYXN5bmMgZnVuY3Rpb24gYXdhaXRFbGVtKHJvb3QsIHF1ZXJ5LCBvYnNBcmd1bWVudHMpCnsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PgogICAgewogICAgICAgIGlmIChmaW5kRWxlbShyb290LCBxdWVyeSwgbnVsbCwgcmVzb2x2ZSkpIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGVzLCBvYnMpID0+IHsKICAgICAgICAgICAgZmluZEVsZW0ocm9vdCwgcXVlcnksIG9icywgcmVzb2x2ZSk7CiAgICAgICAgfSk7CiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBkb09uQXR0cmlidXRlQ2hhbmdlKGVsZW0sIG9uQ2hhbmdlLCByZXBlYXRPbmNlID0gZmFsc2UpCnsKICAgIGxldCByb290T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0ZXMsIG9idnMpID0+CiAgICB7CiAgICAgICAgb2J2cy5kaXNjb25uZWN0KCk7CiAgICAgICAgb25DaGFuZ2UoZWxlbSk7CiAgICAgICAgaWYgKHJlcGVhdE9uY2UgPT0gdHJ1ZSkgeyByZXR1cm47IH0KICAgICAgICBvYnZzLm9ic2VydmUoZWxlbSwgeyBjaGlsZExpc3Q6IGZhbHNlLCBzdWJ0cmVlOiBmYWxzZSwgYXR0cmlidXRlczogdHJ1ZSB9KQogICAgfSk7CiAgICByb290T2JzZXJ2ZXIub2JzZXJ2ZShlbGVtLCB7IGNoaWxkTGlzdDogZmFsc2UsIHN1YnRyZWU6IGZhbHNlLCBhdHRyaWJ1dGVzOiB0cnVlIH0pOwp9CgpmdW5jdGlvbiBhZGRIYXNBdHRyaWJ1dGUoZWxlbSwgYXR0cikKewogICAgaWYgKGVsZW0uaGFzQXR0cmlidXRlKGF0dHIpKSB7IHJldHVybiB0cnVlOyB9CiAgICBlbGVtLnNldEF0dHJpYnV0ZShhdHRyLCAiIik7CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKQp7CiAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZSArICc9KFteO10rKScpKTsKICAgIGlmIChtYXRjaCkgeyByZXR1cm4gbWF0Y2hbMl0udG9TdHJpbmcoKTsgfQogICAgcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGdldENTU1J1bGVDb250YWluaW5nU3R5bGUoc3R5bGVOYW1lLCBzZWxlY3RvcnMsIHN0eWxlQ250ID0gMCwgbWF0Y2hpbmdWYWx1ZSA9ICIiKQp7CiAgICB2YXIgc2hlZXRzID0gZG9jdW1lbnQuc3R5bGVTaGVldHM7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHNoZWV0cy5sZW5ndGg7IGkgPCBsOyBpKyspCiAgICB7CiAgICAgICAgdmFyIGN1clNoZWV0ID0gc2hlZXRzW2ldOwoKICAgICAgICBpZiAoIWN1clNoZWV0LmNzc1J1bGVzKSB7IGNvbnRpbnVlOyB9CgogICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gY3VyU2hlZXQuY3NzUnVsZXMubGVuZ3RoOyBqIDwgazsgaisrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIHJ1bGUgPSBjdXJTaGVldC5jc3NSdWxlc1tqXTsKICAgICAgICAgICAgaWYgKHN0eWxlQ250ICE9IDAgJiYgc3R5bGVDbnQgIT0gcnVsZS5zdHlsZS5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH0KICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ICYmIHJ1bGUuc3R5bGUubGVuZ3RoID4gMCAvKiAmJiBydWxlLnNlbGVjdG9yVGV4dC5zcGxpdCgnLCcpLmluZGV4T2Yoc2VsZWN0b3IpICE9PSAtMSovICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzZWxlY3RvcnMubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0LmluY2x1ZGVzKHNlbGVjdG9yc1tzXSkgJiYgcnVsZS5zdHlsZVswXSA9PSBzdHlsZU5hbWUpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdWYWx1ZSA9PT0gIiIgfHwgbWF0Y2hpbmdWYWx1ZSA9PSBydWxlLnN0eWxlW3N0eWxlTmFtZV0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBydWxlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7Cn0KCmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQcmVmKGtleSwgZGVmYXVsdFZhbCkKewogICAgaWYgKGlzR00pIHsgcmV0dXJuIGF3YWl0IEdNLmdldFZhbHVlKGtleSwgZGVmYXVsdFZhbCk7IH0KICAgIHJldHVybiBhd2FpdCBHTV9nZXRWYWx1ZShrZXksIGRlZmF1bHRWYWwpOwp9CmFzeW5jIGZ1bmN0aW9uIHNldFVzZXJQcmVmKGtleSwgdmFsdWUpCnsKICAgIGlmIChpc0dNKSB7IHJldHVybiBhd2FpdCBHTS5zZXRWYWx1ZShrZXksIHZhbHVlKTsgfQogICAgcmV0dXJuIGF3YWl0IEdNX3NldFZhbHVlKGtleSwgdmFsdWUpOwp9CgpmdW5jdGlvbiBMb2dNZXNzYWdlKHRleHQpIHsgLypjb25zb2xlLmxvZyh0ZXh0KTsqLyB9CgpmdW5jdGlvbiBhZGRHbG9iYWxTdHlsZShjc3MpCnsKICAgIGxldCBoZWFkLCBzdHlsZTsKICAgIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgaWYgKCFoZWFkKSB7IHJldHVybjsgfQogICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICBzdHlsZS5pbm5lckhUTUwgPSBjc3M7CiAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIHJldHVybiBzdHlsZTsKfQoKLy88LS0+IEJFR0lOIFBST0NFU1NJTkcgPC0tPi8vCgovKmFzeW5jIGZ1bmN0aW9uIExvYWRQcmVmcygpCnsKICAgIGdldFVzZXJQcmVmKHVzZVByZWZfYmx1ck5TRlcsIGZhbHNlKS50aGVuKChyZXMpID0+IHsgdG9nZ2xlTlNGVy5lbmFibGVkID0gcmVzOyB9KTsKfSovCi8vIDIuMAoKZnVuY3Rpb24gT2JzZXJ2ZU9iaihvYnNlcnZlckNvbnN0cmFpbnRzLCBvYnNlcnZlQmVoYXZpb3VyLCBhc3luY0dldEVsZW1CZWhhdmlvdXIpCnsKICAgIHRoaXMuZWxlbSA9IG51bGw7CiAgICB0aGlzLm9ic2VydmVyID0gbnVsbDsKCiAgICB0aGlzLnVwZGF0ZU9ic2VydmVyID0gYXN5bmMgZnVuY3Rpb24oKQogICAgewogICAgICAgIGlmKHRoaXMuZWxlbSA9PSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5lbGVtID0gYXdhaXQgYXN5bmNHZXRFbGVtQmVoYXZpb3VyKCk7CgogICAgICAgICAgICBvYnNlcnZlQmVoYXZpb3VyKHRoaXMuZWxlbSwgbnVsbCk7CgogICAgICAgICAgICBpZih0aGlzLm9ic2VydmVyID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSB3YXRjaEZvckNoYW5nZUZ1bGwodGhpcy5lbGVtLCBvYnNlcnZlckNvbnN0cmFpbnRzLCAoZWxlbSwgbXV0ZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZlQmVoYXZpb3VyKGVsZW0sIG11dGVzKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7IHRoaXMub2JzZXJ2ZXI/Lm9ic2VydmUodGhpcy5lbGVtLCBvYnNlcnZlckNvbnN0cmFpbnRzKTsgfQogICAgICAgIH0KICAgIH07CgogICAgdGhpcy51cGRhdGVPYnNlcnZlcigpOwp9CgpmdW5jdGlvbiBIZWFkZXJEYXRhKGhlYWRlcikKewogICAgdGhpcy54TGFiZWwgPSAnLyBYJzsKICAgIHRoaXMudGl0bGUgPSBuZXcgT2JzZXJ2ZU9iaigKICAgICAgICBhcmdzQ2hpbGRPbmx5LAogICAgICAgICh0aXRsZSwgbXV0ZXMpID0+IHsgaWYodGl0bGUgJiYgdGl0bGUuaW5uZXJUZXh0LmVuZHNXaXRoKHRoaXMueExhYmVsKSkgeyB0aXRsZS5pbm5lclRleHQgPSB0aXRsZS5pbm5lclRleHQucmVwbGFjZSh0aGlzLnhMYWJlbCwgJycpOyB9fSwKICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGF3YWl0RWxlbShkb2N1bWVudC5oZWFkLCAndGl0bGUnLCBhcmdzQ2hpbGRPbmx5KTsgfSk7CgogICAgdGhpcy5tZXRhID0gbmV3IE9ic2VydmVPYmooYXJnc0FsbCwgKG1ldGEsIG11dGVzKSA9PiB7CiAgICAgICAgaWYobWV0YSAmJiBtZXRhLmNvbnRlbnQuZW5kc1dpdGgodGhpcy54TGFiZWwpKSB7IG1ldGEuY29udGVudCA9IG1ldGEuY29udGVudC5yZXBsYWNlKHRoaXMueExhYmVsLCAnJyk7IH0KICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXdhaXRFbGVtKGRvY3VtZW50LmhlYWQsICdtZXRhW2NvbnRlbnQkPSIvIFgiXScsIGFyZ3NDaGlsZE9ubHkpOyB9KTsKCiAgICB0aGlzLnNob3J0Y3V0SWNvID0gbmV3IE9ic2VydmVPYmooYXJnc0F0dHJPbmx5LCAoc2hvcnRjdXRJY28sIG11dGVzKSA9PiB7CiAgICAgICAgaWYoc2hvcnRjdXRJY28pIHsgc2hvcnRjdXRJY28uaHJlZiA9IHNob3J0Y3V0SWNvLmhyZWYucmVwbGFjZSgndHdpdHRlci4zJywgJ3R3aXR0ZXIuMicpOyB9CiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIGF3YWl0RWxlbShkb2N1bWVudC5oZWFkLCAnbGlua1tyZWw9InNob3J0Y3V0IGljb24iXScsIGFyZ3NDaGlsZE9ubHkpOyB9KTsKCiAgICB0aGlzLmNoZWNrT2JzZXJ2ZXJzID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHRoaXMudGl0bGUudXBkYXRlT2JzZXJ2ZXIoKTsKICAgICAgICB0aGlzLm1ldGEudXBkYXRlT2JzZXJ2ZXIoKTsKICAgICAgICB0aGlzLnNob3J0Y3V0SWNvLnVwZGF0ZU9ic2VydmVyKCk7CiAgICB9Owp9Cgp2YXIgaGVhZGVyRGF0YSA9IG5ldyBIZWFkZXJEYXRhKGRvY3VtZW50LmhlYWQpOwp3YXRjaEZvckNoYW5nZUZ1bGwoZG9jdW1lbnQuaGVhZCwgYXJnc0NoaWxkT25seSwgKCkgPT4gaGVhZGVyRGF0YS5jaGVja09ic2VydmVycygpKTsKCmFzeW5jIGZ1bmN0aW9uIHN3YXBUd2l0dGVyU3BsYXNoTG9nbyhyZWFjdFJvb3QpCnsKICAgIGxldCBwbGFjZWhvbGRlciA9IHJlYWN0Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYjcGxhY2Vob2xkZXIgc3ZnJyk7CiAgICBpZihwbGFjZWhvbGRlciAhPSBudWxsKQogICAgewogICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IHR3aXRTVkc7CiAgICB9CgogICAgbGV0IGxvZ28gPSBhd2FpdCBhd2FpdEVsZW0ocmVhY3RSb290LCAnaGVhZGVyIGgxID4gYSBzdmcnLCBhcmdzQ2hpbGRBbmRTdWIpOwogICAgbG9nby5pbm5lckhUTUwgPSB0d2l0U1ZHOwp9CgooYXN5bmMgZnVuY3Rpb24gKCkKewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGlmIChpc0RpcmVjdEltYWdlUGFnZSh3aW5kb3cubG9jYXRpb24uaHJlZikpIHsgcmV0dXJuOyB9CgogICAgbGV0IHByZWZzTG9hZGluZyA9IGxvYWRUb2dnbGVWYWx1ZXMoKTsKICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7CgogICAgYXdhaXQgYXdhaXRFbGVtKGRvY3VtZW50LCAnQk9EWScsIGFyZ3NDaGlsZEFuZFN1Yik7CgogICAgcHJlQ3Vyc29yID0gZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I7CiAgICBpbml0aWFsaXplQ3R4TWVudSgpOwoKICAgIGxldCBpc0lmcmFtZSA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignZGl2I2FwcCcpOwoKICAgIGlmIChpc0lmcmFtZSAhPSBudWxsKQogICAgewogICAgICAgIGF3YWl0RWxlbShpc0lmcmFtZSwgJ2FydGljbGVbcm9sZT0iYXJ0aWNsZSJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKGxpc3RlbkZvck1lZGlhVHlwZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgcmVhY3RSb290ID0gYXdhaXQgYXdhaXRFbGVtKGRvY3VtZW50LmJvZHksICdkaXYjcmVhY3Qtcm9vdCcsIGFyZ3NDaGlsZEFuZFN1Yik7CiAgICBzd2FwVHdpdHRlclNwbGFzaExvZ28ocmVhY3RSb290KTsKICAgIGNvbnN0IG1haW4gPSBhd2FpdCBhd2FpdEVsZW0ocmVhY3RSb290LCAnbWFpbltyb2xlPSJtYWluIl0gZGl2JywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIGF3YWl0IHByZWZzTG9hZGluZzsKICAgIGxldCBsYXllcnMgPSByZWFjdFJvb3QucXVlcnlTZWxlY3RvcignZGl2I2xheWVycycpOwoKICAgIGF3YWl0RWxlbShyZWFjdFJvb3QsICdkaXYjbGF5ZXJzJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChsYXllcnMpID0+CiAgICB7CiAgICAgICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUobGF5ZXJzLCAid2F0Y2hpbmdMYXllcnMiKSkgeyB3YXRjaEZvckNoYW5nZShsYXllcnMsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0sIG9uTGF5ZXJzQ2hhbmdlKTsgfQogICAgfSk7CgogICAgYWRkSGFzQXR0cmlidXRlKG1haW4sIG1vZGlmaWVkQXR0cik7CgogICAgb25NYWluQ2hhbmdlKG1haW4pOwogICAgd2F0Y2hGb3JDaGFuZ2UobWFpbiwgYXJnc0NoaWxkT25seSwgb25NYWluQ2hhbmdlKTsKfSkoKTs=","requires":[{"meta":{"name":"jquery.min.js","url":"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js","ts":1691415368303,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2Mi4xLjAgfCAoYykgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGIoYSl9OmIoYSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1jLnNsaWNlLGU9Yy5jb25jYXQsZj1jLnB1c2gsZz1jLmluZGV4T2YsaD17fSxpPWgudG9TdHJpbmcsaj1oLmhhc093blByb3BlcnR5LGs9IiIudHJpbSxsPXt9LG09YS5kb2N1bWVudCxuPSIyLjEuMCIsbz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgby5mbi5pbml0KGEsYil9LHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtvLmZuPW8ucHJvdG90eXBlPXtqcXVlcnk6bixjb25zdHJ1Y3RvcjpvLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1vLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sby5leHRlbmQ9by5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG8uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihvLmlzUGxhaW5PYmplY3QoZCl8fChlPW8uaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmby5pc0FycmF5KGMpP2M6W10pOmY9YyYmby5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1vLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sby5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG4rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW8udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4gYS1wYXJzZUZsb2F0KGEpPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCJvYmplY3QiIT09by50eXBlKGEpfHxhLm5vZGVUeXBlfHxvLmlzV2luZG93KGEpKXJldHVybiExO3RyeXtpZihhLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYil7cmV0dXJuITF9cmV0dXJuITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1vLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoInVzZSBzdHJpY3QiKT8oYj1tLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGIudGV4dD1hLG0uaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cyhhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjprLmNhbGwoYSl9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP28ubWVyZ2UoYywic3RyaW5nIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Yj8tMTpnLmNhbGwoYixhLGMpfSxtZXJnZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7Yz5kO2QrKylhW2UrK109YltkXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1zKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBiJiYoYz1hW2JdLGI9YSxhPWMpLG8uaXNGdW5jdGlvbihhKT8oZT1kLmNhbGwoYXJndW1lbnRzLDIpLGY9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGUuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LGYuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxvLmd1aWQrKyxmKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Omx9KSxvLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtoWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1vLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG8uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzPSJzaXp6bGUiKy1uZXcgRGF0ZSx0PWEuZG9jdW1lbnQsdT0wLHY9MCx3PWViKCkseD1lYigpLHk9ZWIoKSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYoaj0hMCksMH0sQT0idW5kZWZpbmVkIixCPTE8PDMxLEM9e30uaGFzT3duUHJvcGVydHksRD1bXSxFPUQucG9wLEY9RC5wdXNoLEc9RC5wdXNoLEg9RC5zbGljZSxJPUQuaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtjPmI7YisrKWlmKHRoaXNbYl09PT1hKXJldHVybiBiO3JldHVybi0xfSxKPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsSz0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTD0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE09TC5yZXBsYWNlKCJ3IiwidyMiKSxOPSJcXFsiK0srIiooIitMKyIpIitLKyIqKD86KFsqXiR8IX5dPz0pIitLKyIqKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woIitNKyIpfCl8KSIrSysiKlxcXSIsTz0iOigiK0wrIikoPzpcXCgoKFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woKD86XFxcXC58W15cXFxcKClbXFxdXXwiK04ucmVwbGFjZSgzLDgpKyIpKil8LiopXFwpfCkiLFA9bmV3IFJlZ0V4cCgiXiIrSysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitLKyIrJCIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0srIiosIitLKyIqIiksUj1uZXcgUmVnRXhwKCJeIitLKyIqKFs+K35dfCIrSysiKSIrSysiKiIpLFM9bmV3IFJlZ0V4cCgiPSIrSysiKihbXlxcXSdcIl0qPykiK0srIipcXF0iLCJnIiksVD1uZXcgUmVnRXhwKE8pLFU9bmV3IFJlZ0V4cCgiXiIrTSsiJCIpLFY9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitMKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitMLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitOKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitLKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitLKyIqKD86KFsrLV18KSIrSysiKihcXGQrKXwpKSIrSysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0srIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrSysiKigoPzotXFxkKT9cXGQqKSIrSysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXGQkL2ksWT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLCQ9L1srfl0vLF89Lyd8XFwvZyxhYj1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0srIj98KCIrSysiKXwuKSIsImlnIiksYmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3RyeXtHLmFwcGx5KEQ9SC5jYWxsKHQuY2hpbGROb2RlcyksdC5jaGlsZE5vZGVzKSxEW3QuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGNiKXtHPXthcHBseTpELmxlbmd0aD9mdW5jdGlvbihhLGIpe0YuYXBwbHkoYSxILmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBkYihhLGIsZCxlKXt2YXIgZixnLGgsaSxqLG0scCxxLHUsdjtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dCkhPT1sJiZrKGIpLGI9Ynx8bCxkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShpPWIubm9kZVR5cGUpJiY5IT09aSlyZXR1cm5bXTtpZihuJiYhZSl7aWYoZj1aLmV4ZWMoYSkpaWYoaD1mWzFdKXtpZig5PT09aSl7aWYoZz1iLmdldEVsZW1lbnRCeUlkKGgpLCFnfHwhZy5wYXJlbnROb2RlKXJldHVybiBkO2lmKGcuaWQ9PT1oKXJldHVybiBkLnB1c2goZyksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGc9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGgpKSYmcihiLGcpJiZnLmlkPT09aClyZXR1cm4gZC5wdXNoKGcpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaD1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaCkpLGR9aWYoYy5xc2EmJighb3x8IW8udGVzdChhKSkpe2lmKHE9cD1zLHU9Yix2PTk9PT1pJiZhLDE9PT1pJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bT1vYihhKSwocD1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cT1wLnJlcGxhY2UoXywiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscSkscT0iW2lkPSciK3ErIiddICIsaj1tLmxlbmd0aDt3aGlsZShqLS0pbVtqXT1xK3BiKG1bal0pO3U9JC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiLHY9bS5qb2luKCIsIil9aWYodil0cnl7cmV0dXJuIEcuYXBwbHkoZCx1LnF1ZXJ5U2VsZWN0b3JBbGwodikpLGR9Y2F0Y2godyl7fWZpbmFsbHl7cHx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4geGIoYS5yZXBsYWNlKFAsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGViKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBmYihhKXtyZXR1cm4gYVtzXT0hMCxhfWZ1bmN0aW9uIGdiKGEpe3ZhciBiPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gaGIoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gaWIoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEIpLSh+YS5zb3VyY2VJbmRleHx8Qik7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGpiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIGtiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZmIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsZmIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1BJiZhfWM9ZGIuc3VwcG9ydD17fSxmPWRiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxrPWRiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dCxnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1sJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KGw9ZSxtPWUuZG9jdW1lbnRFbGVtZW50LG49IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe2soKX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2soKX0pKSxjLmF0dHJpYnV0ZXM9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1nYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ZLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZ2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1nYihmdW5jdGlvbihhKXtyZXR1cm4gbS5hcHBlbmRDaGlsZChhKS5pZD1zLCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZShzKS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QSYmbil7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGFiLGJiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PUEmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09QT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUEmJm4/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scD1bXSxvPVtdLChjLnFzYT1ZLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihnYihmdW5jdGlvbihhKXthLmlubmVySFRNTD0iPHNlbGVjdCB0PScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IitLKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIitLKyIqKD86dmFsdWV8IitKKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8by5wdXNoKCI6Y2hlY2tlZCIpfSksZ2IoZnVuY3Rpb24oYSl7dmFyIGI9ZS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIitLKyIqWypeJHwhfl0/PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fG8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxvLnB1c2goIiwuKjoiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9WS50ZXN0KHE9bS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG0ubW96TWF0Y2hlc1NlbGVjdG9yfHxtLm9NYXRjaGVzU2VsZWN0b3J8fG0ubXNNYXRjaGVzU2VsZWN0b3IpKSYmZ2IoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1xLmNhbGwoYSwiZGl2IikscS5jYWxsKGEsIltzIT0nJ106eCIpLHAucHVzaCgiIT0iLE8pfSksbz1vLmxlbmd0aCYmbmV3IFJlZ0V4cChvLmpvaW4oInwiKSkscD1wLmxlbmd0aCYmbmV3IFJlZ0V4cChwLmpvaW4oInwiKSksYj1ZLnRlc3QobS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikscj1ifHxZLnRlc3QobS5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSx6PWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaj0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT10JiZyKHQsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXQmJnIodCxiKT8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGo9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saz1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDtpZihmPT09ZylyZXR1cm4gaWIoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlrLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWtbZF0pZCsrO3JldHVybiBkP2liKGhbZF0sa1tkXSk6aFtkXT09PXQ/LTE6a1tkXT09PXQ/MTowfSxlKTpsfSxkYi5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGRiKGEsbnVsbCxudWxsLGIpfSxkYi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PWwmJmsoYSksYj1iLnJlcGxhY2UoUywiPSckMSddIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFufHxwJiZwLnRlc3QoYil8fG8mJm8udGVzdChiKSkpdHJ5e3ZhciBkPXEuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGRiKGIsbCxudWxsLFthXSkubGVuZ3RoPjB9LGRiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1sJiZrKGEpLHIoYSxiKX0sZGIuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09bCYmayhhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkMuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhbik6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhbj9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGRiLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZGIudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYoaj0hYy5kZXRlY3REdXBsaWNhdGVzLGk9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoeiksail7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGk9bnVsbCxhfSxlPWRiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1kYi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpmYixtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYWIsYmIpLGFbM109KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGFiLGJiKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZGIuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZGIuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNV0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdJiZ2b2lkIDAhPT1hWzRdP2FbMl09YVs0XTpjJiZULnRlc3QoYykmJihiPW9iKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYikudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9d1thKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrSysiKSIrYSsiKCIrSysifCQpIikpJiZ3KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8dHlwZW9mIGEuZ2V0QXR0cmlidXRlIT09QSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZGIuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQ9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmdCl7az1xW3NdfHwocVtzXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT11JiZqWzFdLG09alswXT09PXUmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3UsbixtXTticmVha319ZWxzZSBpZih0JiYoaj0oYltzXXx8KGJbc109e30pKVthXSkmJmpbMF09PT11KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJih0JiYoKGxbc118fChsW3NdPXt9KSlbYV09W3UsbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVtzXT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9mYihmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SS5jYWxsKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmZiKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1nKGEucmVwbGFjZShQLCIkMSIpKTtyZXR1cm4gZFtzXT9mYihmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSwhYy5wb3AoKX19KSxoYXM6ZmIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkYihhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmZiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpmYihmdW5jdGlvbihhKXtyZXR1cm4gVS50ZXN0KGF8fCIiKXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoYWIsYmIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1uP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW19LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bC5hY3RpdmVFbGVtZW50JiYoIWwuaGFzRm9jdXN8fGwuaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmxiKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpsYihmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bGIoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0OmxiKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bGIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWpiKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPWtiKGIpO2Z1bmN0aW9uIG5iKCl7fW5iLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgbmI7ZnVuY3Rpb24gb2IoYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXhbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1RLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9Ui5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShQLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2RiLmVycm9yKGEpOngoYSxpKS5zbGljZSgwKX1mdW5jdGlvbiBwYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHFiKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj12Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3UsZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbc118fChiW3NdPXt9KSwoaD1pW2RdKSYmaFswXT09PXUmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiByYihhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiBzYihhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHRiKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbc10mJihkPXRiKGQpKSxlJiYhZVtzXSYmKGU9dGIoZSxmKSksZmIoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8d2IoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6c2IocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXNiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXNiKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpHLmFwcGx5KGcscil9KX1mdW5jdGlvbiB1YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saT1nfHxkLnJlbGF0aXZlWyIgIl0saj1nPzE6MCxrPXFiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saSwhMCksbD1xYihmdW5jdGlvbihhKXtyZXR1cm4gSS5jYWxsKGIsYSk+LTF9LGksITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1oKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+ajtqKyspaWYoYz1kLnJlbGF0aXZlW2Fbal0udHlwZV0pbT1bcWIocmIobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2pdLnR5cGVdLmFwcGx5KG51bGwsYVtqXS5tYXRjaGVzKSxjW3NdKXtmb3IoZT0rK2o7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHRiKGo+MSYmcmIobSksaj4xJiZwYihhLnNsaWNlKDAsai0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbai0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFAsIiQxIiksYyxlPmomJnViKGEuc2xpY2UoaixlKSksZj5lJiZ1YihhPWEuc2xpY2UoZSkpLGY+ZSYmcGIoYSkpfW0ucHVzaChjKX1yZXR1cm4gcmIobSl9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxpLGosayl7dmFyIG0sbixvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1oLHY9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdz11Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD12Lmxlbmd0aDtmb3IoayYmKGg9ZyE9PWwmJmcpO3EhPT14JiZudWxsIT0obT12W3FdKTtxKyspe2lmKGUmJm0pe249MDt3aGlsZShvPWFbbisrXSlpZihvKG0sZyxpKSl7ai5wdXNoKG0pO2JyZWFrfWsmJih1PXcpfWMmJigobT0hbyYmbSkmJnAtLSxmJiZyLnB1c2gobSkpfWlmKHArPXEsYyYmcSE9PXApe249MDt3aGlsZShvPWJbbisrXSlvKHIscyxnLGkpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09RS5jYWxsKGopKTtzPXNiKHMpfUcuYXBwbHkoaixzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZkYi51bmlxdWVTb3J0KGopfXJldHVybiBrJiYodT13LGg9dCkscn07cmV0dXJuIGM/ZmIoZik6Zn1nPWRiLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj15W2ErIiAiXTtpZighZil7Ynx8KGI9b2IoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9dWIoYltjXSksZltzXT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9eShhLHZiKGUsZCkpfXJldHVybiBmfTtmdW5jdGlvbiB3YihhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWRiKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB4YihhLGIsZSxmKXt2YXIgaCxpLGosayxsLG09b2IoYSk7aWYoIWYmJjE9PT1tLmxlbmd0aCl7aWYoaT1tWzBdPW1bMF0uc2xpY2UoMCksaS5sZW5ndGg+MiYmIklEIj09PShqPWlbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJm4mJmQucmVsYXRpdmVbaVsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO2E9YS5zbGljZShpLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1oPVYubmVlZHNDb250ZXh0LnRlc3QoYSk/MDppLmxlbmd0aDt3aGlsZShoLS0pe2lmKGo9aVtoXSxkLnJlbGF0aXZlW2s9ai50eXBlXSlicmVhaztpZigobD1kLmZpbmRba10pJiYoZj1sKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSwkLnRlc3QoaVswXS50eXBlKSYmbWIoYi5wYXJlbnROb2RlKXx8YikpKXtpZihpLnNwbGljZShoLDEpLGE9Zi5sZW5ndGgmJnBiKGkpLCFhKXJldHVybiBHLmFwcGx5KGUsZiksZTticmVha319fXJldHVybiBnKGEsbSkoZixiLCFuLGUsJC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiKSxlfXJldHVybiBjLnNvcnRTdGFibGU9cy5zcGxpdCgiIikuc29ydCh6KS5qb2luKCIiKT09PXMsYy5kZXRlY3REdXBsaWNhdGVzPSEhaixrKCksYy5zb3J0RGV0YWNoZWQ9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihsLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGhiKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGhiKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxoYihKLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxkYn0oYSk7by5maW5kPXQsby5leHByPXQuc2VsZWN0b3JzLG8uZXhwclsiOiJdPW8uZXhwci5wc2V1ZG9zLG8udW5pcXVlPXQudW5pcXVlU29ydCxvLnRleHQ9dC5nZXRUZXh0LG8uaXNYTUxEb2M9dC5pc1hNTCxvLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9by5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdz0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG8uaXNGdW5jdGlvbihiKSlyZXR1cm4gby5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gby5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10eXBlb2YgYil7aWYody50ZXN0KGIpKXJldHVybiBvLmZpbHRlcihiLGEsYyk7Yj1vLmZpbHRlcihiLGEpfXJldHVybiBvLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gZy5jYWxsKGIsYSk+PTAhPT1jfSl9by5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/by5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpvLmZpbmQubWF0Y2hlcyhhLG8uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sby5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG8oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG8uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2M+YjtiKyspby5maW5kKGEsZVtiXSxkKTtyZXR1cm4gZD10aGlzLnB1c2hTdGFjayhjPjE/by51bmlxdWUoZCk6ZCksZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcywic3RyaW5nIj09dHlwZW9mIGEmJnUudGVzdChhKT9vKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLEE9by5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKGM9IjwiPT09YVswXSYmIj4iPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbz9iWzBdOmIsby5tZXJnZSh0aGlzLG8ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6bSwhMCkpLHYudGVzdChjWzFdKSYmby5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpby5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGQ9bS5nZXRFbGVtZW50QnlJZChjWzJdKSxkJiZkLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZCksdGhpcy5jb250ZXh0PW0sdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpvLmlzRnVuY3Rpb24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShvKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxvLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9by5mbix5PW8obSk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtvLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZvKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxvLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW8oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYoby5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP28oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm8uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9vLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChvKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby51bmlxdWUoby5tZXJnZSh0aGlzLmdldCgpLG8oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9by5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBvLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG8uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG8uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBvLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBvLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBvLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxvLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe28uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1vLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW8uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxvLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMrL2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG8uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW8uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6by5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7by5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1vLnR5cGUoYyk7ImZ1bmN0aW9uIj09PWQ/YS51bmlxdWUmJmsuaGFzKGMpfHxoLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09ZCYmZyhjKX0pfShhcmd1bWVudHMpLGQ/Zj1oLmxlbmd0aDpiJiYoZT1jLGooYikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaCYmby5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW8uaW5BcnJheShiLGgsYykpPi0xKWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP28uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sby5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixvLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG8uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG8uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gby5EZWZlcnJlZChmdW5jdGlvbihjKXtvLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW8uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmby5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9vLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG8uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZvLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm8uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmby5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO28uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG8ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sby5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/by5yZWFkeVdhaXQrKzpvLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW8ucmVhZHlXYWl0Om8uaXNSZWFkeSl8fChvLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW8ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKG0sW29dKSxvLmZuLnRyaWdnZXImJm8obSkudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5IikpKX19KTtmdW5jdGlvbiBJKCl7bS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixJLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEksITEpLG8ucmVhZHkoKX1vLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW8uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bS5yZWFkeVN0YXRlP3NldFRpbWVvdXQoby5yZWFkeSk6KG0uYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkpLEgucHJvbWlzZShiKX0sby5yZWFkeS5wcm9taXNlKCk7dmFyIEo9by5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW8udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW8uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG8uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChvKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9O28uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIEsoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89by5leHBhbmRvK01hdGgucmFuZG9tKCl9Sy51aWQ9MSxLLmFjY2VwdHM9by5hY2NlcHREYXRhLEsucHJvdG90eXBlPXtrZXk6ZnVuY3Rpb24oYSl7aWYoIUsuYWNjZXB0cyhhKSlyZXR1cm4gMDt2YXIgYj17fSxjPWFbdGhpcy5leHBhbmRvXTtpZighYyl7Yz1LLnVpZCsrO3RyeXtiW3RoaXMuZXhwYW5kb109e3ZhbHVlOmN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEsYil9Y2F0Y2goZCl7Ylt0aGlzLmV4cGFuZG9dPWMsby5leHRlbmQoYSxiKX19cmV0dXJuIHRoaXMuY2FjaGVbY118fCh0aGlzLmNhY2hlW2NdPXt9KSxjfSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5rZXkoYSksZj10aGlzLmNhY2hlW2VdO2lmKCJzdHJpbmciPT10eXBlb2YgYilmW2JdPWM7ZWxzZSBpZihvLmlzRW1wdHlPYmplY3QoZikpby5leHRlbmQodGhpcy5jYWNoZVtlXSxiKTtlbHNlIGZvcihkIGluIGIpZltkXT1iW2RdO3JldHVybiBmfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlW3RoaXMua2V5KGEpXTtyZXR1cm4gdm9pZCAwPT09Yj9jOmNbYl19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8fGImJiJzdHJpbmciPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG8uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtvLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChvLmNhbWVsQ2FzZSkpOihlPW8uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFvLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIFAoYSxiLGMpe3ZhciBkO2lmKHZvaWQgMD09PWMmJjE9PT1hLm5vZGVUeXBlKWlmKGQ9ImRhdGEtIitiLnJlcGxhY2UoTywiLSQxIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLCJzdHJpbmciPT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToibnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOk4udGVzdChjKT9vLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31NLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31vLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG8uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2M9Zy5sZW5ndGg7CndoaWxlKGMtLSlkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKCJkYXRhLSIpJiYoZD1vLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxQKGYsZCxlW2RdKSk7TC5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1vLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWMmJk0uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNLnJlbW92ZSh0aGlzLGEpfSl9fSksby5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8ImZ4IikrInF1ZXVlIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxvLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsby5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1vLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW8uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7by5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6by5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYisicXVldWUiLGNdKX0pfSl9fSksby5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP28ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9by5xdWV1ZSh0aGlzLGEsYik7by5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZvLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9by5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTsic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8ImZ4Ijt3aGlsZShnLS0pYz1MLmdldChmW2ddLGErInF1ZXVlSG9va3MiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxSPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsIm5vbmUiPT09by5jc3MoYSwiZGlzcGxheSIpfHwhby5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LFQ9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGE9bS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKG0uY3JlYXRlRWxlbWVudCgiZGl2IikpO2IuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz4iLGwuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsbC5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBVPSJ1bmRlZmluZWQiO2wuZm9jdXNpbkJ1YmJsZXM9Im9uZm9jdXNpbiJpbiBhO3ZhciBWPS9ea2V5LyxXPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxYPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxZPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gWigpe3JldHVybiEwfWZ1bmN0aW9uICQoKXtyZXR1cm4hMX1mdW5jdGlvbiBfKCl7dHJ5e3JldHVybiBtLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1vLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLHAscSxyPUwuZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1vLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIG8hPT1VJiZvLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9vLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHwiIikubWF0Y2goRSl8fFsiIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1ZLmV4ZWMoYltqXSl8fFtdLG49cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuJiYobD1vLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbD1vLmV2ZW50LnNwZWNpYWxbbl18fHt9LGs9by5leHRlbmQoe3R5cGU6bixvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmby5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtuXSl8fChtPWlbbl09W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG4sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxvLmV2ZW50Lmdsb2JhbFtuXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4scCxxLHI9TC5oYXNEYXRhKGEpJiZMLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPVkuZXhlYyhiW2pdKXx8W10sbj1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG4pe2w9by5ldmVudC5zcGVjaWFsW25dfHx7fSxuPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxuLG09aVtuXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJigiKioiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxvLnJlbW92ZUV2ZW50KGEsbixyLmhhbmRsZSksZGVsZXRlIGlbbl0pfWVsc2UgZm9yKG4gaW4gaSlvLmV2ZW50LnJlbW92ZShhLG4rYltqXSxjLGQsITApO28uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbCxuLHA9W2R8fG1dLHE9ai5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWouY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGc9aD1kPWR8fG0sMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhWC50ZXN0KHErby5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+PTAmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW28uZXhwYW5kb10/YjpuZXcgby5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrci5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06by5tYWtlQXJyYXkoYyxbYl0pLG49by5ldmVudC5zcGVjaWFsW3FdfHx7fSxlfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFuLm5vQnViYmxlJiYhby5pc1dpbmRvdyhkKSl7Zm9yKGk9bi5kZWxlZ2F0ZVR5cGV8fHEsWC50ZXN0KGkrcSl8fChnPWcucGFyZW50Tm9kZSk7ZztnPWcucGFyZW50Tm9kZSlwLnB1c2goZyksaD1nO2g9PT0oZC5vd25lckRvY3VtZW50fHxtKSYmcC5wdXNoKGguZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93fHxhKX1mPTA7d2hpbGUoKGc9cFtmKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zj4xP2k6bi5iaW5kVHlwZXx8cSxsPShMLmdldChnLCJldmVudHMiKXx8e30pW2IudHlwZV0mJkwuZ2V0KGcsImhhbmRsZSIpLGwmJmwuYXBwbHkoZyxjKSxsPWsmJmdba10sbCYmbC5hcHBseSYmby5hY2NlcHREYXRhKGcpJiYoYi5yZXN1bHQ9bC5hcHBseShnLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1xLGV8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4uX2RlZmF1bHQmJm4uX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxjKSE9PSExfHwhby5hY2NlcHREYXRhKGQpfHxrJiZvLmlzRnVuY3Rpb24oZFtxXSkmJiFvLmlzV2luZG93KGQpJiYoaD1kW2tdLGgmJihkW2tdPW51bGwpLG8uZXZlbnQudHJpZ2dlcmVkPXEsZFtxXSgpLG8uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxoJiYoZFtrXT1oKSksYi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW8uZXZlbnQuZml4KGEpO3ZhciBiLGMsZSxmLGcsaD1bXSxpPWQuY2FsbChhcmd1bWVudHMpLGo9KEwuZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1vLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1vLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZy5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxlPSgoby5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1lJiYoYS5yZXN1bHQ9ZSk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHwiY2xpY2siIT09YS50eXBlKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKGkuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWEudHlwZSl7Zm9yKGQ9W10sYz0wO2g+YztjKyspZj1iW2NdLGU9Zi5zZWxlY3RvcisiICIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/byhlLHRoaXMpLmluZGV4KGkpPj0wOm8uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b247cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGM9YS50YXJnZXQub3duZXJEb2N1bWVudHx8bSxkPWMuZG9jdW1lbnRFbGVtZW50LGU9Yy5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhkJiZkLnNjcm9sbExlZnR8fGUmJmUuc2Nyb2xsTGVmdHx8MCktKGQmJmQuY2xpZW50TGVmdHx8ZSYmZS5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZCYmZC5zY3JvbGxUb3B8fGUmJmUuc2Nyb2xsVG9wfHwwKS0oZCYmZC5jbGllbnRUb3B8fGUmJmUuY2xpZW50VG9wfHwwKSksYS53aGljaHx8dm9pZCAwPT09Znx8KGEud2hpY2g9MSZmPzE6MiZmPzM6NCZmPzI6MCksYX19LGZpeDpmdW5jdGlvbihhKXtpZihhW28uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1XLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlYudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBvLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9bSksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PV8oKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PV8oKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZvLm5vZGVOYW1lKHRoaXMsImlucHV0Iik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gby5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW8uZXh0ZW5kKG5ldyBvLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9vLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm8uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG8ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG8uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG8uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP1o6JCk6dGhpcy50eXBlPWEsYiYmby5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8by5ub3coKSx2b2lkKHRoaXNbby5leHBhbmRvXT0hMCkpOm5ldyBvLkV2ZW50KGEsYil9LG8uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Wix0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sby5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtvLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFvLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxsLmZvY3VzaW5CdWJibGVzfHxvLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7by5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG8uZXZlbnQuZml4KGEpLCEwKX07by5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxvLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbygpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1vLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixvKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/by5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZDtmdW5jdGlvbiBqYihhLGIpe3JldHVybiBvLm5vZGVOYW1lKGEsInRhYmxlIikmJm8ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24ga2IoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiBsYihhKXt2YXIgYj1nYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIG1iKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxMLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIG5iKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW8uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9by5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9iKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6YS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZvLm5vZGVOYW1lKGEsYik/by5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1vLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9by5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxvLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxuPWEubGVuZ3RoO24+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09by50eXBlKGUpKW8ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxnPShiYi5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGg9aWJbZ118fGliLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNlKGFiLCI8JDE+PC8kMj4iKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtvLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PSIifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9IiIsbT0wO3doaWxlKGU9bFttKytdKWlmKCghZHx8LTE9PT1vLmluQXJyYXkoZSxkKSkmJihpPW8uY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpLGY9b2Ioay5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksaSYmbWIoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYi50ZXN0KGUudHlwZXx8IiIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZixnLGg9by5ldmVudC5zcGVjaWFsLGk9MDt2b2lkIDAhPT0oYz1hW2ldKTtpKyspe2lmKG8uYWNjZXB0RGF0YShjKSYmKGY9Y1tMLmV4cGFuZG9dLGYmJihiPUwuY2FjaGVbZl0pKSl7aWYoZD1PYmplY3Qua2V5cyhiLmV2ZW50c3x8e30pLGQubGVuZ3RoKWZvcihnPTA7dm9pZCAwIT09KGU9ZFtnXSk7ZysrKWhbZV0/by5ldmVudC5yZW1vdmUoYyxlKTpvLnJlbW92ZUV2ZW50KGMsZSxiLmhhbmRsZSk7TC5jYWNoZVtmXSYmZGVsZXRlIEwuY2FjaGVbZl19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksby5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9vLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/by5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG8uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZvLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYywic2NyaXB0IikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihvLmNsZWFuRGF0YShvYihhLCExKSksYS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gby5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShhYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYoby5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG8uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsaz10aGlzLmxlbmd0aCxtPXRoaXMsbj1rLTEscD1hWzBdLHE9by5pc0Z1bmN0aW9uKHApO2lmKHF8fGs+MSYmInN0cmluZyI9PXR5cGVvZiBwJiYhbC5jaGVja0Nsb25lJiZlYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bS5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYoayYmKGM9by5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGQ9Yy5maXJzdENoaWxkLDE9PT1jLmNoaWxkTm9kZXMubGVuZ3RoJiYoYz1kKSxkKSl7Zm9yKGY9by5tYXAob2IoYywic2NyaXB0Iiksa2IpLGc9Zi5sZW5ndGg7az5qO2orKyloPWMsaiE9PW4mJihoPW8uY2xvbmUoaCwhMCwhMCksZyYmby5tZXJnZShmLG9iKGgsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxvLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fCIiKSYmIUwuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmby5jb250YWlucyhpLGgpJiYoaC5zcmM/by5fZXZhbFVybCYmby5fZXZhbFVybChoLnNyYyk6by5nbG9iYWxFdmFsKGgudGV4dENvbnRlbnQucmVwbGFjZShoYiwiIikpKX1yZXR1cm4gdGhpc319KSxvLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe28uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1vKGEpLGc9ZS5sZW5ndGgtMSxoPTA7Zz49aDtoKyspYz1oPT09Zz90aGlzOnRoaXMuY2xvbmUoITApLG8oZVtoXSlbYl0oYyksZi5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgcWIscmI9e307ZnVuY3Rpb24gc2IoYixjKXt2YXIgZD1vKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxlPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU/YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShkWzBdKS5kaXNwbGF5Om8uY3NzKGRbMF0sImRpc3BsYXkiKTtyZXR1cm4gZC5kZXRhY2goKSxlfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPW0sYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSwibm9uZSIhPT1jJiZjfHwocWI9KHFifHxvKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXFiWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9c2IoYSxiKSxxYi5kZXRhY2goKSkscmJbYV09YyksY312YXIgdWI9L15tYXJnaW4vLHZiPW5ldyBSZWdFeHAoIl4oIitRKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksd2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCl9O2Z1bmN0aW9uIHhiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2IoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoIiIhPT1nfHxvLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9by5zdHlsZShhLGIpKSx2Yi50ZXN0KGcpJiZ1Yi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiB5YihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0hZnVuY3Rpb24oKXt2YXIgYixjLGQ9InBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveCIsZT1tLmRvY3VtZW50RWxlbWVudCxmPW0uY3JlYXRlRWxlbWVudCgiZGl2IiksZz1tLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixnLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsbC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWcuc3R5bGUuYmFja2dyb3VuZENsaXAsZi5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweCIsZi5hcHBlbmRDaGlsZChnKTtmdW5jdGlvbiBoKCl7Zy5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcHg7Ym9yZGVyOjFweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjRweDttYXJnaW4tdG9wOjElO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxJSIsZS5hcHBlbmRDaGlsZChmKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoZyxudWxsKTtiPSIxJSIhPT1kLnRvcCxjPSI0cHgiPT09ZC53aWR0aCxlLnJlbW92ZUNoaWxkKGYpfWEuZ2V0Q29tcHV0ZWRTdHlsZSYmby5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBoKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaCgpLGN9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYixjPWcuYXBwZW5kQ2hpbGQobS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1nLnN0eWxlLmNzc1RleHQ9ZCxjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGcuc3R5bGUud2lkdGg9IjFweCIsZS5hcHBlbmRDaGlsZChmKSxiPSFwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHlsZShjLG51bGwpLm1hcmdpblJpZ2h0KSxlLnJlbW92ZUNoaWxkKGYpLGcuaW5uZXJIVE1MPSIiLGJ9fSl9KCksby5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoIl4oIitRKyIpKC4qKSQiLCJpIiksQmI9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitRKyIpIiwiaSIpLENiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxEYj17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxFYj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIEZiKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUViLmxlbmd0aDt3aGlsZShlLS0paWYoYj1FYltlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBHYihhLGIsYyl7dmFyIGQ9QWIuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMV0tKGN8fDApKSsoZFsyXXx8InB4Iik6Yn1mdW5jdGlvbiBIYihhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpIm1hcmdpbiI9PT1jJiYoZys9by5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1vLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpKSwibWFyZ2luIiE9PWMmJihnLT1vLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpOihnKz1vLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1vLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIEliKGEsYixjKXt2YXIgZD0hMCxlPSJ3aWR0aCI9PT1iP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsZj13YihhKSxnPSJib3JkZXItYm94Ij09PW8uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hiKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlMoZCkmJihmW2ddPUwuYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHRiKGQubm9kZU5hbWUpKSkpOmZbZ118fChlPVMoZCksKGMmJiJub25lIiE9PWN8fCFlKSYmTC5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm8uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9by5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YihhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjoiY3NzRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW8uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1vLmNzc1Byb3BzW2hdfHwoby5jc3NQcm9wc1toXT1GYihpLGgpKSxnPW8uY3NzSG9va3NbYl18fG8uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPUJiLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQoby5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG8uY3NzTnVtYmVyW2hdfHwoYys9InB4IiksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09IiIsaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1vLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1vLmNzc1Byb3BzW2hdfHwoby5jc3NQcm9wc1toXT1GYihhLnN0eWxlLGgpKSxnPW8uY3NzSG9va3NbYl18fG8uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YihhLGIsZCkpLCJub3JtYWwiPT09ZSYmYiBpbiBEYiYmKGU9RGJbYl0pLCIiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8by5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG8uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtvLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjPzA9PT1hLm9mZnNldFdpZHRoJiZ6Yi50ZXN0KG8uY3NzKGEsImRpc3BsYXkiKSk/by5zd2FwKGEsQ2IsZnVuY3Rpb24oKXtyZXR1cm4gSWIoYSxiLGQpfSk6SWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YihhKTtyZXR1cm4gR2IoYSxjLGQ/SGIoYSxiLGQsImJvcmRlci1ib3giPT09by5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksby5jc3NIb29rcy5tYXJnaW5SaWdodD15YihsLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9vLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0seGIsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG8uZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7by5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPSJzdHJpbmciPT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWIudGVzdChhKXx8KG8uY3NzSG9va3NbYStiXS5zZXQ9R2IpfSksby5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoby5pc0FycmF5KGIpKXtmb3IoZD13YihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1vLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/by5zdHlsZShhLGIsYyk6by5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9vKHRoaXMpLnNob3coKTpvKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW8uVHdlZW49S2IsS2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwoby5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/by5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxLYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9S2IucHJvdG90eXBlLEtiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9by5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7by5meC5zdGVwW2EucHJvcF0/by5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW28uY3NzUHJvcHNbYS5wcm9wXV18fG8uY3NzSG9va3NbYS5wcm9wXSk/by5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2IucHJvcEhvb2tzLnNjcm9sbFRvcD1LYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxvLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxvLmZ4PUtiLnByb3RvdHlwZS5pbml0LG8uZnguc3RlcD17fTt2YXIgTGIsTWIsTmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9iPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitRKyIpKFthLXolXSopJCIsImkiKSxQYj0vcXVldWVIb29rcyQvLFFiPVtWYl0sUmI9eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9T2IuZXhlYyhiKSxmPWUmJmVbM118fChvLmNzc051bWJlclthXT8iIjoicHgiKSxnPShvLmNzc051bWJlclthXXx8InB4IiE9PWYmJitkKSYmT2IuZXhlYyhvLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8Ii41IixnLz1oLG8uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIFNiKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYj12b2lkIDB9KSxMYj1vLm5vdygpfWZ1bmN0aW9uIFRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9dGhpcyxsPXt9LG09YS5zdHlsZSxuPWEubm9kZVR5cGUmJlMoYSkscD1MLmdldChhLCJmeHNob3ciKTtjLnF1ZXVlfHwoaD1vLl9xdWV1ZUhvb2tzKGEsImZ4IiksbnVsbD09aC51bnF1ZXVlZCYmKGgudW5xdWV1ZWQ9MCxpPWguZW1wdHkuZmlyZSxoLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtoLnVucXVldWVkfHxpKCl9KSxoLnVucXVldWVkKyssay5hbHdheXMoZnVuY3Rpb24oKXtrLmFsd2F5cyhmdW5jdGlvbigpe2gudW5xdWV1ZWQtLSxvLnF1ZXVlKGEsImZ4IikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoImhlaWdodCJpbiBifHwid2lkdGgiaW4gYikmJihjLm92ZXJmbG93PVttLm92ZXJmbG93LG0ub3ZlcmZsb3dYLG0ub3ZlcmZsb3dZXSxqPW8uY3NzKGEsImRpc3BsYXkiKSwibm9uZSI9PT1qJiYoaj10YihhLm5vZGVOYW1lKSksImlubGluZSI9PT1qJiYibm9uZSI9PT1vLmNzcyhhLCJmbG9hdCIpJiYobS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG0ub3ZlcmZsb3c9ImhpZGRlbiIsay5hbHdheXMoZnVuY3Rpb24oKXttLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sbS5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxtLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0obj8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXB8fHZvaWQgMD09PXBbZF0pY29udGludWU7bj0hMH1sW2RdPXAmJnBbZF18fG8uc3R5bGUoYSxkKX1pZighby5pc0VtcHR5T2JqZWN0KGwpKXtwPyJoaWRkZW4iaW4gcCYmKG49cC5oaWRkZW4pOnA9TC5hY2Nlc3MoYSwiZnhzaG93Iix7fSksZiYmKHAuaGlkZGVuPSFuKSxuP28oYSkuc2hvdygpOmsuZG9uZShmdW5jdGlvbigpe28oYSkuaGlkZSgpfSksay5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7TC5yZW1vdmUoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbClvLnN0eWxlKGEsYixsW2JdKX0pO2ZvcihkIGluIGwpZz1VYihuP3BbZF06MCxkLGspLGQgaW4gcHx8KHBbZF09Zy5zdGFydCxuJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIFdiKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9by5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxvLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW8uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gWGIoYSxiLGMpe3ZhciBkLGUsZj0wLGc9UWIubGVuZ3RoLGg9by5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9TGJ8fFNiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm8uZXh0ZW5kKHt9LGIpLG9wdHM6by5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpMYnx8U2IoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW8uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKFdiKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1RYltmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG8ubWFwKGssVWIsaiksby5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksby5meC50aW1lcihvLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1vLkFuaW1hdGlvbj1vLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe28uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1SYltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksby5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP28uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8by5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFvLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW8uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBvLmZ4LnNwZWVkcz9vLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpvLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7by5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZvLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sby5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9by5pc0VtcHR5T2JqZWN0KGEpLGY9by5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsby5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9by50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm8uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1vLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsby5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxvLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9by5mbltiXTtvLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVGIoYiwhMCksYSxkLGUpfX0pLG8uZWFjaCh7c2xpZGVEb3duOlRiKCJzaG93Iiksc2xpZGVVcDpUYigiaGlkZSIpLHNsaWRlVG9nZ2xlOlRiKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7by5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxvLnRpbWVycz1bXSxvLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1vLnRpbWVycztmb3IoTGI9by5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxvLmZ4LnN0b3AoKSxMYj12b2lkIDB9LG8uZngudGltZXI9ZnVuY3Rpb24oYSl7by50aW1lcnMucHVzaChhKSxhKCk/by5meC5zdGFydCgpOm8udGltZXJzLnBvcCgpfSxvLmZ4LmludGVydmFsPTEzLG8uZnguc3RhcnQ9ZnVuY3Rpb24oKXtNYnx8KE1iPXNldEludGVydmFsKG8uZngudGljayxvLmZ4LmludGVydmFsKSl9LG8uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoTWIpLE1iPW51bGx9LG8uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG8uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1vLmZ4P28uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGE9bS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGI9bS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxjPWIuYXBwZW5kQ2hpbGQobS5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7YS50eXBlPSJjaGVja2JveCIsbC5jaGVja09uPSIiIT09YS52YWx1ZSxsLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxsLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9bS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGEudmFsdWU9InQiLGEudHlwZT0icmFkaW8iLGwucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBZYixaYiwkYj1vLmV4cHIuYXR0ckhhbmRsZTtvLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsby5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG8uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1VP28ucHJvcChhLGIsYyk6KDE9PT1mJiZvLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZD1vLmF0dHJIb29rc1tiXXx8KG8uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/WmI6WWIpKSx2b2lkIDA9PT1jP2QmJiJnZXQiaW4gZCYmbnVsbCE9PShlPWQuZ2V0KGEsYikpP2U6KGU9by5maW5kLmF0dHIoYSxiKSxudWxsPT1lP3ZvaWQgMDplKTpudWxsIT09Yz9kJiYic2V0ImluIGQmJnZvaWQgMCE9PShlPWQuc2V0KGEsYyxiKSk/ZTooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTp2b2lkIG8ucmVtb3ZlQXR0cihhLGIpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW8ucHJvcEZpeFtjXXx8YyxvLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm8ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksWmI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9vLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxvLmVhY2goby5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz0kYltiXXx8by5maW5kLmF0dHI7JGJbYl09ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7CnJldHVybiBkfHwoZj0kYltiXSwkYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsJGJbYl09ZiksZX19KTt2YXIgX2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtvLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsby5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tvLnByb3BGaXhbYV18fGFdfSl9fSksby5leHRlbmQoe3Byb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVUeXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFvLmlzWE1MRG9jKGEpLGYmJihiPW8ucHJvcEZpeFtiXXx8YixlPW8ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4Iil8fF9iLnRlc3QoYS5ub2RlTmFtZSl8fGEuaHJlZj9hLnRhYkluZGV4Oi0xfX19fSksbC5vcHRTZWxlY3RlZHx8KG8ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSksby5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtvLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGFjPS9bXHRcclxuXGZdL2c7by5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPSJzdHJpbmciPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihvLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtvKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGFjLCIgIik6IiAiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZigiICIrZSsiICIpPDAmJihkKz1lKyIgIik7Zz1vLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYoby5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7byh0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZSsiICIpPj0wKWQ9ZC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2c9YT9vLnRyaW0oZCk6IiIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRoaXMuZWFjaChvLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7byh0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09Yyl7dmFyIGIsZD0wLGU9byh0aGlzKSxmPWEubWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PVV8fCJib29sZWFuIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXHIvZztvLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9by5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG8odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjpvLmlzQXJyYXkoZSkmJihlPW8ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW8udmFsSG9va3NbdGhpcy50eXBlXXx8by52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW8udmFsSG9va3NbZS50eXBlXXx8by52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UoYmMsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLG8uZXh0ZW5kKHt2YWxIb29rczp7c2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChsLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZvLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9byhjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW8ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1vLmluQXJyYXkobyhkKS52YWwoKSxmKT49MCkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG8uZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe28udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBvLmlzQXJyYXkoYik/YS5jaGVja2VkPW8uaW5BcnJheShvKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19LGwuY2hlY2tPbnx8KG8udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjphLnZhbHVlfSl9KSxvLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtvLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxvLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pO3ZhciBjYz1vLm5vdygpLGRjPS9cPy87by5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYSsiIil9LG8ucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtjPW5ldyBET01QYXJzZXIsYj1jLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJldHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZvLmVycm9yKCJJbnZhbGlkIFhNTDogIithKSxifTt2YXIgZWMsZmMsZ2M9LyMuKiQvLGhjPS8oWz8mXSlfPVteJl0qLyxpYz0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLGpjPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGtjPS9eKD86R0VUfEhFQUQpJC8sbGM9L15cL1wvLyxtYz0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwpKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxuYz17fSxvYz17fSxwYz0iKi8iLmNvbmNhdCgiKiIpO3RyeXtmYz1sb2NhdGlvbi5ocmVmfWNhdGNoKHFjKXtmYz1tLmNyZWF0ZUVsZW1lbnQoImEiKSxmYy5ocmVmPSIiLGZjPWZjLmhyZWZ9ZWM9bWMuZXhlYyhmYy50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gcmMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG8uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSkiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW9jO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsby5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9by5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmby5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZSgiKiI9PT1pWzBdKWkuc2hpZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZSsiICIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHZjKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoIioiPT09ZilmPWk7ZWxzZSBpZigiKiIhPT1pJiZpIT09Zil7aWYoZz1qW2krIiAiK2ZdfHxqWyIqICIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUuc3BsaXQoIiAiKSxoWzFdPT09ZiYmKGc9altpKyIgIitoWzBdXXx8alsiKiAiK2hbMF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVsidGhyb3dzIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpnP2w6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2krIiB0byAiK2Z9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6Yn19by5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmZjLHR5cGU6IkdFVCIsaXNMb2NhbDpqYy50ZXN0KGVjWzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOnBjLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6by5wYXJzZUpTT04sInRleHQgeG1sIjpvLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj90Yyh0YyhhLG8uYWpheFNldHRpbmdzKSxiKTp0YyhvLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpyYyhuYyksYWpheFRyYW5zcG9ydDpyYyhvYyksYWpheDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9by5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/byhsKTpvLmV2ZW50LG49by5EZWZlcnJlZCgpLHA9by5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikscT1rLnN0YXR1c0NvZGV8fHt9LHI9e30scz17fSx0PTAsdT0iY2FuY2VsZWQiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWYpe2Y9e307d2hpbGUoYj1pYy5leGVjKGUpKWZbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9ZlthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2U6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3IoYiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0dXJuIGMmJmMuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihuLnByb21pc2UodikuY29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxrLnVybD0oKGF8fGsudXJsfHxmYykrIiIpLnJlcGxhY2UoZ2MsIiIpLnJlcGxhY2UobGMsZWNbMV0rIi8vIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9kfHxrLnR5cGUsay5kYXRhVHlwZXM9by50cmltKGsuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8WyIiXSxudWxsPT1rLmNyb3NzRG9tYWluJiYoaD1tYy5leGVjKGsudXJsLnRvTG93ZXJDYXNlKCkpLGsuY3Jvc3NEb21haW49ISghaHx8aFsxXT09PWVjWzFdJiZoWzJdPT09ZWNbMl0mJihoWzNdfHwoImh0dHA6Ij09PWhbMV0/IjgwIjoiNDQzIikpPT09KGVjWzNdfHwoImh0dHA6Ij09PWVjWzFdPyI4MCI6IjQ0MyIpKSkpLGsuZGF0YSYmay5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBrLmRhdGEmJihrLmRhdGE9by5wYXJhbShrLmRhdGEsay50cmFkaXRpb25hbCkpLHNjKG5jLGssYix2KSwyPT09dClyZXR1cm4gdjtpPWsuZ2xvYmFsLGkmJjA9PT1vLmFjdGl2ZSsrJiZvLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWtjLnRlc3Qoay50eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShkYy50ZXN0KGQpPyImIjoiPyIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hlPT09ITEmJihrLnVybD1oYy50ZXN0KGQpP2QucmVwbGFjZShoYywiJDFfPSIrY2MrKyk6ZCsoZGMudGVzdChkKT8iJiI6Ij8iKSsiXz0iK2NjKyspKSxrLmlmTW9kaWZpZWQmJihvLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsby5sYXN0TW9kaWZpZWRbZF0pLG8uZXRhZ1tkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixvLmV0YWdbZF0pKSwoay5kYXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsay5kYXRhVHlwZXNbMF0mJmsuYWNjZXB0c1trLmRhdGFUeXBlc1swXV0/ay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXSsoIioiIT09ay5kYXRhVHlwZXNbMF0/IiwgIitwYysiOyBxPTAuMDEiOiIiKTprLmFjY2VwdHNbIioiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9ImFib3J0Ijtmb3IoaiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl2W2pdKGtbal0pO2lmKGM9c2Mob2MsayxiLHYpKXt2LnJlYWR5U3RhdGU9MSxpJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbdixrXSksay5hc3luYyYmay50aW1lb3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT11YyhrLHYsZikpLHU9dmMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG8ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihvLmV0YWdbZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMwND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP24ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpuLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW8uYWN0aXZlfHxvLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gdn0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBvLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KSxvLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtvW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBvLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxvLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9KX19KSxvLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe28uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxvLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBvLmFqYXgoe3VybDphLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9LG8uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBvLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe28odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9byhhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goby5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe28odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1vKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW8uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe28odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtvLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8byh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksby5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sby5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hby5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgd2M9LyUyMC9nLHhjPS9cW1xdJC8seWM9L1xyP1xuL2csemM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLEFjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBCYyhhLGIsYyxkKXt2YXIgZTtpZihvLmlzQXJyYXkoYikpby5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx4Yy50ZXN0KGEpP2QoYSxlKTpCYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09by50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQmMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW8ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW8uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1vLmFqYXhTZXR0aW5ncyYmby5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG8uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFvLmlzUGxhaW5PYmplY3QoYSkpby5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlCYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSh3YywiKyIpfSxvLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG8ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1vLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9vLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFvKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmQWMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXpjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9byh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm8uaXNBcnJheShjKT9vLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoeWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHljLCJcclxuIil9fSkuZ2V0KCl9fSksby5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYSl7fX07dmFyIENjPTAsRGM9e30sRWM9ezA6MjAwLDEyMjM6MjA0fSxGYz1vLmFqYXhTZXR0aW5ncy54aHIoKTthLkFjdGl2ZVhPYmplY3QmJm8oYSkub24oInVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gRGMpRGNbYV0oKX0pLGwuY29ycz0hIUZjJiYid2l0aENyZWRlbnRpYWxzImluIEZjLGwuYWpheD1GYz0hIUZjLG8uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbC5jb3JzfHxGYyYmIWEuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0NjO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1siWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoY1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIERjW2ddLGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsImFib3J0Ij09PWE/Zi5hYm9ydCgpOiJlcnJvciI9PT1hP2QoZi5zdGF0dXMsZi5zdGF0dXNUZXh0KTpkKEVjW2Yuc3RhdHVzXXx8Zi5zdGF0dXMsZi5zdGF0dXNUZXh0LCJzdHJpbmciPT10eXBlb2YgZi5yZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIoImVycm9yIiksYj1EY1tnXT1iKCJhYm9ydCIpLGYuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYigpfX06dm9pZCAwfSksby5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihhKXtyZXR1cm4gby5nbG9iYWxFdmFsKGEpLGF9fX0pLG8uYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIil9KSxvLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9bygiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbigibG9hZCBlcnJvciIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKCJlcnJvciI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksbS5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBHYz1bXSxIYz0vKD0pXD8oPz0mfCQpfFw/XD8vO28uYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1HYy5wb3AoKXx8by5leHBhbmRvKyJfIitjYysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksby5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoSGMudGVzdChiLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZIYy50ZXN0KGIuZGF0YSkmJiJkYXRhIik7cmV0dXJuIGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9by5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoSGMsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGRjLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxvLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxHYy5wdXNoKGUpKSxnJiZvLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJzY3JpcHQiKTp2b2lkIDB9KSxvLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8bTt2YXIgZD12LmV4ZWMoYSksZT0hYyYmW107cmV0dXJuIGQ/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9by5idWlsZEZyYWdtZW50KFthXSxiLGUpLGUmJmUubGVuZ3RoJiZvKGUpLnJlbW92ZSgpLG8ubWVyZ2UoW10sZC5jaGlsZE5vZGVzKSl9O3ZhciBJYz1vLmZuLmxvYWQ7by5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJkljKXJldHVybiBJYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPj0wJiYoZD1hLnNsaWNlKGgpLGE9YS5zbGljZSgwLGgpKSxvLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmIm9iamVjdCI9PXR5cGVvZiBiJiYoZT0iUE9TVCIpLGcubGVuZ3RoPjAmJm8uYWpheCh7dXJsOmEsdHlwZTplLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP28oIjxkaXY+IikuYXBwZW5kKG8ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxvLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gby5ncmVwKG8udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgSmM9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gS2MoYSl7cmV0dXJuIG8uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31vLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW8uY3NzKGEsInBvc2l0aW9uIiksbD1vKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1vLmNzcyhhLCJ0b3AiKSxpPW8uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiYoZitpKS5pbmRleE9mKCJhdXRvIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG8uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG8uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtvLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG8uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1LYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuImZpeGVkIj09PW8uY3NzKGMsInBvc2l0aW9uIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG8ubm9kZU5hbWUoYVswXSwiaHRtbCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9by5jc3MoYVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxkLmxlZnQrPW8uY3NzKGFbMF0sImJvcmRlckxlZnRXaWR0aCIsITApKSx7dG9wOmIudG9wLWQudG9wLW8uY3NzKGMsIm1hcmdpblRvcCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1vLmNzcyhjLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fEpjO3doaWxlKGEmJiFvLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1vLmNzcyhhLCJwb3NpdGlvbiIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fEpjfSl9fSksby5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKGIsYyl7dmFyIGQ9InBhZ2VZT2Zmc2V0Ij09PWM7by5mbltiXT1mdW5jdGlvbihlKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsZSxmKXt2YXIgZz1LYyhiKTtyZXR1cm4gdm9pZCAwPT09Zj9nP2dbY106YltlXTp2b2lkKGc/Zy5zY3JvbGxUbyhkP2EucGFnZVhPZmZzZXQ6ZixkP2Y6YS5wYWdlWU9mZnNldCk6YltlXT1mKX0sYixlLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksby5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7by5jc3NIb29rc1tiXT15YihsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz14YihhLGIpLHZiLnRlc3QoYyk/byhhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxvLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe28uZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpiLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oYyxkKXtvLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fCJib29sZWFuIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gby5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbInNjcm9sbCIrYV0sZVsic2Nyb2xsIithXSxiLmJvZHlbIm9mZnNldCIrYV0sZVsib2Zmc2V0IithXSxlWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09ZD9vLmNzcyhiLGMsZyk6by5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxvLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG8uZm4uYW5kU2VsZj1vLmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgTGM9YS5qUXVlcnksTWM9YS4kO3JldHVybiBvLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW8mJihhLiQ9TWMpLGImJmEualF1ZXJ5PT09byYmKGEualF1ZXJ5PUxjKSxvfSx0eXBlb2YgYj09PVUmJihhLmpRdWVyeT1hLiQ9byksb30pOwo="}]},{"name":"Return YouTube Dislike","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.youtube.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":["*://music.youtube.com/*","*://*.music.youtube.com/*"],"merge_excludes":true,"use_connects":[],"orig_connects":["youtube.com"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1691320204217,"data":{}},"enabled":true,"position":11,"file_url":"https://github.com/Anarios/return-youtube-dislike/raw/main/Extensions/UserScript/Return%20Youtube%20Dislike.user.js","uuid":"e24bbf52-50ec-4998-be3c-9f6cf042e17d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSZXR1cm4gWW91VHViZSBEaXNsaWtlCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cucmV0dXJueW91dHViZWRpc2xpa2UuY29tLwovLyBAaG9tZXBhZ2UgICAgIGh0dHBzOi8vd3d3LnJldHVybnlvdXR1YmVkaXNsaWtlLmNvbS8KLy8gQHZlcnNpb24gICAgICAzLjEuMgovLyBAZW5jb2RpbmcgICAgIHV0Zi04Ci8vIEBkZXNjcmlwdGlvbiAgUmV0dXJuIG9mIHRoZSBZb3VUdWJlIERpc2xpa2UsIEJhc2VkIG9mZiBodHRwczovL3d3dy5yZXR1cm55b3V0dWJlZGlzbGlrZS5jb20vCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL0FuYXJpb3MvcmV0dXJuLXlvdXR1YmUtZGlzbGlrZS9yYXcvbWFpbi9JY29ucy9SZXR1cm4lMjBZb3V0dWJlJTIwRGlzbGlrZSUyMC0lMjBUcmFuc3BhcmVudC5wbmcKLy8gQGF1dGhvciAgICAgICBBbmFyaW9zICYgSlJXUgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnlvdXR1YmUuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAqOi8vbXVzaWMueW91dHViZS5jb20vKgovLyBAZXhjbHVkZSAgICAgICo6Ly8qLm11c2ljLnlvdXR1YmUuY29tLyoKLy8gQGNvbXBhdGlibGUgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICBmaXJlZm94Ci8vIEBjb21wYXRpYmxlICAgb3BlcmEKLy8gQGNvbXBhdGlibGUgICBzYWZhcmkKLy8gQGNvbXBhdGlibGUgICBlZGdlCi8vIEBkb3dubG9hZFVSTCAgaHR0cHM6Ly9naXRodWIuY29tL0FuYXJpb3MvcmV0dXJuLXlvdXR1YmUtZGlzbGlrZS9yYXcvbWFpbi9FeHRlbnNpb25zL1VzZXJTY3JpcHQvUmV0dXJuJTIwWW91dHViZSUyMERpc2xpa2UudXNlci5qcwovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9BbmFyaW9zL3JldHVybi15b3V0dWJlLWRpc2xpa2UvcmF3L21haW4vRXh0ZW5zaW9ucy9Vc2VyU2NyaXB0L1JldHVybiUyMFlvdXR1YmUlMjBEaXNsaWtlLnVzZXIuanMKLy8gQGdyYW50ICAgICAgICBHTS54bWxIdHRwUmVxdWVzdAovLyBAY29ubmVjdCAgICAgIHlvdXR1YmUuY29tCi8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBleHRDb25maWcgPSB7CiAgLy8gQkVHSU4gVVNFUiBPUFRJT05TCiAgLy8gWW91IG1heSBjaGFuZ2UgdGhlIGZvbGxvd2luZyB2YXJpYWJsZXMgdG8gYWxsb3dlZCB2YWx1ZXMgbGlzdGVkIGluIHRoZSBjb3JyZXNwb25kaW5nIGJyYWNrZXRzICgqIG1lYW5zIGRlZmF1bHQpLiBLZWVwIHRoZSBzdHlsZSBhbmQga2V5d29yZHMgaW50YWN0LgogIHNob3dVcGRhdGVQb3B1cDogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIFNob3cgYSBwb3B1cCB0YWIgYWZ0ZXIgZXh0ZW5zaW9uIHVwZGF0ZSAoU2VlIHdoYXQncyBuZXcpCiAgZGlzYWJsZVZvdGVTdWJtaXNzaW9uOiBmYWxzZSwgLy8gW3RydWUsIGZhbHNlKl0gRGlzYWJsZSBsaWtlL2Rpc2xpa2Ugc3VibWlzc2lvbiAoU3RvcHMgY291bnRpbmcgeW91ciBsaWtlcyBhbmQgZGlzbGlrZXMpCiAgY29sb3JlZFRodW1iczogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIENvbG9yaXplIHRodW1icyAoVXNlIGN1c3RvbSBjb2xvcnMgZm9yIHRodW1iIGljb25zKQogIGNvbG9yZWRCYXI6IGZhbHNlLCAvLyBbdHJ1ZSwgZmFsc2UqXSBDb2xvcml6ZSByYXRpbyBiYXIgKFVzZSBjdXN0b20gY29sb3JzIGZvciByYXRpbyBiYXIpCiAgY29sb3JUaGVtZTogImNsYXNzaWMiLCAvLyBbY2xhc3NpYyosIGFjY2Vzc2libGUsIG5lb25dIENvbG9yIHRoZW1lIChyZWQvZ3JlZW4sIGJsdWUveWVsbG93LCBwaW5rL2N5YW4pCiAgbnVtYmVyRGlzcGxheUZvcm1hdDogImNvbXBhY3RTaG9ydCIsIC8vIFtjb21wYWN0U2hvcnQqLCBjb21wYWN0TG9uZywgc3RhbmRhcmRdIE51bWJlciBmb3JtYXQgKEZvciBub24tRW5nbGlzaCBsb2NhbGUgdXNlcnMsIHlvdSBtYXkgYmUgYWJsZSB0byBpbXByb3ZlIGFwcGVhcmFuY2Ugd2l0aCBhIGRpZmZlcmVudCBvcHRpb24uIFBsZWFzZSBmaWxlIGEgZmVhdHVyZSByZXF1ZXN0IGlmIHlvdXIgbG9jYWxlIGlzIG5vdCBjb3ZlcmVkKQogIG51bWJlckRpc3BsYXlSb3VuZERvd246IHRydWUsIC8vIFt0cnVlKiwgZmFsc2VdIFJvdW5kIGRvd24gbnVtYmVycyAoU2hvdyByb3VuZGVkIGRvd24gbnVtYmVycykKICB0b29sdGlwUGVyY2VudGFnZU1vZGU6ICJub25lIiwgLy8gW25vbmUqLCBkYXNoX2xpa2UsIGRhc2hfZGlzbGlrZSwgYm90aCwgb25seV9saWtlLCBvbmx5X2Rpc2xpa2VdIE1vZGUgb2Ygc2hvd2luZyBwZXJjZW50YWdlIGluIGxpa2UvZGlzbGlrZSBiYXIgdG9vbHRpcC4KICBudW1iZXJEaXNwbGF5UmVmb3JtYXRMaWtlczogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIFJlLWZvcm1hdCBsaWtlIG51bWJlcnMgKE1ha2UgbGlrZXMgYW5kIGRpc2xpa2VzIGZvcm1hdCBjb25zaXN0ZW50KQogIC8vIEVORCBVU0VSIE9QVElPTlMKfTsKCmNvbnN0IExJS0VEX1NUQVRFID0gIkxJS0VEX1NUQVRFIjsKY29uc3QgRElTTElLRURfU1RBVEUgPSAiRElTTElLRURfU1RBVEUiOwpjb25zdCBORVVUUkFMX1NUQVRFID0gIk5FVVRSQUxfU1RBVEUiOwpsZXQgcHJldmlvdXNTdGF0ZSA9IDM7IC8vMT1MSUtFRCwgMj1ESVNMSUtFRCwgMz1ORVVUUkFMCmxldCBsaWtlc3ZhbHVlID0gMDsKbGV0IGRpc2xpa2VzdmFsdWUgPSAwOwoKbGV0IGlzTW9iaWxlID0gbG9jYXRpb24uaG9zdG5hbWUgPT0gIm0ueW91dHViZS5jb20iOwpsZXQgaXNTaG9ydHMgPSAoKSA9PiBsb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvc2hvcnRzIik7CmxldCBtb2JpbGVEaXNsaWtlcyA9IDA7CmZ1bmN0aW9uIGNMb2codGV4dCwgc3VidGV4dCA9ICIiKSB7CiAgc3VidGV4dCA9IHN1YnRleHQudHJpbSgpID09PSAiIiA/ICIiIDogYCgke3N1YnRleHR9KWA7CiAgY29uc29sZS5sb2coYFtSZXR1cm4gWW91VHViZSBEaXNsaWtlc10gJHt0ZXh0fSAke3N1YnRleHR9YCk7Cn0KCmZ1bmN0aW9uIGlzSW5WaWV3cG9ydChlbGVtZW50KSB7CiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgY29uc3QgaGVpZ2h0ID0gaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICBjb25zdCB3aWR0aCA9IGlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogIHJldHVybiAoCiAgICAvLyBXaGVuIHNob3J0IChjaGFubmVsKSBpcyBpZ25vcmVkLCB0aGUgZWxlbWVudCAobGlrZS9kaXNsaWtlIEFORCBzaG9ydCBpdHNlbGYpIGlzCiAgICAvLyBoaWRkZW4gd2l0aCBhIDAgRE9NUmVjdC4gSW4gdGhpcyBjYXNlLCBjb25zaWRlciBpdCBvdXRzaWRlIG9mIFZpZXdwb3J0CiAgICAhKHJlY3QudG9wID09IDAgJiYgcmVjdC5sZWZ0ID09IDAgJiYgcmVjdC5ib3R0b20gPT0gMCAmJiByZWN0LnJpZ2h0ID09IDApICYmCiAgICByZWN0LnRvcCA+PSAwICYmCiAgICByZWN0LmxlZnQgPj0gMCAmJgogICAgcmVjdC5ib3R0b20gPD0gaGVpZ2h0ICYmCiAgICByZWN0LnJpZ2h0IDw9IHdpZHRoCiAgKTsKfQoKZnVuY3Rpb24gZ2V0QnV0dG9ucygpIHsKICBpZiAoaXNTaG9ydHMoKSkgewogICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgKICAgICAgaXNNb2JpbGUKICAgICAgICA/ICJ5dG0tbGlrZS1idXR0b24tcmVuZGVyZXIiCiAgICAgICAgOiAiI2xpa2UtYnV0dG9uID4geXRkLWxpa2UtYnV0dG9uLXJlbmRlcmVyIgogICAgKTsKICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHsKICAgICAgaWYgKGlzSW5WaWV3cG9ydChlbGVtZW50KSkgewogICAgICAgIHJldHVybiBlbGVtZW50OwogICAgICB9CiAgICB9CiAgfQogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuICgKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNsaW0tdmlkZW8tYWN0aW9uLWJhci1hY3Rpb25zIC5zZWdtZW50ZWQtYnV0dG9ucyIpID8/CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zbGltLXZpZGVvLWFjdGlvbi1iYXItYWN0aW9ucyIpCiAgICApOwogIH0KICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnUtY29udGFpbmVyIik/Lm9mZnNldFBhcmVudCA9PT0gbnVsbCkgewogICAgcmV0dXJuICgKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigieXRkLW1lbnUtcmVuZGVyZXIueXRkLXdhdGNoLW1ldGFkYXRhID4gZGl2IikgPz8KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigieXRkLW1lbnUtcmVuZGVyZXIueXRkLXZpZGVvLXByaW1hcnktaW5mby1yZW5kZXJlciA+IGRpdiIpCiAgICApOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZG9jdW1lbnQKICAgICAgLmdldEVsZW1lbnRCeUlkKCJtZW51LWNvbnRhaW5lciIpCiAgICAgID8ucXVlcnlTZWxlY3RvcigiI3RvcC1sZXZlbC1idXR0b25zLWNvbXB1dGVkIik7CiAgfQp9CgpmdW5jdGlvbiBnZXREaXNsaWtlQnV0dG9uKCkgewogIHJldHVybiBnZXRCdXR0b25zKCkuY2hpbGRyZW5bMF0udGFnTmFtZSA9PT0KICAiWVRELVNFR01FTlRFRC1MSUtFLURJU0xJS0UtQlVUVE9OLVJFTkRFUkVSIgogICAgPyBnZXRCdXR0b25zKCkuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0gPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWdtZW50ZWQtZGlzbGlrZS1idXR0b24iKSA6IGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5jaGlsZHJlblsxXQogICAgOiBnZXRCdXR0b25zKCkuY2hpbGRyZW5bMV07Cn0KCmZ1bmN0aW9uIGdldExpa2VCdXR0b24oKSB7CiAgcmV0dXJuIGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS50YWdOYW1lID09PQogICJZVEQtU0VHTUVOVEVELUxJS0UtRElTTElLRS1CVVRUT04tUkVOREVSRVIiCiAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWdtZW50ZWQtbGlrZS1idXR0b24iKSAhPT0gbnVsbCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWdtZW50ZWQtbGlrZS1idXR0b24iKSA6IGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5jaGlsZHJlblswXQogICAgOiBnZXRCdXR0b25zKCkuY2hpbGRyZW5bMF07Cn0KCmZ1bmN0aW9uIGdldExpa2VUZXh0Q29udGFpbmVyKCkgewogIHJldHVybiAoCiAgICBnZXRMaWtlQnV0dG9uKCkucXVlcnlTZWxlY3RvcigiI3RleHQiKSA/PwogICAgZ2V0TGlrZUJ1dHRvbigpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ5dC1mb3JtYXR0ZWQtc3RyaW5nIilbMF0gPz8KICAgIGdldExpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCJzcGFuW3JvbGU9J3RleHQnXSIpCiAgKTsKfQoKCmZ1bmN0aW9uIGdldERpc2xpa2VUZXh0Q29udGFpbmVyKCkgewogIGxldCByZXN1bHQgPQogICAgZ2V0RGlzbGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoIiN0ZXh0IikgPz8KICAgIGdldERpc2xpa2VCdXR0b24oKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgieXQtZm9ybWF0dGVkLXN0cmluZyIpWzBdID8/CiAgICBnZXREaXNsaWtlQnV0dG9uKCkucXVlcnlTZWxlY3Rvcigic3Bhbltyb2xlPSd0ZXh0J10iKQogIGlmIChyZXN1bHQgPT09IG51bGwpIHsKICAgIGxldCB0ZXh0U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIHRleHRTcGFuLmlkID0gInRleHQiOwogICAgdGV4dFNwYW4uc3R5bGUubWFyZ2luTGVmdCA9ICI2cHgiOwogICAgZ2V0RGlzbGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLmFwcGVuZENoaWxkKHRleHRTcGFuKTsKICAgIGdldERpc2xpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCJidXR0b24iKS5zdHlsZS53aWR0aCA9ICJhdXRvIjsKICAgIHJlc3VsdCA9IGdldERpc2xpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCIjdGV4dCIpOwogIH0KICByZXR1cm4gcmVzdWx0Owp9CgpsZXQgbXV0YXRpb25PYnNlcnZlciA9IG5ldyBPYmplY3QoKTsKCmlmIChpc1Nob3J0cygpICYmIG11dGF0aW9uT2JzZXJ2ZXIuZXhpc3RzICE9PSB0cnVlKSB7CiAgY0xvZygiaW5pdGlhbGl6aW5nIG11dGF0aW9uIG9ic2VydmVyIik7CiAgbXV0YXRpb25PYnNlcnZlci5vcHRpb25zID0gewogICAgY2hpbGRMaXN0OiBmYWxzZSwKICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICBzdWJ0cmVlOiBmYWxzZSwKICB9OwogIG11dGF0aW9uT2JzZXJ2ZXIuZXhpc3RzID0gdHJ1ZTsKICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKAogICAgbXV0YXRpb25MaXN0LAogICAgb2JzZXJ2ZXIKICApIHsKICAgIG11dGF0aW9uTGlzdC5mb3JFYWNoKChtdXRhdGlvbikgPT4gewogICAgICBpZiAoCiAgICAgICAgbXV0YXRpb24udHlwZSA9PT0gImF0dHJpYnV0ZXMiICYmCiAgICAgICAgbXV0YXRpb24udGFyZ2V0Lm5vZGVOYW1lID09PSAiVFAtWVQtUEFQRVItQlVUVE9OIiAmJgogICAgICAgIG11dGF0aW9uLnRhcmdldC5pZCA9PT0gImJ1dHRvbiIKICAgICAgKSB7CiAgICAgICAgY0xvZygiU2hvcnQgdGh1bWIgYnV0dG9uIHN0YXR1cyBjaGFuZ2VkIik7CiAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5zdHlsZS5jb2xvciA9CiAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaWQgPT09ICJsaWtlLWJ1dHRvbiIKICAgICAgICAgICAgICA/IGdldENvbG9yRnJvbVRoZW1lKHRydWUpCiAgICAgICAgICAgICAgOiBnZXRDb2xvckZyb21UaGVtZShmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5zdHlsZS5jb2xvciA9ICJ1bnNldCI7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjTG9nKAogICAgICAgICJ1bmV4cGVjdGVkIG11dGF0aW9uIG9ic2VydmVyIGV2ZW50OiAiICsgbXV0YXRpb24udGFyZ2V0ICsgbXV0YXRpb24udHlwZQogICAgICApOwogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGlzVmlkZW9MaWtlZCgpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIHJldHVybiAoCiAgICAgIGdldExpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCJidXR0b24iKS5nZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiKSA9PQogICAgICAidHJ1ZSIKICAgICk7CiAgfQogIHJldHVybiBnZXRMaWtlQnV0dG9uKCkuY2xhc3NMaXN0LmNvbnRhaW5zKCJzdHlsZS1kZWZhdWx0LWFjdGl2ZSIpOwp9CgpmdW5jdGlvbiBpc1ZpZGVvRGlzbGlrZWQoKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gKAogICAgICBnZXREaXNsaWtlQnV0dG9uKCkucXVlcnlTZWxlY3RvcigiYnV0dG9uIikuZ2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIikgPT0KICAgICAgInRydWUiCiAgICApOwogIH0KICByZXR1cm4gZ2V0RGlzbGlrZUJ1dHRvbigpLmNsYXNzTGlzdC5jb250YWlucygic3R5bGUtZGVmYXVsdC1hY3RpdmUiKTsKfQoKZnVuY3Rpb24gaXNWaWRlb05vdExpa2VkKCkgewogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuICFpc1ZpZGVvTGlrZWQoKTsKICB9CiAgcmV0dXJuIGdldExpa2VCdXR0b24oKS5jbGFzc0xpc3QuY29udGFpbnMoInN0eWxlLXRleHQiKTsKfQoKZnVuY3Rpb24gaXNWaWRlb05vdERpc2xpa2VkKCkgewogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuICFpc1ZpZGVvRGlzbGlrZWQoKTsKICB9CiAgcmV0dXJuIGdldERpc2xpa2VCdXR0b24oKS5jbGFzc0xpc3QuY29udGFpbnMoInN0eWxlLXRleHQiKTsKfQoKZnVuY3Rpb24gY2hlY2tGb3JVc2VyQXZhdGFyQnV0dG9uKCkgewogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuOwogIH0KICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2F2YXRhci1idG4iKSkgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KCmZ1bmN0aW9uIGdldFN0YXRlKCkgewogIGlmIChpc1ZpZGVvTGlrZWQoKSkgewogICAgcmV0dXJuIExJS0VEX1NUQVRFOwogIH0KICBpZiAoaXNWaWRlb0Rpc2xpa2VkKCkpIHsKICAgIHJldHVybiBESVNMSUtFRF9TVEFURTsKICB9CiAgcmV0dXJuIE5FVVRSQUxfU1RBVEU7Cn0KCmZ1bmN0aW9uIHNldExpa2VzKGxpa2VzQ291bnQpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5xdWVyeVNlbGVjdG9yKCIuYnV0dG9uLXJlbmRlcmVyLXRleHQiKS5pbm5lclRleHQgPQogICAgICBsaWtlc0NvdW50OwogICAgcmV0dXJuOwogIH0KICBnZXRMaWtlVGV4dENvbnRhaW5lcigpLmlubmVyVGV4dCA9IGxpa2VzQ291bnQ7Cn0KCmZ1bmN0aW9uIHNldERpc2xpa2VzKGRpc2xpa2VzQ291bnQpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIG1vYmlsZURpc2xpa2VzID0gZGlzbGlrZXNDb3VudDsKICAgIHJldHVybjsKICB9CiAgZ2V0RGlzbGlrZVRleHRDb250YWluZXIoKT8ucmVtb3ZlQXR0cmlidXRlKCdpcy1lbXB0eScpOwogIGdldERpc2xpa2VUZXh0Q29udGFpbmVyKCkuaW5uZXJUZXh0ID0gZGlzbGlrZXNDb3VudDsKfQoKZnVuY3Rpb24gZ2V0TGlrZUNvdW50RnJvbUJ1dHRvbigpIHsKICB0cnkgewogICAgaWYgKGlzU2hvcnRzKCkpIHsKICAgICAgLy9Zb3V0dWJlIFNob3J0cyBkb24ndCB3b3JrIHdpdGggdGhpcyBxdWVyeS4gSXQncyBub3QgbmVjZXNzYXJ5OyB3ZSBjYW4gc2tpcCBpdCBhbmQgc3RpbGwgc2VlIHRoZSByZXN1bHRzLgogICAgICAvL0l0IHNob3VsZCBiZSBwb3NzaWJsZSB0byBmaXggdGhpcyBmdW5jdGlvbiwgYnV0IGl0J3Mgbm90IGNyaXRpY2FsIHRvIHNob3dpbmcgdGhlIGRpc2xpa2UgY291bnQuCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGxldCBsaWtlQnV0dG9uID0gZ2V0TGlrZUJ1dHRvbigpCiAgICAucXVlcnlTZWxlY3RvcigieXQtZm9ybWF0dGVkLXN0cmluZyN0ZXh0IikgPz8KICAgIGdldExpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKCiAgICBsZXQgbGlrZXNTdHIgPSBsaWtlQnV0dG9uLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpCiAgICAucmVwbGFjZSgvXEQvZywgIiIpOwogICAgcmV0dXJuIGxpa2VzU3RyLmxlbmd0aCA+IDAgPyBwYXJzZUludChsaWtlc1N0cikgOiBmYWxzZTsKICB9CiAgY2F0Y2ggewogICAgcmV0dXJuIGZhbHNlOwogIH0KCn0KCih0eXBlb2YgR01fYWRkU3R5bGUgIT0gInVuZGVmaW5lZCIKICA/IEdNX2FkZFN0eWxlCiAgOiAoc3R5bGVzKSA9PiB7CiAgICAgIGxldCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwogICAgICBzdHlsZU5vZGUudHlwZSA9ICJ0ZXh0L2NzcyI7CiAgICAgIHN0eWxlTm9kZS5pbm5lclRleHQgPSBzdHlsZXM7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTsKICAgIH0pKGAKICAgICNyZXR1cm4teW91dHViZS1kaXNsaWtlLWJhci1jb250YWluZXIgewogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS15dC1zcGVjLWljb24tZGlzYWJsZWQpOwogICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB9CgogICAgI3JldHVybi15b3V0dWJlLWRpc2xpa2UtYmFyIHsKICAgICAgYmFja2dyb3VuZDogdmFyKC0teXQtc3BlYy10ZXh0LXByaW1hcnkpOwogICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjE1cyBlYXNlLWluLW91dDsKICAgIH0KCiAgICAucnlkLXRvb2x0aXAgewogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBoZWlnaHQ6IDJweDsKICAgICAgdG9wOiA5cHg7CiAgICB9CgogICAgLnJ5ZC10b29sdGlwLWJhci1jb250YWluZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAycHg7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgcGFkZGluZy10b3A6IDZweDsKICAgICAgcGFkZGluZy1ib3R0b206IDI4cHg7CiAgICAgIHRvcDogLTZweDsKICAgIH0KICBgKTsKCmZ1bmN0aW9uIGNyZWF0ZVJhdGVCYXIobGlrZXMsIGRpc2xpa2VzKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm47CiAgfQogIGxldCByYXRlQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJldHVybi15b3V0dWJlLWRpc2xpa2UtYmFyLWNvbnRhaW5lciIpOwoKICBjb25zdCB3aWR0aFB4ID0KICAgIGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5jbGllbnRXaWR0aCArCiAgICBnZXRCdXR0b25zKCkuY2hpbGRyZW5bMV0uY2xpZW50V2lkdGggKwogICAgODsKCiAgY29uc3Qgd2lkdGhQZXJjZW50ID0KICAgIGxpa2VzICsgZGlzbGlrZXMgPiAwID8gKGxpa2VzIC8gKGxpa2VzICsgZGlzbGlrZXMpKSAqIDEwMCA6IDUwOwoKICB2YXIgbGlrZVBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KHdpZHRoUGVyY2VudC50b0ZpeGVkKDEpKTsKICBjb25zdCBkaXNsaWtlUGVyY2VudGFnZSA9ICgxMDAgLSBsaWtlUGVyY2VudGFnZSkudG9Mb2NhbGVTdHJpbmcoKTsKICBsaWtlUGVyY2VudGFnZSA9IGxpa2VQZXJjZW50YWdlLnRvTG9jYWxlU3RyaW5nKCk7CgogIHZhciB0b29sdGlwSW5uZXJIVE1MOwogIHN3aXRjaCAoZXh0Q29uZmlnLnRvb2x0aXBQZXJjZW50YWdlTW9kZSkgewogICAgY2FzZSAiZGFzaF9saWtlIjoKICAgICAgdG9vbHRpcElubmVySFRNTCA9IGAke2xpa2VzLnRvTG9jYWxlU3RyaW5nKCl9Jm5ic3A7LyZuYnNwOyR7ZGlzbGlrZXMudG9Mb2NhbGVTdHJpbmcoKX0mbmJzcDsmbmJzcDstJm5ic3A7Jm5ic3A7JHtsaWtlUGVyY2VudGFnZX0lYDsKICAgICAgYnJlYWs7CiAgICBjYXNlICJkYXNoX2Rpc2xpa2UiOgogICAgICB0b29sdGlwSW5uZXJIVE1MID0gYCR7bGlrZXMudG9Mb2NhbGVTdHJpbmcoKX0mbmJzcDsvJm5ic3A7JHtkaXNsaWtlcy50b0xvY2FsZVN0cmluZygpfSZuYnNwOyZuYnNwOy0mbmJzcDsmbmJzcDske2Rpc2xpa2VQZXJjZW50YWdlfSVgOwogICAgICBicmVhazsKICAgIGNhc2UgImJvdGgiOgogICAgICB0b29sdGlwSW5uZXJIVE1MID0gYCR7bGlrZVBlcmNlbnRhZ2V9JSZuYnNwOy8mbmJzcDske2Rpc2xpa2VQZXJjZW50YWdlfSVgOwogICAgICBicmVhazsKICAgIGNhc2UgIm9ubHlfbGlrZSI6CiAgICAgIHRvb2x0aXBJbm5lckhUTUwgPSBgJHtsaWtlUGVyY2VudGFnZX0lYDsKICAgICAgYnJlYWs7CiAgICBjYXNlICJvbmx5X2Rpc2xpa2UiOgogICAgICB0b29sdGlwSW5uZXJIVE1MID0gYCR7ZGlzbGlrZVBlcmNlbnRhZ2V9JWA7CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgdG9vbHRpcElubmVySFRNTCA9IGAke2xpa2VzLnRvTG9jYWxlU3RyaW5nKCl9Jm5ic3A7LyZuYnNwOyR7ZGlzbGlrZXMudG9Mb2NhbGVTdHJpbmcoKX1gOwogIH0KCiAgaWYgKCFyYXRlQmFyICYmICFpc01vYmlsZSkgewogICAgbGV0IGNvbG9yTGlrZVN0eWxlID0gIiI7CiAgICBsZXQgY29sb3JEaXNsaWtlU3R5bGUgPSAiIjsKICAgIGlmIChleHRDb25maWcuY29sb3JlZEJhcikgewogICAgICBjb2xvckxpa2VTdHlsZSA9ICI7IGJhY2tncm91bmQtY29sb3I6ICIgKyBnZXRDb2xvckZyb21UaGVtZSh0cnVlKTsKICAgICAgY29sb3JEaXNsaWtlU3R5bGUgPSAiOyBiYWNrZ3JvdW5kLWNvbG9yOiAiICsgZ2V0Q29sb3JGcm9tVGhlbWUoZmFsc2UpOwogICAgfQoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51LWNvbnRhaW5lciIpLmluc2VydEFkamFjZW50SFRNTCgKICAgICAgImJlZm9yZWVuZCIsCiAgICAgIGAKICAgICAgICA8ZGl2IGNsYXNzPSJyeWQtdG9vbHRpcCIgc3R5bGU9IndpZHRoOiAke3dpZHRoUHh9cHgiPgogICAgICAgIDxkaXYgY2xhc3M9InJ5ZC10b29sdGlwLWJhci1jb250YWluZXIiPgogICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICBpZD0icmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXItY29udGFpbmVyIgogICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAycHg7JHtjb2xvckRpc2xpa2VTdHlsZX0iCiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgICBpZD0icmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXIiCiAgICAgICAgICAgICAgICAgc3R5bGU9IndpZHRoOiAke3dpZHRoUGVyY2VudH0lOyBoZWlnaHQ6IDEwMCUke2NvbG9yRGlzbGlrZVN0eWxlfSIKICAgICAgICAgICAgICAgICA+PC9kaXY+CiAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHRwLXl0LXBhcGVyLXRvb2x0aXAgcG9zaXRpb249InRvcCIgaWQ9InJ5ZC1kaXNsaWtlLXRvb2x0aXAiIGNsYXNzPSJzdHlsZS1zY29wZSB5dGQtc2VudGltZW50LWJhci1yZW5kZXJlciIgcm9sZT0idG9vbHRpcCIgdGFiaW5kZXg9Ii0xIj4KICAgICAgICAgICA8IS0tY3NzLWJ1aWxkOnNoYWR5LS0+JHt0b29sdGlwSW5uZXJIVE1MfQogICAgICAgIDwvdHAteXQtcGFwZXItdG9vbHRpcD4KICAgICAgICA8L2Rpdj4KYAogICAgKTsKICB9IGVsc2UgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoCiAgICAgICJyZXR1cm4teW91dHViZS1kaXNsaWtlLWJhci1jb250YWluZXIiCiAgICApLnN0eWxlLndpZHRoID0gd2lkdGhQeCArICJweCI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXIiKS5zdHlsZS53aWR0aCA9CiAgICAgIHdpZHRoUGVyY2VudCArICIlIjsKCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcnlkLWRpc2xpa2UtdG9vbHRpcCA+ICN0b29sdGlwIikuaW5uZXJIVE1MID0KICAgICAgdG9vbHRpcElubmVySFRNTDsKCiAgICBpZiAoZXh0Q29uZmlnLmNvbG9yZWRCYXIpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoCiAgICAgICAgInJldHVybi15b3V0dWJlLWRpc2xpa2UtYmFyLWNvbnRhaW5lciIKICAgICAgKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRDb2xvckZyb21UaGVtZShmYWxzZSk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKAogICAgICAgICJyZXR1cm4teW91dHViZS1kaXNsaWtlLWJhciIKICAgICAgKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRDb2xvckZyb21UaGVtZSh0cnVlKTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHNldFN0YXRlKCkgewogIGNMb2coIkZldGNoaW5nIHZvdGVzLi4uIik7CiAgbGV0IHN0YXRzU2V0ID0gZmFsc2U7CgogIGZldGNoKAogICAgYGh0dHBzOi8vcmV0dXJueW91dHViZWRpc2xpa2VhcGkuY29tL3ZvdGVzP3ZpZGVvSWQ9JHtnZXRWaWRlb0lkKCl9YAogICkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uKSA9PiB7CiAgICAgIGlmIChqc29uICYmICEoInRyYWNlSWQiIGluIHJlc3BvbnNlKSAmJiAhc3RhdHNTZXQpIHsKICAgICAgICBjb25zdCB7IGRpc2xpa2VzLCBsaWtlcyB9ID0ganNvbjsKICAgICAgICBjTG9nKGBSZWNlaXZlZCBjb3VudDogJHtkaXNsaWtlc31gKTsKICAgICAgICBsaWtlc3ZhbHVlID0gbGlrZXM7CiAgICAgICAgZGlzbGlrZXN2YWx1ZSA9IGRpc2xpa2VzOwogICAgICAgIHNldERpc2xpa2VzKG51bWJlckZvcm1hdChkaXNsaWtlcykpOwogICAgICAgIGlmIChleHRDb25maWcubnVtYmVyRGlzcGxheVJlZm9ybWF0TGlrZXMgPT09IHRydWUpIHsKICAgICAgICAgIGNvbnN0IG5hdGl2ZUxpa2VzID0gZ2V0TGlrZUNvdW50RnJvbUJ1dHRvbigpOwogICAgICAgICAgaWYgKG5hdGl2ZUxpa2VzICE9PSBmYWxzZSkgewogICAgICAgICAgICBzZXRMaWtlcyhudW1iZXJGb3JtYXQobmF0aXZlTGlrZXMpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY3JlYXRlUmF0ZUJhcihsaWtlcywgZGlzbGlrZXMpOwogICAgICAgIGlmIChleHRDb25maWcuY29sb3JlZFRodW1icyA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKGlzU2hvcnRzKCkpIHsKICAgICAgICAgICAgLy8gZm9yIHNob3J0cywgbGVhdmUgZGVhY3RpdmVkIGJ1dHRvbnMgaW4gZGVmYXVsdCBjb2xvcgogICAgICAgICAgICBsZXQgc2hvcnRMaWtlQnV0dG9uID0gZ2V0TGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAgICAgInRwLXl0LXBhcGVyLWJ1dHRvbiNidXR0b24iCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGxldCBzaG9ydERpc2xpa2VCdXR0b24gPSBnZXREaXNsaWtlQnV0dG9uKCkucXVlcnlTZWxlY3RvcigKICAgICAgICAgICAgICAidHAteXQtcGFwZXItYnV0dG9uI2J1dHRvbiIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgaWYgKHNob3J0TGlrZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIpID09PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICBzaG9ydExpa2VCdXR0b24uc3R5bGUuY29sb3IgPSBnZXRDb2xvckZyb21UaGVtZSh0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2hvcnREaXNsaWtlQnV0dG9uLmdldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIikgPT09ICJ0cnVlIikgewogICAgICAgICAgICAgIHNob3J0RGlzbGlrZUJ1dHRvbi5zdHlsZS5jb2xvciA9IGdldENvbG9yRnJvbVRoZW1lKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmVyLm9ic2VydmUoCiAgICAgICAgICAgICAgc2hvcnRMaWtlQnV0dG9uLAogICAgICAgICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIub3B0aW9ucwogICAgICAgICAgICApOwogICAgICAgICAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmVyLm9ic2VydmUoCiAgICAgICAgICAgICAgc2hvcnREaXNsaWtlQnV0dG9uLAogICAgICAgICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIub3B0aW9ucwogICAgICAgICAgICApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ2V0TGlrZUJ1dHRvbigpLnN0eWxlLmNvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUodHJ1ZSk7CiAgICAgICAgICAgIGdldERpc2xpa2VCdXR0b24oKS5zdHlsZS5jb2xvciA9IGdldENvbG9yRnJvbVRoZW1lKGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBsaWtlQ2xpY2tlZCgpIHsKICBpZiAoY2hlY2tGb3JVc2VyQXZhdGFyQnV0dG9uKCkgPT0gdHJ1ZSkgewogICAgaWYgKHByZXZpb3VzU3RhdGUgPT0gMSkgewogICAgICBsaWtlc3ZhbHVlLS07CiAgICAgIGNyZWF0ZVJhdGVCYXIobGlrZXN2YWx1ZSwgZGlzbGlrZXN2YWx1ZSk7CiAgICAgIHNldERpc2xpa2VzKG51bWJlckZvcm1hdChkaXNsaWtlc3ZhbHVlKSk7CiAgICAgIHByZXZpb3VzU3RhdGUgPSAzOwogICAgfSBlbHNlIGlmIChwcmV2aW91c1N0YXRlID09IDIpIHsKICAgICAgbGlrZXN2YWx1ZSsrOwogICAgICBkaXNsaWtlc3ZhbHVlLS07CiAgICAgIHNldERpc2xpa2VzKG51bWJlckZvcm1hdChkaXNsaWtlc3ZhbHVlKSk7CiAgICAgIGNyZWF0ZVJhdGVCYXIobGlrZXN2YWx1ZSwgZGlzbGlrZXN2YWx1ZSk7CiAgICAgIHByZXZpb3VzU3RhdGUgPSAxOwogICAgfSBlbHNlIGlmIChwcmV2aW91c1N0YXRlID09IDMpIHsKICAgICAgbGlrZXN2YWx1ZSsrOwogICAgICBjcmVhdGVSYXRlQmFyKGxpa2VzdmFsdWUsIGRpc2xpa2VzdmFsdWUpOwogICAgICBwcmV2aW91c1N0YXRlID0gMTsKICAgIH0KICAgIGlmIChleHRDb25maWcubnVtYmVyRGlzcGxheVJlZm9ybWF0TGlrZXMgPT09IHRydWUpIHsKICAgICAgY29uc3QgbmF0aXZlTGlrZXMgPSBnZXRMaWtlQ291bnRGcm9tQnV0dG9uKCk7CiAgICAgIGlmIChuYXRpdmVMaWtlcyAhPT0gZmFsc2UpIHsKICAgICAgICBzZXRMaWtlcyhudW1iZXJGb3JtYXQobmF0aXZlTGlrZXMpKTsKICAgICAgfQogICAgfQogIH0KfQoKZnVuY3Rpb24gZGlzbGlrZUNsaWNrZWQoKSB7CiAgaWYgKGNoZWNrRm9yVXNlckF2YXRhckJ1dHRvbigpID09IHRydWUpIHsKICAgIGlmIChwcmV2aW91c1N0YXRlID09IDMpIHsKICAgICAgZGlzbGlrZXN2YWx1ZSsrOwogICAgICBzZXREaXNsaWtlcyhudW1iZXJGb3JtYXQoZGlzbGlrZXN2YWx1ZSkpOwogICAgICBjcmVhdGVSYXRlQmFyKGxpa2VzdmFsdWUsIGRpc2xpa2VzdmFsdWUpOwogICAgICBwcmV2aW91c1N0YXRlID0gMjsKICAgIH0gZWxzZSBpZiAocHJldmlvdXNTdGF0ZSA9PSAyKSB7CiAgICAgIGRpc2xpa2VzdmFsdWUtLTsKICAgICAgc2V0RGlzbGlrZXMobnVtYmVyRm9ybWF0KGRpc2xpa2VzdmFsdWUpKTsKICAgICAgY3JlYXRlUmF0ZUJhcihsaWtlc3ZhbHVlLCBkaXNsaWtlc3ZhbHVlKTsKICAgICAgcHJldmlvdXNTdGF0ZSA9IDM7CiAgICB9IGVsc2UgaWYgKHByZXZpb3VzU3RhdGUgPT0gMSkgewogICAgICBsaWtlc3ZhbHVlLS07CiAgICAgIGRpc2xpa2VzdmFsdWUrKzsKICAgICAgc2V0RGlzbGlrZXMobnVtYmVyRm9ybWF0KGRpc2xpa2VzdmFsdWUpKTsKICAgICAgY3JlYXRlUmF0ZUJhcihsaWtlc3ZhbHVlLCBkaXNsaWtlc3ZhbHVlKTsKICAgICAgcHJldmlvdXNTdGF0ZSA9IDI7CiAgICAgIGlmIChleHRDb25maWcubnVtYmVyRGlzcGxheVJlZm9ybWF0TGlrZXMgPT09IHRydWUpIHsKICAgICAgICBjb25zdCBuYXRpdmVMaWtlcyA9IGdldExpa2VDb3VudEZyb21CdXR0b24oKTsKICAgICAgICBpZiAobmF0aXZlTGlrZXMgIT09IGZhbHNlKSB7CiAgICAgICAgICBzZXRMaWtlcyhudW1iZXJGb3JtYXQobmF0aXZlTGlrZXMpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHNldEluaXRpYWxTdGF0ZSgpIHsKICBzZXRTdGF0ZSgpOwp9CgpmdW5jdGlvbiBnZXRWaWRlb0lkKCkgewogIGNvbnN0IHVybE9iamVjdCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpOwogIGNvbnN0IHBhdGhuYW1lID0gdXJsT2JqZWN0LnBhdGhuYW1lOwogIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCIvY2xpcCIpKSB7CiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibWV0YVtpdGVtcHJvcD0ndmlkZW9JZCddIikuY29udGVudDsKICB9IGVsc2UgewogICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoIi9zaG9ydHMiKSkgewogICAgICByZXR1cm4gcGF0aG5hbWUuc2xpY2UoOCk7CiAgICB9CiAgICByZXR1cm4gdXJsT2JqZWN0LnNlYXJjaFBhcmFtcy5nZXQoInYiKTsKICB9Cn0KCmZ1bmN0aW9uIGlzVmlkZW9Mb2FkZWQoKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXllciIpLmdldEF0dHJpYnV0ZSgibG9hZGluZyIpID09ICJmYWxzZSI7CiAgfQogIGNvbnN0IHZpZGVvSWQgPSBnZXRWaWRlb0lkKCk7CgogIHJldHVybiAoCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGB5dGQtd2F0Y2gtZmxleHlbdmlkZW8taWQ9JyR7dmlkZW9JZH0nXWApICE9PSBudWxsCiAgKTsKfQoKZnVuY3Rpb24gcm91bmREb3duKG51bSkgewogIGlmIChudW0gPCAxMDAwKSByZXR1cm4gbnVtOwogIGNvbnN0IGludCA9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChudW0pIC0gMik7CiAgY29uc3QgZGVjaW1hbCA9IGludCArIChpbnQgJSAzID8gMSA6IDApOwogIGNvbnN0IHZhbHVlID0gTWF0aC5mbG9vcihudW0gLyAxMCAqKiBkZWNpbWFsKTsKICByZXR1cm4gdmFsdWUgKiAxMCAqKiBkZWNpbWFsOwp9CgpmdW5jdGlvbiBudW1iZXJGb3JtYXQobnVtYmVyU3RhdGUpIHsKICBsZXQgbnVtYmVyRGlzcGxheTsKICBpZiAoZXh0Q29uZmlnLm51bWJlckRpc3BsYXlSb3VuZERvd24gPT09IGZhbHNlKSB7CiAgICBudW1iZXJEaXNwbGF5ID0gbnVtYmVyU3RhdGU7CiAgfSBlbHNlIHsKICAgIG51bWJlckRpc3BsYXkgPSByb3VuZERvd24obnVtYmVyU3RhdGUpOwogIH0KICByZXR1cm4gZ2V0TnVtYmVyRm9ybWF0dGVyKGV4dENvbmZpZy5udW1iZXJEaXNwbGF5Rm9ybWF0KS5mb3JtYXQoCiAgICBudW1iZXJEaXNwbGF5CiAgKTsKfQoKZnVuY3Rpb24gZ2V0TnVtYmVyRm9ybWF0dGVyKG9wdGlvblNlbGVjdCkgewogIGxldCB1c2VyTG9jYWxlczsKICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcpIHsKICAgIHVzZXJMb2NhbGVzID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmc7CiAgfSBlbHNlIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2UpIHsKICAgIHVzZXJMb2NhbGVzID0gbmF2aWdhdG9yLmxhbmd1YWdlOwogIH0gZWxzZSB7CiAgICB0cnkgewogICAgICB1c2VyTG9jYWxlcyA9IG5ldyBVUkwoCiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJoZWFkID4gbGlua1tyZWw9J3NlYXJjaCddIikpCiAgICAgICAgICA/LmZpbmQoKG4pID0+IG4/LmdldEF0dHJpYnV0ZSgiaHJlZiIpPy5pbmNsdWRlcygiP2xvY2FsZT0iKSkKICAgICAgICAgID8uZ2V0QXR0cmlidXRlKCJocmVmIikKICAgICAgKT8uc2VhcmNoUGFyYW1zPy5nZXQoImxvY2FsZSIpOwogICAgfSBjYXRjaCB7CiAgICAgIGNMb2coCiAgICAgICAgIkNhbm5vdCBmaW5kIGJyb3dzZXIgbG9jYWxlLiBVc2UgZW4gYXMgZGVmYXVsdCBmb3IgbnVtYmVyIGZvcm1hdHRpbmcuIgogICAgICApOwogICAgICB1c2VyTG9jYWxlcyA9ICJlbiI7CiAgICB9CiAgfQoKICBsZXQgZm9ybWF0dGVyTm90YXRpb247CiAgbGV0IGZvcm1hdHRlckNvbXBhY3REaXNwbGF5OwogIHN3aXRjaCAob3B0aW9uU2VsZWN0KSB7CiAgICBjYXNlICJjb21wYWN0TG9uZyI6CiAgICAgIGZvcm1hdHRlck5vdGF0aW9uID0gImNvbXBhY3QiOwogICAgICBmb3JtYXR0ZXJDb21wYWN0RGlzcGxheSA9ICJsb25nIjsKICAgICAgYnJlYWs7CiAgICBjYXNlICJzdGFuZGFyZCI6CiAgICAgIGZvcm1hdHRlck5vdGF0aW9uID0gInN0YW5kYXJkIjsKICAgICAgZm9ybWF0dGVyQ29tcGFjdERpc3BsYXkgPSAic2hvcnQiOwogICAgICBicmVhazsKICAgIGNhc2UgImNvbXBhY3RTaG9ydCI6CiAgICBkZWZhdWx0OgogICAgICBmb3JtYXR0ZXJOb3RhdGlvbiA9ICJjb21wYWN0IjsKICAgICAgZm9ybWF0dGVyQ29tcGFjdERpc3BsYXkgPSAic2hvcnQiOwogIH0KCiAgY29uc3QgZm9ybWF0dGVyID0gSW50bC5OdW1iZXJGb3JtYXQodXNlckxvY2FsZXMsIHsKICAgIG5vdGF0aW9uOiBmb3JtYXR0ZXJOb3RhdGlvbiwKICAgIGNvbXBhY3REaXNwbGF5OiBmb3JtYXR0ZXJDb21wYWN0RGlzcGxheSwKICB9KTsKICByZXR1cm4gZm9ybWF0dGVyOwp9CgpmdW5jdGlvbiBnZXRDb2xvckZyb21UaGVtZSh2b3RlSXNMaWtlKSB7CiAgbGV0IGNvbG9yU3RyaW5nOwogIHN3aXRjaCAoZXh0Q29uZmlnLmNvbG9yVGhlbWUpIHsKICAgIGNhc2UgImFjY2Vzc2libGUiOgogICAgICBpZiAodm90ZUlzTGlrZSA9PT0gdHJ1ZSkgewogICAgICAgIGNvbG9yU3RyaW5nID0gImRvZGdlcmJsdWUiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbG9yU3RyaW5nID0gImdvbGQiOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAibmVvbiI6CiAgICAgIGlmICh2b3RlSXNMaWtlID09PSB0cnVlKSB7CiAgICAgICAgY29sb3JTdHJpbmcgPSAiYXF1YSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29sb3JTdHJpbmcgPSAibWFnZW50YSI7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICBjYXNlICJjbGFzc2ljIjoKICAgIGRlZmF1bHQ6CiAgICAgIGlmICh2b3RlSXNMaWtlID09PSB0cnVlKSB7CiAgICAgICAgY29sb3JTdHJpbmcgPSAibGltZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29sb3JTdHJpbmcgPSAicmVkIjsKICAgICAgfQogIH0KICByZXR1cm4gY29sb3JTdHJpbmc7Cn0KCmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGV2dCkgewogIGxldCBqc0luaXRDaGVja3RpbWVyOwoKICBmdW5jdGlvbiBjaGVja0ZvckpTX0ZpbmlzaCgpIHsKICAgIC8vY29uc29sZS5sb2coKTsKICAgIGlmIChpc1Nob3J0cygpIHx8IChnZXRCdXR0b25zKCk/Lm9mZnNldFBhcmVudCAmJiBpc1ZpZGVvTG9hZGVkKCkpKSB7CiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBnZXRCdXR0b25zKCk7CgogICAgICBpZiAoIXdpbmRvdy5yZXR1cm5EaXNsaWtlQnV0dG9ubGlzdGVuZXJzU2V0KSB7CiAgICAgICAgY0xvZygiUmVnaXN0ZXJpbmcgYnV0dG9uIGxpc3RlbmVycy4uLiIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBnZXRMaWtlQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBsaWtlQ2xpY2tlZCk7CiAgICAgICAgICBnZXREaXNsaWtlQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBkaXNsaWtlQ2xpY2tlZCk7CiAgICAgICAgICBnZXRMaWtlQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGxpa2VDbGlja2VkKTsKICAgICAgICAgIGdldERpc2xpa2VCdXR0b24oKS5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgZGlzbGlrZUNsaWNrZWQpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy9Eb24ndCBzcGFtIGVycm9ycyBpbnRvIHRoZSBjb25zb2xlCiAgICAgICAgd2luZG93LnJldHVybkRpc2xpa2VCdXR0b25saXN0ZW5lcnNTZXQgPSB0cnVlOwogICAgICB9CiAgICAgIHNldEluaXRpYWxTdGF0ZSgpOwogICAgICBjbGVhckludGVydmFsKGpzSW5pdENoZWNrdGltZXIpOwogICAgfQogIH0KCiAgY0xvZygiU2V0dGluZyB1cC4uLiIpOwogIGpzSW5pdENoZWNrdGltZXIgPSBzZXRJbnRlcnZhbChjaGVja0ZvckpTX0ZpbmlzaCwgMTExKTsKfQoKKGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInl0LW5hdmlnYXRlLWZpbmlzaCIsIHNldEV2ZW50TGlzdGVuZXJzLCB0cnVlKTsKICBzZXRFdmVudExpc3RlbmVycygpOwp9KSgpOwppZiAoaXNNb2JpbGUpIHsKICBsZXQgb3JpZ2luYWxQdXNoID0gaGlzdG9yeS5wdXNoU3RhdGU7CiAgaGlzdG9yeS5wdXNoU3RhdGUgPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgd2luZG93LnJldHVybkRpc2xpa2VCdXR0b25saXN0ZW5lcnNTZXQgPSBmYWxzZTsKICAgIHNldEV2ZW50TGlzdGVuZXJzKGFyZ3NbMl0pOwogICAgcmV0dXJuIG9yaWdpbmFsUHVzaC5hcHBseShoaXN0b3J5LCBhcmdzKTsKICB9OwogIHNldEludGVydmFsKCgpID0+IHsKICAgIGlmKGdldERpc2xpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCIuYnV0dG9uLXJlbmRlcmVyLXRleHQiKSA9PT0gbnVsbCl7CiAgICAgIGdldERpc2xpa2VUZXh0Q29udGFpbmVyKCkuaW5uZXJUZXh0ID0gbW9iaWxlRGlzbGlrZXM7CiAgICB9CiAgICBlbHNlewogICAgICBnZXREaXNsaWtlQnV0dG9uKCkucXVlcnlTZWxlY3RvcigiLmJ1dHRvbi1yZW5kZXJlci10ZXh0IikuaW5uZXJUZXh0ID0KICAgICAgICBtb2JpbGVEaXNsaWtlczsKICAgIH0KICB9LCAxMDAwKTsKfQo="},{"name":"ChatGPT Auto Refresh ","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://chat.openai.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":["raw.githubusercontent.com","greasyfork.org"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":true}},"storage":{"ts":1691326330638,"data":{}},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/462422-chatgpt-auto-refresh/code/ChatGPT%20Auto%20Refresh%20%E2%86%BB.user.js","uuid":"5d97d0ad-2d6f-48c0-b10e-99cc98bdfd0a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvIFJlZnJlc2gg4oa7Ci8vIEBuYW1lOmFmICAgICAgICAgICAgIENoYXRHUFQgQXV0byBWZXJmcmlzIOKGuwovLyBAbmFtZTphbSAgICAgICAgICAgICDhi6jhiqDhiYPhjKXhiI0gR1BUIOGIq+GIteGIgOGIvSDihrsKLy8gQG5hbWU6YXIgICAgICAgICAgICAgQ2hhdEdQVCDYqtit2K/ZitirINiq2YTZgtin2KbZiiDihrsKLy8gQG5hbWU6YXogICAgICAgICAgICAgQ2hhdEdQVCBBdnRvbWF0aWsgWWVuaWzJmSDihrsKLy8gQG5hbWU6YmUgICAgICAgICAgICAg0JDRntGC0LDQvNCw0YLRi9GH0L3QsNC1INCw0LHQvdCw0Z7Qu9C10L3QvdC1IENoYXRHUFQg4oa7Ci8vIEBuYW1lOmJlbSAgICAgICAgICAgIENoYXRHUFQgQXV0byBTaW50YWx1bGEg4oa7Ci8vIEBuYW1lOmJnICAgICAgICAgICAgINCQ0LLRgtC+0LzQsNGC0LjRh9C90L4g0L7Qv9GA0LXRgdC90Y/QstCw0L3QtSDQvdCwIENoYXRHUFQg4oa7Ci8vIEBuYW1lOmJuICAgICAgICAgICAgIENoYXRHUFQg4Ka44KeN4Kas4Kav4Ka84KaC4KaV4KeN4Kaw4Ka/4Kav4Ka8IOCmsOCmv+Cmq+CnjeCmsOCnh+CmtiDihrsKLy8gQG5hbWU6Ym8gICAgICAgICAgICAgQ2hhdEdQVCDgvaLgvbrgvaDgvbTgvIvgvZjgvbLgvZPgvIvgvZTgvaLgvIvgvabgvqPgvbzgvZHgvIvgvZHgvYTgvIsg4oa7Ci8vIEBuYW1lOmJzICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdHNrbyBPc3ZqZcW+YXZhbmplIOKGuwovLyBAbmFtZTpjYSAgICAgICAgICAgICBDaGF0R1BUIEFjdHVhbGl0emFjacOzIEF1dG9tw6B0aWNhIOKGuwovLyBAbmFtZTpja2IgICAgICAgICAgICBDaGF0R1BUINmG2Yjbjtqp2LHYr9mG2YfigIzZiNmH4oCM24wg2K7bhtqp2KfYsSDihrsKLy8gQG5hbWU6Y3MgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWF0aWNrw6kgb2Jub3ZlbsOtIOKGuwovLyBAbmFtZTpjeSAgICAgICAgICAgICBDaGF0R1BUIEFkbmV3eWRkdSBBdXRvIOKGuwovLyBAbmFtZTpkYSAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpc2sgT3BkYXRlcmluZyDihrsKLy8gQG5hbWU6ZGUgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWF0aXNjaGVzIEFrdHVhbGlzaWVyZW4g4oa7Ci8vIEBuYW1lOmR2ICAgICAgICAgICAgIENoYXRHUFQg3ofept6H3rDel96m3ofeqN6Q3rAg3ofept6Q3rDek96w3oPeqSDihrsKLy8gQG5hbWU6ZHogICAgICAgICAgICAgQ2hhdEdQVCDgvaLgvbrgvaDgvbTgvIvgvZjgvbLgvZPgvIvgvZTgvaLgvIvgvabgvqPgvbzgvZHgvIvgvZHgvYTgvIsg4oa7Ci8vIEBuYW1lOmVsICAgICAgICAgICAgIENoYXRHUFQgzpHPhc+Ez4zOvM6xz4TOtyDOkc69zrHOvc6tz4nPg863IOKGuwovLyBAbmFtZTplbyAgICAgICAgICAgICBDaGF0R1BUIEHFrXRvbWF0YSBSZWZyZcWdaWdvIOKGuwovLyBAbmFtZTplcyAgICAgICAgICAgICBDaGF0R1BUIEFjdHVhbGl6YWNpw7NuIEF1dG9tw6F0aWNhIOKGuwovLyBAbmFtZTpldCAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYWF0bmUgVsOkcnNrZW5kYW1pbmUg4oa7Ci8vIEBuYW1lOmV1ICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdGlrb2tpIEZyZXNrYXR1IOKGuwovLyBAbmFtZTpmYSAgICAgICAgICAgICDYqNmHINix2YjYsiDYsdiz2KfZhtuMINiu2YjYr9qp2KfYsSBDaGF0R1BUIOKGuwovLyBAbmFtZTpmaSAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYWF0dGluZW4gUMOkaXZpdHlzIOKGuwovLyBAbmFtZTpmbyAgICAgICAgICAgICBDaGF0R1BUIEF1dG8gVXBwZGF0ZXJpbmcg4oa7Ci8vIEBuYW1lOmZyICAgICAgICAgICAgIENoYXRHUFQgQWN0dWFsaXNhdGlvbiBBdXRvbWF0aXF1ZSDihrsKLy8gQG5hbWU6ZnItQ0EgICAgICAgICAgQ2hhdEdQVCBBY3R1YWxpc2F0aW9uIEF1dG9tYXRpcXVlIOKGuwovLyBAbmFtZTpnZCAgICAgICAgICAgICBDaGF0R1BUIEF0aC1iaHVhbGFkaCBBb25hcmFuYWNoIOKGuwovLyBAbmFtZTpnbCAgICAgICAgICAgICBDaGF0R1BUIEFjdHVhbGl6YWNpw7NuIEF1dG9tw6F0aWNhIOKGuwovLyBAbmFtZTpndSAgICAgICAgICAgICBDaGF0R1BUIOCquOCrjeCqteCqmuCqvuCqsuCqv+CqpCDgqrDgqr/gqqvgq43gqrDgq4fgqrYg4oa7Ci8vIEBuYW1lOmhhdyAgICAgICAgICAgIEhvyrtvbm9obyBIxY3Ku2lrZSBBdXRvIENoYXRHUFQg4oa7Ci8vIEBuYW1lOmhlICAgICAgICAgICAgINeo16LXoNeV158g15DXldeY15XXnteY15kg16nXnCBDaGF0R1BUIOKGuwovLyBAbmFtZTpoaSAgICAgICAgICAgICBDaGF0R1BUIOCkuOCljeCkteCkmuCkvuCksuCkv+CkpCDgpLDgpYDgpKvgpLzgpY3gpLDgpYfgpLYg4oa7Ci8vIEBuYW1lOmhyICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdHNrbyBPc3ZqZcW+YXZhbmplIOKGuwovLyBAbmFtZTpodCAgICAgICAgICAgICBDaGF0R1BUIFJhZnJlY2hpIE90b21hdGlrIOKGuwovLyBAbmFtZTpodSAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpa3VzIEZyaXNzw610w6lzIOKGuwovLyBAbmFtZTpoeSAgICAgICAgICAgICDUu9W21oTVttWh1bfVrdWh1b8g1LnVodaA1bTVodaB1bjWgtW0IENoYXRHUFQg4oa7Ci8vIEBuYW1lOmlkICAgICAgICAgICAgIENoYXRHUFQgUGVtYmFydWFuIE90b21hdGlzIOKGuwovLyBAbmFtZTppcyAgICAgICAgICAgICBDaGF0R1BUIFNqw6FsZnZpcmsgRW5kdXJuw71qdW4g4oa7Ci8vIEBuYW1lOml0ICAgICAgICAgICAgIENoYXRHUFQgQWdnaW9ybmFtZW50byBBdXRvbWF0aWNvIOKGuwovLyBAbmFtZTpqYSAgICAgICAgICAgICBDaGF0R1BUIOiHquWLleabtOaWsCDihrsKLy8gQG5hbWU6anYgICAgICAgICAgICAgUGVtYmFydWFuIE90b21hdGlzIENoYXRHUFQg4oa7Ci8vIEBuYW1lOmthICAgICAgICAgICAgIENoYXRHUFQg4YOQ4YOV4YOi4YOd4YOb4YOQ4YOi4YOj4YOg4YOYIOGDkuGDkOGDnOGDkOGDruGDmuGDlOGDkeGDkCDihrsKLy8gQG5hbWU6a2FiICAgICAgICAgICAgQ2hhdEdQVCBBa2Fy4bqTaW0gQcmjZWxuYXcg4oa7Ci8vIEBuYW1lOmtrICAgICAgICAgICAgIENoYXRHUFQg0JDQstGC0L7QvNCw0YLRgtGLINCW0LDSo9Cw0YDRgtGDIOKGuwovLyBAbmFtZTprbSAgICAgICAgICAgICBDaGF0R1BUIOGelOGek+GfkuGekeGetuGelOGfi+GeluGeuOGelOGeheGfkuGeheGeu+GelOGfkuGelOGek+GfkuGek+Gel+GetuGeliDihrsKLy8gQG5hbWU6a24gICAgICAgICAgICAgQ2hhdEdQVCDgsrjgs43gsrXgsq/gsoLgsprgsr7gsrLgsr/gsqQg4LKw4LK/4LKr4LON4LKw4LOG4LK24LONIOKGuwovLyBAbmFtZTprbyAgICAgICAgICAgICBDaGF0R1BUIOyekOuPmSDsg4jroZwg6rOg7LmoIOKGuwovLyBAbmFtZTpreSAgICAgICAgICAgICBDaGF0R1BUINCQ0LLRgtC+0LzQsNGC0YLRi9C6INCi0LDQt9Cw0YDRgtGD0YMg4oa7Ci8vIEBuYW1lOmxhICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdGljYSBSZWZlY3RpbyDihrsKLy8gQG5hbWU6bGIgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWF0ZXNjaHQgQWt0dWFsaXPDqWllcmVuIOKGuwovLyBAbmFtZTpsbyAgICAgICAgICAgICBDaGF0R1BUIOC6m+C6seC6muC6m+C6uOC6h+C6reC6seC6lOC6leC6sOC7guC6meC6oeC6seC6lOC6reC6seC6lOC6leC6sOC7guC6meC6oeC6seC6lCBDaGF0R1BUIOKGuwovLyBAbmFtZTpsdCAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpbmlzIEF0bmF1amluaW1hcyDihrsKLy8gQG5hbWU6bHYgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbcSBdGlza2EgQXRzdmFpZHppbsSBxaFhbmEg4oa7Ci8vIEBuYW1lOm1nICAgICAgICAgICAgIEZhbmF2YW96YW5hIEFua2VoaXRyaW55IGkgQ2hhdEdQVCDihrsKLy8gQG5hbWU6bWkgICAgICAgICAgICAgQ2hhdEdQVCBXaGFrYWjFjXUgQXVub2Eg4oa7Ci8vIEBuYW1lOm1rICAgICAgICAgICAgINCQ0LLRgtC+0LzQsNGC0YHQutC+INC+0YHQstC10LbRg9Cy0LDRmtC1IENoYXRHUFQg4oa7Ci8vIEBuYW1lOm1sICAgICAgICAgICAgIENoYXRHUFQg4LST4LSf4LWN4LSf4LWH4LS+IOC0heC0quC1jeKAjOC0oeC1h+C0seC1jeC0seC1jSDihrsKLy8gQG5hbWU6bW4gICAgICAgICAgICAgQ2hhdEdQVCDQkNCy0YLQvtC80LDRgtCw0LDRgCDQqNC40L3RjdGH0LvRjdGFIOKGuwovLyBAbmFtZTptcyAgICAgICAgICAgICBQZW55ZWdhcmFuIEF1dG8gQ2hhdEdQVCDihrsKLy8gQG5hbWU6bXQgICAgICAgICAgICAgQ2hhdEdQVCBSaWZyZcW8xKFqYXIgQXd0b21hdGlrdSDihrsKLy8gQG5hbWU6bXkgICAgICAgICAgICAgQ2hhdEdQVCDhgKHhgJzhgK3hgK/hgKHhgJzhgLvhgLHhgKzhgIDhgLrhgJHhgJXhgLrhgJbhgLzhgJThgLog4oa7Ci8vIEBuYW1lOm5lICAgICAgICAgICAgIENoYXRHUFQg4KSG4KSr4KWN4KSo4KWI4KSc4KS44KWN4KSk4KWIIOCkpOCkvuCknOCkviDgpJfgpLDgpY3gpKjgpYHgpLngpYvgpLjgpY0g4oa7Ci8vIEBuYW1lOm5sICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdGlzY2hlIFZlcm5pZXV3aW5nIOKGuwovLyBAbmFtZTpubyAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpc2sgT3BwZGF0ZXJpbmcg4oa7Ci8vIEBuYW1lOnBhICAgICAgICAgICAgIENoYXRHUFQg4KiG4Kif4KmLIOCosOCov+Coq+CosOCpiOCouOCovCDihrsKLy8gQG5hbWU6cGFwICAgICAgICAgICAgQ2hhdEdQVCBSZWZyZXNrYW1lbnR1IEF1dG9tYXRpY28g4oa7Ci8vIEBuYW1lOnBsICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdHljem5lIE9kxZt3aWXFvGFuaWUg4oa7Ci8vIEBuYW1lOnBzICAgICAgICAgICAgINivIENoYXRHUFQg2LLZhdinINiq2KfYstmHINqp2YjZhCDihrsKLy8gQG5hbWU6cHQgICAgICAgICAgICAgQ2hhdEdQVCBBdHVhbGl6YcOnw6NvIEF1dG9tw6F0aWNhIOKGuwovLyBAbmFtZTpwdC1CUiAgICAgICAgICBDaGF0R1BUIEF0dWFsaXphw6fDo28gQXV0b23DoXRpY2Eg4oa7Ci8vIEBuYW1lOnJuICAgICAgICAgICAgIENoYXRHUFQgR3VzaGlyYSBVYnVzaHl1aGUg4oa7Ci8vIEBuYW1lOnJvICAgICAgICAgICAgIENoYXRHUFQgUmXDrm1wcm9zcMSDdGFyZSBBdXRvbWF0xIMg4oa7Ci8vIEBuYW1lOnJ1ICAgICAgICAgICAgINCQ0LLRgtC+0L7QsdC90L7QstC70LXQvdC40LUgQ2hhdEdQVCDihrsKLy8gQG5hbWU6c2cgICAgICAgICAgICAgQ2hhdEdQVCBSYWZyYcOuY2hpc3NlbWVudCBBdXRvIOKGuwovLyBAbmFtZTpzaSAgICAgICAgICAgICBDaGF0R1BUIOC3g+C3iuC3gOC2uuC2guC2muC3iuC2u+C3k+C2uiDgtrHgt5Dgt4Dgtq3gt5Tgtrjgt4og4oa7Ci8vIEBuYW1lOnNrICAgICAgICAgICAgIENoYXRHUFQgQXV0b21hdGlja8OpIE9ibm92ZW5pZSDihrsKLy8gQG5hbWU6c2wgICAgICAgICAgICAgQ2hhdEdQVCBTYW1vZGVqbmEgT3N2ZcW+aXRldiDihrsKLy8gQG5hbWU6c20gICAgICAgICAgICAgQ2hhdEdQVCBUb2VhaW5hIEF1dG8gVGF1bGFnYWluYSDihrsKLy8gQG5hbWU6c24gICAgICAgICAgICAgQ2hhdEdQVCBSdXJlZnUgUmFrYWl0YSBadmFrYW5ha2Eg4oa7Ci8vIEBuYW1lOnNvICAgICAgICAgICAgIENoYXRHUFQgRGliLXUtaGVsYXluYSBYYWZpaXNrYSDihrsKLy8gQG5hbWU6c3IgICAgICAgICAgICAgQ2hhdEdQVCDQkNGD0YLQvtC80LDRgtGB0LrQviDQntGB0LLQtdC20LDQstCw0ZrQtSDihrsKLy8gQG5hbWU6c3YgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWF0aXNrIFVwcGRhdGVyaW5nIOKGuwovLyBAbmFtZTpzdyAgICAgICAgICAgICBDaGF0R1BUIEt1cGFraWEgTW9qYSBrd2EgbW9qYSDihrsKLy8gQG5hbWU6dGEgICAgICAgICAgICAgQ2hhdEdQVCDgrqTgrr7grqngrr/grq/grpngr43grpXgrr8g4K6q4K+B4K6k4K+B4K6q4K+N4K6q4K6/4K6q4K+N4K6q4K+BIOKGuwovLyBAbmFtZTp0ZSAgICAgICAgICAgICBDaGF0R1BUIOCwhuCwn+CxiyDgsLDgsL/gsKvgsY3gsLDgsYbgsLfgsY0g4oa7Ci8vIEBuYW1lOnRnICAgICAgICAgICAgIENoYXRHUFQg0KLQsNK30LTQuNC00Lgg0YXRg9C00LrQvtGA0LggQ2hhdEdQVCDihrsKLy8gQG5hbWU6dGggICAgICAgICAgICAgQ2hhdEdQVCDguKPguLXguYDguJ/guKPguIrguK3guLHguJXguYLguJnguKHguLHguJXguLQg4oa7Ci8vIEBuYW1lOnRpICAgICAgICAgICAgIENoYXRHUFQg4Yqj4Yqr4YuN4YqV4Ymz4Ym1IOGKpeGLjeGKkOGJtSDhi5Phi63hipIg4oa7Ci8vIEBuYW1lOnRrICAgICAgICAgICAgIENoYXRHUFQgQXd0b21hdGlrIFTDpHplbGUg4oa7Ci8vIEBuYW1lOnRuICAgICAgICAgICAgIENoYXRHUFQgVGxob2tvbWVsbyB5YSBNb2FmcmlrYSDihrsKLy8gQG5hbWU6dG8gICAgICAgICAgICAgQ2hhdEdQVCBGYWthaMSBIMq7aWhhb3RhaGEg4oa7Ci8vIEBuYW1lOnRwaSAgICAgICAgICAgIENoYXRHUFQgQXd0byBSaWZyZWhzIOKGuwovLyBAbmFtZTp0ciAgICAgICAgICAgICBDaGF0R1BUIE90b21hdGlrIFllbmlsZW1lIOKGuwovLyBAbmFtZTp1ayAgICAgICAgICAgICDQkNCy0YLQvtC80LDRgtC40YfQvdC1INCe0L3QvtCy0LvQtdC90L3RjyBDaGF0R1BUIOKGuwovLyBAbmFtZTp1ciAgICAgICAgICAgICDYrtmI2K/aqdin2LEg2KrYp9iy24Eg2qnYp9ix24wgQ2hhdEdQVCDihrsKLy8gQG5hbWU6dXogICAgICAgICAgICAgQ2hhdEdQVCBBdnRvbWF0aWsgWWFuZ2lsYXNoIOKGuwovLyBAbmFtZTp2aSAgICAgICAgICAgICBDaGF0R1BUIFThu7EgxJHhu5luZyBD4bqtcCBuaOG6rXQg4oa7Ci8vIEBuYW1lOnhoICAgICAgICAgICAgIENoYXRHUFQgVWt1bm92dXNhIE9rdXZlbGEg4oa7Ci8vIEBuYW1lOnlpICAgICAgICAgICAgIENoYXRHUFQg15DWt9eY15DWtyDXkNa316fXmNeV15DWt9ec15nXlteZ16jXnyDihrsKLy8gQG5hbWU6emggICAgICAgICAgICAgQ2hhdEdQVCDoh6rliqjliLfmlrAg4oa7Ci8vIEBuYW1lOnpoLUNOICAgICAgICAgIENoYXRHUFQg6Ieq5Yqo5Yi35pawIOKGuwovLyBAbmFtZTp6aC1ISyAgICAgICAgICBDaGF0R1BUIOiHquWLleWIt+aWsCDihrsKLy8gQG5hbWU6emgtU0cgICAgICAgICAgQ2hhdEdQVCDoh6rliqjliLfmlrAg4oa7Ci8vIEBuYW1lOnpoLVRXICAgICAgICAgIENoYXRHUFQg6Ieq5YuV5Yi35pawIOKGuwovLyBAbmFtZTp6dSAgICAgICAgICAgICBDaGF0R1BUIFVrdXNhc2F6YSBOZ29rdXplbnpha2FsZWxheW8g4oa7Ci8vIEBkZXNjcmlwdGlvbiAgICAgICAgICpTQUZFTFkqIGtlZXBzIENoYXRHUFQgc2Vzc2lvbnMgZnJlc2gsIGVsaW1pbmF0aW5nIGNvbnN0YW50IG5ldHdvcmsgZXJyb3JzICsgQ2xvdWRmbGFyZSBjaGVja3MgKGFsbCBmcm9tIHRoZSBiYWNrZ3JvdW5kISkKLy8gQGRlc2NyaXB0aW9uOmFmICAgICAgKlZFSUxJRyogaG91IENoYXRHUFQtc2Vzc2llcyB2YXJzIGRldXIga29uc3RhbnRlIG5ldHdlcmtmb3V0ZSBlbiBDbG91ZGZsYXJlLWtvbnRyb2xlIHVpdCBkaWUgYWd0ZXJncm9uZCB0ZSB2ZXJ3eWRlciEKLy8gQGRlc2NyaXB0aW9uOmFtICAgICAgKuGJo+GIreGImyog4Yml4YiI4YuNIOGLqOGKruGKleGIteGJteGKleGJtSDhiqXhiLXhiqvhiIHhipUg4Yyg4Y2N4Ymw4YqbIOGKpeGKleGLsuGLq+GIs+GLrSDhiqXhipMg4Yqt4YiL4Yut4YqV4Ym1IOGNk+GIteGLq+GKleGJteGKlSDhi6jhiJrhi6vhiLXhibDhiJvhiKnhiaDhibXhipUhCi8vIEBkZXNjcmlwdGlvbjphciAgICAgICrYqNij2YXYp9mGKiDZitit2KfZgdi4INi52YTZiSDYrNmE2LPYp9iqIENoYXRHUFQg2YXZhtiq2LnYtNip2Iwg2YjZitiy2YrZhCDYo9iu2LfYp9ihINin2YTYtNio2YPYqSDYp9mE2YXYs9iq2YXYsdipINmI2YHYrdmI2LXYp9iqIENsb3VkZmxhcmUgKNmD2YQg2LDZhNmDINmF2YYg2KfZhNiu2YTZgdmK2KkpIQovLyBAZGVzY3JpcHRpb246YXogICAgICAqVMaPSEzDnEvGj1PEsFoqIG9sYXJhcSBDaGF0R1BUIHNlYW5zbGFyxLFuxLEgdMmZesmZIHR1dGFyYXEgZGFpbWkgxZ/JmWLJmWvJmSBzyZlodmzJmXJpbmkgdsmZIENsb3VkZmxhcmUgeW94bGFtYWxhcsSxbsSxIGFyYWRhbiBxYWxkxLFyxLFyIQovLyBAZGVzY3JpcHRpb246YmUgICAgICAq0JHQr9Ch0J/QldCa0JAqINC30LDRntGB0ZHQtNGLINC/0LDQtNGC0YDRi9C80LvRltCy0LDQtSDRgdC10LDQvdGB0YsgQ2hhdEdQVCwg0LLRi9C00LDQu9GP0Y7Rh9GLINC/0LDRgdGC0LDRj9C90L3Ri9GPINGB0LXRgtC60LDQstGL0Y8g0L/QsNC80YvQu9C60ZYg0ZYg0L/RgNCw0LLQtdGA0LrRliBDbG91ZGZsYXJlICjRg9GB0ZEg0LPRjdGC0LAg0Lcg0YTQvtC90YMpIQovLyBAZGVzY3JpcHRpb246YmVtICAgICAqU0FGRUxZKiBpa2FsaWxlc2hhIGltaXNla28geWFrYXNhbmtoYSB5YSBDaGF0R1BULCB5b3NpbnRoaWthIG1hIGludGVybmV0aSBvc2FuZ2FsYWxhIG5kaSBrdXBlemEgbmRvbmRvbWVrbyB6YSBDbG91ZGZsYXJlICh6aWt1Y2hpdGlrYSBsb25zZSBsb213ZSBtJ2d1bHUhKQovLyBAZGVzY3JpcHRpb246YmcgICAgICAq0JHQldCX0J7Qn9CQ0KHQndCeKiDQt9Cw0LTRitGA0LbQsCDRgdCy0LXQttC40YLQtSDRgdC10YHQuNC4INC90LAgQ2hhdEdQVCwg0LrQsNGC0L4g0L7RgtGB0YLRgNCw0L3Rj9Cy0LAg0L/QvtGB0YLQvtGP0L3QvdC40YLQtSDQvNGA0LXQttC+0LLQuCDQs9GA0LXRiNC60Lgg0Lgg0L/RgNC+0LLQtdGA0LrQuCDQvdCwIENsb3VkZmxhcmUgKNCy0YHQuNGH0LrQviDRgtC+0LLQsCDQvtGCINGE0L7QvdCwKSEKLy8gQGRlc2NyaXB0aW9uOmJuICAgICAgKuCmqOCmv+CmsOCmvuCmquCmpuCnhyogQ2hhdEdQVCDgprjgp4fgprbgpqjgppfgp4HgprLgpr/gppXgp4cg4Kaq4KeB4Kaw4KeL4KaX4Ka+4Kau4KeAIOCmsOCmvuCmluCnhywg4Ka44KeN4Kal4Ka+4Kav4Ka84KeAIOCmqOCnh+Cmn+Cmk+Cmr+CmvOCmvuCmsOCnjeCmlSDgpqTgp43gprDgp4Hgpp/gpr8g4KaTIOCmleCnjeCmsuCmvuCmieCmoeCmq+CnjeCmsuCnh+Cmr+CmvOCmvuCmsCDgpqrgprDgp4DgppXgp43gprfgpr7gppfgp4HgprLgpr8g4Ka44Kaw4Ka+4Kav4Ka84KWkICjgprjgpqwg4KaP4Kaf4Ka+IOCmrOCnjeCmr+CmvuCmleCml+CnjeCmsOCmvuCmieCmqOCnjeCmoSDgpqXgp4fgppXgp4chKQovLyBAZGVzY3JpcHRpb246Ym8gICAgICAq4L2i4L6S4L6x4L2W4LyL4L2W4L2e4L2y4L2T4LyL4L2U4L2g4L2y4LyLKiBDaGF0R1BUIOC9guC9puC9ouC9lOC8i+C9guC9nuC9suC8i+C9puC9uuC9o+C8i+C9mOC9kOC9vOC9hOC8i+C8jSDgvZjgvbLgvZPgvIvgvaDgvZHgvbTgvYLgvIvgvaDgvZHgvrLgvbLgvIvgvZbgvaLgvqHgvIvgvZbgvabgvpDgvbzgvaLgvIvgvaDgvZHgvbzgvZPgvIvgvZbgvaLgvqHgvaDgvbLgvIvgvZPgvbTgvabgvIvgvaDgvZvgvbLgvZPgvIvgvaPgvYLgvIvgvaLgvbLgvYLgvIvgvaLgvbrgvIvgvYLgvZPgvabgvIvgvabgvpDgvZbgvabgvIvgvZjgvYTgvYLgvabgvIvgvaDgvZvgvbLgvZPgvIvgvZTgvaDgvbLgvIvgvabgvpDgvZbgvabgvIvgvaPgvbrgvI0hCi8vIEBkZXNjcmlwdGlvbjpicyAgICAgICpTSUdVUk5PKiBvZHLFvmF2YSBDaGF0R1BUIHNlc2lqZSBzdmplxb5pbWEsIGVsaW1pbmlyYWp1xIdpIHN0YWxuZSBtcmXFvm5lIGdyZcWha2UgaSBDbG91ZGZsYXJlIHByb3ZqZXJlIChzdmUgaXogcG96YWRpbmUpIQovLyBAZGVzY3JpcHRpb246Y2EgICAgICAqU0VHVVIqIG1hbnTDqSBsZXMgc2Vzc2lvbnMgZGUgQ2hhdEdQVCBmcmVzcXVlcywgZWxpbWluYW50IGVscyBlcnJvcnMgY29uc3RhbnRzIGRlIHhhcnhhIGkgbGVzIGNvbXByb3ZhY2lvbnMgZGUgQ2xvdWRmbGFyZSAodG90IGRlcyBkZWwgZm9ucykhCi8vIEBkZXNjcmlwdGlvbjpjZWIgICAgICpLQU5VTkFZT04qIG5hZ2FwYWJpbGluIG5nYSBtYWdiaW51bGlnYXkgYW5nIG1nYSBDaGF0R1BUIG5nYSBzZXN5b24gbmdhIGJhZy1vLCBuYWdhcGFkYXlvbiBuZ2EgbWdhIG5ldHdvcmsgbmdhIG1nYSBzYXlvcCArIENsb3VkZmxhcmUgY2hlY2tzICh0YW5hbmcgZ2lrYW4gc2EgYmFja2dyb3VuZCEpCi8vIEBkZXNjcmlwdGlvbjpja2IgICAgICrYqNuV2KjbjiDZvtuV24zZhdin2YbblSog2Kjatdin2Ygg2K/bldqp25Ug2obYp9mI2KfZhtqv25Ug2b7blduM2YjbldmG2K/bjNqp2LHYp9mI25Xaqdin2YbbjCBDaGF0R1BU2Iwg2Yfbldq125XbjCDYtNio2qnblduM24wg2qnbldiz24zbjCDZiCDYqNq12KfZiNiv25Xaqdix2K/ZhtuV2Yjbldqp2KfZhtuMIENsb3VkZmxhcmUt24wg2K/bldiz2KrYqNqp2KfYqiAo2YfbldmF2YjZiCDZhNuVINm+2LTYqtuV2qnblSEpCi8vIEBkZXNjcmlwdGlvbjpjcyAgICAgICpCRVpQRcSMTsSaKiB1ZHLFvnVqZSBzZXplbsOtIENoYXRHUFQgc3bEm8W+w60sIG9kc3RyYcWIdWplIG5ldXN0w6Fsw6kgc8OtxaVvdsOpIGNoeWJ5IGEga29udHJvbHkgQ2xvdWRmbGFyZSAodsWhZWNobm8geiBwb3phZMOtKSEKLy8gQGRlc2NyaXB0aW9uOmN5ICAgICAgKllOIERJT0dFTCogeW4gY2FkdyBzZXNpeW5hdSBDaGF0R1BUIHluIGZmcmVzLCBnYW4gZGRpbGV1IGd3YWxsYXUgcmh3eWR3YWl0aCBjeXNvbiBhIHBocmF3ZmlvbiBDbG91ZGZsYXJlIChjeWQtZGVzdHVuIHkgY3lmYW4gaHduIG8nciBjZWZuZGlyISkKLy8gQGRlc2NyaXB0aW9uOmRhICAgICAgKlNJS0tFUlQqIGhvbGRlciBDaGF0R1BULXNlc3Npb25lciBmcmlza2UgdmVkIGF0IGZqZXJuZSBrb25zdGFudGUgbmV0dsOmcmtzZmVqbCBvZyBDbG91ZGZsYXJlLWNoZWNrcyAoZGV0IGhlbGUgaSBiYWdncnVuZGVuISkKLy8gQGRlc2NyaXB0aW9uOmRlICAgICAgKlNJQ0hFUiogaMOkbHQgQ2hhdEdQVC1TaXR6dW5nZW4gZnJpc2NoLCBpbmRlbSBzdMOkbmRpZ2UgTmV0endlcmtmZWhsZXIgdW5kIENsb3VkZmxhcmUtw5xiZXJwcsO8ZnVuZ2VuIGJlc2VpdGlndCB3ZXJkZW4gKGFsbGVzIGltIEhpbnRlcmdydW5kISkKLy8gQGRlc2NyaXB0aW9uOmR2ICAgICAgKt6N3qbeh96o3oLesN6I3qzeit6mKiDegN6q3oPeqN6J3qfejd6q3oLesCDejN6s3oPerd6O3qregt6wIN6E3q3egt6q3oLesN6I3qfegt6pIENoYXRHUFQg3p3erN6R3qjelN6nIN6G3q7egt6w3orept6H3qjegt6wIN6L3qzegt6w3ojept6D3qreht6u3oHesCDeit6q3oPept6H3qjeiN6nIN6L3qjehN6q3oneqt6O3qwg3pDerN6H3rDeld6m3oLesN6M3qbeh96wICjeid6o3obept6C3rDeht6o3orept6H3qjegt6wISkKLy8gQGRlc2NyaXB0aW9uOmR6ICAgICAgKuC9keC9guC9oOC8i+C9luC9puC+kOC+seC9suC9keC8i+C9luC9nuC9tOC9guC9puC8i+C9luC9ouC+oSogQ2hhdEdQVCDgvabgvbrgvaPgvIvgvZDgvbTgvZbgvIvgvaLgvpDgvrHgvYTgvabgvIvgvaLgvqvgvbzgvYLgvabgvIvgvZHgvYTgvIsgQ2xvdWRmbGFyZSDgvZbgvaTgvZHgvIvgvZTgvIvgvZbgvZ/gvbzgvIvgvZbgvIvgvaDgvZHgvbLgvIvgvaLgvbrgvIvgvaDgvZvgvbLgvZPgvIvgvZTgvaDgvbLgvIvgvZHgvYDgvaLgvIvgvYbgvYLgvIvgvaPgvbrgvZbgvIvgvZbgvrHgvbrgvZHgvIvgvZTgvI0gKOC9oOC9keC9suC8i+C9guC9ieC9uuC9k+C8i+C9luC+seC9suC9k+C8i+C9keC9guC9vOC9hOC9puC8i+C9keC9hOC8i+C9guC+suC9hOC9puC8i+C9gOC9oOC9suC8i+C9puC+kuC9vOC8i+C9keC9hOC8i+C9puC+kuC+suC9suC9guC8i+C9puC+kuC+suC9suC9guC8i+C9ouC+qeC9vOC9mOC8i+C9oeC9suC9k+C8i+C9lOC8jSEpCi8vIEBkZXNjcmlwdGlvbjplbCAgICAgICrOnM6VIM6RzqPOps6RzpvOlc6ZzpEqIM60zrnOsc+EzrfPgc61zq8gz4TOuc+CIM+Dz4XOvc61zrTPgc6vzrXPgiBDaGF0R1BUIM+Gz4HOrc+DzrrOtc+CLCDOtc6+zrHOu861zq/Phs6/zr3PhM6xz4Igz4PPhc69zrXPh861zq/PgiDPg8+GzqzOu868zrHPhM6xIM60zrnOus+Ez43Ov8+FIM66zrHOuSDOtc67zq3Os8+Hzr/Phc+CIENsb3VkZmxhcmUgKM+MzrvOsSDOsc+Az4wgz4TOvyDPgM6xz4HOsc+DzrrOrs69zrnOvyEpCi8vIEBkZXNjcmlwdGlvbjplbyAgICAgICpTRUtVUkUqIHRlbmFzIGZyZXNham4gQ2hhdEdQVC1zZXNpb2puLCBmb3JpZ2FudGUga29uc3RhbnRham4gcmV0by1lcmFyb2puIGthaiBDbG91ZGZsYXJlLWVremFtZW5vam4gKMSJaW8gZWwgbGEgZm9ubyEpCi8vIEBkZXNjcmlwdGlvbjplcyAgICAgICpTRUdVUk8qIG1hbnRpZW5lIGxhcyBzZXNpb25lcyBkZSBDaGF0R1BUIGZyZXNjYXMsIGVsaW1pbmFuZG8gY29uc3RhbnRlcyBlcnJvcmVzIGRlIHJlZCB5IHZlcmlmaWNhY2lvbmVzIGRlIENsb3VkZmxhcmUgKMKhdG9kbyBkZXNkZSBlbCBmb25kbyEpCi8vIEBkZXNjcmlwdGlvbjpldCAgICAgICpUVVJWQUxJU0VMVCogaG9pYWIgQ2hhdEdQVCBzZWFuc2lkIHbDpHJza2VuYSwga8O1cnZhbGRhZGVzIHBpZGV2YWQgdsO1cmd1dmVhZCBqYSBDbG91ZGZsYXJlIGtvbnRyb2xsaWQgKGvDtWlrIHRhdXN0YWwhKQovLyBAZGVzY3JpcHRpb246ZXUgICAgICAqU0VHVVJPQSogQ2hhdEdQVCBzYWlvYWsgYmVycml0dWFrIG1hbnRlbnR6ZW4gZGl0dSwgc2FyZWtvIGFrYXRzIGtvbnN0YW50ZWFrIGV0YSBDbG91ZGZsYXJlIGVnaWF6dGFwZW5hayBrZW50emVuIGRpdHVlbmV6IChkZW5hIGhvbmRhcnR6YXRpayEpCi8vIEBkZXNjcmlwdGlvbjpmYSAgICAgICrYqNmHINi32YjYsSDYp9uM2YXZhiog2KzZhNiz2KfYqiBDaGF0R1BUINix2Kcg2KrYp9iy2Ycg2Ybar9mHINmF24wg2K/Yp9ix2K/YjCDYqNinINit2LDZgSDYrti32KfZh9in24wg2YXYr9in2YjZhSDYtNio2qnZhyDZiCDYqNix2LHYs9uMINmH2KfbjCBDbG91ZGZsYXJlICjZh9mF2Ycg2KfbjNmG2YfYpyDYp9iyINm+2LTYqiDYtdit2YbZhyDYp9iz2KohKQovLyBAZGVzY3JpcHRpb246ZmkgICAgICAqVFVSVkFMTElTRVNUSSogcGl0w6TDpCBDaGF0R1BULWlzdHVubm90IHR1b3JlaW5hIHBvaXN0YW1hbGxhIGphdGt1dmF0IHZlcmtrb3ZpcmhlZXQgamEgQ2xvdWRmbGFyZS10YXJraXN0dWtzZXQgKGthaWtraSB0YXVzdGFsbGEhKQovLyBAZGVzY3JpcHRpb246Zm8gICAgICAqVFJZR1QqIGhlbGR1ciBDaGF0R1BULXNhbXLDuMOwdXIgZmVyc2thciB2acOwIGF0IMO6dHLDvW1hIHN0w7jDsHVndW0gbmV0dHZlcmtzdW1iZWludW0gb2cgQ2xvdWRmbGFyZS1wcsOzdnTDuGt1bSAoYWx0IGZyw6EgYmFrZ3J1bmRpbmkhKQovLyBAZGVzY3JpcHRpb246ZnIgICAgICAqRU4gVE9VVEUgU8OJQ1VSSVTDiSogbWFpbnRpZW50IGxlcyBzZXNzaW9ucyBDaGF0R1BUIGZyYcOuY2hlcywgZW4gw6lsaW1pbmFudCBsZXMgZXJyZXVycyByw6lzZWF1IGNvbnN0YW50ZXMgZXQgbGVzIHbDqXJpZmljYXRpb25zIENsb3VkZmxhcmUgKHRvdXQgY2VsYSBlbiBhcnJpw6hyZS1wbGFuISkKLy8gQGRlc2NyaXB0aW9uOmZyLUNBICAgKkVOIFRPVVRFIFPDiUNVUklUw4kqIG1haW50aWVudCBsZXMgc2Vzc2lvbnMgQ2hhdEdQVCBmcmHDrmNoZXMsIGVuIMOpbGltaW5hbnQgbGVzIGVycmV1cnMgcsOpc2VhdSBjb25zdGFudGVzIGV0IGxlcyB2w6lyaWZpY2F0aW9ucyBDbG91ZGZsYXJlICh0b3V0IGNlbGEgZW4gYXJyacOocmUtcGxhbiEpCi8vIEBkZXNjcmlwdGlvbjpnZCAgICAgICpMRUFOVEFJTk5FQUNIKiBhJyBjdW1haWwgc2Vpc2VhbmFuIENoYXRHUFQgdGlvcmFtLCBhJyBzZ3Jpb3NhZGggbWVhcmFjaGRhbiBsw6BpdGhlaWwgc2EgY2jDsm1oZGFjaGQgYWd1cyBzZ3LDuWRhZGggQ2xvdWRmbGFyZSAodWlsZSBzZW8gw6AgdGFvYmggYS1zdGFpZ2ghKQovLyBAZGVzY3JpcHRpb246Z2wgICAgICAqU0VHVVJPKiBtYW50w6luIGFzIHNlc2nDs25zIENoYXRHUFQgZnJlc2NhcywgZWxpbWluYW5kbyBlcnJvcyBjb25zdGFudGVzIGRlIHJlZGUgZSB2ZXJpZmljYWNpw7NucyBkZSBDbG91ZGZsYXJlICh0b2RvIGRlc2RlIG8gZm9uZG8hKQovLyBAZGVzY3JpcHRpb246Z3UgICAgICAq4Kq44KuB4Kqw4KqV4KuN4Kq34Kq/4Kqk4Kqq4Kqj4KuHKiBDaGF0R1BUIOCquOCrh+CqtuCqqOCrjeCquCDgqqvgq43gqrDgq4fgqrYg4Kqw4Kq+4KqW4KuHIOCqm+Crhywg4Kqo4KuH4Kqf4Kq14Kqw4KuN4KqVIOCqpOCqsOCqq+CqpeCrgCDgqrjgqqTgqqQg4Kqk4KuN4Kqw4KuB4Kqf4Kq/4KqTIOCqheCqqOCrhyDgqpXgq43gqrLgqr7gqongqqHgqqvgq43gqrLgq4fgqrAg4Kqa4KqV4Kq+4Kq44KuL4Kqo4KuHIOCqpuCrguCqsCDgqpXgqrDgq4cg4Kqb4KuHICjgqoYg4Kq44Kqw4KuN4Kq14KuLIOCqrOCrheCqleCql+CrjeCqsOCqvuCqieCqqOCrjeCqoeCqruCqvuCqguCqpeCrgCEpCi8vIEBkZXNjcmlwdGlvbjpoYXcgICAgICpLVUhJQU8qIGUgbcSBbGFtYSBhaSBpIG7EgSBoZWx1IGjFjcq7xIFwb25vIENoYXRHUFQgbWFpa2HKu2ksIGUgaG/Ku29wYXUgYW5hIGkgbsSBIGhld2Ega8Wryrtva2/Ku2EgcMWrbmFld2VsZSBhIG1lIG7EgSBoxY3Ku2lrZcq7aWtlIENsb3VkZmxhcmUgKGEgcGF1IG1haSBrYSBoxY3Ku8SBcG9ubyEpCi8vIEBkZXNjcmlwdGlvbjpoZSAgICAgICrXkdeY15fXldefKiDXnteX15bXmdenINeQ16og15TXlNeq15XXldeZ15XXqiDXqdecIENoYXRHUFQg15jXqNeZ15XXqiwg157XodeZ16gg16nXkteZ15DXldeqINeo16nXqiDXp9eR15XXoteV16og15XXkdeT15nXp9eV16ogQ2xvdWRmbGFyZSAo15TXm9eV15wg157XlNeo16fXoiEpCi8vIEBkZXNjcmlwdGlvbjpoaSAgICAgICrgpLjgpYHgpLDgpJXgpY3gpLfgpL/gpKQg4KSw4KWC4KSqIOCkuOClhyogQ2hhdEdQVCDgpLjgpKTgpY3gpLDgpYvgpIIg4KSV4KWLIOCkpOCkvuCknOCkl+ClgCDgpKzgpKjgpL7gpI8g4KSw4KSW4KSk4KS+IOCkueCliCwg4KS44KSk4KSkIOCkqOClh+Ckn+CkteCksOCljeCklSDgpKTgpY3gpLDgpYHgpJ/gpL/gpK/gpYvgpIIg4KSU4KSwIENsb3VkZmxhcmUg4KSc4KS+4KSC4KSa4KWL4KSCIOCkleCliyDgpJbgpKTgpY3gpK4g4KSV4KSw4KSk4KS+IOCkueCliCAo4KS44KSsIOCkleClgeCkmyDgpKrgpYDgpJvgpYcg4KS44KWHISkKLy8gQGRlc2NyaXB0aW9uOmhyICAgICAgKlNJR1VSTk8qIG9kcsW+YXZhIENoYXRHUFQgc2VzaWplIHN2amXFvmltYSwgZWxpbWluaXJhanXEh2kga29uc3RhbnRuZSBtcmXFvm5lIHBvZ3JlxaFrZSBpIENsb3VkZmxhcmUgcHJvdmplcmUgKHN2ZSBpeiBwb3phZGluZSEpCi8vIEBkZXNjcmlwdGlvbjpodCAgICAgICpBTiBTRUtJUklURSoga2VuYmUgc2VzeW9uIENoYXRHUFQgZnJlLCBlbGltaW5lIGVyw6ggc291IHJlem8gYSBraSBrb25zdGFuIGFrIHRjaGVrZSBDbG91ZGZsYXJlIHlvICh0b3V0IHNhIHNvdGkgbmFuIGZvbiBhbiEpCi8vIEBkZXNjcmlwdGlvbjpodSAgICAgICpCSVpUT05Tw4FHT1NBTiogZnJpc3MgQ2hhdEdQVCBtdW5rYW1lbmV0ZWtldCBiaXp0b3PDrXQsIG1lZ3N6w7xudGV0aSBhIGZvbHlhbWF0b3MgaMOhbMOzemF0aSBoaWLDoWthdCDDqXMgYSBDbG91ZGZsYXJlIGVsbGVuxZFyesOpc2VrZXQgKG1pbmRldCBhIGjDoXR0w6lyYsWRbCEpCi8vIEBkZXNjcmlwdGlvbjpoeSAgICAgICrUsdWG1Y7UtdWQ1YjVktS51YXViNWS1YYg1YDUsdWF1Y/UsdWR1YjVktWE1YjVktWG1Z0qINW61aHWgNW/1aHVpNaA1bjWgtW0INWnINWm1aLVodWy1b7VuNWyIENoYXRHUFQg1b3VpdW91avVodW21aXWgCwg1bbVt9Wh1bbVodWv1bjWgtW0INWnINWh1bbVvtW/1aHVttWjINaB1aHVttaB1aHVtdWr1bYg1b3VrdWh1azVttWl1oDVqCDWhyBDbG91ZGZsYXJlLdWrINW91b/VuNaC1aPVuNaC1bTVttWl1oDVqCAo1aHVtNWl1bbVqCDVt9Wh1oDVuNaC1bbVodWv1aHVr9Wh1bbVuNaA1aXVtiEpCi8vIEBkZXNjcmlwdGlvbjppZCAgICAgICpBTUFOKiBtZW5qYWdhIHNlc2kgQ2hhdEdQVCB0ZXRhcCBzZWdhciwgbWVuZ2hpbGFuZ2thbiBrZXNhbGFoYW4gamFyaW5nYW4ga29uc3RhbiBkYW4gcGVtZXJpa3NhYW4gQ2xvdWRmbGFyZSAoc2VtdWFueWEgZGFyaSBsYXRhciBiZWxha2FuZyEpCi8vIEBkZXNjcmlwdGlvbjppcyAgICAgICrDllJVR0dMSUdUKiBoZWxkdXIgQ2hhdEdQVC1zYW1yw6bDsHVyIGZlcnNrYXIgbWXDsCDDvnbDrSBhw7AgZXnDsGEgc3TDtsOwdWd1bSBuZXR2aWxsYSBvZyBDbG91ZGZsYXJlIHByw7NmdW0gKGFsbHQgw75ldHRhIMO6ciBiYWtncnVubmludW0hKQovLyBAZGVzY3JpcHRpb246aXQgICAgICAqSU4gU0lDVVJFWlpBKiBtYW50aWVuZSBsZSBzZXNzaW9uaSBkaSBDaGF0R1BUIGZyZXNjaGUsIGVsaW1pbmFuZG8gZ2xpIGVycm9yaSBkaSByZXRlIGNvc3RhbnRpIGUgaSBjb250cm9sbGkgQ2xvdWRmbGFyZSAodHV0dG8gZGFsbG8gc2ZvbmRvISkKLy8gQGRlc2NyaXB0aW9uOmphICAgICAgKuWuieWFqOOBqyogQ2hhdEdQVOOCu+ODg+OCt+ODp+ODs+OCkuaWsOmuruOBq+S/neOBoeOAgeW4uOOBq+eZuueUn+OBmeOCi+ODjeODg+ODiOODr+ODvOOCr+OCqOODqeODvOOChENsb3VkZmxhcmXjga7jg4Hjgqfjg4Pjgq/jgpLmjpLpmaTjgZfjgb7jgZnvvIjjgZnjgbnjgabjg5Djg4Pjgq/jgrDjg6njgqbjg7Pjg4njgafvvIHvvIkKLy8gQGRlc2NyaXB0aW9uOmp2ICAgICAgKkFNQU4qIG5nYWRlZ2FrZSBzZXNpIENoYXRHUFQgdGV0ZXAgYW55YXIsIG5naWxhbmdpIGtlc2FsYWhhbiBqYXJpbmdhbiBrYW5nIGtvbnN0YW4gbGFuIHDDqXJhbmdrYXQgQ2xvdWRmbGFyZSAoa2FiZWggc2FrYSBsYXRhciBiZWxha2FuZyEpCi8vIEBkZXNjcmlwdGlvbjprYSAgICAgICrhg6Phg6Hhg5Dhg6Thg6Dhg5fhg67hg53hg5MqIOGDmOGDnOGDkOGDruGDkOGDleGDoSBDaGF0R1BUIOGDoeGDlOGDoeGDmOGDlOGDkeGDoSDhg67hg5Dhg6Dhg5Xhg5Thg5bhg5Thg5Hhg5Lhg5Dhg5wg4YOS4YOQ4YOb4YOd4YOq4YOU4YOb4YOj4YOaIOGDpeGDoeGDlOGDmuGDo+GDoCDhg6jhg5Thg6rhg5Phg53hg5vhg5Thg5Hhg6Hhg5Ag4YOT4YOQIENsb3VkZmxhcmUt4YOhIOGDqOGDlOGDm+GDneGDrOGDm+GDlOGDkeGDkOGDoSAo4YOn4YOV4YOU4YOa4YOQIOGDpOGDneGDnOGDmOGDk+GDkOGDnCEpCi8vIEBkZXNjcmlwdGlvbjprYWIgICAgICpBU0dBUyogeWVma2EgZCBpc2VrbGFsZW4gbiB0LXNla2hzaXMgQ2hhdEdQVCwgeWV0dHVuZWZrZW4gYWQgeWXhuKViZXMgYeG4jXJpcyBuIHllbWdheWFuIGFra2VkIHd1ZGVtIG4gQ2xvdWRmbGFyZSAoaW1lc2xheWVuIHllcm5hIG1lcXFyZW4hKQovLyBAZGVzY3JpcHRpb246a2sgICAgICAq0prQntCg0pLQkNCj0JvQqyogQ2hhdEdQVCDRgdC10YHRgdC40Y/Qu9Cw0YDRi9C9INC20LDSo9CwINKb0YvQu9Cw0YLRi9C/LCDQttC10LvRliDSm9Cw0YLQtdC70LXRgNGWINC80LXQvSBDbG91ZGZsYXJlINGC0LXQutGB0LXRgNGD0LvQtdGA0ZbQvSDQttC+0Y4gKNCx0LDRgNC70YvSk9GLINCw0YDQutCw0YHRgtCw0L0hKQovLyBAZGVzY3JpcHRpb246a20gICAgICAq4Z6K4Z+E4Z6Z4Z6f4Z674Z6B4Z6X4Z624Z6WKiDhnoDhnrbhnprhnpThnoDhnpThn5Lhnprhn4LhnoDhnpjhn5LhnpjhnpzhnrfhnpLhnrggQ2hhdEdQVCDhnofhnrbhnp/hn5LhnpDhnrbhnpPhnpfhnrbhnpbhnpDhn5LhnpjhnrjhnoLhn5LhnprhnpThn4vhnoLhn5LhnprhnoThnorhn4Lhnpvhnpvhnrvhn4fhno/hn5Lhnprhnrbhno/hn4LhnoDhnr7hno/hnqHhnr7hnoThnpzhnrfhnonhnofhnrbhnpjhnr3hnpnhnoDhn4bhnqDhnrvhnp/hnpThno7hn5LhnorhnrbhnonhnpHhnrjhnpPhn4Hhn4chCi8vIEBkZXNjcmlwdGlvbjprbiAgICAgICrgsobgsrjgs43gsqTgsr/gsq/gsr7gspfgsr8qIOCymuCyvuCyn+CzjeKAjOCynOCyv+CyquCyv+Cyn+CyvyDgsrjgsqTgs43gsrDgspfgsrPgsqjgs43gsqjgs4Eg4LK54LOK4LKk4LON4LKk4LOBIOCyieCys+Cyv+CyuOCzgeCyteCzgeCypuCzgSwg4LKo4LOH4LKf4LON4oCM4LK14LKw4LON4LKV4LONIOCypuCzi+Cyt+Cyl+Cys+CyqOCzjeCyqOCzgSDgsq7gsqTgs43gsqTgs4Eg4LKV4LON4LKy4LOM4LKh4LON4oCM4LKr4LON4LKy4LOH4LKw4LONIOCyquCysOCyv+CytuCzgOCysuCyqOCzhuCyl+Cys+CyqOCzjeCyqOCzgSDgsqTgs4bgspfgs4bgsqbgs4Hgsrngsr7gspXgs4HgsrXgs4Hgsqbgs4EgKOCyjuCysuCzjeCysuCyteCzgiDgsrngsr/gsoLgsqzgsr7gsrLgspXgsqbgsr/gsoLgsqYhKQovLyBAZGVzY3JpcHRpb246a28gICAgICAq7JWI7KCE7ZWY6rKMKiBDaGF0R1BUIOyEuOyFmOydhCDsi6DshKDtlZjqsowg7Jyg7KeA7ZWY66mwLCDsp4Dsho3soIHsnbgg64Sk7Yq47JuM7YGsIOyYpOulmOyZgCBDbG91ZGZsYXJlIOqygOyCrOulvCDsoJzqsbDtlanri4jri6QgKOuqqOuRkCDrsLHqt7jrnbzsmrTrk5zsl5DshJwhKQovLyBAZGVzY3JpcHRpb246a3UgICAgICAqQkXFnkVMRSogc2VhbnPDqm4gQ2hhdEdQVCBoaWxiZXLDrm5lcmEsIHPDqndpcmFuw6puIHTDqmtpbGl5w6puIENsb3VkZmxhcmUgw7sgdMOqa2lsaXnDqm4gdMOqa2lsaXlhbiBqaSBiaWzDriB3w6ogaGV5ZSAoaGVyIHRpxZ90IGppIGFya2HFn8OqISkKLy8gQGRlc2NyaXB0aW9uOmt5ICAgICAgKtCQ0JrQq9Cg0JrQq9Cb0KvQmtCi0JDQnSogQ2hhdEdQVCDRgdC10YHRgdC40Y/Qu9Cw0YDRi9C9INC20LDSo9GL0YDRgtGL0L8sINGC0YPRgNGD0LrRgtGD0YMg0YLSr9C30LzTqdC60YLTqdCz06kg0YfQtdGC0YLQtSDQutCw0YLQsNCw0LvQsNGA0LTRiyDQttCw0L3QsCBDbG91ZGZsYXJlINGC0LXQutGI0LXRgNKv0q/Qu9Op0YDSr9C9INC20L7QuiDQutC+0L7QvdC00YPRgNGD0L8gKNCx0LDQsNGA0YvQvSDQsNGA0LrQsNC00LDQvSEpCi8vIEBkZXNjcmlwdGlvbjpsYSAgICAgICpUVVRBKiBDaGF0R1BUIHNlc3Npb25lcyByZWNlbnRlcyBjb25zZXJ2YXQsIGVycm9yZXMgcGVyZW5uaWJ1cyByZXRpcyBldCBDbG91ZGZsYXJlIGluc3BlY3Rpb25lcyBlbGltaW5hbnMgKG9tbmlhIGUgZnVuZG8hKQovLyBAZGVzY3JpcHRpb246bGIgICAgICAqU0lJQ0hFUiogaGFsdCBDaGF0R1BULVNlc3Npb25zIGZyw6tzY2gsIGTDq3N0ZHVlcmNoIGRhdWVyaGFmdCBOZXR6d2llcmRlciBhbiBDbG91ZGZsYXJlIENoZWNrcyB6J2Vyb2YgemUgaHVlbGVuIChhbGwgZGF0IHZ1bSBIYW5uZXJncm9uZCEpCi8vIEBkZXNjcmlwdGlvbjpsbyAgICAgICrgupTgurHgupTguqrgurDgupngurHgu4jguocqIOC6quC6u+C6muC6nOC6u+C6meC6geC6suC6mSBDaGF0R1BUIOC6m+C6u+C6lOC6geC6sOC6l+C6u+C6muC7gOC6nuC6t+C7iOC6reC6quC6sOC6q+C6vOC6seC6muC6l+C6teC7iOC6quC6sOC6q+C6meC6reC6hywg4Lql4Lq24Lqa4LqC4LuN4LuJ4Lqc4Lq04LqU4Lqe4Lqy4LqU4LuA4LqE4Lq34LuI4Lqt4LqH4Lud4Lqy4LqN4LuA4LqK4Lq14LuI4LqH4LuC4Lqe4LqU4LuB4Lql4Lqw4LqB4Lqy4LqZ4LqB4Lqn4LqUIENsb3VkZmxhcmUgKOC6l+C6seC6h+C6q+C6oeC6u+C6lOC6iOC6suC6geC6nuC6p+C6geC6q+C6oeC6suC6jSEpCi8vIEBkZXNjcmlwdGlvbjpsdCAgICAgICpTQVVHSUFJKiBpxaFsYWlrbyBDaGF0R1BUIHNlc2lqYXMgxaF2aWXFvmlhcywgcGHFoWFsaW5kYW1hcyBudW9sYXRpbml1cyB0aW5rbG8ga2xhaWRhcyBpciBDbG91ZGZsYXJlIHBhdGlrcmluaW11cyAodmlza8SFIGnFoSBmb25vISkKLy8gQGRlc2NyaXB0aW9uOmx2ICAgICAgKkRST8WgSSogdXp0dXIgQ2hhdEdQVCBzZXNpamFzIHN2YWlnYXMsIGl6c2zEk2R6b3QgcGFzdMSBdsSrZ2FzIHTEq2tsYSBrxLzFq2RhcyB1biBDbG91ZGZsYXJlIHDEgXJiYXVkZXMgKHZpc3Mgbm8gZm9uYSEpCi8vIEBkZXNjcmlwdGlvbjptZyAgICAgICpNSUFORFJZIEFSQS1LSVJBKiBtYW5hbWFmeSBueSBzZXNpbnkgQ2hhdEdQVCwgbWFub2xvYW5hIG55IGRpc28gYW1pbidueSB0YW1iYWpvdHJhIHN5IG55IGZhbmFtYXJpbmFuYSBhbmF0eSBDbG91ZGZsYXJlIChyZWhldHJhIGF2eSBhbWluJ255IGVueSBhbWluJ255IGhhem9maWphbGlhbmEhKQovLyBAZGVzY3JpcHRpb246bWkgICAgICAqS0FJUkFOR0EgS0kgVEUgV0hBS0FUSUtBKiBlIHRpYWtpbmEgYW5hIGUgdGUgQ2hhdEdQVCBuZ2EgaHVpbmdhLCBlIHdoYWtha29yZSBhbmEgaSBuZ2EgaGFwYSB3aGF0dW5nYSBrb3JldXR1ICsgbmdhIHdoYWthbWF0YXV0YXUgQ2xvdWRmbGFyZSAoa2F0b2EgbWFpIGkgdGUgdGFoYSEpCi8vIEBkZXNjcmlwdGlvbjptayAgICAgICrQkdCV0JfQkdCV0JTQndCeKiDQs9C4INC30LDQtNGA0LbRg9Cy0LAgQ2hhdEdQVCDRgdC10YHQuNC40YLQtSDRgdCy0LXQttC4LCDQuCDQs9C4INC+0YLRgdGC0YDQsNC90YPQstCwINC60L7QvdGB0YLQsNC90YLQvdC40YLQtSDQvNGA0LXQttC90Lgg0LPRgNC10YjQutC4INC4IENsb3VkZmxhcmUg0L/RgNC+0LLQtdGA0LrQuNGC0LUgKNGBw6gg0L7QtCDQv9C+0LfQsNC00LjQvdCwISkKLy8gQGRlc2NyaXB0aW9uOm1sICAgICAgKuC0uOC1geC0sOC0leC1jeC0t+C0v+C0pOC0ruC0vuC0r+C0vyogQ2hhdEdQVCDgtLjgtYbgtLfgtKjgtYHgtJXgtb4g4LSq4LWB4LSk4LWB4LSu4LSv4LS/4LSV4LWN4LSV4LWB4LSo4LWN4LSo4LWBLCDgtLjgtY3gtKXgtL/gtLDgtK7gtL7gtK8g4LSo4LWG4LSx4LWN4LSx4LWNIOC0teC1vOC0leC1jeC0leC1jSDgtKrgtL/gtLbgtJXgtYHgtJXgtb4gKyBDbG91ZGZsYXJlIOC0quC0sOC0v+C0tuC1i+C0p+C0qOC0leC1viDgtKjgtYDgtJXgtY3gtJXgtYHgtKjgtY3gtKjgtYEgKOC0juC0suC1jeC0suC0vuC0giDgtKrgtL/gtKjgtY3gtKTgtYHgtKPgtK/gtY3gtJXgtY3gtJXgtYHgtKjgtY3gtKjgtKTgtY0hKQovLyBAZGVzY3JpcHRpb246bW4gICAgICAq0JHQkNCZ0J3Qk9CQ0KjQmNCdKiBDaGF0R1BUINGB0LXRgdGB0LjQudCzINCw0L3RhdC90Ysg0LHQsNC50YXQsNCw0YAg0LDQstCw0YUsINGB0q/Qu9C20Y3RjdC90LjQuSDQsNC70LTQsNCw0LMg0YXQsNGB0LDRhSArIENsb3VkZmxhcmUg0YjQsNC70LPRg9GD0YDQvdGD0YPQtNGL0LMgKNCx0q/RhdC40Lkg0Lsg0LTRjdC70YXQuNC50LPRjdGN0YEhKQovLyBAZGVzY3JpcHRpb246bXMgICAgICAqREVOR0FOIFNFTEFNQVQqIG1lbmdla2Fsa2FuIHNlc2kgQ2hhdEdQVCB5YW5nIHNlZ2FyLCBtZW5naGFwdXNrYW4gcmFsYXQgcmFuZ2thaWFuIHlhbmcgYmVydGVydXNhbiArIHBlbWVyaWtzYWFuIENsb3VkZmxhcmUgKHNlbXVhbnlhIGRhcmkgbGF0YXIgYmVsYWthbmchKQovLyBAZGVzY3JpcHRpb246bXQgICAgICAqQidKSU5OQVIqIGrFvG9tbSBpcy1zZXNzam9uaWppZXQgQ2hhdEdQVCBmcmlza2ksIGplbGltaW5hdyBsLcSnc2FyYXQga29zdGFudGkgdGFsLW5ldHdlcmsgKyBpbC1rb250cm9sbGkgQ2xvdWRmbGFyZSAoa29sbGhhIG1pbm4gd2FyYSBsLWtheHhhISkKLy8gQGRlc2NyaXB0aW9uOm15ICAgICAgKuGAnOGAr+GAtuGAuOGAnSogQ2hhdEdQVCDhgIXhgIDhgKzhgLjhgJnhgLvhgKzhgLjhgIDhgK3hgK8g4YCh4YCb4YCZ4YC64YC44YCA4YCt4YCv4YCE4YC64YC44YCF4YC94YCs4YCR4YCv4YCQ4YC64YCc4YCv4YCV4YC64YCU4YCt4YCv4YCE4YC64YCe4YCK4YC6LCDhgKHhgJnhgLzhgLLhgJDhgJnhgLrhgLjhgJDhgK3hgK/hgLfhgIDhgK3hgK8g4YCZ4YC+4YCQ4YC64YCe4YCs4YC44YCF4YC94YCs4YCA4YCt4YCv4YCE4YC64YCU4YCt4YCv4YCE4YC64YCe4YCK4YC64YCZ4YC+4YCs4YCW4YC84YCF4YC6ICjhgJHhgK3hgK/hgIThgLrhgJThgLHhgJvhgKzhgJnhgL7hgKzhgKHhgJzhgL3hgJThgLrhgKHhgJ7hgJDhgLrhgJnhgLvhgKzhgLjhgJDhgK3hgK/hgIDhgLohKQovLyBAZGVzY3JpcHRpb246bmUgICAgICAq4KS44KWB4KSw4KSV4KWN4KS34KS/4KSkIOCksOClguCkquCkruCkviogQ2hhdEdQVCDgpLjgpKTgpY3gpLDgpLngpLDgpYLgpLLgpL7gpIgg4KSk4KS+4KSc4KS+IOCksOCkvuCkluCljeCkmywg4KS44KSe4KWN4KSa4KS+4KSy4KSo4KSu4KS+IOCkl+CkpOCkv+CktuClgOCksiDgpKjgpYfgpJ/gpLXgpLDgpY3gpJUg4KSk4KWN4KSw4KWB4KSf4KS/4KS54KSw4KWCICsgQ2xvdWRmbGFyZSDgpJzgpL7gpIHgpJrgpLngpLDgpYLgpLLgpL7gpIgg4KSo4KS/4KSV4KS+4KSy4KWN4KSbICjgpLjgpKzgpYgg4KSq4KSb4KS+4KSh4KS/ISkKLy8gQGRlc2NyaXB0aW9uOm5sICAgICAgKlZFSUxJRyogaG91ZHQgQ2hhdEdQVC1zZXNzaWVzIGZyaXMsIGVsaW1pbmVlcnQgY29uc3RhbnRlIG5ldHdlcmtmb3V0ZW4gKyBDbG91ZGZsYXJlLWNvbnRyb2xlcyAoYWxsZW1hYWwgb3AgZGUgYWNodGVyZ3JvbmQhKQovLyBAZGVzY3JpcHRpb246bm8gICAgICAqU0lLS0VSVCogaG9sZGVyIENoYXRHUFQtw7hrdGVyIGZyaXNrZSwgZWxpbWluZXJlciBrb25zdGFudGUgbmV0dHZlcmtzZmVpbCArIENsb3VkZmxhcmUtc2pla2tlciAoYWx0IGkgYmFrZ3J1bm5lbiEpCi8vIEBkZXNjcmlwdGlvbjpueSAgICAgICpORElXT1lJTUlMSVJFTkkqIHlhdHNpa2lyYSBtYXlpa28gYSBDaGF0R1BUIHlvbnNlLCB5b3N1bmdhIG1hZmF5aWxvIG9wYW5kYSBudGNoaXRvIG0nbXR1bmR1IHdhIGludGFuZXRpICsgbWFmdW5zbyBhIENsb3VkZmxhcmUgKHplZGkgem9uc2Uga3VtdHVuZHUgd29zYXRoYSEpCi8vIEBkZXNjcmlwdGlvbjpwYSAgICAgICrgqLjgqYHgqLDgqbHgqJbgqL/gqIXgqKQg4Kik4Kiw4KmA4KiV4KmHIOCoqOCovuCosiogQ2hhdEdQVCDgqLjgqYjgqLjgqLzgqKjgqL7gqIIg4Kio4KmC4KmwIOCopOCovuConOCol+CpgCDgqKzgqJbgqLzgqLbgqKbgqL4g4Ki54KmILCDgqLLgqJfgqL7gqKTgqL7gqLAg4Kio4KmI4Kmx4Kif4Ki14Kiw4KiVIOCol+CosuCopOCpgOCohuCogiArIENsb3VkZmxhcmUg4Kic4Ki+4KiC4Kia4Ki+4KiCIOCoqOCpguCpsCDgqK7gqL/gqJ/gqL7gqIngqILgqKbgqL4g4Ki54KmIICjgqLjgqK0g4Kiq4Ki/4Kmx4Kib4KmL4KiCIOCopuCpi+ColuCovOCphyEpCi8vIEBkZXNjcmlwdGlvbjpwYXAgICAgICAqU0VHVVJPKiB0YSBtYW50ZW5lIHNlc2lvbm5hbiBkaSBDaGF0R1BUIGZyZXNrdSwgZWxpbWluYW5kbyBlcm9ybmFuIGRpIHJlZCBrb25zdGFudGUgKyBrb250cm9sbmFuIGRpIENsb3VkZmxhcmUgKHR1ciBmb3IgZGkgdHJhcyBkaSBmb25kdSEpCi8vIEBkZXNjcmlwdGlvbjpwbCAgICAgICpCRVpQSUVDWk5JRSogdXRyenltdWplIMWbd2llxbxvxZvEhyBzZXNqaSBDaGF0R1BULCBlbGltaW51asSFYyBzdGHFgmUgYsWCxJlkeSBzaWVjaW93ZSArIGtvbnRyb2xlIENsb3VkZmxhcmUgKHdzenlzdGtvIHogdMWCYSEpCi8vIEBkZXNjcmlwdGlvbjpwcyAgICAgICrYryDYqtmI2LHZiNmEKiBDaGF0R1BUINivINiz24zYtNmG2YjZhtmHINix2KfaqdqTINqp2YjZitiMINivINqr2bzZiNix25Ag2YXYsdiz2KrbkCDYtNmI2Yog2KfZhtm82LHZhtuM2bwg2KfYtNiq2KjYp9mH2YjZhtmHICsg2K8gQ2xvdWRmbGFyZSDahdm82qnZiiAo2bzZiNmEINivINm+2LPZiNmG2K8g2b7ZhyDZvtqa2KrZiCDYryDahdm82qnZiiEpCi8vIEBkZXNjcmlwdGlvbjpwdCAgICAgICpDT00gU0VHVVJBTsOHQSogbWFudMOpbSBhcyBzZXNzw7VlcyBkbyBDaGF0R1BUIGF0dWFsaXphZGFzLCBlbGltaW5hbmRvIGVycm9zIGNvbnN0YW50ZXMgZGUgcmVkZSArIHZlcmlmaWNhw6fDtWVzIGRvIENsb3VkZmxhcmUgKHR1ZG8gZW0gc2VndW5kbyBwbGFubyEpCi8vIEBkZXNjcmlwdGlvbjpwdC1CUiAgICpDT00gU0VHVVJBTsOHQSogbWFudMOpbSBhcyBzZXNzw7VlcyBkbyBDaGF0R1BUIGF0dWFsaXphZGFzLCBlbGltaW5hbmRvIGVycm9zIGNvbnN0YW50ZXMgZGUgcmVkZSArIHZlcmlmaWNhw6fDtWVzIGRvIENsb3VkZmxhcmUgKHR1ZG8gZW0gc2VndW5kbyBwbGFubyEpCi8vIEBkZXNjcmlwdGlvbjpybiAgICAgICpVQlVISU5aSSogYnVzaW1idXJhIGliaWphbnllIG4nYW1hc2Vzc3lvbmkgemEgQ2hhdEdQVCwgYXppcmEgaW55b25nZXJhbXVzYXJ1cm8geid1bXVob3JvICsgaWJpa29yd2EgYnlhIENsb3VkZmxhcmUgKGJ5b3NlIGJpbnl1cmFueWUgbidpam9ybyEpCi8vIEBkZXNjcmlwdGlvbjpybyAgICAgICrDjk4gU0lHVVJBTsiaxIIqIG1lbsibaW5lIHNlc2l1bmlsZSBDaGF0R1BUIHByb2FzcGV0ZSwgZWxpbWluw6JuZCBlcm9yaSBjb25zdGFudGUgZGUgcmXIm2VhICsgdmVyaWZpY8SDcmkgQ2xvdWRmbGFyZSAodG9hdGUgw65uIGZ1bmRhbCEpCi8vIEBkZXNjcmlwdGlvbjpydSAgICAgICrQkdCV0JfQntCf0JDQodCd0J4qINGB0L7RhdGA0LDQvdGP0LXRgiDQsNC60YLRg9Cw0LvRjNC90L7RgdGC0Ywg0YHQtdCw0L3RgdC+0LIgQ2hhdEdQVCwg0YPRgdGC0YDQsNC90Y/QtdGCINC/0L7RgdGC0L7Rj9C90L3Ri9C1INC+0YjQuNCx0LrQuCDRgdC10YLQuCArINC/0YDQvtCy0LXRgNC60LggQ2xvdWRmbGFyZSAo0LLRgdC1INC40Lcg0YTQvtC90LAhKQovLyBAZGVzY3JpcHRpb246cncgICAgICAqTVUgQlVOWUFNSU5FKiB5YXRlZ2VyZXphIGliaWphbnllIG4nYW1hc29tbyB5YSBDaGF0R1BULCB5YWtvcmVzaGVqZSBhbWFrb3NhIHknaWdpa29yZXNobyArIGlrYXJhbmdvendhIHJ5J3VtdWhhdG8gd2EgQ2xvdWRmbGFyZSAoYnlvc2UgbXUgbmRhbmdvISkKLy8gQGRlc2NyaXB0aW9uOnNnICAgICAgKlPhurhOSU1FVCogc2lpbWFzaSBsYcOww61yw6wgasmZYmLJmXLJmS1qyZliYsmZcsmZIENoYXRHUFQsIGFsdSDFhMWEw7psw6ggecOsw61ow6Buw6wgasOsdMOscsOybMOyIGbhurlm4bq5IGvDoG4gbsOtIMOsdMOsasO6IGLDrSDhu43MgG7DoCArIMOgdMOyauG7jSDDrGdiw6Agw6Brw7Niw60gecOsw60gKGdib2dibyBmw7puIOG7jXfhu40hKQovLyBAZGVzY3JpcHRpb246c2kgICAgICAq4LaG4La74Laa4LeK4LeC4Laa4La64LeZ4Lax4LeKKiBDaGF0R1BUIOC3g+C3kOC3g+C3kuC2uuC2seC3iiDgtrHgt5zgtrvgt5Lgt4Dgtqfgt4Dgt5Yg4Laa4LeP4La94LeT4Lax4LeA4LeP4Lav4LeTLCDgtrHgt5Lgtrvgt4rgtrjgt4/gtqvgt4Dgtprgt4rigI3gtrrgt48g4La24Lec4LeE4LedIOC2ouC3k+C3gOC3kuC2rSDgtq/gt53gt4Ig4LaJ4LeA4Lat4LeKIOC2muC2u+C2uuC3kiArIENsb3VkZmxhcmUg4La04La74LeT4Laa4LeK4LeC4LaaIOC2tOC2u+C3k+C2muC3iuC3guC2muC2uuC3kiAo4LeD4LeS4La64LeF4LeU4La4IOC2tOC3g+C3lOC3gOC3meC2seC3kiEpCi8vIEBkZXNjcmlwdGlvbjpzayAgICAgICpCRVpQRcSMTkUqIHVkcsW+aWF2YSBDaGF0R1BUIHJlbMOhY2llIMSNZXJzdHbDqSwgZWxpbWludWplIGtvbsWhdGFudG7DqSBzaWXFpW92w6kgY2h5YnkgKyBDbG91ZGZsYXJlIGtvbnRyb2x5ICh2xaFldGtvIHpvIHBvemFkaWEhKQovLyBAZGVzY3JpcHRpb246c2wgICAgICAqVkFSTk9TVE5PKiBvaHJhbmphIHN2ZcW+ZSBzZWplIENoYXRHUFQsIG9kcHJhdmxqYSBzdGFsbmUgbmFwYWtlIHYgb21yZcW+anUgKyBwcmV2ZXJqYW5qYSBDbG91ZGZsYXJlICh2c2UgaXogb3phZGphISkKLy8gQGRlc2NyaXB0aW9uOnNtICAgICAgKlNBRkVMWSogZmHKu2FwZWEgaSBhaSBsZSB0dXNpIHR1c2l0dXNpIG8gbGUgQ2hhdEdQVCwgZmHKu2F0Zcq7aWxhaW5hIGZhdXR1YWdhIGEgbGUgdHVsYWdhIGUgbGXKu2kgZmHKu2FpZ29haW5hIGkgbGUgdGFpbWkgbmVpICsgdHVsYWZvbm8gYSBsZSBDbG91ZGZsYXJlICh1bWEgbWFpIGxlIHRhZmHKu2lsYWdpISkKLy8gQGRlc2NyaXB0aW9uOnNuICAgICAgKk5FS1VUQU1CQSoga3VnYWR6aXJhIHNlc2kgenZlQ2hhdEdQVCBmcmVzaCwga3VueWFuZ2Fkem9yYSBrdXNheml2YSBrd2V2aGFuaHUgKyBrdXBpbmR1cmEgQ2xvdWRmbGFyZSAoenZlc2UgcGFrdWdhZHppcmlkendhISkKLy8gQGRlc2NyaXB0aW9uOnNvICAgICAgKktVIEdVVUxFRVlTVE8qIHd1eHV1IGFidXVyZWVuIHNlc3Npb25zIENoYXRHUFQgY3VzdWIsIGthIHNhYXJheSBqaWxheWFhc2hhIHNoYWJha2FkZGEgcWFsYWQgYWggKyBkaWItdS1mdXJpZGthIENsb3VkZmxhcmUgKGRoYW1hYW4ga3UgZGhleCBqaXJhISkKLy8gQGRlc2NyaXB0aW9uOnNyICAgICAgKkJFWkJFRE5PKiBvZHLFvmF2YSBzdmXFvmUgQ2hhdEdQVCBzZXNpamUsIGVsaW1pbmnFoWUga29uc3RhbnRuZSBtcmXFvm5lIGdyZcWha2UgKyBDbG91ZGZsYXJlIHByb3ZlcmUgKHN2ZSBpeiBwb3phZGluZSEpCi8vIEBkZXNjcmlwdGlvbjpzdiAgICAgICpTw4RLRVJUKiBow6VsbGVyIENoYXRHUFQtc2Vzc2lvbmVyIGZyw6RzY2hhLCBlbGltaW5lcmFyIGtvbnN0YW50YSBuw6R0dmVya3NmZWwgKyBDbG91ZGZsYXJlLWtvbnRyb2xsZXIgKGFsbHQgaSBiYWtncnVuZGVuISkKLy8gQGRlc2NyaXB0aW9uOnN3ICAgICAgKktXQSBVU0FXQSogaW5haGlmYWRoaSB2aWthbyB2eWEgQ2hhdEdQVCB2aWtpd2Egc2FmaSwgaW5hb25kb2EgbWFrb3NhIHlhIG10YW5kYW8geWEgbWFyYSBrd2EgbWFyYSArIHVjaHVuZ3V6aSB3YSBDbG91ZGZsYXJlICh5b3RlIGt1dG9rYSBueXVtYSEpCi8vIEBkZXNjcmlwdGlvbjp0YSAgICAgICrgrqrgrr7grqTgr4HgrpXgrr7grqrgr43grqrgrr7grpUqIENoYXRHUFQg4K6F4K6u4K6w4K+N4K614K+I4K6q4K+NIOCuquCuvuCupOCvgeCuleCuvuCuleCvjeCuleCvgeCuleCuv+CuqeCvjeCuseCupOCvgSwg4K6k4K6+4K6p4K6+4K6V4K614K+HIOCuquCuv+CutOCviOCuleCus+CviCDgrqjgr4fgrrDgrp/grr/grq/grr7grpUg4K6q4K+L4K6V4K+N4K6V4K+B4K6V4K6/4K6p4K+N4K6x4K6k4K+BICsgQ2xvdWRmbGFyZSDgrprgr4vgrqTgrqngr4jgrpXgrrPgr4ggKOCuheCuqeCviOCupOCvjeCupOCvgeCuruCvjSDgrqrgrr/grqngr43grqngrrDgr40hKQovLyBAZGVzY3JpcHRpb246dGUgICAgICAq4LCG4LCC4LCk4LCw4LC14LC/4LCn4LC/4LCkKiDgsKrgsY3gsLDgsKTgsL/gsKrgsL7gsKbgsL/gsILgsJrgsYfgsILgsKbgsYHgsJXgsYEgQ2hhdEdQVCDgsLjgsYbgsLfgsKjgsY3igIzgsLLgsKjgsYEg4LCk4LC+4LCc4LC+4LCX4LC+IOCwieCwguCwmuCxgeCwpOCxgeCwguCwpuCwvywg4LCo4LGG4LCf4LGN4oCM4LC14LCw4LGN4LCV4LGNIOCwsuCxi+CwquCwvuCwsuCwqOCxgSArIENsb3VkZmxhcmUg4LCq4LCw4LGA4LCV4LGN4LC34LCy4LCo4LGBIOCwpOCxiuCwsuCwl+Cwv+CwuOCxjeCwpOCxgeCwguCwpuCwvyAo4LCF4LCo4LGN4LCo4LC/4LCC4LCf4LC/4LCo4LGAIOCwqOCxh+CwquCwpeCxjeCwr+CwguCwsuCxiyEpCi8vIEBkZXNjcmlwdGlvbjp0ZyAgICAgICrQkdCe0JTQmNCU0JDQoCog0YHQtdGB0LjRj9Kz0L7QuCBDaGF0R1BULdGA0L4g0YLQvtC30LAg0LzQtdC00L7RgNCw0LQsINGF0LDRgtC+0rPQvtC4INC/0L7Rh9GC0LDQuCDQv9Cw0LnQstCw0YHRgtCw0LPQuNC4INGC0LDQvdCw0YTRhNGD0YHQsNC90LTQsCArINGC0LXQutGI0LjRgNC40YjSs9C+0LggQ2xvdWRmbGFyZSAo0rPQsNC80LDQuCDQvNCw0L3Qt9Cw0YDQviDQsNC3INC/0LjRgdCw0YAhKQovLyBAZGVzY3JpcHRpb246dGggICAgICAq4Lit4Lii4LmI4Liy4LiH4Lib4Lil4Lit4LiU4Lig4Lix4LiiKiDguKPguLHguIHguKnguLLguYDguIvguKrguIrguLHguJkgQ2hhdEdQVCDguYPguKvguYnguYDguJvguYfguJnguKPguLjguYjguJnguKXguYjguLLguKrguLjguJQg4Lib4LmJ4Lit4LiH4LiB4Lix4LiZ4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LmD4LiZ4LmA4LiE4Lij4Li34Lit4LiC4LmI4Liy4Lii4LiV4Lil4Lit4LiU4LmA4Lin4Lil4LiyICsg4LiV4Lij4Lin4LiI4Liq4Lit4LiaIENsb3VkZmxhcmUgKOC4l+C4seC5ieC4h+C4q+C4oeC4lOC4iOC4suC4geC4nuC4t+C5ieC4meC4q+C4peC4seC4hyEpCi8vIEBkZXNjcmlwdGlvbjp0aSAgICAgICrhipPhi60g4Ym14YqV4Yi9IOGLjeGIjeGMpSog4Yut4Yyg4Ymg4YmD4YiNIENoYXRHUFQg4Yiw4Yib4YuV4Ymz4Ym1IOGMpeGIq+GIlSDhiqPhiaXhi5og4YiT4YuwIOGLteGIneGNguGIjeGKqyArIENsb3VkZmxhcmUg4YyN4YiN4Ymj4YiN4Yqr4YuKIOGImOGIsOGIquGLq+GLjuGJtSAo4YiT4Yu14Yi9ISkKLy8gQGRlc2NyaXB0aW9uOnRrICAgICAgKkfDnFdBR8OWUiogQ2hhdEdQVCBiYcO9cmFtbHksIHTDpHplZGVuZXQgaGF0YXN5bmRhbiArIENsb3VkZmxhcmUgYmFybGFtYSBrb250cm9sw7xuaSBhw715csO9YXIgKMOkaGxpc2luZMOkbiEpCi8vIEBkZXNjcmlwdGlvbjp0biAgICAgICpLQSBOQUtBTk5BKiBrdWJla2EgaXppbnN1a3Ugem9idWRsZWx3YW5vIGJlLUNoYXRHUFQgZXppbnFlLCBpYnV5aXNlbGEgYW1hcGh1dGhhIHdva3VzZXNoYSBpLUNsb3VkZmxhcmUgKGtvbmtlIGt1c3VrYSBlbXBoZXBoYW5kYWJlbmkhKQovLyBAZGVzY3JpcHRpb246dG8gICAgICAqRkFJTkdBTUFMSUUqIG5hdSBmYWthdHVwdSBlIG5nYWFoaSBoYXVzaSBGYWxlbG90dSAnb2UgQ2hhdEdQVCwgbmdhdWUnYWtpIGUgbmdvdWVrZSBzacq7aXNpyrtpIG5ldGl1dGVraSArIG5nYWFoaSB2YXZla2FwYWtpbG9sbyAnbyBlIENsb3VkZmxhcmUgKGtvdG9hICdpIGhlIHRlZml0byEnKQovLyBAZGVzY3JpcHRpb246dHBpICAgICAqU0FGRUxZKiBpZXQgaSBrYW1hcGltIENoYXRHUFQgc2VzZW4gYmlsb25nIHRhaW0sIGVtIGkgaGVscGltIGxvbmcgcHVuZGF1bmltIG5ldHdvayBlcnJvciArIGthbGFtYXBpbSBsb25nIENsb3VkZmxhcmUgKG9sc2VtIG9saSBrYW1hcCBsb25nIGJla2dyYW9uISkKLy8gQGRlc2NyaXB0aW9uOnRyICAgICAgKkfDnFZFTkzEsCBCxLBSIMWeRUvEsExERSogQ2hhdEdQVCBvdHVydW1sYXLEsW7EsSB0YXplIHR1dGFyYWsgc8O8cmVrbGkgYcSfIGhhdGFsYXLEsW7EsSB2ZSBDbG91ZGZsYXJlIGtvbnRyb2xsZXJpbmkgb3J0YWRhbiBrYWxkxLFyxLFyIChoZXBzaSBhcmthIHBsYW5kYSEpCi8vIEBkZXNjcmlwdGlvbjp1ayAgICAgICrQkdCV0JfQn9CV0JrQntCS0J4qINC30LHQtdGA0ZbQs9Cw0ZQg0LDQutGC0YPQsNC70YzQvdGW0YHRgtGMINGB0LXQsNC90YHRltCyIENoYXRHUFQsINGD0YHRg9Cy0LDRlCDQv9C+0YHRgtGW0LnQvdGWINC80LXRgNC10LbQtdCy0ZYg0L/QvtC80LjQu9C60LggKyDQv9C10YDQtdCy0ZbRgNC60LggQ2xvdWRmbGFyZSAo0LLRgdC1INC3INGE0L7QvdGDISkKLy8gQGRlc2NyaXB0aW9uOnVyICAgICAgKtiu2YjYtNit2KfZhNuMINiz25IqIENoYXRHUFQg2LPbjNi02YbYsiDaqdmIINiq2KfYstuBINix2qnavtiq2Kcg24HbkiDYjCDZhdiz2KrZgtmEINmG24zZuSDZiNix2qkg2K7Ysdin2KjbjNmI2rogKyDaqdmE2KfaiCDZgdmE24zYsSDaqduMINqG24zaqdizINqp2Ygg2K7YqtmFINqp2LHYqtinINuB25IgKNiz2Kgg2qnahtq+INm+2LMg2YXZhti42LEg2LPbkiEpCi8vIEBkZXNjcmlwdGlvbjp1eiAgICAgICpYQVZGU0laKiBDaGF0R1BUIHNlc3NpeWFsYXJpbmkgeWFuZ2kgdHV0c2EsIGRvaW1peSB0YXJtb3EgeGF0b2xpa2xhcmluaSArIENsb3VkZmxhcmUgdGVrc2hpcnV2bGFyaW5pIGJhcnRhcmFmIHFpbGFkaSAoaGFtbWFzaSBvcnFhc2lkYW4hKQovLyBAZGVzY3JpcHRpb246dmkgICAgICAqQU4gVE/DgE4qIGdp4buvIGNobyBjw6FjIHBoacOqbiBDaGF0R1BUIGx1w7RuIHTGsMahaSBt4bubaSwgbG/huqFpIGLhu48gbOG7l2kgbeG6oW5nIGxpw6puIHThu6VjICsga2nhu4NtIHRyYSBDbG91ZGZsYXJlICh04bqldCBj4bqjIHThu6sgcGjDrWEgbuG7gW4hKQovLyBAZGVzY3JpcHRpb246eGggICAgICAqTkdPWE9MTyogaXppbXZvIHpvY2luZ28gemV6aWNoYXRHUFQgemluZ2F0aHVueWVsd2EsIHppa2hhbmppc3dhIGltaWtob21iYSB5ZXplbmtvbG8gZW5nYWthemUga3Vzd2VsYSArIHVrdWhsb2xhIGthLUNsb3VkZmxhcmUgKGtvbmtlIGt1c2FwaGVsZW5lISkKLy8gQGRlc2NyaXB0aW9uOnlpICAgICAgKtek1r/XkNa316gg15bXmdeb16LXqNeU15nXmdeYKiDXlNei15zXmCDXk9eZIENoYXRHUFQg16HXoteh15nXotehINek1r/XqNeZ16ksINeQ1rfXnNeZ157Xmdeg15DWt9eY15nXoNeSINen15DWuNeg16HXmNeQ1rfXoNeYINeg16LXmNeV15XXkNa416jXpyDXpNa/16LXlNec16LXqCArINen15zXkNa315XXk9ek1r/XnNeQ1rfXqNeiINen15DWuNeg15jXqNeQ1rjXnNefICjXkNa315zXoiDXpNa/15XXnyDXk9eZINen16LXqdei16DXotefISkKLy8gQGRlc2NyaXB0aW9uOnpoICAgICAgKuWuieWFqOWcsCog5L+d5oyBIENoYXRHUFQg5Lya6K+d5paw6bKc77yM5raI6Zmk5oyB57ut55qE572R57uc6ZSZ6K+vICsgQ2xvdWRmbGFyZSDmo4Dmn6XvvIjlhajpg6jmnaXoh6rlkI7lj7DvvIHvvIkKLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAgKuWuieWFqOWcsCog5L+d5oyBIENoYXRHUFQg5Lya6K+d5paw6bKc77yM5raI6Zmk5oyB57ut55qE572R57uc6ZSZ6K+vICsgQ2xvdWRmbGFyZSDmo4Dmn6XvvIjlhajpg6jmnaXoh6rlkI7lj7DvvIHvvIkKLy8gQGRlc2NyaXB0aW9uOnpoLUhLICAgKuWuieWFqOWcsCog5L+d5oyBIENoYXRHUFQg5pyD6Kmx5paw6a6u77yM5raI6Zmk5oyB57qM55qE57ay57Wh6Yyv6KqkICsgQ2xvdWRmbGFyZSDmqqLmn6XvvIjlhajpg6jkvoboh6rog4zmma/vvIHvvIkKLy8gQGRlc2NyaXB0aW9uOnpoLVNHICAgKuWuieWFqOWcsCog5L+d5oyBIENoYXRHUFQg5Lya6K+d5paw6bKc77yM5raI6Zmk5oyB57ut55qE572R57uc6ZSZ6K+vICsgQ2xvdWRmbGFyZSDmo4Dmn6XvvIjlhajpg6jmnaXoh6rlkI7lj7DvvIHvvIkKLy8gQGRlc2NyaXB0aW9uOnpoLVRXICAgKuWuieWFqOWcsCog5L+d5oyBIENoYXRHUFQg5pyD6Kmx5paw6a6u77yM5raI6Zmk5oyB57qM55qE57ay57Wh6Yyv6KqkICsgQ2xvdWRmbGFyZSDmqqLmn6XvvIjlhajpg6jkvoboh6rog4zmma/vvIHvvIkKLy8gQGRlc2NyaXB0aW9uOnp1ICAgICAgKk5HT0tVUUlOSVNFS0lMRSogaXlpIHBocm9mYXlpbGkgaXlhbmdlbmlzYSBpemluaGxlbG8gemUtQ2hhdEdQVCB6aWJlIHppbWhsb3BoZSwgaWJ1bGFsYSBpemlwaHV0aGEgem9tcW9uZG8gb2hsd2luaSArIGl6aW5neGVueWUgemlrYS1DbG91ZGZsYXJlICh6aW1obG9waGUgc29ua2UhKQovLyBAYXV0aG9yICAgICAgICAgICAgICBBZGFtIEx1aQovLyBAbmFtZXNwYWNlICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYWRhbWx1aQovLyBAdmVyc2lvbiAgICAgICAgICAgICAyMDIzLjguNAovLyBAbGljZW5zZSAgICAgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICAgICAgaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vKgovLyBAY29tcGF0aWJsZSAgICAgICAgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICAgICAgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICAgICAgICBlZGdlCi8vIEBjb21wYXRpYmxlICAgICAgICAgIG9wZXJhCi8vIEBjb21wYXRpYmxlICAgICAgICAgIGJyYXZlCi8vIEBjb21wYXRpYmxlICAgICAgICAgIHZpdmFsZGkKLy8gQGNvbXBhdGlibGUgICAgICAgICAgd2F0ZXJmb3gKLy8gQGNvbXBhdGlibGUgICAgICAgICAgbGlicmV3b2xmCi8vIEBjb21wYXRpYmxlICAgICAgICAgIGdob3N0Ci8vIEBjb21wYXRpYmxlICAgICAgICAgIHFxCi8vIEBpY29uICAgICAgICAgICAgICAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZGFtbHVpL3VzZXJzY3JpcHRzL21hc3Rlci9jaGF0Z3B0L21lZGlhL2ljb25zL29wZW5haS1mYXZpY29uNDgucG5nCi8vIEBpY29uNjQgICAgICAgICAgICAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZGFtbHVpL3VzZXJzY3JpcHRzL21hc3Rlci9jaGF0Z3B0L21lZGlhL2ljb25zL29wZW5haS1mYXZpY29uNjQucG5nCi8vIEByZXF1aXJlICAgICAgICAgICAgIGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9rdWRvYWkvY2hhdGdwdC5qc0AwY2NmYzllNmFjZmNjMjRmODY0YjIzMzE5OWY4MTEzMTZjZmNkMTM2L2Rpc3QvY2hhdGdwdC0yLjAuNi5taW4uanMKLy8gQGNvbm5lY3QgICAgICAgICAgICAgcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgICBncmVhc3lmb3JrLm9yZwovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQG5vZnJhbWVzCi8vIEBob21lcGFnZVVSTCAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGFtbHVpL2NoYXRncHQtYXV0by1yZWZyZXNoCi8vIEBzdXBwb3J0VVJMICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGFtbHVpL2NoYXRncHQtYXV0by1yZWZyZXNoL2lzc3VlcwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIE5PVEU6IFRoaXMgc2NyaXB0IHJlbGllcyBvbiB0aGUgcG93ZXJmdWwgY2hhdGdwdC5qcyBsaWJyYXJ5IEAgaHR0cHM6Ly9jaGF0Z3B0LmpzLm9yZyAoYykgMjAyMyBLdWRvQUkgJiBjb250cmlidXRvcnMgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgoKKGFzeW5jICgpID0+IHsKCiAgICAvLyBJbml0IGNvbmZpZwogICAgY29uc3QgY29uZmlnID0gewogICAgICAgIHByZWZpeDogJ2NoYXRncHRBdXRvUmVmcmVzaCcsIGFwcFN5bWJvbDogJ+KGuycsIHVzZXJMYW5ndWFnZTogY2hhdGdwdC5nZXRVc2VyTGFuZ3VhZ2UoKSwKICAgICAgICBnaXRIdWJVUkw6ICdodHRwczovL2dpdGh1Yi5jb20vYWRhbWx1aS9jaGF0Z3B0LWF1dG8tcmVmcmVzaCcsCiAgICAgICAgZ3JlYXN5Rm9ya1VSTDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80NjI0MjItY2hhdGdwdC1hdXRvLXJlZnJlc2gnIH0KICAgIGNvbmZpZy51cGRhdGVVUkwgPSBjb25maWcuZ3JlYXN5Rm9ya1VSTCArICcvY29kZS9zY3JpcHQubWV0YS5qcycKICAgIGNvbmZpZy5hc3NldEhvc3RVUkwgPSBjb25maWcuZ2l0SHViVVJMLnJlcGxhY2UoJ2dpdGh1Yi5jb20nLCAncmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbScpICsgJy9tYWluLycKICAgIGxvYWRTZXR0aW5nKCdhckRpc2FibGVkJywgJ2xhc3RDaGVja1RpbWUnLCAnbm90aWZIaWRkZW4nLCAncmVmcmVzaEludGVydmFsJywgJ3NraXBOZXh0VXBkYXRlJywgJ3NraXBwZWRWZXInLCAndG9nZ2xlSGlkZGVuJykKICAgIGlmICghY29uZmlnLnJlZnJlc2hJbnRlcnZhbCkgc2F2ZVNldHRpbmcoJ3JlZnJlc2hJbnRlcnZhbCcsIDMwKSAvLyBpbml0IHJlZnJlc2ggaW50ZXJ2YWwgdG8gMzAgc2VjcyBpZiB1bnNldAoKICAgIC8vIERlZmluZSBtZXNzYWdlcwogICAgY29uc3QgbXNnc0xvYWRlZCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGNvbnN0IG1zZ0hvc3REaXIgPSBjb25maWcuYXNzZXRIb3N0VVJMICsgJ2dyZWFzZW1vbmtleS9fbG9jYWxlcy8nCiAgICAgICAgY29uc3QgbXNnTG9jYWxlRGlyID0gKCBjb25maWcudXNlckxhbmd1YWdlID8gY29uZmlnLnVzZXJMYW5ndWFnZS5yZXBsYWNlKCctJywgJ18nKSA6ICdlbicgKSArICcvJwogICAgICAgIGxldCBtc2dIcmVmID0gbXNnSG9zdERpciArIG1zZ0xvY2FsZURpciArICdtZXNzYWdlcy5qc29uJywgbXNnWEhSdHJpZXMgPSAwCiAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmw6IG1zZ0hyZWYsIG9ubG9hZDogb25Mb2FkIH0pCiAgICAgICAgZnVuY3Rpb24gb25Mb2FkKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRyeSB7IC8vIHRvIHJldHVybiBsb2NhbGl6ZWQgbWVzc2FnZXMuanNvbgogICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBuZXcgUHJveHkoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkgeyAvLyByZW1vdmUgbmVlZCB0byByZWYgbmVzdGVkIGtleXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRbcHJvcF0gPT09ICdvYmplY3QnICYmIHRhcmdldFtwcm9wXSAhPT0gbnVsbCAmJiAnbWVzc2FnZScgaW4gdGFyZ2V0W3Byb3BdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdLm1lc3NhZ2UKICAgICAgICAgICAgICAgIH19fSkgOyByZXNvbHZlKG1lc3NhZ2VzKQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgeyAvLyBpZiA0MDQKICAgICAgICAgICAgICAgIG1zZ1hIUnRyaWVzKysgOyBpZiAobXNnWEhSdHJpZXMgPT0gMykgcmV0dXJuIC8vIHRyeSB1cCB0byAzWCAob3JpZ2luYWwvcmVnaW9uLXN0cmlwcGVkL0VOKSBvbmx5CiAgICAgICAgICAgICAgICBtc2dIcmVmID0gY29uZmlnLnVzZXJMYW5ndWFnZS5pbmNsdWRlcygnLScpICYmIG1zZ1hIUnRyaWVzID09IDEgPyAvLyBpZiByZWdpb25hbCBsYW5nIG9uIDFzdCB0cnkuLi4KICAgICAgICAgICAgICAgICAgICBtc2dIcmVmLnJlcGxhY2UoLyguKilfLiooXC8uKikvLCAnJDEkMicpIC8vIC4uLnN0cmlwIHJlZ2lvbiBiZWZvcmUgcmV0cnlpbmcKICAgICAgICAgICAgICAgICAgICAgICAgOiAoIG1zZ0hvc3REaXIgKyAnZW4vbWVzc2FnZXMuanNvbicgKSAvLyBlbHNlIHVzZSBkZWZhdWx0IEVuZ2xpc2ggbWVzc2FnZXMKICAgICAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsgbWV0aG9kOiAnR0VUJywgdXJsOiBtc2dIcmVmLCBvbmxvYWQ6IG9uTG9hZCB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSkgOyBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IG1zZ3NMb2FkZWQKCiAgICAvLyBJbml0L3JlZ2lzdGVyIG1lbnUKICAgIGxldCBtZW51SURzID0gW10sIHN0YXRlID0geyBzeW1ib2w6IFsn4pyU77iPJywgJ+KdjCddLCB3b3JkOiBbJ09OJywgJ09GRiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogZ2V0VXNlcnNjcmlwdE1hbmFnZXIoKSA9PT0gJ1RhbXBlcm1vbmtleScgPyAnIOKAlCAnIDogJzogJyB9CiAgICBhd2FpdCBjaGF0Z3B0LmlzTG9hZGVkKCkgOyByZWdpc3Rlck1lbnUoKSAvLyBjcmVhdGUgYnJvd3NlciB0b29sYmFyIG1lbnUKCiAgICAvLyBDaGVjayBmb3IgdXBkYXRlcyAoMXgvMXcpCiAgICBpZiAoIWNvbmZpZy5sYXN0Q2hlY2tUaW1lIHx8IERhdGUubm93KCkgLSBjb25maWcubGFzdENoZWNrVGltZSA+IDQwMzIwMDAwMDApIHVwZGF0ZUNoZWNrKCkKCiAgICAvLyBTdHlsaXplIHRvZ2dsZSBzd2l0Y2gKICAgIGNvbnN0IHN3aXRjaFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKQogICAgc3dpdGNoU3R5bGUuaW5uZXJUZXh0ID0gYC8qIFN0eWxpemUgc3dpdGNoICovCiAgICAgICAgLnN3aXRjaCB7IHBvc2l0aW9uOmFic29sdXRlIDsgbGVmdDoyMDhweCA7IHdpZHRoOjM0cHggOyBoZWlnaHQ6MThweCB9CiAgICAgICAgLnN3aXRjaCBpbnB1dCB7IG9wYWNpdHk6MCA7IHdpZHRoOjAgOyBoZWlnaHQ6MCB9IC8qIGhpZGUgY2hlY2tib3ggKi8KICAgICAgICAuc2xpZGVyIHsgcG9zaXRpb246YWJzb2x1dGUgOyBjdXJzb3I6cG9pbnRlciA7IHRvcDowIDsgbGVmdDowIDsgcmlnaHQ6MCA7IGJvdHRvbTowIDsgYmFja2dyb3VuZC1jb2xvcjojY2NjIDsgLXdlYmtpdC10cmFuc2l0aW9uOi40cyA7IHRyYW5zaXRpb246LjRzIDsgYm9yZGVyLXJhZGl1czoyOHB4IH0KICAgICAgICAuc2xpZGVyOmJlZm9yZSB7IHBvc2l0aW9uOmFic29sdXRlIDsgY29udGVudDoiIiA7IGhlaWdodDoxNHB4IDsgd2lkdGg6MTRweCA7IGxlZnQ6M3B4OyBib3R0b206MnB4IDsgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZSA7IC13ZWJraXQtdHJhbnNpdGlvbjouNHMgOyB0cmFuc2l0aW9uOi40cyA7IGJvcmRlci1yYWRpdXM6MjhweCB9CgogICAgICAgIC8qIFBvc2l0aW9uL2NvbG9yIE9OLXN0YXRlICovCiAgICAgICAgaW5wdXQ6Y2hlY2tlZCB7IHBvc2l0aW9uOmFic29sdXRlIDsgcmlnaHQ6M3B4IH0KICAgICAgICBpbnB1dDpjaGVja2VkICsgLnNsaWRlciB7IGJhY2tncm91bmQtY29sb3I6IzQyQjRCRiB9CiAgICAgICAgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHsKICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTRweCkgdHJhbnNsYXRlWSgxcHgpIDsKICAgICAgICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNHB4KSB0cmFuc2xhdGVZKDFweCkgOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTRweCkgfWAKCiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN3aXRjaFN0eWxlKQoKICAgIC8vIENyZWF0ZSB0b2dnbGUgbGFiZWwsIGFkZCBzdHlsZXMvY2xhc3Nlcy9saXN0ZW5lci9IVE1MCiAgICBjb25zdCB0b2dnbGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIC8vIGNyZWF0ZSBsYWJlbCBkaXYKICAgIHRvZ2dsZUxhYmVsLnN0eWxlLm1heEhlaWdodCA9ICc0NHB4JyAvLyBwcmV2ZW50IGZsZXggb3Zlcmdyb3d0aAogICAgdG9nZ2xlTGFiZWwuc3R5bGUubWFyZ2luID0gJzJweCAwJyAvLyBhZGQgdi1tYXJnaW5zCiAgICB0b2dnbGVMYWJlbC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnIC8vIHByZXZlbnQgaGlnaGxpZ2h0aW5nCiAgICBmb3IgKGNvbnN0IG5hdkxpbmsgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2W2FyaWEtbGFiZWw9IkNoYXQgaGlzdG9yeSJdIGEnKSkgeyAvLyBpbnNwZWN0IHNpZGViYXIgZm9yIGNsYXNzZXMgdG8gYm9ycm93CiAgICAgICAgaWYgKC8obmV3fGNsZWFyKSBjaGF0L2kudGVzdChuYXZMaW5rLnRleHQpKSB7IC8vIGZvY3VzIG9uIG5ldy9jbGVhciBjaGF0IGJ1dHRvbgogICAgICAgICAgICB0b2dnbGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmF2TGluay5jbGFzc0xpc3QpIC8vIGJvcnJvdyBsaW5rIGNsYXNzZXMKICAgICAgICAgICAgbmF2TGluay5wYXJlbnROb2RlLnN0eWxlLm1hcmdpbiA9ICcycHggMCcgLy8gYWRkIHYtbWFyZ2lucwogICAgICAgICAgICBicmVhayAvLyBzdG9wIGxvb3Bpbmcgc2luY2UgY2xhc3MgYXNzaWdubWVudCBpcyBkb25lCiAgICB9fQogICAgdG9nZ2xlTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IC8vIGFkZCBsaXN0ZW5lciB0byB0b2dnbGUgc3dpdGNoL2xhYmVsL2NvbmZpZy9tZW51L2F1dG8tcmVmcmVzaAogICAgICAgIGNvbnN0IHRvZ2dsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FyVG9nZ2xlSW5wdXQnKQogICAgICAgIHRvZ2dsZUlucHV0LmNoZWNrZWQgPSAhdG9nZ2xlSW5wdXQuY2hlY2tlZAogICAgICAgIHNldFRpbWVvdXQodXBkYXRlVG9nZ2xlSFRNTCwgMjAwKSAvLyBzeW5jIGxhYmVsIGNoYW5nZSB3LyBzd2l0Y2ggbW92ZW1lbnQKICAgICAgICBjb25maWcuYXJEaXNhYmxlZCA9ICF0b2dnbGVJbnB1dC5jaGVja2VkCiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBtZW51SURzKSB7IEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZChpZCkgfSByZWdpc3Rlck1lbnUoKSAvLyByZWZyZXNoIG1lbnUKICAgICAgICBpZiAoIWNvbmZpZy5hckRpc2FibGVkICYmICFjaGF0Z3B0LmF1dG9SZWZyZXNoLmlzQWN0aXZlKSB7CiAgICAgICAgICAgIGNoYXRncHQuYXV0b1JlZnJlc2guYWN0aXZhdGUoY29uZmlnLnJlZnJlc2hJbnRlcnZhbCkKICAgICAgICAgICAgaWYgKCFjb25maWcubm90aWZIaWRkZW4pIG5vdGlmeShtZXNzYWdlcy5tZW51TGFiZWxfYXV0b1JlZnJlc2ggKyAnOiBPTicpCiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuYXJEaXNhYmxlZCAmJiBjaGF0Z3B0LmF1dG9SZWZyZXNoLmlzQWN0aXZlKSB7CiAgICAgICAgICAgIGNoYXRncHQuYXV0b1JlZnJlc2guZGVhY3RpdmF0ZSgpCiAgICAgICAgICAgIGlmICghY29uZmlnLm5vdGlmSGlkZGVuKSBub3RpZnkobWVzc2FnZXMubWVudUxhYmVsX2F1dG9SZWZyZXNoICsgJzogT0ZGJykKICAgICAgICB9IHNhdmVTZXR0aW5nKCdhckRpc2FibGVkJywgY29uZmlnLmFyRGlzYWJsZWQpCiAgICB9KQogICAgdXBkYXRlVG9nZ2xlSFRNTCgpCgogICAgLy8gSW5zZXJ0IGZ1bGwgdG9nZ2xlIG9uIHBhZ2UgbG9hZCArIGR1cmluZyBuYXZpZ2F0aW9uIC8vIOWcqOWvvOiIquacn+mXtOaPkuWFpemhtemdouWKoOi9vSArIOeahOWujOaVtOWIh+aNogogICAgaW5zZXJ0VG9nZ2xlKCkKICAgIGNvbnN0IG5vZGVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IHsKICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpbnNlcnRUb2dnbGUoKQogICAgfX0pfSkgOyBub2RlT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pCgogICAgLy8gQWN0aXZhdGUgYXV0by1yZWZyZXNoIG9uIGZpcnN0IHZpc2l0IGlmIGVuYWJsZWQKICAgIGlmICghY29uZmlnLmFyRGlzYWJsZWQpIHsKICAgICAgICBjaGF0Z3B0LmF1dG9SZWZyZXNoLmFjdGl2YXRlKGNvbmZpZy5yZWZyZXNoSW50ZXJ2YWwpCiAgICAgICAgaWYgKCFjb25maWcubm90aWZIaWRkZW4pIG5vdGlmeShtZXNzYWdlcy5tZW51TGFiZWxfYXV0b1JlZnJlc2ggKyAnOiBPTicpCiAgICB9CgogICAgLy8gRGVmaW5lIFNDUklQVCBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBsb2FkU2V0dGluZyguLi5rZXlzKSB7IGtleXMuZm9yRWFjaChrZXkgPT4geyBjb25maWdba2V5XSA9IEdNX2dldFZhbHVlKGNvbmZpZy5wcmVmaXggKyAnXycgKyBrZXksIGZhbHNlKSB9KX0KICAgIGZ1bmN0aW9uIHNhdmVTZXR0aW5nKGtleSwgdmFsdWUpIHsgR01fc2V0VmFsdWUoY29uZmlnLnByZWZpeCArICdfJyArIGtleSwgdmFsdWUpIDsgY29uZmlnW2tleV0gPSB2YWx1ZSB9CiAgICBmdW5jdGlvbiBzYWZlV2luZG93T3Blbih1cmwpIHsgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJywgJ25vb3BlbmVyJykgfSAvLyB0byBwcmV2ZW50IGJhY2tkb29yIHZ1bG5lcmFiaWxpdGllcwoKICAgIGZ1bmN0aW9uIHVwZGF0ZUNoZWNrKCkgewoKICAgICAgICAvLyBGZXRjaCBsYXRlc3QgbWV0YQogICAgICAgIGNvbnN0IGN1cnJlbnRWZXIgPSBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uCiAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmw6IGNvbmZpZy51cGRhdGVVUkwgKyAnP3Q9JyArIERhdGUubm93KCksIGhlYWRlcnM6IHsgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnIH0sCiAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7IHNhdmVTZXR0aW5nKCdsYXN0Q2hlY2tUaW1lJywgRGF0ZS5ub3coKSkKCiAgICAgICAgICAgICAgICAvLyBDb21wYXJlIHZlcnNpb25zCiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RWZXIgPSAvQHZlcnNpb24gKyguKikvLmV4ZWMocmVzcG9uc2UucmVzcG9uc2VUZXh0KVsxXQogICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVDaGVjay5mcm9tTWVudSAmJiBjb25maWcuc2tpcE5leHRVcGRhdGUgJiYgbGF0ZXN0VmVyID09PSBjb25maWcuc2tpcHBlZFZlcikKICAgICAgICAgICAgICAgICAgICByZXR1cm4gLy8gZXhpdCBjb21wYXJpc29uIGlmIHBhc3QgYXV0by1hbGVydCBoaWRkZW4KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IDQgOyBpKyspIHsgLy8gbG9vcCB0aHJ1IHN1YnZlcidzCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFN1YlZlciA9IHBhcnNlSW50KGN1cnJlbnRWZXIuc3BsaXQoJy4nKVtpXSkgfHwgMAogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdFN1YlZlciA9IHBhcnNlSW50KGxhdGVzdFZlci5zcGxpdCgnLicpW2ldKSB8fCAwCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJWZXIgPiBsYXRlc3RTdWJWZXIpIGJyZWFrIC8vIG91dCBvZiBjb21wYXJpc29uIHNpbmNlIG5vdCBvdXRkYXRlZAogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhdGVzdFN1YlZlciA+IGN1cnJlbnRTdWJWZXIpIHsgLy8gaWYgb3V0ZGF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVDaGVjay5mcm9tTWVudSkgLy8gaWYgYXV0by1hbGVydC4uLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVNldHRpbmcoJ3NraXBOZXh0VXBkYXRlJywgZmFsc2UpIC8vIC4uLnJlc2V0IGhpZGRlbiBhbGVydCBzZXR0aW5nIGZvciBmcmVzaCBkZWNpc2lvbgoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxlcnQgdG8gdXBkYXRlCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdVcGRhdGUgYXZhaWxhYmxlISDwn5qAJywgLy8gdGl0bGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBBbiB1cGRhdGUgdG8gJHsgbWVzc2FnZXMuYXBwTmFtZSB9ICh2JHsgbGF0ZXN0VmVyIH0pIGlzIGF2YWlsYWJsZSEgICBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnPGEgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIHN0eWxlPSJmb250LXNpemU6IDAuN3JlbSIgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICdocmVmPSInICsgY29uZmlnLmdpdEh1YlVSTCArICcvY29tbWl0cy9tYWluL2dyZWFzZW1vbmtleS8nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgY29uZmlnLnVwZGF0ZVVSTC5yZXBsYWNlKC8uKlwvKC4qKW1ldGFcLmpzLywgJyQxdXNlci5qcycpICsgJyIgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc+JyArIG1lc3NhZ2VzLmxpbmtfdmlld0NoYW5nZXMgKyAnPC9hPicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7IC8vIGJ1dHRvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX29wZW5JblRhYihjb25maWcudXBkYXRlVVJMLnJlcGxhY2UoJ21ldGEuanMnLCAndXNlci5qcycpICsgJz90PScgKyBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdHJ1ZSwgaW5zZXJ0OiB0cnVlIH0gLy8gZm9jdXMsIG1ha2UgYWRqYWNlbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLm9uY2xvc2UgPSAoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIXVwZGF0ZUNoZWNrLmZyb21NZW51ID8gLy8gY2hlY2tib3ggaWYgYXV0by1hbGVydAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRvbnRTaG93QWdhaW5VbnRpbE5leHRVcGRhdGUoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVTZXR0aW5nKCdza2lwTmV4dFVwZGF0ZScsICFjb25maWcuc2tpcE5leHRVcGRhdGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVTZXR0aW5nKCdza2lwcGVkVmVyJywgY29uZmlnLnNraXBOZXh0VXBkYXRlID8gbGF0ZXN0VmVyIDogZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9fQoKICAgICAgICAgICAgICAgIGlmICh1cGRhdGVDaGVjay5mcm9tTWVudSkgLy8gYWxlcnQgdG8gbm8gdXBkYXRlIGZvdW5kCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1VwLXRvLWRhdGUhJywgYCR7IG1lc3NhZ2VzLmFwcE5hbWUgfSAodiR7IGN1cnJlbnRWZXIgfSkgaXMgdXAtdG8tZGF0ZSFgKQogICAgfX0pfQoKICAgIC8vIERlZmluZSBNRU5VIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIGdldFVzZXJzY3JpcHRNYW5hZ2VyKCkgeyB0cnkgeyByZXR1cm4gR01faW5mby5zY3JpcHRIYW5kbGVyIH0gY2F0Y2ggKGVycm9yKSB7IHJldHVybiAnb3RoZXInIH19CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51KCkgewogICAgICAgIG1lbnVJRHMgPSBbXSAvLyBlbXB0eSB0byBzdG9yZSBuZXdseSByZWdpc3RlcmVkIGNtZHMgZm9yIHJlbW92YWwgd2hpbGUgcHJlc2VydmluZyBvcmRlcgoKICAgICAgICAvLyBBZGQgY29tbWFuZCB0byB0b2dnbGUgYXV0by1yZWZyZXNoCiAgICAgICAgY29uc3QgYXJMYWJlbCA9IHN0YXRlLnN5bWJvbFsrY29uZmlnLmFyRGlzYWJsZWRdICsgJyAnICsgbWVzc2FnZXMubWVudUxhYmVsX2F1dG9SZWZyZXNoICsgJyDihrsgJwogICAgICAgICAgICAgICAgICAgICAgKyBzdGF0ZS5zZXBhcmF0b3IgKyBzdGF0ZS53b3JkWytjb25maWcuYXJEaXNhYmxlZF0KICAgICAgICBtZW51SURzLnB1c2goR01fcmVnaXN0ZXJNZW51Q29tbWFuZChhckxhYmVsLCAoKSA9PiB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhclRvZ2dsZUxhYmVsJykuY2xpY2soKQogICAgICAgIH0pKQoKICAgICAgICAvLyBBZGQgY29tbWFuZCB0byB0b2dnbGUgdmlzaWJpbGl0eSBvZiB0b2dnbGUKICAgICAgICBjb25zdCB0dkxhYmVsID0gc3RhdGUuc3ltYm9sWytjb25maWcudG9nZ2xlSGlkZGVuXSArICcgJyArIG1lc3NhZ2VzLm1lbnVMYWJlbF90b2dnbGVWaXMKICAgICAgICAgICAgICAgICAgICAgICsgc3RhdGUuc2VwYXJhdG9yICsgc3RhdGUud29yZFsrY29uZmlnLnRvZ2dsZUhpZGRlbl0KICAgICAgICBtZW51SURzLnB1c2goR01fcmVnaXN0ZXJNZW51Q29tbWFuZCh0dkxhYmVsLCAoKSA9PiB7CiAgICAgICAgICAgIHNhdmVTZXR0aW5nKCd0b2dnbGVIaWRkZW4nLCAhY29uZmlnLnRvZ2dsZUhpZGRlbikKICAgICAgICAgICAgdG9nZ2xlTGFiZWwuc3R5bGUuZGlzcGxheSA9IGNvbmZpZy50b2dnbGVIaWRkZW4gPyAnbm9uZScgOiAnZmxleCcgLy8gdG9nZ2xlIHZpc2liaWxpdHkKICAgICAgICAgICAgaWYgKCFjb25maWcubm90aWZIaWRkZW4pCiAgICAgICAgICAgICAgICBub3RpZnkobWVzc2FnZXMubWVudUxhYmVsX3RvZ2dsZVZpcyArICc6ICcrIHN0YXRlLndvcmRbK2NvbmZpZy50b2dnbGVIaWRkZW5dKQogICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIG1lbnVJRHMpIHsgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKGlkKSB9IHJlZ2lzdGVyTWVudSgpIC8vIHJlZnJlc2ggbWVudQogICAgICAgIH0pKQoKICAgICAgICAvLyBBZGQgY29tbWFuZCB0byBzaG93IG5vdGlmaWNhdGlvbnMgd2hlbiBzd2l0Y2hpbmcgbW9kZXMKICAgICAgICBjb25zdCBtbkxhYmVsID0gc3RhdGUuc3ltYm9sWytjb25maWcubm90aWZIaWRkZW5dICsgJyAnICsgbWVzc2FnZXMubWVudUxhYmVsX21vZGVOb3RpZnMKICAgICAgICAgICAgICAgICAgICAgICsgc3RhdGUuc2VwYXJhdG9yICsgc3RhdGUud29yZFsrY29uZmlnLm5vdGlmSGlkZGVuXQogICAgICAgIG1lbnVJRHMucHVzaChHTV9yZWdpc3Rlck1lbnVDb21tYW5kKG1uTGFiZWwsICgpID0+IHsKICAgICAgICAgICAgc2F2ZVNldHRpbmcoJ25vdGlmSGlkZGVuJywgIWNvbmZpZy5ub3RpZkhpZGRlbikKICAgICAgICAgICAgbm90aWZ5KG1lc3NhZ2VzLm1lbnVMYWJlbF9tb2RlTm90aWZzICsgJzogJyArIHN0YXRlLndvcmRbK2NvbmZpZy5ub3RpZkhpZGRlbl0pCiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgbWVudUlEcykgeyBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQoaWQpIH0gcmVnaXN0ZXJNZW51KCkgLy8gcmVmcmVzaCBtZW51CiAgICAgICAgfSkpCgogICAgICAgIC8vIEFkZCBjb21tYW5kIHRvIGNoYW5nZSByZWZyZXNoIGludGVydmFsCiAgICAgICAgY29uc3QgcmlMYWJlbCA9ICfijJogJyArIG1lc3NhZ2VzLm1lbnVMYWJlbF9yZWZyZXNoSW50ICsgJyAnICsgc3RhdGUuc2VwYXJhdG9yICsgY29uZmlnLnJlZnJlc2hJbnRlcnZhbCArICdzJwogICAgICAgIG1lbnVJRHMucHVzaChHTV9yZWdpc3Rlck1lbnVDb21tYW5kKHJpTGFiZWwsICgpID0+IHsKICAgICAgICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hJbnRlcnZhbCA9IHByb21wdChgJHsgbWVzc2FnZXMucHJvbXB0X3VwZGF0ZUludCB9OmAsIGNvbmZpZy5yZWZyZXNoSW50ZXJ2YWwpCiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaEludGVydmFsID09PSBudWxsKSBicmVhayAvLyB1c2VyIGNhbmNlbGxlZCBzbyBkbyBub3RoaW5nCiAgICAgICAgICAgICAgICBlbHNlIGlmICghaXNOYU4ocGFyc2VJbnQocmVmcmVzaEludGVydmFsKSkgJiYgcGFyc2VJbnQocmVmcmVzaEludGVydmFsKSA+IDApIHsgLy8gdmFsaWQgaW50IHNldAogICAgICAgICAgICAgICAgICAgIHNhdmVTZXR0aW5nKCdyZWZyZXNoSW50ZXJ2YWwnLCBwYXJzZUludChyZWZyZXNoSW50ZXJ2YWwpKQogICAgICAgICAgICAgICAgICAgIGlmIChjaGF0Z3B0LmF1dG9SZWZyZXNoLmlzQWN0aXZlKSB7IC8vIHJlc2V0IHJ1bm5pbmcgYXV0by1yZWZyZXNoCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRncHQuYXV0b1JlZnJlc2guZGVhY3RpdmF0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRncHQuYXV0b1JlZnJlc2guYWN0aXZhdGUocmVmcmVzaEludGVydmFsKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIG1lbnVJRHMpIHsgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKGlkKSB9IHJlZ2lzdGVyTWVudSgpIC8vIHJlZnJlc2ggbWVudQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbkludGVydmFsID0gTWF0aC5tYXgoMiwgY29uZmlnLnJlZnJlc2hJbnRlcnZhbCAtIDEwKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heEludGVydmFsID0gY29uZmlnLnJlZnJlc2hJbnRlcnZhbCArIDEwCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ludGVydmFsIHVwZGF0ZWQhJywgYCR7IG1lc3NhZ2VzLmFsZXJ0X2ludFVwZGF0ZWQgfSAkeyBtaW5JbnRlcnZhbCB94oCTJHsgbWF4SW50ZXJ2YWwgfSBzZWNzYCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgIH19fSkpCgogICAgICAgIC8vIEFkZCBjb21tYW5kIHRvIGxhdW5jaCBBYm91dCBtb2RhbAogICAgICAgIG1lbnVJRHMucHVzaChHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCfwn5KhIEFib3V0ICcgKyBtZXNzYWdlcy5hcHBOYW1lLCBhc3luYyAoKSA9PiB7CgogICAgICAgICAgICAvLyBHZXQgY2hhdGdwdC5qcyB2ZXJzaW9uCiAgICAgICAgICAgIGNvbnN0IHNjcmlwdE1ldGEgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsgbWV0aG9kOiAnR0VUJywgdXJsOiBjb25maWcudXBkYXRlVVJMICsgJz90PScgKyBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnIH0sIG9ubG9hZDogcmVzb2x2ZQogICAgICAgICAgICB9KX0pCiAgICAgICAgICAgIGNvbnN0IGNoYXRncHRKU3ZlciA9IC9jaGF0Z3B0LShbXGRcLl0rKVwubWluLy5leGVjKHNjcmlwdE1ldGEucmVzcG9uc2VUZXh0KT8uWzFdIHx8ICcnCgogICAgICAgICAgICAvLyBTaG93IGFsZXJ0CiAgICAgICAgICAgIGNvbnN0IGhlYWRpbmdTdHlsZSA9ICdmb250LXNpemU6IDEuMjVyZW0gOyBmb250LXN0eWxlOiBpdGFsaWMnCiAgICAgICAgICAgIGNvbnN0IHBTdHlsZSA9ICdwb3NpdGlvbjogcmVsYXRpdmUgOyBsZWZ0OiAzcHgnCiAgICAgICAgICAgIGNvbnN0IHBCclN0eWxlID0gJ3Bvc2l0aW9uOiByZWxhdGl2ZSA7IGxlZnQ6IDEycHgnCiAgICAgICAgICAgIGNvbnN0IGFib3V0QWxlcnRJRCA9IGFsZXJ0KAogICAgICAgICAgICAgICAgbWVzc2FnZXMuYXBwTmFtZSwgLy8gdGl0bGUKICAgICAgICAgICAgICAgIGA8c3BhbiBzdHlsZT0iJHsgaGVhZGluZ1N0eWxlIH0iPjxiPlZlcnNpb248L2I+OiA8L3NwYW4+YAogICAgICAgICAgICAgICAgICAgICsgYDxzcGFuIHN0eWxlPSIkeyBwU3R5bGUgfSI+JHsgR01faW5mby5zY3JpcHQudmVyc2lvbiB9PC9zcGFuPlxuYAogICAgICAgICAgICAgICAgKyBgPHNwYW4gc3R5bGU9IiR7IGhlYWRpbmdTdHlsZSB9Ij48Yj5Qb3dlcmVkIGJ5PC9iPjogPC9zcGFuPmAKICAgICAgICAgICAgICAgICAgICArIGA8c3BhbiBzdHlsZT0iJHsgcFN0eWxlIH0iPjxhIGhyZWY9Imh0dHBzOi8vY2hhdGdwdC5qcy5vcmciIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj5gCiAgICAgICAgICAgICAgICAgICAgKyAnY2hhdGdwdC5qczwvYT4nICsgKCBjaGF0Z3B0SlN2ZXIgPyAoICcgdicgKyBjaGF0Z3B0SlN2ZXIgKSA6ICcnICkgKyAnPC9zcGFuPlxuJwogICAgICAgICAgICAgICAgKyBgPHNwYW4gc3R5bGU9IiR7IGhlYWRpbmdTdHlsZSB9Ij48Yj5Tb3VyY2UgY29kZTwvYj46PC9zcGFuPlxuYAogICAgICAgICAgICAgICAgICAgICsgYDxzcGFuIHN0eWxlPSIkeyBwQnJTdHlsZSB9Ij48YSBocmVmPSIkeyBjb25maWcuZ2l0SHViVVJMIH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcGVuZXIiPmAKICAgICAgICAgICAgICAgICAgICArIGNvbmZpZy5naXRIdWJVUkwgKyAnPC9hPjwvc3Bhbj4nLAogICAgICAgICAgICAgICAgWyAvLyBidXR0b25zCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tGb3JVcGRhdGVzKCkgeyB1cGRhdGVDaGVjay5mcm9tTWVudSA9IHRydWUgOyB1cGRhdGVDaGVjaygpIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbGVhdmVBUmV2aWV3KCkgeyAvLyBzaG93IG5ldyBtb2RhbAogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdBbGVydElEID0gY2hhdGdwdC5hbGVydCgnQ2hvb3NlIGEgcGxhdGZvcm06JywgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGZ1bmN0aW9uIGdyZWFzeUZvcmsoKSB7IHNhZmVXaW5kb3dPcGVuKGNvbmZpZy5ncmVhc3lGb3JrVVJMICsgJy9mZWVkYmFjayNwb3N0LWRpc2N1c3Npb24nKSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmdXR1cmVwZWRpYSgpIHsgc2FmZVdpbmRvd09wZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly93d3cuZnV0dXJlcGVkaWEuaW8vdG9vbC9jaGF0Z3B0LWF1dG8tcmVmcmVzaCNjaGF0Z3B0LWF1dG8tcmVmcmVzaC1yZXZpZXcnKSB9XSkKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmV2aWV3QWxlcnRJRCkucXVlcnlTZWxlY3RvcignYnV0dG9uJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnIH0gLy8gaGlkZSBEaXNtaXNzIGJ1dHRvbgogICAgICAgICAgICAgICAgXQogICAgICAgICAgICApCgogICAgICAgICAgICAvLyBSZS1mb3JtYXQgYnV0dG9ucyB0byBpbmNsdWRlIGVtb2ppcyArIHJlLWNhc2UgKyBoaWRlIERpc21pc3MgYnV0dG9uCiAgICAgICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFib3V0QWxlcnRJRCkucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpIHsKICAgICAgICAgICAgICAgIGlmICgvdXBkYXRlcy9pLnRlc3QoYnV0dG9uLnRleHRDb250ZW50KSkgYnV0dG9uLnRleHRDb250ZW50ID0gJ/CfmoAgQ2hlY2sgZm9yIFVwZGF0ZXMnCiAgICAgICAgICAgICAgICBlbHNlIGlmICgvcmV2aWV3L2kudGVzdChidXR0b24udGV4dENvbnRlbnQpKSBidXR0b24udGV4dENvbnRlbnQgPSAn4q2QIExlYXZlIGEgUmV2aWV3JwogICAgICAgICAgICAgICAgZWxzZSBpZiAoL2dpdGh1Yi9pLnRlc3QoYnV0dG9uLnRleHRDb250ZW50KSkgYnV0dG9uLnRleHRDb250ZW50ID0gJ/CflqXvuI8gR2l0SHViIHNvdXJjZScKICAgICAgICAgICAgICAgIGVsc2UgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy8gaGlkZSBEaXNtaXNzIGJ1dHRvbgogICAgICAgICAgICB9CiAgICAgICAgfSkpCiAgICB9CgogICAgLy8gRGVmaW5lIEZFRURCQUNLIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIG5vdGlmeShtc2csIHBvc2l0aW9uID0gJycsIG5vdGlmRHVyYXRpb24gPSAnJywgc2hhZG93ID0gJycpIHsKICAgICAgICBjaGF0Z3B0Lm5vdGlmeShgJHsgY29uZmlnLmFwcFN5bWJvbCB9ICR7IG1zZyB9YCwgcG9zaXRpb24sIG5vdGlmRHVyYXRpb24sIHNoYWRvdyB8fCBjaGF0Z3B0LmlzRGFya01vZGUoKSA/ICcnIDogJ3NoYWRvdycpIH0KCiAgICBmdW5jdGlvbiBhbGVydCh0aXRsZSA9ICcnLCBtc2cgPSAnJywgYnRucyA9ICcnLCBjaGVja2JveCA9ICcnLCB3aWR0aCA9ICcnKSB7CiAgICAgICAgcmV0dXJuIGNoYXRncHQuYWxlcnQoYCR7IGNvbmZpZy5hcHBTeW1ib2wgfSAkeyB0aXRsZSB9YCwgbXNnLCBidG5zLCBjaGVja2JveCwgd2lkdGggKX0KCiAgICAvLyBEZWZpbmUgVE9HR0xFIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIGluc2VydFRvZ2dsZSgpIHsKICAgICAgICBjb25zdCBjaGF0SGlzdG9yeU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdlthcmlhLWxhYmVsPSJDaGF0IGhpc3RvcnkiXScpIHx8IHt9CiAgICAgICAgY29uc3QgZmlyc3RCdXR0b24gPSBjaGF0SGlzdG9yeU5hdi5xdWVyeVNlbGVjdG9yKCdhJykgfHwge30KICAgICAgICBpZiAoY2hhdGdwdC5oaXN0b3J5LmlzT2ZmKCkpIC8vIGhpZGUgZW5hYmxlLWhpc3Rvcnkgc3BhbSBkaXYKICAgICAgICAgICAgdHJ5IHsgZmlyc3RCdXR0b24ucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJyB9IGNhdGNoIChlcnJvcikge30KICAgICAgICBpZiAoIWNoYXRIaXN0b3J5TmF2LmNvbnRhaW5zKHRvZ2dsZUxhYmVsKSkgLy8gaW5zZXJ0IHRvZ2dsZQogICAgICAgICAgICB0cnkgeyBjaGF0SGlzdG9yeU5hdi5pbnNlcnRCZWZvcmUodG9nZ2xlTGFiZWwsIGZpcnN0QnV0dG9uLnBhcmVudE5vZGUpIH0gY2F0Y2ggKGVycm9yKSB7fQogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVRvZ2dsZUhUTUwoKSB7CiAgICAgICAgd2hpbGUgKHRvZ2dsZUxhYmVsLmZpcnN0Q2hpbGQpIHRvZ2dsZUxhYmVsLmZpcnN0Q2hpbGQucmVtb3ZlKCkgLy8gY2xlYXIgb2xkIGNvbnRlbnQKCiAgICAgICAgLy8gQ3JlYXRlIGVsZW1lbnRzCiAgICAgICAgY29uc3QgbmF2aWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpIDsgbmF2aWNvbi53aWR0aCA9IDE4CiAgICAgICAgbmF2aWNvbi5zcmMgPSBjb25maWcuYXNzZXRIb3N0VVJMICsgJ21lZGlhL2ltYWdlcy9pY29ucy9hdXRvLXJlZnJlc2gtbmF2aWNvbi1saWdodC0xNTUucG5nJwogICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKSA7IGxhYmVsLmNsYXNzTmFtZSA9ICdzd2l0Y2gnIDsgbGFiZWwuaWQgPSAnYXJUb2dnbGVMYWJlbCcKICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtZXNzYWdlcy5tZW51TGFiZWxfYXV0b1JlZnJlc2ggKyAnICcKICAgICAgICAgICAgKyAoIG1lc3NhZ2VzWydzdGF0ZV8nICsgKCBjb25maWcuYXJEaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnZW5hYmxlZCcgKV0pKQogICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSA7IGlucHV0LmlkID0gJ2FyVG9nZ2xlSW5wdXQnCiAgICAgICAgaW5wdXQudHlwZSA9ICdjaGVja2JveCcgOyBpbnB1dC5kaXNhYmxlZCA9IHRydWUgOyBpbnB1dC5jaGVja2VkID0gIWNvbmZpZy5hckRpc2FibGVkCiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSA7IHNwYW4uY2xhc3NOYW1lID0gJ3NsaWRlcicKCiAgICAgICAgLy8gQXBwZW5kIGVsZW1lbnRzCiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpIDsgbGFiZWwuYXBwZW5kQ2hpbGQoc3BhbikKICAgICAgICB0b2dnbGVMYWJlbC5hcHBlbmRDaGlsZChuYXZpY29uKSA7IHRvZ2dsZUxhYmVsLmFwcGVuZENoaWxkKGxhYmVsKSA7IHRvZ2dsZUxhYmVsLmFwcGVuZENoaWxkKGxhYmVsVGV4dCkKCiAgICAgICAgLy8gVXBkYXRlIHZpc2liaWxpdHkKICAgICAgICB0b2dnbGVMYWJlbC5zdHlsZS5kaXNwbGF5ID0gY29uZmlnLnRvZ2dsZUhpZGRlbiA/ICdub25lJyA6ICdmbGV4JwogICAgfQoKfSkoKQo=","requires":[{"meta":{"name":"chatgpt-2.0.6.min.js","url":"https://cdn.jsdelivr.net/gh/kudoai/chatgpt.js@0ccfc9e6acfcc24f864b233199f811316cfcd136/dist/chatgpt-2.0.6.min.js","ts":1691326330785,"mimetype":"text/javascript"},"source":"Y29uc3QgZW5kcG9pbnRzPXtzZXNzaW9uOiJodHRwczovL2NoYXQub3BlbmFpLmNvbS9hcGkvYXV0aC9zZXNzaW9uIixjaGF0czoiaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYmFja2VuZC1hcGkvY29udmVyc2F0aW9ucyIsY2hhdDoiaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYmFja2VuZC1hcGkvY29udmVyc2F0aW9uIixzaGFyZV9jcmVhdGU6Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2JhY2tlbmQtYXBpL3NoYXJlL2NyZWF0ZSIsc2hhcmU6Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2JhY2tlbmQtYXBpL3NoYXJlIn07dmFyIGFsZXJ0UXVldWU9W107bG9jYWxTdG9yYWdlLmFsZXJ0UXVldWU9SlNPTi5zdHJpbmdpZnkoYWxlcnRRdWV1ZSk7dmFyIG5vdGlmeVF1ZXVlPXtxdWFkcmFudHM6e3RvcFJpZ2h0OltdLGJvdHRvbVJpZ2h0OltdLGJvdHRvbUxlZnQ6W10sdG9wTGVmdDpbXX19O2xvY2FsU3RvcmFnZS5ub3RpZnlRdWV1ZT1KU09OLnN0cmluZ2lmeShub3RpZnlRdWV1ZSk7Y29uc3QgY2hhdGdwdD17b3BlbkFJYWNjZXNzVG9rZW46e30sYWN0aXZhdGVEYXJrTW9kZTpmdW5jdGlvbigpe2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVwbGFjZSgibGlnaHQiLCJkYXJrIik7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNvbG9yU2NoZW1lPSJkYXJrIn0sYWN0aXZhdGVMaWdodE1vZGU6ZnVuY3Rpb24oKXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2UoImRhcmsiLCJsaWdodCIpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jb2xvclNjaGVtZT0ibGlnaHQifSxhbGVydDpmdW5jdGlvbih0aXRsZSxtc2csYnRucyxjaGVja2JveCx3aWR0aCl7Y29uc3QgbW9kYWxDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bW9kYWxDb250YWluZXIuaWQ9TWF0aC5mbG9vcihjaGF0Z3B0LnJhbmRvbUZsb2F0KCkqMWU2KStEYXRlLm5vdygpO21vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoImNoYXRncHQtbW9kYWwiKTtjb25zdCBtb2RhbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjb25zdCBtb2RhbFRpdGxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7Y29uc3QgbW9kYWxNZXNzYWdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtsZXQgbW9kYWxTdHlsZTtpZighZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXRncHQtYWxlcnQtc3R5bGUiKSl7bW9kYWxTdHlsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO21vZGFsU3R5bGUuaWQ9ImNoYXRncHQtYWxlcnQtc3R5bGUiO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobW9kYWxTdHlsZSl9ZWxzZSBtb2RhbFN0eWxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjaGF0Z3B0LWFsZXJ0LXN0eWxlIik7Y29uc3Qgc2NoZW1lPWNoYXRncHQuaXNEYXJrTW9kZSgpPyJkYXJrIjoibGlnaHQiO21vZGFsU3R5bGUuaW5uZXJUZXh0PSIuY2hhdGdwdC1tb2RhbCB7IisicG9zaXRpb246IGZpeGVkIDsgdG9wOiAwIDsgbGVmdDogMCA7IHdpZHRoOiAxMDAlIDsgaGVpZ2h0OiAxMDAlIDsiKyJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDY3LCA3MCwgNzIsIDAuNzUpIDsiKyJkaXNwbGF5OiBmbGV4IDsganVzdGlmeS1jb250ZW50OiBjZW50ZXIgOyBhbGlnbi1pdGVtczogY2VudGVyIDsgei1pbmRleDogOTk5OSB9IisiLmNoYXRncHQtbW9kYWwgPiBkaXYgeyIrYGJhY2tncm91bmQtY29sb3I6ICR7c2NoZW1lPT0iZGFyayI/ImJsYWNrIjoid2hpdGUifSA7YCsod2lkdGg/YHdpZHRoOiAke3dpZHRofXB4YDoibWF4LXdpZHRoOiA0NTRweCAiKSsiIDsiKyJwYWRkaW5nOiAyMHB4IDsgbWFyZ2luOiAxMnB4IDIzcHggOyBib3JkZXItcmFkaXVzOiA1cHggOyBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjMpIH0iKyIuY2hhdGdwdC1tb2RhbCBoMiB7IG1hcmdpbi1ib3R0b206IDlweCB9IitgLmNoYXRncHQtbW9kYWwgYSB7IGNvbG9yOiAke3NjaGVtZT09ImRhcmsiPyIjMDBjZmZmIjoiIzFlOWViYiJ9fWArIi5tb2RhbC1idXR0b25zIHsgZGlzcGxheTogZmxleCA7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQgOyBtYXJnaW46IDIwcHggLTVweCAtM3B4IDAgfSIrIi5jaGF0Z3B0LW1vZGFsIGJ1dHRvbiB7IisibWFyZ2luLWxlZnQ6IDEwcHggOyBwYWRkaW5nOiA0cHggMThweCA7IGJvcmRlci1yYWRpdXM6IDE1cHggOyIrYGJvcmRlcjogMXB4IHNvbGlkICR7c2NoZW1lPT0iZGFyayI/IndoaXRlIjoiYmxhY2sifX1gKyIucHJpbWFyeS1tb2RhbC1idG4geyIrYGJvcmRlcjogMXB4IHNvbGlkICR7c2NoZW1lPT0iZGFyayI/IndoaXRlIjoiYmxhY2sifSA7YCtgYmFja2dyb3VuZDogJHtzY2hlbWU9PSJkYXJrIj8id2hpdGUiOiJibGFjayJ9IDtgK2Bjb2xvcjogJHtzY2hlbWU9PSJkYXJrIj8iYmxhY2siOiJ3aGl0ZSJ9fWArIi5jaGF0Z3B0LW1vZGFsIGJ1dHRvbjpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6ICM0MkI0QkYgOyBib3JkZXItY29sb3I6ICM0MkI0QkYgOyBjb2xvcjogYmxhY2sgfSIrIi5jaGF0Z3B0LW1vZGFsIC5jaGVja2JveC1ncm91cCB7IGRpc3BsYXk6IGZsZXggOyBtYXJnaW4tdG9wOiAtMThweCB9IisiLmNoYXRncHQtbW9kYWwgLmNoZWNrYm94LWdyb3VwIGxhYmVsIHsiKyJmb250LXNpemU6IC43cmVtIDsgbWFyZ2luOiAtLjA0cmVtIDAgMHB4IC4zcmVtIDsiK2Bjb2xvcjogJHtzY2hlbWU9PSJkYXJrIj8iI2UxZTFlMSI6IiMxZTFlMWUifX1gKycuY2hhdGdwdC1tb2RhbCBpbnB1dFt0eXBlPSJjaGVja2JveCJdIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjcpIDsnK2Bib3JkZXI6IDFweCBzb2xpZCAke3NjaGVtZT09ImRhcmsiPyJ3aGl0ZSI6ImJsYWNrIn19YCsnLmNoYXRncHQtbW9kYWwgaW5wdXRbdHlwZT0iY2hlY2tib3giXTpjaGVja2VkIHsnK2Bib3JkZXI6IDFweCBzb2xpZCAke3NjaGVtZT09ImRhcmsiPyJ3aGl0ZSI6ImJsYWNrIn0gO2ArImJhY2tncm91bmQtY29sb3I6IGJsYWNrIDsgcG9zaXRpb246IGluaGVyaXQgfSIrJy5jaGF0Z3B0LW1vZGFsIGlucHV0W3R5cGU9ImNoZWNrYm94Il06Zm9jdXMgeyBvdXRsaW5lOiBub25lIDsgYm94LXNoYWRvdzogbm9uZSB9Jzttb2RhbFRpdGxlLmlubmVyVGV4dD10aXRsZXx8IiI7bW9kYWxNZXNzYWdlLmlubmVyVGV4dD1tc2d8fCIiO3RoaXMucmVuZGVySFRNTChtb2RhbE1lc3NhZ2UpO2NvbnN0IG1vZGFsQnV0dG9ucz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTttb2RhbEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgibW9kYWwtYnV0dG9ucyIpO2lmKGJ0bnMpe2lmKCFBcnJheS5pc0FycmF5KGJ0bnMpKWJ0bnM9W2J0bnNdO2J0bnMuZm9yRWFjaChidXR0b25Gbj0+e2NvbnN0IGJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtidXR0b24udGV4dENvbnRlbnQ9YnV0dG9uRm4ubmFtZS5yZXBsYWNlKC9bXy1dXHcvZyxtYXRjaD0+bWF0Y2guc2xpY2UoMSkudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvKFtBLVpdKS9nLCIgJDEiKS5yZXBsYWNlKC9eXHcvLGZpcnN0Q2hhcj0+Zmlyc3RDaGFyLnRvVXBwZXJDYXNlKCkpO2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntkZXN0cm95QWxlcnQoKTtidXR0b25GbigpfSk7bW9kYWxCdXR0b25zLmluc2VydEJlZm9yZShidXR0b24sbW9kYWxCdXR0b25zLmZpcnN0Q2hpbGQpfSl9Y29uc3QgZGlzbWlzc0J0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtkaXNtaXNzQnRuLnRleHRDb250ZW50PWJ0bnM/IkRpc21pc3MiOiJPSyI7ZGlzbWlzc0J0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZGVzdHJveUFsZXJ0KTttb2RhbEJ1dHRvbnMuaW5zZXJ0QmVmb3JlKGRpc21pc3NCdG4sbW9kYWxCdXR0b25zLmZpcnN0Q2hpbGQpO21vZGFsQnV0dG9ucy5sYXN0Q2hpbGQuY2xhc3NMaXN0LmFkZCgicHJpbWFyeS1tb2RhbC1idG4iKTtjb25zdCBjaGVja2JveERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihjaGVja2JveCl7Y2hlY2tib3hEaXYuY2xhc3NMaXN0LmFkZCgiY2hlY2tib3gtZ3JvdXAiKTtjb25zdCBjaGVja2JveEZuPWNoZWNrYm94O2NvbnN0IGNoZWNrYm94SW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtjaGVja2JveElucHV0LnR5cGU9ImNoZWNrYm94IjtjaGVja2JveElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsY2hlY2tib3hGbik7Y29uc3QgY2hlY2tib3hMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpO2NoZWNrYm94TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7Y2hlY2tib3hJbnB1dC5jaGVja2VkPSFjaGVja2JveElucHV0LmNoZWNrZWQ7Y2hlY2tib3hGbigpfSk7Y2hlY2tib3hMYWJlbC50ZXh0Q29udGVudD1jaGVja2JveEZuLm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrY2hlY2tib3hGbi5uYW1lLnNsaWNlKDEpLnJlcGxhY2UoLyhbQS1aXSkvZywobWF0Y2gsbGV0dGVyKT0+IiAiK2xldHRlci50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKC9cYihcdyspbnRcYi9naSwiJDFuJ3QiKS50cmltKCk7Y2hlY2tib3hEaXYuYXBwZW5kQ2hpbGQoY2hlY2tib3hJbnB1dCk7Y2hlY2tib3hEaXYuYXBwZW5kQ2hpbGQoY2hlY2tib3hMYWJlbCl9Y29uc3QgZWxlbWVudHM9W21vZGFsVGl0bGUsbW9kYWxNZXNzYWdlLG1vZGFsQnV0dG9ucyxjaGVja2JveERpdl07ZWxlbWVudHMuZm9yRWFjaChlbGVtZW50PT57bW9kYWwuYXBwZW5kQ2hpbGQoZWxlbWVudCl9KTttb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbENvbnRhaW5lcik7YWxlcnRRdWV1ZT1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5hbGVydFF1ZXVlKTthbGVydFF1ZXVlLnB1c2gobW9kYWxDb250YWluZXIuaWQpO2xvY2FsU3RvcmFnZS5hbGVydFF1ZXVlPUpTT04uc3RyaW5naWZ5KGFsZXJ0UXVldWUpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGtleUhhbmRsZXIpO21vZGFsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixldmVudD0+e2lmKGV2ZW50LnRhcmdldD09PW1vZGFsQ29udGFpbmVyKWRlc3Ryb3lBbGVydCgpfSk7bW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheT1hbGVydFF1ZXVlLmxlbmd0aD09PTE/IiI6Im5vbmUiO2Z1bmN0aW9uIGRlc3Ryb3lBbGVydCgpe21vZGFsQ29udGFpbmVyLnJlbW92ZSgpO2FsZXJ0UXVldWU9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuYWxlcnRRdWV1ZSk7YWxlcnRRdWV1ZS5zaGlmdCgpO2xvY2FsU3RvcmFnZS5hbGVydFF1ZXVlPUpTT04uc3RyaW5naWZ5KGFsZXJ0UXVldWUpO21vZGFsQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixkZXN0cm95QWxlcnQpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLGtleUhhbmRsZXIpO2Rpc21pc3NCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGRlc3Ryb3lBbGVydCk7aWYoYWxlcnRRdWV1ZS5sZW5ndGg+MCl7Y29uc3QgbmV4dEFsZXJ0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFsZXJ0UXVldWVbMF0pO3NldFRpbWVvdXQoKCk9PntuZXh0QWxlcnQuc3R5bGUuZGlzcGxheT0iZmxleCJ9LDUwMCl9fWZ1bmN0aW9uIGtleUhhbmRsZXIoZXZlbnQpe2NvbnN0IGRpc21pc3NLZXlzPVsxMywyN107aWYoZGlzbWlzc0tleXMuaW5jbHVkZXMoZXZlbnQua2V5Q29kZSkpe2Zvcihjb25zdCBhbGVydElkIG9mIGFsZXJ0UXVldWUpe2NvbnN0IGFsZXJ0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFsZXJ0SWQpO2lmKGFsZXJ0JiZhbGVydC5zdHlsZS5kaXNwbGF5IT09Im5vbmUiKXtpZihldmVudC5rZXlDb2RlPT09MjcpZGVzdHJveUFsZXJ0KCk7ZWxzZSBpZihldmVudC5rZXlDb2RlPT09MTMpe2NvbnN0IG1haW5CdXR0b249YWxlcnQucXVlcnlTZWxlY3RvcigiLm1vZGFsLWJ1dHRvbnMiKS5sYXN0Q2hpbGQ7aWYobWFpbkJ1dHRvbil7bWFpbkJ1dHRvbi5jbGljaygpO2V2ZW50LnByZXZlbnREZWZhdWx0KCl9fXJldHVybn19fX1yZXR1cm4gbW9kYWxDb250YWluZXIuaWR9LGFza0FuZEdldFJlcGx5OmFzeW5jIGZ1bmN0aW9uKHF1ZXJ5KXtjaGF0Z3B0LnNlbmQocXVlcnkpO2F3YWl0IGNoYXRncHQuaXNJZGxlKCk7cmV0dXJuIGNoYXRncHQuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKX0sYXV0b1JlZnJlc2g6e2FjdGl2YXRlOmZ1bmN0aW9uKGludGVydmFsKXtpZih0aGlzLmlzQWN0aXZlKXtjb25zb2xlLmluZm8oIuKGuyBDaGF0R1BUID4+IFsiK2NoYXRncHQuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQXV0byByZWZyZXNoIGFscmVhZHkgYWN0aXZlISIpO3JldHVybn1jb25zdCBhdXRvUmVmcmVzaD10aGlzO3RoaXMudG9nZ2xlLnJlZnJlc2hGcmFtZSgpO3NjaGVkdWxlUmVmcmVzaGVzKGludGVydmFsP3BhcnNlSW50KGludGVydmFsLDEwKTozMCk7Y29uc29sZS5pbmZvKCLihrsgQ2hhdEdQVCA+PiBbIitjaGF0Z3B0LmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEF1dG8gcmVmcmVzaCBhY3RpdmF0ZWQiKTtpZihuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCJDaHJvbWUiKSYmdHlwZW9mIGRvY3VtZW50LmhpZGRlbiE9PSJ1bmRlZmluZWQiKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIix0aGlzLnRvZ2dsZS5iZWFjb25zKX1mdW5jdGlvbiBzY2hlZHVsZVJlZnJlc2hlcyhpbnRlcnZhbCl7Y29uc3QgcmFuZG9tRGVsYXk9TWF0aC5tYXgoMixNYXRoLmZsb29yKGNoYXRncHQucmFuZG9tRmxvYXQoKSoyMS0xMCkpO2F1dG9SZWZyZXNoLmlzQWN0aXZlPXNldFRpbWVvdXQoKCk9Pntjb25zdCBtYW5pZmVzdFNjcmlwdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0iX3NzZ01hbmlmZXN0LmpzIl0nKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcmVmcmVzaC1mcmFtZSIpLnNyYz1tYW5pZmVzdFNjcmlwdC5zcmMrIj8iK0RhdGUubm93KCk7Y29uc29sZS5pbmZvKCLihrsgQ2hhdEdQVCA+PiBbIithdXRvUmVmcmVzaC5ub3dUaW1lU3RhbXAoKSsiXSBDaGF0R1BUIHNlc3Npb24gcmVmcmVzaGVkIik7c2NoZWR1bGVSZWZyZXNoZXMoaW50ZXJ2YWwpfSwoaW50ZXJ2YWwrcmFuZG9tRGVsYXkpKjFlMyl9fSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0FjdGl2ZSl7dGhpcy50b2dnbGUucmVmcmVzaEZyYW1lKCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsdGhpcy50b2dnbGUuYmVhY29ucyk7Y2xlYXJUaW1lb3V0KHRoaXMuaXNBY3RpdmUpO3RoaXMuaXNBY3RpdmU9bnVsbDtjb25zb2xlLmluZm8oIuKGuyBDaGF0R1BUID4+IFsiK2NoYXRncHQuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQXV0byByZWZyZXNoIGRlLWFjdGl2YXRlZCIpfWVsc2V7Y29uc29sZS5pbmZvKCLihrsgQ2hhdEdQVCA+PiBbIitjaGF0Z3B0LmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEF1dG8gcmVmcmVzaCBhbHJlYWR5IGluYWN0aXZlISIpfX0sbm93VGltZVN0YW1wOmZ1bmN0aW9uKCl7Y29uc3Qgbm93PW5ldyBEYXRlO2NvbnN0IGhvdXJzPW5vdy5nZXRIb3VycygpJTEyfHwxMjtsZXQgbWludXRlcz1ub3cuZ2V0TWludXRlcygpLHNlY29uZHM9bm93LmdldFNlY29uZHMoKTtpZihtaW51dGVzPDEwKW1pbnV0ZXM9IjAiK21pbnV0ZXM7aWYoc2Vjb25kczwxMClzZWNvbmRzPSIwIitzZWNvbmRzO2NvbnN0IG1lcmlkaWVtPW5vdy5nZXRIb3VycygpPDEyPyJBTSI6IlBNIjtyZXR1cm4gaG91cnMrIjoiK21pbnV0ZXMrIjoiK3NlY29uZHMrIiAiK21lcmlkaWVtfSx0b2dnbGU6e2JlYWNvbnM6ZnVuY3Rpb24oKXtpZihjaGF0Z3B0LmF1dG9SZWZyZXNoLmJlYWNvbklEKXtjbGVhckludGVydmFsKGNoYXRncHQuYXV0b1JlZnJlc2guYmVhY29uSUQpO2NoYXRncHQuYXV0b1JlZnJlc2guYmVhY29uSUQ9bnVsbDtjb25zb2xlLmluZm8oIuKGuyBDaGF0R1BUID4+IFsiK2NoYXRncHQuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQmVhY29ucyBkZS1hY3RpdmF0ZWQiKX1lbHNle2NoYXRncHQuYXV0b1JlZnJlc2guYmVhY29uSUQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtuYXZpZ2F0b3Iuc2VuZEJlYWNvbigiaHR0cHM6Ly9odHRwYmluLm9yZy9wb3N0IixuZXcgVWludDhBcnJheSk7Y29uc29sZS5pbmZvKCLihrsgQ2hhdEdQVCA+PiBbIitjaGF0Z3B0LmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEJlYWNvbiBzZW50Iil9LDllNCk7Y29uc29sZS5pbmZvKCLihrsgQ2hhdEdQVCA+PiBbIitjaGF0Z3B0LmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEJlYWNvbnMgYWN0aXZhdGVkIil9fSxyZWZyZXNoRnJhbWU6ZnVuY3Rpb24oKXtsZXQgcmVmcmVzaEZyYW1lPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyZWZyZXNoLWZyYW1lIik7aWYocmVmcmVzaEZyYW1lKXJlZnJlc2hGcmFtZS5yZW1vdmUoKTtlbHNle3JlZnJlc2hGcmFtZT1PYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLHtpZDoicmVmcmVzaC1mcmFtZSIsc3R5bGU6ImRpc3BsYXk6IG5vbmUifSk7ZG9jdW1lbnQuaGVhZC5wcmVwZW5kKHJlZnJlc2hGcmFtZSl9fX19LGNsZWFyQ2hhdHM6YXN5bmMgZnVuY3Rpb24oKXt0cnl7YXdhaXQgY2hhdGdwdC5nZXRDaGF0RGF0YSgpfWNhdGNoe3JldHVybn1jb25zdCBtZW51QnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdiBidXR0b25baWQqPSJoZWFkbGVzcyJdJyl8fHt9O3RyeXttZW51QnRuLmNsaWNrKCl9Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoIvCfpJYgY2hhdGdwdC5qcyA+PiBIZWFkbGVzcyBtZW51IG5vdCBmb3VuZCIpO3JldHVybn1zZXRUaW1lb3V0KCgpPT57Y29uc3QgbWVudUl0ZW1zPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Fbcm9sZT0ibWVudWl0ZW0iXScpfHxbXTtmb3IoY29uc3QgbWVudUl0ZW0gb2YgbWVudUl0ZW1zKWlmKC9zZXR0aW5ncy9pLnRlc3QobWVudUl0ZW0udGV4dCkpe21lbnVJdGVtLmNsaWNrKCk7YnJlYWt9c2V0VGltZW91dCgoKT0+e2NvbnN0IHNldHRpbmdzQnRucz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbaWQqPXJhZGl4XSBidXR0b24iKTtmb3IoY29uc3Qgc2V0dGluZ3NCdG4gb2Ygc2V0dGluZ3NCdG5zKXtpZigvXmNsZWFyL2kudGVzdChzZXR0aW5nc0J0bi50ZXh0Q29udGVudCkpe2lmKHNldHRpbmdzQnRuLmRpc2FibGVkKXtleGl0TWVudSgpO3JldHVybiBjb25zb2xlLmVycm9yKCLwn6SWIGNoYXRncHQuanMgPj4gTm8gY2hhdCBoaXN0b3J5IHRvIGNsZWFyIil9c2V0dGluZ3NCdG4uY2xpY2soKTticmVha319c2V0VGltZW91dCgoKT0+e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltpZCo9cmFkaXhdIGJ1dHRvbiIpLmNsaWNrKCk7c2V0VGltZW91dChleGl0TWVudSwxMCl9LDEwKX0sMTApfSwxMCk7ZnVuY3Rpb24gZXhpdE1lbnUoKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXZbaWQqPXJhZGl4XSBidXR0b24iKS5jbGljaygpfX0sZXhwb3J0Q2hhdDpmdW5jdGlvbigpe2NvbnN0IGNoYXREaXZzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm1haW4gPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXZbY2xhc3MqPWdyb3VwXSIpO2lmKGNoYXREaXZzLmxlbmd0aD09PTApe2NvbnNvbGUuZXJyb3IoIvCfpJYgY2hhdGdwdC5qcyA+PiBDaGF0IGlzIGVtcHR5ISIpO3JldHVybn1jb25zdCBtc2dzPVtdO2NoYXREaXZzLmZvckVhY2goZGl2PT57Y29uc3Qgc2VuZGVyPWRpdi50ZXh0Q29udGVudC5zdGFydHNXaXRoKCJDaGF0R1BUQ2hhdEdQVCIpPyJDSEFUR1BUIjoiVVNFUiI7bGV0IG1zZz1BcnJheS5mcm9tKGRpdi5jaGlsZE5vZGVzKS5tYXAobm9kZT0+bm9kZS5pbm5lclRleHQpLmpvaW4oIlxuXG4iKS5yZXBsYWNlKCJDb3B5IGNvZGUiLCIiKTtpZihzZW5kZXI9PT0iQ0hBVEdQVCIpbXNnPW1zZy5yZXBsYWNlKC9eQ2hhdEdQVFxuXG4vLCIiKTttc2dzLnB1c2goc2VuZGVyKyI6ICIrbXNnKX0pO2NvbnN0IGJsb2I9bmV3IEJsb2IoW21zZ3Muam9pbigiXG5cbiIpXSx7dHlwZToidGV4dC9wbGFpbiJ9KTtjb25zdCBub3c9bmV3IERhdGU7Y29uc3QgZGF5PW5vdy5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIik7Y29uc3QgbW9udGg9KG5vdy5nZXRNb250aCgpKzEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwiMCIpO2NvbnN0IHllYXI9bm93LmdldEZ1bGxZZWFyKCk7Y29uc3QgaG91cj1ub3cuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKTtjb25zdCBtaW51dGU9bm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKTtjb25zdCBmaWxlbmFtZT1gQ2hhdEdQVF8ke2RheX0tJHttb250aH0tJHt5ZWFyfV8ke2hvdXJ9LSR7bWludXRlfS50eHRgO2NvbnN0IHVybD1VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLGxpbms9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2xpbmsuaHJlZj11cmw7bGluay5kb3dubG9hZD1maWxlbmFtZTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO2xpbmsuY2xpY2soKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1VSTC5yZXZva2VPYmplY3RVUkwodXJsKX0sZ2VuZXJhdGVSYW5kb21JUDpmdW5jdGlvbigpe2NvbnN0IGlwPUFycmF5LmZyb20oe2xlbmd0aDo0fSwoKT0+TWF0aC5mbG9vcihjaGF0Z3B0LnJhbmRvbUZsb2F0KCkqMjU2KSkuam9pbigiLiIpO2NvbnNvbGUuaW5mbygi8J+kliBjaGF0Z3B0LmpzID4+IElQIGdlbmVyYXRlZDogIitpcCk7cmV0dXJuIGlwfSxnZXQ6ZnVuY3Rpb24odGFyZ2V0VHlwZSx0YXJnZXROYW1lPSIiKXtpZih0eXBlb2YgdGFyZ2V0VHlwZSE9PSJzdHJpbmcifHx0eXBlb2YgdGFyZ2V0TmFtZSE9PSJzdHJpbmciKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGFyZ3VtZW50cy4gQm90aCBhcmd1bWVudHMgbXVzdCBiZSBzdHJpbmdzLiIpfWlmKCF0YXJnZXRUeXBlcy5pbmNsdWRlcyh0YXJnZXRUeXBlLnRvTG93ZXJDYXNlKCkpKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdGFyZ2V0VHlwZTogIit0YXJnZXRUeXBlKyIuIFZhbGlkIHZhbHVlcyBhcmU6ICIrSlNPTi5zdHJpbmdpZnkodGFyZ2V0VHlwZXMpKX1jb25zdCB0YXJnZXROYW1lcz1bXSxyZVRhcmdldE5hbWU9bmV3IFJlZ0V4cCgiXmdldCguKikiK3RhcmdldFR5cGUrIiQiLCJpIik7Zm9yKGNvbnN0IHByb3AgaW4gY2hhdGdwdCl7aWYodHlwZW9mIGNoYXRncHRbcHJvcF09PT0iZnVuY3Rpb24iJiZyZVRhcmdldE5hbWUudGVzdChwcm9wKSl7dGFyZ2V0TmFtZXMucHVzaChwcm9wLnJlcGxhY2UocmVUYXJnZXROYW1lLCIkMSIpLnRvTG93ZXJDYXNlKCkpfX1pZighdGFyZ2V0TmFtZXMuaW5jbHVkZXModGFyZ2V0TmFtZS50b0xvd2VyQ2FzZSgpKSl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhcmdldE5hbWU6ICIrdGFyZ2V0TmFtZSsiLiAiKyh0YXJnZXROYW1lcy5sZW5ndGg+MD8iVmFsaWQgdmFsdWVzIGFyZTogIitKU09OLnN0cmluZ2lmeSh0YXJnZXROYW1lcyk6InRhcmdldFR5cGUgIit0YXJnZXRUeXBlLnRvTG93ZXJDYXNlKCkrIiBkb2VzIG5vdCByZXF1aXJlIGFkZGl0aW9uYWwgb3B0aW9ucy4iKSl9Y29uc3QgdGFyZ2V0RnVuY05hbWVMb3dlcj0oImdldCIrdGFyZ2V0TmFtZSt0YXJnZXRUeXBlKS50b0xvd2VyQ2FzZSgpO2NvbnN0IHRhcmdldEZ1bmNOYW1lPU9iamVjdC5rZXlzKHRoaXMpLmZpbmQoZnVuY3Rpb24obmFtZSl7cmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKT09PXRhcmdldEZ1bmNOYW1lTG93ZXJ9KTtyZXR1cm4gdGhpc1t0YXJnZXRGdW5jTmFtZV0oKX0sZ2V0QWNjZXNzVG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2lmKE9iamVjdC5rZXlzKGNoYXRncHQub3BlbkFJYWNjZXNzVG9rZW4pLmxlbmd0aD4wJiZEYXRlLnBhcnNlKGNoYXRncHQub3BlbkFJYWNjZXNzVG9rZW4uZXhwaXJlRGF0ZSktRGF0ZS5wYXJzZShuZXcgRGF0ZSk+PTApcmV0dXJuIHJlc29sdmUoY2hhdGdwdC5vcGVuQUlhY2Nlc3NUb2tlbi50b2tlbik7Y29uc3QgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIixlbmRwb2ludHMuc2Vzc2lvbix0cnVlKTt4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vanNvbiIpO3hoci5vbmxvYWQ9KCk9PntpZih4aHIuc3RhdHVzIT09MjAwKXJldHVybiByZWplY3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHJldHJpZXZlIGFjY2VzcyB0b2tlbi4iKTtjb25zb2xlLmluZm8oIvCfpJYgY2hhdGdwdC5qcyA+PiBUb2tlbiBleHBpcmF0aW9uOiAiK25ldyBEYXRlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkuZXhwaXJlcykudG9Mb2NhbGVTdHJpbmcoKS5yZXBsYWNlKCIsIiwiIGF0IikpO2NoYXRncHQub3BlbkFJYWNjZXNzVG9rZW49e3Rva2VuOkpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkuYWNjZXNzVG9rZW4sZXhwaXJlRGF0ZTpKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLmV4cGlyZXN9O3JldHVybiByZXNvbHZlKGNoYXRncHQub3BlbkFJYWNjZXNzVG9rZW4udG9rZW4pfTt4aHIuc2VuZCgpfSl9LGdldEFjY291bnREZXRhaWxzOmZ1bmN0aW9uKC4uLmRldGFpbHMpe2NvbnN0IHZhbGlkRGV0YWlscz1bImVtYWlsIiwiaWQiLCJpbWFnZSIsIm5hbWUiLCJwaWN0dXJlIl07ZGV0YWlscz0hYXJndW1lbnRzWzBdP3ZhbGlkRGV0YWlsczpBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOkFycmF5LmZyb20oYXJndW1lbnRzKTtmb3IoY29uc3QgZGV0YWlsIG9mIGRldGFpbHMpe2lmKCF2YWxpZERldGFpbHMuaW5jbHVkZXMoZGV0YWlsKSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIvCfpJYgY2hhdGdwdC5qcyA+PiBJbnZhbGlkIGRldGFpbCBhcmcgJyIrZGV0YWlsKyInIHN1cHBsaWVkLiBWYWxpZCBkZXRhaWxzIGFyZTpcbiIrIiAgICAgICAgICAgICAgICAgICAgWyIrdmFsaWREZXRhaWxzKyJdIil9fXJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57Y29uc3QgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIixlbmRwb2ludHMuc2Vzc2lvbix0cnVlKTt4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vanNvbiIpO3hoci5vbmxvYWQ9KCk9PntpZih4aHIuc3RhdHVzPT09MjAwKXtjb25zdCBkYXRhPUpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkudXNlcixkZXRhaWxzVG9SZXR1cm49e307Zm9yKGNvbnN0IGRldGFpbCBvZiBkZXRhaWxzKWRldGFpbHNUb1JldHVybltkZXRhaWxdPWRhdGFbZGV0YWlsXTtyZXR1cm4gcmVzb2x2ZShkZXRhaWxzVG9SZXR1cm4pfWVsc2UgcmV0dXJuIHJlamVjdCgi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3QgcmV0cmlldmUgYWNjb3VudCBkZXRhaWxzLiIpfTt4aHIuc2VuZCgpfSl9LGdldENoYXRCb3g6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb21wdC10ZXh0YXJlYSIpfSxnZXRDaGF0RGF0YTpmdW5jdGlvbihjaGF0VG9HZXQ9MSxkZXRhaWxzVG9HZXQ9ImFsbCIsc2VuZGVyPSJhbGwiLG1zZ1RvR2V0PSJhbGwiKXtjb25zdCB2YWxpZERldGFpbHM9WyJhbGwiLCJpZCIsInRpdGxlIiwiY3JlYXRlX3RpbWUiLCJ1cGRhdGVfdGltZSIsIm1zZyJdO2NvbnN0IHZhbGlkU2VuZGVycz1bImFsbCIsImJvdGgiLCJ1c2VyIiwiY2hhdGdwdCJdO2NoYXRUb0dldD0hY2hhdFRvR2V0PyJhY3RpdmUiOk51bWJlci5pc0ludGVnZXIoY2hhdFRvR2V0KXx8L15cZCskLy50ZXN0KGNoYXRUb0dldCk/cGFyc2VJbnQoY2hhdFRvR2V0LDEwKT09PTA/MDpwYXJzZUludChjaGF0VG9HZXQsMTApLTE6Y2hhdFRvR2V0O2RldGFpbHNUb0dldD1bImFsbCIsIiJdLmluY2x1ZGVzKGRldGFpbHNUb0dldCk/dmFsaWREZXRhaWxzLmZpbHRlcihkZXRhaWw9Pi9eKD8hYWxsJHxtc2ckKS4qLy50ZXN0KGRldGFpbCkpOkFycmF5LmlzQXJyYXkoZGV0YWlsc1RvR2V0KT9kZXRhaWxzVG9HZXQ6W2RldGFpbHNUb0dldF07c2VuZGVyPSFzZW5kZXI/ImFsbCI6dmFsaWRTZW5kZXJzLmluY2x1ZGVzKHNlbmRlcik/c2VuZGVyOiJpbnZhbGlkIjttc2dUb0dldD1OdW1iZXIuaXNJbnRlZ2VyKG1zZ1RvR2V0KXx8L15cZCskLy50ZXN0KG1zZ1RvR2V0KT9wYXJzZUludChtc2dUb0dldCwxMCk9PT0wPzA6cGFyc2VJbnQobXNnVG9HZXQsMTApLTE6WyJhbGwiLCJsYXRlc3QiXS5pbmNsdWRlcyhtc2dUb0dldC50b0xvd2VyQ2FzZSgpKT9tc2dUb0dldC50b0xvd2VyQ2FzZSgpOiFtc2dUb0dldD8iYWxsIjoiaW52YWxpZCI7Zm9yKGNvbnN0IGRldGFpbCBvZiBkZXRhaWxzVG9HZXQpe2lmKCF2YWxpZERldGFpbHMuaW5jbHVkZXMoZGV0YWlsKSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIvCfpJYgY2hhdGdwdC5qcyA+PiBJbnZhbGlkIGRldGFpbCBhcmcgJyIrZGV0YWlsKyInIHBhc3NlZC4gVmFsaWQgZGV0YWlscyBhcmU6XG4iKyIgICAgICAgICAgICAgICAgICAgIFsiK3ZhbGlkRGV0YWlscysiXSIpfX1pZihzZW5kZXI9PT0iaW52YWxpZCIpe3JldHVybiBjb25zb2xlLmVycm9yKCLwn6SWIGNoYXRncHQuanMgPj4gSW52YWxpZCBzZW5kZXIgYXJnIHBhc3NlZC4gVmFsaWQgc2VuZGVycyBhcmU6XG4iKyIgICAgICAgICAgICAgICAgICAgIFsiK3ZhbGlkU2VuZGVycysiXSIpfWlmKG1zZ1RvR2V0PT09ImludmFsaWQiKXtyZXR1cm4gY29uc29sZS5lcnJvcigi8J+kliBjaGF0Z3B0LmpzID4+IEludmFsaWQgbXNnVG9HZXQgYXJnIHBhc3NlZC4gVmFsaWQgbXNnJ3MgdG8gZ2V0IGFyZTpcbiIrIiAgICAgICAgICAgICAgICAgICAgWyAnYWxsJyB8ICdsYXRlc3QnIHwgaW5kZXggb2YgbXNnIHRvIGdldCBdIil9cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmU9PntjaGF0Z3B0LmdldEFjY2Vzc1Rva2VuKCkudGhlbih0b2tlbj0+e2lmKCFkZXRhaWxzVG9HZXQuaW5jbHVkZXMoIm1zZyIpKWdldENoYXREZXRhaWxzKHRva2VuLGRldGFpbHNUb0dldCkudGhlbihkYXRhPT57cmV0dXJuIHJlc29sdmUoZGF0YSl9KTtnZXRDaGF0TXNncyh0b2tlbikudGhlbihtZXNzYWdlcz0+e3JldHVybiByZXNvbHZlKG1lc3NhZ2VzKX0pfSl9KTtmdW5jdGlvbiBnZXRDaGF0RGV0YWlscyh0b2tlbixkZXRhaWxzVG9HZXQpe2NvbnN0IHJlX2NoYXRJRD0vXHd7OH0tKFx3ezR9LSl7M31cd3sxMn0vO3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57Y29uc3QgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIixlbmRwb2ludHMuY2hhdHMsdHJ1ZSk7eGhyLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKTt4aHIuc2V0UmVxdWVzdEhlYWRlcigiQXV0aG9yaXphdGlvbiIsIkJlYXJlciAiK3Rva2VuKTt4aHIub25sb2FkPSgpPT57aWYoeGhyLnN0YXR1cyE9PTIwMClyZXR1cm4gcmVqZWN0KCLwn6SWIGNoYXRncHQuanMgPj4gUmVxdWVzdCBmYWlsZWQuIENhbm5vdCByZXRyaWV2ZSBjaGF0IGRldGFpbHMuIik7Y29uc3QgZGF0YT1KU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLml0ZW1zO2lmKGRhdGEubGVuZ3RoPD0wKXJldHVybiByZWplY3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBDaGF0IGxpc3QgaXMgZW1wdHkuIik7Y29uc3QgZGV0YWlsc1RvUmV0dXJuPXt9O2lmKE51bWJlci5pc0ludGVnZXIoY2hhdFRvR2V0KXx8Y2hhdFRvR2V0PT0ibGF0ZXN0Inx8Y2hhdFRvR2V0PT0iYWN0aXZlIiYmIW5ldyBSZWdFeHAoIi8iK3JlX2NoYXRJRC5zb3VyY2UrIiQiKS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSl7Y2hhdFRvR2V0PU51bWJlci5pc0ludGVnZXIoY2hhdFRvR2V0KT9jaGF0VG9HZXQ6MDtpZihjaGF0VG9HZXQ+ZGF0YS5sZW5ndGgpe3JldHVybiByZWplY3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBDaGF0IHdpdGggaW5kZXggIisoY2hhdFRvR2V0KzEpKyIgaXMgb3V0IG9mIGJvdW5kcy4gT25seSAiK2RhdGEubGVuZ3RoKyIgY2hhdHMgZXhpc3QhIil9Zm9yKGNvbnN0IGRldGFpbCBvZiBkZXRhaWxzVG9HZXQpZGV0YWlsc1RvUmV0dXJuW2RldGFpbF09ZGF0YVtjaGF0VG9HZXRdW2RldGFpbF07cmV0dXJuIHJlc29sdmUoZGV0YWlsc1RvUmV0dXJuKX1jb25zdCBjaGF0SWRlbnRpZmllcj1jaGF0VG9HZXQ9PSJhY3RpdmUifHxuZXcgUmVnRXhwKCJeIityZV9jaGF0SUQuc291cmNlKyIkIikudGVzdChjaGF0VG9HZXQpPyJpZCI6InRpdGxlIjtpZihjaGF0VG9HZXQ9PSJhY3RpdmUiKWNoYXRUb0dldD1yZV9jaGF0SUQuZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZilbMF07bGV0IGlkeCxjaGF0Rm91bmQ7Zm9yKGlkeD0wO2lkeDxkYXRhLmxlbmd0aDtpZHgrKyl7aWYoZGF0YVtpZHhdW2NoYXRJZGVudGlmaWVyXT09PWNoYXRUb0dldCl7Y2hhdEZvdW5kPXRydWU7YnJlYWt9fWlmKCFjaGF0Rm91bmQpcmV0dXJuIHJlamVjdCgi8J+kliBjaGF0Z3B0LmpzID4+IE5vIGNoYXQgd2l0aCAiK2NoYXRJZGVudGlmaWVyKyIgPSAiK2NoYXRUb0dldCsiIGZvdW5kLiIpO2Zvcihjb25zdCBkZXRhaWwgb2YgZGV0YWlsc1RvR2V0KWRldGFpbHNUb1JldHVybltkZXRhaWxdPWRhdGFbaWR4XVtkZXRhaWxdO3JldHVybiByZXNvbHZlKGRldGFpbHNUb1JldHVybil9O3hoci5zZW5kKCl9KX1mdW5jdGlvbiBnZXRDaGF0TXNncyh0b2tlbil7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9Pntjb25zdCB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O2dldENoYXREZXRhaWxzKHRva2VuLFsiaWQiXSkudGhlbihjaGF0PT57eGhyLm9wZW4oIkdFVCIsYCR7ZW5kcG9pbnRzLmNoYXR9LyR7Y2hhdC5pZH1gLHRydWUpO3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIik7eGhyLnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCJCZWFyZXIgIit0b2tlbik7eGhyLm9ubG9hZD0oKT0+e2lmKHhoci5zdGF0dXMhPT0yMDApcmV0dXJuIHJlamVjdCgi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3QgcmV0cmlldmUgY2hhdCBtZXNzYWdlcy4iKTtjb25zdCBkYXRhPUpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkubWFwcGluZztjb25zdCB1c2VyTWVzc2FnZXM9W10sY2hhdEdQVE1lc3NhZ2VzPVtdLG1zZ3NUb1JldHVybj1bXTtmb3IoY29uc3Qga2V5IGluIGRhdGEpaWYoIm1lc3NhZ2UiaW4gZGF0YVtrZXldJiZkYXRhW2tleV0ubWVzc2FnZS5hdXRob3Iucm9sZT09PSJ1c2VyIil1c2VyTWVzc2FnZXMucHVzaCh7aWQ6ZGF0YVtrZXldLmlkLG1zZzpkYXRhW2tleV0ubWVzc2FnZX0pO3VzZXJNZXNzYWdlcy5zb3J0KChhLGIpPT5hLm1zZy5jcmVhdGVfdGltZS1iLm1zZy5jcmVhdGVfdGltZSk7aWYocGFyc2VJbnQobXNnVG9HZXQsMTApKzE+dXNlck1lc3NhZ2VzLmxlbmd0aClyZXR1cm4gcmVqZWN0KCLwn6SWIGNoYXRncHQuanMgPj4gTWVzc2FnZS9yZXNwb25zZSB3aXRoIGluZGV4ICIrKG1zZ1RvR2V0KzEpKyIgaXMgb3V0IG9mIGJvdW5kcy4gT25seSAiK3VzZXJNZXNzYWdlcy5sZW5ndGgrIiBtZXNzYWdlcy9yZXNwb25zZXMgZXhpc3QhIik7Zm9yKGNvbnN0IHVzZXJNZXNzYWdlIG9mIHVzZXJNZXNzYWdlcyl7bGV0IHN1Yj1bXTtmb3IoY29uc3Qga2V5IGluIGRhdGEpe2lmKCJtZXNzYWdlImluIGRhdGFba2V5XSYmZGF0YVtrZXldLm1lc3NhZ2UuYXV0aG9yLnJvbGU9PT0iYXNzaXN0YW50IiYmZGF0YVtrZXldLnBhcmVudD09PXVzZXJNZXNzYWdlLmlkKXtzdWIucHVzaChkYXRhW2tleV0ubWVzc2FnZSl9fXN1Yi5zb3J0KChhLGIpPT5hLmNyZWF0ZV90aW1lLWIuY3JlYXRlX3RpbWUpO3N1Yj1zdWIubWFwKHg9PnguY29udGVudC5wYXJ0c1swXSk7c3ViPXN1Yi5sZW5ndGg9PT0xP3N1YlswXTpzdWI7Y2hhdEdQVE1lc3NhZ2VzLnB1c2goc3ViKX1pZihzZW5kZXI9PT0idXNlciIpZm9yKGNvbnN0IHVzZXJNZXNzYWdlIGluIHVzZXJNZXNzYWdlcyltc2dzVG9SZXR1cm4ucHVzaCh1c2VyTWVzc2FnZXNbdXNlck1lc3NhZ2VdLm1zZy5jb250ZW50LnBhcnRzWzBdKTtlbHNlIGlmKHNlbmRlcj09PSJjaGF0Z3B0Iilmb3IoY29uc3QgY2hhdEdQVE1lc3NhZ2Ugb2YgY2hhdEdQVE1lc3NhZ2VzKW1zZ3NUb1JldHVybi5wdXNoKG1zZ1RvR2V0PT09ImxhdGVzdCI/Y2hhdEdQVE1lc3NhZ2VzW2NoYXRHUFRNZXNzYWdlcy5sZW5ndGgtMV06Y2hhdEdQVE1lc3NhZ2UpO2Vsc2V7bGV0IGk9MDtmb3IoY29uc3QgbWVzc2FnZSBpbiB1c2VyTWVzc2FnZXMpe21zZ3NUb1JldHVybi5wdXNoKHt1c2VyOnVzZXJNZXNzYWdlc1ttZXNzYWdlXS5tc2cuY29udGVudC5wYXJ0c1swXSxjaGF0Z3B0Om1zZ1RvR2V0PT09ImxhdGVzdCI/Y2hhdEdQVE1lc3NhZ2VzW2ldW2NoYXRHUFRNZXNzYWdlc1tpXS5sZW5ndGgtMV06Y2hhdEdQVE1lc3NhZ2VzW2ldfSk7aSsrfX1yZXR1cm4gcmVzb2x2ZShtc2dUb0dldD09PSJhbGwiP21zZ3NUb1JldHVybjptc2dUb0dldD09PSJsYXRlc3QiP21zZ3NUb1JldHVyblttc2dzVG9SZXR1cm4ubGVuZ3RoLTFdOm1zZ3NUb1JldHVyblttc2dUb0dldF0pfTt4aHIuc2VuZCgpfSl9KX19LGdldENoYXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiBjaGF0Z3B0LmdldENoYXRCb3goKS52YWx1ZX0sZ2V0Q29udGludWVHZW5lcmF0aW5nQnV0dG9uOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGZvcm1CdXR0b24gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24iKSl7aWYoZm9ybUJ1dHRvbi50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJjb250aW51ZSIpKXtyZXR1cm4gZm9ybUJ1dHRvbn19fSxnZXRMYXN0UHJvbXB0OmZ1bmN0aW9uKCl7cmV0dXJuIGNoYXRncHQuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsInVzZXIiLCJsYXRlc3QiKX0sZ2V0TGFzdFJlc3BvbnNlOmZ1bmN0aW9uKCl7cmV0dXJuIGNoYXRncHQuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKX0sZ2V0TmV3Q2hhdExpbms6ZnVuY3Rpb24oKXtmb3IoY29uc3QgbmF2TGluayBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCduYXZbYXJpYS1sYWJlbD0iQ2hhdCBoaXN0b3J5Il0gYScpKXtpZigvKG5ld3xjbGVhcikgY2hhdC9pLnRlc3QobmF2TGluay50ZXh0KSl7cmV0dXJuIG5hdkxpbmt9fX0sZ2V0UmVnZW5lcmF0ZUJ1dHRvbjpmdW5jdGlvbigpe2Zvcihjb25zdCBmb3JtQnV0dG9uIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImZvcm0gYnV0dG9uIikpe2lmKGZvcm1CdXR0b24udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygicmVnZW5lcmF0ZSIpKXtyZXR1cm4gZm9ybUJ1dHRvbn19fSxnZXRSZXNwb25zZTpmdW5jdGlvbigpe2lmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnN0YXJ0c1dpdGgoImh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2MvIikpcmV0dXJuIGNoYXRncHQuZ2V0UmVzcG9uc2VGcm9tRE9NLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlbHNlIHJldHVybiBjaGF0Z3B0LmdldFJlc3BvbnNlRnJvbUFQSS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdldFJlc3BvbnNlRnJvbUFQSTpmdW5jdGlvbihjaGF0VG9HZXQscmVzcG9uc2VUb0dldCl7cmV0dXJuIGNoYXRncHQucmVzcG9uc2UuZ2V0RnJvbUFQSShjaGF0VG9HZXQscmVzcG9uc2VUb0dldCl9LGdldFJlc3BvbnNlRnJvbURPTTpmdW5jdGlvbihwb3Mpe3JldHVybiBjaGF0Z3B0LnJlc3BvbnNlLmdldEZyb21ET00ocG9zKX0sZ2V0U2VuZEJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtIGJ1dHRvbltjbGFzcyo9ImJvdHRvbSJdJyl9LGdldFN0b3BHZW5lcmF0aW5nQnV0dG9uOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGZvcm1CdXR0b24gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24iKSl7aWYoZm9ybUJ1dHRvbi50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJzdG9wIikpe3JldHVybiBmb3JtQnV0dG9ufX19LGdldFVzZXJMYW5ndWFnZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHxuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8IiJ9LGhpc3Rvcnk6e2lzT246ZnVuY3Rpb24oKXtmb3IoY29uc3QgbmF2TGluayBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCduYXZbYXJpYS1sYWJlbD0iQ2hhdCBoaXN0b3J5Il0gYScpKXtpZigvY2xlYXIgY2hhdC9pLnRlc3QobmF2TGluay50ZXh0KSlyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9LGlzT2ZmOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNPbigpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuaXNPZmYoKT90aGlzLnRvZ2dsZSgpOmNvbnNvbGUuaW5mbygi8J+kliBjaGF0Z3B0LmpzID4+IENoYXQgaGlzdG9yeSBpcyBhbHJlYWR5IGVuYWJsZWQhIil9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmlzT24oKT90aGlzLnRvZ2dsZSgpOmNvbnNvbGUuaW5mbygi8J+kliBjaGF0Z3B0LmpzID4+IENoYXQgaGlzdG9yeSBpcyBhbHJlYWR5IGRpc2FibGVkISIpfSx0b2dnbGU6ZnVuY3Rpb24oKXtmb3IoY29uc3QgbmF2QnRuIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdlthcmlhLWxhYmVsPSJDaGF0IGhpc3RvcnkiXSBidXR0b24nKSl7aWYoL2NoYXQgaGlzdG9yeS9pLnRlc3QobmF2QnRuLnRleHRDb250ZW50KSluYXZCdG4uY2xpY2soKTtyZXR1cm59fX0saXNEYXJrTW9kZTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkYXJrIil9LGlzRnVsbFNjcmVlbjpmdW5jdGlvbigpe2NvbnN0IHVzZXJBZ2VudFN0cj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiB1c2VyQWdlbnRTdHIuaW5jbHVkZXMoIkNocm9tZSIpP3dpbmRvdy5tYXRjaE1lZGlhKCIoZGlzcGxheS1tb2RlOiBmdWxsc2NyZWVuKSIpLm1hdGNoZXM6dXNlckFnZW50U3RyLmluY2x1ZGVzKCJGaXJlZm94Iik/d2luZG93LmZ1bGxTY3JlZW46L01TSUV8cnY6Ly50ZXN0KHVzZXJBZ2VudFN0cik/ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudDpkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW59LGlzSWRsZTpmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT57Y29uc3QgaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbCgoKT0+e2lmKGNoYXRncHQuZ2V0UmVnZW5lcmF0ZUJ1dHRvbigpKXtjbGVhckludGVydmFsKGludGVydmFsSWQpO3Jlc29sdmUoKX19LDEwMCl9KX0saXNMb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e2NvbnN0IGludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCk9PntpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYgYnV0dG9uW2lkKj0ibWVudSJdJykpe2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7cmVzb2x2ZSgpfX0sMTAwKX0pfSxpc0xpZ2h0TW9kZTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJsaWdodCIpfSxsb2dvdXQ6ZnVuY3Rpb24oKXtjb25zdCBtZW51QnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdiBidXR0b25baWQqPSJoZWFkbGVzcyJdJyl8fHt9O3RyeXttZW51QnRuLmNsaWNrKCl9Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoIvCfpJYgY2hhdGdwdC5qcyA+PiBIZWFkbGVzcyBtZW51IG5vdCBmb3VuZCIpO3JldHVybn1zZXRUaW1lb3V0KCgpPT57Y29uc3QgbWVudUl0ZW1zPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Fbcm9sZT0ibWVudWl0ZW0iXScpfHxbXTtmb3IoY29uc3QgbWVudUl0ZW0gb2YgbWVudUl0ZW1zKXtpZigvbG9nIG91dC9pLnRlc3QobWVudUl0ZW0udGV4dENvbnRlbnQpKXttZW51SXRlbS5jbGljaygpO2JyZWFrfX19LDEwKX0sbm90aWZ5OmZ1bmN0aW9uKG1zZyxwb3NpdGlvbixub3RpZkR1cmF0aW9uLHNoYWRvdyl7bm90aWZEdXJhdGlvbj1ub3RpZkR1cmF0aW9uPytub3RpZkR1cmF0aW9uOjEuNzU7Y29uc3QgZmFkZUR1cmF0aW9uPS42O2NvbnN0IHZwWW9mZnNldD0yMyx2cFhvZmZzZXQ9Mjc7Y29uc3Qgbm90aWZpY2F0aW9uRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO25vdGlmaWNhdGlvbkRpdi5pZD1NYXRoLmZsb29yKGNoYXRncHQucmFuZG9tRmxvYXQoKSoxZTYpK0RhdGUubm93KCk7bm90aWZpY2F0aW9uRGl2LnN0eWxlLmNzc1RleHQ9IiBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjayA7IHBhZGRpbmc6IDEwcHggOyBib3JkZXItcmFkaXVzOiA4cHggOyAiKyIgb3BhY2l0eTogMCA7IHBvc2l0aW9uOiBmaXhlZCA7IHotaW5kZXg6IDk5OTkgOyBmb250LXNpemU6IDEuOHJlbSA7IGNvbG9yOiB3aGl0ZSA7ICIrIiAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lIDsgLW1vei11c2VyLXNlbGVjdDogbm9uZSA7IC1tcy11c2VyLXNlbGVjdDogbm9uZSA7IHVzZXItc2VsZWN0OiBub25lIDsgIisoc2hhZG93PyJib3gtc2hhZG93OiAtOHB4IDEzcHggMjVweCAwICIrKC9cYihzaGFkb3d8b24pXGIvZ2kudGVzdChzaGFkb3cpPyJncmF5IjpzaGFkb3cpOiIiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbkRpdik7bm90aWZpY2F0aW9uRGl2LmlzVG9wPSFwb3NpdGlvbnx8IS9sb3d8Ym90dG9tL2kudGVzdChwb3NpdGlvbik7bm90aWZpY2F0aW9uRGl2LmlzUmlnaHQ9IXBvc2l0aW9ufHwhL2xlZnQvaS50ZXN0KHBvc2l0aW9uKTtub3RpZmljYXRpb25EaXYucXVhZHJhbnQ9KG5vdGlmaWNhdGlvbkRpdi5pc1RvcD8idG9wIjoiYm90dG9tIikrKG5vdGlmaWNhdGlvbkRpdi5pc1JpZ2h0PyJSaWdodCI6IkxlZnQiKTtub3RpZnlRdWV1ZT1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ub3RpZnlRdWV1ZSk7bm90aWZ5UXVldWUucXVhZHJhbnRzW25vdGlmaWNhdGlvbkRpdi5xdWFkcmFudF0ucHVzaChub3RpZmljYXRpb25EaXYuaWQpO2xvY2FsU3RvcmFnZS5ub3RpZnlRdWV1ZT1KU09OLnN0cmluZ2lmeShub3RpZnlRdWV1ZSk7bm90aWZpY2F0aW9uRGl2LnN0eWxlLnRvcD1ub3RpZmljYXRpb25EaXYuaXNUb3A/dnBZb2Zmc2V0LnRvU3RyaW5nKCkrInB4IjoiIjtub3RpZmljYXRpb25EaXYuc3R5bGUuYm90dG9tPSFub3RpZmljYXRpb25EaXYuaXNUb3A/dnBZb2Zmc2V0LnRvU3RyaW5nKCkrInB4IjoiIjtub3RpZmljYXRpb25EaXYuc3R5bGUucmlnaHQ9bm90aWZpY2F0aW9uRGl2LmlzUmlnaHQ/dnBYb2Zmc2V0LnRvU3RyaW5nKCkrInB4IjoiIjtub3RpZmljYXRpb25EaXYuc3R5bGUubGVmdD0hbm90aWZpY2F0aW9uRGl2LmlzUmlnaHQ/dnBYb2Zmc2V0LnRvU3RyaW5nKCkrInB4IjoiIjtjb25zdCB0aGlzUXVhZHJhbnREaXZJRHM9bm90aWZ5UXVldWUucXVhZHJhbnRzW25vdGlmaWNhdGlvbkRpdi5xdWFkcmFudF07aWYodGhpc1F1YWRyYW50RGl2SURzLmxlbmd0aD4xKXt0cnl7Zm9yKGNvbnN0IGRpdklkIG9mIHRoaXNRdWFkcmFudERpdklEcy5zbGljZSgwLC0xKSl7Y29uc3Qgb2xkRGl2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtjb25zdCBvZmZzZXRQcm9wPW9sZERpdi5zdHlsZS50b3A/InRvcCI6ImJvdHRvbSI7Y29uc3Qgdk9mZnNldD0rL1xkKy8uZXhlYyhvbGREaXYuc3R5bGVbb2Zmc2V0UHJvcF0pWzBdKzUrb2xkRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtvbGREaXYuc3R5bGVbb2Zmc2V0UHJvcF09YCR7dk9mZnNldH1weGB9fWNhdGNoKGVycm9yKXt9fW5vdGlmaWNhdGlvbkRpdi5pbm5lclRleHQ9bXNnO25vdGlmaWNhdGlvbkRpdi5zdHlsZS50cmFuc2l0aW9uPSJub25lIjtub3RpZmljYXRpb25EaXYuc3R5bGUub3BhY2l0eT0xO2NvbnN0IGhpZGVEZWxheT1mYWRlRHVyYXRpb24+bm90aWZEdXJhdGlvbj8wOm5vdGlmRHVyYXRpb24tZmFkZUR1cmF0aW9uO25vdGlmaWNhdGlvbkRpdi5oaWRlVGltZXI9c2V0VGltZW91dCgoKT0+e25vdGlmaWNhdGlvbkRpdi5zdHlsZS50cmFuc2l0aW9uPSJvcGFjaXR5ICIrZmFkZUR1cmF0aW9uLnRvU3RyaW5nKCkrInMiO25vdGlmaWNhdGlvbkRpdi5zdHlsZS5vcGFjaXR5PTA7bm90aWZpY2F0aW9uRGl2LmhpZGVUaW1lcj1udWxsfSxoaWRlRGVsYXkqMWUzKTtub3RpZmljYXRpb25EaXYuZGVzdHJveVRpbWVyPXNldFRpbWVvdXQoKCk9Pntub3RpZmljYXRpb25EaXYucmVtb3ZlKCk7bm90aWZ5UXVldWU9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uubm90aWZ5UXVldWUpO25vdGlmeVF1ZXVlLnF1YWRyYW50c1tub3RpZmljYXRpb25EaXYucXVhZHJhbnRdLnNoaWZ0KCk7bG9jYWxTdG9yYWdlLm5vdGlmeVF1ZXVlPUpTT04uc3RyaW5naWZ5KG5vdGlmeVF1ZXVlKTtub3RpZmljYXRpb25EaXYuZGVzdHJveVRpbWVyPW51bGx9LE1hdGgubWF4KGZhZGVEdXJhdGlvbixub3RpZkR1cmF0aW9uKSoxZTMpfSxwcmludEFsbEZ1bmN0aW9uczpmdW5jdGlvbigpe2NvbnN0IGZ1bmN0aW9uTmFtZXM9W107Zm9yKGNvbnN0IHByb3AgaW4gdGhpcyl7aWYodHlwZW9mIHRoaXNbcHJvcF09PT0iZnVuY3Rpb24iKXtjb25zdCBjaGF0Z3B0SXNQYXJlbnQ9IU9iamVjdC5rZXlzKHRoaXMpLmZpbmQob2JqPT5PYmplY3Qua2V5cyh0aGlzW29ial0pLmluY2x1ZGVzKHRoaXNbcHJvcF0ubmFtZSkpO2NvbnN0IGZ1bmN0aW9uUGFyZW50PWNoYXRncHRJc1BhcmVudD8iY2hhdGdwdCI6Im90aGVyIjtmdW5jdGlvbk5hbWVzLnB1c2goW2Z1bmN0aW9uUGFyZW50LHByb3BdKX1lbHNlIGlmKHR5cGVvZiB0aGlzW3Byb3BdPT09Im9iamVjdCIpe2Zvcihjb25zdCBuZXN0ZWRQcm9wIGluIHRoaXNbcHJvcF0pe2lmKHR5cGVvZiB0aGlzW3Byb3BdW25lc3RlZFByb3BdPT09ImZ1bmN0aW9uIil7ZnVuY3Rpb25OYW1lcy5wdXNoKFtwcm9wLG5lc3RlZFByb3BdKX19fX1mdW5jdGlvbk5hbWVzLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pfHxhWzFdLmxvY2FsZUNvbXBhcmUoYlsxXSl9KTtmb3IoY29uc3QgZnVuY3Rpb25OYW1lIG9mIGZ1bmN0aW9uTmFtZXMpe2NvbnNvbGUuaW5mbygi8J+kliBjaGF0Z3B0LmpzID4+ICIrKC9jaGF0Z3B0fG90aGVyLy50ZXN0KGZ1bmN0aW9uTmFtZVswXSk/IiI6ZnVuY3Rpb25OYW1lWzBdKyIuIikrZnVuY3Rpb25OYW1lWzFdKyI6IFsiKyhmdW5jdGlvbk5hbWVbMF09PT0iY2hhdGdwdCImJmZ1bmN0aW9uTmFtZVsxXT09PXRoaXNbZnVuY3Rpb25OYW1lWzFdXS5uYW1lfHwhL2NoYXRncHR8b3RoZXIvLnRlc3QoZnVuY3Rpb25OYW1lWzBdKT8iRnVuY3Rpb24iOiJBbGlhcyBvZiIpKyI6ICIrKGZ1bmN0aW9uTmFtZVswXT09PSJjaGF0Z3B0Ij90aGlzW2Z1bmN0aW9uTmFtZVsxXV0ubmFtZTpmdW5jdGlvbk5hbWVbMF0hPT0ib3RoZXIiP2Z1bmN0aW9uTmFtZVswXSsiLiIrZnVuY3Rpb25OYW1lWzFdOk9iamVjdC5rZXlzKHRoaXMpLmZpbmQob2JqPT5PYmplY3Qua2V5cyh0aGlzW29ial0pLmluY2x1ZGVzKHRoaXNbZnVuY3Rpb25OYW1lWzFdXS5uYW1lKSkrIi4iK3RoaXNbZnVuY3Rpb25OYW1lWzFdXS5uYW1lKSsiXSIpfX0scmFuZG9tRmxvYXQ6ZnVuY3Rpb24oKXtjb25zdCBjcnlwdG89d2luZG93LmNyeXB0b3x8d2luZG93Lm1zQ3J5cHRvO3JldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF0vNDI5NDk2NzI5NX0scmVnZW5lcmF0ZTpmdW5jdGlvbigpe2Zvcihjb25zdCBmb3JtQnV0dG9uIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImZvcm0gYnV0dG9uIikpe2lmKGZvcm1CdXR0b24udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygicmVnZW5lcmF0ZSIpKXtmb3JtQnV0dG9uLmNsaWNrKCk7cmV0dXJufX19LHJlbmRlckhUTUw6ZnVuY3Rpb24obm9kZSl7Y29uc3QgcmVUYWdzPS88KFthLXpcZF0rKVxiKFtePl0qKT4oW1xzXFNdKj8pPFwvXDE+L2c7Y29uc3QgcmVBdHRyaWJ1dGVzPS8oXFMrKT1bJyJdPygoPzouKD8hWyciXT9ccysoPzpcUyspPXxbPiddKSkrLilbJyJdPy9nO2NvbnN0IG5vZGVDb250ZW50PW5vZGUuY2hpbGROb2RlcztpZighdGhpcy5yZW5kZXJIVE1MLnByZVdyYXBTZXQpe25vZGUuc3R5bGUud2hpdGVTcGFjZT0icHJlLXdyYXAiO3RoaXMucmVuZGVySFRNTC5wcmVXcmFwU2V0PXRydWU7c2V0VGltZW91dCgoKT0+e3RoaXMucmVuZGVySFRNTC5wcmVXcmFwU2V0PWZhbHNlfSwxMDApfWZvcihjb25zdCBjaGlsZE5vZGUgb2Ygbm9kZUNvbnRlbnQpe2lmKGNoaWxkTm9kZS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXtjb25zdCB0ZXh0PWNoaWxkTm9kZS5ub2RlVmFsdWU7Y29uc3QgZWxlbXM9QXJyYXkuZnJvbSh0ZXh0Lm1hdGNoQWxsKHJlVGFncykpO2lmKGVsZW1zLmxlbmd0aD4wKXtjb25zdCBlbGVtPWVsZW1zWzBdO2NvbnN0W3RhZ0NvbnRlbnQsdGFnTmFtZSx0YWdBdHRyaWJ1dGVzLHRhZ1RleHRdPWVsZW0uc2xpY2UoMCw0KTtjb25zdCB0YWdOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7dGFnTm9kZS50ZXh0Q29udGVudD10YWdUZXh0O2NvbnN0IGF0dHJpYnV0ZXM9QXJyYXkuZnJvbSh0YWdBdHRyaWJ1dGVzLm1hdGNoQWxsKHJlQXR0cmlidXRlcykpO2F0dHJpYnV0ZXMuZm9yRWFjaChhdHRyaWJ1dGU9Pntjb25zdCBuYW1lPWF0dHJpYnV0ZVsxXSx2YWx1ZT1hdHRyaWJ1dGVbMl0ucmVwbGFjZSgvWyciXS9nLCIiKTt0YWdOb2RlLnNldEF0dHJpYnV0ZShuYW1lLHZhbHVlKX0pO2NvbnN0IHJlbmRlcmVkTm9kZT10aGlzLnJlbmRlckhUTUwodGFnTm9kZSk7Y29uc3QgYmVmb3JlVGV4dE5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dC5zdWJzdHJpbmcoMCxlbGVtLmluZGV4KSk7Y29uc3QgYWZ0ZXJUZXh0Tm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0LnN1YnN0cmluZyhlbGVtLmluZGV4K3RhZ0NvbnRlbnQubGVuZ3RoKSk7bm9kZS5yZXBsYWNlQ2hpbGQoYmVmb3JlVGV4dE5vZGUsY2hpbGROb2RlKTtub2RlLmluc2VydEJlZm9yZShyZW5kZXJlZE5vZGUsYmVmb3JlVGV4dE5vZGUubmV4dFNpYmxpbmcpO25vZGUuaW5zZXJ0QmVmb3JlKGFmdGVyVGV4dE5vZGUscmVuZGVyZWROb2RlLm5leHRTaWJsaW5nKX19ZWxzZSBpZihjaGlsZE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl0aGlzLnJlbmRlckhUTUwoY2hpbGROb2RlKX1yZXR1cm4gbm9kZX0scmVzZW5kOmFzeW5jIGZ1bmN0aW9uKCl7Y2hhdGdwdC5zZW5kKGF3YWl0IGNoYXRncHQuZ2V0Q2hhdERhdGEoImxhdGVzdCIsIm1zZyIsInVzZXIiLCJsYXRlc3QiKSl9LHJlc3BvbnNlOntnZXQ6ZnVuY3Rpb24oKXtpZih3aW5kb3cubG9jYXRpb24uaHJlZi5zdGFydHNXaXRoKCJodHRwczovL2NoYXQub3BlbmFpLmNvbS9jLyIpKXJldHVybiB0aGlzLmdldEZyb21ET00uYXBwbHkobnVsbCxhcmd1bWVudHMpO2Vsc2UgcmV0dXJuIHRoaXMuZ2V0RnJvbUFQSS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdldEZyb21BUEk6ZnVuY3Rpb24oY2hhdFRvR2V0LHJlc3BvbnNlVG9HZXQpe2NoYXRUb0dldD1jaGF0VG9HZXR8fCJsYXRlc3QiO3Jlc3BvbnNlVG9HZXQ9cmVzcG9uc2VUb0dldHx8ImxhdGVzdCI7cmV0dXJuIGNoYXRncHQuZ2V0Q2hhdERhdGEoY2hhdFRvR2V0LCJtc2ciLCJjaGF0Z3B0IixyZXNwb25zZVRvR2V0KX0sZ2V0RnJvbURPTTpmdW5jdGlvbihwb3Mpe2NvbnN0IHJlc3BvbnNlRGl2cz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJtYWluID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2W2NsYXNzKj1ncm91cF0iKTtjb25zdCBzdHJQb3M9cG9zLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtpZigvbGFzdHxmaW5hbC8udGVzdChzdHJQb3MpKXtyZXR1cm4gcmVzcG9uc2VEaXZzLmxlbmd0aD9yZXNwb25zZURpdnNbcmVzcG9uc2VEaXZzLmxlbmd0aC0xXS50ZXh0Q29udGVudDoiIn1lbHNle2NvbnN0IG50aE9mUmVzcG9uc2U9TnVtYmVyLmlzSW50ZWdlcihwb3MpP3BvczovXlxkKy8udGVzdChzdHJQb3MpPy9eXGQrLy5leGVjKHN0clBvcylbMF06KC9eKDF8b25lfGZpcikoc3QpPyQvLnRlc3Qoc3RyUG9zKT8xOi9eKDJ8dHcob3xlbnxlbCh2ZXxmKSl8c2VjbykobmR8dFt5aV0pPyhlP3RoKT8kLy50ZXN0KHN0clBvcyk/MjovXigzfHRoKHJlZXxpcj8pKShyZHx0ZWVufHRbeWldKT8oZT90aCk/JC8udGVzdChzdHJQb3MpPzM6L14oNHxmb3U/cikodGVlbnx0W3lpXSk/KGU/dGgpPyQvLnRlc3Qoc3RyUG9zKT80Oi9eKDV8ZmkodmV8ZikpKHRlZW58dFt5aV0pPyhlP3RoKT8kLy50ZXN0KHN0clBvcyk/NTovXig2fHNpeCkodGVlbnx0W3lpXSk/KGU/dGgpPyQvLnRlc3Qoc3RyUG9zKT82Oi9eKDd8c2V2ZW4pKHRlZW58dFt5aV0pPyhlP3RoKT8kLy50ZXN0KHN0clBvcyk/NzovXig4fGVpZ2h0PykodGVlbnx0W3lpXSk/KGU/dGgpPyQvLnRlc3Qoc3RyUG9zKT84Oi9eKDl8bmluZT8pKHRlZW58dFt5aV0pPyhlP3RoKT8kLy50ZXN0KHN0clBvcyk/OTovXigxMHx0ZW4pKHRoKT8kLy50ZXN0KHN0clBvcyk/MTA6MSkqKC8odHl8aWV0aCkkLy50ZXN0KHN0clBvcyk/MTA6MSkrKC90ZWVuKHRoKT8kLy50ZXN0KHN0clBvcyk/MTA6MCk7cmV0dXJuIHJlc3BvbnNlRGl2cy5sZW5ndGg/cmVzcG9uc2VEaXZzW250aE9mUmVzcG9uc2UtMV0udGV4dENvbnRlbnQ6IiJ9fSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIGNoYXRncHQuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKX0scmVnZW5lcmF0ZTpmdW5jdGlvbigpe2Zvcihjb25zdCBmb3JtQnV0dG9uIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImZvcm0gYnV0dG9uIikpe2lmKGZvcm1CdXR0b24udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygicmVnZW5lcmF0ZSIpKXtmb3JtQnV0dG9uLmNsaWNrKCk7cmV0dXJufX19LHN0b3BHZW5lcmF0aW5nOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGZvcm1CdXR0b24gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24iKSl7aWYoZm9ybUJ1dHRvbi50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJzdG9wIikpe2Zvcm1CdXR0b24uY2xpY2soKTtyZXR1cm59fX19LHNjaGVtZTp7aXNEYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImRhcmsiKX0saXNMaWdodDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJsaWdodCIpfSx0b2dnbGU6ZnVuY3Rpb24oKXtjb25zdFtzY2hlbWVUb1JlbW92ZSxzY2hlbWVUb0FkZF09dGhpcy5pc0RhcmsoKT9bImRhcmsiLCJsaWdodCJdOlsibGlnaHQiLCJkYXJrIl07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKHNjaGVtZVRvUmVtb3ZlLHNjaGVtZVRvQWRkKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY29sb3JTY2hlbWU9c2NoZW1lVG9BZGR9fSxzY3JvbGxUb0JvdHRvbTpmdW5jdGlvbigpe3RyeXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bY2xhc3MqPSJjdXJzb3IiXVtjbGFzcyo9ImJvdHRvbSJdJykuY2xpY2soKX1jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcigi8J+kliBjaGF0Z3B0LmpzID4+ICIsZXJyb3IpfX0sc2VuZDpmdW5jdGlvbihtc2csbWV0aG9kPSIiKXtjb25zdCB0ZXh0QXJlYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJmb3JtIHRleHRhcmVhIik7Y29uc3Qgc2VuZEJ1dHRvbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtIGJ1dHRvbltjbGFzcyo9ImJvdHRvbSJdJyk7dGV4dEFyZWEudmFsdWU9bXNnO3RleHRBcmVhLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJpbnB1dCIse2J1YmJsZXM6dHJ1ZX0pKTtjb25zdCBkZWxheVNlbmQ9c2V0SW50ZXJ2YWwoKCk9PntpZighc2VuZEJ1dHRvbi5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpe21ldGhvZC50b0xvd2VyQ2FzZSgpPT0iY2xpY2siP3NlbmRCdXR0b24uY2xpY2soKTp0ZXh0QXJlYS5kaXNwYXRjaEV2ZW50KG5ldyBLZXlib2FyZEV2ZW50KCJrZXlkb3duIix7a2V5Q29kZToxMyxidWJibGVzOnRydWV9KSk7Y2xlYXJJbnRlcnZhbChkZWxheVNlbmQpfX0sMjUpfSxzZW5kSW5OZXdDaGF0OmZ1bmN0aW9uKG1zZyl7Zm9yKGNvbnN0IG5hdkxpbmsgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2W2FyaWEtbGFiZWw9IkNoYXQgaGlzdG9yeSJdIGEnKSl7aWYoLyhuZXd8Y2xlYXIpIGNoYXQvaS50ZXN0KG5hdkxpbmsudGV4dCkpe25hdkxpbmsuY2xpY2soKTticmVha319c2V0VGltZW91dCgoKT0+e2NoYXRncHQuc2VuZChtc2cpfSw1MDApfSxzaGFyZUNoYXQ6ZnVuY3Rpb24oY2hhdFRvR2V0LG1ldGhvZD0iY2xpcGJvYXJkIil7Y29uc3QgdmFsaWRNZXRob2RzPVsiYWxlcnQiLCJub3RpZnkiLCJub3RpZmljYXRpb24iLCJjbGlwYm9hcmQiLCJjb3B5Il07aWYoIXZhbGlkTWV0aG9kcy5pbmNsdWRlcyhtZXRob2QpKXJldHVybiBjb25zb2xlLmVycm9yKCLwn6SWIGNoYXRncHQuanMgPj4gSW52YWxpZCBtZXRob2QgJyIrbWV0aG9kKyInIHBhc3NlZC4gVmFsaWQgbWV0aG9kcyBhcmUgWyIrdmFsaWRNZXRob2RzKyJdLiIpO3JldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT57Y2hhdGdwdC5nZXRBY2Nlc3NUb2tlbigpLnRoZW4odG9rZW49PntnZXRDaGF0Tm9kZSh0b2tlbikudGhlbihub2RlPT57bWFrZUNoYXRUb1NoYXJlKHRva2VuLG5vZGUpLnRoZW4oZGF0YT0+e2NvbmZpcm1TaGFyZUNoYXQodG9rZW4sZGF0YSkudGhlbigoKT0+e3Jlc29sdmUoKTtpZihbImNvcHkiLCJjbGlwYm9hcmQiXS5pbmNsdWRlcyhtZXRob2QpKW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGRhdGEuc2hhcmVfdXJsKTtlbHNlIGNoYXRncHQuYWxlcnQoIvCfmoAgU2hhcmUgbGluayBjcmVhdGVkISIsJyInK2RhdGEudGl0bGUrJyIgaXMgYXZhaWxhYmxlIGF0OiA8YSB0YXJnZXQ9ImJsYW5rIiByZWw9Im5vb3BlbmVyIiBocmVmPSInK2RhdGEuc2hhcmVfdXJsKyciID4nK2RhdGEuc2hhcmVfdXJsKyI8L2E+IixbZnVuY3Rpb24gb3BlbkxpbmsoKXt3aW5kb3cub3BlbihkYXRhLnNoYXJlX3VybCwiX2JsYW5rIiwibm9vcGVuZXIiKX0sZnVuY3Rpb24gY29weUxpbmsoKXtuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChkYXRhLnNoYXJlX3VybCl9XSl9KX0pfSl9KX0pO2Z1bmN0aW9uIGdldENoYXROb2RlKHRva2VuKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7Y2hhdGdwdC5nZXRDaGF0RGF0YShjaGF0VG9HZXQpLnRoZW4oY2hhdD0+e3hoci5vcGVuKCJHRVQiLGAke2VuZHBvaW50cy5jaGF0fS8ke2NoYXQuaWR9YCx0cnVlKTt4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vanNvbiIpO3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwiQmVhcmVyICIrdG9rZW4pO3hoci5vbmxvYWQ9KCk9PntpZih4aHIuc3RhdHVzIT09MjAwKXJldHVybiByZWplY3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHJldHJpZXZlIGNoYXQgbm9kZS4iKTtyZXR1cm4gcmVzb2x2ZShKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLmN1cnJlbnRfbm9kZSl9O3hoci5zZW5kKCl9KX0pfWZ1bmN0aW9uIG1ha2VDaGF0VG9TaGFyZSh0b2tlbixub2RlKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7Y2hhdGdwdC5nZXRDaGF0RGF0YShjaGF0VG9HZXQpLnRoZW4oY2hhdD0+e3hoci5vcGVuKCJQT1NUIixlbmRwb2ludHMuc2hhcmVfY3JlYXRlLHRydWUpO3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIik7eGhyLnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCJCZWFyZXIgIit0b2tlbik7eGhyLm9ubG9hZD0oKT0+e2lmKHhoci5zdGF0dXMhPT0yMDApcmV0dXJuIHJlamVjdCgi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3QgaW5pdGlhbGl6ZSBzaGFyZSBjaGF0LiIpO3JldHVybiByZXNvbHZlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpfTt4aHIuc2VuZChKU09OLnN0cmluZ2lmeSh7Y3VycmVudF9ub2RlX2lkOm5vZGUsY29udmVyc2F0aW9uX2lkOmNoYXQuaWQsaXNfYW5vbnltb3VzOnRydWV9KSl9KX0pfWZ1bmN0aW9uIGNvbmZpcm1TaGFyZUNoYXQodG9rZW4sZGF0YSl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9Pntjb25zdCB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3hoci5vcGVuKCJQQVRDSCIsYCR7ZW5kcG9pbnRzLnNoYXJlfS8ke2RhdGEuc2hhcmVfaWR9YCx0cnVlKTt4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vanNvbiIpO3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwiQmVhcmVyICIrdG9rZW4pO3hoci5vbmxvYWQ9KCk9PntpZih4aHIuc3RhdHVzIT09MjAwKXJldHVybiByZWplY3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHNoYXJlIGNoYXQuIik7Y29uc29sZS5pbmZvKGDwn6SWIGNoYXRncHQuanMgPj4gQ2hhdCBzaGFyZWQgYXQgJyR7ZGF0YS5zaGFyZV91cmx9J2ApO3JldHVybiByZXNvbHZlKCl9O3hoci5zZW5kKEpTT04uc3RyaW5naWZ5KHtzaGFyZV9pZDpkYXRhLnNoYXJlX2lkLGhpZ2hsaWdodGVkX21lc3NhZ2VfaWQ6ZGF0YS5oaWdobGlnaHRlZF9tZXNzYWdlX2lkLHRpdGxlOmRhdGEudGl0bGUsaXNfcHVibGljOnRydWUsaXNfdmlzaWJsZTpkYXRhLmlzX3Zpc2libGUsaXNfYW5vbnltb3VzOmRhdGEuaXNfYW5vbnltb3VzfSkpfSl9fSxzaWRlYmFyOntpc09uOmZ1bmN0aW9uKCl7cmV0dXJuIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblthcmlhLWxhYmVsKj0iT3BlbiBzaWRlYmFyIl0nKX0saXNPZmY6ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblthcmlhLWxhYmVsKj0iT3BlbiBzaWRlYmFyIl0nKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuaXNPbigpP3RoaXMudG9nZ2xlKCk6Y29uc29sZS5pbmZvKCLwn6SWIGNoYXRncHQuanMgPj4gU2lkZWJhciBhbHJlYWR5IGhpZGRlbiEiKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuaXNPZmYoKT90aGlzLnRvZ2dsZSgpOmNvbnNvbGUuaW5mbygi8J+kliBjaGF0Z3B0LmpzID4+IFNpZGViYXIgYWxyZWFkeSBzaG93biEiKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IG5hdkxpbmsgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2W2FyaWEtbGFiZWw9IkNoYXQgaGlzdG9yeSJdIGEnKSl7aWYoL2Nsb3NlIHNpZGViYXIvaS50ZXN0KG5hdkxpbmsudGV4dCkpe25hdkxpbmsuY2xpY2soKTtyZXR1cm59fX19LHN0YXJ0TmV3Q2hhdDpmdW5jdGlvbigpe2Zvcihjb25zdCBuYXZMaW5rIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ25hdlthcmlhLWxhYmVsPSJDaGF0IGhpc3RvcnkiXSBhJykpe2lmKC8obmV3fGNsZWFyKSBjaGF0L2kudGVzdChuYXZMaW5rLnRleHQpKXtuYXZMaW5rLmNsaWNrKCk7cmV0dXJufX19LHN0b3A6ZnVuY3Rpb24oKXtmb3IoY29uc3QgZm9ybUJ1dHRvbiBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJmb3JtIGJ1dHRvbiIpKXtpZihmb3JtQnV0dG9uLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoInN0b3AiKSl7Zm9ybUJ1dHRvbi5jbGljaygpO3JldHVybn19fSx0b2dnbGVTY2hlbWU6ZnVuY3Rpb24oKXtjb25zdFtzY2hlbWVUb1JlbW92ZSxzY2hlbWVUb0FkZF09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZGFyayIpP1siZGFyayIsImxpZ2h0Il06WyJsaWdodCIsImRhcmsiXTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2Uoc2NoZW1lVG9SZW1vdmUsc2NoZW1lVG9BZGQpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jb2xvclNjaGVtZT1zY2hlbWVUb0FkZH0sdXVpZHY0OmZ1bmN0aW9uKCl7bGV0IGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Y29uc3QgdXVpZD0ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csYz0+e2NvbnN0IHI9KGQrd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXS8oTWF0aC5wb3coMiwzMiktMSkqMTYpJTE2fDA7ZD1NYXRoLmZsb29yKGQvMTYpO3JldHVybihjPT0ieCI/cjpyJjN8OCkudG9TdHJpbmcoMTYpfSk7cmV0dXJuIHV1aWR9fTtjb25zdCBidXR0b25BY3Rpb25zPVsiY2xpY2siLCJnZXQiXSx0YXJnZXRUeXBlcz1bImJ1dHRvbiIsImxpbmsiLCJkaXYiLCJyZXNwb25zZSJdO2Zvcihjb25zdCBidXR0b25BY3Rpb24gb2YgYnV0dG9uQWN0aW9ucyl7Y2hhdGdwdFtidXR0b25BY3Rpb24rIkJ1dHRvbiJdPWZ1bmN0aW9uIGhhbmRsZUJ1dHRvbihidXR0b25JZGVudGlmaWVyKXtjb25zdCBidXR0b249L15bLiNdLy50ZXN0KGJ1dHRvbklkZW50aWZpZXIpP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnV0dG9uSWRlbnRpZmllcik6L3NlbmQvaS50ZXN0KGJ1dHRvbklkZW50aWZpZXIpP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gYnV0dG9uW2NsYXNzKj0iYm90dG9tIl0nKTovc2Nyb2xsL2kudGVzdChidXR0b25JZGVudGlmaWVyKT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bY2xhc3MqPSJjdXJzb3IiXScpOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGJ1dHRvbiBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJidXR0b24iKSl7aWYoYnV0dG9uLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoYnV0dG9uSWRlbnRpZmllci50b0xvd2VyQ2FzZSgpKSl7cmV0dXJuIGJ1dHRvbn19Zm9yKGNvbnN0IG5hdkxpbmsgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibmF2IGEiKSl7aWYobmF2TGluay50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1dHRvbklkZW50aWZpZXIudG9Mb3dlckNhc2UoKSkpe3JldHVybiBuYXZMaW5rfX19KCk7aWYoYnV0dG9uQWN0aW9uPT09ImNsaWNrIil7YnV0dG9uLmNsaWNrKCl9ZWxzZXtyZXR1cm4gYnV0dG9ufX19Y29uc3QgZnVuY3Rpb25BbGlhc2VzPVtbImFjdGl2YXRlQXV0b1JlZnJlc2giLCJhY3RpdmF0ZUF1dG9SZWZyZXNoZXIiLCJhY3RpdmF0ZVJlZnJlc2hlciIsImFjdGl2YXRlU2Vzc2lvblJlZnJlc2hlciIsImF1dG9SZWZyZXNoIiwiYXV0b1JlZnJlc2hlciIsImF1dG9SZWZyZXNoU2Vzc2lvbiIsInJlZnJlc2hlciIsInNlc3Npb25SZWZyZXNoZXIiXSxbImRlYWN0aXZhdGVBdXRvUmVmcmVzaCIsImRlYWN0aXZhdGVBdXRvUmVmcmVzaGVyIiwiZGVhY3RpdmF0ZVJlZnJlc2hlciIsImRlYWN0aXZhdGVTZXNzaW9uUmVmcmVzaGVyIl0sWyJleHBvcnRDaGF0IiwiY2hhdEV4cG9ydCJdLFsiZ2V0TGFzdFByb21wdCIsImdldExhc3RRdWVyeSIsImdldE15TGFzdE1zZyIsImdldE15TGFzdFF1ZXJ5Il0sWyJnZXRUZXh0YXJlYSIsImdldFRleHRBcmVhIiwiZ2V0Q2hhdGJveCIsImdldENoYXRCb3giXSxbImlzRnVsbFNjcmVlbiIsImlzRnVsbHNjcmVlbiJdLFsibG9nT3V0IiwibG9nb3V0IiwibG9nT2ZmIiwibG9nb2ZmIiwic2lnbk91dCIsInNpZ25vdXQiLCJzaWduT2ZmIiwic2lnbm9mZiJdLFsibmV3IiwibmV3Q2hhdCIsInN0YXJ0TmV3Q2hhdCJdLFsicHJpbnRBbGxGdW5jdGlvbnMiLCJzaG93QWxsRnVuY3Rpb25zIl0sWyJyZWZyZXNoU2Vzc2lvbiIsInNlc3Npb25SZWZyZXNoIl0sWyJyZWZyZXNoUmVwbHkiLCJyZWdlbmVyYXRlIiwicmVnZW5lcmF0ZVJlcGx5Il0sWyJyZW5kZXJIVE1MIiwicmVuZGVySHRtbCIsInJlbmRlckxpbmtzIiwicmVuZGVyVGFncyJdLFsic2VuZCIsInNlbmRDaGF0Iiwic2VuZE1zZyJdLFsic2VuZEluTmV3Q2hhdCIsInNlbmROZXdDaGF0Il0sWyJzdG9wIiwic3RvcEdlbmVyYXRpbmciXSxbInRvZ2dsZVNjaGVtZSIsInRvZ2dsZU1vZGUiXSxbInRvZ2dsZUF1dG9SZWZyZXNoIiwidG9nZ2xlQXV0b1JlZnJlc2hlciIsInRvZ2dsZVJlZnJlc2hlciIsInRvZ2dsZVNlc3Npb25SZWZyZXNoZXIiXV07Y29uc3Qgc3lub255bXM9W1siYWN0aXZhdGUiLCJ0dXJuT24iXSxbImFjY291bnQiLCJhY2N0Il0sWyJhc2siLCJzZW5kIiwic3VibWl0Il0sWyJjaGF0IiwiY29udmVyc2F0aW9uIiwiY29udm8iXSxbImRhdGEiLCJkZXRhaWxzIl0sWyJkZWFjdGl2YXRlIiwiZGVBY3RpdmF0ZSIsInR1cm5PZmYiXSxbImdlbmVyYXRpbmciLCJnZW5lcmF0aW9uIl0sWyJyZW5kZXIiLCJwYXJzZSJdLFsicmVwbHkiLCJyZXNwb25zZSJdXTtmb3IoY29uc3QgcHJvcCBpbiBjaGF0Z3B0KXtmb3IoY29uc3Qgc3ViQWxpYXNlcyBvZiBmdW5jdGlvbkFsaWFzZXMpe2lmKHN1YkFsaWFzZXMuaW5jbHVkZXMocHJvcCkpe2lmKHN1YkFsaWFzZXMuc29tZShlbGVtZW50PT5lbGVtZW50LmluY2x1ZGVzKCIuIikpKXtjb25zdCBuZXN0ZWRGdW5jdGlvbj1zdWJBbGlhc2VzLmZpbmQoZWxlbWVudD0+ZWxlbWVudC5pbmNsdWRlcygiLiIpKS5zcGxpdCgiLiIpWzFdO2Zvcihjb25zdCBuZXN0QWxpYXMgb2Ygc3ViQWxpYXNlcyl7aWYoL14oXHcrKS8uZXhlYyhuZXN0QWxpYXMpWzFdIT09cHJvcCl7Y2hhdGdwdFtuZXN0QWxpYXNdPWNoYXRncHRbcHJvcF1bbmVzdGVkRnVuY3Rpb25dfX19ZWxzZXtmb3IoY29uc3QgZGlyQWxpYXMgb2Ygc3ViQWxpYXNlcyl7aWYoZGlyQWxpYXMhPT1wcm9wKXtjaGF0Z3B0W2RpckFsaWFzXT1jaGF0Z3B0W3Byb3BdfX19fX1kb3t2YXIgbmV3RnVuY3Rpb25zQ3JlYXRlZD1mYWxzZTtmb3IoY29uc3QgZnVuY05hbWUgaW4gY2hhdGdwdCl7aWYodHlwZW9mIGNoYXRncHRbZnVuY05hbWVdPT09ImZ1bmN0aW9uIil7Y29uc3QgZnVuY1dvcmRzPWZ1bmNOYW1lLnNwbGl0KC8oPz1bQS1ac10pLyk7Zm9yKGNvbnN0IGZ1bmNXb3JkIG9mIGZ1bmNXb3Jkcyl7Y29uc3Qgc3lub255bVZhbHVlcz1bXS5jb25jYXQoLi4uc3lub255bXMuZmlsdGVyKGFycj0+YXJyLmluY2x1ZGVzKGZ1bmNXb3JkLnRvTG93ZXJDYXNlKCkpKS5tYXAoYXJyPT5hcnIuZmlsdGVyKHN5bm9ueW09PnN5bm9ueW0hPT1mdW5jV29yZC50b0xvd2VyQ2FzZSgpKSkpO2Zvcihjb25zdCBzeW5vbnltIG9mIHN5bm9ueW1WYWx1ZXMpe2NvbnN0IG5ld1dvcmRzPVsuLi5mdW5jV29yZHNdO25ld1dvcmRzW25ld1dvcmRzLmluZGV4T2YoZnVuY1dvcmQpXT1zeW5vbnltO2NvbnN0IG5ld0Z1bmNOYW1lPW5ld1dvcmRzLm1hcCgobmV3V29yZCxpbmRleCk9PmluZGV4PT09MHx8bmV3V29yZD09PSJzIj9uZXdXb3JkOm5ld1dvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbmV3V29yZC5zbGljZSgxKSkuam9pbigiIik7aWYoIWNoYXRncHRbbmV3RnVuY05hbWVdKXtjaGF0Z3B0W25ld0Z1bmNOYW1lXT1jaGF0Z3B0W2Z1bmNOYW1lXTtuZXdGdW5jdGlvbnNDcmVhdGVkPXRydWV9fX19fX13aGlsZShuZXdGdW5jdGlvbnNDcmVhdGVkKX10cnl7d2luZG93LmNoYXRncHQ9Y2hhdGdwdH1jYXRjaChlcnJvcil7fXRyeXttb2R1bGUuZXhwb3J0cz1jaGF0Z3B0fWNhdGNoKGVycm9yKXt9"}]}],"settings":{"script_blacklist_server":[{"severity":2,"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"]},{"name":"SaveFrom.net helper","severity":3,"rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"reason":"Shows advertisements"},{"severity":8,"reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"]}],"scriptUpdateCheckPeriod":21600000,"external_update_interval":1,"layout":"default#darker","layout_user_css":"","notification_showUpdate":"changelog","favicon_service":"google"}}