{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Vencord","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.discord.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":["gist.githubusercontent.com","raw.githubusercontent.com","pronoundb.org","unpkg.com"],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1690557443192,"data":{}},"enabled":true,"position":1,"file_url":"https://raw.githubusercontent.com/Vencord/builds/main/Vencord.user.js","uuid":"b318555a-39b7-453a-bbb4-3541cb7c9985","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBWZW5jb3JkCi8vIEBkZXNjcmlwdGlvbiAgICAgQSBEaXNjb3JkIGNsaWVudCBtb2QgLSBXZWIgdmVyc2lvbgovLyBAdmVyc2lvbiAgICAgICAgIDEuNC4xLjE2OTA5MzYxNDYxOTkKLy8gQGF1dGhvciAgICAgICAgICBWZW5kaWNhdGVkIChodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZCkKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZC9WZW5jb3JkCi8vIEBzdXBwb3J0VVJMICAgICAgaHR0cHM6Ly9naXRodWIuY29tL1ZlbmRpY2F0ZWQvVmVuY29yZAovLyBAbGljZW5zZSAgICAgICAgIEdQTC0zLjAKLy8gQG1hdGNoICAgICAgICAgICAqOi8vKi5kaXNjb3JkLmNvbS8qCi8vIEBncmFudCAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAY29tcGF0aWJsZSAgICAgIGNocm9tZSBDaHJvbWUgKyBUYW1wZXJtb25rZXkgb3IgVmlvbGVudG1vbmtleQovLyBAY29tcGF0aWJsZSAgICAgIGZpcmVmb3ggRmlyZWZveCBUYW1wZXJtb25rZXkKLy8gQGNvbXBhdGlibGUgICAgICBvcGVyYSBPcGVyYSArIFRhbXBlcm1vbmtleSBvciBWaW9sZW50bW9ua2V5Ci8vIEBjb21wYXRpYmxlICAgICAgZWRnZSBFZGdlICsgVGFtcGVybW9ua2V5IG9yIFZpb2xlbnRtb25rZXkKLy8gQGNvbXBhdGlibGUgICAgICBzYWZhcmkgU2FmYXJpICsgVGFtcGVybW9ua2V5IG9yIFZpb2xlbnRtb25rZXkKLy8gPT0vVXNlclNjcmlwdD09CgoKLy8gdGhpcyBVc2VyU2NyaXB0IERPRVMgTk9UIHdvcmsgb24gRmlyZWZveCB3aXRoIFZpb2xlbnRtb25rZXkgb3IgR3JlYXNlbW9ua2V5IGR1ZSB0byBhIGJ1ZyB0aGF0IG1ha2VzIGl0IGltcG9zc2libGUKLy8gdG8gb3ZlcndyaXRlIHN0dWZmIG9uIHRoZSB3aW5kb3cgb24gc2l0ZXMgdGhhdCB1c2UgQ1NQLiBVc2UgVGFtcGVybW9ua2V5IG9yIHVzZSBhIGNocm9taXVtIGJhc2VkIGJyb3dzZXIKLy8gaHR0cHM6Ly9naXRodWIuY29tL3Zpb2xlbnRtb25rZXkvdmlvbGVudG1vbmtleS9pc3N1ZXMvOTk3CgovLyB0aGlzIGlzIGEgY29tcGlsZWQgYW5kIG1pbmlmaWVkIHZlcnNpb24gb2YgVmVuY29yZC4gRm9yIHRoZSBzb3VyY2UgY29kZSwgdmlzaXQgdGhlIEdpdEh1YiByZXBvCgoidXNlIHN0cmljdCI7dmFyIFZlbmNvcmQ9KCgpPT57dmFyIGx4PU9iamVjdC5jcmVhdGU7dmFyIGVzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgY3g9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt2YXIgdXg9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7dmFyIHB4PU9iamVjdC5nZXRQcm90b3R5cGVPZixkeD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBqZj0oZT0+dHlwZW9mIHJlcXVpcmU8InUiP3JlcXVpcmU6dHlwZW9mIFByb3h5PCJ1Ij9uZXcgUHJveHkoZSx7Z2V0Oih0LG4pPT4odHlwZW9mIHJlcXVpcmU8InUiP3JlcXVpcmU6dClbbl19KTplKShmdW5jdGlvbihlKXtpZih0eXBlb2YgcmVxdWlyZTwidSIpcmV0dXJuIHJlcXVpcmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3Rocm93IG5ldyBFcnJvcignRHluYW1pYyByZXF1aXJlIG9mICInK2UrJyIgaXMgbm90IHN1cHBvcnRlZCcpfSk7dmFyIGc9KGUsdCk9PigpPT4oZSYmKHQ9ZShlPTApKSx0KTt2YXIgQnI9KGUsdCk9PigpPT4odHx8ZSgodD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsdCksdC5leHBvcnRzKSx2ZT0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWVzKGUsbix7Z2V0OnRbbl0sZW51bWVyYWJsZTohMH0pfSxXZj0oZSx0LG4scik9PntpZih0JiZ0eXBlb2YgdD09Im9iamVjdCJ8fHR5cGVvZiB0PT0iZnVuY3Rpb24iKWZvcihsZXQgaSBvZiB1eCh0KSkhZHguY2FsbChlLGkpJiZpIT09biYmZXMoZSxpLHtnZXQ6KCk9PnRbaV0sZW51bWVyYWJsZTohKHI9Y3godCxpKSl8fHIuZW51bWVyYWJsZX0pO3JldHVybiBlfTt2YXIgZ2w9KGUsdCxuKT0+KG49ZSE9bnVsbD9seChweChlKSk6e30sV2YodHx8IWV8fCFlLl9fZXNNb2R1bGU/ZXMobiwiZGVmYXVsdCIse3ZhbHVlOmUsZW51bWVyYWJsZTohMH0pOm4sZSkpLF9vPWU9PldmKGVzKHt9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlKTtmdW5jdGlvbiBteChlKXtpZighZSlyZXR1cm57fTtsZXQgdD17fSxuPWUudHJpbSgpLnNwbGl0KGAKYCk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl0scz1pLmluZGV4T2YoIjoiKSxjPWkuc2xpY2UoMCxzKS50cmltKCkudG9Mb3dlckNhc2UoKSx1PWkuc2xpY2UocysxKS50cmltKCk7dFtjXT09PXZvaWQgMD90W2NdPXU6QXJyYXkuaXNBcnJheSh0W2NdKT90W2NdLnB1c2godSk6dFtjXT1bdFtjXSx1XX1yZXR1cm4gdH1mdW5jdGlvbiBobChlLHQpe3JldHVybiBlPT09ImFycmF5QnVmZmVyIiYmdC5hcnJheUJ1ZmZlcj90LmFycmF5QnVmZmVyKCk6bmV3IFByb21pc2UoKG4scik9Pnt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1zPT5uKHMudGFyZ2V0LnJlc3VsdCksZT09PSJhcnJheUJ1ZmZlciI/aS5yZWFkQXNBcnJheUJ1ZmZlcih0KTplPT09InRleHQiP2kucmVhZEFzVGV4dCh0LCJ1dGYtOCIpOnIoInVua25vd24gdG8iKX0pfWZ1bmN0aW9uIGZ4KGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLHIpPT57bGV0IGk9dHx8e307aS51cmw9ZSxpLmRhdGE9aS5ib2R5LGkucmVzcG9uc2VUeXBlPSJibG9iIixpLm9ubG9hZD1zPT57dmFyIGM9cy5yZXNwb25zZTtzLmJsb2I9KCk9PlByb21pc2UucmVzb2x2ZShjKSxzLmFycmF5QnVmZmVyPSgpPT5obCgiYXJyYXlCdWZmZXIiLGMpLHMudGV4dD0oKT0+aGwoInRleHQiLGMpLHMuanNvbj1hc3luYygpPT5KU09OLnBhcnNlKGF3YWl0IGhsKCJ0ZXh0IixjKSkscy5oZWFkZXJzPW5ldyBIZWFkZXJzKG14KHMucmVzcG9uc2VIZWFkZXJzKSkscy5vaz1zLnN0YXR1cz49MjAwJiZzLnN0YXR1czwzMDAsbihzKX0saS5vbnRpbWVvdXQ9KCk9PnIoImZldGNoIHRpbWVvdXQiKSxpLm9uZXJyb3I9KCk9PnIoImZldGNoIGVycm9yIiksaS5vbmFib3J0PSgpPT5yKCJmZXRjaCBhYm9ydCIpLEdNX3htbGh0dHBSZXF1ZXN0KGkpfSl9dmFyIGYsYT1nKCgpPT57InVzZSBzdHJpY3QiO2Y9Znh9KTt2YXIgbSxvLGw9ZygoKT0+eyJ1c2Ugc3RyaWN0IjttPVN5bWJvbC5mb3IoInJlYWN0LmZyYWdtZW50Iiksbz0oLi4uZSk9PihvPVZlbmNvcmQuV2VicGFjay5Db21tb24uUmVhY3QuY3JlYXRlRWxlbWVudCkoLi4uZSl9KTt2YXIgUm49e307dmUoUm4se2NsZWFyOigpPT5TeCxjcmVhdGVTdG9yZTooKT0+S2YsZGVsOigpPT55eCxkZWxNYW55OigpPT52eCxlbnRyaWVzOigpPT54eCxnZXQ6KCk9Pm90LGdldE1hbnk6KCk9Pmh4LGtleXM6KCk9PmJ4LHByb21pc2lmeVJlcXVlc3Q6KCk9Pnd0LHNldDooKT0+cnQsc2V0TWFueTooKT0+Z3gsdXBkYXRlOigpPT5Cbyx2YWx1ZXM6KCk9PlR4fSk7ZnVuY3Rpb24gd3QoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LG4pPT57ZS5vbmNvbXBsZXRlPWUub25zdWNjZXNzPSgpPT50KGUucmVzdWx0KSxlLm9uYWJvcnQ9ZS5vbmVycm9yPSgpPT5uKGUuZXJyb3IpfSl9ZnVuY3Rpb24gS2YoZSx0KXtsZXQgbj1pbmRleGVkREIub3BlbihlKTtuLm9udXBncmFkZW5lZWRlZD0oKT0+bi5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUodCk7bGV0IHI9d3Qobik7cmV0dXJuKGkscyk9PnIudGhlbihjPT5zKGMudHJhbnNhY3Rpb24odCxpKS5vYmplY3RTdG9yZSh0KSkpfWZ1bmN0aW9uIGFuKCl7cmV0dXJuIHlsfHwoeWw9S2YoIlZlbmNvcmREYXRhIiwiVmVuY29yZFN0b3JlIikpLHlsfWZ1bmN0aW9uIG90KGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZG9ubHkiLG49Pnd0KG4uZ2V0KGUpKSl9ZnVuY3Rpb24gcnQoZSx0LG49YW4oKSl7cmV0dXJuIG4oInJlYWR3cml0ZSIscj0+KHIucHV0KHQsZSksd3Qoci50cmFuc2FjdGlvbikpKX1mdW5jdGlvbiBneChlLHQ9YW4oKSl7cmV0dXJuIHQoInJlYWR3cml0ZSIsbj0+KGUuZm9yRWFjaChyPT5uLnB1dChyWzFdLHJbMF0pKSx3dChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIGh4KGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZG9ubHkiLG49PlByb21pc2UuYWxsKGUubWFwKHI9Pnd0KG4uZ2V0KHIpKSkpKX1mdW5jdGlvbiBCbyhlLHQsbj1hbigpKXtyZXR1cm4gbigicmVhZHdyaXRlIixyPT5uZXcgUHJvbWlzZSgoaSxzKT0+e3IuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RyeXtyLnB1dCh0KHRoaXMucmVzdWx0KSxlKSxpKHd0KHIudHJhbnNhY3Rpb24pKX1jYXRjaChjKXtzKGMpfX19KSl9ZnVuY3Rpb24geXgoZSx0PWFuKCkpe3JldHVybiB0KCJyZWFkd3JpdGUiLG49PihuLmRlbGV0ZShlKSx3dChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIHZ4KGUsdD1hbigpKXtyZXR1cm4gdCgicmVhZHdyaXRlIixuPT4oZS5mb3JFYWNoKHI9Pm4uZGVsZXRlKHIpKSx3dChuLnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIFN4KGU9YW4oKSl7cmV0dXJuIGUoInJlYWR3cml0ZSIsdD0+KHQuY2xlYXIoKSx3dCh0LnRyYW5zYWN0aW9uKSkpfWZ1bmN0aW9uIHZsKGUsdCl7cmV0dXJuIGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpeyF0aGlzLnJlc3VsdHx8KHQodGhpcy5yZXN1bHQpLHRoaXMucmVzdWx0LmNvbnRpbnVlKCkpfSx3dChlLnRyYW5zYWN0aW9uKX1mdW5jdGlvbiBieChlPWFuKCkpe3JldHVybiBlKCJyZWFkb25seSIsdD0+e2lmKHQuZ2V0QWxsS2V5cylyZXR1cm4gd3QodC5nZXRBbGxLZXlzKCkpO2xldCBuPVtdO3JldHVybiB2bCh0LHI9Pm4ucHVzaChyLmtleSkpLnRoZW4oKCk9Pm4pfSl9ZnVuY3Rpb24gVHgoZT1hbigpKXtyZXR1cm4gZSgicmVhZG9ubHkiLHQ9PntpZih0LmdldEFsbClyZXR1cm4gd3QodC5nZXRBbGwoKSk7bGV0IG49W107cmV0dXJuIHZsKHQscj0+bi5wdXNoKHIudmFsdWUpKS50aGVuKCgpPT5uKX0pfWZ1bmN0aW9uIHh4KGU9YW4oKSl7cmV0dXJuIGUoInJlYWRvbmx5Iix0PT57aWYodC5nZXRBbGwmJnQuZ2V0QWxsS2V5cylyZXR1cm4gUHJvbWlzZS5hbGwoW3d0KHQuZ2V0QWxsS2V5cygpKSx3dCh0LmdldEFsbCgpKV0pLnRoZW4oKFtyLGldKT0+ci5tYXAoKHMsYyk9PltzLGlbY11dKSk7bGV0IG49W107cmV0dXJuIGUoInJlYWRvbmx5IixyPT52bChyLGk9Pm4ucHVzaChbaS5rZXksaS52YWx1ZV0pKS50aGVuKCgpPT5uKSl9KX12YXIgeWwsa249ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO30pO3ZhciBGcixTbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RnI9Y2xhc3N7c2V0PW5ldyBTZXQ7Z2V0IGNoYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuc2V0LnNpemV9Z2V0IGhhc0NoYW5nZXMoKXtyZXR1cm4gdGhpcy5jaGFuZ2VDb3VudD4wfWhhbmRsZUNoYW5nZSh0KXt0aGlzLnNldC5kZWxldGUodCl8fHRoaXMuc2V0LmFkZCh0KX1hZGQodCl7cmV0dXJuIHRoaXMuc2V0LmFkZCh0KX1yZW1vdmUodCl7cmV0dXJuIHRoaXMuc2V0LmRlbGV0ZSh0KX1nZXRDaGFuZ2VzKCl7cmV0dXJuIHRoaXMuc2V0LnZhbHVlcygpfW1hcCh0KXtyZXR1cm5bLi4udGhpcy5nZXRDaGFuZ2VzKCldLm1hcCh0KX19fSk7dmFyIGxuLCRyPWcoKCk9PnthKCk7bCgpO2xuPSIwNDA3YmU5In0pO3ZhciB0cyxZZj1nKCgpPT57YSgpO2woKTt0cz0iVmVuZGljYXRlZC9WZW5jb3JkIn0pO3ZhciBKdCx3eCxibCxucyxkLFRsLFA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRyKCk7WWYoKTtKdD0id2VicGFja0NodW5rZGlzY29yZF9hcHAiLHd4PSJWZW5jb3JkLldlYnBhY2suQ29tbW9uLlJlYWN0IixibD1gVmVuY29yZC8ke2xufSR7dHM/YCAoaHR0cHM6Ly9naXRodWIuY29tLyR7dHN9KWA6IiJ9YCxucz0iMTAyNjUxNTg4MDA4MDg0Mjc3MiIsZD1PYmplY3QuZnJlZXplKHtWZW46e25hbWU6IlZlbmRpY2F0ZWQiLGlkOjM0MzM4MzU3MjgwNTA1ODU2MG59LEFyaml4OntuYW1lOiJBcmppeFdhc1Rha2VuIixpZDo2NzQ3MTA3ODkxMzg5Mzk5MTZufSxDeW46e25hbWU6IkN5bm9zcGhlcmUiLGlkOjE1MDc0NTk4OTgzNjMwODQ4MG59LE1lZ3U6e25hbWU6Ik1lZ3VtaW4iLGlkOjU0NTU4MTM1NzgxMjY3ODY1Nm59LGJvdGF0bzp7bmFtZToiYm90YXRvIixpZDo0NDA5OTAzNDM4OTk2NDM5NDNufSxvYnNjdXJpdHk6e25hbWU6Im9ic2N1cml0eSIsaWQ6MzM2Njc4ODI4MjMzNTg4NzM2bn0scnVzaGlpOntuYW1lOiJydXNoaWkiLGlkOjI5NTE5MDQyMjI0NDk1MDAxN259LEdsaXRjaDp7bmFtZToiR2xpdGNoeSIsaWQ6MjY5NTY3NDUxMTk5NTY5OTIwbn0sU2FtdTp7bmFtZToiU2FtdSIsaWQ6NzAyOTczNDMwNDQ5ODMyMDM4bn0sQW5pbWFsOntuYW1lOiJBbmltYWwiLGlkOjExODQzNzI2Mzc1NDM5NTY1Mm59LE1haUtva2Fpbjp7bmFtZToiTWFpIixpZDo3MjI2NDc5Nzg1NzczNjMwMjZufSxlY2hvOntuYW1lOiJFQ0hPIixpZDo3MTI2Mzk0MTk3ODU0MTI2NjhufSxrYXRseW46e25hbWU6ImthdGx5biIsaWQ6MjUwMzIyNzQxNDA2ODU5MjY1bn0sbmVhOntuYW1lOiJuZWEiLGlkOjMxMDcwMjEwODk5NzMyMDcwNW59LE51Y2t5ejp7bmFtZToiTnVja3l6IixpZDoyMzU4MzQ5NDY1NzEzMzc3MjlufSxEM1NPWDp7bmFtZToiRDNTT1giLGlkOjIwMTA1MjA4NTY0MTI4MTUzOG59LE5pY2t5dXg6e25hbWU6Ik5pY2t5dXgiLGlkOjQyNzE0NjMwNTY1MTk5ODcyMW59LG1hbnRpa2FmYXNpOntuYW1lOiJtYW50aWthZmFzaSIsaWQ6Mjg3NTU1Mzk1MTUxNTkzNDczbn0sWGludG86e25hbWU6IlhpbnRvIixpZDo0MjM5MTU3NjgxOTE2NDc3NTVufSxKYWNvYlRtOntuYW1lOiJKYWNvYi5UbSIsaWQ6MzAyODcyOTkyMDk3MTA3OTkxbn0sRHVzdHlBbmdlbDQ3OntuYW1lOiJEdXN0eUFuZ2VsNDciLGlkOjcxNDU4MzQ3MzgwNDkzNTIzOG59LEJhblRoZU5vbnM6e25hbWU6IkJhblRoZU5vbnMiLGlkOjQ2MDQ3ODAxMjc5NDg2MzYzN259LEJpZ0R1Y2s6e25hbWU6IkJpZ0R1Y2siLGlkOjEwMjQ1ODgyNzI2MjM2ODE2MDlufSxBdmVyYWdlUmVhY3RFbmpveWVyOntuYW1lOiJBdmVyYWdlIFJlYWN0IEVuam95ZXIiLGlkOjEwMDQ5MDQxMjAwNTYwMjkyNTZufSxhZHJ5ZDp7bmFtZToiYWRyeWQiLGlkOjBufSxUeW1hbjp7bmFtZToiVHltYW4iLGlkOjQ4NzQ0Mzg4MzEyNzQ3MjEyOW59LGFmbjp7bmFtZToiYWZuIixpZDo0MjAwNDM5MjM4MjI2MDgzODRufSxLcmFYZW43Mjp7bmFtZToiS3JhWGVuNzIiLGlkOjM3OTMwNDA3MzUxNTQ5OTUzMG59LGtlbW86e25hbWU6ImtlbW8iLGlkOjI5OTY5Mzg5Nzg1OTQ2NTIyOG59LGR6c2huOntuYW1lOiJkenNobiIsaWQ6MzEwNDQ5OTQ4MDExNTI4MTkybn0sRHVja286e25hbWU6IkR1Y2tvIixpZDo1MDY0ODIzOTUyNjkxNjkxNTNufSxqZXdkZXY6e25hbWU6Impld2RldiIsaWQ6MjIyMzY5ODY2NTI5NjM2MzUzbn0sTHVuYTp7bmFtZToiTHVueSIsaWQ6ODIxNDcyOTIyMTQwODAzMTEybn0sVmFwOntuYW1lOiJWYXAwcjF6ZSIsaWQ6NDU0MDcyMTE0NDkyODY2NTYwbn0sS2luZ0Zpc2g6e25hbWU6IktpbmcgRmlzaCIsaWQ6NDk5NDAwNTEyNTU5MzgyNTM4bn0sQ29tbWFuZHRlY2hubzp7bmFtZToiQ29tbWFuZHRlY2hubyIsaWQ6Mjk2Nzc2NjI1NDMyMDM1MzI4bn0sVGhlU3VuOntuYW1lOiJBY3R1YWxseVRoZVN1biIsaWQ6NDA2MDI4MDI3NzY4NzMzNjk2bn0sYXh5aWU6e25hbWU6IidheCIsaWQ6MjczNTYyNzEwNzQ1Mjg0NjI4bn0scG9pbnR5OntuYW1lOiJwb2ludHkiLGlkOjk5OTE0Mzg0OTg5NTE5ODcybn0sU2FtbUNoZWVzZTp7bmFtZToiU2FtbS1DaGVlc2UiLGlkOjM3MjE0ODM0NTg5NDA3NjQxNm59LHp0OntuYW1lOiJ6dCIsaWQ6Mjg5NTU2OTEwNDI2ODE2NTEzbn0sY2FwdGFpbjp7bmFtZToiQ2FwdGFpbiIsaWQ6MzQ3MzY2MDU0ODA2MTU5MzYwbn0sbmljazp7bmFtZToibmljayIsaWQ6MzQ3ODg0Njk0NDA4MjY1NzI5bixiYWRnZTohMX0sd2hxd2VydDp7bmFtZToid2hxd2VydCIsaWQ6NTg2MjM5MDkxNTIwMTc2MTI4bn0sbGV3aXNha3VyYTp7bmFtZToibGV3aXNha3VyYSIsaWQ6OTYyNjkyNDc0MTE0MDA3MDRufSxSdWlOdEQ6e25hbWU6IlJ1aU50RCIsaWQ6MTU3OTE3NjY1MTYyMjk3MzQ0bn0saHVudDp7bmFtZToiaHVudC1nIixpZDoyMjI4MDAxNzk2OTcyODcxNjhufSxjbG91ZGJ1cnN0OntuYW1lOiJjbG91ZGJ1cnN0IixpZDo4OTIxMjgyMDQxNTA2ODU3NjlufSxBcmlhOntuYW1lOiJTeW5jeHYiLGlkOjU0OTI0NDkzMjIxMzMwOTQ0Mm59LFRoZUtvZGVUb2FkOntuYW1lOiJUaGVLb2RlVG9hZCIsaWQ6NzA2MTUyNDA0MDcyMjY3Nzg4bn0sTG9yZEVsaWFzOntuYW1lOiJMb3JkRWxpYXMiLGlkOjMxOTQ2MDc4MTU2NzYzOTU1NG59LGp1Ynk6e25hbWU6Ikp1YnkyMTAiLGlkOjMyNDYyMjQ4ODY0NDYxNjE5NW59LEFseXhpYTp7bmFtZToiQWx5eGlhIFNvdGhlciIsaWQ6OTUyMTg1Mzg2MzUwODI5Njg4bn0sUmVtdHk6e25hbWU6IlJlbXR5IixpZDozMzUwNTUwMzIyMDQ2NTY2NDJufSxza3lldmc6e25hbWU6InNreWV2ZyIsaWQ6MTA5MDMxMDg0NDI4MzM2MzM0OG59LER6aXVyd2E6e25hbWU6IkR6aXVyd2EiLGlkOjEwMzQ1Nzk2Nzk1MjY1MjY5NzZufSxBdXR1bW5WTjp7bmFtZToiQXV0dW1uVk4iLGlkOjM5MzY5NDY3MTM4MzE2Njk5OG59LHB5bGl4OntuYW1lOiJweWxpeCIsaWQ6NDkyOTQ5MjAyMTIxMjYxMDY3bn0sVHlsZXI6e25hbWU6IlxcXFxHR1R5bGVyXFxcXCIsaWQ6MTQzMTE3NDYzNzg4MTkxNzQ2bn0sUnlhbkNhb0Rldjp7bmFtZToiUnlhbkNhb0RldiIsaWQ6OTUyMjM1ODAwMTEwNjk0NDcxbn0sU3RyZW5jaGVyOntuYW1lOiJTdHJlbmNoZXIiLGlkOjQxNTg0OTM3NjU5ODk4MjY1Nm59LEZpZXJ5RmxhbWVzOntuYW1lOiJGaWVyeSIsaWQ6ODkwMjI4ODcwNTU5Njk4OTU1bn0sS2FubmFEZXY6e25hbWU6Ikthbm5hIixpZDozMTc3Mjg1NjExMDY1MTgwMTlufSxjYXJpbmNlOntuYW1lOiJjYXJpbmNlIixpZDo4MTgzMjM1Mjg3NTUzMTQ2OThufSxQYW5kYU5pbmphczp7bmFtZToiUGFuZGFOaW5qYXMiLGlkOjQ1NTEyODc0OTA3MTkyNTI0OG59LENhdE5vaXI6e25hbWU6IkNhdE5vaXIiLGlkOjI2MDM3MTAxNjM0ODMzNjEyOG59LG91dGZveHhlZDp7bmFtZToib3V0Zm94eGVkIixpZDo4Mzc0MjU3NDg0MzU3OTYwNjBufSxVd1VEZXY6e25hbWU6IlV3VSIsaWQ6NjkxNDEzMDM5MTU2NjkwOTk0bn0sYW1pYTp7bmFtZToiYW1pYSIsaWQ6MTQyMDA3NjAzNTQ5OTYyMjQwbn0scGhpbDp7bmFtZToicGhpbCIsaWQ6MzA1Mjg4NTEzOTQxNjY3ODUxbn0sSW1Mdm5hOntuYW1lOiJMdW5hIDwzIixpZDoxNzQyMDA3MDg4MTg2NjU0NzJufSxyYWQ6e25hbWU6InJhZCIsaWQ6NjEwOTQ1MDkyNTA0NzgwODIzbn0sSHlwZWREb21pOntuYW1lOiJIeXBlZERvbWkiLGlkOjM1NDE5MTUxNjk3OTQyOTM3Nm59fSksVGw9KCgpPT5PYmplY3QuZnJlZXplKE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhkKS5maWx0ZXIoZT0+ZVsxXS5pZCE9PTBuKS5tYXAoKFtlLHRdKT0+W3QuaWQsdF0pKSkpKCl9KTtmdW5jdGlvbiBfdChlLHQ9MzAwKXtsZXQgbjtyZXR1cm4gZnVuY3Rpb24oLi4ucil7Y2xlYXJUaW1lb3V0KG4pLG49c2V0VGltZW91dCgoKT0+e2UoLi4ucil9LHQpfX12YXIgYXI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7ZnVuY3Rpb24gem4oZSl7bGV0IHQ7cmV0dXJuKCk9PnQ/Pyh0PWUoKSl9ZnVuY3Rpb24gZnQoZSx0PTUpe2xldCBuPTAscj1PYmplY3QuYXNzaWduKGZ1bmN0aW9uKCl7fSx7W29zXTp2b2lkIDAsW2lzXSgpe3JldHVybiFyW29zXSYmdD5uKysmJihyW29zXT1lKCkpLHJbb3NdfX0pO3JldHVybiBuZXcgUHJveHkocixycyl9dmFyIFpmLHJzLGlzLG9zLGNuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtaZj1bImFyZ3VtZW50cyIsImNhbGxlciIsInByb3RvdHlwZSJdLHJzPXt9LGlzPVN5bWJvbC5mb3IoInZlbmNvcmQubGF6eS5nZXQiKSxvcz1TeW1ib2wuZm9yKCJ2ZW5jb3JkLmxhenkuY2FjaGVkIik7Zm9yKGxldCBlIG9mWyJhcHBseSIsImNvbnN0cnVjdCIsImRlZmluZVByb3BlcnR5IiwiZGVsZXRlUHJvcGVydHkiLCJnZXQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsImhhcyIsImlzRXh0ZW5zaWJsZSIsIm93bktleXMiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNldCIsInNldFByb3RvdHlwZU9mIl0pcnNbZV09KHQsLi4ubik9PlJlZmxlY3RbZV0odFtpc10oKSwuLi5uKTtycy5vd25LZXlzPWU9PntsZXQgdD1lW2lzXSgpLG49UmVmbGVjdC5vd25LZXlzKHQpO2ZvcihsZXQgciBvZiBaZiluLmluY2x1ZGVzKHIpfHxuLnB1c2gocik7cmV0dXJuIG59O3JzLmdldE93blByb3BlcnR5RGVzY3JpcHRvcj0oZSx0KT0+e2lmKHR5cGVvZiB0PT0ic3RyaW5nIiYmWmYuaW5jbHVkZXModCkpcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7bGV0IG49UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZVtpc10oKSx0KTtyZXR1cm4gbiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxuKSxufX0pO3ZhciBRLHdlPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRPWNsYXNze2NvbnN0cnVjdG9yKHQsbj0id2hpdGUiKXt0aGlzLm5hbWU9dDt0aGlzLmNvbG9yPW59c3RhdGljIG1ha2VUaXRsZSh0LG4pe3JldHVyblsiJWMgJWMgJXMgIiwiIixgYmFja2dyb3VuZDogJHt0fTsgY29sb3I6IGJsYWNrOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLXJhZGl1czogNXB4O2Asbl19X2xvZyh0LG4scixpPSIiKXtjb25zb2xlW3RdKGAlYyBWZW5jb3JkICVjICVjICR7dGhpcy5uYW1lfSAke2l9YCxgYmFja2dyb3VuZDogJHtufTsgY29sb3I6IGJsYWNrOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLXJhZGl1czogNXB4O2AsIiIsYGJhY2tncm91bmQ6ICR7dGhpcy5jb2xvcn07IGNvbG9yOiBibGFjazsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJvcmRlci1yYWRpdXM6IDVweDtgLC4uLnIpfWxvZyguLi50KXt0aGlzLl9sb2coImxvZyIsIiNhNmQxODkiLHQpfWluZm8oLi4udCl7dGhpcy5fbG9nKCJpbmZvIiwiI2E2ZDE4OSIsdCl9ZXJyb3IoLi4udCl7dGhpcy5fbG9nKCJlcnJvciIsIiNlNzgyODQiLHQpfWVycm9yQ3VzdG9tRm10KHQsLi4ubil7dGhpcy5fbG9nKCJlcnJvciIsIiNlNzgyODQiLG4sdCl9d2FybiguLi50KXt0aGlzLl9sb2coIndhcm4iLCIjZTVjODkwIix0KX1kZWJ1ZyguLi50KXt0aGlzLl9sb2coImRlYnVnIiwiI2VlYmViZSIsdCl9fX0pO3ZhciBNeCx1bixzcz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7d2UoKTtNeD0oZSx0LG4pPT50LHVuPU14fSk7ZnVuY3Rpb24gbHMoZSl7aWYoam4hPT12b2lkIDApdGhyb3cibm8uIjtXdD1lLnB1c2goW1tTeW1ib2woIlZlbmNvcmQiKV0se30sdD0+dF0pLGpuPVd0LmMsZS5wb3AoKX1mdW5jdGlvbiBOZShlLHQ9ITApe3JldHVybiBmdCgoKT0+cXQoZSx0KSl9ZnVuY3Rpb24gbHIoZSx0PSEwKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmlsdGVyLiBFeHBlY3RlZCBhIGZ1bmN0aW9uIGdvdCAiK3R5cGVvZiBlKTtsZXQgbj1bXTtmb3IobGV0IHIgaW4gam4pe2xldCBpPWpuW3JdO2lmKCEhaT8uZXhwb3J0cyl7aWYoZShpLmV4cG9ydHMpKW4ucHVzaChpLmV4cG9ydHMpO2Vsc2UgaWYodHlwZW9mIGkuZXhwb3J0cyE9Im9iamVjdCIpY29udGludWU7aWYoaS5leHBvcnRzLmRlZmF1bHQmJmUoaS5leHBvcnRzLmRlZmF1bHQpKW4ucHVzaCh0P2kuZXhwb3J0cy5kZWZhdWx0OmkuZXhwb3J0cyk7ZWxzZSBmb3IobGV0IHMgaW4gaS5leHBvcnRzKWlmKHMubGVuZ3RoPD0zKXtsZXQgYz1pLmV4cG9ydHNbc107YyYmZShjKSYmbi5wdXNoKGMpfX19cmV0dXJuIG59ZnVuY3Rpb24gSmUoZSx0KXtyZXR1cm4gZnQoKCk9PkpmKGUsdCkpfWZ1bmN0aW9uIEFuKC4uLmUpe3JldHVybiBxdChKLmJ5UHJvcHMoLi4uZSkpfWZ1bmN0aW9uIEkoLi4uZSl7cmV0dXJuIE5lKEouYnlQcm9wcyguLi5lKSl9ZnVuY3Rpb24gVWUoLi4uZSl7cmV0dXJuIHF0KEouYnlDb2RlKC4uLmUpKX1mdW5jdGlvbiBkZSguLi5lKXtyZXR1cm4gTmUoSi5ieUNvZGUoLi4uZSkpfWZ1bmN0aW9uIFB4KGUpe3JldHVybiBxdChKLmJ5U3RvcmVOYW1lKGUpKX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gTmUoSi5ieVN0b3JlTmFtZShlKSl9ZnVuY3Rpb24gUWUoZSx0KXtpZih0eXBlb2YgZT09InN0cmluZyIpZT1KLmJ5UHJvcHMoZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKWU9Si5ieVByb3BzKC4uLmUpO2Vsc2UgaWYodHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgbXVzdCBiZSBhIHN0cmluZywgc3RyaW5nW10gb3IgZnVuY3Rpb24sIGdvdCAiK3R5cGVvZiBlKTtsZXRbbixyXT1xdChlLCEwLCEwKTtpZihuKXJldHVybiB2b2lkIHQobixyKTtYZi5zZXQoZSx0KX1mdW5jdGlvbiBJeChlKXtNbC5hZGQoZSl9ZnVuY3Rpb24gQ3goZSl7TWwuZGVsZXRlKGUpfWZ1bmN0aW9uIFBsKC4uLmUpe2xldCB0PXt9LG49V3QubTtlOmZvcihsZXQgciBpbiBuKXtsZXQgaT1uW3JdLm9yaWdpbmFsPz9uW3JdLHM9aS50b1N0cmluZygpO2ZvcihsZXQgYyBvZiBlKWlmKHR5cGVvZiBjPT0ic3RyaW5nIiYmIXMuaW5jbHVkZXMoYyl8fGMgaW5zdGFuY2VvZiBSZWdFeHAmJiFjLnRlc3QocykpY29udGludWUgZTt0W3JdPWl9cmV0dXJuIHR9ZnVuY3Rpb24gSWwoZSl7bGV0IHQ9V3QubVtlXTtpZighdClyZXR1cm4gbnVsbDtsZXQgbj1gCi8vIFtFWFRSQUNURURdIFdlYnBhY2tNb2R1bGUke2V9Ci8vIFdBUk5JTkc6IFRoaXMgbW9kdWxlIHdhcyBleHRyYWN0ZWQgdG8gYmUgbW9yZSBlYXNpbHkgcmVhZGFibGUuCi8vICAgICAgICAgIFRoaXMgbW9kdWxlIGlzIE5PVCBBQ1RVQUxMWSBVU0VEISBUaGlzIG1lYW5zIHB1dHRpbmcgYnJlYWtwb2ludHMgd2lsbCBoYXZlIE5PIEVGRkVDVCEhCgoke3QudG9TdHJpbmcoKX0KLy8jIHNvdXJjZVVSTD1FeHRyYWN0ZWRXZWJwYWNrTW9kdWxlJHtlfQpgO3JldHVybigwLGV2YWwpKG4pfXZhciB4bCxhcyx3bCxXdCxqbixKLFhmLE1sLHF0LFVyLGNzLEpmLEI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2NuKCk7d2UoKTtzcygpO3hsPW5ldyBRKCJXZWJwYWNrIiksd2w9bmV3IFByb21pc2UoZT0+YXM9ZSksSj17YnlQcm9wczooLi4uZSk9PmUubGVuZ3RoPT09MT90PT50W2VbMF1dIT09dm9pZCAwOnQ9PmUuZXZlcnkobj0+dFtuXSE9PXZvaWQgMCksYnlDb2RlOiguLi5lKT0+dD0+e2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXJldHVybiExO2xldCBuPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO2ZvcihsZXQgciBvZiBlKWlmKCFuLmluY2x1ZGVzKHIpKXJldHVybiExO3JldHVybiEwfSxieVN0b3JlTmFtZTplPT50PT50LmNvbnN0cnVjdG9yPy5kaXNwbGF5TmFtZT09PWV9LFhmPW5ldyBNYXAsTWw9bmV3IFNldDtxdD11bigiZmluZCIsZnVuY3Rpb24odCxuPSEwLHI9ITEpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBmaWx0ZXIuIEV4cGVjdGVkIGEgZnVuY3Rpb24gZ290ICIrdHlwZW9mIHQpO2ZvcihsZXQgaSBpbiBqbil7bGV0IHM9am5baV07aWYoISFzPy5leHBvcnRzKXtpZih0KHMuZXhwb3J0cykpcmV0dXJuIHI/W3MuZXhwb3J0cyxOdW1iZXIoaSldOnMuZXhwb3J0cztpZih0eXBlb2Ygcy5leHBvcnRzPT0ib2JqZWN0Iil7aWYocy5leHBvcnRzLmRlZmF1bHQmJnQocy5leHBvcnRzLmRlZmF1bHQpKXtsZXQgYz1uP3MuZXhwb3J0cy5kZWZhdWx0OnMuZXhwb3J0cztyZXR1cm4gcj9bYyxOdW1iZXIoaSldOmN9Zm9yKGxldCBjIGluIHMuZXhwb3J0cylpZihjLmxlbmd0aDw9Myl7bGV0IHU9cy5leHBvcnRzW2NdO2lmKHUmJnQodSkpcmV0dXJuIHI/W3UsTnVtYmVyKGkpXTp1fX19fWlmKCFyKXtsZXQgaT1uZXcgRXJyb3IoIkRpZG4ndCBmaW5kIG1vZHVsZSBtYXRjaGluZyB0aGlzIGZpbHRlciIpO3hsLndhcm4oaSl9cmV0dXJuIHI/W251bGwsbnVsbF06bnVsbH0pO1VyPXVuKCJmaW5kQnVsayIsZnVuY3Rpb24oLi4udCl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGZpbHRlcnMuIEV4cGVjdGVkIGZ1bmN0aW9uW10gZ290ICIrdHlwZW9mIHQpO2xldHtsZW5ndGg6bn09dDtpZihuPT09MCl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IHR3byBmaWx0ZXJzLiIpO2lmKG49PT0xKXJldHVybiBxdCh0WzBdKTtsZXQgcj10LGk9MCxzPUFycmF5KG4pO2U6Zm9yKGxldCBjIGluIGpuKXtsZXQgdT1qbltjXTtpZighIXU/LmV4cG9ydHMpZm9yKGxldCBwPTA7cDxuO3ArKyl7bGV0IHk9cltwXTtpZih5IT09dm9pZCAwKXtpZih5KHUuZXhwb3J0cykpe2lmKHNbcF09dS5leHBvcnRzLHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTticmVha31pZih0eXBlb2YgdS5leHBvcnRzPT0ib2JqZWN0Iil7aWYodS5leHBvcnRzLmRlZmF1bHQmJnkodS5leHBvcnRzLmRlZmF1bHQpKXtpZihzW3BdPXUuZXhwb3J0cy5kZWZhdWx0LHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTticmVha31mb3IobGV0IGggaW4gdS5leHBvcnRzKWlmKGgubGVuZ3RoPD0zKXtsZXQgUz11LmV4cG9ydHNbaF07aWYoUyYmeShTKSl7aWYoc1twXT1TLHJbcF09dm9pZCAwLCsraT09PW4pYnJlYWsgZTtjb250aW51ZSBlfX19fX19aWYoaSE9PW4pe2xldCBjPW5ldyBFcnJvcihgR290ICR7bn0gZmlsdGVycywgYnV0IG9ubHkgZm91bmQgJHtpfSBtb2R1bGVzIWApO3hsLndhcm4oYyl9cmV0dXJuIHN9KSxjcz11bigiZmluZE1vZHVsZUlkIixmdW5jdGlvbih0KXtmb3IobGV0IHIgaW4gV3QubSlpZihXdC5tW3JdLnRvU3RyaW5nKCkuaW5jbHVkZXModCkpcmV0dXJuIE51bWJlcihyKTtsZXQgbj1uZXcgRXJyb3IoYERpZG4ndCBmaW5kIG1vZHVsZSB3aXRoIGNvZGU6CmArdCk7cmV0dXJuIHhsLndhcm4obiksbnVsbH0pLEpmPXVuKCJtYXBNYW5nbGVkTW9kdWxlIixmdW5jdGlvbih0LG4pe2xldCByPXt9LGk9Y3ModCk7aWYoaT09PW51bGwpcmV0dXJuIHI7bGV0IHM9V3QoaSk7ZTpmb3IobGV0IGMgaW4gcyl7bGV0IHU9c1tjXTtmb3IobGV0IHAgaW4gbilpZihuW3BdKHUpKXtyW3BdPXU7Y29udGludWUgZX19cmV0dXJuIHJ9KX0pO3ZhciB1cyxndCxRZj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QigpO3VzPUkoImltYWdlIiwibW9kYWwiKSxndD1JKCJidXR0b25XcmFwcGVyIiwiYnV0dG9uQ29udGVudCIpfSk7ZnVuY3Rpb24gRm8oZSx0KXtmb3IobGV0IG4gaW4gdCl7bGV0IHI9dFtuXTt0eXBlb2Ygcj09Im9iamVjdCImJiFBcnJheS5pc0FycmF5KHIpPyhlW25dPz89e30sRm8oZVtuXSxyKSk6ZVtuXT8/PXJ9cmV0dXJuIGV9ZnVuY3Rpb24gZWUoLi4uZSl7cmV0dXJuIGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIiAiKX1mdW5jdGlvbiBhbyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+c2V0VGltZW91dCh0LGUpKX1mdW5jdGlvbiBWdChlLHQ9IkNvcGllZCB0byBjbGlwYm9hcmQhIil7UXQuU1VQUE9SVFNfQ09QWT9RdC5jb3B5KGUpOnQ9IllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgdG8gY2xpcGJvYXJkIixLLnNob3coe21lc3NhZ2U6dCxpZDpLLmdlbklkKCksdHlwZTpLLlR5cGUuU1VDQ0VTU30pfWZ1bmN0aW9uIFJ4KGUpe3JldHVybiB0eXBlb2YgZT09Im9iamVjdCImJmUhPT1udWxsJiYhQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBDbChlKXt0cnl7cmV0dXJuIG5ldyBVUkwoZSl9Y2F0Y2h7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIHBzKGUpe3JldHVybiBlfXZhciBObCxreCxHcix5ZT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpO1AoKTtObD1lPT57bGV0IHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsdW5zYWZlV2luZG93LmlubmVySGVpZ2h0KTtyZXR1cm4hKHQuYm90dG9tPDB8fHQudG9wLW4+PTApfTtreD1uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCJNb2JpIiksR3I9ZT0+T2JqZWN0Lmhhc093bihUbCxlKX0pO2Z1bmN0aW9uIFZlKGUsdCl7bGV0IG49T2JqZWN0LmFzc2lnbih7ZmFsbGJhY2tWYWx1ZTpudWxsLGRlcHM6W10sb25FcnJvcjpudWxsfSx0KSxbcixpXT1XKHt2YWx1ZTpuLmZhbGxiYWNrVmFsdWUsZXJyb3I6bnVsbCxwZW5kaW5nOiEwfSk7cmV0dXJuIEdlKCgpPT57bGV0IHM9ITA7cmV0dXJuIHIucGVuZGluZ3x8aSh7Li4ucixwZW5kaW5nOiEwfSksZSgpLnRoZW4oYz0+eyFzfHwoaSh7dmFsdWU6YyxlcnJvcjpudWxsLHBlbmRpbmc6ITF9KSxuLm9uU3VjY2Vzcz8uKGMpKX0pLmNhdGNoKGM9Pnshc3x8KGkoe3ZhbHVlOm51bGwsZXJyb3I6YyxwZW5kaW5nOiExfSksbi5vbkVycm9yPy4oYykpfSksKCk9PnZvaWQocz0hMSl9LG4uZGVwcyksW3IudmFsdWUsci5lcnJvcixyLnBlbmRpbmddfWZ1bmN0aW9uIEJ0KGUpe2xldCB0PWNyKG49Pm4rMSwwKTtyZXR1cm4gZT90OnRbMV19ZnVuY3Rpb24gcmUoZSl7bGV0IHQ9em4oZSk7cmV0dXJuIG49PntsZXQgcj10KCk7cmV0dXJuIG8ocix7Li4ubn0pfX1mdW5jdGlvbiBIcih7aW50ZXJ2YWw6ZT0xZTMsZGVwczp0PVtdfSl7bGV0W24scl09VygwKSxpPU10KCgpPT5EYXRlLm5vdygpLHQpO3JldHVybiBHZSgoKT0+e2xldCBzPXNldEludGVydmFsKCgpPT5yKERhdGUubm93KCktaSksZSk7cmV0dXJuKCk9PntyKDApLGNsZWFySW50ZXJ2YWwocyl9fSx0KSxufXZhciBSbCxnZT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpO2NuKCk7eWUoKTtSbD0oZT0hMSk9PntsZXQgdD1BLnVzZVJlZihudWxsKSxbbixyXT1XKCExKTtyZXR1cm5bcz0+e3QuY3VycmVudD8uZGlzY29ubmVjdCgpLHQuY3VycmVudD1udWxsLHMmJihObChzKSYmKHIoITApLGUpfHwodC5jdXJyZW50PW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjPT57Zm9yKGxldCB1IG9mIGMpdS50YXJnZXQ9PT1zJiYodS5pc0ludGVyc2VjdGluZyYmZT8ocighMCksdC5jdXJyZW50Py5kaXNjb25uZWN0KCksdC5jdXJyZW50PW51bGwpOnIodS5pc0ludGVyc2VjdGluZykpfSksdC5jdXJyZW50Lm9ic2VydmUocykpKX0sbl19fSk7ZnVuY3Rpb24gZHMoZSx0KXtsZXQgbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihgVmVuY29yZCBjb3VsZCBub3QgZmluZCB0aGUgJHtlfSBDb21wb25lbnRgKX0scj1yZSgoKT0+bik7cmV0dXJuIFFlKHQsaT0+e249aSxPYmplY3QuYXNzaWduKHIsaSl9KSxyfWZ1bmN0aW9uIFB0KGUsdCl7UWUoSi5ieVN0b3JlTmFtZShlKSx0KX12YXIga2w9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2dlKCk7QigpfSk7dmFyIGIsRnQsUixodCxaLERlLG1zLHRlLHBuLGZzLCRvLGVuLHpyLFZmLGVnLGdzLGhzLHlzLHZzLGpyLEFsLExuLEF4LHRnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtCKCk7a2woKTtiPXt9LEFsPWRzKCJNYXNrZWRMaW5rIixlPT5lPy50eXBlPy50b1N0cmluZygpLmluY2x1ZGVzKCJNQVNLRURfTElOSykiKSksTG49ZHMoIlRpbWVzdGFtcCIsSi5ieUNvZGUoIi5NZXNzYWdlcy5NRVNTQUdFX0VESVRFRF9USU1FU1RBTVBfQTExWV9MQUJFTC5mb3JtYXQiKSksQXg9ZHMoIkZsZXgiLFsiSnVzdGlmeSIsIkFsaWduIiwiV3JhcCJdKTtRZSgiRm9ybUl0ZW0iLGU9Pnsoe3VzZVRva2VuOmpyLENhcmQ6RnQsQnV0dG9uOlIsRm9ybVN3aXRjaDpodCxUb29sdGlwOlosVGV4dElucHV0OkRlLFRleHRBcmVhOm1zLFRleHQ6dGUsU2VsZWN0OnBuLFNlYXJjaGFibGVTZWxlY3Q6ZnMsU2xpZGVyOiRvLEJ1dHRvbkxvb2tzOmVuLFRhYkJhcjplZyxQb3BvdXQ6enIsRGlhbG9nOlZmLFBhZ2luYXRvcjpncyxTY3JvbGxlclRoaW46aHMsQ2xpY2thYmxlOnlzLEF2YXRhcjp2c309ZSksYj1lfSl9KTt2YXIgTyxkbixuZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QigpO089e307UWUoIk1lbnVJdGVtIixlPT5PPWUpO2RuPUplKCd0eXBlOiJDT05URVhUX01FTlVfT1BFTiInLHtvcGVuOkouYnlDb2RlKCJzdG9wUHJvcGFnYXRpb24iKSxvcGVuTGF6eTplPT5lLnRvU3RyaW5nKCkubGVuZ3RoPDUwLGNsb3NlOkouYnlDb2RlKCJDT05URVhUX01FTlVfQ0xPU0UiKX0pfSk7dmFyIEEsVyxHZSxNdCwkdCxjcixTcyxVbyxvZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QigpO1VvPUkoImNyZWF0ZVBvcnRhbCIsInJlbmRlciIpO1FlKCJ1c2VTdGF0ZSIsZT0+e0E9ZSx7dXNlRWZmZWN0OkdlLHVzZVN0YXRlOlcsdXNlTWVtbzpNdCx1c2VSZWY6JHQsdXNlUmVkdWNlcjpjcix1c2VDYWxsYmFjazpTc309QX0pfSk7dmFyIExsLG1uLEVsLE9lLGJzLFdyLGxvLEx4LG1lLEcsVGUsY28sVixfZSxpdCxmbixxcixEbCxXZSxyZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QigpO2tsKCk7TGw9SSgiY29ubmVjdFN0b3JlcyIpLEVsPUkoIm9wZW5Qcml2YXRlQ2hhbm5lbCIpLERsPUplKCciTWFza2VkTGlua1N0b3JlIicse29wZW5VbnRydXN0ZWRMaW5rOkouYnlDb2RlKCIuYXBwbHkodGhpcyxhcmd1bWVudHMpIil9KSxXZT1kZSgidXNlU3RhdGVGcm9tU3RvcmVzIik7UHQoIlVzZXJTdG9yZSIsZT0+Rz1lKTtQdCgiQ2hhbm5lbFN0b3JlIixlPT5WPWUpO1B0KCJTZWxlY3RlZENoYW5uZWxTdG9yZSIsZT0+VGU9ZSk7UHQoIlNlbGVjdGVkR3VpbGRTdG9yZSIsZT0+Y289ZSk7UHQoIkd1aWxkU3RvcmUiLGU9Pm1lPWUpO1B0KCJHdWlsZE1lbWJlclN0b3JlIixlPT5fZT1lKTtQdCgiUmVsYXRpb25zaGlwU3RvcmUiLGU9Pml0PWUpO1B0KCJQZXJtaXNzaW9uU3RvcmUiLGU9Pk9lPWUpO1B0KCJQcmVzZW5jZVN0b3JlIixlPT5sbz1lKTtQdCgiUmVhZFN0YXRlU3RvcmUiLGU9PldyPWUpO1B0KCJHdWlsZENoYW5uZWxTdG9yZSIsZT0+YnM9ZSk7UHQoIk1lc3NhZ2VTdG9yZSIsZT0+bW49ZSk7UHQoIldpbmRvd1N0b3JlIixlPT5xcj1lKTtQdCgiRW1vamlTdG9yZSIsZT0+Zm49ZSl9KTt2YXIgaWc9e307dmFyIHNnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciBhZz17fTt2YXIgbGc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIGNnPXt9O3ZhciB1Zz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiBwbyhlLHQ9cGcuTUVTU0FHRSl7Sy5zaG93KHtpZDpLLmdlbklkKCksbWVzc2FnZTplLHR5cGU6dH0pfXZhciBfLE9sLHl0LHRuLEdvLGN0LHVvLGtlLEl0LHBnLEV4LEssRW4sUXQsS3IsVHMsS3QsZGc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0IoKTtPbD1OZShlPT5lLmVtaXR0ZXI/Ll9ldmVudHM/LklOU0VSVF9URVhUKSx5dD1JKCJnZXRBUElCYXNlVVJMIiwiZ2V0IiksdG49SSgicGFyc2VUd29EaWdpdFllYXIiKSxHbz1JKCJoaWdobGlnaHQiKSxjdD1OZShlPT5lLk1lc3NhZ2VzPy5bImVuLVVTIl0pO1FlKFsiZnJvbVRpbWVzdGFtcCIsImV4dHJhY3RUaW1lc3RhbXAiXSxlPT51bz1lKTtwZz17TUVTU0FHRTowLFNVQ0NFU1M6MSxGQUlMVVJFOjIsQ1VTVE9NOjN9LEV4PXtUT1A6MCxCT1RUT006MX0sSz17VHlwZTpwZyxQb3NpdGlvbjpFeCxnZW5JZDooKT0+KE1hdGgucmFuZG9tKCl8fE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX07RW49e2ZldGNoVXNlcjpkZSgiLlVTRVIoIiwiZ2V0VXNlciIpfSxRdD1KZSgnZG9jdW1lbnQucXVlcnlDb21tYW5kRW5hYmxlZCgiY29weSIpfHxkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoImNvcHkiKScse2NvcHk6Si5ieUNvZGUoIi5kZWZhdWx0LmNvcHkoIiksU1VQUE9SVFNfQ09QWTplPT50eXBlb2YgZT09ImJvb2xlYW4ifSksS3I9SmUoInRyYW5zaXRpb25Ub0d1aWxkIC0gIix7dHJhbnNpdGlvblRvOkouYnlDb2RlKCJ0cmFuc2l0aW9uVG8gLSIpLHRyYW5zaXRpb25Ub0d1aWxkOkouYnlDb2RlKCJ0cmFuc2l0aW9uVG9HdWlsZCAtIiksZ29CYWNrOkouYnlDb2RlKCJnb0JhY2soKSIpLGdvRm9yd2FyZDpKLmJ5Q29kZSgiZ29Gb3J3YXJkKCkiKX0pO1FlKFsiZGlzcGF0Y2giLCJzdWJzY3JpYmUiXSxlPT57Xz1lO2xldCB0PSgpPT57ZS51bnN1YnNjcmliZSgiQ09OTkVDVElPTl9PUEVOIix0KSxhcygpfTtlLnN1YnNjcmliZSgiQ09OTkVDVElPTl9PUEVOIix0KX0pO1FlKCJzaG93VG9hc3QiLGU9PntLLnNob3c9ZS5zaG93VG9hc3QsSy5wb3A9ZS5wb3BUb2FzdH0pO1FlKFsic2hvdyIsImNsb3NlIl0sZT0+SXQ9ZSk7UWUoInBhcnNlVG9waWMiLGU9PmtlPWUpO1FlKFsib3BlbiIsInNhdmVBY2NvdW50Q2hhbmdlcyJdLGU9PlRzPWUpO0t0PU5lKGU9PnR5cGVvZiBlLkFETUlOSVNUUkFUT1I9PSJiaWdpbnQiKX0pO3ZhciBfbD17fTt2ZShfbCx7QWxlcnRzOigpPT5JdCxBdmF0YXI6KCk9PnZzLEJ1dHRvbjooKT0+UixCdXR0b25Mb29rczooKT0+ZW4sQnV0dG9uV3JhcHBlckNsYXNzZXM6KCk9Pmd0LENhcmQ6KCk9PkZ0LENoYW5uZWxTdG9yZTooKT0+VixDbGlja2FibGU6KCk9PnlzLENsaXBib2FyZDooKT0+UXQsQ29tcG9uZW50RGlzcGF0Y2g6KCk9Pk9sLENvbXBvbmVudFR5cGVzOigpPT5pZyxDb250ZXh0TWVudTooKT0+ZG4sRGlhbG9nOigpPT5WZixFbW9qaVN0b3JlOigpPT5mbixGbGV4OigpPT5BeCxGbHV4OigpPT5MbCxGbHV4RGlzcGF0Y2hlcjooKT0+XyxGb3JtczooKT0+YixHdWlsZENoYW5uZWxTdG9yZTooKT0+YnMsR3VpbGRNZW1iZXJTdG9yZTooKT0+X2UsR3VpbGRTdG9yZTooKT0+bWUsTWFza2VkTGluazooKT0+QWwsTWFza2VkTGlua1N0b3JlOigpPT5EbCxNZW51OigpPT5PLE1lbnVUeXBlczooKT0+YWcsTWVzc2FnZVN0b3JlOigpPT5tbixNb2RhbEltYWdlQ2xhc3NlczooKT0+dXMsTmF2aWdhdGlvblJvdXRlcjooKT0+S3IsUGFnaW5hdG9yOigpPT5ncyxQYXJzZXI6KCk9PmtlLFBlcm1pc3Npb25TdG9yZTooKT0+T2UsUGVybWlzc2lvbnNCaXRzOigpPT5LdCxQb2dnZXJNb2RlU2V0dGluZ3NTdG9yZTooKT0+THgsUG9wb3V0OigpPT56cixQcmVzZW5jZVN0b3JlOigpPT5sbyxQcml2YXRlQ2hhbm5lbHNTdG9yZTooKT0+RWwsUmVhY3Q6KCk9PkEsUmVhY3RET006KCk9PlVvLFJlYWRTdGF0ZVN0b3JlOigpPT5XcixSZWxhdGlvbnNoaXBTdG9yZTooKT0+aXQsUmVzdEFQSTooKT0+eXQsU2Nyb2xsZXJUaGluOigpPT5ocyxTZWFyY2hhYmxlU2VsZWN0OigpPT5mcyxTZWxlY3Q6KCk9PnBuLFNlbGVjdGVkQ2hhbm5lbFN0b3JlOigpPT5UZSxTZWxlY3RlZEd1aWxkU3RvcmU6KCk9PmNvLFNldHRpbmdzUm91dGVyOigpPT5UcyxTbGlkZXI6KCk9PiRvLFNub3dmbGFrZVV0aWxzOigpPT51byxTd2l0Y2g6KCk9Pmh0LFRhYkJhcjooKT0+ZWcsVGV4dDooKT0+dGUsVGV4dEFyZWE6KCk9Pm1zLFRleHRJbnB1dDooKT0+RGUsVGltZXN0YW1wOigpPT5MbixUb2FzdHM6KCk9PkssVG9vbHRpcDooKT0+WixVc2VyU3RvcmU6KCk9PkcsVXNlclV0aWxzOigpPT5FbixVdGlsVHlwZXM6KCk9PmNnLFdpbmRvd1N0b3JlOigpPT5xcixobGpzOigpPT5HbyxpMThuOigpPT5jdCxtb21lbnQ6KCk9PnRuLHNob3dUb2FzdDooKT0+cG8sdXNlQ2FsbGJhY2s6KCk9PlNzLHVzZUVmZmVjdDooKT0+R2UsdXNlTWVtbzooKT0+TXQsdXNlUmVkdWNlcjooKT0+Y3IsdXNlUmVmOigpPT4kdCx1c2VTdGF0ZTooKT0+Vyx1c2VTdGF0ZUZyb21TdG9yZXM6KCk9PldlLHVzZVRva2VuOigpPT5qcn0pO3ZhciBNPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRZigpO3RnKCk7bmcoKTtvZygpO3JnKCk7c2coKTtsZygpO3VnKCk7ZGcoKX0pO2Z1bmN0aW9uIFlyKGUsdCl7cmV0dXJuIHhzLm9wZW5Nb2RhbExhenkoZSx0KX1mdW5jdGlvbiBNZShlLHQsbil7cmV0dXJuIHhzLm9wZW5Nb2RhbChlLHQsbil9ZnVuY3Rpb24gV24oZSx0KXtyZXR1cm4geHMuY2xvc2VNb2RhbChlLHQpfWZ1bmN0aW9uIEZsKCl7cmV0dXJuIHhzLmNsb3NlQWxsTW9kYWxzKCl9dmFyIG1vLGduLEJsLEFlLEJlLEZlLHV0LEN0LHhzLEtlPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtCKCk7Z2UoKTttbz0oaT0+KGkuU01BTEw9InNtYWxsIixpLk1FRElVTT0ibWVkaXVtIixpLkxBUkdFPSJsYXJnZSIsaS5EWU5BTUlDPSJkeW5hbWljIixpKSkobW98fHt9KSxnbj1KZSgiLmNsb3NlV2l0aENpcmNsZUJhY2tncm91bmQiLHtNb2RhbFJvb3Q6Si5ieUNvZGUoIi5yb290IiksTW9kYWxIZWFkZXI6Si5ieUNvZGUoIi5oZWFkZXIiKSxNb2RhbENvbnRlbnQ6Si5ieUNvZGUoIi5jb250ZW50IiksTW9kYWxGb290ZXI6Si5ieUNvZGUoIi5mb290ZXJTZXBhcmF0b3IiKSxNb2RhbENsb3NlQnV0dG9uOkouYnlDb2RlKCIuY2xvc2VXaXRoQ2lyY2xlQmFja2dyb3VuZCIpfSksQmw9cmUoKCk9PlVlKCIucmVuZGVyTGlua0NvbXBvbmVudCIsIi5yZXNwb25zaXZlIikpLEFlPXJlKCgpPT5nbi5Nb2RhbFJvb3QpLEJlPXJlKCgpPT5nbi5Nb2RhbEhlYWRlciksRmU9cmUoKCk9PmduLk1vZGFsQ29udGVudCksdXQ9cmUoKCk9PmduLk1vZGFsRm9vdGVyKSxDdD1yZSgoKT0+Z24uTW9kYWxDbG9zZUJ1dHRvbikseHM9SmUoIm9uQ2xvc2VSZXF1ZXN0Om51bGwhPSIse29wZW5Nb2RhbDpKLmJ5Q29kZSgib25DbG9zZVJlcXVlc3Q6bnVsbCE9IiksY2xvc2VNb2RhbDpKLmJ5Q29kZSgib25DbG9zZUNhbGxiYWNrJiYiKSxvcGVuTW9kYWxMYXp5OmU9PmU/Lmxlbmd0aD09PTEmJkouYnlDb2RlKCIuYXBwbHkodGhpcyxhcmd1bWVudHMpIikoZSksY2xvc2VBbGxNb2RhbHM6Si5ieUNvZGUoIi52YWx1ZS5rZXksIil9KX0pO2Z1bmN0aW9uIHVyKCl7cmV0dXJuIFYuZ2V0Q2hhbm5lbChUZS5nZXRDaGFubmVsSWQoKSl9ZnVuY3Rpb24gJGwoKXtyZXR1cm4gbWUuZ2V0R3VpbGQodXIoKT8uZ3VpbGRfaWQpfWZ1bmN0aW9uIF94KGUpe0VsLm9wZW5Qcml2YXRlQ2hhbm5lbChlKX1mdW5jdGlvbiBacigpe3JldHVybiBEeC5nZXRDdXJyZW50VmFsdWUoKT8uYXBwZWFyYW5jZT8udGhlbWV9ZnVuY3Rpb24gcW4oZSl7T2wuZGlzcGF0Y2hUb0xhc3RTdWJzY3JpYmVkKCJJTlNFUlRfVEVYVCIse3Jhd1RleHQ6ZSxwbGFpblRleHQ6ZX0pfWZ1bmN0aW9uIEJ4KGUsdCxuLHIpe2xldCBpPXtjb250ZW50OiIiLGludmFsaWRFbW9qaXM6W10sdHRzOiExLHZhbGlkTm9uU2hvcnRjdXRFbW9qaXM6W10sLi4udH07cmV0dXJuIE94LnNlbmRNZXNzYWdlKGUsaSxuLHIpfWZ1bmN0aW9uIEhvKGUsdCl7cmV0dXJuIE1lKG49Pm8oQWUsey4uLm4sY2xhc3NOYW1lOnVzLm1vZGFsLHNpemU6ImR5bmFtaWMifSxvKEJsLHtjbGFzc05hbWU6dXMuaW1hZ2Usb3JpZ2luYWw6ZSxwbGFjZWhvbGRlcjplLHNyYzplLHJlbmRlckxpbmtDb21wb25lbnQ6cj0+byhBbCx7Li4ucn0pLHNob3VsZEhpZGVNZWRpYU9wdGlvbnM6ITEsc2hvdWxkQW5pbWF0ZTohMCwuLi50fSkpKX1hc3luYyBmdW5jdGlvbiBobihlKXtpZighYXdhaXQgRW4uZmV0Y2hVc2VyKGUpKXRocm93IG5ldyBFcnJvcigiTm8gc3VjaCB1c2VyOiAiK2UpO2xldCBuPWNvLmdldEd1aWxkSWQoKTtGeCh7dXNlcklkOmUsZ3VpbGRJZDpuLGNoYW5uZWxJZDpUZS5nZXRDaGFubmVsSWQoKSxhbmFseXRpY3NMb2NhdGlvbjp7cGFnZTpuPyJHdWlsZCBDaGFubmVsIjoiRE0gQ2hhbm5lbCIsc2VjdGlvbjoiUHJvZmlsZSBQb3BvdXQifX0pfWZ1bmN0aW9uIEtuKGUpe3JldHVybiBlLmRpc2NyaW1pbmF0b3I9PT0iMCI/ZS51c2VybmFtZTplLnRhZ312YXIgRHgsT3gsd3MsRngsc3Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0IoKTtNKCk7S2UoKTtEeD1OZShlPT5lLlByb3RvQ2xhc3M/LnR5cGVOYW1lLmVuZHNXaXRoKCJQcmVsb2FkZWRVc2VyU2V0dGluZ3MiKSksT3g9SSgiZWRpdE1lc3NhZ2UiLCJzZW5kTWVzc2FnZSIpO3dzPShuPT4obltuLkRhcms9MV09IkRhcmsiLG5bbi5MaWdodD0yXT0iTGlnaHQiLG4pKSh3c3x8e30pO0Z4PWRlKCJmcmllbmRUb2tlbiIsIlVTRVJfUFJPRklMRV9NT0RBTF9PUEVOIil9KTtmdW5jdGlvbiBNcyhlKXtyZXR1cm4gQm9vbGVhbihlKX1mdW5jdGlvbiBVbChlKXtyZXR1cm4gZSE9bnVsbH12YXIgUHM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIHpvLElzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTsoe2xvY2FsU3RvcmFnZTp6b309dW5zYWZlV2luZG93KX0pO3ZhciBtZyx6LGV0PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTttZz0iIix6PXt9O2ZvcihsZXQgZSBvZlsidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Il0pZm9yKGxldCB0IG9mWzgsMTYsMjBdKXtsZXQgbj1gdmMtbS0ke2V9LSR7dH1gO3pbYCR7ZX0ke3R9YF09bixtZys9YC4ke259e21hcmdpbi0ke2V9OiR7dH1weDt9YH1kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwoKT0+ZG9jdW1lbnQuaGVhZC5hcHBlbmQoT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHt0ZXh0Q29udGVudDptZyxpZDoidmVuY29yZC1tYXJnaW5zIn0pKSx7b25jZTohMH0pfSk7ZnVuY3Rpb24gJHgoZSx0LG4pe2xldCByPXQ7aWYodCBpbiBlKXJldHVybiB2b2lkIG4oZVtyXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7c2V0KGkpe2RlbGV0ZSBlW3JdLGVbcl09aSxuKGkpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMX0pfXZhciBmZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiBHbChlKXtsZXQgdD0hMSxuO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P246KHQ9ITAsbj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fXZhciBIbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiBqbyhlKXtpZih0eXBlb2YgZT09InN0cmluZyIpcmV0dXJuIGU7bGV0IHQ9ZS5zb3VyY2UucmVwbGFjZUFsbCgiXFxpIiwiW0EtWmEtel8kXVtcXHckXSoiKTtyZXR1cm4gbmV3IFJlZ0V4cCh0LGUuZmxhZ3MpfWZ1bmN0aW9uIENzKGUsdCl7bGV0IG49YFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zWyR7SlNPTi5zdHJpbmdpZnkodCl9XWA7cmV0dXJuIHR5cGVvZiBlIT0iZnVuY3Rpb24iP2UucmVwbGFjZUFsbCgiJHNlbGYiLG4pOiguLi5yKT0+ZSguLi5yKS5yZXBsYWNlQWxsKCIkc2VsZiIsbil9ZnVuY3Rpb24gemwoZSx0KXtpZihlLmdldCl7bGV0IG49ZS5nZXQ7ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdChuLmNhbGwodGhpcykpfX1lbHNlIGUudmFsdWUmJihlLnZhbHVlPXQoZS52YWx1ZSkpO3JldHVybiBlfWZ1bmN0aW9uIFhyKGUsdCl7bGV0IG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZSk7bi5tYXRjaD16bChuLm1hdGNoLGpvKSxuLnJlcGxhY2U9emwobi5yZXBsYWNlLHI9PkNzKHIsdCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbil9dmFyIEpyPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciB5bixwcj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7eW49Y2xhc3N7Y29uc3RydWN0b3IodD0xLzApe3RoaXMubWF4U2l6ZT10fXF1ZXVlPVtdO3Byb21pc2U7bmV4dCgpe2xldCB0PXRoaXMucXVldWUuc2hpZnQoKTt0P3RoaXMucHJvbWlzZT1Qcm9taXNlLnJlc29sdmUoKS50aGVuKHQpLmZpbmFsbHkoKCk9PnRoaXMubmV4dCgpKTp0aGlzLnByb21pc2U9dm9pZCAwfXJ1bigpe3RoaXMucHJvbWlzZXx8dGhpcy5uZXh0KCl9cHVzaCh0KXt0aGlzLnNpemU+PXRoaXMubWF4U2l6ZSYmdGhpcy5xdWV1ZS5zaGlmdCgpLHRoaXMucXVldWUucHVzaCh0KSx0aGlzLnJ1bigpfXVuc2hpZnQodCl7dGhpcy5zaXplPj10aGlzLm1heFNpemUmJnRoaXMucXVldWUucG9wKCksdGhpcy5xdWV1ZS51bnNoaWZ0KHQpLHRoaXMucnVuKCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5xdWV1ZS5sZW5ndGh9fX0pO2Z1bmN0aW9uIGdnKGUsdCxuKXtyZXR1cm4gbj09PSExP3Q/ZS5zbGljZSgwLC0xKTplOmVbMF19ZnVuY3Rpb24gUXIoZSx0LG49ITEpe2xldCByPXRuLmR1cmF0aW9uKGUsdCksaT1LeC5tYXAocD0+KHthbW91bnQ6cltwXSgpLHVuaXQ6cH0pKSxzPTA7ZTpmb3IobGV0IHA9MDtwPGkubGVuZ3RoO3ArKylpZighKGlbcF0uYW1vdW50PT09MHx8IShwKzE8aS5sZW5ndGgpKSl7Zm9yKGxldCB5PXArMTt5PGkubGVuZ3RoO3krKylpZihpW3ldLmFtb3VudCE9PTApY29udGludWUgZTtzPWkubGVuZ3RoLShwKzEpfWk9cz09PTA/aTppLnNsaWNlKDAsLXMpO2xldCBjPWkuZmluZEluZGV4KCh7dW5pdDpwfSk9PnA9PT0iZGF5cyIpO2lmKGMhPT0tMSl7bGV0IHA9aVtjXSx5PXAuYW1vdW50JTc7eT09PTA/aS5zcGxpY2UoYywxKTpwLmFtb3VudD15fWxldCB1PSIiO2Zvcig7aS5sZW5ndGg7KXtsZXR7YW1vdW50OnAsdW5pdDp5fT1pLnNoaWZ0KCk7dS5sZW5ndGgmJih1Kz1pLmxlbmd0aD8iLCAiOiIgYW5kICIpLChwPjB8fHUubGVuZ3RoKSYmKHUrPWAke3B9ICR7Z2coeSxwPT09MSxuKX1gKX1yZXR1cm4gdS5sZW5ndGg/dTpgMCAke2dnKHQsITEsbil9YH1mdW5jdGlvbiBZeChlLHQ9bj0+bil7bGV0e2xlbmd0aDpufT1lO2lmKG49PT0wKXJldHVybiIiO2lmKG49PT0xKXJldHVybiB0KGVbMF0pO2xldCByPSIiO2ZvcihsZXQgaT0wO2k8bjtpKyspcis9dChlW2ldKSxuLWk+Mj9yKz0iLCAiOm4taT4xJiYocis9IiBhbmQgIik7cmV0dXJuIHJ9ZnVuY3Rpb24gVnIoZSx0KXtsZXQgbj0iYGBgIjtyZXR1cm5gJHtufSR7dHx8IiJ9CiR7ZS5yZXBsYWNlQWxsKCJgYGAiLCJcXGBcXGBcXGAiKX0KJHtufWB9dmFyIGpsLFV4LEd4LFdsLEh4LHp4LGp4LFd4LHF4LFluLEt4LFpuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7amw9ZT0+ZS5zcGxpdCgvKD89W0EtWl0pLykubWFwKHQ9PnQudG9Mb3dlckNhc2UoKSksVXg9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCJfIiksR3g9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIiksV2w9ZT0+ZS5zcGxpdCgvKD89W0EtWl0pLykubWFwKHQ9PnQudG9Mb3dlckNhc2UoKSksSHg9ZT0+ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikseng9ZT0+ZS5tYXAoKHQsbik9Pm4/dFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6dCkuam9pbigiIiksang9ZT0+ZS5qb2luKCJfIikudG9VcHBlckNhc2UoKSxXeD1lPT5lLmpvaW4oIi0iKS50b0xvd2VyQ2FzZSgpLHF4PWU9PmUubWFwKHQ9PnRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpKS5qb2luKCIiKSxZbj1lPT5lLm1hcCh0PT50WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSkuam9pbigiICIpLEt4PVsieWVhcnMiLCJtb250aHMiLCJ3ZWVrcyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIl19KTt2YXIgcWw9e307dmUocWwse0NoYW5nZUxpc3Q6KCk9PkZyLERldnM6KCk9PmQsRGV2c0J5SWQ6KCk9PlRsLEltYWdlTW9kYWw6KCk9PkJsLExhenlDb21wb25lbnQ6KCk9PnJlLExvZ2dlcjooKT0+USxNYXJnaW5zOigpPT56LE1vZGFsQ2xvc2VCdXR0b246KCk9PkN0LE1vZGFsQ29udGVudDooKT0+RmUsTW9kYWxGb290ZXI6KCk9PnV0LE1vZGFsSGVhZGVyOigpPT5CZSxNb2RhbFJvb3Q6KCk9PkFlLE1vZGFsU2l6ZTooKT0+bW8sTW9kYWxzOigpPT5nbixRdWV1ZTooKT0+eW4sUkVBQ1RfR0xPQkFMOigpPT53eCxTVVBQT1JUX0NIQU5ORUxfSUQ6KCk9Pm5zLFRoZW1lOigpPT53cyxWRU5DT1JEX1VTRVJfQUdFTlQ6KCk9PmJsLFdFQlBBQ0tfQ0hVTks6KCk9Pkp0LGNhbm9uaWNhbGl6ZURlc2NyaXB0b3I6KCk9PnpsLGNhbm9uaWNhbGl6ZU1hdGNoOigpPT5qbyxjYW5vbmljYWxpemVSZXBsYWNlOigpPT5DcyxjYW5vbmljYWxpemVSZXBsYWNlbWVudDooKT0+WHIsY2hlY2tJbnRlcnNlY3Rpbmc6KCk9Pk5sLGNsYXNzZXM6KCk9PmVlLGNsb3NlQWxsTW9kYWxzOigpPT5GbCxjbG9zZU1vZGFsOigpPT5Xbixjb3B5V2l0aFRvYXN0OigpPT5WdCxkZWJvdW5jZTooKT0+X3QsZm9ybWF0RHVyYXRpb246KCk9PlFyLGdldEN1cnJlbnRDaGFubmVsOigpPT51cixnZXRDdXJyZW50R3VpbGQ6KCk9PiRsLGdldFRoZW1lOigpPT5acixnZXRVbmlxdWVVc2VybmFtZTooKT0+S24sZ2l0SGFzaDooKT0+bG4sZ2l0UmVtb3RlOigpPT50cyxodW1hbkZyaWVuZGx5Sm9pbjooKT0+WXgsaWRlbnRpdHk6KCk9PnBzLGluc2VydFRleHRJbnRvQ2hhdElucHV0Qm94OigpPT5xbixpc01vYmlsZTooKT0+a3gsaXNOb25OdWxsaXNoOigpPT5VbCxpc09iamVjdDooKT0+UngsaXNQbHVnaW5EZXY6KCk9PkdyLGlzVHJ1dGh5OigpPT5Ncyxsb2NhbFN0b3JhZ2U6KCk9PnpvLG1ha2VDb2RlYmxvY2s6KCk9PlZyLG1ha2VMYXp5OigpPT56bixtZXJnZURlZmF1bHRzOigpPT5GbyxvbmNlRGVmaW5lZDooKT0+JHgsb25seU9uY2U6KCk9PkdsLG9wZW5JbWFnZU1vZGFsOigpPT5IbyxvcGVuTW9kYWw6KCk9Pk1lLG9wZW5Nb2RhbExhenk6KCk9PllyLG9wZW5Qcml2YXRlQ2hhbm5lbDooKT0+X3gsb3BlblVzZXJQcm9maWxlOigpPT5obixwYXJzZVVybDooKT0+Q2wscHJveHlMYXp5OigpPT5mdCxzZW5kTWVzc2FnZTooKT0+Qngsc2xlZXA6KCk9PmFvLHVzZUF3YWl0ZXI6KCk9PlZlLHVzZUZvcmNlVXBkYXRlcjooKT0+QnQsdXNlSW50ZXJzZWN0aW9uOigpPT5SbCx1c2VUaW1lcjooKT0+SHIsd29yZHNGcm9tQ2FtZWw6KCk9PmpsLHdvcmRzRnJvbUtlYmFiOigpPT5HeCx3b3Jkc0Zyb21QYXNjYWw6KCk9PldsLHdvcmRzRnJvbVNuYWtlOigpPT5VeCx3b3Jkc0Zyb21UaXRsZTooKT0+SHgsd29yZHNUb0NhbWVsOigpPT56eCx3b3Jkc1RvS2ViYWI6KCk9Pld4LHdvcmRzVG9QYXNjYWw6KCk9PnF4LHdvcmRzVG9TbmFrZTooKT0+angsd29yZHNUb1RpdGxlOigpPT5Zbn0pO3ZhciBLbD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U2woKTtQKCk7YXIoKTtzdCgpO1BzKCk7Y24oKTtJcygpO3dlKCk7ZXQoKTt5ZSgpO0tlKCk7ZmcoKTtIbCgpO0pyKCk7cHIoKTtnZSgpO1puKCk7fSk7dmFyIHZnPWcoKCk9Pnt9KTtmdW5jdGlvbiBYbihlKXtyZXR1cm4gbygiZGl2Iix7Li4uZSxjbGFzc05hbWU6ZWUoZS5jbGFzc05hbWUsInZjLWVycm9yLWNhcmQiKX0sZS5jaGlsZHJlbil9dmFyIGVpPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt2ZygpO3llKCl9KTt2YXIgSngsU2csYmcsWWwsRCxzZT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7d2UoKTtldCgpO2dlKCk7TSgpO2VpKCk7Sng9IiNlNzgyODQiLFNnPW5ldyBRKCJSZWFjdCBFcnJvckJvdW5kYXJ5IixKeCksYmc9e30sWWw9cmUoKCk9PmNsYXNzIGV4dGVuZHMgQS5QdXJlQ29tcG9uZW50e3N0YXRlPXtlcnJvcjpiZyxzdGFjazoiIixtZXNzYWdlOiIifTtzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKHQpe2xldCBuPXQ/LnN0YWNrPz8iIixyPXQ/Lm1lc3NhZ2V8fFN0cmluZyh0KTtpZih0IGluc3RhbmNlb2YgRXJyb3ImJm4pe2xldCBpPW4uaW5kZXhPZihgCmApO2khPT0tMSYmKHI9bi5zbGljZSgwLGkpLG49bi5zbGljZShpKzEpLnJlcGxhY2UoL2h0dHBzOlwvXC9cUytcL2Fzc2V0c1wvL2csIiIpKX1yZXR1cm57ZXJyb3I6dCxzdGFjazpuLG1lc3NhZ2U6cn19Y29tcG9uZW50RGlkQ2F0Y2godCxuKXt0aGlzLnByb3BzLm9uRXJyb3I/Lih7ZXJyb3I6dCxlcnJvckluZm86bixwcm9wczp0aGlzLnByb3BzLndyYXBwZWRQcm9wc30pLFNnLmVycm9yKGBBIGNvbXBvbmVudCB0aHJldyBhbiBFcnJvcgpgLHQpLFNnLmVycm9yKCJDb21wb25lbnQgU3RhY2siLG4uY29tcG9uZW50U3RhY2spfXJlbmRlcigpe2lmKHRoaXMuc3RhdGUuZXJyb3I9PT1iZylyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtpZih0aGlzLnByb3BzLm5vb3ApcmV0dXJuIG51bGw7aWYodGhpcy5wcm9wcy5mYWxsYmFjaylyZXR1cm4gbyh0aGlzLnByb3BzLmZhbGxiYWNrLHtjaGlsZHJlbjp0aGlzLnByb3BzLmNoaWxkcmVuLC4uLnRoaXMuc3RhdGV9KTtsZXQgdD10aGlzLnByb3BzLm1lc3NhZ2V8fCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZW5kZXJpbmcgdGhpcyBDb21wb25lbnQuIE1vcmUgaW5mbyBjYW4gYmUgZm91bmQgYmVsb3cgYW5kIGluIHlvdXIgY29uc29sZS4iO3JldHVybiBvKFhuLHtzdHlsZTp7b3ZlcmZsb3c6ImhpZGRlbiJ9fSxvKCJoMSIsbnVsbCwiT2ggbm8hIiksbygicCIsbnVsbCx0KSxvKCJjb2RlIixudWxsLHRoaXMuc3RhdGUubWVzc2FnZSwhIXRoaXMuc3RhdGUuc3RhY2smJm8oInByZSIse2NsYXNzTmFtZTp6LnRvcDh9LHRoaXMuc3RhdGUuc3RhY2spKSl9fSk7WWwud3JhcD0oZSx0KT0+bj0+byhZbCx7Li4udCx3cmFwcGVkUHJvcHM6bn0sbyhlLHsuLi5ufSkpO0Q9WWx9KTtmdW5jdGlvbiBOcygpe3JldHVybiBvKCJzdmciLHsiYXJpYS1oaWRkZW4iOiJ0cnVlIixoZWlnaHQ6IjE2Iix2aWV3Qm94OiIwIDAgMTYgMTYiLHdpZHRoOiIxNiIsc3R5bGU6e21hcmdpblJpZ2h0OiIwLjVlbSIsdHJhbnNmb3JtOiJ0cmFuc2xhdGVZKDJweCkifX0sbygicGF0aCIse2ZpbGw6IiNkYjYxYTIiLCJmaWxsLXJ1bGUiOiJldmVub2RkIixkOiJNNC4yNSAyLjVjLTEuMzM2IDAtMi43NSAxLjE2NC0yLjc1IDMgMCAyLjE1IDEuNTggNC4xNDQgMy4zNjUgNS42ODJBMjAuNTY1IDIwLjU2NSAwIDAwOCAxMy4zOTNhMjAuNTYxIDIwLjU2MSAwIDAwMy4xMzUtMi4yMTFDMTIuOTIgOS42NDQgMTQuNSA3LjY1IDE0LjUgNS41YzAtMS44MzYtMS40MTQtMy0yLjc1LTMtMS4zNzMgMC0yLjYwOS45ODYtMy4wMjkgMi40NTZhLjc1Ljc1IDAgMDEtMS40NDIgMEM2Ljg1OSAzLjQ4NiA1LjYyMyAyLjUgNC4yNSAyLjV6TTggMTQuMjVsLS4zNDUuNjY2LS4wMDItLjAwMS0uMDA2LS4wMDMtLjAxOC0uMDFhNy42NDMgNy42NDMgMCAwMS0uMzEtLjE3IDIyLjA3NSAyMi4wNzUgMCAwMS0zLjQzNC0yLjQxNEMyLjA0NSAxMC43MzEgMCA4LjM1IDAgNS41IDAgMi44MzYgMi4wODYgMSA0LjI1IDEgNS43OTcgMSA3LjE1MyAxLjgwMiA4IDMuMDIgOC44NDcgMS44MDIgMTAuMjAzIDEgMTEuNzUgMSAxMy45MTQgMSAxNiAyLjgzNiAxNiA1LjVjMCAyLjg1LTIuMDQ1IDUuMjMxLTMuODg1IDYuODE4YTIyLjA4IDIyLjA4IDAgMDEtMy43NDQgMi41ODRsLS4wMTguMDEtLjAwNi4wMDNoLS4wMDJMOCAxNC4yNXptMCAwbC4zNDUuNjY2YS43NTIuNzUyIDAgMDEtLjY5IDBMOCAxNC4yNXoifSkpfXZhciBabD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiB0aShlKXtyZXR1cm4gbyhSLHsuLi5lLGxvb2s6Ui5Mb29rcy5MSU5LLGNvbG9yOlIuQ29sb3JzLlRSQU5TUEFSRU5ULG9uQ2xpY2s6KCk9PlZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9naXRodWIuY29tL3Nwb25zb3JzL1ZlbmRpY2F0ZWQiKX0sbyhOcyxudWxsKSwiRG9uYXRlIil9dmFyIFhsPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7WmwoKX0pO2Z1bmN0aW9uIGNlKGUpe3JldHVybiBlLnN0eWxlPz89e30sZS5zdHlsZS5kaXNwbGF5PSJmbGV4IixlLnN0eWxlLmdhcD8/PSIxZW0iLGUuc3R5bGUuZmxleERpcmVjdGlvbnx8PWUuZmxleERpcmVjdGlvbixkZWxldGUgZS5mbGV4RGlyZWN0aW9uLG8oImRpdiIsey4uLmV9LGUuY2hpbGRyZW4pfXZhciB2dD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiB2KGUpe3JldHVybiBlfXZhciB4PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2FzeW5jIGZ1bmN0aW9uIFRnKGU9ITEpe0psPXt9O2xldCB0PXt9O2UmJih0LmNhY2hlPSJuby1jYWNoZSIpO2xldCByPShhd2FpdCBmKCJodHRwczovL2dpc3QuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1ZlbmRpY2F0ZWQvNTFhM2RkNzc1ZjY5MjA0MjllYzZlOWI3MzVjYTdmMDEvcmF3L2JhZGdlcy5jc3YiLHQpLnRoZW4oaT0+aS50ZXh0KCkpKS50cmltKCkuc3BsaXQoYApgKTtpZihyLnNoaWZ0KCkhPT0iaWQsdG9vbHRpcCxpbWFnZSIpe25ldyBRKCJCYWRnZUFQSSIpLmVycm9yKCJJbnZhbGlkIGJhZGdlcy5jc3YgZmlsZSEiKTtyZXR1cm59Zm9yKGxldCBpIG9mIHIpe2xldFtzLGMsdV09aS5zcGxpdCgiLCIpOyhKbFtzXT8/PVtdKS5wdXNoKHtpbWFnZTp1LGRlc2NyaXB0aW9uOmN9KX19dmFyIFF4LFZ4LEpsLFFsLHhnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtrcygpO1hsKCk7c2UoKTt2dCgpO1psKCk7UCgpO3dlKCk7ZXQoKTt5ZSgpO0tlKCk7eCgpO00oKTtReD0iaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTAzMzY4MDIwMzQzMzY2MDQ1OC8xMDkyMDg5OTQ3MTI2NzgwMDM1L2Zhdmljb24ucG5nIixWeD17ZGVzY3JpcHRpb246IlZlbmNvcmQgQ29udHJpYnV0b3IiLGltYWdlOlF4LHBvc2l0aW9uOjAscHJvcHM6e3N0eWxlOntib3JkZXJSYWRpdXM6IjUwJSIsdHJhbnNmb3JtOiJzY2FsZSgwLjkpIn19LHNob3VsZFNob3c6KHt1c2VyOmV9KT0+R3IoZS5pZCksbGluazoiaHR0cHM6Ly9naXRodWIuY29tL1ZlbmRpY2F0ZWQvVmVuY29yZCJ9LEpsPXt9O1FsPXYoe25hbWU6IkJhZGdlQVBJIixkZXNjcmlwdGlvbjoiQVBJIHRvIGFkZCBiYWRnZXMgdG8gdXNlcnMuIixhdXRob3JzOltkLk1lZ3UsZC5WZW4sZC5UaGVTdW5dLHJlcXVpcmVkOiEwLHBhdGNoZXM6W3tmaW5kOiJNZXNzYWdlcy5QUk9GSUxFX1VTRVJfQkFER0VTLHJvbGU6IixyZXBsYWNlbWVudDpbe21hdGNoOi8mJihcaSlcLnB1c2hcKFx7aWQ6InByZW1pdW0iLis/XH1cKTsvLHJlcGxhY2U6IiQmJDEudW5zaGlmdCguLi5WZW5jb3JkLkFwaS5CYWRnZXMuX2dldEJhZGdlcyhhcmd1bWVudHNbMF0pKTsifSx7bWF0Y2g6L2FsdDoiICIsImFyaWEtaGlkZGVuIjohMCxzcmM6KD89KFxpKVwuc3JjKS9nLHJlcGxhY2U6Ii4uLiQxLnByb3BzLCQmICQxLmltYWdlPz8ifSx7bWF0Y2g6L2NoaWxkcmVuOmZ1bmN0aW9uKD88PShcaSlcLig/OnRvb2x0aXB8ZGVzY3JpcHRpb24pLHNwYWNpbmc6XGQuKz8pL2cscmVwbGFjZToiY2hpbGRyZW46JDEuY29tcG9uZW50ID8gKCkgPT4gJHNlbGYucmVuZGVyQmFkZ2VDb21wb25lbnQoJDEpIDogZnVuY3Rpb24ifSx7bWF0Y2g6L29uQ2xpY2s6ZnVuY3Rpb24oPz0uezAsMjAwfWhyZWY6KFxpKVwubGluaykvLHJlcGxhY2U6Im9uQ2xpY2s6JDEub25DbGljaz8/ZnVuY3Rpb24ifV19XSx0b29sYm94QWN0aW9uczp7YXN5bmMiUmVmZXRjaCBCYWRnZXMiKCl7YXdhaXQgVGcoITApLEsuc2hvdyh7aWQ6Sy5nZW5JZCgpLG1lc3NhZ2U6IlN1Y2Nlc3NmdWxseSByZWZldGNoZWQgYmFkZ2VzISIsdHlwZTpLLlR5cGUuU1VDQ0VTU30pfX0sYXN5bmMgc3RhcnQoKXtWZW5jb3JkLkFwaS5CYWRnZXMuYWRkQmFkZ2UoVngpLGF3YWl0IFRnKCl9LHJlbmRlckJhZGdlQ29tcG9uZW50OkQud3JhcChlPT57bGV0IHQ9ZS5jb21wb25lbnQ7cmV0dXJuIG8odCx7Li4uZX0pfSx7bm9vcDohMH0pLGdldERvbm9yQmFkZ2VzKGUpe3JldHVybiBKbFtlXT8ubWFwKHQ9Pih7Li4udCxwb3NpdGlvbjowLHByb3BzOntzdHlsZTp7Ym9yZGVyUmFkaXVzOiI1MCUiLHRyYW5zZm9ybToic2NhbGUoMC45KSJ9fSxvbkNsaWNrKCl7bGV0IG49TWUocj0+byhELHtub29wOiEwLG9uRXJyb3I6KCk9PntXbihuKSxWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoImh0dHBzOi8vZ2l0aHViLmNvbS9zcG9uc29ycy9WZW5kaWNhdGVkIil9fSxvKGduLk1vZGFsUm9vdCx7Li4ucn0sbyhnbi5Nb2RhbEhlYWRlcixudWxsLG8oY2Use3N0eWxlOnt3aWR0aDoiMTAwJSIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciJ9fSxvKGIuRm9ybVRpdGxlLHt0YWc6ImgyIixzdHlsZTp7d2lkdGg6IjEwMCUiLHRleHRBbGlnbjoiY2VudGVyIixtYXJnaW46MH19LG8oTnMsbnVsbCksIlZlbmNvcmQgRG9ub3IiKSkpLG8oZ24uTW9kYWxDb250ZW50LG51bGwsbyhjZSxudWxsLG8oImltZyIse3JvbGU6InByZXNlbnRhdGlvbiIsc3JjOiJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTAyNjUzMzA3MDk1NTg3MjMzNy5wbmciLGFsdDoiIixzdHlsZTp7bWFyZ2luOiJhdXRvIn19KSxvKCJpbWciLHtyb2xlOiJwcmVzZW50YXRpb24iLHNyYzoiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vZW1vamlzLzEwMjY1MzMwOTA2MjcxNzQ0NjAucG5nIixhbHQ6IiIsc3R5bGU6e21hcmdpbjoiYXV0byJ9fSkpLG8oImRpdiIse3N0eWxlOntwYWRkaW5nOiIxZW0ifX0sbyhiLkZvcm1UZXh0LG51bGwsIlRoaXMgQmFkZ2UgaXMgYSBzcGVjaWFsIHBlcmsgZm9yIFZlbmNvcmQgRG9ub3JzIiksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6ei50b3AyMH0sIlBsZWFzZSBjb25zaWRlciBzdXBwb3J0aW5nIHRoZSBkZXZlbG9wbWVudCBvZiBWZW5jb3JkIGJ5IGJlY29taW5nIGEgZG9ub3IuIEl0IHdvdWxkIG1lYW4gYSBsb3QhISIpKSksbyhnbi5Nb2RhbEZvb3RlcixudWxsLG8oY2Use3N0eWxlOnt3aWR0aDoiMTAwJSIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciJ9fSxvKHRpLG51bGwpKSkpKSl9fSkpfX0pfSk7dmFyIFZsLHdnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO1ZsPXYoe25hbWU6IkNvbW1hbmRzQVBJIixhdXRob3JzOltkLkFyaml4XSxkZXNjcmlwdGlvbjoiQXBpIHJlcXVpcmVkIGJ5IGFueXRoaW5nIHRoYXQgdXNlcyBjb21tYW5kcyIscGF0Y2hlczpbe2ZpbmQ6JyJnaXBoeSIsInRlbm9yIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PVx3PSkoXHcpKFwuZmlsdGVyXCguezAsMzB9Z2lwaHkpLyxyZXBsYWNlOiJWZW5jb3JkLkFwaS5Db21tYW5kcy5faW5pdCgkMSkkMiJ9XX0se2ZpbmQ6IlVuZXhwZWN0ZWQgdmFsdWUgZm9yIG9wdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8sKC57MSwyfSlcLmV4ZWN1dGVcKCguezEsMn0pLCguezEsMn0pXCldLyxyZXBsYWNlOihlLHQsbixyKT0+YCxWZW5jb3JkLkFwaS5Db21tYW5kcy5faGFuZGxlQ29tbWFuZCgke3R9LCAke259LCAke3J9KV1gfX0se2ZpbmQ6Ii5zb3VyY2UsY2hpbGRyZW4iLHJlcGxhY2VtZW50OnttYXRjaDovKD88PTooLnsxLDN9KVwuZGlzcGxheURlc2NyaXB0aW9uXH0uezAsMjAwfVwuc291cmNlLGNoaWxkcmVuOilbXn1dKy8scmVwbGFjZToiJDEucGx1Z2lufHwoJCYpIn19XX0pfSk7dmFyIGVjLE1nPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO2VjPXYoe25hbWU6IkNvbnRleHRNZW51QVBJIixkZXNjcmlwdGlvbjoiQVBJIGZvciBhZGRpbmcvcmVtb3ZpbmcgaXRlbXMgdG8vZnJvbSBjb250ZXh0IG1lbnVzLiIsYXV0aG9yczpbZC5OdWNreXosZC5WZW5dLHJlcXVpcmVkOiEwLHBhdGNoZXM6W3tmaW5kOiJcdTI2NkIgKFx1MzA2NFx1RkY2MVx1MjVENVx1MjAzRlx1MjAzRlx1MjVENVx1RkY2MSlcdTMwNjQgXHUyNjZBIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1mdW5jdGlvbiBcaVwoKFxpKVwpeykoPz12YXIgXGksXGk9XGlcLm5hdklkKS8scmVwbGFjZTooZSx0KT0+YFZlbmNvcmQuQXBpLkNvbnRleHRNZW51Ll9wYXRjaENvbnRleHRNZW51KCR7dH0pO2B9fSx7ZmluZDoiLk1lbnUseyIsYWxsOiEwLHJlcGxhY2VtZW50OnttYXRjaDovTWVudSx7KD88PVwuanN4cz9cKVwoXGlcLk1lbnUseykvZyxyZXBsYWNlOiIkJmNvbnRleHRNZW51QXBpQXJndW1lbnRzOnR5cGVvZiBhcmd1bWVudHMhPT0ndW5kZWZpbmVkJz9hcmd1bWVudHM6W10sIn19XX0pfSk7dmFyIHRjLFBnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO3RjPXYoe25hbWU6Ik1lbWJlckxpc3REZWNvcmF0b3JzQVBJIixkZXNjcmlwdGlvbjoiQVBJIHRvIGFkZCBkZWNvcmF0b3JzIHRvIG1lbWJlciBsaXN0IChib3RoIGluIHNlcnZlcnMgYW5kIERNcykiLGF1dGhvcnM6W2QuVGhlU3VuXSxwYXRjaGVzOlt7ZmluZDoibG9zdFBlcm1pc3Npb25Ub29sdGlwVGV4dCwiLHJlcGxhY2VtZW50OnttYXRjaDovRnJhZ21lbnQse2NoaWxkcmVuOlxbKC57MzAsODB9KVxdLyxyZXBsYWNlOiJGcmFnbWVudCx7Y2hpbGRyZW46VmVuY29yZC5BcGkuTWVtYmVyTGlzdERlY29yYXRvcnMuX19hZGREZWNvcmF0b3JzVG9MaXN0KHRoaXMucHJvcHMpLmNvbmNhdCgkMSkifX0se2ZpbmQ6IlByaXZhdGVDaGFubmVsLnJlbmRlckF2YXRhciIscmVwbGFjZW1lbnQ6e21hdGNoOi8oc3ViVGV4dDooLnsxLDJ9KVwucmVuZGVyU3VidGl0bGVcKFwpLnsxLDUwfWRlY29yYXRvcnMpOiguezMwLDEwMH06bnVsbCkvLHJlcGxhY2U6IiQxOlZlbmNvcmQuQXBpLk1lbWJlckxpc3REZWNvcmF0b3JzLl9fYWRkRGVjb3JhdG9yc1RvTGlzdCgkMi5wcm9wcykuY29uY2F0KCQzKSJ9fV19KX0pO3ZhciBuYyxJZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtuYz12KHtuYW1lOiJNZXNzYWdlQWNjZXNzb3JpZXNBUEkiLGRlc2NyaXB0aW9uOiJBUEkgdG8gYWRkIG1lc3NhZ2UgYWNjZXNzb3JpZXMuIixhdXRob3JzOltkLkN5bl0scGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5SRU1PVkVfQVRUQUNITUVOVF9CT0RZIixyZXBsYWNlbWVudDp7bWF0Y2g6LyguY29udGFpbmVyXCk/LGNoaWxkcmVuOikoXFtbXlxdXStcXSkofVwpXH07cmV0dXJuKS8scmVwbGFjZTooZSx0LG4scik9PmAke3R9VmVuY29yZC5BcGkuTWVzc2FnZUFjY2Vzc29yaWVzLl9tb2RpZnlBY2Nlc3Nvcmllcygke259LHRoaXMucHJvcHMpJHtyfWB9fV19KX0pO3ZhciBvYyxDZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtvYz12KHtuYW1lOiJNZXNzYWdlRGVjb3JhdGlvbnNBUEkiLGRlc2NyaXB0aW9uOiJBUEkgdG8gYWRkIGRlY29yYXRpb25zIHRvIG1lc3NhZ2VzIixhdXRob3JzOltkLlRoZVN1bl0scGF0Y2hlczpbe2ZpbmQ6Ii53aXRoTWVudGlvblByZWZpeCIscmVwbGFjZW1lbnQ6e21hdGNoOi8oLnJvbGVEb3QuezEwLDUwfXtjaGlsZHJlbjouezEsMn0pfVwpLyxyZXBsYWNlOiIkMS5jb25jYXQoVmVuY29yZC5BcGkuTWVzc2FnZURlY29yYXRpb25zLl9fYWRkRGVjb3JhdGlvbnNUb01lc3NhZ2UoYXJndW1lbnRzWzBdKSl9KSJ9fV19KX0pO3ZhciByYyxOZz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtyYz12KHtuYW1lOiJNZXNzYWdlRXZlbnRzQVBJIixkZXNjcmlwdGlvbjoiQXBpIHJlcXVpcmVkIGJ5IGFueXRoaW5nIHVzaW5nIG1lc3NhZ2UgZXZlbnRzLiIsYXV0aG9yczpbZC5BcmppeCxkLmh1bnQsZC5WZW5dLHBhdGNoZXM6W3tmaW5kOiciTWVzc2FnZUFjdGlvbkNyZWF0b3JzIicscmVwbGFjZW1lbnQ6e21hdGNoOi9cYmVkaXRNZXNzYWdlOihmdW5jdGlvblwoLis/XCkpXHsvLHJlcGxhY2U6ImVkaXRNZXNzYWdlOmFzeW5jICQxe2F3YWl0IFZlbmNvcmQuQXBpLk1lc3NhZ2VFdmVudHMuX2hhbmRsZVByZUVkaXQoLi4uYXJndW1lbnRzKTsifX0se2ZpbmQ6Ii5oYW5kbGVTZW5kTWVzc2FnZT0iLHJlcGxhY2VtZW50OnttYXRjaDovKHByb3BzXC5jaGF0SW5wdXRUeXBlLis/XC50aGVuXChcKCkoZnVuY3Rpb24uKz92YXIgKFxpKT1caVwuXGlcLnBhcnNlXCgoXGkpLC4rP3ZhciAoXGkpPVxpXC5caVwuZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHlcKFxpXCk7KSg/PD1cKVwoKHsuKz99KVwpXC50aGVuLis/KS8scmVwbGFjZTooZSx0LG4scixpLHMsYyk9PmAke3R9YXN5bmMgJHtufWlmKGF3YWl0IFZlbmNvcmQuQXBpLk1lc3NhZ2VFdmVudHMuX2hhbmRsZVByZVNlbmQoJHtpfS5pZCwke3J9LCR7Y30sJHtzfSkpcmV0dXJue3Nob3VkQ2xlYXI6dHJ1ZSxzaG91bGRSZWZvY3VzOnRydWV9O2B9fSx7ZmluZDonKCJpbnRlcmFjdGlvblVzZXJuYW1lUHJvZmlsZScscmVwbGFjZW1lbnQ6e21hdGNoOi92YXIgXGk9KFxpKVwuaWQsXGk9KFxpKVwuaWQ7cmV0dXJuIFxpXC51c2VDYWxsYmFja1woXCg/ZnVuY3Rpb25cKChcaSlcKXsvLHJlcGxhY2U6KGUsdCxuLHIpPT5gdmFyIF9tc2c9JHt0fSxfY2hhbj0ke259OyR7ZX1WZW5jb3JkLkFwaS5NZXNzYWdlRXZlbnRzLl9oYW5kbGVDbGljayhfbXNnLCBfY2hhbiwgJHtyfSk7YH19XX0pfSk7dmFyIGljLFJnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO2ljPXYoe25hbWU6Ik1lc3NhZ2VQb3BvdmVyQVBJIixkZXNjcmlwdGlvbjoiQVBJIHRvIGFkZCBidXR0b25zIHRvIG1lc3NhZ2UgcG9wb3ZlcnMuIixhdXRob3JzOltkLktpbmdGaXNoLGQuVmVuLGQuTnVja3l6XSxwYXRjaGVzOlt7ZmluZDoiTWVzc2FnZXMuTUVTU0FHRV9VVElMSVRJRVNfQTExWV9MQUJFTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9caSYmIVxpXD9cKDAsXGlcLmpzeHM/XClcKC57MCwyMDB9cmVuZGVyRW1vamlQaWNrZXI6LnswLDUwMH1cPyhcaSlcKFx7a2V5OiJyZXBseS1vdGhlciIvLHJlcGxhY2U6KGUsdCk9PntsZXQgbj1lLm1hdGNoKC9tZXNzYWdlOiguezEsM30pLC8pPy5bMV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCBtZXNzYWdlIHZhcmlhYmxlIik7cmV0dXJuYC4uLlZlbmNvcmQuQXBpLk1lc3NhZ2VQb3BvdmVyLl9idWlsZFBvcG92ZXJFbGVtZW50cygke259LCR7dH0pLCR7ZX1gfX19XX0pfSk7dmFyIHNjLGtnPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO3NjPXYoe25hbWU6Ik5vdGljZXNBUEkiLGRlc2NyaXB0aW9uOiJGaXhlcyBub3RpY2VzIGJlaW5nIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIixhdXRob3JzOltkLlZlbl0scmVxdWlyZWQ6ITAscGF0Y2hlczpbe2ZpbmQ6J2Rpc3BsYXlOYW1lPSJOb3RpY2VTdG9yZSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PTtcaT1udWxsOy57MCw3MH1nZXRQcmVtaXVtU3Vic2NyaXB0aW9uKS9nLHJlcGxhY2U6IjtpZihWZW5jb3JkLkFwaS5Ob3RpY2VzLmN1cnJlbnROb3RpY2UpcmV0dXJuIGZhbHNlIn0se21hdGNoOi8oPzw9LE5PVElDRV9ESVNNSVNTOmZ1bmN0aW9uXChcaVwpeykoPz1pZlwobnVsbD09KFxpKVwpKS8scmVwbGFjZTooZSx0KT0+YGlmKCR7dH0uaWQ9PSJWZW5jb3JkTm90aWNlIilyZXR1cm4oJHt0fT1udWxsLFZlbmNvcmQuQXBpLk5vdGljZXMubmV4dE5vdGljZSgpLHRydWUpO2B9XX1dfSl9KTt2YXIgYWMsQWc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7YWM9dih7bmFtZToiU2VydmVyTGlzdEFQSSIsYXV0aG9yczpbZC5rZW1vXSxkZXNjcmlwdGlvbjoiQXBpIHJlcXVpcmVkIGZvciBwbHVnaW5zIHRoYXQgbW9kaWZ5IHRoZSBzZXJ2ZXIgbGlzdCIscGF0Y2hlczpbe2ZpbmQ6Ik1lc3NhZ2VzLkRJU0NPRE9fRElTQUJMRUQiLHJlcGxhY2VtZW50OnttYXRjaDovKE1lc3NhZ2VzXC5ESVNDT0RPX0RJU0FCTEVEXCk7cmV0dXJuKSguKj9ob21lSWNvbi4qPykoXH1mdW5jdGlvbikvLHJlcGxhY2U6IiQxWyQyXS5jb25jYXQoVmVuY29yZC5BcGkuU2VydmVyTGlzdC5yZW5kZXJBbGwoVmVuY29yZC5BcGkuU2VydmVyTGlzdC5TZXJ2ZXJMaXN0UmVuZGVyUG9zaXRpb24uQWJvdmUpKSQzIn19LHtmaW5kOiJNZXNzYWdlcy5TRVJWRVJTLGNoaWxkcmVuIixyZXBsYWNlbWVudDp7bWF0Y2g6LyhNZXNzYWdlc1wuU0VSVkVSUyxjaGlsZHJlbjopKC4rP2RlZmF1bHQ6cmV0dXJuIG51bGxcfVx9XClcKSkvLHJlcGxhY2U6IiQxVmVuY29yZC5BcGkuU2VydmVyTGlzdC5yZW5kZXJBbGwoVmVuY29yZC5BcGkuU2VydmVyTGlzdC5TZXJ2ZXJMaXN0UmVuZGVyUG9zaXRpb24uSW4pLmNvbmNhdCgkMikifX1dfSl9KTt2YXIgbGMsTGc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7bGM9dih7bmFtZToiU2V0dGluZ3NTdG9yZUFQSSIsZGVzY3JpcHRpb246IlBhdGNoZXMgRGlzY29yZCdzIFNldHRpbmdzU3RvcmVzIHRvIGV4cG9zZSB0aGVpciBncm91cCBhbmQgbmFtZSIsYXV0aG9yczpbZC5OdWNreXpdLHBhdGNoZXM6W3tmaW5kOicidGV4dEFuZEltYWdlcyIsInJlbmRlclNwb2lsZXJzIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PUlORlJFUVVFTlRfVVNFUl9BQ1RJT04uezAsMjB9KSx1c2VTZXR0aW5nOmZ1bmN0aW9uLyxyZXBsYWNlOiIsc2V0dGluZ3NTdG9yZUFwaUdyb3VwOmFyZ3VtZW50c1swXSxzZXR0aW5nc1N0b3JlQXBpTmFtZTphcmd1bWVudHNbMV0kJiJ9XX1dfSl9KTt2YXIgY2MsRWc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7Y2M9dih7bmFtZToiTm9UcmFjayIsZGVzY3JpcHRpb246IkRpc2FibGUgRGlzY29yZCdzIHRyYWNraW5nICgnc2NpZW5jZScpLCBtZXRyaWNzIGFuZCBTZW50cnkgY3Jhc2ggcmVwb3J0aW5nIixhdXRob3JzOltkLkN5bixkLlZlbixkLk51Y2t5el0scmVxdWlyZWQ6ITAscGF0Y2hlczpbe2ZpbmQ6IlRSQUNLSU5HX1VSTDoiLHJlcGxhY2VtZW50OnttYXRjaDovXi4rJC8scmVwbGFjZToiKCk9Pnt9In19LHtmaW5kOiJ3aW5kb3cuRGlzY29yZFNlbnRyeT0iLHJlcGxhY2VtZW50OnttYXRjaDovXi4rJC8scmVwbGFjZToiKCk9Pnt9In19LHtmaW5kOiIuTUVUUklDUywiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L3RoaXNcLl9pbnRlcnZhbElkLis/MTJlNFwpLyxyZXBsYWNlOiIifSx7bWF0Y2g6Lyg/PD1pbmNyZW1lbnQ9ZnVuY3Rpb25cKFxpXCl7KS8scmVwbGFjZToicmV0dXJuOyJ9XX1dfSl9KTt2YXIgcGM9e307dmUocGMse19wYXRjaENvbnRleHRNZW51OigpPT5uMixhZGRDb250ZXh0TWVudVBhdGNoOigpPT5wZSxhZGRHbG9iYWxDb250ZXh0TWVudVBhdGNoOigpPT5lMixmaW5kR3JvdXBDaGlsZHJlbkJ5Q2hpbGRJZDooKT0+YXQsZ2xvYmFsUGF0Y2hlczooKT0+QXMsbmF2UGF0Y2hlczooKT0+bmkscmVtb3ZlQ29udGV4dE1lbnVQYXRjaDooKT0+ZmUscmVtb3ZlR2xvYmFsQ29udGV4dE1lbnVQYXRjaDooKT0+dDJ9KTtmdW5jdGlvbiBwZShlLHQpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKGxldCBuIG9mIGUpe2xldCByPW5pLmdldChuKTtyfHwocj1uZXcgU2V0LG5pLnNldChuLHIpKSxyLmFkZCh0KX19ZnVuY3Rpb24gZTIoZSl7QXMuYWRkKGUpfWZ1bmN0aW9uIGZlKGUsdCl7bGV0IHI9KEFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLm1hcChpPT5uaS5nZXQoaSk/LmRlbGV0ZSh0KT8/ITEpO3JldHVybiBBcnJheS5pc0FycmF5KGUpP3I6clswXX1mdW5jdGlvbiB0MihlKXtyZXR1cm4gQXMuZGVsZXRlKGUpfWZ1bmN0aW9uIGF0KGUsdCxuKXtmb3IobGV0IHIgb2YgdCl7aWYocj09bnVsbCljb250aW51ZTtpZihBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUocz0+ci5wcm9wcz8uaWQ9PT1zKXx8ci5wcm9wcz8uaWQ9PT1lKXJldHVybiBuPz9udWxsO2xldCBpPXIucHJvcHM/LmNoaWxkcmVuO2lmKGkpe0FycmF5LmlzQXJyYXkoaSl8fChpPVtpXSxyLnByb3BzLmNoaWxkcmVuPWkpO2xldCBzPWF0KGUsaSxpKTtpZihzIT09bnVsbClyZXR1cm4gc319cmV0dXJuIG51bGx9ZnVuY3Rpb24gbjIoZSl7ZS5jb250ZXh0TWVudUFwaUFyZ3VtZW50cz8/PVtdO2xldCB0PW5pLmdldChlLm5hdklkKTtpZihBcnJheS5pc0FycmF5KGUuY2hpbGRyZW4pfHwoZS5jaGlsZHJlbj1bZS5jaGlsZHJlbl0pLHQpZm9yKGxldCBuIG9mIHQpdHJ5e2xldCByPW4oZS5jaGlsZHJlbiwuLi5lLmNvbnRleHRNZW51QXBpQXJndW1lbnRzKTt1Yy5oYXMoZSl8fHI/LigpfWNhdGNoKHIpe0RnLmVycm9yKGBQYXRjaCBmb3IgJHtlLm5hdklkfSBlcnJvcmVkLGAscil9Zm9yKGxldCBuIG9mIEFzKXRyeXtsZXQgcj1uKGUubmF2SWQsZS5jaGlsZHJlbiwuLi5lLmNvbnRleHRNZW51QXBpQXJndW1lbnRzKTt1Yy5oYXMoZSl8fHI/LigpfWNhdGNoKHIpe0RnLmVycm9yKCJHbG9iYWwgcGF0Y2ggZXJyb3JlZCwiLHIpfXVjLmFkZChlKX12YXIgRGcsbmksQXMsdWMsU3Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3dlKCk7RGc9bmV3IFEoIkNvbnRleHRNZW51Iiksbmk9bmV3IE1hcCxBcz1uZXcgU2V0O3VjPW5ldyBXZWFrU2V0fSk7dmFyIE9nPWcoKCk9Pnt9KTt2YXIgTHMsZGM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09nKCk7RigpO3NlKCk7eWUoKTtNKCk7THM9RC53cmFwKGZ1bmN0aW9uKHt0aXRsZTp0LGJvZHk6bixyaWNoQm9keTpyLGNvbG9yOmksaWNvbjpzLG9uQ2xpY2s6YyxvbkNsb3NlOnUsaW1hZ2U6cCxwZXJtYW5lbnQ6eSxjbGFzc05hbWU6aCxkaXNtaXNzT25DbGljazpTfSl7bGV0e3RpbWVvdXQ6VCxwb3NpdGlvbjp3fT1wdChbIm5vdGlmaWNhdGlvbnMudGltZW91dCIsIm5vdGlmaWNhdGlvbnMucG9zaXRpb24iXSkubm90aWZpY2F0aW9ucyxMPVdlKFtxcl0sKCk9PnFyLmlzRm9jdXNlZCgpKSxbQyxrXT1XKCExKSxbVSwkXT1XKDApLFg9TXQoKCk9PkRhdGUubm93KCksW1QsQyxMXSk7R2UoKCk9PntpZihDfHwhTHx8VD09PTB8fHkpcmV0dXJuIHZvaWQgJCgwKTtsZXQgWT1zZXRJbnRlcnZhbCgoKT0+e2xldCBxPURhdGUubm93KCktWDtxPj1UP3UoKTokKHEpfSwxMCk7cmV0dXJuKCk9PmNsZWFySW50ZXJ2YWwoWSl9LFtULEMsTF0pO2xldCBuZT1VL1Q7cmV0dXJuIG8oImJ1dHRvbiIse2NsYXNzTmFtZTplZSgidmMtbm90aWZpY2F0aW9uLXJvb3QiLGgpLHN0eWxlOnc9PT0iYm90dG9tLXJpZ2h0Ij97Ym90dG9tOiIxcmVtIn06e3RvcDoiM3JlbSJ9LG9uQ2xpY2s6KCk9PntjPy4oKSxTIT09ITEmJnUoKX0sb25Db250ZXh0TWVudTpZPT57WS5wcmV2ZW50RGVmYXVsdCgpLFkuc3RvcFByb3BhZ2F0aW9uKCksdSgpfSxvbk1vdXNlRW50ZXI6KCk9PmsoITApLG9uTW91c2VMZWF2ZTooKT0+ayghMSl9LG8oImRpdiIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uIn0scyYmbygiaW1nIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24taWNvbiIsc3JjOnMsYWx0OiIifSksbygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tY29udGVudCJ9LG8oImRpdiIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uLWhlYWRlciJ9LG8oImgyIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tdGl0bGUifSx0KSxvKCJidXR0b24iLHtjbGFzc05hbWU6InZjLW5vdGlmaWNhdGlvbi1jbG9zZS1idG4iLG9uQ2xpY2s6WT0+e1kucHJldmVudERlZmF1bHQoKSxZLnN0b3BQcm9wYWdhdGlvbigpLHUoKX19LG8oInN2ZyIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0Iixyb2xlOiJpbWciLCJhcmlhLWxhYmVsbGVkYnkiOiJ2Yy1ub3RpZmljYXRpb24tZGlzbWlzcy10aXRsZSJ9LG8oInRpdGxlIix7aWQ6InZjLW5vdGlmaWNhdGlvbi1kaXNtaXNzLXRpdGxlIn0sIkRpc21pc3MgTm90aWZpY2F0aW9uIiksbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTE4LjQgNEwxMiAxMC40TDUuNiA0TDQgNS42TDEwLjQgMTJMNCAxOC40TDUuNiAyMEwxMiAxMy42TDE4LjQgMjBMMjAgMTguNEwxMy42IDEyTDIwIDUuNkwxOC40IDRaIn0pKSkpLG8oImRpdiIsbnVsbCxyPz9vKCJwIix7Y2xhc3NOYW1lOiJ2Yy1ub3RpZmljYXRpb24tcCJ9LG4pKSkpLHAmJm8oImltZyIse2NsYXNzTmFtZToidmMtbm90aWZpY2F0aW9uLWltZyIsc3JjOnAsYWx0OiIifSksVCE9PTAmJiF5JiZvKCJkaXYiLHtjbGFzc05hbWU6InZjLW5vdGlmaWNhdGlvbi1wcm9ncmVzc2JhciIsc3R5bGU6e3dpZHRoOmAkeygxLW5lKSoxMDB9JWAsYmFja2dyb3VuZENvbG9yOml8fCJ2YXIoLS1icmFuZC1leHBlcmltZW50KSJ9fSkpfSx7b25FcnJvcjooe3Byb3BzOmV9KT0+ZS5vbkNsb3NlKCl9KX0pO3ZhciBnYz17fTt2ZShnYyx7Y2xhc3NOYW1lRmFjdG9yeTooKT0+TGUsY2xhc3NOYW1lVG9TZWxlY3RvcjooKT0+QmcsY29tcGlsZVN0eWxlOigpPT5mYyxkaXNhYmxlU3R5bGU6KCk9Pk50LGVuYWJsZVN0eWxlOigpPT50dCxpc1N0eWxlRW5hYmxlZDooKT0+bWMscmVxdWlyZVN0eWxlOigpPT5vaSxzZXRTdHlsZUNsYXNzTmFtZXM6KCk9PnIyLHN0eWxlTWFwOigpPT5fZyx0b2dnbGVTdHlsZTooKT0+bzJ9KTtmdW5jdGlvbiBvaShlKXtsZXQgdD1fZy5nZXQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBTdHlsZSAiJHtlfSIgZG9lcyBub3QgZXhpc3RgKTtyZXR1cm4gdH1mdW5jdGlvbiB0dChlKXtsZXQgdD1vaShlKTtyZXR1cm4gdC5kb20/LmlzQ29ubmVjdGVkPyExOih0LmRvbXx8KHQuZG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdC5kb20uZGF0YXNldC52ZW5jb3JkTmFtZT10Lm5hbWUpLGZjKHQpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodC5kb20pLCEwKX1mdW5jdGlvbiBOdChlKXtsZXQgdD1vaShlKTtyZXR1cm4gdC5kb20/LmlzQ29ubmVjdGVkPyh0LmRvbS5yZW1vdmUoKSx0LmRvbT1udWxsLCEwKTohMX12YXIgX2csbzIsbWMscjIsZmMsQmcsTGUsSGU9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO19nPXVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcDtvMj1lPT5tYyhlKT9OdChlKTp0dChlKSxtYz1lPT5vaShlKS5kb20/LmlzQ29ubmVjdGVkPz8hMSxyMj0oZSx0LG49ITApPT57bGV0IHI9b2koZSk7ci5jbGFzc05hbWVzPXQsbiYmbWMoci5uYW1lKSYmZmMocil9LGZjPWU9PntpZighZS5kb20pdGhyb3cgbmV3IEVycm9yKCJTdHlsZSBoYXMgbm8gRE9NIGVsZW1lbnQiKTtlLmRvbS50ZXh0Q29udGVudD1lLnNvdXJjZS5yZXBsYWNlKC9cWy0tKFx3KylcXS9nLCh0LG4pPT57bGV0IHI9ZS5jbGFzc05hbWVzW25dO3JldHVybiByP0JnKHIpOnR9KX0sQmc9KGUsdD0iIik9PmUuc3BsaXQoIiAiKS5tYXAobj0+YC4ke3R9JHtufWApLmpvaW4oIiIpLExlPShlPSIiKT0+KC4uLnQpPT57bGV0IG49bmV3IFNldDtmb3IobGV0IHIgb2YgdClyJiZ0eXBlb2Ygcj09InN0cmluZyI/bi5hZGQocik6QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goaT0+bi5hZGQoaSkpOnImJnR5cGVvZiByPT0ib2JqZWN0IiYmT2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW2ksc10pPT5zJiZuLmFkZChpKSk7cmV0dXJuIEFycmF5LmZyb20obixyPT5lK3IpLmpvaW4oIiAiKX19KTt2YXIgRmcsJGc9ZygoKT0+e2EoKTtsKCk7Rmc9KGU9MjEpPT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGUpKS5yZWR1Y2UoKHQsbik9PihuJj02MyxuPDM2P3QrPW4udG9TdHJpbmcoMzYpOm48NjI/dCs9KG4tMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpOm4+NjI/dCs9Ii0iOnQrPSJfIix0KSwiIil9KTthc3luYyBmdW5jdGlvbiBHZyhlKXtpZihlLm5vUGVyc2lzdClyZXR1cm47bGV0IHQ9Ti5ub3RpZmljYXRpb25zLmxvZ0xpbWl0O3QhPT0wJiYoYXdhaXQgQm8oRXMsbj0+e2xldCByPW4/P1tdLHtvbkNsaWNrOmksb25DbG9zZTpzLHJpY2hCb2R5OmMscGVybWFuZW50OnUsbm9QZXJzaXN0OnAsZGlzbWlzc09uQ2xpY2s6eSwuLi5ofT1lO3JldHVybiByLnVuc2hpZnQoey4uLmgsdGltZXN0YW1wOkRhdGUubm93KCksaWQ6RmcoKX0pLHIubGVuZ3RoPnQmJnQhPT0yMDAmJihyLmxlbmd0aD10KSxyfSkscmkuZm9yRWFjaChuPT5uKCkpKX1hc3luYyBmdW5jdGlvbiBpMihlKXtsZXQgdD1hd2FpdCBVZygpLG49dC5maW5kSW5kZXgocj0+ci50aW1lc3RhbXA9PT1lKTtuIT09LTEmJih0LnNwbGljZShuLDEpLGF3YWl0IHJ0KEVzLHQpLHJpLmZvckVhY2gocj0+cigpKSl9ZnVuY3Rpb24gczIoKXtsZXRbZSx0XT1jcihzPT5zKzEsMCk7R2UoKCk9PihyaS5hZGQodCksKCk9PnZvaWQgcmkuZGVsZXRlKHQpKSxbXSk7bGV0W24scixpXT1WZShVZyx7ZmFsbGJhY2tWYWx1ZTpbXSxkZXBzOltlXX0pO3JldHVybltuLGldfWZ1bmN0aW9uIGEyKHtkYXRhOmV9KXtsZXRbdCxuXT1XKCExKSxyPUEudXNlUmVmKG51bGwpO3JldHVybiBHZSgoKT0+e2xldCBpPXIuY3VycmVudCxzPSgpPT57aWYoaS5jbGllbnRIZWlnaHQ9PT0wKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocyk7aS5zdHlsZS5oZWlnaHQ9YCR7aS5jbGllbnRIZWlnaHR9cHhgfTtzKCl9LFtdKSxvKCJkaXYiLHtjbGFzc05hbWU6ZHIoIndyYXBwZXIiLHtyZW1vdmluZzp0fSkscmVmOnJ9LG8oTHMsey4uLmUscGVybWFuZW50OiEwLGRpc21pc3NPbkNsaWNrOiExLG9uQ2xvc2U6KCk9Pnt0fHwobighMCksc2V0VGltZW91dCgoKT0+aTIoZS50aW1lc3RhbXApLDIwMCkpfSxyaWNoQm9keTpvKCJkaXYiLHtjbGFzc05hbWU6ZHIoImJvZHkiKX0sZS5ib2R5LG8oTG4se3RpbWVzdGFtcDp0bihlLnRpbWVzdGFtcCksY2xhc3NOYW1lOmRyKCJ0aW1lc3RhbXAiKX0pKX0pKX1mdW5jdGlvbiBsMih7bG9nOmUscGVuZGluZzp0fSl7cmV0dXJuIWUubGVuZ3RoJiYhdD9vKCJkaXYiLHtjbGFzc05hbWU6ZHIoImNvbnRhaW5lciIpfSxvKCJkaXYiLHtjbGFzc05hbWU6ZHIoImVtcHR5Iil9KSxvKGIuRm9ybVRleHQse3N0eWxlOnt0ZXh0QWxpZ246ImNlbnRlciJ9fSwiTm8gbm90aWZpY2F0aW9ucyB5ZXQiKSk6bygiZGl2Iix7Y2xhc3NOYW1lOmRyKCJjb250YWluZXIiKX0sZS5tYXAobj0+byhhMix7ZGF0YTpuLGtleTpuLmlkfSkpKX1mdW5jdGlvbiBjMih7bW9kYWxQcm9wczplLGNsb3NlOnR9KXtsZXRbbixyXT1zMigpO3JldHVybiBvKEFlLHsuLi5lLHNpemU6ImxhcmdlIn0sbyhCZSxudWxsLG8odGUse3ZhcmlhbnQ6ImhlYWRpbmctbGcvc2VtaWJvbGQiLHN0eWxlOntmbGV4R3JvdzoxfX0sIk5vdGlmaWNhdGlvbiBMb2ciKSxvKEN0LHtvbkNsaWNrOnR9KSksbyhGZSxudWxsLG8obDIse2xvZzpuLHBlbmRpbmc6cn0pKSxvKHV0LG51bGwsbyhSLHtkaXNhYmxlZDpuLmxlbmd0aD09PTAsb25DbGljazooKT0+e0l0LnNob3coe3RpdGxlOiJBcmUgeW91IHN1cmU/Iixib2R5OmBUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlICR7bi5sZW5ndGh9IG5vdGlmaWNhdGlvbiR7bi5sZW5ndGg9PT0xPyIiOiJzIn0uIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuYCxhc3luYyBvbkNvbmZpcm0oKXthd2FpdCBydChFcyxbXSkscmkuZm9yRWFjaChpPT5pKCkpfSxjb25maXJtVGV4dDoiRG8gaXQhIixjb25maXJtQ29sb3I6InZjLW5vdGlmaWNhdGlvbi1sb2ctZGFuZ2VyLWJ0biIsY2FuY2VsVGV4dDoiTmV2ZXJtaW5kIn0pfX0sIkNsZWFyIE5vdGlmaWNhdGlvbiBMb2ciKSkpfWZ1bmN0aW9uIERzKCl7bGV0IGU9TWUodD0+byhjMix7bW9kYWxQcm9wczp0LGNsb3NlOigpPT5XbihlKX0pKX12YXIgRXMsVWcsZHIscmksT3M9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2tuKCk7RigpO0hlKCk7S2UoKTtnZSgpO00oKTskZygpO2RjKCk7RXM9Im5vdGlmaWNhdGlvbi1sb2ciLFVnPWFzeW5jKCk9PmF3YWl0IG90KEVzKT8/W10sZHI9TGUoInZjLW5vdGlmaWNhdGlvbi1sb2ctIikscmk9bmV3IFNldH0pO2Z1bmN0aW9uIGQyKCl7aWYoIWhjKXtsZXQgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlkPSJ2Yy1ub3RpZmljYXRpb24tY29udGFpbmVyIixkb2N1bWVudC5ib2R5LmFwcGVuZChlKSxoYz1Vby5jcmVhdGVSb290KGUpfXJldHVybiBoY31mdW5jdGlvbiBtMihlLHQpe2xldCBuPWQyKCk7cmV0dXJuIG5ldyBQcm9taXNlKHI9PntuLnJlbmRlcihvKExzLHtrZXk6dCwuLi5lLG9uQ2xvc2U6KCk9PntlLm9uQ2xvc2U/LigpLG4ucmVuZGVyKG51bGwpLHIoKX19KSl9KX1mdW5jdGlvbiBmMigpe2lmKHR5cGVvZiBOb3RpZmljYXRpb24+InUiKXJldHVybiExO2xldHt1c2VOYXRpdmU6ZX09Ti5ub3RpZmljYXRpb25zO3JldHVybiBlPT09ImFsd2F5cyI/ITA6ZT09PSJub3QtZm9jdXNlZCI/IWRvY3VtZW50Lmhhc0ZvY3VzKCk6ITF9YXN5bmMgZnVuY3Rpb24gSGcoKXtyZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb249PT0iZ3JhbnRlZCJ8fE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uIT09ImRlbmllZCImJmF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpPT09ImdyYW50ZWQifWFzeW5jIGZ1bmN0aW9uIFNlKGUpe2lmKEdnKGUpLGYyKCkmJmF3YWl0IEhnKCkpe2xldHt0aXRsZTp0LGJvZHk6bixpY29uOnIsaW1hZ2U6aSxvbkNsaWNrOnM9bnVsbCxvbkNsb3NlOmM9bnVsbH09ZSx1PW5ldyBOb3RpZmljYXRpb24odCx7Ym9keTpuLGljb246cixpbWFnZTppfSk7dS5vbmNsaWNrPXMsdS5vbmNsb3NlPWN9ZWxzZSB1Mi5wdXNoKCgpPT5tMihlLHAyKyspKX12YXIgdTIsaGMscDIsemc9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtwcigpO00oKTtkYygpO09zKCk7dTI9bmV3IHluLHAyPTQyfSk7dmFyIHljPXt9O3ZlKHljLHtyZXF1ZXN0UGVybWlzc2lvbjooKT0+SGcsc2hvd05vdGlmaWNhdGlvbjooKT0+U2V9KTt2YXIgZm89ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3pnKCl9KTtmdW5jdGlvbiBRZyhlLHQpe3JldHVybiBNMihlLHR8fHt9LDAsMCl9ZnVuY3Rpb24gVmcoZSx0KXtyZXR1cm4gVDIoZSx0KX12YXIgUnQsVXQsX3MsQnMsRnMsVGMsS2csWWcsWmcseGMsWGcsZzIsamcsd2MsSm4saGUsRG4saG8saGUsaGUsaGUsaGUsYWksaGUsaDIseTIsdjIsUzIsdmMsdm4sU2MsSWMsSmcsYjIsZ28sVDIsUW4saWksYmMsTWMsV2csc2ksUGMscWcseDIsQ2MsdzIsTTIsUDIsSTIsZWg9ZygoKT0+e2EoKTtsKCk7UnQ9VWludDhBcnJheSxVdD1VaW50MTZBcnJheSxfcz1VaW50MzJBcnJheSxCcz1uZXcgUnQoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLEZzPW5ldyBSdChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxUYz1uZXcgUnQoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxLZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1uZXcgVXQoMzEpLHI9MDtyPDMxOysrciluW3JdPXQrPTE8PGVbci0xXTtmb3IodmFyIGk9bmV3IF9zKG5bMzBdKSxyPTE7cjwzMDsrK3IpZm9yKHZhciBzPW5bcl07czxuW3IrMV07KytzKWlbc109cy1uW3JdPDw1fHI7cmV0dXJuW24saV19LFlnPUtnKEJzLDIpLFpnPVlnWzBdLHhjPVlnWzFdO1pnWzI4XT0yNTgseGNbMjU4XT0yODtYZz1LZyhGcywwKSxnMj1YZ1swXSxqZz1YZ1sxXSx3Yz1uZXcgVXQoMzI3NjgpO2ZvcihoZT0wO2hlPDMyNzY4OysraGUpSm49KGhlJjQzNjkwKT4+PjF8KGhlJjIxODQ1KTw8MSxKbj0oSm4mNTI0MjgpPj4+MnwoSm4mMTMxMDcpPDwyLEpuPShKbiY2MTY4MCk+Pj40fChKbiYzODU1KTw8NCx3Y1toZV09KChKbiY2NTI4MCk+Pj44fChKbiYyNTUpPDw4KT4+PjE7RG49ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aCxpPTAscz1uZXcgVXQodCk7aTxyOysraSllW2ldJiYrK3NbZVtpXS0xXTt2YXIgYz1uZXcgVXQodCk7Zm9yKGk9MDtpPHQ7KytpKWNbaV09Y1tpLTFdK3NbaS0xXTw8MTt2YXIgdTtpZihuKXt1PW5ldyBVdCgxPDx0KTt2YXIgcD0xNS10O2ZvcihpPTA7aTxyOysraSlpZihlW2ldKWZvcih2YXIgeT1pPDw0fGVbaV0saD10LWVbaV0sUz1jW2VbaV0tMV0rKzw8aCxUPVN8KDE8PGgpLTE7Uzw9VDsrK1MpdVt3Y1tTXT4+PnBdPXl9ZWxzZSBmb3IodT1uZXcgVXQociksaT0wO2k8cjsrK2kpZVtpXSYmKHVbaV09d2NbY1tlW2ldLTFdKytdPj4+MTUtZVtpXSk7cmV0dXJuIHV9LGhvPW5ldyBSdCgyODgpO2ZvcihoZT0wO2hlPDE0NDsrK2hlKWhvW2hlXT04O2ZvcihoZT0xNDQ7aGU8MjU2OysraGUpaG9baGVdPTk7Zm9yKGhlPTI1NjtoZTwyODA7KytoZSlob1toZV09Nztmb3IoaGU9MjgwO2hlPDI4ODsrK2hlKWhvW2hlXT04O2FpPW5ldyBSdCgzMik7Zm9yKGhlPTA7aGU8MzI7KytoZSlhaVtoZV09NTtoMj1Ebihobyw5LDApLHkyPURuKGhvLDksMSksdjI9RG4oYWksNSwwKSxTMj1EbihhaSw1LDEpLHZjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdLG49MTtuPGUubGVuZ3RoOysrbillW25dPnQmJih0PWVbbl0pO3JldHVybiB0fSx2bj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC84fDA7cmV0dXJuKGVbcl18ZVtyKzFdPDw4KT4+KHQmNykmbn0sU2M9ZnVuY3Rpb24oZSx0KXt2YXIgbj10Lzh8MDtyZXR1cm4oZVtuXXxlW24rMV08PDh8ZVtuKzJdPDwxNik+Pih0JjcpfSxJYz1mdW5jdGlvbihlKXtyZXR1cm4oZSs3KS84fDB9LEpnPWZ1bmN0aW9uKGUsdCxuKXsodD09bnVsbHx8dDwwKSYmKHQ9MCksKG49PW51bGx8fG4+ZS5sZW5ndGgpJiYobj1lLmxlbmd0aCk7dmFyIHI9bmV3KGUuQllURVNfUEVSX0VMRU1FTlQ9PTI/VXQ6ZS5CWVRFU19QRVJfRUxFTUVOVD09ND9fczpSdCkobi10KTtyZXR1cm4gci5zZXQoZS5zdWJhcnJheSh0LG4pKSxyfSxiMj1bInVuZXhwZWN0ZWQgRU9GIiwiaW52YWxpZCBibG9jayB0eXBlIiwiaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCIsImludmFsaWQgZGlzdGFuY2UiLCJzdHJlYW0gZmluaXNoZWQiLCJubyBzdHJlYW0gaGFuZGxlciIsLCJubyBjYWxsYmFjayIsImludmFsaWQgVVRGLTggZGF0YSIsImV4dHJhIGZpZWxkIHRvbyBsb25nIiwiZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IiwiZmlsZW5hbWUgdG9vIGxvbmciLCJzdHJlYW0gZmluaXNoaW5nIiwiaW52YWxpZCB6aXAgZGF0YSJdLGdvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgRXJyb3IodHx8YjJbZV0pO2lmKHIuY29kZT1lLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShyLGdvKSwhbil0aHJvdyByO3JldHVybiByfSxUMj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5sZW5ndGg7aWYoIXJ8fG4mJm4uZiYmIW4ubClyZXR1cm4gdHx8bmV3IFJ0KDApO3ZhciBpPSF0fHxuLHM9IW58fG4uaTtufHwobj17fSksdHx8KHQ9bmV3IFJ0KHIqMykpO3ZhciBjPWZ1bmN0aW9uKFZpKXt2YXIgX3I9dC5sZW5ndGg7aWYoVmk+X3Ipe3ZhciBzcj1uZXcgUnQoTWF0aC5tYXgoX3IqMixWaSkpO3NyLnNldCh0KSx0PXNyfX0sdT1uLmZ8fDAscD1uLnB8fDAseT1uLmJ8fDAsaD1uLmwsUz1uLmQsVD1uLm0sdz1uLm4sTD1yKjg7ZG97aWYoIWgpe3U9dm4oZSxwLDEpO3ZhciBDPXZuKGUscCsxLDMpO2lmKHArPTMsQylpZihDPT0xKWg9eTIsUz1TMixUPTksdz01O2Vsc2UgaWYoQz09Mil7dmFyIFg9dm4oZSxwLDMxKSsyNTcsbmU9dm4oZSxwKzEwLDE1KSs0LFk9WCt2bihlLHArNSwzMSkrMTtwKz0xNDtmb3IodmFyIHE9bmV3IFJ0KFkpLG9lPW5ldyBSdCgxOSksSD0wO0g8bmU7KytIKW9lW1RjW0hdXT12bihlLHArSCozLDcpO3ArPW5lKjM7Zm9yKHZhciBFZT12YyhvZSksaWU9KDE8PEVlKS0xLGplPURuKG9lLEVlLDEpLEg9MDtIPFk7KXt2YXIgJGU9amVbdm4oZSxwLGllKV07cCs9JGUmMTU7dmFyIGs9JGU+Pj40O2lmKGs8MTYpcVtIKytdPWs7ZWxzZXt2YXIgZHQ9MCxaZT0wO2ZvcihrPT0xNj8oWmU9Myt2bihlLHAsMykscCs9MixkdD1xW0gtMV0pOms9PTE3PyhaZT0zK3ZuKGUscCw3KSxwKz0zKTprPT0xOCYmKFplPTExK3ZuKGUscCwxMjcpLHArPTcpO1plLS07KXFbSCsrXT1kdH19dmFyIHh0PXEuc3ViYXJyYXkoMCxYKSxxZT1xLnN1YmFycmF5KFgpO1Q9dmMoeHQpLHc9dmMocWUpLGg9RG4oeHQsVCwxKSxTPURuKHFlLHcsMSl9ZWxzZSBnbygxKTtlbHNle3ZhciBrPUljKHApKzQsVT1lW2stNF18ZVtrLTNdPDw4LCQ9aytVO2lmKCQ+cil7cyYmZ28oMCk7YnJlYWt9aSYmYyh5K1UpLHQuc2V0KGUuc3ViYXJyYXkoaywkKSx5KSxuLmI9eSs9VSxuLnA9cD0kKjgsbi5mPXU7Y29udGludWV9aWYocD5MKXtzJiZnbygwKTticmVha319aSYmYyh5KzEzMTA3Mik7Zm9yKHZhciBYZT0oMTw8VCktMSx6dD0oMTw8dyktMSxYdD1wOztYdD1wKXt2YXIgZHQ9aFtTYyhlLHApJlhlXSxDbj1kdD4+PjQ7aWYocCs9ZHQmMTUscD5MKXtzJiZnbygwKTticmVha31pZihkdHx8Z28oMiksQ248MjU2KXRbeSsrXT1DbjtlbHNlIGlmKENuPT0yNTYpe1h0PXAsaD1udWxsO2JyZWFrfWVsc2V7dmFyIGp0PUNuLTI1NDtpZihDbj4yNjQpe3ZhciBIPUNuLTI1Nyxzbj1Cc1tIXTtqdD12bihlLHAsKDE8PHNuKS0xKStaZ1tIXSxwKz1zbn12YXIgTm49U1tTYyhlLHApJnp0XSxPdD1Obj4+PjQ7Tm58fGdvKDMpLHArPU5uJjE1O3ZhciBxZT1nMltPdF07aWYoT3Q+Myl7dmFyIHNuPUZzW090XTtxZSs9U2MoZSxwKSYoMTw8c24pLTEscCs9c259aWYocD5MKXtzJiZnbygwKTticmVha31pJiZjKHkrMTMxMDcyKTtmb3IodmFyIG10PXkranQ7eTxtdDt5Kz00KXRbeV09dFt5LXFlXSx0W3krMV09dFt5KzEtcWVdLHRbeSsyXT10W3krMi1xZV0sdFt5KzNdPXRbeSszLXFlXTt5PW10fX1uLmw9aCxuLnA9WHQsbi5iPXksbi5mPXUsaCYmKHU9MSxuLm09VCxuLmQ9UyxuLm49dyl9d2hpbGUoIXUpO3JldHVybiB5PT10Lmxlbmd0aD90OkpnKHQsMCx5KX0sUW49ZnVuY3Rpb24oZSx0LG4pe248PD10Jjc7dmFyIHI9dC84fDA7ZVtyXXw9bixlW3IrMV18PW4+Pj44fSxpaT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgcj10Lzh8MDtlW3JdfD1uLGVbcisxXXw9bj4+PjgsZVtyKzJdfD1uPj4+MTZ9LGJjPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZuLnB1c2goe3M6cixmOmVbcl19KTt2YXIgaT1uLmxlbmd0aCxzPW4uc2xpY2UoKTtpZighaSlyZXR1cm5bQ2MsMF07aWYoaT09MSl7dmFyIGM9bmV3IFJ0KG5bMF0ucysxKTtyZXR1cm4gY1tuWzBdLnNdPTEsW2MsMV19bi5zb3J0KGZ1bmN0aW9uKFkscSl7cmV0dXJuIFkuZi1xLmZ9KSxuLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciB1PW5bMF0scD1uWzFdLHk9MCxoPTEsUz0yO2ZvcihuWzBdPXtzOi0xLGY6dS5mK3AuZixsOnUscjpwfTtoIT1pLTE7KXU9bltuW3ldLmY8bltTXS5mP3krKzpTKytdLHA9blt5IT1oJiZuW3ldLmY8bltTXS5mP3krKzpTKytdLG5baCsrXT17czotMSxmOnUuZitwLmYsbDp1LHI6cH07Zm9yKHZhciBUPXNbMF0ucyxyPTE7cjxpOysrcilzW3JdLnM+VCYmKFQ9c1tyXS5zKTt2YXIgdz1uZXcgVXQoVCsxKSxMPU1jKG5baC0xXSx3LDApO2lmKEw+dCl7dmFyIHI9MCxDPTAsaz1MLXQsVT0xPDxrO2ZvcihzLnNvcnQoZnVuY3Rpb24ocSxvZSl7cmV0dXJuIHdbb2Uuc10td1txLnNdfHxxLmYtb2UuZn0pO3I8aTsrK3Ipe3ZhciAkPXNbcl0ucztpZih3WyRdPnQpQys9VS0oMTw8TC13WyRdKSx3WyRdPXQ7ZWxzZSBicmVha31mb3IoQz4+Pj1rO0M+MDspe3ZhciBYPXNbcl0uczt3W1hdPHQ/Qy09MTw8dC13W1hdKystMTorK3J9Zm9yKDtyPj0wJiZDOy0tcil7dmFyIG5lPXNbcl0uczt3W25lXT09dCYmKC0td1tuZV0sKytDKX1MPXR9cmV0dXJuW25ldyBSdCh3KSxMXX0sTWM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnM9PS0xP01hdGgubWF4KE1jKGUubCx0LG4rMSksTWMoZS5yLHQsbisxKSk6dFtlLnNdPW59LFdnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBVdCgrK3QpLHI9MCxpPWVbMF0scz0xLGM9ZnVuY3Rpb24ocCl7bltyKytdPXB9LHU9MTt1PD10OysrdSlpZihlW3VdPT1pJiZ1IT10KSsrcztlbHNle2lmKCFpJiZzPjIpe2Zvcig7cz4xMzg7cy09MTM4KWMoMzI3NTQpO3M+MiYmKGMocz4xMD9zLTExPDw1fDI4NjkwOnMtMzw8NXwxMjMwNSkscz0wKX1lbHNlIGlmKHM+Myl7Zm9yKGMoaSksLS1zO3M+NjtzLT02KWMoODMwNCk7cz4yJiYoYyhzLTM8PDV8ODIwOCkscz0wKX1mb3IoO3MtLTspYyhpKTtzPTEsaT1lW3VdfXJldHVybltuLnN1YmFycmF5KDAsciksdF19LHNpPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj0wO3I8dC5sZW5ndGg7KytyKW4rPWVbcl0qdFtyXTtyZXR1cm4gbn0sUGM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4ubGVuZ3RoLGk9SWModCsyKTtlW2ldPXImMjU1LGVbaSsxXT1yPj4+OCxlW2krMl09ZVtpXV4yNTUsZVtpKzNdPWVbaSsxXV4yNTU7Zm9yKHZhciBzPTA7czxyOysrcyllW2krcys0XT1uW3NdO3JldHVybihpKzQrcikqOH0scWc9ZnVuY3Rpb24oZSx0LG4scixpLHMsYyx1LHAseSxoKXtRbih0LGgrKyxuKSwrK2lbMjU2XTtmb3IodmFyIFM9YmMoaSwxNSksVD1TWzBdLHc9U1sxXSxMPWJjKHMsMTUpLEM9TFswXSxrPUxbMV0sVT1XZyhUKSwkPVVbMF0sWD1VWzFdLG5lPVdnKEMpLFk9bmVbMF0scT1uZVsxXSxvZT1uZXcgVXQoMTkpLEg9MDtIPCQubGVuZ3RoOysrSClvZVskW0hdJjMxXSsrO2Zvcih2YXIgSD0wO0g8WS5sZW5ndGg7KytIKW9lW1lbSF0mMzFdKys7Zm9yKHZhciBFZT1iYyhvZSw3KSxpZT1FZVswXSxqZT1FZVsxXSwkZT0xOTskZT40JiYhaWVbVGNbJGUtMV1dOy0tJGUpO3ZhciBkdD15KzU8PDMsWmU9c2koaSxobykrc2kocyxhaSkrYyx4dD1zaShpLFQpK3NpKHMsQykrYysxNCszKiRlK3NpKG9lLGllKSsoMipvZVsxNl0rMypvZVsxN10rNypvZVsxOF0pO2lmKGR0PD1aZSYmZHQ8PXh0KXJldHVybiBQYyh0LGgsZS5zdWJhcnJheShwLHAreSkpO3ZhciBxZSxYZSx6dCxYdDtpZihRbih0LGgsMSsoeHQ8WmUpKSxoKz0yLHh0PFplKXtxZT1EbihULHcsMCksWGU9VCx6dD1EbihDLGssMCksWHQ9Qzt2YXIgQ249RG4oaWUsamUsMCk7UW4odCxoLFgtMjU3KSxRbih0LGgrNSxxLTEpLFFuKHQsaCsxMCwkZS00KSxoKz0xNDtmb3IodmFyIEg9MDtIPCRlOysrSClRbih0LGgrMypILGllW1RjW0hdXSk7aCs9MyokZTtmb3IodmFyIGp0PVskLFldLHNuPTA7c248MjsrK3NuKWZvcih2YXIgTm49anRbc25dLEg9MDtIPE5uLmxlbmd0aDsrK0gpe3ZhciBPdD1ObltIXSYzMTtRbih0LGgsQ25bT3RdKSxoKz1pZVtPdF0sT3Q+MTUmJihRbih0LGgsTm5bSF0+Pj41JjEyNyksaCs9Tm5bSF0+Pj4xMil9fWVsc2UgcWU9aDIsWGU9aG8senQ9djIsWHQ9YWk7Zm9yKHZhciBIPTA7SDx1OysrSClpZihyW0hdPjI1NSl7dmFyIE90PXJbSF0+Pj4xOCYzMTtpaSh0LGgscWVbT3QrMjU3XSksaCs9WGVbT3QrMjU3XSxPdD43JiYoUW4odCxoLHJbSF0+Pj4yMyYzMSksaCs9QnNbT3RdKTt2YXIgbXQ9cltIXSYzMTtpaSh0LGgsenRbbXRdKSxoKz1YdFttdF0sbXQ+MyYmKGlpKHQsaCxyW0hdPj4+NSY4MTkxKSxoKz1Gc1ttdF0pfWVsc2UgaWkodCxoLHFlW3JbSF1dKSxoKz1YZVtyW0hdXTtyZXR1cm4gaWkodCxoLHFlWzI1Nl0pLGgrWGVbMjU2XX0seDI9bmV3IF9zKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLENjPW5ldyBSdCgwKSx3Mj1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIGM9ZS5sZW5ndGgsdT1uZXcgUnQocitjKzUqKDErTWF0aC5jZWlsKGMvN2UzKSkraSkscD11LnN1YmFycmF5KHIsdS5sZW5ndGgtaSkseT0wO2lmKCF0fHxjPDgpZm9yKHZhciBoPTA7aDw9YztoKz02NTUzNSl7dmFyIFM9aCs2NTUzNTtTPj1jJiYocFt5Pj4zXT1zKSx5PVBjKHAseSsxLGUuc3ViYXJyYXkoaCxTKSl9ZWxzZXtmb3IodmFyIFQ9eDJbdC0xXSx3PVQ+Pj4xMyxMPVQmODE5MSxDPSgxPDxuKS0xLGs9bmV3IFV0KDMyNzY4KSxVPW5ldyBVdChDKzEpLCQ9TWF0aC5jZWlsKG4vMyksWD0yKiQsbmU9ZnVuY3Rpb24oZmwpe3JldHVybihlW2ZsXV5lW2ZsKzFdPDwkXmVbZmwrMl08PFgpJkN9LFk9bmV3IF9zKDI1ZTMpLHE9bmV3IFV0KDI4OCksb2U9bmV3IFV0KDMyKSxIPTAsRWU9MCxoPTAsaWU9MCxqZT0wLCRlPTA7aDxjOysraCl7dmFyIGR0PW5lKGgpLFplPWgmMzI3NjcseHQ9VVtkdF07aWYoa1taZV09eHQsVVtkdF09WmUsamU8PWgpe3ZhciBxZT1jLWg7aWYoKEg+N2UzfHxpZT4yNDU3NikmJnFlPjQyMyl7eT1xZyhlLHAsMCxZLHEsb2UsRWUsaWUsJGUsaC0kZSx5KSxpZT1IPUVlPTAsJGU9aDtmb3IodmFyIFhlPTA7WGU8Mjg2OysrWGUpcVtYZV09MDtmb3IodmFyIFhlPTA7WGU8MzA7KytYZSlvZVtYZV09MH12YXIgenQ9MixYdD0wLENuPUwsanQ9WmUteHQmMzI3Njc7aWYocWU+MiYmZHQ9PW5lKGgtanQpKWZvcih2YXIgc249TWF0aC5taW4odyxxZSktMSxObj1NYXRoLm1pbigzMjc2NyxoKSxPdD1NYXRoLm1pbigyNTgscWUpO2p0PD1ObiYmLS1DbiYmWmUhPXh0Oyl7aWYoZVtoK3p0XT09ZVtoK3p0LWp0XSl7Zm9yKHZhciBtdD0wO210PE90JiZlW2grbXRdPT1lW2grbXQtanRdOysrbXQpO2lmKG10Pnp0KXtpZih6dD1tdCxYdD1qdCxtdD5zbilicmVhaztmb3IodmFyIFZpPU1hdGgubWluKGp0LG10LTIpLF9yPTAsWGU9MDtYZTxWaTsrK1hlKXt2YXIgc3I9aC1qdCtYZSszMjc2OCYzMjc2NyxheD1rW3NyXSxHZj1zci1heCszMjc2OCYzMjc2NztHZj5fciYmKF9yPUdmLHh0PXNyKX19fVplPXh0LHh0PWtbWmVdLGp0Kz1aZS14dCszMjc2OCYzMjc2N31pZihYdCl7WVtpZSsrXT0yNjg0MzU0NTZ8eGNbenRdPDwxOHxqZ1tYdF07dmFyIEhmPXhjW3p0XSYzMSx6Zj1qZ1tYdF0mMzE7RWUrPUJzW0hmXStGc1t6Zl0sKytxWzI1NytIZl0sKytvZVt6Zl0samU9aCt6dCwrK0h9ZWxzZSBZW2llKytdPWVbaF0sKytxW2VbaF1dfX15PXFnKGUscCxzLFkscSxvZSxFZSxpZSwkZSxoLSRlLHkpLCFzJiZ5JjcmJih5PVBjKHAseSsxLENjKSl9cmV0dXJuIEpnKHUsMCxyK0ljKHkpK2kpfSxNMj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiB3MihlLHQubGV2ZWw9PW51bGw/Njp0LmxldmVsLHQubWVtPT1udWxsP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MTIrdC5tZW0sbixyLCFpKX07UDI9dHlwZW9mIFRleHREZWNvZGVyPCJ1IiYmbmV3IFRleHREZWNvZGVyLEkyPTA7dHJ5e1AyLmRlY29kZShDYyx7c3RyZWFtOiEwfSksSTI9MX1jYXRjaHt9fSk7YXN5bmMgZnVuY3Rpb24gdGgoKXtsZXQgZT1hd2FpdCBvdCgiVmVuY29yZF9jbG91ZFNlY3JldCIpPz97fSx0PU5jKCk7cmV0dXJuIGVbdF0/KGF3YWl0IEJvKCJWZW5jb3JkX2Nsb3VkU2VjcmV0IixuPT4obj8/PXt9LG5bYCR7dH06JHtsaSgpfWBdPW5bdF0sZGVsZXRlIG5bdF0sbikpLGVbdF0pOmVbYCR7dH06JHtsaSgpfWBdfWFzeW5jIGZ1bmN0aW9uIEMyKGUpe2F3YWl0IEJvKCJWZW5jb3JkX2Nsb3VkU2VjcmV0Iix0PT4odD8/PXt9LHRbYCR7TmMoKX06JHtsaSgpfWBdPWUsdCkpfWFzeW5jIGZ1bmN0aW9uIFJjKCl7YXdhaXQgQm8oIlZlbmNvcmRfY2xvdWRTZWNyZXQiLGU9PihlPz89e30sZGVsZXRlIGVbYCR7TmMoKX06JHtsaSgpfWBdLGUpKX1hc3luYyBmdW5jdGlvbiBuaCgpe2lmKGF3YWl0IHRoKCkhPT12b2lkIDApe04uY2xvdWQuYXV0aGVudGljYXRlZD0hMDtyZXR1cm59dHJ5e2xldCByPWF3YWl0IGYobmV3IFVSTCgiL3YxL29hdXRoL3NldHRpbmdzIix5bygpKSk7dmFye2NsaWVudElkOmUscmVkaXJlY3RVcmk6dH09YXdhaXQgci5qc29uKCl9Y2F0Y2h7U2Uoe3RpdGxlOiJDbG91ZCBJbnRlZ3JhdGlvbiIsYm9keToiU2V0dXAgZmFpbGVkIChjb3VsZG4ndCByZXRyaWV2ZSBPQXV0aCBjb25maWd1cmF0aW9uKS4ifSksTi5jbG91ZC5hdXRoZW50aWNhdGVkPSExO3JldHVybn1sZXR7T0F1dGgyQXV0aG9yaXplTW9kYWw6bn09QW4oIk9BdXRoMkF1dGhvcml6ZU1vZGFsIik7TWUocj0+byhuLHsuLi5yLHNjb3BlczpbImlkZW50aWZ5Il0scmVzcG9uc2VUeXBlOiJjb2RlIixyZWRpcmVjdFVyaTp0LHBlcm1pc3Npb25zOjBuLGNsaWVudElkOmUsY2FuY2VsQ29tcGxldGVzRmxvdzohMSxjYWxsYmFjazphc3luYyh7bG9jYXRpb246aX0pPT57aWYoIWkpe04uY2xvdWQuYXV0aGVudGljYXRlZD0hMTtyZXR1cm59dHJ5e2xldCBzPWF3YWl0IGYoaSx7aGVhZGVyczpuZXcgSGVhZGVycyh7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIn0pfSkse3NlY3JldDpjfT1hd2FpdCBzLmpzb24oKTtjPygkcy5pbmZvKCJBdXRob3JpemVkIHdpdGggc2VjcmV0IiksYXdhaXQgQzIoYyksU2Uoe3RpdGxlOiJDbG91ZCBJbnRlZ3JhdGlvbiIsYm9keToiQ2xvdWQgaW50ZWdyYXRpb25zIGVuYWJsZWQhIn0pLE4uY2xvdWQuYXV0aGVudGljYXRlZD0hMCk6KFNlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb24iLGJvZHk6IlNldHVwIGZhaWxlZCAobm8gc2VjcmV0IHJldHVybmVkPykuIn0pLE4uY2xvdWQuYXV0aGVudGljYXRlZD0hMSl9Y2F0Y2gocyl7JHMuZXJyb3IoIkZhaWxlZCB0byBhdXRob3JpemUiLHMpLFNlKHt0aXRsZToiQ2xvdWQgSW50ZWdyYXRpb24iLGJvZHk6YFNldHVwIGZhaWxlZCAoJHtzLnRvU3RyaW5nKCl9KS5gfSksTi5jbG91ZC5hdXRoZW50aWNhdGVkPSExfX19KSl9YXN5bmMgZnVuY3Rpb24gbXIoKXtsZXQgZT1hd2FpdCB0aCgpO3JldHVybiB1bnNhZmVXaW5kb3cuYnRvYShgJHtlfToke2xpKCl9YCl9dmFyICRzLHlvLE5jLGxpLGtjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtrbigpO2ZvKCk7RigpO0IoKTtNKCk7d2UoKTtLZSgpOyRzPW5ldyBRKCJDbG91ZCIsIiMzOWI3ZTAiKSx5bz0oKT0+bmV3IFVSTChOLmNsb3VkLnVybCksTmM9KCk9PnlvKCkub3JpZ2luLGxpPSgpPT57bGV0IGU9Ry5nZXRDdXJyZW50VXNlcigpPy5pZDtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVzZXIgbm90IHlldCBsb2dnZWQgaW4iKTtyZXR1cm4gZX19KTtmdW5jdGlvbiBVcyhlKXtsZXQgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoZSksdC5kb3dubG9hZD1lLm5hbWUsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0LmNsaWNrKCksc2V0SW1tZWRpYXRlKCgpPT57VVJMLnJldm9rZU9iamVjdFVSTCh0LmhyZWYpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCl9KX1mdW5jdGlvbiBHcyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e2xldCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi50eXBlPSJmaWxlIixuLnN0eWxlLmRpc3BsYXk9Im5vbmUiLG4uYWNjZXB0PWUsbi5vbmNoYW5nZT1hc3luYygpPT57dChuLmZpbGVzPy5bMF0/P251bGwpfSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG4uY2xpY2soKSxzZXRJbW1lZGlhdGUoKCk9PmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobikpfSl9dmFyIEhzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2FzeW5jIGZ1bmN0aW9uIG9oKGUpe3RyeXt2YXIgdD1KU09OLnBhcnNlKGUpfWNhdGNoKG4pe3Rocm93IGNvbnNvbGUubG9nKGUpLG5ldyBFcnJvcigiRmFpbGVkIHRvIHBhcnNlIEpTT046ICIrU3RyaW5nKG4pKX1pZigic2V0dGluZ3MiaW4gdCYmInF1aWNrQ3NzImluIHQpT2JqZWN0LmFzc2lnbihPbix0LnNldHRpbmdzKSxhd2FpdCBWZW5jb3JkTmF0aXZlLnNldHRpbmdzLnNldChKU09OLnN0cmluZ2lmeSh0LnNldHRpbmdzLG51bGwsNCkpLGF3YWl0IFZlbmNvcmROYXRpdmUucXVpY2tDc3Muc2V0KHQucXVpY2tDc3MpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIFNldHRpbmdzLiBJcyB0aGlzIGV2ZW4gYSBWZW5jb3JkIFNldHRpbmdzIGZpbGU/Iil9YXN5bmMgZnVuY3Rpb24gcmgoe21pbmlmeTplfT17fSl7bGV0IHQ9SlNPTi5wYXJzZShWZW5jb3JkTmF0aXZlLnNldHRpbmdzLmdldCgpKSxuPWF3YWl0IFZlbmNvcmROYXRpdmUucXVpY2tDc3MuZ2V0KCk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzZXR0aW5nczp0LHF1aWNrQ3NzOm59LG51bGwsZT92b2lkIDA6NCl9YXN5bmMgZnVuY3Rpb24gaWgoKXtsZXQgZT0idmVuY29yZC1zZXR0aW5ncy1iYWNrdXAuanNvbiIsdD1hd2FpdCByaCgpLG49bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpO1VzKG5ldyBGaWxlKFtuXSxlLHt0eXBlOiJhcHBsaWNhdGlvbi9qc29uIn0pKX1hc3luYyBmdW5jdGlvbiBhaChlPSEwKXtpZighMSl7aWYodCl0cnl7fWNhdGNoKG4pe319ZWxzZXtsZXQgdD1hd2FpdCBHcygiYXBwbGljYXRpb24vanNvbiIpO2lmKCF0KXJldHVybjtsZXQgbj1uZXcgRmlsZVJlYWRlcjtuLm9ubG9hZD1hc3luYygpPT57dHJ5e2F3YWl0IG9oKG4ucmVzdWx0KSxlJiZOMigpfWNhdGNoKHIpe25ldyBRKCJTZXR0aW5nc1N5bmMiKS5lcnJvcihyKSxlJiZSMihyKX19LG4ucmVhZEFzVGV4dCh0KX19YXN5bmMgZnVuY3Rpb24gZnIoZSl7bGV0IHQ9YXdhaXQgcmgoe21pbmlmeTohMH0pO3RyeXtsZXQgbj1hd2FpdCBmKG5ldyBVUkwoIi92MS9zZXR0aW5ncyIseW8oKSkse21ldGhvZDoiUFVUIixoZWFkZXJzOm5ldyBIZWFkZXJzKHtBdXRob3JpemF0aW9uOmF3YWl0IG1yKCksIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9KSxib2R5OlFnKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9KTtpZighbi5vayl7U24uZXJyb3IoYEZhaWxlZCB0byBzeW5jIHVwLCBBUEkgcmV0dXJuZWQgJHtuLnN0YXR1c31gKSxTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgdG8gY2xvdWQgKEFQSSByZXR1cm5lZCAke24uc3RhdHVzfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSk7cmV0dXJufWxldHt3cml0dGVuOnJ9PWF3YWl0IG4uanNvbigpO09uLmNsb3VkLnNldHRpbmdzU3luY1ZlcnNpb249cixWZW5jb3JkTmF0aXZlLnNldHRpbmdzLnNldChKU09OLnN0cmluZ2lmeShPbixudWxsLDQpKSxTbi5pbmZvKCJTZXR0aW5ncyB1cGxvYWRlZCB0byBjbG91ZCBzdWNjZXNzZnVsbHkiKSxlJiZTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJTeW5jaHJvbml6ZWQgc2V0dGluZ3MgdG8gdGhlIGNsb3VkISIsbm9QZXJzaXN0OiEwfSl9Y2F0Y2gobil7U24uZXJyb3IoIkZhaWxlZCB0byBzeW5jIHVwIixuKSxTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgdG8gdGhlIGNsb3VkICgke24udG9TdHJpbmcoKX0pLmAsY29sb3I6InZhcigtLXJlZC0zNjApIn0pfX1hc3luYyBmdW5jdGlvbiB6cyhlPSEwLHQ9ITEpe3RyeXtsZXQgbj1hd2FpdCBmKG5ldyBVUkwoIi92MS9zZXR0aW5ncyIseW8oKSkse21ldGhvZDoiR0VUIixoZWFkZXJzOm5ldyBIZWFkZXJzKHtBdXRob3JpemF0aW9uOmF3YWl0IG1yKCksQWNjZXB0OiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLCJJZi1Ob25lLU1hdGNoIjpOLmNsb3VkLnNldHRpbmdzU3luY1ZlcnNpb24udG9TdHJpbmcoKX0pfSk7aWYobi5zdGF0dXM9PT00MDQpcmV0dXJuIFNuLmluZm8oIk5vIHNldHRpbmdzIG9uIHRoZSBjbG91ZCIpLGUmJlNlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6IlRoZXJlIGFyZSBubyBzZXR0aW5ncyBpbiB0aGUgY2xvdWQuIixub1BlcnNpc3Q6ITB9KSwhMTtpZihuLnN0YXR1cz09PTMwNClyZXR1cm4gU24uaW5mbygiU2V0dGluZ3MgdXAgdG8gZGF0ZSIpLGUmJlNlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6IllvdXIgc2V0dGluZ3MgYXJlIHVwIHRvIGRhdGUuIixub1BlcnNpc3Q6ITB9KSwhMTtpZighbi5vaylyZXR1cm4gU24uZXJyb3IoYEZhaWxlZCB0byBzeW5jIGRvd24sIEFQSSByZXR1cm5lZCAke24uc3RhdHVzfWApLFNlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6YENvdWxkIG5vdCBzeW5jaHJvbml6ZSBzZXR0aW5ncyBmcm9tIHRoZSBjbG91ZCAoQVBJIHJldHVybmVkICR7bi5zdGF0dXN9KS5gLGNvbG9yOiJ2YXIoLS1yZWQtMzYwKSJ9KSwhMTtsZXQgcj1OdW1iZXIobi5oZWFkZXJzLmdldCgiZXRhZyIpKSxpPU4uY2xvdWQuc2V0dGluZ3NTeW5jVmVyc2lvbjtpZighdCYmcjxpKXtlJiZTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJZb3VyIGxvY2FsIHNldHRpbmdzIGFyZSBuZXdlciB0aGFuIHRoZSBjbG91ZCBvbmVzLiIsbm9QZXJzaXN0OiEwfSk7cmV0dXJufWxldCBzPWF3YWl0IG4uYXJyYXlCdWZmZXIoKSxjPW5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShWZyhuZXcgVWludDhBcnJheShzKSkpO3JldHVybiBhd2FpdCBvaChjKSxPbi5jbG91ZC5zZXR0aW5nc1N5bmNWZXJzaW9uPXIsVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5zZXQoSlNPTi5zdHJpbmdpZnkoT24sbnVsbCw0KSksU24uaW5mbygiU2V0dGluZ3MgbG9hZGVkIGZyb20gY2xvdWQgc3VjY2Vzc2Z1bGx5IiksZSYmU2Uoe3RpdGxlOiJDbG91ZCBTZXR0aW5ncyIsYm9keToiWW91ciBzZXR0aW5ncyBoYXZlIGJlZW4gdXBkYXRlZCEgQ2xpY2sgaGVyZSB0byByZXN0YXJ0IHRvIGZ1bGx5IGFwcGx5IGNoYW5nZXMhIixjb2xvcjoidmFyKC0tZ3JlZW4tMzYwKSIsb25DbGljazooKT0+dW5zYWZlV2luZG93LkRpc2NvcmROYXRpdmUuYXBwLnJlbGF1bmNoKCksbm9QZXJzaXN0OiEwfSksITB9Y2F0Y2gobil7cmV0dXJuIFNuLmVycm9yKCJGYWlsZWQgdG8gc3luYyBkb3duIixuKSxTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3Qgc3luY2hyb25pemUgc2V0dGluZ3MgZnJvbSB0aGUgY2xvdWQgKCR7bi50b1N0cmluZygpfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSksITF9fWFzeW5jIGZ1bmN0aW9uIGxoKCl7dHJ5e2xldCBlPWF3YWl0IGYobmV3IFVSTCgiL3YxL3NldHRpbmdzIix5bygpKSx7bWV0aG9kOiJERUxFVEUiLGhlYWRlcnM6bmV3IEhlYWRlcnMoe0F1dGhvcml6YXRpb246YXdhaXQgbXIoKX0pfSk7aWYoIWUub2spe1NuLmVycm9yKGBGYWlsZWQgdG8gZGVsZXRlLCBBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c31gKSxTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OmBDb3VsZCBub3QgZGVsZXRlIHNldHRpbmdzIChBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c30pLmAsY29sb3I6InZhcigtLXJlZC0zNjApIn0pO3JldHVybn1Tbi5pbmZvKCJTZXR0aW5ncyBkZWxldGVkIGZyb20gY2xvdWQgc3VjY2Vzc2Z1bGx5IiksU2Uoe3RpdGxlOiJDbG91ZCBTZXR0aW5ncyIsYm9keToiU2V0dGluZ3MgZGVsZXRlZCBmcm9tIGNsb3VkISIsY29sb3I6InZhcigtLWdyZWVuLTM2MCkifSl9Y2F0Y2goZSl7U24uZXJyb3IoIkZhaWxlZCB0byBkZWxldGUiLGUpLFNlKHt0aXRsZToiQ2xvdWQgU2V0dGluZ3MiLGJvZHk6YENvdWxkIG5vdCBkZWxldGUgc2V0dGluZ3MgKCR7ZS50b1N0cmluZygpfSkuYCxjb2xvcjoidmFyKC0tcmVkLTM2MCkifSl9fXZhciBzaCxOMixSMixTbixjaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Zm8oKTtGKCk7TSgpO2VoKCk7a2MoKTt3ZSgpO0hzKCk7c2g9KGUsdCk9Pksuc2hvdyh7dHlwZTplLG1lc3NhZ2U6dCxpZDpLLmdlbklkKCl9KSxOMj0oKT0+c2goSy5UeXBlLlNVQ0NFU1MsIlNldHRpbmdzIHN1Y2Nlc3NmdWxseSBpbXBvcnRlZC4gUmVzdGFydCB0byBhcHBseSBjaGFuZ2VzISIpLFIyPWU9PnNoKEsuVHlwZS5GQUlMVVJFLGBGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzOiAke1N0cmluZyhlKX1gKTtTbj1uZXcgUSgiQ2xvdWQ6U2V0dGluZ3MiLCIjMzliN2UwIil9KTt2YXIgTGM9e307dmUoTGMse1BsYWluU2V0dGluZ3M6KCk9Pk9uLFNldHRpbmdzOigpPT5OLGFkZFNldHRpbmdzTGlzdGVuZXI6KCk9PldzLGRlZmluZVBsdWdpblNldHRpbmdzOigpPT5FLG1pZ3JhdGVQbHVnaW5TZXR0aW5nczooKT0+QTIsdXNlU2V0dGluZ3M6KCk9PnB0fSk7ZnVuY3Rpb24gQWMoZSx0PWUsbj0iIil7cmV0dXJuIHVoW25dPz89bmV3IFByb3h5KGUse2dldChyLGkpe2xldCBzPXJbaV07aWYoIShpIGluIHIpKXtpZihuPT09InBsdWdpbnMiJiZpIGluIFBlKXJldHVybiByW2ldPUFjKHtlbmFibGVkOlBlW2ldLnJlcXVpcmVkPz9QZVtpXS5lbmFibGVkQnlEZWZhdWx0Pz8hMX0sdCxgcGx1Z2lucy4ke2l9YCk7aWYobi5zdGFydHNXaXRoKCJwbHVnaW5zLiIpKXtsZXQgYz1uLnNsaWNlKDgpO2lmKGMgaW4gUGUpe2xldCB1PVBlW2NdLm9wdGlvbnM/LltpXTtpZighdSlyZXR1cm4gcztpZigiZGVmYXVsdCJpbiB1KXJldHVybiByW2ldPXUuZGVmYXVsdDtpZih1LnR5cGU9PT00KXtsZXQgcD11Lm9wdGlvbnMuZmluZCh5PT55LmRlZmF1bHQpO3JldHVybiBwJiYocltpXT1wLnZhbHVlKSxwPy52YWx1ZX19fXJldHVybiBzfXJldHVybiB0eXBlb2Ygcz09Im9iamVjdCImJiFBcnJheS5pc0FycmF5KHMpJiZzIT09bnVsbD9BYyhzLHQsYCR7bn0ke24mJiIuIn0ke2l9YCk6c30sc2V0KHIsaSxzKXtpZihyW2ldPT09cylyZXR1cm4hMDtyW2ldPXM7bGV0IGM9YCR7bn0ke24mJiIuIn0ke2l9YDtkZWxldGUgdWhbY107Zm9yKGxldCB1IG9mIGpzKSghdS5fcGF0aHx8dS5fcGF0aD09PWMpJiZ1KHMsYyk7cmV0dXJuIE9uLmNsb3VkLnNldHRpbmdzU3luY1ZlcnNpb249RGF0ZS5ub3coKSx6by5WZW5jb3JkX3NldHRpbmdzRGlydHk9ITAsazIoKSxWZW5jb3JkTmF0aXZlLnNldHRpbmdzLnNldChKU09OLnN0cmluZ2lmeSh0LG51bGwsNCkpLCEwfX0pfWZ1bmN0aW9uIHB0KGUpe2xldFssdF09QS51c2VSZWR1Y2VyKCgpPT4oe30pLHt9KSxuPWU/KHIsaSk9PmUuaW5jbHVkZXMoaSkmJnQoKTp0O3JldHVybiBBLnVzZUVmZmVjdCgoKT0+KGpzLmFkZChuKSwoKT0+dm9pZCBqcy5kZWxldGUobikpLFtdKSxOfWZ1bmN0aW9uIFdzKGUsdCl7dC5fcGF0aD1lLGpzLmFkZCh0KX1mdW5jdGlvbiBBMihlLC4uLnQpe2xldHtwbHVnaW5zOm59PXZvO2lmKCEoZSBpbiBuKSl7Zm9yKGxldCByIG9mIHQpaWYociBpbiBuKXtwaC5pbmZvKGBNaWdyYXRpbmcgc2V0dGluZ3MgZnJvbSBvbGQgbmFtZSAke3J9IHRvICR7ZX1gKSxuW2VdPW5bcl0sZGVsZXRlIG5bcl0sVmVuY29yZE5hdGl2ZS5zZXR0aW5ncy5zZXQoSlNPTi5zdHJpbmdpZnkodm8sbnVsbCw0KSk7YnJlYWt9fX1mdW5jdGlvbiBFKGUsdCl7bGV0IG49e2dldCBzdG9yZSgpe2lmKCFuLnBsdWdpbk5hbWUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWNjZXNzIHNldHRpbmdzIGJlZm9yZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWQiKTtyZXR1cm4gTi5wbHVnaW5zW24ucGx1Z2luTmFtZV19LHVzZTpyPT5wdChyPy5tYXAoaT0+YHBsdWdpbnMuJHtuLnBsdWdpbk5hbWV9LiR7aX1gKSkucGx1Z2luc1tuLnBsdWdpbk5hbWVdLGRlZjplLGNoZWNrczp0Pz97fSxwbHVnaW5OYW1lOiIiLHdpdGhQcml2YXRlU2V0dGluZ3MoKXtyZXR1cm4gdGhpc319O3JldHVybiBufXZhciBwaCxjaCx2byxrMixqcyx1aCxPbixOLEY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2FyKCk7SXMoKTt3ZSgpO3llKCk7Y2koKTt4KCk7TSgpO2dyKCk7cGg9bmV3IFEoIlNldHRpbmdzIiksY2g9e25vdGlmeUFib3V0VXBkYXRlczohMCxhdXRvVXBkYXRlOiExLGF1dG9VcGRhdGVOb3RpZmljYXRpb246ITAsdXNlUXVpY2tDc3M6ITAsdGhlbWVMaW5rczpbXSxlbmFibGVSZWFjdERldnRvb2xzOiExLGZyYW1lbGVzczohMSx0cmFuc3BhcmVudDohMSx3aW5DdHJsUTohMSxtYWNvc1RyYW5zbHVjZW5jeTohMSxkaXNhYmxlTWluU2l6ZTohMSx3aW5OYXRpdmVUaXRsZUJhcjohMSxwbHVnaW5zOnt9LG5vdGlmaWNhdGlvbnM6e3RpbWVvdXQ6NWUzLHBvc2l0aW9uOiJib3R0b20tcmlnaHQiLHVzZU5hdGl2ZToibm90LWZvY3VzZWQiLGxvZ0xpbWl0OjUwfSxjbG91ZDp7YXV0aGVudGljYXRlZDohMSx1cmw6Imh0dHBzOi8vYXBpLnZlbmNvcmQuZGV2LyIsc2V0dGluZ3NTeW5jOiExLHNldHRpbmdzU3luY1ZlcnNpb246MH19O3RyeXt2bz1KU09OLnBhcnNlKFZlbmNvcmROYXRpdmUuc2V0dGluZ3MuZ2V0KCkpLEZvKHZvLGNoKX1jYXRjaChlKXt2bz1Gbyh7fSxjaCkscGguZXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgdGhlIHNldHRpbmdzLiBDb3JydXB0IHNldHRpbmdzIGZpbGU/CmAsZSl9azI9X3QoYXN5bmMoKT0+e04uY2xvdWQuc2V0dGluZ3NTeW5jJiZOLmNsb3VkLmF1dGhlbnRpY2F0ZWQmJihhd2FpdCBmcigpLGRlbGV0ZSB6by5WZW5jb3JkX3NldHRpbmdzRGlydHkpfSw2ZTQpLGpzPW5ldyBTZXQsdWg9e307T249dm8sTj1BYyh2byl9KTtmdW5jdGlvbiBxcygpe3Vuc2FmZVdpbmRvdy5WZW5jb3JkRGVza3RvcE5hdGl2ZS5hcHAucmVsYXVuY2goKX12YXIgdWk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIGRoPWcoKCk9Pnt9KTt2YXIgRGM9e307dmUoRGMse1VwZGF0ZUxvZ2dlcjooKT0+bWgsY2hhbmdlczooKT0+S3MsY2hlY2tGb3JVcGRhdGVzOigpPT5naCxnZXRSZXBvOigpPT5MMixpc05ld2VyOigpPT5FYyxpc091dGRhdGVkOigpPT5TbyxtYXliZVByb21wdFRvVXBkYXRlOigpPT5waSx1cGRhdGU6KCk9PmhoLHVwZGF0ZUVycm9yOigpPT5maH0pO2FzeW5jIGZ1bmN0aW9uIFlzKGUpe2xldCB0PWF3YWl0IGU7aWYodC5vaylyZXR1cm4gdC52YWx1ZTt0aHJvdyBmaD10LmVycm9yLHQuZXJyb3J9YXN5bmMgZnVuY3Rpb24gZ2goKXtyZXR1cm4gS3M9YXdhaXQgWXMoVmVuY29yZE5hdGl2ZS51cGRhdGVyLmdldFVwZGF0ZXMoKSksS3Muc29tZShlPT5lLmhhc2g9PT1sbik/KEVjPSEwLFNvPSExKTpTbz1Lcy5sZW5ndGg+MH1hc3luYyBmdW5jdGlvbiBoaCgpe2lmKCFTbylyZXR1cm4hMDtsZXQgZT1hd2FpdCBZcyhWZW5jb3JkTmF0aXZlLnVwZGF0ZXIudXBkYXRlKCkpO2lmKGUmJihTbz0hMSwhYXdhaXQgWXMoVmVuY29yZE5hdGl2ZS51cGRhdGVyLnJlYnVpbGQoKSkpKXRocm93IG5ldyBFcnJvcigiVGhlIEJ1aWxkIGZhaWxlZC4gUGxlYXNlIHRyeSBtYW51YWxseSBidWlsZGluZyB0aGUgbmV3IHVwZGF0ZSIpO3JldHVybiBlfWFzeW5jIGZ1bmN0aW9uIHBpKGUsdD0hMSl7cmV0dXJuO3RyeXtpZihhd2FpdCBnaCgpKXtsZXQgcj1jb25maXJtKGUpO2lmKHImJkVjKXJldHVybiBhbGVydCgiWW91ciBsb2NhbCBjb3B5IGhhcyBtb3JlIHJlY2VudCBjb21taXRzLiBQbGVhc2Ugc3Rhc2ggb3IgcmVzZXQgdGhlbS4iKTtyJiYoYXdhaXQgaGgoKSxxcygpKX19Y2F0Y2gobil7bWguZXJyb3IobiksYWxlcnQoIlRoYXQgYWxzbyBmYWlsZWQgOiggVHJ5IHVwZGF0aW5nIG9yIHJlLWluc3RhbGxpbmcgd2l0aCB0aGUgaW5zdGFsbGVyISIpfX12YXIgbWgsU28sRWMsZmgsS3MsTDIsaHI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRyKCk7d2UoKTt1aSgpO21oPW5ldyBRKCJVcGRhdGVyIiwid2hpdGUiKSxTbz0hMSxFYz0hMTtMMj0oKT0+WXMoVmVuY29yZE5hdGl2ZS51cGRhdGVyLmdldFJlcG8oKSl9KTtmdW5jdGlvbiB5aCgpe3BpKCJVaCBPaCEgRmFpbGVkIHRvIHJlbmRlciB0aGlzIFBhZ2UuIEhvd2V2ZXIsIHRoZXJlIGlzIGFuIHVwZGF0ZSBhdmFpbGFibGUgdGhhdCBtaWdodCBmaXggaXQuIFdvdWxkIHlvdSBsaWtlIHRvIHVwZGF0ZSBhbmQgcmVzdGFydCBub3c/Iil9dmFyIHZoPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtocigpfSk7ZnVuY3Rpb24gX24oe3RpdGxlOmUsY2hpbGRyZW46dH0pe3JldHVybiBvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKHRlLHt2YXJpYW50OiJoZWFkaW5nLWxnL3NlbWlib2xkIix0YWc6ImgyIixjbGFzc05hbWU6ei5ib3R0b20xNn0sZSksdCl9ZnVuY3Rpb24gQm4oZSx0KXtyZXR1cm4gRC53cmFwKGUse21lc3NhZ2U6YEZhaWxlZCB0byByZW5kZXIgdGhlICR7dH0gdGFiLiBJZiB0aGlzIGlzc3VlIHBlcnNpc3RzLCB0cnkgdXNpbmcgdGhlIGluc3RhbGxlciB0byByZWluc3RhbGwhYCxvbkVycm9yOkUyfSl9dmFyIEUyLFdvPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtkaCgpO3NlKCk7dmgoKTtldCgpO0hsKCk7TSgpO0UyPUdsKHloKX0pO3ZhciBUaD17fTt2ZShUaCx7ZGVmYXVsdDooKT0+RjJ9KTtmdW5jdGlvbiBPMigpe2xldFtlLCx0XT1WZShWZW5jb3JkTmF0aXZlLnNldHRpbmdzLmdldFNldHRpbmdzRGlyLHtmYWxsYmFja1ZhbHVlOiJMb2FkaW5nLi4uIn0pLG49cHQoKSxyPUEudXNlTWVtbygoKT0+TWF0aC5yYW5kb20oKT4uNT9iaDpEMixbXSksaT1uYXZpZ2F0b3IucGxhdGZvcm0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJ3aW4iKSxzPW5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoIm1hYyIpLGM9W3trZXk6InVzZVF1aWNrQ3NzIix0aXRsZToiRW5hYmxlIEN1c3RvbSBDU1MiLG5vdGU6IkxvYWRzIHlvdXIgQ3VzdG9tIENTUyJ9LCExLCExLCExLCExLCExLCExXTtyZXR1cm4gbyhfbix7dGl0bGU6IlZlbmNvcmQgU2V0dGluZ3MifSxvKEIyLHtpbWFnZTpyfSksbyhiLkZvcm1TZWN0aW9uLHt0aXRsZToiUXVpY2sgQWN0aW9ucyJ9LG8oRnQse2NsYXNzTmFtZTpTaCgicXVpY2stYWN0aW9ucy1jYXJkIil9LG8oQS5GcmFnbWVudCxudWxsLCExLG8oUix7b25DbGljazooKT0+VmVuY29yZE5hdGl2ZS5xdWlja0Nzcy5vcGVuRWRpdG9yKCksc2l6ZTpSLlNpemVzLlNNQUxMLGRpc2FibGVkOmU9PT0iTG9hZGluZy4uLiJ9LCJPcGVuIFF1aWNrQ1NTIEZpbGUiKSwhMSxvKFIse29uQ2xpY2s6KCk9PlZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9naXRodWIuY29tL1ZlbmRpY2F0ZWQvVmVuY29yZCIpLHNpemU6Ui5TaXplcy5TTUFMTCxkaXNhYmxlZDp0fSwiT3BlbiBpbiBHaXRIdWIiKSkpKSxvKGIuRm9ybURpdmlkZXIsbnVsbCksbyhiLkZvcm1TZWN0aW9uLHtjbGFzc05hbWU6ei50b3AxNix0aXRsZToiU2V0dGluZ3MiLHRhZzoiaDUifSxvKGIuRm9ybVRleHQse2NsYXNzTmFtZTp6LmJvdHRvbTIwfSwnSGludDogWW91IGNhbiBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoaXMgc2V0dGluZ3Mgc2VjdGlvbiBpbiB0aGUgc2V0dGluZ3Mgb2YgdGhlICJTZXR0aW5ncyIgcGx1Z2luIScpLGMubWFwKHU9PnUmJm8oaHQse2tleTp1LmtleSx2YWx1ZTpuW3Uua2V5XSxvbkNoYW5nZTpwPT5uW3Uua2V5XT1wLG5vdGU6dS5ub3RlfSx1LnRpdGxlKSkpLHR5cGVvZiBOb3RpZmljYXRpb248InUiJiZvKF8yLHtzZXR0aW5nczpuLm5vdGlmaWNhdGlvbnN9KSl9ZnVuY3Rpb24gXzIoe3NldHRpbmdzOmV9KXtyZXR1cm4gbyhtLG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJOb3RpZmljYXRpb24gU3R5bGUiKSxlLnVzZU5hdGl2ZSE9PSJuZXZlciImJk5vdGlmaWNhdGlvbj8ucGVybWlzc2lvbj09PSJkZW5pZWQiJiZvKFhuLHtzdHlsZTp7cGFkZGluZzoiMWVtIn0sY2xhc3NOYW1lOnouYm90dG9tOH0sbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJEZXNrdG9wIE5vdGlmaWNhdGlvbiBQZXJtaXNzaW9uIGRlbmllZCIpLG8oYi5Gb3JtVGV4dCxudWxsLCJZb3UgaGF2ZSBkZW5pZWQgTm90aWZpY2F0aW9uIFBlcm1pc3Npb25zLiBUaHVzLCBEZXNrdG9wIG5vdGlmaWNhdGlvbnMgd2lsbCBub3Qgd29yayEiKSksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b204fSwiU29tZSBwbHVnaW5zIG1heSBzaG93IHlvdSBub3RpZmljYXRpb25zLiBUaGVzZSBjb21lIGluIHR3byBzdHlsZXM6IixvKCJ1bCIsbnVsbCxvKCJsaSIsbnVsbCxvKCJzdHJvbmciLG51bGwsIlZlbmNvcmQgTm90aWZpY2F0aW9ucyIpLCI6IFRoZXNlIGFyZSBpbi1hcHAgbm90aWZpY2F0aW9ucyIpLG8oImxpIixudWxsLG8oInN0cm9uZyIsbnVsbCwiRGVza3RvcCBOb3RpZmljYXRpb25zIiksIjogTmF0aXZlIERlc2t0b3Agbm90aWZpY2F0aW9ucyAobGlrZSB3aGVuIHlvdSBnZXQgYSBwaW5nKSIpKSksbyhwbix7cGxhY2Vob2xkZXI6Ik5vdGlmaWNhdGlvbiBTdHlsZSIsb3B0aW9uczpbe2xhYmVsOiJPbmx5IHVzZSBEZXNrdG9wIG5vdGlmaWNhdGlvbnMgd2hlbiBEaXNjb3JkIGlzIG5vdCBmb2N1c2VkIix2YWx1ZToibm90LWZvY3VzZWQiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiQWx3YXlzIHVzZSBEZXNrdG9wIG5vdGlmaWNhdGlvbnMiLHZhbHVlOiJhbHdheXMifSx7bGFiZWw6IkFsd2F5cyB1c2UgVmVuY29yZCBub3RpZmljYXRpb25zIix2YWx1ZToibmV2ZXIifV0sY2xvc2VPblNlbGVjdDohMCxzZWxlY3Q6dD0+ZS51c2VOYXRpdmU9dCxpc1NlbGVjdGVkOnQ9PnQ9PT1lLnVzZU5hdGl2ZSxzZXJpYWxpemU6cHN9KSxvKGIuRm9ybVRpdGxlLHt0YWc6Img1IixjbGFzc05hbWU6ei50b3AxNisiICIrei5ib3R0b204fSwiTm90aWZpY2F0aW9uIFBvc2l0aW9uIiksbyhwbix7aXNEaXNhYmxlZDplLnVzZU5hdGl2ZT09PSJhbHdheXMiLHBsYWNlaG9sZGVyOiJOb3RpZmljYXRpb24gUG9zaXRpb24iLG9wdGlvbnM6W3tsYWJlbDoiQm90dG9tIFJpZ2h0Iix2YWx1ZToiYm90dG9tLXJpZ2h0IixkZWZhdWx0OiEwfSx7bGFiZWw6IlRvcCBSaWdodCIsdmFsdWU6InRvcC1yaWdodCJ9XSxzZWxlY3Q6dD0+ZS5wb3NpdGlvbj10LGlzU2VsZWN0ZWQ6dD0+dD09PWUucG9zaXRpb24sc2VyaWFsaXplOnBzfSksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsY2xhc3NOYW1lOnoudG9wMTYrIiAiK3ouYm90dG9tOH0sIk5vdGlmaWNhdGlvbiBUaW1lb3V0IiksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b20xNn0sIlNldCB0byAwcyB0byBuZXZlciBhdXRvbWF0aWNhbGx5IHRpbWUgb3V0Iiksbygkbyx7ZGlzYWJsZWQ6ZS51c2VOYXRpdmU9PT0iYWx3YXlzIixtYXJrZXJzOlswLDFlMywyNTAwLDVlMywxZTQsMmU0XSxtaW5WYWx1ZTowLG1heFZhbHVlOjJlNCxpbml0aWFsVmFsdWU6ZS50aW1lb3V0LG9uVmFsdWVDaGFuZ2U6dD0+ZS50aW1lb3V0PXQsb25WYWx1ZVJlbmRlcjp0PT4odC8xZTMpLnRvRml4ZWQoMikrInMiLG9uTWFya2VyUmVuZGVyOnQ9PnQvMWUzKyJzIixzdGlja1RvTWFya2VyczohMX0pLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDUiLGNsYXNzTmFtZTp6LnRvcDE2KyIgIit6LmJvdHRvbTh9LCJOb3RpZmljYXRpb24gTG9nIExpbWl0IiksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6ei5ib3R0b20xNn0sIlRoZSBhbW91bnQgb2Ygbm90aWZpY2F0aW9ucyB0byBzYXZlIGluIHRoZSBsb2cgdW50aWwgb2xkIG9uZXMgYXJlIHJlbW92ZWQuIFNldCB0byAiLG8oImNvZGUiLG51bGwsIjAiKSwiIHRvIGRpc2FibGUgTm90aWZpY2F0aW9uIGxvZyBhbmQgIixvKCJjb2RlIixudWxsLCJcdTIyMUUiKSwiIHRvIG5ldmVyIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIG9sZCBOb3RpZmljYXRpb25zIiksbygkbyx7bWFya2VyczpbMCwyNSw1MCw3NSwxMDAsMjAwXSxtaW5WYWx1ZTowLG1heFZhbHVlOjIwMCxzdGlja1RvTWFya2VyczohMCxpbml0aWFsVmFsdWU6ZS5sb2dMaW1pdCxvblZhbHVlQ2hhbmdlOnQ9PmUubG9nTGltaXQ9dCxvblZhbHVlUmVuZGVyOnQ9PnQ9PT0yMDA/Ilx1MjIxRSI6dCxvbk1hcmtlclJlbmRlcjp0PT50PT09MjAwPyJcdTIyMUUiOnR9KSxvKFIse29uQ2xpY2s6RHMsZGlzYWJsZWQ6ZS5sb2dMaW1pdD09PTB9LCJPcGVuIE5vdGlmaWNhdGlvbiBMb2ciKSl9ZnVuY3Rpb24gQjIoe2ltYWdlOmV9KXtyZXR1cm4gbyhGdCx7Y2xhc3NOYW1lOlNoKCJjYXJkIiwiZG9uYXRlIil9LG8oImRpdiIsbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6Img1In0sIlN1cHBvcnQgdGhlIFByb2plY3QiKSxvKGIuRm9ybVRleHQsbnVsbCwiUGxlYXNlIGNvbnNpZGVyIHN1cHBvcnRpbmcgdGhlIGRldmVsb3BtZW50IG9mIFZlbmNvcmQgYnkgZG9uYXRpbmchIiksbyh0aSx7c3R5bGU6e3RyYW5zZm9ybToidHJhbnNsYXRlWCgtMWVtKSJ9fSkpLG8oImltZyIse3JvbGU6InByZXNlbnRhdGlvbiIsc3JjOmUsYWx0OiIiLGhlaWdodDoxMjgsc3R5bGU6e21hcmdpbkxlZnQ6ImF1dG8iLHRyYW5zZm9ybTplPT09Ymg/InJvdGF0ZSgxMGRlZykiOiIifX0pKX12YXIgU2gsYmgsRDIsRjIseGg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09zKCk7RigpO0hlKCk7WGwoKTtlaSgpO2V0KCk7eWUoKTt1aSgpO2dlKCk7TSgpO1dvKCk7U2g9TGUoInZjLXNldHRpbmdzLSIpLGJoPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTAyNjUzMzA5MDYyNzE3NDQ2MC5wbmciLEQyPSJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L3N0aWNrZXJzLzEwMzk5OTI0NTkyMDk0OTA1MTMucG5nIjtGMj1CbihPMiwiVmVuY29yZCBTZXR0aW5ncyIpfSk7dmFyIHdoPWcoKCk9Pnt9KTt2YXIgRmM9e307dmUoRmMse2N1cnJlbnROb3RpY2U6KCk9PmRpLG5leHROb3RpY2U6KCk9Pk1oLG5vdGljZXNRdWV1ZTooKT0+X2MscG9wTm90aWNlOigpPT5CYyxzaG93Tm90aWNlOigpPT5taX0pO2Z1bmN0aW9uIEJjKCl7T2MuZGlzbWlzcygpfWZ1bmN0aW9uIE1oKCl7ZGk9X2Muc2hpZnQoKSxkaSYmT2Muc2hvdyguLi5kaSwiVmVuY29yZE5vdGljZSIpfWZ1bmN0aW9uIG1pKGUsdCxuKXtfYy5wdXNoKFsiR0VORVJJQyIsZSx0LG5dKSxkaXx8TWgoKX12YXIgT2MsX2MsZGksWnM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0IoKTtRZShlPT5lLnNob3cmJmUuZGlzbWlzcyYmIWUuc3VwcHJlc3NBbGwsZT0+T2M9ZSk7X2M9W10sZGk9bnVsbH0pO2Z1bmN0aW9uIFBoKHt0ZXh0OmUsY29sb3I6dH0pe3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6InZjLXBsdWdpbnMtYmFkZ2UiLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6dCxqdXN0aWZ5U2VsZjoiZmxleC1lbmQiLG1hcmdpbkxlZnQ6ImF1dG8ifX0sZSl9dmFyIEloPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2Z1bmN0aW9uIENoKHtvcHRpb246ZSxwbHVnaW5TZXR0aW5nczp0LGRlZmluZWRTZXR0aW5nczpuLGlkOnIsb25DaGFuZ2U6aSxvbkVycm9yOnN9KXtsZXQgYz10W3JdPz9lLmRlZmF1bHQsW3UscF09QS51c2VTdGF0ZShjPz8hMSksW3ksaF09QS51c2VTdGF0ZShudWxsKTtBLnVzZUVmZmVjdCgoKT0+e3MoeSE9PW51bGwpfSxbeV0pO2Z1bmN0aW9uIFMoVCl7bGV0IHc9ZS5pc1ZhbGlkPy5jYWxsKG4sVCk/PyEwO3R5cGVvZiB3PT0ic3RyaW5nIj9oKHcpOnc/KGgobnVsbCkscChUKSxpKFQpKTpoKCJJbnZhbGlkIGlucHV0IHByb3ZpZGVkLiIpfXJldHVybiBvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKGh0LHt2YWx1ZTp1LG9uQ2hhbmdlOlMsbm90ZTplLmRlc2NyaXB0aW9uLGRpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLC4uLmUuY29tcG9uZW50UHJvcHMsaGlkZUJvcmRlcjohMCxzdHlsZTp7bWFyZ2luQm90dG9tOiIwLjVlbSJ9fSxZbihqbChyKSkpLHkmJm8oYi5Gb3JtVGV4dCx7c3R5bGU6e2NvbG9yOiJ2YXIoLS10ZXh0LWRhbmdlcikifX0seSkpfXZhciBOaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Wm4oKTtNKCl9KTtmdW5jdGlvbiBSaCh7b3B0aW9uOmUsb25DaGFuZ2U6dCxvbkVycm9yOm59KXtyZXR1cm4gZS5jb21wb25lbnQoe3NldFZhbHVlOnQsc2V0RXJyb3I6bixvcHRpb246ZX0pfXZhciBraD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTtmdW5jdGlvbiAkYyh7b3B0aW9uOmUscGx1Z2luU2V0dGluZ3M6dCxkZWZpbmVkU2V0dGluZ3M6bixpZDpyLG9uQ2hhbmdlOmksb25FcnJvcjpzfSl7ZnVuY3Rpb24gYyhUKXtyZXR1cm4gZS50eXBlPT09Mj9CaWdJbnQoVCk6TnVtYmVyKFQpfWxldFt1LHBdPUEudXNlU3RhdGUoYCR7dFtyXT8/ZS5kZWZhdWx0Pz8wfWApLFt5LGhdPUEudXNlU3RhdGUobnVsbCk7QS51c2VFZmZlY3QoKCk9PntzKHkhPT1udWxsKX0sW3ldKTtmdW5jdGlvbiBTKFQpe2xldCB3PWUuaXNWYWxpZD8uY2FsbChuLFQpPz8hMDtoKG51bGwpLHR5cGVvZiB3PT0ic3RyaW5nIj9oKHcpOnd8fGgoIkludmFsaWQgaW5wdXQgcHJvdmlkZWQuIiksZS50eXBlPT09MSYmQmlnSW50KFQpPj0kMj8ocChgJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn1gKSxpKGMoVCkpKToocChUKSxpKGMoVCkpKX1yZXR1cm4gbyhiLkZvcm1TZWN0aW9uLG51bGwsbyhiLkZvcm1UaXRsZSxudWxsLGUuZGVzY3JpcHRpb24pLG8oRGUse3R5cGU6Im51bWJlciIscGF0dGVybjoiLT9bMC05XSsiLHZhbHVlOnUsb25DaGFuZ2U6UyxwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyPz8iRW50ZXIgYSBudW1iZXIiLGRpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLC4uLmUuY29tcG9uZW50UHJvcHN9KSx5JiZvKGIuRm9ybVRleHQse3N0eWxlOntjb2xvcjoidmFyKC0tdGV4dC1kYW5nZXIpIn19LHkpKX12YXIgJDIsQWg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3goKTtNKCk7JDI9QmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKX0pO2Z1bmN0aW9uIExoKHtvcHRpb246ZSxwbHVnaW5TZXR0aW5nczp0LGRlZmluZWRTZXR0aW5nczpuLG9uQ2hhbmdlOnIsb25FcnJvcjppLGlkOnN9KXtsZXQgYz10W3NdPz9lLm9wdGlvbnM/LmZpbmQoVD0+VC5kZWZhdWx0KT8udmFsdWUsW3UscF09QS51c2VTdGF0ZShjPz9udWxsKSxbeSxoXT1BLnVzZVN0YXRlKG51bGwpO0EudXNlRWZmZWN0KCgpPT57aSh5IT09bnVsbCl9LFt5XSk7ZnVuY3Rpb24gUyhUKXtsZXQgdz1lLmlzVmFsaWQ/LmNhbGwobixUKT8/ITA7dHlwZW9mIHc9PSJzdHJpbmciP2godyk6dz8oaChudWxsKSxwKFQpLHIoVCkpOmgoIkludmFsaWQgaW5wdXQgcHJvdmlkZWQuIil9cmV0dXJuIG8oYi5Gb3JtU2VjdGlvbixudWxsLG8oYi5Gb3JtVGl0bGUsbnVsbCxlLmRlc2NyaXB0aW9uKSxvKHBuLHtpc0Rpc2FibGVkOmUuZGlzYWJsZWQ/LmNhbGwobik/PyExLG9wdGlvbnM6ZS5vcHRpb25zLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXI/PyJTZWxlY3QgYW4gb3B0aW9uIixtYXhWaXNpYmxlSXRlbXM6NSxjbG9zZU9uU2VsZWN0OiEwLHNlbGVjdDpTLGlzU2VsZWN0ZWQ6VD0+VD09PXUsc2VyaWFsaXplOlQ9PlN0cmluZyhUKSwuLi5lLmNvbXBvbmVudFByb3BzfSkseSYmbyhiLkZvcm1UZXh0LHtzdHlsZTp7Y29sb3I6InZhcigtLXRleHQtZGFuZ2VyKSJ9fSx5KSl9dmFyIEVoPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCl9KTtmdW5jdGlvbiB5cihlLHQsbj0xKXtsZXQgcj1bXTtmb3IobGV0IGk9ZTtpPD10O2krPW4pci5wdXNoKE1hdGgucm91bmQoaSoxMDApLzEwMCk7cmV0dXJuIHJ9ZnVuY3Rpb24gRGgoe29wdGlvbjplLHBsdWdpblNldHRpbmdzOnQsZGVmaW5lZFNldHRpbmdzOm4saWQ6cixvbkNoYW5nZTppLG9uRXJyb3I6c30pe2xldCBjPXRbcl0/P2UuZGVmYXVsdCxbdSxwXT1BLnVzZVN0YXRlKG51bGwpO0EudXNlRWZmZWN0KCgpPT57cyh1IT09bnVsbCl9LFt1XSk7ZnVuY3Rpb24geShoKXtsZXQgUz1lLmlzVmFsaWQ/LmNhbGwobixoKT8/ITA7dHlwZW9mIFM9PSJzdHJpbmciP3AoUyk6Uz8ocChudWxsKSxpKGgpKTpwKCJJbnZhbGlkIGlucHV0IHByb3ZpZGVkLiIpfXJldHVybiBvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKGIuRm9ybVRpdGxlLG51bGwsZS5kZXNjcmlwdGlvbiksbygkbyx7ZGlzYWJsZWQ6ZS5kaXNhYmxlZD8uY2FsbChuKT8/ITEsbWFya2VyczplLm1hcmtlcnMsbWluVmFsdWU6ZS5tYXJrZXJzWzBdLG1heFZhbHVlOmUubWFya2Vyc1tlLm1hcmtlcnMubGVuZ3RoLTFdLGluaXRpYWxWYWx1ZTpjLG9uVmFsdWVDaGFuZ2U6eSxvblZhbHVlUmVuZGVyOmg9PlN0cmluZyhoLnRvRml4ZWQoMikpLHN0aWNrVG9NYXJrZXJzOmUuc3RpY2tUb01hcmtlcnM/PyEwLC4uLmUuY29tcG9uZW50UHJvcHN9KSl9dmFyIFVjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCl9KTtmdW5jdGlvbiBPaCh7b3B0aW9uOmUscGx1Z2luU2V0dGluZ3M6dCxkZWZpbmVkU2V0dGluZ3M6bixpZDpyLG9uQ2hhbmdlOmksb25FcnJvcjpzfSl7bGV0W2MsdV09QS51c2VTdGF0ZSh0W3JdPz9lLmRlZmF1bHQ/P251bGwpLFtwLHldPUEudXNlU3RhdGUobnVsbCk7QS51c2VFZmZlY3QoKCk9PntzKHAhPT1udWxsKX0sW3BdKTtmdW5jdGlvbiBoKFMpe2xldCBUPWUuaXNWYWxpZD8uY2FsbChuLFMpPz8hMDt0eXBlb2YgVD09InN0cmluZyI/eShUKTpUPyh5KG51bGwpLHUoUyksaShTKSk6eSgiSW52YWxpZCBpbnB1dCBwcm92aWRlZC4iKX1yZXR1cm4gbyhiLkZvcm1TZWN0aW9uLG51bGwsbyhiLkZvcm1UaXRsZSxudWxsLGUuZGVzY3JpcHRpb24pLG8oRGUse3R5cGU6InRleHQiLHZhbHVlOmMsb25DaGFuZ2U6aCxwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyPz8iRW50ZXIgYSB2YWx1ZSIsZGlzYWJsZWQ6ZS5kaXNhYmxlZD8uY2FsbChuKT8/ITEsLi4uZS5jb21wb25lbnRQcm9wc30pLHAmJm8oYi5Gb3JtVGV4dCx7c3R5bGU6e2NvbG9yOiJ2YXIoLS10ZXh0LWRhbmdlcikifX0scCkpfXZhciBfaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpfSk7dmFyIFhzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtJaCgpO05oKCk7a2goKTtBaCgpO0VoKCk7VWMoKTtfaCgpfSk7ZnVuY3Rpb24gR2MoKXtyZXR1cm5gLSR7dW8uZnJvbVRpbWVzdGFtcChEYXRlLm5vdygpKX1gfWZ1bmN0aW9uIGFlKGUsdCl7bGV0IG49VTIoe2NoYW5uZWxJZDplLGNvbnRlbnQ6IiIsZW1iZWRzOltdfSk7cmV0dXJuIEcyLnJlY2VpdmVNZXNzYWdlKGUsRm8odCxuKSksdH1mdW5jdGlvbiBZZShlLHQsbil7cmV0dXJuIGUuZmluZChyPT5yLm5hbWU9PT10KT8udmFsdWV8fG59dmFyIFUyLEcyLEhjPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt5ZSgpO0IoKTtNKCk7VTI9ZGUoJ3VzZXJuYW1lOiJDbHlkZSInKSxHMj1JKCJyZWNlaXZlTWVzc2FnZSIpfSk7dmFyIGJvLGJuLHpjLEpzPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtibz0oUz0+KFNbUy5TVUJfQ09NTUFORD0xXT0iU1VCX0NPTU1BTkQiLFNbUy5TVUJfQ09NTUFORF9HUk9VUD0yXT0iU1VCX0NPTU1BTkRfR1JPVVAiLFNbUy5TVFJJTkc9M109IlNUUklORyIsU1tTLklOVEVHRVI9NF09IklOVEVHRVIiLFNbUy5CT09MRUFOPTVdPSJCT09MRUFOIixTW1MuVVNFUj02XT0iVVNFUiIsU1tTLkNIQU5ORUw9N109IkNIQU5ORUwiLFNbUy5ST0xFPThdPSJST0xFIixTW1MuTUVOVElPTkFCTEU9OV09Ik1FTlRJT05BQkxFIixTW1MuTlVNQkVSPTEwXT0iTlVNQkVSIixTW1MuQVRUQUNITUVOVD0xMV09IkFUVEFDSE1FTlQiLFMpKShib3x8e30pLGJuPShzPT4oc1tzLkJVSUxUX0lOPTBdPSJCVUlMVF9JTiIsc1tzLkJVSUxUX0lOX1RFWFQ9MV09IkJVSUxUX0lOX1RFWFQiLHNbcy5CVUlMVF9JTl9JTlRFR1JBVElPTj0yXT0iQlVJTFRfSU5fSU5URUdSQVRJT04iLHNbcy5CT1Q9M109IkJPVCIsc1tzLlBMQUNFSE9MREVSPTRdPSJQTEFDRUhPTERFUiIscykpKGJufHx7fSksemM9KHI9PihyW3IuQ0hBVF9JTlBVVD0xXT0iQ0hBVF9JTlBVVCIscltyLlVTRVI9Ml09IlVTRVIiLHJbci5NRVNTQUdFPTNdPSJNRVNTQUdFIixyKSkoemN8fHt9KX0pO3ZhciBxYz17fTt2ZShxYyx7QXBwbGljYXRpb25Db21tYW5kSW5wdXRUeXBlOigpPT5ibixBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25UeXBlOigpPT5ibyxBcHBsaWNhdGlvbkNvbW1hbmRUeXBlOigpPT56YyxCVUlMVF9JTjooKT0+VG8sT3B0aW9uYWxNZXNzYWdlT3B0aW9uOigpPT54byxSZXF1aXJlZE1lc3NhZ2VPcHRpb246KCk9PmZpLF9oYW5kbGVDb21tYW5kOigpPT56MixfaW5pdDooKT0+SDIsY29tbWFuZHM6KCk9PmpjLGZpbmRPcHRpb246KCk9PlllLGdlbmVyYXRlSWQ6KCk9PkdjLHByZXBhcmVPcHRpb246KCk9PldjLHJlZ2lzdGVyQ29tbWFuZDooKT0+dnIsc2VuZEJvdE1lc3NhZ2U6KCk9PmFlLHVucmVnaXN0ZXJDb21tYW5kOigpPT5naX0pO2Z1bmN0aW9uIFdjKGUpe3JldHVybiBlLmRpc3BsYXlOYW1lfHw9ZS5uYW1lLGUuZGlzcGxheURlc2NyaXB0aW9ufHw9ZS5kZXNjcmlwdGlvbixlLm9wdGlvbnM/LmZvckVhY2goKHQsbixyKT0+e3Q9PT1CaD9yW25dPXhvOnQ9PT1GaCYmKHJbbl09ZmkpLHQuY2hvaWNlcz8uZm9yRWFjaChpPT5pLmRpc3BsYXlOYW1lfHw9aS5uYW1lKSxXYyhyW25dKX0pLGV9ZnVuY3Rpb24gajIoZSx0KXtlLm9wdGlvbnM/LmZvckVhY2gobj0+e2lmKG4udHlwZSE9PTEpdGhyb3cgbmV3IEVycm9yKCJXaGVuIHNwZWNpZnlpbmcgc3ViLWNvbW1hbmQgb3B0aW9ucywgYWxsIG9wdGlvbnMgbXVzdCBiZSBzdWItY29tbWFuZHMuIik7bGV0IHI9ey4uLmUsLi4ubix0eXBlOjEsbmFtZTpgJHtlLm5hbWV9ICR7bi5uYW1lfWAsaWQ6YCR7bi5uYW1lfS0ke2UuaWR9YCxkaXNwbGF5TmFtZTpgJHtlLm5hbWV9ICR7bi5uYW1lfWAsc3ViQ29tbWFuZFBhdGg6W3tuYW1lOm4ubmFtZSx0eXBlOm4udHlwZSxkaXNwbGF5TmFtZTpuLm5hbWV9XSxyb290Q29tbWFuZDplfTt2cihyLHQpfSl9ZnVuY3Rpb24gdnIoZSx0KXtpZighVG8pe2NvbnNvbGUud2FybigiW0NvbW1hbmRzQVBJXSIsYE5vdCByZWdpc3RlcmluZyAke2UubmFtZX0gYXMgdGhlIENvbW1hbmRzQVBJIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkLmAsIlBsZWFzZSByZXN0YXJ0IHRvIHVzZSBjb21tYW5kcyIpO3JldHVybn1pZihUby5zb21lKG49Pm4ubmFtZT09PWUubmFtZSkpdGhyb3cgbmV3IEVycm9yKGBDb21tYW5kICcke2UubmFtZX0nIGFscmVhZHkgZXhpc3RzLmApO2lmKGUuaXNWZW5jb3JkQ29tbWFuZD0hMCxlLmlkPz89YC0ke1RvLmxlbmd0aCsxfWAsZS5hcHBsaWNhdGlvbklkPz89Ii0xIixlLnR5cGU/Pz0xLGUuaW5wdXRUeXBlPz89MSxlLnBsdWdpbnx8PXQsV2MoZSksZS5vcHRpb25zPy5bMF0/LnR5cGU9PT0xKXtqMihlLHQpO3JldHVybn1qY1tlLm5hbWVdPWUsVG8ucHVzaChlKX1mdW5jdGlvbiBnaShlKXtsZXQgdD1Uby5maW5kSW5kZXgobj0+bi5uYW1lPT09ZSk7cmV0dXJuIHQ9PT0tMT8hMTooVG8uc3BsaWNlKHQsMSksZGVsZXRlIGpjW2VdLCEwKX12YXIgVG8samMsQmgsRmgseG8sZmksSDIsejIsWXQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1puKCk7SGMoKTtKcygpO0hjKCk7SnMoKTtqYz17fSxCaD1TeW1ib2woIk9wdGlvbmFsTWVzc2FnZU9wdGlvbiIpLEZoPVN5bWJvbCgiUmVxdWlyZWRNZXNzYWdlT3B0aW9uIikseG89QmgsZmk9RmgsSDI9ZnVuY3Rpb24oZSl7dHJ5e1RvPWUseG89ZS5maW5kKHQ9PnQubmFtZT09PSJzaHJ1ZyIpLm9wdGlvbnNbMF0sZmk9ZS5maW5kKHQ9PnQubmFtZT09PSJtZSIpLm9wdGlvbnNbMF19Y2F0Y2h7Y29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGxvYWQgQ29tbWFuZHNBcGkiKX1yZXR1cm4gZX0sejI9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlLmlzVmVuY29yZENvbW1hbmQpcmV0dXJuIGUuZXhlY3V0ZSh0LG4pO2xldCByPWk9PntsZXQgcz1gQW4gRXJyb3Igb2NjdXJyZWQgd2hpbGUgZXhlY3V0aW5nIGNvbW1hbmQgIiR7ZS5uYW1lfSJgLGM9aSBpbnN0YW5jZW9mIEVycm9yP2kuc3RhY2t8fGkubWVzc2FnZTpTdHJpbmcoaSk7Y29uc29sZS5lcnJvcihzLGkpLGFlKG4uY2hhbm5lbC5pZCx7Y29udGVudDpgJHtzfToKJHtWcihjKX1gLGF1dGhvcjp7dXNlcm5hbWU6IlZlbmNvcmQifX0pfTt0cnl7bGV0IGk9ZS5leGVjdXRlKHQsbik7cmV0dXJuIGkgaW5zdGFuY2VvZiBQcm9taXNlP2kuY2F0Y2gocik6aX1jYXRjaChpKXtyZXR1cm4gcihpKX19fSk7dmFyIEtjLCRoPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL2NvbXBvbmVudHMvUGx1Z2luU2V0dGluZ3MvdXNlclBvcG91dEhpZGVCb3RUYWcuY3NzIix7bmFtZToic3JjL2NvbXBvbmVudHMvUGx1Z2luU2V0dGluZ3MvdXNlclBvcG91dEhpZGVCb3RUYWcuY3NzIixzb3VyY2U6YFtjbGFzc3w9InVzZXJQb3BvdXRPdXRlciJdIFtjbGFzcyo9ImJvdFRhZyJdIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7S2M9InNyYy9jb21wb25lbnRzL1BsdWdpblNldHRpbmdzL3VzZXJQb3BvdXRIaWRlQm90VGFnLmNzcyJ9KTtmdW5jdGlvbiBZYyhlKXtsZXQgdD1uZXcgSzIoe3VzZXJuYW1lOmUudXNlcm5hbWUsaWQ6ZS5pZD8/R2MoKSxhdmF0YXI6ZS5hdmF0YXIsYm90OiEwfSk7cmV0dXJuIF8uZGlzcGF0Y2goe3R5cGU6IlVTRVJfVVBEQVRFIix1c2VyOnR9KSx0fWZ1bmN0aW9uIFpjKHtwbHVnaW46ZSxvblJlc3RhcnROZWVkZWQ6dCxvbkNsb3NlOm4sdHJhbnNpdGlvblN0YXRlOnJ9KXtsZXRbaSxzXT1BLnVzZVN0YXRlKFtdKSxjPXB0KCkucGx1Z2luc1tlLm5hbWVdLFt1LHBdPUEudXNlU3RhdGUoe30pLFt5LGhdPUEudXNlU3RhdGUoe30pLFtTLFRdPUEudXNlU3RhdGUobnVsbCksdz0oKT0+T2JqZWN0LnZhbHVlcyh5KS5ldmVyeSgkPT4hJCksTD1Cb29sZWFuKGMmJmUub3B0aW9ucyk7QS51c2VFZmZlY3QoKCk9Pnt0dChLYyk7bGV0ICQ7cmV0dXJuKGFzeW5jKCk9Pntmb3IobGV0IFggb2YgZS5hdXRob3JzLnNsaWNlKDAsNikpe2xldCBuZT1YLmlkP2F3YWl0IEVuLmZldGNoVXNlcihgJHtYLmlkfWApLnRoZW4oWT0+KCQ9WSxZYyhZKSkpLmNhdGNoKCgpPT5ZYyh7dXNlcm5hbWU6WC5uYW1lfSkpOlljKHt1c2VybmFtZTpYLm5hbWV9KTtzKFk9PlsuLi5ZLG5lXSl9fSkoKSwoKT0+e050KEtjKSwkJiZfLmRpc3BhdGNoKHt0eXBlOiJVU0VSX1VQREFURSIsdXNlcjokfSl9fSxbXSk7YXN5bmMgZnVuY3Rpb24gQygpe2lmKCFlLm9wdGlvbnMpe24oKTtyZXR1cm59aWYoZS5iZWZvcmVTYXZlKXtsZXQgWD1hd2FpdCBQcm9taXNlLnJlc29sdmUoZS5iZWZvcmVTYXZlKHUpKTtpZihYIT09ITApe1QoWCk7cmV0dXJufX1sZXQgJD0hMTtmb3IobGV0W1gsbmVdb2YgT2JqZWN0LmVudHJpZXModSkpe2xldCBZPWUub3B0aW9uc1tYXTtjW1hdPW5lLFk/Lm9uQ2hhbmdlPy4obmUpLFk/LnJlc3RhcnROZWVkZWQmJigkPSEwKX0kJiZ0KCksbigpfWZ1bmN0aW9uIGsoKXtpZighTHx8IWUub3B0aW9ucylyZXR1cm4gbyhiLkZvcm1UZXh0LG51bGwsIlRoZXJlIGFyZSBubyBzZXR0aW5ncyBmb3IgdGhpcyBwbHVnaW4uIik7e2xldCAkPU9iamVjdC5lbnRyaWVzKGUub3B0aW9ucykubWFwKChbWCxuZV0pPT57aWYobmUuaGlkZGVuKXJldHVybiBudWxsO2Z1bmN0aW9uIFkoSCl7cChFZT0+KHsuLi5FZSxbWF06SH0pKX1mdW5jdGlvbiBxKEgpe2goRWU9Pih7Li4uRWUsW1hdOkh9KSl9bGV0IG9lPVkyW25lLnR5cGVdO3JldHVybiBvKG9lLHtpZDpYLGtleTpYLG9wdGlvbjpuZSxvbkNoYW5nZTpZLG9uRXJyb3I6cSxwbHVnaW5TZXR0aW5nczpjLGRlZmluZWRTZXR0aW5nczplLnNldHRpbmdzfSl9KTtyZXR1cm4gbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIixzdHlsZTp7Z2FwOjEyLG1hcmdpbkJvdHRvbToxNn19LCQpfX1mdW5jdGlvbiBVKCQsWCl7bGV0IG5lPWUuYXV0aG9ycy5sZW5ndGgtWCxZPWUuYXV0aG9ycy5sZW5ndGgtbmUscT1ZK2UuYXV0aG9ycy5sZW5ndGgtWDtyZXR1cm4gbyhaLHt0ZXh0OmUuYXV0aG9ycy5zbGljZShZLHEpLm1hcChvZT0+b2UubmFtZSkuam9pbigiLCAiKX0sKHtvbk1vdXNlRW50ZXI6b2Usb25Nb3VzZUxlYXZlOkh9KT0+bygiZGl2Iix7Y2xhc3NOYW1lOnEyLm1vcmVVc2Vycyxvbk1vdXNlRW50ZXI6b2Usb25Nb3VzZUxlYXZlOkh9LCIrIixuZSkpfXJldHVybiBvKEFlLHt0cmFuc2l0aW9uU3RhdGU6cixzaXplOiJtZWRpdW0iLGNsYXNzTmFtZToidmMtdGV4dC1zZWxlY3RhYmxlIn0sbyhCZSx7c2VwYXJhdG9yOiExfSxvKHRlLHt2YXJpYW50OiJoZWFkaW5nLWxnL3NlbWlib2xkIixzdHlsZTp7ZmxleEdyb3c6MX19LGUubmFtZSksbyhDdCx7b25DbGljazpufSkpLG8oRmUsbnVsbCxvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIkFib3V0ICIsZS5uYW1lKSxvKGIuRm9ybVRleHQsbnVsbCxlLmRlc2NyaXB0aW9uKSxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIixzdHlsZTp7bWFyZ2luVG9wOjgsbWFyZ2luQm90dG9tOjB9fSwiQXV0aG9ycyIpLG8oImRpdiIse3N0eWxlOnt3aWR0aDoiZml0LWNvbnRlbnQiLG1hcmdpbkJvdHRvbTo4fX0sbyhXMix7dXNlcnM6aSxjb3VudDplLmF1dGhvcnMubGVuZ3RoLGd1aWxkSWQ6dm9pZCAwLHJlbmRlckljb246ITEsbWF4OjYsc2hvd0RlZmF1bHRBdmF0YXJzRm9yTnVsbFVzZXJzOiEwLHNob3dVc2VyUG9wb3V0OiEwLHJlbmRlck1vcmVVc2VyczpVfSkpKSwhIWUuc2V0dGluZ3NBYm91dENvbXBvbmVudCYmbygiZGl2Iix7Y2xhc3NOYW1lOmVlKHouYm90dG9tOCwidmMtdGV4dC1zZWxlY3RhYmxlIil9LG8oYi5Gb3JtU2VjdGlvbixudWxsLG8oRCx7bWVzc2FnZToiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVuZGVyaW5nIHRoaXMgcGx1Z2luJ3MgY3VzdG9tIEluZm9Db21wb25lbnQifSxvKGUuc2V0dGluZ3NBYm91dENvbXBvbmVudCx7dGVtcFNldHRpbmdzOnV9KSkpKSxvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIlNldHRpbmdzIiksaygpKSksTCYmbyh1dCxudWxsLG8oY2Use2ZsZXhEaXJlY3Rpb246ImNvbHVtbiIsc3R5bGU6e3dpZHRoOiIxMDAlIn19LG8oY2Use3N0eWxlOnttYXJnaW5MZWZ0OiJhdXRvIn19LG8oUix7b25DbGljazpuLHNpemU6Ui5TaXplcy5TTUFMTCxjb2xvcjpSLkNvbG9ycy5XSElURSxsb29rOlIuTG9va3MuTElOS30sIkNhbmNlbCIpLG8oWix7dGV4dDoiWW91IG11c3QgZml4IGFsbCBlcnJvcnMgYmVmb3JlIHNhdmluZyIsc2hvdWxkU2hvdzohdygpfSwoe29uTW91c2VFbnRlcjokLG9uTW91c2VMZWF2ZTpYfSk9Pm8oUix7c2l6ZTpSLlNpemVzLlNNQUxMLGNvbG9yOlIuQ29sb3JzLkJSQU5ELG9uQ2xpY2s6Qyxvbk1vdXNlRW50ZXI6JCxvbk1vdXNlTGVhdmU6WCxkaXNhYmxlZDohdygpfSwiU2F2ZSAmIENsb3NlIikpKSxTJiZvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL3NlbWlib2xkIixzdHlsZTp7Y29sb3I6InZhcigtLXRleHQtZGFuZ2VyKSJ9fSwiRXJyb3Igd2hpbGUgc2F2aW5nOiAiLFMpKSkpfXZhciBXMixxMixLMixZMixVaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtGKCk7SGUoKTtzZSgpO3Z0KCk7Y24oKTtldCgpO3llKCk7S2UoKTtnZSgpO3goKTtCKCk7TSgpO1hzKCk7JGgoKTtXMj1yZSgoKT0+VWUoImRlZmF1bHRSZW5kZXJVc2VyIiwic2hvd0RlZmF1bHRBdmF0YXJzRm9yTnVsbFVzZXJzIikpLHEyPUkoIm1vcmVVc2VycyIsImVtcHR5VXNlciIsImF2YXRhckNvbnRhaW5lciIsImNsaWNrYWJsZUF2YXRhciIpLEsyPWZ0KCgpPT5HLmdldEN1cnJlbnRVc2VyKCkuY29uc3RydWN0b3IpO1kyPXtbMF06T2gsWzFdOiRjLFsyXTokYyxbM106Q2gsWzRdOkxoLFs1XTpEaCxbNl06Umh9fSk7dmFyIEdoPWcoKCk9Pnt9KTtmdW5jdGlvbiBIaCh7Y2hlY2tlZDplLG9uQ2hhbmdlOnQsZGlzYWJsZWQ6bn0pe3JldHVybiBvKCJkaXYiLG51bGwsbygiZGl2Iix7Y2xhc3NOYW1lOmVlKFFzLmNvbnRhaW5lciwiZGVmYXVsdC1jb2xvcnMiLGU/UXMuY2hlY2tlZDp2b2lkIDApLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6ZT9YYzpKYyxvcGFjaXR5Om4/LjM6MX19LG8oInN2ZyIse2NsYXNzTmFtZTpRcy5zbGlkZXIrIiB2Yy1zd2l0Y2gtc2xpZGVyIix2aWV3Qm94OiIwIDAgMjggMjAiLHByZXNlcnZlQXNwZWN0UmF0aW86InhNaW5ZTWlkIG1lZXQiLCJhcmlhLWhpZGRlbiI6InRydWUiLHN0eWxlOnt0cmFuc2Zvcm06ZT8idHJhbnNsYXRlWCgxMnB4KSI6InRyYW5zbGF0ZVgoLTNweCkifX0sbygicmVjdCIse2ZpbGw6IndoaXRlIix4OiI0Iix5OiIwIixoZWlnaHQ6IjIwIix3aWR0aDoiMjAiLHJ4OiIxMCJ9KSxvKCJzdmciLHt2aWV3Qm94OiIwIDAgMjAgMjAiLGZpbGw6Im5vbmUifSxlP28obSxudWxsLG8oInBhdGgiLHtmaWxsOlhjLGQ6Ik03Ljg5NTYxIDE0Ljg1MzhMNi4zMDQ2MiAxMy4yNjI5TDE0LjMwOTkgNS4yNTc1NUwxNS45MDA5IDYuODQ4NTRMNy44OTU2MSAxNC44NTM4WiJ9KSxvKCJwYXRoIix7ZmlsbDpYYyxkOiJNNC4wODY0MyAxMS4wOTAzTDUuNjc3NDIgOS40OTkyOUw5LjQ0ODUgMTMuMjcwNEw3Ljg1NzUxIDE0Ljg2MTRMNC4wODY0MyAxMS4wOTAzWiJ9KSk6byhtLG51bGwsbygicGF0aCIse2ZpbGw6SmMsZDoiTTUuMTMyMzEgNi43Mjk2M0w2LjcyMzMgNS4xMzg2NEwxNC44NTUgMTMuMjcwNEwxMy4yNjQgMTQuODYxNEw1LjEzMjMxIDYuNzI5NjNaIn0pLG8oInBhdGgiLHtmaWxsOkpjLGQ6Ik0xMy4yNzA0IDUuMTM4NjRMMTQuODYxNCA2LjcyOTYzTDYuNzI5NjMgMTQuODYxNEw1LjEzODY0IDEzLjI3MDRMMTMuMjcwNCA1LjEzODY0WiJ9KSkpKSxvKCJpbnB1dCIse2Rpc2FibGVkOm4sdHlwZToiY2hlY2tib3giLGNsYXNzTmFtZTpRcy5pbnB1dCx0YWJJbmRleDowLGNoZWNrZWQ6ZSxvbkNoYW5nZTpyPT50KHIuY3VycmVudFRhcmdldC5jaGVja2VkKX0pKSl9dmFyIFhjLEpjLFFzLHpoPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtHaCgpO3llKCk7QigpO1hjPSJ2YXIoLS1ncmVlbi0zNjApIixKYz0idmFyKC0tcHJpbWFyeS00MDApIixRcz1JKCJzbGlkZXIiLCJpbnB1dCIsImNvbnRhaW5lciIpfSk7dmFyIG51PXt9O3ZlKG51LHtQTUxvZ2dlcjooKT0+WjIsaXNQbHVnaW5FbmFibGVkOigpPT5WYyxwYXRjaGVzOigpPT5qaCxwbHVnaW5zOigpPT5YMixzdGFydEFsbFBsdWdpbnM6KCk9PmV1LHN0YXJ0RGVwZW5kZW5jaWVzUmVjdXJzaXZlOigpPT5WcyxzdGFydFBsdWdpbjooKT0+aGksc3RvcFBsdWdpbjooKT0+dHV9KTtmdW5jdGlvbiBWYyhlKXtyZXR1cm4oUGVbZV0/LnJlcXVpcmVkfHxQZVtlXT8uaXNEZXBlbmRlbmN5fHxRY1tlXT8uZW5hYmxlZCk/PyExfWZ1bmN0aW9uIFZzKGUpe2xldCB0PSExLG49W107cmV0dXJuIGUuZGVwZW5kZW5jaWVzPy5mb3JFYWNoKHI9PntpZighTi5wbHVnaW5zW3JdLmVuYWJsZWQpe2lmKFZzKFBlW3JdKSxOLnBsdWdpbnNbcl0uZW5hYmxlZD0hMCxQZVtyXS5wYXRjaGVzKXtadC53YXJuKGBFbmFibGluZyBkZXBlbmRlbmN5ICR7cn0gcmVxdWlyZXMgcmVzdGFydC5gKSx0PSEwO3JldHVybn1oaShQZVtyXSl8fG4ucHVzaChyKX19KSx7cmVzdGFydE5lZWRlZDp0LGZhaWx1cmVzOm59fXZhciBadCxaMixYMixqaCxRYyxXaCxldSxoaSx0dSxlYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtGKCk7d2UoKTtNKCk7Z3IoKTtzcygpO1p0PW5ldyBRKCJQbHVnaW5NYW5hZ2VyIiwiI2E2ZDE4OSIpLFoyPVp0LFgyPVBlLGpoPVtdLFFjPU4ucGx1Z2lucztXaD1PYmplY3QudmFsdWVzKFBlKTtmb3IobGV0IGUgb2YgV2gpUWNbZS5uYW1lXT8uZW5hYmxlZCYmZS5kZXBlbmRlbmNpZXM/LmZvckVhY2godD0+e2xldCBuPVBlW3RdO2lmKG4pUWNbdF0uZW5hYmxlZD0hMCxuLmlzRGVwZW5kZW5jeT0hMDtlbHNle2xldCByPW5ldyBFcnJvcihgUGx1Z2luICR7ZS5uYW1lfSBoYXMgdW5yZXNvbHZlZCBkZXBlbmRlbmN5ICR7dH1gKTtadC53YXJuKHIpfX0pO2ZvcihsZXQgZSBvZiBXaCl7aWYoZS5zZXR0aW5ncyl7ZS5zZXR0aW5ncy5wbHVnaW5OYW1lPWUubmFtZSxlLm9wdGlvbnM/Pz17fTtmb3IobGV0W3Qsbl1vZiBPYmplY3QuZW50cmllcyhlLnNldHRpbmdzLmRlZikpe2xldCByPWUuc2V0dGluZ3MuY2hlY2tzPy5bdF07ZS5vcHRpb25zW3RdPXsuLi5uLC4uLnJ9fX1pZihlLnBhdGNoZXMmJlZjKGUubmFtZSkpZm9yKGxldCB0IG9mIGUucGF0Y2hlcyl0LnBsdWdpbj1lLm5hbWUsQXJyYXkuaXNBcnJheSh0LnJlcGxhY2VtZW50KXx8KHQucmVwbGFjZW1lbnQ9W3QucmVwbGFjZW1lbnRdKSxqaC5wdXNoKHQpfWV1PXVuKCJzdGFydEFsbFBsdWdpbnMiLGZ1bmN0aW9uKCl7Zm9yKGxldCB0IGluIFBlKVZjKHQpJiZoaShQZVt0XSl9KTtoaT11bigic3RhcnRQbHVnaW4iLGZ1bmN0aW9uKHQpe2xldHtuYW1lOm4sY29tbWFuZHM6cixmbHV4Oml9PXQ7aWYodC5zdGFydCl7aWYoWnQuaW5mbygiU3RhcnRpbmcgcGx1Z2luIixuKSx0LnN0YXJ0ZWQpcmV0dXJuIFp0Lndhcm4oYCR7bn0gYWxyZWFkeSBzdGFydGVkYCksITE7dHJ5e3Quc3RhcnQoKSx0LnN0YXJ0ZWQ9ITB9Y2F0Y2gocyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgJHtufQpgLHMpLCExfX1pZihyPy5sZW5ndGgpe1p0LmluZm8oIlJlZ2lzdGVyaW5nIGNvbW1hbmRzIG9mIHBsdWdpbiIsbik7Zm9yKGxldCBzIG9mIHIpdHJ5e3ZyKHMsbil9Y2F0Y2goYyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gcmVnaXN0ZXIgY29tbWFuZCAke3MubmFtZX0KYCxjKSwhMX19aWYoaSlmb3IobGV0IHMgaW4gaSlfLnN1YnNjcmliZShzLGlbc10pO3JldHVybiEwfSxlPT5gc3RhcnRQbHVnaW4gJHtlLm5hbWV9YCksdHU9dW4oInN0b3BQbHVnaW4iLGZ1bmN0aW9uKHQpe2xldHtuYW1lOm4sY29tbWFuZHM6cixmbHV4Oml9PXQ7aWYodC5zdG9wKXtpZihadC5pbmZvKCJTdG9wcGluZyBwbHVnaW4iLG4pLCF0LnN0YXJ0ZWQpcmV0dXJuIFp0Lndhcm4oYCR7bn0gYWxyZWFkeSBzdG9wcGVkYCksITE7dHJ5e3Quc3RvcCgpLHQuc3RhcnRlZD0hMX1jYXRjaChzKXtyZXR1cm4gWnQuZXJyb3IoYEZhaWxlZCB0byBzdG9wICR7bn0KYCxzKSwhMX19aWYocj8ubGVuZ3RoKXtadC5pbmZvKCJVbnJlZ2lzdGVyaW5nIGNvbW1hbmRzIG9mIHBsdWdpbiIsbik7Zm9yKGxldCBzIG9mIHIpdHJ5e2dpKHMubmFtZSl9Y2F0Y2goYyl7cmV0dXJuIFp0LmVycm9yKGBGYWlsZWQgdG8gdW5yZWdpc3RlciBjb21tYW5kICR7cy5uYW1lfQpgLGMpLCExfX1pZihpKWZvcihsZXQgcyBpbiBpKV8udW5zdWJzY3JpYmUocyxpW3NdKTtyZXR1cm4hMH0sZT0+YHN0b3BQbHVnaW4gJHtlLm5hbWV9YCl9KTtmdW5jdGlvbiBldyhlKXtLLnNob3coe21lc3NhZ2U6ZSx0eXBlOksuVHlwZS5GQUlMVVJFLGlkOksuZ2VuSWQoKSxvcHRpb25zOntwb3NpdGlvbjpLLlBvc2l0aW9uLkJPVFRPTX19KX1mdW5jdGlvbiB0dyh7cmVxdWlyZWQ6ZX0pe3JldHVybiBvKEZ0LHtjbGFzc05hbWU6VG4oImluZm8tY2FyZCIseyJyZXN0YXJ0LWNhcmQiOmV9KX0sZT9vKG0sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6Img1In0sIlJlc3RhcnQgcmVxdWlyZWQhIiksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6VG4oImRlcC10ZXh0Iil9LCJSZXN0YXJ0IG5vdyB0byBhcHBseSBuZXcgcGx1Z2lucyBhbmQgdGhlaXIgc2V0dGluZ3MiKSxvKFIse2NvbG9yOlIuQ29sb3JzLllFTExPVyxvbkNsaWNrOigpPT5sb2NhdGlvbi5yZWxvYWQoKX0sIlJlc3RhcnQiKSk6byhtLG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJQbHVnaW4gTWFuYWdlbWVudCIpLG8oYi5Gb3JtVGV4dCxudWxsLCJQcmVzcyB0aGUgY29nIHdoZWVsIG9yIGluZm8gaWNvbiB0byBnZXQgbW9yZSBpbmZvIG9uIGEgcGx1Z2luIiksbyhiLkZvcm1UZXh0LG51bGwsIlBsdWdpbnMgd2l0aCBhIGNvZyB3aGVlbCBoYXZlIHNldHRpbmdzIHlvdSBjYW4gbW9kaWZ5ISIpKSl9ZnVuY3Rpb24gWWgoe3BsdWdpbjplLGRpc2FibGVkOnQsb25SZXN0YXJ0TmVlZGVkOm4sb25Nb3VzZUVudGVyOnIsb25Nb3VzZUxlYXZlOmksaXNOZXc6c30pe2xldCBjPU4ucGx1Z2luc1tlLm5hbWVdLHU9KCk9PmMuZW5hYmxlZD8/ITE7ZnVuY3Rpb24gcCgpe1lyKGFzeW5jKCk9Pmg9Pm8oWmMsey4uLmgscGx1Z2luOmUsb25SZXN0YXJ0TmVlZGVkOigpPT5uKGUubmFtZSl9KSl9ZnVuY3Rpb24geSgpe2xldCBoPXUoKTtpZighaCl7bGV0e3Jlc3RhcnROZWVkZWQ6VCxmYWlsdXJlczp3fT1WcyhlKTtpZih3Lmxlbmd0aCl7cWguZXJyb3IoYEZhaWxlZCB0byBzdGFydCBkZXBlbmRlbmNpZXMgZm9yICR7ZS5uYW1lfTogJHt3LmpvaW4oIiwgIil9YCksbWkoIkZhaWxlZCB0byBzdGFydCBkZXBlbmRlbmNpZXM6ICIrdy5qb2luKCIsICIpLCJDbG9zZSIsKCk9Pm51bGwpO3JldHVybn1lbHNlIGlmKFQpe2MuZW5hYmxlZD0hMCxuKGUubmFtZSk7cmV0dXJufX1pZihlLnBhdGNoZXM/Lmxlbmd0aCl7Yy5lbmFibGVkPSFoLG4oZS5uYW1lKTtyZXR1cm59aWYoaCYmIWUuc3RhcnRlZCl7Yy5lbmFibGVkPSFoO3JldHVybn1pZighKGg/dHUoZSk6aGkoZSkpKXtjLmVuYWJsZWQ9ITE7bGV0IFQ9YEVycm9yIHdoaWxlICR7aD8ic3RvcHBpbmciOiJzdGFydGluZyJ9IHBsdWdpbiAke2UubmFtZX1gO3FoLmVycm9yKFQpLGV3KFQpO3JldHVybn1jLmVuYWJsZWQ9IWh9cmV0dXJuIG8oY2Use2NsYXNzTmFtZTpUbigiY2FyZCIseyJjYXJkLWRpc2FibGVkIjp0fSksZmxleERpcmVjdGlvbjoiY29sdW1uIixvbk1vdXNlRW50ZXI6cixvbk1vdXNlTGVhdmU6aX0sbygiZGl2Iix7Y2xhc3NOYW1lOlRuKCJjYXJkLWhlYWRlciIpfSxvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL2JvbGQiLGNsYXNzTmFtZTpUbigibmFtZSIpfSxlLm5hbWUscyYmbyhQaCx7dGV4dDoiTkVXIixjb2xvcjoiI0VENDI0NSJ9KSksbygiYnV0dG9uIix7cm9sZToic3dpdGNoIixvbkNsaWNrOigpPT5wKCksY2xhc3NOYW1lOmVlKEoyLmJ1dHRvbixUbigiaW5mby1idXR0b24iKSl9LGUub3B0aW9ucz9vKFEyLG51bGwpOm8oVjIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCJ9KSksbyhIaCx7Y2hlY2tlZDp1KCksb25DaGFuZ2U6eSxkaXNhYmxlZDp0fSkpLG8odGUse2NsYXNzTmFtZTpUbigibm90ZSIpLHZhcmlhbnQ6InRleHQtc20vbm9ybWFsIn0sZS5kZXNjcmlwdGlvbikpfWZ1bmN0aW9uIG91KCl7bGV0IGU9cHQoKSx0PUEudXNlTWVtbygoKT0+bmV3IEZyLFtdKTtBLnVzZUVmZmVjdCgoKT0+KCk9PnZvaWQodC5oYXNDaGFuZ2VzJiZJdC5zaG93KHt0aXRsZToiUmVzdGFydCByZXF1aXJlZCIsYm9keTpvKG0sbnVsbCxvKCJwIixudWxsLCJUaGUgZm9sbG93aW5nIHBsdWdpbnMgcmVxdWlyZSBhIHJlc3RhcnQ6IiksbygiZGl2IixudWxsLHQubWFwKChULHcpPT5vKG0sbnVsbCx3PjAmJiIsICIsa2UucGFyc2UoImAiK1QrImAiKSkpKSksY29uZmlybVRleHQ6IlJlc3RhcnQgbm93IixjYW5jZWxUZXh0OiJMYXRlciEiLG9uQ29uZmlybTooKT0+bG9jYXRpb24ucmVsb2FkKCl9KSksW10pO2xldCBuPUEudXNlTWVtbygoKT0+e2xldCBUPXt9O2ZvcihsZXQgdyBpbiBQZSl7bGV0IEw9UGVbd10uZGVwZW5kZW5jaWVzO2lmKEwpZm9yKGxldCBDIG9mIEwpVFtDXT8/PVtdLFRbQ10ucHVzaCh3KX1yZXR1cm4gVH0sW10pLHI9QS51c2VNZW1vKCgpPT5PYmplY3QudmFsdWVzKFBlKS5zb3J0KChULHcpPT5ULm5hbWUubG9jYWxlQ29tcGFyZSh3Lm5hbWUpKSxbXSksW2ksc109QS51c2VTdGF0ZSh7dmFsdWU6IiIsc3RhdHVzOjB9KSxjPVQ9PnModz0+KHsuLi53LHZhbHVlOlR9KSksdT1UPT5zKHc9Pih7Li4udyxzdGF0dXM6VH0pKSxwPVQ9PntsZXQgdz1lLnBsdWdpbnNbVC5uYW1lXT8uZW5hYmxlZDtpZih3JiZpLnN0YXR1cz09PTJ8fCF3JiZpLnN0YXR1cz09PTF8fGkuc3RhdHVzPT09MyYmIXk/LmluY2x1ZGVzKFQubmFtZSkpcmV0dXJuITE7aWYoIWkudmFsdWUubGVuZ3RoKXJldHVybiEwO2xldCBMPWkudmFsdWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gVC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoTCl8fFQuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhMKXx8VC50YWdzPy5zb21lKEM9PkMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhMKSl9LFt5XT1WZSgoKT0+b3QoIlZlbmNvcmRfZXhpc3RpbmdQbHVnaW5zIikudGhlbihUPT57bGV0IHc9RGF0ZS5ub3coKS8xZTMsTD17fSxDPU9iamVjdC52YWx1ZXMocikubWFwKFU9PlUubmFtZSksaz1bXTtmb3IobGV0e25hbWU6VX1vZiByKShMW1VdPVQ/LltVXT8/dykrNjAqNjAqMjQqMj53JiZrLnB1c2goVSk7cmV0dXJuIHJ0KCJWZW5jb3JkX2V4aXN0aW5nUGx1Z2lucyIsTCksdW5zYWZlV2luZG93Ll8uaXNFcXVhbChrLEMpP1tdOmt9KSksaCxTO2lmKHI/Lmxlbmd0aCl7aD1bXSxTPVtdO2ZvcihsZXQgVCBvZiByKXtpZighVC5vcHRpb25zJiZULm5hbWUuZW5kc1dpdGgoIkFQSSIpJiZpLnZhbHVlIT09IkFQSSJ8fCFwKFQpKWNvbnRpbnVlO2lmKFQucmVxdWlyZWR8fG5bVC5uYW1lXT8uc29tZShMPT5lLnBsdWdpbnNbTF0uZW5hYmxlZCkpe2xldCBMPVQucmVxdWlyZWQ/IlRoaXMgcGx1Z2luIGlzIHJlcXVpcmVkIGZvciBWZW5jb3JkIHRvIGZ1bmN0aW9uLiI6bncobltULm5hbWVdPy5maWx0ZXIoQz0+ZS5wbHVnaW5zW0NdLmVuYWJsZWQpKTtTLnB1c2gobyhaLHt0ZXh0Okwsa2V5OlQubmFtZX0sKHtvbk1vdXNlTGVhdmU6Qyxvbk1vdXNlRW50ZXI6a30pPT5vKFloLHtvbk1vdXNlTGVhdmU6Qyxvbk1vdXNlRW50ZXI6ayxvblJlc3RhcnROZWVkZWQ6VT0+dC5oYW5kbGVDaGFuZ2UoVSksZGlzYWJsZWQ6ITAscGx1Z2luOlR9KSkpfWVsc2UgaC5wdXNoKG8oWWgse29uUmVzdGFydE5lZWRlZDpMPT50LmhhbmRsZUNoYW5nZShMKSxkaXNhYmxlZDohMSxwbHVnaW46VCxpc05ldzp5Py5pbmNsdWRlcyhULm5hbWUpLGtleTpULm5hbWV9KSl9fWVsc2UgaD1TPW8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIk5vIHBsdWdpbnMgbWVldCBzZWFyY2ggY3JpdGVyaWEuIik7cmV0dXJuIG8oX24se3RpdGxlOiJQbHVnaW5zIn0sbyh0dyx7cmVxdWlyZWQ6dC5oYXNDaGFuZ2VzfSksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsY2xhc3NOYW1lOmVlKHoudG9wMjAsei5ib3R0b204KX0sIkZpbHRlcnMiKSxvKCJkaXYiLHtjbGFzc05hbWU6VG4oImZpbHRlci1jb250cm9scyIpfSxvKERlLHthdXRvRm9jdXM6ITAsdmFsdWU6aS52YWx1ZSxwbGFjZWhvbGRlcjoiU2VhcmNoIGZvciBhIHBsdWdpbi4uLiIsb25DaGFuZ2U6YyxjbGFzc05hbWU6ei5ib3R0b20yMH0pLG8oImRpdiIse2NsYXNzTmFtZTpLaC5pbnB1dFdyYXBwZXJ9LG8ocG4se2NsYXNzTmFtZTpLaC5pbnB1dERlZmF1bHQsb3B0aW9uczpbe2xhYmVsOiJTaG93IEFsbCIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IlNob3cgRW5hYmxlZCIsdmFsdWU6MX0se2xhYmVsOiJTaG93IERpc2FibGVkIix2YWx1ZToyfSx7bGFiZWw6IlNob3cgTmV3Iix2YWx1ZTozfV0sc2VyaWFsaXplOlN0cmluZyxzZWxlY3Q6dSxpc1NlbGVjdGVkOlQ9PlQ9PT1pLnN0YXR1cyxjbG9zZU9uU2VsZWN0OiEwfSkpKSxvKGIuRm9ybVRpdGxlLHtjbGFzc05hbWU6ei50b3AyMH0sIlBsdWdpbnMiKSxvKCJkaXYiLHtjbGFzc05hbWU6VG4oImdyaWQiKX0saCksbyhiLkZvcm1EaXZpZGVyLHtjbGFzc05hbWU6ei50b3AyMH0pLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDUiLGNsYXNzTmFtZTplZSh6LnRvcDIwLHouYm90dG9tOCl9LCJSZXF1aXJlZCBQbHVnaW5zIiksbygiZGl2Iix7Y2xhc3NOYW1lOlRuKCJncmlkIil9LFMpKX1mdW5jdGlvbiBudyhlKXtyZXR1cm4gbyhBLkZyYWdtZW50LG51bGwsbyhiLkZvcm1UZXh0LG51bGwsIlRoaXMgcGx1Z2luIGlzIHJlcXVpcmVkIGJ5OiIpLGUubWFwKHQ9Pm8oYi5Gb3JtVGV4dCx7Y2xhc3NOYW1lOlRuKCJkZXAtdGV4dCIpfSx0KSkpfXZhciBUbixxaCxLaCxKMixRMixWMixaaD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7d2goKTtrbigpO1pzKCk7RigpO0hlKCk7dnQoKTtYcygpO1VoKCk7emgoKTtXbygpO1NsKCk7d2UoKTtldCgpO3llKCk7S2UoKTtnZSgpO0IoKTtNKCk7Z3IoKTtlYSgpO1RuPUxlKCJ2Yy1wbHVnaW5zLSIpLHFoPW5ldyBRKCJQbHVnaW5TZXR0aW5ncyIsIiNhNmQxODkiKSxLaD1JKCJpbnB1dERlZmF1bHQiLCJpbnB1dFdyYXBwZXIiKSxKMj1JKCJidXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZWQiKSxRMj1yZSgoKT0+VWUoIjE4LjU2NEMxNS43OTcgMTkuMDk5IDE0LjkzMiAxOS40OTggMTQgMTkuNzM4VjIySDEwVjE5LjczOEM5LjA2OSIpKSxWMj1yZSgoKT0+VWUoIjQuNDQwODkyMWUtMTYgQzQuNDc3MTUyNSwtMS43NzYzNTY4NGUtMTUgNC40NDA4OTIxZS0xNiIpKX0pO3ZhciBYaD17fTt2ZShYaCx7ZGVmYXVsdDooKT0+b3d9KTt2YXIgb3csSmg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1poKCk7V28oKTtvdz1CbihvdSwiUGx1Z2lucyIpfSk7ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIGUuZGlzYWJsZWQmJihlLnN0eWxlPz89e30sZS5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIixlWyJhcmlhLWRpc2FibGVkIl09ITApLG8oImEiLHtyb2xlOiJsaW5rIix0YXJnZXQ6Il9ibGFuayIsLi4uZX0sZS5jaGlsZHJlbil9dmFyIHdvPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciBRaD17fTt2ZShRaCx7ZGVmYXVsdDooKT0+bHd9KTtmdW5jdGlvbiBpdyh7bGluazplfSl7bGV0W3QsbixyXT1WZSgoKT0+ZihlKS50aGVuKHM9PntpZihzLnN0YXR1cz4zMDApdGhyb3dgJHtzLnN0YXR1c30gJHtzLnN0YXR1c1RleHR9YDtsZXQgYz1zLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKTtpZighYz8uc3RhcnRzV2l0aCgidGV4dC9jc3MiKSYmIWM/LnN0YXJ0c1dpdGgoInRleHQvcGxhaW4iKSl0aHJvdyJOb3QgYSBDU1MgZmlsZS4gUmVtZW1iZXIgdG8gdXNlIHRoZSByYXcgbGluayEiO3JldHVybiJPa2F5ISJ9KSksaT1yPyJDaGVja2luZy4uLiI6bj9gRXJyb3I6ICR7biBpbnN0YW5jZW9mIEVycm9yP24ubWVzc2FnZTpTdHJpbmcobil9YDoiVmFsaWQhIjtyZXR1cm4gbyhiLkZvcm1UZXh0LHtzdHlsZTp7Y29sb3I6cj8idmFyKC0tdGV4dC1tdXRlZCkiOm4/InZhcigtLXRleHQtZGFuZ2VyKSI6InZhcigtLXRleHQtcG9zaXRpdmUpIn19LGkpfWZ1bmN0aW9uIHN3KHt0aGVtZUxpbmtzOmV9KXtyZXR1cm4gZS5sZW5ndGg/byhtLG51bGwsbyhiLkZvcm1UaXRsZSx7Y2xhc3NOYW1lOnoudG9wMjAsdGFnOiJoNSJ9LCJWYWxpZGF0b3IiKSxvKGIuRm9ybVRleHQsbnVsbCwiVGhpcyBzZWN0aW9uIHdpbGwgdGVsbCB5b3Ugd2hldGhlciB5b3VyIHRoZW1lcyBjYW4gc3VjY2Vzc2Z1bGx5IGJlIGxvYWRlZCIpLG8oImRpdiIsbnVsbCxlLm1hcCh0PT5vKEZ0LHtzdHlsZTp7cGFkZGluZzoiLjVlbSIsbWFyZ2luQm90dG9tOiIuNWVtIixtYXJnaW5Ub3A6Ii41ZW0ifSxrZXk6dH0sbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsc3R5bGU6e292ZXJmbG93V3JhcDoiYnJlYWstd29yZCJ9fSx0KSxvKGl3LHtsaW5rOnR9KSkpKSk6bnVsbH1mdW5jdGlvbiBhdygpe2xldCBlPXB0KFsidGhlbWVMaW5rcyJdKSxbdCxuXT1BLnVzZVN0YXRlKGUudGhlbWVMaW5rcy5qb2luKGAKYCkpO2Z1bmN0aW9uIHIoKXtlLnRoZW1lTGlua3M9Wy4uLm5ldyBTZXQodC50cmltKCkuc3BsaXQoL1xuKy8pLm1hcChpPT5pLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pKV19cmV0dXJuIG8oX24se3RpdGxlOiJUaGVtZXMifSxvKEZ0LHtjbGFzc05hbWU6InZjLXNldHRpbmdzLWNhcmQgdmMtdGV4dC1zZWxlY3RhYmxlIn0sbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJQYXN0ZSBsaW5rcyB0byAudGhlbWUuY3NzIGZpbGVzIGhlcmUiKSxvKGIuRm9ybVRleHQsbnVsbCwiT25lIGxpbmsgcGVyIGxpbmUiKSxvKGIuRm9ybVRleHQsbnVsbCxvKCJzdHJvbmciLG51bGwsIk1ha2Ugc3VyZSB0byB1c2UgdGhlIHJhdyBsaW5rcyBvciBnaXRodWIuaW8gbGlua3MhIikpLG8oYi5Gb3JtRGl2aWRlcix7Y2xhc3NOYW1lOnoudG9wOCsiICIrei5ib3R0b204fSksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJGaW5kIFRoZW1lczoiKSxvKCJkaXYiLHtzdHlsZTp7bWFyZ2luQm90dG9tOiIuNWVtIn19LG8obHQse3N0eWxlOnttYXJnaW5SaWdodDoiLjVlbSJ9LGhyZWY6Imh0dHBzOi8vYmV0dGVyZGlzY29yZC5hcHAvdGhlbWVzIn0sIkJldHRlckRpc2NvcmQgVGhlbWVzIiksbyhsdCx7aHJlZjoiaHR0cHM6Ly9naXRodWIuY29tL3NlYXJjaD9xPWRpc2NvcmQrdGhlbWUifSwiR2l0SHViIikpLG8oYi5Gb3JtVGV4dCxudWxsLCdJZiB1c2luZyB0aGUgQkQgc2l0ZSwgY2xpY2sgb24gIlNvdXJjZSIgc29tZXdoZXJlIGJlbG93IHRoZSBEb3dubG9hZCBidXR0b24nKSxvKGIuRm9ybVRleHQsbnVsbCwnSW4gdGhlIEdpdEh1YiByZXBvc2l0b3J5IG9mIHlvdXIgdGhlbWUsIGZpbmQgWC50aGVtZS5jc3MsIGNsaWNrIG9uIGl0LCB0aGVuIGNsaWNrIHRoZSAiUmF3IiBidXR0b24nKSxvKGIuRm9ybVRleHQsbnVsbCwiSWYgdGhlIHRoZW1lIGhhcyBjb25maWd1cmF0aW9uIHRoYXQgcmVxdWlyZXMgeW91IHRvIGVkaXQgdGhlIGZpbGU6IixvKCJ1bCIsbnVsbCxvKCJsaSIsbnVsbCwiXHUyMDIyIE1ha2UgYSAiLG8obHQse2hyZWY6Imh0dHBzOi8vZ2l0aHViLmNvbS9zaWdudXAifSwiR2l0SHViIiksIiBhY2NvdW50IiksbygibGkiLG51bGwsIlx1MjAyMiBDbGljayB0aGUgZm9yayBidXR0b24gb24gdGhlIHRvcCByaWdodCIpLG8oImxpIixudWxsLCJcdTIwMjIgRWRpdCB0aGUgZmlsZSIpLG8oImxpIixudWxsLCJcdTIwMjIgVXNlIHRoZSBsaW5rIHRvIHlvdXIgb3duIHJlcG9zaXRvcnkgaW5zdGVhZCIpLG8oImxpIixudWxsLCJcdTIwMjIgVXNlIHRoZSBsaW5rIHRvIHlvdXIgb3duIHJlcG9zaXRvcnkgaW5zdGVhZCAiKSxvKCJsaSIsbnVsbCwiT1IiKSxvKCJsaSIsbnVsbCwiXHUyMDIyIFBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGUgZWRpdGVkIHRoZW1lIGZpbGUgaW50byB0aGUgUXVpY2tDU1MgZWRpdG9yIikpLG8oYi5Gb3JtRGl2aWRlcix7Y2xhc3NOYW1lOnoudG9wOCsiICIrei5ib3R0b20xNn0pLG8oUix7b25DbGljazooKT0+VmVuY29yZE5hdGl2ZS5xdWlja0Nzcy5vcGVuRWRpdG9yKCksc2l6ZTpSLlNpemVzLlNNQUxMfSwiT3BlbiBRdWlja0NTUyBGaWxlIikpKSxvKGIuRm9ybVRpdGxlLHt0YWc6Img1In0sIlRoZW1lcyIpLG8obXMse3ZhbHVlOnQsb25DaGFuZ2U6bixjbGFzc05hbWU6YCR7cncudGV4dGFyZWF9IHZjLXNldHRpbmdzLXRoZW1lLWxpbmtzYCxwbGFjZWhvbGRlcjoiVGhlbWUgTGlua3MiLHNwZWxsQ2hlY2s6ITEsb25CbHVyOnJ9KSxvKHN3LHt0aGVtZUxpbmtzOmUudGhlbWVMaW5rc30pKX12YXIgcncsbHcsVmg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt3bygpO2V0KCk7Z2UoKTtCKCk7TSgpO1dvKCk7cnc9TmUoZT0+dHlwZW9mIGUudGV4dGFyZWE9PSJzdHJpbmciKTtsdz1CbihhdywiVGhlbWVzIil9KTtmdW5jdGlvbiB0YSh7dmFsdWU6ZSxvbkNoYW5nZTp0LHZhbGlkYXRlOm59KXtsZXRbcixpXT1BLnVzZVN0YXRlKGUpLFtzLGNdPUEudXNlU3RhdGUoKTtmdW5jdGlvbiB1KHApe2kocCk7bGV0IHk9bihwKTt5PT09ITA/KGModm9pZCAwKSx0KHApKTpjKHkpfXJldHVybiBvKG0sbnVsbCxvKERlLHt0eXBlOiJ0ZXh0Iix2YWx1ZTpyLG9uQ2hhbmdlOnUsZXJyb3I6c30pKX12YXIgcnU9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO00oKX0pO3ZhciBleT17fTt2ZShleSx7ZGVmYXVsdDooKT0+bXd9KTtmdW5jdGlvbiBjdyhlKXt0cnl7cmV0dXJuIG5ldyBVUkwoZSksITB9Y2F0Y2h7cmV0dXJuIkludmFsaWQgVVJMIn19YXN5bmMgZnVuY3Rpb24gdXcoKXtsZXQgZT1hd2FpdCBmKG5ldyBVUkwoIi92MS8iLHlvKCkpLHttZXRob2Q6IkRFTEVURSIsaGVhZGVyczpuZXcgSGVhZGVycyh7QXV0aG9yaXphdGlvbjphd2FpdCBtcigpfSl9KTtpZighZS5vayl7JHMuZXJyb3IoYEZhaWxlZCB0byBlcmFzZSBkYXRhLCBBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c31gKSxTZSh7dGl0bGU6IkNsb3VkIEludGVncmF0aW9ucyIsYm9keTpgQ291bGQgbm90IGVyYXNlIGFsbCBkYXRhIChBUEkgcmV0dXJuZWQgJHtlLnN0YXR1c30pLCBwbGVhc2UgY29udGFjdCBzdXBwb3J0LmAsY29sb3I6InZhcigtLXJlZC0zNjApIn0pO3JldHVybn1OLmNsb3VkLmF1dGhlbnRpY2F0ZWQ9ITEsYXdhaXQgUmMoKSxTZSh7dGl0bGU6IkNsb3VkIEludGVncmF0aW9ucyIsYm9keToiU3VjY2Vzc2Z1bGx5IGVyYXNlZCBhbGwgZGF0YS4iLGNvbG9yOiJ2YXIoLS1ncmVlbi0zNjApIn0pfWZ1bmN0aW9uIHB3KCl7bGV0e2Nsb3VkOmV9PXB0KFsiY2xvdWQuYXV0aGVudGljYXRlZCIsImNsb3VkLnNldHRpbmdzU3luYyJdKSx0PWUuYXV0aGVudGljYXRlZCYmZS5zZXR0aW5nc1N5bmM7cmV0dXJuIG8oYi5Gb3JtU2VjdGlvbix7dGl0bGU6IlNldHRpbmdzIFN5bmMiLGNsYXNzTmFtZTp6LnRvcDE2fSxvKGIuRm9ybVRleHQse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIixjbGFzc05hbWU6ei5ib3R0b20yMH0sIlN5bmNocm9uaXplIHlvdXIgc2V0dGluZ3MgdG8gdGhlIGNsb3VkLiBUaGlzIGFsbG93cyBlYXN5IHN5bmNocm9uaXphdGlvbiBhY3Jvc3MgbXVsdGlwbGUgZGV2aWNlcyB3aXRoIG1pbmltYWwgZWZmb3J0LiIpLG8oaHQse2tleToiY2xvdWQtc3luYyIsZGlzYWJsZWQ6IWUuYXV0aGVudGljYXRlZCx2YWx1ZTplLnNldHRpbmdzU3luYyxvbkNoYW5nZTpuPT57ZS5zZXR0aW5nc1N5bmM9bn19LCJTZXR0aW5ncyBTeW5jIiksbygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy1jbG91ZC1zZXR0aW5ncy1zeW5jLWdyaWQifSxvKFIse3NpemU6Ui5TaXplcy5TTUFMTCxkaXNhYmxlZDohdCxvbkNsaWNrOigpPT5mcighMCl9LCJTeW5jIHRvIENsb3VkIiksbyhaLHt0ZXh0OiJUaGlzIHdpbGwgb3ZlcndyaXRlIHlvdXIgbG9jYWwgc2V0dGluZ3Mgd2l0aCB0aGUgb25lcyBvbiB0aGUgY2xvdWQuIFVzZSB3aXNlbHkhIn0sKHtvbk1vdXNlTGVhdmU6bixvbk1vdXNlRW50ZXI6cn0pPT5vKFIse29uTW91c2VMZWF2ZTpuLG9uTW91c2VFbnRlcjpyLHNpemU6Ui5TaXplcy5TTUFMTCxjb2xvcjpSLkNvbG9ycy5SRUQsZGlzYWJsZWQ6IXQsb25DbGljazooKT0+enMoITAsITApfSwiU3luYyBmcm9tIENsb3VkIikpLG8oUix7c2l6ZTpSLlNpemVzLlNNQUxMLGNvbG9yOlIuQ29sb3JzLlJFRCxkaXNhYmxlZDohdCxvbkNsaWNrOigpPT5saCgpfSwiRGVsZXRlIENsb3VkIFNldHRpbmdzIikpKX1mdW5jdGlvbiBkdygpe2xldCBlPXB0KFsiY2xvdWQuYXV0aGVudGljYXRlZCIsImNsb3VkLnVybCJdKTtyZXR1cm4gbyhfbix7dGl0bGU6IlZlbmNvcmQgQ2xvdWQifSxvKGIuRm9ybVNlY3Rpb24se3RpdGxlOiJDbG91ZCBTZXR0aW5ncyIsY2xhc3NOYW1lOnoudG9wMTZ9LG8oYi5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwiLGNsYXNzTmFtZTp6LmJvdHRvbTIwfSwiVmVuY29yZCBjb21lcyB3aXRoIGEgY2xvdWQgaW50ZWdyYXRpb24gdGhhdCBhZGRzIGdvb2RpZXMgbGlrZSBzZXR0aW5ncyBzeW5jIGFjcm9zcyBkZXZpY2VzLiBJdCAiLG8obHQse2hyZWY6Imh0dHBzOi8vdmVuY29yZC5kZXYvY2xvdWQvcHJpdmFjeSJ9LCJyZXNwZWN0cyB5b3VyIHByaXZhY3kiKSwiLCBhbmQgdGhlICIsbyhsdCx7aHJlZjoiaHR0cHM6Ly9naXRodWIuY29tL1ZlbmNvcmQvQmFja2VuZCJ9LCJzb3VyY2UgY29kZSIpLCIgaXMgQUdQTCAzLjAgbGljZW5zZWQgc28geW91IGNhbiBob3N0IGl0IHlvdXJzZWxmLiIpLG8oaHQse2tleToiYmFja2VuZCIsdmFsdWU6ZS5jbG91ZC5hdXRoZW50aWNhdGVkLG9uQ2hhbmdlOnQ9Pnt0JiZuaCgpLHR8fChlLmNsb3VkLmF1dGhlbnRpY2F0ZWQ9dCl9LG5vdGU6IlRoaXMgd2lsbCByZXF1ZXN0IGF1dGhvcml6YXRpb24gaWYgeW91IGhhdmUgbm90IHlldCBzZXQgdXAgY2xvdWQgaW50ZWdyYXRpb25zLiJ9LCJFbmFibGUgQ2xvdWQgSW50ZWdyYXRpb25zIiksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSJ9LCJCYWNrZW5kIFVSTCIpLG8oYi5Gb3JtVGV4dCx7Y2xhc3NOYW1lOnouYm90dG9tOH0sIldoaWNoIGJhY2tlbmQgdG8gdXNlIHdoZW4gdXNpbmcgY2xvdWQgaW50ZWdyYXRpb25zLiIpLG8odGEse2tleToiYmFja2VuZFVybCIsdmFsdWU6ZS5jbG91ZC51cmwsb25DaGFuZ2U6dD0+e2UuY2xvdWQudXJsPXQsZS5jbG91ZC5hdXRoZW50aWNhdGVkPSExLFJjKCl9LHZhbGlkYXRlOmN3fSksbyhSLHtjbGFzc05hbWU6ei50b3A4LHNpemU6Ui5TaXplcy5NRURJVU0sY29sb3I6Ui5Db2xvcnMuUkVELGRpc2FibGVkOiFlLmNsb3VkLmF1dGhlbnRpY2F0ZWQsb25DbGljazooKT0+SXQuc2hvdyh7dGl0bGU6IkFyZSB5b3Ugc3VyZT8iLGJvZHk6Ik9uY2UgeW91ciBkYXRhIGlzIGVyYXNlZCwgd2UgY2Fubm90IHJlY292ZXIgaXQuIFRoZXJlJ3Mgbm8gZ29pbmcgYmFjayEiLG9uQ29uZmlybTp1dyxjb25maXJtVGV4dDoiRXJhc2UgaXQhIixjb25maXJtQ29sb3I6InZjLWNsb3VkLWVyYXNlLWRhdGEtZGFuZ2VyLWJ0biIsY2FuY2VsVGV4dDoiTmV2ZXJtaW5kIn0pfSwiRXJhc2UgQWxsIERhdGEiKSxvKGIuRm9ybURpdmlkZXIse2NsYXNzTmFtZTp6LnRvcDE2fSkpLG8ocHcsbnVsbCkpfXZhciBtdyx0eT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Zm8oKTtGKCk7cnUoKTt3bygpO2tjKCk7ZXQoKTtjaSgpO00oKTtXbygpO213PUJuKGR3LCJDbG91ZCIpfSk7dmFyIG55PXt9O3ZlKG55LHtkZWZhdWx0OigpPT5nd30pO2Z1bmN0aW9uIGZ3KCl7cmV0dXJuIG8oX24se3RpdGxlOiJCYWNrdXAgJiBSZXN0b3JlIn0sbyhGdCx7Y2xhc3NOYW1lOmVlKCJ2Yy1zZXR0aW5ncy1jYXJkIiwidmMtYmFja3VwLXJlc3RvcmUtY2FyZCIpfSxvKGNlLHtmbGV4RGlyZWN0aW9uOiJjb2x1bW4ifSxvKCJzdHJvbmciLG51bGwsIldhcm5pbmciKSxvKCJzcGFuIixudWxsLCJJbXBvcnRpbmcgYSBzZXR0aW5ncyBmaWxlIHdpbGwgb3ZlcndyaXRlIHlvdXIgY3VycmVudCBzZXR0aW5ncy4iKSkpLG8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIixjbGFzc05hbWU6ei5ib3R0b204fSwiWW91IGNhbiBpbXBvcnQgYW5kIGV4cG9ydCB5b3VyIFZlbmNvcmQgc2V0dGluZ3MgYXMgYSBKU09OIGZpbGUuIFRoaXMgYWxsb3dzIHlvdSB0byBlYXNpbHkgdHJhbnNmZXIgeW91ciBzZXR0aW5ncyB0byBhbm90aGVyIGRldmljZSwgb3IgcmVjb3ZlciB5b3VyIHNldHRpbmdzIGFmdGVyIHJlaW5zdGFsbGluZyBWZW5jb3JkIG9yIERpc2NvcmQuIiksbyh0ZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwiLGNsYXNzTmFtZTp6LmJvdHRvbTh9LCJTZXR0aW5ncyBFeHBvcnQgY29udGFpbnM6IixvKCJ1bCIsbnVsbCxvKCJsaSIsbnVsbCwiXHUyMDE0IEN1c3RvbSBRdWlja0NTUyIpLG8oImxpIixudWxsLCJcdTIwMTQgVGhlbWUgTGlua3MiKSxvKCJsaSIsbnVsbCwiXHUyMDE0IFBsdWdpbiBTZXR0aW5ncyIpKSksbyhjZSxudWxsLG8oUix7b25DbGljazooKT0+YWgoKSxzaXplOlIuU2l6ZXMuU01BTEx9LCJJbXBvcnQgU2V0dGluZ3MiKSxvKFIse29uQ2xpY2s6aWgsc2l6ZTpSLlNpemVzLlNNQUxMfSwiRXhwb3J0IFNldHRpbmdzIikpKX12YXIgZ3csb3k9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3Z0KCk7ZXQoKTt5ZSgpO2NpKCk7TSgpO1dvKCk7Z3c9Qm4oZncsIkJhY2t1cCAmIFJlc3RvcmUiKX0pO3ZhciB5aSxpdT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3QoKTtGKCk7UCgpO3dlKCk7eCgpO00oKTskcigpO3lpPXYoe25hbWU6IlNldHRpbmdzIixkZXNjcmlwdGlvbjoiQWRkcyBTZXR0aW5ncyBVSSBhbmQgZGVidWcgaW5mbyIsYXV0aG9yczpbZC5WZW4sZC5NZWd1XSxyZXF1aXJlZDohMCxzdGFydCgpe3BlKCJ1c2VyLXNldHRpbmdzLWNvZyIsZT0+KCk9PntlLmZpbmQobj0+QXJyYXkuaXNBcnJheShuKSYmbi5zb21lKHI9PnI/LnByb3BzPy5pZD09PSJWZW5jb3JkU2V0dGluZ3MiKSk/LmZvckVhY2gobj0+e24/LnByb3BzPy5pZD8uc3RhcnRzV2l0aCgiVmVuY29yZCIpJiYobi5wcm9wcy5hY3Rpb249KCk9PlRzLm9wZW4obi5wcm9wcy5pZCkpfSl9KX0scGF0Y2hlczpbe2ZpbmQ6Ii52ZXJzaW9uSGFzaCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovXFtcKDAsLnsxLDN9XC5qc3hzP1wpXCgoLnsxLDEwfSksKFx7W157fX1dK1x7LnswLDIwfS52ZXJzaW9uSGFzaCwuKz9cfSlcKSwiICIvLHJlcGxhY2U6KGUsdCxuKT0+KG49bi5yZXBsYWNlKC9jaGlsZHJlbjpcWy4rXF0vLCIiKSxgJHtlfSxWZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5TZXR0aW5ncy5tYWtlSW5mb0VsZW1lbnRzKCR7dH0sICR7bn0pYCl9XX0se2ZpbmQ6Ik1lc3NhZ2VzLkFDVElWSVRZX1NFVFRJTkdTIixyZXBsYWNlbWVudDp7Z2V0IG1hdGNoKCl7c3dpdGNoKE4ucGx1Z2lucy5TZXR0aW5ncy5zZXR0aW5nc0xvY2F0aW9uKXtjYXNlInRvcCI6cmV0dXJuL1x7c2VjdGlvbjooLnsxLDJ9KVwuSURcLkhFQURFUixccypsYWJlbDooLnsxLDJ9KVwuLnsxLDJ9XC5NZXNzYWdlc1wuVVNFUl9TRVRUSU5HU1x9LztjYXNlImFib3ZlTml0cm8iOnJldHVybi9ce3NlY3Rpb246KC57MSwyfSlcLklEXC5IRUFERVIsXHMqbGFiZWw6KC57MSwyfSlcLi57MSwyfVwuTWVzc2FnZXNcLkJJTExJTkdfU0VUVElOR1NcfS87Y2FzZSJiZWxvd05pdHJvIjpyZXR1cm4vXHtzZWN0aW9uOiguezEsMn0pXC5JRFwuSEVBREVSLFxzKmxhYmVsOiguezEsMn0pXC4uezEsMn1cLk1lc3NhZ2VzXC5BUFBfU0VUVElOR1NcfS87Y2FzZSJhYm92ZUFjdGl2aXR5IjpyZXR1cm4vXHtzZWN0aW9uOiguezEsMn0pXC5JRFwuSEVBREVSLFxzKmxhYmVsOiguezEsMn0pXC4uezEsMn1cLk1lc3NhZ2VzXC5BQ1RJVklUWV9TRVRUSU5HU1x9LztjYXNlImJlbG93QWN0aXZpdHkiOnJldHVybi8oPzw9XHtzZWN0aW9uOiguezEsMn0pXC5JRFwuRElWSURFUn0sKVx7c2VjdGlvbjoiY2hhbmdlbG9nIi87Y2FzZSJib3R0b20iOnJldHVybi9ce3NlY3Rpb246KC57MSwyfSlcLklEXC5DVVNUT00sXHMqZWxlbWVudDouKz99LztkZWZhdWx0OnJldHVybiBuZXcgUSgiU2V0dGluZ3MiKS5lcnJvcihuZXcgRXJyb3IoIk5vIHN3aXRjaCBjYXNlIG1hdGNoZWQ/Pz8/PyBEb24ndCBtZXNzIHdpdGggdGhlIHNldHRpbmdzLCBzaWxseSIpKSwvKD8hYSlhL319LHJlcGxhY2U6Ii4uLiRzZWxmLm1ha2VTZXR0aW5nc0NhdGVnb3JpZXMoJDEpLCQmIn19XSxjdXN0b21TZWN0aW9uczpbXSxtYWtlU2V0dGluZ3NDYXRlZ29yaWVzKHtJRDplfSl7cmV0dXJuW3tzZWN0aW9uOmUuSEVBREVSLGxhYmVsOiJWZW5jb3JkIn0se3NlY3Rpb246IlZlbmNvcmRTZXR0aW5ncyIsbGFiZWw6IlZlbmNvcmQiLGVsZW1lbnQ6KHhoKCksX28oVGgpKS5kZWZhdWx0fSx7c2VjdGlvbjoiVmVuY29yZFBsdWdpbnMiLGxhYmVsOiJQbHVnaW5zIixlbGVtZW50OihKaCgpLF9vKFhoKSkuZGVmYXVsdH0se3NlY3Rpb246IlZlbmNvcmRUaGVtZXMiLGxhYmVsOiJUaGVtZXMiLGVsZW1lbnQ6KFZoKCksX28oUWgpKS5kZWZhdWx0fSwhMSx7c2VjdGlvbjoiVmVuY29yZENsb3VkIixsYWJlbDoiQ2xvdWQiLGVsZW1lbnQ6KHR5KCksX28oZXkpKS5kZWZhdWx0fSx7c2VjdGlvbjoiVmVuY29yZFNldHRpbmdzU3luYyIsbGFiZWw6IkJhY2t1cCAmIFJlc3RvcmUiLGVsZW1lbnQ6KG95KCksX28obnkpKS5kZWZhdWx0fSwhMSwhMSwuLi50aGlzLmN1c3RvbVNlY3Rpb25zLm1hcCh0PT50KGUpKSx7c2VjdGlvbjplLkRJVklERVJ9XS5maWx0ZXIoQm9vbGVhbil9LG9wdGlvbnM6e3NldHRpbmdzTG9jYXRpb246e3R5cGU6NCxkZXNjcmlwdGlvbjoiV2hlcmUgdG8gcHV0IHRoZSBWZW5jb3JkIHNldHRpbmdzIHNlY3Rpb24iLG9wdGlvbnM6W3tsYWJlbDoiQXQgdGhlIHZlcnkgdG9wIix2YWx1ZToidG9wIn0se2xhYmVsOiJBYm92ZSB0aGUgTml0cm8gc2VjdGlvbiIsdmFsdWU6ImFib3ZlTml0cm8ifSx7bGFiZWw6IkJlbG93IHRoZSBOaXRybyBzZWN0aW9uIix2YWx1ZToiYmVsb3dOaXRybyJ9LHtsYWJlbDoiQWJvdmUgQWN0aXZpdHkgU2V0dGluZ3MiLHZhbHVlOiJhYm92ZUFjdGl2aXR5IixkZWZhdWx0OiEwfSx7bGFiZWw6IkJlbG93IEFjdGl2aXR5IFNldHRpbmdzIix2YWx1ZToiYmVsb3dBY3Rpdml0eSJ9LHtsYWJlbDoiQXQgdGhlIHZlcnkgYm90dG9tIix2YWx1ZToiYm90dG9tIn1dLHJlc3RhcnROZWVkZWQ6ITB9fSxnZXQgZWxlY3Ryb25WZXJzaW9uKCl7cmV0dXJuIFZlbmNvcmROYXRpdmUubmF0aXZlLmdldFZlcnNpb25zKCkuZWxlY3Ryb258fHVuc2FmZVdpbmRvdy5hcm1jb3JkPy5lbGVjdHJvbnx8bnVsbH0sZ2V0IGNocm9taXVtVmVyc2lvbigpe3RyeXtyZXR1cm4gVmVuY29yZE5hdGl2ZS5uYXRpdmUuZ2V0VmVyc2lvbnMoKS5jaHJvbWV8fG5hdmlnYXRvci51c2VyQWdlbnREYXRhPy5icmFuZHM/LmZpbmQoZT0+ZS5icmFuZD09PSJDaHJvbWl1bSJ8fGUuYnJhbmQ9PT0iR29vZ2xlIENocm9tZSIpPy52ZXJzaW9ufHxudWxsfWNhdGNoe3JldHVybiBudWxsfX0sZ2V0IGFkZGl0aW9uYWxJbmZvKCl7cmV0dXJuIiAoV2ViKSJ9LG1ha2VJbmZvRWxlbWVudHMoZSx0KXtsZXR7ZWxlY3Ryb25WZXJzaW9uOm4sY2hyb21pdW1WZXJzaW9uOnIsYWRkaXRpb25hbEluZm86aX09dGhpcztyZXR1cm4gbyhtLG51bGwsbyhlLHsuLi50fSwiVmVuY29yZCAiLGxuLGkpLG4mJm8oZSx7Li4udH0sIkVsZWN0cm9uICIsbiksciYmbyhlLHsuLi50fSwiQ2hyb21pdW0gIixyKSl9fSl9KTt2YXIgc3Uscnk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7c3U9dih7bmFtZToiQWx3YXlzQW5pbWF0ZSIsZGVzY3JpcHRpb246IkFuaW1hdGVzIGFueXRoaW5nIHRoYXQgY2FuIGJlIGFuaW1hdGVkLCBiZXNpZGVzIHN0YXR1cyBlbW9qaXMuIixhdXRob3JzOltkLkZpZXJ5RmxhbWVzXSxwYXRjaGVzOlt7ZmluZDoiLmNhbkFuaW1hdGUiLGFsbDohMCxyZXBsYWNlbWVudDp7bWF0Y2g6L1wuY2FuQW5pbWF0ZVxiL2cscmVwbGFjZToiLmNhbkFuaW1hdGUgfHwgdHJ1ZSJ9fV19KX0pO3ZhciBhdSxpeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTthdT12KHtuYW1lOiJBbHdheXNUcnVzdCIsZGVzY3JpcHRpb246IlJlbW92ZXMgdGhlIGFubm95aW5nIHVudHJ1c3RlZCBkb21haW4gYW5kIHN1c3BpY2lvdXMgZmlsZSBwb3B1cCIsYXV0aG9yczpbZC56dF0scGF0Y2hlczpbe2ZpbmQ6Jy5kaXNwbGF5TmFtZT0iTWFza2VkTGlua1N0b3JlIicscmVwbGFjZW1lbnQ6e21hdGNoOi9cLmlzVHJ1c3RlZERvbWFpbj1mdW5jdGlvblwoLlwpe3JldHVybi4rP307LyxyZXBsYWNlOiIuaXNUcnVzdGVkRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9OyJ9fSx7ZmluZDonIjd6IiwiYWRlIiwiYWRwIicscmVwbGFjZW1lbnQ6e21hdGNoOi9KU09OXC5wYXJzZVwoJ1xbLis/J1wpLyxyZXBsYWNlOiJbXSJ9fV19KX0pO3ZhciBsdSxzeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7bHU9dih7bmFtZToiQW5vbnltaXNlRmlsZU5hbWVzIixhdXRob3JzOltkLm9ic2N1cml0eV0sZGVzY3JpcHRpb246IkFub255bWlzZSB1cGxvYWRlZCBmaWxlIG5hbWVzIixwYXRjaGVzOlt7ZmluZDoiaW5zdGFudEJhdGNoVXBsb2FkOmZ1bmN0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6L3VwbG9hZEZpbGVzOiguezEsMn0pLC8scmVwbGFjZToidXBsb2FkRmlsZXM6KC4uLmFyZ3MpPT4oYXJnc1swXS51cGxvYWRzLmZvckVhY2goZj0+Zi5maWxlbmFtZT0kc2VsZi5hbm9ueW1pc2UoZi5maWxlbmFtZSkpLCQxKC4uLmFyZ3MpKSwifX1dLG9wdGlvbnM6e21ldGhvZDp7ZGVzY3JpcHRpb246IkFub255bWlzaW5nIG1ldGhvZCIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiUmFuZG9tIENoYXJhY3RlcnMiLHZhbHVlOjAsZGVmYXVsdDohMH0se2xhYmVsOiJDb25zaXN0ZW50Iix2YWx1ZToxfSx7bGFiZWw6IlRpbWVzdGFtcCAoNGNoYW4tbGlrZSkiLHZhbHVlOjJ9XX0scmFuZG9taXNlZExlbmd0aDp7ZGVzY3JpcHRpb246IlJhbmRvbSBjaGFyYWN0ZXJzIGxlbmd0aCIsdHlwZToxLGRlZmF1bHQ6NyxkaXNhYmxlZDooKT0+Ti5wbHVnaW5zLkFub255bWlzZUZpbGVOYW1lcy5tZXRob2QhPT0wfSxjb25zaXN0ZW50OntkZXNjcmlwdGlvbjoiQ29uc2lzdGVudCBmaWxlbmFtZSIsdHlwZTowLGRlZmF1bHQ6ImltYWdlIixkaXNhYmxlZDooKT0+Ti5wbHVnaW5zLkFub255bWlzZUZpbGVOYW1lcy5tZXRob2QhPT0xfX0sYW5vbnltaXNlKGUpe2xldCB0PSJpbWFnZSIsbj1lLmxhc3RJbmRleE9mKCIuIikscj1uIT09LTE/ZS5zbGljZShuKToiIjtzd2l0Y2goTi5wbHVnaW5zLkFub255bWlzZUZpbGVOYW1lcy5tZXRob2Qpe2Nhc2UgMDpsZXQgaT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiO3Q9QXJyYXkuZnJvbSh7bGVuZ3RoOk4ucGx1Z2lucy5Bbm9ueW1pc2VGaWxlTmFtZXMucmFuZG9taXNlZExlbmd0aH0sKCk9PmlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmkubGVuZ3RoKV0pLmpvaW4oIiIpO2JyZWFrO2Nhc2UgMTp0PU4ucGx1Z2lucy5Bbm9ueW1pc2VGaWxlTmFtZXMuY29uc2lzdGVudDticmVhaztjYXNlIDI6dD1gJHtNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKX0ke01hdGguZmxvb3IodW5zYWZlV2luZG93LnBlcmZvcm1hbmNlLm5vdygpKX1gO2JyZWFrfXJldHVybiB0K3J9fSl9KTthc3luYyBmdW5jdGlvbiBheShlLHQpe3JldHVybihhd2FpdCBody5nZXRBc3NldChlLFt0LHZvaWQgMF0pKVswXX1hc3luYyBmdW5jdGlvbiB2dyhlKXtsZXQgdD17fTtyZXR1cm4gYXdhaXQgeXcodCxlKSx0LmFwcGxpY2F0aW9ufXZhciBodyx5dyxseSxTcixjdSxjeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WnMoKTt3bygpO1AoKTt4KCk7QigpO00oKTtodz1KZSgiZ2V0QXNzZXRJbWFnZTogc2l6ZSBtdXN0ID09PSBbbnVtYmVyLCBudW1iZXJdIGZvciBUd2l0Y2giLHtnZXRBc3NldDpKLmJ5Q29kZSgiYXBwbHkoIil9KSx5dz1kZSgiLkFQUExJQ0FUSU9OX1JQQygiKTtseT17fTtjdT12KHtuYW1lOiJXZWJSaWNoUHJlc2VuY2UgKGFyUlBDKSIsZGVzY3JpcHRpb246IkNsaWVudCBwbHVnaW4gZm9yIGFyUlBDIHRvIGVuYWJsZSBSUEMgb24gRGlzY29yZCBXZWIgKGV4cGVyaW1lbnRhbCkiLGF1dGhvcnM6W2QuRHVja29dLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KCk9Pm8obSxudWxsLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDMifSwiSG93IHRvIHVzZSBhclJQQyIpLG8oYi5Gb3JtVGV4dCxudWxsLG8obHQse2hyZWY6Imh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuQXNhci9hcnJwYy90cmVlL21haW4jc2VydmVyIn0sIkZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBHaXRIdWIgcmVwbyIpLCIgdG8gZ2V0IHRoZSBzZXJ2ZXIgcnVubmluZywgYW5kIHRoZW4gZW5hYmxlIHRoZSBwbHVnaW4uIikpLGFzeW5jIHN0YXJ0KCl7aWYoImFybWNvcmQiaW4gdW5zYWZlV2luZG93KXJldHVybjtpZihTciYmU3IuY2xvc2UoKSxTcj1uZXcgV2ViU29ja2V0KCJ3czovLzEyNy4wLjAuMToxMzM3IiksU3Iub25tZXNzYWdlPWFzeW5jIHQ9PntsZXQgbj1KU09OLnBhcnNlKHQuZGF0YSk7aWYobi5hY3Rpdml0eT8uYXNzZXRzPy5sYXJnZV9pbWFnZSYmKG4uYWN0aXZpdHkuYXNzZXRzLmxhcmdlX2ltYWdlPWF3YWl0IGF5KG4uYWN0aXZpdHkuYXBwbGljYXRpb25faWQsbi5hY3Rpdml0eS5hc3NldHMubGFyZ2VfaW1hZ2UpKSxuLmFjdGl2aXR5Py5hc3NldHM/LnNtYWxsX2ltYWdlJiYobi5hY3Rpdml0eS5hc3NldHMuc21hbGxfaW1hZ2U9YXdhaXQgYXkobi5hY3Rpdml0eS5hcHBsaWNhdGlvbl9pZCxuLmFjdGl2aXR5LmFzc2V0cy5zbWFsbF9pbWFnZSkpLG4uYWN0aXZpdHkpe2xldCByPW4uYWN0aXZpdHkuYXBwbGljYXRpb25faWQ7bHlbcl18fD1hd2FpdCB2dyhyKTtsZXQgaT1seVtyXTtuLmFjdGl2aXR5Lm5hbWV8fD1pLm5hbWV9Xy5kaXNwYXRjaCh7dHlwZToiTE9DQUxfQUNUSVZJVFlfVVBEQVRFIiwuLi5ufSl9LCFhd2FpdCBuZXcgUHJvbWlzZSh0PT5zZXRUaW1lb3V0KCgpPT50KFNyLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTiksMWUzKSkpe21pKCJGYWlsZWQgdG8gY29ubmVjdCB0byBhclJQQywgaXMgaXQgcnVubmluZz8iLCJSZXRyeSIsKCk9PntCYygpLHRoaXMuc3RhcnQoKX0pO3JldHVybn1LLnNob3coe21lc3NhZ2U6IkNvbm5lY3RlZCB0byBhclJQQyIsdHlwZTpLLlR5cGUuU1VDQ0VTUyxpZDpLLmdlbklkKCksb3B0aW9uczp7ZHVyYXRpb246MWUzLHBvc2l0aW9uOksuUG9zaXRpb24uQk9UVE9NfX0pfSxzdG9wKCl7Xy5kaXNwYXRjaCh7dHlwZToiTE9DQUxfQUNUSVZJVFlfVVBEQVRFIixhY3Rpdml0eTpudWxsfSksU3I/LmNsb3NlKCl9fSl9KTt2YXIgdXUsdXk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7dXU9dih7bmFtZToiQkFOZ2VyIixkZXNjcmlwdGlvbjoiUmVwbGFjZXMgdGhlIEdJRiBpbiB0aGUgYmFuIGRpYWxvZ3VlIHdpdGggYSBjdXN0b20gb25lLiIsYXV0aG9yczpbZC5YaW50byxkLkdsaXRjaF0scGF0Y2hlczpbe2ZpbmQ6IkJBTl9DT05GSVJNX1RJVExFLiIscmVwbGFjZW1lbnQ6e21hdGNoOi9zcmM6XHdcKFxkK1wpL2cscmVwbGFjZToic3JjOiBWZW5jb3JkLlNldHRpbmdzLnBsdWdpbnMuQkFOZ2VyLnNvdXJjZSJ9fV0sb3B0aW9uczp7c291cmNlOntkZXNjcmlwdGlvbjoiU291cmNlIHRvIHJlcGxhY2UgYmFuIEdJRiB3aXRoIChWaWRlbyBvciBHaWYpIix0eXBlOjAsZGVmYXVsdDoiaHR0cHM6Ly9pLmltZ3VyLmNvbS93cDVxNTJDLm1wNCIscmVzdGFydE5lZWRlZDohMH19fSl9KTt2YXIgcHk9ZygoKT0+e30pO2Z1bmN0aW9uIGJ3KGUpe2xldCB0PVZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLkJldHRlckZvbGRlcnMuR3VpbGRzKGUpLG49dC5wcm9wcy5jaGlsZHJlbj8ucHJvcHM/LmNoaWxkcmVuPy5wcm9wcz8uY2hpbGRyZW4/LlsxXT8ucHJvcHM7aWYobj8uY2hpbGRyZW4pe2xldCByPW4uY2hpbGRyZW4uZmluZChpPT5pPy5wcm9wcz8uWyJhcmlhLWxhYmVsIl09PT1jdC5NZXNzYWdlcy5TRVJWRVJTKTtyJiYobi5jaGlsZHJlbj1yKX1yZXR1cm4gdH12YXIgU3csZHksbXksZnksZ3ksaHkseXk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtIZSgpO3NlKCk7QigpO00oKTtTdz1MZSgidmMtYmYtIiksZHk9SSgic2lkZWJhciIsImd1aWxkcyIpLG15PUkoImEiLCJhbmltYXRlZCIsInVzZVRyYW5zaXRpb24iKSxmeT1sZSgiQ2hhbm5lbFJUQ1N0b3JlIiksZ3k9bGUoIkV4cGFuZGVkR3VpbGRGb2xkZXJTdG9yZSIpO2h5PUQud3JhcCgoKT0+e2xldCBlPVdlKFtneV0sKCk9Pmd5LmdldEV4cGFuZGVkRm9sZGVycygpKSx0PVdlKFtmeV0sKCk9PmZ5LmlzRnVsbHNjcmVlbkluQ29udGV4dCgpKSxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2R5Lmd1aWxkc31gKSxyPSEhZS5zaXplLGk9U3coImZvbGRlci1zaWRlYmFyIix7ZnVsbHNjcmVlbjp0fSkscz1vKGJ3LHtjbGFzc05hbWU6ZHkuZ3VpbGRzLGJmR3VpbGRGb2xkZXJzOkFycmF5LmZyb20oZSl9KTtyZXR1cm4hbnx8IU4ucGx1Z2lucy5CZXR0ZXJGb2xkZXJzLnNpZGViYXJBbmltP3I/bygiZGl2Iix7Y2xhc3NOYW1lOml9LHMpOm51bGw6byhteS5UcmFuc2l0aW9uLHtpdGVtczpyLGZyb206e3dpZHRoOjB9LGVudGVyOnt3aWR0aDpuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofSxsZWF2ZTp7d2lkdGg6MH0sY29uZmlnOntkdXJhdGlvbjoyMDB9fSwoYyx1KT0+dSYmbyhteS5hbmltYXRlZC5kaXYse3N0eWxlOmMsY2xhc3NOYW1lOml9LHMpKX0se25vb3A6ITB9KX0pO3ZhciBUdyx4dyxwdSxkdSxWbixtdSx2eT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7cHkoKTtGKCk7UCgpO3goKTtCKCk7TSgpO3l5KCk7VHc9TmUoZT0+ZS5wcm90b3R5cGU/LmNvbnZlcnRUb0ZvbGRlcikseHc9bGUoIlNvcnRlZEd1aWxkU3RvcmUiKSxwdT1sZSgiRXhwYW5kZWRHdWlsZEZvbGRlclN0b3JlIiksZHU9SSgibW92ZSIsInRvZ2dsZUd1aWxkRm9sZGVyRXhwYW5kIiksVm49RSh7c2lkZWJhcjp7dHlwZTozLGRlc2NyaXB0aW9uOiJEaXNwbGF5IHNlcnZlcnMgZnJvbSBmb2xkZXIgb24gZGVkaWNhdGVkIHNpZGViYXIiLGRlZmF1bHQ6ITB9LHNpZGViYXJBbmltOnt0eXBlOjMsZGVzY3JpcHRpb246IkFuaW1hdGUgb3BlbmluZyB0aGUgZm9sZGVyIHNpZGViYXIiLGRlZmF1bHQ6ITB9LGNsb3NlQWxsRm9sZGVyczp7dHlwZTozLGRlc2NyaXB0aW9uOiJDbG9zZSBhbGwgZm9sZGVycyB3aGVuIHNlbGVjdGluZyBhIHNlcnZlciBub3QgaW4gYSBmb2xkZXIiLGRlZmF1bHQ6ITF9LGNsb3NlQWxsSG9tZUJ1dHRvbjp7dHlwZTozLGRlc2NyaXB0aW9uOiJDbG9zZSBhbGwgZm9sZGVycyB3aGVuIGNsaWNraW5nIG9uIHRoZSBob21lIGJ1dHRvbiIsZGVmYXVsdDohMX0sY2xvc2VPdGhlcnM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiQ2xvc2Ugb3RoZXIgZm9sZGVycyB3aGVuIG9wZW5pbmcgYSBmb2xkZXIiLGRlZmF1bHQ6ITF9LGZvcmNlT3Blbjp7dHlwZTozLGRlc2NyaXB0aW9uOiJGb3JjZSBhIGZvbGRlciB0byBvcGVuIHdoZW4gc3dpdGNoaW5nIHRvIGEgc2VydmVyIG9mIHRoYXQgZm9sZGVyIixkZWZhdWx0OiExfX0pLG11PXYoe25hbWU6IkJldHRlckZvbGRlcnMiLGRlc2NyaXB0aW9uOiJTaG93cyBzZXJ2ZXIgZm9sZGVycyBvbiBkZWRpY2F0ZWQgc2lkZWJhciBhbmQgYWRkcyBmb2xkZXIgcmVsYXRlZCBpbXByb3ZlbWVudHMiLGF1dGhvcnM6W2QuanVieSxkLkF1dHVtblZOXSxwYXRjaGVzOlt7ZmluZDonKCJndWlsZHNuYXYiKScscHJlZGljYXRlOigpPT5Wbi5zdG9yZS5zaWRlYmFyLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhcaSlcKFwpe3JldHVybiBcaVwoXCgwLFxpXC5qc3hcKVwoImRpdiIse2NsYXNzTmFtZTpcaVwoXClcLmd1aWxkU2VwYXJhdG9yfVwpXCl9LyxyZXBsYWNlOiIkJiRzZWxmLlNlcGFyYXRvcj0kMTsifSx7bWF0Y2g6L1xpXChcKGZ1bmN0aW9uXChcaSxcaSxcaVwpe3ZhciBcaT1caVwua2V5O3JldHVybi4rXChcaVwpfSxcaVwpfVwpXCkvLHJlcGxhY2U6ImFyZ3VtZW50c1swXS5iZkhpZGVTZXJ2ZXJzP251bGw6JCYifSx7bWF0Y2g6LyhcaSlcLnRoZW1lT3ZlcnJpZGUsKC57MTUsMjV9XChmdW5jdGlvblwoXCl7dmFyIFxpPSkoXGlcLlxpXC5nZXRHdWlsZHNUcmVlXChcKSkvLHJlcGxhY2U6IiQxLnRoZW1lT3ZlcnJpZGUsYmZQYXRjaD0kMS5iZkd1aWxkRm9sZGVycywkMmJmUGF0Y2g/JHNlbGYuZ2V0R3VpbGRzVHJlZShiZlBhdGNoLCQzKTokMyJ9LHttYXRjaDovcmV0dXJuKFwoMCxcaVwuanN4XCkpKFwoXGkseykoZm9sZGVyTm9kZTpcaSxzZXROb2RlUmVmOlxpXC5zZXROb2RlUmVmLGRyYWdnYWJsZTohMCwuK30sXGlcLmlkXCkpO2Nhc2UvLHJlcGxhY2U6InZhciBiZkhpZGVTZXJ2ZXJzPXR5cGVvZiBiZlBhdGNoPT09J3VuZGVmaW5lZCcsZm9sZGVyPSQxJDJiZkhpZGVTZXJ2ZXJzLCQzO3JldHVybiAhYmZIaWRlU2VydmVycyYmYXJndW1lbnRzWzFdP1skMSgkc2VsZi5TZXBhcmF0b3Ise30pLGZvbGRlcl06Zm9sZGVyO2Nhc2UifSx7bWF0Y2g6L1woImd1aWxkc25hdiJcKTtyZXR1cm5cKDAsXGlcLmpzeFwpXCguezEsNn0se25hdmlnYXRvcjpcaSxjaGlsZHJlbjpcKDAsXGlcLmpzeFwpXCgvLHJlcGxhY2U6IiQmJHNlbGYuR3VpbGRzPSJ9XX0se2ZpbmQ6IkFQUExJQ0FUSU9OX0xJQlJBUlkscmVuZGVyIixwcmVkaWNhdGU6KCk9PlZuLnN0b3JlLnNpZGViYXIscmVwbGFjZW1lbnQ6e21hdGNoOi8oXCgwLFxpXC5qc3hcKSlcKFxpXC4uLHtjbGFzc05hbWU6XGlcKFwpXC5ndWlsZHMsdGhlbWVPdmVycmlkZTpcaX1cKS8scmVwbGFjZToiJCYsJDEoJHNlbGYuRm9sZGVyU2lkZUJhcix7fSkifX0se2ZpbmQ6JygiZ3VpbGRzbmF2IiknLHByZWRpY2F0ZTooKT0+Vm4uc3RvcmUuY2xvc2VBbGxIb21lQnV0dG9uLHJlcGxhY2VtZW50OnttYXRjaDoiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtpZighX19PVkVSTEFZX18peyIscmVwbGFjZToiJCYkc2VsZi5jbG9zZUZvbGRlcnMoKTsifX1dLHNldHRpbmdzOlZuLHN0YXJ0KCl7bGV0IGU9dD0+eHcuZ2V0R3VpbGRGb2xkZXJzKCkuZmluZChuPT5uLmd1aWxkSWRzLmluY2x1ZGVzKHQpKTtfLnN1YnNjcmliZSgiQ0hBTk5FTF9TRUxFQ1QiLHRoaXMub25Td2l0Y2g9dD0+e2lmKCEoIVZuLnN0b3JlLmNsb3NlQWxsRm9sZGVycyYmIVZuLnN0b3JlLmZvcmNlT3BlbikmJnRoaXMubGFzdEd1aWxkSWQhPT10Lmd1aWxkSWQpe3RoaXMubGFzdEd1aWxkSWQ9dC5ndWlsZElkO2xldCBuPWUodC5ndWlsZElkKTtuPy5mb2xkZXJJZD9Wbi5zdG9yZS5mb3JjZU9wZW4mJiFwdS5pc0ZvbGRlckV4cGFuZGVkKG4uZm9sZGVySWQpJiZkdS50b2dnbGVHdWlsZEZvbGRlckV4cGFuZChuLmZvbGRlcklkKTpWbi5zdG9yZS5jbG9zZUFsbEZvbGRlcnMmJnRoaXMuY2xvc2VGb2xkZXJzKCl9fSksXy5zdWJzY3JpYmUoIlRPR0dMRV9HVUlMRF9GT0xERVJfRVhQQU5EIix0aGlzLm9uVG9nZ2xlRm9sZGVyPXQ9PntWbi5zdG9yZS5jbG9zZU90aGVycyYmIXRoaXMuZGlzcGF0Y2hpbmcmJl8ud2FpdCgoKT0+e2xldCBuPXB1LmdldEV4cGFuZGVkRm9sZGVycygpO2lmKG4uc2l6ZT4xKXt0aGlzLmRpc3BhdGNoaW5nPSEwO2ZvcihsZXQgciBvZiBuKXIhPT10LmZvbGRlcklkJiZkdS50b2dnbGVHdWlsZEZvbGRlckV4cGFuZChyKTt0aGlzLmRpc3BhdGNoaW5nPSExfX0pfSl9LHN0b3AoKXtfLnVuc3Vic2NyaWJlKCJDSEFOTkVMX1NFTEVDVCIsdGhpcy5vblN3aXRjaCksXy51bnN1YnNjcmliZSgiVE9HR0xFX0dVSUxEX0ZPTERFUl9FWFBBTkQiLHRoaXMub25Ub2dnbGVGb2xkZXIpfSxGb2xkZXJTaWRlQmFyOmh5LGdldEd1aWxkc1RyZWUoZSx0KXtsZXQgbj1uZXcgVHc7cmV0dXJuIG4ucm9vdC5jaGlsZHJlbj10LnJvb3QuY2hpbGRyZW4uZmlsdGVyKHI9PmUuaW5jbHVkZXMoci5pZCkpLG4ubm9kZXM9ZS5tYXAocj0+dC5ub2Rlc1tyXSksbn0sY2xvc2VGb2xkZXJzKCl7Zm9yKGxldCBlIG9mIHB1LmdldEV4cGFuZGVkRm9sZGVycygpKWR1LnRvZ2dsZUd1aWxkRm9sZGVyRXhwYW5kKGUpfX0pfSk7dmFyIGZ1LFN5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO2Z1PXYoe25hbWU6IkJldHRlckdpZkFsdFRleHQiLGF1dGhvcnM6W2QuVmVuXSxkZXNjcmlwdGlvbjoiQ2hhbmdlIEdJRiBhbHQgdGV4dCBmcm9tIHNpbXBseSBiZWluZyAnR0lGJyB0byBjb250YWluaW5nIHRoZSBnaWYgdGFncyAvIGZpbGVuYW1lIixwYXRjaGVzOlt7ZmluZDoib25DbG9zZUltYWdlPSIscmVwbGFjZW1lbnQ6e21hdGNoOi8ocmV0dXJuLnswLDEwfVwuanN4LnswLDUwfWlzV2luZG93Rm9jdXNlZCkvLHJlcGxhY2U6IiRzZWxmLmFsdGlmeShlKTskMSJ9fSx7ZmluZDoncHJlbG9hZDoibm9uZSIsImFyaWEnLHJlcGxhY2VtZW50OnttYXRjaDovKD88PT0oLnsxLDN9KVwuYWx0LnswLDIwfSlcPy57MCw1fVwuTWVzc2FnZXNcLkdJRi8scmVwbGFjZToiPygkMS5hbHQ9J0dJRicsJHNlbGYuYWx0aWZ5KCQxKSkifX1dLGFsdGlmeShlKXtpZihlLmFsdCE9PSJHSUYiKXJldHVybiBlLmFsdDtsZXQgdD1lLm9yaWdpbmFsfHxlLnNyYzt0cnl7dD1kZWNvZGVVUkkodCl9Y2F0Y2h7fWxldCBuPXQuc2xpY2UodC5sYXN0SW5kZXhPZigiLyIpKzEpLnJlcGxhY2UoL1xkL2csIiIpLnJlcGxhY2UoLy5naWYkLywiIikuc3BsaXQoL1ssXC1fIF0rL2cpLnNsaWNlKDAsMjApLmpvaW4oIiAiKTtyZXR1cm4gbi5sZW5ndGg+MzAwJiYobj1uLnNsaWNlKDAsMzAwKSsiLi4uIiksbiYmKGUuYWx0Kz1gIC0gJHtufWApLGUuYWx0fX0pfSk7dmFyIGd1LGJ5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7UCgpO3goKTtndT12KHtuYW1lOiJCZXR0ZXJOb3Rlc0JveCIsZGVzY3JpcHRpb246IkhpZGUgbm90ZXMgb3IgZGlzYWJsZSBzcGVsbGNoZWNrIChDb25maWd1cmUgaW4gc2V0dGluZ3MhISkiLGF1dGhvcnM6W2QuVmVuXSxwYXRjaGVzOlt7ZmluZDoiaGlkZU5vdGU6IixhbGw6ITAscHJlZGljYXRlOigpPT5WZW5jb3JkLlNldHRpbmdzLnBsdWdpbnMuQmV0dGVyTm90ZXNCb3guaGlkZSxyZXBsYWNlbWVudDp7bWF0Y2g6L2hpZGVOb3RlOi4rPyg/PVssfV0pL2cscmVwbGFjZToiaGlkZU5vdGU6dHJ1ZSJ9fSx7ZmluZDoiTWVzc2FnZXMuTk9URV9QTEFDRUhPTERFUiIscmVwbGFjZW1lbnQ6e21hdGNoOi9cLk5PVEVfUExBQ0VIT0xERVIsLyxyZXBsYWNlOiIkJnNwZWxsQ2hlY2s6IVZlbmNvcmQuU2V0dGluZ3MucGx1Z2lucy5CZXR0ZXJOb3Rlc0JveC5ub1NwZWxsQ2hlY2ssIn19XSxvcHRpb25zOntoaWRlOnt0eXBlOjMsZGVzY3JpcHRpb246IkhpZGUgbm90ZXMiLGRlZmF1bHQ6ITEscmVzdGFydE5lZWRlZDohMH0sbm9TcGVsbENoZWNrOnt0eXBlOjMsZGVzY3JpcHRpb246IkRpc2FibGUgc3BlbGxjaGVjayBpbiBub3RlcyIsZGlzYWJsZWQ6KCk9Pk4ucGx1Z2lucy5CZXR0ZXJOb3Rlc0JveC5oaWRlLGRlZmF1bHQ6ITF9fX0pfSk7dmFyIGh1LFR5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7UCgpO3goKTtNKCk7aHU9dih7bmFtZToiQmV0dGVyUm9sZURvdCIsYXV0aG9yczpbZC5WZW5dLGRlc2NyaXB0aW9uOiJDb3B5IHJvbGUgY29sb3VyIG9uIFJvbGVEb3QgKGFjY2Vzc2liaWxpdHkgc2V0dGluZykgY2xpY2suIEFsc28gYWxsb3dzIHVzaW5nIGJvdGggUm9sZURvdCBhbmQgY29sb3VyZWQgbmFtZXMgc2ltdWx0YW5lb3VzbHkiLHBhdGNoZXM6W3tmaW5kOiIuZG90Qm9yZGVyQmFzZSIscmVwbGFjZW1lbnQ6e21hdGNoOi8sdmlld0JveDoiMCAwIDIwIDIwIi8scmVwbGFjZToiJCYsb25DbGljazooKT0+JHNlbGYuY29weVRvQ2xpcEJvYXJkKGFyZ3VtZW50c1swXS5jb2xvciksc3R5bGU6e2N1cnNvcjoncG9pbnRlcid9In19LHtmaW5kOiciZG90Ij09PScsYWxsOiEwLHByZWRpY2F0ZTooKT0+Ti5wbHVnaW5zLkJldHRlclJvbGVEb3QuYm90aFN0eWxlcyxyZXBsYWNlbWVudDp7bWF0Y2g6LyIoPzp1c2VybmFtZXxkb3QpIj09PVxpKD8hXC5caSkvZyxyZXBsYWNlOiJ0cnVlIn19XSxvcHRpb25zOntib3RoU3R5bGVzOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgYm90aCByb2xlIGRvdCBhbmQgY29sb3VyZWQgbmFtZXMiLGRlZmF1bHQ6ITF9fSxjb3B5VG9DbGlwQm9hcmQoZSl7UXQuY29weShlKSxLLnNob3coe21lc3NhZ2U6IkNvcGllZCB0byBDbGlwYm9hcmQhIix0eXBlOksuVHlwZS5TVUNDRVNTLGlkOksuZ2VuSWQoKSxvcHRpb25zOntkdXJhdGlvbjoxZTMscG9zaXRpb246Sy5Qb3NpdGlvbi5CT1RUT019fSl9fSl9KTt2YXIgeXUseHk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7eXU9dih7bmFtZToiQmV0dGVyVXBsb2FkQnV0dG9uIixhdXRob3JzOltkLm9ic2N1cml0eSxkLlZlbl0sZGVzY3JpcHRpb246IlVwbG9hZCB3aXRoIGEgc2luZ2xlIGNsaWNrLCBvcGVuIG1lbnUgd2l0aCByaWdodCBjbGljayIscGF0Y2hlczpbe2ZpbmQ6Ik1lc3NhZ2VzLkNIQVRfQVRUQUNIX1VQTE9BRF9PUl9JTlZJVEUiLHJlcGxhY2VtZW50OnttYXRjaDovQ0hBVF9BVFRBQ0hfVVBMT0FEX09SX0lOVklURSxvbkRvdWJsZUNsaWNrOiguKz86dm9pZCAwKVx9LCguezEsM30pXCkvLHJlcGxhY2U6KGUsdCxuKT0+YCR7ZS5zbGljZSgwLC0xKX0se29uQ2xpY2s6JHt0fSxvbkNvbnRleHRNZW51OiR7bn0ub25DbGlja30pYH19XX0pfSk7dmFyIHd5PWcoKCk9Pnt9KTtmdW5jdGlvbiBGbih7aGVpZ2h0OmU9MjQsd2lkdGg6dD0yNCxjbGFzc05hbWU6bixjaGlsZHJlbjpyLHZpZXdCb3g6aSwuLi5zfSl7cmV0dXJuIG8oInN2ZyIse2NsYXNzTmFtZTplZShuLCJ2Yy1pY29uIikscm9sZToiaW1nIix3aWR0aDp0LGhlaWdodDplLHZpZXdCb3g6aSwuLi5zfSxyKX1mdW5jdGlvbiBuYSh7aGVpZ2h0OmU9MjQsd2lkdGg6dD0yNCxjbGFzc05hbWU6bn0pe3JldHVybiBvKEZuLHtoZWlnaHQ6ZSx3aWR0aDp0LGNsYXNzTmFtZTplZShuLCJ2Yy1saW5rLWljb24iKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJnIix7ZmlsbDoibm9uZSIsImZpbGwtcnVsZSI6ImV2ZW5vZGQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNMTAuNTkgMTMuNDFjLjQxLjM5LjQxIDEuMDMgMCAxLjQyLS4zOS4zOS0xLjAzLjM5LTEuNDIgMGE1LjAwMyA1LjAwMyAwIDAgMSAwLTcuMDdsMy41NC0zLjU0YTUuMDAzIDUuMDAzIDAgMCAxIDcuMDcgMCA1LjAwMyA1LjAwMyAwIDAgMSAwIDcuMDdsLTEuNDkgMS40OWMuMDEtLjgyLS4xMi0xLjY0LS40LTIuNDJsLjQ3LS40OGEyLjk4MiAyLjk4MiAwIDAgMCAwLTQuMjQgMi45ODIgMi45ODIgMCAwIDAtNC4yNCAwbC0zLjUzIDMuNTNhMi45ODIgMi45ODIgMCAwIDAgMCA0LjI0em0yLjgyLTQuMjRjLjM5LS4zOSAxLjAzLS4zOSAxLjQyIDBhNS4wMDMgNS4wMDMgMCAwIDEgMCA3LjA3bC0zLjU0IDMuNTRhNS4wMDMgNS4wMDMgMCAwIDEtNy4wNyAwIDUuMDAzIDUuMDAzIDAgMCAxIDAtNy4wN2wxLjQ5LTEuNDljLS4wMS44Mi4xMiAxLjY0LjQgMi40M2wtLjQ3LjQ3YTIuOTgyIDIuOTgyIDAgMCAwIDAgNC4yNCAyLjk4MiAyLjk4MiAwIDAgMCA0LjI0IDBsMy41My0zLjUzYTIuOTgyIDIuOTgyIDAgMCAwIDAtNC4yNC45NzMuOTczIDAgMCAxIDAtMS40MnoifSksbygicmVjdCIse3dpZHRoOnQsaGVpZ2h0OmV9KSkpfWZ1bmN0aW9uIE15KGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTplZShlLmNsYXNzTmFtZSwidmMtY29weS1pY29uIiksdmlld0JveDoiMCAwIDI0IDI0In0sbygiZyIse2ZpbGw6ImN1cnJlbnRDb2xvciJ9LG8oInBhdGgiLHtkOiJNMTYgMUg0Yy0xLjEgMC0yIC45LTIgMnYxNGgyVjNoMTJWMXoifSksbygicGF0aCIse2Q6Ik0xNSA1SDhjLTEuMSAwLTEuOTkuOS0xLjk5IDJMNiAyMWMwIDEuMS44OSAyIDEuOTkgMkgxOWMxLjEgMCAyLS45IDItMlYxMWwtNi02ek04IDIxVjdoNnY1aDV2OUg4eiJ9KSkpfWZ1bmN0aW9uIHFvKGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTplZShlLmNsYXNzTmFtZSwidmMtb3Blbi1leHRlcm5hbC1pY29uIiksdmlld0JveDoiMCAwIDI0IDI0In0sbygicG9seWdvbiIse2ZpbGw6ImN1cnJlbnRDb2xvciIsImZpbGwtcnVsZSI6Im5vbnplcm8iLHBvaW50czoiMTMgMjAgMTEgMjAgMTEgOCA1LjUgMTMuNSA0LjA4IDEyLjA4IDEyIDQuMTYgMTkuOTIgMTIuMDggMTguNSAxMy41IDEzIDgifSkpfWZ1bmN0aW9uIEtvKGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTplZShlLmNsYXNzTmFtZSwidmMtaW1hZ2UtaWNvbiIpLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0yMSwxOVY1YzAsLTEuMSAtMC45LC0yIC0yLC0ySDVjLTEuMSwwIC0yLDAuOSAtMiwydjE0YzAsMS4xIDAuOSwyIDIsMmgxNGMxLjEsMCAyLC0wLjkgMiwtMnpNOC41LDEzLjVsMi41LDMuMDFMMTQuNSwxMmw0LjUsNkg1bDMuNSwtNC41eiJ9KSl9ZnVuY3Rpb24gUHkoZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOmVlKGUuY2xhc3NOYW1lLCJ2Yy1pbmZvLWljb24iKSx2aWV3Qm94OiIwIDAgMTIgMTIifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNNiAxQzMuMjQzIDEgMSAzLjI0NCAxIDZjMCAyLjc1OCAyLjI0MyA1IDUgNXM1LTIuMjQyIDUtNWMwLTIuNzU2LTIuMjQzLTUtNS01em0wIDIuMzc2YS42MjUuNjI1IDAgMTEwIDEuMjUuNjI1LjYyNSAwIDAxMC0xLjI1ek03LjUgOC41aC0zdi0xaDFWNkg1VjVoMWEuNS41IDAgMDEuNS41djJoMXYxeiJ9KSl9ZnVuY3Rpb24gSXkoZSl7cmV0dXJuIG8oRm4seyJhcmlhLWxhYmVsIjpjdC5NZXNzYWdlcy5HVUlMRF9PV05FUiwuLi5lLGNsYXNzTmFtZTplZShlLmNsYXNzTmFtZSwidmMtb3duZXItY3Jvd24taWNvbiIpLHJvbGU6ImltZyIsdmlld0JveDoiMCAwIDE2IDE2In0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsImZpbGwtcnVsZSI6ImV2ZW5vZGQiLCJjbGlwLXJ1bGUiOiJldmVub2RkIixkOiJNMTMuNjU3MiA1LjQyODY4QzEzLjg4NzkgNS4yOTAwMiAxNC4xODA2IDUuMzA0MDIgMTQuMzk3MyA1LjQ2NDY4QzE0LjYxMzMgNS42MjYwMiAxNC43MTE5IDUuOTAwNjggMTQuNjQ3MyA2LjE2MjAyTDEzLjMxMzkgMTEuNDk1NEMxMy4yMzkzIDExLjc5MjcgMTIuOTcyNiAxMi4wMDA3IDEyLjY2NjYgMTIuMDAwN0gzLjMzMzI1QzMuMDI3MjUgMTIuMDAwNyAyLjc2MDU4IDExLjc5MiAyLjY4NTkyIDExLjQ5NTRMMS4zNTI1OCA2LjE2MjAyQzEuMjg3OTIgNS45MDA2OCAxLjM4NjU4IDUuNjI2MDIgMS42MDI1OCA1LjQ2NDY4QzEuODE5OTIgNS4zMDQ2OCAyLjExMTkyIDUuMjkwNjggMi4zNDMyNSA1LjQyODY4TDUuMTMxOTIgNy4xMDIwMkw3LjQ0NTkyIDMuNjMwNjhDNy40NjE3MyAzLjYwNjk3IDcuNDgzNzcgMy41OTEzIDcuNTA1ODggMy41NzU1OUM3LjUxOTIgMy41NjYxMiA3LjUzMjU1IDMuNTU2NjMgNy41NDQ1OCAzLjU0NTM1TDYuOTAyNTggMi45MDI2OEM2Ljc3MzI1IDIuNzczMzUgNi43NzMyNSAyLjU2MDY4IDYuOTAyNTggMi40MzEzNUw3Ljc2NDU4IDEuNTY5MzVDNy44OTM5MiAxLjQ0MDAyIDguMTA2NTggMS40NDAwMiA4LjIzNTkyIDEuNTY5MzVMOS4wOTc5MiAyLjQzMTM1QzkuMjI3MjUgMi41NjA2OCA5LjIyNzI1IDIuNzczMzUgOS4wOTc5MiAyLjkwMjY4TDguNDU1OTIgMy41NDUzNUM4LjQ2Nzk0IDMuNTU2ODYgOC40ODE1NCAzLjU2NjUxIDguNDk1MTYgMy41NzYxOEM4LjUxNzAzIDMuNTkxNyA4LjUzODk3IDMuNjA3MjcgOC41NTQ1OCAzLjYzMDY4TDEwLjg2ODYgNy4xMDIwMkwxMy42NTcyIDUuNDI4NjhaTTIuNjY2NjcgMTIuNjY3M0gxMy4zMzMzVjE0LjAwMDdIMi42NjY2N1YxMi42NjczWiJ9KSl9ZnVuY3Rpb24gQ3koZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOmVlKGUuY2xhc3NOYW1lLCJ2Yy1zY3JlZW5zaGFyZS1pY29uIiksdmlld0JveDoiMCAwIDI0IDI0In0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsImZpbGwtcnVsZSI6ImV2ZW5vZGQiLCJjbGlwLXJ1bGUiOiJldmVub2RkIixkOiJNMiA0LjVDMiAzLjM5NyAyLjg5NyAyLjUgNCAyLjVIMjBDMjEuMTAzIDIuNSAyMiAzLjM5NyAyMiA0LjVWMTUuNUMyMiAxNi42MDQgMjEuMTAzIDE3LjUgMjAgMTcuNUgxM1YxOS41SDE3VjIxLjVIN1YxOS41SDExVjE3LjVINEMyLjg5NyAxNy41IDIgMTYuNjA0IDIgMTUuNVY0LjVaTTEzLjIgMTQuMzM3NVYxMS42QzkuODY0IDExLjYgNy42NjggMTIuNjYyNSA2IDE1QzYuNjcyIDExLjY2MjUgOC41MzIgOC4zMzc1IDEzLjIgNy42NjI1VjVMMTggOS42NjI1TDEzLjIgMTQuMzM3NVoifSkpfWZ1bmN0aW9uIG9hKGUpe3JldHVybiBvKEZuLHsuLi5lLGNsYXNzTmFtZTplZShlLmNsYXNzTmFtZSwidmMtaW1hZ2UtdmlzaWJsZSIpLHZpZXdCb3g6IjAgMCAyNCAyNCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik01IDIxcS0uODI1IDAtMS40MTMtLjU4N1EzIDE5LjgyNSAzIDE5VjVxMC0uODI1LjU4Ny0xLjQxM1E0LjE3NSAzIDUgM2gxNHEuODI1IDAgMS40MTMuNTg3UTIxIDQuMTc1IDIxIDV2MTRxMCAuODI1LS41ODcgMS40MTNRMTkuODI1IDIxIDE5IDIxWm0wLTJoMTRWNUg1djE0Wm0xLTJoMTJsLTMuNzUtNS0zIDRMOSAxM1ptLTEgMlY1djE0WiJ9KSl9ZnVuY3Rpb24gcmEoZSl7cmV0dXJuIG8oRm4sey4uLmUsY2xhc3NOYW1lOmVlKGUuY2xhc3NOYW1lLCJ2Yy1pbWFnZS1pbnZpc2libGUiKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJtMjEgMTguMTUtMi0yVjVINy44NWwtMi0ySDE5cS44MjUgMCAxLjQxMy41ODdRMjEgNC4xNzUgMjEgNVptLTEuMiA0LjQ1TDE4LjIgMjFINXEtLjgyNSAwLTEuNDEzLS41ODdRMyAxOS44MjUgMyAxOVY1LjhMMS40IDQuMmwxLjQtMS40IDE4LjQgMTguNFpNNiAxN2wzLTQgMi4yNSAzIC44MjUtMS4xTDUgNy44MjVWMTloMTEuMTc1bC0yLTJabTcuNDI1LTYuNDI1Wk0xMC42IDEzLjRaIn0pKX1mdW5jdGlvbiBOeShlKXtyZXR1cm4gbyhGbix7Li4uZSxjbGFzc05hbWU6ZWUoZS5jbGFzc05hbWUsInZjLW1pY3JvcGhvbmUiKSx2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ImZpbGwtcnVsZSI6ImV2ZW5vZGQiLCJjbGlwLXJ1bGUiOiJldmVub2RkIixkOiJNMTQuOTkgMTFDMTQuOTkgMTIuNjYgMTMuNjYgMTQgMTIgMTRDMTAuMzQgMTQgOSAxMi42NiA5IDExVjVDOSAzLjM0IDEwLjM0IDIgMTIgMkMxMy42NiAyIDE1IDMuMzQgMTUgNUwxNC45OSAxMVpNMTIgMTYuMUMxNC43NiAxNi4xIDE3LjMgMTQgMTcuMyAxMUgxOUMxOSAxNC40MiAxNi4yOCAxNy4yNCAxMyAxNy43MlYyMUgxMVYxNy43MkM3LjcyIDE3LjIzIDUgMTQuNDEgNSAxMUg2LjdDNi43IDE0IDkuMjQgMTYuMSAxMiAxNi4xWk0xMiA0QzExLjIgNCAxMSA0LjY2NjY3IDExIDVWMTFDMTEgMTEuMzMzMyAxMS4yIDEyIDEyIDEyQzEyLjggMTIgMTMgMTEuMzMzMyAxMyAxMVY1QzEzIDQuNjY2NjcgMTIuOCA0IDEyIDRaIixmaWxsOiJjdXJyZW50Q29sb3IifSksbygicGF0aCIseyJmaWxsLXJ1bGUiOiJldmVub2RkIiwiY2xpcC1ydWxlIjoiZXZlbm9kZCIsZDoiTTE0Ljk5IDExQzE0Ljk5IDEyLjY2IDEzLjY2IDE0IDEyIDE0QzEwLjM0IDE0IDkgMTIuNjYgOSAxMVY1QzkgMy4zNCAxMC4zNCAyIDEyIDJDMTMuNjYgMiAxNSAzLjM0IDE1IDVMMTQuOTkgMTFaTTEyIDE2LjFDMTQuNzYgMTYuMSAxNy4zIDE0IDE3LjMgMTFIMTlDMTkgMTQuNDIgMTYuMjggMTcuMjQgMTMgMTcuNzJWMjJIMTFWMTcuNzJDNy43MiAxNy4yMyA1IDE0LjQxIDUgMTFINi43QzYuNyAxNCA5LjI0IDE2LjEgMTIgMTYuMVoiLGZpbGw6ImN1cnJlbnRDb2xvciJ9KSl9dmFyIHhuPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3eSgpO3llKCk7TSgpfSk7dmFyIFJ5LGt5LEF5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtCKCk7Unk9bGUoIkFwcGxpY2F0aW9uU3RyZWFtUHJldmlld1N0b3JlIiksa3k9bGUoIkFwcGxpY2F0aW9uU3RyZWFtaW5nU3RvcmUiKX0pO3ZhciB3dyxEeSxMeSxFeSx2dSxPeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3QoKTt4bigpO1AoKTtzdCgpO3goKTtNKCk7QXkoKTt3dz1hc3luYyh7Z3VpbGRJZDplLGNoYW5uZWxJZDp0LG93bmVySWQ6bn0pPT57bGV0IHI9YXdhaXQgUnkuZ2V0UHJldmlld1VSTChlLHQsbik7IXJ8fEhvKHIpfSxEeT0oZSx7dXNlcklkOnR9KT0+KCk9PntsZXQgbj1reS5nZXRBbnlTdHJlYW1Gb3JVc2VyKHQpO2lmKCFuKXJldHVybjtsZXQgcj1vKE8uTWVudUl0ZW0se2xhYmVsOiJWaWV3IFN0cmVhbSBQcmV2aWV3IixpZDoidmlldy1zdHJlYW0tcHJldmlldyIsaWNvbjpDeSxhY3Rpb246KCk9Pm4mJnd3KG4pLGRpc2FibGVkOiFufSk7ZS5wdXNoKG8oTy5NZW51U2VwYXJhdG9yLG51bGwpLHIpfSxMeT0oZSx7c3RyZWFtOnR9KT0+RHkoZSx7dXNlcklkOnQub3duZXJJZH0pLEV5PShlLHt1c2VyOnR9KT0+RHkoZSx7dXNlcklkOnQuaWR9KSx2dT12KHtuYW1lOiJCaWdnZXJTdHJlYW1QcmV2aWV3IixkZXNjcmlwdGlvbjoiVGhpcyBwbHVnaW4gYWxsb3dzIHlvdSB0byBlbmxhcmdlIHN0cmVhbSBwcmV2aWV3cyIsYXV0aG9yczpbZC5waGlsXSxzdGFydDooKT0+e3BlKCJ1c2VyLWNvbnRleHQiLEV5KSxwZSgic3RyZWFtLWNvbnRleHQiLEx5KX0sc3RvcDooKT0+e2ZlKCJ1c2VyLWNvbnRleHQiLEV5KSxmZSgic3RyZWFtLWNvbnRleHQiLEx5KX19KX0pO2Z1bmN0aW9uIF95KCl7dmkudGV4dENvbnRlbnQ9YAogICAgICAgIC52Yy1uc2Z3LWltZyBbY2xhc3NePWltYWdlV3JhcHBlcl0gaW1nLAogICAgICAgIC52Yy1uc2Z3LWltZyBbY2xhc3NePXdyYXBwZXJQYXVzZWRdIHZpZGVvIHsKICAgICAgICAgICAgZmlsdGVyOiBibHVyKCR7Ti5wbHVnaW5zLkJsdXJOU0ZXLmJsdXJBbW91bnR9cHgpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBmaWx0ZXIgMC4yczsKICAgICAgICB9CiAgICAgICAgLnZjLW5zZnctaW1nIFtjbGFzc149aW1hZ2VXcmFwcGVyXTpob3ZlciBpbWcsCiAgICAgICAgLnZjLW5zZnctaW1nIFtjbGFzc149d3JhcHBlclBhdXNlZF06aG92ZXIgdmlkZW8gewogICAgICAgICAgICBmaWx0ZXI6IHVuc2V0OwogICAgICAgIH0KICAgICAgICBgfXZhciB2aSxTdSxCeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7U3U9dih7bmFtZToiQmx1ck5TRlciLGRlc2NyaXB0aW9uOiJCbHVyIGF0dGFjaG1lbnRzIGluIE5TRlcgY2hhbm5lbHMgdW50aWwgaG92ZXJlZCIsYXV0aG9yczpbZC5WZW5dLHBhdGNoZXM6W3tmaW5kOiIuZW1iZWRXcmFwcGVyLGVtYmVkIixyZXBsYWNlbWVudDpbe21hdGNoOi8oXC5yZW5kZXJFbWJlZD0uKz8oLik9LlwucHJvcHMpKC4rP1wuZW1iZWRXcmFwcGVyKS9nLHJlcGxhY2U6IiQxLHZjUHJvcHM9JDIkMysodmNQcm9wcy5jaGFubmVsLm5zZnc/JyB2Yy1uc2Z3LWltZyc6JycpIn0se21hdGNoOi8oXC5yZW5kZXJBdHRhY2htZW50cz0uKz8oLik9dGhpc1wucHJvcHMpKC4rP1wuZW1iZWRXcmFwcGVyKS9nLHJlcGxhY2U6IiQxLHZjUHJvcHM9JDIkMysodmNQcm9wcy5jaGFubmVsLm5zZnc/JyB2Yy1uc2Z3LWltZyc6JycpIn1dfV0sb3B0aW9uczp7Ymx1ckFtb3VudDp7dHlwZToxLGRlc2NyaXB0aW9uOiJCbHVyIEFtb3VudCIsZGVmYXVsdDoxMCxvbkNoYW5nZTpfeX19LHN0YXJ0KCl7dmk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSx2aS5pZD0iVmNCbHVyTnNmdyIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh2aSksX3koKX0sc3RvcCgpe3ZpPy5yZW1vdmUoKX19KX0pO2Z1bmN0aW9uIE13KGUpe2xldCB0PU4ucGx1Z2lucy5DYWxsVGltZXIuZm9ybWF0PT09Imh1bWFuIixuPWg9PnQ/aDpoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwiMCIpLHI9aD0+dD9oOiIiLGk9dD8iICI6IjoiLHM9TWF0aC5mbG9vcihlLzg2NGU1KSxjPU1hdGguZmxvb3IoZSU4NjRlNS8zNmU1KSx1PU1hdGguZmxvb3IoZSU4NjRlNSUzNmU1LzZlNCkscD1NYXRoLmZsb29yKGUlODY0ZTUlMzZlNSU2ZTQvMWUzKSx5PSIiO3JldHVybiBzJiYoeSs9YCR7c31kIGApLChjfHx5KSYmKHkrPWAke24oYyl9JHtyKCJoIil9JHtpfWApLCh1fHx5fHwhdCkmJih5Kz1gJHtuKHUpfSR7cigibSIpfSR7aX1gKSx5Kz1gJHtuKHApfSR7cigicyIpfWAseX12YXIgYnUsRnk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtzZSgpO1AoKTtnZSgpO3goKTtidT12KHtuYW1lOiJDYWxsVGltZXIiLGRlc2NyaXB0aW9uOiJBZGRzIGEgdGltZXIgdG8gdmNzIixhdXRob3JzOltkLlZlbl0sc3RhcnRUaW1lOjAsaW50ZXJ2YWw6dm9pZCAwLG9wdGlvbnM6e2Zvcm1hdDp7dHlwZTo0LGRlc2NyaXB0aW9uOiJUaGUgdGltZXIgZm9ybWF0LiBUaGlzIGNhbiBiZSBhbnkgdmFsaWQgbW9tZW50LmpzIGZvcm1hdCIsb3B0aW9uczpbe2xhYmVsOiIzMGQgMjM6MDA6NDIiLHZhbHVlOiJzdG9wd2F0Y2giLGRlZmF1bHQ6ITB9LHtsYWJlbDoiMzBkIDIzaCAwMG0gNDJzIix2YWx1ZToiaHVtYW4ifV19fSxwYXRjaGVzOlt7ZmluZDoiLnJlbmRlckNvbm5lY3Rpb25TdGF0dXM9IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1yZW5kZXJDb25uZWN0aW9uU3RhdHVzPS4rXC5jaGFubmVsLGNoaWxkcmVuOilcdy8scmVwbGFjZToiWyQmLCAkc2VsZi5yZW5kZXJUaW1lcih0aGlzLnByb3BzLmNoYW5uZWwuaWQpXSJ9fV0scmVuZGVyVGltZXIoZSl7cmV0dXJuIG8oRCx7bm9vcDohMH0sbyh0aGlzLlRpbWVyLHtjaGFubmVsSWQ6ZX0pKX0sVGltZXIoe2NoYW5uZWxJZDplfSl7bGV0IHQ9SHIoe2RlcHM6W2VdfSk7cmV0dXJuIG8oInAiLHtzdHlsZTp7bWFyZ2luOjB9fSwiQ29ubmVjdGVkIGZvciAiLG8oInNwYW4iLHtzdHlsZTp7Zm9udEZhbWlseToidmFyKC0tZm9udC1jb2RlKSJ9fSxNdyh0KSkpfX0pfSk7dmFyIEN1PXt9O3ZlKEN1LHtfaGFuZGxlQ2xpY2s6KCk9PkN3LF9oYW5kbGVQcmVFZGl0OigpPT5JdyxfaGFuZGxlUHJlU2VuZDooKT0+UHcsYWRkQ2xpY2tMaXN0ZW5lcjooKT0+UHUsYWRkUHJlRWRpdExpc3RlbmVyOigpPT5ZbyxhZGRQcmVTZW5kTGlzdGVuZXI6KCk9Pmt0LHJlbW92ZUNsaWNrTGlzdGVuZXI6KCk9Pkl1LHJlbW92ZVByZUVkaXRMaXN0ZW5lcjooKT0+Wm8scmVtb3ZlUHJlU2VuZExpc3RlbmVyOigpPT5BdH0pO2FzeW5jIGZ1bmN0aW9uIFB3KGUsdCxuLHIpe24ucmVwbHlPcHRpb25zPXI7Zm9yKGxldCBpIG9mIHh1KXRyeXtsZXQgcz1hd2FpdCBpKGUsdCxuKTtpZihzJiZzLmNhbmNlbD09PSEwKXJldHVybiEwfWNhdGNoKHMpe1R1LmVycm9yKGBNZXNzYWdlU2VuZEhhbmRsZXI6IExpc3RlbmVyIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3IKYCxzKX1yZXR1cm4hMX1hc3luYyBmdW5jdGlvbiBJdyhlLHQsbil7Zm9yKGxldCByIG9mIHd1KXRyeXthd2FpdCByKGUsdCxuKX1jYXRjaChpKXtUdS5lcnJvcihgTWVzc2FnZUVkaXRIYW5kbGVyOiBMaXN0ZW5lciBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yCmAsaSl9fWZ1bmN0aW9uIGt0KGUpe3JldHVybiB4dS5hZGQoZSksZX1mdW5jdGlvbiBZbyhlKXtyZXR1cm4gd3UuYWRkKGUpLGV9ZnVuY3Rpb24gQXQoZSl7cmV0dXJuIHh1LmRlbGV0ZShlKX1mdW5jdGlvbiBabyhlKXtyZXR1cm4gd3UuZGVsZXRlKGUpfWZ1bmN0aW9uIEN3KGUsdCxuKXtlPW1uLmdldE1lc3NhZ2UodC5pZCxlLmlkKT8/ZTtmb3IobGV0IHIgb2YgTXUpdHJ5e3IoZSx0LG4pfWNhdGNoKGkpe1R1LmVycm9yKGBNZXNzYWdlQ2xpY2tIYW5kbGVyOiBMaXN0ZW5lciBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yCmAsaSl9fWZ1bmN0aW9uIFB1KGUpe3JldHVybiBNdS5hZGQoZSksZX1mdW5jdGlvbiBJdShlKXtyZXR1cm4gTXUuZGVsZXRlKGUpfXZhciBUdSx4dSx3dSxNdSwkbj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7d2UoKTtNKCk7VHU9bmV3IFEoIk1lc3NhZ2VFdmVudHMiLCIjZTVjODkwIikseHU9bmV3IFNldCx3dT1uZXcgU2V0O011PW5ldyBTZXR9KTt2YXIgJHksVXk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyR5PVsiYWN0aW9uX29iamVjdF9tYXAiLCJhY3Rpb25fdHlwZV9tYXAiLCJhY3Rpb25fcmVmX21hcCIsInNwbUAqLmFsaWV4cHJlc3MuY29tIiwic2NtQCouYWxpZXhwcmVzcy5jb20iLCJhZmZfcGxhdGZvcm0iLCJhZmZfdHJhY2Vfa2V5IiwiYWxnb19leHBpZEAqLmFsaWV4cHJlc3MuKiIsImFsZ29fcHZpZEAqLmFsaWV4cHJlc3MuKiIsImJ0c2lkIiwid3NfYWJfdGVzdCIsInBkX3JkXypAYW1hem9uLioiLCJfZW5jb2RpbmdAYW1hem9uLioiLCJwc2NAYW1hem9uLioiLCJ0YWdAYW1hem9uLioiLCJyZWZfQGFtYXpvbi4qIiwicGZfcmRfKkBhbWF6b24uKiIsInBmQGFtYXpvbi4qIiwiY3JpZEBhbWF6b24uKiIsImtleXdvcmRzQGFtYXpvbi4qIiwic3ByZWZpeEBhbWF6b24uKiIsInNyQGFtYXpvbi4qIiwiaWVAYW1hem9uLioiLCJub2RlQGFtYXpvbi4qIiwicWlkQGFtYXpvbi4qIiwiY2FsbGJhY2tAYmlsaWJpbGkuY29tIiwiY3ZpZEBiaW5nLmNvbSIsImZvcm1AYmluZy5jb20iLCJza0BiaW5nLmNvbSIsInNwQGJpbmcuY29tIiwic2NAYmluZy5jb20iLCJxc0BiaW5nLmNvbSIsInBxQGJpbmcuY29tIiwic2NfY2lkIiwibWt0X3RvayIsInRyayIsInRya0NhbXBhaWduIiwiZ2FfKiIsImdjbGlkIiwiZ2Nsc3JjIiwiaG1iX2NhbXBhaWduIiwiaG1iX21lZGl1bSIsImhtYl9zb3VyY2UiLCJzcFJlcG9ydElkIiwic3BKb2JJRCIsInNwVXNlcklEIiwic3BNYWlsaW5nSUQiLCJpdG1fKiIsInNfY2lkIiwiZWxxVHJhY2tJZCIsImVscVRyYWNrIiwiYXNzZXRUeXBlIiwiYXNzZXRJZCIsInJlY2lwaWVudElkIiwiY2FtcGFpZ25JZCIsInNpdGVJZCIsIm1jX2NpZCIsIm1jX2VpZCIsInBrXyoiLCJzY19jYW1wYWlnbiIsInNjX2NoYW5uZWwiLCJzY19jb250ZW50Iiwic2NfbWVkaXVtIiwic2Nfb3V0Y29tZSIsInNjX2dlbyIsInNjX2NvdW50cnkiLCJucl9lbWFpbF9yZWZlcmVyIiwidmVyb19jb252IiwidmVyb19pZCIsInljbGlkIiwiX29wZW5zdGF0IiwibWJpZCIsImNtcGlkIiwiY2lkIiwiY19pZCIsImNhbXBhaWduX2lkIiwiQ2FtcGFpZ24iLCJoYXNoQGViYXkuKiIsImZiX2FjdGlvbl9pZHMiLCJmYl9hY3Rpb25fdHlwZXMiLCJmYl9yZWYiLCJmYl9zb3VyY2UiLCJmYmNsaWQiLCJyZWZzcmNAZmFjZWJvb2suY29tIiwiaHJjQGZhY2Vib29rLmNvbSIsImdzX2wiLCJnc19sY3BAZ29vZ2xlLioiLCJ2ZWRAZ29vZ2xlLioiLCJlaUBnb29nbGUuKiIsInNlaUBnb29nbGUuKiIsImd3c19yZEBnb29nbGUuKiIsImdzX2diZ0Bnb29nbGUuKiIsImdzX21zc0Bnb29nbGUuKiIsImdzX3JuQGdvb2dsZS4qIiwiX2hzZW5jIiwiX2hzbWkiLCJfX2hzc2MiLCJfX2hzdGMiLCJoc0N0YVRyYWNraW5nIiwic291cmNlQHNvdXJjZWZvcmdlLm5ldCIsInBvc2l0aW9uQHNvdXJjZWZvcmdlLm5ldCIsInRAKi50d2l0dGVyLmNvbSIsInNAKi50d2l0dGVyLmNvbSIsInJlZl8qQCoudHdpdHRlci5jb20iLCJ0dF9tZWRpdW0iLCJ0dF9jb250ZW50IiwibHJAeWFuZGV4LioiLCJyZWRpcmNudEB5YW5kZXguKiIsImZlYXR1cmVAeW91dHViZS5jb20iLCJrd0B5b3V0dWJlLmNvbSIsInd0X3ptYyIsInV0bV9zb3VyY2UiLCJ1dG1fY29udGVudCIsInV0bV9tZWRpdW0iLCJ1dG1fY2FtcGFpZ24iLCJ1dG1fdGVybSIsInNpQG9wZW4uc3BvdGlmeS5jb20iLCJpZ3NoaWQiXX0pO3ZhciBHeSxOdyxOdSxIeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JG4oKTtQKCk7eCgpO1V5KCk7R3k9L1tcXF4kLiorPygpW1xde318XS9nLE53PVJlZ0V4cChHeS5zb3VyY2UpLE51PXYoe25hbWU6IkNsZWFyVVJMcyIsZGVzY3JpcHRpb246IlJlbW92ZXMgdHJhY2tpbmcgZ2FyYmFnZSBmcm9tIFVSTHMiLGF1dGhvcnM6W2QuYWRyeWRdLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VFdmVudHNBUEkiXSxlc2NhcGVSZWdFeHAoZSl7cmV0dXJuIGUmJk53LnRlc3QoZSk/ZS5yZXBsYWNlKEd5LCJcXCQmIik6ZXx8IiJ9LGNyZWF0ZVJ1bGVzKCl7bGV0IGU9JHk7dGhpcy51bml2ZXJzYWxSdWxlcz1uZXcgU2V0LHRoaXMucnVsZXNCeUhvc3Q9bmV3IE1hcCx0aGlzLmhvc3RSdWxlcz1uZXcgTWFwO2ZvcihsZXQgdCBvZiBlKXtsZXQgbj10LnNwbGl0KCJAIikscj1uZXcgUmVnRXhwKCJeIit0aGlzLmVzY2FwZVJlZ0V4cChuWzBdKS5yZXBsYWNlKC9cXFwqLywiLis/IikrIiQiKTtpZighblsxXSl7dGhpcy51bml2ZXJzYWxSdWxlcy5hZGQocik7Y29udGludWV9bGV0IGk9bmV3IFJlZ0V4cCgiXih3d3dcXC4pPyIrdGhpcy5lc2NhcGVSZWdFeHAoblsxXSkucmVwbGFjZSgvXFxcLi8sIlxcLiIpLnJlcGxhY2UoL15cXFwqXFxcLi8sIiguKz9cXC4pPyIpLnJlcGxhY2UoL1xcXCovLCIuKz8iKSsiJCIpLHM9aS50b1N0cmluZygpO3RoaXMuaG9zdFJ1bGVzLnNldChzLGkpLHRoaXMucnVsZXNCeUhvc3QuZ2V0KHMpPT1udWxsJiZ0aGlzLnJ1bGVzQnlIb3N0LnNldChzLG5ldyBTZXQpLHRoaXMucnVsZXNCeUhvc3QuZ2V0KHMpLmFkZChyKX19LHJlbW92ZVBhcmFtKGUsdCxuKXsodD09PWV8fGUgaW5zdGFuY2VvZiBSZWdFeHAmJmUudGVzdCh0KSkmJm4uZGVsZXRlKHQpfSxyZXBsYWNlcihlKXt0cnl7dmFyIHQ9bmV3IFVSTChlKX1jYXRjaHtyZXR1cm4gZX1yZXR1cm4gdC5zZWFyY2hQYXJhbXMuZW50cmllcygpLm5leHQoKS5kb25lP2U6KHRoaXMudW5pdmVyc2FsUnVsZXMuZm9yRWFjaChuPT57dC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgocixpLHMpPT57dGhpcy5yZW1vdmVQYXJhbShuLGkscyl9KX0pLHRoaXMuaG9zdFJ1bGVzLmZvckVhY2goKG4scik9Pnshbi50ZXN0KHQuaG9zdG5hbWUpfHx0aGlzLnJ1bGVzQnlIb3N0LmdldChyKS5mb3JFYWNoKGk9Pnt0LnNlYXJjaFBhcmFtcy5mb3JFYWNoKChzLGMsdSk9Pnt0aGlzLnJlbW92ZVBhcmFtKGksYyx1KX0pfSl9KSx0LnRvU3RyaW5nKCkpfSxvblNlbmQoZSl7ZS5jb250ZW50Lm1hdGNoKC9odHRwKHMpPzpcL1wvLykmJihlLmNvbnRlbnQ9ZS5jb250ZW50LnJlcGxhY2UoLyhodHRwcz86XC9cL1teXHM8XStbXjwuLDo7Iic+KXxcXVxzXSkvZyx0PT50aGlzLnJlcGxhY2VyKHQpKSl9LHN0YXJ0KCl7dGhpcy5jcmVhdGVSdWxlcygpLHRoaXMucHJlU2VuZD1rdCgoZSx0KT0+dGhpcy5vblNlbmQodCkpLHRoaXMucHJlRWRpdD1ZbygoZSx0LG4pPT50aGlzLm9uU2VuZChuKSl9LHN0b3AoKXtBdCh0aGlzLnByZVNlbmQpLFpvKHRoaXMucHJlRWRpdCl9fSl9KTt2YXIgUnUsenk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7UnU9dih7bmFtZToiQ29sb3JTaWdodGVkIixkZXNjcmlwdGlvbjoiUmVtb3ZlcyB0aGUgY29sb3JibGluZC1mcmllbmRseSBpY29ucyBmcm9tIHN0YXR1c2VzLCBqdXN0IGxpa2UgMjAxNS0yMDE3IERpc2NvcmQiLGF1dGhvcnM6W2QubGV3aXNha3VyYV0scGF0Y2hlczpbe2ZpbmQ6Ik1hc2tzLlNUQVRVU19PTkxJTkUiLHJlcGxhY2VtZW50OnttYXRjaDovTWFza3NcLlNUQVRVU18oPzpJRExFfERORHxTVFJFQU1JTkd8T0ZGTElORSkvZyxyZXBsYWNlOiJNYXNrcy5TVEFUVVNfT05MSU5FIn19LHtmaW5kOiIuQVZBVEFSX1NUQVRVU19NT0JJTEVfMTY7IixyZXBsYWNlbWVudDp7bWF0Y2g6LyhcLmZyb21Jc01vYmlsZSwuKz8pXGkuc3RhdHVzLyxyZXBsYWNlOihlLHQpPT5gJHt0fSJvbmxpbmUiYH19XX0pfSk7dmFyIFJ3LGt1LGp5PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7dWkoKTtKcigpO3goKTtCKCk7QigpO00oKTtSdz1lPT4oKT0+e3Rocm93IG5ldyBFcnJvcihgJyR7ZX0nIGlzIERpc2NvcmQgRGVza3RvcCBvbmx5LmApfSxrdT12KHtuYW1lOiJDb25zb2xlU2hvcnRjdXRzIixkZXNjcmlwdGlvbjoiQWRkcyBzaG9ydGVyIEFsaWFzZXMgZm9yIG1hbnkgdGhpbmdzIG9uIHRoZSB3aW5kb3cuIFJ1biBgc2hvcnRjdXRMaXN0YCBmb3IgYSBsaXN0LiIsYXV0aG9yczpbZC5WZW5dLGdldFNob3J0Y3V0cygpe2Z1bmN0aW9uIGUobil7bGV0IHI9bmV3IE1hcDtyZXR1cm4gZnVuY3Rpb24oLi4uaSl7bGV0IHM9U3RyaW5nKGkpO2lmKHIuaGFzKHMpKXJldHVybiByLmdldChzKTtsZXQgYz1scihuKC4uLmkpKSx1PSgoKT0+e3N3aXRjaChjLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gY1swXTtkZWZhdWx0OmxldCBwPVsuLi5uZXcgU2V0KGMpXTtyZXR1cm4gcC5sZW5ndGg+MSYmY29uc29sZS53YXJuKGBXYXJuaW5nOiBUaGlzIGZpbHRlciBtYXRjaGVzICR7Yy5sZW5ndGh9IG1vZHVsZXMuIE1ha2UgaXQgbW9yZSBzcGVjaWZpYyEKYCxwKSxjWzBdfX0pKCk7cmV0dXJuIHUmJnMmJnIuc2V0KHMsdSksdX19bGV0IHQ7cmV0dXJue3dwOlZlbmNvcmQuV2VicGFjayx3cGM6V3QuYyx3cmVxOld0LHdwc2VhcmNoOlBsLHdwZXg6SWwsd3BleHM6bj0+VmVuY29yZC5XZWJwYWNrLmV4dHJhY3QoVmVuY29yZC5XZWJwYWNrLmZpbmRNb2R1bGVJZChuKSksZmluZDplKG49Pm4pLGZpbmRBbGw6bHIsZmluZEJ5UHJvcHM6ZShKLmJ5UHJvcHMpLGZpbmRBbGxCeVByb3BzOiguLi5uKT0+bHIoSi5ieVByb3BzKC4uLm4pKSxmaW5kQnlDb2RlOmUoSi5ieUNvZGUpLGZpbmRBbGxCeUNvZGU6bj0+bHIoSi5ieUNvZGUobikpLGZpbmRTdG9yZTplKEouYnlTdG9yZU5hbWUpLFBsdWdpbnNBcGk6VmVuY29yZC5QbHVnaW5zLHBsdWdpbnM6VmVuY29yZC5QbHVnaW5zLnBsdWdpbnMsUmVhY3Q6QSxTZXR0aW5nczpWZW5jb3JkLlNldHRpbmdzLEFwaTpWZW5jb3JkLkFwaSxyZWxvYWQ6KCk9PmxvY2F0aW9uLnJlbG9hZCgpLHJlc3RhcnQ6UncoInJlc3RhcnQiKSxjYW5vbmljYWxpemVNYXRjaDpqbyxjYW5vbmljYWxpemVSZXBsYWNlOkNzLGNhbm9uaWNhbGl6ZVJlcGxhY2VtZW50OlhyLGZha2VSZW5kZXI6KG4scik9PntsZXQgaT10Py5kZXJlZigpLHM9aT8uY2xvc2VkPT09ITE/aTp1bnNhZmVXaW5kb3cub3BlbigiYWJvdXQ6YmxhbmsiLCJGYWtlIFJlbmRlciIsInBvcHVwLHdpZHRoPTUwMCxoZWlnaHQ9NTAwIik7dD1uZXcgV2Vha1JlZihzKSxzLmZvY3VzKCksVW8ucmVuZGVyKEEuY3JlYXRlRWxlbWVudChuLHIpLHMuZG9jdW1lbnQuYm9keSl9fX0sc3RhcnQoKXtsZXQgZT10aGlzLmdldFNob3J0Y3V0cygpO3Vuc2FmZVdpbmRvdy5zaG9ydGN1dExpc3Q9ZTtmb3IobGV0W3Qsbl1vZiBPYmplY3QuZW50cmllcyhlKSl1bnNhZmVXaW5kb3dbdF09bn0sc3RvcCgpe2RlbGV0ZSB1bnNhZmVXaW5kb3cuc2hvcnRjdXRMaXN0O2ZvcihsZXQgZSBpbiB0aGlzLmdldFNob3J0Y3V0cygpKWRlbGV0ZSB1bnNhZmVXaW5kb3dbZV19fSl9KTt2YXIgTW8sQXUsTHUsaWEsRXUsRHUsV3k9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2ZvKCk7RigpO1AoKTt3ZSgpO0tlKCk7eCgpO2hyKCk7TSgpO01vPW5ldyBRKCJDcmFzaEhhbmRsZXIiKSxBdT1FKHthdHRlbXB0VG9QcmV2ZW50Q3Jhc2hlczp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIGF0dGVtcHQgdG8gcHJldmVudCBEaXNjb3JkIGNyYXNoZXMuIixkZWZhdWx0OiEwfSxhdHRlbXB0VG9OYXZpZ2F0ZVRvSG9tZTp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIGF0dGVtcHQgdG8gbmF2aWdhdGUgdG8gdGhlIGhvbWUgd2hlbiBwcmV2ZW50aW5nIERpc2NvcmQgY3Jhc2hlcy4iLGRlZmF1bHQ6ITF9fSksTHU9MCxpYT0wLEV1PSExLER1PXYoe25hbWU6IkNyYXNoSGFuZGxlciIsZGVzY3JpcHRpb246IlV0aWxpdHkgcGx1Z2luIGZvciBoYW5kbGluZyBhbmQgcG9zc2libHkgcmVjb3ZlcmluZyBmcm9tIENyYXNoZXMgd2l0aG91dCBhIHJlc3RhcnQiLGF1dGhvcnM6W2QuTnVja3l6XSxlbmFibGVkQnlEZWZhdWx0OiEwLHBvcEFsbE1vZGFsczp2b2lkIDAsc2V0dGluZ3M6QXUscGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5FUlJPUlNfVU5FWFBFQ1RFRF9DUkFTSCIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz10aGlzXC5zZXRTdGF0ZVwoKS8scmVwbGFjZToiJHNlbGYuaGFuZGxlQ3Jhc2godGhpcyl8fCJ9fSx7ZmluZDonZGlzcGF0Y2goe3R5cGU6Ik1PREFMX1BPUF9BTEwifSknLHJlcGxhY2VtZW50OnttYXRjaDovIk1PREFMX1BPUF9BTEwiLis/fTsoPzw9KFxpKT1mdW5jdGlvbi4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYucG9wQWxsTW9kYWxzPSR7dH07YH19XSxoYW5kbGVDcmFzaChlKXtpZihEYXRlLm5vdygpLWlhPD0xZTMmJiFFdSlyZXR1cm4hMDtpZihFdT0hMSwrK0x1PjUpe3RyeXtTZSh7Y29sb3I6IiNlZWQyMDIiLHRpdGxlOiJEaXNjb3JkIGhhcyBjcmFzaGVkISIsYm9keToiQXduIDooIERpc2NvcmQgaGFzIGNyYXNoZWQgbW9yZSB0aGFuIGZpdmUgdGltZXMsIG5vdCBhdHRlbXB0aW5nIHRvIHJlY292ZXIuIixub1BlcnNpc3Q6ITB9KX1jYXRjaHt9cmV0dXJuIGlhPURhdGUubm93KCksITF9c2V0VGltZW91dCgoKT0+THUtLSw2ZTQpO3RyeXtyZXR1cm4gTHU9PT0xJiZwaSgiVWggb2gsIERpc2NvcmQgaGFzIGp1c3QgY3Jhc2hlZC4uLiBidXQgZ29vZCBuZXdzLCB0aGVyZSBpcyBhIFZlbmNvcmQgdXBkYXRlIGF2YWlsYWJsZSB0aGF0IG1pZ2h0IGZpeCB0aGlzIGlzc3VlISBXb3VsZCB5b3UgbGlrZSB0byB1cGRhdGUgbm93PyIsITApLEF1LnN0b3JlLmF0dGVtcHRUb1ByZXZlbnRDcmFzaGVzPyh0aGlzLmhhbmRsZVByZXZlbnRDcmFzaChlKSwhMCk6ITF9Y2F0Y2godCl7cmV0dXJuIE1vLmVycm9yKCJGYWlsZWQgdG8gaGFuZGxlIGNyYXNoIix0KSwhMX1maW5hbGx5e2lhPURhdGUubm93KCl9fSxoYW5kbGVQcmV2ZW50Q3Jhc2goZSl7aWYoRGF0ZS5ub3coKS1pYT49MWUzKXRyeXtTZSh7Y29sb3I6IiNlZWQyMDIiLHRpdGxlOiJEaXNjb3JkIGhhcyBjcmFzaGVkISIsYm9keToiQXR0ZW1wdGluZyB0byByZWNvdmVyLi4uIixub1BlcnNpc3Q6ITB9KX1jYXRjaHt9dHJ5e18uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KX1jYXRjaCh0KXtNby5kZWJ1ZygiRmFpbGVkIHRvIGNsb3NlIG9wZW4gY29udGV4dCBtZW51LiIsdCl9dHJ5e3RoaXMucG9wQWxsTW9kYWxzPy4oKX1jYXRjaCh0KXtNby5kZWJ1ZygiRmFpbGVkIHRvIGNsb3NlIG9sZCBtb2RhbHMuIix0KX10cnl7RmwoKX1jYXRjaCh0KXtNby5kZWJ1ZygiRmFpbGVkIHRvIGNsb3NlIGFsbCBvcGVuIG1vZGFscy4iLHQpfXRyeXtfLmRpc3BhdGNoKHt0eXBlOiJVU0VSX1BST0ZJTEVfTU9EQUxfQ0xPU0UifSl9Y2F0Y2godCl7TW8uZGVidWcoIkZhaWxlZCB0byBjbG9zZSB1c2VyIHBvcG91dC4iLHQpfXRyeXtfLmRpc3BhdGNoKHt0eXBlOiJMQVlFUl9QT1BfQUxMIn0pfWNhdGNoKHQpe01vLmRlYnVnKCJGYWlsZWQgdG8gcG9wIGFsbCBsYXllcnMuIix0KX1pZihBdS5zdG9yZS5hdHRlbXB0VG9OYXZpZ2F0ZVRvSG9tZSl0cnl7S3IudHJhbnNpdGlvblRvKCIvY2hhbm5lbHMvQG1lIil9Y2F0Y2godCl7TW8uZGVidWcoIkZhaWxlZCB0byBuYXZpZ2F0ZSB0byBob21lIix0KX10cnl7RXU9ITAsZS5mb3JjZVVwZGF0ZSgpfWNhdGNoKHQpe01vLmRlYnVnKCJGYWlsZWQgdG8gdXBkYXRlIGNyYXNoIGhhbmRsZXIgY29tcG9uZW50LiIsdCl9fX0pfSk7YXN5bmMgZnVuY3Rpb24gcXkoZSl7cmV0dXJuL2h0dHBzPzpcL1wvKGNkbnxtZWRpYSlcLmRpc2NvcmRhcHBcLihjb218bmV0KVwvYXR0YWNobWVudHNcLy8udGVzdChlKT8ibXA6IitlLnJlcGxhY2UoL2h0dHBzPzpcL1wvKGNkbnxtZWRpYSlcLmRpc2NvcmRhcHBcLihjb218bmV0KVwvLywiIik6KGF3YWl0IEV3LmdldEFzc2V0KFVuLnN0b3JlLmFwcElELFtlLHZvaWQgMF0pKVswXX1mdW5jdGlvbiBEdygpe3JldHVybiBVbi5zdG9yZS50eXBlIT09MX1mdW5jdGlvbiBPdygpe3JldHVybiBVbi5zdG9yZS50eXBlPT09MSYmVW4uc3RvcmUuc3RyZWFtTGluayYmIS8oaHR0cHM/OlwvXC8od3d3XC4pPyh0d2l0Y2hcLnR2fHlvdXR1YmVcLmNvbSlcL1x3KykvLnRlc3QoVW4uc3RvcmUuc3RyZWFtTGluayk/IlN0cmVhbWluZyBsaW5rIG11c3QgYmUgYSB2YWxpZCBVUkwuIjohMH1mdW5jdGlvbiBLeSgpe3JldHVybiBVbi5zdG9yZS50aW1lc3RhbXBNb2RlIT09M31mdW5jdGlvbiBZeShlKXtyZXR1cm4vaHR0cHM/OlwvXC8vLnRlc3QoZSk/L2h0dHBzPzpcL1wvKD8haVwuKT9pbWd1clwuY29tXC8vLnRlc3QoZSk/IkltZ3VyIGxpbmsgbXVzdCBiZSBhIGRpcmVjdCBsaW5rIHRvIHRoZSBpbWFnZS4gKGUuZy4gaHR0cHM6Ly9pLmltZ3VyLmNvbS8uLi4pIjovaHR0cHM/OlwvXC8oPyFtZWRpYVwuKT90ZW5vclwuY29tXC8vLnRlc3QoZSk/IlRlbm9yIGxpbmsgbXVzdCBiZSBhIGRpcmVjdCBsaW5rIHRvIHRoZSBpbWFnZS4gKGUuZy4gaHR0cHM6Ly9tZWRpYS50ZW5vci5jb20vLi4uKSI6ITA6ITB9YXN5bmMgZnVuY3Rpb24gWnkoKXtsZXR7YXBwSUQ6ZSxhcHBOYW1lOnQsZGV0YWlsczpuLHN0YXRlOnIsdHlwZTppLHN0cmVhbUxpbms6cyxzdGFydFRpbWU6YyxlbmRUaW1lOnUsaW1hZ2VCaWc6cCxpbWFnZUJpZ1Rvb2x0aXA6eSxpbWFnZVNtYWxsOmgsaW1hZ2VTbWFsbFRvb2x0aXA6UyxidXR0b25PbmVUZXh0OlQsYnV0dG9uT25lVVJMOncsYnV0dG9uVHdvVGV4dDpMLGJ1dHRvblR3b1VSTDpDfT1Vbi5zdG9yZTtpZighdClyZXR1cm47bGV0IGs9e2FwcGxpY2F0aW9uX2lkOmV8fCIwIixuYW1lOnQsc3RhdGU6cixkZXRhaWxzOm4sdHlwZTppLGZsYWdzOjE8PDB9O3N3aXRjaChpPT09MSYmKGsudXJsPXMpLFVuLnN0b3JlLnRpbWVzdGFtcE1vZGUpe2Nhc2UgMTprLnRpbWVzdGFtcHM9e3N0YXJ0Ok1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpfTticmVhaztjYXNlIDI6ay50aW1lc3RhbXBzPXtzdGFydDpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKS1uZXcgRGF0ZSgpLmdldEhvdXJzKCkqMzYwMC1uZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKSo2MC1uZXcgRGF0ZSgpLmdldFNlY29uZHMoKX07YnJlYWs7Y2FzZSAzOmMmJihrLnRpbWVzdGFtcHM9e3N0YXJ0OmN9LHUmJihrLnRpbWVzdGFtcHMuZW5kPXUpKTticmVhaztjYXNlIDA6ZGVmYXVsdDpicmVha31UJiYoay5idXR0b25zPVtULExdLmZpbHRlcihNcyksay5tZXRhZGF0YT17YnV0dG9uX3VybHM6W3csQ10uZmlsdGVyKE1zKX0pLHAmJihrLmFzc2V0cz17bGFyZ2VfaW1hZ2U6YXdhaXQgcXkocCksbGFyZ2VfdGV4dDp5fHx2b2lkIDB9KSxoJiYoay5hc3NldHM9ey4uLmsuYXNzZXRzLHNtYWxsX2ltYWdlOmF3YWl0IHF5KGgpLHNtYWxsX3RleHQ6U3x8dm9pZCAwfSk7Zm9yKGxldCBVIGluIGspe2lmKFU9PT0idHlwZSIpY29udGludWU7bGV0ICQ9a1tVXTsoISR8fCQubGVuZ3RoPT09MCkmJmRlbGV0ZSBrW1VdfXJldHVybiBrfWFzeW5jIGZ1bmN0aW9uIG50KGUpe2xldCB0PWF3YWl0IFp5KCk7Xy5kaXNwYXRjaCh7dHlwZToiTE9DQUxfQUNUSVZJVFlfVVBEQVRFIixhY3Rpdml0eTplP251bGw6dCxzb2NrZXRJZDoiQ3VzdG9tUlBDIn0pfXZhciBrdyxBdyxMdyxFdyxVbixPdSxYeT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO3dvKCk7UCgpO1BzKCk7Z2UoKTt4KCk7QigpO00oKTtrdz1kZSgib25PcGVuR2FtZVByb2ZpbGUiKSxBdz1JKCJhY3Rpdml0eSIsImJ1dHRvbkNvbG9yIiksTHc9SSgicHJvZmlsZUNvbG9ycyIpLEV3PUplKCJnZXRBc3NldEltYWdlOiBzaXplIG11c3QgPT09IFtudW1iZXIsIG51bWJlcl0gZm9yIFR3aXRjaCIse2dldEFzc2V0OkouYnlDb2RlKCJhcHBseSgiKX0pO1VuPUUoe2FwcElEOnt0eXBlOjAsZGVzY3JpcHRpb246IkFwcGxpY2F0aW9uIElEIChyZXF1aXJlZCkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsaXNWYWxpZDplPT5lP2UmJiEvXlxkKyQvLnRlc3QoZSk/IkFwcGxpY2F0aW9uIElEIG11c3QgYmUgYSBudW1iZXIuIjohMDoiQXBwbGljYXRpb24gSUQgaXMgcmVxdWlyZWQuIn0sYXBwTmFtZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJBcHBsaWNhdGlvbiBuYW1lIChyZXF1aXJlZCkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsaXNWYWxpZDplPT5lP2UubGVuZ3RoPjEyOD8iQXBwbGljYXRpb24gbmFtZSBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAxMjggY2hhcmFjdGVycy4iOiEwOiJBcHBsaWNhdGlvbiBuYW1lIGlzIHJlcXVpcmVkLiJ9LGRldGFpbHM6e3R5cGU6MCxkZXNjcmlwdGlvbjoiRGV0YWlscyAobGluZSAxKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjEyOD8iRGV0YWlscyAobGluZSAxKSBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAxMjggY2hhcmFjdGVycy4iOiEwfSxzdGF0ZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJTdGF0ZSAobGluZSAyKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjEyOD8iU3RhdGUgKGxpbmUgMikgbXVzdCBiZSBub3QgbG9uZ2VyIHRoYW4gMTI4IGNoYXJhY3RlcnMuIjohMH0sdHlwZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJBY3Rpdml0eSB0eXBlIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOm50LG9wdGlvbnM6W3tsYWJlbDoiUGxheWluZyIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IlN0cmVhbWluZyIsdmFsdWU6MX0se2xhYmVsOiJMaXN0ZW5pbmciLHZhbHVlOjJ9LHtsYWJlbDoiV2F0Y2hpbmciLHZhbHVlOjN9LHtsYWJlbDoiQ29tcGV0aW5nIix2YWx1ZTo1fV19LHN0cmVhbUxpbms6e3R5cGU6MCxkZXNjcmlwdGlvbjoiVHdpdGNoLnR2IG9yIFlvdXR1YmUuY29tIGxpbmsgKG9ubHkgZm9yIFN0cmVhbWluZyBhY3Rpdml0eSB0eXBlKSIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc0Rpc2FibGVkOkR3LGlzVmFsaWQ6T3d9LHRpbWVzdGFtcE1vZGU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiVGltZXN0YW1wIG1vZGUiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsb3B0aW9uczpbe2xhYmVsOiJOb25lIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiU2luY2UgZGlzY29yZCBvcGVuIix2YWx1ZToxfSx7bGFiZWw6IlNhbWUgYXMgeW91ciBjdXJyZW50IHRpbWUiLHZhbHVlOjJ9LHtsYWJlbDoiQ3VzdG9tIix2YWx1ZTozfV19LHN0YXJ0VGltZTp7dHlwZToxLGRlc2NyaXB0aW9uOiJTdGFydCB0aW1lc3RhbXAgKG9ubHkgZm9yIGN1c3RvbSB0aW1lc3RhbXAgbW9kZSkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsaXNEaXNhYmxlZDpLeSxpc1ZhbGlkOmU9PmUmJmU8MD8iU3RhcnQgdGltZXN0YW1wIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuIjohMH0sZW5kVGltZTp7dHlwZToxLGRlc2NyaXB0aW9uOiJFbmQgdGltZXN0YW1wIChvbmx5IGZvciBjdXN0b20gdGltZXN0YW1wIG1vZGUpIixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOm50LGlzRGlzYWJsZWQ6S3ksaXNWYWxpZDplPT5lJiZlPDA/IkVuZCB0aW1lc3RhbXAgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4iOiEwfSxpbWFnZUJpZzp7dHlwZTowLGRlc2NyaXB0aW9uOiJCaWcgaW1hZ2Uga2V5IixyZXN0YXJ0TmVlZGVkOiEwLG9uQ2hhbmdlOm50LGlzVmFsaWQ6WXl9LGltYWdlQmlnVG9vbHRpcDp7dHlwZTowLGRlc2NyaXB0aW9uOiJCaWcgaW1hZ2UgdG9vbHRpcCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjEyOD8iQmlnIGltYWdlIHRvb2x0aXAgbXVzdCBiZSBub3QgbG9uZ2VyIHRoYW4gMTI4IGNoYXJhY3RlcnMuIjohMH0saW1hZ2VTbWFsbDp7dHlwZTowLGRlc2NyaXB0aW9uOiJTbWFsbCBpbWFnZSBrZXkiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsaXNWYWxpZDpZeX0saW1hZ2VTbWFsbFRvb2x0aXA6e3R5cGU6MCxkZXNjcmlwdGlvbjoiU21hbGwgaW1hZ2UgdG9vbHRpcCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjEyOD8iU21hbGwgaW1hZ2UgdG9vbHRpcCBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAxMjggY2hhcmFjdGVycy4iOiEwfSxidXR0b25PbmVUZXh0Ont0eXBlOjAsZGVzY3JpcHRpb246IkJ1dHRvbiAxIHRleHQiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnQsaXNWYWxpZDplPT5lJiZlLmxlbmd0aD4zMT8iQnV0dG9uIDEgdGV4dCBtdXN0IGJlIG5vdCBsb25nZXIgdGhhbiAzMSBjaGFyYWN0ZXJzLiI6ITB9LGJ1dHRvbk9uZVVSTDp7dHlwZTowLGRlc2NyaXB0aW9uOiJCdXR0b24gMSBVUkwiLHJlc3RhcnROZWVkZWQ6ITAsb25DaGFuZ2U6bnR9LGJ1dHRvblR3b1RleHQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiQnV0dG9uIDIgdGV4dCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudCxpc1ZhbGlkOmU9PmUmJmUubGVuZ3RoPjMxPyJCdXR0b24gMiB0ZXh0IG11c3QgYmUgbm90IGxvbmdlciB0aGFuIDMxIGNoYXJhY3RlcnMuIjohMH0sYnV0dG9uVHdvVVJMOnt0eXBlOjAsZGVzY3JpcHRpb246IkJ1dHRvbiAyIFVSTCIscmVzdGFydE5lZWRlZDohMCxvbkNoYW5nZTpudH19KTtPdT12KHtuYW1lOiJDdXN0b21SUEMiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHNldCBhIGN1c3RvbSByaWNoIHByZXNlbmNlLiIsYXV0aG9yczpbZC5jYXB0YWluLGQuQXV0dW1uVk5dLHN0YXJ0Om50LHN0b3A6KCk9Pm50KCEwKSxzZXR0aW5nczpVbixzZXR0aW5nc0Fib3V0Q29tcG9uZW50OigpPT57bGV0IGU9VmUoWnkpO3JldHVybiBvKG0sbnVsbCxvKGIuRm9ybVRleHQsbnVsbCwiR28gdG8gIixvKGx0LHtocmVmOiJodHRwczovL2Rpc2NvcmQuY29tL2RldmVsb3BlcnMvYXBwbGljYXRpb25zIn0sIkRpc2NvcmQgRGV2ZXJsb3BlciBQb3J0YWwiKSwiIHRvIGNyZWF0ZSBhbiBhcHBsaWNhdGlvbiBhbmQgZ2V0IHRoZSBhcHBsaWNhdGlvbiBJRC4iKSxvKGIuRm9ybVRleHQsbnVsbCwiVXBsb2FkIGltYWdlcyBpbiB0aGUgUmljaCBQcmVzZW5jZSB0YWIgdG8gZ2V0IHRoZSBpbWFnZSBrZXlzLiIpLG8oYi5Gb3JtVGV4dCxudWxsLCJJZiB5b3Ugd2FudCB0byB1c2UgaW1hZ2UgbGluaywgZG93bmxvYWQgeW91ciBpbWFnZSBhbmQgcmV1cGxvYWQgdGhlIGltYWdlIHRvICIsbyhsdCx7aHJlZjoiaHR0cHM6Ly9pbWd1ci5jb20ifSwiSW1ndXIiKSwnIGFuZCBnZXQgdGhlIGltYWdlIGxpbmsgYnkgcmlnaHQtY2xpY2tpbmcgdGhlIGltYWdlIGFuZCBzZWxlY3QgIkNvcHkgaW1hZ2UgYWRkcmVzcyIuJyksbyhiLkZvcm1EaXZpZGVyLG51bGwpLG8oImRpdiIse3N0eWxlOnt3aWR0aDoiMjg0cHgifSxjbGFzc05hbWU6THcucHJvZmlsZUNvbG9yc30sZVswXSYmbyhrdyx7YWN0aXZpdHk6ZVswXSxjbGFzc05hbWU6QXcuYWN0aXZpdHksY2hhbm5lbElkOlRlLmdldENoYW5uZWxJZCgpLGd1aWxkOm1lLmdldEd1aWxkKGNvLmdldExhc3RTZWxlY3RlZEd1aWxkSWQoKSksYXBwbGljYXRpb246e2lkOlVuLnN0b3JlLmFwcElEfSx1c2VyOkcuZ2V0Q3VycmVudFVzZXIoKX0pKSl9fSl9KTt2YXIgX3UsSnk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7X3U9dih7bmFtZToiRGlzYWJsZURNQ2FsbElkbGUiLGRlc2NyaXB0aW9uOiJEaXNhYmxlcyBhdXRvbWF0aWNhbGx5IGdldHRpbmcga2lja2VkIGZyb20gYSBETSB2b2ljZSBjYWxsIGFmdGVyIDMgbWludXRlcy4iLGF1dGhvcnM6W2QuTnVja3l6XSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLkJPVF9DQUxMX0lETEVfRElTQ09OTkVDVCIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9ZnVuY3Rpb24gXGlcKFwpeykoPz0uezEsMTAwfVwuTWVzc2FnZXNcLkJPVF9DQUxMX0lETEVfRElTQ09OTkVDVCkvLHJlcGxhY2U6InJldHVybjsifX1dfSl9KTtmdW5jdGlvbiBCdShlKXtyZXR1cm4gZS50PT09IkVtb2ppIj9gJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7dW5zYWZlV2luZG93LkdMT0JBTF9FTlYuQ0ROX0hPU1R9L2Vtb2ppcy8ke2UuaWR9LiR7ZS5pc0FuaW1hdGVkPyJnaWYiOiJwbmcifWA6YCR7bG9jYXRpb24ub3JpZ2lufS9zdGlja2Vycy8ke2UuaWR9LiR7RndbZS5mb3JtYXRfdHlwZV19YH1hc3luYyBmdW5jdGlvbiB0MShlKXtsZXQgdD1fdy5nZXRTdGlja2VyQnlJZChlKTtpZih0KXJldHVybiB0O2xldHtib2R5Om59PWF3YWl0IHl0LmdldCh7dXJsOmAvc3RpY2tlcnMvJHtlfWB9KTtyZXR1cm4gXy5kaXNwYXRjaCh7dHlwZToiU1RJQ0tFUl9GRVRDSF9TVUNDRVNTIixzdGlja2VyOm59KSxufWFzeW5jIGZ1bmN0aW9uICR3KGUsdCl7bGV0IG49bmV3IEZvcm1EYXRhO24uYXBwZW5kKCJuYW1lIix0Lm5hbWUpLG4uYXBwZW5kKCJ0YWdzIix0LnRhZ3MpLG4uYXBwZW5kKCJkZXNjcmlwdGlvbiIsdC5kZXNjcmlwdGlvbiksbi5hcHBlbmQoImZpbGUiLGF3YWl0IG4xKEJ1KHQpKSk7bGV0e2JvZHk6cn09YXdhaXQgeXQucG9zdCh7dXJsOmAvZ3VpbGRzLyR7ZX0vc3RpY2tlcnNgLGJvZHk6bn0pO18uZGlzcGF0Y2goe3R5cGU6IkdVSUxEX1NUSUNLRVJTX0NSRUFURV9TVUNDRVNTIixndWlsZElkOmUsc3RpY2tlcjp7Li4ucix1c2VyOkcuZ2V0Q3VycmVudFVzZXIoKX19KX1hc3luYyBmdW5jdGlvbiBVdyhlLHQpe2xldCBuPWF3YWl0IG4xKEJ1KHQpKSxyPWF3YWl0IG5ldyBQcm9taXNlKGk9PntsZXQgcz1uZXcgRmlsZVJlYWRlcjtzLm9ubG9hZD0oKT0+aShzLnJlc3VsdCkscy5yZWFkQXNEYXRhVVJMKG4pfSk7cmV0dXJuIEJ3KHtndWlsZElkOmUsbmFtZTp0Lm5hbWUuc3BsaXQoIn4iKVswXSxpbWFnZTpyfSl9ZnVuY3Rpb24gR3coZSl7bGV0IHQ9Ry5nZXRDdXJyZW50VXNlcigpLmlkO3JldHVybiBPYmplY3QudmFsdWVzKG1lLmdldEd1aWxkcygpKS5maWx0ZXIobj0+e2lmKCEobi5vd25lcklkPT09dHx8QmlnSW50KE9lLmdldEd1aWxkUGVybWlzc2lvbnMoe2lkOm4uaWR9KSZReSk9PT1ReSkpcmV0dXJuITE7aWYoZS50PT09IlN0aWNrZXIiKXJldHVybiEwO2xldHtpc0FuaW1hdGVkOml9PWUscz1uLmdldE1heEVtb2ppU2xvdHMoKSx7ZW1vamlzOmN9PWZuLmdldEd1aWxkcygpW24uaWRdLHU9MDtmb3IobGV0IHAgb2YgYylwLmFuaW1hdGVkPT09aSYmdSsrO3JldHVybiB1PHN9KS5zb3J0KChuLHIpPT5uLm5hbWUubG9jYWxlQ29tcGFyZShyLm5hbWUpKX1hc3luYyBmdW5jdGlvbiBuMShlKXtsZXQgdD1hd2FpdCBmKGUpO2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7ZX0gLSAke3Quc3RhdHVzfWApO3JldHVybiB0LmJsb2IoKX1hc3luYyBmdW5jdGlvbiBIdyhlLHQpe3RyeXt0LnQ9PT0iU3RpY2tlciI/YXdhaXQgJHcoZSx0KTphd2FpdCBVdyhlLHQpLEsuc2hvdyh7bWVzc2FnZTpgU3VjY2Vzc2Z1bGx5IGNsb25lZCAke3QubmFtZX0gdG8gJHttZS5nZXRHdWlsZChlKT8ubmFtZT8/InlvdXIgc2VydmVyIn0hYCx0eXBlOksuVHlwZS5TVUNDRVNTLGlkOksuZ2VuSWQoKX0pfWNhdGNoKG4pe25ldyBRKCJFbW90ZUNsb25lciIpLmVycm9yKCJGYWlsZWQgdG8gY2xvbmUiLHQubmFtZSwidG8iLGUsbiksSy5zaG93KHttZXNzYWdlOiJPb3BzaWUgc29tZXRoaW5nIHdlbnQgd3JvbmcgOiggQ2hlY2sgY29uc29sZSEhISIsdHlwZTpLLlR5cGUuRkFJTFVSRSxpZDpLLmdlbklkKCl9KX19ZnVuY3Rpb24gV3coe2RhdGE6ZX0pe2xldFt0LG5dPUEudXNlU3RhdGUoITEpLFtyLGldPUEudXNlU3RhdGUoZS5uYW1lKSxbcyxjXT1BLnVzZVJlZHVjZXIocD0+cCsxLDApLHU9QS51c2VNZW1vKCgpPT5HdyhlKSxbZS5pZCxzXSk7cmV0dXJuIG8obSxudWxsLG8oYi5Gb3JtVGl0bGUse2NsYXNzTmFtZTp6LnRvcDIwfSwiQ3VzdG9tIE5hbWUiKSxvKHRhLHt2YWx1ZTpyLG9uQ2hhbmdlOnA9PntlLm5hbWU9cCxpKHApfSx2YWxpZGF0ZTpwPT5lLnQ9PT0iRW1vamkiJiZwLmxlbmd0aD4yJiZwLmxlbmd0aDwzMiYmancudGVzdChwKXx8ZS50PT09IlN0aWNrZXIiJiZwLmxlbmd0aD4yJiZwLmxlbmd0aDwzMHx8Ik5hbWUgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDMyIGNoYXJhY3RlcnMgYW5kIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyJ9KSxvKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiZmxleCIsZmxleFdyYXA6IndyYXAiLGdhcDoiMWVtIixwYWRkaW5nOiIxZW0gMC41ZW0iLGp1c3RpZnlDb250ZW50OiJjZW50ZXIiLGFsaWduSXRlbXM6ImNlbnRlciJ9fSx1Lm1hcChwPT5vKFose3RleHQ6cC5uYW1lfSwoe29uTW91c2VMZWF2ZTp5LG9uTW91c2VFbnRlcjpofSk9Pm8oImRpdiIse29uTW91c2VMZWF2ZTp5LG9uTW91c2VFbnRlcjpoLHJvbGU6ImJ1dHRvbiIsImFyaWEtbGFiZWwiOiJDbG9uZSB0byAiK3AubmFtZSwiYXJpYS1kaXNhYmxlZCI6dCxzdHlsZTp7Ym9yZGVyUmFkaXVzOiI1MCUiLGJhY2tncm91bmRDb2xvcjoidmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpIixkaXNwbGF5OiJpbmxpbmUtZmxleCIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsYWxpZ25JdGVtczoiY2VudGVyIix3aWR0aDoiNGVtIixoZWlnaHQ6IjRlbSIsY3Vyc29yOnQ/Im5vdC1hbGxvd2VkIjoicG9pbnRlciIsZmlsdGVyOnQ/ImJyaWdodG5lc3MoNTAlKSI6Im5vbmUifSxvbkNsaWNrOnQ/dm9pZCAwOmFzeW5jKCk9PntuKCEwKSxIdyhwLmlkLGUpLmZpbmFsbHkoKCk9PntjKCksbighMSl9KX19LHAuaWNvbj9vKCJpbWciLHsiYXJpYS1oaWRkZW4iOiEwLHN0eWxlOntib3JkZXJSYWRpdXM6IjUwJSIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSJ9LHNyYzpwLmdldEljb25VUkwoNTEyLCEwKSxhbHQ6cC5uYW1lfSk6byhiLkZvcm1UZXh0LHtzdHlsZTp7Zm9udFNpemU6encocC5hY3JvbnltKSx3aWR0aDoiMTAwJSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2hpdGVTcGFjZToibm93cmFwIix0ZXh0QWxpZ246ImNlbnRlciIsY3Vyc29yOnQ/Im5vdC1hbGxvd2VkIjoicG9pbnRlciJ9fSxwLmFjcm9ueW0pKSkpKSl9ZnVuY3Rpb24gc2EoZSx0KXtyZXR1cm4gbyhPLk1lbnVJdGVtLHtpZDoiZW1vdGUtY2xvbmVyIixrZXk6ImVtb3RlLWNsb25lciIsbGFiZWw6YENsb25lICR7ZX1gLGFjdGlvbjooKT0+WXIoYXN5bmMoKT0+e2xldCBuPWF3YWl0IHQoKSxyPXt0OmUsLi4ubn0saT1CdShyKTtyZXR1cm4gcz0+byhBZSx7Li4uc30sbyhCZSxudWxsLG8oImltZyIse3JvbGU6InByZXNlbnRhdGlvbiIsImFyaWEtaGlkZGVuIjohMCxzcmM6aSxhbHQ6IiIsaGVpZ2h0OjI0LHdpZHRoOjI0LHN0eWxlOnttYXJnaW5SaWdodDoiMC41ZW0ifX0pLG8oYi5Gb3JtVGV4dCxudWxsLCJDbG9uZSAiLHIubmFtZSkpLG8oRmUsbnVsbCxvKFd3LHtkYXRhOnJ9KSkpfSl9KX1mdW5jdGlvbiBvMShlKXtyZXR1cm4gbmV3IFVSTChlKS5wYXRobmFtZS5lbmRzV2l0aCgiLmdpZiIpfXZhciBReSxfdyxCdyxGdyx6dyxqdyxWeSxlMSxGdSxyMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3QoKTtydSgpO1AoKTt3ZSgpO2V0KCk7S2UoKTt4KCk7QigpO00oKTtReT0xbjw8MzBuLF93PWxlKCJTdGlja2Vyc1N0b3JlIiksQnc9ZGUoJyJFTU9KSV9VUExPQURfU1RBUlQiJywiR1VJTERfRU1PSklTKCIpLEZ3PVssInBuZyIsInBuZyIsImpzb24iLCJnaWYiXTt6dz1lPT5bMjAsMjAsMTgsMTgsMTYsMTQsMTJdW2UubGVuZ3RoXT8/NCxqdz0vXlx3KyQvaTtWeT0oZSx0KT0+KCk9PntsZXR7ZmF2b3JpdGVhYmxlSWQ6bixpdGVtSHJlZjpyLGl0ZW1TcmM6aSxmYXZvcml0ZWFibGVUeXBlOnN9PXQ/P3t9O2lmKCFuKXJldHVybjtsZXQgYz0oKCk9Pntzd2l0Y2gocyl7Y2FzZSJlbW9qaSI6bGV0IHU9dC5tZXNzYWdlLmNvbnRlbnQubWF0Y2goUmVnRXhwKGA8YT86KFxcdyspKD86flxcZCspPzoke259PnxodHRwczovL2NkblxcLmRpc2NvcmRhcHBcXC5jb20vZW1vamlzLyR7bn1cXC5gKSk7aWYoIXUpcmV0dXJuO2xldCBwPXVbMV0/PyJGYWtlTml0cm9FbW9qaSI7cmV0dXJuIHNhKCJFbW9qaSIsKCk9Pih7aWQ6bixuYW1lOnAsaXNBbmltYXRlZDpvMShyPz9pKX0pKTtjYXNlInN0aWNrZXIiOnJldHVybiB0Lm1lc3NhZ2Uuc3RpY2tlckl0ZW1zLmZpbmQoaD0+aC5pZD09PW4pPy5mb3JtYXRfdHlwZT09PTM/dm9pZCAwOnNhKCJTdGlja2VyIiwoKT0+dDEobikpfX0pKCk7YyYmYXQoImNvcHktbGluayIsZSk/LnB1c2goYyl9LGUxPShlLHQpPT4oKT0+e2xldHtpZDpuLG5hbWU6cix0eXBlOml9PXQ/LnRhcmdldD8uZGF0YXNldD8/e307aWYoISFuKWlmKGk9PT0iZW1vamkiJiZyKXtsZXQgcz10LnRhcmdldC5maXJzdENoaWxkO2UucHVzaChzYSgiRW1vamkiLCgpPT4oe2lkOm4sbmFtZTpyLGlzQW5pbWF0ZWQ6cyYmbzEocy5zcmMpfSkpKX1lbHNlIGk9PT0ic3RpY2tlciImJiF0LnRhcmdldC5jbGFzc05hbWU/LmluY2x1ZGVzKCJsb3R0aWVDYW52YXMiKSYmZS5wdXNoKHNhKCJTdGlja2VyIiwoKT0+dDEobikpKX0sRnU9dih7bmFtZToiRW1vdGVDbG9uZXIiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIGNsb25lIEVtb3RlcyAmIFN0aWNrZXJzIHRvIHlvdXIgb3duIHNlcnZlciAocmlnaHQgY2xpY2sgdGhlbSkiLHRhZ3M6WyJTdGlja2VyQ2xvbmVyIl0sYXV0aG9yczpbZC5WZW4sZC5OdWNreXpdLHN0YXJ0KCl7cGUoIm1lc3NhZ2UiLFZ5KSxwZSgiZXhwcmVzc2lvbi1waWNrZXIiLGUxKX0sc3RvcCgpe2ZlKCJtZXNzYWdlIixWeSksZmUoImV4cHJlc3Npb24tcGlja2VyIixlMSl9fSl9KTt2YXIgJHUsVXUsR3UsaTE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtzZSgpO2VpKCk7UCgpO2V0KCk7eCgpO0IoKTtNKCk7JHU9SSgia2V5IiwicmVtb3ZlQnVpbGRPdmVycmlkZSIpLFV1PUUoe2VuYWJsZUlzU3RhZmY6e2Rlc2NyaXB0aW9uOiJFbmFibGUgaXNTdGFmZiIsdHlwZTozLGRlZmF1bHQ6ITEscmVzdGFydE5lZWRlZDohMH0sZm9yY2VTdGFnaW5nQmFubmVyOntkZXNjcmlwdGlvbjoiV2hldGhlciB0byBmb3JjZSBTdGFnaW5nIGJhbm5lciB1bmRlciB1c2VyIGFyZWEuIix0eXBlOjMsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfX0pLEd1PXYoe25hbWU6IkV4cGVyaW1lbnRzIixkZXNjcmlwdGlvbjoiRW5hYmxlIEFjY2VzcyB0byBFeHBlcmltZW50cyBpbiBEaXNjb3JkISIsYXV0aG9yczpbZC5NZWd1LGQuVmVuLGQuTmlja3l1eCxkLkJhblRoZU5vbnMsZC5OdWNreXpdLHNldHRpbmdzOlV1LHBhdGNoZXM6W3tmaW5kOiJPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtpc0RldmVsb3BlciIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9e2lzRGV2ZWxvcGVyOlx7W159XSs/LGdldDpmdW5jdGlvblwoXClce3JldHVybiApXHcvLHJlcGxhY2U6InRydWUifX0se2ZpbmQ6J3R5cGU6InVzZXIiLHJldmlzaW9uJyxyZXBsYWNlbWVudDp7bWF0Y2g6LyEoXGkpJiYiQ09OTkVDVElPTl9PUEVOIi4rPzsvZyxyZXBsYWNlOiIkMT0hMDsifX0se2ZpbmQ6Ii5pc1N0YWZmPWZ1bmN0aW9uKCl7IixwcmVkaWNhdGU6KCk9PlV1LnN0b3JlLmVuYWJsZUlzU3RhZmYscmVwbGFjZW1lbnQ6W3ttYXRjaDovcmV0dXJuXHMqPyhcaSlcLmhhc0ZsYWdcKChcaVwuXGkpXC5TVEFGRlwpfS8scmVwbGFjZTooZSx0LG4pPT5gcmV0dXJuIFZlbmNvcmQuV2VicGFjay5Db21tb24uVXNlclN0b3JlLmdldEN1cnJlbnRVc2VyKCk/LmlkPT09JHt0fS5pZHx8JHt0fS5oYXNGbGFnKCR7bn0uU1RBRkYpfWB9LHttYXRjaDovaGFzRnJlZVByZW1pdW09ZnVuY3Rpb25cKFwpe3JldHVybiB0aGlzLmlzU3RhZmZcKFwpXHMqP1x8XHwvLHJlcGxhY2U6Imhhc0ZyZWVQcmVtaXVtPWZ1bmN0aW9uKCl7cmV0dXJuICJ9XX0se2ZpbmQ6Ii5NZXNzYWdlcy5ERVZfTk9USUNFX1NUQUdJTkciLHByZWRpY2F0ZTooKT0+VXUuc3RvcmUuZm9yY2VTdGFnaW5nQmFubmVyLHJlcGxhY2VtZW50OnttYXRjaDovInN0YWdpbmciPT09d2luZG93XC5HTE9CQUxfRU5WXC5SRUxFQVNFX0NIQU5ORUwvLHJlcGxhY2U6InRydWUifX0se2ZpbmQ6J0gxLHRpdGxlOiJFeHBlcmltZW50cyInLHJlcGxhY2VtZW50OnttYXRjaDondGl0bGU6IkV4cGVyaW1lbnRzIixjaGlsZHJlbjpbJyxyZXBsYWNlOiIkJiRzZWxmLldhcm5pbmdDYXJkKCksIn19XSxzZXR0aW5nc0Fib3V0Q29tcG9uZW50OigpPT57bGV0IGU9bmF2aWdhdG9yLnBsYXRmb3JtLmluY2x1ZGVzKCJNYWMiKSx0PWU/ImNtZCI6ImN0cmwiLG49ZT8ib3B0IjoiYWx0IjtyZXR1cm4gbyhBLkZyYWdtZW50LG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoMyJ9LCJNb3JlIEluZm9ybWF0aW9uIiksbyhiLkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJZb3UgY2FuIGVuYWJsZSBjbGllbnQgRGV2VG9vbHMiLCIgIixvKCJrYmQiLHtjbGFzc05hbWU6JHUua2V5fSx0KSwiICsiLCIgIixvKCJrYmQiLHtjbGFzc05hbWU6JHUua2V5fSxuKSwiICsiLCIgIixvKCJrYmQiLHtjbGFzc05hbWU6JHUua2V5fSwiTyIpLCIgIiwiYWZ0ZXIgZW5hYmxpbmcgIixvKCJjb2RlIixudWxsLCJpc1N0YWZmIiksIiBiZWxvdyIpLG8oYi5Gb3JtVGV4dCxudWxsLCJhbmQgdGhlbiB0b2dnbGluZyAiLG8oImNvZGUiLG51bGwsIkVuYWJsZSBEZXZUb29scyIpLCIgaW4gdGhlICIsbygiY29kZSIsbnVsbCwiRGV2ZWxvcGVyIE9wdGlvbnMiKSwiIHRhYiBpbiBzZXR0aW5ncy4iKSl9LFdhcm5pbmdDYXJkOkQud3JhcCgoKT0+byhYbix7aWQ6InZjLWV4cGVyaW1lbnRzLXdhcm5pbmctY2FyZCIsY2xhc3NOYW1lOnouYm90dG9tMTZ9LG8oYi5Gb3JtVGl0bGUse3RhZzoiaDIifSwiSG9sZCBvbiEhIiksbyhiLkZvcm1UZXh0LG51bGwsIkV4cGVyaW1lbnRzIGFyZSB1bnJlbGVhc2VkIERpc2NvcmQgZmVhdHVyZXMuIFRoZXkgbWlnaHQgbm90IHdvcmssIG9yIGV2ZW4gYnJlYWsgeW91ciBjbGllbnQgb3IgZ2V0IHlvdXIgYWNjb3VudCBkaXNhYmxlZC4iKSxvKGIuRm9ybVRleHQse2NsYXNzTmFtZTp6LnRvcDh9LCJPbmx5IHVzZSBleHBlcmltZW50cyBpZiB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy4gVmVuY29yZCBpcyBub3QgcmVzcG9uc2libGUgZm9yIGFueSBkYW1hZ2UgY2F1c2VkIGJ5IGVuYWJsaW5nIGV4cGVyaW1lbnRzLiIpKSx7bm9vcDohMH0pfSl9KTt2YXIgSHUsczE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7SHU9dih7bmFtZToiRjhCcmVhayIsZGVzY3JpcHRpb246IlBhdXNlIHRoZSBjbGllbnQgd2hlbiB5b3UgcHJlc3MgRjggd2l0aCBEZXZUb29scyAoKyBicmVha3BvaW50cykgb3Blbi4iLGF1dGhvcnM6W2QubGV3aXNha3VyYV0sc3RhcnQoKXt1bnNhZmVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5ldmVudCl9LHN0b3AoKXt1bnNhZmVXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5ldmVudCl9LGV2ZW50KGUpe2lmKGUuY29kZT09PSJGOCIpZGVidWdnZXJ9fSl9KTt2YXIgYWEsYTEscXcsbDEsYzEsdTEsU2k9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2NuKCk7YWE9em4oKCk9PmltcG9ydCgiaHR0cHM6Ly91bnBrZy5jb20vZ2lmZW5jQDEuMC4zL2Rpc3QvZ2lmZW5jLmVzbS5qcyIpKSxhMT16bihhc3luYygpPT57bGV0IGU9e30sdD1uZXcgUHJveHkodW5zYWZlV2luZG93LHtzZXQ6KG4scixpKT0+ZVtyXT1pfSk7cmV0dXJuIEZ1bmN0aW9uKCJzZWxmIixhd2FpdCBmKCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9hcG5nLWNhbnZhcy8yLjEuMS9hcG5nLWNhbnZhcy5taW4uanMiKS50aGVuKG49Pm4udGV4dCgpKSkodCksZS5BUE5HfSkscXc9Imh0dHBzOi8vdW5wa2cuY29tL0B2YXAvc2hpa2ktd29ya2VyQDAuMC44L2Rpc3QiLGwxPWAke3F3fS9pbmRleC5taW4uanNgLGMxPSJodHRwczovL3VucGtnLmNvbS9AdmFwL3NoaWtpQDAuMTAuMy9kaXN0L29uaWcud2FzbSIsdTE9em4oKCk9PmltcG9ydCgiaHR0cHM6Ly91bnBrZy5jb20vc3RlZ2Nsb2FrLWRpc3RAMS4wLjAvaW5kZXguanMiKSl9KTtmdW5jdGlvbiBkMShlLHQpe2lmKCF0KXJldHVybjtsZXQgbj10LmZpZWxkcy5maW5kKGk9PmkubG9jYWxOYW1lPT09ZSk7cmV0dXJuIG4/T2JqZWN0LnZhbHVlcyhuKS5maW5kKGk9PnR5cGVvZiBpPT0iZnVuY3Rpb24iKT8uKCk6dm9pZCAwfXZhciBLdyxZdyxiaSxXdSxwMSxYbyxKbyxsYSxadyxYdyx6dSxqdSxjYSxSZSxxdSxtMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JG4oKTtGKCk7UCgpO1NpKCk7c3QoKTtjbigpO3dlKCk7eCgpO0IoKTtNKCk7S3c9MCxZdz1kZSgiVVBMT0FEX0ZJTEVfTElNSVRfRVJST1IiKSxiaT1sZSgiVXNlclNldHRpbmdzUHJvdG9TdG9yZSIpLFd1PU5lKGU9PmUuUHJvdG9DbGFzcz8udHlwZU5hbWU9PT0iZGlzY29yZF9wcm90b3MuZGlzY29yZF91c2Vycy52MS5QcmVsb2FkZWRVc2VyU2V0dGluZ3MiKSxwMT1JKCJyZWFkZXJGYWN0b3J5IiksWG89bGUoIlN0aWNrZXJzU3RvcmUiKTtKbz1mdCgoKT0+ZDEoImFwcGVhcmFuY2UiLFd1LlByb3RvQ2xhc3MpKSxsYT1mdCgoKT0+ZDEoImNsaWVudFRoZW1lU2V0dGluZ3MiLEpvKSksWnc9MW48PDE4bixYdz0xbjw8MzduLHp1PS9cL2Vtb2ppc1wvKFxkKz8pXC4ocG5nfHdlYnB8Z2lmKS8sanU9L1wvc3RpY2tlcnNcLyhcZCs/KVwuLyxjYT0vXC9hdHRhY2htZW50c1wvXGQrP1wvXGQrP1wvKFxkKz8pXC5naWYvLFJlPUUoe2VuYWJsZUVtb2ppQnlwYXNzOntkZXNjcmlwdGlvbjoiQWxsb3cgc2VuZGluZyBmYWtlIGVtb2ppcyIsdHlwZTozLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0sZW1vamlTaXplOntkZXNjcmlwdGlvbjoiU2l6ZSBvZiB0aGUgZW1vamlzIHdoZW4gc2VuZGluZyIsdHlwZTo1LGRlZmF1bHQ6NDgsbWFya2VyczpbMzIsNDgsNjQsMTI4LDE2MCwyNTYsNTEyXX0sdHJhbnNmb3JtRW1vamlzOntkZXNjcmlwdGlvbjoiV2hldGhlciB0byB0cmFuc2Zvcm0gZmFrZSBlbW9qaXMgaW50byByZWFsIG9uZXMiLHR5cGU6MyxkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9LGVuYWJsZVN0aWNrZXJCeXBhc3M6e2Rlc2NyaXB0aW9uOiJBbGxvdyBzZW5kaW5nIGZha2Ugc3RpY2tlcnMiLHR5cGU6MyxkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9LHN0aWNrZXJTaXplOntkZXNjcmlwdGlvbjoiU2l6ZSBvZiB0aGUgc3RpY2tlcnMgd2hlbiBzZW5kaW5nIix0eXBlOjUsZGVmYXVsdDoxNjAsbWFya2VyczpbMzIsNjQsMTI4LDE2MCwyNTYsNTEyXX0sdHJhbnNmb3JtU3RpY2tlcnM6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHRyYW5zZm9ybSBmYWtlIHN0aWNrZXJzIGludG8gcmVhbCBvbmVzIix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfSx0cmFuc2Zvcm1Db21wb3VuZFNlbnRlbmNlOntkZXNjcmlwdGlvbjoiV2hldGhlciB0byB0cmFuc2Zvcm0gZmFrZSBzdGlja2VycyBhbmQgZW1vamlzIGluIGNvbXBvdW5kIHNlbnRlbmNlcyAoc2VudGVuY2VzIHdpdGggbW9yZSBjb250ZW50IHRoYW4ganVzdCB0aGUgZmFrZSBlbW9qaSBvciBzdGlja2VyIGxpbmspIix0eXBlOjMsZGVmYXVsdDohMX0sZW5hYmxlU3RyZWFtUXVhbGl0eUJ5cGFzczp7ZGVzY3JpcHRpb246IkFsbG93IHN0cmVhbWluZyBpbiBuaXRybyBxdWFsaXR5Iix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfX0pLHF1PXYoe25hbWU6IkZha2VOaXRybyIsYXV0aG9yczpbZC5BcmppeCxkLkQzU09YLGQuVmVuLGQub2JzY3VyaXR5LGQuY2FwdGFpbixkLk51Y2t5eixkLkF1dHVtblZOXSxkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byBzdHJlYW0gaW4gbml0cm8gcXVhbGl0eSwgc2VuZCBmYWtlIGVtb2ppcy9zdGlja2VycyBhbmQgdXNlIGNsaWVudCB0aGVtZXMuIixkZXBlbmRlbmNpZXM6WyJNZXNzYWdlRXZlbnRzQVBJIl0sc2V0dGluZ3M6UmUscGF0Y2hlczpbe2ZpbmQ6Ii5QUkVNSVVNX0xPQ0tFRDsiLHByZWRpY2F0ZTooKT0+UmUuc3RvcmUuZW5hYmxlRW1vamlCeXBhc3MscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PShcaSk9XGlcLmludGVudGlvbikvLHJlcGxhY2U6KGUsdCk9PmAsZmFrZU5pdHJvSW50ZW50aW9uPSR7dH1gfSx7bWF0Y2g6L1wuKD86Y2FuVXNlRW1vamlzRXZlcnl3aGVyZXxjYW5Vc2VBbmltYXRlZEVtb2ppcylcKFxpKD89XCkpL2cscmVwbGFjZTonJCYsdHlwZW9mIGZha2VOaXRyb0ludGVudGlvbiE9PSJ1bmRlZmluZWQiP2Zha2VOaXRyb0ludGVudGlvbjp2b2lkIDAnfSx7bWF0Y2g6LygmJiFcaSYmKSEoXGkpKD89XClyZXR1cm4gXGlcLlxpXC5ESVNBTExPV19FWFRFUk5BTDspLyxyZXBsYWNlOihlLHQsbik9PmAke3R9KCEke259JiYodHlwZW9mIGZha2VOaXRyb0ludGVudGlvbj09PSJ1bmRlZmluZWQifHwhWyR7M30sJHs0fV0uaW5jbHVkZXMoZmFrZU5pdHJvSW50ZW50aW9uKSkpYH0se21hdGNoOi9pZlwoIVxpXC5hdmFpbGFibGUvLHJlcGxhY2U6ZT0+YCR7ZX0mJih0eXBlb2YgZmFrZU5pdHJvSW50ZW50aW9uPT09InVuZGVmaW5lZCJ8fCFbJHszfSwkezR9XS5pbmNsdWRlcyhmYWtlTml0cm9JbnRlbnRpb24pKWB9XX0se2ZpbmQ6ImNhblVzZUFuaW1hdGVkRW1vamlzOmZ1bmN0aW9uIixwcmVkaWNhdGU6KCk9PlJlLnN0b3JlLmVuYWJsZUVtb2ppQnlwYXNzLHJlcGxhY2VtZW50OnttYXRjaDovKCg/OmNhblVzZUVtb2ppc0V2ZXJ5d2hlcmV8Y2FuVXNlQW5pbWF0ZWRFbW9qaXMpOmZ1bmN0aW9uXChcaSlcKXsoLis/XCkpL2cscmVwbGFjZTooZSx0LG4pPT5gJHt0fSxmYWtlTml0cm9JbnRlbnRpb24peyR7bn18fGZha2VOaXRyb0ludGVudGlvbj09bnVsbHx8WyR7M30sJHs0fV0uaW5jbHVkZXMoZmFrZU5pdHJvSW50ZW50aW9uKWB9fSx7ZmluZDoiY2FuVXNlU3RpY2tlcnNFdmVyeXdoZXJlOmZ1bmN0aW9uIixwcmVkaWNhdGU6KCk9PlJlLnN0b3JlLmVuYWJsZVN0aWNrZXJCeXBhc3MscmVwbGFjZW1lbnQ6e21hdGNoOi9jYW5Vc2VTdGlja2Vyc0V2ZXJ5d2hlcmU6ZnVuY3Rpb25cKFxpXCl7LyxyZXBsYWNlOiIkJnJldHVybiB0cnVlOyJ9fSx7ZmluZDonIlNFTkRBQkxFIicscHJlZGljYXRlOigpPT5SZS5zdG9yZS5lbmFibGVTdGlja2VyQnlwYXNzLHJlcGxhY2VtZW50OnttYXRjaDovKFx3KylcLmF2YWlsYWJsZVw/LyxyZXBsYWNlOiJ0cnVlPyJ9fSx7ZmluZDoiY2FuU3RyZWFtSGlnaFF1YWxpdHk6ZnVuY3Rpb24iLHByZWRpY2F0ZTooKT0+UmUuc3RvcmUuZW5hYmxlU3RyZWFtUXVhbGl0eUJ5cGFzcyxyZXBsYWNlbWVudDpbImNhblVzZUhpZ2hWaWRlb1VwbG9hZFF1YWxpdHkiLCJjYW5TdHJlYW1IaWdoUXVhbGl0eSIsImNhblN0cmVhbU1pZFF1YWxpdHkiXS5tYXAoZT0+KHttYXRjaDpuZXcgUmVnRXhwKGAke2V9OmZ1bmN0aW9uXFwoXFxpXFwpe2ApLHJlcGxhY2U6IiQmcmV0dXJuIHRydWU7In0pKX0se2ZpbmQ6IlNUUkVBTV9GUFNfT1BUSU9OLmZvcm1hdCIscHJlZGljYXRlOigpPT5SZS5zdG9yZS5lbmFibGVTdHJlYW1RdWFsaXR5QnlwYXNzLHJlcGxhY2VtZW50OnttYXRjaDovKHVzZXJQcmVtaXVtVHlwZXxndWlsZFByZW1pdW1UaWVyKTouezAsMTB9VElFUl9cZCw/L2cscmVwbGFjZToiIn19LHtmaW5kOiJjYW5Vc2VDbGllbnRUaGVtZXM6ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovY2FuVXNlQ2xpZW50VGhlbWVzOmZ1bmN0aW9uXChcaVwpey8scmVwbGFjZToiJCZyZXR1cm4gdHJ1ZTsifX0se2ZpbmQ6Jy5kaXNwbGF5TmFtZT0iVXNlclNldHRpbmdzUHJvdG9TdG9yZSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6L0NPTk5FQ1RJT05fT1BFTjpmdW5jdGlvblwoKFxpKVwpey8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5oYW5kbGVQcm90b0NoYW5nZSgke3R9LnVzZXJTZXR0aW5nc1Byb3RvLCR7dH0udXNlcik7YH0se21hdGNoOi89KFxpKVwubG9jYWw7LyxyZXBsYWNlOihlLHQpPT5gJHtlfSR7dH0ubG9jYWx8fCRzZWxmLmhhbmRsZVByb3RvQ2hhbmdlKCR7dH0uc2V0dGluZ3MucHJvdG8pO2B9XX0se2ZpbmQ6InVwZGF0ZVRoZW1lOmZ1bmN0aW9uIixyZXBsYWNlbWVudDp7bWF0Y2g6LyhmdW5jdGlvbiBcaVwoXGlcKXt2YXIgKFxpKT1caVwuYmFja2dyb3VuZEdyYWRpZW50UHJlc2V0SWQuKz8pKFxpXC5caVwudXBkYXRlQXN5bmMuKz90aGVtZT0oLis/KTsuKz9cKSxcaVwpKS8scmVwbGFjZTooZSx0LG4scixpKT0+YCR7dH0kc2VsZi5oYW5kbGVHcmFkaWVudFRoZW1lU2VsZWN0KCR7bn0sJHtpfSwoKT0+JHtyfSk7YH19LHtmaW5kOidbInN0cm9uZyIsImVtIiwidSIsInRleHQiLCJpbmxpbmVDb2RlIiwicyIsInNwb2lsZXIiXScscmVwbGFjZW1lbnQ6W3twcmVkaWNhdGU6KCk9PlJlLnN0b3JlLnRyYW5zZm9ybUVtb2ppcyxtYXRjaDovMSE9PShcaSlcLmxlbmd0aFx8XHwxIT09XGlcLmxlbmd0aC8scmVwbGFjZTooZSx0KT0+YCR7ZX18fCRzZWxmLnNob3VsZEtlZXBFbW9qaUxpbmsoJHt0fVswXSlgfSx7cHJlZGljYXRlOigpPT5SZS5zdG9yZS50cmFuc2Zvcm1FbW9qaXN8fFJlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzLG1hdGNoOi8oPz1yZXR1cm57aGFzU3BvaWxlckVtYmVkczpcaSxjb250ZW50OihcaSl9KS8scmVwbGFjZTooZSx0KT0+YCR7dH09JHNlbGYucGF0Y2hGYWtlTml0cm9FbW9qaXNPclJlbW92ZVN0aWNrZXJzTGlua3MoJHt0fSxhcmd1bWVudHNbMl0/LmZvcm1hdElubGluZSk7YH1dfSx7ZmluZDoicmVuZGVyRW1iZWRzPWZ1bmN0aW9uIixyZXBsYWNlbWVudDpbe3ByZWRpY2F0ZTooKT0+UmUuc3RvcmUudHJhbnNmb3JtRW1vamlzfHxSZS5zdG9yZS50cmFuc2Zvcm1TdGlja2VycyxtYXRjaDovKHJlbmRlckVtYmVkcz1mdW5jdGlvblwoKFxpKVwpeykoLis/ZW1iZWRzXC5tYXBcKFwoZnVuY3Rpb25cKChcaSlcKXspLyxyZXBsYWNlOihlLHQsbixyLGkpPT5gJHt0fWNvbnN0IGZha2VOaXRyb01lc3NhZ2U9JHtufTske3J9aWYoJHNlbGYuc2hvdWxkSWdub3JlRW1iZWQoJHtpfSxmYWtlTml0cm9NZXNzYWdlKSlyZXR1cm4gbnVsbDtgfSx7cHJlZGljYXRlOigpPT5SZS5zdG9yZS50cmFuc2Zvcm1TdGlja2VycyxtYXRjaDovcmVuZGVyU3RpY2tlcnNBY2Nlc3Nvcmllcz1mdW5jdGlvblwoKFxpKVwpe3ZhciAoXGkpPVwoMCxcaVwuXGlcKVwoXGlcKSwvLHJlcGxhY2U6KGUsdCxuKT0+YCR7ZX0ke259PSRzZWxmLnBhdGNoRmFrZU5pdHJvU3RpY2tlcnMoJHtufSwke3R9KSxgfSx7cHJlZGljYXRlOigpPT5SZS5zdG9yZS50cmFuc2Zvcm1TdGlja2VycyxtYXRjaDovcmVuZGVyQXR0YWNobWVudHM9ZnVuY3Rpb25cKFxpXCl7dmFyIChcaSk9XGkuYXR0YWNobWVudHMuKz87LyxyZXBsYWNlOihlLHQpPT5gJHtlfSR7dH09JHNlbGYuZmlsdGVyQXR0YWNobWVudHMoJHt0fSk7YH1dfSx7ZmluZDoiLlNUSUNLRVJfSU5fTUVTU0FHRV9IT1ZFUiwiLHByZWRpY2F0ZTooKT0+UmUuc3RvcmUudHJhbnNmb3JtU3RpY2tlcnMscmVwbGFjZW1lbnQ6W3ttYXRjaDovdmFyIChcaSk9XGlcLnJlbmRlcmFibGVTdGlja2VyLC57MCw1MH1jbG9zZVBvcG91dC4rP2NoYW5uZWw6XGksY2xvc2VQb3BvdXQ6XGksLyxyZXBsYWNlOihlLHQpPT5gJHtlfXJlbmRlcmFibGVTdGlja2VyOiR7dH0sYH0se21hdGNoOi8oZW1vamlTZWN0aW9uLnswLDUwfWRlc2NyaXB0aW9uOikoXGkpKD88PShcaSlcLnN0aWNrZXIsLis/KSg/PSwpLyxyZXBsYWNlOihlLHQsbixyKT0+YCR7dH0kc2VsZi5hZGRGYWtlTm90aWNlKCJTVElDS0VSIiwke259LCEhJHtyfS5yZW5kZXJhYmxlU3RpY2tlcj8uZmFrZSlgfV19LHtmaW5kOiIuTWVzc2FnZXMuRU1PSklfUE9QT1VUX1BSRU1JVU1fSk9JTkVEX0dVSUxEX0RFU0NSSVBUSU9OIixwcmVkaWNhdGU6KCk9PlJlLnN0b3JlLnRyYW5zZm9ybUVtb2ppcyxyZXBsYWNlbWVudDp7bWF0Y2g6LygoXGkpPVxpXC5ub2RlLFxpPVxpXC5lbW9qaVNvdXJjZURpc2NvdmVyYWJsZUd1aWxkKSguKz9yZXR1cm4gKSguezAsNDUwfU1lc3NhZ2VzXC5FTU9KSV9QT1BPVVRfUFJFTUlVTV9KT0lORURfR1VJTERfREVTQ1JJUFRJT04uKz99XCkpLyxyZXBsYWNlOihlLHQsbixyLGkpPT5gJHt0fSxmYWtlTml0cm9Ob2RlPSR7bn0ke3J9JHNlbGYuYWRkRmFrZU5vdGljZSgiRU1PSkkiLCR7aX0sZmFrZU5pdHJvTm9kZS5mYWtlKWB9fV0sZ2V0IGd1aWxkSWQoKXtyZXR1cm4gJGwoKT8uaWR9LGdldCBjYW5Vc2VFbW90ZXMoKXtyZXR1cm4oRy5nZXRDdXJyZW50VXNlcigpLnByZW1pdW1UeXBlPz8wKT4wfSxnZXQgY2FuVXNlU3RpY2tlcnMoKXtyZXR1cm4oRy5nZXRDdXJyZW50VXNlcigpLnByZW1pdW1UeXBlPz8wKT4xfSxoYW5kbGVQcm90b0NoYW5nZShlLHQpe2lmKGU9PW51bGx8fHR5cGVvZiBlPT0ic3RyaW5nInx8IWJpfHwhZS5hcHBlYXJhbmNlJiYhSm8pcmV0dXJuO2lmKCh0Py5wcmVtaXVtX3R5cGU/P0c/LmdldEN1cnJlbnRVc2VyKCk/LnByZW1pdW1UeXBlPz8wKSE9PTImJihlLmFwcGVhcmFuY2U/Pz1Kby5jcmVhdGUoKSxiaS5zZXR0aW5ncy5hcHBlYXJhbmNlPy50aGVtZSE9bnVsbCYmKGUuYXBwZWFyYW5jZS50aGVtZT1iaS5zZXR0aW5ncy5hcHBlYXJhbmNlLnRoZW1lKSxiaS5zZXR0aW5ncy5hcHBlYXJhbmNlPy5jbGllbnRUaGVtZVNldHRpbmdzPy5iYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZD8udmFsdWUhPW51bGwmJmxhKSl7bGV0IHI9bGEuY3JlYXRlKHtiYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZDp7dmFsdWU6Ymkuc2V0dGluZ3MuYXBwZWFyYW5jZS5jbGllbnRUaGVtZVNldHRpbmdzLmJhY2tncm91bmRHcmFkaWVudFByZXNldElkLnZhbHVlfX0pO2UuYXBwZWFyYW5jZS5jbGllbnRUaGVtZVNldHRpbmdzPz89cixlLmFwcGVhcmFuY2UuY2xpZW50VGhlbWVTZXR0aW5ncy5iYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZD1yLmJhY2tncm91bmRHcmFkaWVudFByZXNldElkfX0saGFuZGxlR3JhZGllbnRUaGVtZVNlbGVjdChlLHQsbil7aWYoKEc/LmdldEN1cnJlbnRVc2VyKCk/LnByZW1pdW1UeXBlPz8wKT09PTJ8fGU9PW51bGwpcmV0dXJuIG4oKTtpZighSm98fCFsYXx8IXAxKXJldHVybjtsZXQgaT1XdS5nZXRDdXJyZW50VmFsdWUoKS5hcHBlYXJhbmNlLHM9aSE9bnVsbD9Kby5mcm9tQmluYXJ5KEpvLnRvQmluYXJ5KGkpLHAxKTpKby5jcmVhdGUoKTtzLnRoZW1lPXQ7bGV0IGM9bGEuY3JlYXRlKHtiYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZDp7dmFsdWU6ZX19KTtzLmNsaWVudFRoZW1lU2V0dGluZ3M/Pz1jLHMuY2xpZW50VGhlbWVTZXR0aW5ncy5iYWNrZ3JvdW5kR3JhZGllbnRQcmVzZXRJZD1jLmJhY2tncm91bmRHcmFkaWVudFByZXNldElkO2xldCB1PVd1LlByb3RvQ2xhc3MuY3JlYXRlKCk7dS5hcHBlYXJhbmNlPXMsXy5kaXNwYXRjaCh7dHlwZToiVVNFUl9TRVRUSU5HU19QUk9UT19VUERBVEUiLGxvY2FsOiEwLHBhcnRpYWw6ITAsc2V0dGluZ3M6e3R5cGU6MSxwcm90bzp1fX0pfSx0cmltQ29udGVudChlKXtsZXQgdD1lWzBdO3R5cGVvZiB0PT0ic3RyaW5nIiYmKGVbMF09dC50cmltU3RhcnQoKSksZVswXT09PSIiJiZlLnNoaWZ0KCk7bGV0IG49ZS5sZW5ndGgtMSxyPWVbbl07dHlwZW9mIHI9PSJzdHJpbmciJiYoZVtuXT1yLnRyaW1FbmQoKSksZVtuXT09PSIiJiZlLnBvcCgpfSxjbGVhckVtcHR5QXJyYXlJdGVtcyhlKXtyZXR1cm4gZS5maWx0ZXIodD0+dCE9bnVsbCl9LGVuc3VyZUNoaWxkcmVuSXNBcnJheShlKXtBcnJheS5pc0FycmF5KGUucHJvcHMuY2hpbGRyZW4pfHwoZS5wcm9wcy5jaGlsZHJlbj1bZS5wcm9wcy5jaGlsZHJlbl0pfSxwYXRjaEZha2VOaXRyb0Vtb2ppc09yUmVtb3ZlU3RpY2tlcnNMaW5rcyhlLHQpe2lmKChlLmxlbmd0aD4xfHx0eXBlb2YgZVswXT8udHlwZT09InN0cmluZyIpJiYhUmUuc3RvcmUudHJhbnNmb3JtQ29tcG91bmRTZW50ZW5jZSlyZXR1cm4gZTtsZXQgbj1lLmxlbmd0aCxyPXU9PntpZihSZS5zdG9yZS50cmFuc2Zvcm1FbW9qaXMpe2xldCBwPXUucHJvcHMuaHJlZi5tYXRjaCh6dSk7aWYocCl7bGV0IHk9bnVsbDt0cnl7eT1uZXcgVVJMKHUucHJvcHMuaHJlZil9Y2F0Y2h7fWxldCBoPWZuLmdldEN1c3RvbUVtb2ppQnlJZChwWzFdKT8ubmFtZT8/eT8uc2VhcmNoUGFyYW1zLmdldCgibmFtZSIpPz8iRmFrZU5pdHJvRW1vamkiO3JldHVybiBrZS5kZWZhdWx0UnVsZXMuY3VzdG9tRW1vamkucmVhY3Qoe2p1bWJvYWJsZTohdCYmZS5sZW5ndGg9PT0xJiZ0eXBlb2YgZVswXS50eXBlIT0ic3RyaW5nIixhbmltYXRlZDpwWzJdPT09ImdpZiIsZW1vamlJZDpwWzFdLG5hbWU6aCxmYWtlOiEwfSx2b2lkIDAse2tleTpTdHJpbmcobisrKX0pfX1pZihSZS5zdG9yZS50cmFuc2Zvcm1TdGlja2Vycyl7aWYoanUudGVzdCh1LnByb3BzLmhyZWYpKXJldHVybiBudWxsO2xldCBwPXUucHJvcHMuaHJlZi5tYXRjaChjYSk7aWYocCYmWG8uZ2V0U3RpY2tlckJ5SWQocFsxXSkpcmV0dXJuIG51bGx9cmV0dXJuIHV9LGk9dT0+dT8ucHJvcHM/LnRydXN0ZWQhPW51bGw/cih1KTp1Py5wcm9wcz8uY2hpbGRyZW4hPW51bGw/QXJyYXkuaXNBcnJheSh1LnByb3BzLmNoaWxkcmVuKT8odS5wcm9wcy5jaGlsZHJlbj1jKHUucHJvcHMuY2hpbGRyZW4pLHUucHJvcHMuY2hpbGRyZW4ubGVuZ3RoPT09MD9udWxsOnUpOih1LnByb3BzLmNoaWxkcmVuPXModS5wcm9wcy5jaGlsZHJlbiksdSk6dSxzPXU9PntsZXQgcD1pKHUpO2lmKHA/LnR5cGU9PT0idWwifHxwPy50eXBlPT09Im9sIil7aWYodGhpcy5lbnN1cmVDaGlsZHJlbklzQXJyYXkocCkscC5wcm9wcy5jaGlsZHJlbi5sZW5ndGg9PT0wKXJldHVybiBudWxsO2xldCB5PSExO2ZvcihsZXRbaCxTXW9mIHAucHJvcHMuY2hpbGRyZW4uZW50cmllcygpKXtpZihTPT1udWxsKXtkZWxldGUgcC5wcm9wcy5jaGlsZHJlbltoXTtjb250aW51ZX10aGlzLmVuc3VyZUNoaWxkcmVuSXNBcnJheShTKSxTLnByb3BzLmNoaWxkcmVuLmxlbmd0aD4wP3k9ITA6ZGVsZXRlIHAucHJvcHMuY2hpbGRyZW5baF19aWYoIXkpcmV0dXJuIG51bGw7cC5wcm9wcy5jaGlsZHJlbj10aGlzLmNsZWFyRW1wdHlBcnJheUl0ZW1zKHAucHJvcHMuY2hpbGRyZW4pfXJldHVybiBwfSxjPXU9Pntmb3IobGV0W3AseV1vZiB1LmVudHJpZXMoKSl1W3BdPXMoeSk7cmV0dXJuIHU9dGhpcy5jbGVhckVtcHR5QXJyYXlJdGVtcyh1KSx0aGlzLnRyaW1Db250ZW50KHUpLHV9O3RyeXtyZXR1cm4gYyh1bnNhZmVXaW5kb3cuXy5jbG9uZURlZXAoZSkpfWNhdGNoKHUpe3JldHVybiBuZXcgUSgiRmFrZU5pdHJvIikuZXJyb3IodSksZX19LHBhdGNoRmFrZU5pdHJvU3RpY2tlcnMoZSx0KXtsZXQgbj1bXSxyPXQuY29udGVudC5zcGxpdCgvXHMvKTtSZS5zdG9yZS50cmFuc2Zvcm1Db21wb3VuZFNlbnRlbmNlP24ucHVzaCguLi5yKTpyLmxlbmd0aD09PTEmJm4ucHVzaChyWzBdKSxuLnB1c2goLi4udC5hdHRhY2htZW50cy5maWx0ZXIoaT0+aS5jb250ZW50X3R5cGU9PT0iaW1hZ2UvZ2lmIikubWFwKGk9PmkudXJsKSk7Zm9yKGxldCBpIG9mIG4pe2lmKCFSZS5zdG9yZS50cmFuc2Zvcm1Db21wb3VuZFNlbnRlbmNlJiYhaS5zdGFydHNXaXRoKCJodHRwIikpY29udGludWU7bGV0IHM9aS5tYXRjaChqdSk7aWYocyl7bGV0IHU9bnVsbDt0cnl7dT1uZXcgVVJMKGkpfWNhdGNoe31sZXQgcD1Yby5nZXRTdGlja2VyQnlJZChzWzFdKT8ubmFtZT8/dT8uc2VhcmNoUGFyYW1zLmdldCgibmFtZSIpPz8iRmFrZU5pdHJvU3RpY2tlciI7ZS5wdXNoKHtmb3JtYXRfdHlwZToxLGlkOnNbMV0sbmFtZTpwLGZha2U6ITB9KTtjb250aW51ZX1sZXQgYz1pLm1hdGNoKGNhKTtpZihjKXtpZighWG8uZ2V0U3RpY2tlckJ5SWQoY1sxXSkpY29udGludWU7bGV0IHU9WG8uZ2V0U3RpY2tlckJ5SWQoY1sxXSk/Lm5hbWU/PyJGYWtlTml0cm9TdGlja2VyIjtlLnB1c2goe2Zvcm1hdF90eXBlOjIsaWQ6Y1sxXSxuYW1lOnUsZmFrZTohMH0pfX1yZXR1cm4gZX0sc2hvdWxkSWdub3JlRW1iZWQoZSx0KXtsZXQgbj10LmNvbnRlbnQuc3BsaXQoL1xzLyk7aWYobi5sZW5ndGg+MSYmIVJlLnN0b3JlLnRyYW5zZm9ybUNvbXBvdW5kU2VudGVuY2UpcmV0dXJuITE7c3dpdGNoKGUudHlwZSl7Y2FzZSJpbWFnZSI6e2lmKCFSZS5zdG9yZS50cmFuc2Zvcm1Db21wb3VuZFNlbnRlbmNlJiYhbi5pbmNsdWRlcyhlLnVybCkmJiFuLmluY2x1ZGVzKGUuaW1hZ2U/LnByb3h5VVJMKSlyZXR1cm4hMTtpZihSZS5zdG9yZS50cmFuc2Zvcm1FbW9qaXMmJnp1LnRlc3QoZS51cmwpKXJldHVybiEwO2lmKFJlLnN0b3JlLnRyYW5zZm9ybVN0aWNrZXJzKXtpZihqdS50ZXN0KGUudXJsKSlyZXR1cm4hMDtsZXQgcj1lLnVybC5tYXRjaChjYSk7aWYociYmWG8uZ2V0U3RpY2tlckJ5SWQoclsxXSkpcmV0dXJuITB9YnJlYWt9fXJldHVybiExfSxmaWx0ZXJBdHRhY2htZW50cyhlKXtyZXR1cm4gZS5maWx0ZXIodD0+e2lmKHQuY29udGVudF90eXBlIT09ImltYWdlL2dpZiIpcmV0dXJuITA7bGV0IG49dC51cmwubWF0Y2goY2EpO3JldHVybiEobiYmWG8uZ2V0U3RpY2tlckJ5SWQoblsxXSkpfSl9LHNob3VsZEtlZXBFbW9qaUxpbmsoZSl7cmV0dXJuIGUudGFyZ2V0JiZ6dS50ZXN0KGUudGFyZ2V0KX0sYWRkRmFrZU5vdGljZShlLHQsbil7aWYoIW4pcmV0dXJuIHQ7c3dpdGNoKHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSxlKXtjYXNlIlNUSUNLRVIiOnJldHVybiB0LnB1c2goIiBUaGlzIGlzIGEgRmFrZU5pdHJvIHN0aWNrZXIgYW5kIHJlbmRlcnMgbGlrZSBhIHJlYWwgc3RpY2tlciBvbmx5IGZvciB5b3UuIEFwcGVhcnMgYXMgYSBsaW5rIHRvIG5vbi1wbHVnaW4gdXNlcnMuIiksdDtjYXNlIkVNT0pJIjpyZXR1cm4gdC5wdXNoKCIgVGhpcyBpcyBhIEZha2VOaXRybyBlbW9qaSBhbmQgcmVuZGVycyBsaWtlIGEgcmVhbCBlbW9qaSBvbmx5IGZvciB5b3UuIEFwcGVhcnMgYXMgYSBsaW5rIHRvIG5vbi1wbHVnaW4gdXNlcnMuIiksdH19LGhhc1Blcm1pc3Npb25Ub1VzZUV4dGVybmFsRW1vamlzKGUpe2xldCB0PVYuZ2V0Q2hhbm5lbChlKTtyZXR1cm4hdHx8dC5pc0RNKCl8fHQuaXNHcm91cERNKCl8fHQuaXNNdWx0aVVzZXJETSgpPyEwOk9lLmNhbihadyx0KX0saGFzUGVybWlzc2lvblRvVXNlRXh0ZXJuYWxTdGlja2VycyhlKXtsZXQgdD1WLmdldENoYW5uZWwoZSk7cmV0dXJuIXR8fHQuaXNETSgpfHx0LmlzR3JvdXBETSgpfHx0LmlzTXVsdGlVc2VyRE0oKT8hMDpPZS5jYW4oWHcsdCl9LGdldFN0aWNrZXJMaW5rKGUpe3JldHVybmBodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L3N0aWNrZXJzLyR7ZX0ucG5nP3NpemU9JHtOLnBsdWdpbnMuRmFrZU5pdHJvLnN0aWNrZXJTaXplfWB9LGFzeW5jIHNlbmRBbmltYXRlZFN0aWNrZXIoZSx0LG4pe2xldFt7cGFyc2VVUkw6cn0se0dJRkVuY29kZXI6aSxxdWFudGl6ZTpzLGFwcGx5UGFsZXR0ZTpjfV09YXdhaXQgUHJvbWlzZS5hbGwoW2ExKCksYWEoKV0pLHtmcmFtZXM6dSx3aWR0aDpwLGhlaWdodDp5fT1hd2FpdCByKGUpLGg9bmV3IGksUz1OLnBsdWdpbnMuRmFrZU5pdHJvLnN0aWNrZXJTaXplLFQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7VC53aWR0aD1TLFQuaGVpZ2h0PVM7bGV0IHc9VC5nZXRDb250ZXh0KCIyZCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pLEw9Uy9NYXRoLm1heChwLHkpO3cuc2NhbGUoTCxMKTtsZXQgQztmb3IobGV0IFUgb2YgdSl7bGV0e2xlZnQ6JCx0b3A6WCx3aWR0aDpuZSxoZWlnaHQ6WSxpbWc6cSxkZWxheTpvZSxibGVuZE9wOkgsZGlzcG9zZU9wOkVlfT1VO0M9dy5nZXRJbWFnZURhdGEoJCxYLG5lLFkpLEg9PT0wJiZ3LmNsZWFyUmVjdCgkLFgsbmUsWSksdy5kcmF3SW1hZ2UocSwkLFgsbmUsWSk7bGV0e2RhdGE6aWV9PXcuZ2V0SW1hZ2VEYXRhKDAsMCxTLFMpLGplPXMoaWUsMjU2KSwkZT1jKGllLGplKTtoLndyaXRlRnJhbWUoJGUsUyxTLHt0cmFuc3BhcmVudDohMCxwYWxldHRlOmplLGRlbGF5Om9lfSksRWU9PT0xP3cuY2xlYXJSZWN0KCQsWCxuZSxZKTpFZT09PTImJncucHV0SW1hZ2VEYXRhKEMsJCxYKX1oLmZpbmlzaCgpO2xldCBrPW5ldyBGaWxlKFtoLmJ5dGVzVmlldygpXSxgJHt0fS5naWZgLHt0eXBlOiJpbWFnZS9naWYifSk7WXcoW2tdLFYuZ2V0Q2hhbm5lbChuKSxLdyl9LHN0YXJ0KCl7bGV0IGU9UmUuc3RvcmU7aWYoIWUuZW5hYmxlRW1vamlCeXBhc3MmJiFlLmVuYWJsZVN0aWNrZXJCeXBhc3MpcmV0dXJuO2Z1bmN0aW9uIHQobixyKXtyZXR1cm4hbltyXXx8L1xzLy50ZXN0KG5bcl0pPyIiOiIgIn10aGlzLnByZVNlbmQ9a3QoKG4scixpKT0+e2xldHtndWlsZElkOnN9PXRoaXM7ZTp7aWYoIWUuZW5hYmxlU3RpY2tlckJ5cGFzcylicmVhayBlO2xldCBjPVhvLmdldFN0aWNrZXJCeUlkKGkuc3RpY2tlcnM/LlswXSk7aWYoIWN8fCJwYWNrX2lkImluIGMpYnJlYWsgZTtsZXQgdT10aGlzLmNhblVzZVN0aWNrZXJzJiZ0aGlzLmhhc1Blcm1pc3Npb25Ub1VzZUV4dGVybmFsU3RpY2tlcnMobik7aWYoYy5hdmFpbGFibGUhPT0hMSYmKHV8fGMuZ3VpbGRfaWQ9PT1zKSlicmVhayBlO2xldCBwPXRoaXMuZ2V0U3RpY2tlckxpbmsoYy5pZCk7aWYoYy5mb3JtYXRfdHlwZT09PTIpcmV0dXJuIHRoaXMuc2VuZEFuaW1hdGVkU3RpY2tlcihwLGMuaWQsbikse2NhbmNlbDohMH07aS5zdGlja2Vycy5sZW5ndGg9MCxyLmNvbnRlbnQrPWAgJHtwfSZuYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGMubmFtZSl9YH1pZihlLmVuYWJsZUVtb2ppQnlwYXNzKXtsZXQgYz10aGlzLmNhblVzZUVtb3RlcyYmdGhpcy5oYXNQZXJtaXNzaW9uVG9Vc2VFeHRlcm5hbEVtb2ppcyhuKTtmb3IobGV0IHUgb2Ygci52YWxpZE5vblNob3J0Y3V0RW1vamlzKXtpZighdS5yZXF1aXJlX2NvbG9uc3x8dS5hdmFpbGFibGUhPT0hMSYmY3x8dS5ndWlsZElkPT09cyYmIXUuYW5pbWF0ZWQpY29udGludWU7bGV0IHA9YDwke3UuYW5pbWF0ZWQ/ImEiOiIifToke3Uub3JpZ2luYWxOYW1lfHx1Lm5hbWV9OiR7dS5pZH0+YCx5PXUudXJsLnJlcGxhY2UoL1w/c2l6ZT1cZCsvLCI/IituZXcgVVJMU2VhcmNoUGFyYW1zKHtzaXplOk4ucGx1Z2lucy5GYWtlTml0cm8uZW1vamlTaXplLG5hbWU6ZW5jb2RlVVJJQ29tcG9uZW50KHUubmFtZSl9KSk7ci5jb250ZW50PXIuY29udGVudC5yZXBsYWNlKHAsKGgsUyxUKT0+YCR7dChULFMtMSl9JHt5fSR7dChULFMraC5sZW5ndGgpfWApfX1yZXR1cm57Y2FuY2VsOiExfX0pLHRoaXMucHJlRWRpdD1ZbygobixyLGkpPT57aWYoIWUuZW5hYmxlRW1vamlCeXBhc3MpcmV0dXJuO2xldCBzPXRoaXMuY2FuVXNlRW1vdGVzJiZ0aGlzLmhhc1Blcm1pc3Npb25Ub1VzZUV4dGVybmFsRW1vamlzKG4pLHtndWlsZElkOmN9PXRoaXM7aS5jb250ZW50PWkuY29udGVudC5yZXBsYWNlKC8oPzwhXFwpPGE/Oig/Olx3Kyk6KFxkKyk+L2lnLCh1LHAseSxoKT0+e2xldCBTPWZuLmdldEN1c3RvbUVtb2ppQnlJZChwKTtpZihTPT1udWxsfHwhUy5yZXF1aXJlX2NvbG9uc3x8Uy5hdmFpbGFibGUhPT0hMSYmc3x8Uy5ndWlsZElkPT09YyYmIVMuYW5pbWF0ZWQpcmV0dXJuIHU7bGV0IFQ9Uy51cmwucmVwbGFjZSgvXD9zaXplPVxkKy8sIj8iK25ldyBVUkxTZWFyY2hQYXJhbXMoe3NpemU6Ti5wbHVnaW5zLkZha2VOaXRyby5lbW9qaVNpemUsbmFtZTplbmNvZGVVUklDb21wb25lbnQoUy5uYW1lKX0pKTtyZXR1cm5gJHt0KGgseS0xKX0ke1R9JHt0KGgseSt1Lmxlbmd0aCl9YH0pfSl9LHN0b3AoKXtBdCh0aGlzLnByZVNlbmQpLFpvKHRoaXMucHJlRWRpdCl9fSl9KTtmdW5jdGlvbiBmMSguLi5lKXtsZXQgdD17fTtmdW5jdGlvbiBuKGkpe2ZvcihsZXQgcz1lLmxlbmd0aC0xO3M+PTA7cy0tKWlmKGkgaW4gZVtzXSlyZXR1cm4gZVtzXTtyZXR1cm4gdH1sZXQgcj17b3duS2V5cygpe3JldHVybiBlLnJlZHVjZSgoaSxzKT0+KGkucHVzaCguLi5SZWZsZWN0Lm93bktleXMocykpLGkpLFJlZmxlY3Qub3duS2V5cyh0KSl9fTtmb3IobGV0IGkgb2ZbImRlZmluZVByb3BlcnR5IiwiZGVsZXRlUHJvcGVydHkiLCJnZXQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJoYXMiLCJzZXQiXSlyW2ldPWZ1bmN0aW9uKHMsLi4uYyl7cmV0dXJuIFJlZmxlY3RbaV0obihjWzBdKSwuLi5jKX07cmV0dXJuIG5ldyBQcm94eSh0LHIpfXZhciBnMSxoMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7ZzE9ZjE7dHlwZW9mIG1vZHVsZTwidSImJihtb2R1bGUuZXhwb3J0cz1mMSl9KTtmdW5jdGlvbiBKdyhlLHQpe2xldCBuPWBbIyR7ZS50b1N0cmluZygxNikucGFkU3RhcnQoNiwiMCIpfSwjJHt0LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCIwIil9XWAscj0iIixpPUFycmF5LmZyb20obikubWFwKHM9PnMuY29kZVBvaW50QXQoMCkpLmZpbHRlcihzPT5zPj0zMiYmczw9MTI3KS5tYXAocz0+U3RyaW5nLmZyb21Db2RlUG9pbnQocys5MTc1MDQpKS5qb2luKCIiKTtyZXR1cm4ocnx8IiIpKyIgIitpfWZ1bmN0aW9uIFF3KGUpe2lmKGU9PW51bGwpcmV0dXJuIG51bGw7bGV0IHQ9ZS5tYXRjaCgvXHV7ZTAwNWJ9XHV7ZTAwMjN9KFtcdXtlMDA2MX0tXHV7ZTAwNjZ9XHV7ZTAwNDF9LVx1e2UwMDQ2fVx1e2UwMDMwfS1cdXtlMDAzOX1dKz8pXHV7ZTAwMmN9XHV7ZTAwMjN9KFtcdXtlMDA2MX0tXHV7ZTAwNjZ9XHV7ZTAwNDF9LVx1e2UwMDQ2fVx1e2UwMDMwfS1cdXtlMDAzOX1dKz8pXHV7ZTAwNWR9L3UpO2lmKHQhPW51bGwpe2xldCBuPVsuLi50WzBdXS5tYXAoaT0+U3RyaW5nLmZyb21Db2RlUG9pbnQoaS5jb2RlUG9pbnRBdCgwKS05MTc1MDQpKS5qb2luKCIiKTtyZXR1cm4gbi5zdWJzdHJpbmcoMSxuLmxlbmd0aC0xKS5zcGxpdCgiLCIpLm1hcChpPT5wYXJzZUludChpLnJlcGxhY2UoIiMiLCIweCIpLDE2KSl9ZWxzZSByZXR1cm4gbnVsbH12YXIgeTEsS3UsdjE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtzZSgpO1AoKTtldCgpO3llKCk7eCgpO00oKTtoMSgpO3kxPUUoe25pdHJvRmlyc3Q6e2Rlc2NyaXB0aW9uOiJEZWZhdWx0IGNvbG9yIHNvdXJjZSBpZiBib3RoIGFyZSBwcmVzZW50Iix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJOaXRybyBjb2xvcnMiLHZhbHVlOiEwLGRlZmF1bHQ6ITB9LHtsYWJlbDoiRmFrZSBjb2xvcnMiLHZhbHVlOiExfV19fSksS3U9dih7bmFtZToiRmFrZVByb2ZpbGVUaGVtZXMiLGRlc2NyaXB0aW9uOiJBbGxvd3MgcHJvZmlsZSB0aGVtaW5nIGJ5IGhpZGluZyB0aGUgY29sb3JzIGluIHlvdXIgYmlvIHRoYW5rcyB0byBpbnZpc2libGUgM3kzIGVuY29kaW5nIixhdXRob3JzOltkLkFseXhpYSxkLlJlbXR5XSxwYXRjaGVzOlt7ZmluZDoiZ2V0VXNlclByb2ZpbGU9IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1nZXRVc2VyUHJvZmlsZT1mdW5jdGlvblwoXGlcKXtyZXR1cm4gKShcaVxbXGlcXSkvLHJlcGxhY2U6IiRzZWxmLmNvbG9yRGVjb2RlSG9vaygkMSkifX0se2ZpbmQ6Ii5VU0VSX1NFVFRJTkdTX1BST0ZJTEVfVEhFTUVfQUNDRU5UIixyZXBsYWNlbWVudDp7bWF0Y2g6L1JFU0VUX1BST0ZJTEVfVEhFTUV9XCkoPzw9fSxjb2xvcjooXGkpLis/fSxjb2xvcjooXGkpLis/KS8scmVwbGFjZToiJCYsJHNlbGYuYWRkQ29weTN5M0J1dHRvbih7cHJpbWFyeTokMSxhY2NlbnQ6JDJ9KSJ9fV0sc2V0dGluZ3NBYm91dENvbXBvbmVudDooKT0+byhiLkZvcm1TZWN0aW9uLG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoMyJ9LCJVc2FnZSIpLG8oYi5Gb3JtVGV4dCxudWxsLCJBZnRlciBlbmFibGluZyB0aGlzIHBsdWdpbiwgeW91IHdpbGwgc2VlIGN1c3RvbSBjb2xvcnMgaW4gdGhlIHByb2ZpbGVzIG9mIG90aGVyIHBlb3BsZSB1c2luZyBjb21wYXRpYmxlIHBsdWdpbnMuICIsbygiYnIiLG51bGwpLCJUbyBzZXQgeW91ciBvd24gY29sb3JzOiIsbygidWwiLG51bGwsbygibGkiLG51bGwsIlx1MjAyMiBnbyB0byB5b3VyIHByb2ZpbGUgc2V0dGluZ3MiKSxvKCJsaSIsbnVsbCwiXHUyMDIyIGNob29zZSB5b3VyIG93biBjb2xvcnMgaW4gdGhlIE5pdHJvIHByZXZpZXciKSxvKCJsaSIsbnVsbCwnXHUyMDIyIGNsaWNrIHRoZSAiQ29weSAzeTMiIGJ1dHRvbicpLG8oImxpIixudWxsLCJcdTIwMjIgcGFzdGUgdGhlIGludmlzaWJsZSB0ZXh0IGFueXdoZXJlIGluIHlvdXIgYmlvIikpLG8oImJyIixudWxsKSxvKCJiIixudWxsLCJQbGVhc2Ugbm90ZToiKSwiIGlmIHlvdSBhcmUgdXNpbmcgYSB0aGVtZSB3aGljaCBoaWRlcyBuaXRybyBhZHMsIHlvdSBzaG91bGQgZGlzYWJsZSBpdCB0ZW1wb3JhcmlseSB0byBzZXQgY29sb3JzLiIpKSxzZXR0aW5nczp5MSxjb2xvckRlY29kZUhvb2soZSl7aWYoZSl7aWYoeTEuc3RvcmUubml0cm9GaXJzdCYmZS50aGVtZUNvbG9ycylyZXR1cm4gZTtsZXQgdD1RdyhlLmJpbyk7aWYodClyZXR1cm4gZzEoZSx7cHJlbWl1bVR5cGU6Mix0aGVtZUNvbG9yczp0fSl9cmV0dXJuIGV9LGFkZENvcHkzeTNCdXR0b246RC53cmFwKGZ1bmN0aW9uKHtwcmltYXJ5OmUsYWNjZW50OnR9KXtyZXR1cm4gbyhSLHtvbkNsaWNrOigpPT57bGV0IG49SncoZSx0KTtWdChuKX0sY29sb3I6Ui5Db2xvcnMuUFJJTUFSWSxzaXplOlIuU2l6ZXMuWExBUkdFLGNsYXNzTmFtZTp6LmxlZnQxNn0sIkNvcHkgM3kzIil9LHtub29wOiEwfSl9KX0pO3ZhciBZdSxTMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtNKCk7WXU9dih7bmFtZToiRmF2b3JpdGVFbW9qaUZpcnN0IixhdXRob3JzOltkLkFyaWEsZC5WZW5dLGRlc2NyaXB0aW9uOiJQdXRzIHlvdXIgZmF2b3JpdGUgZW1vamkgZmlyc3QgaW4gdGhlIGVtb2ppIGF1dG9jb21wbGV0ZS4iLHBhdGNoZXM6W3tmaW5kOiIuYWN0aXZlQ29tbWFuZE9wdGlvbiIscmVwbGFjZW1lbnQ6W3ttYXRjaDovPVxpXChcaVwuc2VsZWN0ZWRJbmRleFwpOyg/PS4rP3N0YXRlOihcaSksaXNJblBvcG91dEV4cGVyaW1lbnQ6XGkpLyxyZXBsYWNlOiIkJiRzZWxmLnNvcnRFbW9qaXMoJDEpOyJ9LHttYXRjaDovLG1heENvdW50OihcaSkoLis/KT0oXGkpXC5zbGljZVwoMCwoXDEtXGlcLmxlbmd0aClcKS8scmVwbGFjZToiLG1heENvdW50OkluZmluaXR5JDI9KCQzLnNsaWNlVG89JDQsJDMpIn1dfV0sc29ydEVtb2ppcyh7cXVlcnk6ZX0pe2lmKGU/LnR5cGUhPT0iRU1PSklTX0FORF9TVElDS0VSUyJ8fGUudHlwZUluZm8/LnNlbnRpbmVsIT09IjoifHwhZS5yZXN1bHRzPy5lbW9qaXM/Lmxlbmd0aClyZXR1cm47bGV0IHQ9Zm4uZ2V0RGlzYW1iaWd1YXRlZEVtb2ppQ29udGV4dCgpO2UucmVzdWx0cy5lbW9qaXM9ZS5yZXN1bHRzLmVtb2ppcy5zb3J0KChuLHIpPT57bGV0IGk9dC5pc0Zhdm9yaXRlRW1vamlXaXRob3V0RmV0Y2hpbmdMYXRlc3Qobikscz10LmlzRmF2b3JpdGVFbW9qaVdpdGhvdXRGZXRjaGluZ0xhdGVzdChyKTtyZXR1cm4gaSYmIXM/LTE6IWkmJnM/MTowfSkuc2xpY2UoMCxlLnJlc3VsdHMuZW1vamlzLnNsaWNlVG8/PzEwKX19KX0pO2Z1bmN0aW9uIGVNKHtpbnN0YW5jZTplLFNlYXJjaEJhckNvbXBvbmVudDp0fSl7bGV0W24scl09VygiIiksaT0kdChudWxsKSxzPVNzKGM9PntyKGMpO2xldHtwcm9wczp1fT1lO2lmKGM9PT0iIil7dS5mYXZvcml0ZXM9dS5mYXZDb3B5LGUuZm9yY2VVcGRhdGUoKTtyZXR1cm59aS5jdXJyZW50Py5jb250YWluZXJSZWY/LmN1cnJlbnQuY2xvc2VzdCgiI2dpZi1waWNrZXItdGFiLXBhbmVsIik/LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzc3w9ImNvbnRlbnQiXScpPy5maXJzdEVsZW1lbnRDaGlsZD8uc2Nyb2xsVG8oMCwwKTtsZXQgcD11LmZhdkNvcHkubWFwKHk9Pih7c2NvcmU6dE0oYy50b0xvd2VyQ2FzZSgpLFQxKHkudXJsPz95LnNyYykucmVwbGFjZSgvKCUyMHxbXy1dKS9nLCIgIikudG9Mb3dlckNhc2UoKSksZ2lmOnl9KSkuZmlsdGVyKHk9Pnkuc2NvcmUhPW51bGwpO3Auc29ydCgoeSxoKT0+aC5zY29yZS15LnNjb3JlKSx1LmZhdm9yaXRlcz1wLm1hcCh5PT55LmdpZiksZS5mb3JjZVVwZGF0ZSgpfSxbZS5zdGF0ZV0pO3JldHVybiBHZSgoKT0+KCk9PntlLmRlYWQ9ITB9LFtdKSxvKHQse3JlZjppLGF1dG9Gb2N1czohMCxjbGFzc05hbWU6Vncuc2VhcmNoQmFyLHNpemU6dC5TaXplcy5NRURJVU0sb25DaGFuZ2U6cyxvbkNsZWFyOigpPT57cigiIiksZS5wcm9wcy5mYXZDb3B5IT1udWxsJiYoZS5wcm9wcy5mYXZvcml0ZXM9ZS5wcm9wcy5mYXZDb3B5LGUuZm9yY2VVcGRhdGUoKSl9LHF1ZXJ5Om4scGxhY2Vob2xkZXI6IlNlYXJjaCBGYXZvcml0ZSBHaWZzIn0pfWZ1bmN0aW9uIFQxKGUpe2xldCB0PW5ldyBVUkwoZSk7c3dpdGNoKGIxLnN0b3JlLnNlYXJjaE9wdGlvbil7Y2FzZSJ1cmwiOnJldHVybiB0LmhyZWY7Y2FzZSJwYXRoIjpyZXR1cm4gdC5ob3N0PT09Im1lZGlhLmRpc2NvcmRhcHAubmV0Inx8dC5ob3N0PT09InRlbm9yLmNvbSI/dC5wYXRobmFtZS5zcGxpdCgiLyIpLmF0KC0xKT8/dC5wYXRobmFtZTp0LnBhdGhuYW1lO2Nhc2UiaG9zdGFuZHBhdGgiOnJldHVybiB0Lmhvc3Q9PT0ibWVkaWEuZGlzY29yZGFwcC5uZXQifHx0Lmhvc3Q9PT0idGVub3IuY29tIj9gJHt0Lmhvc3R9ICR7dC5wYXRobmFtZS5zcGxpdCgiLyIpLmF0KC0xKT8/dC5wYXRobmFtZX1gOmAke3QuaG9zdH0gJHt0LnBhdGhuYW1lfWA7ZGVmYXVsdDpyZXR1cm4iIn19ZnVuY3Rpb24gdE0oZSx0KXtsZXQgbj0wLHI9MDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldPT09ZVtuXT8ocisrLG4rKyk6ci0tLG49PT1lLmxlbmd0aClyZXR1cm4gcjtyZXR1cm4gbnVsbH12YXIgVncsYjEsWnUseDE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtzZSgpO1AoKTt4KCk7QigpO00oKTtWdz1JKCJzZWFyY2hCYXIiLCJzZWFyY2hIZWFkZXIiLCJndXR0ZXJTaXplIiksYjE9RSh7c2VhcmNoT3B0aW9uOnt0eXBlOjQsZGVzY3JpcHRpb246IlRoZSBwYXJ0IG9mIHRoZSB1cmwgeW91IHdhbnQgdG8gc2VhcmNoIixvcHRpb25zOlt7bGFiZWw6IkVudGlyZSBVcmwiLHZhbHVlOiJ1cmwifSx7bGFiZWw6IlBhdGggT25seSAoL3NvbWVnaWYuZ2lmKSIsdmFsdWU6InBhdGgifSx7bGFiZWw6Ikhvc3QgJiBQYXRoICh0ZW5vci5jb20gc29tZ2lmLmdpZikiLHZhbHVlOiJob3N0YW5kcGF0aCIsZGVmYXVsdDohMH1dfX0pLFp1PXYoe25hbWU6IkZhdm9yaXRlR2lmU2VhcmNoIixhdXRob3JzOltkLkFyaWFdLGRlc2NyaXB0aW9uOiJBZGRzIGEgc2VhcmNoIGJhciBmb3IgZmF2b3JpdGUgZ2lmcyIscGF0Y2hlczpbe2ZpbmQ6InJlbmRlckNhdGVnb3J5RXh0cmFzIixyZXBsYWNlbWVudDpbe21hdGNoOi8ocmVuZGVySGVhZGVyQ29udGVudD1mdW5jdGlvbi57MSwxNTB9RkFWT1JJVEVTOnJldHVybikoLnsxLDE1MH07KShjYXNlLnsxLDIwMH1kZWZhdWx0OnJldHVyblwoMCxcaVwuanN4XClcKCg/PHNlYXJjaENvbXA+XGlcLlxpKSkvLHJlcGxhY2U6JyQxIHRoaXMuc3RhdGUucmVzdWx0VHlwZSA9PT0gIkZhdm9yaXRlcyIgPyAkc2VsZi5yZW5kZXJTZWFyY2hCYXIodGhpcywgJDxzZWFyY2hDb21wPikgOiAkMjsgJDMnfSx7bWF0Y2g6Lygsc3VnZ2VzdGlvbnM6XGksZmF2b3JpdGVzOikoXGkpLC8scmVwbGFjZToiJDEkc2VsZi5nZXRGYXYoJDIpLGZhdkNvcHk6JDIsIn1dfV0sc2V0dGluZ3M6YjEsZ2V0VGFyZ2V0U3RyaW5nOlQxLGluc3RhbmNlOm51bGwscmVuZGVyU2VhcmNoQmFyKGUsdCl7cmV0dXJuIHRoaXMuaW5zdGFuY2U9ZSxvKEQse25vb3A6ITB9LG8oZU0se2luc3RhbmNlOmUsU2VhcmNoQmFyQ29tcG9uZW50OnR9KSl9LGdldEZhdihlKXtpZighdGhpcy5pbnN0YW5jZXx8dGhpcy5pbnN0YW5jZS5kZWFkKXJldHVybiBlO2xldHtmYXZvcml0ZXM6dH09dGhpcy5pbnN0YW5jZS5wcm9wcztyZXR1cm4gdCE9bnVsbCYmdD8ubGVuZ3RoIT09ZS5sZW5ndGg/dDplfX0pfSk7dmFyIFh1LHcxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO00oKTtYdT12KHtuYW1lOiJGaXhJbmJveCIsZGVzY3JpcHRpb246IkZpeGVzIHRoZSBVbnJlYWRzIEluYm94IGZyb20gY3Jhc2hpbmcgRGlzY29yZCB3aGVuIHlvdSdyZSBpbiBsb3RzIG9mIGd1aWxkcy4iLGF1dGhvcnM6W2QuTWVndV0scGF0Y2hlczpbe2ZpbmQ6IklOQk9YX09QRU46ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovSU5CT1hfT1BFTjpmdW5jdGlvbi4rP1x7LyxyZXBsYWNlOiIkJnJldHVybiB0cnVlOyJ9fV0sc2V0dGluZ3NBYm91dENvbXBvbmVudCgpe3JldHVybiBvKGIuRm9ybVNlY3Rpb24sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIldoYXQncyB0aGUgcHJvYmxlbT8iKSxvKGIuRm9ybVRleHQse3N0eWxlOnttYXJnaW5Cb3R0b206OH19LCJCeSBkZWZhdWx0LCBEaXNjb3JkIGVtaXRzIGEgR1VJTERfU1VCU0NSSVBUSU9OUyBldmVudCBmb3IgZXZlcnkgZ3VpbGQgeW91J3JlIGluLiBXaGVuIHlvdSdyZSBpbiBhIGxvdCBvZiBndWlsZHMsIHRoaXMgY2FuIGNhdXNlIHRoZSBnYXRld2F5IHRvIHJhdGVsaW1pdCB5b3UuIFRoaXMgY2F1c2VzIHRoZSBjbGllbnQgdG8gY3Jhc2ggYW5kIGdldCBzdHVjayBpbiBhbiBpbmZpbml0ZSByYXRlbGltaXQgbG9vcCBhcyBpdCB0cmllcyB0byByZWNvbm5lY3QuIiksbyhiLkZvcm1UaXRsZSx7dGFnOiJoMyJ9LCJIb3cgZG9lcyBpdCB3b3JrPyIpLG8oYi5Gb3JtVGV4dCxudWxsLCJUaGlzIHBsdWdpbiB3b3JrcyBieSBzdG9wcGluZyB0aGUgY2xpZW50IGZyb20gc2VuZGluZyBHVUlMRF9TVUJTQ1JJUFRJT05TIGV2ZW50cyB0byB0aGUgZ2F0ZXdheSB3aGVuIHlvdSBvcGVuIHRoZSB1bnJlYWRzIGluYm94LiBUaGlzIG1lYW5zIHRoYXQgbm90IGFsbCB1bnJlYWRzIHdpbGwgYmUgc2hvd24sIGluc3RlYWQgb25seSBhbHJlYWR5LXN1YnNjcmliZWQgZ3VpbGRzJyB1bnJlYWRzIHdpbGwgYmUgc2hvd24sIGJ1dCB5b3VyIGNsaWVudCB3b24ndCBjcmFzaCBhbnltb3JlLiIpKX19KX0pO3ZhciBKdSxNMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtNKCk7SnU9dih7bmFtZToiRm9yY2VPd25lckNyb3duIixkZXNjcmlwdGlvbjoiRm9yY2UgdGhlIG93bmVyIGNyb3duIG5leHQgdG8gdXNlcm5hbWVzIGV2ZW4gaWYgdGhlIHNlcnZlciBpcyBsYXJnZS4iLGF1dGhvcnM6W2QuRDNTT1gsZC5OaWNreXV4XSxwYXRjaGVzOlt7ZmluZDoiLnJlbmRlck93bmVyPSIscmVwbGFjZW1lbnQ6e21hdGNoOi9pc093bmVyO3JldHVybiBudWxsIT0oXHcrKT8mJi9nLHJlcGxhY2U6ImlzT3duZXI7aWYoJHNlbGYuaXNHdWlsZE93bmVyKHRoaXMucHJvcHMpKXskMT10cnVlO31yZXR1cm4gbnVsbCE9JDEmJiJ9fV0saXNHdWlsZE93bmVyKGUpe2lmKGU/LmNoYW5uZWw/LnR5cGU9PT0zKXJldHVybiExO2xldCB0PWU/Lmd1aWxkSWQ/P2U/LmNoYW5uZWw/Lmd1aWxkX2lkLG49ZT8udXNlcj8uaWQ7aWYodCYmbil7bGV0IHI9bWUuZ2V0R3VpbGQodCk7aWYocilyZXR1cm4gci5vd25lcklkPT09bjtjb25zb2xlLmVycm9yKCJbRm9yY2VPd25lckNyb3duXSBmYWlsZWQgdG8gZ2V0IGd1aWxkIix7Z3VpbGRJZDp0LGd1aWxkOnIscHJvcHM6ZX0pfWVsc2UgY29uc29sZS5lcnJvcigiW0ZvcmNlT3duZXJDcm93bl0gbm8gZ3VpbGRJZCBvciB1c2VySWQiLHtndWlsZElkOnQsdXNlcklkOm4scHJvcHM6ZX0pO3JldHVybiExfX0pfSk7dmFyIFF1LG5NLFZ1LFAxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1AoKTt4KCk7QigpO00oKTtRdT1JKCJjcmVhdGVGcmllbmRJbnZpdGUiKSxuTT1JKCJ2NCIsInYxIiksVnU9dih7bmFtZToiRnJpZW5kSW52aXRlcyIsZGVzY3JpcHRpb246IkNyZWF0ZSBhbmQgbWFuYWdlIGZyaWVuZCBpbnZpdGUgbGlua3MgdmlhIHNsYXNoIGNvbW1hbmRzICgvY3JlYXRlIGZyaWVuZCBpbnZpdGUsIC92aWV3IGZyaWVuZCBpbnZpdGVzLCAvcmV2b2tlIGZyaWVuZCBpbnZpdGVzKS4iLGF1dGhvcnM6W2QuYWZuLGQuRHppdXJ3YV0sZGVwZW5kZW5jaWVzOlsiQ29tbWFuZHNBUEkiXSxjb21tYW5kczpbe25hbWU6ImNyZWF0ZSBmcmllbmQgaW52aXRlIixkZXNjcmlwdGlvbjoiR2VuZXJhdGVzIGEgZnJpZW5kIGludml0ZSBsaW5rLiIsaW5wdXRUeXBlOjMsZXhlY3V0ZTphc3luYyhlLHQpPT57aWYoIUcuZ2V0Q3VycmVudFVzZXIoKS5waG9uZSlyZXR1cm4gYWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJZb3UgbmVlZCB0byBoYXZlIGEgcGhvbmUgbnVtYmVyIGNvbm5lY3RlZCB0byB5b3VyIGFjY291bnQgdG8gY3JlYXRlIGEgZnJpZW5kIGludml0ZSEifSk7bGV0IG49bk0udjQoKSxyPWF3YWl0IHl0LnBvc3Qoe3VybDoiL2ZyaWVuZC1maW5kZXIvZmluZC1mcmllbmRzIixib2R5Onttb2RpZmllZF9jb250YWN0czp7W25dOlsxLCIiLCIiXX0scGhvbmVfY29udGFjdF9tZXRob2RzX2NvdW50OjF9fSkudGhlbihpPT5RdS5jcmVhdGVGcmllbmRJbnZpdGUoe2NvZGU6aS5ib2R5Lmludml0ZV9zdWdnZXN0aW9uc1swXVszXSxyZWNpcGllbnRfcGhvbmVfbnVtYmVyX29yX2VtYWlsOm4sY29udGFjdF92aXNpYmlsaXR5OjEsZmlsdGVyX3Zpc2liaWxpdGllczpbXSxmaWx0ZXJlZF9pbnZpdGVfc3VnZ2VzdGlvbnNfaW5kZXg6MX0pKTthZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6YAogICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3JkLmdnLyR7ci5jb2RlfSBceEI3CiAgICAgICAgICAgICAgICAgICAgICAgIEV4cGlyZXM6IDx0OiR7bmV3IERhdGUoci5leHBpcmVzX2F0KS5nZXRUaW1lKCkvMWUzfTpSPiBceEI3CiAgICAgICAgICAgICAgICAgICAgICAgIE1heCB1c2VzOiBcYCR7ci5tYXhfdXNlc31cYAogICAgICAgICAgICAgICAgICAgIGAudHJpbSgpLnJlcGxhY2UoL1xzKy9nLCIgIil9KX19LHtuYW1lOiJ2aWV3IGZyaWVuZCBpbnZpdGVzIixkZXNjcmlwdGlvbjoiVmlldyBhIGxpc3Qgb2YgYWxsIGdlbmVyYXRlZCBmcmllbmQgaW52aXRlcy4iLGlucHV0VHlwZTozLGV4ZWN1dGU6YXN5bmMoZSx0KT0+e2xldCByPShhd2FpdCBRdS5nZXRBbGxGcmllbmRJbnZpdGVzKCkpLm1hcChpPT5gCiAgICAgICAgICAgICAgICAgICAgX2Rpc2NvcmQuZ2cvJHtpLmNvZGV9XyBceEI3CiAgICAgICAgICAgICAgICAgICAgRXhwaXJlczogPHQ6JHtuZXcgRGF0ZShpLmV4cGlyZXNfYXQpLmdldFRpbWUoKS8xZTN9OlI+IFx4QjcKICAgICAgICAgICAgICAgICAgICBUaW1lcyB1c2VkOiBcYCR7aS51c2VzfS8ke2kubWF4X3VzZXN9XGAKICAgICAgICAgICAgICAgICAgICBgLnRyaW0oKS5yZXBsYWNlKC9ccysvZywiICIpKTthZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6ci5qb2luKGAKYCl8fCJZb3UgaGF2ZSBubyBhY3RpdmUgZnJpZW5kIGludml0ZXMhIn0pfX0se25hbWU6InJldm9rZSBmcmllbmQgaW52aXRlcyIsZGVzY3JpcHRpb246IlJldm9rZXMgYWxsIGdlbmVyYXRlZCBmcmllbmQgaW52aXRlcy4iLGlucHV0VHlwZTozLGV4ZWN1dGU6YXN5bmMoZSx0KT0+KGF3YWl0IFF1LnJldm9rZUZyaWVuZEludml0ZXMoKSx2b2lkIGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiQWxsIGZyaWVuZCBpbnZpdGVzIGhhdmUgYmVlbiByZXZva2VkLiJ9KSl9XX0pfSk7dmFyIHRwPXt9O3ZlKHRwLHtnZXRTZXR0aW5nU3RvcmU6KCk9PkkxLGdldFNldHRpbmdTdG9yZUxhenk6KCk9PmVwfSk7ZnVuY3Rpb24gSTEoZSx0KXtpZighTi5wbHVnaW5zLlNldHRpbmdzU3RvcmVBUEkuZW5hYmxlZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCB1c2UgU2V0dGluZ3NTdG9yZUFQSSB3aXRob3V0IHNldHRpbmcgYXMgZGVwZW5kZW5jeS4iKTtyZXR1cm4gb00/LmZpbmQobj0+bj8uc2V0dGluZ3NTdG9yZUFwaUdyb3VwPT09ZSYmbj8uc2V0dGluZ3NTdG9yZUFwaU5hbWU9PT10KX1mdW5jdGlvbiBlcChlLHQpe3JldHVybiBmdCgoKT0+STEoZSx0KSl9dmFyIG9NLG5wPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtjbigpO3dlKCk7QigpO0YoKTtvTT1mdCgoKT0+e2xldCBlPWNzKCcidGV4dEFuZEltYWdlcyIsInJlbmRlclNwb2lsZXJzIicpO2lmKGU9PW51bGwpcmV0dXJuIG5ldyBRKCJTZXR0aW5nc1N0b3JlQVBJIikuZXJyb3IoIkRpZG4ndCBmaW5kIHN0b3JlcyBtb2R1bGUuIik7bGV0IHQ9V3QoZSk7aWYodCE9bnVsbClyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5maWx0ZXIobj0+bj8uc2V0dGluZ3NTdG9yZUFwaUdyb3VwKX0pfSk7dmFyIG9wLEMxPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvZ2FtZUFjdGl2aXR5VG9nZ2xlL3N0eWxlLmNzcyIse25hbWU6InNyYy9wbHVnaW5zL2dhbWVBY3Rpdml0eVRvZ2dsZS9zdHlsZS5jc3MiLHNvdXJjZTpgW2NsYXNzKj0id2l0aFRhZ0FzQnV0dG9uIl0gewogICAgbWluLXdpZHRoOiA4OHB4Owp9CmAsY2xhc3NOYW1lczp7fSxkb206bnVsbH0pO29wPSJzcmMvcGx1Z2lucy9nYW1lQWN0aXZpdHlUb2dnbGUvc3R5bGUuY3NzIn0pO2Z1bmN0aW9uIGlNKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBvKCJzdmciLHt3aWR0aDoiMjQiLGhlaWdodDoiMjQiLHZpZXdCb3g6IjAgOTYgOTYwIDk2MCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0xODIgODU2cS01MSAwLTc5LTM1LjVUODIgNzM0bDQyLTMwMHE5LTYwIDUzLjUtOTlUMjgyIDI5NmgzOTZxNjAgMCAxMDQuNSAzOXQ1My41IDk5bDQyIDMwMHE3IDUxLTIxIDg2LjVUNzc4IDg1NnEtMjEgMC0zOS03LjVUNzA2IDgyNmwtOTAtOTBIMzQ0bC05MCA5MHEtMTUgMTUtMzMgMjIuNXQtMzkgNy41Wm00OTgtMjQwcTE3IDAgMjguNS0xMS41VDcyMCA1NzZxMC0xNy0xMS41LTI4LjVUNjgwIDUzNnEtMTcgMC0yOC41IDExLjVUNjQwIDU3NnEwIDE3IDExLjUgMjguNVQ2ODAgNjE2Wm0tODAtMTIwcTE3IDAgMjguNS0xMS41VDY0MCA0NTZxMC0xNy0xMS41LTI4LjVUNjAwIDQxNnEtMTcgMC0yOC41IDExLjVUNTYwIDQ1NnEwIDE3IDExLjUgMjguNVQ2MDAgNDk2Wk0zMTAgNjE2aDYwdi03MGg3MHYtNjBoLTcwdi03MGgtNjB2NzBoLTcwdjYwaDcwdjcwWiJ9KSwhZSYmbygibGluZSIse3gxOiI5MjAiLHkxOiIyODAiLHgyOiI0MCIseTI6Ijg4MCIsc3Ryb2tlOiJ2YXIoLS1zdGF0dXMtZGFuZ2VyKSIsInN0cm9rZS13aWR0aCI6IjgwIn0pKX19ZnVuY3Rpb24gc00oKXtsZXQgZT1OMT8udXNlU2V0dGluZygpO3JldHVybiBvKHJNLHt0b29sdGlwVGV4dDplPyJEaXNhYmxlIEdhbWUgQWN0aXZpdHkiOiJFbmFibGUgR2FtZSBBY3Rpdml0eSIsaWNvbjppTShlKSxyb2xlOiJzd2l0Y2giLCJhcmlhLWNoZWNrZWQiOiFlLG9uQ2xpY2s6KCk9Pk4xPy51cGRhdGVTZXR0aW5nKHQ9PiF0KX0pfXZhciBOMSxyTSxycCxSMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bnAoKTtIZSgpO3NlKCk7UCgpO3goKTtCKCk7QzEoKTtOMT1lcCgic3RhdHVzIiwic2hvd0N1cnJlbnRHYW1lIiksck09ZGUoIkJ1dHRvbi5TaXplcy5OT05FLGRpc2FibGVkOiIpO3JwPXYoe25hbWU6IkdhbWVBY3Rpdml0eVRvZ2dsZSIsZGVzY3JpcHRpb246IkFkZHMgYSBidXR0b24gbmV4dCB0byB0aGUgbWljIGFuZCBkZWFmZW4gYnV0dG9uIHRvIHRvZ2dsZSBnYW1lIGFjdGl2aXR5LiIsYXV0aG9yczpbZC5OdWNreXpdLGRlcGVuZGVuY2llczpbIlNldHRpbmdzU3RvcmVBUEkiXSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLkFDQ09VTlRfU1BFQUtJTkdfV0hJTEVfTVVURUQiLHJlcGxhY2VtZW50OnttYXRjaDovdGhpc1wucmVuZGVyTmFtZVpvbmVcKFwpLis/Y2hpbGRyZW46XFsvLHJlcGxhY2U6IiQmJHNlbGYuR2FtZUFjdGl2aXR5VG9nZ2xlQnV0dG9uKCksIn19XSxHYW1lQWN0aXZpdHlUb2dnbGVCdXR0b246RC53cmFwKHNNLHtub29wOiEwfSksc3RhcnQoKXt0dChvcCl9LHN0b3AoKXtOdChvcCl9fSl9KTt2YXIgYU0saXAsazE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtzdCgpO3goKTtCKCk7YU09SmUoJ25hbWU6ImV4cHJlc3Npb24tcGlja2VyLWxhc3QtYWN0aXZlLXZpZXciJyx7Y2xvc2U6Si5ieUNvZGUoImFjdGl2ZVZpZXc6bnVsbCIsInNldFN0YXRlIil9KSxpcD12KHtuYW1lOiJHaWZQYXN0ZSIsZGVzY3JpcHRpb246Ik1ha2VzIHBpY2tpbmcgYSBnaWYgaW4gdGhlIGdpZiBwaWNrZXIgaW5zZXJ0IGEgbGluayBpbnRvIHRoZSBjaGF0Ym94IGluc3RlYWQgb2YgaW5zdGFudGx5IHNlbmRpbmcgaXQiLGF1dGhvcnM6W2QuVmVuXSxwYXRjaGVzOlt7ZmluZDoiLmhhbmRsZVNlbGVjdEdJRj0iLHJlcGxhY2VtZW50OnttYXRjaDovXC5oYW5kbGVTZWxlY3RHSUY9ZnVuY3Rpb24uKz9cey8scmVwbGFjZToiLmhhbmRsZVNlbGVjdEdJRj1mdW5jdGlvbihnaWYpe3JldHVybiAkc2VsZi5oYW5kbGVTZWxlY3QoZ2lmKTsifX1dLGhhbmRsZVNlbGVjdChlKXtlJiYocW4oZS51cmwrIiAiKSxhTS5jbG9zZSgpKX19KX0pO3ZhciBzcD17fTt2ZShzcCx7X2J1aWxkUG9wb3ZlckVsZW1lbnRzOigpPT5jTSxhZGRCdXR0b246KCk9PnduLGJ1dHRvbnM6KCk9PnVhLHJlbW92ZUJ1dHRvbjooKT0+TW59KTtmdW5jdGlvbiB3bihlLHQpe3VhLnNldChlLHQpfWZ1bmN0aW9uIE1uKGUpe3VhLmRlbGV0ZShlKX1mdW5jdGlvbiBjTShlLHQpe2xldCBuPVtdO2ZvcihsZXRbcixpXW9mIHVhLmVudHJpZXMoKSl0cnl7bGV0IHM9aShlKTtzJiYocy5rZXk/Pz1yLG4ucHVzaCh0KHMpKSl9Y2F0Y2gocyl7bE0uZXJyb3IoYFske3J9XWAscyl9cmV0dXJuIG59dmFyIGxNLHVhLFFvPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3ZSgpO2xNPW5ldyBRKCJNZXNzYWdlUG9wb3ZlciIpLHVhPW5ldyBNYXB9KTt2YXIgVGksTDEseGksQTEsdU0sYXAsRTE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2tuKCk7UW8oKTt4bigpO1AoKTt4KCk7TSgpO0wxPSJIaWRlQXR0YWNobWVudHNfSGlkZGVuSWRzIix4aT1uZXcgU2V0LEExPSgpPT5vdChMMSkudGhlbihlPT4oeGk9ZT8/bmV3IFNldCx4aSkpLHVNPWU9PnJ0KEwxLGUpLGFwPXYoe25hbWU6IkhpZGVBdHRhY2htZW50cyIsZGVzY3JpcHRpb246IkhpZGUgYXR0YWNobWVudHMgYW5kIEVtYmVkcyBmb3IgaW5kaXZpZHVhbCBtZXNzYWdlcyB2aWEgaG92ZXIgYnV0dG9uIixhdXRob3JzOltkLlZlbl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZVBvcG92ZXJBUEkiXSxhc3luYyBzdGFydCgpe1RpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksVGkuaWQ9IlZlbmNvcmRIaWRlQXR0YWNobWVudHMiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoVGkpLGF3YWl0IEExKCksYXdhaXQgdGhpcy5idWlsZENzcygpLHduKCJIaWRlQXR0YWNobWVudHMiLGU9PntpZighZS5hdHRhY2htZW50cy5sZW5ndGgmJiFlLmVtYmVkcy5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHQ9eGkuaGFzKGUuaWQpO3JldHVybntsYWJlbDp0PyJTaG93IEF0dGFjaG1lbnRzIjoiSGlkZSBBdHRhY2htZW50cyIsaWNvbjp0P29hOnJhLG1lc3NhZ2U6ZSxjaGFubmVsOlYuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpLG9uQ2xpY2s6KCk9PnRoaXMudG9nZ2xlSGlkZShlLmlkKX19KX0sc3RvcCgpe1RpLnJlbW92ZSgpLHhpLmNsZWFyKCksTW4oIkhpZGVBdHRhY2htZW50cyIpfSxhc3luYyBidWlsZENzcygpe2xldCBlPVsuLi54aV0ubWFwKHQ9PmAjbWVzc2FnZS1hY2Nlc3Nvcmllcy0ke3R9YCkuam9pbigiLCIpO1RpLnRleHRDb250ZW50PWAKICAgICAgICA6aXMoJHtlfSkgW2NsYXNzKj0iZW1iZWRXcmFwcGVyIl0gewogICAgICAgICAgICAvKiBpbXBvcnRhbnQgaXMgbm90IG5lY2Vzc2FyeSwgYnV0IGFkZCBpdCB0byBtYWtlIHN1cmUgYmFkIHRoZW1lcyB3b24ndCBicmVhayBpdCAqLwogICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICAgIDppcygke2V9KTo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAiQXR0YWNobWVudHMgaGlkZGVuIjsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwogICAgICAgICAgICBmb250LXNpemU6IDgwJTsKICAgICAgICB9CiAgICAgICAgYH0sYXN5bmMgdG9nZ2xlSGlkZShlKXtsZXQgdD1hd2FpdCBBMSgpO3QuZGVsZXRlKGUpfHx0LmFkZChlKSxhd2FpdCB1TSh0KSxhd2FpdCB0aGlzLmJ1aWxkQ3NzKCl9fSl9KTt2YXIgbHAsRDE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7bHA9dih7bmFtZToiaUxvdmVTcGFtIixkZXNjcmlwdGlvbjoiRG8gbm90IGhpZGUgbWVzc2FnZXMgZnJvbSAnbGlrZWx5IHNwYW1tZXJzJyIsYXV0aG9yczpbZC5ib3RhdG8sZC5BbmltYWxdLHBhdGNoZXM6W3tmaW5kOiIpLHtoYXNGbGFnOiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oaWZcKCguezEsMn0pPD0xPDwzMFwpcmV0dXJuKS8scmVwbGFjZToiaWYoJDI9PT0oMTw8MjApKXtyZXR1cm4gZmFsc2V9OyQxIn19XX0pfSk7ZnVuY3Rpb24gbU0oKXtyZXR1cm4gbygic3ZnIix7Y2xhc3NOYW1lOmJyLm92ZXJsYXlUb2dnbGVJY29uT2ZmLGhlaWdodDoiMjQiLHdpZHRoOiIyNCIsdmlld0JveDoiMCAyLjIgMzIgMjYiLCJhcmlhLWhpZGRlbiI6ITAscm9sZToiaW1nIn0sbygiZyIse2ZpbGw6Im5vbmUiLGZpbGxSdWxlOiJldmVub2RkIn0sbygicGF0aCIse2NsYXNzTmFtZTpici5maWxsLGZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTSAxNiA4IEMgNy42NjQwNjMgOCAxLjI1IDE1LjM0Mzc1IDEuMjUgMTUuMzQzNzUgTCAwLjY1NjI1IDE2IEwgMS4yNSAxNi42NTYyNSBDIDEuMjUgMTYuNjU2MjUgNy4wOTc2NTYgMjMuMzI0MjE5IDE0Ljg3NSAyMy45Mzc1IEMgMTUuMjQ2MDk0IDIzLjk4NDM3NSAxNS42MTcxODggMjQgMTYgMjQgQyAxNi4zODI4MTMgMjQgMTYuNzUzOTA2IDIzLjk4NDM3NSAxNy4xMjUgMjMuOTM3NSBDIDI0LjkwMjM0NCAyMy4zMjQyMTkgMzAuNzUgMTYuNjU2MjUgMzAuNzUgMTYuNjU2MjUgTCAzMS4zNDM3NSAxNiBMIDMwLjc1IDE1LjM0Mzc1IEMgMzAuNzUgMTUuMzQzNzUgMjQuMzM1OTM4IDggMTYgOCBaIE0gMTYgMTAgQyAxOC4yMDMxMjUgMTAgMjAuMjM0Mzc1IDEwLjYwMTU2MyAyMiAxMS40MDYyNSBDIDIyLjYzNjcxOSAxMi40NjA5MzggMjMgMTMuNjc1NzgxIDIzIDE1IEMgMjMgMTguNjEzMjgxIDIwLjI4OTA2MyAyMS41ODIwMzEgMTYuNzgxMjUgMjEuOTY4NzUgQyAxNi43NjE3MTkgMjEuOTcyNjU2IDE2LjczODI4MSAyMS45NjQ4NDQgMTYuNzE4NzUgMjEuOTY4NzUgQyAxNi40ODA0NjkgMjEuOTgwNDY5IDE2LjI0MjE4OCAyMiAxNiAyMiBDIDE1LjczNDM3NSAyMiAxNS40NzY1NjMgMjEuOTg0Mzc1IDE1LjIxODc1IDIxLjk2ODc1IEMgMTEuNzEwOTM4IDIxLjU4MjAzMSA5IDE4LjYxMzI4MSA5IDE1IEMgOSAxMy42OTUzMTMgOS4zNTE1NjMgMTIuNDgwNDY5IDkuOTY4NzUgMTEuNDM3NSBMIDkuOTM3NSAxMS40Mzc1IEMgMTEuNzE4NzUgMTAuNjE3MTg4IDEzLjc3MzQzOCAxMCAxNiAxMCBaIE0gMTYgMTIgQyAxNC4zNDM3NSAxMiAxMyAxMy4zNDM3NSAxMyAxNSBDIDEzIDE2LjY1NjI1IDE0LjM0Mzc1IDE4IDE2IDE4IEMgMTcuNjU2MjUgMTggMTkgMTYuNjU2MjUgMTkgMTUgQyAxOSAxMy4zNDM3NSAxNy42NTYyNSAxMiAxNiAxMiBaIE0gNy4yNSAxMi45Mzc1IEMgNy4wOTM3NSAxMy42MDkzNzUgNyAxNC4yODUxNTYgNyAxNSBDIDcgMTYuNzUzOTA2IDcuNSAxOC4zOTQ1MzEgOC4zNzUgMTkuNzgxMjUgQyA1Ljg1NTQ2OSAxOC4zMjQyMTkgNC4xMDU0NjkgMTYuNTg1OTM4IDMuNTMxMjUgMTYgQyA0LjAxMTcxOSAxNS41MDc4MTMgNS4zNTE1NjMgMTQuMjAzMTI1IDcuMjUgMTIuOTM3NSBaIE0gMjQuNzUgMTIuOTM3NSBDIDI2LjY0ODQzOCAxNC4yMDMxMjUgMjcuOTg4MjgxIDE1LjUwNzgxMyAyOC40Njg3NSAxNiBDIDI3Ljg5NDUzMSAxNi41ODU5MzggMjYuMTQ0NTMxIDE4LjMyNDIxOSAyMy42MjUgMTkuNzgxMjUgQyAyNC41IDE4LjM5NDUzMSAyNSAxNi43NTM5MDYgMjUgMTUgQyAyNSAxNC4yODUxNTYgMjQuOTA2MjUgMTMuNjAxNTYzIDI0Ljc1IDEyLjkzNzUgWiJ9KSxvKCJyZWN0Iix7Y2xhc3NOYW1lOmJyLmZpbGwseDoiMyIseToiMjYiLHdpZHRoOiIyNiIsaGVpZ2h0OiIyIix0cmFuc2Zvcm06InJvdGF0ZSgtNDUgMiAyMCkifSkpKX1mdW5jdGlvbiBmTSh7Zm9yY2VXaGl0ZTplfSl7cmV0dXJuIG8oInN2ZyIse2NsYXNzTmFtZTpici5vdmVybGF5VG9nZ2xlSWNvbk9uLGhlaWdodDoiMjQiLHdpZHRoOiIyNCIsdmlld0JveDoiMCAyLjIgMzIgMjYifSxvKCJwYXRoIix7Y2xhc3NOYW1lOmU/IiI6YnIuZmlsbCxmaWxsOmU/InZhcigtLXdoaXRlLTUwMCkiOiIiLGQ6Ik0gMTYgOCBDIDcuNjY0MDYzIDggMS4yNSAxNS4zNDM3NSAxLjI1IDE1LjM0Mzc1IEwgMC42NTYyNSAxNiBMIDEuMjUgMTYuNjU2MjUgQyAxLjI1IDE2LjY1NjI1IDcuMDk3NjU2IDIzLjMyNDIxOSAxNC44NzUgMjMuOTM3NSBDIDE1LjI0NjA5NCAyMy45ODQzNzUgMTUuNjE3MTg4IDI0IDE2IDI0IEMgMTYuMzgyODEzIDI0IDE2Ljc1MzkwNiAyMy45ODQzNzUgMTcuMTI1IDIzLjkzNzUgQyAyNC45MDIzNDQgMjMuMzI0MjE5IDMwLjc1IDE2LjY1NjI1IDMwLjc1IDE2LjY1NjI1IEwgMzEuMzQzNzUgMTYgTCAzMC43NSAxNS4zNDM3NSBDIDMwLjc1IDE1LjM0Mzc1IDI0LjMzNTkzOCA4IDE2IDggWiBNIDE2IDEwIEMgMTguMjAzMTI1IDEwIDIwLjIzNDM3NSAxMC42MDE1NjMgMjIgMTEuNDA2MjUgQyAyMi42MzY3MTkgMTIuNDYwOTM4IDIzIDEzLjY3NTc4MSAyMyAxNSBDIDIzIDE4LjYxMzI4MSAyMC4yODkwNjMgMjEuNTgyMDMxIDE2Ljc4MTI1IDIxLjk2ODc1IEMgMTYuNzYxNzE5IDIxLjk3MjY1NiAxNi43MzgyODEgMjEuOTY0ODQ0IDE2LjcxODc1IDIxLjk2ODc1IEMgMTYuNDgwNDY5IDIxLjk4MDQ2OSAxNi4yNDIxODggMjIgMTYgMjIgQyAxNS43MzQzNzUgMjIgMTUuNDc2NTYzIDIxLjk4NDM3NSAxNS4yMTg3NSAyMS45Njg3NSBDIDExLjcxMDkzOCAyMS41ODIwMzEgOSAxOC42MTMyODEgOSAxNSBDIDkgMTMuNjk1MzEzIDkuMzUxNTYzIDEyLjQ4MDQ2OSA5Ljk2ODc1IDExLjQzNzUgTCA5LjkzNzUgMTEuNDM3NSBDIDExLjcxODc1IDEwLjYxNzE4OCAxMy43NzM0MzggMTAgMTYgMTAgWiBNIDE2IDEyIEMgMTQuMzQzNzUgMTIgMTMgMTMuMzQzNzUgMTMgMTUgQyAxMyAxNi42NTYyNSAxNC4zNDM3NSAxOCAxNiAxOCBDIDE3LjY1NjI1IDE4IDE5IDE2LjY1NjI1IDE5IDE1IEMgMTkgMTMuMzQzNzUgMTcuNjU2MjUgMTIgMTYgMTIgWiBNIDcuMjUgMTIuOTM3NSBDIDcuMDkzNzUgMTMuNjA5Mzc1IDcgMTQuMjg1MTU2IDcgMTUgQyA3IDE2Ljc1MzkwNiA3LjUgMTguMzk0NTMxIDguMzc1IDE5Ljc4MTI1IEMgNS44NTU0NjkgMTguMzI0MjE5IDQuMTA1NDY5IDE2LjU4NTkzOCAzLjUzMTI1IDE2IEMgNC4wMTE3MTkgMTUuNTA3ODEzIDUuMzUxNTYzIDE0LjIwMzEyNSA3LjI1IDEyLjkzNzUgWiBNIDI0Ljc1IDEyLjkzNzUgQyAyNi42NDg0MzggMTQuMjAzMTI1IDI3Ljk4ODI4MSAxNS41MDc4MTMgMjguNDY4NzUgMTYgQyAyNy44OTQ1MzEgMTYuNTg1OTM4IDI2LjE0NDUzMSAxOC4zMjQyMTkgMjMuNjI1IDE5Ljc4MTI1IEMgMjQuNSAxOC4zOTQ1MzEgMjUgMTYuNzUzOTA2IDI1IDE1IEMgMjUgMTQuMjg1MTU2IDI0LjkwNjI1IDEzLjYwMTU2MyAyNC43NSAxMi45Mzc1IFoifSkpfWZ1bmN0aW9uIF8xKHthY3Rpdml0eTplLGZvcmNlV2hpdGU6dCxmb3JjZUxlZnRNYXJnaW46bn0pe2xldCByPUJ0KCk7cmV0dXJuIG8oWix7dGV4dDoiVG9nZ2xlIGFjdGl2aXR5In0sKHtvbk1vdXNlTGVhdmU6aSxvbk1vdXNlRW50ZXI6c30pPT5vKCJkaXYiLHtvbk1vdXNlTGVhdmU6aSxvbk1vdXNlRW50ZXI6cyxjbGFzc05hbWU6YnIub3ZlcmxheVRvZ2dsZUljb24scm9sZToiYnV0dG9uIiwiYXJpYS1sYWJlbCI6IlRvZ2dsZSBhY3Rpdml0eSIsdGFiSW5kZXg6MCxzdHlsZTpuP3ttYXJnaW5MZWZ0OiIycHgifTp2b2lkIDAsb25DbGljazpjPT5oTShjLGUscil9LG5uLmhhcyhlLmlkKT9vKG1NLG51bGwpOm8oZk0se2ZvcmNlV2hpdGU6dH0pKSl9ZnVuY3Rpb24gZ00oe2FjdGl2aXR5OmV9KXtyZXR1cm4gbygiZGl2Iix7Y2xhc3NOYW1lOmAke3BNLnRyeUl0T3V0QmFkZ2V9ICR7ZE0uYmFzZVNoYXBlUm91bmR9YCxzdHlsZTp7cGFkZGluZzoiMHB4IDJweCIsaGVpZ2h0OjI4fX0sbyhfMSx7YWN0aXZpdHk6ZSxmb3JjZVdoaXRlOiEwfSkpfWZ1bmN0aW9uIGhNKGUsdCxuKXtlLnN0b3BQcm9wYWdhdGlvbigpLG5uLmhhcyh0LmlkKT9ubi5kZWxldGUodC5pZCk6bm4uc2V0KHQuaWQsdCksbigpLGNwKCl9YXN5bmMgZnVuY3Rpb24gY3AoKXthd2FpdCBydCgiSWdub3JlQWN0aXZpdGllc19pZ25vcmVkQWN0aXZpdGllcyIsbm4pfXZhciBicixwTSxkTSxPMSxubix1cCxCMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7a24oKTtzZSgpO1AoKTtnZSgpO3goKTtCKCk7TSgpO2JyPUkoIm92ZXJsYXlUb2dnbGVJY29uT2ZmIiwib3ZlcmxheVRvZ2dsZUljb25PbiIpLHBNPUkoInRyeUl0T3V0QmFkZ2UiLCJ0cnlJdE91dEJhZGdlSWNvbiIpLGRNPUkoImJhc2VTaGFwZVJvdW5kIiwiYmFzZVNoYXBlUm91bmRMZWZ0IiwiYmFzZVNoYXBlUm91bmRSaWdodCIpLE8xPWxlKCJSdW5uaW5nR2FtZVN0b3JlIik7bm49bmV3IE1hcCx1cD12KHtuYW1lOiJJZ25vcmVBY3Rpdml0aWVzIixhdXRob3JzOltkLk51Y2t5el0sZGVzY3JpcHRpb246Iklnbm9yZSBjZXJ0YWluIGFjdGl2aXRpZXMgKGxpa2UgZ2FtZXMgYW5kIGFjdHVhbCBhY3Rpdml0aWVzKSBmcm9tIHNob3dpbmcgdXAgb24geW91ciBzdGF0dXMuIFlvdSBjYW4gY29uZmlndXJlIHdoaWNoIG9uZXMgYXJlIGlnbm9yZWQgZnJvbSB0aGUgUmVnaXN0ZXJlZCBHYW1lcyBhbmQgQWN0aXZpdGllcyB0YWJzLiIscGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5TRVRUSU5HU19HQU1FU19UT0dHTEVfT1ZFUkxBWSIscmVwbGFjZW1lbnQ6e21hdGNoOi8hKFxpKShcKXJldHVybiBudWxsO3ZhciBcaT0oXGkpXC5vdmVybGF5Lis/Y2hpbGRyZW46KShcWy57MCw3MH1vdmVybGF5U3RhdHVzVGV4dC4rP1xdKSg/PX1cKX1cKFwpKS8scmVwbGFjZTooZSx0LG4scixpKT0+YGZhbHNlJHtufSgke3R9PyR7aX06W10pLmNvbmNhdChWZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5JZ25vcmVBY3Rpdml0aWVzLnJlbmRlclRvZ2dsZUdhbWVBY3Rpdml0eUJ1dHRvbigke3J9KSlgfX0se2ZpbmQ6Ii5vdmVybGF5QmFkZ2UiLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1cKFwpXC5iYWRnZUNvbnRhaW5lcixjaGlsZHJlbjopLnswLDUwfT9uYW1lOihcaSlcLm5hbWUuKz9udWxsLyxyZXBsYWNlOihlLHQpPT5gWyR7ZX0sJHNlbGYucmVuZGVyVG9nZ2xlQWN0aXZpdHlCdXR0b24oJHt0fSldYH0se21hdGNoOi8oPzw9XChcKVwuYmFkZ2VDb250YWluZXIsY2hpbGRyZW46KS57MCw1MH0/bmFtZTooXGlcLmFwcGxpY2F0aW9uKVwubmFtZS4rP251bGwvLHJlcGxhY2U6KGUsdCk9PmAke2V9LCRzZWxmLnJlbmRlclRvZ2dsZUFjdGl2aXR5QnV0dG9uKCR7dH0pYH1dfSx7ZmluZDonLmRpc3BsYXlOYW1lPSJMb2NhbEFjdGl2aXR5U3RvcmUiJyxyZXBsYWNlbWVudDp7bWF0Y2g6L0xJU1RFTklORy4rP1wpXCk7KD88PShcaSlcLnB1c2guKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSR7dH09JHt0fS5maWx0ZXIoJHNlbGYuaXNBY3Rpdml0eU5vdElnbm9yZWQpO2B9fV0sYXN5bmMgc3RhcnQoKXtsZXQgZT1hd2FpdCBvdCgiSWdub3JlQWN0aXZpdGllc19pZ25vcmVkQWN0aXZpdGllcyIpPz9uZXcgTWFwO2lmKEFycmF5LmlzQXJyYXkoZSkpe2ZvcihsZXQgdCBvZiBlKW5uLnNldCh0LHtpZDp0LHR5cGU6MH0pO2F3YWl0IGNwKCl9ZWxzZSBubj1lO2lmKG5uLnNpemUhPT0wKXtsZXQgdD1PMS5nZXRHYW1lc1NlZW4oKTtmb3IobGV0IG4gb2Ygbm4udmFsdWVzKCkpbi50eXBlPT09MCYmKHQuc29tZShyPT5yLmlkPT09bi5pZHx8ci5leGVQYXRoPT09bi5pZCl8fG5uLmRlbGV0ZShuLmlkKSk7YXdhaXQgY3AoKX19LHJlbmRlclRvZ2dsZUdhbWVBY3Rpdml0eUJ1dHRvbihlKXtyZXR1cm4gbyhELHtub29wOiEwfSxvKF8xLHthY3Rpdml0eTp7aWQ6ZS5pZD8/ZS5leGVQYXRoLHR5cGU6MH0sZm9yY2VMZWZ0TWFyZ2luOiEwfSkpfSxyZW5kZXJUb2dnbGVBY3Rpdml0eUJ1dHRvbihlKXtyZXR1cm4gbyhELHtub29wOiEwfSxvKGdNLHthY3Rpdml0eTp7aWQ6ZS5pZCx0eXBlOjF9fSkpfSxpc0FjdGl2aXR5Tm90SWdub3JlZChlKXtpZihlLnR5cGU9PT0wKXtpZihlLmFwcGxpY2F0aW9uX2lkIT09dm9pZCAwKXJldHVybiFubi5oYXMoZS5hcHBsaWNhdGlvbl9pZCk7e2xldCB0PU8xLmdldFJ1bm5pbmdHYW1lcygpLmZpbmQobj0+bi5uYW1lPT09ZS5uYW1lKT8uZXhlUGF0aDtpZih0KXJldHVybiFubi5oYXModCl9fXJldHVybiEwfX0pfSk7dmFyIHdpLHBwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3aT0idmMtaW1nem9vbS1tYWduaWZ5LW1vZGFsIn0pO2Z1bmN0aW9uIGRwKGUsdCl7ZSgpP3QoKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PmRwKGUsdCkpfXZhciBGMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTt2YXIgeU0sbXAsJDE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0hlKCk7TSgpO3BwKCk7ZnAoKTtGMSgpO3lNPUxlKCJ2Yy1pbWd6b29tLSIpLG1wPSh7aW5zdGFuY2U6ZSxzaXplOnQsem9vbTpufSk9PntsZXRbcixpXT1XKCExKSxbcyxjXT1XKHt4OjAseTowfSksW3UscF09Vyh7eDowLHk6MH0pLFt5LGhdPVcoMCksUz0kdCghMSksVD0kdChuKSx3PSR0KHQpLEw9JHQobnVsbCksQz0kdChudWxsKSxrPSR0KG51bGwpLFU9JHQobnVsbCk7aWYoQS51c2VMYXlvdXRFZmZlY3QoKCk9PntsZXQgWD1pZT0+e2llLmtleT09PSJTaGlmdCImJihTLmN1cnJlbnQ9ITApfSxuZT1pZT0+e2llLmtleT09PSJTaGlmdCImJihTLmN1cnJlbnQ9ITEpfSxZPSgpPT57Qy5jdXJyZW50LmN1cnJlbnRUaW1lPWsuY3VycmVudC5jdXJyZW50VGltZX0scT1pZT0+e2lmKGUuc3RhdGUubW91c2VPdmVyJiZlLnN0YXRlLm1vdXNlRG93bil7bGV0IGplPXcuY3VycmVudC8yLCRlPXt4OmllLnBhZ2VYLHk6aWUucGFnZVl9LGR0PS0oKCRlLngtTC5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpKlQuY3VycmVudC1qZSksWmU9LSgoJGUueS1MLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSpULmN1cnJlbnQtamUpO2Moe3g6aWUueC1qZSx5OmllLnktamV9KSxwKHt4OmR0LHk6WmV9KSxoKDEpfWVsc2UgaCgwKX0sb2U9aWU9PntlLnN0YXRlLm1vdXNlT3ZlciYmaWUuYnV0dG9uPT09MCYmKFQuY3VycmVudD1JZS5zdG9yZS56b29tLHcuY3VycmVudD1JZS5zdG9yZS5zaXplLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWFnZS1jb250ZXh0IikmJl8uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KSxxKGllKSxoKDEpKX0sSD0oKT0+e2goMCksSWUuc3RvcmUuc2F2ZVpvb21WYWx1ZXMmJihJZS5zdG9yZS56b29tPVQuY3VycmVudCxJZS5zdG9yZS5zaXplPXcuY3VycmVudCl9LEVlPWFzeW5jIGllPT57aWYoZS5zdGF0ZS5tb3VzZU92ZXImJmUuc3RhdGUubW91c2VEb3duJiYhUy5jdXJyZW50KXtsZXQgamU9VC5jdXJyZW50K2llLmRlbHRhWS8xMDAqKEllLnN0b3JlLmludmVydFNjcm9sbD8tMToxKSpJZS5zdG9yZS56b29tU3BlZWQ7VC5jdXJyZW50PWplPD0xPzE6amUscShpZSl9aWYoZS5zdGF0ZS5tb3VzZU92ZXImJmUuc3RhdGUubW91c2VEb3duJiZTLmN1cnJlbnQpe2xldCBqZT13LmN1cnJlbnQraWUuZGVsdGFZKihJZS5zdG9yZS5pbnZlcnRTY3JvbGw/LTE6MSkqSWUuc3RvcmUuem9vbVNwZWVkO3cuY3VycmVudD1qZTw9NTA/NTA6amUscShpZSl9fTtyZXR1cm4gZHAoKCk9PmUuc3RhdGUucmVhZHlTdGF0ZT09PSJSRUFEWSIsKCk9PntsZXQgaWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQod2kpO0wuY3VycmVudD1pZSxpZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoImRyYWdnYWJsZSIsImZhbHNlIiksZS5wcm9wcy5hbmltYXRlZCYmKGsuY3VycmVudD1pZS5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpLGsuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCJ0aW1ldXBkYXRlIixZKSksaSghMCl9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixYKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsbmUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIscSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIixvZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsSCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2hlZWwiLEVlKSwoKT0+e2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLFgpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIixuZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixxKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9lKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixIKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3aGVlbCIsRWUpLEllLnN0b3JlLnNhdmVab29tVmFsdWVzJiYoSWUuc3RvcmUuem9vbT1ULmN1cnJlbnQsSWUuc3RvcmUuc2l6ZT13LmN1cnJlbnQpfX0sW10pLCFyKXJldHVybiBudWxsO2xldCAkPUwuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gbygiZGl2Iix7Y2xhc3NOYW1lOnlNKCJsZW5zIix7Im5lYXJlc3QtbmVpZ2hib3IiOkllLnN0b3JlLm5lYXJlc3ROZWlnaGJvdXIsc3F1YXJlOkllLnN0b3JlLnNxdWFyZX0pLHN0eWxlOntvcGFjaXR5Onksd2lkdGg6dy5jdXJyZW50KyJweCIsaGVpZ2h0OncuY3VycmVudCsicHgiLHRyYW5zZm9ybTpgdHJhbnNsYXRlKCR7cy54fXB4LCAke3MueX1weClgfX0sZS5wcm9wcy5hbmltYXRlZD9vKCJ2aWRlbyIse3JlZjpDLHN0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6YCR7dS54fXB4YCx0b3A6YCR7dS55fXB4YH0sd2lkdGg6YCR7JC53aWR0aCpULmN1cnJlbnR9cHhgLGhlaWdodDpgJHskLmhlaWdodCpULmN1cnJlbnR9cHhgLHBvc3RlcjplLnByb3BzLnNyYyxzcmM6ay5jdXJyZW50Py5zcmM/P2UucHJvcHMuc3JjLGF1dG9QbGF5OiEwLGxvb3A6ITB9KTpvKCJpbWciLHtyZWY6VSxzdHlsZTp7cG9zaXRpb246ImFic29sdXRlIix0cmFuc2Zvcm06YHRyYW5zbGF0ZSgke3UueH1weCwgJHt1Lnl9cHgpYH0sd2lkdGg6YCR7JC53aWR0aCpULmN1cnJlbnR9cHhgLGhlaWdodDpgJHskLmhlaWdodCpULmN1cnJlbnR9cHhgLHNyYzplLnByb3BzLnNyYyxhbHQ6IiJ9KSl9fSk7dmFyIGdwLFUxPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvaW1hZ2Vab29tL3N0eWxlcy5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9pbWFnZVpvb20vc3R5bGVzLmNzcyIsc291cmNlOmAudmMtaW1nem9vbS1sZW5zIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGluc2V0OiAwOwogICAgei1pbmRleDogOTk5OTsKICAgIGJvcmRlcjogMnB4IHNvbGlkIGdyZXk7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgY3Vyc29yOiBub25lOwogICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDEwcHggMnB4IGdyZXk7CiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMCAycHggZ3JleSk7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKfQoKLnZjLWltZ3pvb20tc3F1YXJlIHsKICAgIGJvcmRlci1yYWRpdXM6IDA7Cn0KCi52Yy1pbWd6b29tLW5lYXJlc3QtbmVpZ2hib3IgPiBpbWcgewogICAgaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWQ7IC8qIGh0dHBzOi8vZ29vZ2xlY2hyb21lLmdpdGh1Yi5pby9zYW1wbGVzL2ltYWdlLXJlbmRlcmluZy1waXhlbGF0ZWQvaW5kZXguaHRtbCAqLwp9CgovKiBtYWtlIHRoZSBjYXJvdXNlbCB0YWtlIHVwIGxlc3Mgc3BhY2Ugc28gd2UgY2FuIGNsaWNrIHRoZSBiYWNrZHJvcCBhbmQgZXhpdCBvdXQgb2YgaXQgKi8KW2NsYXNzfD0iY2Fyb3VzZWxNb2RhbCJdIHsKICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICBib3gtc2hhZG93OiBub25lOwp9CgpbY2xhc3MqPSJtb2RhbENhcm91c2VsV3JhcHBlciJdIHsKICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICB0b3A6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKfQoKW2NsYXNzfD0id3JhcHBlciJdOmhhcyg+ICN2Yy1pbWd6b29tLW1hZ25pZnktbW9kYWwpIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDUwJTsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7Z3A9InNyYy9wbHVnaW5zL2ltYWdlWm9vbS9zdHlsZXMuY3NzIn0pO3ZhciBJZSxHMSxocCxmcD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3QoKTtGKCk7SGUoKTtYcygpO1AoKTthcigpO3goKTtNKCk7JDEoKTtwcCgpO1UxKCk7SWU9RSh7c2F2ZVpvb21WYWx1ZXM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiV2hldGhlciB0byBzYXZlIHpvb20gYW5kIGxlbnMgc2l6ZSB2YWx1ZXMiLGRlZmF1bHQ6ITB9LHByZXZlbnRDYXJvdXNlbEZyb21DbG9zaW5nT25DbGljazp7dHlwZTozLGRlc2NyaXB0aW9uOiJBbGxvdyB0aGUgaW1hZ2UgbW9kYWwgaW4gdGhlIGltYWdlIHNsaWRlc2hvdyB0aGluZyAvIGNhcm91c2VsIHRvIHJlbWFpbiBvcGVuIHdoZW4gY2xpY2tpbmcgb24gdGhlIGltYWdlIixkZWZhdWx0OiEwfSxpbnZlcnRTY3JvbGw6e3R5cGU6MyxkZXNjcmlwdGlvbjoiSW52ZXJ0IHNjcm9sbCIsZGVmYXVsdDohMH0sbmVhcmVzdE5laWdoYm91cjp7dHlwZTozLGRlc2NyaXB0aW9uOiJVc2UgTmVhcmVzdCBOZWlnaGJvdXIgSW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcgaW1hZ2VzIixkZWZhdWx0OiExfSxzcXVhcmU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTWFrZSB0aGUgbGVucyBzcXVhcmUiLGRlZmF1bHQ6ITF9LHpvb206e2Rlc2NyaXB0aW9uOiJab29tIG9mIHRoZSBsZW5zIix0eXBlOjUsbWFya2Vyczp5cigxLDUwLDQpLGRlZmF1bHQ6MixzdGlja1RvTWFya2VyczohMX0sc2l6ZTp7ZGVzY3JpcHRpb246IlJhZGl1cyAvIFNpemUgb2YgdGhlIGxlbnMiLHR5cGU6NSxtYXJrZXJzOnlyKDUwLDFlMyw1MCksZGVmYXVsdDoxMDAsc3RpY2tUb01hcmtlcnM6ITF9LHpvb21TcGVlZDp7ZGVzY3JpcHRpb246IkhvdyBmYXN0IHRoZSB6b29tIC8gbGVucyBzaXplIGNoYW5nZXMiLHR5cGU6NSxtYXJrZXJzOnlyKC4xLDUsLjIpLGRlZmF1bHQ6LjUsc3RpY2tUb01hcmtlcnM6ITF9fSksRzE9ZT0+KCk9PntlLnB1c2gobyhPLk1lbnVHcm91cCx7aWQ6ImltYWdlLXpvb20ifSxvKE8uTWVudUNoZWNrYm94SXRlbSx7aWQ6InZjLXNxdWFyZSIsbGFiZWw6IlNxdWFyZSBMZW5zIixjaGVja2VkOkllLnN0b3JlLnNxdWFyZSxhY3Rpb246KCk9PntJZS5zdG9yZS5zcXVhcmU9IUllLnN0b3JlLnNxdWFyZSxkbi5jbG9zZSgpfX0pLG8oTy5NZW51Q29udHJvbEl0ZW0se2lkOiJ2Yy16b29tIixsYWJlbDoiWm9vbSIsY29udHJvbDoodCxuKT0+byhPLk1lbnVTbGlkZXJDb250cm9sLHtyZWY6biwuLi50LG1pblZhbHVlOjEsbWF4VmFsdWU6NTAsdmFsdWU6SWUuc3RvcmUuem9vbSxvbkNoYW5nZTpfdChyPT5JZS5zdG9yZS56b29tPXIsMTAwKX0pfSksbyhPLk1lbnVDb250cm9sSXRlbSx7aWQ6InZjLXNpemUiLGxhYmVsOiJMZW5zIFNpemUiLGNvbnRyb2w6KHQsbik9Pm8oTy5NZW51U2xpZGVyQ29udHJvbCx7cmVmOm4sLi4udCxtaW5WYWx1ZTo1MCxtYXhWYWx1ZToxZTMsdmFsdWU6SWUuc3RvcmUuc2l6ZSxvbkNoYW5nZTpfdChyPT5JZS5zdG9yZS5zaXplPXIsMTAwKX0pfSksbyhPLk1lbnVDb250cm9sSXRlbSx7aWQ6InZjLXpvb20tc3BlZWQiLGxhYmVsOiJab29tIFNwZWVkIixjb250cm9sOih0LG4pPT5vKE8uTWVudVNsaWRlckNvbnRyb2wse3JlZjpuLC4uLnQsbWluVmFsdWU6LjEsbWF4VmFsdWU6NSx2YWx1ZTpJZS5zdG9yZS56b29tU3BlZWQsb25DaGFuZ2U6X3Qocj0+SWUuc3RvcmUuem9vbVNwZWVkPXIsMTAwKSxyZW5kZXJWYWx1ZTpyPT5gJHtyLnRvRml4ZWQoMyl9eGB9KX0pKSl9LGhwPXYoe25hbWU6IkltYWdlWm9vbSIsZGVzY3JpcHRpb246IkxldHMgeW91IHpvb20gaW4gdG8gaW1hZ2VzIGFuZCBnaWZzLiBVc2Ugc2Nyb2xsIHdoZWVsIHRvIHpvb20gaW4gYW5kIHNoaWZ0ICsgc2Nyb2xsIHdoZWVsIHRvIGluY3JlYXNlIGxlbnMgcmFkaXVzIC8gc2l6ZSIsYXV0aG9yczpbZC5BcmlhXSx0YWdzOlsiSW1hZ2VVdGlsaXRpZXMiXSxwYXRjaGVzOlt7ZmluZDonInJlbmRlckxpbmtDb21wb25lbnQiLCJtYXhXaWR0aCInLHJlcGxhY2VtZW50OnttYXRjaDovKHJldHVyblwoLnsxLDEwMH1cKFwpXC53cmFwcGVyLnsxLDEwMH0pKHNyYykvLHJlcGxhY2U6YCQxaWQ6ICcke3dpfScsJDJgfX0se2ZpbmQ6ImhhbmRsZUltYWdlTG9hZD0iLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhyZW5kZXI9ZnVuY3Rpb25cKFwpey57MSw1MDB9bGltaXRSZXNwb25zaXZlV2lkdGguezEsNjAwfSlvbk1vdXNlRW50ZXI6LyxyZXBsYWNlOiIkMS4uLiRzZWxmLm1ha2VQcm9wcyh0aGlzKSxvbk1vdXNlRW50ZXI6In0se21hdGNoOi9jb21wb25lbnREaWRNb3VudD1mdW5jdGlvblwoXCl7LyxyZXBsYWNlOiIkJiRzZWxmLnJlbmRlck1hZ25pZmllcih0aGlzKTsifSx7bWF0Y2g6L2NvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uXChcKXsvLHJlcGxhY2U6IiQmJHNlbGYudW5Nb3VudE1hZ25pZmllcigpOyJ9XX0se2ZpbmQ6Ii5jYXJvdXNlbE1vZGFsLCIscmVwbGFjZW1lbnQ6e21hdGNoOi9vbkNsaWNrOihcaSksLyxyZXBsYWNlOiJvbkNsaWNrOiRzZWxmLnNldHRpbmdzLnN0b3JlLnByZXZlbnRDYXJvdXNlbEZyb21DbG9zaW5nT25DbGljayA/ICgpID0+IHt9IDogJDEsIn19XSxzZXR0aW5nczpJZSxjdXJyZW50TWFnbmlmaWVyRWxlbWVudDpudWxsLGVsZW1lbnQ6bnVsbCxNYWduaWZpZXI6bXAscm9vdDpudWxsLG1ha2VQcm9wcyhlKXtyZXR1cm57b25Nb3VzZU92ZXI6KCk9PnRoaXMub25Nb3VzZU92ZXIoZSksb25Nb3VzZU91dDooKT0+dGhpcy5vbk1vdXNlT3V0KGUpLG9uTW91c2VEb3duOnQ9PnRoaXMub25Nb3VzZURvd24odCxlKSxvbk1vdXNlVXA6KCk9PnRoaXMub25Nb3VzZVVwKGUpLGlkOmUucHJvcHMuaWR9fSxyZW5kZXJNYWduaWZpZXIoZSl7ZS5wcm9wcy5pZD09PXdpJiYodGhpcy5jdXJyZW50TWFnbmlmaWVyRWxlbWVudHx8KHRoaXMuY3VycmVudE1hZ25pZmllckVsZW1lbnQ9byhtcCx7c2l6ZTpJZS5zdG9yZS5zaXplLHpvb206SWUuc3RvcmUuem9vbSxpbnN0YW5jZTplfSksdGhpcy5yb290PVVvLmNyZWF0ZVJvb3QodGhpcy5lbGVtZW50KSx0aGlzLnJvb3QucmVuZGVyKHRoaXMuY3VycmVudE1hZ25pZmllckVsZW1lbnQpKSl9LHVuTW91bnRNYWduaWZpZXIoKXt0aGlzLnJvb3Q/LnVubW91bnQoKSx0aGlzLmN1cnJlbnRNYWduaWZpZXJFbGVtZW50PW51bGwsdGhpcy5yb290PW51bGx9LG9uTW91c2VPdmVyKGUpe2Uuc2V0U3RhdGUodD0+KHsuLi50LG1vdXNlT3ZlcjohMH0pKX0sb25Nb3VzZU91dChlKXtlLnNldFN0YXRlKHQ9Pih7Li4udCxtb3VzZU92ZXI6ITF9KSl9LG9uTW91c2VEb3duKGUsdCl7ZS5idXR0b249PT0wJiZ0LnNldFN0YXRlKG49Pih7Li4ubixtb3VzZURvd246ITB9KSl9LG9uTW91c2VVcChlKXtlLnNldFN0YXRlKHQ9Pih7Li4udCxtb3VzZURvd246ITF9KSl9LHN0YXJ0KCl7dHQoZ3ApLHBlKCJpbWFnZS1jb250ZXh0IixHMSksdGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJNYWduaWZpZXJDb250YWluZXIiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCl9LHN0b3AoKXtOdChncCksdGhpcy5yb290JiZ0aGlzLnJvb3QudW5tb3VudCgpLHRoaXMuZWxlbWVudD8ucmVtb3ZlKCksZmUoImltYWdlLWNvbnRleHQiLEcxKX19KX0pO2Z1bmN0aW9uIHZNKGUpe2xldCB0PWU/Lm1lc3NhZ2U/LmNvbnRlbnQsW24scl09QS51c2VTdGF0ZSgicGFzc3dvcmQiKTtyZXR1cm4gbyhBZSx7Li4uZX0sbyhCZSxudWxsLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDQifSwiRGVjcnlwdCBNZXNzYWdlIikpLG8oRmUsbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6Img1IixzdHlsZTp7bWFyZ2luVG9wOiIxMHB4In19LCJTZWNyZXQiKSxvKERlLHtkZWZhdWx0VmFsdWU6dCxkaXNhYmxlZDohMH0pLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDUifSwiUGFzc3dvcmQiKSxvKERlLHtzdHlsZTp7bWFyZ2luQm90dG9tOiIyMHB4In0sb25DaGFuZ2U6cn0pKSxvKHV0LG51bGwsbyhSLHtjb2xvcjpSLkNvbG9ycy5HUkVFTixvbkNsaWNrOigpPT57bGV0IGk9eXAodCxuLCEwKTshaXx8IWU/Lm1lc3NhZ2V8fChWZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5JbnZpc2libGVDaGF0LmJ1aWxkRW1iZWQoZT8ubWVzc2FnZSxpKSxlLm9uQ2xvc2UoKSl9fSwiRGVjcnlwdCIpLG8oUix7Y29sb3I6Ui5Db2xvcnMuVFJBTlNQQVJFTlQsbG9vazpSLkxvb2tzLkxJTkssc3R5bGU6e2xlZnQ6MTUscG9zaXRpb246ImFic29sdXRlIn0sb25DbGljazplLm9uQ2xvc2V9LCJDYW5jZWwiKSkpfWZ1bmN0aW9uIEgxKGUpe01lKHQ9Pm8odk0sey4uLnQsLi4uZX0pKX12YXIgejE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0tlKCk7TSgpO3BhKCl9KTtmdW5jdGlvbiBTTShlKXtsZXRbdCxuXT1BLnVzZVN0YXRlKCIiKSxbcixpXT1BLnVzZVN0YXRlKCIiKSxbcyxjXT1BLnVzZVN0YXRlKCJwYXNzd29yZCIpLFt1LHBdPUEudXNlU3RhdGUoITEpLHk9dCYmKHV8fHImJi9cdyBcdy8udGVzdChyKSk7cmV0dXJuIG8oQWUsey4uLmV9LG8oQmUsbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6Img0In0sIkVuY3J5cHQgTWVzc2FnZSIpKSxvKEZlLG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsc3R5bGU6e21hcmdpblRvcDoiMTBweCJ9fSwiU2VjcmV0IiksbyhEZSx7b25DaGFuZ2U6aD0+e24oaCl9fSksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsc3R5bGU6e21hcmdpblRvcDoiMTBweCJ9fSwiQ292ZXIgKDIgb3IgbW9yZSBXb3JkcyEhKSIpLG8oRGUse2Rpc2FibGVkOnUsb25DaGFuZ2U6aD0+e2koaCl9fSksbyhiLkZvcm1UaXRsZSx7dGFnOiJoNSIsc3R5bGU6e21hcmdpblRvcDoiMTBweCJ9fSwiUGFzc3dvcmQiKSxvKERlLHtzdHlsZTp7bWFyZ2luQm90dG9tOiIyMHB4In0sZGVmYXVsdFZhbHVlOiJwYXNzd29yZCIsb25DaGFuZ2U6aD0+e2MoaCl9fSksbyhodCx7dmFsdWU6dSxvbkNoYW5nZTpoPT57cChoKX19LCJEb24ndCB1c2UgYSBDb3ZlciIpKSxvKHV0LG51bGwsbyhSLHtjb2xvcjpSLkNvbG9ycy5HUkVFTixkaXNhYmxlZDoheSxvbkNsaWNrOigpPT57aWYoIXkpcmV0dXJuO2xldCBoPXExKHQscyx1PyJkIGQiOnIpLFM9dT9oLnJlcGxhY2VBbGwoImQiLCIiKTpoOyFTfHwocW4oUyksZS5vbkNsb3NlKCkpfX0sIlNlbmQiKSxvKFIse2NvbG9yOlIuQ29sb3JzLlRSQU5TUEFSRU5ULGxvb2s6Ui5Mb29rcy5MSU5LLHN0eWxlOntsZWZ0OjE1LHBvc2l0aW9uOiJhYnNvbHV0ZSJ9LG9uQ2xpY2s6KCk9PntlLm9uQ2xvc2UoKX19LCJDYW5jZWwiKSkpfWZ1bmN0aW9uIGoxKCl7TWUoZT0+byhTTSx7Li4uZX0pKX12YXIgVzE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3N0KCk7S2UoKTtNKCk7cGEoKX0pO2Z1bmN0aW9uIGJNKCl7cmV0dXJuIG8oInN2ZyIse2ZpbGw6InZhcigtLWhlYWRlci1zZWNvbmRhcnkpIix3aWR0aDoyNCxoZWlnaHQ6MjQsdmlld0JveDoiMCAwIDY0IDY0In0sbygicGF0aCIse2Q6Ik0gMzIgOSBDIDI0LjgzMiA5IDE5IDE0LjgzMiAxOSAyMiBMIDE5IDI3LjM0NzY1NiBDIDE2LjY3MDY1OSAyOC4xNzE4NjIgMTUgMzAuMzg4MTI2IDE1IDMzIEwgMTUgNDkgQyAxNSA1Mi4zMTQgMTcuNjg2IDU1IDIxIDU1IEwgNDMgNTUgQyA0Ni4zMTQgNTUgNDkgNTIuMzE0IDQ5IDQ5IEwgNDkgMzMgQyA0OSAzMC4zODgxMjYgNDcuMzI5MzQxIDI4LjE3MTg2MiA0NSAyNy4zNDc2NTYgTCA0NSAyMiBDIDQ1IDE0LjgzMiAzOS4xNjggOSAzMiA5IHogTSAzMiAxMyBDIDM2Ljk2MyAxMyA0MSAxNy4wMzggNDEgMjIgTCA0MSAyNyBMIDIzIDI3IEwgMjMgMjIgQyAyMyAxNy4wMzggMjcuMDM3IDEzIDMyIDEzIHoifSkpfWZ1bmN0aW9uIFRNKCl7cmV0dXJuIG8oWix7dGV4dDoiVGhpcyBtZXNzYWdlIGhhcyBhIGhpZGRlbiBtZXNzYWdlISAoSW52aXNpYmxlQ2hhdCkifSwoe29uTW91c2VFbnRlcjplLG9uTW91c2VMZWF2ZTp0fSk9Pm8oImltZyIseyJhcmlhLWxhYmVsIjoiSGlkZGVuIE1lc3NhZ2UgSW5kaWNhdG9yIChJbnZpc2libGVDaGF0KSIsb25Nb3VzZUVudGVyOmUsb25Nb3VzZUxlYXZlOnQsc3JjOiJodHRwczovL2dpdGh1Yi5jb20vU2FtbUNoZWVzZS9pbnZpc2libGUtY2hhdC9yYXcvTmV3UmVwbHVnZ2VkL3NyYy9hc3NldHMvbG9jay5wbmciLHdpZHRoOjIwLGhlaWdodDoyMCxzdHlsZTp7dHJhbnNmb3JtOiJ0cmFuc2xhdGVZKDRwKSIscGFkZGluZ0lubGluZTo0fX0pKX1mdW5jdGlvbiB4TShlKXtyZXR1cm4gZS50eXBlLmFuYWx5dGljc05hbWUhPT0ibm9ybWFsIj9udWxsOm8oWix7dGV4dDoiRW5jcnlwdCBNZXNzYWdlIn0sKHtvbk1vdXNlRW50ZXI6dCxvbk1vdXNlTGVhdmU6bn0pPT5vKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiZmxleCJ9fSxvKFIseyJhcmlhLWhhc3BvcHVwIjoiZGlhbG9nIiwiYXJpYS1sYWJlbCI6IkVuY3J5cHQgTWVzc2FnZSIsc2l6ZToiIixsb29rOmVuLkJMQU5LLG9uTW91c2VFbnRlcjp0LG9uTW91c2VMZWF2ZTpuLGlubmVyQ2xhc3NOYW1lOmd0LmJ1dHRvbixvbkNsaWNrOigpPT5qMSgpLHN0eWxlOntwYWRkaW5nOiIwIDJweCIsc2NhbGU6IjAuOSJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7ImFyaWEtaGlkZGVuIjohMCxyb2xlOiJpbWciLHdpZHRoOiIzMiIsaGVpZ2h0OiIzMiIsdmlld0JveDoiMCAwIDY0IDY0IixzdHlsZTp7c2NhbGU6IjEuMSJ9fSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNIDMyIDkgQyAyNC44MzIgOSAxOSAxNC44MzIgMTkgMjIgTCAxOSAyNy4zNDc2NTYgQyAxNi42NzA2NTkgMjguMTcxODYyIDE1IDMwLjM4ODEyNiAxNSAzMyBMIDE1IDQ5IEMgMTUgNTIuMzE0IDE3LjY4NiA1NSAyMSA1NSBMIDQzIDU1IEMgNDYuMzE0IDU1IDQ5IDUyLjMxNCA0OSA0OSBMIDQ5IDMzIEMgNDkgMzAuMzg4MTI2IDQ3LjMyOTM0MSAyOC4xNzE4NjIgNDUgMjcuMzQ3NjU2IEwgNDUgMjIgQyA0NSAxNC44MzIgMzkuMTY4IDkgMzIgOSB6IE0gMzIgMTMgQyAzNi45NjMgMTMgNDEgMTcuMDM4IDQxIDIyIEwgNDEgMjcgTCAyMyAyNyBMIDIzIDIyIEMgMjMgMTcuMDM4IDI3LjAzNyAxMyAzMiAxMyB6In0pKSkpKSl9ZnVuY3Rpb24gcTEoZSx0LG4pe3JldHVybiB2cC5oaWRlKGUrIlx1MjAwQiIsdCxuKX1mdW5jdGlvbiB5cChlLHQsbil7bGV0IHI9dnAucmV2ZWFsKGUsdCk7cmV0dXJuIG4/ci5yZXBsYWNlKCJcdTIwMEIiLCIiKTpyfWZ1bmN0aW9uIHdNKGUpe3JldHVybiBlLmVuZHNXaXRoKCJcdTIwMEIiKX1hc3luYyBmdW5jdGlvbiBNTShlKXtsZXQgdD1LMS5zdG9yZS5zYXZlZFBhc3N3b3Jkcy5zcGxpdCgiLCIpLm1hcChyPT5yLnRyaW0oKSk7aWYoIWU/LmNvbnRlbnR8fCF0Py5sZW5ndGgpcmV0dXJuITE7bGV0e2NvbnRlbnQ6bn09ZTsvXlxXLy50ZXN0KGUuY29udGVudCkmJihuPWBkICR7ZS5jb250ZW50fWRgKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7bGV0IGk9eXAobix0W3JdLCExKTtpZih3TShpKSlyZXR1cm4gaX1yZXR1cm4hMX12YXIgdnAsSzEsU3AscGE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1FvKCk7RigpO3NlKCk7UCgpO1NpKCk7eCgpO00oKTt6MSgpO1cxKCk7SzE9RSh7c2F2ZWRQYXNzd29yZHM6e3R5cGU6MCxkZWZhdWx0OiJwYXNzd29yZCwgUGFzc3dvcmQiLGRlc2NyaXB0aW9uOiJTYXZlZCBQYXNzd29yZHMgKFNlcGVyYXRlZCB3aXRoIGEgLCApIn19KSxTcD12KHtuYW1lOiJJbnZpc2libGVDaGF0IixkZXNjcmlwdGlvbjoiRW5jcnlwdCB5b3VyIE1lc3NhZ2VzIGluIGEgbm9uLXN1c3BpY2lvdXMgd2F5ISIsYXV0aG9yczpbZC5TYW1tQ2hlZXNlXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlUG9wb3ZlckFQSSJdLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuTUVTU0FHRV9FRElURUQsIixyZXBsYWNlbWVudDp7bWF0Y2g6L3ZhciAuLC4sLj0oLilcLmNsYXNzTmFtZSwuPS5cLm1lc3NhZ2UsLj0uXC5jaGlsZHJlbiwuPS5cLmNvbnRlbnQsLj0uXC5vblVwZGF0ZS9nbSxyZXBsYWNlOiJ0cnkgeyQxICYmICRzZWxmLklOVl9SRUdFWC50ZXN0KCQxLm1lc3NhZ2UuY29udGVudCkgPyAkMS5jb250ZW50LnB1c2goJHNlbGYuaW5kaWNhdG9yKCkpIDogbnVsbCB9IGNhdGNoIHt9OyQmIn19LHtmaW5kOiIuYWN0aXZlQ29tbWFuZE9wdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oLilcLnB1c2guezEsMzB9ZGlzYWJsZWQ6KFxpKSwuezEsMjB9XH0sImdpZnQiXClcKS8scmVwbGFjZToiJCY7dHJ5eyQyfHwkMS5wdXNoKCRzZWxmLmNoYXRCYXJJY29uKGFyZ3VtZW50c1swXSkpfWNhdGNoe30ifX1dLEVNQkVEX0FQSV9VUkw6Imh0dHBzOi8vZW1iZWQuc2FtbWNoZWVzZS5uZXQiLElOVl9SRUdFWDpuZXcgUmVnRXhwKC8oIFx1MjAwY3xcdTIwMGQgfFtcdTIwNjAtXHUyMDY0XSlbXlx1MjAwYl0vKSxVUkxfUkVHRVg6bmV3IFJlZ0V4cCgvKGh0dHAocyk/OlwvXC8uKT8od3d3XC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYihbLWEtekEtWjAtOUA6JV8rLn4jPyYvLz1dKikvKSxzZXR0aW5nczpLMSxhc3luYyBzdGFydCgpe2xldHtkZWZhdWx0OmV9PWF3YWl0IHUxKCk7dnA9bmV3IGUoITAsITEpLHduKCJpbnZEZWNyeXB0Iix0PT50aGlzLklOVl9SRUdFWC50ZXN0KHQ/LmNvbnRlbnQpP3tsYWJlbDoiRGVjcnlwdCBNZXNzYWdlIixpY29uOnRoaXMucG9wT3Zlckljb24sbWVzc2FnZTp0LGNoYW5uZWw6Vi5nZXRDaGFubmVsKHQuY2hhbm5lbF9pZCksb25DbGljazphc3luYygpPT57YXdhaXQgTU0odCkudGhlbihuPT5uP3ZvaWQgdGhpcy5idWlsZEVtYmVkKHQsbik6dm9pZCBIMSh7bWVzc2FnZTp0fSkpfX06bnVsbCl9LHN0b3AoKXtNbigiaW52RGVjcnlwdCIpfSxhc3luYyBnZXRFbWJlZChlKXtsZXR7Ym9keTp0fT1hd2FpdCB5dC5wb3N0KHt1cmw6Ii91bmZ1cmxlci9lbWJlZC11cmxzIixib2R5Ont1cmxzOltlXX19KTtyZXR1cm4gYXdhaXQgdC5lbWJlZHNbMF19LGFzeW5jIGJ1aWxkRW1iZWQoZSx0KXtsZXQgbj10Lm1hdGNoKHRoaXMuVVJMX1JFR0VYKTtpZihlLmVtYmVkcy5wdXNoKHt0eXBlOiJyaWNoIix0aXRsZToiRGVjcnlwdGVkIE1lc3NhZ2UiLGNvbG9yOiIweDQ1ZjVmNSIsZGVzY3JpcHRpb246dCxmb290ZXI6e3RleHQ6Ik1hZGUgd2l0aCBcdTI3NjRcdUZFMEYgYnkgYzBkaW5lIGFuZCBTYW1teSEifX0pLG4/Lmxlbmd0aCl7bGV0IHI9YXdhaXQgdGhpcy5nZXRFbWJlZChuZXcgVVJMKG5bMF0pKTtyJiZlLmVtYmVkcy5wdXNoKHIpfXRoaXMudXBkYXRlTWVzc2FnZShlKX0sdXBkYXRlTWVzc2FnZTplPT57Xy5kaXNwYXRjaCh7dHlwZToiTUVTU0FHRV9VUERBVEUiLG1lc3NhZ2U6ZX0pfSxjaGF0QmFySWNvbjpELndyYXAoeE0se25vb3A6ITB9KSxwb3BPdmVySWNvbjooKT0+byhiTSxudWxsKSxpbmRpY2F0b3I6RC53cmFwKFRNLHtub29wOiEwfSl9KX0pO2Z1bmN0aW9uIFkxKGUsdCl7IVYuaGFzQ2hhbm5lbCh0KXx8S3IudHJhbnNpdGlvblRvKGAvY2hhbm5lbHMvJHtlPz8iQG1lIn0vJHt0fWApfXZhciBkYSxvbixicCxaMT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7a24oKTtQKCk7eCgpO00oKTtkYT0hMTticD12KHtuYW1lOiJLZWVwQ3VycmVudENoYW5uZWwiLGRlc2NyaXB0aW9uOiJBdHRlbXB0IHRvIG5hdmlnYXRlIHRvIHRoZSBjaGFubmVsIHlvdSB3ZXJlIGluIGJlZm9yZSBzd2l0Y2hpbmcgYWNjb3VudHMgb3IgbG9hZGluZyBEaXNjb3JkLiIsYXV0aG9yczpbZC5OdWNreXpdLGZsdXg6e0xPR09VVChlKXsoe2lzU3dpdGNoaW5nQWNjb3VudDpkYX09ZSl9LENPTk5FQ1RJT05fT1BFTigpeyFkYXx8KGRhPSExLG9uPy5jaGFubmVsSWQmJlkxKG9uLmd1aWxkSWQsb24uY2hhbm5lbElkKSl9LGFzeW5jIENIQU5ORUxfU0VMRUNUKHtndWlsZElkOmUsY2hhbm5lbElkOnR9KXtkYXx8KG9uPXtndWlsZElkOmUsY2hhbm5lbElkOnR9LGF3YWl0IHJ0KCJLZWVwQ3VycmVudENoYW5uZWxfcHJldmlvdXNEYXRhIixvbikpfX0sYXN5bmMgc3RhcnQoKXtvbj1hd2FpdCBvdCgiS2VlcEN1cnJlbnRDaGFubmVsX3ByZXZpb3VzRGF0YSIpLG9uP29uLmNoYW5uZWxJZCYmWTEob24uZ3VpbGRJZCxvbi5jaGFubmVsSWQpOihvbj17Z3VpbGRJZDpjby5nZXRHdWlsZElkKCksY2hhbm5lbElkOlRlLmdldENoYW5uZWxJZCgpPz9udWxsfSxhd2FpdCBydCgiS2VlcEN1cnJlbnRDaGFubmVsX3ByZXZpb3VzRGF0YSIsb24pKX19KX0pO2FzeW5jIGZ1bmN0aW9uIFRwKGUpe3JldHVybihhd2FpdCBDTS5nZXRBc3NldCh4cCxbZSx2b2lkIDBdKSlbMF19ZnVuY3Rpb24gTk0oZSl7Xy5kaXNwYXRjaCh7dHlwZToiTE9DQUxfQUNUSVZJVFlfVVBEQVRFIixhY3Rpdml0eTplLHNvY2tldElkOiJMYXN0Rk0ifSl9dmFyIHhwLFBNLFgxLElNLENNLFBuLHdwLEoxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7d28oKTtQKCk7d2UoKTt4KCk7QigpO00oKTt4cD0iMTEwODU4ODA3NzkwMDg5ODQxNCIsUE09IjJhOTZjYmQ4YjQ2ZTQ0MmZjNDFjMmI4NmI4MjE1NjJmIixYMT1uZXcgUSgiTGFzdEZNUmljaFByZXNlbmNlIiksSU09SSgiZ2V0TG9jYWxQcmVzZW5jZSIpLENNPUplKCJnZXRBc3NldEltYWdlOiBzaXplIG11c3QgPT09IFtudW1iZXIsIG51bWJlcl0gZm9yIFR3aXRjaCIse2dldEFzc2V0OkouYnlDb2RlKCJhcHBseSgiKX0pO1BuPUUoe3VzZXJuYW1lOntkZXNjcmlwdGlvbjoibGFzdC5mbSB1c2VybmFtZSIsdHlwZTowfSxhcGlLZXk6e2Rlc2NyaXB0aW9uOiJsYXN0LmZtIGFwaSBrZXkiLHR5cGU6MH0sc2hhcmVVc2VybmFtZTp7ZGVzY3JpcHRpb246InNob3cgbGluayB0byBsYXN0LmZtIHByb2ZpbGUiLHR5cGU6MyxkZWZhdWx0OiExfSxoaWRlV2l0aFNwb3RpZnk6e2Rlc2NyaXB0aW9uOiJoaWRlIGxhc3QuZm0gcHJlc2VuY2UgaWYgc3BvdGlmeSBpcyBydW5uaW5nIix0eXBlOjMsZGVmYXVsdDohMH0sc3RhdHVzTmFtZTp7ZGVzY3JpcHRpb246InRleHQgc2hvd24gaW4gc3RhdHVzIix0eXBlOjAsZGVmYXVsdDoic29tZSBtdXNpYyJ9LHVzZUxpc3RlbmluZ1N0YXR1czp7ZGVzY3JpcHRpb246J3Nob3cgIkxpc3RlbmluZyB0byIgc3RhdHVzIGluc3RlYWQgb2YgIlBsYXlpbmciJyx0eXBlOjMsZGVmYXVsdDohMX0sbWlzc2luZ0FydDp7ZGVzY3JpcHRpb246IldoZW4gYWxidW0gb3IgYWxidW0gYXJ0IGlzIG1pc3NpbmciLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IlVzZSBsYXJnZSBMYXN0LmZtIGxvZ28iLHZhbHVlOiJsYXN0Zm1Mb2dvIixkZWZhdWx0OiEwfSx7bGFiZWw6IlVzZSBnZW5lcmljIHBsYWNlaG9sZGVyIix2YWx1ZToicGxhY2Vob2xkZXIifV19fSksd3A9dih7bmFtZToiTGFzdEZNUmljaFByZXNlbmNlIixkZXNjcmlwdGlvbjoiTGl0dGxlIHBsdWdpbiBmb3IgTGFzdC5mbSByaWNoIHByZXNlbmNlIixhdXRob3JzOltkLmR6c2huLGQuUnVpTnREXSxzZXR0aW5nc0Fib3V0Q29tcG9uZW50OigpPT5vKG0sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIn0sIkhvdyB0byBnZXQgYW4gQVBJIGtleSIpLG8oYi5Gb3JtVGV4dCxudWxsLCJBbiBBUEkga2V5IGlzIHJlcXVpcmVkIHRvIGZldGNoIHlvdXIgY3VycmVudCB0cmFjay4gVG8gZ2V0IG9uZSwgeW91IGNhbiB2aXNpdCAiLG8obHQse2hyZWY6Imh0dHBzOi8vd3d3Lmxhc3QuZm0vYXBpL2FjY291bnQvY3JlYXRlIn0sInRoaXMgcGFnZSIpLCIgYW5kIGZpbGwgaW4gdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjogIixvKCJiciIsbnVsbCksIiAiLG8oImJyIixudWxsKSwiQXBwbGljYXRpb24gbmFtZTogRGlzY29yZCBSaWNoIFByZXNlbmNlICIsbygiYnIiLG51bGwpLCJBcHBsaWNhdGlvbiBkZXNjcmlwdGlvbjogKHBlcnNvbmFsIHVzZSkgIixvKCJiciIsbnVsbCksIiAiLG8oImJyIixudWxsKSwiQW5kIGNvcHkgdGhlIEFQSSBrZXkgKG5vdCB0aGUgc2hhcmVkIHNlY3JldCEpIikpLHNldHRpbmdzOlBuLHN0YXJ0KCl7dGhpcy51cGRhdGVQcmVzZW5jZSgpLHRoaXMudXBkYXRlSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLnVwZGF0ZVByZXNlbmNlKCl9LDE2ZTMpfSxzdG9wKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZUludGVydmFsKX0sYXN5bmMgZmV0Y2hUcmFja0RhdGEoKXtpZighUG4uc3RvcmUudXNlcm5hbWV8fCFQbi5zdG9yZS5hcGlLZXkpcmV0dXJuIG51bGw7dHJ5e2xldCBlPW5ldyBVUkxTZWFyY2hQYXJhbXMoe21ldGhvZDoidXNlci5nZXRyZWNlbnR0cmFja3MiLGFwaV9rZXk6UG4uc3RvcmUuYXBpS2V5LHVzZXI6UG4uc3RvcmUudXNlcm5hbWUsbGltaXQ6IjEiLGZvcm1hdDoianNvbiJ9KSx0PWF3YWl0IGYoYGh0dHBzOi8vd3MuYXVkaW9zY3JvYmJsZXIuY29tLzIuMC8/JHtlfWApO2lmKCF0Lm9rKXRocm93YCR7dC5zdGF0dXN9ICR7dC5zdGF0dXNUZXh0fWA7bGV0IG49YXdhaXQgdC5qc29uKCk7aWYobi5lcnJvcilyZXR1cm4gWDEuZXJyb3IoIkVycm9yIGZyb20gTGFzdC5mbSBBUEkiLGAke24uZXJyb3J9OiAke24ubWVzc2FnZX1gKSxudWxsO2xldCByPW4ucmVjZW50dHJhY2tzPy50cmFja1swXTtyZXR1cm4gcj8uWyJAYXR0ciJdPy5ub3dwbGF5aW5nP3tuYW1lOnIubmFtZXx8IlVua25vd24iLGFsYnVtOnIuYWxidW1bIiN0ZXh0Il0sYXJ0aXN0OnIuYXJ0aXN0WyIjdGV4dCJdfHwiVW5rbm93biIsdXJsOnIudXJsLGltYWdlVXJsOnIuaW1hZ2U/LmZpbmQoaT0+aS5zaXplPT09ImxhcmdlIik/LlsiI3RleHQiXX06bnVsbH1jYXRjaChlKXtyZXR1cm4gWDEuZXJyb3IoIkZhaWxlZCB0byBxdWVyeSBMYXN0LmZtIEFQSSIsZSksbnVsbH19LGFzeW5jIHVwZGF0ZVByZXNlbmNlKCl7Tk0oYXdhaXQgdGhpcy5nZXRBY3Rpdml0eSgpKX0sZ2V0TGFyZ2VJbWFnZShlKXtpZihlLmltYWdlVXJsJiYhZS5pbWFnZVVybC5pbmNsdWRlcyhQTSkpcmV0dXJuIGUuaW1hZ2VVcmw7aWYoUG4uc3RvcmUubWlzc2luZ0FydD09PSJwbGFjZWhvbGRlciIpcmV0dXJuInBsYWNlaG9sZGVyIn0sYXN5bmMgZ2V0QWN0aXZpdHkoKXtpZihQbi5zdG9yZS5oaWRlV2l0aFNwb3RpZnkpe2ZvcihsZXQgaSBvZiBJTS5nZXRBY3Rpdml0aWVzKCkpaWYoaS50eXBlPT09MiYmaS5hcHBsaWNhdGlvbl9pZCE9PXhwKXJldHVybiBudWxsfWxldCBlPWF3YWl0IHRoaXMuZmV0Y2hUcmFja0RhdGEoKTtpZighZSlyZXR1cm4gbnVsbDtsZXQgdD10aGlzLmdldExhcmdlSW1hZ2UoZSksbj10P3tsYXJnZV9pbWFnZTphd2FpdCBUcCh0KSxsYXJnZV90ZXh0OmUuYWxidW18fHZvaWQgMCxzbWFsbF9pbWFnZTphd2FpdCBUcCgibGFzdGZtLXNtYWxsIiksc21hbGxfdGV4dDoiTGFzdC5mbSJ9OntsYXJnZV9pbWFnZTphd2FpdCBUcCgibGFzdGZtLWxhcmdlIiksbGFyZ2VfdGV4dDplLmFsYnVtfHx2b2lkIDB9LHI9W3tsYWJlbDoiVmlldyBTb25nIix1cmw6ZS51cmx9XTtyZXR1cm4gUG4uc3RvcmUuc2hhcmVVc2VybmFtZSYmci5wdXNoKHtsYWJlbDoiTGFzdC5mbSBQcm9maWxlIix1cmw6YGh0dHBzOi8vd3d3Lmxhc3QuZm0vdXNlci8ke1BuLnN0b3JlLnVzZXJuYW1lfWB9KSx7YXBwbGljYXRpb25faWQ6eHAsbmFtZTpQbi5zdG9yZS5zdGF0dXNOYW1lLGRldGFpbHM6ZS5uYW1lLHN0YXRlOmUuYXJ0aXN0LGFzc2V0czpuLGJ1dHRvbnM6ci5tYXAoaT0+aS5sYWJlbCksbWV0YWRhdGE6e2J1dHRvbl91cmxzOnIubWFwKGk9PmkudXJsKX0sdHlwZTpQbi5zdG9yZS51c2VMaXN0ZW5pbmdTdGF0dXM/MjowLGZsYWdzOjF9fX0pfSk7dmFyIFExLE1wLFYxPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO1ExPVsiRXlyb2thYyIsIlJkY2ckbGAna3x+biIsJ0hgdGYkZCZpYWpvK2RgeyInLCJTdWNxcGxoYChFY2xodWFsdmEoKSYiLCJMbmNnbWthJzhLTk1EQyxzaHBhbmYnYHguLywiLCJJb3F3ZWlqbmZuKklldXZmdkFvdGtmeG8uLywiLCJIZHsjY3BceDdGdCQpbmJkIXtscSVtaWd+Klx4N0ZoYHYjbWsmc217Z3ggbmQjaWRqYihhXHg3RmZhb1wiYmphJmFtZGtnZSFSbG9ceEVDa2hmKWh5ZWRmampiKideaHpkcmRtbSRsdSd8YW8rbW5xdyRmaWp4aH5iYm1nI1RqbVx4RUVlZmQrZm5wI2xwa2ZmejUiLCJoIixgc2lqa2xtJmNhbSpyb3QiaGpqcSd8YWtceDdGIHhtdiN3YydlcCptYXdtdnZscmIofHlucj4iQXFxJmNnZy1ceDdGIHVnb2glcm9tKWVceDdGaGRwcCUkYCwnVG5mYn0idVwnfmBubm8ha3AkdnZoZnpleWVlImF9JVRmYW0qWGhgZmxzJUpib2xkb3MtImxqYCZobil+Y2UhYGpjYmN0fClnZGJobmYkd2lrbSR6Z2F4a21jJWFmZWx5K29nIjE0ND9cJ2lnbitpdSVwJHFpc2llZnIgZ3BmYSQnLCJOZHRmdiVhaGZnaytnaHRmJHxpcih8eicgT2d1YXcmYGdnZGogbWd3JHxpcihtZXxuIiwiKCFcdTAzNjNceEIzJFx1MDM1OVx1MDI5MCdcdTAzNjlceEI5IyIsIihcdUZGODhcdTI1RDdcdTMwRURcdTI1RDEsXHVGRjhGLTJcdUZGNkNcdUZGOTVcdTI3MkMiLCJZbncjaGppbCh6ZStwc2d3cHwmc2dta3IhIiwiVGlrbW9saGAoZmwrYSFkdmprXHg3Rid5fGVceDdGZS8sLSIsIjMvMzc1MD81Pjw5Pjg4NTo3IiwibWRtdCIsIldkbmBraGMrKG94YmVvZiIsIklnXCJ6a3AqJ2d7KnhvbGdsamAmfmd8Kmdvd2cvJG1ndChFY2xtYC4jdGljZntsKnhlZFwid2xgJkthbmdqIGlnYmhxbidkYGRuIGB2I2xxcnd7MyUkYmh2LWh8KWthbmdqX2ltd2hsaGIiLCJUc2NtdyVUbm9hfngiLCdJXHUyMDE4ZiNucHVzKGVjYGUhdmwkbGhzbXtgbmN1ImVrdyZmKGRlZmVvdi0kUm5mfClzZHVcdTIwMThwZiR3Y2Fte2NlZyF2bCRkdVwnRGBkfngtImp3JW9pKG9raHQtIkRKUClLYWdceDdGcywhbXEkZHVcJ0FcdTIwMTB8biBzZ2Bha3JrcSl+amtkbCNwaiZkaWVmYm5mImpwKSZARlxcKntsdHEjSGxocnBcJycsIlludyR2YCZjZ2BkbCBmbWxgJXJobGhzKiIsIkRubCRwJXFoentzJyBodiR3JWhofGFjZWchOyNncHZ0KGZsK2NuZGVhYCZkZ3xmb24mdiN3ampxbSgiLCJcdUQ4M0QpcGZ0YGdzKGVjYGUhMTMkcW9qbXojIixgYSFuamNtcidpZGV+bnUibGIlcmhlb2VkbGRweiRsdSdnYmtyYCwnZG4iemtwJmtnXHg3Rm80JywiaG5wcWt3Iiwnc24iZmF1XHg3RicsJ1NuInRtcW5ofX0qbXVzdmthdyZmbGYmK2xkdiR3JWxye30qYXVsciN2bGFvfCljZXRuImpwJCcsIkR4a21jJW90KGhoeG9td3dhaVx4N0Yne2hsbiIsYGhkeyN9anMmKHBlfidzZyNncHJiKDMjImAsImhke2IkeyIsIjw7dnFraWpicTMzMjcxOjU2PDM3OTk/MjQ5NDQ6IixgVGhvZiRsdSdvZmRuLCFxc2VmYydheipibnJjbWErJk9te28raXUiXGBraGN0JClibnJkImJjZG9pJmAsInNub2ZwbGtieyljXHg3RidyXCJsb2RceDdGJ3xmKmF1cnYjY3Bub2BhYmNoaWprbG1ubyJdLE1wPXYoe25hbWU6IkxvYWRpbmdRdW90ZXMiLGRlc2NyaXB0aW9uOiJSZXBsYWNlIERpc2NvcmRzIGxvYWRpbmcgcXVvdGVzIixhdXRob3JzOltkLlZlbixkLktyYVhlbjcyXSxwYXRjaGVzOlt7ZmluZDoiLkxPQURJTkdfRElEX1lPVV9LTk9XIixyZXBsYWNlbWVudDp7bWF0Y2g6L1wuX2xvYWRpbmdUZXh0PS4rP3JhbmRvbVwoLis/Oy9zLHJlcGxhY2U6Ii5fbG9hZGluZ1RleHQ9JHNlbGYucXVvdGU7In19XSx4b3IoZSl7bGV0IHQ9InJlYWQgaWYgY3V0ZSIsbj1BcnJheS5mcm9tKGUsKHIsaSk9PnIuY2hhckNvZGVBdCgwKV5pJXQubGVuZ3RoKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uKX0sZ2V0IHF1b3RlKCl7cmV0dXJuIHRoaXMueG9yKFExW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpRMS5sZW5ndGgpXSl9fSl9KTtmdW5jdGlvbiBSTSgpe2xldHtpZDplLGd1aWxkX2lkOnR9PVdlKFtUZV0sKCk9PnVyKCkpLHtncm91cHM6bn09V2UoW3R2XSwoKT0+dHYuZ2V0UHJvcHModCxlKSkscj1XZShbZXZdLCgpPT5ldi5nZXRNZW1iZXJDb3VudCh0KSk7aWYocj09bnVsbClyZXR1cm4gbnVsbDtsZXQgaT1uLmxlbmd0aD09PTEmJm5bMF0uaWQ9PT0idW5rbm93biI/MDpuLnJlZHVjZSgocyxjKT0+cysoYy5pZD09PSJvZmZsaW5lIj8wOmMuY291bnQpLDApO3JldHVybiBvKGNlLHtpZDoidmMtbWVtYmVyY291bnQiLHN0eWxlOnttYXJnaW5Ub3A6IjFlbSIsbWFyZ2luQm90dG9tOiItLjVlbSIscGFkZGluZ0lubGluZToiMWVtIixqdXN0aWZ5Q29udGVudDoiY2VudGVyIixhbGlnbkNvbnRlbnQ6ImNlbnRlciIsZ2FwOjB9fSxvKFose3RleHQ6YCR7aX0gT25saW5lIGluIHRoaXMgQ2hhbm5lbGAscG9zaXRpb246ImJvdHRvbSJ9LHM9Pm8oImRpdiIsey4uLnN9LG8oInNwYW4iLHtzdHlsZTp7YmFja2dyb3VuZENvbG9yOiJ2YXIoLS1ncmVlbi0zNjApIix3aWR0aDoiMTJweCIsaGVpZ2h0OiIxMnB4Iixib3JkZXJSYWRpdXM6IjUwJSIsZGlzcGxheToiaW5saW5lLWJsb2NrIixtYXJnaW5SaWdodDoiMC41ZW0ifX0pLG8oInNwYW4iLHtzdHlsZTp7Y29sb3I6InZhcigtLWdyZWVuLTM2MCkifX0saSkpKSxvKFose3RleHQ6YCR7cn0gVG90YWwgU2VydmVyIE1lbWJlcnNgLHBvc2l0aW9uOiJib3R0b20ifSxzPT5vKCJkaXYiLHsuLi5zfSxvKCJzcGFuIix7c3R5bGU6e3dpZHRoOiI2cHgiLGhlaWdodDoiNnB4Iixib3JkZXJSYWRpdXM6IjUwJSIsYm9yZGVyOiIzcHggc29saWQgdmFyKC0tcHJpbWFyeS00MDApIixkaXNwbGF5OiJpbmxpbmUtYmxvY2siLG1hcmdpblJpZ2h0OiIwLjVlbSIsbWFyZ2luTGVmdDoiMWVtIn19KSxvKCJzcGFuIix7c3R5bGU6e2NvbG9yOiJ2YXIoLS1wcmltYXJ5LTQwMCkifX0scikpKSl9dmFyIGV2LHR2LFBwLG52PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO3Z0KCk7UCgpO3N0KCk7eCgpO0IoKTtNKCk7ZXY9bGUoIkd1aWxkTWVtYmVyQ291bnRTdG9yZSIpLHR2PWxlKCJDaGFubmVsTWVtYmVyU3RvcmUiKTtQcD12KHtuYW1lOiJNZW1iZXJDb3VudCIsZGVzY3JpcHRpb246IlNob3dzIHRoZSBhbW91bnQgb2Ygb25saW5lICYgdG90YWwgbWVtYmVycyBpbiB0aGUgc2VydmVyIG1lbWJlciBsaXN0IixhdXRob3JzOltkLlZlbixkLkNvbW1hbmR0ZWNobm9dLHBhdGNoZXM6W3tmaW5kOiIuaXNTaWRlYmFyVmlzaWJsZSwiLHJlcGxhY2VtZW50OnttYXRjaDovKHZhciAoXGkpPVxpXC5jbGFzc05hbWUuKz9jaGlsZHJlbik6XFsoXGlcLnVzZU1lbW9bXn1dKyJhcmlhLW11bHRpc2VsZWN0YWJsZSIpLyxyZXBsYWNlOiIkMTpbJDI/LnN0YXJ0c1dpdGgoJ21lbWJlcnMnKT8kc2VsZi5yZW5kZXIoKTpudWxsLCQzIn19XSxyZW5kZXI6RC53cmFwKFJNLHtub29wOiEwfSl9KX0pO3ZhciBJcCxvdixydixrTSxNaSxDcCxpdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JG4oKTtGKCk7UCgpO3goKTtCKCk7TSgpO0lwPSExLG92PWU9PmUua2V5PT09IkJhY2tzcGFjZSImJihJcD0hMCkscnY9ZT0+ZS5rZXk9PT0iQmFja3NwYWNlIiYmKElwPSExKSxrTT0xbjw8NG4sTWk9RSh7ZW5hYmxlRGVsZXRlT25DbGljazp7dHlwZTozLGRlc2NyaXB0aW9uOiJFbmFibGUgZGVsZXRlIG9uIGNsaWNrIixkZWZhdWx0OiEwfSxlbmFibGVEb3VibGVDbGlja1RvRWRpdDp7dHlwZTozLGRlc2NyaXB0aW9uOiJFbmFibGUgZG91YmxlIGNsaWNrIHRvIGVkaXQiLGRlZmF1bHQ6ITB9LGVuYWJsZURvdWJsZUNsaWNrVG9SZXBseTp7dHlwZTozLGRlc2NyaXB0aW9uOiJFbmFibGUgZG91YmxlIGNsaWNrIHRvIHJlcGx5IixkZWZhdWx0OiEwfSxyZXF1aXJlTW9kaWZpZXI6e3R5cGU6MyxkZXNjcmlwdGlvbjoiT25seSBkbyBkb3VibGUgY2xpY2sgYWN0aW9ucyB3aGVuIHNoaWZ0L2N0cmwgaXMgaGVsZCIsZGVmYXVsdDohMX19KSxDcD12KHtuYW1lOiJNZXNzYWdlQ2xpY2tBY3Rpb25zIixkZXNjcmlwdGlvbjoiSG9sZCBCYWNrc3BhY2UgYW5kIGNsaWNrIHRvIGRlbGV0ZSwgZG91YmxlIGNsaWNrIHRvIGVkaXQvcmVwbHkiLGF1dGhvcnM6W2QuVmVuXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlRXZlbnRzQVBJIl0sc2V0dGluZ3M6TWksc3RhcnQoKXtsZXQgZT1JKCJkZWxldGVNZXNzYWdlIiwic3RhcnRFZGl0TWVzc2FnZSIpLHQ9SSgiaXNFZGl0aW5nIiwiaXNFZGl0aW5nQW55Iik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsb3YpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixydiksdGhpcy5vbkNsaWNrPVB1KChuLHIsaSk9PntsZXQgcz1uLmF1dGhvci5pZD09PUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtpZihJcClNaS5zdG9yZS5lbmFibGVEZWxldGVPbkNsaWNrJiYoc3x8T2UuY2FuKGtNLHIpKSYmKG4uZGVsZXRlZD9fLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX0RFTEVURSIsY2hhbm5lbElkOnIuaWQsaWQ6bi5pZCxtbERlbGV0ZWQ6ITB9KTplLmRlbGV0ZU1lc3NhZ2Uoci5pZCxuLmlkKSxpLnByZXZlbnREZWZhdWx0KCkpO2Vsc2V7aWYoaS5kZXRhaWw8Mnx8TWkuc3RvcmUucmVxdWlyZU1vZGlmaWVyJiYhaS5jdHJsS2V5JiYhaS5zaGlmdEtleSlyZXR1cm47aWYocyl7aWYoIU1pLnN0b3JlLmVuYWJsZURvdWJsZUNsaWNrVG9FZGl0fHx0LmlzRWRpdGluZyhyLmlkLG4uaWQpKXJldHVybjtlLnN0YXJ0RWRpdE1lc3NhZ2Uoci5pZCxuLmlkLG4uY29udGVudCksaS5wcmV2ZW50RGVmYXVsdCgpfWVsc2V7aWYoIU1pLnN0b3JlLmVuYWJsZURvdWJsZUNsaWNrVG9SZXBseSlyZXR1cm47Xy5kaXNwYXRjaCh7dHlwZToiQ1JFQVRFX1BFTkRJTkdfUkVQTFkiLGNoYW5uZWw6cixtZXNzYWdlOm4sc2hvdWxkTWVudGlvbjohTi5wbHVnaW5zLk5vUmVwbHlNZW50aW9uLmVuYWJsZWQsc2hvd01lbnRpb25Ub2dnbGU6ci5ndWlsZF9pZCE9PW51bGx9KX19fSl9LHN0b3AoKXtJdSh0aGlzLm9uQ2xpY2spLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLG92KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIscnYpfX0pfSk7dmFyIFJwPXt9O3ZlKFJwLHtfbW9kaWZ5QWNjZXNzb3JpZXM6KCk9PkFNLGFjY2Vzc29yaWVzOigpPT5tYSxhZGRBY2Nlc3Nvcnk6KCk9PlBpLHJlbW92ZUFjY2Vzc29yeTooKT0+TnB9KTtmdW5jdGlvbiBQaShlLHQsbil7bWEuc2V0KGUse2NhbGxiYWNrOnQscG9zaXRpb246bn0pfWZ1bmN0aW9uIE5wKGUpe21hLmRlbGV0ZShlKX1mdW5jdGlvbiBBTShlLHQpe2ZvcihsZXQgbiBvZiBtYS52YWx1ZXMoKSl7bGV0IHI9bi5jYWxsYmFjayh0KTtpZihyIT1udWxsKXtpZighQXJyYXkuaXNBcnJheShyKSlyPVtyXTtlbHNlIGlmKHIubGVuZ3RoPT09MCljb250aW51ZTtlLnNwbGljZShuLnBvc2l0aW9uIT1udWxsP24ucG9zaXRpb248MD9lLmxlbmd0aCtuLnBvc2l0aW9uOm4ucG9zaXRpb246ZS5sZW5ndGgsMCwuLi5yLmZpbHRlcihpPT5pIT1udWxsKSl9fXJldHVybiBlfXZhciBtYSxmYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bWE9bmV3IE1hcH0pO2FzeW5jIGZ1bmN0aW9uIE9NKGUsdCl7bGV0IG49VHIuZ2V0KHQpO2lmKG4pcmV0dXJuIG4ubWVzc2FnZTtUci5zZXQodCx7ZmV0Y2hlZDohMX0pO2xldCBpPShhd2FpdCB5dC5nZXQoe3VybDpgL2NoYW5uZWxzLyR7ZX0vbWVzc2FnZXNgLHF1ZXJ5OntsaW1pdDoxLGFyb3VuZDp0fSxyZXRyaWVzOjJ9KS5jYXRjaCgoKT0+bnVsbCkpPy5ib2R5Py5bMF07aWYoIWkpcmV0dXJuO2xldCBzPW1uLmdldE1lc3NhZ2VzKGkuY2hhbm5lbF9pZCkucmVjZWl2ZU1lc3NhZ2UoaSkuZ2V0KGkuaWQpO3JldHVybiBUci5zZXQocy5pZCx7bWVzc2FnZTpzLGZldGNoZWQ6ITB9KSxzfWZ1bmN0aW9uIF9NKGUpe2xldCB0PVtdO2ZvcihsZXR7Y29udGVudF90eXBlOm4saGVpZ2h0OnIsd2lkdGg6aSx1cmw6cyxwcm94eV91cmw6Y31vZiBlLmF0dGFjaG1lbnRzPz9bXSluPy5zdGFydHNXaXRoKCJpbWFnZS8iKSYmdC5wdXNoKHtoZWlnaHQ6cix3aWR0aDppLHVybDpzLHByb3h5VVJMOmN9KTtmb3IobGV0e3R5cGU6bixpbWFnZTpyLHRodW1ibmFpbDppLHVybDpzfW9mIGUuZW1iZWRzPz9bXSluPT09ImltYWdlIj90LnB1c2goey4uLnI/P2l9KTpzJiZuPT09ImdpZnYiJiYhbHYudGVzdChzKSYmdC5wdXNoKHtoZWlnaHQ6aS5oZWlnaHQsd2lkdGg6aS53aWR0aCx1cmw6c30pO3JldHVybiB0fWZ1bmN0aW9uIEJNKGUsdCl7cmV0dXJuIWUmJiF0PyIiOmU/dD9gW25vIGNvbnRlbnQsICR7ZX0gYXR0YWNobWVudCR7ZSE9PTE/InMiOiIifSBhbmQgJHt0fSBlbWJlZCR7dCE9PTE/InMiOiIifV1gOmBbbm8gY29udGVudCwgJHtlfSBhdHRhY2htZW50JHtlIT09MT8icyI6IiJ9XWA6YFtubyBjb250ZW50LCAke3R9IGVtYmVkJHt0IT09MT8icyI6IiJ9XWB9ZnVuY3Rpb24gRk0oZSl7cmV0dXJuISEoZS5jb21wb25lbnRzLmxlbmd0aHx8ZS5hdHRhY2htZW50cy5zb21lKHQ9PiF0LmNvbnRlbnRfdHlwZT8uc3RhcnRzV2l0aCgiaW1hZ2UvIikpfHxlLmVtYmVkcy5zb21lKHQ9PnQudHlwZSE9PSJpbWFnZSImJih0LnR5cGUhPT0iZ2lmdiJ8fGx2LnRlc3QodC51cmwpKSkpfWZ1bmN0aW9uICRNKGUsdCl7aWYoZT50KXtsZXQgcz1NYXRoLm1pbihlLDQwMCk7cmV0dXJue3dpZHRoOnMsaGVpZ2h0Ok1hdGgucm91bmQodC8oZS9zKSl9fWxldCBpPU1hdGgubWluKHQsMzAwKTtyZXR1cm57d2lkdGg6TWF0aC5yb3VuZChlLyh0L2kpKSxoZWlnaHQ6aX19ZnVuY3Rpb24gVU0oZSx0KXtyZXR1cm4gbmV3IFByb3h5KGUse2dldChuLHIpe3JldHVybiByPT09InZlbmNvcmRFbWJlZGRlZEJ5Ij90OlJlZmxlY3QuZ2V0KC4uLmFyZ3VtZW50cyl9fSl9ZnVuY3Rpb24gR00oe21lc3NhZ2U6ZX0pe2xldCB0PWUudmVuY29yZEVtYmVkZGVkQnk/P1tdLG49W10scj1udWxsO2Zvcig7KHI9a3AuZXhlYyhlLmNvbnRlbnQpKSE9PW51bGw7KXtsZXRbaSxzLGMsdV09cjtpZih0LmluY2x1ZGVzKHUpKWNvbnRpbnVlO2xldCBwPVYuZ2V0Q2hhbm5lbChjKTtpZighcHx8cyE9PSJAbWUiJiYhT2UuY2FuKDEwMjRuLHApKWNvbnRpbnVlO2xldHtsaXN0TW9kZTp5LGlkTGlzdDpofT1nYS5zdG9yZSxTPVtzLGMsZS5hdXRob3IuaWRdLnNvbWUoQz0+QyYmaC5pbmNsdWRlcyhDKSk7aWYoeT09PSJibGFja2xpc3QiJiZTfHx5PT09IndoaXRlbGlzdCImJiFTKWNvbnRpbnVlO2xldCBUPVRyLmdldCh1KT8ubWVzc2FnZTtpZighVClpZihUPz89bW4uZ2V0TWVzc2FnZShjLHUpLFQpVHIuc2V0KHUse21lc3NhZ2U6VCxmZXRjaGVkOiEwfSk7ZWxzZXtsZXQgQz17Li4uZX07ZGVsZXRlIEMuZW1iZWRzLGRlbGV0ZSBDLmludGVyYWN0aW9uLERNLnB1c2goKCk9Pk9NKGMsdSkudGhlbihrPT5rJiZfLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX1VQREFURSIsbWVzc2FnZTpDfSkpKTtjb250aW51ZX1sZXQgdz17bWVzc2FnZTpVTShULFsuLi50LGUuaWRdKSxjaGFubmVsOnAsZ3VpbGRJRDpzfSxMPWdhLnN0b3JlLmF1dG9tb2RFbWJlZHM7bi5wdXNoKEw9PT0iYWx3YXlzInx8TD09PSJwcmVmZXIiJiYhRk0oVCk/byh6TSx7Li4ud30pOm8oSE0sey4uLnd9KSl9cmV0dXJuIG4ubGVuZ3RoP28obSxudWxsLG4pOm51bGx9ZnVuY3Rpb24gSE0oe21lc3NhZ2U6ZSxjaGFubmVsOnQsZ3VpbGRJRDpufSl7bGV0IHI9bj09PSJAbWUiLGk9IXImJm1lLmdldEd1aWxkKHQuZ3VpbGRfaWQpLHM9Ry5nZXRVc2VyKFYuZ2V0Q2hhbm5lbCh0LmlkKS5yZWNpcGllbnRzPy5bMF0pO3JldHVybiBvKExNLHtlbWJlZDp7cmF3RGVzY3JpcHRpb246IiIsY29sb3I6InZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSIsYXV0aG9yOntuYW1lOm8odGUse3ZhcmlhbnQ6InRleHQteHMvbWVkaXVtIix0YWc6InNwYW4ifSxvKCJzcGFuIixudWxsLHI/IkRpcmVjdCBNZXNzYWdlIC0gIjppLm5hbWUrIiAtICIpLHI/a2UucGFyc2UoYDxAJHtzLmlkfT5gKTprZS5wYXJzZShgPCMke3QuaWR9PmApKSxpY29uUHJveHlVUkw6aT9gaHR0cHM6Ly8ke3Vuc2FmZVdpbmRvdy5HTE9CQUxfRU5WLkNETl9IT1NUfS9pY29ucy8ke2kuaWR9LyR7aS5pY29ufS5wbmdgOmBodHRwczovLyR7dW5zYWZlV2luZG93LkdMT0JBTF9FTlYuQ0ROX0hPU1R9L2F2YXRhcnMvJHtzLmlkfS8ke3MuYXZhdGFyfWB9fSxyZW5kZXJEZXNjcmlwdGlvbjooKT0+bygiZGl2Iix7a2V5OmUuaWQsY2xhc3NOYW1lOmVlKHN2Lm1lc3NhZ2UsZ2Euc3RvcmUubWVzc2FnZUJhY2tncm91bmRDb2xvciYmc3Yuc2VhcmNoUmVzdWx0KX0sbyhFTSx7aWQ6YG1lc3NhZ2UtbGluay1lbWJlZHMtJHtlLmlkfWAsbWVzc2FnZTplLGNoYW5uZWw6dCxzdWJzY3JpYmVUb0NvbXBvbmVudERpc3BhdGNoOiExfSkpfSl9ZnVuY3Rpb24gek0oZSl7bGV0e21lc3NhZ2U6dCxjaGFubmVsOm4sZ3VpbGRJRDpyfT1lLGk9cj09PSJAbWUiLHM9X00odCkse3BhcnNlOmN9PWtlO3JldHVybiBvKGF2LHtjaGFubmVsOm4sY2hpbGRyZW5BY2Nlc3NvcmllczpvKHRlLHtjb2xvcjoidGV4dC1tdXRlZCIsdmFyaWFudDoidGV4dC14cy9tZWRpdW0iLHRhZzoic3BhbiJ9LGMoaT9gPEAke1YuZ2V0Q2hhbm5lbChuLmlkKS5yZWNpcGllbnRzWzBdfT5gOmA8IyR7bi5pZH0+YCksbygic3BhbiIsbnVsbCxpPyIgLSBEaXJlY3QgTWVzc2FnZSI6IiAtICIrbWUuZ2V0R3VpbGQobi5ndWlsZF9pZCk/Lm5hbWUpKSxjb21wYWN0OiExLGNvbnRlbnQ6byhtLG51bGwsdC5jb250ZW50fHx0LmF0dGFjaG1lbnRzLmxlbmd0aDw9cy5sZW5ndGg/Yyh0LmNvbnRlbnQpOltCTSh0LmF0dGFjaG1lbnRzLmxlbmd0aCx0LmVtYmVkcy5sZW5ndGgpXSxzLm1hcCh1PT57bGV0e3dpZHRoOnAsaGVpZ2h0Onl9PSRNKHUud2lkdGgsdS5oZWlnaHQpO3JldHVybiBvKCJkaXYiLG51bGwsbygiaW1nIix7c3JjOnUudXJsLHdpZHRoOnAsaGVpZ2h0Onl9KSl9KSksaGlkZVRpbWVzdGFtcDohMSxtZXNzYWdlOnQsX21lc3NhZ2VFbWJlZDoiYXV0b21vZCJ9KX12YXIgVHIsTE0sRU0sc3YsYXYsa3AsbHYsRE0sZ2EsQXAsY3Y9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2ZhKCk7RigpO3NlKCk7UCgpO3llKCk7cHIoKTtnZSgpO3goKTtCKCk7TSgpO1RyPW5ldyBNYXAsTE09cmUoKCk9PlVlKCIuaW5saW5lTWVkaWFFbWJlZCIpKSxFTT1yZSgoKT0+cXQoZT0+ZS50eXBlPy50b1N0cmluZygpPy5pbmNsdWRlcygnWyJtZXNzYWdlIiwiY29tcGFjdCIsImNsYXNzTmFtZSIsJykpKSxzdj1JKCJtZXNzYWdlIiwic2VhcmNoUmVzdWx0IiksYXY9KCk9Pm51bGwsa3A9Lyg/PCE8KWh0dHBzPzpcL1wvKD86XHcrXC4pP2Rpc2NvcmQoPzphcHApP1wuY29tXC9jaGFubmVsc1wvKFxkezE3LDIwfXxAbWUpXC8oXGR7MTcsMjB9KVwvKFxkezE3LDIwfSkvZyxsdj0vXmh0dHBzOlwvXC8oPzp3d3dcLik/dGVub3JcLmNvbVwvLyxETT1uZXcgeW4sZ2E9RSh7bWVzc2FnZUJhY2tncm91bmRDb2xvcjp7ZGVzY3JpcHRpb246IkJhY2tncm91bmQgY29sb3IgZm9yIG1lc3NhZ2VzIGluIHJpY2ggZW1iZWRzIix0eXBlOjN9LGF1dG9tb2RFbWJlZHM6e2Rlc2NyaXB0aW9uOiJVc2UgYXV0b21vZCBlbWJlZHMgaW5zdGVhZCBvZiByaWNoIGVtYmVkcyAoc21hbGxlciBidXQgbGVzcyBpbmZvKSIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiQWx3YXlzIHVzZSBhdXRvbW9kIGVtYmVkcyIsdmFsdWU6ImFsd2F5cyJ9LHtsYWJlbDoiUHJlZmVyIGF1dG9tb2QgZW1iZWRzLCBidXQgdXNlIHJpY2ggZW1iZWRzIGlmIHNvbWUgY29udGVudCBjYW4ndCBiZSBzaG93biIsdmFsdWU6InByZWZlciJ9LHtsYWJlbDoiTmV2ZXIgdXNlIGF1dG9tb2QgZW1iZWRzIix2YWx1ZToibmV2ZXIiLGRlZmF1bHQ6ITB9XX0sbGlzdE1vZGU6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIHVzZSBJRCBsaXN0IGFzIGJsYWNrbGlzdCBvciB3aGl0ZWxpc3QiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6IkJsYWNrbGlzdCIsdmFsdWU6ImJsYWNrbGlzdCIsZGVmYXVsdDohMH0se2xhYmVsOiJXaGl0ZWxpc3QiLHZhbHVlOiJ3aGl0ZWxpc3QifV19LGlkTGlzdDp7ZGVzY3JpcHRpb246Ikd1aWxkL2NoYW5uZWwvdXNlciBJRHMgdG8gYmxhY2tsaXN0IG9yIHdoaXRlbGlzdCAoc2VwYXJhdGUgd2l0aCBjb21tYSkiLHR5cGU6MCxkZWZhdWx0OiIifSxjbGVhck1lc3NhZ2VDYWNoZTp7dHlwZTo2LGRlc2NyaXB0aW9uOiJDbGVhciB0aGUgbGlua2VkIG1lc3NhZ2UgY2FjaGUiLGNvbXBvbmVudDooKT0+byhSLHtvbkNsaWNrOigpPT5Uci5jbGVhcigpfSwiQ2xlYXIgdGhlIGxpbmtlZCBtZXNzYWdlIGNhY2hlIil9fSk7QXA9dih7bmFtZToiTWVzc2FnZUxpbmtFbWJlZHMiLGRlc2NyaXB0aW9uOiJBZGRzIGEgcHJldmlldyB0byBtZXNzYWdlcyB0aGF0IGxpbmsgYW5vdGhlciBtZXNzYWdlIixhdXRob3JzOltkLlRoZVN1bixkLlZlbixkLlJ5YW5DYW9EZXZdLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VBY2Nlc3Nvcmllc0FQSSJdLHBhdGNoZXM6W3tmaW5kOiIuZW1iZWRDYXJkIixyZXBsYWNlbWVudDpbe21hdGNoOi9mdW5jdGlvbiAoXGkpXChcaVwpe3ZhciBcaT1caVwubWVzc2FnZSxcaT1caVwuY2hhbm5lbC57MCwyMDB9XC5oaWRlVGltZXN0YW1wLyxyZXBsYWNlOiIkc2VsZi5BdXRvTW9kRW1iZWQ9JDE7JCYifV19XSxzZXQgQXV0b01vZEVtYmVkKGUpe2F2PWV9LHNldHRpbmdzOmdhLHN0YXJ0KCl7UGkoIm1lc3NhZ2VMaW5rRW1iZWQiLGU9PmtwLnRlc3QoZS5tZXNzYWdlLmNvbnRlbnQpPyhrcC5sYXN0SW5kZXg9MCxvKEQsbnVsbCxvKEdNLHttZXNzYWdlOmUubWVzc2FnZX0pKSk6bnVsbCw0KX19KX0pO3ZhciB1dj1nKCgpPT57fSk7dmFyIExwLHB2PWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvbWVzc2FnZUxvZ2dlci9kZWxldGVTdHlsZU92ZXJsYXkuY3NzIix7bmFtZToic3JjL3BsdWdpbnMvbWVzc2FnZUxvZ2dlci9kZWxldGVTdHlsZU92ZXJsYXkuY3NzIixzb3VyY2U6YC5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDAgNzEgNzEgLyAxNSUpICFpbXBvcnRhbnQ7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7THA9InNyYy9wbHVnaW5zL21lc3NhZ2VMb2dnZXIvZGVsZXRlU3R5bGVPdmVybGF5LmNzcyJ9KTt2YXIgRXAsZHY9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MiLHNvdXJjZTpgLyogTWVzc2FnZSBjb250ZW50IGhpZ2hsaWdodGluZyAqLwoubWVzc2FnZWxvZ2dlci1kZWxldGVkIFtjbGFzcyo9ImNvbnRlbnRzLSJdID4gOmlzKGRpdiwgaDEsIGgyLCBoMywgcCkgewogICAgY29sb3I6ICNmMDQ3NDcgIWltcG9ydGFudDsKfQoKLyogRW1iZWQgaGlnaGxpZ2h0aW5nICovCi5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgYXJ0aWNsZSA6aXMoZGl2LCBzcGFuLCBoMSwgaDIsIGgzLCBwKSB7CiAgICBjb2xvcjogI2YwNDc0NyAhaW1wb3J0YW50Owp9CgoubWVzc2FnZWxvZ2dlci1kZWxldGVkIGEgewogICAgY29sb3I6ICNiZTM1MzUgIWltcG9ydGFudDsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9CmAsY2xhc3NOYW1lczp7fSxkb206bnVsbH0pO0VwPSJzcmMvcGx1Z2lucy9tZXNzYWdlTG9nZ2VyL2RlbGV0ZVN0eWxlVGV4dC5jc3MifSk7ZnVuY3Rpb24gbXYoKXtOLnBsdWdpbnMuTWVzc2FnZUxvZ2dlci5kZWxldGVTdHlsZT09PSJ0ZXh0Ij8odHQoRXApLE50KExwKSk6KE50KEVwKSx0dChMcCkpfXZhciBqTSxmdixndixodixEcCx5dj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dXYoKTtTdCgpO0YoKTtIZSgpO3NlKCk7UCgpO3dlKCk7eCgpO0IoKTtNKCk7cHYoKTtkdigpO2pNPUkoImVkaXRlZCIsImNvbW11bmljYXRpb25EaXNhYmxlZCIsImlzU3lzdGVtTWVzc2FnZSIpO2Z2PSJtbC1yZW1vdmUtaGlzdG9yeSIsZ3Y9Im1sLXRvZ2dsZS1zdHlsZSIsaHY9KGUsdCk9PigpPT57bGV0e21lc3NhZ2U6bn09dCx7ZGVsZXRlZDpyLGVkaXRIaXN0b3J5OmksaWQ6cyxjaGFubmVsX2lkOmN9PW47aWYoIXImJiFpPy5sZW5ndGgpcmV0dXJuO2U6e2lmKCFyKWJyZWFrIGU7bGV0IHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoYXQtbWVzc2FnZXMtJHtjfS0ke3N9YCk7aWYoIXUpYnJlYWsgZTtlLnB1c2gobyhPLk1lbnVJdGVtLHtpZDpndixrZXk6Z3YsbGFiZWw6IlRvZ2dsZSBEZWxldGVkIEhpZ2hsaWdodCIsYWN0aW9uOigpPT51LmNsYXNzTGlzdC50b2dnbGUoIm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCIpfSkpfWUucHVzaChvKE8uTWVudUl0ZW0se2lkOmZ2LGtleTpmdixsYWJlbDoiUmVtb3ZlIE1lc3NhZ2UgSGlzdG9yeSIsY29sb3I6ImRhbmdlciIsYWN0aW9uOigpPT57cj9fLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX0RFTEVURSIsY2hhbm5lbElkOmMsaWQ6cyxtbERlbGV0ZWQ6ITB9KTpuLmVkaXRIaXN0b3J5PVtdfX0pKX0sRHA9dih7bmFtZToiTWVzc2FnZUxvZ2dlciIsZGVzY3JpcHRpb246IlRlbXBvcmFyaWx5IGxvZ3MgZGVsZXRlZCBhbmQgZWRpdGVkIG1lc3NhZ2VzLiIsYXV0aG9yczpbZC5ydXNoaWksZC5WZW5dLHN0YXJ0KCl7bXYoKSxwZSgibWVzc2FnZSIsaHYpfSxzdG9wKCl7ZmUoIm1lc3NhZ2UiLGh2KX0scmVuZGVyRWRpdChlKXtyZXR1cm4gbyhELHtub29wOiEwfSxvKCJkaXYiLHtjbGFzc05hbWU6Im1lc3NhZ2Vsb2dnZXItZWRpdGVkIn0sa2UucGFyc2UoZS5jb250ZW50KSxvKExuLHt0aW1lc3RhbXA6ZS50aW1lc3RhbXAsaXNFZGl0ZWQ6ITAsaXNJbmxpbmU6ITF9LG8oInNwYW4iLHtjbGFzc05hbWU6ak0uZWRpdGVkfSwiICIsIigiLGN0Lk1lc3NhZ2VzLk1FU1NBR0VfRURJVEVELCIpIikpKSl9LG1ha2VFZGl0KGUsdCl7cmV0dXJue3RpbWVzdGFtcDp0bj8uY2FsbChlLmVkaXRlZF90aW1lc3RhbXApLGNvbnRlbnQ6dC5jb250ZW50fX0sb3B0aW9uczp7ZGVsZXRlU3R5bGU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiVGhlIHN0eWxlIG9mIGRlbGV0ZWQgbWVzc2FnZXMiLGRlZmF1bHQ6InRleHQiLG9wdGlvbnM6W3tsYWJlbDoiUmVkIHRleHQiLHZhbHVlOiJ0ZXh0IixkZWZhdWx0OiEwfSx7bGFiZWw6IlJlZCBvdmVybGF5Iix2YWx1ZToib3ZlcmxheSJ9XSxvbkNoYW5nZTooKT0+bXYoKX0saWdub3JlQm90czp7dHlwZTozLGRlc2NyaXB0aW9uOiJXaGV0aGVyIHRvIGlnbm9yZSBtZXNzYWdlcyBieSBib3RzIixkZWZhdWx0OiExfSxpZ25vcmVTZWxmOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gaWdub3JlIG1lc3NhZ2VzIGJ5IHlvdXJzZWxmIixkZWZhdWx0OiExfSxpZ25vcmVVc2Vyczp7dHlwZTowLGRlc2NyaXB0aW9uOiJDb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiB1c2VyIElEcyB0byBpZ25vcmUiLGRlZmF1bHQ6IiJ9LGlnbm9yZUNoYW5uZWxzOnt0eXBlOjAsZGVzY3JpcHRpb246IkNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGNoYW5uZWwgSURzIHRvIGlnbm9yZSIsZGVmYXVsdDoiIn0saWdub3JlR3VpbGRzOnt0eXBlOjAsZGVzY3JpcHRpb246IkNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGd1aWxkIElEcyB0byBpZ25vcmUiLGRlZmF1bHQ6IiJ9fSxoYW5kbGVEZWxldGUoZSx0LG4pe3RyeXtsZXQgaD1mdW5jdGlvbihTKXtsZXQgVD1lLmdldChTKTtpZighVClyZXR1cm47bGV0IHc9NjQ7dC5tbERlbGV0ZWR8fChULmZsYWdzJncpPT09d3x8aSYmVC5hdXRob3I/LmJvdHx8cyYmVC5hdXRob3I/LmlkPT09eXx8Yy5pbmNsdWRlcyhULmF1dGhvcj8uaWQpfHx1LmluY2x1ZGVzKFQuY2hhbm5lbF9pZCl8fHAuaW5jbHVkZXMoVC5ndWlsZF9pZCk/ZT1lLnJlbW92ZShTKTplPWUudXBkYXRlKFMsQz0+Qy5zZXQoImRlbGV0ZWQiLCEwKS5zZXQoImF0dGFjaG1lbnRzIixDLmF0dGFjaG1lbnRzLm1hcChrPT4oay5kZWxldGVkPSEwLGspKSkpfTt2YXIgcj1oO2lmKGU9PW51bGx8fCFuJiYhZS5oYXModC5pZCkpcmV0dXJuIGU7bGV0e2lnbm9yZUJvdHM6aSxpZ25vcmVTZWxmOnMsaWdub3JlVXNlcnM6YyxpZ25vcmVDaGFubmVsczp1LGlnbm9yZUd1aWxkczpwfT1OLnBsdWdpbnMuTWVzc2FnZUxvZ2dlcix5PUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtuP3QuaWRzLmZvckVhY2goaCk6aCh0LmlkKX1jYXRjaChpKXtuZXcgUSgiTWVzc2FnZUxvZ2dlciIpLmVycm9yKCJFcnJvciBkdXJpbmcgaGFuZGxlRGVsZXRlIixpKX1yZXR1cm4gZX0scGF0Y2hlczpbe2ZpbmQ6J2Rpc3BsYXlOYW1lPSJNZXNzYWdlU3RvcmUiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9NRVNTQUdFX0RFTEVURTpmdW5jdGlvblwoKFx3KVwpe3ZhciAuKz8oKD86XHd7MSwyfVwuKXsyfSlnZXRPckNyZWF0ZS4rP30sLyxyZXBsYWNlOiJNRVNTQUdFX0RFTEVURTpmdW5jdGlvbigkMSl7ICAgdmFyIGNhY2hlID0gJDJnZXRPckNyZWF0ZSgkMS5jaGFubmVsSWQpOyAgIGNhY2hlID0gJHNlbGYuaGFuZGxlRGVsZXRlKGNhY2hlLCAkMSwgZmFsc2UpOyAgICQyY29tbWl0KGNhY2hlKTt9LCJ9LHttYXRjaDovTUVTU0FHRV9ERUxFVEVfQlVMSzpmdW5jdGlvblwoKFx3KVwpe3ZhciAuKz8oKD86XHd7MSwyfVwuKXsyfSlnZXRPckNyZWF0ZS4rP30sLyxyZXBsYWNlOiJNRVNTQUdFX0RFTEVURV9CVUxLOmZ1bmN0aW9uKCQxKXsgICB2YXIgY2FjaGUgPSAkMmdldE9yQ3JlYXRlKCQxLmNoYW5uZWxJZCk7ICAgY2FjaGUgPSAkc2VsZi5oYW5kbGVEZWxldGUoY2FjaGUsICQxLCB0cnVlKTsgICAkMmNvbW1pdChjYWNoZSk7fSwifSx7bWF0Y2g6LyhNRVNTQUdFX1VQREFURTpmdW5jdGlvblwoKFx3KVwpLis/KVwudXBkYXRlXCgoXHcpLyxyZXBsYWNlOiIkMS51cGRhdGUoJDMsbSA9PiAgICgoJDIubWVzc2FnZS5mbGFncyAmIDY0KSA9PT0gNjQgfHwgKFZlbmNvcmQuU2V0dGluZ3MucGx1Z2lucy5NZXNzYWdlTG9nZ2VyLmlnbm9yZUJvdHMgJiYgJDIubWVzc2FnZS5hdXRob3I/LmJvdCkgfHwgKFZlbmNvcmQuU2V0dGluZ3MucGx1Z2lucy5NZXNzYWdlTG9nZ2VyLmlnbm9yZVNlbGYgJiYgJDIubWVzc2FnZS5hdXRob3I/LmlkID09PSBWZW5jb3JkLldlYnBhY2suQ29tbW9uLlVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpLmlkKSkgPyBtIDogICAkMi5tZXNzYWdlLmNvbnRlbnQgIT09IG0uZWRpdEhpc3Rvcnk/LlswXT8uY29udGVudCAmJiAkMi5tZXNzYWdlLmNvbnRlbnQgIT09IG0uY29udGVudCA/ICAgICAgIG0uc2V0KCdlZGl0SGlzdG9yeScsWy4uLihtLmVkaXRIaXN0b3J5IHx8IFtdKSwgJHNlbGYubWFrZUVkaXQoJDIubWVzc2FnZSwgbSldKSA6ICAgICAgIG0pLnVwZGF0ZSgkMyJ9LHttYXRjaDovKD88PWdldExhc3RFZGl0YWJsZU1lc3NhZ2U9LnswLDIwMH1cLmZpbmRcKFwoZnVuY3Rpb25cKChcaSlcKVx7KXJldHVybi8scmVwbGFjZToicmV0dXJuICEkMS5kZWxldGVkICYmIn1dfSx7ZmluZDoiaXNGaXJzdE1lc3NhZ2VJbkZvcnVtUG9zdD1mdW5jdGlvbiIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFx3KVwuY3VzdG9tUmVuZGVyZWRDb250ZW50PShcdylcLmN1c3RvbVJlbmRlcmVkQ29udGVudDsvLHJlcGxhY2U6IiQxLmN1c3RvbVJlbmRlcmVkQ29udGVudCA9ICQyLmN1c3RvbVJlbmRlcmVkQ29udGVudDskMS5kZWxldGVkID0gJDIuZGVsZXRlZCB8fCBmYWxzZTskMS5lZGl0SGlzdG9yeSA9ICQyLmVkaXRIaXN0b3J5IHx8IFtdOyJ9XX0se2ZpbmQ6IlRIUkVBRF9TVEFSVEVSX01FU1NBR0U/bnVsbD09PSIscmVwbGFjZW1lbnQ6W3ttYXRjaDovaW50ZXJhY3Rpb25EYXRhOihcdylcLmludGVyYWN0aW9uRGF0YS8scmVwbGFjZToiaW50ZXJhY3Rpb25EYXRhOiQxLmludGVyYWN0aW9uRGF0YSxkZWxldGVkOiQxLmRlbGV0ZWQsZWRpdEhpc3Rvcnk6JDEuZWRpdEhpc3RvcnksYXR0YWNobWVudHM6JDEuYXR0YWNobWVudHMifSx7bWF0Y2g6L2F0dGFjaG1lbnRzOihcd3sxLDJ9KVwoKFx3KVwpLyxyZXBsYWNlOiJhdHRhY2htZW50czogJDEoKCgpID0+IHsgICBsZXQgb2xkID0gYXJndW1lbnRzWzFdPy5hdHRhY2htZW50czsgICBpZiAoIW9sZCkgcmV0dXJuICQyOyAgIGxldCBuZXdfID0gJDIuYXR0YWNobWVudHM/Lm1hcChhID0+IGEuaWQpID8/IFtdOyAgIGxldCBkaWZmID0gb2xkLmZpbHRlcihhID0+ICFuZXdfLmluY2x1ZGVzKGEuaWQpKTsgICBvbGQuZm9yRWFjaChhID0+IGEuZGVsZXRlZCA9IHRydWUpOyAgICQyLmF0dGFjaG1lbnRzID0gWy4uLmRpZmYsIC4uLiQyLmF0dGFjaG1lbnRzXTsgICByZXR1cm4gJDI7fSkoKSksZGVsZXRlZDogYXJndW1lbnRzWzFdPy5kZWxldGVkLGVkaXRIaXN0b3J5OiBhcmd1bWVudHNbMV0/LmVkaXRIaXN0b3J5In0se21hdGNoOi8oXCgoXHcpXCl7cmV0dXJuIG51bGw9PVwyXC5hdHRhY2htZW50cy4rPylzcG9pbGVyOi8scmVwbGFjZToiJDFkZWxldGVkOiBhcmd1bWVudHNbMF0/LmRlbGV0ZWQsc3BvaWxlcjoifV19LHtmaW5kOidbImNsYXNzTmFtZSIsImF0dGFjaG1lbnQiLCJpbmxpbmVNZWRpYSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6LygoXHcpXC5jbGFzc05hbWUsXHc9XDJcLmF0dGFjaG1lbnQpLC8scmVwbGFjZToiJDEsZGVsZXRlZD0kMi5hdHRhY2htZW50Py5kZWxldGVkLCJ9LHttYXRjaDovXFsiY2xhc3NOYW1lIiwiYXR0YWNobWVudCIsImlubGluZU1lZGlhIi4rP2NsYXNzTmFtZTovLHJlcGxhY2U6IiQmIChkZWxldGVkID8gJ21lc3NhZ2Vsb2dnZXItZGVsZXRlZC1hdHRhY2htZW50ICcgOiAnJykgKyJ9XX0se2ZpbmQ6Ik1lc3NhZ2UgbXVzdCBub3QgYmUgYSB0aHJlYWQgc3RhcnRlciBtZXNzYWdlIixyZXBsYWNlbWVudDpbe21hdGNoOi9cKVwoImxpIixceyguKz8pLGNsYXNzTmFtZTovLHJlcGxhY2U6JykoImxpIix7JDEsY2xhc3NOYW1lOihhcmd1bWVudHNbMF0ubWVzc2FnZS5kZWxldGVkID8gIm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCAiIDogIiIpKyd9XX0se2ZpbmQ6J01lc3NhZ2VzLk1FU1NBR0VfRURJVEVELCIpIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFwpXCgiZGl2Iixce2lkOi4rP2NoaWxkcmVuOlxbKS8scmVwbGFjZToiJDEgKGFyZ3VtZW50c1swXS5tZXNzYWdlLmVkaXRIaXN0b3J5Lmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0ubWVzc2FnZS5lZGl0SGlzdG9yeS5tYXAoZWRpdCA9PiAkc2VsZi5yZW5kZXJFZGl0KGVkaXQpKSA6IG51bGwpLCAifV19LHtmaW5kOidkaXNwbGF5TmFtZT0iUmVmZXJlbmNlZE1lc3NhZ2VTdG9yZSInLHJlcGxhY2VtZW50Olt7bWF0Y2g6L01FU1NBR0VfREVMRVRFOmZ1bmN0aW9uXCgoXHcpXCkuKz99LC8scmVwbGFjZToiTUVTU0FHRV9ERUxFVEU6ZnVuY3Rpb24oJDEpe30sIn0se21hdGNoOi9NRVNTQUdFX0RFTEVURV9CVUxLOmZ1bmN0aW9uXCgoXHcpXCkuKz99LC8scmVwbGFjZToiTUVTU0FHRV9ERUxFVEVfQlVMSzpmdW5jdGlvbigkMSl7fSwifV19LHtmaW5kOidpZDoicmVtb3ZlLXJlYWN0aW9ucyInLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2NoaWxkcmVuOihcWyIiPT09Lis/XF0pLyxyZXBsYWNlOiJjaGlsZHJlbjphcmd1bWVudHNbMF0ubWVzc2FnZS5kZWxldGVkP1tdOiQxIn1dfV19KX0pO2Z1bmN0aW9uIHZ2KGUpe3ZyKHtuYW1lOmUubmFtZSxkZXNjcmlwdGlvbjplLm5hbWUsaW5wdXRUeXBlOjEsZXhlY3V0ZTphc3luYyh0LG4pPT5hd2FpdCBoYShlLm5hbWUpPyhOLnBsdWdpbnMuTWVzc2FnZVRhZ3MuY2x5ZGUmJmFlKG4uY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7UG99IFRoZSB0YWcgKioke2UubmFtZX0qKiBoYXMgYmVlbiBzZW50IWB9KSx7Y29udGVudDplLm1lc3NhZ2UucmVwbGFjZUFsbCgiXFxuIixgCmApfSk6KGFlKG4uY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7UG99IFRoZSB0YWcgKioke2UubmFtZX0qKiBkb2VzIG5vdCBleGlzdCBhbnltb3JlISBQbGVhc2UgcmVsb2FkIHVyIERpc2NvcmQgdG8gZml4IDopYH0pLHtjb250ZW50OmAvJHtlLm5hbWV9YH0pLFtXTV06ITB9LCJDdXN0b21UYWdzIil9dmFyIFBvLHZhLFdNLEduLHlhLGhhLHFNLEtNLE9wLFN2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO2tuKCk7RigpO1AoKTt4KCk7UG89Ijw6bHVuYToxMDM1MzE2MTkyMjIwNTUzMjM2PiIsdmE9Ik1lc3NhZ2VUYWdzX1RBR1MiLFdNPVN5bWJvbCgiTWVzc2FnZVRhZ3MiKSxHbj17aWQ6IjgyMTQ3MjkyMjE0MDgwMzExMiIsYm90OiExfSx5YT0oKT0+b3QodmEpLnRoZW4oZT0+ZT8/W10pLGhhPWU9Pm90KHZhKS50aGVuKHQ9Pih0Pz9bXSkuZmluZChuPT5uLm5hbWU9PT1lKT8/bnVsbCkscU09YXN5bmMgZT0+e2xldCB0PWF3YWl0IHlhKCk7cmV0dXJuIHQucHVzaChlKSxydCh2YSx0KSx0fSxLTT1hc3luYyBlPT57bGV0IHQ9YXdhaXQgeWEoKTtyZXR1cm4gdD1hd2FpdCB0LmZpbHRlcihuPT5uLm5hbWUhPT1lKSxydCh2YSx0KSx0fTtPcD12KHtuYW1lOiJNZXNzYWdlVGFncyIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gc2F2ZSBtZXNzYWdlcyBhbmQgdG8gdXNlIHRoZW0gd2l0aCBhIHNpbXBsZSBjb21tYW5kLiIsYXV0aG9yczpbZC5MdW5hXSxvcHRpb25zOntjbHlkZTp7bmFtZToiQ2x5ZGUgbWVzc2FnZSBvbiBzZW5kIixkZXNjcmlwdGlvbjoiSWYgZW5hYmxlZCwgY2x5ZGUgd2lsbCBzZW5kIHlvdSBhbiBlcGhlbWVyYWwgbWVzc2FnZSB3aGVuIGEgdGFnIHdhcyB1c2VkLiIsdHlwZTozLGRlZmF1bHQ6ITB9fSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGFzeW5jIHN0YXJ0KCl7Zm9yKGxldCBlIG9mIGF3YWl0IHlhKCkpdnYoZSl9LGNvbW1hbmRzOlt7bmFtZToidGFncyIsZGVzY3JpcHRpb246Ik1hbmFnZSBhbGwgdGhlIHRhZ3MgZm9yIHlvdXJzZWxmIixpbnB1dFR5cGU6MCxvcHRpb25zOlt7bmFtZToiY3JlYXRlIixkZXNjcmlwdGlvbjoiQ3JlYXRlIGEgbmV3IHRhZyIsdHlwZToxLG9wdGlvbnM6W3tuYW1lOiJ0YWctbmFtZSIsZGVzY3JpcHRpb246IlRoZSBuYW1lIG9mIHRoZSB0YWcgdG8gdHJpZ2dlciB0aGUgcmVzcG9uc2UiLHR5cGU6MyxyZXF1aXJlZDohMH0se25hbWU6Im1lc3NhZ2UiLGRlc2NyaXB0aW9uOiJUaGUgbWVzc2FnZSB0aGF0IHlvdSB3aWxsIHNlbmQgd2hlbiB1c2luZyB0aGlzIHRhZyIsdHlwZTozLHJlcXVpcmVkOiEwfV19LHtuYW1lOiJsaXN0IixkZXNjcmlwdGlvbjoiTGlzdCBhbGwgdGFncyBmcm9tIHlvdXJzZWxmIix0eXBlOjEsb3B0aW9uczpbXX0se25hbWU6ImRlbGV0ZSIsZGVzY3JpcHRpb246IlJlbW92ZSBhIHRhZyBmcm9tIHlvdXIgeW91cnNlbGYiLHR5cGU6MSxvcHRpb25zOlt7bmFtZToidGFnLW5hbWUiLGRlc2NyaXB0aW9uOiJUaGUgbmFtZSBvZiB0aGUgdGFnIHRvIHRyaWdnZXIgdGhlIHJlc3BvbnNlIix0eXBlOjMscmVxdWlyZWQ6ITB9XX0se25hbWU6InByZXZpZXciLGRlc2NyaXB0aW9uOiJQcmV2aWV3IGEgdGFnIHdpdGhvdXQgc2VuZGluZyBpdCBwdWJsaWNseSIsdHlwZToxLG9wdGlvbnM6W3tuYW1lOiJ0YWctbmFtZSIsZGVzY3JpcHRpb246IlRoZSBuYW1lIG9mIHRoZSB0YWcgdG8gdHJpZ2dlciB0aGUgcmVzcG9uc2UiLHR5cGU6MyxyZXF1aXJlZDohMH1dfV0sYXN5bmMgZXhlY3V0ZShlLHQpe3N3aXRjaChlWzBdLm5hbWUpe2Nhc2UiY3JlYXRlIjp7bGV0IG49WWUoZVswXS5vcHRpb25zLCJ0YWctbmFtZSIsIiIpLHI9WWUoZVswXS5vcHRpb25zLCJtZXNzYWdlIiwiIik7aWYoYXdhaXQgaGEobikpcmV0dXJuIGFlKHQuY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7UG99IEEgVGFnIHdpdGggdGhlIG5hbWUgKioke259KiogYWxyZWFkeSBleGlzdHMhYH0pO2xldCBpPXtuYW1lOm4sZW5hYmxlZDohMCxtZXNzYWdlOnJ9O3Z2KGkpLGF3YWl0IHFNKGkpLGFlKHQuY2hhbm5lbC5pZCx7YXV0aG9yOkduLGNvbnRlbnQ6YCR7UG99IFN1Y2Nlc3NmdWxseSBjcmVhdGVkIHRoZSB0YWcgKioke259KiohYH0pO2JyZWFrfWNhc2UiZGVsZXRlIjp7bGV0IG49WWUoZVswXS5vcHRpb25zLCJ0YWctbmFtZSIsIiIpO2lmKCFhd2FpdCBoYShuKSlyZXR1cm4gYWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sY29udGVudDpgJHtQb30gQSBUYWcgd2l0aCB0aGUgbmFtZSAqKiR7bn0qKiBkb2VzIG5vdCBleGlzdCFgfSk7Z2kobiksYXdhaXQgS00obiksYWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sY29udGVudDpgJHtQb30gU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgdGhlIHRhZyAqKiR7bn0qKiFgfSk7YnJlYWt9Y2FzZSJsaXN0Ijp7YWUodC5jaGFubmVsLmlkLHthdXRob3I6R24sZW1iZWRzOlt7dGl0bGU6IkFsbCBUYWdzOiIsZGVzY3JpcHRpb246KGF3YWl0IHlhKCkpLm1hcChuPT5gXGAke24ubmFtZX1cYDogJHtuLm1lc3NhZ2Uuc2xpY2UoMCw3MikucmVwbGFjZUFsbCgiXFxuIiwiICIpfSR7bi5tZXNzYWdlLmxlbmd0aD43Mj8iLi4uIjoiIn1gKS5qb2luKGAKYCl8fGAke1BvfSBXb29wcyEgVGhlcmUgYXJlIG5vIHRhZ3MgeWV0LCB1c2UgXGAvdGFncyBjcmVhdGVcYCB0byBjcmVhdGUgb25lIWAsY29sb3I6MTQxMjI4NzksdHlwZToicmljaCJ9XX0pO2JyZWFrfWNhc2UicHJldmlldyI6e2xldCBuPVllKGVbMF0ub3B0aW9ucywidGFnLW5hbWUiLCIiKSxyPWF3YWl0IGhhKG4pO2lmKCFyKXJldHVybiBhZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OmAke1BvfSBBIFRhZyB3aXRoIHRoZSBuYW1lICoqJHtufSoqIGRvZXMgbm90IGV4aXN0IWB9KTthZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OnIubWVzc2FnZS5yZXBsYWNlQWxsKCJcXG4iLGAKYCl9KTticmVha31kZWZhdWx0OnthZSh0LmNoYW5uZWwuaWQse2F1dGhvcjpHbixjb250ZW50OiJJbnZhbGlkIHN1Yi1jb21tYW5kIn0pO2JyZWFrfX19fV19KX0pO2Z1bmN0aW9uIFlNKGUpe2xldCB0PSIiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPW4lMj9lW25dLnRvVXBwZXJDYXNlKCk6ZVtuXS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fXZhciBfcCxidj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtQKCk7eCgpO19wPXYoe25hbWU6Ik1vcmVDb21tYW5kcyIsZGVzY3JpcHRpb246ImVjaG8sIGxlbm55LCBtb2NrIixhdXRob3JzOltkLkFyaml4LGQuZWNobyxkLlNhbXVdLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tuYW1lOiJlY2hvIixkZXNjcmlwdGlvbjoiU2VuZHMgYSBtZXNzYWdlIGFzIENseWRlIChsb2NhbGx5KSIsb3B0aW9uczpbeG9dLGlucHV0VHlwZTozLGV4ZWN1dGU6KGUsdCk9PntsZXQgbj1ZZShlLCJtZXNzYWdlIiwiIik7YWUodC5jaGFubmVsLmlkLHtjb250ZW50Om59KX19LHtuYW1lOiJsZW5ueSIsZGVzY3JpcHRpb246IlNlbmRzIGEgbGVubnkgZmFjZSIsb3B0aW9uczpbeG9dLGV4ZWN1dGU6ZT0+KHtjb250ZW50OlllKGUsIm1lc3NhZ2UiLCIiKSsiICggXHUwMzYxXHhCMCBcdTAzNUNcdTAyOTYgXHUwMzYxXHhCMCkifSl9LHtuYW1lOiJtb2NrIixkZXNjcmlwdGlvbjoibU9jSyBQZU9wTGUiLG9wdGlvbnM6W2ZpXSxleGVjdXRlOmU9Pih7Y29udGVudDpZTShZZShlLCJtZXNzYWdlIiwiIikpfSl9XX0pfSk7dmFyIEJwLFR2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1AoKTt4KCk7QnA9dih7bmFtZToiTW9yZUthb21vamkiLGRlc2NyaXB0aW9uOiJBZGRzIG1vcmUgS2FvbW9qaSB0byBkaXNjb3JkLiBcdTMwRkQoXHhCNFx1MjVCRGApLyIsYXV0aG9yczpbZC5KYWNvYlRtXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToiZGlzc2F0aXNmYWN0aW9uIixkZXNjcmlwdGlvbjoiIFx1RkYxRVx1RkU0Rlx1RkYxQyJ9LHtuYW1lOiJzbXVnIixkZXNjcmlwdGlvbjoiIFx1MENBMF9cdTBDQTAifSx7bmFtZToiaGFwcHkiLGRlc2NyaXB0aW9uOiIgXHUzMEZEKFx4QjRcdTI1QkRgKS8ifSx7bmFtZToiY3J5aW5nIixkZXNjcmlwdGlvbjoiIFx1MENBNV9cdTBDQTUifSx7bmFtZToiYW5ncnkiLGRlc2NyaXB0aW9uOiIgXHUzMEZEKFx1RkY0MFx1MDQxNFx4QjQpXHVGRjg5In0se25hbWU6ImFuZ2VyIixkZXNjcmlwdGlvbjoiIFx1MzBGRChcdUZGNEZgXHU3NkJGXHUyMDMyXHVGRjRGKVx1RkY4OSJ9LHtuYW1lOiJqb3kiLGRlc2NyaXB0aW9uOiIgPChcdUZGRTNcdUZFMzZcdUZGRTMpPiJ9LHtuYW1lOiJibHVzaCIsZGVzY3JpcHRpb246Ilx1MEFFRSBcdTAyRjZcdTFENTQgXHUxRDU1IFx1MUQ1NFx1MDJGNiBcdTEwRDAifSx7bmFtZToiY29uZnVzZWQiLGRlc2NyaXB0aW9uOiIoXHUyMDIyXHUwRTM0X1x1MjAyMlx1MEUzNCk/In0se25hbWU6InNsZWVwaW5nIixkZXNjcmlwdGlvbjoiKFx1MUQxN19cdTFEMTcpIn0se25hbWU6ImxhdWdoaW5nIixkZXNjcmlwdGlvbjoibyhcdTIyNjdcdTI1QkRcdTIyNjYpbyJ9XS5tYXAoZT0+KHsuLi5lLG9wdGlvbnM6W3hvXSxleGVjdXRlOnQ9Pih7Y29udGVudDpZZSh0LCJtZXNzYWdlIiwiIikrZS5kZXNjcmlwdGlvbn0pfSkpfSl9KTtmdW5jdGlvbiBRTShlKXtJby5zdG9yZS50YWdTZXR0aW5ncz8/PUZwO2xldFt0LG5dPVcoSW8uc3RvcmUudGFnU2V0dGluZ3MpLHI9aT0+e24oaSksZS5zZXRWYWx1ZShpKX07cmV0dXJuIG8oY2Use2ZsZXhEaXJlY3Rpb246ImNvbHVtbiJ9LHhyLm1hcChpPT5vKEZ0LHtzdHlsZTp7cGFkZGluZzoiMWVtIDFlbSAwIn19LG8oYi5Gb3JtVGl0bGUse3N0eWxlOnt3aWR0aDoiZml0LWNvbnRlbnQifX0sbyhaLHt0ZXh0OmkuZGVzY3JpcHRpb259LCh7b25Nb3VzZUVudGVyOnMsb25Nb3VzZUxlYXZlOmN9KT0+bygiZGl2Iix7b25Nb3VzZUVudGVyOnMsb25Nb3VzZUxlYXZlOmN9LGkuZGlzcGxheU5hbWUsIiBUYWcgIixvKGVvLHt0eXBlOmVvLlR5cGVzW2kubmFtZV19KSkpKSxvKERlLHt0eXBlOiJ0ZXh0Iix2YWx1ZTp0W2kubmFtZV0/LnRleHQ/P2kuZGlzcGxheU5hbWUscGxhY2Vob2xkZXI6YFRleHQgb24gdGFnIChkZWZhdWx0OiAke2kuZGlzcGxheU5hbWV9KWAsb25DaGFuZ2U6cz0+e3RbaS5uYW1lXS50ZXh0PXMscih0KX0sY2xhc3NOYW1lOnouYm90dG9tMTZ9KSxvKGh0LHt2YWx1ZTp0W2kubmFtZV0/LnNob3dJbkNoYXQ/PyEwLG9uQ2hhbmdlOnM9Pnt0W2kubmFtZV0uc2hvd0luQ2hhdD1zLHIodCl9LGhpZGVCb3JkZXI6ITB9LCJTaG93IGluIG1lc3NhZ2VzIiksbyhodCx7dmFsdWU6dFtpLm5hbWVdPy5zaG93SW5Ob3RDaGF0Pz8hMCxvbkNoYW5nZTpzPT57dFtpLm5hbWVdLnNob3dJbk5vdENoYXQ9cyxyKHQpfSxoaWRlQm9yZGVyOiEwfSwiU2hvdyBpbiBtZW1iZXIgbGlzdCBhbmQgcHJvZmlsZXMiKSkpKX12YXIgWk0sWE0sSk0sZW8seHYseHIsRnAsSW8sJHAsd3Y9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt2dCgpO1AoKTtldCgpO3goKTtCKCk7TSgpO1pNPSIxMDgxMDA0OTQ2ODcyMzUyOTU4IixYTT1JKCJjb21wdXRlUGVybWlzc2lvbnMiLCJjYW5FdmVyeW9uZVJvbGUiKSxKTT1JKCJTRU5EX01FU1NBR0VTIiwiVklFV19DUkVBVE9SX01PTkVUSVpBVElPTl9BTkFMWVRJQ1MiKSxlbz1OZShlPT5lLlR5cGVzPy5bMF09PT0iQk9UIikseHY9KGUsdCk9PiEhZT8ud2ViaG9va0lkJiZ0LmlzTm9uVXNlckJvdCgpLHhyPVt7bmFtZToiV0VCSE9PSyIsZGlzcGxheU5hbWU6IldlYmhvb2siLGRlc2NyaXB0aW9uOiJNZXNzYWdlcyBzZW50IGJ5IHdlYmhvb2tzIixjb25kaXRpb246eHZ9LHtuYW1lOiJPV05FUiIsZGlzcGxheU5hbWU6Ik93bmVyIixkZXNjcmlwdGlvbjoiT3ducyB0aGUgc2VydmVyIixjb25kaXRpb246KGUsdCxuKT0+bWUuZ2V0R3VpbGQobj8uZ3VpbGRfaWQpPy5vd25lcklkPT09dC5pZH0se25hbWU6IkFETUlOSVNUUkFUT1IiLGRpc3BsYXlOYW1lOiJBZG1pbiIsZGVzY3JpcHRpb246IkhhcyB0aGUgYWRtaW5pc3RyYXRvciBwZXJtaXNzaW9uIixwZXJtaXNzaW9uczpbIkFETUlOSVNUUkFUT1IiXX0se25hbWU6Ik1PREVSQVRPUl9TVEFGRiIsZGlzcGxheU5hbWU6IlN0YWZmIixkZXNjcmlwdGlvbjoiQ2FuIG1hbmFnZSB0aGUgc2VydmVyLCBjaGFubmVscyBvciByb2xlcyIscGVybWlzc2lvbnM6WyJNQU5BR0VfR1VJTEQiLCJNQU5BR0VfQ0hBTk5FTFMiLCJNQU5BR0VfUk9MRVMiXX0se25hbWU6Ik1PREVSQVRPUiIsZGlzcGxheU5hbWU6Ik1vZCIsZGVzY3JpcHRpb246IkNhbiBtYW5hZ2UgbWVzc2FnZXMgb3Iga2ljay9iYW4gcGVvcGxlIixwZXJtaXNzaW9uczpbIk1BTkFHRV9NRVNTQUdFUyIsIktJQ0tfTUVNQkVSUyIsIkJBTl9NRU1CRVJTIl19LHtuYW1lOiJWT0lDRV9NT0RFUkFUT1IiLGRpc3BsYXlOYW1lOiJWQyBNb2QiLGRlc2NyaXB0aW9uOiJDYW4gbWFuYWdlIHZvaWNlIGNoYXRzIixwZXJtaXNzaW9uczpbIk1PVkVfTUVNQkVSUyIsIk1VVEVfTUVNQkVSUyIsIkRFQUZFTl9NRU1CRVJTIl19XSxGcD1PYmplY3QuZnJvbUVudHJpZXMoeHIubWFwKCh7bmFtZTplLGRpc3BsYXlOYW1lOnR9KT0+W2Use3RleHQ6dCxzaG93SW5DaGF0OiEwLHNob3dJbk5vdENoYXQ6ITB9XSkpO0lvPUUoe2RvbnRTaG93Rm9yQm90czp7ZGVzY3JpcHRpb246IkRvbid0IHNob3cgZXh0cmEgdGFncyBmb3IgYm90cyAoZXhjbHVkaW5nIHdlYmhvb2tzKSIsdHlwZTozfSxkb250U2hvd0JvdFRhZzp7ZGVzY3JpcHRpb246Ik9ubHkgc2hvdyBleHRyYSB0YWdzIGZvciBib3RzIC8gSGlkZSBbQk9UXSB0ZXh0Iix0eXBlOjN9LHRhZ1NldHRpbmdzOnt0eXBlOjYsY29tcG9uZW50OlFNLGRlc2NyaXB0aW9uOiJmaWxsIG1lIn19KSwkcD12KHtuYW1lOiJNb3JlVXNlclRhZ3MiLGRlc2NyaXB0aW9uOiJBZGRzIHRhZ3MgZm9yIHdlYmhvb2tzIGFuZCBtb2RlcmF0aXZlIHJvbGVzIChvd25lciwgYWRtaW4sIGV0Yy4pIixhdXRob3JzOltkLkN5bixkLlRoZVN1bixkLlJ5YW5DYW9EZXYsZC5Mb3JkRWxpYXNdLHNldHRpbmdzOklvLHBhdGNoZXM6W3tmaW5kOicuQk9UPTBdPSJCT1QiJyxyZXBsYWNlbWVudDpbe21hdGNoOi8oXGkpXFsuXC5CT1Q9MFxdPSJCT1QiOy8scmVwbGFjZToiJCYkMT0kc2VsZi5hZGRUYWdWYXJpYW50cygkMSk7In1dfSx7ZmluZDoiLkRJU0NPUkRfU1lTVEVNX01FU1NBR0VfQk9UX1RBR19UT09MVElQOyIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKHN3aXRjaFwoKFxpKVwpey4rPyljYXNlIChcaSg/OlwuXGkpPylcLkJPVDpkZWZhdWx0OihcaSk9KFxpXC5caVwuTWVzc2FnZXMpXC5CT1RfVEFHX0JPVC8scmVwbGFjZTooZSx0LG4scixpLHMpPT5gJHt0fWRlZmF1bHQ6eyR7aX0gPSAkc2VsZi5nZXRUYWdUZXh0KCR7cn1bJHtufV0sICR7c30pfWB9LHttYXRjaDovKFxpKT0oXGkpPT09XGkoPzpcLlxpKT9cLk9SSUdJTkFMX1BPU1RFUi8scmVwbGFjZToiJDE9JHNlbGYuaXNPUFRhZygkMikifSx7bWF0Y2g6L2NoaWxkcmVuOlxbKD89XGksXCgwLFxpXC5qc3hcKVwoInNwYW4iLHtjbGFzc05hbWU6XGlcKFwpXC5ib3RUZXh0LGNoaWxkcmVuOihcaSl9XClcXSkvLHJlcGxhY2U6IidkYXRhLXRhZyc6JDEudG9Mb3dlckNhc2UoKSxjaGlsZHJlbjpbIn1dfSx7ZmluZDoiLlR5cGVzLk9SSUdJTkFMX1BPU1RFUiIscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gbnVsbD09KFxpKVw/bnVsbDpcKDAsLyxyZXBsYWNlOiIkMT0kc2VsZi5nZXRUYWcoey4uLmFyZ3VtZW50c1swXSxvcmlnVHlwZTokMSxsb2NhdGlvbjonY2hhdCd9KTskJiJ9fSx7ZmluZDoiLnJlbmRlckJvdD1mdW5jdGlvbigpeyIscmVwbGFjZW1lbnQ6e21hdGNoOi90aGlzLnByb3BzLnVzZXI7cmV0dXJuIG51bGwhPShcaSkmJi57MCwxMH1cPyguezAsNTB9KVwuYm90VGFnLyxyZXBsYWNlOiJ0aGlzLnByb3BzLnVzZXI7dmFyIHR5cGU9JHNlbGYuZ2V0VGFnKHsuLi50aGlzLnByb3BzLG9yaWdUeXBlOiQxLmJvdD8wOm51bGwsbG9jYXRpb246J25vdC1jaGF0J30pO3JldHVybiB0eXBlIT09bnVsbD8kMi5ib3RUYWcsdHlwZSJ9fSx7ZmluZDoiLmhhc0F2YXRhckZvckd1aWxkKG51bGw9PSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz11c2VybmFtZUljb246KS8scmVwbGFjZToibW9yZVRhZ3NfY2hhbm5lbElkOmFyZ3VtZW50c1swXS5jaGFubmVsSWQsIn19LHtmaW5kOidjb3B5TWV0YURhdGE6IlVzZXIgVGFnIicscmVwbGFjZW1lbnQ6e21hdGNoOi8oPz0sYm90Q2xhc3M6KS8scmVwbGFjZToiLG1vcmVUYWdzX2NoYW5uZWxJZDphcmd1bWVudHNbMF0ubW9yZVRhZ3NfY2hhbm5lbElkIn19LHtmaW5kOiIsYm90VHlwZToiLHJlcGxhY2VtZW50OnttYXRjaDovLGJvdFR5cGU6KFxpXCgoXGkpXCkpLC9nLHJlcGxhY2U6Iixib3RUeXBlOiRzZWxmLmdldFRhZyh7dXNlcjokMixjaGFubmVsSWQ6YXJndW1lbnRzWzBdLm1vcmVUYWdzX2NoYW5uZWxJZCxvcmlnVHlwZTokMSxsb2NhdGlvbjonbm90LWNoYXQnfSksIn19XSxzdGFydCgpe2lmKCFJby5zdG9yZS50YWdTZXR0aW5ncylpZighSW8uc3RvcmUudmlzaWJpbGl0eV9XRUJIT09LKUlvLnN0b3JlLnRhZ1NldHRpbmdzPUZwO2Vsc2V7bGV0IGU9ey4uLkZwfTtPYmplY3QuZW50cmllcyhWZW5jb3JkLlBsYWluU2V0dGluZ3MucGx1Z2lucy5Nb3JlVXNlclRhZ3MpLmZvckVhY2goKFt0LG5dKT0+e2xldFtyLGldPXQuc3BsaXQoIl8iKTtpZihyPT09InZpc2liaWxpdHkiKXN3aXRjaChuKXtjYXNlImFsd2F5cyI6YnJlYWs7Y2FzZSJjaGF0IjplW2ldLnNob3dJbk5vdENoYXQ9ITE7YnJlYWs7Y2FzZSJub3QtY2hhdCI6ZVtpXS5zaG93SW5DaGF0PSExO2JyZWFrO2Nhc2UibmV2ZXIiOmVbaV0uc2hvd0luQ2hhdD0hMSxlW2ldLnNob3dJbk5vdENoYXQ9ITE7YnJlYWt9SW8uc3RvcmUudGFnU2V0dGluZ3M9ZSxkZWxldGUgVmVuY29yZC5TZXR0aW5ncy5wbHVnaW5zLk1vcmVVc2VyVGFnc1t0XX0pfX0sZ2V0UGVybWlzc2lvbnMoZSx0KXtsZXQgbj1tZS5nZXRHdWlsZCh0Py5ndWlsZF9pZCk7aWYoIW4pcmV0dXJuW107bGV0IHI9WE0uY29tcHV0ZVBlcm1pc3Npb25zKHt1c2VyOmUsY29udGV4dDpuLG92ZXJ3cml0ZXM6dC5wZXJtaXNzaW9uT3ZlcndyaXRlc30pO3JldHVybiBPYmplY3QuZW50cmllcyhKTSkubWFwKChbaSxzXSk9PnImcz9pOiIiKS5maWx0ZXIoQm9vbGVhbil9LGFkZFRhZ1ZhcmlhbnRzKGUpe2xldCB0PTEwMDtyZXR1cm4geHIuZm9yRWFjaCgoe25hbWU6bn0pPT57ZVtuXT0rK3QsZVt0XT1uLGVbYCR7bn0tQk9UYF09Kyt0LGVbdF09YCR7bn0tQk9UYCxlW2Ake259LU9QYF09Kyt0LGVbdF09YCR7bn0tT1BgfSksZX0saXNPUFRhZzplPT5lPT09ZW8uVHlwZXMuT1JJR0lOQUxfUE9TVEVSfHx4ci5zb21lKHQ9PmU9PT1lby5UeXBlc1tgJHt0Lm5hbWV9LU9QYF0pLGdldFRhZ1RleHQoZSx0KXtpZighZSlyZXR1cm4gdC5CT1RfVEFHX0JPVDtsZXRbbixyXT1lLnNwbGl0KCItIiksaT14ci5maW5kKCh7bmFtZTpjfSk9Pm49PT1jKTtpZighaXx8cj09PSJCT1QiJiZuIT09IldFQkhPT0siJiZ0aGlzLnNldHRpbmdzLnN0b3JlLmRvbnRTaG93Rm9yQm90cylyZXR1cm4gdC5CT1RfVEFHX0JPVDtsZXQgcz1Jby5zdG9yZS50YWdTZXR0aW5ncz8uW2kubmFtZV0/LnRleHR8fGkuZGlzcGxheU5hbWU7c3dpdGNoKHIpe2Nhc2UiT1AiOnJldHVybmAke3QuQk9UX1RBR19GT1JVTV9PUklHSU5BTF9QT1NURVJ9IFx1MjAyMiAke3N9YDtjYXNlIkJPVCI6cmV0dXJuYCR7dC5CT1RfVEFHX0JPVH0gXHUyMDIyICR7c31gO2RlZmF1bHQ6cmV0dXJuIHN9fSxnZXRUYWcoe21lc3NhZ2U6ZSx1c2VyOnQsY2hhbm5lbElkOm4sb3JpZ1R5cGU6cixsb2NhdGlvbjppLGNoYW5uZWw6c30pe2lmKGk9PT0iY2hhdCImJnQuaWQ9PT0iMSIpcmV0dXJuIGVvLlR5cGVzLk9GRklDSUFMO2lmKHQuaWQ9PT1aTSlyZXR1cm4gZW8uVHlwZXMuQUk7bGV0IGM9dHlwZW9mIHI9PSJudW1iZXIiP3I6bnVsbDtpZihzPz89Vi5nZXRDaGFubmVsKG4pLCFzKXJldHVybiBjO2xldCB1PXRoaXMuc2V0dGluZ3Muc3RvcmUscD10aGlzLmdldFBlcm1pc3Npb25zKHQscyk7Zm9yKGxldCB5IG9mIHhyKWlmKCEoaT09PSJjaGF0IiYmIXUudGFnU2V0dGluZ3NbeS5uYW1lXS5zaG93SW5DaGF0KSYmIShpPT09Im5vdC1jaGF0IiYmIXUudGFnU2V0dGluZ3NbeS5uYW1lXS5zaG93SW5Ob3RDaGF0KSYmKHkucGVybWlzc2lvbnM/LnNvbWUoaD0+cC5pbmNsdWRlcyhoKSl8fHkuY29uZGl0aW9uPy4oZSx0LHMpKSl7cy5pc0ZvcnVtUG9zdCgpJiZzLm93bmVySWQ9PT10LmlkP2M9ZW8uVHlwZXNbYCR7eS5uYW1lfS1PUGBdOnQuYm90JiYheHYoZSx0KSYmIXUuZG9udFNob3dCb3RUYWc/Yz1lby5UeXBlc1tgJHt5Lm5hbWV9LUJPVGBdOmM9ZW8uVHlwZXNbeS5uYW1lXTticmVha31yZXR1cm4gY319KX0pO2Z1bmN0aW9uIGVQKGUsdCl7bGV0IG49MCxyPTA7Zm9yKDsocj1lLmluZGV4T2YodCxyKSsxKSE9PTA7KW4rKztyZXR1cm4gbn1mdW5jdGlvbiB0UChlLHQpe2lmKCF0Lmdsb2JhbCl0aHJvdyBuZXcgRXJyb3IoInBhdHRlcm4gbXVzdCBiZSBnbG9iYWwiKTtsZXQgbj0wO2Zvcig7dC50ZXN0KGUpOyluKys7cmV0dXJuIG59ZnVuY3Rpb24gb1AoZSl7bGV0IHQ9ZVAoZSxHcCkrdFAoZSxuUCk7cmV0dXJuIE1hdGgubWluKHQsMTApfWZ1bmN0aW9uIFVwKCl7aWYoIVZvLnN0b3JlLnRyaWdnZXJXaGVuVW5mb2N1c2VkJiYhZG9jdW1lbnQuaGFzRm9jdXMoKSlyZXR1cm47bGV0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKTtlLnNyYz1WTSxlLnZvbHVtZT1Wby5zdG9yZS52b2x1bWUsZS5wbGF5KCl9dmFyIEdwLFZNLFZvLEhwLG5QLE12PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7VWMoKTtQKCk7eWUoKTt4KCk7TSgpO0dwPSJcdXsxRjVGRn0iLFZNPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWVndW1pblNhbWEvVmVuY29yZFBsdWdpbnMvbWFpbi9wbHVnaW5zL21veWFpL21veWFpLm1wMyIsVm89RSh7dm9sdW1lOntkZXNjcmlwdGlvbjoiVm9sdW1lIG9mIHRoZSBcdXsxRjVGRn1cdXsxRjVGRn1cdXsxRjVGRn0iLHR5cGU6NSxtYXJrZXJzOnlyKDAsMSwuMSksZGVmYXVsdDouNSxzdGlja1RvTWFya2VyczohMX0sdHJpZ2dlcldoZW5VbmZvY3VzZWQ6e2Rlc2NyaXB0aW9uOiJUcmlnZ2VyIHRoZSBcdXsxRjVGRn0gZXZlbiB3aGVuIHRoZSB3aW5kb3cgaXMgdW5mb2N1c2VkIix0eXBlOjMsZGVmYXVsdDohMH0saWdub3JlQm90czp7ZGVzY3JpcHRpb246Iklnbm9yZSBib3RzIix0eXBlOjMsZGVmYXVsdDohMH0saWdub3JlQmxvY2tlZDp7ZGVzY3JpcHRpb246Iklnbm9yZSBibG9ja2VkIHVzZXJzIix0eXBlOjMsZGVmYXVsdDohMH19KSxIcD12KHtuYW1lOiJNb3lhaSIsYXV0aG9yczpbZC5NZWd1LGQuTnVja3l6XSxkZXNjcmlwdGlvbjoiXHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9XHV7MUY1RkZ9IixzZXR0aW5nczpWbyxmbHV4Onthc3luYyBNRVNTQUdFX0NSRUFURSh7b3B0aW1pc3RpYzplLHR5cGU6dCxtZXNzYWdlOm4sY2hhbm5lbElkOnJ9KXtpZihlfHx0IT09Ik1FU1NBR0VfQ1JFQVRFInx8bi5zdGF0ZT09PSJTRU5ESU5HInx8Vm8uc3RvcmUuaWdub3JlQm90cyYmbi5hdXRob3I/LmJvdHx8Vm8uc3RvcmUuaWdub3JlQmxvY2tlZCYmaXQuaXNCbG9ja2VkKG4uYXV0aG9yPy5pZCl8fCFuLmNvbnRlbnR8fHIhPT1UZS5nZXRDaGFubmVsSWQoKSlyZXR1cm47bGV0IGk9b1Aobi5jb250ZW50KTtmb3IobGV0IHM9MDtzPGk7cysrKVVwKCksYXdhaXQgYW8oMzAwKX0sTUVTU0FHRV9SRUFDVElPTl9BREQoe29wdGltaXN0aWM6ZSx0eXBlOnQsY2hhbm5lbElkOm4sdXNlcklkOnIsbWVzc2FnZUF1dGhvcklkOmksZW1vamk6c30pe2lmKGV8fHQhPT0iTUVTU0FHRV9SRUFDVElPTl9BREQifHxWby5zdG9yZS5pZ25vcmVCb3RzJiZHLmdldFVzZXIocik/LmJvdHx8Vm8uc3RvcmUuaWdub3JlQmxvY2tlZCYmaXQuaXNCbG9ja2VkKGkpfHxuIT09VGUuZ2V0Q2hhbm5lbElkKCkpcmV0dXJuO2xldCBjPXMubmFtZS50b0xvd2VyQ2FzZSgpO2MhPT1HcCYmIWMuaW5jbHVkZXMoIm1veWFpIikmJiFjLmluY2x1ZGVzKCJtb2FpIil8fFVwKCl9LFZPSUNFX0NIQU5ORUxfRUZGRUNUX1NFTkQoe2Vtb2ppOmV9KXtpZighZT8ubmFtZSlyZXR1cm47bGV0IHQ9ZS5uYW1lLnRvTG93ZXJDYXNlKCk7dCE9PUdwJiYhdC5pbmNsdWRlcygibW95YWkiKSYmIXQuaW5jbHVkZXMoIm1vYWkiKXx8VXAoKX19fSk7blA9LzxhPzpcdyptb3k/YWlcdyo6XGR7MTcsMjB9Pi9naX0pO3ZhciBTYSx6cCxQdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7QigpO1NhPUUoe2d1aWxkOntkZXNjcmlwdGlvbjoiTXV0ZSBHdWlsZCIsdHlwZTozLGRlZmF1bHQ6ITB9LGV2ZXJ5b25lOntkZXNjcmlwdGlvbjoiU3VwcHJlc3MgQGV2ZXJ5b25lIGFuZCBAaGVyZSIsdHlwZTozLGRlZmF1bHQ6ITB9LHJvbGU6e2Rlc2NyaXB0aW9uOiJTdXBwcmVzcyBBbGwgUm9sZSBAbWVudGlvbnMiLHR5cGU6MyxkZWZhdWx0OiEwfX0pLHpwPXYoe25hbWU6Ik11dGVOZXdHdWlsZCIsZGVzY3JpcHRpb246Ik11dGVzIG5ld2x5IGpvaW5lZCBndWlsZHMiLGF1dGhvcnM6W2QuR2xpdGNoLGQuTnVja3l6LGQuY2FyaW5jZV0scGF0Y2hlczpbe2ZpbmQ6IixhY2NlcHRJbnZpdGU6ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovSU5WSVRFX0FDQ0VQVF9TVUNDRVNTLis/OyhcaSk9bnVsbC4rPzsvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuaGFuZGxlTXV0ZSgke3R9KTtgfX0se2ZpbmQ6Intqb2luR3VpbGQ6ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovZ3VpbGRJZDooXHcrKSxsdXJrZXI6KFx3KykuezAsMjB9XCl9XClcKTsvLHJlcGxhY2U6KGUsdCxuKT0+YCR7ZX1pZighJHtufSkkc2VsZi5oYW5kbGVNdXRlKCR7dH0pO2B9fV0sc2V0dGluZ3M6U2EsaGFuZGxlTXV0ZShlKXtlPT09IkBtZSJ8fGU9PT0ibnVsbCJ8fGU9PW51bGx8fEFuKCJ1cGRhdGVHdWlsZE5vdGlmaWNhdGlvblNldHRpbmdzIikudXBkYXRlR3VpbGROb3RpZmljYXRpb25TZXR0aW5ncyhlLHttdXRlZDpTYS5zdG9yZS5ndWlsZCxzdXBwcmVzc19ldmVyeW9uZTpTYS5zdG9yZS5ldmVyeW9uZSxzdXBwcmVzc19yb2xlczpTYS5zdG9yZS5yb2xlfSl9fSl9KTtmdW5jdGlvbiBsUChlKXtyZXR1cm4gZS5uYW1lfHxlLnJlY2lwaWVudHMubWFwKEcuZ2V0VXNlcikuZmlsdGVyKFVsKS5tYXAodD0+aXQuZ2V0Tmlja25hbWUodC5pZCl8fHNQLmdldE5hbWUodCkpLmpvaW4oIiwgIil9dmFyIHJQLGlQLHNQLENvLGFQLGpwLEl2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7UHMoKTt4KCk7QigpO00oKTtyUD1JKCJzZWxlY3RQcml2YXRlQ2hhbm5lbCIpLGlQPUkoImdldENoYW5uZWxJY29uVVJMIiksc1A9SSgiZ2V0R2xvYmFsTmFtZSIpLENvPUkoImVtcHR5SWNvbkZyaWVuZHMiLCJlbXB0eUljb25HdWlsZHMiKSxhUD1JKCJndWlsZE5pY2siLCJndWlsZEF2YXRhcldpdGhvdXRJY29uIik7anA9dih7bmFtZToiTXV0dWFsR3JvdXBETXMiLGRlc2NyaXB0aW9uOiJTaG93cyBtdXR1YWwgZ3JvdXAgZG1zIGluIHByb2ZpbGVzIixhdXRob3JzOltkLmFtaWFdLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuVVNFUl9QUk9GSUxFX01PREFMIixyZXBsYWNlbWVudDpbe21hdGNoOi8oPzw9XC5NVVRVQUxfR1VJTERTXH1cKSwpKD89KFxpXC5ib3QpLnswLDIwfShcKDAsXGlcLmpzeFwpXCguezAsMTAwfWlkOikpLyxyZXBsYWNlOickMT9udWxsOiQyIk1VVFVBTF9HRE1TIixjaGlsZHJlbjoiTXV0dWFsIEdyb3VwcyJ9KSwnfSx7bWF0Y2g6Lyg/PD17dXNlcjooXGkpLG9uQ2xvc2U6KFxpKX1cKTspKD89Y2FzZSBcaVwuXGlcLk1VVFVBTF9GUklFTkRTKS8scmVwbGFjZTonY2FzZSAiTVVUVUFMX0dETVMiOnJldHVybiAkc2VsZi5yZW5kZXJNdXR1YWxHRE1zKCQxLCQyKTsnfV19XSxyZW5kZXJNdXR1YWxHRE1zKGUsdCl7bGV0IG49Vi5nZXRTb3J0ZWRQcml2YXRlQ2hhbm5lbHMoKS5maWx0ZXIocj0+ci5pc0dyb3VwRE0oKSYmci5yZWNpcGllbnRzLmluY2x1ZGVzKGUuaWQpKS5tYXAocj0+byh5cyx7Y2xhc3NOYW1lOkNvLmxpc3RSb3csb25DbGljazooKT0+e3QoKSxyUC5zZWxlY3RQcml2YXRlQ2hhbm5lbChyLmlkKX19LG8odnMse3NyYzppUC5nZXRDaGFubmVsSWNvblVSTCh7aWQ6ci5pZCxpY29uOnIuaWNvbixzaXplOjMyfSksc2l6ZToiU0laRV80MCIsY2xhc3NOYW1lOkNvLmxpc3RBdmF0YXJ9KSxvKCJkaXYiLHtjbGFzc05hbWU6Q28ubGlzdFJvd0NvbnRlbnR9LG8oImRpdiIse2NsYXNzTmFtZTpDby5saXN0TmFtZX0sbFAocikpLG8oImRpdiIse2NsYXNzTmFtZTphUC5ndWlsZE5pY2t9LHIucmVjaXBpZW50cy5sZW5ndGgrMSwiIE1lbWJlcnMiKSkpKTtyZXR1cm4gbyhocyx7Y2xhc3NOYW1lOkNvLmxpc3RTY3JvbGxlcixmYWRlOiEwLG9uQ2xvc2U6dH0sbi5sZW5ndGg+MD9uOm8oImRpdiIse2NsYXNzTmFtZTpDby5lbXB0eX0sbygiZGl2Iix7Y2xhc3NOYW1lOkNvLmVtcHR5SWNvbkZyaWVuZHN9KSxvKCJkaXYiLHtjbGFzc05hbWU6Q28uZW1wdHlUZXh0fSwiTm8gZ3JvdXAgZG1zIGluIGNvbW1vbiIpKSl9fSl9KTt2YXIgY1AsV3AsQ3Y9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO0IoKTtjUD1JKCJnZXRSZWxhdGlvbnNoaXBzIiwiaXNCbG9ja2VkIiksV3A9dih7bmFtZToiTm9CbG9ja2VkTWVzc2FnZXMiLGRlc2NyaXB0aW9uOiJIaWRlcyBhbGwgYmxvY2tlZCBtZXNzYWdlcyBmcm9tIGNoYXQgY29tcGxldGVseS4iLGF1dGhvcnM6W2QucnVzaGlpLGQuU2FtdV0scGF0Y2hlczpbe2ZpbmQ6J3NhZmV0eV9wcm9tcHQ6IkRNU3BhbUV4cGVyaW1lbnQiLHJlc3BvbnNlOiJzaG93X3JlZGFjdGVkX21lc3NhZ2VzIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovXC5jb2xsYXBzZWRSZWFzb247cmV0dXJuLyxyZXBsYWNlOiIuY29sbGFwc2VkUmVhc29uO3JldHVybiBudWxsO3JldHVybjsifV19LC4uLlsnZGlzcGxheU5hbWU9Ik1lc3NhZ2VTdG9yZSInLCdkaXNwbGF5TmFtZT0iUmVhZFN0YXRlU3RvcmUiJ10ubWFwKGU9Pih7ZmluZDplLHByZWRpY2F0ZTooKT0+Ti5wbHVnaW5zLk5vQmxvY2tlZE1lc3NhZ2VzLmlnbm9yZUJsb2NrZWRNZXNzYWdlcz09PSEwLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1NRVNTQUdFX0NSRUFURTpmdW5jdGlvblwoKFxpKVwpeykvLHJlcGxhY2U6KHQsbik9PmBpZigkc2VsZi5pc0Jsb2NrZWQoJHtufS5tZXNzYWdlKSlyZXR1cm47YH1dfSkpXSxvcHRpb25zOntpZ25vcmVCbG9ja2VkTWVzc2FnZXM6e2Rlc2NyaXB0aW9uOiJDb21wbGV0ZWx5IGlnbm9yZXMgKHJlY2VudCkgaW5jb21pbmcgbWVzc2FnZXMgZnJvbSBibG9ja2VkIHVzZXJzIChsb2NhbGx5KS4iLHR5cGU6MyxkZWZhdWx0OiExLHJlc3RhcnROZWVkZWQ6ITB9fSxpc0Jsb2NrZWQ6ZT0+Y1AuaXNCbG9ja2VkKGUuYXV0aG9yLmlkKX0pfSk7dmFyIHFwLE52PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO3FwPXYoe25hbWU6Ik5vRGV2dG9vbHNXYXJuaW5nIixkZXNjcmlwdGlvbjoiRGlzYWJsZXMgdGhlICdIT0xEIFVQJyBiYW5uZXIgaW4gdGhlIGNvbnNvbGUuIEFzIGEgc2lkZSBlZmZlY3QsIGFsc28gcHJldmVudHMgRGlzY29yZCBmcm9tIGhpZGluZyB5b3VyIHRva2VuLCB3aGljaCBwcmV2ZW50cyByYW5kb20gbG9nb3V0cy4iLGF1dGhvcnM6W2QuVmVuXSxwYXRjaGVzOlt7ZmluZDoic2V0RGV2dG9vbHNDYWxsYmFja3MiLHJlcGxhY2VtZW50OnttYXRjaDovaWZcKC57MCwxMH1cfFx8IjAuMC4wIiE9PS57MCwyfVwucmVtb3RlQXBwXC5nZXRWZXJzaW9uXChcKVwpLyxyZXBsYWNlOiJpZihmYWxzZSkifX1dfSl9KTt2YXIgS3AsUnY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7S3A9dih7bmFtZToiTm9GMSIsZGVzY3JpcHRpb246IkRpc2FibGVzIEYxIGhlbHAgYmluZC4iLGF1dGhvcnM6W2QuQ3luXSxwYXRjaGVzOlt7ZmluZDonLCJmMSJdLGNvbWJvS2V5c0JpbmRHbG9iYWw6JyxyZXBsYWNlbWVudDp7bWF0Y2g6JywiZjEiXSxjb21ib0tleXNCaW5kR2xvYmFsOicscmVwbGFjZToiXSxjb21ib0tleXNCaW5kR2xvYmFsOiJ9fV19KX0pO3ZhciB1UCxJaSxZcCxrdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7QigpO3VQPUkoImdldE1lc3NhZ2VSZXF1ZXN0c0NvdW50IiksSWk9RSh7aGlkZUZyaWVuZFJlcXVlc3RzQ291bnQ6e3R5cGU6MyxkZXNjcmlwdGlvbjoiSGlkZSBpbmNvbWluZyBmcmllbmQgcmVxdWVzdHMgY291bnQiLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0saGlkZU1lc3NhZ2VSZXF1ZXN0c0NvdW50Ont0eXBlOjMsZGVzY3JpcHRpb246IkhpZGUgbWVzc2FnZSByZXF1ZXN0cyBjb3VudCIsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfSxoaWRlUHJlbWl1bU9mZmVyc0NvdW50Ont0eXBlOjMsZGVzY3JpcHRpb246IkhpZGUgbml0cm8gb2ZmZXJzIGNvdW50IixkZWZhdWx0OiEwLHJlc3RhcnROZWVkZWQ6ITB9fSksWXA9dih7bmFtZToiTm9QZW5kaW5nQ291bnQiLGRlc2NyaXB0aW9uOiJSZW1vdmVzIHRoZSBwaW5nIGNvdW50IG9mIGluY29taW5nIGZyaWVuZCByZXF1ZXN0cywgbWVzc2FnZSByZXF1ZXN0cywgYW5kIG5pdHJvIG9mZmVycy4iLGF1dGhvcnM6W2QuYW1pYV0sc2V0dGluZ3M6SWkscGF0Y2hlczpbe2ZpbmQ6Ii5nZXRQZW5kaW5nQ291bnQ9IixwcmVkaWNhdGU6KCk9PklpLnN0b3JlLmhpZGVGcmllbmRSZXF1ZXN0c0NvdW50LHJlcGxhY2VtZW50OnttYXRjaDovKD88PVwuZ2V0UGVuZGluZ0NvdW50PWZ1bmN0aW9uXChcKVx7KS8scmVwbGFjZToicmV0dXJuIDA7In19LHtmaW5kOiIuZ2V0TWVzc2FnZVJlcXVlc3RzQ291bnQ9IixwcmVkaWNhdGU6KCk9PklpLnN0b3JlLmhpZGVNZXNzYWdlUmVxdWVzdHNDb3VudCxyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1cLmdldE1lc3NhZ2VSZXF1ZXN0c0NvdW50PWZ1bmN0aW9uXChcKVx7KS8scmVwbGFjZToicmV0dXJuIDA7In19LHtmaW5kOiIuZ2V0U3BhbUNoYW5uZWxzQ291bnQoKSwiLHByZWRpY2F0ZTooKT0+SWkuc3RvcmUuaGlkZU1lc3NhZ2VSZXF1ZXN0c0NvdW50LHJlcGxhY2VtZW50OnttYXRjaDovKD88PWdldFNwYW1DaGFubmVsc0NvdW50XChcKSxcaT0pXGlcLmdldE1lc3NhZ2VSZXF1ZXN0c0NvdW50XChcKS8scmVwbGFjZToiJHNlbGYuZ2V0UmVhbE1lc3NhZ2VSZXF1ZXN0Q291bnQoKSJ9fSx7ZmluZDoic2hvd1Byb2dyZXNzQmFkZ2U6IixwcmVkaWNhdGU6KCk9PklpLnN0b3JlLmhpZGVQcmVtaXVtT2ZmZXJzQ291bnQscmVwbGFjZW1lbnQ6e21hdGNoOi9cKGZ1bmN0aW9uXChcKXtyZXR1cm4gXGlcLlxpXC5nZXRVbmFja25vd2xlZGdlZE9mZmVyc1woXGlcKVwubGVuZ3RofVwpLyxyZXBsYWNlOiIoZnVuY3Rpb24oKXtyZXR1cm4gMH0pIn19XSxnZXRSZWFsTWVzc2FnZVJlcXVlc3RDb3VudCgpe3JldHVybiB1UC5nZXRNZXNzYWdlUmVxdWVzdENoYW5uZWxJZHMoKS5zaXplfX0pfSk7dmFyIFpwLEF2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO1pwPXYoe25hbWU6Ik5vUHJvZmlsZVRoZW1lcyIsZGVzY3JpcHRpb246IkNvbXBsZXRlbHkgcmVtb3ZlcyBOaXRybyBwcm9maWxlIHRoZW1lcyIsYXV0aG9yczpbZC5UaGVLb2RlVG9hZF0scGF0Y2hlczpbe2ZpbmQ6Ii5OSVRST19CQU5ORVIsIixyZXBsYWNlbWVudDp7bWF0Y2g6Lz0oPz1caVwuXGlcLmlzUHJlbWl1bUF0TGVhc3RcKG51bGw9PShcaSkpLyxyZXBsYWNlOiI9JDE/LmJhbm5lciYmIn19LHtmaW5kOiIoKS5hdmF0YXJQb3NpdGlvblByZW1pdW1Ob0Jhbm5lcixkZWZhdWx0OiIscmVwbGFjZW1lbnQ6e21hdGNoOi9cLmF2YXRhclBvc2l0aW9uUHJlbWl1bU5vQmFubmVyKD89LGRlZmF1bHQ6XGlcKFwpXC4oXGkpKS8scmVwbGFjZToiLiQxIn19LHtmaW5kOiIuaGFzVGhlbWVDb2xvcnM9ZnVuY3Rpb24oKXsiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PWtleToiY2FuVXNlUHJlbWl1bVByb2ZpbGVDdXN0b21pemF0aW9uIixnZXQ6ZnVuY3Rpb25cKFwpe3JldHVybikvLHJlcGxhY2U6IiBmYWxzZTsifX1dfSl9KTt2YXIgYmEsWHAsTHY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO2JhPUUoe3VzZXJMaXN0OntkZXNjcmlwdGlvbjoiTGlzdCBvZiB1c2VycyB0byBhbGxvdyBvciBleGVtcHQgcGluZ3MgZm9yIChzZXBhcmF0ZWQgYnkgY29tbWFzIG9yIHNwYWNlcykiLHR5cGU6MCxkZWZhdWx0OiIxMjM0NTY3ODkwMTIzNDQ1LDEyMzQ1Njc4OTAxMjM0NDUifSxzaG91bGRQaW5nTGlzdGVkOntkZXNjcmlwdGlvbjoiQmVoYXZpb3VyIix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJEbyBub3QgcGluZyB0aGUgbGlzdGVkIHVzZXJzIix2YWx1ZTohMX0se2xhYmVsOiJPbmx5IHBpbmcgdGhlIGxpc3RlZCB1c2VycyIsdmFsdWU6ITAsZGVmYXVsdDohMH1dfSxpbnZlcnNlU2hpZnRSZXBseTp7ZGVzY3JpcHRpb246IkludmVydCBEaXNjb3JkJ3Mgc2hpZnQgcmVwbHlpbmcgYmVoYXZpb3VyIChlbmFibGUgdG8gbWFrZSBzaGlmdCByZXBseSBtZW50aW9uIHVzZXIpIix0eXBlOjMsZGVmYXVsdDohMX19KSxYcD12KHtuYW1lOiJOb1JlcGx5TWVudGlvbiIsZGVzY3JpcHRpb246IkRpc2FibGVzIHJlcGx5IHBpbmdzIGJ5IGRlZmF1bHQiLGF1dGhvcnM6W2QuRHVzdHlBbmdlbDQ3LGQuYXh5aWUsZC5weWxpeCxkLm91dGZveHhlZF0sc2V0dGluZ3M6YmEsc2hvdWxkTWVudGlvbihlLHQpe2xldCBuPWJhLnN0b3JlLnVzZXJMaXN0LmluY2x1ZGVzKGUuYXV0aG9yLmlkKSxyPWJhLnN0b3JlLnNob3VsZFBpbmdMaXN0ZWQ/bjohbjtyZXR1cm4gYmEuc3RvcmUuaW52ZXJzZVNoaWZ0UmVwbHk/dCE9PXI6IXQmJnJ9LHBhdGNoZXM6W3tmaW5kOicsIk1lc3NhZ2UiKX1mdW5jdGlvbicscmVwbGFjZW1lbnQ6e21hdGNoOi86KFxpKSxzaG91bGRNZW50aW9uOiEoXGkpXC5zaGlmdEtleS8scmVwbGFjZToiOiQxLHNob3VsZE1lbnRpb246JHNlbGYuc2hvdWxkTWVudGlvbigkMSwkMi5zaGlmdEtleSkifX1dfSl9KTt2YXIgSnAsRXY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7SnA9dih7bmFtZToiTm9TY3JlZW5zaGFyZVByZXZpZXciLGRlc2NyaXB0aW9uOiJEaXNhYmxlcyBzY3JlZW5zaGFyZSBwcmV2aWV3cyBmcm9tIGJlaW5nIHNlbnQuIixhdXRob3JzOltkLk51Y2t5el0scGF0Y2hlczpbe2ZpbmQ6JygiQXBwbGljYXRpb25TdHJlYW1QcmV2aWV3VXBsb2FkTWFuYWdlciIpJyxyZXBsYWNlbWVudDpbIlxcaVxcLmRlZmF1bHRcXC5tYWtlQ2h1bmtlZFJlcXVlc3RcXCgiLCJcXGlcXC5cXGlcXC5wb3N0XFwoe3VybDoiXS5tYXAoZT0+KHttYXRjaDpuZXcgUmVnRXhwKGAoPz1yZXR1cm5cXFsoXFxkKSwke2V9XFxpXFwuXFxpXFwuU1RSRUFNX1BSRVZJRVcuKz99XFwpXFxdOylgKSxyZXBsYWNlOih0LG4pPT5gcmV0dXJuWyR7bn0sUHJvbWlzZS5yZXNvbHZlKHtib2R5OiIiLHN0YXR1czoyMDR9KV07YH0pKX1dfSl9KTt2YXIgUXAsRHY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7UXA9dih7bmFtZToiTm9VbmJsb2NrVG9KdW1wIixkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byBqdW1wIHRvIG1lc3NhZ2VzIG9mIGJsb2NrZWQgdXNlcnMgd2l0aG91dCB1bmJsb2NraW5nIHRoZW0iLGF1dGhvcnM6W2QuZHpzaG5dLHBhdGNoZXM6W3tmaW5kOicuaWQsIlNlYXJjaCBSZXN1bHRzIicscmVwbGFjZW1lbnQ6e21hdGNoOi9pZlwoLnsxLDEwfVwpKC57MSwxMH1cLnNob3dcKHsuezEsNTB9VU5CTE9DS19UT19KVU1QX1RJVExFKS8scmVwbGFjZToiaWYoZmFsc2UpJDEifX0se2ZpbmQ6InJlbmRlckp1bXBCdXR0b249ZnVuY3Rpb24oKSIscmVwbGFjZW1lbnQ6e21hdGNoOi9pZlwoLnsxLDEwfVwpKC57MSwxMH1cLnNob3dcKHsuezEsNTB9VU5CTE9DS19UT19KVU1QX1RJVExFKS8scmVwbGFjZToiaWYoZmFsc2UpJDEifX0se2ZpbmQ6ImZsYXNoOiEwLHJldHVybk1lc3NhZ2VJZCIscmVwbGFjZW1lbnQ6e21hdGNoOi8uXD8oLnsxLDEwfVwuc2hvd1woey57MSw1MH1VTkJMT0NLX1RPX0pVTVBfVElUTEUpLyxyZXBsYWNlOiJmYWxzZT8kMSJ9fV19KX0pO3ZhciBWcCxPdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtWcD12KHtuYW1lOiJOU0ZXR2F0ZUJ5cGFzcyIsZGVzY3JpcHRpb246IkFsbG93cyB5b3UgdG8gYWNjZXNzIE5TRlcgY2hhbm5lbHMgd2l0aG91dCBzZXR0aW5nL3ZlcmlmeWluZyB5b3VyIGFnZSIsYXV0aG9yczpbZC5Db21tYW5kdGVjaG5vXSxwYXRjaGVzOlt7ZmluZDoiLm5zZndBbGxvd2VkPW51bGwiLHJlcGxhY2VtZW50OnttYXRjaDovKFx3KylcLm5zZndBbGxvd2VkPS8scmVwbGFjZToiJDEubnNmd0FsbG93ZWQ9dHJ1ZTsifX1dfSl9KTt2YXIgZWQsX3Y9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7ZWQ9dih7bmFtZToib25la28iLGRlc2NyaXB0aW9uOiJjYXQgZm9sbG93IG1vdXNlIChyZWFsKSIsYXV0aG9yczpbZC5WZW4sZC5hZHJ5ZF0sc3RhcnQoKXtmKCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRyeWQzMjUvb25la28uanMvNTk3NzE0NGRjZTgzZTRkNzFhZjFkZTAwNWQxNmUzOGVlYmViN2I3Mi9vbmVrby5qcyIpLnRoZW4oZT0+ZS50ZXh0KCkpLnRoZW4oZT0+ZS5yZXBsYWNlKCIuL29uZWtvLmdpZiIsImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHJ5ZDMyNS9vbmVrby5qcy8xNGJhYjE1YTc1NWQwZTM1Y2Q0YWUxOWM5MzFkOTZkMzA2Zjk5ZjQyL29uZWtvLmdpZiIpKS50aGVuKGV2YWwpfSxzdG9wKCl7Y2xlYXJJbnRlcnZhbCh1bnNhZmVXaW5kb3cub25la29JbnRlcnZhbCksZGVsZXRlIHVuc2FmZVdpbmRvdy5vbmVrb0ludGVydmFsLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbmVrbyIpPy5yZW1vdmUoKX19KX0pO3ZhciBwUCxkUCxtUCxlcix0ZCxCdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7TSgpO3BQPS9eaHR0cHM6XC9cL29wZW5cLnNwb3RpZnlcLmNvbVwvKHRyYWNrfGFsYnVtfGFydGlzdHxwbGF5bGlzdHx1c2VyKVwvKC4rKSg/Olw/Lis/KT8kLyxkUD0vXmh0dHBzOlwvXC8oc3RlYW1jb21tdW5pdHlcLmNvbXwoPzpoZWxwfHN0b3JlKVwuc3RlYW1wb3dlcmVkXC5jb20pXC8uKyQvLG1QPS9eaHR0cHM6XC9cL3N0b3JlXC5lcGljZ2FtZXNcLmNvbVwvKC4rKSQvLGVyPUUoe3Nwb3RpZnk6e3R5cGU6MyxkZXNjcmlwdGlvbjoiT3BlbiBTcG90aWZ5IGxpbmtzIGluIHRoZSBTcG90aWZ5IGFwcCIsZGVmYXVsdDohMH0sc3RlYW06e3R5cGU6MyxkZXNjcmlwdGlvbjoiT3BlbiBTdGVhbSBsaW5rcyBpbiB0aGUgU3RlYW0gYXBwIixkZWZhdWx0OiEwfSxlcGljOnt0eXBlOjMsZGVzY3JpcHRpb246Ik9wZW4gRXBpYyBHYW1lcyBsaW5rcyBpbiB0aGUgRXBpYyBHYW1lcyBMYXVuY2hlciIsZGVmYXVsdDohMH19KSx0ZD12KHtuYW1lOiJPcGVuSW5BcHAiLGRlc2NyaXB0aW9uOiJPcGVuIFNwb3RpZnksIFN0ZWFtIGFuZCBFcGljIEdhbWVzIFVSTHMgaW4gdGhlaXIgcmVzcGVjdGl2ZSBhcHBzIGluc3RlYWQgb2YgeW91ciBicm93c2VyIixhdXRob3JzOltkLlZlbl0sc2V0dGluZ3M6ZXIscGF0Y2hlczpbe2ZpbmQ6JyJNYXNrZWRMaW5rU3RvcmUiJyxyZXBsYWNlbWVudDp7bWF0Y2g6L3JldHVybiAoKFxpKVwuYXBwbHlcKHRoaXMsYXJndW1lbnRzXCkpKD89XH1mdW5jdGlvbiBcaS57MCwyMDB9XC50cnVzdGVkKS8scmVwbGFjZToicmV0dXJuICRzZWxmLmhhbmRsZUxpbmsoLi4uYXJndW1lbnRzKS50aGVuKGhhbmRsZWQgPT4gaGFuZGxlZCB8fCAkMSkifX0se2ZpbmQ6IldFQl9PUEVOKCIscHJlZGljYXRlOigpPT5lci5zdG9yZS5zcG90aWZ5LHJlcGxhY2VtZW50OnttYXRjaDovXGlcLlxpXC5pc1Byb3RvY29sUmVnaXN0ZXJlZFwoXCkoLnswLDEwMH0pd2luZG93Lm9wZW4vZyxyZXBsYWNlOiJ0cnVlJDFWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwifX0se2ZpbmQ6Ii5DT05ORUNURURfQUNDT1VOVF9WSUVXRUQsIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1ocmVmOlxpLG9uQ2xpY2s6ZnVuY3Rpb25cKFxpXClceykoPz1caT0oXGkpXC50eXBlLC57MCw1MH1DT05ORUNURURfQUNDT1VOVF9WSUVXRUQpLyxyZXBsYWNlOiIkc2VsZi5oYW5kbGVBY2NvdW50Vmlldyhhcmd1bWVudHNbMF0sJDEudHlwZSwkMS5pZCk7In19XSxhc3luYyBoYW5kbGVMaW5rKGUsdCl7aWYoIWUpcmV0dXJuITE7bGV0IG49ZS5ocmVmO2U6e2lmKCFlci5zdG9yZS5zcG90aWZ5KWJyZWFrIGU7bGV0IHI9cFAuZXhlYyhuKTtpZighcilicmVhayBlO2xldFssaSxzXT1yO3JldHVybiBWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoYHNwb3RpZnk6JHtpfToke3N9YCksdD8ucHJldmVudERlZmF1bHQoKSwhMH1lOntpZighZXIuc3RvcmUuc3RlYW18fCFkUC50ZXN0KG4pKWJyZWFrIGU7cmV0dXJuIFZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbChgc3RlYW06Ly9vcGVudXJsLyR7bn1gKSx0Py5wcmV2ZW50RGVmYXVsdCgpLHBvKCJPcGVuZWQgbGluayBpbiBTdGVhbSIsSy5UeXBlLlNVQ0NFU1MpLCEwfWU6e2lmKCFlci5zdG9yZS5lcGljKWJyZWFrIGU7bGV0IHI9bVAuZXhlYyhuKTtpZighcilicmVhayBlO3JldHVybiBWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoYGNvbS5lcGljZ2FtZXMubGF1bmNoZXI6Ly9zdG9yZS8ke3JbMV19YCksdD8ucHJldmVudERlZmF1bHQoKSwhMH1yZXR1cm4gdD8uZGVmYXVsdFByZXZlbnRlZD8odW5zYWZlV2luZG93Lm9wZW4obiwiX2JsYW5rIiksITApOiExfSxoYW5kbGVBY2NvdW50VmlldyhlLHQsbil7dD09PSJzcG90aWZ5IiYmZXIuc3RvcmUuc3BvdGlmeT8oVmVuY29yZE5hdGl2ZS5uYXRpdmUub3BlbkV4dGVybmFsKGBzcG90aWZ5OnVzZXI6JHtufWApLGUucHJldmVudERlZmF1bHQoKSk6dD09PSJzdGVhbSImJmVyLnN0b3JlLnN0ZWFtJiYoVmVuY29yZE5hdGl2ZS5uYXRpdmUub3BlbkV4dGVybmFsKGBzdGVhbTovL29wZW51cmwvaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vcHJvZmlsZXMvJHtufWApLHBvKCJPcGVuZWQgbGluayBpbiBTdGVhbSIsSy5UeXBlLlNVQ0NFU1MpLGUucHJldmVudERlZmF1bHQoKSl9fSl9KTtmdW5jdGlvbiAkdihlKXtPYmplY3QuYXNzaWduKFV2Ll9fZ2V0TG9jYWxWYXJzKCkuc3RhdGUse2VuYWJsZWQ6ZSxzZXR0aW5nc1Zpc2libGU6ZX0pfWZ1bmN0aW9uIEd2KGUpe2xldCB0PXtzY3JlZW5zaGFrZUVuYWJsZWRMb2NhdGlvbnM6ezA6ITAsMTohMCwyOiEwfSxzaGFrZUludGVuc2l0eToxLGNvbmZldHRpU2l6ZToxNixjb25mZXR0aUNvdW50OjUsY29tYm9zUmVxdWlyZWRDb3VudDoxfTtzd2l0Y2goZSl7Y2FzZSAwOntPYmplY3QuYXNzaWduKHQse3NjcmVlbnNoYWtlRW5hYmxlZExvY2F0aW9uczp7MDohMCwxOiExLDI6ITF9LGNvbWJvc1JlcXVpcmVkQ291bnQ6NX0pO2JyZWFrfWNhc2UgMTp7T2JqZWN0LmFzc2lnbih0LHtjb25mZXR0aVNpemU6MTIsY29uZmV0dGlDb3VudDo4fSk7YnJlYWt9Y2FzZSAyOntPYmplY3QuYXNzaWduKHQse3NoYWtlSW50ZW5zaXR5OjIwLGNvbmZldHRpU2l6ZToyNSxjb25mZXR0aUNvdW50OjE1fSk7YnJlYWt9fU9iamVjdC5hc3NpZ24oVXYuX19nZXRMb2NhbFZhcnMoKS5zdGF0ZSx0KX12YXIgVXYsRnYsbmQsSHY9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO0IoKTtVdj1sZSgiUG9nZ2VybW9kZVNldHRpbmdzU3RvcmUiKSxGdj1FKHtzdXBlckludGVuc2VQYXJ0eU1vZGU6e2Rlc2NyaXB0aW9uOiJQYXJ0eSBpbnRlbnNpdHkiLHR5cGU6NCxvcHRpb25zOlt7bGFiZWw6Ik5vcm1hbCIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IkJldHRlciIsdmFsdWU6MX0se2xhYmVsOiJQcm9qZWN0IFgiLHZhbHVlOjJ9XSxyZXN0YXJ0TmVlZGVkOiExLG9uQ2hhbmdlOkd2fX0pLG5kPXYoe25hbWU6IlBhcnR5IG1vZGUgXHV7MUYzODl9IixkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byB1c2UgcGFydHkgbW9kZSBjYXVzZSB0aGUgcGFydHkgbmV2ZXIgZW5kcyBcdTI3MjgiLGF1dGhvcnM6W2QuVXdVRGV2XSxzZXR0aW5nczpGdixzdGFydCgpeyR2KCEwKSxHdihGdi5zdG9yZS5zdXBlckludGVuc2VQYXJ0eU1vZGUpfSxzdG9wKCl7JHYoITEpfX0pfSk7dmFyIHp2PWcoKCk9Pnt9KTtmdW5jdGlvbiBmUChlKXtyZXR1cm4gWW4oZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCJfIikpfWZ1bmN0aW9uIFRhKGUpe3JldHVybiBlPWp2W2VdfHxlLGN0Lk1lc3NhZ2VzW2VdfHxmUChlKX1mdW5jdGlvbiBXdihlKXtlPT09IlVTRV9BUFBMSUNBVElPTl9DT01NQU5EUyI/ZT0iVVNFX0FQUExJQ0FUSU9OX0NPTU1BTkRTX0dVSUxEIjplPT09IlNFTkRfVk9JQ0VfTUVTU0FHRVMiP2U9IlNFTkRfVk9JQ0VfTUVTU0FHRV9HVUlMRCI6ZSE9PSJTVFJFQU0iJiYoZT1qdltlXXx8ZSk7bGV0IHQ9Y3QuTWVzc2FnZXNbYFJPTEVfUEVSTUlTU0lPTlNfJHtlfV9ERVNDUklQVElPTmBdO3JldHVybiB0Py5oYXNNYXJrZG93bj9rZS5wYXJzZSh0Lm1lc3NhZ2UpOnR5cGVvZiB0PT0ic3RyaW5nIj90OiIifWZ1bmN0aW9uIHhhKHtyb2xlczplLGlkOnR9LG4pe3JldHVyblsuLi5uLnJvbGVzLHRdLm1hcChyPT5lW3JdKS5zb3J0KChyLGkpPT5pLnBvc2l0aW9uLXIucG9zaXRpb24pfWZ1bmN0aW9uIHF2KGUpe3N3aXRjaChOby5zdG9yZS5wZXJtaXNzaW9uc1NvcnRPcmRlcil7Y2FzZSAwOnJldHVybiBlLnNvcnQoKHQsbik9Pm4ucG9zaXRpb24tdC5wb3NpdGlvbik7Y2FzZSAxOnJldHVybiBlLnNvcnQoKHQsbik9PnQucG9zaXRpb24tbi5wb3NpdGlvbik7ZGVmYXVsdDpyZXR1cm4gZX19ZnVuY3Rpb24gd2EoZSx0KXtsZXQgbj1tZS5nZXRHdWlsZCh0KTtyZXR1cm4gZS5zb3J0KChyLGkpPT57aWYoci50eXBlIT09MHx8aS50eXBlIT09MClyZXR1cm4gMDtsZXQgcz1uLnJvbGVzW3IuaWRdO3JldHVybiBuLnJvbGVzW2kuaWRdLnBvc2l0aW9uLXMucG9zaXRpb259KX12YXIgTHQsanYsQ2k9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0hlKCk7Wm4oKTtNKCk7UmkoKTtOaSgpO0x0PUxlKCJ2Yy1wZXJtdmlld2VyLSIpO2p2PXtNQU5BR0VfR1VJTEQ6Ik1BTkFHRV9TRVJWRVIiLE1BTkFHRV9HVUlMRF9FWFBSRVNTSU9OUzoiTUFOQUdFX0VYUFJFU1NJT05TIixDUkVBVEVfR1VJTERfRVhQUkVTU0lPTlM6IkNSRUFURV9FWFBSRVNTSU9OUyIsTU9ERVJBVEVfTUVNQkVSUzoiTU9ERVJBVEVfTUVNQkVSIixTVFJFQU06IlZJREVPIixTRU5EX1ZPSUNFX01FU1NBR0VTOiJST0xFX1BFUk1JU1NJT05TX1NFTkRfVk9JQ0VfTUVTU0FHRSJ9fSk7ZnVuY3Rpb24gb2QoKXtyZXR1cm4gbygic3ZnIix7aGVpZ2h0OiIyNCIsd2lkdGg6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJ0aXRsZSIsbnVsbCwiRGVuaWVkIiksbygicGF0aCIse2ZpbGw6InZhcigtLXN0YXR1cy1kYW5nZXIpIixkOiJNMTguNCA0TDEyIDEwLjRMNS42IDRMNCA1LjZMMTAuNCAxMkw0IDE4LjRMNS42IDIwTDEyIDEzLjZMMTguNCAyMEwyMCAxOC40TDEzLjYgMTJMMjAgNS42TDE4LjQgNFoifSkpfWZ1bmN0aW9uIHJkKCl7cmV0dXJuIG8oInN2ZyIse2hlaWdodDoiMjQiLHdpZHRoOiIyNCIsdmlld0JveDoiMCAwIDI0IDI0In0sbygidGl0bGUiLG51bGwsIkFsbG93ZWQiKSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tdGV4dC1wb3NpdGl2ZSkiLGQ6Ik04Ljk5OTkxIDE2LjE3TDQuODI5OTEgMTJMMy40MDk5MSAxMy40MUw4Ljk5OTkxIDE5TDIwLjk5OTkgNy4wMDAwM0wxOS41ODk5IDUuNTkwMDNMOC45OTk5MSAxNi4xN1paIn0pKX1mdW5jdGlvbiBZdigpe3JldHVybiBvKCJzdmciLHtoZWlnaHQ6IjI0Iix3aWR0aDoiMjQiLHZpZXdCb3g6IjAgMCAxNiAxNiJ9LG8oImciLG51bGwsbygidGl0bGUiLG51bGwsIk5vdCBvdmVyd3JpdHRlbiIpLG8oInBvbHlnb24iLHtmaWxsOiJ2YXIoLS10ZXh0LW5vcm1hbCkiLHBvaW50czoiMTIgMi4zMiAxMC41MTMgMiA0IDEzLjY4IDUuNDg3IDE0In0pKSl9dmFyIFp2PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2Z1bmN0aW9uIGhQKGUsdCxuKXtyZXR1cm4gTWUocj0+byhTUCx7bW9kYWxQcm9wczpyLHBlcm1pc3Npb25zOmUsZ3VpbGQ6dCxoZWFkZXI6bn0pKX1mdW5jdGlvbiB5UCh7cGVybWlzc2lvbnM6ZSxndWlsZDp0LG1vZGFsUHJvcHM6bixoZWFkZXI6cn0pe2Uuc29ydCgodSxwKT0+dS50eXBlLXAudHlwZSksV2UoW19lXSwoKT0+X2UuZ2V0TWVtYmVySWRzKHQuaWQpLG51bGwsKHUscCk9PnUubGVuZ3RoPT09cC5sZW5ndGgpLEdlKCgpPT57bGV0IHU9ZS5maWx0ZXIocD0+cC50eXBlPT09MSYmIV9lLmlzTWVtYmVyKHQuaWQscC5pZCkpLm1hcCgoe2lkOnB9KT0+cCk7Xy5kaXNwYXRjaCh7dHlwZToiR1VJTERfTUVNQkVSU19SRVFVRVNUIixndWlsZElkczpbdC5pZF0sdXNlcklkczp1fSl9LFtdKTtsZXRbaSxzXT1XKDApLGM9ZVtpXTtyZXR1cm4gbyhBZSx7Li4ubixzaXplOiJsYXJnZSJ9LG8oQmUsbnVsbCxvKHRlLHtjbGFzc05hbWU6THQoInBlcm1zLXRpdGxlIiksdmFyaWFudDoiaGVhZGluZy1sZy9zZW1pYm9sZCJ9LHIsIiBwZXJtaXNzaW9uczoiKSxvKEN0LHtvbkNsaWNrOm4ub25DbG9zZX0pKSxvKEZlLG51bGwsIWMmJm8oImRpdiIse2NsYXNzTmFtZTpMdCgicGVybXMtbm8tcGVybXMiKX0sbyh0ZSx7dmFyaWFudDoiaGVhZGluZy1sZy9ub3JtYWwifSwiTm8gcGVybWlzc2lvbnMgdG8gZGlzcGxheSEiKSksYyYmbygiZGl2Iix7Y2xhc3NOYW1lOkx0KCJwZXJtcy1jb250YWluZXIiKX0sbygiZGl2Iix7Y2xhc3NOYW1lOkx0KCJwZXJtcy1saXN0Iil9LGUubWFwKCh1LHApPT57bGV0IHk9Ry5nZXRVc2VyKHUuaWQ/PyIiKSxoPXQucm9sZXNbdS5pZD8/IiJdO3JldHVybiBvKCJidXR0b24iLHtjbGFzc05hbWU6THQoInBlcm1zLWxpc3QtaXRlbS1idG4iKSxvbkNsaWNrOigpPT5zKHApfSxvKCJkaXYiLHtjbGFzc05hbWU6THQoInBlcm1zLWxpc3QtaXRlbSIseyJwZXJtcy1saXN0LWl0ZW0tYWN0aXZlIjppPT09cH0pLG9uQ29udGV4dE1lbnU6Uz0+e05vLnN0b3JlLnVuc2FmZVZpZXdBc1JvbGUmJnUudHlwZT09PTAmJmRuLm9wZW4oUywoKT0+byh2UCx7Z3VpbGQ6dCxyb2xlSWQ6dS5pZCxvbkNsb3NlOm4ub25DbG9zZX0pKX19LCh1LnR5cGU9PT0wfHx1LnR5cGU9PT0yKSYmbygic3BhbiIse2NsYXNzTmFtZTpMdCgicGVybXMtcm9sZS1jaXJjbGUiKSxzdHlsZTp7YmFja2dyb3VuZENvbG9yOmg/LmNvbG9yU3RyaW5nPz8idmFyKC0tcHJpbWFyeS0zMDApIn19KSx1LnR5cGU9PT0xJiZ5IT09dm9pZCAwJiZvKCJpbWciLHtjbGFzc05hbWU6THQoInBlcm1zLXVzZXItaW1nIiksc3JjOnkuZ2V0QXZhdGFyVVJMKHZvaWQgMCx2b2lkIDAsITEpfSksbyh0ZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSx1LnR5cGU9PT0wP2g/Lm5hbWV8fCJVbmtub3duIFJvbGUiOnUudHlwZT09PTE/eSYmS24oeSl8fCJVbmtub3duIFVzZXIiOm8oY2Use3N0eWxlOntnYXA6IjAuMmVtIixqdXN0aWZ5SXRlbXM6ImNlbnRlciJ9fSwiQG93bmVyIixvKEl5LHtoZWlnaHQ6MTgsd2lkdGg6MTgsImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KSkpKSl9KSksbygiZGl2Iix7Y2xhc3NOYW1lOkx0KCJwZXJtcy1wZXJtcyIpfSxPYmplY3QuZW50cmllcyhLdCkubWFwKChbdSxwXSk9Pm8oImRpdiIse2NsYXNzTmFtZTpMdCgicGVybXMtcGVybXMtaXRlbSIpfSxvKCJkaXYiLHtjbGFzc05hbWU6THQoInBlcm1zLXBlcm1zLWl0ZW0taWNvbiIpfSwoKCk9PntsZXR7cGVybWlzc2lvbnM6eSxvdmVyd3JpdGVBbGxvdzpoLG92ZXJ3cml0ZURlbnk6U309YztyZXR1cm4geT8oeSZwKT09PXA/cmQoKTpvZCgpOmgmJihoJnApPT09cD9yZCgpOlMmJihTJnApPT09cD9vZCgpOll2KCl9KSgpKSxvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LFRhKHUpKSxvKFose3RleHQ6V3YodSl8fCJObyBEZXNjcmlwdGlvbiJ9LHk9Pm8oUHksey4uLnl9KSkpKSkpKSl9ZnVuY3Rpb24gdlAoe2d1aWxkOmUscm9sZUlkOnQsb25DbG9zZTpufSl7cmV0dXJuIG8oTy5NZW51LHtuYXZJZDpMdCgicm9sZS1jb250ZXh0LW1lbnUiKSxvbkNsb3NlOmRuLmNsb3NlLCJhcmlhLWxhYmVsIjoiUm9sZSBPcHRpb25zIn0sbyhPLk1lbnVJdGVtLHtpZDoidmMtcHctdmlldy1hcy1yb2xlIixsYWJlbDoiVmlldyBBcyBSb2xlIixhY3Rpb246KCk9PntsZXQgcj1lLnJvbGVzW3RdOyFyfHwobigpLF8uZGlzcGF0Y2goe3R5cGU6IklNUEVSU09OQVRFX1VQREFURSIsZ3VpbGRJZDplLmlkLGRhdGE6e3R5cGU6IlJPTEVTIixyb2xlczp7W3RdOnJ9fX0pKX19KSl9dmFyIFNQLHdyLE5pPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO3Z0KCk7eG4oKTtzdCgpO0tlKCk7TSgpO1JpKCk7Q2koKTtadigpO1NQPUQud3JhcCh5UCksd3I9aFB9KTt2YXIgWHY9ZygoKT0+e30pO2Z1bmN0aW9uIGtpKHtjaGlsZHJlbjplLG9uTW9yZUNsaWNrOnQsYnV0dG9uczpuLG1vcmVUb29sdGlwVGV4dDpyLGRlZmF1bHRTdGF0ZTppPSExLG9uRHJvcERvd25DbGljazpzLGhlYWRlclRleHQ6Y30pe2xldFt1LHBdPVcoaSk7cmV0dXJuIG8obSxudWxsLG8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJmbGV4IixqdXN0aWZ5Q29udGVudDoic3BhY2UtYmV0d2VlbiIsYWxpZ25JdGVtczoiY2VudGVyIixtYXJnaW5Cb3R0b206IjhweCJ9fSxvKHRlLHt0YWc6ImgyIix2YXJpYW50OiJleWVicm93IixzdHlsZTp7Y29sb3I6InZhcigtLWhlYWRlci1wcmltYXJ5KSIsZGlzcGxheToiaW5saW5lIn19LGMpLG8oImRpdiIse2NsYXNzTmFtZTppZCgiY2VudGVyLWZsZXgiKX0sbj8/bnVsbCx0JiZvKFose3RleHQ6cn0seT0+bygiYnV0dG9uIix7Li4ueSxjbGFzc05hbWU6aWQoImJ0biIpLG9uQ2xpY2s6dH0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tdGV4dC1ub3JtYWwpIixkOiJNNyAxMi4wMDFDNyAxMC44OTY0IDYuMTA0NTcgMTAuMDAxIDUgMTAuMDAxQzMuODk1NDMgMTAuMDAxIDMgMTAuODk2NCAzIDEyLjAwMUMzIDEzLjEwNTUgMy44OTU0MyAxNC4wMDEgNSAxNC4wMDFDNi4xMDQ1NyAxNC4wMDEgNyAxMy4xMDU1IDcgMTIuMDAxWk0xNCAxMi4wMDFDMTQgMTAuODk2NCAxMy4xMDQ2IDEwLjAwMSAxMiAxMC4wMDFDMTAuODk1NCAxMC4wMDEgMTAgMTAuODk2NCAxMCAxMi4wMDFDMTAgMTMuMTA1NSAxMC44OTU0IDE0LjAwMSAxMiAxNC4wMDFDMTMuMTA0NiAxNC4wMDEgMTQgMTMuMTA1NSAxNCAxMi4wMDFaTTE5IDEwLjAwMUMyMC4xMDQ2IDEwLjAwMSAyMSAxMC44OTY0IDIxIDEyLjAwMUMyMSAxMy4xMDU1IDIwLjEwNDYgMTQuMDAxIDE5IDE0LjAwMUMxNy44OTU0IDE0LjAwMSAxNyAxMy4xMDU1IDE3IDEyLjAwMUMxNyAxMC44OTY0IDE3Ljg5NTQgMTAuMDAxIDE5IDEwLjAwMVoifSkpKSksbyhaLHt0ZXh0OnU/IkhpZGUgIitjOiJTaG93ICIrY30seT0+bygiYnV0dG9uIix7Li4ueSxjbGFzc05hbWU6aWQoImJ0biIpLG9uQ2xpY2s6KCk9PntwKGg9PiFoKSxzPy4odSl9fSxvKCJzdmciLHt3aWR0aDoiMjQiLGhlaWdodDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCIsdHJhbnNmb3JtOnU/InNjYWxlKDEgLTEpIjoic2NhbGUoMSAxKSJ9LG8oInBhdGgiLHtmaWxsOiJ2YXIoLS10ZXh0LW5vcm1hbCkiLGQ6Ik0xNi41OSA4LjU5MDAzTDEyIDEzLjE3TDcuNDEgOC41OTAwM0w2IDEwTDEyIDE2TDE4IDEwTDE2LjU5IDguNTkwMDNaIn0pKSkpKSksdSYmZSl9dmFyIGlkLHNkPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtIZSgpO00oKTtYdigpO2lkPUxlKCJ2Yy1leHBhbmRhYmxlaGVhZGVyLSIpfSk7ZnVuY3Rpb24gVFAoe2d1aWxkOmUsZ3VpbGRNZW1iZXI6dH0pe2xldCBuPU5vLnVzZShbInBlcm1pc3Npb25zU29ydE9yZGVyIl0pLFtyLGldPU10KCgpPT57bGV0IEw9W10sQz14YShlLHQpLGs9Qy5tYXAoVT0+KHt0eXBlOjAsLi4uVX0pKTtpZihlLm93bmVySWQ9PT10LnVzZXJJZCl7ay5wdXNoKHt0eXBlOjIscGVybWlzc2lvbnM6T2JqZWN0LnZhbHVlcyhLdCkucmVkdWNlKCgkLFgpPT4kfFgsMG4pfSk7bGV0IFU9Y3QuTWVzc2FnZXMuR1VJTERfT1dORVJ8fCJTZXJ2ZXIgT3duZXIiO0wucHVzaCh7cGVybWlzc2lvbjpVLHJvbGVDb2xvcjoidmFyKC0tcHJpbWFyeS0zMDApIixyb2xlUG9zaXRpb246MS8wfSl9cXYoQyk7Zm9yKGxldFtVLCRdb2YgT2JqZWN0LmVudHJpZXMoS3QpKWZvcihsZXR7cGVybWlzc2lvbnM6WCxjb2xvclN0cmluZzpuZSxwb3NpdGlvbjpZLG5hbWU6cX1vZiBDKWlmKChYJiQpPT09JCl7TC5wdXNoKHtwZXJtaXNzaW9uOlRhKFUpLHJvbGVDb2xvcjpuZXx8InZhcigtLXByaW1hcnktMzAwKSIscm9sZVBvc2l0aW9uOll9KTticmVha31yZXR1cm4gTC5zb3J0KChVLCQpPT4kLnJvbGVQb3NpdGlvbi1VLnJvbGVQb3NpdGlvbiksW2ssTF19LFtuLnBlcm1pc3Npb25zU29ydE9yZGVyXSkse3Jvb3Q6cyxyb2xlOmMscm9sZVJlbW92ZUJ1dHRvbjp1LHJvbGVOYW1lT3ZlcmZsb3c6cCxyb2xlczp5LHJvbGVQaWxsOmgscm9sZVBpbGxCb3JkZXI6Uyxyb2xlQ2lyY2xlOlQscm9sZU5hbWU6d309YlA7cmV0dXJuIG8oa2kse2hlYWRlclRleHQ6IlBlcm1pc3Npb25zIixtb3JlVG9vbHRpcFRleHQ6IlJvbGUgRGV0YWlscyIsb25Nb3JlQ2xpY2s6KCk9PndyKHIsZSx0Lm5pY2t8fEcuZ2V0VXNlcih0LnVzZXJJZCkudXNlcm5hbWUpLGRlZmF1bHRTdGF0ZTpOby5zdG9yZS5kZWZhdWx0UGVybWlzc2lvbnNEcm9wZG93blN0YXRlLGJ1dHRvbnM6W28oWix7dGV4dDpgU29ydGluZyBieSAke24ucGVybWlzc2lvbnNTb3J0T3JkZXI9PT0wPyJIaWdoZXN0IFJvbGUiOiJMb3dlc3QgUm9sZSJ9YH0sTD0+bygiYnV0dG9uIix7Li4uTCxjbGFzc05hbWU6THQoInVzZXJwZXJtcy1zb3J0b3JkZXItYnRuIiksb25DbGljazooKT0+e24ucGVybWlzc2lvbnNTb3J0T3JkZXI9bi5wZXJtaXNzaW9uc1NvcnRPcmRlcj09PTA/MTowfX0sbygic3ZnIix7d2lkdGg6IjIwIixoZWlnaHQ6IjIwIix2aWV3Qm94OiIwIDk2IDk2MCA5NjAiLHRyYW5zZm9ybTpuLnBlcm1pc3Npb25zU29ydE9yZGVyPT09MD8ic2NhbGUoMSAxKSI6InNjYWxlKDEgLTEpIn0sbygicGF0aCIse2ZpbGw6InZhcigtLXRleHQtbm9ybWFsKSIsZDoiTTQ0MCA4OTZWNDA5TDIxNiA2MzNsLTU2LTU3IDMyMC0zMjAgMzIwIDMyMC01NiA1Ny0yMjQtMjI0djQ4N2gtODBaIn0pKSkpXX0saS5sZW5ndGg+MCYmbygiZGl2Iix7Y2xhc3NOYW1lOmVlKHMseSl9LGkubWFwKCh7cGVybWlzc2lvbjpMLHJvbGVDb2xvcjpDfSk9Pm8oImRpdiIse2NsYXNzTmFtZTplZShjLGgsUyl9LG8oImRpdiIse2NsYXNzTmFtZTp1fSxvKCJzcGFuIix7Y2xhc3NOYW1lOlQsc3R5bGU6e2JhY2tncm91bmRDb2xvcjpDfX0pKSxvKCJkaXYiLHtjbGFzc05hbWU6d30sbyh0ZSx7Y2xhc3NOYW1lOnAsdmFyaWFudDoidGV4dC14cy9tZWRpdW0ifSxMKSkpKSkpfXZhciBiUCxKdixRdj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTtzZCgpO2NuKCk7eWUoKTtCKCk7TSgpO1JpKCk7Q2koKTtOaSgpO2JQPWZ0KCgpPT57bGV0IGU9VXIoSi5ieVByb3BzKCJyb2xlcyIsInJvbGVQaWxsIiwicm9sZVBpbGxCb3JkZXIiKSxKLmJ5UHJvcHMoInJvbGVDaXJjbGUiLCJkb3RCb3JkZXJCYXNlIiwiZG90Qm9yZGVyQ29sb3IiKSxKLmJ5UHJvcHMoInJvbGVOYW1lT3ZlcmZsb3ciLCJyb290Iiwicm9sZU5hbWUiLCJyb2xlUmVtb3ZlQnV0dG9uIikpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LC4uLmUpfSk7SnY9RC53cmFwKFRQLHtub29wOiEwfSl9KTtmdW5jdGlvbiBhZChlLHQsbil7cmV0dXJuIG49PT0wJiYhX2UuaXNNZW1iZXIoZSx0KT9udWxsOm8oTy5NZW51SXRlbSx7aWQ6InBlcm0tdmlld2VyLXBlcm1pc3Npb25zIixsYWJlbDoiUGVybWlzc2lvbnMiLGFjdGlvbjooKT0+e2xldCByPW1lLmdldEd1aWxkKGUpLGkscztzd2l0Y2gobil7Y2FzZSAwOntsZXQgYz1fZS5nZXRNZW1iZXIoZSx0KTtpPXhhKHIsYykubWFwKHU9Pih7dHlwZTowLC4uLnV9KSksci5vd25lcklkPT09dCYmaS5wdXNoKHt0eXBlOjIscGVybWlzc2lvbnM6T2JqZWN0LnZhbHVlcyhLdCkucmVkdWNlKCh1LHApPT51fHAsMG4pfSkscz1jLm5pY2s/P0cuZ2V0VXNlcihjLnVzZXJJZCkudXNlcm5hbWU7YnJlYWt9Y2FzZSAxOntsZXQgYz1WLmdldENoYW5uZWwodCk7aT13YShPYmplY3QudmFsdWVzKGMucGVybWlzc2lvbk92ZXJ3cml0ZXMpLm1hcCgoe2lkOnUsYWxsb3c6cCxkZW55OnksdHlwZTpofSk9Pih7dHlwZTpoLGlkOnUsb3ZlcndyaXRlQWxsb3c6cCxvdmVyd3JpdGVEZW55Onl9KSksZSkscz1jLm5hbWU7YnJlYWt9ZGVmYXVsdDp7aT1PYmplY3QudmFsdWVzKHIucm9sZXMpLm1hcChjPT4oe3R5cGU6MCwuLi5jfSkpLHM9ci5uYW1lO2JyZWFrfX13cihpLHIscyl9fSl9ZnVuY3Rpb24gbGQoZSx0KXtyZXR1cm4obixyKT0+KCk9PntpZighcilyZXR1cm4gbjtsZXQgaT1hdChlLG4pLHM9KCgpPT57c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gYWQoci5ndWlsZElkLHIudXNlci5pZCx0KTtjYXNlIDE6cmV0dXJuIGFkKHIuZ3VpbGQuaWQsci5jaGFubmVsLmlkLHQpO2Nhc2UgMjpyZXR1cm4gYWQoci5ndWlsZC5pZCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KSgpO3MhPW51bGwmJihpP2kucHVzaChzKTplPT09InJvbGVzIiYmci5ndWlsZElkJiZuLnNwbGljZSgtMSwwLG8oTy5NZW51R3JvdXAsbnVsbCxzKSkpfX12YXIgTm8sY2QsUmk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3p2KCk7U3QoKTtGKCk7UCgpO3goKTtNKCk7TmkoKTtRdigpO0NpKCk7Tm89RSh7cGVybWlzc2lvbnNTb3J0T3JkZXI6e2Rlc2NyaXB0aW9uOiJUaGUgc29ydCBtZXRob2QgdXNlZCBmb3IgZGVmaW5pbmcgd2hpY2ggcm9sZSBncmFudHMgYW4gdXNlciBhIGNlcnRhaW4gcGVybWlzc2lvbiIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiSGlnaGVzdCBSb2xlIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiTG93ZXN0IFJvbGUiLHZhbHVlOjF9XX0sZGVmYXVsdFBlcm1pc3Npb25zRHJvcGRvd25TdGF0ZTp7ZGVzY3JpcHRpb246IldoZXRoZXIgdGhlIHBlcm1pc3Npb25zIGRyb3Bkb3duIG9uIHVzZXIgcG9wb3V0cyBzaG91bGQgYmUgb3BlbiBieSBkZWZhdWx0Iix0eXBlOjMsZGVmYXVsdDohMX19KTtjZD12KHtuYW1lOiJQZXJtaXNzaW9uc1ZpZXdlciIsZGVzY3JpcHRpb246IlZpZXcgdGhlIHBlcm1pc3Npb25zIGEgdXNlciBvciBjaGFubmVsIGhhcywgYW5kIHRoZSByb2xlcyBvZiBhIHNlcnZlciIsYXV0aG9yczpbZC5OdWNreXosZC5WZW5dLHNldHRpbmdzOk5vLHBhdGNoZXM6W3tmaW5kOiIuTWVzc2FnZXMuQk9UX1BST0ZJTEVfU0xBU0hfQ09NTUFORFMiLHJlcGxhY2VtZW50OnttYXRjaDovc2hvd0JvcmRlcjouezAsNjB9fVwpLCg/PD1ndWlsZDooXGkpLGd1aWxkTWVtYmVyOihcaSksLis/KS8scmVwbGFjZTooZSx0LG4pPT5gJHtlfSRzZWxmLlVzZXJQZXJtaXNzaW9ucygke3R9LCR7bn0pLGB9fV0sVXNlclBlcm1pc3Npb25zOihlLHQpPT4hIXQmJm8oSnYse2d1aWxkOmUsZ3VpbGRNZW1iZXI6dH0pLHVzZXJDb250ZXh0TWVudVBhdGNoOmxkKCJyb2xlcyIsMCksY2hhbm5lbENvbnRleHRNZW51UGF0Y2g6bGQoWyJtdXRlLWNoYW5uZWwiLCJ1bm11dGUtY2hhbm5lbCJdLDEpLGd1aWxkQ29udGV4dE1lbnVQYXRjaDpsZCgicHJpdmFjeSIsMiksc3RhcnQoKXtwZSgidXNlci1jb250ZXh0Iix0aGlzLnVzZXJDb250ZXh0TWVudVBhdGNoKSxwZSgiY2hhbm5lbC1jb250ZXh0Iix0aGlzLmNoYW5uZWxDb250ZXh0TWVudVBhdGNoKSxwZSgiZ3VpbGQtY29udGV4dCIsdGhpcy5ndWlsZENvbnRleHRNZW51UGF0Y2gpfSxzdG9wKCl7ZmUoInVzZXItY29udGV4dCIsdGhpcy51c2VyQ29udGV4dE1lbnVQYXRjaCksZmUoImNoYW5uZWwtY29udGV4dCIsdGhpcy5jaGFubmVsQ29udGV4dE1lbnVQYXRjaCksZmUoImd1aWxkLWNvbnRleHQiLHRoaXMuZ3VpbGRDb250ZXh0TWVudVBhdGNoKX19KX0pO2Z1bmN0aW9uIGVTKGUpe2xldCB0PWUgaW5zdGFuY2VvZiBGaWxlLG49dD9VUkwuY3JlYXRlT2JqZWN0VVJMKGUpOmU7cmV0dXJuIG5ldyBQcm9taXNlKChyLGkpPT57bGV0IHM9bmV3IEltYWdlO3Mub25sb2FkPSgpPT57dCYmVVJMLnJldm9rZU9iamVjdFVSTChuKSxyKHMpfSxzLm9uZXJyb3I9KGMsdSxwLHksaCk9PmkoaHx8Yykscy5jcm9zc09yaWdpbj0iQW5vbnltb3VzIixzLnNyYz1ufSl9YXN5bmMgZnVuY3Rpb24gTlAoZSx0LG4pe2ZvcihsZXQgciBvZiBlKXN3aXRjaChyLm5hbWUpe2Nhc2UiaW1hZ2UiOmxldCBpPUNQLmdldFVwbG9hZHModC5jaGFubmVsLmlkLFZ2KVswXTtpZihpKXtpZighaS5pc0ltYWdlKXRocm93IlVwbG9hZCBpcyBub3QgYW4gaW1hZ2UiO3JldHVybiBpLml0ZW0uZmlsZX1icmVhaztjYXNlInVybCI6cmV0dXJuIHIudmFsdWU7Y2FzZSJ1c2VyIjp0cnl7cmV0dXJuKGF3YWl0IFBQKHIudmFsdWUpKS5nZXRBdmF0YXJVUkwobj92b2lkIDA6dC5ndWlsZD8uaWQsMjA0OCkucmVwbGFjZSgvXD9zaXplPVxkKyQvLCI/c2l6ZT0yMDQ4Iil9Y2F0Y2gocyl7dGhyb3cgY29uc29sZS5lcnJvcihgW3BldHBldF0gRmFpbGVkIHRvIGZldGNoIHVzZXIKYCxzKSwiRmFpbGVkIHRvIGZldGNoIHVzZXIuIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm8uIn19cmV0dXJuIG51bGx9dmFyIFZ2LHhQLHdQLE1hLE1QLFBQLElQLENQLHVkLHRTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1AoKTtTaSgpO2NuKCk7eCgpO0IoKTtWdj0wLHhQPTIwLHdQPTEyOCxNYT0xMCxNUD16bigoKT0+UHJvbWlzZS5hbGwoQXJyYXkuZnJvbSh7bGVuZ3RoOk1hfSwoZSx0KT0+ZVMoYGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9WZW5QbHVncy9wZXRwZXQvbWFpbi9mcmFtZXMvcGV0JHt0fS5naWZgKSkpKSxQUD1kZSgiLlVTRVIoIiksSVA9ZGUoIlVQTE9BRF9GSUxFX0xJTUlUX0VSUk9SIiksQ1A9SSgiZ2V0VXBsb2FkcyIpO3VkPXYoe25hbWU6InBldHBldCIsZGVzY3JpcHRpb246IkFkZHMgYSAvcGV0cGV0IHNsYXNoIGNvbW1hbmQgdG8gY3JlYXRlIGhlYWRwZXQgZ2lmcyBmcm9tIGFueSBpbWFnZSIsYXV0aG9yczpbZC5WZW5dLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tpbnB1dFR5cGU6MCxuYW1lOiJwZXRwZXQiLGRlc2NyaXB0aW9uOiJDcmVhdGUgYSBwZXRwZXQgZ2lmLiBZb3UgY2FuIG9ubHkgc3BlY2lmeSBvbmUgb2YgdGhlIGltYWdlIG9wdGlvbnMiLG9wdGlvbnM6W3tuYW1lOiJkZWxheSIsZGVzY3JpcHRpb246IlRoZSBkZWxheSBiZXR3ZWVuIGVhY2ggZnJhbWUuIERlZmF1bHRzIHRvIDIwLiIsdHlwZTo0fSx7bmFtZToicmVzb2x1dGlvbiIsZGVzY3JpcHRpb246IlJlc29sdXRpb24gZm9yIHRoZSBnaWYuIERlZmF1bHRzIHRvIDEyMC4gSWYgeW91IGVudGVyIGFuIGluc2FuZSBudW1iZXIgYW5kIGl0IGZyZWV6ZXMgRGlzY29yZCB0aGF0J3MgeW91ciBmYXVsdC4iLHR5cGU6NH0se25hbWU6ImltYWdlIixkZXNjcmlwdGlvbjoiSW1hZ2UgYXR0YWNobWVudCB0byB1c2UiLHR5cGU6MTF9LHtuYW1lOiJ1cmwiLGRlc2NyaXB0aW9uOiJVUkwgdG8gZmV0Y2ggaW1hZ2UgZnJvbSIsdHlwZTozfSx7bmFtZToidXNlciIsZGVzY3JpcHRpb246IlVzZXIgd2hvc2UgYXZhdGFyIHRvIHVzZSBhcyBpbWFnZSIsdHlwZTo2fSx7bmFtZToibm8tc2VydmVyLXBmcCIsZGVzY3JpcHRpb246IlVzZSB0aGUgbm9ybWFsIGF2YXRhciBpbnN0ZWFkIG9mIHRoZSBzZXJ2ZXIgc3BlY2lmaWMgb25lIHdoZW4gdXNpbmcgdGhlICd1c2VyJyBvcHRpb24iLHR5cGU6NX1dLGV4ZWN1dGU6YXN5bmMoZSx0KT0+e2xldHtHSUZFbmNvZGVyOm4scXVhbnRpemU6cixhcHBseVBhbGV0dGU6aX09YXdhaXQgYWEoKSxzPWF3YWl0IE1QKCksYz1ZZShlLCJuby1zZXJ2ZXItcGZwIiwhMSk7dHJ5e3ZhciB1PWF3YWl0IE5QKGUsdCxjKTtpZighdSl0aHJvdyJObyBJbWFnZSBzcGVjaWZpZWQhIn1jYXRjaChDKXthZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6U3RyaW5nKEMpfSk7cmV0dXJufWxldCBwPWF3YWl0IGVTKHUpLHk9WWUoZSwiZGVsYXkiLHhQKSxoPVllKGUsInJlc29sdXRpb24iLHdQKSxTPW5ldyBuLFQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7VC53aWR0aD1ULmhlaWdodD1oO2xldCB3PVQuZ2V0Q29udGV4dCgiMmQiKTtmb3IobGV0IEM9MDtDPE1hO0MrKyl7dy5jbGVhclJlY3QoMCwwLFQud2lkdGgsVC5oZWlnaHQpO2xldCBrPUM8TWEvMj9DOk1hLUMsVT0uOCtrKi4wMiwkPS44LWsqLjA1LFg9KDEtVSkqLjUrLjEsbmU9MS0kLS4wODt3LmRyYXdJbWFnZShwLFgqaCxuZSpoLFUqaCwkKmgpLHcuZHJhd0ltYWdlKHNbQ10sMCwwLGgsaCk7bGV0e2RhdGE6WX09dy5nZXRJbWFnZURhdGEoMCwwLGgsaCkscT1yKFksMjU2KSxvZT1pKFkscSk7Uy53cml0ZUZyYW1lKG9lLGgsaCx7dHJhbnNwYXJlbnQ6ITAscGFsZXR0ZTpxLGRlbGF5Onl9KX1TLmZpbmlzaCgpO2xldCBMPW5ldyBGaWxlKFtTLmJ5dGVzVmlldygpXSwicGV0cGV0LmdpZiIse3R5cGU6ImltYWdlL2dpZiJ9KTtzZXRUaW1lb3V0KCgpPT5JUChbTF0sdC5jaGFubmVsLFZ2KSwxMCl9fV19KX0pO2Z1bmN0aW9uIHJTKCl7cmV0dXJuIHB0KFsicGx1Z2lucy5QaW5ETXMucGlubmVkRE1zIl0pLFBhKCl9ZnVuY3Rpb24gTXIoZSl7cmV0dXJuIFBhKCkuaGFzKGUpfWZ1bmN0aW9uIGlTKGUpe2xldCB0PVBhKCk7dC5kZWxldGUoZSl8fHQuYWRkKGUpLG9TKFsuLi50XSl9ZnVuY3Rpb24gZGQoKXtyZXR1cm4gUGEoKSxBaS5zdG9yZS5waW5PcmRlcj09PTA/UlAuZ2V0UHJpdmF0ZUNoYW5uZWxJZHMoKS5maWx0ZXIoTXIpOkhufWZ1bmN0aW9uIHNTKGUpe3JldHVybiBkZCgpW2VdfWZ1bmN0aW9uIG1kKGUsdCl7bGV0IG49blMoKSxyPW4uaW5kZXhPZihlKSxpPXIrdDtbbltyXSxuW2ldXT1bbltpXSxuW3JdXSxvUyhuKX12YXIgQWksUlAsSG4scGQsblMsb1Msa1AsUGEsZmQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt4KCk7QigpO0FpPUUoe3Bpbk9yZGVyOnt0eXBlOjQsZGVzY3JpcHRpb246IldoaWNoIG9yZGVyIHNob3VsZCBwaW5uZWQgRE1zIGJlIGRpc3BsYXllZCBpbj8iLG9wdGlvbnM6W3tsYWJlbDoiTW9zdCByZWNlbnQgbWVzc2FnZSIsdmFsdWU6MCxkZWZhdWx0OiEwfSx7bGFiZWw6IkN1c3RvbSAocmlnaHQgY2xpY2sgY2hhbm5lbHMgdG8gcmVvcmRlcikiLHZhbHVlOjF9XX19KSxSUD1sZSgiUHJpdmF0ZUNoYW5uZWxTb3J0U3RvcmUiKSxuUz0oKT0+KE4ucGx1Z2lucy5QaW5ETXMucGlubmVkRE1zfHx2b2lkIDApPy5zcGxpdCgiLCIpLG9TPWU9PntwZD12b2lkIDAsTi5wbHVnaW5zLlBpbkRNcy5waW5uZWRETXM9ZS5qb2luKCIsIil9LGtQPSgpPT4oSG49blMoKT8/W10scGQ9bmV3IFNldChIbikpLFBhPSgpPT5wZD8/a1AoKX0pO2Z1bmN0aW9uIGFTKGUpe2xldCB0PU1yKGUpLG49dCYmQWkuc3RvcmUucGluT3JkZXI9PT0xO3JldHVybiBvKG0sbnVsbCxvKE8uTWVudUl0ZW0se2lkOiJwaW4tZG0iLGxhYmVsOnQ/IlVucGluIERNIjoiUGluIERNIixhY3Rpb246KCk9PmlTKGUpfSksbiYmSG5bMF0hPT1lJiZvKE8uTWVudUl0ZW0se2lkOiJtb3ZlLXBpbi11cCIsbGFiZWw6Ik1vdmUgUGluIFVwIixhY3Rpb246KCk9Pm1kKGUsLTEpfSksbiYmSG5bSG4ubGVuZ3RoLTFdIT09ZSYmbyhPLk1lbnVJdGVtLHtpZDoibW92ZS1waW4tZG93biIsbGFiZWw6Ik1vdmUgUGluIERvd24iLGFjdGlvbjooKT0+bWQoZSwxKX0pKX1mdW5jdGlvbiB1Uygpe3BlKCJnZG0tY29udGV4dCIsbFMpLHBlKCJ1c2VyLWNvbnRleHQiLGNTKX1mdW5jdGlvbiBwUygpe2ZlKCJnZG0tY29udGV4dCIsbFMpLGZlKCJ1c2VyLWNvbnRleHQiLGNTKX12YXIgbFMsY1MsZFM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1N0KCk7TSgpO2ZkKCk7bFM9KGUsdCk9PigpPT57bGV0IG49YXQoImxlYXZlLWNoYW5uZWwiLGUpO24mJm4udW5zaGlmdChhUyh0LmNoYW5uZWwuaWQpKX0sY1M9KGUsdCk9PigpPT57bGV0IG49YXQoImNsb3NlLWRtIixlKTtpZihuKXtsZXQgcj1uLmZpbmRJbmRleChpPT5pPy5wcm9wcz8uaWQ9PT0iY2xvc2UtZG0iKTtuLnNwbGljZShyLDAsYVModC5jaGFubmVsLmlkKSl9fX0pO3ZhciBnZCxtUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtkUygpO2ZkKCk7Z2Q9dih7bmFtZToiUGluRE1zIixkZXNjcmlwdGlvbjoiQWxsb3dzIHlvdSB0byBwaW4gcHJpdmF0ZSBjaGFubmVscyB0byB0aGUgdG9wIG9mIHlvdXIgRE0gbGlzdC4gVG8gcGluL3VucGluIG9yIHJlb3JkZXIgcGlucywgcmlnaHQgY2xpY2sgRE1zIixhdXRob3JzOltkLlZlbixkLlN0cmVuY2hlcl0sc2V0dGluZ3M6QWksc3RhcnQ6dVMsc3RvcDpwUyx1c2VQaW5Db3VudChlKXtsZXQgdD1yUygpO3JldHVybiBlLmxlbmd0aD9bdC5zaXplXTpbXX0sZ2V0Q2hhbm5lbChlLHQpe3JldHVybiBlW3NTKHQpXX0saXNQaW5uZWQ6TXIsZ2V0U25hcHNob3Q6ZGQsZ2V0U2Nyb2xsT2Zmc2V0KGUsdCxuLHIsaSl7cmV0dXJuIE1yKGUpP3QqKEhuLmluZGV4T2YoZSkrcikrbjoodCtuKSoyK3QqSG4ubGVuZ3RoK2l9LHBhdGNoZXM6W3tmaW5kOiIucHJpdmF0ZUNoYW5uZWxzSGVhZGVyQ29udGFpbmVyLCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovcHJpdmF0ZUNoYW5uZWxJZHM6KFxpKSwvLHJlcGxhY2U6InByaXZhdGVDaGFubmVsSWRzOiQxLmZpbHRlcihjPT4hJHNlbGYuaXNQaW5uZWQoYykpLHBpbkNvdW50OiRzZWxmLnVzZVBpbkNvdW50KCQxKSwifSx7bWF0Y2g6Lyg/PD1yZW5kZXJSb3c6KFxpKVwucmVuZGVyUm93LClzZWN0aW9uczpcW1xpLC8scmVwbGFjZToiJCYuLi4kMS5wcm9wcy5waW5Db3VudCwifSx7bWF0Y2g6L2NoaWxkcmVuOihcaVwuXGlcLk1lc3NhZ2VzLkRJUkVDVF9NRVNTQUdFUykoPzw9cmVuZGVyU2VjdGlvbj1mdW5jdGlvblwoKFxpKVwpLis/KS8scmVwbGFjZToiY2hpbGRyZW46JDIuc2VjdGlvbj09PTE/J1Bpbm5lZCBETXMnOiQxIn0se21hdGNoOi8oPzw9cHJlUmVuZGVyZWRDaGlsZHJlbiwoXGkpPSkoKFxpKVxbXGlcW1xpXF1cXSk7LyxyZXBsYWNlOiJhcmd1bWVudHNbMF09PT0xPyRzZWxmLmdldENoYW5uZWwoJDMsYXJndW1lbnRzWzFdKTokMjsifSx7bWF0Y2g6Lz09PVxpLkRNUyYmMC8scmVwbGFjZToiLTEkJiJ9LHttYXRjaDovKD88PWVsc2Vce1xpXCs9KShcaSlcKlwoLis/KD89OykvLHJlcGxhY2U6IiRzZWxmLmdldFNjcm9sbE9mZnNldChhcmd1bWVudHNbMF0sJDEsdGhpcy5wcm9wcy5wYWRkaW5nLHRoaXMuc3RhdGUucHJlUmVuZGVyZWRDaGlsZHJlbiwkJikifV19LHtmaW5kOicibW9kK2FsdCtyaWdodCInLHJlcGxhY2VtZW50OnttYXRjaDovKD88PShcaSk9X19PVkVSTEFZX19cP1xpOi57MCwxMH0pXC5jb25jYXRcKCguezAsMTB9KVwpLyxyZXBsYWNlOiIuY29uY2F0KCRzZWxmLmdldFNuYXBzaG90KCkpLmNvbmNhdCgkMi5maWx0ZXIoYz0+ISRzZWxmLmlzUGlubmVkKGMpKSkifX1dfSl9KTt2YXIgaGQsZlM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7aGQ9dih7bmFtZToiUGxhaW5Gb2xkZXJJY29uIixkZXNjcmlwdGlvbjoiRG9lc24ndCBzaG93IHRoZSBzbWFsbCBndWlsZCBpY29ucyBpbiBmb2xkZXJzIixhdXRob3JzOltkLmJvdGF0b10scGF0Y2hlczpbe2ZpbmQ6Ii5leHBhbmRlZEZvbGRlckljb25XcmFwcGVyIixyZXBsYWNlbWVudDpbe21hdGNoOi9cKFx3XHxcfFx3XCkmJihcKC57MCw0MH1cKC57MSwzfVwuYW5pbWF0ZWQpLyxyZXBsYWNlOiIkMSJ9XX1dfSl9KTt2YXIgU2Q9e307dmUoU2Qse19fYWRkRGVjb3JhdG9yc1RvTGlzdDooKT0+QVAsYWRkRGVjb3JhdG9yOigpPT55ZCxkZWNvcmF0b3JzOigpPT5JYSxyZW1vdmVEZWNvcmF0b3I6KCk9PnZkfSk7ZnVuY3Rpb24geWQoZSx0LG4pe0lhLnNldChlLHtkZWNvcmF0b3I6dCxvbmx5SW46bn0pfWZ1bmN0aW9uIHZkKGUpe0lhLmRlbGV0ZShlKX1mdW5jdGlvbiBBUChlKXtsZXQgdD0hIWUuZ3VpbGRJZDtyZXR1cm5bLi4uSWEudmFsdWVzKCldLm1hcChuPT57bGV0e2RlY29yYXRvcjpyLG9ubHlJbjppfT1uO3JldHVybiFpfHxpPT09Imd1aWxkcyImJnR8fGk9PT0iZG1zIiYmIXQ/cihlKTpudWxsfSl9dmFyIElhLGJkPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtJYT1uZXcgTWFwfSk7dmFyIHdkPXt9O3ZlKHdkLHtfX2FkZERlY29yYXRpb25zVG9NZXNzYWdlOigpPT5MUCxhZGREZWNvcmF0aW9uOigpPT5UZCxkZWNvcmF0aW9uczooKT0+Q2EscmVtb3ZlRGVjb3JhdGlvbjooKT0+eGR9KTtmdW5jdGlvbiBUZChlLHQpe0NhLnNldChlLHQpfWZ1bmN0aW9uIHhkKGUpe0NhLmRlbGV0ZShlKX1mdW5jdGlvbiBMUChlKXtyZXR1cm5bLi4uQ2EudmFsdWVzKCldLm1hcCh0PT50KGUpKX12YXIgQ2EsTWQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0NhPW5ldyBNYXB9KTtmdW5jdGlvbiBOYShlLHQpe3JldHVybih7Y29sb3I6bix0b29sdGlwOnJ9KT0+byhaLHt0ZXh0OnJ9LGk9Pm8oInN2ZyIsey4uLmksaGVpZ2h0OnQ/LmhlaWdodD8/MjAsd2lkdGg6dD8ud2lkdGg/PzIwLHZpZXdCb3g6dD8udmlld0JveD8/IjAgMCAyNCAyNCIsZmlsbDpufSxvKCJwYXRoIix7ZDplfSkpKX12YXIgRVAsZ1MsRFAsT1AsX1AsSWQsaFMsUGQsQ2QseVM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2tzKCk7YmQoKTtNZCgpO0YoKTtzZSgpO1AoKTt4KCk7QigpO00oKTtFUD1sZSgiU2Vzc2lvbnNTdG9yZSIpO2dTPXtkZXNrdG9wOk5hKCJNNCAyLjVjLTEuMTAzIDAtMiAuODk3LTIgMnYxMWMwIDEuMTA0Ljg5NyAyIDIgMmg3djJIN3YyaDEwdi0yaC00di0yaDdjMS4xMDMgMCAyLS44OTYgMi0ydi0xMWMwLTEuMTAzLS44OTctMi0yLTJINFptMTYgMnY5SDR2LTloMTZaIiksd2ViOk5hKCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMlptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcuOTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTNabTYuOS0yLjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgyYy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOVoiKSxtb2JpbGU6TmEoIk0gMTg3IDAgTCA4MTMgMCBDIDkxNi4yNzcgMCAxMDAwIDgzLjcyMyAxMDAwIDE4NyBMIDEwMDAgMTMxMyBDIDEwMDAgMTQxNi4yNzcgOTE2LjI3NyAxNTAwIDgxMyAxNTAwIEwgMTg3IDE1MDAgQyA4My43MjMgMTUwMCAwIDE0MTYuMjc3IDAgMTMxMyBMIDAgMTg3IEMgMCA4My43MjMgODMuNzIzIDAgMTg3IDAgWiBNIDEyNSAxMDAwIEwgODc1IDEwMDAgTCA4NzUgMjUwIEwgMTI1IDI1MCBaIE0gNTAwIDExMjUgQyA0MzAuOTY0IDExMjUgMzc1IDExODAuOTY0IDM3NSAxMjUwIEMgMzc1IDEzMTkuMDM2IDQzMC45NjQgMTM3NSA1MDAgMTM3NSBDIDU2OS4wMzYgMTM3NSA2MjUgMTMxOS4wMzYgNjI1IDEyNTAgQyA2MjUgMTE4MC45NjQgNTY5LjAzNiAxMTI1IDUwMCAxMTI1IFoiLHt2aWV3Qm94OiIwIDAgMTAwMCAxNTAwIixoZWlnaHQ6MTcsd2lkdGg6MTd9KSxjb25zb2xlOk5hKCJNMTQuOCAyLjcgOSAzLjFWNDdoMy4zYzEuNyAwIDYuMi4zIDEwIC43bDYuNy42VjJsLTQuMi4yYy0yLjQuMS02LjkuMy0xMCAuNXptMS44IDYuNGMxIDEuNy0xLjMgMy42LTIuNyAyLjJDMTIuNyAxMC4xIDEzLjUgOCAxNSA4Yy41IDAgMS4yLjUgMS42IDEuMXpNMTYgMzNjMCA2LS40IDEwLTEgMTBzLTEtNC0xLTEwIC40LTEwIDEtMTAgMSA0IDEgMTB6bTE1LTh2MjMuM2wzLjgtLjdjMi0uMyA0LjctLjYgNi0uNkg0M1YzaC0yLjJjLTEuMyAwLTQtLjMtNi0uNkwzMSAxLjdWMjV6Iix7dmlld0JveDoiMCAwIDUwIDUwIn0pfSxEUD1kZSgiLlRXSVRDSCIsIi5TVFJFQU1JTkciLCIuSU5WSVNJQkxFIiksT1A9KHtwbGF0Zm9ybTplLHN0YXR1czp0fSk9PntsZXQgbj1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxyPWdTW2VdPz9nUy5kZXNrdG9wO3JldHVybiBvKHIse2NvbG9yOmB2YXIoLS0ke0RQKHQpfWAsdG9vbHRpcDpufSl9LF9QPWU9PmxvLmdldFN0YXRlKCk/LmNsaWVudFN0YXR1c2VzPy5bZV0sSWQ9KHt1c2VyOmUsd2FudE1hcmdpbjp0PSEwLHdhbnRUb3BNYXJnaW46bj0hMX0pPT57aWYoIWV8fGUuYm90KXJldHVybiBudWxsO2lmKGUuaWQ9PT1HLmdldEN1cnJlbnRVc2VyKCkuaWQpe2xldCBzPUVQLmdldFNlc3Npb25zKCk7aWYodHlwZW9mIHMhPSJvYmplY3QiKXJldHVybiBudWxsO2xldCBjPU9iamVjdC52YWx1ZXMocykuc29ydCgoe3N0YXR1czp5fSx7c3RhdHVzOmh9KT0+eT09PWg/MDp5PT09Im9ubGluZSI/MTpoPT09Im9ubGluZSI/LTE6eT09PSJpZGxlIj8xOmg9PT0iaWRsZSI/LTE6MCksdT1PYmplY3QudmFsdWVzKGMpLnJlZHVjZSgoeSxoKT0+KGguY2xpZW50SW5mby5jbGllbnQhPT0idW5rbm93biImJih5W2guY2xpZW50SW5mby5jbGllbnRdPWguc3RhdHVzKSx5KSx7fSkse2NsaWVudFN0YXR1c2VzOnB9PWxvLmdldFN0YXRlKCk7cFtHLmdldEN1cnJlbnRVc2VyKCkuaWRdPXV9bGV0IHI9bG8uZ2V0U3RhdGUoKT8uY2xpZW50U3RhdHVzZXM/LltlLmlkXTtpZighcilyZXR1cm4gbnVsbDtsZXQgaT1PYmplY3QuZW50cmllcyhyKS5tYXAoKFtzLGNdKT0+byhPUCx7a2V5OnMscGxhdGZvcm06cyxzdGF0dXM6Y30pKTtyZXR1cm4gaS5sZW5ndGg/bygic3BhbiIse2NsYXNzTmFtZToidmMtcGxhdGZvcm0taW5kaWNhdG9yIixzdHlsZTp7ZGlzcGxheToiaW5saW5lLWZsZXgiLGp1c3RpZnlDb250ZW50OiJjZW50ZXIiLGFsaWduSXRlbXM6ImNlbnRlciIsbWFyZ2luTGVmdDp0PzQ6MCx2ZXJ0aWNhbEFsaWduOiJ0b3AiLHBvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOm4/MjowLHBhZGRpbmc6dD8wOjEsZ2FwOjJ9fSxpKTpudWxsfSxoUz17Y29tcG9uZW50OmU9Pm8oSWQsey4uLmUsd2FudE1hcmdpbjohMX0pLHBvc2l0aW9uOjAsc2hvdWxkU2hvdzplPT4hIU9iamVjdC5rZXlzKF9QKGUudXNlci5pZCk/P3t9KS5sZW5ndGgsa2V5OiJpbmRpY2F0b3IifSxQZD17bGlzdDp7ZGVzY3JpcHRpb246IkluIHRoZSBtZW1iZXIgbGlzdCIsb25FbmFibGU6KCk9PnlkKCJwbGF0Zm9ybS1pbmRpY2F0b3IiLGU9Pm8oRCx7bm9vcDohMH0sbyhJZCx7dXNlcjplLnVzZXJ9KSkpLG9uRGlzYWJsZTooKT0+dmQoInBsYXRmb3JtLWluZGljYXRvciIpfSxiYWRnZXM6e2Rlc2NyaXB0aW9uOiJJbiB1c2VyIHByb2ZpbGVzLCBhcyBiYWRnZXMiLG9uRW5hYmxlOigpPT5OZChoUyksb25EaXNhYmxlOigpPT5SZChoUyl9LG1lc3NhZ2VzOntkZXNjcmlwdGlvbjoiSW5zaWRlIG1lc3NhZ2VzIixvbkVuYWJsZTooKT0+VGQoInBsYXRmb3JtLWluZGljYXRvciIsZT0+byhELHtub29wOiEwfSxvKElkLHt1c2VyOmUubWVzc2FnZT8uYXV0aG9yLHdhbnRUb3BNYXJnaW46ITB9KSkpLG9uRGlzYWJsZTooKT0+eGQoInBsYXRmb3JtLWluZGljYXRvciIpfX0sQ2Q9dih7bmFtZToiUGxhdGZvcm1JbmRpY2F0b3JzIixkZXNjcmlwdGlvbjoiQWRkcyBwbGF0Zm9ybSBpbmRpY2F0b3JzIChEZXNrdG9wLCBNb2JpbGUsIFdlYi4uLikgdG8gdXNlcnMiLGF1dGhvcnM6W2Qua2VtbyxkLlRoZVN1bixkLk51Y2t5eixkLlZlbl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZURlY29yYXRpb25zQVBJIiwiTWVtYmVyTGlzdERlY29yYXRvcnNBUEkiXSxzdGFydCgpe2xldCBlPU4ucGx1Z2lucy5QbGF0Zm9ybUluZGljYXRvcnMse2Rpc3BsYXlNb2RlOnR9PWU7dCYmKHQhPT0iYm90aCI/ZVt0XT0hMDooZS5saXN0PSEwLGUuYmFkZ2VzPSEwKSxlLm1lc3NhZ2VzPSEwLGRlbGV0ZSBlLmRpc3BsYXlNb2RlKSxPYmplY3QuZW50cmllcyhQZCkuZm9yRWFjaCgoW24scl0pPT57ZVtuXSYmci5vbkVuYWJsZSgpfSl9LHN0b3AoKXtPYmplY3QuZW50cmllcyhQZCkuZm9yRWFjaCgoW2UsdF0pPT57dC5vbkRpc2FibGUoKX0pfSxwYXRjaGVzOlt7ZmluZDoiLk1hc2tzLlNUQVRVU19PTkxJTkVfTU9CSUxFIixwcmVkaWNhdGU6KCk9Pk4ucGx1Z2lucy5QbGF0Zm9ybUluZGljYXRvcnMuY29sb3JNb2JpbGVJbmRpY2F0b3IscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PXJldHVybiBcaVwuXGlcLk1hc2tzXC5TVEFUVVNfVFlQSU5HOykoLis/KShcaSlcPyhcaVwuXGlcLk1hc2tzXC5TVEFUVVNfT05MSU5FX01PQklMRSk6LyxyZXBsYWNlOihlLHQsbixyKT0+YGlmKCR7bn0pcmV0dXJuICR7cn07JHt0fWB9LHttYXRjaDovKHN3aXRjaFwoXGlcKXtjYXNlIFxpXC5caVwuT05MSU5FOnJldHVybiApKFxpKVw/KHsuKz99KTovLHJlcGxhY2U6KGUsdCxuLHIpPT5gaWYoJHtufSlyZXR1cm4ke3J9OyR7dH1gfV19LHtmaW5kOiIuQVZBVEFSX1NUQVRVU19NT0JJTEVfMTY7IixwcmVkaWNhdGU6KCk9Pk4ucGx1Z2lucy5QbGF0Zm9ybUluZGljYXRvcnMuY29sb3JNb2JpbGVJbmRpY2F0b3IscmVwbGFjZW1lbnQ6W3ttYXRjaDovXGk9PT1caVwuXGlcLk9OTElORSYmKD89LnswLDcwfVwuQVZBVEFSX1NUQVRVU19NT0JJTEVfMTY7KS8scmVwbGFjZToiIn0se21hdGNoOi8oPzw9XChcaVwuc3RhdHVzLCkoXGkpKD89LChcaSksXGlcKSkvLHJlcGxhY2U6KGUsdCxuKT0+YCR7bn0/Im9ubGluZSI6JHt0fWB9LHttYXRjaDovKD88PVxpJiYhXGkpJiZcaT09PVxpXC5caVwuT05MSU5FLyxyZXBsYWNlOiIifV19LHtmaW5kOiJpc01vYmlsZU9ubGluZT1mdW5jdGlvbiIscHJlZGljYXRlOigpPT5OLnBsdWdpbnMuUGxhdGZvcm1JbmRpY2F0b3JzLmNvbG9yTW9iaWxlSW5kaWNhdG9yLHJlcGxhY2VtZW50OnttYXRjaDovKD88PVxpXFtcaVwuXGlcLk1PQklMRVxdKT09PVxpXC5caVwuT05MSU5FLyxyZXBsYWNlOiIhPSBudWxsIn19XSxvcHRpb25zOnsuLi5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoUGQpLm1hcCgoW2UsdF0pPT5bZSx7dHlwZTozLGRlc2NyaXB0aW9uOmBTaG93IGluZGljYXRvcnMgJHt0LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCl9YCxyZXN0YXJ0TmVlZGVkOiEwLGRlZmF1bHQ6ITB9XSkpLGNvbG9yTW9iaWxlSW5kaWNhdG9yOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gbWFrZSB0aGUgbW9iaWxlIGluZGljYXRvciBtYXRjaCB0aGUgY29sb3Igb2YgdGhlIHVzZXIgc3RhdHVzLiIsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfX19KX0pO3ZhciB2Uz1nKCgpPT57fSk7ZnVuY3Rpb24ga2QoKXtyZXR1cm4gbyhBLkZyYWdtZW50LG51bGwsbyhiLkZvcm1UaXRsZSx7dGFnOiJoMyJ9LCJNb3JlIEluZm9ybWF0aW9uIiksbyhiLkZvcm1UZXh0LG51bGwsIlRvIGFkZCB5b3VyIG93biBwcm9ub3VucywgdmlzaXQiLCIgIixvKGx0LHtocmVmOiJodHRwczovL3Byb25vdW5kYi5vcmcifSwicHJvbm91bmRiLm9yZyIpKSxvKGIuRm9ybURpdmlkZXIsbnVsbCksbyhiLkZvcm1UZXh0LG51bGwsIlRoZSB0d28gcHJvbm91biBmb3JtYXRzIGFyZSBsb3dlcmNhc2UgYW5kIGNhcGl0YWxpemVkLiBFeGFtcGxlOiIsbygidWwiLG51bGwsbygibGkiLG51bGwsIkxvd2VyY2FzZTogdGhleS90aGVtIiksbygibGkiLG51bGwsIkNhcGl0YWxpemVkOiBUaGV5L1RoZW0iKSksJ1RleHQgbGlrZSAiQXNrIG1lIG15IHByb25vdW5zIiBvciAiQW55IHByb25vdW5zIiB3aWxsIGFsd2F5cyBiZSBjYXBpdGFsaXplZC4gJyxvKCJiciIsbnVsbCksbygiYnIiLG51bGwpLCJZb3UgY2FuIGFsc28gY29uZmlndXJlIHdoZXRoZXIgb3Igbm90IHRvIGRpc3BsYXkgcHJvbm91bnMgZm9yIHRoZSBjdXJyZW50IHVzZXIgKHNpbmNlIHlvdSBwcm9iYWJseSBhbHJlYWR5IGtub3cgdGhlbSkiKSl9dmFyIFNTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt3bygpO00oKX0pO3ZhciB0byxSYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO3goKTtrYSgpO3RvPUUoe3Byb25vdW5zRm9ybWF0Ont0eXBlOjQsZGVzY3JpcHRpb246IlRoZSBmb3JtYXQgZm9yIHByb25vdW5zIHRvIGFwcGVhciBpbiBjaGF0IixvcHRpb25zOlt7bGFiZWw6Ikxvd2VyY2FzZSIsdmFsdWU6IkxPV0VSQ0FTRSIsZGVmYXVsdDohMH0se2xhYmVsOiJDYXBpdGFsaXplZCIsdmFsdWU6IkNBUElUQUxJWkVEIn1dfSxwcm9ub3VuU291cmNlOnt0eXBlOjQsZGVzY3JpcHRpb246IldoZXJlIHRvIHNvdXJjZSBwcm9ub3VucyBmcm9tIixvcHRpb25zOlt7bGFiZWw6IlByZWZlciBQcm9ub3VuREIsIGZhbGwgYmFjayB0byBEaXNjb3JkIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiUHJlZmVyIERpc2NvcmQsIGZhbGwgYmFjayB0byBQcm9ub3VuREIgKG1pZ2h0IGxlYWQgdG8gaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIHByb25vdW5zIGluIGNoYXQgYW5kIHByb2ZpbGUpIix2YWx1ZToxfV19LHNob3dTZWxmOnt0eXBlOjMsZGVzY3JpcHRpb246IkVuYWJsZSBvciBkaXNhYmxlIHNob3dpbmcgcHJvbm91bnMgZm9yIHRoZSBjdXJyZW50IHVzZXIiLGRlZmF1bHQ6ITB9LHNob3dJbk1lc3NhZ2VzOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgaW4gbWVzc2FnZXMiLGRlZmF1bHQ6ITB9LHNob3dJblByb2ZpbGU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiU2hvdyBpbiBwcm9maWxlIixkZWZhdWx0OiEwfX0pfSk7dmFyIEFhLGJTPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtBYT17aGg6IkhlL0hpbSIsaGk6IkhlL0l0IixoczoiSGUvU2hlIixodDoiSGUvVGhleSIsaWg6Ikl0L0hpbSIsaWk6Ikl0L0l0cyIsaXM6Ikl0L1NoZSIsaXQ6Ikl0L1RoZXkiLHNoaDoiU2hlL0hlIixzaDoiU2hlL0hlciIsc2k6IlNoZS9JdCIsc3Q6IlNoZS9UaGV5Iix0aDoiVGhleS9IZSIsdGk6IlRoZXkvSXQiLHRzOiJUaGV5L1NoZSIsdHQ6IlRoZXkvVGhlbSIsYW55OiJBbnkgcHJvbm91bnMiLG90aGVyOiJPdGhlciBwcm9ub3VucyIsYXNrOiJBc2sgbWUgbXkgcHJvbm91bnMiLGF2b2lkOiJBdm9pZCBwcm9ub3VucywgdXNlIG15IG5hbWUiLHVuc3BlY2lmaWVkOiJVbnNwZWNpZmllZCJ9fSk7ZnVuY3Rpb24gRlAoZSx0PSExKXtsZXQgbj1UUy5nZXRVc2VyUHJvZmlsZShlKT8ucHJvbm91bnM7cmV0dXJuIHQ/bjpUUy5nZXRHdWlsZE1lbWJlclByb2ZpbGUoZSx1cigpPy5ndWlsZF9pZCk/LnByb25vdW5zfHxufWZ1bmN0aW9uIExhKGUsdD0hMSl7bGV0IG49RlAoZSx0KT8udHJpbSgpLnJlcGxhY2UoJFAsIiAiKSxbcl09VmUoKCk9PlVQKGUpLHtmYWxsYmFja1ZhbHVlOk1TKGUpLG9uRXJyb3I6aT0+Y29uc29sZS5lcnJvcigiRmV0Y2hpbmcgcHJvbm91bnMgZmFpbGVkOiAiLGkpfSk7cmV0dXJuIHRvLnN0b3JlLnByb25vdW5Tb3VyY2U9PT0xJiZuP1tuLCJEaXNjb3JkIl06ciYmciE9PSJ1bnNwZWNpZmllZCI/W0hQKHIpLCJQcm9ub3VuREIiXTpbbiwiRGlzY29yZCJdfWZ1bmN0aW9uIHdTKGUsdD0hMSl7bGV0IG49TGEoZSx0KTtyZXR1cm4hdG8uc3RvcmUuc2hvd0luUHJvZmlsZXx8IXRvLnN0b3JlLnNob3dTZWxmJiZlPT09Ry5nZXRDdXJyZW50VXNlcigpLmlkP3hTOm59ZnVuY3Rpb24gTVMoZSl7bGV0IHQ9QWRbZV07cmV0dXJuIHQmJnQhPT0idW5zcGVjaWZpZWQiP3Q6dHx8bnVsbH1mdW5jdGlvbiBVUChlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e2xldCBuPU1TKGUpO2lmKG4pcmV0dXJuIHQobik7aWYoZSBpbiBQcilyZXR1cm4gUHJbZV0ucHVzaCh0KTtQcltlXT1bdF0sQlAoKX0pfWFzeW5jIGZ1bmN0aW9uIEdQKGUpe2xldCB0PW5ldyBVUkxTZWFyY2hQYXJhbXM7dC5hcHBlbmQoInBsYXRmb3JtIiwiZGlzY29yZCIpLHQuYXBwZW5kKCJpZHMiLGUuam9pbigiLCIpKTt0cnl7cmV0dXJuIGF3YWl0KGF3YWl0IGYoImh0dHBzOi8vcHJvbm91bmRiLm9yZy9hcGkvdjEvbG9va3VwLWJ1bGs/Iit0LnRvU3RyaW5nKCkse21ldGhvZDoiR0VUIixoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJYLVByb25vdW5EQi1Tb3VyY2UiOmJsfX0pKS5qc29uKCkudGhlbihyPT4oT2JqZWN0LmFzc2lnbihBZCxyKSxyKSl9Y2F0Y2gobil7Y29uc29sZS5lcnJvcigiUHJvbm91bkRCIGZldGNoaW5nIGZhaWxlZDogIixuKTtsZXQgcj1PYmplY3QuZnJvbUVudHJpZXMoZS5tYXAoaT0+W2ksInVuc3BlY2lmaWVkIl0pKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihBZCxyKSxyfX1mdW5jdGlvbiBIUChlKXtsZXR7cHJvbm91bnNGb3JtYXQ6dH09Ti5wbHVnaW5zLlByb25vdW5EQjtyZXR1cm4gdD09PSJDQVBJVEFMSVpFRCI/QWFbZV06dD09PSJMT1dFUkNBU0UiJiZbImFueSIsImFzayIsImF2b2lkIiwib3RoZXIiXS5pbmNsdWRlcyhlKT9BYVtlXTpBYVtlXS50b0xvd2VyQ2FzZSgpfXZhciBUUyx4UyxBZCxQcixCUCwkUCxrYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTthcigpO3N0KCk7Z2UoKTtCKCk7TSgpO1JhKCk7YlMoKTtUUz1sZSgiVXNlclByb2ZpbGVTdG9yZSIpLHhTPVtudWxsLCIiXSxBZD17fSxQcj17fSxCUD1fdChhc3luYygpPT57bGV0IGU9T2JqZWN0LmtleXMoUHIpLHQ9YXdhaXQgR1AoZSk7Zm9yKGxldCBuIG9mIGUpUHJbbl0/LmZvckVhY2gocj0+cih0W25dKSksZGVsZXRlIFByW25dfSk7JFA9L1xuKy9nfSk7ZnVuY3Rpb24gUFMoZSl7cmV0dXJuISghdG8uc3RvcmUuc2hvd0luTWVzc2FnZXN8fGUuYXV0aG9yLmJvdHx8ZS5hdXRob3Iuc3lzdGVtfHxlLnR5cGU9PT16UHx8IXRvLnN0b3JlLnNob3dTZWxmJiZlLmF1dGhvci5pZD09PUcuZ2V0Q3VycmVudFVzZXIoKS5pZCl9ZnVuY3Rpb24gSVMoe21lc3NhZ2U6ZX0pe3JldHVybiBQUyhlKT9vKGpQLHttZXNzYWdlOmV9KTpudWxsfWZ1bmN0aW9uIENTKHttZXNzYWdlOmV9KXtyZXR1cm4gUFMoZSk/byhXUCx7bWVzc2FnZTplfSk6bnVsbH1mdW5jdGlvbiBqUCh7bWVzc2FnZTplfSl7bGV0W3RdPUxhKGUuYXV0aG9yLmlkKTtyZXR1cm4gdD9vKCJzcGFuIix7Y2xhc3NOYW1lOmVlKEVhLnRpbWVzdGFtcElubGluZSxFYS50aW1lc3RhbXApfSwiXHUyMDIyICIsdCk6bnVsbH1mdW5jdGlvbiBXUCh7bWVzc2FnZTplfSl7bGV0W3RdPUxhKGUuYXV0aG9yLmlkKTtyZXR1cm4gdD9vKCJzcGFuIix7Y2xhc3NOYW1lOmVlKEVhLnRpbWVzdGFtcElubGluZSxFYS50aW1lc3RhbXAsInZjLXByb25vdW5kYi1jb21wYWN0Iil9LCJcdTIwMjIgIix0KTpudWxsfXZhciBFYSx6UCxOUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7eWUoKTtCKCk7TSgpO2thKCk7UmEoKTtFYT1JKCJ0aW1lc3RhbXBJbmxpbmUiKSx6UD0yNH0pO3ZhciBSUyxMZCxrUz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dlMoKTtQKCk7eCgpO1NTKCk7TlMoKTtrYSgpO1JhKCk7UlM9e21hdGNoOi90ZXh0OiguezAsMTB9Lk1lc3NhZ2VzXC5VU0VSX1BST0ZJTEVfUFJPTk9VTlMpKD89LCkvLHJlcGxhY2U6JyQmICsgKHR5cGVvZiB2Y1Byb25vdW5Tb3VyY2UgIT09ICJ1bmRlZmluZWQiID8gYCAoJHt2Y1Byb25vdW5Tb3VyY2V9KWAgOiAiIiknfSxMZD12KHtuYW1lOiJQcm9ub3VuREIiLGF1dGhvcnM6W2QuVHltYW4sZC5UaGVLb2RlVG9hZCxkLlZlbl0sZGVzY3JpcHRpb246IkFkZHMgcHJvbm91bnMgdG8gdXNlciBtZXNzYWdlcyB1c2luZyBwcm9ub3VuZGIiLHBhdGNoZXM6W3tmaW5kOiJzaG93Q29tbXVuaWNhdGlvbkRpc2FibGVkU3R5bGVzIixyZXBsYWNlbWVudDp7bWF0Y2g6Lygic3BhbiIse2lkOlxpLGNsYXNzTmFtZTpcaSxjaGlsZHJlbjpcaX1cKSkvLHJlcGxhY2U6IiQxLCAkc2VsZi5Db21wYWN0UHJvbm91bnNDaGF0Q29tcG9uZW50V3JhcHBlcihlKSJ9fSx7ZmluZDoic2hvd0NvbW11bmljYXRpb25EaXNhYmxlZFN0eWxlcyIscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9cmV0dXJuXHMqXCgwLFxpXC5qc3hzP1wpXCguKyFcaSYmKShcKDAsXGkuanN4cz9cKVwoLis/XHsuKz9cfVwpKS8scmVwbGFjZToiWyQxLCAkc2VsZi5Qcm9ub3Vuc0NoYXRDb21wb25lbnRXcmFwcGVyKGUpXSJ9fSx7ZmluZDoiLnVzZXJUYWdOb05pY2tuYW1lIixyZXBsYWNlbWVudDpbe21hdGNoOi8sKFxpKT0oXGkpXC5wcm9ub3Vucy8scmVwbGFjZToiLFskMSx2Y1Byb25vdW5Tb3VyY2VdPSRzZWxmLnVzZVByb2ZpbGVQcm9ub3VucygkMi51c2VyLmlkKSJ9LFJTXX0se2ZpbmQ6Ii5VU0VSX1BST0ZJTEVfQUNUSVZJVFkiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2dldEdsb2JhbE5hbWVcKFxpXCk7KD88PWRpc3BsYXlQcm9maWxlLnswLDIwMH0pLyxyZXBsYWNlOiIkJmNvbnN0IFt2Y1Byb25vdW5jZSx2Y1Byb25vdW5Tb3VyY2VdPSRzZWxmLnVzZVByb2ZpbGVQcm9ub3Vucyhhcmd1bWVudHNbMF0udXNlci5pZCx0cnVlKTtpZihhcmd1bWVudHNbMF0uZGlzcGxheVByb2ZpbGUmJnZjUHJvbm91bmNlKWFyZ3VtZW50c1swXS5kaXNwbGF5UHJvZmlsZS5wcm9ub3Vucz12Y1Byb25vdW5jZTsifSxSU119XSxzZXR0aW5nczp0byxzZXR0aW5nc0Fib3V0Q29tcG9uZW50OmtkLFByb25vdW5zQ2hhdENvbXBvbmVudFdyYXBwZXI6SVMsQ29tcGFjdFByb25vdW5zQ2hhdENvbXBvbmVudFdyYXBwZXI6Q1MsdXNlUHJvZmlsZVByb25vdW5zOndTfSl9KTt2YXIgRWQsQVM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1FvKCk7UCgpO3N0KCk7eCgpO00oKTtFZD12KHtuYW1lOiJRdWlja01lbnRpb24iLGF1dGhvcnM6W2Qua2Vtb10sZGVzY3JpcHRpb246IkFkZHMgYSBxdWljayBtZW50aW9uIGJ1dHRvbiB0byB0aGUgbWVzc2FnZSBhY3Rpb25zIGJhciIsZGVwZW5kZW5jaWVzOlsiTWVzc2FnZVBvcG92ZXJBUEkiXSxzdGFydCgpe3duKCJRdWlja01lbnRpb24iLGU9Pih7bGFiZWw6IlF1aWNrIE1lbnRpb24iLGljb246dGhpcy5JY29uLG1lc3NhZ2U6ZSxjaGFubmVsOlYuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpLG9uQ2xpY2s6KCk9PnFuKGA8QCR7ZS5hdXRob3IuaWR9PiBgKX0pKX0sc3RvcCgpe01uKCJRdWlja01lbnRpb24iKX0sSWNvbjooKT0+bygic3ZnIix7Y2xhc3NOYW1lOiJpY29uIixoZWlnaHQ6IjI0Iix3aWR0aDoiMjQiLHZpZXdCb3g6IjAgMCAyNCAyNCIsZmlsbDoiY3VycmVudENvbG9yIn0sbygicGF0aCIse2Q6Ik0xMiAyQzYuNDg2IDIgMiA2LjQ4NiAyIDEyQzIgMTcuNTE1IDYuNDg2IDIyIDEyIDIyQzE0LjAzOSAyMiAxNS45OTMgMjEuMzk4IDE3LjY1MiAyMC4yNTlMMTYuNTIxIDE4LjYxMUMxNS4xOTUgMTkuNTE5IDEzLjYzMyAyMCAxMiAyMEM3LjU4OSAyMCA0IDE2LjQxMSA0IDEyQzQgNy41ODkgNy41ODkgNCAxMiA0QzE2LjQxMSA0IDIwIDcuNTg5IDIwIDEyVjEyLjc4MkMyMCAxNC4xNyAxOS40MDIgMTUgMTguNCAxNUwxOC4zOTggMTUuMDE4QzE4LjMzOCAxNS4wMDUgMTguMjczIDE1IDE4LjIwOSAxNUgxOEMxNy40MzcgMTUgMTYuNiAxNC4xODIgMTYuNiAxMy42MzFWMTJDMTYuNiA5LjQ2NCAxNC41MzcgNy40IDEyIDcuNEM5LjQ2MyA3LjQgNy40IDkuNDYzIDcuNCAxMkM3LjQgMTQuNTM3IDkuNDYzIDE2LjYgMTIgMTYuNkMxMy4yMzQgMTYuNiAxNC4zNSAxNi4xMDYgMTUuMTc3IDE1LjMxM0MxNS44MjYgMTYuMjY5IDE2LjkzIDE3IDE4IDE3TDE4LjAwMiAxNi45ODFDMTguMDY0IDE2Ljk5NCAxOC4xMjkgMTcgMTguMTk1IDE3SDE4LjRDMjAuNTUyIDE3IDIyIDE1LjMwNiAyMiAxMi43ODJWMTJDMjIgNi40ODYgMTcuNTE0IDIgMTIgMlpNMTIgMTQuNTk5QzEwLjU2NiAxNC41OTkgOS40IDEzLjQzMyA5LjQgMTEuOTk5QzkuNCAxMC41NjUgMTAuNTY2IDkuMzk5IDEyIDkuMzk5QzEzLjQzNCA5LjM5OSAxNC42IDEwLjU2NSAxNC42IDExLjk5OUMxNC42IDEzLjQzMyAxMy40MzQgMTQuNTk5IDEyIDE0LjU5OVoifSkpfSl9KTtmdW5jdGlvbiAkUyhlLHQpe2xldCBuPWUuZmluZEluZGV4KHI9PnIuaWQ9PT10KTtyZXR1cm4gbj09PS0xP246ZS5sZW5ndGgtbi0xfWZ1bmN0aW9uIERTKHtjaGFubmVsSWQ6ZSxtZXNzYWdlSWQ6dCxfaXNRdWlja0VkaXQ6bn0pe2lmKG4pcmV0dXJuO2xldCByPUcuZ2V0Q3VycmVudFVzZXIoKS5pZCxpPW1uLmdldE1lc3NhZ2VzKGUpLl9hcnJheS5maWx0ZXIocz0+cy5hdXRob3IuaWQ9PT1yKTtPYT0kUyhpLHQpfWZ1bmN0aW9uIE9TKHttZXNzYWdlOmUsX2lzUXVpY2tSZXBseTp0fSl7dHx8KERhPSRTKG1uLmdldE1lc3NhZ2VzKGUuY2hhbm5lbF9pZCkuX2FycmF5LGUuaWQpKX1mdW5jdGlvbiBfUyhlKXtsZXQgdD1lLmtleT09PSJBcnJvd1VwIjshdCYmZS5rZXkhPT0iQXJyb3dEb3duInx8IUtQKGUpfHxZUChlKXx8KGUuc2hpZnRLZXk/SlAodCk6WFAodCkpfWZ1bmN0aW9uIFVTKGUsdCl7bGV0IG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lc3NhZ2UtY29udGVudC0iK3QpO2lmKCFuKXJldHVybjtsZXQgcj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHVuc2FmZVdpbmRvdy5pbm5lckhlaWdodCksaT1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyhpLmJvdHRvbTwyMDB8fGkudG9wLXI+PS0yMDApJiZxUC5qdW1wVG9NZXNzYWdlKHtjaGFubmVsSWQ6ZSxtZXNzYWdlSWQ6dCxmbGFzaDohMSxqdW1wVHlwZToiSU5TVEFOVCJ9KX1mdW5jdGlvbiBHUyhlLHQpe2xldCBuPW1uLmdldE1lc3NhZ2VzKFRlLmdldENoYW5uZWxJZCgpKS5fYXJyYXk7aWYoIXQpe2xldCBjPUcuZ2V0Q3VycmVudFVzZXIoKS5pZDtuPW4uZmlsdGVyKHU9PnUuYXV0aG9yLmlkPT09Yyl9bGV0IHI9Yz0+ZT9NYXRoLm1pbihuLmxlbmd0aC0xLGMrMSk6TWF0aC5tYXgoLTEsYy0xKSxpPWM9PntkbyBjPXIoYyk7d2hpbGUoYyE9PS0xJiZuW24ubGVuZ3RoLWMtMV0/LmRlbGV0ZWQ9PT0hMCk7cmV0dXJuIGN9LHM7cmV0dXJuIHQ/RGE9cz1pKERhKTpPYT1zPWkoT2EpLHM9PT0tMT92b2lkIDA6bltuLmxlbmd0aC1zLTFdfWZ1bmN0aW9uIFpQKGUpe2xldHtlbmFibGVkOnQsdXNlckxpc3Q6bixzaG91bGRQaW5nTGlzdGVkOnJ9PU4ucGx1Z2lucy5Ob1JlcGx5TWVudGlvbixpPSF0fHxyPT09bi5pbmNsdWRlcyhlLmF1dGhvci5pZCk7c3dpdGNoKEZTLnN0b3JlLnNob3VsZE1lbnRpb24pe2Nhc2UgMjpyZXR1cm4gaTtjYXNlIDA6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gWFAoZSl7bGV0IHQ9R1MoZSwhMCk7aWYoIXQpcmV0dXJuIHZvaWQgXy5kaXNwYXRjaCh7dHlwZToiREVMRVRFX1BFTkRJTkdfUkVQTFkiLGNoYW5uZWxJZDpUZS5nZXRDaGFubmVsSWQoKX0pO2xldCBuPVYuZ2V0Q2hhbm5lbCh0LmNoYW5uZWxfaWQpLHI9Ry5nZXRDdXJyZW50VXNlcigpLmlkO18uZGlzcGF0Y2goe3R5cGU6IkNSRUFURV9QRU5ESU5HX1JFUExZIixjaGFubmVsOm4sbWVzc2FnZTp0LHNob3VsZE1lbnRpb246WlAodCksc2hvd01lbnRpb25Ub2dnbGU6bi5ndWlsZF9pZCE9PW51bGwmJnQuYXV0aG9yLmlkIT09cixfaXNRdWlja1JlcGx5OiEwfSksVVMobi5pZCx0LmlkKX1mdW5jdGlvbiBKUChlKXtsZXQgdD1HUyhlLCExKTt0PyhfLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX1NUQVJUX0VESVQiLGNoYW5uZWxJZDp0LmNoYW5uZWxfaWQsbWVzc2FnZUlkOnQuaWQsY29udGVudDp0LmNvbnRlbnQsX2lzUXVpY2tFZGl0OiEwfSksVVModC5jaGFubmVsX2lkLHQuaWQpKTpfLmRpc3BhdGNoKHt0eXBlOiJNRVNTQUdFX0VORF9FRElUIixjaGFubmVsSWQ6VGUuZ2V0Q2hhbm5lbElkKCl9KX12YXIgcVAsQlMsRGEsT2EsRlMsRGQsTFMsRVMsS1AsWVAsSFM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO0IoKTtNKCk7cVA9SSgianVtcFRvTWVzc2FnZSIpLEJTPW5hdmlnYXRvci5wbGF0Zm9ybS5pbmNsdWRlcygiTWFjIiksRGE9LTEsT2E9LTEsRlM9RSh7c2hvdWxkTWVudGlvbjp7dHlwZTo0LGRlc2NyaXB0aW9uOiJQaW5nIHJlcGx5IGJ5IGRlZmF1bHQiLG9wdGlvbnM6W3tsYWJlbDoiRm9sbG93IE5vUmVwbHlNZW50aW9uIix2YWx1ZToyLGRlZmF1bHQ6ITB9LHtsYWJlbDoiRW5hYmxlZCIsdmFsdWU6MX0se2xhYmVsOiJEaXNhYmxlZCIsdmFsdWU6MH1dfX0pLERkPXYoe25hbWU6IlF1aWNrUmVwbHkiLGF1dGhvcnM6W2Qub2JzY3VyaXR5LGQuVmVuLGQucHlsaXhdLGRlc2NyaXB0aW9uOiJSZXBseSB0byAoY3RybCArIHVwL2Rvd24pIGFuZCBlZGl0IChjdHJsICsgc2hpZnQgKyB1cC9kb3duKSBtZXNzYWdlcyB2aWEga2V5YmluZHMiLHNldHRpbmdzOkZTLHN0YXJ0KCl7Xy5zdWJzY3JpYmUoIkRFTEVURV9QRU5ESU5HX1JFUExZIixMUyksXy5zdWJzY3JpYmUoIk1FU1NBR0VfRU5EX0VESVQiLEVTKSxfLnN1YnNjcmliZSgiTUVTU0FHRV9TVEFSVF9FRElUIixEUyksXy5zdWJzY3JpYmUoIkNSRUFURV9QRU5ESU5HX1JFUExZIixPUyksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsX1MpfSxzdG9wKCl7Xy51bnN1YnNjcmliZSgiREVMRVRFX1BFTkRJTkdfUkVQTFkiLExTKSxfLnVuc3Vic2NyaWJlKCJNRVNTQUdFX0VORF9FRElUIixFUyksXy51bnN1YnNjcmliZSgiTUVTU0FHRV9TVEFSVF9FRElUIixEUyksXy51bnN1YnNjcmliZSgiQ1JFQVRFX1BFTkRJTkdfUkVQTFkiLE9TKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIixfUyl9fSksTFM9KCk9PkRhPS0xLEVTPSgpPT5PYT0tMTtLUD1lPT5CUz9lLm1ldGFLZXk6ZS5jdHJsS2V5LFlQPWU9PmUuYWx0S2V5fHwhQlMmJmUubWV0YUtleX0pO3ZhciBPZCxRUCxfZCx6Uz1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7UCgpO3goKTtRUD0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2ZhY2Vib29rL3JlYWN0LzE3LjAuMi9zY3JpcHRzL2Vycm9yLWNvZGVzL2NvZGVzLmpzb24iLF9kPXYoe25hbWU6IlJlYWN0RXJyb3JEZWNvZGVyIixkZXNjcmlwdGlvbjonUmVwbGFjZXMgIk1pbmlmZWQgUmVhY3QgRXJyb3IiIHdpdGggdGhlIGFjdHVhbCBlcnJvci4nLGF1dGhvcnM6W2QuQ3luXSxwYXRjaGVzOlt7ZmluZDonImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PSInLHJlcGxhY2VtZW50OnttYXRjaDovKGZ1bmN0aW9uIC5cKC5cKSl7KGZvclwodmFyIC49Imh0dHBzOlwvXC9yZWFjdGpzXC5vcmdcL2RvY3NcL2Vycm9yLWRlY29kZXJcLmh0bWxcP2ludmFyaWFudD0iXCsuLC49MTsuPGFyZ3VtZW50c1wubGVuZ3RoOy5cK1wrXCkuXCs9IiZhcmdzXFtcXT0iXCtlbmNvZGVVUklDb21wb25lbnRcKGFyZ3VtZW50c1xbLlxdXCk7cmV0dXJuIk1pbmlmaWVkIFJlYWN0IGVycm9yICMiXCsuXCsiOyB2aXNpdCAiXCsuXCsiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4iKX0vLHJlcGxhY2U6KGUsdCxuKT0+YCR7dH17dmFyIGRlY29kZWQ9VmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuUmVhY3RFcnJvckRlY29kZXIuZGVjb2RlRXJyb3IuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtpZihkZWNvZGVkKXJldHVybiBkZWNvZGVkOyR7bn19YH19XSxhc3luYyBzdGFydCgpe09kPWF3YWl0IGYoUVApLnRoZW4oZT0+ZS5qc29uKCkpLmNhdGNoKGU9PmNvbnNvbGUuZXJyb3IoYFtSZWFjdEVycm9yRGVjb2Rlcl0gRmFpbGVkIHRvIGZldGNoIFJlYWN0IGVycm9yIGNvZGVzCmAsZSkpfSxzdG9wKCl7T2Q9dm9pZCAwfSxkZWNvZGVFcnJvcihlLC4uLnQpe2xldCBuPTA7cmV0dXJuIE9kPy5bZV0/LnJlcGxhY2UoLyVzL2csKCk9PntsZXQgcj10W25dO3JldHVybiBuKysscn0pfX0pfSk7dmFyIEZkPXt9O3ZlKEZkLHtTZXJ2ZXJMaXN0UmVuZGVyUG9zaXRpb246KCk9Pl9hLGFkZFNlcnZlckxpc3RFbGVtZW50OigpPT5MaSxyZW1vdmVTZXJ2ZXJMaXN0RWxlbWVudDooKT0+RWkscmVuZGVyQWxsOigpPT5uSX0pO2Z1bmN0aW9uIEJkKGUpe3JldHVybiBlPT09MD9lSTp0SX1mdW5jdGlvbiBMaShlLHQpe0JkKGUpLmFkZCh0KX1mdW5jdGlvbiBFaShlLHQpe0JkKGUpLmRlbGV0ZSh0KX12YXIgVlAsX2EsZUksdEksbkksQmE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3dlKCk7VlA9bmV3IFEoIlNlcnZlckxpc3RBUEkiKSxfYT0obj0+KG5bbi5BYm92ZT0wXT0iQWJvdmUiLG5bbi5Jbj0xXT0iSW4iLG4pKShfYXx8e30pLGVJPW5ldyBTZXQsdEk9bmV3IFNldDtuST1lPT57bGV0IHQ9W107Zm9yKGxldCBuIG9mIEJkKGUpKXRyeXt0LnVuc2hpZnQobigpKX1jYXRjaChyKXtWUC5lcnJvcigiRmFpbGVkIHRvIHJlbmRlciBzZXJ2ZXIgbGlzdCBlbGVtZW50OiIscil9cmV0dXJuIHR9fSk7ZnVuY3Rpb24gb0koKXtsZXQgZT1bXTtPYmplY3QudmFsdWVzKG1lLmdldEd1aWxkcygpKS5mb3JFYWNoKHQ9Pnticy5nZXRDaGFubmVscyh0LmlkKS5TRUxFQ1RBQkxFLmZvckVhY2gobj0+eyFXci5oYXNVbnJlYWQobi5jaGFubmVsLmlkKXx8ZS5wdXNoKHtjaGFubmVsSWQ6bi5jaGFubmVsLmlkLG1lc3NhZ2VJZDpXci5sYXN0TWVzc2FnZUlkKG4uY2hhbm5lbC5pZCkscmVhZFN0YXRlVHlwZTowfSl9KX0pLF8uZGlzcGF0Y2goe3R5cGU6IkJVTEtfQUNLIixjb250ZXh0OiJBUFAiLGNoYW5uZWxzOmV9KX12YXIgckksJGQsalM9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0JhKCk7UCgpO3goKTtNKCk7ckk9KCk9Pm8oUix7b25DbGljazpvSSxzaXplOlIuU2l6ZXMuTUlOLGNvbG9yOlIuQ29sb3JzLkJSQU5ELHN0eWxlOnttYXJnaW5Ub3A6IjJweCIsbWFyZ2luQm90dG9tOiI4cHgiLG1hcmdpbkxlZnQ6IjlweCJ9fSwiUmVhZCBhbGwiKSwkZD12KHtuYW1lOiJSZWFkQWxsTm90aWZpY2F0aW9uc0J1dHRvbiIsZGVzY3JpcHRpb246IlJlYWQgYWxsIHNlcnZlciBub3RpZmljYXRpb25zIHdpdGggYSBzaW5nbGUgYnV0dG9uIGNsaWNrISIsYXV0aG9yczpbZC5rZW1vXSxkZXBlbmRlbmNpZXM6WyJTZXJ2ZXJMaXN0QVBJIl0scmVuZGVyUmVhZEFsbEJ1dHRvbjooKT0+byhySSxudWxsKSxzdGFydCgpe0xpKDAsdGhpcy5yZW5kZXJSZWFkQWxsQnV0dG9uKX0sc3RvcCgpe0VpKDAsdGhpcy5yZW5kZXJSZWFkQWxsQnV0dG9uKX19KX0pO3ZhciBHdCxGYT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO3goKTtHdD1FKHtub3RpY2VzOnt0eXBlOjMsZGVzY3JpcHRpb246IkFsc28gc2hvdyBhIG5vdGljZSBhdCB0aGUgdG9wIG9mIHlvdXIgc2NyZWVuIHdoZW4gcmVtb3ZlZCAodXNlIHRoaXMgaWYgeW91IGRvbid0IHdhbnQgdG8gbWlzcyBhbnkgbm90aWZpY2F0aW9ucykuIixkZWZhdWx0OiExfSxvZmZsaW5lUmVtb3ZhbHM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IHlvdSB3aGVuIHN0YXJ0aW5nIGRpc2NvcmQgaWYgeW91IHdlcmUgcmVtb3ZlZCB3aGlsZSBvZmZsaW5lLiIsZGVmYXVsdDohMH0sZnJpZW5kczp7dHlwZTozLGRlc2NyaXB0aW9uOiJOb3RpZnkgd2hlbiBhIGZyaWVuZCByZW1vdmVzIHlvdSIsZGVmYXVsdDohMH0sZnJpZW5kUmVxdWVzdENhbmNlbHM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IHdoZW4gYSBmcmllbmQgcmVxdWVzdCBpcyBjYW5jZWxsZWQiLGRlZmF1bHQ6ITB9LHNlcnZlcnM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IHdoZW4gcmVtb3ZlZCBmcm9tIGEgc2VydmVyIixkZWZhdWx0OiEwfSxncm91cHM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IHdoZW4gcmVtb3ZlZCBmcm9tIGEgZ3JvdXAgY2hhdCIsZGVmYXVsdDohMH19KX0pO3ZhciBVZD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCl9KTthc3luYyBmdW5jdGlvbiBhSSgpe0V0LmRlbE1hbnkoWyJyZWxhdGlvbnNoaXAtbm90aWZpZXItZ3VpbGRzIiwicmVsYXRpb25zaGlwLW5vdGlmaWVyLWdyb3VwcyIsInJlbGF0aW9uc2hpcC1ub3RpZmllci1mcmllbmRzIl0pfWFzeW5jIGZ1bmN0aW9uIEdkKCl7YXdhaXQgYUkoKTtsZXRbZSx0LG5dPWF3YWl0IEV0LmdldE1hbnkoW1dTKCkscVMoKSxLUygpXSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwoW1VhKCksR2EoKSxEaSgpXSksR3Quc3RvcmUub2ZmbGluZVJlbW92YWxzKXtpZihHdC5zdG9yZS5ncm91cHMmJnQ/LnNpemUpZm9yKGxldFtyLGldb2YgdClDci5oYXMocil8fG5vKGBZb3UgYXJlIG5vIGxvbmdlciBpbiB0aGUgZ3JvdXAgJHtpLm5hbWV9LmAsaS5pY29uVVJMKTtpZihHdC5zdG9yZS5zZXJ2ZXJzJiZlPy5zaXplKWZvcihsZXRbcixpXW9mIGUpSXIuaGFzKHIpfHxubyhgWW91IGFyZSBubyBsb25nZXIgaW4gdGhlIHNlcnZlciAke2kubmFtZX0uYCxpLmljb25VUkwpO2lmKEd0LnN0b3JlLmZyaWVuZHMmJm4/LmZyaWVuZHMubGVuZ3RoKWZvcihsZXQgciBvZiBuLmZyaWVuZHMpe2lmKHRyLmZyaWVuZHMuaW5jbHVkZXMocikpY29udGludWU7bGV0IGk9YXdhaXQgRW4uZmV0Y2hVc2VyKHIpLmNhdGNoKCgpPT57fSk7aSYmbm8oYFlvdSBhcmUgbm8gbG9uZ2VyIGZyaWVuZHMgd2l0aCAke0tuKGkpfS5gLGkuZ2V0QXZhdGFyVVJMKHZvaWQgMCx2b2lkIDAsITEpLCgpPT5obihpLmlkKSl9aWYoR3Quc3RvcmUuZnJpZW5kUmVxdWVzdENhbmNlbHMmJm4/LnJlcXVlc3RzPy5sZW5ndGgpZm9yKGxldCByIG9mIG4ucmVxdWVzdHMpe2lmKHRyLnJlcXVlc3RzLmluY2x1ZGVzKHIpfHxbMSwyLDRdLmluY2x1ZGVzKGl0LmdldFJlbGF0aW9uc2hpcFR5cGUocikpKWNvbnRpbnVlO2xldCBpPWF3YWl0IEVuLmZldGNoVXNlcihyKS5jYXRjaCgoKT0+e30pO2kmJm5vKGBGcmllbmQgcmVxdWVzdCBmcm9tICR7S24oaSl9IGhhcyBiZWVuIHJldm9rZWQuYCxpLmdldEF2YXRhclVSTCh2b2lkIDAsdm9pZCAwLCExKSwoKT0+aG4oaS5pZCkpfX19ZnVuY3Rpb24gbm8oZSx0LG4pe0d0LnN0b3JlLm5vdGljZXMmJiRhLnNob3dOb3RpY2UoZSwiT0siLCgpPT4kYS5wb3BOb3RpY2UoKSksU2Uoe3RpdGxlOiJSZWxhdGlvbnNoaXAgTm90aWZpZXIiLGJvZHk6ZSxpY29uOnQsb25DbGljazpufSl9ZnVuY3Rpb24gWVMoZSl7cmV0dXJuIElyLmdldChlKX1mdW5jdGlvbiBIZChlKXtJci5kZWxldGUoZSksVWEoKX1hc3luYyBmdW5jdGlvbiBVYSgpe0lyLmNsZWFyKCk7bGV0IGU9Ry5nZXRDdXJyZW50VXNlcigpLmlkO2ZvcihsZXRbdCx7bmFtZTpuLGljb246cn1db2YgT2JqZWN0LmVudHJpZXMobWUuZ2V0R3VpbGRzKCkpKV9lLmlzTWVtYmVyKHQsZSkmJklyLnNldCh0LHtpZDp0LG5hbWU6bixpY29uVVJMOnImJmBodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9pY29ucy8ke3R9LyR7cn0ucG5nYH0pO2F3YWl0IEV0LnNldChXUygpLElyKX1mdW5jdGlvbiBaUyhlKXtyZXR1cm4gQ3IuZ2V0KGUpfWZ1bmN0aW9uIHpkKGUpe0NyLmRlbGV0ZShlKSxHYSgpfWFzeW5jIGZ1bmN0aW9uIEdhKCl7Q3IuY2xlYXIoKTtmb3IobGV0e3R5cGU6ZSxpZDp0LG5hbWU6bixyYXdSZWNpcGllbnRzOnIsaWNvbjppfW9mIFYuZ2V0U29ydGVkUHJpdmF0ZUNoYW5uZWxzKCkpZT09PTMmJkNyLnNldCh0LHtpZDp0LG5hbWU6bnx8ci5tYXAocz0+cy51c2VybmFtZSkuam9pbigiLCAiKSxpY29uVVJMOmkmJmBodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9jaGFubmVsLWljb25zLyR7dH0vJHtpfS5wbmdgfSk7YXdhaXQgRXQuc2V0KHFTKCksQ3IpfWFzeW5jIGZ1bmN0aW9uIERpKCl7dHIuZnJpZW5kcz1bXSx0ci5yZXF1ZXN0cz1bXTtsZXQgZT1pdC5nZXRSZWxhdGlvbnNoaXBzKCk7Zm9yKGxldCB0IGluIGUpc3dpdGNoKGVbdF0pe2Nhc2UgMTp0ci5mcmllbmRzLnB1c2godCk7YnJlYWs7Y2FzZSAzOnRyLnJlcXVlc3RzLnB1c2godCk7YnJlYWt9YXdhaXQgRXQuc2V0KEtTKCksdHIpfXZhciBJcixDcix0cixXUyxxUyxLUyxqZD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2koKTtmbygpO3N0KCk7TSgpO0ZhKCk7VWQoKTtJcj1uZXcgTWFwLENyPW5ldyBNYXAsdHI9e2ZyaWVuZHM6W10scmVxdWVzdHM6W119LFdTPSgpPT5gcmVsYXRpb25zaGlwLW5vdGlmaWVyLWd1aWxkcy0ke0cuZ2V0Q3VycmVudFVzZXIoKS5pZH1gLHFTPSgpPT5gcmVsYXRpb25zaGlwLW5vdGlmaWVyLWdyb3Vwcy0ke0cuZ2V0Q3VycmVudFVzZXIoKS5pZH1gLEtTPSgpPT5gcmVsYXRpb25zaGlwLW5vdGlmaWVyLWZyaWVuZHMtJHtHLmdldEN1cnJlbnRVc2VyKCkuaWR9YH0pO2FzeW5jIGZ1bmN0aW9uIFZTKHtyZWxhdGlvbnNoaXA6e3R5cGU6ZSxpZDp0fX0pe2lmKFdkPT09dCl7V2Q9dm9pZCAwO3JldHVybn1sZXQgbj1hd2FpdCBFbi5mZXRjaFVzZXIodCkuY2F0Y2goKCk9Pm51bGwpO2lmKCEhbilzd2l0Y2goZSl7Y2FzZSAxOkd0LnN0b3JlLmZyaWVuZHMmJm5vKGAke0tuKG4pfSByZW1vdmVkIHlvdSBhcyBhIGZyaWVuZC5gLG4uZ2V0QXZhdGFyVVJMKHZvaWQgMCx2b2lkIDAsITEpLCgpPT5obihuLmlkKSk7YnJlYWs7Y2FzZSAzOkd0LnN0b3JlLmZyaWVuZFJlcXVlc3RDYW5jZWxzJiZubyhgQSBmcmllbmQgcmVxdWVzdCBmcm9tICR7S24obil9IGhhcyBiZWVuIHJlbW92ZWQuYCxuLmdldEF2YXRhclVSTCh2b2lkIDAsdm9pZCAwLCExKSwoKT0+aG4obi5pZCkpO2JyZWFrfX1mdW5jdGlvbiBlMCh7Z3VpbGQ6e2lkOmUsdW5hdmFpbGFibGU6dH19KXtpZighR3Quc3RvcmUuc2VydmVyc3x8dClyZXR1cm47aWYocWQ9PT1lKXtIZChlKSxxZD12b2lkIDA7cmV0dXJufWxldCBuPVlTKGUpO24mJihIZChlKSxubyhgWW91IHdlcmUgcmVtb3ZlZCBmcm9tIHRoZSBzZXJ2ZXIgJHtuLm5hbWV9LmAsbi5pY29uVVJMKSl9ZnVuY3Rpb24gdDAoe2NoYW5uZWw6e2lkOmUsdHlwZTp0fX0pe2lmKCFHdC5zdG9yZS5ncm91cHN8fHQhPT0zKXJldHVybjtpZihLZD09PWUpe3pkKGUpLEtkPXZvaWQgMDtyZXR1cm59bGV0IG49WlMoZSk7biYmKHpkKGUpLG5vKGBZb3Ugd2VyZSByZW1vdmVkIGZyb20gdGhlIGdyb3VwICR7bi5uYW1lfS5gLG4uaWNvblVSTCkpfXZhciBXZCxxZCxLZCxYUyxKUyxRUyxuMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c3QoKTtNKCk7RmEoKTtVZCgpO2pkKCk7WFM9ZT0+V2Q9ZSxKUz1lPT5xZD1lLFFTPWU9PktkPWV9KTt2YXIgWWQsbzA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7bjAoKTtGYSgpO2pkKCk7WWQ9dih7bmFtZToiUmVsYXRpb25zaGlwTm90aWZpZXIiLGRlc2NyaXB0aW9uOiJOb3RpZmllcyB5b3Ugd2hlbiBhIGZyaWVuZCwgZ3JvdXAgY2hhdCwgb3Igc2VydmVyIHJlbW92ZXMgeW91LiIsYXV0aG9yczpbZC5uaWNrXSxzZXR0aW5nczpHdCxwYXRjaGVzOlt7ZmluZDoicmVtb3ZlUmVsYXRpb25zaGlwOmZ1bmN0aW9uKCIscmVwbGFjZW1lbnQ6e21hdGNoOi8ocmVtb3ZlUmVsYXRpb25zaGlwOmZ1bmN0aW9uXCgoXGkpLFxpLFxpXCl7KS8scmVwbGFjZToiJDEkc2VsZi5yZW1vdmVGcmllbmQoJDIpOyJ9fSx7ZmluZDoibGVhdmVHdWlsZDpmdW5jdGlvbigiLHJlcGxhY2VtZW50OnttYXRjaDovKGxlYXZlR3VpbGQ6ZnVuY3Rpb25cKChcaSlcKXspLyxyZXBsYWNlOiIkMSRzZWxmLnJlbW92ZUd1aWxkKCQyKTsifX0se2ZpbmQ6ImNsb3NlUHJpdmF0ZUNoYW5uZWw6ZnVuY3Rpb24oIixyZXBsYWNlbWVudDp7bWF0Y2g6LyhjbG9zZVByaXZhdGVDaGFubmVsOmZ1bmN0aW9uXCgoXGkpXCl7KS8scmVwbGFjZToiJDEkc2VsZi5yZW1vdmVHcm91cCgkMik7In19XSxmbHV4OntHVUlMRF9DUkVBVEU6VWEsR1VJTERfREVMRVRFOmUwLENIQU5ORUxfQ1JFQVRFOkdhLENIQU5ORUxfREVMRVRFOnQwLFJFTEFUSU9OU0hJUF9BREQ6RGksUkVMQVRJT05TSElQX1VQREFURTpEaSxSRUxBVElPTlNISVBfUkVNT1ZFKGUpe1ZTKGUpLERpKCl9LENPTk5FQ1RJT05fT1BFTjpHZH0sYXN5bmMgc3RhcnQoKXtzZXRUaW1lb3V0KCgpPT57R2QoKX0sNWUzKX0scmVtb3ZlRnJpZW5kOlhTLHJlbW92ZUdyb3VwOlFTLHJlbW92ZUd1aWxkOkpTfSl9KTt2YXIgbEksY0ksWmQscjA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7QigpO2xJPUkoInNwb2lsZXJDb250ZW50IiksY0k9SSgibWVzc2FnZXNXcmFwcGVyIiwibWVzc2FnZXMiKSxaZD12KHtuYW1lOiJSZXZlYWxBbGxTcG9pbGVycyIsZGVzY3JpcHRpb246IlJldmVhbCBhbGwgc3BvaWxlcnMgaW4gYSBtZXNzYWdlIGJ5IEN0cmwtY2xpY2tpbmcgYSBzcG9pbGVyLCBvciBpbiB0aGUgY2hhdCB3aXRoIEN0cmwrU2hpZnQtY2xpY2siLGF1dGhvcnM6W2Qud2hxd2VydF0scGF0Y2hlczpbe2ZpbmQ6Ii5yZW1vdmVPYnNjdXJpdHk9ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovKD88PVwucmVtb3ZlT2JzY3VyaXR5PWZ1bmN0aW9uXCgoXGkpXCl7KS8scmVwbGFjZTooZSx0KT0+YCRzZWxmLnJldmVhbCgke3R9KTtgfX1dLHJldmVhbChlKXtsZXR7Y3RybEtleTp0LHNoaWZ0S2V5Om4sdGFyZ2V0OnJ9PWU7aWYoIXQpcmV0dXJuO2xldHtzcG9pbGVyQ29udGVudDppLGhpZGRlbjpzfT1sSSx7bWVzc2FnZXNXcmFwcGVyOmN9PWNJLHU9bj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXYuJHtjfWApOnIucGFyZW50RWxlbWVudDtmb3IobGV0IHAgb2YgdS5xdWVyeVNlbGVjdG9yQWxsKGBzcGFuLiR7aX0uJHtzfWApKXAuY2xpY2soKX19KX0pO2Z1bmN0aW9uIGkwKGUsdCl7b3Blbih0K2VuY29kZVVSSUNvbXBvbmVudChlKSwiX2JsYW5rIil9dmFyIEhhLHMwLFhkLGEwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtTdCgpO3Z0KCk7eG4oKTtQKCk7eCgpO00oKTtIYT17R29vZ2xlOiJodHRwczovL2xlbnMuZ29vZ2xlLmNvbS91cGxvYWRieXVybD91cmw9IixZYW5kZXg6Imh0dHBzOi8veWFuZGV4LmNvbS9pbWFnZXMvc2VhcmNoP3JwdD1pbWFnZXZpZXcmdXJsPSIsU2F1Y2VOQU86Imh0dHBzOi8vc2F1Y2VuYW8uY29tL3NlYXJjaC5waHA/dXJsPSIsSVFEQjoiaHR0cHM6Ly9pcWRiLm9yZy8/dXJsPSIsVGluRXllOiJodHRwczovL3d3dy50aW5leWUuY29tL3NlYXJjaD91cmw9IixJbWdPcHM6Imh0dHBzOi8vaW1nb3BzLmNvbS9zdGFydD91cmw9In07czA9KGUsdCk9PigpPT57aWYoIXQpcmV0dXJuO2xldHtyZXZlcnNlSW1hZ2VTZWFyY2hUeXBlOm4saXRlbUhyZWY6cixpdGVtU3JjOml9PXQ7aWYoIW58fG4hPT0iaW1nIilyZXR1cm47bGV0IHM9cj8/aSxjPWF0KCJjb3B5LWxpbmsiLGUpO2MmJmMucHVzaChvKE8uTWVudUl0ZW0se2xhYmVsOiJTZWFyY2ggSW1hZ2UiLGtleToic2VhcmNoLWltYWdlIixpZDoic2VhcmNoLWltYWdlIn0sT2JqZWN0LmtleXMoSGEpLm1hcCgodSxwKT0+e2xldCB5PSJzZWFyY2gtaW1hZ2UtIit1O3JldHVybiBvKE8uTWVudUl0ZW0se2tleTp5LGlkOnksbGFiZWw6byhjZSx7c3R5bGU6e2FsaWduSXRlbXM6ImNlbnRlciIsZ2FwOiIwLjVlbSJ9fSxvKCJpbWciLHtzdHlsZTp7Ym9yZGVyUmFkaXVzOnA+PTM/IjUwJSI6dm9pZCAwfSwiYXJpYS1oaWRkZW4iOiJ0cnVlIixoZWlnaHQ6MTYsd2lkdGg6MTYsc3JjOm5ldyBVUkwoIi9mYXZpY29uLmljbyIsSGFbdV0pLnRvU3RyaW5nKCkucmVwbGFjZSgibGVucy4iLCIiKX0pLHUpLGFjdGlvbjooKT0+aTAocyxIYVt1XSl9KX0pLG8oTy5NZW51SXRlbSx7a2V5OiJzZWFyY2gtaW1hZ2UtYWxsIixpZDoic2VhcmNoLWltYWdlLWFsbCIsbGFiZWw6byhjZSx7c3R5bGU6e2FsaWduSXRlbXM6ImNlbnRlciIsZ2FwOiIwLjVlbSJ9fSxvKHFvLHtoZWlnaHQ6MTYsd2lkdGg6MTZ9KSwiQWxsIiksYWN0aW9uOigpPT5PYmplY3QudmFsdWVzKEhhKS5mb3JFYWNoKHU9PmkwKHMsdSkpfSkpKX0sWGQ9dih7bmFtZToiUmV2ZXJzZUltYWdlU2VhcmNoIixkZXNjcmlwdGlvbjoiQWRkcyBJbWFnZVNlYXJjaCB0byBpbWFnZSBjb250ZXh0IG1lbnVzIixhdXRob3JzOltkLlZlbixkLk51Y2t5el0sdGFnczpbIkltYWdlVXRpbGl0aWVzIl0scGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5NRVNTQUdFX0FDVElPTlNfTUVOVV9MQUJFTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9mYXZvcml0ZWFibGVUeXBlOlxpLCg/PD0oXGkpXC5nZXRBdHRyaWJ1dGVcKCJkYXRhLXR5cGUiXCkuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfXJldmVyc2VJbWFnZVNlYXJjaFR5cGU6JHt0fS5nZXRBdHRyaWJ1dGUoImRhdGEtcm9sZSIpLGB9fV0sc3RhcnQoKXtwZSgibWVzc2FnZSIsczApfSxzdG9wKCl7ZmUoIm1lc3NhZ2UiLHMwKX19KX0pO3ZhciBsMD1nKCgpPT57fSk7dmFyIHphPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO2Z1bmN0aW9uIE5yKGUpe2xldHtPQXV0aDJBdXRob3JpemVNb2RhbDp0fT1BbigiT0F1dGgyQXV0aG9yaXplTW9kYWwiKTtNZShuPT5vKHQsey4uLm4sc2NvcGVzOlsiaWRlbnRpZnkiXSxyZXNwb25zZVR5cGU6ImNvZGUiLHJlZGlyZWN0VXJpOiJodHRwczovL21hbnRpLnZlbmRpY2F0ZWQuZGV2L2FwaS9yZXZpZXdkYi9hdXRoIixwZXJtaXNzaW9uczowbixjbGllbnRJZDoiOTE1NzAzNzgyMTc0NzUyODA5IixjYW5jZWxDb21wbGV0ZXNGbG93OiExLGNhbGxiYWNrOmFzeW5jIHI9Pnt0cnl7bGV0IGk9bmV3IFVSTChyLmxvY2F0aW9uKTtpLnNlYXJjaFBhcmFtcy5hcHBlbmQoImNsaWVudE1vZCIsInZlbmNvcmQiKTtsZXQgcz1hd2FpdCBmKGkse2hlYWRlcnM6bmV3IEhlYWRlcnMoe0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiJ9KX0pLHt0b2tlbjpjLHN1Y2Nlc3M6dX09YXdhaXQgcy5qc29uKCk7dT8oemUuc3RvcmUudG9rZW49YyxIdCgiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpbiEiKSxlPy4oKSk6cy5zdGF0dXM9PT0xJiZIdCgiQW4gRXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9nZ2luZyBpbi4iKX1jYXRjaChpKXtuZXcgUSgiUmV2aWV3REIiKS5lcnJvcigiRmFpbGVkIHRvIGF1dGhvcml6ZSIsaSl9fX0pKX1mdW5jdGlvbiBIdChlKXtLLnNob3coe3R5cGU6Sy5UeXBlLk1FU1NBR0UsbWVzc2FnZTplLGlkOksuZ2VuSWQoKSxvcHRpb25zOntwb3NpdGlvbjpLLlBvc2l0aW9uLkJPVFRPTX19KX1mdW5jdGlvbiBjMChlLHQpe3JldHVybiBlLnNlbmRlci5kaXNjb3JkSUQ9PT10fHx6ZS5zdG9yZS51c2VyPy50eXBlPT09MX12YXIgcm4sUm89ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0hlKCk7d2UoKTtLZSgpO0IoKTtNKCk7emEoKTtucigpO3JuPUxlKCJ2Yy1yZGItIil9KTt2YXIgemUsbnI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt4KCk7TSgpO1JvKCk7emU9RSh7YXV0aG9yaXplOnt0eXBlOjYsZGVzY3JpcHRpb246IkF1dGhvcml6ZSB3aXRoIFJldmlld0RCIixjb21wb25lbnQ6KCk9Pm8oUix7b25DbGljazpOcn0sIkF1dGhvcml6ZSB3aXRoIFJldmlld0RCIil9LG5vdGlmeVJldmlld3M6e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm90aWZ5IGFib3V0IG5ldyByZXZpZXdzIG9uIHN0YXJ0dXAiLGRlZmF1bHQ6ITB9LHNob3dXYXJuaW5nOnt0eXBlOjMsZGVzY3JpcHRpb246IkRpc3BsYXkgd2FybmluZyB0byBiZSByZXNwZWN0ZnVsIGF0IHRoZSB0b3Agb2YgdGhlIHJldmlld3MgbGlzdCIsZGVmYXVsdDohMH0saGlkZVRpbWVzdGFtcHM6e3R5cGU6MyxkZXNjcmlwdGlvbjoiSGlkZSB0aW1lc3RhbXBzIG9uIHJldmlld3MiLGRlZmF1bHQ6ITF9LHdlYnNpdGU6e3R5cGU6NixkZXNjcmlwdGlvbjoiUmV2aWV3REIgd2Vic2l0ZSIsY29tcG9uZW50OigpPT5vKFIse29uQ2xpY2s6KCk9PntsZXQgZT0iaHR0cHM6Ly9yZXZpZXdkYi5tYW50aWthZmFzaS5kZXYvIjt6ZS5zdG9yZS50b2tlbiYmKGUrPSIvYXBpL3JlZGlyZWN0P3Rva2VuPSIrZW5jb2RlVVJJQ29tcG9uZW50KHplLnN0b3JlLnRva2VuKSksVmVuY29yZE5hdGl2ZS5uYXRpdmUub3BlbkV4dGVybmFsKGUpfX0sIlJldmlld0RCIHdlYnNpdGUiKX0sc3VwcG9ydFNlcnZlcjp7dHlwZTo2LGRlc2NyaXB0aW9uOiJSZXZpZXdEQiBTdXBwb3J0IFNlcnZlciIsY29tcG9uZW50OigpPT5vKFIse29uQ2xpY2s6KCk9PntWZW5jb3JkTmF0aXZlLm5hdGl2ZS5vcGVuRXh0ZXJuYWwoImh0dHBzOi8vZGlzY29yZC5nZy9lV1BCU2J2em50Iil9fSwiUmV2aWV3REIgU3VwcG9ydCBTZXJ2ZXIiKX19KS53aXRoUHJpdmF0ZVNldHRpbmdzKCl9KTthc3luYyBmdW5jdGlvbiB1MChlLHQ9MCl7bGV0IG49MDt6ZS5zdG9yZS5zaG93V2FybmluZ3x8KG58PXBJKTtsZXQgcj1uZXcgVVJMU2VhcmNoUGFyYW1zKHtmbGFnczpTdHJpbmcobiksb2Zmc2V0OlN0cmluZyh0KX0pLGk9YXdhaXQgZihgJHtfaX0vYXBpL3Jldmlld2RiL3VzZXJzLyR7ZX0vcmV2aWV3cz8ke3J9YCkscz1pLnN0YXR1cz09PTIwMD9hd2FpdCBpLmpzb24oKTp7c3VjY2VzczohMSxtZXNzYWdlOiJBbiBFcnJvciBvY2N1cmVkIHdoaWxlIGZldGNoaW5nIHJldmlld3MuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIixyZXZpZXdzOltdLHVwZGF0ZWQ6ITEsaGFzTmV4dFBhZ2U6ITEscmV2aWV3Q291bnQ6MH07cmV0dXJuIHMuc3VjY2Vzcz9zOihIdChzLm1lc3NhZ2UpLHsuLi5zLHJldmlld3M6W3tpZDowLGNvbW1lbnQ6IkFuIEVycm9yIG9jY3VyZWQgd2hpbGUgZmV0Y2hpbmcgcmV2aWV3cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iLHN0YXI6MCx0aW1lc3RhbXA6MCxzZW5kZXI6e2lkOjAsdXNlcm5hbWU6IkVycm9yIixwcm9maWxlUGhvdG86Imh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwNDUzOTQ1MzMzODQ0NjIzNzcvMTA4NDkwMDU5ODAzNTUxMzQ0Ny82NDY4MDg1OTkyMDQ1OTM2ODMucG5nP3NpemU9MTI4IixkaXNjb3JkSUQ6IjAiLGJhZGdlczpbXX19XX0pfWFzeW5jIGZ1bmN0aW9uIHAwKGUpe3JldHVybiBlLnRva2VuPXplLnN0b3JlLnRva2VuLGUudG9rZW4/ZihfaStgL2FwaS9yZXZpZXdkYi91c2Vycy8ke2UudXNlcmlkfS9yZXZpZXdzYCx7bWV0aG9kOiJQVVQiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSksaGVhZGVyczp7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifX0pLnRoZW4odD0+dC5qc29uKCkpLnRoZW4odD0+KEh0KHQubWVzc2FnZSksdD8/bnVsbCkpOihIdCgiUGxlYXNlIGF1dGhvcml6ZSB0byBhZGQgYSByZXZpZXcuIiksTnIoKSxudWxsKX1mdW5jdGlvbiBkMChlKXtyZXR1cm4gZihfaStgL2FwaS9yZXZpZXdkYi91c2Vycy8ke2V9L3Jldmlld3NgLHttZXRob2Q6IkRFTEVURSIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLEFjY2VwdDoiYXBwbGljYXRpb24vanNvbiJ9KSxib2R5OkpTT04uc3RyaW5naWZ5KHt0b2tlbjp6ZS5zdG9yZS50b2tlbixyZXZpZXdpZDplfSl9KS50aGVuKHQ9PnQuanNvbigpKX1hc3luYyBmdW5jdGlvbiBtMChlKXtsZXQgdD1hd2FpdCBmKF9pKyIvYXBpL3Jldmlld2RiL3JlcG9ydHMiLHttZXRob2Q6IlBVVCIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLEFjY2VwdDoiYXBwbGljYXRpb24vanNvbiJ9KSxib2R5OkpTT04uc3RyaW5naWZ5KHtyZXZpZXdpZDplLHRva2VuOnplLnN0b3JlLnRva2VufSl9KS50aGVuKG49Pm4uanNvbigpKTtIdCh0Lm1lc3NhZ2UpfWZ1bmN0aW9uIGYwKGUpe3JldHVybiBmKF9pKyIvYXBpL3Jldmlld2RiL3VzZXJzIix7Ym9keTpKU09OLnN0cmluZ2lmeSh7dG9rZW46ZX0pLG1ldGhvZDoiUE9TVCJ9KS50aGVuKHQ9PnQuanNvbigpKX12YXIgX2ksamEscEksQmk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO25yKCk7Um8oKTtfaT0iaHR0cHM6Ly9tYW50aS52ZW5kaWNhdGVkLmRldiIsamE9NTAscEk9Mn0pO2Z1bmN0aW9uIGcwKHtvbkNsaWNrOmV9KXtyZXR1cm4gbyhaLHt0ZXh0OiJEZWxldGUgUmV2aWV3In0sdD0+bygiZGl2Iix7Li4udCxjbGFzc05hbWU6ZWUoSmQuYnV0dG9uLEpkLmRhbmdlcm91cyksb25DbGljazplfSxvKCJzdmciLHt3aWR0aDoiMTYiLGhlaWdodDoiMTYiLHZpZXdCb3g6IjAgMCAyMCAyMCJ9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik0xNSAzLjk5OVYySDlWMy45OTlIM1Y1Ljk5OUgyMVYzLjk5OUgxNVoifSksbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTUgNi45OTkwMlYxOC45OTlDNSAyMC4xMDEgNS44OTcgMjAuOTk5IDcgMjAuOTk5SDE3QzE4LjEwMyAyMC45OTkgMTkgMjAuMTAxIDE5IDE4Ljk5OVY2Ljk5OTAySDVaTTExIDE3SDlWMTFIMTFWMTdaTTE1IDE3SDEzVjExSDE1VjE3WiJ9KSkpKX1mdW5jdGlvbiBoMCh7b25DbGljazplfSl7cmV0dXJuIG8oWix7dGV4dDoiUmVwb3J0IFJldmlldyJ9LHQ9Pm8oImRpdiIsey4uLnQsY2xhc3NOYW1lOkpkLmJ1dHRvbixvbkNsaWNrOmV9LG8oInN2ZyIse3dpZHRoOiIxNiIsaGVpZ2h0OiIxNiIsdmlld0JveDoiMCAwIDIwIDIwIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTIwLDYuMDAySDE0VjMuMDAyQzE0LDIuNDUgMTMuNTUzLDIuMDAyIDEzLDIuMDAySDRDMy40NDcsMi4wMDIgMywyLjQ1IDMsMy4wMDJWMjIuMDAySDVWMTQuMDAySDEwLjU4Nkw4LjI5MywxNi4yOTVDOC4wMDcsMTYuNTgxIDcuOTIyLDE3LjAxMSA4LjA3NiwxNy4zODVDOC4yMywxNy43NTkgOC41OTYsMTguMDAyIDksMTguMDAySDIwQzIwLjU1MywxOC4wMDIgMjEsMTcuNTU0IDIxLDE3LjAwMlY3LjAwMkMyMSw2LjQ1IDIwLjU1Myw2LjAwMiAyMCw2LjAwMloifSkpKSl9dmFyIEpkLHkwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt5ZSgpO0IoKTtNKCk7SmQ9SSgiYnV0dG9uIiwid3JhcHBlciIsImRpc2FibGVkIiwic2VwYXJhdG9yIil9KTtmdW5jdGlvbiBRZChlKXtyZXR1cm4gbyhaLHt0ZXh0OmUubmFtZX0sKHtvbk1vdXNlRW50ZXI6dCxvbk1vdXNlTGVhdmU6bn0pPT5vKCJpbWciLHtjbGFzc05hbWU6cm4oImJhZGdlIiksd2lkdGg6IjI0cHgiLGhlaWdodDoiMjRweCIsb25Nb3VzZUVudGVyOnQsb25Nb3VzZUxlYXZlOm4sc3JjOmUuaWNvbixhbHQ6ZS5kZXNjcmlwdGlvbixvbkNsaWNrOigpPT5EbC5vcGVuVW50cnVzdGVkTGluayh7aHJlZjplLnJlZGlyZWN0VVJMfSl9KSl9dmFyIHYwPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7Um8oKX0pO3ZhciBXYSxWZD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c3QoKTt5ZSgpO2dlKCk7QigpO00oKTt6YSgpO0JpKCk7bnIoKTtSbygpO3kwKCk7djAoKTtXYT1yZSgoKT0+e2xldCBlPUouYnlQcm9wcyxbe2NvenlNZXNzYWdlOnQsYnV0dG9uczpuLG1lc3NhZ2U6cixncm91cFN0YXJ0Oml9LHtjb250YWluZXI6cyxpc0hlYWRlcjpjfSx7YXZhdGFyOnUsY2xpY2thYmxlOnAsdXNlcm5hbWU6eSxtZXNzYWdlQ29udGVudDpoLHdyYXBwZXI6Uyxjb3p5OlR9LHcsTF09VXIoZSgiY296eU1lc3NhZ2UiKSxlKCJjb250YWluZXIiLCJpc0hlYWRlciIpLGUoImF2YXRhciIsInphbGdvIiksZSgiYnV0dG9uIiwid3JhcHBlciIsInNlbGVjdGVkIiksZSgiYm90VGFnIikpLEM9bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQ7cmV0dXJuIGZ1bmN0aW9uKHtyZXZpZXc6VSxyZWZldGNoOiR9KXtmdW5jdGlvbiBYKCl7aG4oVS5zZW5kZXIuZGlzY29yZElEKX1mdW5jdGlvbiBuZSgpe0l0LnNob3coe3RpdGxlOiJBcmUgeW91IHN1cmU/Iixib2R5OiJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmV2aWV3PyIsY29uZmlybVRleHQ6IkRlbGV0ZSIsY2FuY2VsVGV4dDoiTmV2ZXJtaW5kIixvbkNvbmZpcm06KCk9PntkMChVLmlkKS50aGVuKHE9PntxLnN1Y2Nlc3MmJiQoKSxIdChxLm1lc3NhZ2UpfSl9fSl9ZnVuY3Rpb24gWSgpe0l0LnNob3coe3RpdGxlOiJBcmUgeW91IHN1cmU/Iixib2R5OiJEbyB5b3UgcmVhbGx5IHlvdSB3YW50IHRvIHJlcG9ydCB0aGlzIHJldmlldz8iLGNvbmZpcm1UZXh0OiJSZXBvcnQiLGNhbmNlbFRleHQ6Ik5ldmVybWluZCIsb25Db25maXJtOigpPT5tMChVLmlkKX0pfXJldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6ZWUodCxTLHIsaSxULHJuKCJyZXZpZXciKSksc3R5bGU6e21hcmdpbkxlZnQ6IjBweCIscGFkZGluZ0xlZnQ6IjUycHgiLHBhZGRpbmdSaWdodDoiMTZweCJ9fSxvKCJpbWciLHtjbGFzc05hbWU6ZWUodSxwKSxvbkNsaWNrOlgsc3JjOlUuc2VuZGVyLnByb2ZpbGVQaG90b3x8Ii9hc3NldHMvMWYwYmZjMDg2NWQzMjRjMjU4NzkyMGE3ZDgwYzYwOWIucG5nP3NpemU9MTI4IixzdHlsZTp7bGVmdDoiMHB4In19KSxvKCJkaXYiLHtzdHlsZTp7ZGlzcGxheToiaW5saW5lLWZsZXgiLGp1c3RpZnlDb250ZW50OiJjZW50ZXIiLGFsaWduSXRlbXM6ImNlbnRlciJ9fSxvKCJzcGFuIix7Y2xhc3NOYW1lOmVlKHAseSksc3R5bGU6e2NvbG9yOiJ2YXIoLS1jaGFubmVscy1kZWZhdWx0KSIsZm9udFNpemU6IjE0cHgifSxvbkNsaWNrOigpPT5YKCl9LFUuc2VuZGVyLnVzZXJuYW1lKSxVLnR5cGU9PT0zJiZvKCJzcGFuIix7Y2xhc3NOYW1lOmVlKEwuYm90VGFnVmVyaWZpZWQsTC5ib3RUYWdSZWd1bGFyLEwuYm90VGFnLEwucHgsTC5yZW0pLHN0eWxlOnttYXJnaW5MZWZ0OiI0cHgifX0sbygic3BhbiIse2NsYXNzTmFtZTpMLmJvdFRleHR9LCJTeXN0ZW0iKSkpLFUuc2VuZGVyLmJhZGdlcy5tYXAocT0+byhRZCx7Li4ucX0pKSwhemUuc3RvcmUuaGlkZVRpbWVzdGFtcHMmJlUudHlwZSE9PTMmJm8oTG4se3RpbWVzdGFtcDp0bihVLnRpbWVzdGFtcCoxZTMpfSxDLmZvcm1hdChVLnRpbWVzdGFtcCoxZTMpKSxvKCJwIix7Y2xhc3NOYW1lOmVlKGgpLHN0eWxlOntmb250U2l6ZToxNSxtYXJnaW5Ub3A6NCxjb2xvcjoidmFyKC0tdGV4dC1ub3JtYWwpIn19LFUuY29tbWVudCksVS5pZCE9PTAmJm8oImRpdiIse2NsYXNzTmFtZTplZShzLGMsbiksc3R5bGU6e3BhZGRpbmc6IjBweCJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6dy53cmFwcGVyfSxvKGgwLHtvbkNsaWNrOll9KSxjMChVLEcuZ2V0Q3VycmVudFVzZXIoKS5pZCkmJm8oZzAse29uQ2xpY2s6bmV9KSkpKX19KX0pO2Z1bmN0aW9uIEZpKHtkaXNjb3JkSWQ6ZSxuYW1lOnQsb25GZXRjaFJldmlld3M6bixyZWZldGNoU2lnbmFsOnIsc2Nyb2xsVG9Ub3A6aSxwYWdlOnM9MSxzaG93SW5wdXQ6Yz0hMSxoaWRlT3duUmV2aWV3OnU9ITF9KXtsZXRbcCx5XT1CdCghMCksW2hdPVZlKCgpPT51MChlLChzLTEpKmphKSx7ZmFsbGJhY2tWYWx1ZTpudWxsLGRlcHM6W3IscCxzXSxvblN1Y2Nlc3M6Uz0+e2k/LigpLG4oUyl9fSk7cmV0dXJuIGg/byhtLG51bGwsbyhtSSx7cmVmZXRjaDp5LHJldmlld3M6aC5yZXZpZXdzLGhpZGVPd25SZXZpZXc6dX0pLGMmJm8oZW0se25hbWU6dCxkaXNjb3JkSWQ6ZSxyZWZldGNoOnksaXNBdXRob3I6aC5yZXZpZXdzPy5zb21lKFM9PlMuc2VuZGVyLmRpc2NvcmRJRD09PUcuZ2V0Q3VycmVudFVzZXIoKS5pZCl9KSk6bnVsbH1mdW5jdGlvbiBtSSh7cmVmZXRjaDplLHJldmlld3M6dCxoaWRlT3duUmV2aWV3Om59KXtsZXQgcj1HLmdldEN1cnJlbnRVc2VyKCkuaWQ7cmV0dXJuIG8oImRpdiIse2NsYXNzTmFtZTpybigidmlldyIpfSx0Py5tYXAoaT0+KGkuc2VuZGVyLmRpc2NvcmRJRCE9PXJ8fCFuKSYmbyhXYSx7a2V5OmkuaWQscmV2aWV3OmkscmVmZXRjaDplfSkpLHQ/Lmxlbmd0aD09PTAmJm8oYi5Gb3JtVGV4dCx7Y2xhc3NOYW1lOnJuKCJwbGFjZWhvbGRlciIpfSwiTG9va3MgbGlrZSBub2JvZHkgcmV2aWV3ZWQgdGhpcyB1c2VyIHlldC4gWW91IGNvdWxkIGJlIHRoZSBmaXJzdCEiKSl9ZnVuY3Rpb24gZW0oe2Rpc2NvcmRJZDplLGlzQXV0aG9yOnQscmVmZXRjaDpuLG5hbWU6cn0pe2xldHt0b2tlbjppfT16ZS5zdG9yZTtmdW5jdGlvbiBzKHtrZXk6Yyx0YXJnZXQ6dX0pe2M9PT0iRW50ZXIiJiZwMCh7dXNlcmlkOmUsY29tbWVudDp1LnZhbHVlLHN0YXI6LTF9KS50aGVuKHA9PntwPy5zdWNjZXNzPyh1LnZhbHVlPSIiLG4oKSk6cD8ubWVzc2FnZSYmSHQocC5tZXNzYWdlKX0pfXJldHVybiBvKCJ0ZXh0YXJlYSIse2NsYXNzTmFtZTplZShkSS5pbnB1dERlZmF1bHQsImVudGVyLWNvbW1lbnQiLHJuKCJpbnB1dCIpKSxvbktleURvd25DYXB0dXJlOmM9PntjLmtleT09PSJFbnRlciImJmMucHJldmVudERlZmF1bHQoKX0scGxhY2Vob2xkZXI6aT90P2BVcGRhdGUgcmV2aWV3IGZvciBAJHtyfWA6YFJldmlldyBAJHtyfWA6IllvdSBuZWVkIHRvIGF1dGhvcml6ZSB0byByZXZpZXcgdXNlcnMhIixvbktleURvd246cyxvbkNsaWNrOigpPT57aXx8KEh0KCJPcGVuaW5nIGF1dGhvcml6YXRpb24gd2luZG93Li4uIiksTnIoKSl9fSl9dmFyIGRJLHRtPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt5ZSgpO2dlKCk7QigpO00oKTtCaSgpO25yKCk7Um8oKTtWZCgpO2RJPUkoImlucHV0RGVmYXVsdCIsImVkaXRhYmxlIil9KTtmdW5jdGlvbiBmSSh7bW9kYWxQcm9wczplLGRpc2NvcmRJZDp0LG5hbWU6bn0pe2xldFtyLGldPVcoKSxbcyxjXT1CdCghMCksW3UscF09VygxKSx5PSR0KG51bGwpLGg9cj8ucmV2aWV3Q291bnQsUz1yPy5yZXZpZXdzLmZpbmQoVD0+VC5zZW5kZXIuZGlzY29yZElEPT09emUuc3RvcmUudXNlcj8uZGlzY29yZElEKTtyZXR1cm4gbyhELG51bGwsbyhBZSx7Li4uZSxzaXplOiJtZWRpdW0ifSxvKEJlLG51bGwsbyh0ZSx7dmFyaWFudDoiaGVhZGluZy1sZy9zZW1pYm9sZCIsY2xhc3NOYW1lOnJuKCJtb2RhbC1oZWFkZXIiKX0sbiwiJ3MgUmV2aWV3cyIsISFoJiZvKCJzcGFuIixudWxsLCIgKCIsaCwiIFJldmlld3MpIikpLG8oQ3Qse29uQ2xpY2s6ZS5vbkNsb3NlfSkpLG8oRmUse3Njcm9sbGVyUmVmOnl9LG8oImRpdiIse2NsYXNzTmFtZTpybigibW9kYWwtcmV2aWV3cyIpfSxvKEZpLHtkaXNjb3JkSWQ6dCxuYW1lOm4scGFnZTp1LHJlZmV0Y2hTaWduYWw6cyxvbkZldGNoUmV2aWV3czppLHNjcm9sbFRvVG9wOigpPT55LmN1cnJlbnQ/LnNjcm9sbFRvKHt0b3A6MCxiZWhhdmlvcjoic21vb3RoIn0pLGhpZGVPd25SZXZpZXc6ITB9KSkpLG8odXQse2NsYXNzTmFtZTpybigibW9kYWwtZm9vdGVyIil9LG8oImRpdiIsbnVsbCxTJiZvKFdhLHtyZWZldGNoOmMscmV2aWV3OlN9KSxvKGVtLHtpc0F1dGhvcjpTIT1udWxsLGRpc2NvcmRJZDp0LG5hbWU6bixyZWZldGNoOmN9KSwhIWgmJm8oZ3Mse2N1cnJlbnRQYWdlOnUsbWF4VmlzaWJsZVBhZ2VzOjUscGFnZVNpemU6amEsdG90YWxDb3VudDpoLG9uUGFnZUNoYW5nZTpwfSkpKSkpfWZ1bmN0aW9uIG5tKGUsdCl7TWUobj0+byhmSSx7bW9kYWxQcm9wczpuLGRpc2NvcmRJZDplLG5hbWU6dH0pKX12YXIgUzA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7S2UoKTtnZSgpO00oKTtCaSgpO25yKCk7Um8oKTtWZCgpO3RtKCl9KTt2YXIgYjAsb20sVDA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2wwKCk7U3QoKTtzZSgpO3NkKCk7eG4oKTtQKCk7eCgpO00oKTtTMCgpO3RtKCk7emEoKTtCaSgpO25yKCk7Um8oKTtiMD0oZSx0KT0+KCk9PntlLnB1c2gobyhPLk1lbnVJdGVtLHtsYWJlbDoiVmlldyBSZXZpZXdzIixpZDoidmMtcmRiLXNlcnZlci1yZXZpZXdzIixpY29uOnFvLGFjdGlvbjooKT0+bm0odC5ndWlsZC5pZCx0Lmd1aWxkLm5hbWUpfSkpfSxvbT12KHtuYW1lOiJSZXZpZXdEQiIsZGVzY3JpcHRpb246IlJldmlldyBvdGhlciB1c2VycyAoQWRkcyBhIG5ldyBzZXR0aW5ncyB0byBwcm9maWxlcykiLGF1dGhvcnM6W2QubWFudGlrYWZhc2ksZC5WZW5dLHNldHRpbmdzOnplLHBhdGNoZXM6W3tmaW5kOiJkaXNhYmxlQm9yZGVyQ29sb3I6ITAiLHJlcGxhY2VtZW50OnttYXRjaDovXCguezAsMTB9XHt1c2VyOiguKSxzZXROb3RlOi4sY2FuRE06LiwuKz9cfVwpLyxyZXBsYWNlOiIkJiwkc2VsZi5nZXRSZXZpZXdzQ29tcG9uZW50KCQxKSJ9fV0sYXN5bmMgc3RhcnQoKXtsZXQgZT16ZS5zdG9yZSx7dG9rZW46dCxsYXN0UmV2aWV3SWQ6bixub3RpZnlSZXZpZXdzOnJ9PWU7IXJ8fCF0fHxzZXRUaW1lb3V0KGFzeW5jKCk9PntsZXQgaT1hd2FpdCBmMCh0KTtpZihuJiZuPGkubGFzdFJldmlld0lEJiYoZS5sYXN0UmV2aWV3SWQ9aS5sYXN0UmV2aWV3SUQsaS5sYXN0UmV2aWV3SUQhPT0wJiZIdCgiWW91IGhhdmUgbmV3IHJldmlld3Mgb24geW91ciBwcm9maWxlISIpKSxwZSgiZ3VpbGQtaGVhZGVyLXBvcG91dCIsYjApLGkuYmFuSW5mbyl7bGV0IHM9bmV3IERhdGUoaS5iYW5JbmZvLmJhbkVuZERhdGUpO3MuZ2V0VGltZSgpPkRhdGUubm93KCkmJihlLnVzZXI/LmJhbkluZm8/LmJhbkVuZERhdGU/PzApPHMuZ2V0VGltZSgpJiZJdC5zaG93KHt0aXRsZToiWW91IGhhdmUgYmVlbiBiYW5uZWQgZnJvbSBSZXZpZXdEQiIsYm9keTpvKG0sbnVsbCxvKCJwIixudWxsLCJZb3UgYXJlIGJhbm5lZCBmcm9tIFJldmlld0RCICIsaS50eXBlPT09LTE/InBlcm1hbmVudGx5IjoidW50aWwgIitzLnRvTG9jYWxlU3RyaW5nKCkpLGkuYmFuSW5mby5yZXZpZXdDb250ZW50JiZvKCJwIixudWxsLCJPZmZlbmRpbmcgUmV2aWV3OiAiLGkuYmFuSW5mby5yZXZpZXdDb250ZW50KSxvKCJwIixudWxsLCJDb250aW51ZWQgb2ZmZW5zZXMgd2lsbCByZXN1bHQgaW4gYSBwZXJtYW5lbnQgYmFuLiIpKSxjYW5jZWxUZXh0OiJBcHBlYWwiLGNvbmZpcm1UZXh0OiJPayIsb25DYW5jZWw6KCk9PlZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbCgiaHR0cHM6Ly9yZXZpZXdkYi5tYW50aWthZmFzaS5kZXYvYXBpL3JlZGlyZWN0PyIrbmV3IFVSTFNlYXJjaFBhcmFtcyh7dG9rZW46emUuc3RvcmUudG9rZW4scGFnZToiZGFzaGJvYXJkL2FwcGVhbCJ9KSl9KX1lLnVzZXI9aX0sNGUzKX0sc3RvcCgpe2ZlKCJndWlsZC1oZWFkZXItcG9wb3V0IixiMCl9LGdldFJldmlld3NDb21wb25lbnQ6RC53cmFwKGU9PntsZXRbdCxuXT1XKCk7cmV0dXJuIG8oa2kse2hlYWRlclRleHQ6IlVzZXIgUmV2aWV3cyIsb25Nb3JlQ2xpY2s6KCk9Pm5tKGUuaWQsZS51c2VybmFtZSksbW9yZVRvb2x0aXBUZXh0OnQmJnQ+NTA/YFZpZXcgYWxsICR7dH0gcmV2aWV3c2A6Ik9wZW4gUmV2aWV3IE1vZGFsIixvbkRyb3BEb3duQ2xpY2s6cj0+emUuc3RvcmUucmV2aWV3c0Ryb3Bkb3duU3RhdGU9IXIsZGVmYXVsdFN0YXRlOnplLnN0b3JlLnJldmlld3NEcm9wZG93blN0YXRlfSxvKEZpLHtkaXNjb3JkSWQ6ZS5pZCxuYW1lOmUudXNlcm5hbWUsb25GZXRjaFJldmlld3M6cj0+bihyLnJldmlld0NvdW50KSxzaG93SW5wdXQ6ITB9KSl9LHttZXNzYWdlOiJGYWlsZWQgdG8gcmVuZGVyIFJldmlld3MifSl9KX0pO3ZhciAkaSxybSx4MD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO1AoKTt4KCk7TSgpOyRpPUUoe2NoYXRNZW50aW9uczp7dHlwZTozLGRlZmF1bHQ6ITAsZGVzY3JpcHRpb246IlNob3cgcm9sZSBjb2xvcnMgaW4gY2hhdCBtZW50aW9ucyAoaW5jbHVkaW5nIGluIHRoZSBtZXNzYWdlIGJveCkiLHJlc3RhcnROZWVkZWQ6ITB9LG1lbWJlckxpc3Q6e3R5cGU6MyxkZWZhdWx0OiEwLGRlc2NyaXB0aW9uOiJTaG93IHJvbGUgY29sb3JzIGluIG1lbWJlciBsaXN0IHJvbGUgaGVhZGVycyIscmVzdGFydE5lZWRlZDohMH0sdm9pY2VVc2Vyczp7dHlwZTozLGRlZmF1bHQ6ITAsZGVzY3JpcHRpb246IlNob3cgcm9sZSBjb2xvcnMgaW4gdGhlIHZvaWNlIGNoYXQgdXNlciBsaXN0IixyZXN0YXJ0TmVlZGVkOiEwfX0pLHJtPXYoe25hbWU6IlJvbGVDb2xvckV2ZXJ5d2hlcmUiLGF1dGhvcnM6W2QuS2luZ0Zpc2gsZC5sZXdpc2FrdXJhXSxkZXNjcmlwdGlvbjoiQWRkcyB0aGUgdG9wIHJvbGUgY29sb3IgYW55d2hlcmUgcG9zc2libGUiLHBhdGNoZXM6W3tmaW5kOidjbGFzc05hbWU6Im1lbnRpb24iJyxyZXBsYWNlbWVudDpbe21hdGNoOi91c2VyOihcaSksY2hhbm5lbDooXGkpLnswLDMwMH0/IkAiXC5jb25jYXRcKC4rP1wpLyxyZXBsYWNlOiIkJixjb2xvcjokc2VsZi5nZXRVc2VyQ29sb3IoJDE/LmlkLHtjaGFubmVsSWQ6JDI/LmlkfSkifV0scHJlZGljYXRlOigpPT4kaS5zdG9yZS5jaGF0TWVudGlvbnN9LHtmaW5kOiIuc291cmNlLGNoaWxkcmVuIixyZXBsYWNlbWVudDpbe21hdGNoOi9mdW5jdGlvbiBcaVwoKFxpKVwpLns1LDIwfWlkLns1LDIwfWd1aWxkSWQuezUsMTB9Y2hhbm5lbElkLnsxMDAsMTUwfWhpZGVQZXJzb25hbEluZm9ybWF0aW9uLns1LDUwfWpzeC57NSwyMH0sey8scmVwbGFjZToiJCZjb2xvcjokc2VsZi5nZXRVc2VyQ29sb3IoJDEuaWQse2d1aWxkSWQ6JDE/Lmd1aWxkSWR9KSwifV0scHJlZGljYXRlOigpPT4kaS5zdG9yZS5jaGF0TWVudGlvbnN9LHtmaW5kOiIubWVtYmVyR3JvdXBzUGxhY2Vob2xkZXIiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyhtZW1vXChcKGZ1bmN0aW9uXCgoXGkpXCkuezMwMCw1MDB9Q0hBTk5FTF9NRU1CRVJTX0ExMVlfTEFCRUwuezEwMCwyMDB9cm9sZUljb24uezUsMjB9bnVsbCwpLiwiIFx1MjAxNCAiLC5cXS8scmVwbGFjZToiJDEkc2VsZi5yb2xlR3JvdXBDb2xvcigkMildIn1dLHByZWRpY2F0ZTooKT0+JGkuc3RvcmUubWVtYmVyTGlzdH0se2ZpbmQ6InJlbmRlclByaW9yaXR5U3BlYWtlciIscmVwbGFjZW1lbnQ6W3ttYXRjaDovcmVuZGVyTmFtZT1mdW5jdGlvblwoXCkuezUwLDc1fXNwZWFraW5nLns1MCwxMDB9anN4Lns1LDEwfXsvLHJlcGxhY2U6IiQmLi4uJHNlbGYuZ2V0Vm9pY2VQcm9wcyh0aGlzLnByb3BzKSwifV0scHJlZGljYXRlOigpPT4kaS5zdG9yZS52b2ljZVVzZXJzfV0sc2V0dGluZ3M6JGksZ2V0Q29sb3IoZSx7Y2hhbm5lbElkOnQsZ3VpbGRJZDpufSl7cmV0dXJuKG4/Pz1WLmdldENoYW5uZWwodCk/Lmd1aWxkX2lkKT9fZS5nZXRNZW1iZXIobixlKT8uY29sb3JTdHJpbmc/P251bGw6bnVsbH0sZ2V0VXNlckNvbG9yKGUsdCl7bGV0IG49dGhpcy5nZXRDb2xvcihlLHQpO3JldHVybiBuJiZwYXJzZUludChuLnNsaWNlKDEpLDE2KX0scm9sZUdyb3VwQ29sb3Ioe2lkOmUsY291bnQ6dCx0aXRsZTpuLGd1aWxkSWQ6cn0pe2xldCBzPW1lLmdldEd1aWxkKHIpPy5yb2xlc1tlXTtyZXR1cm4gbygic3BhbiIse3N0eWxlOntjb2xvcjpzPy5jb2xvclN0cmluZyxmb250V2VpZ2h0OiJ1bnNldCIsbGV0dGVyU3BhY2luZzoiLjA1ZW0ifX0sbiwiIFx1MjAxNCAiLHQpfSxnZXRWb2ljZVByb3BzKHt1c2VyOntpZDplfSxndWlsZElkOnR9KXtyZXR1cm57c3R5bGU6e2NvbG9yOnRoaXMuZ2V0Q29sb3IoZSx7Z3VpbGRJZDp0fSl9fX19KX0pO3ZhciB3MCxNMCxQMCxpbSxJMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7U3QoKTtQKCk7Z2UoKTt4KCk7QigpO00oKTt3MD1yZSgoKT0+VWUoIk0xMCA4LjI2NjY3VjRMMyAxMS40NjY3TDEwIDE4LjkzMzNWMTQuNTZDMTUgMTQuNTYgMTguNSAxNi4yNjY3IDIxIDIwQzIwIDE0LjY2NjcgMTcgOS4zMzMzMyAxMCA4LjI2NjY3WiIpKSxNMD1kZSgic2hvd01lbnRpb25Ub2dnbGUiLCJURVhUQVJFQV9GT0NVUyIsInNoaWZ0S2V5IiksUDA9KGUse21lc3NhZ2U6dH0pPT4oKT0+e2lmKFRlLmdldENoYW5uZWxJZCgpIT09dC5jaGFubmVsX2lkKXJldHVybjtsZXQgbj1WLmdldENoYW5uZWwodD8uY2hhbm5lbF9pZCk7aWYoIW4pcmV0dXJuO2xldCByPWF0KCJwaW4iLGUpO2lmKHImJiFyLnNvbWUocz0+cz8ucHJvcHM/LmlkPT09InJlcGx5Iikpe2xldCBzPXIuZmluZEluZGV4KGM9PmM/LnByb3BzLmlkPT09InBpbiIpO3JldHVybiByLnNwbGljZShzKzEsMCxvKE8uTWVudUl0ZW0se2lkOiJyZXBseSIsbGFiZWw6Y3QuTWVzc2FnZXMuTUVTU0FHRV9BQ1RJT05fUkVQTFksaWNvbjp3MCxhY3Rpb246Yz0+TTAobix0LGMpfSkpfWxldCBpPWF0KCJtYXJrLXVucmVhZCIsZSk7aWYoaSYmIWkuc29tZShzPT5zPy5wcm9wcz8uaWQ9PT0icmVwbHkiKSlyZXR1cm4gaS51bnNoaWZ0KG8oTy5NZW51SXRlbSx7aWQ6InJlcGx5IixsYWJlbDpjdC5NZXNzYWdlcy5NRVNTQUdFX0FDVElPTl9SRVBMWSxpY29uOncwLGFjdGlvbjpzPT5NMChuLHQscyl9KSl9LGltPXYoe25hbWU6IlNlYXJjaFJlcGx5IixkZXNjcmlwdGlvbjoiQWRkcyBhIHJlcGx5IGJ1dHRvbiB0byBzZWFyY2ggcmVzdWx0cyIsYXV0aG9yczpbZC5BcmlhXSxzdGFydCgpe3BlKCJtZXNzYWdlIixQMCl9LHN0b3AoKXtmZSgibWVzc2FnZSIsUDApfX0pfSk7dmFyIEMwPWcoKCk9Pnt9KTtmdW5jdGlvbiBOMChlKXtsZXQgdD1lLnNsaWNlKDEsLTEpLnJlcGxhY2UoLyhcZCkoQU18UE0pJC9pLCIkMSAkMiIpLG49bmV3IERhdGUoYCR7bmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKX0gJHt0fWApLmdldFRpbWUoKS8xZTM7cmV0dXJuIGlzTmFOKG4pP2U6KERhdGUubm93KCkvMWUzPm4mJihuKz04NjQwMCksYDx0OiR7TWF0aC5yb3VuZChuKX06dD5gKX1mdW5jdGlvbiBoSSh7cm9vdFByb3BzOmUsY2xvc2U6dH0pe2xldFtuLHJdPVcoKSxbaSxzXT1XKCIiKSxjPU1hdGgucm91bmQoKG5ldyBEYXRlKG4pLmdldFRpbWUoKXx8RGF0ZS5ub3coKSkvMWUzKSx1PShoLFMpPT5gPHQ6JHtofSR7UyYmYDoke1N9YH0+YCxbcCx5XT1NdCgoKT0+e2xldCBoPXUoYyxpKTtyZXR1cm5baCxrZS5wYXJzZShoKV19LFtjLGldKTtyZXR1cm4gbyhBZSx7Li4uZX0sbyhCZSx7Y2xhc3NOYW1lOlVpKCJtb2RhbC1oZWFkZXIiKX0sbyhiLkZvcm1UaXRsZSx7dGFnOiJoMiJ9LCJUaW1lc3RhbXAgUGlja2VyIiksbyhDdCx7b25DbGljazp0fSkpLG8oRmUse2NsYXNzTmFtZTpVaSgibW9kYWwtY29udGVudCIpfSxvKCJpbnB1dCIse3R5cGU6ImRhdGV0aW1lLWxvY2FsIix2YWx1ZTpuLG9uQ2hhbmdlOmg9PnIoaC5jdXJyZW50VGFyZ2V0LnZhbHVlKSxzdHlsZTp7Y29sb3JTY2hlbWU6WnIoKT09PTI/ImxpZ2h0IjoiZGFyayJ9fSksbyhiLkZvcm1UaXRsZSxudWxsLCJUaW1lc3RhbXAgRm9ybWF0Iiksbyhwbix7b3B0aW9uczpnSS5tYXAoaD0+KHtsYWJlbDpoLHZhbHVlOmh9KSksaXNTZWxlY3RlZDpoPT5oPT09aSxzZWxlY3Q6aD0+cyhoKSxzZXJpYWxpemU6aD0+aCxyZW5kZXJPcHRpb25MYWJlbDpoPT5vKCJkaXYiLHtjbGFzc05hbWU6VWkoImZvcm1hdC1sYWJlbCIpfSxrZS5wYXJzZSh1KGMsaC52YWx1ZSkpKSxyZW5kZXJPcHRpb25WYWx1ZTooKT0+eX0pLG8oYi5Gb3JtVGl0bGUse2NsYXNzTmFtZTp6LmJvdHRvbTh9LCJQcmV2aWV3IiksbyhiLkZvcm1UZXh0LHtjbGFzc05hbWU6VWkoInByZXZpZXctdGV4dCIpfSx5LCIgKCIscCwiKSIpKSxvKHV0LG51bGwsbyhSLHtvbkNsaWNrOigpPT57cW4ocCsiICIpLHQoKX19LCJJbnNlcnQiKSkpfXZhciBnSSxVaSxzbSxSMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QzAoKTskbigpO0hlKCk7UCgpO3N0KCk7ZXQoKTtLZSgpO3goKTtNKCk7Z0k9WyIiLCJ0IiwiVCIsImQiLCJEIiwiZiIsIkYiLCJSIl0sVWk9TGUoInZjLXN0LSIpO3NtPXYoe25hbWU6IlNlbmRUaW1lc3RhbXBzIixkZXNjcmlwdGlvbjoiU2VuZCB0aW1lc3RhbXBzIGVhc2lseSB2aWEgY2hhdCBib3ggYnV0dG9uICYgdGV4dCBzaG9ydGN1dHMuIFJlYWQgdGhlIGV4dGVuZGVkIGRlc2NyaXB0aW9uISIsYXV0aG9yczpbZC5WZW4sZC5UeWxlcl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZUV2ZW50c0FQSSJdLHBhdGNoZXM6W3tmaW5kOiIuYWN0aXZlQ29tbWFuZE9wdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oLilcLnB1c2guezEsMzB9ZGlzYWJsZWQ6KFxpKSwuezEsMjB9XH0sImdpZnQiXClcKS8scmVwbGFjZToiJCY7dHJ5eyQyfHwkMS5wdXNoKCRzZWxmLmNoYXRCYXJJY29uKCkpfWNhdGNoe30ifX1dLHN0YXJ0KCl7dGhpcy5saXN0ZW5lcj1rdCgoZSx0KT0+e3QuY29udGVudD10LmNvbnRlbnQucmVwbGFjZSgvYFxkezEsMn06XGR7Mn0gPyg/OkFNfFBNKT9gL2dpLE4wKX0pfSxzdG9wKCl7QXQodGhpcy5saXN0ZW5lcil9LGNoYXRCYXJJY29uKCl7cmV0dXJuIG8oWix7dGV4dDoiSW5zZXJ0IFRpbWVzdGFtcCJ9LCh7b25Nb3VzZUVudGVyOmUsb25Nb3VzZUxlYXZlOnR9KT0+bygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImZsZXgifX0sbyhSLHsiYXJpYS1oYXNwb3B1cCI6ImRpYWxvZyIsImFyaWEtbGFiZWwiOiIiLHNpemU6IiIsbG9vazplbi5CTEFOSyxvbk1vdXNlRW50ZXI6ZSxvbk1vdXNlTGVhdmU6dCxpbm5lckNsYXNzTmFtZTpndC5idXR0b24sb25DbGljazooKT0+e2xldCBuPU1lKHI9Pm8oaEkse3Jvb3RQcm9wczpyLGNsb3NlOigpPT5XbihuKX0pKX0sY2xhc3NOYW1lOlVpKCJidXR0b24iKX0sbygiZGl2Iix7Y2xhc3NOYW1lOmd0LmJ1dHRvbldyYXBwZXJ9LG8oInN2ZyIseyJhcmlhLWhpZGRlbiI6InRydWUiLHJvbGU6ImltZyIsd2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJnIix7ZmlsbDoibm9uZSIsImZpbGwtcnVsZSI6ImV2ZW5vZGQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YTIgMiAwIDAgMCAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptMCAxNkg1VjhoMTR2MTF6TTcgMTBoNXY1SDd2LTV6In0pLG8oInJlY3QiLHt3aWR0aDoiMjQiLGhlaWdodDoiMjQifSkpKSkpKSl9LHNldHRpbmdzQWJvdXRDb21wb25lbnQoKXtsZXQgZT1bIjEyOjAwIiwiMzo1MSIsIjE3OjU5IiwiMjQ6MDAiLCIxMjowMCBBTSIsIjA6MTNQTSJdLm1hcCh0PT5gXGAke3R9XGBgKTtyZXR1cm4gbyhtLG51bGwsbyhiLkZvcm1UZXh0LG51bGwsIlRvIHF1aWNrbHkgc2VuZCBzZW5kIHRpbWUgb25seSB0aW1lc3RhbXBzLCBpbmNsdWRlIHRpbWVzdGFtcHMgZm9ybWF0dGVkIGFzIGBISDpNTWAgKGluY2x1ZGluZyB0aGUgYmFja3RpY2tzISkgaW4geW91ciBtZXNzYWdlIiksbyhiLkZvcm1UZXh0LG51bGwsIlNlZSBiZWxvdyBmb3IgZXhhbXBsZXMuIElmIHlvdSBuZWVkIGFueXRoaW5nIG1vcmUgc3BlY2lmaWMsIHVzZSB0aGUgRGF0ZSBidXR0b24gaW4gdGhlIGNoYXQgYmFyISIpLG8oYi5Gb3JtVGV4dCxudWxsLCJFeGFtcGxlczoiLG8oInVsIixudWxsLGUubWFwKHQ9Pm8oImxpIix7a2V5OnR9LG8oImNvZGUiLG51bGwsdCksIiAiLCItPiIsIiAiLGtlLnBhcnNlKE4wKHQpKSkpKSkpfX0pfSk7ZnVuY3Rpb24geUkoKXtyZXR1cm4gTDA9QnQoKSxvKCJzcGFuIix7aWQ6InZjLWZyaWVuZGNvdW50IixzdHlsZTp7ZGlzcGxheToiaW5saW5lLWJsb2NrIix3aWR0aDoiMTAwJSIsZm9udFNpemU6IjEycHgiLGZvbnRXZWlnaHQ6IjYwMCIsY29sb3I6InZhcigtLWhlYWRlci1zZWNvbmRhcnkpIix0ZXh0VHJhbnNmb3JtOiJ1cHBlcmNhc2UiLHRleHRBbGlnbjoiY2VudGVyIn19LGxtLCIgb25saW5lIil9ZnVuY3Rpb24gdkkoKXtyZXR1cm4gRTA9QnQoKSxvKCJzcGFuIix7aWQ6InZjLWd1aWxkY291bnQiLHN0eWxlOntkaXNwbGF5OiJpbmxpbmUtYmxvY2siLHdpZHRoOiIxMDAlIixmb250U2l6ZToiMTJweCIsZm9udFdlaWdodDoiNjAwIixjb2xvcjoidmFyKC0taGVhZGVyLXNlY29uZGFyeSkiLHRleHRUcmFuc2Zvcm06InVwcGVyY2FzZSIsdGV4dEFsaWduOiJjZW50ZXIifX0sQTAsIiBzZXJ2ZXJzIil9ZnVuY3Rpb24gazAoKXtsbT0wO2xldCBlPWl0LmdldFJlbGF0aW9uc2hpcHMoKTtmb3IobGV0IHQgb2YgT2JqZWN0LmtleXMoZSkpZVt0XT09PTEmJmxvLmdldFN0YXR1cyh0KSE9PSJvZmZsaW5lIiYmKGxtKz0xKTtMMD8uKCl9ZnVuY3Rpb24gYW0oKXtBMD1tZS5nZXRHdWlsZENvdW50KCksRTA/LigpfXZhciBsbSxBMCxMMCxFMCxjbSxEMD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7QmEoKTtGKCk7c2UoKTtQKCk7Z2UoKTt4KCk7TSgpO2xtPTAsQTA9MDtjbT12KHtuYW1lOiJTZXJ2ZXJMaXN0SW5kaWNhdG9ycyIsZGVzY3JpcHRpb246IkFkZCBvbmxpbmUgZnJpZW5kIGNvdW50IG9yIHNlcnZlciBjb3VudCBpbiB0aGUgc2VydmVyIGxpc3QiLGF1dGhvcnM6W2QuZHpzaG5dLGRlcGVuZGVuY2llczpbIlNlcnZlckxpc3RBUEkiXSxvcHRpb25zOnttb2RlOntkZXNjcmlwdGlvbjoibW9kZSIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiT25seSBvbmxpbmUgZnJpZW5kIGNvdW50Iix2YWx1ZToyLGRlZmF1bHQ6ITB9LHtsYWJlbDoiT25seSBzZXJ2ZXIgY291bnQiLHZhbHVlOjF9LHtsYWJlbDoiQm90aCBzZXJ2ZXIgYW5kIG9ubGluZSBmcmllbmQgY291bnRzIix2YWx1ZTozfV19fSxyZW5kZXJJbmRpY2F0b3I6KCk9PntsZXR7bW9kZTplfT1OLnBsdWdpbnMuU2VydmVyTGlzdEluZGljYXRvcnM7cmV0dXJuIG8oRCx7bm9vcDohMH0sbygiZGl2Iix7c3R5bGU6e21hcmdpbkJvdHRvbToiNHB4In19LCEhKGUmMikmJm8oeUksbnVsbCksISEoZSYxKSYmbyh2SSxudWxsKSkpfSxmbHV4OntQUkVTRU5DRV9VUERBVEVTOmswLEdVSUxEX0NSRUFURTphbSxHVUlMRF9ERUxFVEU6YW19LHN0YXJ0KCl7TGkoMCx0aGlzLnJlbmRlckluZGljYXRvciksazAoKSxhbSgpfSxzdG9wKCl7RWkoMCx0aGlzLnJlbmRlckluZGljYXRvcil9fSl9KTt2YXIgTzA9ZygoKT0+e30pO3ZhciBfMCxCMD1nKCgpPT57YSgpO2woKTtfMD1gLyogZXNsaW50LWRpc2FibGUgaGVhZGVyL2hlYWRlciAqLwppbXBvcnQgUmVhY3QgZnJvbSAicmVhY3QiOwoKY29uc3QgaGFuZGxlQ2xpY2sgPSBhc3luYyAoKSA9PgogICAgY29uc29sZS5sb2coKGF3YWl0IGltcG9ydCgiQHdlYnBhY2svY29tbW9uIikpLkNsaXBib2FyZC5jb3B5KCJcXHUyMDBiIikpOwoKZXhwb3J0IGNvbnN0IEV4YW1wbGU6IFJlYWN0LkZDPHsKICAgIHJlYWw6IGJvb2xlYW4sCiAgICBzaGlnZ2VkPzogbnVtYmVyLAp9PiA9ICh7IHJlYWwsIHNoaWdnZWQgfSkgPT4gPD4KICAgIDxwPntcYFNoaWdnXCR7cmVhbCA/IFxgaWVzXCR7c2hpZ2dlZCA9PT0gMHgxQiA/ICJ0IiA6ICIifVxgIDogInkifVxgfTwvcD4KICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xpY2t9PkNsaWNrIE1lPC9idXR0b24+CjwvPjsKYH0pO3ZhciAkMD1CcigoVlosdW0pPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dmFyIFNJPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRHQ9In4iO2Z1bmN0aW9uIEdpKCl7fU9iamVjdC5jcmVhdGUmJihHaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKSxuZXcgR2koKS5fX3Byb3RvX198fChEdD0hMSkpO2Z1bmN0aW9uIGJJKGUsdCxuKXt0aGlzLmZuPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5vbmNlPW58fCExfWZ1bmN0aW9uIEYwKGUsdCxuLHIsaSl7aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3ZhciBzPW5ldyBiSShuLHJ8fGUsaSksYz1EdD9EdCt0OnQ7cmV0dXJuIGUuX2V2ZW50c1tjXT9lLl9ldmVudHNbY10uZm4/ZS5fZXZlbnRzW2NdPVtlLl9ldmVudHNbY10sc106ZS5fZXZlbnRzW2NdLnB1c2gocyk6KGUuX2V2ZW50c1tjXT1zLGUuX2V2ZW50c0NvdW50KyspLGV9ZnVuY3Rpb24gcWEoZSx0KXstLWUuX2V2ZW50c0NvdW50PT09MD9lLl9ldmVudHM9bmV3IEdpOmRlbGV0ZSBlLl9ldmVudHNbdF19ZnVuY3Rpb24gYnQoKXt0aGlzLl9ldmVudHM9bmV3IEdpLHRoaXMuX2V2ZW50c0NvdW50PTB9YnQucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXSxuLHI7aWYodGhpcy5fZXZlbnRzQ291bnQ9PT0wKXJldHVybiB0O2ZvcihyIGluIG49dGhpcy5fZXZlbnRzKVNJLmNhbGwobixyKSYmdC5wdXNoKER0P3Iuc2xpY2UoMSk6cik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/dC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKSk6dH07YnQucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgbj1EdD9EdCt0OnQscj10aGlzLl9ldmVudHNbbl07aWYoIXIpcmV0dXJuW107aWYoci5mbilyZXR1cm5bci5mbl07Zm9yKHZhciBpPTAscz1yLmxlbmd0aCxjPW5ldyBBcnJheShzKTtpPHM7aSsrKWNbaV09cltpXS5mbjtyZXR1cm4gY307YnQucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCl7dmFyIG49RHQ/RHQrdDp0LHI9dGhpcy5fZXZlbnRzW25dO3JldHVybiByP3IuZm4/MTpyLmxlbmd0aDowfTtidC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LG4scixpLHMsYyl7dmFyIHU9RHQ/RHQrdDp0O2lmKCF0aGlzLl9ldmVudHNbdV0pcmV0dXJuITE7dmFyIHA9dGhpcy5fZXZlbnRzW3VdLHk9YXJndW1lbnRzLmxlbmd0aCxoLFM7aWYocC5mbil7c3dpdGNoKHAub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcih0LHAuZm4sdm9pZCAwLCEwKSx5KXtjYXNlIDE6cmV0dXJuIHAuZm4uY2FsbChwLmNvbnRleHQpLCEwO2Nhc2UgMjpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCxuKSwhMDtjYXNlIDM6cmV0dXJuIHAuZm4uY2FsbChwLmNvbnRleHQsbixyKSwhMDtjYXNlIDQ6cmV0dXJuIHAuZm4uY2FsbChwLmNvbnRleHQsbixyLGkpLCEwO2Nhc2UgNTpyZXR1cm4gcC5mbi5jYWxsKHAuY29udGV4dCxuLHIsaSxzKSwhMDtjYXNlIDY6cmV0dXJuIHAuZm4uY2FsbChwLmNvbnRleHQsbixyLGkscyxjKSwhMH1mb3IoUz0xLGg9bmV3IEFycmF5KHktMSk7Uzx5O1MrKyloW1MtMV09YXJndW1lbnRzW1NdO3AuZm4uYXBwbHkocC5jb250ZXh0LGgpfWVsc2V7dmFyIFQ9cC5sZW5ndGgsdztmb3IoUz0wO1M8VDtTKyspc3dpdGNoKHBbU10ub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcih0LHBbU10uZm4sdm9pZCAwLCEwKSx5KXtjYXNlIDE6cFtTXS5mbi5jYWxsKHBbU10uY29udGV4dCk7YnJlYWs7Y2FzZSAyOnBbU10uZm4uY2FsbChwW1NdLmNvbnRleHQsbik7YnJlYWs7Y2FzZSAzOnBbU10uZm4uY2FsbChwW1NdLmNvbnRleHQsbixyKTticmVhaztjYXNlIDQ6cFtTXS5mbi5jYWxsKHBbU10uY29udGV4dCxuLHIsaSk7YnJlYWs7ZGVmYXVsdDppZighaClmb3Iodz0xLGg9bmV3IEFycmF5KHktMSk7dzx5O3crKyloW3ctMV09YXJndW1lbnRzW3ddO3BbU10uZm4uYXBwbHkocFtTXS5jb250ZXh0LGgpfX1yZXR1cm4hMH07YnQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gRjAodGhpcyx0LG4sciwhMSl9O2J0LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gRjAodGhpcyx0LG4sciwhMCl9O2J0LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LG4scixpKXt2YXIgcz1EdD9EdCt0OnQ7aWYoIXRoaXMuX2V2ZW50c1tzXSlyZXR1cm4gdGhpcztpZighbilyZXR1cm4gcWEodGhpcyxzKSx0aGlzO3ZhciBjPXRoaXMuX2V2ZW50c1tzXTtpZihjLmZuKWMuZm49PT1uJiYoIWl8fGMub25jZSkmJighcnx8Yy5jb250ZXh0PT09cikmJnFhKHRoaXMscyk7ZWxzZXtmb3IodmFyIHU9MCxwPVtdLHk9Yy5sZW5ndGg7dTx5O3UrKykoY1t1XS5mbiE9PW58fGkmJiFjW3VdLm9uY2V8fHImJmNbdV0uY29udGV4dCE9PXIpJiZwLnB1c2goY1t1XSk7cC5sZW5ndGg/dGhpcy5fZXZlbnRzW3NdPXAubGVuZ3RoPT09MT9wWzBdOnA6cWEodGhpcyxzKX1yZXR1cm4gdGhpc307YnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gdD8obj1EdD9EdCt0OnQsdGhpcy5fZXZlbnRzW25dJiZxYSh0aGlzLG4pKToodGhpcy5fZXZlbnRzPW5ldyBHaSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzfTtidC5wcm90b3R5cGUub2ZmPWJ0LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtidC5wcm90b3R5cGUuYWRkTGlzdGVuZXI9YnQucHJvdG90eXBlLm9uO2J0LnByZWZpeGVkPUR0O2J0LkV2ZW50RW1pdHRlcj1idDt0eXBlb2YgdW08InUiJiYodW0uZXhwb3J0cz1idCl9KTt2YXIgZm09QnIoUnI9PnsidXNlIHN0cmljdCI7YSgpO2woKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUnIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO1JyLkNoYW5uZWw9UnIuQ2hhbm5lbFBvcnQ9dm9pZCAwO3ZhciBUST0kMCgpLEthPSJ2YXBJcGMiLHBtPVN5bWJvbC5mb3IoInZhcElwYy5lZGdlQ3JlYXRlIiksZG09Y2xhc3N7X3BpcGVzPW5ldyBNYXA7X2xpc3RlbmVycz1uZXcgTWFwO19jcmVhdGVMaXN0ZW5lck1hcCgpe3JldHVybiBuZXcgTWFwfV9lbWl0KHQsbiwuLi5yKXtmb3IobGV0W2ksc11vZiB0aGlzLl9saXN0ZW5lcnMuZW50cmllcygpKXtpZihpPT09dCljb250aW51ZTtsZXQgYz1zLmdldChuKTtjJiZjKC4uLnIpfX1jcmVhdGVQaXBlKHQpe2xldCBuPXRoaXMuZ2V0UGlwZSh0KTtpZihuKXJldHVybiBuO2xldCByPXRoaXMuX2NyZWF0ZUxpc3RlbmVyTWFwKCk7dGhpcy5fbGlzdGVuZXJzLnNldCh0LHIpO2xldCBpPXtlbWl0OnRoaXMuX2VtaXQuYmluZCh0aGlzLHQpLGxpc3RlbjoocyxjKT0+dm9pZCByLnNldChzLGMpfTtyZXR1cm4gdGhpcy5fcGlwZXMuc2V0KHQsaSksaX1nZXRQaXBlKHQpe3JldHVybiB0aGlzLl9waXBlcy5nZXQodCk/P251bGx9fTtSci5DaGFubmVsUG9ydD1kbTt2YXIgbW09Y2xhc3N7aWQ7X2VkZ2VzPW5ldyBNYXA7X2NhbGxiYWNrcz1uZXcgTWFwO19jYWxsZXJzPW5ldyBNYXA7X2VkZ2VQaXBlcz1uZXcgTWFwO19waXBlcz1bXTtfZW1pdHRlcj1uZXcgVEkuRXZlbnRFbWl0dGVyO19sb2dnZXI7X2Rlc3Ryb3llZD0hMTtjb25zdHJ1Y3Rvcih0KXt0aGlzLmlkPXR9YWRkUGlwZSh0KXt0Lmxpc3RlbihgJHtLYX06aGFuZHNoYWtlYCxuPT57dGhpcy5faGFuZGxlSGFuZHNoYWtlKHQsbil9KSx0Lmxpc3RlbihgJHtLYX06bWVzc2FnZWAsbj0+e3RoaXMuX2hhbmRsZU1lc3NhZ2UodCxuKX0pLHRoaXMuX3BpcGVzLnB1c2godCksdGhpcy5fbG9nZ2VyPy5sb2coYEFkZGluZyBwaXBlIHRvIGNoYW5uZWwgIiR7dGhpcy5pZH0iYCl9c2V0TG9nZ2VyKHQpe3RoaXMuX2xvZ2dlcj10fV9oYW5kbGVIYW5kc2hha2UodCxuKXtpZih0aGlzLmlkPT09bi5pZClyZXR1cm47dGhpcy5fbG9nZ2VyPy5sb2coYFx1ezFGOTFEfSAiJHtuLmlkfSIgLT4gIiR7dGhpcy5pZH0iIChlZGdlczogWyR7bi5jaGFubmVsSWRzLmpvaW4oIiwgIil9XSlgKTtsZXQgcj10aGlzLl9lZGdlcy5nZXQobi5pZCk7aWYocil7bGV0IGk9bi5jaGFubmVsSWRzLmZpbHRlcihzPT4hcj8uY2hhbm5lbElkcy5pbmNsdWRlcyhzKSk7aWYoaS5pbmNsdWRlcyh0aGlzLmlkKSYmaS5zcGxpY2UoaS5pbmRleE9mKHRoaXMuaWQpLDEpLCFpLmxlbmd0aClyZXR1cm47dGhpcy5fZWRnZXMuc2V0KG4uaWQsey4uLm4sY2hhbm5lbElkczpbLi4uci5jaGFubmVsSWRzLC4uLmldfSl9ZWxzZXtsZXQgaT1bLi4ubi5jaGFubmVsSWRzXS5maWx0ZXIocz0+cyE9PXRoaXMuaWQpO3RoaXMuX2VkZ2VzLnNldChuLmlkLHsuLi5uLGNoYW5uZWxJZHM6aX0pLHRoaXMuX2VkZ2VQaXBlcy5zZXQobi5pZCx0KX10aGlzLl9lbWl0dGVyLmVtaXQocG0sbiksdGhpcy5oYW5kc2hha2VBbGwoKX1faGFuZGxlTWVzc2FnZSh0LG4pe2lmKG4ucHJveGllZEJ5PT09dGhpcy5pZClyZXR1cm47aWYobi5kZXN0aW5hdGlvbiE9PXRoaXMuaWQpcmV0dXJuIHRoaXMuX2VtaXRNZXNzYWdlKHsuLi5uLHByb3hpZWRCeTp0aGlzLmlkfSk7aWYoIW4ubm9uY2UpcmV0dXJuIHZvaWQgdGhpcy5fZW1pdHRlci5lbWl0KG4ubmFtZSxuLmRhdGEpO2xldCByPXRoaXMuX2NhbGxiYWNrcy5nZXQobi5ub25jZSk7aWYocilyZXR1cm4gdm9pZCByKG4uZGF0YSk7bGV0IGk9dGhpcy5fY2FsbGVycy5nZXQobi5uYW1lKTtpZihpKXtpKG4uZGF0YSkuY2F0Y2gocz0+KGNvbnNvbGUuZXJyb3IocyksbmV3IEVycm9yKHM/Lm1lc3NhZ2U/P2Ake3N9YCkpKS50aGVuKHM9Pnt0aGlzLl9lbWl0TWVzc2FnZSh7bmFtZTpuLm5hbWUsc291cmNlOnRoaXMuaWQsZGVzdGluYXRpb246bi5zb3VyY2UsZGF0YTpzLG5vbmNlOm4ubm9uY2V9KX0pO3JldHVybn19X2VtaXRIYW5kc2hha2UodCl7bGV0IG49dGhpcy5nZXRFZGdlKCk7dC5lbWl0KGAke0thfTpoYW5kc2hha2VgLG4pfV9lbWl0TWVzc2FnZSh0KXtsZXQgbj10aGlzLmZpbmRFZGdlSWQodC5kZXN0aW5hdGlvbik7aWYoIW4pcmV0dXJuO3RoaXMuX2VkZ2VQaXBlcy5nZXQobik/LmVtaXQoYCR7S2F9Om1lc3NhZ2VgLHQpfWdldEVkZ2UoKXtsZXQgdD1bLi4udGhpcy5fZWRnZXMua2V5cygpLC4uLlsuLi50aGlzLl9lZGdlcy52YWx1ZXMoKV0ubWFwKG49Pm4uY2hhbm5lbElkcykuZmxhdCgpXS5maWx0ZXIoKG4scixpKT0+aS5pbmRleE9mKG4pPT09cik7cmV0dXJue2lkOnRoaXMuaWQsY2hhbm5lbElkczp0fX1maW5kRWRnZUlkKHQpe2ZvcihsZXQgbiBvZiB0aGlzLl9lZGdlcy52YWx1ZXMoKSlpZihuLmlkPT09dHx8bi5jaGFubmVsSWRzLmluY2x1ZGVzKHQpKXJldHVybiBuLmlkO3JldHVybiBudWxsfXdhaXRGb3JFZGdlKHQpe2xldCBuPXRoaXMuZmluZEVkZ2VJZCh0KTtyZXR1cm4gbj9Qcm9taXNlLnJlc29sdmUobik6bmV3IFByb21pc2Uocj0+e2xldCBpPXM9Pnsocy5pZD09PXR8fHMuY2hhbm5lbElkcy5pbmNsdWRlcyh0KSkmJih0aGlzLl9lbWl0dGVyLm9mZihwbSxpKSxyKHMuaWQpKX07dGhpcy5fZW1pdHRlci5vbihwbSxpKX0pfWNyZWF0ZU5vbmNlKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIpfXNlbmQodCl7dGhpcy5fZW1pdE1lc3NhZ2Uoey4uLnQsc291cmNlOnRoaXMuaWR9KX1jYWxsKHQsbj17dGltZW91dDoxZTR9KXtsZXQgcj10aGlzLmNyZWF0ZU5vbmNlKCksaT1uZXcgUHJvbWlzZSgocyxjKT0+e2xldCB1PXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jYWxsYmFja3MuZGVsZXRlKHIpLGMobmV3IEVycm9yKCJDYWxsIHRpbWVkIG91dCIpKX0sbi50aW1lb3V0KTt0aGlzLl9jYWxsYmFja3Muc2V0KHIscD0+e3RoaXMuX2NhbGxiYWNrcy5kZWxldGUociksY2xlYXJUaW1lb3V0KHUpLG4uc2lnbmFsPy5hYm9ydGVkP24uc2lnbmFsLnJlYXNvbiBpbnN0YW5jZW9mIEVycm9yJiZjKG4uc2lnbmFsLnJlYXNvbik6cCBpbnN0YW5jZW9mIEVycm9yP2MocCk6cyhwKX0pfSk7cmV0dXJuIHRoaXMuX2VtaXRNZXNzYWdlKHsuLi50LHNvdXJjZTp0aGlzLmlkLG5vbmNlOnJ9KSxpfW9uKHQsbil7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24odCxuKSx0aGlzfW9mZih0LG4pe3JldHVybiB0aGlzLl9lbWl0dGVyLm9mZih0LG4pLHRoaXN9b25jZSh0LG4pe3RoaXMuX2VtaXR0ZXIub25jZSh0LG4pfW9uQ2FsbCh0LG4pe3RoaXMuX2NhbGxlcnMuc2V0KHQsYXN5bmMoLi4ucik9PmF3YWl0IG4oLi4ucikpfXJlbW92ZUNhbGxlcigpe31oYW5kc2hha2VBbGwoKXt0aGlzLl9waXBlcy5mb3JFYWNoKHQ9PnRoaXMuX2VtaXRIYW5kc2hha2UodCkpfWRlc3Ryb3koKXt0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2NhbGxiYWNrcy5jbGVhcigpLHRoaXMuX2NhbGxlcnMuY2xlYXIoKSx0aGlzLl9lZGdlUGlwZXMuY2xlYXIoKSx0aGlzLl9waXBlcz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITB9fTtSci5DaGFubmVsPW1tfSk7dmFyIHltPUJyKGtyPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGtyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtrci5SZW1vdGVDbGllbnQ9a3IuUmVtb3RlSG9zdD12b2lkIDA7dmFyIGdtPWNsYXNze2NoYW5uZWw7Y29uc3RydWN0b3IodCxuKXt0aGlzLmNoYW5uZWw9dDtmb3IobGV0W3IsaV1vZiBPYmplY3QuZW50cmllcyhuKSl0Lm9uQ2FsbChyLGFzeW5jIHM9PmF3YWl0IGkoLi4ucykpO3QuaGFuZHNoYWtlQWxsKCl9fTtrci5SZW1vdGVIb3N0PWdtO3ZhciBobT1jbGFzc3tob3N0TmFtZTtjaGFubmVsO2NvbnN0cnVjdG9yKHQsbil7dGhpcy5ob3N0TmFtZT10LHRoaXMuY2hhbm5lbD1ufWFzeW5jIGNvbm5lY3QoKXthd2FpdCB0aGlzLmNoYW5uZWwud2FpdEZvckVkZ2UodGhpcy5ob3N0TmFtZSl9cnVuKHQsLi4ubil7cmV0dXJuIHRoaXMuY2hhbm5lbC5jYWxsKHtuYW1lOnQsZGVzdGluYXRpb246dGhpcy5ob3N0TmFtZSxkYXRhOm59KX19O2tyLlJlbW90ZUNsaWVudD1obX0pO3ZhciBIMD1CcihBcj0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShBciwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7QXIuV29ya2VyQ2xpZW50PUFyLmNyZWF0ZVdvcmtlckhvc3Q9dm9pZCAwO3ZhciBVMD1mbSgpLEcwPXltKCkseEk9KGUsdCk9PntsZXQgbj1uZXcgVTAuQ2hhbm5lbChlKTtyZXR1cm4gbi5hZGRQaXBlKHtlbWl0OihyLGkpPT5wb3N0TWVzc2FnZSh7ZXZlbnQ6cixkYXRhOml9KSxsaXN0ZW46KHIsaSk9PmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCh7ZGF0YTpzfSk9PntzLmV2ZW50PT09ciYmaShzLmRhdGEpfSl9KSxuZXcgRzAuUmVtb3RlSG9zdChuLHQpfTtBci5jcmVhdGVXb3JrZXJIb3N0PXhJO3ZhciB2bT1jbGFzcyBleHRlbmRzIEcwLlJlbW90ZUNsaWVudHt3b3JrZXJPcHRzO3dvcmtlcjt3b3JrZXJMaXN0ZW5lcnM9W107dXJsO2NvbnN0cnVjdG9yKHQsbixyLGk9e30pe2xldCBzPW5ldyBVMC5DaGFubmVsKHQpO2lmKHN1cGVyKG4scyksdGhpcy53b3JrZXJPcHRzPWksciBpbnN0YW5jZW9mIEJsb2Ipe2xldCBjPW5ldyBCbG9iKFtyXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pO3RoaXMudXJsPVVSTC5jcmVhdGVPYmplY3RVUkwoYyl9ZWxzZSB0aGlzLnVybD1yfWFzeW5jIGluaXQoKXtsZXQgdD10aGlzLndvcmtlcj1uZXcgV29ya2VyKHRoaXMudXJsLHRoaXMud29ya2VyT3B0cyk7dGhpcy5jaGFubmVsLmFkZFBpcGUoe2VtaXQ6KG4scik9PnQucG9zdE1lc3NhZ2Uoe2V2ZW50Om4sZGF0YTpyfSksbGlzdGVuOihuLHIpPT57bGV0IGk9cz0+e2xldHtldmVudDpjLGRhdGE6dX09cy5kYXRhO2M9PT1uJiZyKHUpfTt0aGlzLndvcmtlckxpc3RlbmVycy5wdXNoKGkpLHQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fSksYXdhaXQgdGhpcy5jb25uZWN0KCl9ZGVzdHJveSgpe2lmKHRoaXMud29ya2VyKXtmb3IobGV0IHQgb2YgdGhpcy53b3JrZXJMaXN0ZW5lcnMpdGhpcy53b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdCk7dGhpcy53b3JrZXIudGVybWluYXRlKCl9dGhpcy5jaGFubmVsLmRlc3Ryb3koKSx0aGlzLnVybC5zdGFydHNXaXRoKCJibG9iOiIpJiZVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMudXJsKX19O0FyLldvcmtlckNsaWVudD12bX0pO3ZhciB6MD1Ccihvbz0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3ZhciB3ST1vbyYmb28uX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixyKXtyPT09dm9pZCAwJiYocj1uKTt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7KCFpfHwoImdldCJpbiBpPyF0Ll9fZXNNb2R1bGU6aS53cml0YWJsZXx8aS5jb25maWd1cmFibGUpKSYmKGk9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixpKX06ZnVuY3Rpb24oZSx0LG4scil7cj09PXZvaWQgMCYmKHI9biksZVtyXT10W25dfSksU209b28mJm9vLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSluIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJndJKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KG9vLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtTbShmbSgpLG9vKTtTbSh5bSgpLG9vKTtTbShIMCgpLG9vKX0pO2Z1bmN0aW9uIFRtKGUpe1lhLmlkIT09ZS5pZCYmKE9iamVjdC5hc3NpZ24oWWEsZSksYm0uZm9yRWFjaCh0PT50KGUpKSl9dmFyIFlhLGJtLGowLHhtPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7WWE9e2lkOm51bGwsdGhlbWU6bnVsbH0sYm09bmV3IFNldCxqMD0oKT0+e2xldFssZV09QS51c2VTdGF0ZShZYSk7cmV0dXJuIEEudXNlRWZmZWN0KCgpPT4oYm0uYWRkKGUpLCgpPT52b2lkIGJtLmRlbGV0ZShlKSksW10pLFlhfX0pO2Z1bmN0aW9uIG9yKGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChMcixlKSlyZXR1cm4gTHJbZV07bGV0IHQ9T2JqZWN0LnZhbHVlcyhMcikuZmluZChuPT5uLmFsaWFzZXM/LmluY2x1ZGVzKGUpKTtyZXR1cm4gdD8oTkkuc2V0KGUsdCksdCk6bnVsbH12YXIgTUksUEksVzAsSUksQ0ksTHIscTAsSzAsTkksWmE9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO01JPSJWYXAwcjF6ZS92YXBjb3JkIixQST0iODhhNzAzMmE1OWNjYTQwZGExNzA5MjY2NTFiMDgyMDFlYTNiOTY1YSIsVzA9YGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS8ke01JfS8ke1BJfS9hc3NldHMvc2hpa2ktY29kZWJsb2Nrc2AsSUk9ZT0+YCR7VzB9LyR7ZX1gLENJPWAke1cwfS9sYW5ndWFnZXMuanNvbmAsTHI9e30scTA9YXN5bmMoKT0+e2xldCBlPWF3YWl0IGYoQ0kpLnRoZW4obj0+bi5qc29uKCkpLHQ9T2JqZWN0LmZyb21FbnRyaWVzKGUubWFwKG49PltuLmlkLHsuLi5uLGdyYW1tYXJVcmw6SUkobi5maWxlTmFtZSl9XSkpO09iamVjdC5hc3NpZ24oTHIsdCl9LEswPWU9PmUuZ3JhbW1hcj9Qcm9taXNlLnJlc29sdmUoZS5ncmFtbWFyKTpmKGUuZ3JhbW1hclVybCkudGhlbih0PT50Lmpzb24oKSksTkk9bmV3IE1hcH0pO3ZhciBSSSxrSSx4ZSxybyx3bT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Ukk9InNoaWtpanMvc2hpa2kiLGtJPSIwYjI4YWQ4Y2NmYmYyNjE1ZjJkOWQzOGVhODI1NTQxNmI4YWMzMDQzIix4ZT1lPT5gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7Ukl9LyR7a0l9L3BhY2thZ2VzL3NoaWtpL3RoZW1lcy8ke2V9Lmpzb25gLHJvPXtEYXJrUGx1czp4ZSgiZGFyay1wbHVzIiksTWF0ZXJpYWxDYW5keToiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL21pbGxzcC9tYXRlcmlhbC1jYW5keS9tYXN0ZXIvbWF0ZXJpYWwtY2FuZHkuanNvbiIsRHJhY3VsYVNvZnQ6eGUoImRyYWN1bGEtc29mdCIpLERyYWN1bGE6eGUoImRyYWN1bGEiKSxHaXRodWJEYXJrRGltbWVkOnhlKCJnaXRodWItZGFyay1kaW1tZWQiKSxHaXRodWJEYXJrOnhlKCJnaXRodWItZGFyayIpLEdpdGh1YkxpZ2h0OnhlKCJnaXRodWItbGlnaHQiKSxMaWdodFBsdXM6eGUoImxpZ2h0LXBsdXMiKSxNYXRlcmlhbERhcmtlcjp4ZSgibWF0ZXJpYWwtZGFya2VyIiksTWF0ZXJpYWxEZWZhdWx0OnhlKCJtYXRlcmlhbC1kZWZhdWx0IiksTWF0ZXJpYWxMaWdodGVyOnhlKCJtYXRlcmlhbC1saWdodGVyIiksTWF0ZXJpYWxPY2Vhbjp4ZSgibWF0ZXJpYWwtb2NlYW4iKSxNYXRlcmlhbFBhbGVuaWdodDp4ZSgibWF0ZXJpYWwtcGFsZW5pZ2h0IiksTWluRGFyazp4ZSgibWluLWRhcmsiKSxNaW5MaWdodDp4ZSgibWluLWxpZ2h0IiksTW9ub2thaTp4ZSgibW9ub2thaSIpLE5vcmQ6eGUoIm5vcmQiKSxPbmVEYXJrUHJvOnhlKCJvbmUtZGFyay1wcm8iKSxQb2ltYW5kcmVzOnhlKCJwb2ltYW5kcmVzIiksUm9zZVBpbmVEYXduOnhlKCJyb3NlLXBpbmUtZGF3biIpLFJvc2VQaW5lTW9vbjp4ZSgicm9zZS1waW5lLW1vb24iKSxSb3NlUGluZTp4ZSgicm9zZS1waW5lIiksU2xhY2tEYXJrOnhlKCJzbGFjay1kYXJrIiksU2xhY2tPY2hpbjp4ZSgic2xhY2stb2NoaW4iKSxTb2xhcml6ZWREYXJrOnhlKCJzb2xhcml6ZWQtZGFyayIpLFNvbGFyaXplZExpZ2h0OnhlKCJzb2xhcml6ZWQtbGlnaHQiKSxWaXRlc3NlRGFyazp4ZSgidml0ZXNzZS1kYXJrIiksVml0ZXNzZUxpZ2h0OnhlKCJ2aXRlc3NlLWxpZ2h0IiksQ3NzVmFyaWFibGVzOnhlKCJjc3MtdmFyaWFibGVzIil9fSk7dmFyIFowLE1tLFkwLHVlLEhpPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtTaSgpO1owPWdsKHowKCkpO3htKCk7WmEoKTt3bSgpO01tPU9iamVjdC52YWx1ZXMocm8pLHVlPXtjbGllbnQ6bnVsbCxjdXJyZW50VGhlbWU6bnVsbCxjdXJyZW50VGhlbWVVcmw6bnVsbCx0aW1lb3V0TXM6MWU0LGxhbmd1YWdlczpMcix0aGVtZXM6cm8sbG9hZGVkVGhlbWVzOm5ldyBTZXQsbG9hZGVkTGFuZ3M6bmV3IFNldCxjbGllbnRQcm9taXNlOm5ldyBQcm9taXNlKGU9PlkwPWUpLGluaXQ6YXN5bmMgZT0+e2xldCB0PWF3YWl0IGYobDEpLnRoZW4oaT0+aS5ibG9iKCkpLG49dWUuY2xpZW50PW5ldyBaMC5Xb3JrZXJDbGllbnQoInNoaWtpLWNsaWVudCIsInNoaWtpLWhvc3QiLHQse25hbWU6IlNoaWtpV29ya2VyIn0pO2F3YWl0IG4uaW5pdCgpO2xldCByPWV8fE1tWzBdO2F3YWl0IHEwKCksYXdhaXQgbi5ydW4oInNldE9uaWdhc20iLHt3YXNtOmMxfSksYXdhaXQgbi5ydW4oInNldEhpZ2hsaWdodGVyIix7dGhlbWU6cixsYW5nczpbXX0pLHVlLmxvYWRlZFRoZW1lcy5hZGQociksYXdhaXQgdWUuX3NldFRoZW1lKHIpLFkwKG4pfSxfc2V0VGhlbWU6YXN5bmMgZT0+e3VlLmN1cnJlbnRUaGVtZVVybD1lO2xldHt0aGVtZURhdGE6dH09YXdhaXQgdWUuY2xpZW50LnJ1bigiZ2V0VGhlbWUiLHt0aGVtZTplfSk7dWUuY3VycmVudFRoZW1lPUpTT04ucGFyc2UodCksVG0oe2lkOmUsdGhlbWU6dWUuY3VycmVudFRoZW1lfSl9LGxvYWRUaGVtZTphc3luYyBlPT57bGV0IHQ9YXdhaXQgdWUuY2xpZW50UHJvbWlzZTt1ZS5sb2FkZWRUaGVtZXMuaGFzKGUpfHwoYXdhaXQgdC5ydW4oImxvYWRUaGVtZSIse3RoZW1lOmV9KSx1ZS5sb2FkZWRUaGVtZXMuYWRkKGUpKX0sc2V0VGhlbWU6YXN5bmMgZT0+e2F3YWl0IHVlLmNsaWVudFByb21pc2UsZXx8PU1tWzBdLHVlLmxvYWRlZFRoZW1lcy5oYXMoZSl8fGF3YWl0IHVlLmxvYWRUaGVtZShlKSxhd2FpdCB1ZS5fc2V0VGhlbWUoZSl9LGxvYWRMYW5nOmFzeW5jIGU9PntsZXQgdD1hd2FpdCB1ZS5jbGllbnRQcm9taXNlLG49b3IoZSk7IW58fHVlLmxvYWRlZExhbmdzLmhhcyhuLmlkKXx8KGF3YWl0IHQucnVuKCJsb2FkTGFuZ3VhZ2UiLHtsYW5nOnsuLi5uLGdyYW1tYXI6bi5ncmFtbWFyPz9hd2FpdCBLMChuKX19KSx1ZS5sb2FkZWRMYW5ncy5hZGQobi5pZCkpfSx0b2tlbml6ZUNvZGU6YXN5bmMoZSx0KT0+e2xldCBuPWF3YWl0IHVlLmNsaWVudFByb21pc2Uscj1vcih0KTtyZXR1cm4gcj8odWUubG9hZGVkTGFuZ3MuaGFzKHIuaWQpfHxhd2FpdCB1ZS5sb2FkTGFuZyhyLmlkKSxhd2FpdCBuLnJ1bigiY29kZVRvVGhlbWVkVG9rZW5zIix7Y29kZTplLGxhbmc6dCx0aGVtZTp1ZS5jdXJyZW50VGhlbWVVcmw/P01tWzBdfSkpOltdfSxkZXN0cm95KCl7dWUuY3VycmVudFRoZW1lPW51bGwsdWUuY3VycmVudFRoZW1lVXJsPW51bGwsVG0oe2lkOm51bGwsdGhlbWU6bnVsbH0pLHVlLmNsaWVudD8uZGVzdHJveSgpfX19KTt2YXIgemksUG09ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy9zaGlraUNvZGVibG9ja3MvZGV2aWNvbi5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9zaGlraUNvZGVibG9ja3MvZGV2aWNvbi5jc3MiLHNvdXJjZTpgQGltcG9ydCB1cmwoImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9kZXZpY29ucy9kZXZpY29uQHYyLjEwLjEvZGV2aWNvbi5taW4uY3NzIik7CmAsY2xhc3NOYW1lczp7fSxkb206bnVsbH0pO3ppPSJzcmMvcGx1Z2lucy9zaGlraUNvZGVibG9ja3MvZGV2aWNvbi5jc3MifSk7dmFyIGppPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKX0pO3ZhciBMSSxrbyxJbT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO0hlKCk7eWUoKTtabigpO3goKTtIaSgpO3dtKCk7UG0oKTtqaSgpO0xJPU9iamVjdC5rZXlzKHJvKSxrbz1FKHt0aGVtZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJEZWZhdWx0IHRoZW1lcyIsb3B0aW9uczpMSS5tYXAoZT0+KHtsYWJlbDpZbihXbChlKSksdmFsdWU6cm9bZV0sZGVmYXVsdDpyb1tlXT09PXJvLkRhcmtQbHVzfSkpLG9uQ2hhbmdlOnVlLnNldFRoZW1lfSxjdXN0b21UaGVtZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJBIGxpbmsgdG8gYSBjdXN0b20gdnNjb2RlIHRoZW1lIixwbGFjZWhvbGRlcjpyby5NYXRlcmlhbENhbmR5LG9uQ2hhbmdlOmU9Pnt1ZS5zZXRUaGVtZShlfHxrby5zdG9yZS50aGVtZSl9fSx0cnlIbGpzOnt0eXBlOjQsZGVzY3JpcHRpb246IlVzZSB0aGUgbW9yZSBsaWdodHdlaWdodCBkZWZhdWx0IERpc2NvcmQgaGlnaGxpZ2h0ZXIgYW5kIHRoZW1lLiIsb3B0aW9uczpbe2xhYmVsOiJOZXZlciIsdmFsdWU6Ik5FVkVSIn0se2xhYmVsOiJQcmVmZXIgU2hpa2kgaW5zdGVhZCBvZiBIaWdobGlnaHQuanMiLHZhbHVlOiJTRUNPTkRBUlkiLGRlZmF1bHQ6ITB9LHtsYWJlbDoiUHJlZmVyIEhpZ2hsaWdodC5qcyBpbnN0ZWFkIG9mIFNoaWtpIix2YWx1ZToiUFJJTUFSWSJ9LHtsYWJlbDoiQWx3YXlzIix2YWx1ZToiQUxXQVlTIn1dfSx1c2VEZXZJY29uOnt0eXBlOjQsZGVzY3JpcHRpb246IkhvdyB0byBzaG93IGxhbmd1YWdlIGljb25zIG9uIGNvZGVibG9ja3MiLG9wdGlvbnM6W3tsYWJlbDoiRGlzYWJsZWQiLHZhbHVlOiJESVNBQkxFRCJ9LHtsYWJlbDoiQ29sb3JsZXNzIix2YWx1ZToiR1JFWVNDQUxFIixkZWZhdWx0OiEwfSx7bGFiZWw6IkNvbG9yZWQiLHZhbHVlOiJDT0xPUiJ9XSxvbkNoYW5nZTplPT57ZT09PSJESVNBQkxFRCI/TnQoemkpOnR0KHppKX19LGJnT3BhY2l0eTp7dHlwZTo1LGRlc2NyaXB0aW9uOiJCYWNrZ3JvdW5kIG9wYWNpdHkiLG1hcmtlcnM6WzAsMjAsNDAsNjAsODAsMTAwXSxkZWZhdWx0OjEwMCxjb21wb25lbnRQcm9wczp7c3RpY2tUb01hcmtlcnM6ITEsb25WYWx1ZVJlbmRlcjpudWxsfX19LHt0aGVtZTp7ZGlzYWJsZWQoKXtyZXR1cm4hIXRoaXMuc3RvcmUuY3VzdG9tVGhlbWV9fSxjdXN0b21UaGVtZTp7aXNWYWxpZChlKXtpZighZSlyZXR1cm4hMDtsZXQgdD1DbChlKTtyZXR1cm4gdD90LnBhdGhuYW1lLmVuZHNXaXRoKCIuanNvbiIpPyEwOiJNdXN0IGJlIGEganNvbiBmaWxlIjoiTXVzdCBiZSBhIHZhbGlkIFVSTCJ9fX0pfSk7ZnVuY3Rpb24gSjAoZSx0KXtsZXQgbj1rby51c2UoZSksW3IsaV09QS51c2VTdGF0ZSghMSkscz17Li4ubiwuLi50fSxjPXMuY3VzdG9tVGhlbWV8fHMudGhlbWU7aWYodCl7bGV0IHU9dWUuY3VycmVudFRoZW1lVXJsJiZjJiZjIT09dWUuY3VycmVudFRoZW1lVXJsLHA9T2JqZWN0LmtleXModCkubGVuZ3RoPT09MDtyJiYoIXV8fHApJiZpKCExKSwhciYmdSYmKGkoITApLHVlLnNldFRoZW1lKGMpKX1yZXR1cm57Li4ucyxpc1RoZW1lTG9hZGluZzpjIT09dWUuY3VycmVudFRoZW1lVXJsfX12YXIgUTA9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO00oKTtIaSgpO0ltKCl9KTtmdW5jdGlvbiBWMChlKXtyZXR1cm4gZT1lLnNsaWNlKDEpLGUubGVuZ3RoPDYmJihlPWUuc3BsaXQoIiIpLm1hcCh0PT50K3QpLmpvaW4oIiIpKSxlLmxlbmd0aD09PTYmJihlKz0iZmYiKSxlLmxlbmd0aD42JiYoZT1lLnNsaWNlKDAsNikpLGUuc3BsaXQoLyguLikvKS5maWx0ZXIoQm9vbGVhbikubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX12YXIgZWI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpfSk7dmFyIEluLHRiLFdpPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtIZSgpO00oKTtaYSgpO2ppKCk7SW49TGUoInNoaWtpLSIpLHRiPSh7bGFuZzplLHRyeUhsanM6dH0pPT57bGV0IG49ZT9Hbz8uZ2V0TGFuZ3VhZ2U/LihlKTpudWxsLGk9KGU/b3IoZSk6bnVsbCk/Lm5hbWU7c3dpdGNoKHQpe2Nhc2UiQUxXQVlTIjpyZXR1cm4hMDtjYXNlIlBSSU1BUlkiOnJldHVybiEhbnx8ZT09PSIiO2Nhc2UiU0VDT05EQVJZIjpyZXR1cm4haSYmISFuO2Nhc2UiTkVWRVIiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITF9fX0pO2Z1bmN0aW9uIG5iKGUpe2xldFt0LG5dPUEudXNlU3RhdGUoITEpO2Z1bmN0aW9uIHIoaSl7UXQuY29weShpKSxuKCEwKSxzZXRUaW1lb3V0KCgpPT57bighMSl9LGUpfXJldHVyblt0LHJdfXZhciBvYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpfSk7ZnVuY3Rpb24gcmIoe2NvbnRlbnQ6ZSwuLi50fSl7bGV0W24scl09bmIoMWUzKTtyZXR1cm4gbygiYnV0dG9uIix7Li4udCxzdHlsZTp7Li4udC5zdHlsZSxjdXJzb3I6bj8iZGVmYXVsdCI6dm9pZCAwfSxvbkNsaWNrOigpPT5yKGUpfSxuPyJDb3BpZWQhIjoiQ29weSIpfXZhciBpYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7b2IoKX0pO2Z1bmN0aW9uIHNiKHtjb250ZW50OmUsdGhlbWU6dH0pe2xldCBuPVtdO3JldHVybiBRdC5TVVBQT1JUU19DT1BZJiZuLnB1c2gobyhyYix7Y29udGVudDplLGNsYXNzTmFtZTpJbigiYnRuIiksc3R5bGU6e2JhY2tncm91bmRDb2xvcjp0LmFjY2VudEJnQ29sb3IsY29sb3I6dC5hY2NlbnRGZ0NvbG9yfX0pKSxvKCJkaXYiLHtjbGFzc05hbWU6SW4oImJ0bnMiKX0sbil9dmFyIGFiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7V2koKTtpYigpfSk7dmFyIGxiLGNiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7V2koKTtsYj0oe3RoZW1lOmUsdXNlSGxqczp0LGxhbmc6bixjb250ZW50OnIsdG9rZW5zOml9KT0+e2xldCBzO2lmKHQpdHJ5e2xldHt2YWx1ZTp1fT1Hby5oaWdobGlnaHQobixyLCEwKTtzPXUuc3BsaXQoYApgKS5tYXAoKHAseSk9Pm8oInNwYW4iLHtrZXk6eSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnB9fSkpfWNhdGNoe3M9ci5zcGxpdChgCmApLm1hcCh1PT5vKCJzcGFuIixudWxsLHUpKX1lbHNlIHM9KGk/P3Iuc3BsaXQoYApgKS5tYXAocD0+W3tjb2xvcjplLnBsYWluQ29sb3IsY29udGVudDpwfV0pKS5tYXAocD0+cC5sZW5ndGg9PT0wP28oInNwYW4iLG51bGwsYApgKTpvKG0sbnVsbCxwLm1hcCgoe2NvbnRlbnQ6eSxjb2xvcjpoLGZvbnRTdHlsZTpTfSxUKT0+bygic3BhbiIse2tleTpULHN0eWxlOntjb2xvcjpoLGZvbnRTdHlsZTooUz8/MCkmMT8iaXRhbGljIjp2b2lkIDAsZm9udFdlaWdodDooUz8/MCkmMj8iYm9sZCI6dm9pZCAwLHRleHREZWNvcmF0aW9uOihTPz8wKSY0PyJ1bmRlcmxpbmUiOnZvaWQgMH19LHkpKSkpO2xldCBjPXMubWFwKCh1LHApPT5vKCJ0ciIse2tleTpwfSxvKCJ0ZCIse3N0eWxlOntjb2xvcjplLnBsYWluQ29sb3J9fSxwKzEpLG8oInRkIixudWxsLHUpKSk7cmV0dXJuIG8oInRhYmxlIix7Y2xhc3NOYW1lOkluKCJ0YWJsZSIpfSwuLi5jKX19KTtmdW5jdGlvbiB1Yih7bGFuZ05hbWU6ZSx1c2VEZXZJY29uOnQsc2hpa2lMYW5nOm59KXtyZXR1cm4gZT9vKCJkaXYiLHtjbGFzc05hbWU6SW4oImxhbmciKX0sdCE9PSJESVNBQkxFRCImJm4/LmRldmljb24mJm8oImkiLHtjbGFzc05hbWU6YCR7SW4oImRldmljb24iKX0gZGV2aWNvbi0ke24uZGV2aWNvbn0ke3Q9PT0iQ09MT1IiPyIgY29sb3JlZCI6IiJ9YH0pLGUpOm8obSxudWxsKX12YXIgcGI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2ppKCk7V2koKX0pO3ZhciBYYSxFSSxkYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7c2UoKTtnZSgpO00oKTtaYSgpO0hpKCk7UTAoKTt4bSgpO2ViKCk7V2koKTthYigpO2NiKCk7cGIoKTtYYT1lPT5vKCJwcmUiLHtjbGFzc05hbWU6SW4oImNvbnRhaW5lciIpfSxvKEQsbnVsbCxvKEVJLHsuLi5lfSkpKSxFST0oe2xhbmc6ZSxjb250ZW50OnQsaXNQcmV2aWV3Om4sdGVtcFNldHRpbmdzOnJ9KT0+e2xldHt0cnlIbGpzOmksdXNlRGV2SWNvbjpzLGJnT3BhY2l0eTpjfT1KMChbInRyeUhsanMiLCJ1c2VEZXZJY29uIiwiYmdPcGFjaXR5Il0scikse2lkOnUsdGhlbWU6cH09ajAoKSx5PWU/b3IoZSk6bnVsbCxoPXRiKHtsYW5nOmUsdHJ5SGxqczppfSksW1MsVF09UmwoITApLFt3XT1WZShhc3luYygpPT4heXx8aHx8IVQ/bnVsbDphd2FpdCB1ZS50b2tlbml6ZUNvZGUodCxlKSx7ZmFsbGJhY2tWYWx1ZTpudWxsLGRlcHM6W2UsdCx1LFRdfSksTD17cGxhaW5Db2xvcjpwPy5mZ3x8InZhcigtLXRleHQtbm9ybWFsKSIsYWNjZW50QmdDb2xvcjpwPy5jb2xvcnM/Llsic3RhdHVzQmFyLmJhY2tncm91bmQiXXx8KGg/IiM3Mjg5ZGEiOiIjMDA3QkM4IiksYWNjZW50RmdDb2xvcjpwPy5jb2xvcnM/Llsic3RhdHVzQmFyLmZvcmVncm91bmQiXXx8IiNGRkYiLGJhY2tncm91bmRDb2xvcjpwPy5jb2xvcnM/LlsiZWRpdG9yLmJhY2tncm91bmQiXXx8InZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSJ9LEM7cmV0dXJuIGUmJihDPWg/R28/LmdldExhbmd1YWdlPy4oZSk/Lm5hbWU6eT8ubmFtZSksbygiZGl2Iix7cmVmOlMsY2xhc3NOYW1lOkluKCJyb290Iix7cGxhaW46IUMscHJldmlldzpufSksc3R5bGU6e2JhY2tncm91bmRDb2xvcjpoP0wuYmFja2dyb3VuZENvbG9yOmByZ2JhKCR7VjAoTC5iYWNrZ3JvdW5kQ29sb3IpLmNvbmNhdChjLzEwMCkuam9pbigiLCAiKX0pYCxjb2xvcjpMLnBsYWluQ29sb3J9fSxvKCJjb2RlIixudWxsLG8odWIse2xhbmdOYW1lOkMsdXNlRGV2SWNvbjpzLHNoaWtpTGFuZzp5fSksbyhsYix7dGhlbWU6TCx1c2VIbGpzOmgsbGFuZzplLGNvbnRlbnQ6dCx0b2tlbnM6d30pLCFuJiZvKHNiLHtjb250ZW50OnQsdGhlbWU6TH0pKSl9fSk7dmFyIG1iLGZiLGdiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTttYj1uZXcgTWFwLGZiPSgpPT57bWIuZm9yRWFjaChlPT5lLnJlbW92ZSgpKSxtYi5jbGVhcigpfX0pO3ZhciBDbSxoYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TzAoKTtIZSgpO1AoKTt4KCk7QjAoKTtIaSgpO2RiKCk7UG0oKTtJbSgpO2ppKCk7Z2IoKTtDbT12KHtuYW1lOiJTaGlraUNvZGVibG9ja3MiLGRlc2NyaXB0aW9uOiJCcmluZ3MgdnNjb2RlLXN0eWxlIGNvZGVibG9ja3MgaW50byBEaXNjb3JkLCBwb3dlcmVkIGJ5IFNoaWtpIixhdXRob3JzOltkLlZhcF0scGF0Y2hlczpbe2ZpbmQ6ImNvZGVCbG9jazp7cmVhY3Q6ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovY29kZUJsb2NrOlx7cmVhY3Q6ZnVuY3Rpb25cKChcaSksKFxpKSwoXGkpXClcey8scmVwbGFjZToiJCZyZXR1cm4gJHNlbGYucmVuZGVySGlnaGxpZ2h0ZXIoJDEsJDIsJDMpOyJ9fV0sc3RhcnQ6YXN5bmMoKT0+e2tvLnN0b3JlLnVzZURldkljb24hPT0iRElTQUJMRUQiJiZ0dCh6aSksYXdhaXQgdWUuaW5pdChrby5zdG9yZS5jdXN0b21UaGVtZXx8a28uc3RvcmUudGhlbWUpfSxzdG9wOigpPT57dWUuZGVzdHJveSgpLGZiKCl9LHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KHt0ZW1wU2V0dGluZ3M6ZX0pPT5YYSh7bGFuZzoidHN4Iixjb250ZW50Ol8wLGlzUHJldmlldzohMCx0ZW1wU2V0dGluZ3M6ZX0pLHNldHRpbmdzOmtvLHNoaWtpOnVlLGNyZWF0ZUhpZ2hsaWdodGVyOlhhLHJlbmRlckhpZ2hsaWdodGVyOih7bGFuZzplLGNvbnRlbnQ6dH0pPT5YYSh7bGFuZzplLGNvbnRlbnQ6dCxpc1ByZXZpZXc6ITF9KX0pfSk7dmFyIE5tLHliPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO05tPXYoe25hbWU6IlNob3dBbGxNZXNzYWdlQnV0dG9ucyIsZGVzY3JpcHRpb246IkFsd2F5cyBzaG93IGFsbCBtZXNzYWdlIGJ1dHRvbnMgbm8gbWF0dGVyIGlmIHlvdSBhcmUgaG9sZGluZyB0aGUgc2hpZnQga2V5IG9yIG5vdC4iLGF1dGhvcnM6W2QuTnVja3l6XSxwYXRjaGVzOlt7ZmluZDoiLk1lc3NhZ2VzLk1FU1NBR0VfVVRJTElUSUVTX0ExMVlfTEFCRUwiLHJlcGxhY2VtZW50OnttYXRjaDovaXNFeHBhbmRlZDooXGkpLCg/PD0sXDE9XGkmJig/PSghLis/KVssO10pLis/KS8scmVwbGFjZToiaXNFeHBhbmRlZDokMiwifX1dfSl9KTt2YXIgdmI9ZygoKT0+e30pO2Z1bmN0aW9uIGJiKCl7bGV0IGU9anIoU2IuY29sb3JzLklOVEVSQUNUSVZFX01VVEVEKS5oZXgoKSx0PWpyKFNiLmNvbG9ycy5JTlRFUkFDVElWRV9BQ1RJVkUpLmhleCgpO3JldHVybiBvKERJLHtjb2xvcjplLGZvcmNlZEljb25Db2xvcjp0LHNpemU6MTYsdG9vbHRpcFRleHQ6Y3QuTWVzc2FnZXMuQ09OTkVDVElPTl9WRVJJRklFRH0pfXZhciBTYixESSxUYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7Z2UoKTtCKCk7TSgpO1NiPU5lKGU9PmUuY29sb3JzPy5JTlRFUkFDVElWRV9NVVRFRD8uY3NzKSxEST1yZSgoKT0+VWUoIi5DT05ORUNUSU9OU19ST0xFX09GRklDSUFMX0lDT05fVE9PTFRJUCIpKX0pO2Z1bmN0aW9uIHhiKHtpZDplLHRoZW1lOnR9KXtsZXQgbj1fSS5nZXRVc2VyUHJvZmlsZShlKTtpZighbilyZXR1cm4gbnVsbDtsZXQgcj1uLmNvbm5lY3RlZEFjY291bnRzO3JldHVybiByPy5sZW5ndGg/byhPSSxudWxsLG8odGUse3RhZzoiaDIiLHZhcmlhbnQ6ImV5ZWJyb3ciLHN0eWxlOntjb2xvcjoidmFyKC0taGVhZGVyLXByaW1hcnkpIn19LCJDb25uZWN0aW9ucyIpLG8oY2Use3N0eWxlOnttYXJnaW5Ub3A6IjhweCIsZ2FwOlVJKEphLnN0b3JlLmljb25TcGFjaW5nKSxmbGV4V3JhcDoid3JhcCJ9fSxyLm1hcChpPT5vKHpJLHtjb25uZWN0aW9uOmksdGhlbWU6dH0pKSkpOm51bGx9ZnVuY3Rpb24gekkoe2Nvbm5lY3Rpb246ZSx0aGVtZTp0fSl7bGV0IG49RkkuZ2V0KGUudHlwZSkscj1uLmdldFBsYXRmb3JtVXNlclVybD8uKGUpLGk9bygiaW1nIix7ImFyaWEtbGFiZWwiOmUubmFtZSxzcmM6dD09PSJsaWdodCI/bi5pY29uLmxpZ2h0U1ZHOm4uaWNvbi5kYXJrU1ZHLHN0eWxlOnt3aWR0aDpKYS5zdG9yZS5pY29uU2l6ZSxoZWlnaHQ6SmEuc3RvcmUuaWNvblNpemV9fSkscz1yP25hOk15O3JldHVybiBvKFose3RleHQ6bygic3BhbiIse2NsYXNzTmFtZToidmMtc2MtdG9vbHRpcCJ9LGUubmFtZSxlLnZlcmlmaWVkJiZvKGJiLG51bGwpLG8ocyx7aGVpZ2h0OjE2LHdpZHRoOjE2fSkpLGtleTplLmlkfSxjPT5yP28oImEiLHsuLi5jLGNsYXNzTmFtZToidmMtdXNlci1jb25uZWN0aW9uIixocmVmOnIsdGFyZ2V0OiJfYmxhbmsiLG9uQ2xpY2s6dT0+e1ZlbmNvcmQuUGx1Z2lucy5pc1BsdWdpbkVuYWJsZWQoIk9wZW5JbkFwcCIpJiZWZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5PcGVuSW5BcHAuaGFuZGxlTGluayh1LmN1cnJlbnRUYXJnZXQsdSl9fSxpKTpvKCJidXR0b24iLHsuLi5jLGNsYXNzTmFtZToidmMtdXNlci1jb25uZWN0aW9uIixvbkNsaWNrOigpPT5WdChlLm5hbWUpfSxpKSl9dmFyIE9JLF9JLEJJLEZJLCRJLFVJLEphLEdJLEhJLFJtLHdiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTt2YigpO0YoKTtzZSgpO3Z0KCk7eG4oKTtQKCk7eWUoKTtnZSgpO3goKTtCKCk7TSgpO1RiKCk7T0k9cmUoKCk9PlVlKCIoKS5sYXN0U2VjdGlvbiIpKSxfST1sZSgiVXNlclByb2ZpbGVTdG9yZSIpLEJJPWxlKCJUaGVtZVN0b3JlIiksRkk9SSgiaXNTdXBwb3J0ZWQiLCJnZXRCeVVybCIpLCRJPWRlKCcsIi0tcHJvZmlsZS1ncmFkaWVudC1wcmltYXJ5LWNvbG9yIicpLFVJPWU9PihlPz8wKSoyKzQsSmE9RSh7aWNvblNpemU6e3R5cGU6MSxkZXNjcmlwdGlvbjoiSWNvbiBzaXplIChweCkiLGRlZmF1bHQ6MzJ9LGljb25TcGFjaW5nOnt0eXBlOjQsZGVzY3JpcHRpb246Ikljb24gbWFyZ2luIixkZWZhdWx0OjEsb3B0aW9uczpbe2xhYmVsOiJDb21wYWN0Iix2YWx1ZTowfSx7bGFiZWw6IkNvenkiLHZhbHVlOjF9LHtsYWJlbDoiUm9vbXkiLHZhbHVlOjJ9XX19KSxHST1ELndyYXAoZT0+byh4Yix7aWQ6ZS51c2VyLmlkLHRoZW1lOiRJKGUudXNlcixlLmRpc3BsYXlQcm9maWxlKS5wcm9maWxlVGhlbWV9KSksSEk9RC53cmFwKGU9Pm8oeGIse2lkOmUuY2hhbm5lbC5yZWNpcGllbnRzWzBdLHRoZW1lOkJJLnRoZW1lfSkpO1JtPXYoe25hbWU6IlNob3dDb25uZWN0aW9ucyIsZGVzY3JpcHRpb246IlNob3cgY29ubmVjdGVkIGFjY291bnRzIGluIHVzZXIgcG9wb3V0cyIsYXV0aG9yczpbZC5UaGVLb2RlVG9hZF0scGF0Y2hlczpbe2ZpbmQ6Ii5NZXNzYWdlcy5CT1RfUFJPRklMRV9TTEFTSF9DT01NQU5EUyIscmVwbGFjZW1lbnQ6e21hdGNoOi8sdGhlbWU6XGlcfVwpKD89LC57MCwxMDB9c2V0Tm90ZTopLyxyZXBsYWNlOiIkJiwkc2VsZi5wcm9maWxlUG9wb3V0Q29tcG9uZW50KGFyZ3VtZW50c1swXSkifX0se2ZpbmQ6JyJQcm9maWxlIFBhbmVsOiB1c2VyIGNhbm5vdCBiZSB1bmRlZmluZWQiJyxyZXBsYWNlbWVudDp7bWF0Y2g6L1woMCxcaVwuanN4XClcKFxpXC5caSxce1x9XCkuezAsMTAwfXNldE5vdGU6LyxyZXBsYWNlOiIkc2VsZi5wcm9maWxlUGFuZWxDb21wb25lbnQoYXJndW1lbnRzWzBdKSwkJiJ9fV0sc2V0dGluZ3M6SmEscHJvZmlsZVBvcG91dENvbXBvbmVudDpHSSxwcm9maWxlUGFuZWxDb21wb25lbnQ6SEl9KX0pO3ZhciBNYj1nKCgpPT57fSk7ZnVuY3Rpb24gQ2IoZSl7SWI9ZX1mdW5jdGlvbiBWSSh7Y2hhbm5lbDplfSl7bGV0W3Qsbl09VyhBby5zdG9yZS5kZWZhdWx0QWxsb3dlZFVzZXJzQW5kUm9sZXNEcm9wZG93blN0YXRlKSxbcixpXT1XKFtdKSx7dHlwZTpzLHRvcGljOmMsbGFzdE1lc3NhZ2VJZDp1LGRlZmF1bHRGb3J1bUxheW91dDpwLGxhc3RQaW5UaW1lc3RhbXA6eSxkZWZhdWx0QXV0b0FyY2hpdmVEdXJhdGlvbjpoLGF2YWlsYWJsZVRhZ3M6UyxpZDpULHJhdGVMaW1pdFBlclVzZXI6dyxkZWZhdWx0VGhyZWFkUmF0ZUxpbWl0UGVyVXNlcjpMLGRlZmF1bHRTb3J0T3JkZXI6QyxkZWZhdWx0UmVhY3Rpb25FbW9qaTprLGJpdHJhdGU6VSxydGNSZWdpb246JCx2aWRlb1F1YWxpdHlNb2RlOlgscGVybWlzc2lvbk92ZXJ3cml0ZXM6bmUsZ3VpbGRfaWQ6WX09ZTtyZXR1cm4gR2UoKCk9PntsZXQgcT1bXSxvZT1tZS5nZXRHdWlsZChZKS5vd25lcklkO19lLmdldE1lbWJlcihZLG9lKXx8cS5wdXNoKG9lKSxPYmplY3QudmFsdWVzKG5lKS5mb3JFYWNoKCh7dHlwZTpILGlkOkVlfSk9PntIPT09MSYmIV9lLmdldE1lbWJlcihZLEVlKSYmcS5wdXNoKEVlKX0pLHEubGVuZ3RoPjAmJl8uZGlzcGF0Y2goe3R5cGU6IkdVSUxEX01FTUJFUlNfUkVRVUVTVCIsZ3VpbGRJZHM6W1ldLHVzZXJJZHM6cX0pLE4ucGx1Z2lucy5QZXJtaXNzaW9uc1ZpZXdlci5lbmFibGVkJiZpKHdhKE9iamVjdC52YWx1ZXMobmUpLm1hcChIPT4oe3R5cGU6SC50eXBlLGlkOkguaWQsb3ZlcndyaXRlQWxsb3c6SC5hbGxvdyxvdmVyd3JpdGVEZW55OkguZGVueX0pKSxZKSl9LFtUXSksbygiZGl2Iix7Y2xhc3NOYW1lOlBiLmF1dG8rIiAiK1BiLmN1c3RvbVRoZW1lKyIgIitqSS5jaGF0Q29udGVudCsiIHNoYy1sb2NrLXNjcmVlbi1vdXRlci1jb250YWluZXIifSxvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1jb250YWluZXIifSxvKCJpbWciLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1sb2dvIixzcmM6UUl9KSxvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1oZWFkaW5nLWNvbnRhaW5lciJ9LG8odGUse3ZhcmlhbnQ6ImhlYWRpbmcteHhsL2JvbGQifSwiVGhpcyBpcyBhICIsT2UuY2FuKGttLGUpPyJsb2NrZWQiOiJoaWRkZW4iLCIgIixZSVtzXSwiIGNoYW5uZWwuIiksZS5pc05TRlcoKSYmbyhaLHt0ZXh0OiJOU0ZXIn0sKHtvbk1vdXNlTGVhdmU6cSxvbk1vdXNlRW50ZXI6b2V9KT0+bygic3ZnIix7b25Nb3VzZUxlYXZlOnEsb25Nb3VzZUVudGVyOm9lLGNsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWhlYWRpbmctbnNmdy1pY29uIix3aWR0aDoiMzIiLGhlaWdodDoiMzIiLHZpZXdCb3g6IjAgMCA0OCA0OCIsImFyaWEtaGlkZGVuIjohMCxyb2xlOiJpbWcifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNLjcgNDMuMDUgMjQgMi44NWwyMy4zIDQwLjJabTIzLjU1LTYuMjVxLjc1IDAgMS4yNzUtLjUyNS41MjUtLjUyNS41MjUtMS4yNzUgMC0uNzUtLjUyNS0xLjN0LTEuMjc1LS41NXEtLjggMC0xLjMyNS41NS0uNTI1LjU1LS41MjUgMS4zdC41NSAxLjI3NXEuNTUuNTI1IDEuMy41MjVabS0xLjg1LTYuMWgzLjY1VjE5LjRIMjIuNFoifSkpKSksIWUuaXNHdWlsZFZvaWNlKCkmJiFlLmlzR3VpbGRTdGFnZVZvaWNlKCkmJm8odGUse3ZhcmlhbnQ6InRleHQtbGcvbm9ybWFsIn0sIllvdSBjYW4gbm90IHNlZSB0aGUgIixlLmlzRm9ydW1DaGFubmVsKCk/InBvc3RzIjoibWVzc2FnZXMiLCIgb2YgdGhpcyBjaGFubmVsLiIsZS5pc0ZvcnVtQ2hhbm5lbCgpJiZjJiZjLmxlbmd0aD4wJiYiIEhvd2V2ZXIgeW91IG1heSBzZWUgaXRzIGd1aWRlbGluZXM6IiksZS5pc0ZvcnVtQ2hhbm5lbCgpJiZjJiZjLmxlbmd0aD4wJiZvKCJkaXYiLHtjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi10b3BpYy1jb250YWluZXIifSxrZS5wYXJzZVRvcGljKGMsITEse2NoYW5uZWxJZDpUfSkpLHUmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkxhc3QgIixlLmlzRm9ydW1DaGFubmVsKCk/InBvc3QiOiJtZXNzYWdlIiwiIGNyZWF0ZWQ6IixvKExuLHt0aW1lc3RhbXA6dG4odW8uZXh0cmFjdFRpbWVzdGFtcCh1KSl9KSkseSYmbyh0ZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiTGFzdCBtZXNzYWdlIHBpbjogIixvKExuLHt0aW1lc3RhbXA6dG4oeSl9KSksKHc/PzApPjAmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIlNsb3dtb2RlOiAiLFFyKHcsInNlY29uZHMiKSksKEw/PzApPjAmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkRlZmF1bHQgdGhyZWFkIHNsb3dtb2RlOiAiLFFyKEwsInNlY29uZHMiKSksKGUuaXNHdWlsZFZvaWNlKCl8fGUuaXNHdWlsZFN0YWdlVm9pY2UoKSkmJlUhPW51bGwmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkJpdHJhdGU6ICIsVSwiIGJpdHMiKSwkIT09dm9pZCAwJiZvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJSZWdpb246ICIsJD8/IkF1dG9tYXRpYyIpLChlLmlzR3VpbGRWb2ljZSgpfHxlLmlzR3VpbGRTdGFnZVZvaWNlKCkpJiZvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJWaWRlbyBxdWFsaXR5IG1vZGU6ICIsSklbWD8/MV0pLChoPz8wKT4wJiZvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJEZWZhdWx0IGluYWN0aXZpdHkgZHVyYXRpb24gYmVmb3JlIGFyY2hpdmluZyAiLGUuaXNGb3J1bUNoYW5uZWwoKT8icG9zdHMiOiJ0aHJlYWRzIiwiOiIsIiAiK1FyKGgsIm1pbnV0ZXMiKSkscCE9bnVsbCYmbyh0ZSx7dmFyaWFudDoidGV4dC1tZC9ub3JtYWwifSwiRGVmYXVsdCBsYXlvdXQ6ICIsWElbcF0pLEMhPW51bGwmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIkRlZmF1bHQgc29ydCBvcmRlcjogIixaSVtDXSksayE9bnVsbCYmbygiZGl2Iix7Y2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tZGVmYXVsdC1lbW9qaS1jb250YWluZXIifSxvKHRlLHt2YXJpYW50OiJ0ZXh0LW1kL25vcm1hbCJ9LCJEZWZhdWx0IHJlYWN0aW9uIGVtb2ppOiIpLGtlLmRlZmF1bHRSdWxlc1trLmVtb2ppTmFtZT8iZW1vamkiOiJjdXN0b21FbW9qaSJdLnJlYWN0KHtuYW1lOmsuZW1vamlOYW1lP3FJLmNvbnZlcnRTdXJyb2dhdGVUb05hbWUoay5lbW9qaU5hbWUpOmZuLmdldEN1c3RvbUVtb2ppQnlJZChrLmVtb2ppSWQpPy5uYW1lPz8iIixlbW9qaUlkOmsuZW1vamlJZD8/dm9pZCAwLHN1cnJvZ2F0ZTprLmVtb2ppTmFtZT8/dm9pZCAwLHNyYzprLmVtb2ppTmFtZT9LSS5nZXRVUkwoay5lbW9qaU5hbWUpOnZvaWQgMH0sdm9pZCAwLHtrZXk6IjAifSkpLGUuaGFzRmxhZygxNikmJm8odGUse3ZhcmlhbnQ6InRleHQtbWQvbm9ybWFsIn0sIlBvc3RzIG9uIHRoaXMgZm9ydW0gcmVxdWlyZSBhIHRhZyB0byBiZSBzZXQuIiksUyYmUy5sZW5ndGg+MCYmbygiZGl2Iix7Y2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tdGFncy1jb250YWluZXIifSxvKHRlLHt2YXJpYW50OiJ0ZXh0LWxnL2JvbGQifSwiQXZhaWxhYmxlIHRhZ3M6IiksbygiZGl2Iix7Y2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tdGFncyJ9LFMubWFwKHE9Pm8oV0kse3RhZzpxfSkpKSksbygiZGl2Iix7Y2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyIn0sbygiZGl2Iix7Y2xhc3NOYW1lOiJzaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyLXRpdGxlIn0sTi5wbHVnaW5zLlBlcm1pc3Npb25zVmlld2VyLmVuYWJsZWQmJm8oWix7dGV4dDoiUGVybWlzc2lvbiBEZXRhaWxzIn0sKHtvbk1vdXNlTGVhdmU6cSxvbk1vdXNlRW50ZXI6b2V9KT0+bygiYnV0dG9uIix7b25Nb3VzZUxlYXZlOnEsb25Nb3VzZUVudGVyOm9lLGNsYXNzTmFtZToic2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci1wZXJtZGV0YWlscy1idG4iLG9uQ2xpY2s6KCk9PndyKHIsbWUuZ2V0R3VpbGQoZS5ndWlsZF9pZCksZS5uYW1lKX0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJwYXRoIix7ZmlsbDoiY3VycmVudENvbG9yIixkOiJNNyAxMi4wMDFDNyAxMC44OTY0IDYuMTA0NTcgMTAuMDAxIDUgMTAuMDAxQzMuODk1NDMgMTAuMDAxIDMgMTAuODk2NCAzIDEyLjAwMUMzIDEzLjEwNTUgMy44OTU0MyAxNC4wMDEgNSAxNC4wMDFDNi4xMDQ1NyAxNC4wMDEgNyAxMy4xMDU1IDcgMTIuMDAxWk0xNCAxMi4wMDFDMTQgMTAuODk2NCAxMy4xMDQ2IDEwLjAwMSAxMiAxMC4wMDFDMTAuODk1NCAxMC4wMDEgMTAgMTAuODk2NCAxMCAxMi4wMDFDMTAgMTMuMTA1NSAxMC44OTU0IDE0LjAwMSAxMiAxNC4wMDFDMTMuMTA0NiAxNC4wMDEgMTQgMTMuMTA1NSAxNCAxMi4wMDFaTTE5IDEwLjAwMUMyMC4xMDQ2IDEwLjAwMSAyMSAxMC44OTY0IDIxIDEyLjAwMUMyMSAxMy4xMDU1IDIwLjEwNDYgMTQuMDAxIDE5IDE0LjAwMUMxNy44OTU0IDE0LjAwMSAxNyAxMy4xMDU1IDE3IDEyLjAwMUMxNyAxMC44OTY0IDE3Ljg5NTQgMTAuMDAxIDE5IDEwLjAwMVoifSkpKSksbyh0ZSx7dmFyaWFudDoidGV4dC1sZy9ib2xkIn0sIkFsbG93ZWQgdXNlcnMgYW5kIHJvbGVzOiIpLG8oWix7dGV4dDp0PyJIaWRlIEFsbG93ZWQgVXNlcnMgYW5kIFJvbGVzIjoiVmlldyBBbGxvd2VkIFVzZXJzIGFuZCBSb2xlcyJ9LCh7b25Nb3VzZUxlYXZlOnEsb25Nb3VzZUVudGVyOm9lfSk9Pm8oImJ1dHRvbiIse29uTW91c2VMZWF2ZTpxLG9uTW91c2VFbnRlcjpvZSxjbGFzc05hbWU6InNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXItdG9nZ2xlLWJ0biIsb25DbGljazooKT0+bihIPT4hSCl9LG8oInN2ZyIse3dpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0Iix0cmFuc2Zvcm06dD8ic2NhbGUoMSAtMSkiOiJzY2FsZSgxIDEpIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTE2LjU5IDguNTkwMDNMMTIgMTMuMTdMNy40MSA4LjU5MDAzTDYgMTBMMTIgMTZMMTggMTBMMTYuNTkgOC41OTAwM1oifSkpKSkpLHQmJm8oSWIse2NoYW5uZWw6ZX0pKSkpfXZhciBJYixQYixqSSxXSSxxSSxLSSxZSSxaSSxYSSxKSSxRSSxOYixSYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7RigpO3NlKCk7Z2UoKTtabigpO0IoKTtNKCk7TmkoKTtDaSgpO0FtKCk7UGI9SSgiYXV0byIsImNvbnRlbnQiLCJzY3JvbGxlckJhc2UiKSxqST1JKCJjaGF0IiwiY29udGVudCIsIm5vQ2hhdCIsImNoYXRDb250ZW50IiksV0k9cmUoKCk9PnF0KGU9PntpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIilyZXR1cm4hMTtsZXQgdD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm4gdC5pbmNsdWRlcygiLk1lc3NhZ2VzLkZPUlVNX1RBR19BMTFZX0ZJTFRFUl9CWV9UQUciKSYmIXQuaW5jbHVkZXMoImluY3JlYXNlZEFjdGl2aXR5UGlsbCIpfSkpLHFJPUkoImNvbnZlcnRTdXJyb2dhdGVUb05hbWUiKSxLST1JKCJnZXRVUkwiLCJidWlsZEVtb2ppUmVhY3Rpb25Db2xvcnNQbGF0Zm9ybWVkIiksWUk9e1swXToidGV4dCIsWzVdOiJhbm5vdW5jZW1lbnQiLFsxNV06ImZvcnVtIixbMl06InZvaWNlIixbMTNdOiJzdGFnZSJ9LFpJPXtbMF06IkxhdGVzdCBhY3Rpdml0eSIsWzFdOiJDcmVhdGlvbiBkYXRlIn0sWEk9e1swXToiTm90IHNldCIsWzFdOiJMaXN0IHZpZXciLFsyXToiR2FsbGVyeSB2aWV3In0sSkk9e1sxXToiQXV0b21hdGljIixbMl06IjcyMHAifSxRST0iL2Fzc2V0cy80MzNlM2VjNDMxOWE5ZDExYjBjYmUzOTM0MjYxNDk4Mi5zdmciO05iPUQud3JhcChWSSl9KTt2YXIga2Isa20sTG0sQW8sRW0sQW09ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO01iKCk7RigpO3NlKCk7UCgpO0pyKCk7eCgpO0IoKTtNKCk7UmIoKTtrYj1JKCJjaGFubmVsRW1vamkiLCJ1bnJlYWQiLCJpY29uIiksa209MW48PDEwbixMbT0xbjw8MjBuLEFvPUUoe2hpZGVVbnJlYWRzOntkZXNjcmlwdGlvbjoiSGlkZSBVbnJlYWRzIix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfSxzaG93TW9kZTp7ZGVzY3JpcHRpb246IlRoZSBtb2RlIHVzZWQgdG8gZGlzcGxheSBoaWRkZW4gY2hhbm5lbHMuIix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJQbGFpbiBzdHlsZSB3aXRoIExvY2sgSWNvbiBpbnN0ZWFkIix2YWx1ZTowLGRlZmF1bHQ6ITB9LHtsYWJlbDoiTXV0ZWQgc3R5bGUgd2l0aCBoaWRkZW4gZXllIGljb24gb24gdGhlIHJpZ2h0Iix2YWx1ZToxfV0scmVzdGFydE5lZWRlZDohMH0sZGVmYXVsdEFsbG93ZWRVc2Vyc0FuZFJvbGVzRHJvcGRvd25TdGF0ZTp7ZGVzY3JpcHRpb246IldoZXRoZXIgdGhlIGFsbG93ZWQgdXNlcnMgYW5kIHJvbGVzIGRyb3Bkb3duIG9uIGhpZGRlbiBjaGFubmVscyBzaG91bGQgYmUgb3BlbiBieSBkZWZhdWx0Iix0eXBlOjMsZGVmYXVsdDohMH19KSxFbT12KHtuYW1lOiJTaG93SGlkZGVuQ2hhbm5lbHMiLGRlc2NyaXB0aW9uOiJTaG93IGNoYW5uZWxzIHRoYXQgeW91IGRvIG5vdCBoYXZlIGFjY2VzcyB0byB2aWV3LiIsYXV0aG9yczpbZC5CaWdEdWNrLGQuQXZlcmFnZVJlYWN0RW5qb3llcixkLkQzU09YLGQuVmVuLGQuTnVja3l6LGQuTmlja3l1eCxkLmR6c2huXSxzZXR0aW5nczpBbyxwYXRjaGVzOlt7ZmluZDoiLkNhbm5vdFNob3c9IixyZXBsYWNlbWVudDpbe21hdGNoOi8oPzw9aXNDaGFubmVsR2F0ZWRBbmRWaXNpYmxlXCh0aGlzXC5yZWNvcmRcLmd1aWxkX2lkLHRoaXNcLnJlY29yZFwuaWRcKS4rP3JlbmRlckxldmVsOikoXGkpXC4uKz8oPz0sKS8scmVwbGFjZTooZSx0KT0+YHRoaXMuY2F0ZWdvcnkuaXNDb2xsYXBzZWQ/JHt0fS5Xb3VsZFNob3dJZlVuY29sbGFwc2VkOiR7dH0uU2hvd2B9LHttYXRjaDovKD88PShpZlwoIVxpXC5caVwuY2FuXChcaVwuXGlcLlZJRVdfQ0hBTk5FTC4rP3spaWZcKHRoaXNcLmlkPT09XGlcKS4rP307KShpZlwoIVxpXC5caVwuaXNDaGFubmVsR2F0ZWRBbmRWaXNpYmxlXCguKz99KSguKz8pKD89cmV0dXJue3JlbmRlckxldmVsOlxpXC5TaG93LnswLDQwfT9yZXR1cm4gXGkpLyxyZXBsYWNlOihlLHQsbixyKT0+YCR7cn0ke3R9JHtufX1gfSx7bWF0Y2g6Lyg/PD1yZW5kZXJMZXZlbDooXGlcKHRoaXMsXGlcKVw/XGlcLlNob3c6XGlcLldvdWxkU2hvd0lmVW5jb2xsYXBzZWQpLis/cmVuZGVyTGV2ZWw6KS4rPyg/PSwpLyxyZXBsYWNlOihlLHQpPT50fSx7bWF0Y2g6Lyg/PD1hY3RpdmVKb2luZWRSZWxldmFudFRocmVhZHMuKz9yZW5kZXJMZXZlbDouKz8sdGhyZWFkSWRzOlxpXCh0aGlzLnJlY29yZC4rP3JlbmRlckxldmVsOikoXGkpXC4uKz8oPz0sKS8scmVwbGFjZTooZSx0KT0+YCR7dH0uU2hvd2B9LHttYXRjaDovKD88PWdldFJlbmRlckxldmVsPWZ1bmN0aW9uLis/cmV0dXJuICkuKz9cPyguKz8pOlxpXC5DYW5ub3RTaG93KD89fSkvLHJlcGxhY2U6KGUsdCk9PnR9XX0se2ZpbmQ6IlZvaWNlQ2hhbm5lbCwgdHJhbnNpdGlvblRvOiBDaGFubmVsIGRvZXMgbm90IGhhdmUgYSBndWlsZElkIixyZXBsYWNlbWVudDpbe21hdGNoOi8oPzw9Z2V0Q3VycmVudENsaWVudFZvaWNlQ2hhbm5lbElkXCgoXGkpXC5ndWlsZF9pZFwpO2lmXCgpLyxyZXBsYWNlOihlLHQpPT5gISRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KSYmYH0se21hdGNoOi8oPz1cfFx8XGlcLmRlZmF1bHRcLnNlbGVjdFZvaWNlQ2hhbm5lbFwoKFxpKVwuaWRcKSkvLHJlcGxhY2U6KGUsdCk9PmB8fCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KWB9LHttYXRjaDovIV9fT1ZFUkxBWV9fJiZcKCg/PD1zZWxlY3RWb2ljZUNoYW5uZWxcKChcaSlcLmlkXCkuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9LHRydWUpfHxgfV19LHtmaW5kOiJWb2ljZUNoYW5uZWwucmVuZGVyUG9wb3V0OiBUaGVyZSBtdXN0IGFsd2F5cyBiZSBzb21ldGhpbmcgdG8gcmVuZGVyIixyZXBsYWNlbWVudDpbLi4uWyJyZW5kZXJFZGl0QnV0dG9uIiwicmVuZGVySW52aXRlQnV0dG9uIiwicmVuZGVyT3BlbkNoYXRCdXR0b24iXS5tYXAoZT0+KHttYXRjaDpuZXcgUmVnRXhwKGAoPzw9JHtlfT1mdW5jdGlvblxcKFxcKXspYCwiZyIpLHJlcGxhY2U6ImlmKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0aGlzLnByb3BzLmNoYW5uZWwpKXJldHVybiBudWxsOyJ9KSldfSx7ZmluZDoiLk1lc3NhZ2VzLkNIQU5ORUxfVE9PTFRJUF9ESVJFQ1RPUlkiLHByZWRpY2F0ZTooKT0+QW8uc3RvcmUuc2hvd01vZGU9PT0wLHJlcGxhY2VtZW50OnttYXRjaDovKD89c3dpdGNoXCgoXGkpXC50eXBlXCkuezAsMzB9XC5HVUlMRF9BTk5PVU5DRU1FTlQuezAsMzB9XCgwLFxpXC5caVwpKS8scmVwbGFjZTooZSx0KT0+YGlmKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KSlyZXR1cm4gJHNlbGYuTG9ja0ljb247YH19LHtmaW5kOiIuVU5SRUFEX0hJR0hMSUdIVCIscHJlZGljYXRlOigpPT5Bby5zdG9yZS5zaG93TW9kZT09PTEscmVwbGFjZW1lbnQ6W3ttYXRjaDovKD88PVxpXC5uYW1lLFxpPSkoPz0oXGkpXC5tdXRlZCkvLHJlcGxhY2U6KGUsdCk9PmAkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fS5jaGFubmVsKT90cnVlOmB9LHttYXRjaDovXChcKS5jaGlsZHJlbi4rPzpudWxsKD88PShcaSk9XGlcLmNoYW5uZWwsLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0sJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pPyRzZWxmLkhpZGRlbkNoYW5uZWxJY29uKCk6bnVsbGB9LHttYXRjaDovKD88PVwud3JhcHBlcjpcaVwoXClcLm5vdEludGVyYWN0aXZlLCkoLis/KSgoXGkpXD9caVwuTVVURUQpLyxyZXBsYWNlOihlLHQsbixyKT0+YCR7bn06IiIsJHt0fSR7cn0/IiJgfV19LHtmaW5kOiIuVU5SRUFEX0hJR0hMSUdIVCIscmVwbGFjZW1lbnQ6W3twcmVkaWNhdGU6KCk9PkFvLnN0b3JlLmhpZGVVbnJlYWRzPT09ITEmJkFvLnN0b3JlLnNob3dNb2RlPT09MSxtYXRjaDovXC5MT0NLRUQ6XGkoPzw9KFxpKT1caVwuY2hhbm5lbCwuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSYmISRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KWB9LHtwcmVkaWNhdGU6KCk9PkFvLnN0b3JlLmhpZGVVbnJlYWRzPT09ITAsbWF0Y2g6Lyg/PD1caVwuY29ubmVjdGVkLFxpPSkoPz0oXGkpXC51bnJlYWQpLyxyZXBsYWNlOihlLHQpPT5gJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0uY2hhbm5lbCk/ZmFsc2U6YH1dfSx7ZmluZDonLmRpc3BsYXlOYW1lPSJDaGFubmVsTGlzdFVucmVhZHNTdG9yZSInLHJlcGxhY2VtZW50OnttYXRjaDovKD88PXJldHVybiBudWxsIT0oXGkpKSg/PS57MCwxMzB9P2hhc1JlbGV2YW50VW5yZWFkXChcaVwpKS9nLHJlcGxhY2U6KGUsdCk9PmAmJiEkc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSlgfX0se2ZpbmQ6Ik1pc3NpbmcgY2hhbm5lbCBpbiBDaGFubmVsLnJlbmRlckhlYWRlclRvb2xiYXIiLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lyg/PD1yZW5kZXJIZWFkZXJUb29sYmFyPWZ1bmN0aW9uLis/Y2FzZSBcaVwuXGlcLkdVSUxEX1RFWFQ6KSg/PS4rPzsoLis/e2NoYW5uZWw6KFxpKX0sIm5vdGlmaWNhdGlvbnMiXClcKTspKS8scmVwbGFjZTooZSx0LG4pPT5gaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7bn0pKXske3R9YnJlYWs7fWB9LHttYXRjaDovKD88PXJlbmRlckhlYWRlclRvb2xiYXI9ZnVuY3Rpb24uKz9jYXNlIFxpXC5caVwuR1VJTERfRk9SVU06Lis/aWZcKCFcaVwpeykoPz0uKz87KC4rP3tjaGFubmVsOihcaSl9LCJub3RpZmljYXRpb25zIlwpXCkpKS8scmVwbGFjZTooZSx0LG4pPT5gaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7bn0pKXske3R9O2JyZWFrO31gfSx7bWF0Y2g6L3JlbmRlck1vYmlsZVRvb2xiYXI9ZnVuY3Rpb24uKz9jYXNlIFxpXC5caVwuR1VJTERfRk9SVU06KD88PShcaSlcLnJlbmRlck1vYmlsZVRvb2xiYXIuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfWlmKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9LnByb3BzLmNoYW5uZWwpKWJyZWFrO2B9LHttYXRjaDovKD88PXJlbmRlckhlYWRlckJhcj1mdW5jdGlvbi4rP2hpZGVTZWFyY2g6KFxpKVwuaXNEaXJlY3RvcnlcKFwpKS8scmVwbGFjZTooZSx0KT0+YHx8JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pYH0se21hdGNoOi8oPzw9cmVuZGVyU2lkZWJhcj1mdW5jdGlvblwoXCl7KS8scmVwbGFjZToiaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHRoaXMucHJvcHMuY2hhbm5lbCkpcmV0dXJuIG51bGw7In0se21hdGNoOi8oPzw9cmVuZGVyQ2hhdD1mdW5jdGlvblwoXCl7KS8scmVwbGFjZToiaWYoJHNlbGYuaXNIaWRkZW5DaGFubmVsKHRoaXMucHJvcHMuY2hhbm5lbCkpcmV0dXJuICRzZWxmLkhpZGRlbkNoYW5uZWxMb2NrU2NyZWVuKHRoaXMucHJvcHMuY2hhbm5lbCk7In1dfSx7ZmluZDonIk1lc3NhZ2VNYW5hZ2VyIicscmVwbGFjZW1lbnQ6e21hdGNoOi8iU2tpcHBpbmcgZmV0Y2ggYmVjYXVzZSBjaGFubmVsSWQgaXMgYSBzdGF0aWMgcm91dGUiXCk7ZWxzZXsoPz0uKz9nZXRDaGFubmVsXCgoXGkpXCkpLyxyZXBsYWNlOihlLHQpPT5gJHtlfWlmKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh7Y2hhbm5lbElkOiR7dH19KSlyZXR1cm47YH19LHtmaW5kOiciYWx0K3NoaWZ0K2Rvd24iJyxyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1nZXRDaGFubmVsXChcaVwpO3JldHVybiBudWxsIT0oXGkpKSg/PS57MCwxMzB9P2hhc1JlbGV2YW50VW5yZWFkXChcaVwpKS8scmVwbGFjZTooZSx0KT0+YCYmISRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KWB9fSx7ZmluZDonImFsdCtkb3duIicscmVwbGFjZW1lbnQ6e21hdGNoOi8oPzw9Z2V0U3RhdGVcKFwpXC5jaGFubmVsSWQuezAsMzB9P1woMCxcaVwuXGlcKVwoXGlcKSkoPz1cLm1hcFwoKS8scmVwbGFjZToiLmZpbHRlcihjaD0+ISRzZWxmLmlzSGlkZGVuQ2hhbm5lbChjaCkpIn19LHtmaW5kOiIuTWVzc2FnZXMuUk9MRV9SRVFVSVJFRF9TSU5HTEVfVVNFUl9NRVNTQUdFIixyZXBsYWNlbWVudDpbe21hdGNoOi9jb21wdXRlUGVybWlzc2lvbnNGb3JSb2xlcy4rP31cKX0oPzw9ZnVuY3Rpb24gKFxpKVwoLis/KSg/PXZhcikvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuc2V0Q2hhbm5lbEJlZ2luSGVhZGVyQ29tcG9uZW50KCR7dH0pO2B9LHttYXRjaDovQURNSU5JU1RSQVRPUlwpXHxcfCg/PD1jb250ZXh0OihcaSl9Lis/KSg/PSguKz8pVklFV19DSEFOTkVMKS8scmVwbGFjZTooZSx0LG4pPT5gJHtlfSFWZW5jb3JkLldlYnBhY2suQ29tbW9uLlBlcm1pc3Npb25TdG9yZS5jYW4oJHtMbX1uLCR7dH0pPyR7bn1DT05ORUNUKTpgfSx7bWF0Y2g6L3Blcm1pc3Npb25PdmVyd3JpdGVzXFsuKz9caT0oPzw9Y29udGV4dDooXGkpfS4rPykoPz0oLis/KVZJRVdfQ0hBTk5FTCkvLHJlcGxhY2U6KGUsdCxuKT0+YCR7ZX0hVmVuY29yZC5XZWJwYWNrLkNvbW1vbi5QZXJtaXNzaW9uU3RvcmUuY2FuKCR7TG19biwke3R9KT8ke259Q09OTkVDVCk6YH0se21hdGNoOi9zb3J0QnkuezAsMTAwfT9yZXR1cm4gKD88PXZhciAoXGkpPVxpXC5jaGFubmVsLis/KSg/PVxpXC5pZCkvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pP3RydWU6YH0se21hdGNoOi9jb21wdXRlUGVybWlzc2lvbnNGb3JSb2xlcy4rPy52YWx1ZVwoXCkoPzw9dmFyIChcaSk9XGlcLmNoYW5uZWwuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfS5yZWR1Y2UoLi4uJHNlbGYubWFrZUFsbG93ZWRSb2xlc1JlZHVjZSgke3R9Lmd1aWxkX2lkKSlgfSx7bWF0Y2g6L01BTkFHRV9ST0xFUy57MCw2MH0/cmV0dXJuKD89XCguKz8oXCgwLFxpXC5qc3hzXClcKCJkaXYiLHtjbGFzc05hbWU6XGlcKFwpXC5tZW1iZXJzLis/Z3VpbGRJZDooXGkpXC5ndWlsZF9pZC4rP3JvbGVDb2xvci4rP119XCkpKS8scmVwbGFjZTooZSx0LG4pPT4odD10LnJlcGxhY2Uoam8oLyg/PD11c2VyczpcaSkvKSxgLGNoYW5uZWw6JHtufWApLHQ9dC5yZXBsYWNlKGpvKC8xIT09XGlcLmxlbmd0aC8pLCJ0cnVlIiksYCR7ZX0gJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7bn0sdHJ1ZSk/JHt0fTpgKX1dfSx7ZmluZDoiKCkuYXZhdGFycyksY2hpbGRyZW4iLHJlcGxhY2VtZW50Olt7bWF0Y2g6Lz0oXGkpXC5tYXhVc2VycywvLHJlcGxhY2U6KGUsdCk9PmAke2V9Y2hhbm5lbD0ke3R9LmNoYW5uZWwsYH0se21hdGNoOi9caT4wKD89JiYuezAsNjB9cmVuZGVyUG9wb3V0KS8scmVwbGFjZTplPT5gKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0eXBlb2YgY2hhbm5lbCE9PSJ1bmRlZmluZWQiP2NoYW5uZWw6dm9pZCAwLHRydWUpP3RydWU6JHtlfSlgfSx7bWF0Y2g6Lyg/PD1cLnZhbHVlXChcKSwoXGkpPS4rP2xlbmd0aC0pMSg/PVxdPS57MCw2MH1yZW5kZXJQb3BvdXQpLyxyZXBsYWNlOihlLHQpPT5gKCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0eXBlb2YgY2hhbm5lbCE9PSJ1bmRlZmluZWQiP2NoYW5uZWw6dm9pZCAwLHRydWUpJiYke3R9PD0wPzA6MSlgfSx7bWF0Y2g6Lyg/PD0iXCsiLCkoXGkpXCsxLyxyZXBsYWNlOihlLHQpPT5gJHNlbGYuaXNIaWRkZW5DaGFubmVsKHR5cGVvZiBjaGFubmVsIT09InVuZGVmaW5lZCI/Y2hhbm5lbDp2b2lkIDAsdHJ1ZSkmJiR7dH08PTA/IiI6JHtlfWB9XX0se2ZpbmQ6Ii5NZXNzYWdlcy5TSE9XX0NIQVQiLHJlcGxhY2VtZW50Olt7bWF0Y2g6LyJtb3JlLW9wdGlvbnMtcG9wb3V0IlwpXCk7aWZcKCg/PD1mdW5jdGlvbiBcaVwoKFxpKVwpLis/KS8scmVwbGFjZTooZSx0KT0+YCR7ZX0hJHt0fS5pbkNhbGwmJiRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9LmNoYW5uZWwsdHJ1ZSkpe31lbHNlIGlmKGB9LHttYXRjaDovInBvcHVwIi57MCwxMDB9P2lmXCgoPzw9KFxpKVwuY2hhbm5lbC4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9KCR7dH0uaW5DYWxsfHwhJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0uY2hhbm5lbCx0cnVlKSkmJmB9LHttYXRjaDovdGhpc1wucmVuZGVyVm9pY2VDaGFubmVsRWZmZWN0cy4rP2NoaWxkcmVuOig/PD1yZW5kZXJDb250ZW50PWZ1bmN0aW9uLis/KS8scmVwbGFjZToiJCYhdGhpcy5wcm9wcy5pbkNhbGwmJiRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0aGlzLnByb3BzLmNoYW5uZWwsdHJ1ZSk/JHNlbGYuSGlkZGVuQ2hhbm5lbExvY2tTY3JlZW4odGhpcy5wcm9wcy5jaGFubmVsKToifSx7bWF0Y2g6L3RoaXNcLnJlbmRlclZvaWNlQ2hhbm5lbEVmZmVjdHMuKz9kaXNhYmxlR3JhZGllbnRzOig/PD1yZW5kZXJDb250ZW50PWZ1bmN0aW9uLis/KS8scmVwbGFjZToiJCYhdGhpcy5wcm9wcy5pbkNhbGwmJiRzZWxmLmlzSGlkZGVuQ2hhbm5lbCh0aGlzLnByb3BzLmNoYW5uZWwsdHJ1ZSl8fCJ9LHttYXRjaDovKD86e3wsKXJlbmRlcig/IUhlYWRlcnxFeHRlcm5hbEhlYWRlcikuezAsMzB9PzooPzw9cmVuZGVyQ29udGVudD1mdW5jdGlvbi4rPykoPyF2b2lkKS9nLHJlcGxhY2U6IiQmIXRoaXMucHJvcHMuaW5DYWxsJiYkc2VsZi5pc0hpZGRlbkNoYW5uZWwodGhpcy5wcm9wcy5jaGFubmVsLHRydWUpP251bGw6In0se21hdGNoOi9jYWxsQ29udGFpbmVyLCg/PD1cKFwpXC5jYWxsQ29udGFpbmVyLCkvLHJlcGxhY2U6JyQmIXRoaXMucHJvcHMuaW5DYWxsJiYkc2VsZi5pc0hpZGRlbkNoYW5uZWwodGhpcy5wcm9wcy5jaGFubmVsLHRydWUpPyIiOid9XX0se2ZpbmQ6InVzZU5vdGlmaWNhdGlvblNldHRpbmdzSXRlbTogY2hhbm5lbCBjYW5ub3QgYmUgdW5kZWZpbmVkIixyZXBsYWNlbWVudDpbe21hdGNoOi8iMTI0cHgiLis/Y2hpbGRyZW46KD88PXZhciAoXGkpPVxpXC5jaGFubmVsLis/KSg/PS57MCwyMH0/fVwpfWZ1bmN0aW9uKS8scmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSk/JHNlbGYuSGlkZGVuQ2hhbm5lbExvY2tTY3JlZW4oJHt0fSk6YH0se21hdGNoOi9yZW5kZXIoPzpCb3R0b21MZWZ0fEJvdHRvbUNlbnRlcnxCb3R0b21SaWdodHxDaGF0VG9hc3RzKTooPzw9dmFyIChcaSk9XGlcLmNoYW5uZWwuKz8pL2cscmVwbGFjZTooZSx0KT0+YCR7ZX0kc2VsZi5pc0hpZGRlbkNoYW5uZWwoJHt0fSk/bnVsbDpgfSx7bWF0Y2g6LyIxMjRweCIuKz9kaXNhYmxlR3JhZGllbnRzOig/PD0oXGkpXC5nZXRHdWlsZElkXChcKS4rPykvLHJlcGxhY2U6KGUsdCk9PmAke2V9JHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pfHxgfSx7bWF0Y2g6LyIxMjRweCIuKz9zdHlsZTooPzw9KFxpKVwuZ2V0R3VpbGRJZFwoXCkuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KT92b2lkIDA6YH0se21hdGNoOi9cKDAsXGlcLmpzeFwpXChcaVwuXGlcLkRpdmlkZXIuKz99XCldfVwpKD89Lis/OihcaSlcLmd1aWxkX2lkKS8scmVwbGFjZTooZSx0KT0+YCRzZWxmLmlzSGlkZGVuQ2hhbm5lbCgke3R9KT9udWxsOigke2V9KWB9LHttYXRjaDovInJlY2VudHMiLis/JiYoPz1cKC4rP2NoYW5uZWxJZDooXGkpXC5pZCxzaG93UmVxdWVzdFRvU3BlYWtTaWRlYmFyKS8scmVwbGFjZTooZSx0KT0+YCR7ZX0hJHNlbGYuaXNIaWRkZW5DaGFubmVsKCR7dH0pJiZgfV19LHtmaW5kOiciXi9ndWlsZC1zdGFnZXMvKFxcXFxkKykoPzovKT8oXFxcXGQrKT8iJyxyZXBsYWNlbWVudDp7bWF0Y2g6L1xpXC5caVwuY2FuXChcaVwuXGlcLlZJRVdfQ0hBTk5FTCxcaVwpLyxyZXBsYWNlOiJ0cnVlIn19LHtmaW5kOiIuc2hvdWxkQ2xvc2VEZWZhdWx0TW9kYWxzIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1nZXRDaGFubmVsXCgoXGkpXClcKSg/PS57MCwxMDB9P3NlbGVjdFZvaWNlQ2hhbm5lbCkpLyxyZXBsYWNlOihlLHQpPT5gJiYhJHNlbGYuaXNIaWRkZW5DaGFubmVsKHtjaGFubmVsSWQ6JHt0fX0pYH19LHtmaW5kOicuZGlzcGxheU5hbWU9Ikd1aWxkQ2hhbm5lbFN0b3JlIicscmVwbGFjZW1lbnQ6W3ttYXRjaDovaXNDaGFubmVsR2F0ZWRcKC4rP1wpKD89XHxcfCkvLHJlcGxhY2U6ZT0+YCR7ZX18fHRydWVgfSx7bWF0Y2g6Lyg/PD1nZXRDaGFubmVscz1mdW5jdGlvblwoXGkpXCkuKz8oPz1yZXR1cm4gKFxpKX0pLyxyZXBsYWNlOihlLHQpPT5gLHNob3VsZEluY2x1ZGVIaWRkZW49ZmFsc2Uke2V9JHt0fT0kc2VsZi5yZXNvbHZlR3VpbGRDaGFubmVscygke3R9LHNob3VsZEluY2x1ZGVIaWRkZW4pO2B9XX0se2ZpbmQ6Ii5NZXNzYWdlcy5GT1JNX0xBQkVMX01VVEVEIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1nZXRDaGFubmVsc1woXGkpKD89XCkpLyxyZXBsYWNlOiIsdHJ1ZSJ9fSx7ZmluZDonLmRpc3BsYXlOYW1lPSJOb3dQbGF5aW5nVmlld1N0b3JlIicscmVwbGFjZW1lbnQ6e21hdGNoOi8oZ2V0Vm9pY2VTdGF0ZUZvclVzZXIuezAsMTUwfT8pJiZcaVwuXGlcLmNhbldpdGhQYXJ0aWFsQ29udGV4dC57MCwyMH1WSUVXX0NIQU5ORUwuKz99XCkoPz1cPykvLHJlcGxhY2U6IiQxIn19XSxzZXRDaGFubmVsQmVnaW5IZWFkZXJDb21wb25lbnQ6Q2IsaXNIaWRkZW5DaGFubmVsKGUsdD0hMSl7cmV0dXJuIWV8fChlLmNoYW5uZWxJZCYmKGU9Vi5nZXRDaGFubmVsKGUuY2hhbm5lbElkKSksIWV8fGUuaXNETSgpfHxlLmlzR3JvdXBETSgpfHxlLmlzTXVsdGlVc2VyRE0oKSk/ITE6IU9lLmNhbihrbSxlKXx8dCYmIU9lLmNhbihMbSxlKX0scmVzb2x2ZUd1aWxkQ2hhbm5lbHMoZSx0KXtpZih0KXJldHVybiBlO2xldCBuPXt9O2ZvcihsZXRbcixpXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZighQXJyYXkuaXNBcnJheShpKSl7bltyXT1pO2NvbnRpbnVlfW5bcl0/Pz1bXTtmb3IobGV0IHMgb2YgaSkocy5jaGFubmVsLmlkPT09bnVsbHx8IXRoaXMuaXNIaWRkZW5DaGFubmVsKHMuY2hhbm5lbCkpJiZuW3JdLnB1c2gocyl9cmV0dXJuIG59LG1ha2VBbGxvd2VkUm9sZXNSZWR1Y2UoZSl7cmV0dXJuWyh0LG4scixpKT0+e2lmKHIhPT0wKXJldHVybiB0O2xldCBzPWkuZmluZChjPT5jLmlkPT09ZSk7cmV0dXJuIHM/W3NdOml9LFtdXX0sSGlkZGVuQ2hhbm5lbExvY2tTY3JlZW46ZT0+byhOYix7Y2hhbm5lbDplfSksTG9ja0ljb246RC53cmFwKCgpPT5vKCJzdmciLHtjbGFzc05hbWU6a2IuaWNvbixoZWlnaHQ6IjE4Iix3aWR0aDoiMjAiLHZpZXdCb3g6IjAgMCAyNCAyNCIsImFyaWEtaGlkZGVuIjohMCxyb2xlOiJpbWcifSxvKCJwYXRoIix7Y2xhc3NOYW1lOiJzaGMtZXZlbm9kZC1maWxsLWN1cnJlbnQtY29sb3IiLGQ6Ik0xNyAxMVY3QzE3IDQuMjQzIDE0Ljc1NiAyIDEyIDJDOS4yNDIgMiA3IDQuMjQzIDcgN1YxMUM1Ljg5NyAxMSA1IDExLjg5NiA1IDEzVjIwQzUgMjEuMTAzIDUuODk3IDIyIDcgMjJIMTdDMTguMTAzIDIyIDE5IDIxLjEwMyAxOSAyMFYxM0MxOSAxMS44OTYgMTguMTAzIDExIDE3IDExWk0xMiAxOEMxMS4xNzIgMTggMTAuNSAxNy4zMjggMTAuNSAxNi41QzEwLjUgMTUuNjcyIDExLjE3MiAxNSAxMiAxNUMxMi44MjggMTUgMTMuNSAxNS42NzIgMTMuNSAxNi41QzEzLjUgMTcuMzI4IDEyLjgyOCAxOCAxMiAxOFpNMTUgMTFIOVY3QzkgNS4zNDYgMTAuMzQ2IDQgMTIgNEMxMy42NTQgNCAxNSA1LjM0NiAxNSA3VjExWiJ9KSkse25vb3A6ITB9KSxIaWRkZW5DaGFubmVsSWNvbjpELndyYXAoKCk9Pm8oWix7dGV4dDoiSGlkZGVuIENoYW5uZWwifSwoe29uTW91c2VMZWF2ZTplLG9uTW91c2VFbnRlcjp0fSk9Pm8oInN2ZyIse29uTW91c2VMZWF2ZTplLG9uTW91c2VFbnRlcjp0LGNsYXNzTmFtZTprYi5pY29uKyIgc2hjLWhpZGRlbi1jaGFubmVsLWljb24iLHdpZHRoOiIyNCIsaGVpZ2h0OiIyNCIsdmlld0JveDoiMCAwIDI0IDI0IiwiYXJpYS1oaWRkZW4iOiEwLHJvbGU6ImltZyJ9LG8oInBhdGgiLHtjbGFzc05hbWU6InNoYy1ldmVub2RkLWZpbGwtY3VycmVudC1jb2xvciIsZDoibTE5LjggMjIuNi00LjItNC4xNXEtLjg3NS4yNzUtMS43NjIuNDEzUTEyLjk1IDE5IDEyIDE5cS0zLjc3NSAwLTYuNzI1LTIuMDg3UTIuMzI1IDE0LjgyNSAxIDExLjVxLjUyNS0xLjMyNSAxLjMyNS0yLjQ2M1EzLjEyNSA3LjkgNC4xNSA3TDEuNCA0LjJsMS40LTEuNCAxOC40IDE4LjRaTTEyIDE2cS4yNzUgMCAuNTEyLS4wMjUuMjM4LS4wMjUuNTEzLS4xbC01LjQtNS40cS0uMDc1LjI3NS0uMS41MTMtLjAyNS4yMzctLjAyNS41MTIgMCAxLjg3NSAxLjMxMiAzLjE4OFExMC4xMjUgMTYgMTIgMTZabTcuMy40NS0zLjE3NS0zLjE1cS4xNzUtLjQyNS4yNzUtLjg2Mi4xLS40MzguMS0uOTM4IDAtMS44NzUtMS4zMTItMy4xODhRMTMuODc1IDcgMTIgN3EtLjUgMC0uOTM4LjEtLjQzNy4xLS44NjIuM0w3LjY1IDQuODVxMS4wMjUtLjQyNSAyLjEtLjYzOFExMC44MjUgNCAxMiA0cTMuNzc1IDAgNi43MjUgMi4wODdRMjEuNjc1IDguMTc1IDIzIDExLjVxLS41NzUgMS40NzUtMS41MTIgMi43MzhRMjAuNTUgMTUuNSAxOS4zIDE2LjQ1Wm0tNC42MjUtNC42LTMtM3EuNy0uMTI1IDEuMjg4LjExMi41ODcuMjM4IDEuMDEyLjY4OC40MjUuNDUuNjEzIDEuMDM4LjE4Ny41ODcuMDg3IDEuMTYyWiJ9KSkpLHtub29wOiEwfSl9KX0pO3ZhciBBYj1nKCgpPT57fSk7dmFyIFFhLERtLExiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtBYigpO0YoKTtQKCk7eCgpO1FhPUUoe21vZGU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiSG93IHRvIGRpc3BsYXkgdXNlcm5hbWVzIGFuZCBuaWNrcyIsb3B0aW9uczpbe2xhYmVsOiJVc2VybmFtZSB0aGVuIG5pY2tuYW1lIix2YWx1ZToidXNlci1uaWNrIixkZWZhdWx0OiEwfSx7bGFiZWw6Ik5pY2tuYW1lIHRoZW4gdXNlcm5hbWUiLHZhbHVlOiJuaWNrLXVzZXIifSx7bGFiZWw6IlVzZXJuYW1lIG9ubHkiLHZhbHVlOiJ1c2VyIn1dfSxpblJlcGxpZXM6e3R5cGU6MyxkZWZhdWx0OiExLGRlc2NyaXB0aW9uOiJBbHNvIGFwcGx5IGZ1bmN0aW9uYWxpdHkgdG8gcmVwbHkgcHJldmlld3MifX0pLERtPXYoe25hbWU6IlNob3dNZVlvdXJOYW1lIixkZXNjcmlwdGlvbjoiRGlzcGxheSB1c2VybmFtZXMgbmV4dCB0byBuaWNrcywgb3Igbm8gbmlja3MgYXQgYWxsIixhdXRob3JzOltkLmR6c2huXSxwYXRjaGVzOlt7ZmluZDoiLndpdGhNZW50aW9uUHJlZml4IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1vbkNvbnRleHRNZW51OlxpLGNoaWxkcmVuOilcaVwrXGkvLHJlcGxhY2U6IiRzZWxmLnJlbmRlclVzZXJuYW1lKGFyZ3VtZW50c1swXSkifX1dLHNldHRpbmdzOlFhLHJlbmRlclVzZXJuYW1lOih7YXV0aG9yOmUsbWVzc2FnZTp0LGlzUmVwbGllZE1lc3NhZ2U6bix3aXRoTWVudGlvblByZWZpeDpyfSk9PntpZih0LmludGVyYWN0aW9uKXJldHVybiBlPy5uaWNrO3RyeXtsZXR7dXNlcm5hbWU6aX09dC5hdXRob3Ise25pY2s6c309ZSxjPXI/IkAiOiIiO3JldHVybiBpPT09c3x8biYmIVFhLnN0b3JlLmluUmVwbGllcz9jK3M6UWEuc3RvcmUubW9kZT09PSJ1c2VyLW5pY2siP28obSxudWxsLGMsaSwiICIsbygic3BhbiIse2NsYXNzTmFtZToidmMtc215bi1zdWZmaXgifSxzKSk6UWEuc3RvcmUubW9kZT09PSJuaWNrLXVzZXIiP28obSxudWxsLGMscywiICIsbygic3BhbiIse2NsYXNzTmFtZToidmMtc215bi1zdWZmaXgifSxpKSk6YytpfWNhdGNoe3JldHVybiBlPy5uaWNrfX19KX0pO2Z1bmN0aW9uIGVDKGUpe2xldFt0LG5dPUEudXNlU3RhdGUoT20pO2Z1bmN0aW9uIHIoaSl7X20uc3RvcmUucGVyc2lzdFN0YXRlJiYoT209aSksbihpKX1yZXR1cm4gQS51c2VFZmZlY3QoKCk9PntsZXQgaT0ocyxjKT0+e3QmJihfbS5zdG9yZS5hdXRvRGlzYWJsZSYmcighMSksYy5jb250ZW50LnN0YXJ0c1dpdGgoIkBzaWxlbnQgIil8fChjLmNvbnRlbnQ9IkBzaWxlbnQgIitjLmNvbnRlbnQpKX07cmV0dXJuIGt0KGkpLCgpPT52b2lkIEF0KGkpfSxbdF0pLGUudHlwZS5hbmFseXRpY3NOYW1lIT09Im5vcm1hbCI/bnVsbDpvKFose3RleHQ6dD8iRGlzYWJsZSBTaWxlbnQgTWVzc2FnZSI6IkVuYWJsZSBTaWxlbnQgTWVzc2FnZSJ9LGk9Pm8oImRpdiIse3N0eWxlOntkaXNwbGF5OiJmbGV4In19LG8oUix7Li4uaSxvbkNsaWNrOigpPT5yKCF0KSxzaXplOiIiLGxvb2s6ZW4uQkxBTkssaW5uZXJDbGFzc05hbWU6Z3QuYnV0dG9uLHN0eWxlOntwYWRkaW5nOiIwIDZweCJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJnIix7ZmlsbDoiY3VycmVudENvbG9yIn0sbygicGF0aCIse2Q6Ik0xOCAxMC43MTAxQzE1LjEwODUgOS44NDk1NyAxMyA3LjE3MTAyIDEzIDRDMTMgMy42OTI2NCAxMy4wMTk4IDMuMzg5OSAxMy4wNTgyIDMuMDkzQzEyLjcxNDcgMy4wMzE4OSAxMi4zNjExIDMgMTIgM0M4LjY4NiAzIDYgNS42ODYgNiA5VjE0QzYgMTUuNjU3IDQuNjU2IDE3IDMgMTdWMThIMjFWMTdDMTkuMzQ0IDE3IDE4IDE1LjY1NyAxOCAxNFYxMC43MTAxWk04LjU1NDkzIDE5QzkuMjQ3OTMgMjAuMTkgMTAuNTIzOSAyMSAxMS45OTk5IDIxQzEzLjQ3NTkgMjEgMTQuNzUxOSAyMC4xOSAxNS40NDQ5IDE5SDguNTU0OTNaIn0pLG8oInBhdGgiLHtkOiJNMTguMjYyNCA1LjUwMjA5TDIxIDIuNVYxSDE2LjAzNDlWMi40OTc5MUgxOC40NzZMMTYgNS42MTA4OFY3SDIxVjUuNTAyMDlIMTguMjYyNFoifSksIXQmJm8oImxpbmUiLHt4MToiMjIiLHkxOiIyIix4MjoiMiIseTI6IjIyIixzdHJva2U6InZhcigtLXJlZC01MDApIiwic3Ryb2tlLXdpZHRoIjoiMi41In0pKSkpKSkpfXZhciBPbSxfbSxCbSxFYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7JG4oKTtGKCk7c2UoKTtQKCk7eCgpO00oKTtPbT0hMSxfbT1FKHtwZXJzaXN0U3RhdGU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiV2hldGhlciB0byBwZXJzaXN0IHRoZSBzdGF0ZSBvZiB0aGUgc2lsZW50IG1lc3NhZ2UgdG9nZ2xlIHdoZW4gY2hhbmdpbmcgY2hhbm5lbHMiLGRlZmF1bHQ6ITEsb25DaGFuZ2UoZSl7ZT09PSExJiYoT209ITEpfX0sYXV0b0Rpc2FibGU6e3R5cGU6MyxkZXNjcmlwdGlvbjoiQXV0b21hdGljYWxseSBkaXNhYmxlIHRoZSBzaWxlbnQgbWVzc2FnZSB0b2dnbGUgYWdhaW4gYWZ0ZXIgc2VuZGluZyBvbmUiLGRlZmF1bHQ6ITB9fSk7Qm09dih7bmFtZToiU2lsZW50TWVzc2FnZVRvZ2dsZSIsYXV0aG9yczpbZC5OdWNreXosZC5DYXROb2lyXSxkZXNjcmlwdGlvbjoiQWRkcyBhIGJ1dHRvbiB0byB0aGUgY2hhdCBiYXIgdG8gdG9nZ2xlIHNlbmRpbmcgYSBzaWxlbnQgbWVzc2FnZS4iLGRlcGVuZGVuY2llczpbIk1lc3NhZ2VFdmVudHNBUEkiXSxzZXR0aW5nczpfbSxwYXRjaGVzOlt7ZmluZDoiLmFjdGl2ZUNvbW1hbmRPcHRpb24iLHJlcGxhY2VtZW50OnttYXRjaDovImdpZnQiXClcKTsoPzw9KFxpKVwucHVzaC4rP2Rpc2FibGVkOihcaSksLis/KS8scmVwbGFjZTooZSx0LG4pPT5gJHtlfTt0cnl7JHtufXx8JHt0fS5wdXNoKCRzZWxmLlNpbGVudE1lc3NhZ2VUb2dnbGUoYXJndW1lbnRzWzBdKSk7fWNhdGNoe31gfX1dLFNpbGVudE1lc3NhZ2VUb2dnbGU6RC53cmFwKGVDLHtub29wOiEwfSl9KX0pO2Z1bmN0aW9uIHRDKGUpe2xldHtpc0VuYWJsZWQ6dH09aW8udXNlKFsiaXNFbmFibGVkIl0pLG49KCk9PmlvLnN0b3JlLmlzRW5hYmxlZD0haW8uc3RvcmUuaXNFbmFibGVkO3JldHVybiBlLnR5cGUuYW5hbHl0aWNzTmFtZSE9PSJub3JtYWwiP251bGw6byhaLHt0ZXh0OnQ/IkRpc2FibGUgU2lsZW50IFR5cGluZyI6IkVuYWJsZSBTaWxlbnQgVHlwaW5nIn0scj0+bygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImZsZXgifX0sbyhSLHsuLi5yLG9uQ2xpY2s6bixzaXplOiIiLGxvb2s6ZW4uQkxBTkssaW5uZXJDbGFzc05hbWU6Z3QuYnV0dG9uLHN0eWxlOntwYWRkaW5nOiIwIDZweCJ9fSxvKCJkaXYiLHtjbGFzc05hbWU6Z3QuYnV0dG9uV3JhcHBlcn0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHZpZXdCb3g6IjAgMCA1NzYgNTEyIn0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoiTTUyOCA0NDhINDhjLTI2LjUxIDAtNDgtMjEuNDktNDgtNDhWMTEyYzAtMjYuNTEgMjEuNDktNDggNDgtNDhoNDgwYzI2LjUxIDAgNDggMjEuNDkgNDggNDh2Mjg4YzAgMjYuNTEtMjEuNDkgNDgtNDggNDh6TTEyOCAxODB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJINzZjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTk2IDB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptOTYgMHYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMmgtNDBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bS0zMzYgOTZ2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptOTYgMHYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMmgtNDBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2NDBjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg0MGM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTk2IDB2LTQwYzAtNi42MjctNS4zNzMtMTItMTItMTJoLTQwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjQwYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNDBjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptLTMzNiA5NnYtNDBjMC02LjYyNy01LjM3My0xMi0xMi0xMkg3NmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bTI4OCAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEySDE3MmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDIzMmM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem05NiAwdi00MGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC00MGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnY0MGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQwYzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6In0pLHQmJm8oInBhdGgiLHtkOiJNMTMgNDMyTDU5MCA0OCIsc3Ryb2tlOiJ2YXIoLS1yZWQtNTAwKSIsInN0cm9rZS13aWR0aCI6IjcyIiwic3Ryb2tlLWxpbmVjYXAiOiJyb3VuZCJ9KSkpKSkpfXZhciBpbyxGbSxEYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtGKCk7c2UoKTtQKCk7eCgpO00oKTtpbz1FKHtzaG93SWNvbjp7dHlwZTozLGRlZmF1bHQ6ITEsZGVzY3JpcHRpb246IlNob3cgYW4gaWNvbiBmb3IgdG9nZ2xpbmcgdGhlIHBsdWdpbiIscmVzdGFydE5lZWRlZDohMH0saXNFbmFibGVkOnt0eXBlOjMsZGVzY3JpcHRpb246IlRvZ2dsZSBmdW5jdGlvbmFsaXR5IixkZWZhdWx0OiEwfX0pO0ZtPXYoe25hbWU6IlNpbGVudFR5cGluZyIsYXV0aG9yczpbZC5WZW4sZC5kenNobl0sZGVzY3JpcHRpb246IkhpZGUgdGhhdCB5b3UgYXJlIHR5cGluZyIscGF0Y2hlczpbe2ZpbmQ6InN0YXJ0VHlwaW5nOiIscmVwbGFjZW1lbnQ6e21hdGNoOi9zdGFydFR5cGluZzouKz8sc3RvcC8scmVwbGFjZToic3RhcnRUeXBpbmc6JHNlbGYuc3RhcnRUeXBpbmcsc3RvcCJ9fSx7ZmluZDoiLmFjdGl2ZUNvbW1hbmRPcHRpb24iLHByZWRpY2F0ZTooKT0+aW8uc3RvcmUuc2hvd0ljb24scmVwbGFjZW1lbnQ6e21hdGNoOi8oLilcLnB1c2guezEsMzB9ZGlzYWJsZWQ6KFxpKSwuezEsMjB9XH0sImdpZnQiXClcKS8scmVwbGFjZToiJCY7dHJ5eyQyfHwkMS5wdXNoKCRzZWxmLmNoYXRCYXJJY29uKGFyZ3VtZW50c1swXSkpfWNhdGNoe30ifX1dLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sc2V0dGluZ3M6aW8sY29tbWFuZHM6W3tuYW1lOiJzaWxlbnR0eXBlIixkZXNjcmlwdGlvbjoiVG9nZ2xlIHdoZXRoZXIgeW91J3JlIGhpZGluZyB0aGF0IHlvdSdyZSB0eXBpbmcgb3Igbm90LiIsaW5wdXRUeXBlOjAsb3B0aW9uczpbe25hbWU6InZhbHVlIixkZXNjcmlwdGlvbjoid2hldGhlciB0byBoaWRlIG9yIG5vdCB0aGF0IHlvdSdyZSB0eXBpbmcgKGRlZmF1bHQgaXMgdG9nZ2xlKSIscmVxdWlyZWQ6ITEsdHlwZTo1fV0sZXhlY3V0ZTphc3luYyhlLHQpPT57aW8uc3RvcmUuaXNFbmFibGVkPSEhWWUoZSwidmFsdWUiLCFpby5zdG9yZS5pc0VuYWJsZWQpLGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDppby5zdG9yZS5pc0VuYWJsZWQ/IlNpbGVudCB0eXBpbmcgZW5hYmxlZCEiOiJTaWxlbnQgdHlwaW5nIGRpc2FibGVkISJ9KX19XSxhc3luYyBzdGFydFR5cGluZyhlKXtpby5zdG9yZS5pc0VuYWJsZWR8fF8uZGlzcGF0Y2goe3R5cGU6IlRZUElOR19TVEFSVF9MT0NBTCIsY2hhbm5lbElkOmV9KX0sY2hhdEJhckljb246RC53cmFwKHRDLHtub29wOiEwfSl9KX0pO3ZhciAkbSxPYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7dnQoKTtQKCk7eCgpO00oKTtVbSgpOyRtPXYoe25hbWU6IlNvcnRGcmllbmRSZXF1ZXN0cyIsYXV0aG9yczpbZC5NZWd1XSxkZXNjcmlwdGlvbjoiU29ydHMgZnJpZW5kIHJlcXVlc3RzIGJ5IGRhdGUgb2YgcmVjZWlwdCIscGF0Y2hlczpbe2ZpbmQ6Ii5QRU5ESU5HX0lOQ09NSU5HfHwiLHJlcGxhY2VtZW50Olt7bWF0Y2g6L1wuc29ydEJ5XChcKGZ1bmN0aW9uXCgoXHcpXCl7cmV0dXJuIFx3ezEsM31cLmNvbXBhcmF0b3J9XClcKS8scmVwbGFjZTooZSx0KT0+YC5zb3J0QnkoKGZ1bmN0aW9uKCR7dH0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAke3R9LnR5cGUgPT09IDMgfHwgJHt0fS50eXBlID09PSA0CiAgICAgICAgICAgICAgICAgICAgPyAtVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLmdldFNpbmNlKCR7dH0udXNlcikKICAgICAgICAgICAgICAgICAgICA6ICR7dH0uY29tcGFyYXRvcgogICAgICAgICAgICB9KSlgfSx7cHJlZGljYXRlOigpPT5OLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLnNob3dEYXRlcyxtYXRjaDovKHVzZXI6KFx3ezEsM30pLC57MTAsMzB9KSxzdWJUZXh0Oihcd3sxLDN9KSwoLnsxMCwzMH11c2VySW5mb31cKSkvLHJlcGxhY2U6KGUsdCxuLHIsaSk9PmAke3R9LAogICAgICAgICAgICAgICAgc3ViVGV4dDogVmVuY29yZC5QbHVnaW5zLnBsdWdpbnMuU29ydEZyaWVuZFJlcXVlc3RzLm1ha2VTdWJ0ZXh0KCR7cn0sICR7bn0pLAogICAgICAgICAgICAgICAgJHtpfWB9XX1dLGdldFNpbmNlKGUpe3JldHVybiBuZXcgRGF0ZShpdC5nZXRTaW5jZShlLmlkKSl9LG1ha2VTdWJ0ZXh0KGUsdCl7bGV0IG49dGhpcy5nZXRTaW5jZSh0KTtyZXR1cm4gbyhjZSx7ZmxleERpcmVjdGlvbjoicm93IixzdHlsZTp7Z2FwOjAsZmxleFdyYXA6IndyYXAiLGxpbmVIZWlnaHQ6IjAuOXJlbSJ9fSxvKCJzcGFuIixudWxsLGUpLCFpc05hTihuLmdldFRpbWUoKSkmJm8oInNwYW4iLG51bGwsIlJlY2VpdmVkIFx1MjAxNCAiLG4udG9EYXRlU3RyaW5nKCkpKX0sb3B0aW9uczp7c2hvd0RhdGVzOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgZGF0ZXMgb24gZnJpZW5kIHJlcXVlc3RzIixkZWZhdWx0OiExLHJlc3RhcnROZWVkZWQ6ITB9fX0pfSk7dmFyIF9iLEJiPWcoKCk9PnthKCk7bCgpOyh1bnNhZmVXaW5kb3cuVmVuY29yZFN0eWxlcz8/PW5ldyBNYXApLnNldCgic3JjL3BsdWdpbnMvc3BvdGlmeUNvbnRyb2xzL2hvdmVyT25seS5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy9zcG90aWZ5Q29udHJvbHMvaG92ZXJPbmx5LmNzcyIsc291cmNlOmAudmMtc3BvdGlmeS1idXR0b24tcm93IHsKICAgIGhlaWdodDogMDsKICAgIG9wYWNpdHk6IDA7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIHRyYW5zaXRpb246IDAuMnM7CiAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiBoZWlnaHQ7Cn0KCiN2Yy1zcG90aWZ5LXBsYXllcjpob3ZlciAudmMtc3BvdGlmeS1idXR0b24tcm93IHsKICAgIG9wYWNpdHk6IDE7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBwb2ludGVyLWV2ZW50czogYXV0bzsKCiAgICAvKiBvbmx5IHRyYW5zaXRpb24gb3BhY2l0eSBvbiBzaG93IHRvIHByZXZlbnQgY2xpcHBpbmcgKi8KICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IGhlaWdodCwgb3BhY2l0eTsKfQpgLGNsYXNzTmFtZXM6e30sZG9tOm51bGx9KTtfYj0ic3JjL3BsdWdpbnMvc3BvdGlmeUNvbnRyb2xzL2hvdmVyT25seS5jc3MifSk7dmFyIEZiPWcoKCk9Pnt9KTt2YXIgYmUsJGI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtjbigpO0IoKTtNKCk7YmU9ZnQoKCk9PntsZXR7U3RvcmU6ZX09TGwsdD1JKCJnZXRBY3RpdmVTb2NrZXRBbmREZXZpY2UiKSxuPUkoIlNwb3RpZnlBUElNYXJrZXIiKSxyPSJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZS9wbGF5ZXIiO2NsYXNzIGkgZXh0ZW5kcyBle21Qb3NpdGlvbj0wO3N0YXJ0PTA7dHJhY2s9bnVsbDtkZXZpY2U9bnVsbDtpc1BsYXlpbmc9ITE7cmVwZWF0PSJvZmYiO3NodWZmbGU9ITE7dm9sdW1lPTA7aXNTZXR0aW5nUG9zaXRpb249ITE7b3BlbkV4dGVybmFsKHUpe2xldCBwPU4ucGx1Z2lucy5TcG90aWZ5Q29udHJvbHMudXNlU3BvdGlmeVVyaXN8fFZlbmNvcmQuUGx1Z2lucy5pc1BsdWdpbkVuYWJsZWQoIk9wZW5JbkFwcCIpPyJzcG90aWZ5OiIrdS5yZXBsYWNlQWxsKCIvIiwoeSxoKT0+aD09PTA/IiI6IjoiKToiaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tIit1O1ZlbmNvcmROYXRpdmUubmF0aXZlLm9wZW5FeHRlcm5hbChwKX1nZXQgcG9zaXRpb24oKXtsZXQgdT10aGlzLm1Qb3NpdGlvbjtyZXR1cm4gdGhpcy5pc1BsYXlpbmcmJih1Kz1EYXRlLm5vdygpLXRoaXMuc3RhcnQpLHV9c2V0IHBvc2l0aW9uKHUpe3RoaXMubVBvc2l0aW9uPXUsdGhpcy5zdGFydD1EYXRlLm5vdygpfXByZXYoKXt0aGlzLnJlcSgicG9zdCIsIi9wcmV2aW91cyIpfW5leHQoKXt0aGlzLnJlcSgicG9zdCIsIi9uZXh0Iil9c2V0Vm9sdW1lKHUpe3RoaXMucmVxKCJwdXQiLCIvdm9sdW1lIix7cXVlcnk6e3ZvbHVtZV9wZXJjZW50Ok1hdGgucm91bmQodSl9fSkudGhlbigoKT0+e3RoaXMudm9sdW1lPXUsdGhpcy5lbWl0Q2hhbmdlKCl9KX1zZXRQbGF5aW5nKHUpe3RoaXMucmVxKCJwdXQiLHU/Ii9wbGF5IjoiL3BhdXNlIil9c2V0UmVwZWF0KHUpe3RoaXMucmVxKCJwdXQiLCIvcmVwZWF0Iix7cXVlcnk6e3N0YXRlOnV9fSl9c2V0U2h1ZmZsZSh1KXt0aGlzLnJlcSgicHV0IiwiL3NodWZmbGUiLHtxdWVyeTp7c3RhdGU6dX19KS50aGVuKCgpPT57dGhpcy5zaHVmZmxlPXUsdGhpcy5lbWl0Q2hhbmdlKCl9KX1zZWVrKHUpe3JldHVybiB0aGlzLmlzU2V0dGluZ1Bvc2l0aW9uP1Byb21pc2UucmVzb2x2ZSgpOih0aGlzLmlzU2V0dGluZ1Bvc2l0aW9uPSEwLHRoaXMucmVxKCJwdXQiLCIvc2VlayIse3F1ZXJ5Ontwb3NpdGlvbl9tczpNYXRoLnJvdW5kKHUpfX0pLmNhdGNoKHA9Pntjb25zb2xlLmVycm9yKCJbVmVuY29yZFNwb3RpZnlDb250cm9sc10gRmFpbGVkIHRvIHNlZWsiLHApLHRoaXMuaXNTZXR0aW5nUG9zaXRpb249ITF9KSl9cmVxKHUscCx5PXt9KXt0aGlzLmRldmljZT8uaXNfYWN0aXZlJiYoKHkucXVlcnk/Pz17fSkuZGV2aWNlX2lkPXRoaXMuZGV2aWNlLmlkKTtsZXR7c29ja2V0Omh9PXQuZ2V0QWN0aXZlU29ja2V0QW5kRGV2aWNlKCk7cmV0dXJuIG5bdV0oaC5hY2NvdW50SWQsaC5hY2Nlc3NUb2tlbix7dXJsOnIrcCwuLi55fSl9fWxldCBzPW5ldyBpKF8se1NQT1RJRllfUExBWUVSX1NUQVRFKGMpe3MudHJhY2s9Yy50cmFjayxzLmRldmljZT1jLmRldmljZT8/bnVsbCxzLmlzUGxheWluZz1jLmlzUGxheWluZz8/ITEscy52b2x1bWU9Yy52b2x1bWVQZXJjZW50Pz8wLHMucmVwZWF0PWMuYWN0dWFsX3JlcGVhdHx8Im9mZiIscy5wb3NpdGlvbj1jLnBvc2l0aW9uPz8wLHMuaXNTZXR0aW5nUG9zaXRpb249ITEscy5lbWl0Q2hhbmdlKCl9LFNQT1RJRllfU0VUX0RFVklDRVMoe2RldmljZXM6Y30pe3MuZGV2aWNlPWMuZmluZCh1PT51LmlzX2FjdGl2ZSk/P2NbMF0/P251bGwscy5lbWl0Q2hhbmdlKCl9fSk7cmV0dXJuIHN9KX0pO2Z1bmN0aW9uIEdtKGUpe2xldCB0PWUvMWUzLzYwLG49TWF0aC5mbG9vcih0KSxyPU1hdGguZmxvb3IoKHQtbikqNjApO3JldHVybmAke24udG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIil9OiR7ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKX1gfWZ1bmN0aW9uIEVyKGUsdCl7cmV0dXJuKCk9Pm8oInN2ZyIse2NsYXNzTmFtZTplZShDZSgiYnV0dG9uLWljb24iKSxDZSh0KSksaGVpZ2h0OiIyNCIsd2lkdGg6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQiLGZpbGw6ImN1cnJlbnRDb2xvciIsImFyaWEtbGFiZWwiOnQsZm9jdXNhYmxlOiExfSxvKCJwYXRoIix7ZDplfSkpfWZ1bmN0aW9uIHFpKGUpe3JldHVybiBvKCJidXR0b24iLHtjbGFzc05hbWU6Q2UoImJ1dHRvbiIpLC4uLmV9LGUuY2hpbGRyZW4pfWZ1bmN0aW9uIGxDKHtuYW1lOmUscGF0aDp0fSl7bGV0IG49YHNwb3RpZnktY29weS0ke2V9YCxyPWBzcG90aWZ5LW9wZW4tJHtlfWA7cmV0dXJuIG8oTy5NZW51LHtuYXZJZDpgc3BvdGlmeS0ke2V9LW1lbnVgLG9uQ2xvc2U6KCk9Pl8uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KSwiYXJpYS1sYWJlbCI6YFNwb3RpZnkgJHtlfSBNZW51YH0sbyhPLk1lbnVJdGVtLHtrZXk6bixpZDpuLGxhYmVsOmBDb3B5ICR7ZX0gTGlua2AsYWN0aW9uOigpPT5WdCgiaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tIit0KSxpY29uOm5hfSksbyhPLk1lbnVJdGVtLHtrZXk6cixpZDpyLGxhYmVsOmBPcGVuICR7ZX0gaW4gU3BvdGlmeWAsYWN0aW9uOigpPT5iZS5vcGVuRXh0ZXJuYWwodCksaWNvbjpxb30pKX1mdW5jdGlvbiBjQyhlLHQpe3JldHVybiBuPT5kbi5vcGVuKG4sKCk9Pm8obEMse25hbWU6ZSxwYXRoOnR9KSl9ZnVuY3Rpb24gdUMoKXtsZXRbZSx0LG5dPVdlKFtiZV0sKCk9PltiZS5pc1BsYXlpbmcsYmUuc2h1ZmZsZSxiZS5yZXBlYXRdKSxbcixpXT0oKCk9Pntzd2l0Y2gobil7Y2FzZSJvZmYiOnJldHVyblsiY29udGV4dCIsInJlcGVhdC1vZmYiXTtjYXNlImNvbnRleHQiOnJldHVyblsidHJhY2siLCJyZXBlYXQtY29udGV4dCJdO2Nhc2UidHJhY2siOnJldHVyblsib2ZmIiwicmVwZWF0LXRyYWNrIl07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVwZWF0IHN0YXRlICR7bn1gKX19KSgpO3JldHVybiBvKGNlLHtjbGFzc05hbWU6Q2UoImJ1dHRvbi1yb3ciKSxzdHlsZTp7Z2FwOjB9fSxvKHFpLHtjbGFzc05hbWU6ZWUoQ2UoImJ1dHRvbiIpLENlKHQ/InNodWZmbGUtb24iOiJzaHVmZmxlLW9mZiIpKSxvbkNsaWNrOigpPT5iZS5zZXRTaHVmZmxlKCF0KX0sbyhhQyxudWxsKSksbyhxaSx7b25DbGljazooKT0+YmUucHJldigpfSxvKHJDLG51bGwpKSxvKHFpLHtvbkNsaWNrOigpPT5iZS5zZXRQbGF5aW5nKCFlKX0sZT9vKG9DLG51bGwpOm8obkMsbnVsbCkpLG8ocWkse29uQ2xpY2s6KCk9PmJlLm5leHQoKX0sbyhpQyxudWxsKSksbyhxaSx7Y2xhc3NOYW1lOmVlKENlKCJidXR0b24iKSxDZShpKSksb25DbGljazooKT0+YmUuc2V0UmVwZWF0KHIpLHN0eWxlOntwb3NpdGlvbjoicmVsYXRpdmUifX0sbj09PSJ0cmFjayImJm8oInNwYW4iLHtjbGFzc05hbWU6Q2UoInJlcGVhdC0xIil9LCIxIiksbyhzQyxudWxsKSkpfWZ1bmN0aW9uIGRDKCl7bGV0e2R1cmF0aW9uOmV9PWJlLnRyYWNrLFt0LG4scl09V2UoW2JlXSwoKT0+W2JlLm1Qb3NpdGlvbixiZS5pc1NldHRpbmdQb3NpdGlvbixiZS5pc1BsYXlpbmddKSxbaSxzXT1XKHQpO3JldHVybiBHZSgoKT0+e2lmKHImJiFuKXtzKGJlLnBvc2l0aW9uKTtsZXQgYz1zZXRJbnRlcnZhbCgoKT0+e3ModT0+dSsxZTMpfSwxZTMpO3JldHVybigpPT5jbGVhckludGVydmFsKGMpfX0sW3QsbixyXSksbygiZGl2Iix7aWQ6Q2UoInByb2dyZXNzLWJhciIpfSxvKGIuRm9ybVRleHQse3ZhcmlhbnQ6InRleHQteHMvbWVkaXVtIixjbGFzc05hbWU6Q2UoInByb2dyZXNzLXRpbWUiKSsiICIrQ2UoInRpbWUtbGVmdCIpLCJhcmlhLWxhYmVsIjoiUHJvZ3Jlc3MifSxHbShpKSksbyhPLk1lbnVTbGlkZXJDb250cm9sLHttaW5WYWx1ZTowLG1heFZhbHVlOmUsdmFsdWU6aSxvbkNoYW5nZTpjPT57bnx8KHMoYykscEMoYykpfSxyZW5kZXJWYWx1ZTpHbX0pLG8oYi5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC14cy9tZWRpdW0iLGNsYXNzTmFtZTpDZSgicHJvZ3Jlc3MtdGltZSIpKyIgIitDZSgidGltZS1yaWdodCIpLCJhcmlhLWxhYmVsIjoiVG90YWwgRHVyYXRpb24ifSxHbShlKSkpfWZ1bmN0aW9uIG1DKHt0cmFjazplfSl7bGV0IHQ9V2UoW2JlXSwoKT0+YmUudm9sdW1lKTtyZXR1cm4gbyhPLk1lbnUse25hdklkOiJzcG90aWZ5LWFsYnVtLW1lbnUiLG9uQ2xvc2U6KCk9Pl8uZGlzcGF0Y2goe3R5cGU6IkNPTlRFWFRfTUVOVV9DTE9TRSJ9KSwiYXJpYS1sYWJlbCI6IlNwb3RpZnkgQWxidW0gTWVudSJ9LG8oTy5NZW51SXRlbSx7a2V5OiJvcGVuLWFsYnVtIixpZDoib3Blbi1hbGJ1bSIsbGFiZWw6Ik9wZW4gQWxidW0iLGFjdGlvbjooKT0+YmUub3BlbkV4dGVybmFsKGAvYWxidW0vJHtlLmFsYnVtLmlkfWApLGljb246cW99KSxvKE8uTWVudUl0ZW0se2tleToidmlldy1jb3ZlciIsaWQ6InZpZXctY292ZXIiLGxhYmVsOiJWaWV3IEFsYnVtIENvdmVyIixhY3Rpb246KCk9PkhvKGUuYWxidW0uaW1hZ2UudXJsKSxpY29uOktvfSksbyhPLk1lbnVDb250cm9sSXRlbSx7aWQ6InNwb3RpZnktdm9sdW1lIixrZXk6InNwb3RpZnktdm9sdW1lIixsYWJlbDoiVm9sdW1lIixjb250cm9sOihuLHIpPT5vKE8uTWVudVNsaWRlckNvbnRyb2wsey4uLm4scmVmOnIsdmFsdWU6dCxtaW5WYWx1ZTowLG1heFZhbHVlOjEwMCxvbkNoYW5nZTpfdChpPT5iZS5zZXRWb2x1bWUoaSkpfSl9KSl9ZnVuY3Rpb24gSG0oZSx0LG4pe3JldHVybiB0P3tyb2xlOiJsaW5rIixvbkNsaWNrOigpPT5iZS5vcGVuRXh0ZXJuYWwobiksb25Db250ZXh0TWVudTpjQyhlLG4pfTp7fX1mdW5jdGlvbiBmQyh7dHJhY2s6ZX0pe2xldCB0PWU/LmFsYnVtPy5pbWFnZSxbbixyXT1XKCExKSxpPW8obSxudWxsLHQmJm8oImltZyIse2lkOkNlKCJhbGJ1bS1pbWFnZSIpLHNyYzp0LnVybCxhbHQ6IkFsYnVtIEltYWdlIixvbkNsaWNrOigpPT5yKCFuKSxvbkNvbnRleHRNZW51OnM9Pntkbi5vcGVuKHMsKCk9Pm8obUMse3RyYWNrOmV9KSl9fSkpO3JldHVybiBuJiZ0P28oImRpdiIse2lkOkNlKCJhbGJ1bS1leHBhbmRlZC13cmFwcGVyIil9LGkpOm8oImRpdiIse2lkOkNlKCJpbmZvLXdyYXBwZXIiKX0saSxvKCJkaXYiLHtpZDpDZSgidGl0bGVzIil9LG8oYi5Gb3JtVGV4dCx7dmFyaWFudDoidGV4dC1zbS9zZW1pYm9sZCIsaWQ6Q2UoInNvbmctdGl0bGUiKSxjbGFzc05hbWU6Q2UoImVsbGlwb3ZlcmZsb3ciKSx0aXRsZTplLm5hbWUsLi4uSG0oIlNvbmciLGUuaWQsYC90cmFjay8ke2UuaWR9YCl9LGUubmFtZSksZS5hcnRpc3RzLnNvbWUocz0+cy5uYW1lKSYmbyhiLkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LXNtL25vcm1hbCIsY2xhc3NOYW1lOkNlKCJlbGxpcG92ZXJmbG93Iil9LCJieVx4QTAiLGUuYXJ0aXN0cy5tYXAoKHMsYyk9Pm8oQS5GcmFnbWVudCx7a2V5OnMubmFtZX0sbygic3BhbiIse2NsYXNzTmFtZTpDZSgiYXJ0aXN0Iiksc3R5bGU6e2ZvbnRTaXplOiJpbmhlcml0In0sdGl0bGU6cy5uYW1lLC4uLkhtKCJBcnRpc3QiLHMuaWQsYC9hcnRpc3QvJHtzLmlkfWApfSxzLm5hbWUpLGMhPT1lLmFydGlzdHMubGVuZ3RoLTEmJm8oInNwYW4iLHtjbGFzc05hbWU6Q2UoImNvbW1hIil9LCIsICIpKSkpLGUuYWxidW0ubmFtZSYmbyhiLkZvcm1UZXh0LHt2YXJpYW50OiJ0ZXh0LXNtL25vcm1hbCIsY2xhc3NOYW1lOkNlKCJlbGxpcG92ZXJmbG93Iil9LCJvblx4QTAiLG8oInNwYW4iLHtpZDpDZSgiYWxidW0tdGl0bGUiKSxjbGFzc05hbWU6Q2UoImFsYnVtIiksc3R5bGU6e2ZvbnRTaXplOiJpbmhlcml0In0sdGl0bGU6ZS5hbGJ1bS5uYW1lLC4uLkhtKCJBbGJ1bSIsZS5hbGJ1bS5pZCxgL2FsYnVtLyR7ZS5hbGJ1bS5pZH1gKX0sZS5hbGJ1bS5uYW1lKSkpKX1mdW5jdGlvbiBVYigpe2xldCBlPVdlKFtiZV0sKCk9PmJlLnRyYWNrLG51bGwsKHMsYyk9PnM/LmlkP3MuaWQ9PT1jPy5pZDpzPy5uYW1lPT09Yz8ubmFtZSksdD1XZShbYmVdLCgpPT5iZS5kZXZpY2UsbnVsbCwocyxjKT0+cz8uaWQ9PT1jPy5pZCksbj1XZShbYmVdLCgpPT5iZS5pc1BsYXlpbmcpLFtyLGldPVcoITEpO3JldHVybiBBLnVzZUVmZmVjdCgoKT0+e2lmKGkoITEpLCFuKXtsZXQgcz1zZXRUaW1lb3V0KCgpPT5pKCEwKSwzZTUpO3JldHVybigpPT5jbGVhclRpbWVvdXQocyl9fSxbbl0pLCFlfHwhdD8uaXNfYWN0aXZlfHxyP251bGw6byhELHtmYWxsYmFjazooKT0+bygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy1zcG90aWZ5LWZhbGxiYWNrIn0sbygicCIsbnVsbCwiRmFpbGVkIHRvIHJlbmRlciBTcG90aWZ5IE1vZGFsIDooIiksbygicCIsbnVsbCwiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIGVycm9ycyIpKX0sbygiZGl2Iix7aWQ6Q2UoInBsYXllciIpfSxvKGZDLHt0cmFjazplfSksbyhkQyxudWxsKSxvKHVDLG51bGwpKSl9dmFyIENlLG5DLG9DLHJDLGlDLHNDLGFDLHBDLEdiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGYigpO3NlKCk7dnQoKTt4bigpO2FyKCk7c3QoKTt5ZSgpO00oKTskYigpO0NlPWU9PmB2Yy1zcG90aWZ5LSR7ZX1gO25DPUVyKCJNOCA2LjgydjEwLjM2YzAgLjc5Ljg3IDEuMjcgMS41NC44NGw4LjE0LTUuMThjLjYyLS4zOS42Mi0xLjI5IDAtMS42OUw5LjU0IDUuOThDOC44NyA1LjU1IDggNi4wMyA4IDYuODJ6IiwicGxheSIpLG9DPUVyKCJNOCAxOWMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0ycy0yIC45LTIgMnYxMGMwIDEuMS45IDIgMiAyem02LTEydjEwYzAgMS4xLjkgMiAyIDJzMi0uOSAyLTJWN2MwLTEuMS0uOS0yLTItMnMtMiAuOS0yIDJ6IiwicGF1c2UiKSxyQz1FcigiTTcgNmMuNTUgMCAxIC40NSAxIDF2MTBjMCAuNTUtLjQ1IDEtMSAxcy0xLS40NS0xLTFWN2MwLS41NS40NS0xIDEtMXptMy42NiA2LjgybDUuNzcgNC4wN2MuNjYuNDcgMS41OC0uMDEgMS41OC0uODJWNy45M2MwLS44MS0uOTEtMS4yOC0xLjU4LS44MmwtNS43NyA0LjA3Yy0uNTcuNC0uNTcgMS4yNCAwIDEuNjR6IiwicHJldmlvdXMiKSxpQz1FcigiTTcuNTggMTYuODlsNS43Ny00LjA3Yy41Ni0uNC41Ni0xLjI0IDAtMS42M0w3LjU4IDcuMTFDNi45MSA2LjY1IDYgNy4xMiA2IDcuOTN2OC4xNGMwIC44MS45MSAxLjI4IDEuNTguODJ6TTE2IDd2MTBjMCAuNTUuNDUgMSAxIDFzMS0uNDUgMS0xVjdjMC0uNTUtLjQ1LTEtMS0xcy0xIC40NS0xIDF6IiwibmV4dCIpLHNDPUVyKCJNNyA3aDEwdjEuNzljMCAuNDUuNTQuNjcuODUuMzVsMi43OS0yLjc5Yy4yLS4yLjItLjUxIDAtLjcxbC0yLjc5LTIuNzljLS4zMS0uMzEtLjg1LS4wOS0uODUuMzZWNUg2Yy0uNTUgMC0xIC40NS0xIDF2NGMwIC41NS40NSAxIDEgMXMxLS40NSAxLTFWN3ptMTAgMTBIN3YtMS43OWMwLS40NS0uNTQtLjY3LS44NS0uMzVsLTIuNzkgMi43OWMtLjIuMi0uMi41MSAwIC43MWwyLjc5IDIuNzljLjMxLjMxLjg1LjA5Ljg1LS4zNlYxOWgxMWMuNTUgMCAxLS40NSAxLTF2LTRjMC0uNTUtLjQ1LTEtMS0xcy0xIC40NS0xIDF2M3oiLCJyZXBlYXQiKSxhQz1FcigiTTEwLjU5IDkuMTdMNi4xMiA0LjdjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwLS4zOS4zOS0uMzkgMS4wMiAwIDEuNDFsNC40NiA0LjQ2IDEuNDItMS40em00Ljc2LTQuMzJsMS4xOSAxLjE5TDQuNyAxNy44OGMtLjM5LjM5LS4zOSAxLjAyIDAgMS40MS4zOS4zOSAxLjAyLjM5IDEuNDEgMEwxNy45NiA3LjQ2bDEuMTkgMS4xOWMuMzEuMzEuODUuMDkuODUtLjM2VjQuNWMwLS4yOC0uMjItLjUtLjUtLjVoLTMuNzljLS40NSAwLS42Ny41NC0uMzYuODV6bS0uNTIgOC41NmwtMS40MSAxLjQxIDMuMTMgMy4xMy0xLjIgMS4yYy0uMzEuMzEtLjA5Ljg1LjM2Ljg1aDMuNzljLjI4IDAgLjUtLjIyLjUtLjV2LTMuNzljMC0uNDUtLjU0LS42Ny0uODUtLjM1bC0xLjE5IDEuMTktMy4xMy0zLjE0eiIsInNodWZmbGUiKTtwQz1fdChlPT57YmUuc2VlayhlKX0pfSk7ZnVuY3Rpb24gSGIoZSl7KGU/dHQ6TnQpKF9iKX12YXIgem0semI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtIZSgpO1AoKTt4KCk7QmIoKTtHYigpO3ptPXYoe25hbWU6IlNwb3RpZnlDb250cm9scyIsZGVzY3JpcHRpb246IkFkZHMgYSBTcG90aWZ5IHBsYXllciBhYm92ZSB0aGUgYWNjb3VudCBwYW5lbCIsYXV0aG9yczpbZC5WZW4sZC5hZm4sZC5LcmFYZW43Ml0sb3B0aW9uczp7aG92ZXJDb250cm9sczp7ZGVzY3JpcHRpb246IlNob3cgY29udHJvbHMgb24gaG92ZXIiLHR5cGU6MyxkZWZhdWx0OiExLG9uQ2hhbmdlOmU9PkhiKGUpfSx1c2VTcG90aWZ5VXJpczp7dHlwZTozLGRlc2NyaXB0aW9uOiJPcGVuIFNwb3RpZnkgVVJJcyBpbnN0ZWFkIG9mIFNwb3RpZnkgVVJMcy4gV2lsbCBvbmx5IHdvcmsgaWYgeW91IGhhdmUgU3BvdGlmeSBpbnN0YWxsZWQgYW5kIG1pZ2h0IG5vdCB3b3JrIG9uIGFsbCBwbGF0Zm9ybXMiLGRlZmF1bHQ6ITF9fSxwYXRjaGVzOlt7ZmluZDoic2hvd1RhZ2xlc3NBY2NvdW50UGFuZWw6IixyZXBsYWNlbWVudDp7bWF0Y2g6L3JldHVybiA/KC57MCwzMH1cKC57MSwzfSxce1tefV0rPyxzaG93VGFnbGVzc0FjY291bnRQYW5lbDouKz9cfVwpKS8scmVwbGFjZToicmV0dXJuIFskc2VsZi5yZW5kZXJQbGF5ZXIoKSwkMV0ifX0se2ZpbmQ6Ii5QTEFZRVJfREVWSUNFUyIscmVwbGFjZW1lbnQ6e21hdGNoOi9nZXQ6KC57MSwzfSlcLmJpbmRcKG51bGwsKC57MSw2fSlcLmdldFwpLyxyZXBsYWNlOiJTcG90aWZ5QVBJTWFya2VyOjEscG9zdDokMS5iaW5kKG51bGwsJDIucG9zdCksJCYifX0se2ZpbmQ6J3JlcGVhdDoib2ZmIiE9PScscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXBlYXQ6Im9mZiIhPT0oLnsxLDN9KSwvLHJlcGxhY2U6ImFjdHVhbF9yZXBlYXQ6JDEsJCYifX1dLHN0YXJ0OigpPT5IYihOLnBsdWdpbnMuU3BvdGlmeUNvbnRyb2xzLmhvdmVyQ29udHJvbHMpLHJlbmRlclBsYXllcjooKT0+byhVYixudWxsKX0pfSk7dmFyIGptLFdtLGpiPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7UCgpO3goKTtqbT1FKHtub1Nwb3RpZnlBdXRvUGF1c2U6e2Rlc2NyaXB0aW9uOiJEaXNhYmxlIFNwb3RpZnkgYXV0by1wYXVzZSIsdHlwZTozLGRlZmF1bHQ6ITAscmVzdGFydE5lZWRlZDohMH0sa2VlcFNwb3RpZnlBY3Rpdml0eU9uSWRsZTp7ZGVzY3JpcHRpb246IktlZXAgU3BvdGlmeSBhY3Rpdml0eSBwbGF5aW5nIHdoZW4gaWRsaW5nIix0eXBlOjMsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfX0pLFdtPXYoe25hbWU6IlNwb3RpZnlDcmFjayIsZGVzY3JpcHRpb246IkZyZWUgbGlzdGVuIGFsb25nLCBubyBhdXRvLXBhdXNpbmcgaW4gdm9pY2UgY2hhdCwgYW5kIGFsbG93cyBhY3Rpdml0eSB0byBjb250aW51ZSBwbGF5aW5nIHdoZW4gaWRsaW5nIixhdXRob3JzOltkLkN5bixkLk51Y2t5el0sc2V0dGluZ3M6am0scGF0Y2hlczpbe2ZpbmQ6J2Rpc3BhdGNoKHt0eXBlOiJTUE9USUZZX1BST0ZJTEVfVVBEQVRFIicscmVwbGFjZW1lbnQ6e21hdGNoOi9TUE9USUZZX1BST0ZJTEVfVVBEQVRFLis/aXNQcmVtaXVtOig/PSJwcmVtaXVtIj09PShcaSlcLmJvZHlcLnByb2R1Y3QpLyxyZXBsYWNlOihlLHQpPT5gJHtlfSgke3R9LmJvZHkucHJvZHVjdD0icHJlbWl1bSIpJiZgfX0se2ZpbmQ6Jy5kaXNwbGF5TmFtZT0iU3BvdGlmeVN0b3JlIicscmVwbGFjZW1lbnQ6W3twcmVkaWNhdGU6KCk9PmptLnN0b3JlLm5vU3BvdGlmeUF1dG9QYXVzZSxtYXRjaDovKD88PWZ1bmN0aW9uIFxpXChcKXspKD89LnswLDIwMH1TUE9USUZZX0FVVE9fUEFVU0VEXCkpLyxyZXBsYWNlOiJyZXR1cm47In0se3ByZWRpY2F0ZTooKT0+am0uc3RvcmUua2VlcFNwb3RpZnlBY3Rpdml0eU9uSWRsZSxtYXRjaDovKD88PXNob3VsZFNob3dBY3Rpdml0eT1mdW5jdGlvblwoXCl7LnswLDUwfSkmJiFcaVwuXGlcLmlzSWRsZVwoXCkvLHJlcGxhY2U6IiJ9XX1dfSl9KTtmdW5jdGlvbiBLbShlLHQpe3Q9e2ludmFsaWRFbW9qaXM6W10sdHRzOiExLHZhbGlkTm9uU2hvcnRjdXRFbW9qaXM6W10sLi4udH07bGV0IG49Z0MuZ2V0UGVuZGluZ1JlcGx5KGUpO1diLnNlbmRNZXNzYWdlKGUsdCx2b2lkIDAsV2IuZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkobikpLnRoZW4oKCk9PntuJiZfLmRpc3BhdGNoKHt0eXBlOiJERUxFVEVfUEVORElOR19SRVBMWSIsY2hhbm5lbElkOmV9KX0pfXZhciBxbSxXYixnQyxZbSxxYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7WXQoKTtQKCk7eCgpO0IoKTtNKCk7cW09SSgiZ2V0UGxheWVyU3RhdGUiKSxXYj1JKCJnZXRTZW5kTWVzc2FnZU9wdGlvbnNGb3JSZXBseSIsInNlbmRNZXNzYWdlIiksZ0M9SSgiZ2V0UGVuZGluZ1JlcGx5Iik7WW09dih7bmFtZToiU3BvdGlmeVNoYXJlQ29tbWFuZHMiLGRlc2NyaXB0aW9uOiJTaGFyZSB5b3VyIGN1cnJlbnQgU3BvdGlmeSB0cmFjaywgYWxidW0gb3IgYXJ0aXN0IHZpYSBzbGFzaCBjb21tYW5kICgvdHJhY2ssIC9hbGJ1bSwgL2FydGlzdCkiLGF1dGhvcnM6W2Qua2F0bHluXSxkZXBlbmRlbmNpZXM6WyJDb21tYW5kc0FQSSJdLGNvbW1hbmRzOlt7bmFtZToidHJhY2siLGRlc2NyaXB0aW9uOiJTZW5kIHlvdXIgY3VycmVudCBTcG90aWZ5IHRyYWNrIHRvIGNoYXQiLGlucHV0VHlwZTowLG9wdGlvbnM6W10sZXhlY3V0ZTooZSx0KT0+e2xldCBuPXFtLmdldFRyYWNrKCk7aWYobj09PW51bGwpe2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiWW91J3JlIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG11c2ljLiJ9KTtyZXR1cm59S20odC5jaGFubmVsLmlkLHtjb250ZW50OmBodHRwczovL29wZW4uc3BvdGlmeS5jb20vdHJhY2svJHtuLmlkfWB9KX19LHtuYW1lOiJhbGJ1bSIsZGVzY3JpcHRpb246IlNlbmQgeW91ciBjdXJyZW50IFNwb3RpZnkgYWxidW0gdG8gY2hhdCIsaW5wdXRUeXBlOjAsb3B0aW9uczpbXSxleGVjdXRlOihlLHQpPT57bGV0IG49cW0uZ2V0VHJhY2soKTtpZihuPT09bnVsbCl7YWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJZb3UncmUgbm90IGxpc3RlbmluZyB0byBhbnkgbXVzaWMuIn0pO3JldHVybn1LbSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6YGh0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS9hbGJ1bS8ke24uYWxidW0uaWR9YH0pfX0se25hbWU6ImFydGlzdCIsZGVzY3JpcHRpb246IlNlbmQgeW91ciBjdXJyZW50IFNwb3RpZnkgYXJ0aXN0IHRvIGNoYXQiLGlucHV0VHlwZTowLG9wdGlvbnM6W10sZXhlY3V0ZTooZSx0KT0+e2xldCBuPXFtLmdldFRyYWNrKCk7aWYobj09PW51bGwpe2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiWW91J3JlIG5vdCBsaXN0ZW5pbmcgdG8gYW55IG11c2ljLiJ9KTtyZXR1cm59S20odC5jaGFubmVsLmlkLHtjb250ZW50Om4uYXJ0aXN0c1swXS5leHRlcm5hbF91cmxzLnNwb3RpZnl9KX19XX0pfSk7dmFyIEtiPXt9O3ZlKEtiLHtkZWZhdWx0OigpPT5iQ30pO2Z1bmN0aW9uIGhDKHtlbW9qaTplLHByZWZpeDp0LGxvZzpuLGRlbHRhOnIsaW5zdGFuY2U6aX0pe3JldHVybiBvKEEuRnJhZ21lbnQsbnVsbCxvKCJzcGFuIixudWxsLGkuc2luY2VTdGFydC50b0ZpeGVkKDMpLCJzIiksbygic3BhbiIsbnVsbCxpLnNpbmNlTGFzdC50b0ZpeGVkKDMpLCJzIiksbygic3BhbiIsbnVsbCxyPy50b0ZpeGVkKDApPz8iIiksbygic3BhbiIsbnVsbCxvKCJwcmUiLG51bGwsZSwiICIsdD8/IiAiLG4pKSl9ZnVuY3Rpb24geUMoe3RpdGxlOmUsbG9nczp0LHRyYWNlRW5kOm59KXtsZXQgcj10LmZpbmQoYz0+Yy50aW1lc3RhbXApPy50aW1lc3RhbXA/PzAsaT1yLHM9dC5tYXAoYz0+e2xldCB1PWMudGltZXN0YW1wPz9pLHA9KHUtcikvMWUzLHk9KHUtaSkvMWUzO3JldHVybiBpPXUse3NpbmNlU3RhcnQ6cCxzaW5jZUxhc3Q6eX19KTtyZXR1cm4gbyhiLkZvcm1TZWN0aW9uLHt0aXRsZTplLHRhZzoiaDEifSxvKCJjb2RlIixudWxsLG4mJm8oImRpdiIse3N0eWxlOntjb2xvcjoidmFyKC0taGVhZGVyLXByaW1hcnkpIixtYXJnaW5Cb3R0b206NSx1c2VyU2VsZWN0OiJ0ZXh0In19LCJUcmFjZSBlbmRlZCBhdDogIixuZXcgRGF0ZShuKS50b1RpbWVTdHJpbmcoKSksbygiZGl2Iix7c3R5bGU6e2NvbG9yOiJ2YXIoLS1oZWFkZXItcHJpbWFyeSkiLGRpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6InJlcGVhdCgzLCBhdXRvKSAxZnIiLGdhcDoiMnB4IDEwcHgiLHVzZXJTZWxlY3Q6InRleHQifX0sbygic3BhbiIsbnVsbCwiU3RhcnQiKSxvKCJzcGFuIixudWxsLCJJbnRlcnZhbCIpLG8oInNwYW4iLG51bGwsIkRlbHRhIiksbygic3BhbiIse3N0eWxlOnttYXJnaW5Cb3R0b206NX19LCJFdmVudCIpLEtpLmxvZ3MubWFwKChjLHUpPT5vKGhDLHtrZXk6dSwuLi5jLGluc3RhbmNlOnNbdV19KSkpKSl9ZnVuY3Rpb24gdkMoe3RyYWNlOmV9KXtsZXQgdD1lLnNwbGl0KGAKYCk7cmV0dXJuIG8oYi5Gb3JtU2VjdGlvbix7dGl0bGU6IlNlcnZlciBUcmFjZSIsdGFnOiJoMiJ9LG8oImNvZGUiLG51bGwsbyhjZSx7ZmxleERpcmVjdGlvbjoiY29sdW1uIixzdHlsZTp7Y29sb3I6InZhcigtLWhlYWRlci1wcmltYXJ5KSIsZ2FwOjUsdXNlclNlbGVjdDoidGV4dCJ9fSx0Lm1hcChuPT5vKCJzcGFuIixudWxsLG4pKSkpKX1mdW5jdGlvbiBTQygpe2lmKCFLaT8ubG9ncylyZXR1cm4gbygiZGl2IixudWxsLCJMb2FkaW5nLi4uIik7bGV0IGU9S2kubG9nR3JvdXBzLmZpbmQodD0+dC5zZXJ2ZXJUcmFjZSk/LnNlcnZlclRyYWNlO3JldHVybiBvKEEuRnJhZ21lbnQsbnVsbCxvKHlDLHt0aXRsZToiU3RhcnR1cCBUaW1pbmdzIixsb2dzOktpLmxvZ3MsdHJhY2VFbmQ6S2kuZW5kVGltZV99KSxvKCJkaXYiLHtzdHlsZTp7bWFyZ2luVG9wOjV9fSwiXHhBMCIpLGUmJm8odkMse3RyYWNlOmV9KSl9dmFyIEtpLGJDLFliPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO3Z0KCk7QigpO00oKTtLaT1JKCJtYXJrV2l0aERlbHRhIiwibWFya0FuZExvZyIsIm1hcmtBdCIpO2JDPUQud3JhcChTQyl9KTt2YXIgWm0sWmI9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTtnZSgpO3goKTtabT12KHtuYW1lOiJTdGFydHVwVGltaW5ncyIsZGVzY3JpcHRpb246IkFkZHMgU3RhcnR1cCBUaW1pbmdzIHRvIHRoZSBTZXR0aW5ncyBtZW51IixhdXRob3JzOltkLk1lZ3VdLHBhdGNoZXM6W3tmaW5kOiJQQVlNRU5UX0ZMT1dfTU9EQUxfVEVTVF9QQUdFLCIscmVwbGFjZW1lbnQ6e21hdGNoOi97c2VjdGlvbjouezEsMn1cLi57MSwzfVwuUEFZTUVOVF9GTE9XX01PREFMX1RFU1RfUEFHRS8scmVwbGFjZTone3NlY3Rpb246IlN0YXJ0dXBUaW1pbmdzIixsYWJlbDoiU3RhcnR1cCBUaW1pbmdzIixlbGVtZW50OiRzZWxmLlN0YXJ0dXBUaW1pbmdQYWdlfSwkJid9fV0sU3RhcnR1cFRpbWluZ1BhZ2U6cmUoKCk9PihZYigpLF9vKEtiKSkuZGVmYXVsdCl9KX0pO3ZhciBYYixUQyxYbSxKYj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7T2koKTtQKCk7eWUoKTtabigpO3goKTtocigpO00oKTskcigpO2dyKCk7aXUoKTtYYj0iVmVuY29yZC1TdXBwb3J0SGVscGVyLURpc21pc3MiLFRDPVtucywiMTAyNDI4NjIxODgwMTkyNjE4NCIsIjEwMzM2ODAyMDM0MzM2NjA0NTgiXSxYbT12KHtuYW1lOiJTdXBwb3J0SGVscGVyIixyZXF1aXJlZDohMCxkZXNjcmlwdGlvbjoiSGVscHMgdXMgcHJvdmlkZSBzdXBwb3J0IHRvIHlvdSIsYXV0aG9yczpbZC5WZW5dLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tuYW1lOiJ2ZW5jb3JkLWRlYnVnIixkZXNjcmlwdGlvbjoiU2VuZCBWZW5jb3JkIERlYnVnIGluZm8iLHByZWRpY2F0ZTplPT5UQy5pbmNsdWRlcyhlLmNoYW5uZWwuaWQpLGV4ZWN1dGUoKXtsZXR7UkVMRUFTRV9DSEFOTkVMOmV9PXVuc2FmZVdpbmRvdy5HTE9CQUxfRU5WLHQ9KCgpPT4iYXJtY29yZCJpbiB1bnNhZmVXaW5kb3c/YEFybUNvcmQgdiR7dW5zYWZlV2luZG93LmFybWNvcmQudmVyc2lvbn1gOmAke3R5cGVvZiB1bnNhZmVXaW5kb3c8InUiPyJVc2VyU2NyaXB0IjoiV2ViIn0gKCR7bmF2aWdhdG9yLnVzZXJBZ2VudH0pYCkoKSxuPXU9PnUuZW5kc1dpdGgoIkFQSSIpfHxQZVt1XS5yZXF1aXJlZCxyPU9iamVjdC5rZXlzKFBlKS5maWx0ZXIodT0+VmVuY29yZC5QbHVnaW5zLmlzUGx1Z2luRW5hYmxlZCh1KSYmIW4odSkpLGk9T2JqZWN0LmtleXMoUGUpLmZpbHRlcih1PT5WZW5jb3JkLlBsdWdpbnMuaXNQbHVnaW5FbmFibGVkKHUpJiZuKHUpKSxzPXtWZW5jb3JkOmB2MS40LjEgXHUyMDIyICR7bG59JHt5aS5hZGRpdGlvbmFsSW5mb30gLSAke0ludGwuRGF0ZVRpbWVGb3JtYXQoImVuLUdCIix7ZGF0ZVN0eWxlOiJtZWRpdW0ifSkuZm9ybWF0KDE2OTA5MzYxNDYxOTApfWAsIkRpc2NvcmQgQnJhbmNoIjplLENsaWVudDp0LFBsYXRmb3JtOnVuc2FmZVdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0sT3V0ZGF0ZWQ6U28sT3BlbkFzYXI6Im9wZW5hc2FyImluIHVuc2FmZVdpbmRvd307cmV0dXJue2NvbnRlbnQ6YAoqKlZlbmNvcmQgRGVidWcgSW5mbyoqCj4+PiAke09iamVjdC5lbnRyaWVzKHMpLm1hcCgoW3UscF0pPT5gJHt1fTogJHtwfWApLmpvaW4oYApgKX0KCkVuYWJsZWQgUGx1Z2lucyAoJHtyLmxlbmd0aCtpLmxlbmd0aH0pOgoke1ZyKHIuam9pbigiLCAiKStgCgpgK2kuam9pbigiLCAiKSl9CmAudHJpbSgpLnJlcGxhY2VBbGwoImBgYFxuIiwiYGBgIil9fX1dLGZsdXg6e2FzeW5jIENIQU5ORUxfU0VMRUNUKHtjaGFubmVsSWQ6ZX0pe2lmKGU9PT1ucyYmIUdyKEcuZ2V0Q3VycmVudFVzZXIoKS5pZCkmJlNvJiZsbiE9PWF3YWl0IEV0LmdldChYYikpe2xldCB0PSgpPT5FdC5zZXQoWGIsbG4pO0l0LnNob3coe3RpdGxlOiJIb2xkIG9uISIsYm9keTpvKCJkaXYiLG51bGwsbyhiLkZvcm1UZXh0LG51bGwsIllvdSBhcmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWZW5jb3JkISBDaGFuY2VzIGFyZSwgeW91ciBpc3N1ZSBpcyBhbHJlYWR5IGZpeGVkLiIpLG8oYi5Gb3JtVGV4dCxudWxsLCJQbGVhc2UgZmlyc3QgdXBkYXRlIHVzaW5nIHRoZSBVcGRhdGVyIFBhZ2UgaW4gU2V0dGluZ3MsIG9yIHVzZSB0aGUgVmVuY29yZEluc3RhbGxlciAoVXBkYXRlIFZlbmNvcmQgQnV0dG9uKSB0byBkbyBzbywgaW4gY2FzZSB5b3UgY2FuJ3QgYWNjZXNzIHRoZSBVcGRhdGVyIHBhZ2UuIikpLG9uQ2FuY2VsOnQsb25Db25maXJtOnR9KX19fX0pfSk7ZnVuY3Rpb24gblQoZSl7bGV0IHQ9ZS5tYXRjaCgvXihcLyk/KC4rPykoPzpcLyhbZ2ltc3V5XSopKT8kLyk7cmV0dXJuIHQ/bmV3IFJlZ0V4cCh0WzJdLHRbM10/LnNwbGl0KCIiKS5maWx0ZXIoKG4scixpKT0+aS5pbmRleE9mKG4pPT09cikuam9pbigiIik/PyJnIik6bmV3IFJlZ0V4cChlKX1mdW5jdGlvbiB3QyhlKXt0cnl7cmV0dXJuIG5UKGUpLG51bGx9Y2F0Y2godCl7cmV0dXJuIG8oInNwYW4iLHtzdHlsZTp7Y29sb3I6InZhcigtLXRleHQtZGFuZ2VyKSJ9fSxTdHJpbmcodCkpfX1mdW5jdGlvbiBKbSh7aW5pdGlhbFZhbHVlOmUsb25DaGFuZ2U6dCxwbGFjZWhvbGRlcjpufSl7bGV0W3IsaV09VyhlKTtyZXR1cm4gbyhEZSx7cGxhY2Vob2xkZXI6bix2YWx1ZTpyLG9uQ2hhbmdlOmksc3BlbGxDaGVjazohMSxvbkJsdXI6KCk9PnIhPT1lJiZ0KHIpfSl9ZnVuY3Rpb24gUWIoe3RpdGxlOmUscnVsZXNBcnJheTp0LHJ1bGVzS2V5Om4sdXBkYXRlOnJ9KXtsZXQgaT1lPT09IlVzaW5nIFJlZ2V4Ijthc3luYyBmdW5jdGlvbiBzKHUpe3UhPT10Lmxlbmd0aC0xJiYodC5zcGxpY2UodSwxKSxhd2FpdCBFdC5zZXQobix0KSxyKCkpfWFzeW5jIGZ1bmN0aW9uIGModSxwLHkpe3A9PT10Lmxlbmd0aC0xJiZ0LnB1c2godFQoKSksdFtwXVt5XT11LHRbcF0uZmluZD09PSIiJiZ0W3BdLnJlcGxhY2U9PT0iIiYmdFtwXS5vbmx5SWZJbmNsdWRlcz09PSIiJiZwIT09dC5sZW5ndGgtMSYmdC5zcGxpY2UocCwxKSxhd2FpdCBFdC5zZXQobix0KSxyKCl9cmV0dXJuIG8obSxudWxsLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDQifSxlKSxvKGNlLHtmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLHN0eWxlOntnYXA6IjAuNWVtIn19LHQubWFwKCh1LHApPT5vKEEuRnJhZ21lbnQse2tleTpgJHt1LmZpbmR9LSR7cH1gfSxvKGNlLHtmbGV4RGlyZWN0aW9uOiJyb3ciLHN0eWxlOntnYXA6MH19LG8oY2Use2ZsZXhEaXJlY3Rpb246InJvdyIsc3R5bGU6e2ZsZXhHcm93OjEsZ2FwOiIwLjVlbSJ9fSxvKEptLHtwbGFjZWhvbGRlcjoiRmluZCIsaW5pdGlhbFZhbHVlOnUuZmluZCxvbkNoYW5nZTp5PT5jKHkscCwiZmluZCIpfSksbyhKbSx7cGxhY2Vob2xkZXI6IlJlcGxhY2UiLGluaXRpYWxWYWx1ZTp1LnJlcGxhY2Usb25DaGFuZ2U6eT0+Yyh5LHAsInJlcGxhY2UiKX0pLG8oSm0se3BsYWNlaG9sZGVyOiJPbmx5IGlmIGluY2x1ZGVzIixpbml0aWFsVmFsdWU6dS5vbmx5SWZJbmNsdWRlcyxvbkNoYW5nZTp5PT5jKHkscCwib25seUlmSW5jbHVkZXMiKX0pKSxvKFIse3NpemU6Ui5TaXplcy5NSU4sb25DbGljazooKT0+cyhwKSxzdHlsZTp7YmFja2dyb3VuZDoibm9uZSIsLi4ucD09PXQubGVuZ3RoLTE/e3Zpc2liaWxpdHk6ImhpZGRlbiIscG9pbnRlckV2ZW50czoibm9uZSJ9Ont9fX0sbygic3ZnIix7d2lkdGg6IjI0IixoZWlnaHQ6IjI0Iix2aWV3Qm94OiIwIDAgMjQgMjQifSxvKCJ0aXRsZSIsbnVsbCwiRGVsZXRlIFJ1bGUiKSxvKCJwYXRoIix7ZmlsbDoidmFyKC0tc3RhdHVzLWRhbmdlcikiLGQ6Ik0xNSAzLjk5OVYySDlWMy45OTlIM1Y1Ljk5OUgyMVYzLjk5OUgxNVoifSksbygicGF0aCIse2ZpbGw6InZhcigtLXN0YXR1cy1kYW5nZXIpIixkOiJNNSA2Ljk5OTAyVjE4Ljk5OUM1IDIwLjEwMSA1Ljg5NyAyMC45OTkgNyAyMC45OTlIMTdDMTguMTAzIDIwLjk5OSAxOSAyMC4xMDEgMTkgMTguOTk5VjYuOTk5MDJINVpNMTEgMTdIOVYxMUgxMVYxN1pNMTUgMTdIMTNWMTFIMTVWMTdaIn0pKSkpLGkmJndDKHUuZmluZCkpKSkpfWZ1bmN0aW9uIE1DKCl7bGV0W2UsdF09VygiIik7cmV0dXJuIG8obSxudWxsLG8oYi5Gb3JtVGl0bGUse3RhZzoiaDQifSwiVGVzdCBSdWxlcyIpLG8oRGUse3BsYWNlaG9sZGVyOiJUeXBlIGEgbWVzc2FnZSIsb25DaGFuZ2U6dH0pLG8oRGUse3BsYWNlaG9sZGVyOiJNZXNzYWdlIHdpdGggcnVsZXMgYXBwbGllZCIsZWRpdGFibGU6ITEsdmFsdWU6b1QoZSl9KSl9ZnVuY3Rpb24gb1QoZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiBlO2lmKGU9IiAiK2UrIiAiLGVsKWZvcihsZXQgdCBvZiBlbCkhdC5maW5kfHwhdC5yZXBsYWNlfHx0Lm9ubHlJZkluY2x1ZGVzJiYhZS5pbmNsdWRlcyh0Lm9ubHlJZkluY2x1ZGVzKXx8KGU9ZS5yZXBsYWNlQWxsKHQuZmluZCx0LnJlcGxhY2UucmVwbGFjZUFsbCgiXFxuIixgCmApKSk7aWYodGwpe2ZvcihsZXQgdCBvZiB0bClpZighKCF0LmZpbmR8fCF0LnJlcGxhY2UpJiYhKHQub25seUlmSW5jbHVkZXMmJiFlLmluY2x1ZGVzKHQub25seUlmSW5jbHVkZXMpKSl0cnl7bGV0IG49blQodC5maW5kKTtlPWUucmVwbGFjZShuLHQucmVwbGFjZS5yZXBsYWNlQWxsKCJcXG4iLGAKYCkpfWNhdGNoe25ldyBRKCJUZXh0UmVwbGFjZSIpLmVycm9yKGBJbnZhbGlkIHJlZ2V4OiAke3QuZmluZH1gKX19cmV0dXJuIGU9ZS50cmltKCksZX12YXIgVmIsZVQsdFQsVmEsZWwsdGwseEMsUEMsUW0sclQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09pKCk7JG4oKTtGKCk7dnQoKTtQKCk7d2UoKTtnZSgpO3goKTtNKCk7VmI9IlRleHRSZXBsYWNlX3J1bGVzU3RyaW5nIixlVD0iVGV4dFJlcGxhY2VfcnVsZXNSZWdleCIsdFQ9KCk9Pih7ZmluZDoiIixyZXBsYWNlOiIiLG9ubHlJZkluY2x1ZGVzOiIifSksVmE9KCk9Plt0VCgpXSxlbD1WYSgpLHRsPVZhKCkseEM9RSh7cmVwbGFjZTp7dHlwZTo2LGRlc2NyaXB0aW9uOiIiLGNvbXBvbmVudDooKT0+e2xldCBlPUJ0KCk7cmV0dXJuIG8obSxudWxsLG8oUWIse3RpdGxlOiJVc2luZyBTdHJpbmciLHJ1bGVzQXJyYXk6ZWwscnVsZXNLZXk6VmIsdXBkYXRlOmV9KSxvKFFiLHt0aXRsZToiVXNpbmcgUmVnZXgiLHJ1bGVzQXJyYXk6dGwscnVsZXNLZXk6ZVQsdXBkYXRlOmV9KSxvKE1DLG51bGwpKX19fSk7UEM9IjExMDI3ODQxMTI1ODQwNDA0NzkiLFFtPXYoe25hbWU6IlRleHRSZXBsYWNlIixkZXNjcmlwdGlvbjoiUmVwbGFjZSB0ZXh0IGluIHlvdXIgbWVzc2FnZXMuIFlvdSBjYW4gZmluZCBwcmUtbWFkZSBydWxlcyBpbiB0aGUgI3RleHRyZXBsYWNlLXJ1bGVzIGNoYW5uZWwgaW4gVmVuY29yZCdzIFNlcnZlciIsYXV0aG9yczpbZC5BdXR1bW5WTixkLlRoZUtvZGVUb2FkXSxkZXBlbmRlbmNpZXM6WyJNZXNzYWdlRXZlbnRzQVBJIl0sc2V0dGluZ3M6eEMsYXN5bmMgc3RhcnQoKXtlbD1hd2FpdCBFdC5nZXQoVmIpPz9WYSgpLHRsPWF3YWl0IEV0LmdldChlVCk/P1ZhKCksdGhpcy5wcmVTZW5kPWt0KChlLHQpPT57ZSE9PVBDJiYodC5jb250ZW50PW9UKHQuY29udGVudCkpfSl9LHN0b3AoKXtBdCh0aGlzLnByZVNlbmQpfX0pfSk7dmFyIFZtLGlUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7eCgpO1ZtPXYoe25hbWU6IlRpbWVCYXJBbGxBY3Rpdml0aWVzIixkZXNjcmlwdGlvbjoiQWRkcyB0aGUgU3BvdGlmeSB0aW1lIGJhciB0byBhbGwgYWN0aXZpdGllcyBpZiB0aGV5IGhhdmUgc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzIixhdXRob3JzOltkLm9ic2N1cml0eV0scGF0Y2hlczpbe2ZpbmQ6InJlbmRlclRpbWVCYXI9ZnVuY3Rpb24iLHJlcGxhY2VtZW50OnttYXRjaDovcmVuZGVyVGltZUJhcj1mdW5jdGlvblwoKC57MSwzfSlcKXsuezAsNTB9P3Zhci8scmVwbGFjZToicmVuZGVyVGltZUJhcj1mdW5jdGlvbigkMSl7dmFyIn19XX0pfSk7dmFyIHNUPWcoKCk9Pnt9KTt2YXIgVHQsWWk9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTt4KCk7VHQ9RSh7cmVjZWl2ZWRJbnB1dDp7dHlwZTowLGRlc2NyaXB0aW9uOiJJbnB1dCBsYW5ndWFnZSBmb3IgcmVjZWl2ZWQgbWVzc2FnZXMiLGRlZmF1bHQ6ImF1dG8iLGhpZGRlbjohMH0scmVjZWl2ZWRPdXRwdXQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiT3V0cHV0IGxhbmd1YWdlIGZvciByZWNlaXZlZCBtZXNzYWdlcyIsZGVmYXVsdDoiZW4iLGhpZGRlbjohMH0sc2VudElucHV0Ont0eXBlOjAsZGVzY3JpcHRpb246IklucHV0IGxhbmd1YWdlIGZvciBzZW50IG1lc3NhZ2VzIixkZWZhdWx0OiJhdXRvIixoaWRkZW46ITB9LHNlbnRPdXRwdXQ6e3R5cGU6MCxkZXNjcmlwdGlvbjoiT3V0cHV0IGxhbmd1YWdlIGZvciBzZW50IG1lc3NhZ2VzIixkZWZhdWx0OiJlbiIsaGlkZGVuOiEwfSxhdXRvVHJhbnNsYXRlOnt0eXBlOjMsZGVzY3JpcHRpb246IkF1dG9tYXRpY2FsbHkgdHJhbnNsYXRlIHlvdXIgbWVzc2FnZXMgYmVmb3JlIHNlbmRpbmcuIFlvdSBjYW4gYWxzbyBzaGlmdC9yaWdodCBjbGljayB0aGUgdHJhbnNsYXRlIGJ1dHRvbiB0byB0b2dnbGUgdGhpcyIsZGVmYXVsdDohMX19KX0pO3ZhciBubCxlZj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7bmw9e2F1dG86IkRldGVjdCBsYW5ndWFnZSIsYWY6IkFmcmlrYWFucyIsc3E6IkFsYmFuaWFuIixhbToiQW1oYXJpYyIsYXI6IkFyYWJpYyIsaHk6IkFybWVuaWFuIixhczoiQXNzYW1lc2UiLGF5OiJBeW1hcmEiLGF6OiJBemVyYmFpamFuaSIsYm06IkJhbWJhcmEiLGV1OiJCYXNxdWUiLGJlOiJCZWxhcnVzaWFuIixibjoiQmVuZ2FsaSIsYmhvOiJCaG9qcHVyaSIsYnM6IkJvc25pYW4iLGJnOiJCdWxnYXJpYW4iLGNhOiJDYXRhbGFuIixjZWI6IkNlYnVhbm8iLG55OiJDaGljaGV3YSIsInpoLUNOIjoiQ2hpbmVzZSAoU2ltcGxpZmllZCkiLCJ6aC1UVyI6IkNoaW5lc2UgKFRyYWRpdGlvbmFsKSIsY286IkNvcnNpY2FuIixocjoiQ3JvYXRpYW4iLGNzOiJDemVjaCIsZGE6IkRhbmlzaCIsZHY6IkRoaXZlaGkiLGRvaToiRG9ncmkiLG5sOiJEdXRjaCIsZW46IkVuZ2xpc2giLGVvOiJFc3BlcmFudG8iLGV0OiJFc3RvbmlhbiIsZWU6IkV3ZSIsdGw6IkZpbGlwaW5vIixmaToiRmlubmlzaCIsZnI6IkZyZW5jaCIsZnk6IkZyaXNpYW4iLGdsOiJHYWxpY2lhbiIsa2E6Ikdlb3JnaWFuIixkZToiR2VybWFuIixlbDoiR3JlZWsiLGduOiJHdWFyYW5pIixndToiR3VqYXJhdGkiLGh0OiJIYWl0aWFuIENyZW9sZSIsaGE6IkhhdXNhIixoYXc6Ikhhd2FpaWFuIixpdzoiSGVicmV3IixoaToiSGluZGkiLGhtbjoiSG1vbmciLGh1OiJIdW5nYXJpYW4iLGlzOiJJY2VsYW5kaWMiLGlnOiJJZ2JvIixpbG86Iklsb2Nhbm8iLGlkOiJJbmRvbmVzaWFuIixnYToiSXJpc2giLGl0OiJJdGFsaWFuIixqYToiSmFwYW5lc2UiLGp3OiJKYXZhbmVzZSIsa246Ikthbm5hZGEiLGtrOiJLYXpha2giLGttOiJLaG1lciIscnc6IktpbnlhcndhbmRhIixnb206IktvbmthbmkiLGtvOiJLb3JlYW4iLGtyaToiS3JpbyIsa3U6Ikt1cmRpc2ggKEt1cm1hbmppKSIsY2tiOiJLdXJkaXNoIChTb3JhbmkpIixreToiS3lyZ3l6IixsbzoiTGFvIixsYToiTGF0aW4iLGx2OiJMYXR2aWFuIixsbjoiTGluZ2FsYSIsbHQ6IkxpdGh1YW5pYW4iLGxnOiJMdWdhbmRhIixsYjoiTHV4ZW1ib3VyZ2lzaCIsbWs6Ik1hY2Vkb25pYW4iLG1haToiTWFpdGhpbGkiLG1nOiJNYWxhZ2FzeSIsbXM6Ik1hbGF5IixtbDoiTWFsYXlhbGFtIixtdDoiTWFsdGVzZSIsbWk6Ik1hb3JpIixtcjoiTWFyYXRoaSIsIm1uaS1NdGVpIjoiTWVpdGVpbG9uIChNYW5pcHVyaSkiLGx1czoiTWl6byIsbW46Ik1vbmdvbGlhbiIsbXk6Ik15YW5tYXIgKEJ1cm1lc2UpIixuZToiTmVwYWxpIixubzoiTm9yd2VnaWFuIixvcjoiT2RpYSAoT3JpeWEpIixvbToiT3JvbW8iLHBzOiJQYXNodG8iLGZhOiJQZXJzaWFuIixwbDoiUG9saXNoIixwdDoiUG9ydHVndWVzZSIscGE6IlB1bmphYmkiLHF1OiJRdWVjaHVhIixybzoiUm9tYW5pYW4iLHJ1OiJSdXNzaWFuIixzbToiU2Ftb2FuIixzYToiU2Fuc2tyaXQiLGdkOiJTY290cyBHYWVsaWMiLG5zbzoiU2VwZWRpIixzcjoiU2VyYmlhbiIsc3Q6IlNlc290aG8iLHNuOiJTaG9uYSIsc2Q6IlNpbmRoaSIsc2k6IlNpbmhhbGEiLHNrOiJTbG92YWsiLHNsOiJTbG92ZW5pYW4iLHNvOiJTb21hbGkiLGVzOiJTcGFuaXNoIixzdToiU3VuZGFuZXNlIixzdzoiU3dhaGlsaSIsc3Y6IlN3ZWRpc2giLHRnOiJUYWppayIsdGE6IlRhbWlsIix0dDoiVGF0YXIiLHRlOiJUZWx1Z3UiLHRoOiJUaGFpIix0aToiVGlncmlueWEiLHRzOiJUc29uZ2EiLHRyOiJUdXJraXNoIix0azoiVHVya21lbiIsYWs6IlR3aSIsdWs6IlVrcmFpbmlhbiIsdXI6IlVyZHUiLHVnOiJVeWdodXIiLHV6OiJVemJlayIsdmk6IlZpZXRuYW1lc2UiLGN5OiJXZWxzaCIseGg6Ilhob3NhIix5aToiWWlkZGlzaCIseW86IllvcnViYSIsenU6Ilp1bHUifX0pO2FzeW5jIGZ1bmN0aW9uIFppKGUsdCl7bGV0IG49VHQuc3RvcmVbZSsiSW5wdXQiXSxyPVR0LnN0b3JlW2UrIk91dHB1dCJdLGk9Imh0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZWFwaXMuY29tL3RyYW5zbGF0ZV9hL3NpbmdsZT8iK25ldyBVUkxTZWFyY2hQYXJhbXMoe2NsaWVudDoiZ3R4IixzbDpuLHRsOnIsZHQ6InQiLGRqOiIxIixzb3VyY2U6ImlucHV0IixxOnR9KSxzPWF3YWl0IGYoaSk7aWYoIXMub2spdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdHJhbnNsYXRlICIke3R9IiAoJHtufSAtPiAke3J9KQoke3Muc3RhdHVzfSAke3Muc3RhdHVzVGV4dH1gKTtsZXR7c3JjOmMsc2VudGVuY2VzOnV9PWF3YWl0IHMuanNvbigpO3JldHVybntzcmM6Yyx0ZXh0OnUubWFwKHA9PnA/LnRyYW5zKS5maWx0ZXIoQm9vbGVhbikuam9pbigiIil9fXZhciBzbyxYaT1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7SGUoKTtZaSgpO3NvPUxlKCJ2Yy10cmFucy0iKX0pO2Z1bmN0aW9uIENDKHtzZXR0aW5nc0tleTplLGluY2x1ZGVBdXRvOnR9KXtsZXQgbj1UdC51c2UoW2VdKVtlXSxyPU10KCgpPT57bGV0IGk9T2JqZWN0LmVudHJpZXMobmwpLm1hcCgoW3MsY10pPT4oe3ZhbHVlOnMsbGFiZWw6Y30pKTtyZXR1cm4gdHx8aS5zaGlmdCgpLGl9LFtdKTtyZXR1cm4gbygic2VjdGlvbiIse2NsYXNzTmFtZTp6LmJvdHRvbTE2fSxvKGIuRm9ybVRpdGxlLHt0YWc6ImgzIn0sVHQuZGVmW2VdLmRlc2NyaXB0aW9uKSxvKGZzLHtvcHRpb25zOnIsdmFsdWU6ci5maW5kKGk9PmkudmFsdWU9PT1uKSxwbGFjZWhvbGRlcjoiU2VsZWN0IGEgbGFuZ3VhZ2UiLG1heFZpc2libGVJdGVtczo1LGNsb3NlT25TZWxlY3Q6ITAsb25DaGFuZ2U6aT0+VHQuc3RvcmVbZV09aX0pKX1mdW5jdGlvbiBOQygpe2xldCBlPVR0LnVzZShbImF1dG9UcmFuc2xhdGUiXSkuYXV0b1RyYW5zbGF0ZTtyZXR1cm4gbyhodCx7dmFsdWU6ZSxvbkNoYW5nZTp0PT5UdC5zdG9yZS5hdXRvVHJhbnNsYXRlPXQsbm90ZTpUdC5kZWYuYXV0b1RyYW5zbGF0ZS5kZXNjcmlwdGlvbixoaWRlQm9yZGVyOiEwfSwiQXV0byBUcmFuc2xhdGUiKX1mdW5jdGlvbiBhVCh7cm9vdFByb3BzOmV9KXtyZXR1cm4gbyhBZSx7Li4uZX0sbyhCZSx7Y2xhc3NOYW1lOnNvKCJtb2RhbC1oZWFkZXIiKX0sbyhiLkZvcm1UaXRsZSx7dGFnOiJoMiJ9LCJUcmFuc2xhdGUiKSxvKEN0LHtvbkNsaWNrOmUub25DbG9zZX0pKSxvKEZlLHtjbGFzc05hbWU6c28oIm1vZGFsLWNvbnRlbnQiKX0sSUMubWFwKHQ9Pm8oQ0Mse2tleTp0LHNldHRpbmdzS2V5OnQsaW5jbHVkZUF1dG86dC5lbmRzV2l0aCgiSW5wdXQiKX0pKSxvKGIuRm9ybURpdmlkZXIse2NsYXNzTmFtZTp6LmJvdHRvbTE2fSksbyhOQyxudWxsKSkpfXZhciBJQyxsVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7ZXQoKTtLZSgpO00oKTtlZigpO1lpKCk7WGkoKTtJQz1bInJlY2VpdmVkSW5wdXQiLCJyZWNlaXZlZE91dHB1dCIsInNlbnRJbnB1dCIsInNlbnRPdXRwdXQiXX0pO2Z1bmN0aW9uIERyKHtoZWlnaHQ6ZT0yNCx3aWR0aDp0PTI0LGNsYXNzTmFtZTpufSl7cmV0dXJuIG8oInN2ZyIse3ZpZXdCb3g6IjAgOTYgOTYwIDk2MCIsaGVpZ2h0OmUsd2lkdGg6dCxjbGFzc05hbWU6ZWUoc28oImljb24iKSxuKX0sbygicGF0aCIse2ZpbGw6ImN1cnJlbnRDb2xvciIsZDoibTQ3NSA5NzYgMTgxLTQ4MGg4MmwxODYgNDgwaC04N2wtNDEtMTI2SDYwNGwtNDcgMTI2aC04MlptMTUxLTE5NmgxNDJsLTcwLTE5NGgtMmwtNzAgMTk0Wm0tNDY2IDc2LTU1LTU1IDIwNC0yMDRxLTM4LTQ0LTY3LjUtODguNVQxOTAgNDE2aDg3cTE3IDMzIDM3LjUgNjIuNVQzNjEgNTM5cTQ1LTQ3IDc1LTk3LjVUNDg3IDMzNkg0MHYtODBoMjgwdi04MGg4MHY4MGgyODB2ODBINTY3cS0yMiA2OS01OC41IDEzNS41VDQxOSA1OThsOTggOTktMzAgODEtMTI3LTEyMi0yMDAgMjAwWiJ9KSl9ZnVuY3Rpb24gY1Qoe3NsYXRlUHJvcHM6ZX0pe2xldHthdXRvVHJhbnNsYXRlOnR9PVR0LnVzZShbImF1dG9UcmFuc2xhdGUiXSk7aWYoZS50eXBlLmFuYWx5dGljc05hbWUhPT0ibm9ybWFsIilyZXR1cm4gbnVsbDtsZXQgbj0oKT0+VHQuc3RvcmUuYXV0b1RyYW5zbGF0ZT0hdDtyZXR1cm4gbyhaLHt0ZXh0OiJPcGVuIFRyYW5zbGF0ZSBNb2RhbCJ9LCh7b25Nb3VzZUVudGVyOnIsb25Nb3VzZUxlYXZlOml9KT0+bygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImZsZXgifX0sbyhSLHsiYXJpYS1oYXNwb3B1cCI6ImRpYWxvZyIsImFyaWEtbGFiZWwiOiIiLHNpemU6IiIsbG9vazplbi5CTEFOSyxvbk1vdXNlRW50ZXI6cixvbk1vdXNlTGVhdmU6aSxpbm5lckNsYXNzTmFtZTpndC5idXR0b24sb25DbGljazpzPT57aWYocy5zaGlmdEtleSlyZXR1cm4gbigpO01lKGM9Pm8oYVQse3Jvb3RQcm9wczpjfSkpfSxvbkNvbnRleHRNZW51OigpPT5uKCksc3R5bGU6e3BhZGRpbmc6IjAgNHB4In19LG8oImRpdiIse2NsYXNzTmFtZTpndC5idXR0b25XcmFwcGVyfSxvKERyLHtjbGFzc05hbWU6c28oeyJhdXRvLXRyYW5zbGF0ZSI6dH0pfSkpKSkpfXZhciB0Zj1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7eWUoKTtLZSgpO00oKTtZaSgpO2xUKCk7WGkoKX0pO2Z1bmN0aW9uIG9mKGUsdCl7bmYuZ2V0KGUpKHQpfWZ1bmN0aW9uIFJDKHtvbkRpc21pc3M6ZX0pe3JldHVybiBvKCJidXR0b24iLHtvbkNsaWNrOmUsY2xhc3NOYW1lOnNvKCJkaXNtaXNzIil9LCJEaXNtaXNzIil9ZnVuY3Rpb24gdVQoe21lc3NhZ2U6ZX0pe2xldFt0LG5dPVcoKTtyZXR1cm4gR2UoKCk9PntpZighZS52ZW5jb3JkRW1iZWRkZWRCeSlyZXR1cm4gbmYuc2V0KGUuaWQsbiksKCk9PnZvaWQgbmYuZGVsZXRlKGUuaWQpfSxbXSksdD9vKCJzcGFuIix7Y2xhc3NOYW1lOnNvKCJhY2Nlc3NvcnkiKX0sbyhEcix7d2lkdGg6MTYsaGVpZ2h0OjE2fSksa2UucGFyc2UodC50ZXh0KSwiICIsIih0cmFuc2xhdGVkIGZyb20gIixubFt0LnNyY10/P3Quc3JjLCIgLSAiLG8oUkMse29uRGlzbWlzczooKT0+bih2b2lkIDApfSksIikiKTpudWxsfXZhciBuZixwVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpO2VmKCk7dGYoKTtYaSgpO25mPW5ldyBNYXB9KTt2YXIgZFQscmYsbVQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NUKCk7U3QoKTtmYSgpOyRuKCk7UW8oKTtzZSgpO1AoKTt4KCk7TSgpO1lpKCk7dGYoKTtwVCgpO1hpKCk7ZFQ9KGUse21lc3NhZ2U6dH0pPT4oKT0+e2lmKCF0LmNvbnRlbnQpcmV0dXJuO2xldCBuPWF0KCJjb3B5LXRleHQiLGUpOyFufHxuLnNwbGljZShuLmZpbmRJbmRleChyPT5yPy5wcm9wcz8uaWQ9PT0iY29weS10ZXh0IikrMSwwLG8oTy5NZW51SXRlbSx7aWQ6InZjLXRyYW5zIixsYWJlbDoiVHJhbnNsYXRlIixpY29uOkRyLGFjdGlvbjphc3luYygpPT57bGV0IHI9YXdhaXQgWmkoInJlY2VpdmVkIix0LmNvbnRlbnQpO29mKHQuaWQscil9fSkpfSxyZj12KHtuYW1lOiJUcmFuc2xhdGUiLGRlc2NyaXB0aW9uOiJUcmFuc2xhdGUgbWVzc2FnZXMgd2l0aCBHb29nbGUgVHJhbnNsYXRlIixhdXRob3JzOltkLlZlbl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZUFjY2Vzc29yaWVzQVBJIiwiTWVzc2FnZVBvcG92ZXJBUEkiLCJNZXNzYWdlRXZlbnRzQVBJIl0sc2V0dGluZ3M6VHQsdHJhbnNsYXRlOlppLHBhdGNoZXM6W3tmaW5kOiIuYWN0aXZlQ29tbWFuZE9wdGlvbiIscmVwbGFjZW1lbnQ6e21hdGNoOi8oLilcLnB1c2guezEsMzB9ZGlzYWJsZWQ6KFxpKSwuezEsMjB9XH0sImdpZnQiXClcKS8scmVwbGFjZToiJCY7dHJ5eyQyfHwkMS5wdXNoKCRzZWxmLmNoYXRCYXJJY29uKGFyZ3VtZW50c1swXSkpfWNhdGNoe30ifX1dLHN0YXJ0KCl7UGkoInZjLXRyYW5zbGF0aW9uIixlPT5vKHVULHttZXNzYWdlOmUubWVzc2FnZX0pKSxwZSgibWVzc2FnZSIsZFQpLHduKCJ2Yy10cmFuc2xhdGUiLGU9PmUuY29udGVudD97bGFiZWw6IlRyYW5zbGF0ZSIsaWNvbjpEcixtZXNzYWdlOmUsY2hhbm5lbDpWLmdldENoYW5uZWwoZS5jaGFubmVsX2lkKSxvbkNsaWNrOmFzeW5jKCk9PntsZXQgdD1hd2FpdCBaaSgicmVjZWl2ZWQiLGUuY29udGVudCk7b2YoZS5pZCx0KX19Om51bGwpLHRoaXMucHJlU2VuZD1rdChhc3luYyhlLHQpPT57IVR0LnN0b3JlLmF1dG9UcmFuc2xhdGV8fCF0LmNvbnRlbnR8fCh0LmNvbnRlbnQ9KGF3YWl0IFppKCJzZW50Iix0LmNvbnRlbnQpKS50ZXh0KX0pfSxzdG9wKCl7QXQodGhpcy5wcmVTZW5kKSxmZSgibWVzc2FnZSIsZFQpLE1uKCJ2Yy10cmFuc2xhdGUiKSxOcCgidmMtdHJhbnNsYXRpb24iKX0sY2hhdEJhckljb246ZT0+byhELHtub29wOiEwfSxvKGNULHtzbGF0ZVByb3BzOmV9KSl9KX0pO2Z1bmN0aW9uIHNmKHthOmUsYjp0LGM6bn0pe3JldHVybltvKCJzdHJvbmciLHtrZXk6IjAifSxlKSwiLCAiLG8oInN0cm9uZyIse2tleToiMiJ9LHQpLGAsIGFuZCAke259IG90aGVycyBhcmUgdHlwaW5nLi4uYF19dmFyIGtDLG9sLEFDLGFmLGxmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7c2UoKTtQKCk7c3QoKTt4KCk7QigpO00oKTtrQz1kZSgiLnR5cGluZ0luZGljYXRvclJlZiIsInN2ZyIpLG9sPUUoe3Nob3dBdmF0YXJzOnt0eXBlOjMsZGVmYXVsdDohMCxkZXNjcmlwdGlvbjoiU2hvdyBhdmF0YXJzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIn0sc2hvd1JvbGVDb2xvcnM6e3R5cGU6MyxkZWZhdWx0OiEwLGRlc2NyaXB0aW9uOiJTaG93IHJvbGUgY29sb3JzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIn0sYWx0ZXJuYXRpdmVGb3JtYXR0aW5nOnt0eXBlOjMsZGVmYXVsdDohMCxkZXNjcmlwdGlvbjoiU2hvdyBhIG1vcmUgdXNlZnVsIG1lc3NhZ2Ugd2hlbiBzZXZlcmFsIHVzZXJzIGFyZSB0eXBpbmcifX0pO0FDPUQud3JhcChmdW5jdGlvbih7dXNlcjplLGd1aWxkSWQ6dH0pe3JldHVybiBvKCJzdHJvbmciLHtyb2xlOiJidXR0b24iLG9uQ2xpY2s6KCk9PntobihlLmlkKX0sc3R5bGU6e2Rpc3BsYXk6ImdyaWQiLGdyaWRBdXRvRmxvdzoiY29sdW1uIixnYXA6IjRweCIsY29sb3I6b2wuc3RvcmUuc2hvd1JvbGVDb2xvcnM/X2UuZ2V0TWVtYmVyKHQsZS5pZCk/LmNvbG9yU3RyaW5nOnZvaWQgMCxjdXJzb3I6InBvaW50ZXIifX0sb2wuc3RvcmUuc2hvd0F2YXRhcnMmJm8oImRpdiIse3N0eWxlOnttYXJnaW5Ub3A6IjRweCJ9fSxvKGtDLHtzaXplOiJTSVpFXzE2IixzcmM6ZS5nZXRBdmF0YXJVUkwodCwxMjgpfSkpLF9lLmdldE5pY2sodCxlLmlkKXx8IXQmJml0LmdldE5pY2tuYW1lKGUuaWQpfHxlLmdsb2JhbE5hbWV8fGUudXNlcm5hbWUpfSx7bm9vcDohMH0pLGFmPXYoe25hbWU6IlR5cGluZ1R3ZWFrcyIsZGVzY3JpcHRpb246IlNob3cgYXZhdGFycyBhbmQgcm9sZSBjb2xvdXJzIGluIHRoZSB0eXBpbmcgaW5kaWNhdG9yIixhdXRob3JzOltkLnp0XSxwYXRjaGVzOlt7ZmluZDoiZ2V0Q29vbGRvd25UZXh0U3R5bGUiLHJlcGxhY2VtZW50OnttYXRjaDovPShcaSlcWzJdOyguKykiYXJpYS1hdG9taWMiOiEwLGNoaWxkcmVuOihcaSl9XCkvLHJlcGxhY2U6Jz0kMVsyXTskMiJhcmlhLWF0b21pYyI6ITAsc3R5bGU6e2Rpc3BsYXk6ImdyaWQiLGdyaWRBdXRvRmxvdzoiY29sdW1uIixncmlkR2FwOiIwLjI1ZW0ifSxjaGlsZHJlbjokc2VsZi5tdXRhdGVDaGlsZHJlbih0aGlzLnByb3BzLCQxLCQzKX0pJ319LHtmaW5kOiJnZXRDb29sZG93blRleHRTdHlsZSIscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gXGlcLlxpXC5nZXROYW1lXCguLC5cLnByb3BzXC5jaGFubmVsXC5pZCwoLilcKS8scmVwbGFjZToicmV0dXJuICQxIn19LHtmaW5kOiJnZXRDb29sZG93blRleHRTdHlsZSIscmVwbGFjZW1lbnQ6e21hdGNoOi8oKFxpKVwubGVuZ3RoXD8uXC4uXC5NZXNzYWdlc1wuVEhSRUVfVVNFUlNfVFlQSU5HLmZvcm1hdFwoXHthOihcaSksYjooXGkpLGM6Ln1cKSk6Lis/U0VWRVJBTF9VU0VSU19UWVBJTkcvLHJlcGxhY2U6IiQxOiRzZWxmLmJ1aWxkU2V2ZXJhbFVzZXJzKHthOiQzLGI6JDQsYzokMi5sZW5ndGgtMn0pIn0scHJlZGljYXRlOigpPT5vbC5zdG9yZS5hbHRlcm5hdGl2ZUZvcm1hdHRpbmd9XSxzZXR0aW5nczpvbCxidWlsZFNldmVyYWxVc2VyczpzZixtdXRhdGVDaGlsZHJlbihlLHQsbil7aWYoIUFycmF5LmlzQXJyYXkobikpcmV0dXJuIG47bGV0IHI9MDtyZXR1cm4gbi5tYXAoaT0+aS50eXBlPT09InN0cm9uZyI/byhBQyx7Li4uZSx1c2VyOnRbcisrXX0pOmkpfX0pfSk7ZnVuY3Rpb24gTG8oZSx0KXtyZXR1cm4gX2UuZ2V0TmljayhlLHQpPz9HLmdldFVzZXIodCkudXNlcm5hbWV9ZnVuY3Rpb24gREMoe2NoYW5uZWxJZDplfSl7bGV0IHQ9V2UoW2ZUXSwoKT0+KHsuLi5mVC5nZXRUeXBpbmdVc2VycyhlKX0pLG51bGwsKGMsdSk9PntsZXQgcD1PYmplY3Qua2V5cyhjKSx5PU9iamVjdC5rZXlzKHUpO3JldHVybiBwLmxlbmd0aD09PXkubGVuZ3RoJiZKU09OLnN0cmluZ2lmeShwKT09PUpTT04uc3RyaW5naWZ5KHkpfSksbj1WLmdldENoYW5uZWwoZSkuZ3VpbGRfaWQ7aWYoIWNmLnN0b3JlLmluY2x1ZGVNdXRlZENoYW5uZWxzJiZFQy5pc0NoYW5uZWxNdXRlZChuLGUpKXJldHVybiBudWxsO2xldCByPUcuZ2V0Q3VycmVudFVzZXIoKT8uaWQsaT1PYmplY3Qua2V5cyh0KS5maWx0ZXIoYz0+YyE9PXImJiEoaXQuaXNCbG9ja2VkKGMpJiYhY2Yuc3RvcmUuaW5jbHVkZUJsb2NrZWRVc2VycykpLHM7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOntzPXJsLk1lc3NhZ2VzLk9ORV9VU0VSX1RZUElORy5mb3JtYXQoe2E6TG8obixpWzBdKX0pO2JyZWFrfWNhc2UgMjp7cz1ybC5NZXNzYWdlcy5UV09fVVNFUlNfVFlQSU5HLmZvcm1hdCh7YTpMbyhuLGlbMF0pLGI6TG8obixpWzFdKX0pO2JyZWFrfWNhc2UgMzp7cz1ybC5NZXNzYWdlcy5USFJFRV9VU0VSU19UWVBJTkcuZm9ybWF0KHthOkxvKG4saVswXSksYjpMbyhuLGlbMV0pLGM6TG8obixpWzJdKX0pO2JyZWFrfWRlZmF1bHQ6e3M9Ti5wbHVnaW5zLlR5cGluZ1R3ZWFrcy5lbmFibGVkP3NmKHthOkxvKG4saVswXSksYjpMbyhuLGlbMV0pLGM6aS5sZW5ndGgtMn0pOnJsLk1lc3NhZ2VzLlNFVkVSQUxfVVNFUlNfVFlQSU5HO2JyZWFrfX1yZXR1cm4gaS5sZW5ndGg+MD9vKFose3RleHQ6c30sKHtvbk1vdXNlTGVhdmU6Yyxvbk1vdXNlRW50ZXI6dX0pPT5vKCJkaXYiLHtzdHlsZTp7bWFyZ2luTGVmdDo2LGhlaWdodDoxNixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLHpJbmRleDowLGN1cnNvcjoicG9pbnRlciJ9LG9uTW91c2VMZWF2ZTpjLG9uTW91c2VFbnRlcjp1fSxvKExDLHtkb3RSYWRpdXM6Myx0aGVtZWQ6ITB9KSkpOm51bGx9dmFyIExDLGZULEVDLHJsLGNmLHVmLGdUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7c2UoKTtQKCk7Z2UoKTt4KCk7QigpO00oKTtsZigpO0xDPXJlKCgpPT5xdChlPT5lLnR5cGU/LnJlbmRlcj8udG9TdHJpbmcoKT8uaW5jbHVkZXMoIigpLmRvdHMiKSkpLGZUPWxlKCJUeXBpbmdTdG9yZSIpLEVDPWxlKCJVc2VyR3VpbGRTZXR0aW5nc1N0b3JlIikscmw9TmUoZT0+ZS5NZXNzYWdlcz8uU0VWRVJBTF9VU0VSU19UWVBJTkcpO2NmPUUoe2luY2x1ZGVNdXRlZENoYW5uZWxzOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gc2hvdyB0aGUgdHlwaW5nIGluZGljYXRvciBmb3IgbXV0ZWQgY2hhbm5lbHMuIixkZWZhdWx0OiExfSxpbmNsdWRlQmxvY2tlZFVzZXJzOnt0eXBlOjMsZGVzY3JpcHRpb246IldoZXRoZXIgdG8gc2hvdyB0aGUgdHlwaW5nIGluZGljYXRvciBmb3IgYmxvY2tlZCB1c2Vycy4iLGRlZmF1bHQ6ITF9fSksdWY9dih7bmFtZToiVHlwaW5nSW5kaWNhdG9yIixkZXNjcmlwdGlvbjoiQWRkcyBhbiBpbmRpY2F0b3IgaWYgc29tZW9uZSBpcyB0eXBpbmcgb24gYSBjaGFubmVsLiIsYXV0aG9yczpbZC5OdWNreXosZC5vYnNjdXJpdHldLHNldHRpbmdzOmNmLHBhdGNoZXM6W3tmaW5kOiIuVU5SRUFEX0hJR0hMSUdIVCIscmVwbGFjZW1lbnQ6e21hdGNoOi9cKFwpLmNoaWxkcmVuLis/Om51bGwoPzw9KFxpKT1caVwuY2hhbm5lbCwuKz8pLyxyZXBsYWNlOihlLHQpPT5gJHtlfSwkc2VsZi5UeXBpbmdJbmRpY2F0b3IoJHt0fS5pZClgfX1dLFR5cGluZ0luZGljYXRvcjplPT5vKEQse25vb3A6ITB9LG8oREMse2NoYW5uZWxJZDplfSkpfSl9KTt2YXIgcGYsaFQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpOyRuKCk7UCgpO3goKTtwZj12KHtuYW1lOiJVbmluZGVudCIsZGVzY3JpcHRpb246IlRyaW1zIGxlYWRpbmcgaW5kZW50YXRpb24gZnJvbSBjb2RlYmxvY2tzIixhdXRob3JzOltkLlZlbl0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZUV2ZW50c0FQSSJdLHBhdGNoZXM6W3tmaW5kOiJpblF1b3RlOiIscmVwbGFjZW1lbnQ6e21hdGNoOi8sY29udGVudDooW14sXSspLGluUXVvdGUvLHJlcGxhY2U6KGUsdCk9PmAsY29udGVudDpWZW5jb3JkLlBsdWdpbnMucGx1Z2lucy5VbmluZGVudC51bmluZGVudCgke3R9KSxpblF1b3RlYH19XSx1bmluZGVudChlKXtlPWUucmVwbGFjZSgvXHQvZywiICAgICIpO2xldCB0PWUubWF0Y2goL14gKig/PVxTKS9nbSk/LnJlZHVjZSgobixyKT0+TWF0aC5taW4obixyLmxlbmd0aCksMS8wKT8/MDtyZXR1cm4gdD9lLnJlcGxhY2UobmV3IFJlZ0V4cChgXiB7JHt0fX1gLCJnbSIpLCIiKTplfSx1bmluZGVudE1zZyhlKXtlLmNvbnRlbnQ9ZS5jb250ZW50LnJlcGxhY2UoL2BgYCgufFxuKSo/YGBgL2csdD0+e2xldCBuPXQuc3BsaXQoYApgKTtpZihuLmxlbmd0aDwyKXJldHVybiB0O2xldCByPSIiO3JldHVybiBuW24ubGVuZ3RoLTFdPT09ImBgYCImJihyPW4ucG9wKCkpLGAke25bMF19CiR7dGhpcy51bmluZGVudChuLnNsaWNlKDEpLmpvaW4oYApgKSl9CiR7cn1gfSl9LHN0YXJ0KCl7dGhpcy5wcmVTZW5kPWt0KChlLHQpPT50aGlzLnVuaW5kZW50TXNnKHQpKSx0aGlzLnByZUVkaXQ9WW8oKGUsdCxuKT0+dGhpcy51bmluZGVudE1zZyhuKSl9LHN0b3AoKXtBdCh0aGlzLnByZVNlbmQpLFpvKHRoaXMucHJlRWRpdCl9fSl9KTt2YXIgZGYseVQsbWYsdlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1N0KCk7eG4oKTtQKCk7eCgpO00oKTtkZj0xPDwyLHlUPShlLHtjaGFubmVsOnQsbWVzc2FnZTp7YXV0aG9yOm4sZW1iZWRzOnIsZmxhZ3M6aSxpZDpzfX0pPT4oKT0+e2xldCBjPShpJmRmKSE9PTA7aWYoIWMmJiFyLmxlbmd0aClyZXR1cm47bGV0IHU9dC5pc1ByaXZhdGUoKXx8ISEoT2UuZ2V0Q2hhbm5lbFBlcm1pc3Npb25zKHtpZDp0LmlkfSkmS3QuRU1CRURfTElOS1MpO2lmKG4uaWQ9PT1HLmdldEN1cnJlbnRVc2VyKCkuaWQmJiF1KXJldHVybjtsZXQgcD1hdCgiZGVsZXRlIixlKSx5PXA/LmZpbmRJbmRleChoPT5oPy5wcm9wcz8uaWQ9PT0iZGVsZXRlIik7IXl8fCFwfHxwLnNwbGljZSh5LTEsMCxvKE8uTWVudUl0ZW0se2lkOiJ1bnN1cHByZXNzLWVtYmVkcyIsa2V5OiJ1bnN1cHByZXNzLWVtYmVkcyIsbGFiZWw6Yz8iVW5zdXBwcmVzcyBFbWJlZHMiOiJTdXBwcmVzcyBFbWJlZHMiLGNvbG9yOmM/dm9pZCAwOiJkYW5nZXIiLGljb246Yz9vYTpyYSxhY3Rpb246KCk9Pnl0LnBhdGNoKHt1cmw6YC9jaGFubmVscy8ke3QuaWR9L21lc3NhZ2VzLyR7c31gLGJvZHk6e2ZsYWdzOmM/aSZ+ZGY6aXxkZn19KX0pKX0sbWY9dih7bmFtZToiVW5zdXBwcmVzc0VtYmVkcyIsYXV0aG9yczpbZC5yYWQsZC5IeXBlZERvbWldLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHVuc3VwcHJlc3MgZW1iZWRzIGluIG1lc3NhZ2VzIixzdGFydCgpe3BlKCJtZXNzYWdlIix5VCl9LHN0b3AoKXtmZSgibWVzc2FnZSIseVQpfX0pfSk7dmFyIGZmLFNUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO0pzKCk7UCgpO3goKTtmZj12KHtuYW1lOiJVcmJhbkRpY3Rpb25hcnkiLGRlc2NyaXB0aW9uOiJTZWFyY2ggZm9yIGEgd29yZCBvbiBVcmJhbiBEaWN0aW9uYXJ5IHZpYSAvdXJiYW4gc2xhc2ggY29tbWFuZCIsYXV0aG9yczpbZC5qZXdkZXZdLGRlcGVuZGVuY2llczpbIkNvbW1hbmRzQVBJIl0sY29tbWFuZHM6W3tuYW1lOiJ1cmJhbiIsZGVzY3JpcHRpb246IlJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgYSB3b3JkIGZyb20gVXJiYW4gRGljdGlvbmFyeSIsaW5wdXRUeXBlOjAsb3B0aW9uczpbe3R5cGU6MyxuYW1lOiJ3b3JkIixkZXNjcmlwdGlvbjoiVGhlIHdvcmQgdG8gc2VhcmNoIGZvciBvbiBVcmJhbiBEaWN0aW9uYXJ5IixyZXF1aXJlZDohMH1dLGV4ZWN1dGU6YXN5bmMoZSx0KT0+e3RyeXtsZXQgbj1lbmNvZGVVUklDb21wb25lbnQoZVswXS52YWx1ZSkse2xpc3Q6W3JdfT1hd2FpdChhd2FpdCBmKGBodHRwczovL2FwaS51cmJhbmRpY3Rpb25hcnkuY29tL3YwL2RlZmluZT90ZXJtPSR7bn1gKSkuanNvbigpO2lmKCFyKXJldHVybiB2b2lkIGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiTm8gcmVzdWx0cyBmb3VuZC4ifSk7bGV0IGk9cz0+cy5yZXBsYWNlQWxsKGBccgpgLGAKYCkucmVwbGFjZSgvKFsqPl9gflxcXSkvZ3NpLCJcXCQxIikucmVwbGFjZSgvXFsoLis/KVxdL2csKGMsdSk9PmBbJHt1fV0oaHR0cHM6Ly93d3cudXJiYW5kaWN0aW9uYXJ5LmNvbS9kZWZpbmUucGhwP3Rlcm09JHtlbmNvZGVVUklDb21wb25lbnQodSl9ICJEZWZpbmUgJyR7dX0nIG9uIFVyYmFuIERpY3Rpb25hcnkiKWApLnRyaW0oKTtyZXR1cm4gdm9pZCBhZSh0LmNoYW5uZWwuaWQse2VtYmVkczpbe3R5cGU6InJpY2giLGF1dGhvcjp7bmFtZTpgVXBsb2FkZWQgYnkgIiR7ci5hdXRob3J9ImAsdXJsOmBodHRwczovL3d3dy51cmJhbmRpY3Rpb25hcnkuY29tL2F1dGhvci5waHA/YXV0aG9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHIuYXV0aG9yKX1gfSx0aXRsZTpyLndvcmQsdXJsOmBodHRwczovL3d3dy51cmJhbmRpY3Rpb25hcnkuY29tL2RlZmluZS5waHA/dGVybT0ke2VuY29kZVVSSUNvbXBvbmVudChyLndvcmQpfWAsZGVzY3JpcHRpb246aShyLmRlZmluaXRpb24pLGZpZWxkczpbe25hbWU6IkV4YW1wbGUiLHZhbHVlOmkoci5leGFtcGxlKX0se25hbWU6IldhbnQgbW9yZSBkZWZpbml0aW9ucz8iLHZhbHVlOmBDaGVjayBvdXQgW21vcmUgZGVmaW5pdGlvbnNdKGh0dHBzOi8vd3d3LnVyYmFuZGljdGlvbmFyeS5jb20vZGVmaW5lLnBocD90ZXJtPSR7bn0gIkRlZmluZSAiJHtlWzBdLnZhbHVlfSIgb24gVXJiYW4gRGljdGlvbmFyeSIpIG9uIFVyYmFuIERpY3Rpb25hcnkuYH1dLGNvbG9yOjE2NzUwODQ4LGZvb3Rlcjp7dGV4dDpgXHV7MUY0NER9ICR7ci50aHVtYnNfdXAudG9TdHJpbmcoKX0gfCBcdXsxRjQ0RX0gJHtyLnRodW1ic19kb3duLnRvU3RyaW5nKCl9YCxpY29uX3VybDoiaHR0cHM6Ly93d3cudXJiYW5kaWN0aW9uYXJ5LmNvbS9mYXZpY29uLmljbyJ9LHRpbWVzdGFtcDpuZXcgRGF0ZShyLndyaXR0ZW5fb24pLnRvSVNPU3RyaW5nKCl9XX0pfWNhdGNoKG4pe2FlKHQuY2hhbm5lbC5pZCx7Y29udGVudDpgU29tZXRoaW5nIHdlbnQgd3Jvbmc6IFxgJHtufVxgYH0pfX19XX0pfSk7dmFyIGJUPWcoKCk9Pnt9KTt2YXIgT0MsX0MsQkMsVFQseFQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2JUKCk7QigpO00oKTtPQz1JKCJzZWxlY3RDaGFubmVsIiwic2VsZWN0Vm9pY2VDaGFubmVsIiksX0M9ZGUoIi5sYXN0U2VjdGlvbiIsIi5jaGlsZHJlbiIpLEJDPTFuPDwyMG4sVFQ9KHtjaGFubmVsOmUsbGFiZWw6dCxzaG93SGVhZGVyOm59KT0+byhfQyxudWxsLG4mJm8oYi5Gb3JtVGl0bGUse2NsYXNzTmFtZToidmMtdXZzLWhlYWRlciJ9LCJJbiBhIHZvaWNlIGNoYW5uZWwiKSxvKFIse2NsYXNzTmFtZToidmMtdXZzLWJ1dHRvbiIsY29sb3I6Ui5Db2xvcnMuVFJBTlNQQVJFTlQsc2l6ZTpSLlNpemVzLlNNQUxMLG9uQ2xpY2s6KCk9PntPZS5jYW4oQkMsZSk/T0Muc2VsZWN0Vm9pY2VDaGFubmVsKGUuaWQpOksuc2hvdyh7bWVzc2FnZToiSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zIHRvIGVudGVyIHRoZSBjaGFubmVsLiIsaWQ6InVzZXItdm9pY2Utc2hvdy1pbnN1ZmZpY2llbnQtcGVybWlzc2lvbnMiLHR5cGU6Sy5UeXBlLkZBSUxVUkUsb3B0aW9uczp7cG9zaXRpb246Sy5Qb3NpdGlvbi5CT1RUT019fSl9fSx0KSl9KTt2YXIgRkMsJEMsZ2Ysd1QsaGYsTVQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtzZSgpO1AoKTt4KCk7QigpO00oKTt4VCgpO0ZDPWxlKCJWb2ljZVN0YXRlU3RvcmUiKSwkQz1JKCJzZWN0aW9uIiwibGFzdFNlY3Rpb24iKSxnZj1FKHtzaG93SW5Vc2VyUHJvZmlsZU1vZGFsOnt0eXBlOjMsZGVzY3JpcHRpb246IlNob3cgYSB1c2VyJ3Mgdm9pY2UgY2hhbm5lbCBpbiB0aGVpciBwcm9maWxlIG1vZGFsIixkZWZhdWx0OiEwfSxzaG93Vm9pY2VDaGFubmVsU2VjdGlvbkhlYWRlcjp7dHlwZTozLGRlc2NyaXB0aW9uOidXaGV0aGVyIHRvIHNob3cgIklOIEEgVk9JQ0UgQ0hBTk5FTCIgYWJvdmUgdGhlIGpvaW4gYnV0dG9uJyxkZWZhdWx0OiEwfX0pLHdUPUQud3JhcCgoe3VzZXI6ZX0pPT57bGV0e2NoYW5uZWxJZDp0fT1GQy5nZXRWb2ljZVN0YXRlRm9yVXNlcihlLmlkKT8/e307aWYoIXQpcmV0dXJuIG51bGw7bGV0IG49Vi5nZXRDaGFubmVsKHQpLHI9bWUuZ2V0R3VpbGQobi5ndWlsZF9pZCk7aWYoIXIpcmV0dXJuIG51bGw7bGV0IGk9YCR7ci5uYW1lfSB8ICR7bi5uYW1lfWA7cmV0dXJuIG8oVFQse2NoYW5uZWw6bixsYWJlbDppLHNob3dIZWFkZXI6Z2Yuc3RvcmUuc2hvd1ZvaWNlQ2hhbm5lbFNlY3Rpb25IZWFkZXJ9KX0pLGhmPXYoe25hbWU6IlVzZXJWb2ljZVNob3ciLGRlc2NyaXB0aW9uOiJTaG93cyB3aGV0aGVyIGEgVXNlciBpcyBjdXJyZW50bHkgaW4gYSB2b2ljZSBjaGFubmVsIHNvbWV3aGVyZSBpbiB0aGVpciBwcm9maWxlIixhdXRob3JzOltkLkxvcmRFbGlhc10sc2V0dGluZ3M6Z2YscGF0Y2hNb2RhbCh7dXNlcjplfSl7cmV0dXJuIGdmLnN0b3JlLnNob3dJblVzZXJQcm9maWxlTW9kYWw/bygiZGl2Iix7Y2xhc3NOYW1lOiJ2Yy11dnMtbW9kYWwtbWFyZ2luIn0sbyh3VCx7dXNlcjplfSkpOm51bGx9LHBhdGNoUG9wb3V0Oih7dXNlcjplfSk9PntsZXQgdD1lLmlkPT09Ry5nZXRDdXJyZW50VXNlcigpLmlkO3JldHVybiBvKCJkaXYiLHtjbGFzc05hbWU6dD9gdmMtdXZzLXBvcG91dC1tYXJnaW4gJHskQy5sYXN0U2VjdGlvbn1gOiIifSxvKHdULHt1c2VyOmV9KSl9LHBhdGNoZXM6W3tmaW5kOiIuc2hvd0NvcGlhYmxlVXNlcm5hbWUiLHJlcGxhY2VtZW50OnttYXRjaDovXCgwLFx3XC5qc3hcKVwoXHd7Mn0se3VzZXI6XHcsc2V0Tm90ZS8scmVwbGFjZToiJHNlbGYucGF0Y2hQb3BvdXQoYXJndW1lbnRzWzBdKSwkJiJ9fSx7ZmluZDoiLlVTRVJfUFJPRklMRV9NT0RBTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9cKFwpXC5ib2R5Lis/ZGlzcGxheVByb2ZpbGU6XGl9XCksLyxyZXBsYWNlOiIkJiRzZWxmLnBhdGNoTW9kYWwoYXJndW1lbnRzWzBdKSwifX1dfSl9KTt2YXIgUFQsSVQ9ZygoKT0+e2EoKTtsKCk7KHVuc2FmZVdpbmRvdy5WZW5jb3JkU3R5bGVzPz89bmV3IE1hcCkuc2V0KCJzcmMvcGx1Z2lucy91c3JiZy9pbmRleC5jc3MiLHtuYW1lOiJzcmMvcGx1Z2lucy91c3JiZy9pbmRleC5jc3MiLHNvdXJjZTpgOmlzKFtjbGFzcyo9InVzZXJQcm9maWxlIl0sIFtjbGFzcyo9InVzZXJQb3BvdXQiXSkgW2NsYXNzKj0iYmFubmVyUHJlbWl1bSJdIHsKICAgIGJhY2tncm91bmQ6IGNlbnRlciAvIGNvdmVyIG5vLXJlcGVhdDsKfQoKW2NsYXNzKj0iTm9uUHJlbWl1bSJdOmhhcyhbY2xhc3MqPSJiYW5uZXJQcmVtaXVtIl0pIFtjbGFzcyo9ImF2YXRhclBvc2l0aW9uTm9ybWFsIl0sCltjbGFzcyo9IlByZW1pdW1XaXRob3V0QmFubmVyIl06aGFzKFtjbGFzcyo9ImJhbm5lclByZW1pdW0iXSkgW2NsYXNzKj0iYXZhdGFyUG9zaXRpb25QcmVtaXVtTm9CYW5uZXIiXSB7CiAgICB0b3A6IDc2cHg7Cn0KCltzdHlsZSo9ImJhY2tncm91bmQtaW1hZ2UiXSBbY2xhc3MqPSJiYWNrZ3JvdW5kLSJdIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KYCxjbGFzc05hbWVzOnt9LGRvbTpudWxsfSk7UFQ9InNyYy9wbHVnaW5zL3VzcmJnL2luZGV4LmNzcyJ9KTt2YXIgVUMscnIsaWwseWYsQ1Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtIZSgpO3dvKCk7UCgpO3goKTtJVCgpO1VDPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQXV0dW1uVk4vdXNyYmcvbWFpbi91c3JiZy5qc29uIixycj17fSxpbD1FKHtuaXRyb0ZpcnN0OntkZXNjcmlwdGlvbjoiQmFubmVyIHRvIHVzZSBpZiBib3RoIE5pdHJvIGFuZCBVU1JCRyBiYW5uZXJzIGFyZSBwcmVzZW50Iix0eXBlOjQsb3B0aW9uczpbe2xhYmVsOiJOaXRybyBiYW5uZXIiLHZhbHVlOiEwLGRlZmF1bHQ6ITB9LHtsYWJlbDoiVVNSQkcgYmFubmVyIix2YWx1ZTohMX1dfSx2b2ljZUJhY2tncm91bmQ6e2Rlc2NyaXB0aW9uOiJVc2UgVVNSQkcgYmFubmVycyBhcyB2b2ljZSBjaGF0IGJhY2tncm91bmRzIix0eXBlOjMsZGVmYXVsdDohMCxyZXN0YXJ0TmVlZGVkOiEwfX0pLHlmPXYoe25hbWU6IlVTUkJHIixkZXNjcmlwdGlvbjoiRGlzcGxheXMgdXNlciBiYW5uZXJzIGZyb20gVVNSQkcsIGFsbG93aW5nIGFueW9uZSB0byBnZXQgYSBiYW5uZXIgd2l0aG91dCBOaXRybyIsYXV0aG9yczpbZC5BdXR1bW5WTixkLnB5bGl4LGQuVGhlS29kZVRvYWRdLHNldHRpbmdzOmlsLHBhdGNoZXM6W3tmaW5kOiIuTklUUk9fQkFOTkVSLCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovKFxpKVwucHJlbWl1bVR5cGUvLHJlcGxhY2U6IiRzZWxmLnByZW1pdW1Ib29rKCQxKXx8JCYifSx7bWF0Y2g6LyhcaSlcLmJhbm5lclNyYywvLHJlcGxhY2U6IiRzZWxmLnVzZUJhbm5lckhvb2soJDEpLCJ9LHttYXRjaDovXD9cKDAsXGlcLmpzeFwpXChcaSx7dHlwZTpcaSxzaG93bi8scmVwbGFjZToiJiYkc2VsZi5zaG91bGRTaG93QmFkZ2UoYXJndW1lbnRzWzBdKSQmIn1dfSx7ZmluZDonImRhdGEtc2VsZW5pdW0tdmlkZW8tdGlsZSI6JyxwcmVkaWNhdGU6KCk9PmlsLnN0b3JlLnZvaWNlQmFja2dyb3VuZCxyZXBsYWNlbWVudDpbe21hdGNoOi8oXGkpXC5zdHlsZSwvLHJlcGxhY2U6IiRzZWxmLnZvaWNlQmFja2dyb3VuZEhvb2soJDEpLCJ9XX1dLHNldHRpbmdzQWJvdXRDb21wb25lbnQ6KCk9Pm8obHQse2hyZWY6Imh0dHBzOi8vZ2l0aHViLmNvbS9BdXR1bW5WTi91c3JiZyNob3ctdG8tcmVxdWVzdC15b3VyLW93bi11c3JiZy1iYW5uZXIifSwiQ0xJQ0sgSEVSRSBUTyBHRVQgWU9VUiBPV04gQkFOTkVSIiksdm9pY2VCYWNrZ3JvdW5kSG9vayh7Y2xhc3NOYW1lOmUscGFydGljaXBhbnRVc2VySWQ6dH0pe2lmKGUuaW5jbHVkZXMoInRpbGUtIikmJnJyW3RdKXJldHVybntiYWNrZ3JvdW5kSW1hZ2U6YHVybCgke3JyW3RdfSlgLGJhY2tncm91bmRTaXplOiJjb3ZlciIsYmFja2dyb3VuZFBvc2l0aW9uOiJjZW50ZXIiLGJhY2tncm91bmRSZXBlYXQ6Im5vLXJlcGVhdCJ9fSx1c2VCYW5uZXJIb29rKHtkaXNwbGF5UHJvZmlsZTplLHVzZXI6dH0pe2lmKCEoZT8uYmFubmVyJiZpbC5zdG9yZS5uaXRyb0ZpcnN0KSYmcnJbdC5pZF0pcmV0dXJuIHJyW3QuaWRdfSxwcmVtaXVtSG9vayh7dXNlcklkOmV9KXtpZihycltlXSlyZXR1cm4gMn0sc2hvdWxkU2hvd0JhZGdlKHtkaXNwbGF5UHJvZmlsZTplLHVzZXI6dH0pe3JldHVybiBlPy5iYW5uZXImJighcnJbdC5pZF18fGlsLnN0b3JlLm5pdHJvRmlyc3QpfSxhc3luYyBzdGFydCgpe3R0KFBUKTtsZXQgZT1hd2FpdCBmKFVDKTtlLm9rJiYocnI9YXdhaXQgZS5qc29uKCkpfX0pfSk7ZnVuY3Rpb24gSEMoe2RhdGE6ZSxVc2VyTWVudGlvbjp0LFJvbGVNZW50aW9uOm4scGFyc2U6cixwcm9wczppfSl7bGV0W3MsY109VyhlLnVzZXJJZCk7aWYocylyZXR1cm4gbyh0LHtjbGFzc05hbWU6Im1lbnRpb24iLHVzZXJJZDpzLGNoYW5uZWxJZDplLmNoYW5uZWxJZCxpbmxpbmVQcmV2aWV3Omkubm9TdHlsZUFuZEludGVyYWN0aW9uLGtleTppLmtleX0pO2xldCB1PXIoZS5jb250ZW50LGkpO3JldHVybiBvKG4sey4uLmUsaW5saW5lUHJldmlldzppLmZvcm1hdElubGluZX0sbygic3BhbiIse29uTW91c2VFbnRlcjooKT0+e2xldCBwPXU/LlswXT8ucHJvcHM/LmNoaWxkcmVuO2lmKHR5cGVvZiBwIT0ic3RyaW5nIilyZXR1cm47bGV0IHk9cC5tYXRjaCgvPEAhPyhcZCspPi8pPy5bMV07aWYoIXl8fHNsLmhhcyh5KSlyZXR1cm47aWYoRy5nZXRVc2VyKHkpKXJldHVybiBjKHkpO2xldCBoPSgpPT57c2wuYWRkKHkpLE5ULnVuc2hpZnQoKCk9PkdDKHkpLnRoZW4oKCk9PntjKHkpLHNsLmRlbGV0ZSh5KX0pLmNhdGNoKFM9PntTPy5zdGF0dXM9PT00MjkmJihOVC51bnNoaWZ0KCgpPT5hbygxZTMpLnRoZW4oaCkpLHNsLmRlbGV0ZSh5KSl9KS5maW5hbGx5KCgpPT5hbygzMDApKSl9O2goKX19LHUpKX12YXIgc2wsTlQsR0MsdmYsUlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7UCgpO3llKCk7cHIoKTt4KCk7QigpO00oKTtzbD1uZXcgU2V0LE5UPW5ldyB5big1KSxHQz1kZSgiVVNFUigiKTt2Zj12KHtuYW1lOiJWYWxpZFVzZXIiLGRlc2NyaXB0aW9uOiJGaXggbWVudGlvbnMgZm9yIHVua25vd24gdXNlcnMgc2hvd2luZyB1cCBhcyAnPEAzNDMzODM1NzI4MDUwNTg1NjA+JyAoaG92ZXIgb3ZlciBhIG1lbnRpb24gdG8gZml4IGl0KSIsYXV0aG9yczpbZC5WZW5dLHRhZ3M6WyJNZW50aW9uQ2FjaGVGaXgiXSxwYXRjaGVzOlt7ZmluZDonY2xhc3NOYW1lOiJtZW50aW9uIicscmVwbGFjZW1lbnQ6e21hdGNoOi9yZWFjdDooPz1mdW5jdGlvblwoXGksXGksXGlcKS57MCw1MH1yZXR1cm4gbnVsbD09XGlcP1woMCxcaVwuanN4XClcKChcaSksLis/anN4XClcKChcaSksXHtjbGFzc05hbWU6Im1lbnRpb24iKS8scmVwbGFjZToicmVhY3Q6KC4uLmFyZ3MpPT4kc2VsZi5yZW5kZXJNZW50aW9uKCQxLCQyLC4uLmFyZ3MpLG9yaWdpbmFsUmVhY3Q6In19XSxyZW5kZXJNZW50aW9uKGUsdCxuLHIsaSl7cmV0dXJuIG8oRCx7bm9vcDohMH0sbyhIQyx7Um9sZU1lbnRpb246ZSxVc2VyTWVudGlvbjp0LGRhdGE6bixwYXJzZTpyLHByb3BzOml9KSl9fSl9KTt2YXIgU2YsYmYsa1Q9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1AoKTt4KCk7TSgpO1NmPXt9LGJmPXYoe25hbWU6IlZvaWNlQ2hhdERvdWJsZUNsaWNrIixkZXNjcmlwdGlvbjoiSm9pbiB2b2ljZSBjaGF0cyB2aWEgZG91YmxlIGNsaWNrIGluc3RlYWQgb2Ygc2luZ2xlIGNsaWNrIixhdXRob3JzOltkLlZlbixkLkQzU09YXSxwYXRjaGVzOlt7ZmluZDoiVm9pY2VDaGFubmVsLnJlbmRlclBvcG91dCIscmVwbGFjZW1lbnQ6W3ttYXRjaDovb25DbGljazpmdW5jdGlvblwoXClceyhlXC5oYW5kbGVDbGljay4rPyl9L2cscmVwbGFjZToib25DbGljazpmdW5jdGlvbigpeyRzZWxmLnNjaGVkdWxlKCgpPT57JDF9LGUpfSJ9XX0se2ZpbmQ6Ii5zaG91bGRDbG9zZURlZmF1bHRNb2RhbHMiLHJlcGxhY2VtZW50OnttYXRjaDovb25DbGljazooXGkpKD89LC57MCwzMH1jbGFzc05hbWU6ImNoYW5uZWxNZW50aW9uIi4rPyhcaSlcLmluQ29udGVudCkvLHJlcGxhY2U6KGUsdCxuKT0+YG9uQ2xpY2s6KHZjRG91YmxlQ2xpY2tFdnQpPT4kc2VsZi5zaG91bGRSdW5PbkNsaWNrKHZjRG91YmxlQ2xpY2tFdnQsJHtufSkmJiR7dH0oKWB9fV0sc2hvdWxkUnVuT25DbGljayhlLHtjaGFubmVsSWQ6dH0pe2xldCBuPVYuZ2V0Q2hhbm5lbCh0KTtyZXR1cm4hbnx8IVsyLDEzXS5pbmNsdWRlcyhuLnR5cGUpPyEwOmUuZGV0YWlsPj0yfSxzY2hlZHVsZShlLHQpe2xldCBuPXQucHJvcHMuY2hhbm5lbC5pZDtpZihUZS5nZXRWb2ljZUNoYW5uZWxJZCgpPT09bil7ZSgpO3JldHVybn1sZXQgcj1TZltuXT8/PXt0aW1lb3V0OnZvaWQgMCxpOjB9O2NsZWFyVGltZW91dChyLnRpbWVvdXQpLCsrci5pPj0yPyhlKCksZGVsZXRlIFNmW25dKTpyLnRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e2RlbGV0ZSBTZltuXX0sNTAwKX19KX0pO2Z1bmN0aW9uIGFsKGUsdD1OLnBsdWdpbnMuVmNOYXJyYXRvcil7aWYoIWUpcmV0dXJuO2xldCBuPW5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoZSkscj1zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCkuZmluZChpPT5pLnZvaWNlVVJJPT09dC52b2ljZSk7IXImJihuZXcgUSgiVmNOYXJyYXRvciIpLmVycm9yKGBWb2ljZSAiJHt0LnZvaWNlfSIgbm90IGZvdW5kLiBSZXNldHRpbmcgdG8gZGVmYXVsdC5gKSxyPXNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKS5maW5kKGk9PmkuZGVmYXVsdCksdC52b2ljZT1yPy52b2ljZVVSSSwhcil8fChuLnZvaWNlPXIsbi52b2x1bWU9dC52b2x1bWUsbi5yYXRlPXQucmF0ZSxzcGVlY2hTeW50aGVzaXMuc3BlYWsobikpfWZ1bmN0aW9uIExUKGUpe2xldCB0PU4ucGx1Z2lucy5WY05hcnJhdG9yLmxhdGluT25seT8vW15ccHtTY3JpcHQ9TGF0aW59XHB7TnVtYmVyfVxwe1B1bmN0dWF0aW9ufVxzXS9ndTovW15ccHtMZXR0ZXJ9XHB7TnVtYmVyfVxwe1B1bmN0dWF0aW9ufVxzXS9ndTtyZXR1cm4gZS5ub3JtYWxpemUoIk5GS0MiKS5yZXBsYWNlKHQsIiIpLnRyaW0oKX1mdW5jdGlvbiBsbChlLHQsbil7cmV0dXJuIGUucmVwbGFjZUFsbCgie3tVU0VSfX0iLExUKHQpfHwodD8iU29tZW9uZSI6IiIpKS5yZXBsYWNlQWxsKCJ7e0NIQU5ORUx9fSIsTFQobil8fCJjaGFubmVsIil9ZnVuY3Rpb24gekMoe2NoYW5uZWxJZDplLG9sZENoYW5uZWxJZDp0fSxuKXtpZihuJiZlIT09VGYmJih0PVRmLFRmPWUpLGUhPT10KXtpZihlKXJldHVyblt0PyJtb3ZlIjoiam9pbiIsZV07aWYodClyZXR1cm5bImxlYXZlIix0XX1yZXR1cm5bIiIsIiJdfWZ1bmN0aW9uIGpDKGUsdCl7bGV0IG49T2JqZWN0LmFzc2lnbih7fSxOLnBsdWdpbnMuVmNOYXJyYXRvcixlKTthbChsbChuW3QrIk1lc3NhZ2UiXSxHLmdldEN1cnJlbnRVc2VyKCkudXNlcm5hbWUsImdlbmVyYWwiKSxuKX12YXIgQVQsVGYseGYsRVQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtlaSgpO1AoKTt3ZSgpO2V0KCk7Wm4oKTt4KCk7QigpO00oKTtBVD1JKCJnZXRWb2ljZVN0YXRlc0ZvckNoYW5uZWwiLCJnZXRDdXJyZW50Q2xpZW50Vm9pY2VDaGFubmVsSWQiKTt4Zj12KHtuYW1lOiJWY05hcnJhdG9yIixkZXNjcmlwdGlvbjoiQW5ub3VuY2VzIHdoZW4gdXNlcnMgam9pbiwgbGVhdmUsIG9yIG1vdmUgdm9pY2UgY2hhbm5lbHMgdmlhIG5hcnJhdG9yIixhdXRob3JzOltkLlZlbl0sZmx1eDp7Vk9JQ0VfU1RBVEVfVVBEQVRFUyh7dm9pY2VTdGF0ZXM6ZX0pe2xldCB0PVRlLmdldFZvaWNlQ2hhbm5lbElkKCksbj1HLmdldEN1cnJlbnRVc2VyKCkuaWQ7aWYoVi5nZXRDaGFubmVsKHQpPy50eXBlIT09MTMpZm9yKGxldCByIG9mIGUpe2xldHt1c2VySWQ6aSxjaGFubmVsSWQ6cyxvbGRDaGFubmVsSWQ6Y309cix1PWk9PT1uO2lmKCF1JiYoIXR8fHMhPT10JiZjIT09dCkpY29udGludWU7bGV0W3AseV09ekMocix1KTtpZighcCljb250aW51ZTtsZXQgaD1OLnBsdWdpbnMuVmNOYXJyYXRvcltwKyJNZXNzYWdlIl0sUz11JiYhTi5wbHVnaW5zLlZjTmFycmF0b3Iuc2F5T3duTmFtZT8iIjpHLmdldFVzZXIoaSkudXNlcm5hbWUsVD1WLmdldENoYW5uZWwoeSkubmFtZTthbChsbChoLFMsVCkpfX0sQVVESU9fVE9HR0xFX1NFTEZfTVVURSgpe2xldCBlPVRlLmdldFZvaWNlQ2hhbm5lbElkKCksdD1BVC5nZXRWb2ljZVN0YXRlRm9yQ2hhbm5lbChlKTtpZighdClyZXR1cm47bGV0IG49dC5tdXRlfHx0LnNlbGZNdXRlPyJ1bm11dGUiOiJtdXRlIjthbChsbChOLnBsdWdpbnMuVmNOYXJyYXRvcltuKyJNZXNzYWdlIl0sIiIsVi5nZXRDaGFubmVsKGUpLm5hbWUpKX0sQVVESU9fVE9HR0xFX1NFTEZfREVBRigpe2xldCBlPVRlLmdldFZvaWNlQ2hhbm5lbElkKCksdD1BVC5nZXRWb2ljZVN0YXRlRm9yQ2hhbm5lbChlKTtpZighdClyZXR1cm47bGV0IG49dC5kZWFmfHx0LnNlbGZEZWFmPyJ1bmRlYWZlbiI6ImRlYWZlbiI7YWwobGwoTi5wbHVnaW5zLlZjTmFycmF0b3JbbisiTWVzc2FnZSJdLCIiLFYuZ2V0Q2hhbm5lbChlKS5uYW1lKSl9fSxzdGFydCgpe2lmKHR5cGVvZiBzcGVlY2hTeW50aGVzaXM+InUifHxzcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCkubGVuZ3RoPT09MCl7bmV3IFEoIlZjTmFycmF0b3IiKS53YXJuKCJTcGVlY2hTeW50aGVzaXMgbm90IHN1cHBvcnRlZCBvciBubyBOYXJyYXRvciB2b2ljZXMgZm91bmQuIFRodXMsIHRoaXMgcGx1Z2luIHdpbGwgbm90IHdvcmsuIENoZWNrIG15IFNldHRpbmdzIGZvciBtb3JlIGluZm8iKTtyZXR1cm59fSxvcHRpb25zQ2FjaGU6bnVsbCxnZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbnNDYWNoZT8/PXt2b2ljZTp7dHlwZTo0LGRlc2NyaXB0aW9uOiJOYXJyYXRvciBWb2ljZSIsb3B0aW9uczp1bnNhZmVXaW5kb3cuc3BlZWNoU3ludGhlc2lzPy5nZXRWb2ljZXMoKS5tYXAoZT0+KHtsYWJlbDplLm5hbWUsdmFsdWU6ZS52b2ljZVVSSSxkZWZhdWx0OmUuZGVmYXVsdH0pKT8/W119LHZvbHVtZTp7dHlwZTo1LGRlc2NyaXB0aW9uOiJOYXJyYXRvciBWb2x1bWUiLGRlZmF1bHQ6MSxtYXJrZXJzOlswLC4yNSwuNSwuNzUsMV0sc3RpY2tUb01hcmtlcnM6ITF9LHJhdGU6e3R5cGU6NSxkZXNjcmlwdGlvbjoiTmFycmF0b3IgU3BlZWQiLGRlZmF1bHQ6MSxtYXJrZXJzOlsuMSwuNSwxLDIsNSwxMF0sc3RpY2tUb01hcmtlcnM6ITF9LHNheU93bk5hbWU6e2Rlc2NyaXB0aW9uOiJTYXkgb3duIG5hbWUiLHR5cGU6MyxkZWZhdWx0OiExfSxsYXRpbk9ubHk6e2Rlc2NyaXB0aW9uOiJTdHJpcCBub24gbGF0aW4gY2hhcmFjdGVycyBmcm9tIG5hbWVzIGJlZm9yZSBzYXlpbmcgdGhlbSIsdHlwZTozLGRlZmF1bHQ6ITF9LGpvaW5NZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246IkpvaW4gTWVzc2FnZSIsZGVmYXVsdDoie3tVU0VSfX0gam9pbmVkIn0sbGVhdmVNZXNzYWdlOnt0eXBlOjAsZGVzY3JpcHRpb246IkxlYXZlIE1lc3NhZ2UiLGRlZmF1bHQ6Int7VVNFUn19IGxlZnQifSxtb3ZlTWVzc2FnZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJNb3ZlIE1lc3NhZ2UiLGRlZmF1bHQ6Int7VVNFUn19IG1vdmVkIHRvIHt7Q0hBTk5FTH19In0sbXV0ZU1lc3NhZ2U6e3R5cGU6MCxkZXNjcmlwdGlvbjoiTXV0ZSBNZXNzYWdlIChvbmx5IHNlbGYgZm9yIG5vdykiLGRlZmF1bHQ6Int7VVNFUn19IE11dGVkIn0sdW5tdXRlTWVzc2FnZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJVbm11dGUgTWVzc2FnZSAob25seSBzZWxmIGZvciBub3cpIixkZWZhdWx0OiJ7e1VTRVJ9fSB1bm11dGVkIn0sZGVhZmVuTWVzc2FnZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJEZWFmZW4gTWVzc2FnZSAob25seSBzZWxmIGZvciBub3cpIixkZWZhdWx0OiJ7e1VTRVJ9fSBkZWFmZW5lZCJ9LHVuZGVhZmVuTWVzc2FnZTp7dHlwZTowLGRlc2NyaXB0aW9uOiJVbmRlYWZlbiBNZXNzYWdlIChvbmx5IHNlbGYgZm9yIG5vdykiLGRlZmF1bHQ6Int7VVNFUn19IHVuZGVhZmVuZWQifX19LHNldHRpbmdzQWJvdXRDb21wb25lbnQoe3RlbXBTZXR0aW5nczplfSl7bGV0W3Qsbl09TXQoKCk9PntsZXQgcz1zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCk7cmV0dXJuW3MubGVuZ3RoIT09MCxzLnNvbWUoYz0+Yy5sYW5nLnN0YXJ0c1dpdGgoImVuIikpXX0sW10pLHI9TXQoKCk9Pk9iamVjdC5rZXlzKFZlbmNvcmQuUGx1Z2lucy5wbHVnaW5zLlZjTmFycmF0b3Iub3B0aW9ucykuZmlsdGVyKHM9PnMuZW5kc1dpdGgoIk1lc3NhZ2UiKSkubWFwKHM9PnMuc2xpY2UoMCwtNykpLFtdKSxpPW51bGw7aWYodClufHwoaT1vKFhuLG51bGwsIllvdSBkb24ndCBoYXZlIGFueSBFbmdsaXNoIHZvaWNlcyBpbnN0YWxsZWQsIHNvIHRoZSBuYXJyYXRvciBtaWdodCBzb3VuZCB3ZWlyZCIpKTtlbHNle2xldCBzPSJObyBuYXJyYXRvciB2b2ljZXMgZm91bmQuICI7cys9bmF2aWdhdG9yLnBsYXRmb3JtPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJsaW51eCIpPyJJbnN0YWxsIHNwZWVjaC1kaXNwYXRjaGVyIG9yIGVzcGVhayBhbmQgcnVuIERpc2NvcmQgd2l0aCB0aGUgLS1lbmFibGUtc3BlZWNoLWRpc3BhdGNoZXIgZmxhZyI6IlRyeSBpbnN0YWxsaW5nIHNvbWUgaW4gdGhlIE5hcnJhdG9yIHNldHRpbmdzIG9mIHlvdXIgT3BlcmF0aW5nIFN5c3RlbSIsaT1vKFhuLG51bGwscyl9cmV0dXJuIG8oYi5Gb3JtU2VjdGlvbixudWxsLG8oYi5Gb3JtVGV4dCxudWxsLCJZb3UgY2FuIGN1c3RvbWlzZSB0aGUgc3Bva2VuIG1lc3NhZ2VzIGJlbG93LiBZb3UgY2FuIGRpc2FibGUgc3BlY2lmaWMgbWVzc2FnZXMgYnkgc2V0dGluZyB0aGVtIHRvIG5vdGhpbmciKSxvKGIuRm9ybVRleHQsbnVsbCwiVGhlIHNwZWNpYWwgcGxhY2Vob2xkZXJzICIsbygiY29kZSIsbnVsbCwie3tVU0VSfX0iKSwiIGFuZCAiLG8oImNvZGUiLG51bGwsInt7Q0hBTk5FTH19IiksIiAiLCJ3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHVzZXIncyBuYW1lIChub3RoaW5nIGlmIGl0J3MgeW91cnNlbGYpIGFuZCB0aGUgY2hhbm5lbCdzIG5hbWUgcmVzcGVjdGl2ZWx5IiksbiYmbyhtLG51bGwsbyhiLkZvcm1UaXRsZSx7Y2xhc3NOYW1lOnoudG9wMjAsdGFnOiJoMyJ9LCJQbGF5IEV4YW1wbGUgU291bmRzIiksbygiZGl2Iix7c3R5bGU6e2Rpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6InJlcGVhdCg0LCAxZnIpIixnYXA6IjFyZW0ifSxjbGFzc05hbWU6InZjLW5hcnJhdG9yLWJ1dHRvbnMifSxyLm1hcChzPT5vKFIse2tleTpzLG9uQ2xpY2s6KCk9PmpDKGUscyl9LFluKFtzXSkpKSkpLGkpfX0pfSk7dmFyIERUPWcoKCk9Pnt9KTtmdW5jdGlvbiBxQyhlKXtsZXQgdD1bXTtmb3IobGV0IG4gb2YgT2JqZWN0LnZhbHVlcyhWZW5jb3JkLlBsdWdpbnMucGx1Z2lucykpbi50b29sYm94QWN0aW9ucyYmdC5wdXNoKG8oTy5NZW51R3JvdXAse2xhYmVsOm4ubmFtZSxrZXk6YHZjLXRvb2xib3gtJHtuLm5hbWV9YH0sT2JqZWN0LmVudHJpZXMobi50b29sYm94QWN0aW9ucykubWFwKChbcixpXSk9PntsZXQgcz1gdmMtdG9vbGJveC0ke24ubmFtZX0tJHtyfWA7cmV0dXJuIG8oTy5NZW51SXRlbSx7aWQ6cyxrZXk6cyxsYWJlbDpyLGFjdGlvbjppfSl9KSkpO3JldHVybiBvKE8uTWVudSx7bmF2SWQ6InZjLXRvb2xib3giLG9uQ2xvc2U6ZX0sbyhPLk1lbnVJdGVtLHtpZDoidmMtdG9vbGJveC1ub3RpZmljYXRpb25zIixsYWJlbDoiT3BlbiBOb3RpZmljYXRpb24gTG9nIixhY3Rpb246RHN9KSxvKE8uTWVudUl0ZW0se2lkOiJ2Yy10b29sYm94LXF1aWNrY3NzIixsYWJlbDoiT3BlbiBRdWlja0NTUyIsYWN0aW9uOigpPT5WZW5jb3JkTmF0aXZlLnF1aWNrQ3NzLm9wZW5FZGl0b3IoKX0pLC4uLnQpfWZ1bmN0aW9uIEtDKCl7cmV0dXJuIG8oInN2ZyIse3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmlld0JveDoiMCAwIDk2IDk2Iix3aWR0aDoyNCxoZWlnaHQ6MjR9LG8oInBhdGgiLHtmaWxsOiJjdXJyZW50Q29sb3IiLGQ6Ik01MyAxMGg3djFoLTF2MWgtMXYxaC0xdjFoLTF2MWgtMXYxaDV2MWgtN3YtMWgxdi0xaDF2LTFoMXYtMWgxdi0xaDF2LTFoLTVtLTQzIDF2MzJoMnYyaDJ2MmgydjJoMnYyaDJ2MmgydjJoMnYyaDJ2Mmg4di0yaDJWNDZoLTJ2MmgtMnYyaC00di0yaC0ydi0yaC0ydi0yaC0ydi0yaC0ydi0yaC0yVjEybTI0IDB2MjdoLTJ2M2g0di02aDJ2LTJoNFYxMm0xMyAyaDV2MWgtMXYxaC0xdjFoLTF2MWgzdjFoLTV2LTFoMXYtMWgxdi0xaDF2LTFoLTNtOCA1aDF2NWgxdi0xaDF2MWgtMXYxaDF2LTFoMXYxaC0xdjNoLTF2MWgtMnYxaC0xdjFoMXYtMWgydi0xaDF2MmgtMXYxaC0ydjFoLTF2LTFoLTF2MWgtNnYtMWgtMXYtMWgtMXYtMmgxdjFoMnYxaDN2MWgxdi0xaC0xdi0xaC0zdi0xaC00di00aDF2LTJoMXYtMWgxdi0xaDF2MmgxdjFoMXYtMWgxdjFoLTF2MWgydi0yaDF2LTJoMXYtMWgxbS0xMyA0aDJ2MWgtMXY0aDF2MmgxdjFoMXYxaDF2MWg0djFoLTZ2LTFoLTZ2LTFoLTF2LTVoMXYtMWgxdi0yaDJtMTcgM2gxdjNoLTF2MWgtMXYxaC0xdjJoLTJ2LTJoMnYtMWgxdi0xaDFtMSAwaDF2M2gtMXYxaC0ydi0xaDF2LTFoMW0tMzAgMnY4aC04djMyaDh2OGgzMnYtOGg4di04SDcwdjhINTRWNDRoMTZ2OGgxNnYtOGgtOHYtOGgtMXYxaC03di0xaC0ydjFoLTh2LTEifSkpfWZ1bmN0aW9uIFlDKCl7bGV0W2UsdF09VyghMSk7cmV0dXJuIG8oenIse3Bvc2l0aW9uOiJib3R0b20iLGFsaWduOiJyaWdodCIsYW5pbWF0aW9uOnpyLkFuaW1hdGlvbi5OT05FLHNob3VsZFNob3c6ZSxvblJlcXVlc3RDbG9zZTooKT0+dCghMSkscmVuZGVyUG9wb3V0OigpPT5xQygoKT0+dCghMSkpfSwobix7aXNTaG93bjpyfSk9Pm8oV0Mse2NsYXNzTmFtZToidmMtdG9vbGJveC1idG4iLG9uQ2xpY2s6KCk9PnQoaT0+IWkpLHRvb2x0aXA6cj9udWxsOiJWZW5jb3JkIFRvb2xib3giLGljb246S0Msc2VsZWN0ZWQ6cn0pKX1mdW5jdGlvbiBaQyh7Y2hpbGRyZW46ZX0pe3JldHVybiBlLnNwbGljZShlLmxlbmd0aC0xLDAsbyhELHtub29wOiEwfSxvKFlDLG51bGwpKSksbyhtLG51bGwsZSl9dmFyIFdDLHdmLE9UPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtEVCgpO09zKCk7c2UoKTtQKCk7Z2UoKTt4KCk7QigpO00oKTtXQz1yZSgoKT0+VWUoIi5IRUFERVJfQkFSX0JBREdFLCIsIi50b29sdGlwIikpO3dmPXYoe25hbWU6IlZlbmNvcmRUb29sYm94IixkZXNjcmlwdGlvbjoiQWRkcyBhIGJ1dHRvbiBuZXh0IHRvIHRoZSBpbmJveCBidXR0b24gaW4gdGhlIGNoYW5uZWwgaGVhZGVyIHRoYXQgaG91c2VzIFZlbmNvcmQgcXVpY2sgYWN0aW9ucyIsYXV0aG9yczpbZC5WZW4sZC5BdXR1bW5WTl0scGF0Y2hlczpbe2ZpbmQ6Ii5tb2JpbGVUb29sYmFyIixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD10b29sYmFyOmZ1bmN0aW9uLnswLDEwMH1cKClcaS5GcmFnbWVudCwvLHJlcGxhY2U6IiRzZWxmLlRvb2xib3hGcmFnbWVudFdyYXBwZXIsIn19XSxUb29sYm94RnJhZ21lbnRXcmFwcGVyOkQud3JhcChaQyx7ZmFsbGJhY2s6KCk9Pm8oInAiLHtzdHlsZTp7Y29sb3I6InJlZCJ9fSwiRmFpbGVkIHRvIHJlbmRlciA6KCIpfSl9KX0pO2Z1bmN0aW9uIEppKGUpe2xldCB0PWUuc3RhcnRzV2l0aCgiLyIpPyJwbmciOk1mLnN0b3JlLmZvcm1hdCxuPW5ldyBVUkwoZSx1bnNhZmVXaW5kb3cubG9jYXRpb24uaHJlZik7bi5zZWFyY2hQYXJhbXMuc2V0KCJzaXplIixNZi5zdG9yZS5pbWdTaXplKSxuLnBhdGhuYW1lPW4ucGF0aG5hbWUucmVwbGFjZSgvXC4ocG5nfGpwZT9nfHdlYnApJC8sYC4ke3R9YCksZT1uLnRvU3RyaW5nKCksbi5zZWFyY2hQYXJhbXMuc2V0KCJzaXplIiwiNDA5NiIpO2xldCByPW4udG9TdHJpbmcoKTtIbyhlLHtvcmlnaW5hbDpyLGhlaWdodDoyNTZ9KX12YXIgY2wsTWYsX1QsQlQsUGYsRlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO1N0KCk7RigpO3huKCk7UCgpO3N0KCk7eCgpO0IoKTtNKCk7Y2w9SSgiZ2V0R3VpbGRCYW5uZXJVUkwiKSxNZj1FKHtmb3JtYXQ6e3R5cGU6NCxkZXNjcmlwdGlvbjoiQ2hvb3NlIHRoZSBpbWFnZSBmb3JtYXQgdG8gdXNlIGZvciBub24gYW5pbWF0ZWQgaW1hZ2VzLiBBbmltYXRlZCBpbWFnZXMgd2lsbCBhbHdheXMgdXNlIC5naWYiLG9wdGlvbnM6W3tsYWJlbDoid2VicCIsdmFsdWU6IndlYnAiLGRlZmF1bHQ6ITB9LHtsYWJlbDoicG5nIix2YWx1ZToicG5nIn0se2xhYmVsOiJqcGciLHZhbHVlOiJqcGcifV19LGltZ1NpemU6e3R5cGU6NCxkZXNjcmlwdGlvbjoiVGhlIGltYWdlIHNpemUgdG8gdXNlIixvcHRpb25zOlsiMTI4IiwiMjU2IiwiNTEyIiwiMTAyNCIsIjIwNDgiLCI0MDk2Il0ubWFwKGU9Pih7bGFiZWw6ZSx2YWx1ZTplLGRlZmF1bHQ6ZT09PSIxMDI0In0pKX19KTtfVD0oZSx7dXNlcjp0LGd1aWxkSWQ6bn0pPT4oKT0+e2xldCByPV9lLmdldE1lbWJlcihuLHQuaWQpPy5hdmF0YXJ8fG51bGw7ZS5zcGxpY2UoLTEsMCxvKE8uTWVudUdyb3VwLG51bGwsbyhPLk1lbnVJdGVtLHtpZDoidmlldy1hdmF0YXIiLGxhYmVsOiJWaWV3IEF2YXRhciIsYWN0aW9uOigpPT5KaShjbC5nZXRVc2VyQXZhdGFyVVJMKHQsITApKSxpY29uOktvfSksciYmbyhPLk1lbnVJdGVtLHtpZDoidmlldy1zZXJ2ZXItYXZhdGFyIixsYWJlbDoiVmlldyBTZXJ2ZXIgQXZhdGFyIixhY3Rpb246KCk9PkppKGNsLmdldEd1aWxkTWVtYmVyQXZhdGFyVVJMU2ltcGxlKHt1c2VySWQ6dC5pZCxhdmF0YXI6cixndWlsZElkOm4sY2FuQW5pbWF0ZTohMH0sITApKSxpY29uOktvfSkpKX0sQlQ9KGUse2d1aWxkOnR9KT0+KCk9PntpZighdClyZXR1cm47bGV0e2lkOm4saWNvbjpyLGJhbm5lcjppfT10OyFpJiYhcnx8ZS5zcGxpY2UoLTEsMCxvKE8uTWVudUdyb3VwLG51bGwscj9vKE8uTWVudUl0ZW0se2lkOiJ2aWV3LWljb24iLGxhYmVsOiJWaWV3IEljb24iLGFjdGlvbjooKT0+SmkoY2wuZ2V0R3VpbGRJY29uVVJMKHtpZDpuLGljb246cixjYW5BbmltYXRlOiEwfSkpLGljb246S299KTpudWxsLGk/byhPLk1lbnVJdGVtLHtpZDoidmlldy1iYW5uZXIiLGxhYmVsOiJWaWV3IEJhbm5lciIsYWN0aW9uOigpPT5KaShjbC5nZXRHdWlsZEJhbm5lclVSTCh7aWQ6bixiYW5uZXI6aX0sITApKSxpY29uOktvfSk6bnVsbCkpfSxQZj12KHtuYW1lOiJWaWV3SWNvbnMiLGF1dGhvcnM6W2QuVmVuLGQuVGhlS29kZVRvYWQsZC5OdWNreXpdLGRlc2NyaXB0aW9uOiJNYWtlcyBhdmF0YXJzIGFuZCBiYW5uZXJzIGluIHVzZXIgcHJvZmlsZXMgY2xpY2thYmxlLCBhbmQgYWRkcyBWaWV3IEljb24vQmFubmVyIGVudHJpZXMgaW4gdGhlIHVzZXIgYW5kIHNlcnZlciBjb250ZXh0IG1lbnUiLHRhZ3M6WyJJbWFnZVV0aWxpdGllcyJdLHNldHRpbmdzOk1mLG9wZW5JbWFnZTpKaSxzdGFydCgpe3BlKCJ1c2VyLWNvbnRleHQiLF9UKSxwZSgiZ3VpbGQtY29udGV4dCIsQlQpfSxzdG9wKCl7ZmUoInVzZXItY29udGV4dCIsX1QpLGZlKCJndWlsZC1jb250ZXh0IixCVCl9LHBhdGNoZXM6W3tmaW5kOiJvbkFkZEZyaWVuZDoiLHJlcGxhY2VtZW50OnttYXRjaDovXHtzcmM6KFxpKSg/PSxhdmF0YXJEZWNvcmF0aW9uKS8scmVwbGFjZToie3NyYzokMSxvbkNsaWNrOigpPT4kc2VsZi5vcGVuSW1hZ2UoJDEpIn19LHtmaW5kOiIuTklUUk9fQkFOTkVSLCIscmVwbGFjZW1lbnQ6e21hdGNoOi9zdHlsZTpceyg/PWJhY2tncm91bmRJbWFnZTooXGkmJlxpKVw/InVybFwoIlwuY29uY2F0XCgoXGkpLCkvLHJlcGxhY2U6J29uQ2xpY2s6ZXY9PiQxJiZldi50YXJnZXQuc3R5bGUuYmFja2dyb3VuZEltYWdlJiYkc2VsZi5vcGVuSW1hZ2UoJDIpLHN0eWxlOntjdXJzb3I6JDE/InBvaW50ZXIiOnZvaWQgMCwnfX0se2ZpbmQ6IigpLmF2YXRhcldyYXBwZXJOb25Vc2VyQm90IixyZXBsYWNlbWVudDp7bWF0Y2g6Lyg/PD1hdmF0YXJQb3NpdGlvblBhbmVsLis/KW9uQ2xpY2s6KFxpXHxcfFxpKVw/dm9pZCAwKD88PSwoXGkpPVxpXC5hdmF0YXJTcmMuKz8pLyxyZXBsYWNlOidzdHlsZTooJDEpP3tjdXJzb3I6InBvaW50ZXIifTp7fSxvbkNsaWNrOiQxPygpPT57JHNlbGYub3BlbkltYWdlKCQyKX0nfX1dfSl9KTtmdW5jdGlvbiBKQyhlKXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGUpLnNvcnQoKFt0XSxbbl0pPT50LmxvY2FsZUNvbXBhcmUobikpKX1mdW5jdGlvbiBRQyhlKXtsZXQgdD1KQyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSk7Zm9yKGxldCByIG9mWyJlbWFpbCIsInBob25lIiwibWZhRW5hYmxlZCIsInBlcnNvbmFsQ29ubmVjdGlvbklkIl0pZGVsZXRlIHQuYXV0aG9yW3JdO2xldCBuPXQ7cmV0dXJuIGRlbGV0ZSBuLmVkaXRIaXN0b3J5LGRlbGV0ZSBuLmRlbGV0ZWQsbi5hdHRhY2htZW50cz8uZm9yRWFjaChyPT5kZWxldGUgci5kZWxldGVkKSx0fWZ1bmN0aW9uICRUKGUpe3JldHVybiBvKCJkaXYiLHtzdHlsZTp7dXNlclNlbGVjdDoidGV4dCJ9fSxrZS5kZWZhdWx0UnVsZXMuY29kZUJsb2NrLnJlYWN0KGUsbnVsbCx7fSkpfWZ1bmN0aW9uIFVUKGUpe2U9UUMoZSk7bGV0IHQ9SlNPTi5zdHJpbmdpZnkoZSxudWxsLDQpLG49TWUocj0+byhELG51bGwsbyhBZSx7Li4ucixzaXplOiJsYXJnZSJ9LG8oQmUsbnVsbCxvKHRlLHt2YXJpYW50OiJoZWFkaW5nLWxnL3NlbWlib2xkIixzdHlsZTp7ZmxleEdyb3c6MX19LCJWaWV3IFJhdyIpLG8oQ3Qse29uQ2xpY2s6KCk9PlduKG4pfSkpLG8oRmUsbnVsbCxvKCJkaXYiLHtzdHlsZTp7cGFkZGluZzoiMTZweCAwIn19LCEhZS5jb250ZW50JiZvKG0sbnVsbCxvKGIuRm9ybVRpdGxlLHt0YWc6Img1In0sIkNvbnRlbnQiKSxvKCRULHtjb250ZW50OmUuY29udGVudCxsYW5nOiIifSksbyhiLkZvcm1EaXZpZGVyLHtjbGFzc05hbWU6ei5ib3R0b20yMH0pKSxvKGIuRm9ybVRpdGxlLHt0YWc6Img1In0sIk1lc3NhZ2UgRGF0YSIpLG8oJFQse2NvbnRlbnQ6dCxsYW5nOiJqc29uIn0pKSksbyh1dCxudWxsLG8oY2Use2NlbGxTcGFjaW5nOjEwfSxvKFIse29uQ2xpY2s6KCk9PlZ0KHQsIk1lc3NhZ2UgZGF0YSBjb3BpZWQgdG8gY2xpcGJvYXJkISIpfSwiQ29weSBNZXNzYWdlIEpTT04iKSxvKFIse29uQ2xpY2s6KCk9PlZ0KGUuY29udGVudCwiQ29udGVudCBjb3BpZWQgdG8gY2xpcGJvYXJkISIpfSwiQ29weSBSYXcgQ29udGVudCIpKSkpKSl9dmFyIFhDLHVsLElmLEdUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtRbygpO0YoKTtzZSgpO3Z0KCk7UCgpO2V0KCk7eWUoKTtLZSgpO3goKTtNKCk7WEM9KCk9Pm8oInN2ZyIse3ZpZXdCb3g6IjAgMCAyMCAyMCIsZmlsbDoiY3VycmVudENvbG9yIiwiYXJpYS1oaWRkZW4iOiJ0cnVlIix3aWR0aDoiMjIiLGhlaWdodDoiMjIifSxvKCJwYXRoIix7ZDoiTTEyLjkyOTcgMy4yNTAwN0MxMi43MzQzIDMuMDUyNjEgMTIuNDE1NCAzLjA1MjI2IDEyLjIxOTYgMy4yNDkyOEwxMS41NzQ2IDMuODk4MjRDMTEuMzgxMSA0LjA5Mjk3IDExLjM4MDggNC40MDczMyAxMS41NzM5IDQuNjAyNDVMMTYuNTY4NSA5LjY0ODI0QzE2Ljc2MTQgOS44NDMwOSAxNi43NjE0IDEwLjE1NjkgMTYuNTY4NSAxMC4zNTE3TDExLjU3MzkgMTUuMzk3NUMxMS4zODA4IDE1LjU5MjcgMTEuMzgxMSAxNS45MDcgMTEuNTc0NiAxNi4xMDE3TDEyLjIxOTYgMTYuNzUwN0MxMi40MTU0IDE2Ljk0NzcgMTIuNzM0MyAxNi45NDc0IDEyLjkyOTcgMTYuNzQ5OUwxOS4yNjA0IDEwLjM1MTdDMTkuNDUzMiAxMC4xNTY4IDE5LjQ1MzIgOS44NDMxNCAxOS4yNjA0IDkuNjQ4MzJMMTIuOTI5NyAzLjI1MDA3WiJ9KSxvKCJwYXRoIix7ZDoiTTguNDI2MTYgNC42MDI0NUM4LjYxOTMgNC40MDczMyA4LjYxODk4IDQuMDkyOTcgOC40MjU0NSAzLjg5ODI0TDcuNzgwNDcgMy4yNDkyOEM3LjU4NDY2IDMuMDUyMjYgNy4yNjU3OCAzLjA1MjYxIDcuMDcwNDEgMy4yNTAwN0wwLjczOTY2OSA5LjY0ODMyQzAuNTQ2OSA5Ljg0MzE0IDAuNTQ2OTAxIDEwLjE1NjggMC43Mzk2NjkgMTAuMzUxN0w3LjA3MDQxIDE2Ljc0OTlDNy4yNjU3OCAxNi45NDc0IDcuNTg0NjUgMTYuOTQ3NyA3Ljc4MDQ3IDE2Ljc1MDdMOC40MjU0NSAxNi4xMDE3QzguNjE4OTggMTUuOTA3IDguNjE5MyAxNS41OTI3IDguNDI2MTYgMTUuMzk3NUwzLjQzMTU1IDEwLjM1MTdDMy4yMzg2OSAxMC4xNTY5IDMuMjM4NjkgOS44NDMwOSAzLjQzMTU1IDkuNjQ4MjRMOC40MjYxNiA0LjYwMjQ1WiJ9KSk7dWw9RSh7Y2xpY2tNZXRob2Q6e2Rlc2NyaXB0aW9uOiJDaGFuZ2UgdGhlIGJ1dHRvbiB0byB2aWV3IHRoZSByYXcgY29udGVudC9kYXRhIG9mIGFueSBtZXNzYWdlLiIsdHlwZTo0LG9wdGlvbnM6W3tsYWJlbDoiTGVmdCBDbGljayB0byB2aWV3IHRoZSByYXcgY29udGVudC4iLHZhbHVlOiJMZWZ0IixkZWZhdWx0OiEwfSx7bGFiZWw6IlJpZ2h0IGNsaWNrIHRvIHZpZXcgdGhlIHJhdyBjb250ZW50LiIsdmFsdWU6IlJpZ2h0In1dfX0pLElmPXYoe25hbWU6IlZpZXdSYXciLGRlc2NyaXB0aW9uOiJDb3B5IGFuZCB2aWV3IHRoZSByYXcgY29udGVudC9kYXRhIG9mIGFueSBtZXNzYWdlLiIsYXV0aG9yczpbZC5LaW5nRmlzaCxkLlZlbixkLnJhZF0sZGVwZW5kZW5jaWVzOlsiTWVzc2FnZVBvcG92ZXJBUEkiXSxzZXR0aW5nczp1bCxzdGFydCgpe3duKCJWaWV3UmF3IixlPT57bGV0IHQ9KCk9Pnt1bC5zdG9yZS5jbGlja01ldGhvZD09PSJSaWdodCI/VnQoZS5jb250ZW50KTpVVChlKX0sbj1pPT57dWwuc3RvcmUuY2xpY2tNZXRob2Q9PT0iTGVmdCI/KGkucHJldmVudERlZmF1bHQoKSxpLnN0b3BQcm9wYWdhdGlvbigpLFZ0KGUuY29udGVudCkpOihpLnByZXZlbnREZWZhdWx0KCksaS5zdG9wUHJvcGFnYXRpb24oKSxVVChlKSl9O3JldHVybntsYWJlbDp1bC5zdG9yZS5jbGlja01ldGhvZD09PSJSaWdodCI/IkNvcHkgUmF3IChMZWZ0IENsaWNrKSAvIFZpZXcgUmF3IChSaWdodCBDbGljaykiOiJWaWV3IFJhdyAoTGVmdCBDbGljaykgLyBDb3B5IFJhdyAoUmlnaHQgQ2xpY2spIixpY29uOlhDLG1lc3NhZ2U6ZSxjaGFubmVsOlYuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpLG9uQ2xpY2s6dCxvbkNvbnRleHRNZW51Om59fSl9LHN0b3AoKXtNbigiQ29weVJhd01lc3NhZ2UiKX19KX0pO3ZhciBIVD1nKCgpPT57fSk7dmFyIE9yLHBsPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7eCgpO09yPUUoe25vaXNlU3VwcHJlc3Npb246e3R5cGU6MyxkZXNjcmlwdGlvbjoiTm9pc2UgU3VwcHJlc3Npb24iLGRlZmF1bHQ6ITB9LGVjaG9DYW5jZWxsYXRpb246e3R5cGU6MyxkZXNjcmlwdGlvbjoiRWNobyBDYW5jZWxsYXRpb24iLGRlZmF1bHQ6ITB9fSl9KTt2YXIgelQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO00oKTtwbCgpfSk7dmFyIEVvLENmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtIZSgpO0VvPUxlKCJ2Yy12bXNnLSIpfSk7dmFyIFZDLGpULFdUPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtnZSgpO0IoKTtDZigpO1ZDPXJlKCgpPT5VZSgnWyJvblZvbHVtZUNoYW5nZSIsInZvbHVtZSIsIm9uTXV0ZSJdJykpLGpUPSh7c3JjOmUsd2F2ZWZvcm06dCxyZWNvcmRpbmc6bn0pPT57bGV0IHI9SHIoe2RlcHM6W25dfSksaT1uP01hdGguZmxvb3Ioci8xZTMpOjAscz1NYXRoLmZsb29yKGkvNjApKyI6IisoaSU2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCIwIik7cmV0dXJuIGUmJiFuP28oVkMse2tleTplLHNyYzplLHdhdmVmb3JtOnR9KTpvKCJkaXYiLHtjbGFzc05hbWU6RW8oInByZXZpZXciLG4/InByZXZpZXctcmVjb3JkaW5nIjpbXSl9LG8oImRpdiIse2NsYXNzTmFtZTpFbygicHJldmlldy1pbmRpY2F0b3IiKX0pLG8oImRpdiIse2NsYXNzTmFtZTpFbygicHJldmlldy10aW1lIil9LHMpLG8oImRpdiIse2NsYXNzTmFtZTpFbygicHJldmlldy1sYWJlbCIpfSxuPyJSRUNPUkRJTkciOiItLS0tIikpfX0pO3ZhciBxVCxLVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7TSgpO3BsKCk7cVQ9KHtzZXRBdWRpb0Jsb2I6ZSxvblJlY29yZGluZ0NoYW5nZTp0fSk9PntsZXRbbixyXT1XKCExKSxbaSxzXT1XKCExKSxbYyx1XT1XKCksW3AseV09VyhbXSksaD1UPT57cihUKSx0Py4oVCl9O2Z1bmN0aW9uIFMoKXshbj9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86e2VjaG9DYW5jZWxsYXRpb246T3Iuc3RvcmUuZWNob0NhbmNlbGxhdGlvbixub2lzZVN1cHByZXNzaW9uOk9yLnN0b3JlLm5vaXNlU3VwcHJlc3Npb259fSkudGhlbih3PT57bGV0IEw9W107eShMKTtsZXQgQz1uZXcgTWVkaWFSZWNvcmRlcih3KTt1KEMpLEMuYWRkRXZlbnRMaXN0ZW5lcigiZGF0YWF2YWlsYWJsZSIsaz0+e0wucHVzaChrLmRhdGEpfSksQy5zdGFydCgpLGgoITApfSk6YyYmKGMuYWRkRXZlbnRMaXN0ZW5lcigic3RvcCIsKCk9PntlKG5ldyBCbG9iKHAse3R5cGU6ImF1ZGlvL29nZzsgY29kZWNzPW9wdXMifSkpLGgoITEpfSksYy5zdG9wKCkpfXJldHVybiBvKG0sbnVsbCxvKFIse29uQ2xpY2s6U30sbj8iU3RvcCI6IlN0YXJ0IiwiIHJlY29yZGluZyIpLG8oUix7ZGlzYWJsZWQ6IW4sb25DbGljazooKT0+e3MoIWkpLGk/Yz8ucmVzdW1lKCk6Yz8ucGF1c2UoKX19LGk/IlJlc3VtZSI6IlBhdXNlIiwiIHJlY29yZGluZyIpKX19KTtmdW5jdGlvbiByTihlLHQpe2xldCBuPVRlLmdldENoYW5uZWxJZCgpLHI9bk4uZ2V0UGVuZGluZ1JlcGx5KG4pO3ImJl8uZGlzcGF0Y2goe3R5cGU6IkRFTEVURV9QRU5ESU5HX1JFUExZIixjaGFubmVsSWQ6bn0pO2xldCBpPW5ldyBlTih7ZmlsZTpuZXcgRmlsZShbZV0sInZvaWNlLW1lc3NhZ2Uub2dnIix7dHlwZToiYXVkaW8vb2dnOyBjb2RlY3M9b3B1cyJ9KSxpc0NsaXA6ITEsaXNUaHVtYm5haWw6ITEscGxhdGZvcm06MX0sbiwhMSwwKTtpLm9uKCJjb21wbGV0ZSIsKCk9Pnt5dC5wb3N0KHt1cmw6YC9jaGFubmVscy8ke259L21lc3NhZ2VzYCxib2R5OntmbGFnczoxPDwxMyxjaGFubmVsX2lkOm4sY29udGVudDoiIixub25jZTp1by5mcm9tVGltZXN0YW1wKERhdGUubm93KCkpLHN0aWNrZXJfaWRzOltdLHR5cGU6MCxhdHRhY2htZW50czpbe2lkOiIwIixmaWxlbmFtZTppLmZpbGVuYW1lLHVwbG9hZGVkX2ZpbGVuYW1lOmkudXBsb2FkZWRGaWxlbmFtZSx3YXZlZm9ybTp0LndhdmVmb3JtLGR1cmF0aW9uX3NlY3M6dC5kdXJhdGlvbn1dLG1lc3NhZ2VfcmVmZXJlbmNlOnI/dE4uZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkocik/Lm1lc3NhZ2VSZWZlcmVuY2U6bnVsbH19KX0pLGkub24oImVycm9yIiwoKT0+cG8oIkZhaWxlZCB0byB1cGxvYWQgdm9pY2UgbWVzc2FnZSIsSy5UeXBlLkZBSUxVUkUpKSxpLnVwbG9hZCgpfWZ1bmN0aW9uIGlOKCl7bGV0W2UsdF09VygpO3JldHVybltlLHI9PntlJiZVUkwucmV2b2tlT2JqZWN0VVJMKGUpLHQoVVJMLmNyZWF0ZU9iamVjdFVSTChyKSl9XX1mdW5jdGlvbiBzTih7bW9kYWxQcm9wczplfSl7bGV0W3Qsbl09VyghMSksW3IsaV09VygpLFtzLGNdPWlOKCk7R2UoKCk9PigpPT57cyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX0sW3NdKTtsZXRbdV09VmUoYXN5bmMoKT0+e2lmKCFyKXJldHVybiBZVDtsZXQgeT1hd2FpdCBuZXcgQXVkaW9Db250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKGF3YWl0IHIuYXJyYXlCdWZmZXIoKSksaD15LmdldENoYW5uZWxEYXRhKDApLFM9bmV3IFVpbnQ4QXJyYXkodW5zYWZlV2luZG93Ll8uY2xhbXAoTWF0aC5mbG9vcih5LmR1cmF0aW9uKjEwKSxNYXRoLm1pbigzMixoLmxlbmd0aCksMjU2KSksVD1NYXRoLmZsb29yKGgubGVuZ3RoL1MubGVuZ3RoKTtmb3IobGV0IEM9MDtDPFMubGVuZ3RoO0MrKyl7bGV0IGs9MDtmb3IobGV0IFU9MDtVPFQ7VSsrKXtsZXQgJD1DKlQrVTtrKz1oWyRdKioyfVNbQ109fn4oTWF0aC5zcXJ0KGsvVCkqMjU1KX1sZXQgdz1NYXRoLm1heCguLi5TKSxMPTErKDI1NS93LTEpKk1hdGgubWluKDEsMTAwKih3LzI1NSkqKjMpO2ZvcihsZXQgQz0wO0M8Uy5sZW5ndGg7QysrKVNbQ109TWF0aC5taW4oMjU1LH5+KFNbQ10qTCkpO3JldHVybnt3YXZlZm9ybTp1bnNhZmVXaW5kb3cuYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLlMpKSxkdXJhdGlvbjp5LmR1cmF0aW9ufX0se2RlcHM6W3JdLGZhbGxiYWNrVmFsdWU6WVR9KTtyZXR1cm4gbyhBZSx7Li4uZX0sbyhCZSxudWxsLG8oYi5Gb3JtVGl0bGUsbnVsbCwiUmVjb3JkIFZvaWNlIE1lc3NhZ2UiKSksbyhGZSx7Y2xhc3NOYW1lOkVvKCJtb2RhbCIpfSxvKCJkaXYiLHtjbGFzc05hbWU6RW8oImJ1dHRvbnMiKX0sbyhvTix7c2V0QXVkaW9CbG9iOnA9PntpKHApLGMocCl9LG9uUmVjb3JkaW5nQ2hhbmdlOm59KSxvKFIse29uQ2xpY2s6YXN5bmMoKT0+e2xldCBwPWF3YWl0IEdzKCJhdWRpby8qIik7cCYmKGkocCksYyhwKSl9fSwiVXBsb2FkIEZpbGUiKSksbyhiLkZvcm1UaXRsZSxudWxsLCJQcmV2aWV3IiksbyhqVCx7c3JjOnMsd2F2ZWZvcm06dS53YXZlZm9ybSxyZWNvcmRpbmc6dH0pKSxvKHV0LG51bGwsbyhSLHtkaXNhYmxlZDohcixvbkNsaWNrOigpPT57ck4ocix1KSxlLm9uQ2xvc2UoKSxwbygiTm93IHNlbmRpbmcgdm9pY2UgbWVzc2FnZS4uLiBQbGVhc2UgYmUgcGF0aWVudCIsSy5UeXBlLk1FU1NBR0UpfX0sIlNlbmQiKSkpfXZhciBlTix0TixuTixvTixOZixZVCxaVCxYVD1nKCgpPT57InVzZSBzdHJpY3QiO2EoKTtsKCk7SFQoKTtTdCgpO3Z0KCk7eG4oKTtQKCk7S2UoKTtnZSgpO3goKTtIcygpO0IoKTtNKCk7elQoKTtwbCgpO0NmKCk7V1QoKTtLVCgpO2VOPU5lKGU9PmUucHJvdG90eXBlPy51cGxvYWRGaWxlVG9DbG91ZCksdE49SSgiZ2V0U2VuZE1lc3NhZ2VPcHRpb25zRm9yUmVwbHkiLCJzZW5kTWVzc2FnZSIpLG5OPWxlKCJQZW5kaW5nUmVwbHlTdG9yZSIpLG9OPXFULE5mPXYoe25hbWU6IlZvaWNlTWVzc2FnZXMiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHNlbmQgdm9pY2UgbWVzc2FnZXMgbGlrZSBvbiBtb2JpbGUuIFRvIGRvIHNvLCByaWdodCBjbGljayB0aGUgdXBsb2FkIGJ1dHRvbiBhbmQgY2xpY2sgU2VuZCBWb2ljZSBNZXNzYWdlIixhdXRob3JzOltkLlZlbixkLlZhcCxkLk5pY2t5dXhdLHNldHRpbmdzOk9yLHN0YXJ0KCl7cGUoImNoYW5uZWwtYXR0YWNoIixaVCl9LHN0b3AoKXtmZSgiY2hhbm5lbC1hdHRhY2giLFpUKX19KSxZVD17d2F2ZWZvcm06IkFBQUFBQUFBQUFBQSIsZHVyYXRpb246MX07WlQ9KGUsdCk9PigpPT57dC5jaGFubmVsLmd1aWxkX2lkJiYhKE9lLmNhbihLdC5TRU5EX1ZPSUNFX01FU1NBR0VTLHQuY2hhbm5lbCkmJk9lLmNhbihLdC5TRU5EX01FU1NBR0VTLHQuY2hhbm5lbCkpfHxlLnB1c2gobyhPLk1lbnVJdGVtLHtpZDoidmMtc2VuZC12bXNnIixsYWJlbDpvKG0sbnVsbCxvKGNlLHtmbGV4RGlyZWN0aW9uOiJyb3ciLHN0eWxlOnthbGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDo4fX0sbyhOeSx7aGVpZ2h0OjI0LHdpZHRoOjI0fSksIlNlbmQgdm9pY2UgbWVzc2FnZSIpKSxhY3Rpb246KCk9Pk1lKG49Pm8oc04se21vZGFsUHJvcHM6bn0pKX0pKX19KTthc3luYyBmdW5jdGlvbiBhTihlKXtsZXQgdD1hd2FpdCBmKGUpO2lmKHQuc3RhdHVzPT09MjAwKXJldHVybiBhd2FpdCB0LmJsb2IoKX12YXIgbE4saXIsUmYsSlQ9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO0hzKCk7QigpO00oKTtsTj1OZShlPT5lLmVtaXR0ZXI/Ll9ldmVudHM/LklOU0VSVF9URVhUKSxpcj1FKHthZGRCYWNrOnt0eXBlOjMsZGVzY3JpcHRpb246IkFkZCBiYWNrIHRoZSBEaXNjb3JkIGNvbnRleHQgbWVudXMgZm9yIGltYWdlcywgbGlua3MgYW5kIHRoZSBjaGF0IGlucHV0IGJhciIsZGVmYXVsdDohMSxyZXN0YXJ0TmVlZGVkOiEwfX0pLFJmPXYoe25hbWU6IldlYkNvbnRleHRNZW51cyIsZGVzY3JpcHRpb246IlJlLWFkZHMgY29udGV4dCBtZW51cyBtaXNzaW5nIGluIHRoZSB3ZWIgdmVyc2lvbiBvZiBEaXNjb3JkOiBMaW5rcyAmIEltYWdlcyAoQ29weS9PcGVuIExpbmsvSW1hZ2UpLCBUZXh0IEFyZWEgKENvcHksIEN1dCwgUGFzdGUsIFNwZWxsQ2hlY2spIixhdXRob3JzOltkLlZlbl0sZW5hYmxlZEJ5RGVmYXVsdDohMCxyZXF1aXJlZDohMSxzZXR0aW5nczppcixzdGFydCgpe2lmKGlyLnN0b3JlLmFkZEJhY2spe2xldCBlPUFuKCJjb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlIik7dW5zYWZlV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IixlLmNvbnRleHRNZW51Q2FsbGJhY2tXZWIpLHVuc2FmZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsZS5jb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlKSx0aGlzLmNoYW5nZWRMaXN0ZW5lcnM9ITB9fSxzdG9wKCl7aWYodGhpcy5jaGFuZ2VkTGlzdGVuZXJzKXtsZXQgZT1BbigiY29udGV4dE1lbnVDYWxsYmFja05hdGl2ZSIpO3Vuc2FmZVdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsZS5jb250ZXh0TWVudUNhbGxiYWNrTmF0aXZlKSx1bnNhZmVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLGUuY29udGV4dE1lbnVDYWxsYmFja1dlYil9fSxwYXRjaGVzOlt7ZmluZDoib3Blbi1uYXRpdmUtbGluayIscmVwbGFjZW1lbnQ6W3ttYXRjaDovaWZcKCFcaVwuXGlcfFx8bnVsbD09LyxyZXBsYWNlOiJpZihudWxsPT0ifSx7bWF0Y2g6L1x3XC5kZWZhdWx0XC5jb3B5LyxyZXBsYWNlOiJWZW5jb3JkLldlYnBhY2suQ29tbW9uLkNsaXBib2FyZC5jb3B5In1dfSx7ZmluZDonaWQ6ImNvcHktaW1hZ2UiJyxyZXBsYWNlbWVudDpbe21hdGNoOi9pZlwoIVxpXC5caVx8XHxudWxsPT0vLHJlcGxhY2U6ImlmKG51bGw9PSJ9LHttYXRjaDovcmV0dXJuXHMqP1xbXGlcLmRlZmF1bHRcLmNhbkNvcHlJbWFnZVwoXCkvLHJlcGxhY2U6InJldHVybiBbdHJ1ZSJ9LHttYXRjaDovKD88PUNPUFlfSU1BR0VfTUVOVV9JVEVNLClhY3Rpb246LyxyZXBsYWNlOiJhY3Rpb246KCk9PiRzZWxmLmNvcHlJbWFnZShhcmd1bWVudHNbMF0pLG9sZEFjdGlvbjoifSx7bWF0Y2g6Lyg/PD1TQVZFX0lNQUdFX01FTlVfSVRFTSwpYWN0aW9uOi8scmVwbGFjZToiYWN0aW9uOigpPT4kc2VsZi5zYXZlSW1hZ2UoYXJndW1lbnRzWzBdKSxvbGRBY3Rpb246In1dfSx7ZmluZDonbmF2SWQ6ImltYWdlLWNvbnRleHQiJyxwcmVkaWNhdGU6KCk9PmlyLnN0b3JlLmFkZEJhY2sscmVwbGFjZW1lbnQ6e21hdGNoOi9yZXR1cm4gXGlcLlxpXD8vLHJlcGxhY2U6InJldHVybiB0cnVlPyJ9fSx7ZmluZDonImludGVyYWN0aW9uVXNlcm5hbWVQcm9maWxlIicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovaWZcKCJBIj09PVxpXC50YWdOYW1lJiYiIiE9PVxpXC50ZXh0Q29udGVudFwpLyxyZXBsYWNlOiJpZihmYWxzZSkifX0se2ZpbmQ6JyJzbGF0ZS10b29sYmFyIicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovKD88PVwuaGFuZGxlQ29udGV4dE1lbnU9Lis/ImJvdHRvbSI7KVxpXC5caVw/LyxyZXBsYWNlOiJ0cnVlPyJ9fSx7ZmluZDonbmF2SWQ6InRleHRhcmVhLWNvbnRleHQiJyxhbGw6ITAscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50Olt7bWF0Y2g6L2lmXCghXGlcLlxpXClyZXR1cm4gbnVsbDsvLHJlcGxhY2U6IiJ9LHttYXRjaDovXGJcaVwuZGVmYXVsdFwuKGNvcHl8Y3V0fHBhc3RlKS9nLHJlcGxhY2U6IiRzZWxmLiQxIn1dfSx7ZmluZDonImFkZC10by1kaWN0aW9uYXJ5IicscHJlZGljYXRlOigpPT5pci5zdG9yZS5hZGRCYWNrLHJlcGxhY2VtZW50OnttYXRjaDovdmFyIFxpPVxpXC50ZXh0LC8scmVwbGFjZToicmV0dXJuIFtudWxsLG51bGxdOyQmIn19XSxhc3luYyBjb3B5SW1hZ2UoZSl7bGV0IHQ9bmV3IEltYWdlO3Qub25sb2FkPSgpPT57bGV0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7bi53aWR0aD10Lm5hdHVyYWxXaWR0aCxuLmhlaWdodD10Lm5hdHVyYWxIZWlnaHQsbi5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZSh0LDAsMCksbi50b0Jsb2Iocj0+e25hdmlnYXRvci5jbGlwYm9hcmQud3JpdGUoW25ldyBDbGlwYm9hcmRJdGVtKHsiaW1hZ2UvcG5nIjpyfSldKX0sImltYWdlL3BuZyIpfSx0LmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLHQuc3JjPWV9LGFzeW5jIHNhdmVJbWFnZShlKXtsZXQgdD1hd2FpdCBhTihlKTtpZighdClyZXR1cm47bGV0IG49bmV3IFVSTChlKS5wYXRobmFtZS5zcGxpdCgiLyIpLnBvcCgpLHI9bmV3IEZpbGUoW3RdLG4se3R5cGU6dC50eXBlfSk7VXMocil9LGNvcHkoKXtsZXQgZT1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTshZXx8UXQuY29weShlLnRvU3RyaW5nKCkpfSxjdXQoKXt0aGlzLmNvcHkoKSxsTi5kaXNwYXRjaCgiSU5TRVJUX1RFWFQiLHtyYXdUZXh0OiIifSl9LGFzeW5jIHBhc3RlKCl7bGV0IGU9YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLHQ9bmV3IERhdGFUcmFuc2Zlcjt0LnNldERhdGEoInRleHQvcGxhaW4iLGUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IENsaXBib2FyZEV2ZW50KCJwYXN0ZSIse2NsaXBib2FyZERhdGE6dH0pKX19KX0pO2Z1bmN0aW9uIFFUKGUsdCxuKXtsZXQgcj1rZi5nZXRTZW5kTWVzc2FnZU9wdGlvbnNGb3JSZXBseSh7Y2hhbm5lbDplLG1lc3NhZ2U6dCxzaG91bGRNZW50aW9uOiEwLHNob3dNZW50aW9uVG9nZ2xlOiEwfSk7aWYoZGwuc3RvcmUuZ3JlZXRNb2RlPT09Ik1lc3NhZ2UifHxuLmxlbmd0aD4xKXtyLnN0aWNrZXJJZHM9bjtsZXQgaT17Y29udGVudDoiIix0dHM6ITEsaW52YWxpZEVtb2ppczpbXSx2YWxpZE5vblNob3J0Y3V0RW1vamlzOltdfTtrZi5fc2VuZE1lc3NhZ2UoZS5pZCxpLHIpfWVsc2Uga2Yuc2VuZEdyZWV0TWVzc2FnZShlLmlkLG5bMF0scil9ZnVuY3Rpb24gY04oe3N0aWNrZXJzOmUsY2hhbm5lbDp0LG1lc3NhZ2U6bn0pe2xldCByPWRsLnVzZShbImdyZWV0TW9kZSIsIm11bHRpR3JlZXRDaG9pY2VzIl0pLHtncmVldE1vZGU6aSxtdWx0aUdyZWV0Q2hvaWNlczpzPVtdfT1yO3JldHVybiBvKE8uTWVudSx7bmF2SWQ6ImdyZWV0LXN0aWNrZXItcGlja2VyIixvbkNsb3NlOigpPT5fLmRpc3BhdGNoKHt0eXBlOiJDT05URVhUX01FTlVfQ0xPU0UifSksImFyaWEtbGFiZWwiOiJHcmVldCBTdGlja2VyIFBpY2tlciJ9LG8oTy5NZW51R3JvdXAse2xhYmVsOiJHcmVldCBNb2RlIn0sT2JqZWN0LnZhbHVlcyhWVCkubWFwKGM9Pm8oTy5NZW51UmFkaW9JdGVtLHtrZXk6Yyxncm91cDoiZ3JlZXQtbW9kZSIsaWQ6ImdyZWV0LW1vZGUtIitjLGxhYmVsOmMsY2hlY2tlZDpjPT09aSxhY3Rpb246KCk9PnIuZ3JlZXRNb2RlPWN9KSkpLG8oTy5NZW51U2VwYXJhdG9yLG51bGwpLG8oTy5NZW51R3JvdXAse2xhYmVsOiJHcmVldCBTdGlja2VycyJ9LGUubWFwKGM9Pm8oTy5NZW51SXRlbSx7a2V5OmMuaWQsaWQ6ImdyZWV0LSIrYy5pZCxsYWJlbDpjLmRlc2NyaXB0aW9uLnNwbGl0KCIgIilbMF0sYWN0aW9uOigpPT5RVCh0LG4sW2MuaWRdKX0pKSksZGwuc3RvcmUudW5ob2x5TXVsdGlHcmVldEVuYWJsZWQ/byhtLG51bGwsbyhPLk1lbnVTZXBhcmF0b3IsbnVsbCksbyhPLk1lbnVJdGVtLHtsYWJlbDoiVW5ob2x5IE11bHRpLUdyZWV0IixpZDoidW5ob2x5LW11bHRpLWdyZWV0In0sZS5tYXAoYz0+e2xldCB1PXMuc29tZShwPT5wPT09Yy5pZCk7cmV0dXJuIG8oTy5NZW51Q2hlY2tib3hJdGVtLHtrZXk6Yy5pZCxpZDoibXVsdGktZ3JlZXQtIitjLmlkLGxhYmVsOmMuZGVzY3JpcHRpb24uc3BsaXQoIiAiKVswXSxjaGVja2VkOnUsZGlzYWJsZWQ6IXUmJnMubGVuZ3RoPj0zLGFjdGlvbjooKT0+e3IubXVsdGlHcmVldENob2ljZXM9dT9zLmZpbHRlcihwPT5wIT09Yy5pZCk6Wy4uLnMsYy5pZF19fSl9KSxvKE8uTWVudVNlcGFyYXRvcixudWxsKSxvKE8uTWVudUl0ZW0se2lkOiJtdWx0aS1ncmVldC1zdWJtaXQiLGxhYmVsOiJTZW5kIEdyZWV0cyIsYWN0aW9uOigpPT5RVCh0LG4scyksZGlzYWJsZWQ6cy5sZW5ndGg9PT0wfSkpKTpudWxsKX12YXIgVlQsZGwsa2YsQWYsZXg9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO0YoKTtQKCk7eCgpO0IoKTtNKCk7VlQ9KG49PihuLkdyZWV0PSJHcmVldCIsbi5Ob3JtYWxNZXNzYWdlPSJNZXNzYWdlIixuKSkoVlR8fHt9KSxkbD1FKHtncmVldE1vZGU6e3R5cGU6NCxvcHRpb25zOlt7bGFiZWw6IkdyZWV0ICh5b3UgY2FuIG9ubHkgZ3JlZXQgMyB0aW1lcykiLHZhbHVlOiJHcmVldCIsZGVmYXVsdDohMH0se2xhYmVsOiJOb3JtYWwgTWVzc2FnZSAoeW91IGNhbiBncmVldCBzcGFtKSIsdmFsdWU6Ik1lc3NhZ2UifV0sZGVzY3JpcHRpb246IkNob29zZSB0aGUgZ3JlZXQgbW9kZSJ9fSkud2l0aFByaXZhdGVTZXR0aW5ncygpLGtmPUkoInNlbmRHcmVldE1lc3NhZ2UiKTtBZj12KHtuYW1lOiJHcmVldFN0aWNrZXJQaWNrZXIiLGRlc2NyaXB0aW9uOiJBbGxvd3MgeW91IHRvIHVzZSBhbnkgZ3JlZXQgc3RpY2tlciBpbnN0ZWFkIG9mIG9ubHkgdGhlIHJhbmRvbSBvbmUgYnkgcmlnaHQtY2xpY2tpbmcgdGhlICdXYXZlIHRvIHNheSBoaSEnIGJ1dHRvbiIsYXV0aG9yczpbZC5WZW5dLHNldHRpbmdzOmRsLHBhdGNoZXM6W3tmaW5kOiJNZXNzYWdlcy5XRUxDT01FX0NUQV9MQUJFTCIscmVwbGFjZW1lbnQ6e21hdGNoOi9pbm5lckNsYXNzTmFtZTpcaVwoXCkud2VsY29tZUNUQUJ1dHRvbiwoPzw9JVxpXC5sZW5ndGg7cmV0dXJuIChcaSlcW1xpXF0uKz8pLyxyZXBsYWNlOiIkJm9uQ29udGV4dE1lbnU6KGUpPT4kc2VsZi5waWNrU3RpY2tlcihlLCQxLGFyZ3VtZW50c1swXSksIn19XSxwaWNrU3RpY2tlcihlLHQsbil7bi5tZXNzYWdlLmRlbGV0ZWR8fGRuLm9wZW4oZSwoKT0+byhjTix7c3RpY2tlcnM6dCwuLi5ufSkpfX0pfSk7ZnVuY3Rpb24gZk4oZSx0LG4pe2xldCByPXQubmFtZSsodC5pZD9gOiR7dC5pZH1gOiIiKTtyZXR1cm4geXQuZ2V0KHt1cmw6YC9jaGFubmVscy8ke2UuY2hhbm5lbF9pZH0vbWVzc2FnZXMvJHtlLmlkfS9yZWFjdGlvbnMvJHtyfWAscXVlcnk6e2xpbWl0OjEwMCx0eXBlOm59LG9sZEZvcm1FcnJvcnM6ITB9KS50aGVuKGk9Pl8uZGlzcGF0Y2goe3R5cGU6Ik1FU1NBR0VfUkVBQ1RJT05fQUREX1VTRVJTIixjaGFubmVsSWQ6ZS5jaGFubmVsX2lkLG1lc3NhZ2VJZDplLmlkLHVzZXJzOmkuYm9keSxlbW9qaTp0LHJlYWN0aW9uVHlwZTpufSkpLmNhdGNoKGNvbnNvbGUuZXJyb3IpLmZpbmFsbHkoKCk9PmFvKDI1MCkpfWZ1bmN0aW9uIGdOKGUsdCxuKXtsZXQgcj1gJHtlLmlkfToke3QubmFtZX06JHt0LmlkPz8iIn06JHtufWAsaT1kTi5fX2dldExvY2FsVmFycygpLnJlYWN0aW9uc1tyXT8/PXtmZXRjaGVkOiExLHVzZXJzOnt9fTtyZXR1cm4gaS5mZXRjaGVkfHwobU4udW5zaGlmdCgoKT0+Zk4oZSx0LG4pKSxpLmZldGNoZWQ9ITApLGkudXNlcnN9ZnVuY3Rpb24gaE4oZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIG8oWix7dGV4dDplLnNsaWNlKDUpLm1hcChpPT5pLnVzZXJuYW1lKS5qb2luKCIsICIpfSwoe29uTW91c2VFbnRlcjppLG9uTW91c2VMZWF2ZTpzfSk9Pm8oImRpdiIse2NsYXNzTmFtZTpwTi5tb3JlVXNlcnMsb25Nb3VzZUVudGVyOmksb25Nb3VzZUxlYXZlOnN9LCIrIixlLmxlbmd0aC01KSl9fWZ1bmN0aW9uIHlOKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9dmFyIHVOLHBOLGROLG1OLExmLHR4PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtzZSgpO1AoKTt5ZSgpO3ByKCk7Z2UoKTt4KCk7QigpO00oKTt1Tj1yZSgoKT0+VWUoImRlZmF1bHRSZW5kZXJVc2VyIiwic2hvd0RlZmF1bHRBdmF0YXJzRm9yTnVsbFVzZXJzIikpLHBOPUkoIm1vcmVVc2VycyIsImVtcHR5VXNlciIsImF2YXRhckNvbnRhaW5lciIsImNsaWNrYWJsZUF2YXRhciIpLGROPUkoImdldFJlYWN0aW9ucyIpLG1OPW5ldyB5bjtMZj12KHtuYW1lOiJXaG9SZWFjdGVkIixkZXNjcmlwdGlvbjoiUmVuZGVycyB0aGUgQXZhdGFycyBvZiByZWFjdG9ycyIsYXV0aG9yczpbZC5WZW4sZC5LYW5uYURldl0scGF0Y2hlczpbe2ZpbmQ6IixyZWFjdGlvblJlZjoiLHJlcGxhY2VtZW50OnttYXRjaDovKD88PShcaSk9KFxpKVwuaGlkZUNvdW50LCkoLis/cmVhY3Rpb25Db3VudC4rP1x9XCkpLyxyZXBsYWNlOihlLHQsbixyKT0+YHdob1JlYWN0ZWRQcm9wcz0ke259LCR7cn0sJHt0fT9udWxsOiRzZWxmLnJlbmRlclVzZXJzKHdob1JlYWN0ZWRQcm9wcylgfX1dLHJlbmRlclVzZXJzKGUpe3JldHVybiBlLm1lc3NhZ2UucmVhY3Rpb25zLmxlbmd0aD4xMD9udWxsOm8oRCx7bm9vcDohMH0sbyh0aGlzLl9yZW5kZXJVc2Vycyx7Li4uZX0pKX0sX3JlbmRlclVzZXJzKHttZXNzYWdlOmUsZW1vamk6dCx0eXBlOm59KXtsZXQgcj1CdCgpO0EudXNlRWZmZWN0KCgpPT57bGV0IGM9dT0+e3UubWVzc2FnZUlkPT09ZS5pZCYmcigpfTtyZXR1cm4gXy5zdWJzY3JpYmUoIk1FU1NBR0VfUkVBQ1RJT05fQUREX1VTRVJTIixjKSwoKT0+Xy51bnN1YnNjcmliZSgiTUVTU0FHRV9SRUFDVElPTl9BRERfVVNFUlMiLGMpfSxbZS5pZF0pO2xldCBpPWdOKGUsdCxuKSxzPU9iamVjdC52YWx1ZXMoaSkuZmlsdGVyKEJvb2xlYW4pO2ZvcihsZXQgYyBvZiBzKV8uZGlzcGF0Y2goe3R5cGU6IlVTRVJfVVBEQVRFIix1c2VyOmN9KTtyZXR1cm4gbygiZGl2Iix7c3R5bGU6e21hcmdpbkxlZnQ6IjAuNWVtIix0cmFuc2Zvcm06InNjYWxlKDAuOSkifX0sbygiZGl2Iix7b25DbGljazp5Tn0sbyh1Tix7dXNlcnM6cyxndWlsZElkOlYuZ2V0Q2hhbm5lbChlLmNoYW5uZWxfaWQpPy5ndWlsZF9pZCxyZW5kZXJJY29uOiExLG1heDo1LHNob3dEZWZhdWx0QXZhdGFyc0Zvck51bGxVc2VyczohMCxzaG93VXNlclBvcG91dDohMCxyZW5kZXJNb3JlVXNlcnM6aE4ocyl9KSkpfX0pfSk7dmFyIEVmLG54PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtZdCgpO1AoKTt4KCk7RWY9dih7bmFtZToiV2lraXNlYXJjaCIsZGVzY3JpcHRpb246IlNlYXJjaGVzIFdpa2lwZWRpYSBmb3IgeW91ciByZXF1ZXN0ZWQgcXVlcnkuICgvd2lraXNlYXJjaCkiLGF1dGhvcnM6W2QuU2FtdV0sZGVwZW5kZW5jaWVzOlsiQ29tbWFuZHNBUEkiXSxjb21tYW5kczpbe25hbWU6Indpa2lzZWFyY2giLGRlc2NyaXB0aW9uOiJTZWFyY2hlcyBXaWtpcGVkaWEgZm9yIHlvdXIgcmVxdWVzdC4iLGlucHV0VHlwZTowLG9wdGlvbnM6W3tuYW1lOiJzZWFyY2giLGRlc2NyaXB0aW9uOiJXb3JkIHRvIHNlYXJjaCBmb3IiLHR5cGU6MyxyZXF1aXJlZDohMH1dLGV4ZWN1dGU6YXN5bmMoZSx0KT0+e2xldCBuPVllKGUsInNlYXJjaCIsIiIpO2lmKCFuKXJldHVybiBhZSh0LmNoYW5uZWwuaWQse2NvbnRlbnQ6Ik5vIHdvcmQgd2FzIGRlZmluZWQhIn0pO2xldCByPW5ldyBVUkxTZWFyY2hQYXJhbXMoe2FjdGlvbjoicXVlcnkiLGZvcm1hdDoianNvbiIsbGlzdDoic2VhcmNoIixmb3JtYXR2ZXJzaW9uOiIyIixvcmlnaW46IioiLHNyc2VhcmNoOm59KSxpPWF3YWl0IGYoImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93L2FwaS5waHA/IityKS50aGVuKHA9PnAuanNvbigpKS5jYXRjaChwPT4oY29uc29sZS5sb2cocCksYWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJUaGVyZSB3YXMgYW4gZXJyb3IuIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm8ifSksbnVsbCkpO2lmKCFpKXJldHVybjtpZighaS5xdWVyeT8uc2VhcmNoPy5sZW5ndGgpcmV0dXJuIGNvbnNvbGUubG9nKGkpLGFlKHQuY2hhbm5lbC5pZCx7Y29udGVudDoiTm8gcmVzdWx0cyBnaXZlbiJ9KTtsZXQgcz1hd2FpdCBmKGBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvdy9hcGkucGhwP2FjdGlvbj1xdWVyeSZmb3JtYXQ9anNvbiZwcm9wPWluZm8lN0NkZXNjcmlwdGlvbiU3Q2ltYWdlcyU3Q2ltYWdlaW5mbyU3Q3BhZ2VpbWFnZXMmbGlzdD0mbWV0YT0maW5kZXhwYWdlaWRzPTEmcGFnZWlkcz0ke2kucXVlcnkuc2VhcmNoWzBdLnBhZ2VpZH0mZm9ybWF0dmVyc2lvbj0yJm9yaWdpbj0qYCkudGhlbihwPT5wLmpzb24oKSkudGhlbihwPT5wLnF1ZXJ5LnBhZ2VzWzBdKS5jYXRjaChwPT4oY29uc29sZS5sb2cocCksYWUodC5jaGFubmVsLmlkLHtjb250ZW50OiJUaGVyZSB3YXMgYW4gZXJyb3IuIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm8ifSksbnVsbCkpO2lmKCFzKXJldHVybjtsZXQgYz1zLnRodW1ibmFpbCx1PWMmJnt1cmw6Yy5zb3VyY2UucmVwbGFjZSgvKDUwcHgtKS9pZywiMTAwMHB4LSIpLGhlaWdodDpjLmhlaWdodCoxMDAsd2lkdGg6Yy53aWR0aCoxMDB9O2FlKHQuY2hhbm5lbC5pZCx7ZW1iZWRzOlt7dHlwZToicmljaCIsdGl0bGU6aS5xdWVyeS5zZWFyY2hbMF0udGl0bGUsdXJsOmBodHRwczovL3dpa2lwZWRpYS5vcmcvdy9pbmRleC5waHA/Y3VyaWQ9JHtpLnF1ZXJ5LnNlYXJjaFswXS5wYWdlaWR9YCxjb2xvcjoiMHg4NjYzQkUiLGRlc2NyaXB0aW9uOmkucXVlcnkuc2VhcmNoWzBdLnNuaXBwZXQucmVwbGFjZSgvKCZuYnNwO3w8KFtePl0rKT4pL2lnLCIiKS5yZXBsYWNlKC8oJnF1b3Q7KS9pZywnIicpKyIuLi4iLGltYWdlOnUsZm9vdGVyOnt0ZXh0OiJQb3dlcmVkIGJ5IHRoZSBXaWtpbWVkaWEgQVBJIn19XX0pfX1dfSl9KTt2YXIgUGUsZ3I9ZygoKT0+e2EoKTtsKCk7eGcoKTt3ZygpO01nKCk7UGcoKTtJZygpO0NnKCk7TmcoKTtSZygpO2tnKCk7QWcoKTtMZygpO0VnKCk7aXUoKTtyeSgpO2l5KCk7c3koKTtjeSgpO3V5KCk7dnkoKTtTeSgpO2J5KCk7VHkoKTt4eSgpO095KCk7QnkoKTtGeSgpO0h5KCk7enkoKTtqeSgpO1d5KCk7WHkoKTtKeSgpO3IxKCk7aTEoKTtzMSgpO20xKCk7djEoKTtTMSgpO3gxKCk7dzEoKTtNMSgpO1AxKCk7UjEoKTtrMSgpO0UxKCk7RDEoKTtCMSgpO2ZwKCk7cGEoKTtaMSgpO0oxKCk7VjEoKTtudigpO2l2KCk7Y3YoKTt5digpO1N2KCk7YnYoKTtUdigpO3d2KCk7TXYoKTtQdigpO0l2KCk7Q3YoKTtOdigpO1J2KCk7a3YoKTtBdigpO0x2KCk7RXYoKTtEdigpO092KCk7X3YoKTtCdigpO0h2KCk7UmkoKTt0UygpO21TKCk7ZlMoKTt5UygpO2tTKCk7QVMoKTtIUygpO3pTKCk7alMoKTtvMCgpO3IwKCk7YTAoKTtUMCgpO3gwKCk7STAoKTtSMCgpO0QwKCk7aGIoKTt5YigpO3diKCk7QW0oKTtMYigpO0ViKCk7RGIoKTtPYigpO3piKCk7amIoKTtxYigpO1piKCk7SmIoKTtyVCgpO2lUKCk7bVQoKTtnVCgpO2xmKCk7aFQoKTt2VCgpO1NUKCk7TVQoKTtDVCgpO1JUKCk7a1QoKTtFVCgpO09UKCk7RlQoKTtHVCgpO1hUKCk7SlQoKTtleCgpO3R4KCk7bngoKTtQZT17W1FsLm5hbWVdOlFsLFtWbC5uYW1lXTpWbCxbZWMubmFtZV06ZWMsW3RjLm5hbWVdOnRjLFtuYy5uYW1lXTpuYyxbb2MubmFtZV06b2MsW3JjLm5hbWVdOnJjLFtpYy5uYW1lXTppYyxbc2MubmFtZV06c2MsW2FjLm5hbWVdOmFjLFtsYy5uYW1lXTpsYyxbY2MubmFtZV06Y2MsW3lpLm5hbWVdOnlpLFtzdS5uYW1lXTpzdSxbYXUubmFtZV06YXUsW2x1Lm5hbWVdOmx1LFtjdS5uYW1lXTpjdSxbdXUubmFtZV06dXUsW211Lm5hbWVdOm11LFtmdS5uYW1lXTpmdSxbZ3UubmFtZV06Z3UsW2h1Lm5hbWVdOmh1LFt5dS5uYW1lXTp5dSxbdnUubmFtZV06dnUsW1N1Lm5hbWVdOlN1LFtidS5uYW1lXTpidSxbTnUubmFtZV06TnUsW1J1Lm5hbWVdOlJ1LFtrdS5uYW1lXTprdSxbRHUubmFtZV06RHUsW091Lm5hbWVdOk91LFtfdS5uYW1lXTpfdSxbRnUubmFtZV06RnUsW0d1Lm5hbWVdOkd1LFtIdS5uYW1lXTpIdSxbcXUubmFtZV06cXUsW0t1Lm5hbWVdOkt1LFtZdS5uYW1lXTpZdSxbWnUubmFtZV06WnUsW1h1Lm5hbWVdOlh1LFtKdS5uYW1lXTpKdSxbVnUubmFtZV06VnUsW3JwLm5hbWVdOnJwLFtpcC5uYW1lXTppcCxbYXAubmFtZV06YXAsW2xwLm5hbWVdOmxwLFt1cC5uYW1lXTp1cCxbaHAubmFtZV06aHAsW1NwLm5hbWVdOlNwLFticC5uYW1lXTpicCxbd3AubmFtZV06d3AsW01wLm5hbWVdOk1wLFtQcC5uYW1lXTpQcCxbQ3AubmFtZV06Q3AsW0FwLm5hbWVdOkFwLFtEcC5uYW1lXTpEcCxbT3AubmFtZV06T3AsW19wLm5hbWVdOl9wLFtCcC5uYW1lXTpCcCxbJHAubmFtZV06JHAsW0hwLm5hbWVdOkhwLFt6cC5uYW1lXTp6cCxbanAubmFtZV06anAsW1dwLm5hbWVdOldwLFtxcC5uYW1lXTpxcCxbS3AubmFtZV06S3AsW1lwLm5hbWVdOllwLFtacC5uYW1lXTpacCxbWHAubmFtZV06WHAsW0pwLm5hbWVdOkpwLFtRcC5uYW1lXTpRcCxbVnAubmFtZV06VnAsW2VkLm5hbWVdOmVkLFt0ZC5uYW1lXTp0ZCxbbmQubmFtZV06bmQsW2NkLm5hbWVdOmNkLFt1ZC5uYW1lXTp1ZCxbZ2QubmFtZV06Z2QsW2hkLm5hbWVdOmhkLFtDZC5uYW1lXTpDZCxbTGQubmFtZV06TGQsW0VkLm5hbWVdOkVkLFtEZC5uYW1lXTpEZCxbX2QubmFtZV06X2QsWyRkLm5hbWVdOiRkLFtZZC5uYW1lXTpZZCxbWmQubmFtZV06WmQsW1hkLm5hbWVdOlhkLFtvbS5uYW1lXTpvbSxbcm0ubmFtZV06cm0sW2ltLm5hbWVdOmltLFtzbS5uYW1lXTpzbSxbY20ubmFtZV06Y20sW0NtLm5hbWVdOkNtLFtObS5uYW1lXTpObSxbUm0ubmFtZV06Um0sW0VtLm5hbWVdOkVtLFtEbS5uYW1lXTpEbSxbQm0ubmFtZV06Qm0sW0ZtLm5hbWVdOkZtLFskbS5uYW1lXTokbSxbem0ubmFtZV06em0sW1dtLm5hbWVdOldtLFtZbS5uYW1lXTpZbSxbWm0ubmFtZV06Wm0sW1htLm5hbWVdOlhtLFtRbS5uYW1lXTpRbSxbVm0ubmFtZV06Vm0sW3JmLm5hbWVdOnJmLFt1Zi5uYW1lXTp1ZixbYWYubmFtZV06YWYsW3BmLm5hbWVdOnBmLFttZi5uYW1lXTptZixbZmYubmFtZV06ZmYsW2hmLm5hbWVdOmhmLFt5Zi5uYW1lXTp5ZixbdmYubmFtZV06dmYsW2JmLm5hbWVdOmJmLFt4Zi5uYW1lXTp4Zixbd2YubmFtZV06d2YsW1BmLm5hbWVdOlBmLFtJZi5uYW1lXTpJZixbTmYubmFtZV06TmYsW1JmLm5hbWVdOlJmLFtBZi5uYW1lXTpBZixbTGYubmFtZV06TGYsW0VmLm5hbWVdOkVmfX0pO3ZhciBPZj17fTt2ZShPZix7QmFkZ2VQb3NpdGlvbjooKT0+UnMsX2dldEJhZGdlczooKT0+dk4sYWRkQmFkZ2U6KCk9Pk5kLHJlbW92ZUJhZGdlOigpPT5SZH0pO2Z1bmN0aW9uIE5kKGUpe2UuY29tcG9uZW50JiY9RC53cmFwKGUuY29tcG9uZW50LHtub29wOiEwfSksRGYuYWRkKGUpfWZ1bmN0aW9uIFJkKGUpe3JldHVybiBEZi5kZWxldGUoZSl9ZnVuY3Rpb24gdk4oZSl7bGV0IHQ9W107Zm9yKGxldCByIG9mIERmKSghci5zaG91bGRTaG93fHxyLnNob3VsZFNob3coZSkpJiYoci5wb3NpdGlvbj09PTA/dC51bnNoaWZ0KHsuLi5yLC4uLmV9KTp0LnB1c2goey4uLnIsLi4uZX0pKTtsZXQgbj1QZS5CYWRnZUFQSS5nZXREb25vckJhZGdlcyhlLnVzZXIuaWQpO3JldHVybiBuJiZ0LnVuc2hpZnQoLi4ubiksdH12YXIgUnMsRGYsa3M9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO3NlKCk7Z3IoKTtScz0obj0+KG5bbi5TVEFSVD0wXT0iU1RBUlQiLG5bbi5FTkQ9MV09IkVORCIsbikpKFJzfHx7fSksRGY9bmV3IFNldH0pO3ZhciBfZj17fTt2ZShfZix7QmFkZ2VzOigpPT53TixDb21tYW5kczooKT0+Yk4sQ29udGV4dE1lbnU6KCk9PkFOLERhdGFTdG9yZTooKT0+RXQsTWVtYmVyTGlzdERlY29yYXRvcnM6KCk9PklOLE1lc3NhZ2VBY2Nlc3NvcmllczooKT0+VE4sTWVzc2FnZURlY29yYXRpb25zOigpPT5QTixNZXNzYWdlRXZlbnRzOigpPT5TTixNZXNzYWdlUG9wb3ZlcjooKT0+eE4sTm90aWNlczooKT0+JGEsTm90aWZpY2F0aW9uczooKT0+a04sU2VydmVyTGlzdDooKT0+TU4sU2V0dGluZ3M6KCk9PkNOLFNldHRpbmdzU3RvcmU6KCk9Pk5OLFN0eWxlczooKT0+Uk59KTt2YXIgU04sJGEsYk4sRXQsVE4seE4sd04sTU4sUE4sSU4sQ04sTk4sUk4sa04sQU4sT2k9ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO2tzKCk7WXQoKTtTdCgpO2tuKCk7YmQoKTtmYSgpO01kKCk7JG4oKTtRbygpO1pzKCk7Zm8oKTtCYSgpO0YoKTtucCgpO0hlKCk7U049Q3UsJGE9RmMsYk49cWMsRXQ9Um4sVE49UnAseE49c3Asd049T2YsTU49RmQsUE49d2QsSU49U2QsQ049TGMsTk49dHAsUk49Z2Msa049eWMsQU49cGN9KTt2YXIgRmY9e307dmUoRmYse3RvZ2dsZTooKT0+QmZ9KTthc3luYyBmdW5jdGlvbiBCZihlKXtEbz9Eby5kaXNhYmxlZD0hZTplJiYoRG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxEby5pZD0idmVuY29yZC1jdXN0b20tY3NzIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoRG8pLFZlbmNvcmROYXRpdmUucXVpY2tDc3MuYWRkQ2hhbmdlTGlzdGVuZXIodD0+e0RvLnRleHRDb250ZW50PXQsRG8uZGlzYWJsZWQ9IU4udXNlUXVpY2tDc3N9KSxEby50ZXh0Q29udGVudD1hd2FpdCBWZW5jb3JkTmF0aXZlLnF1aWNrQ3NzLmdldCgpKX1hc3luYyBmdW5jdGlvbiBveCgpe1FpfHwoUWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxRaS5pZD0idmVuY29yZC10aGVtZXMiLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChRaSkpO2xldHt0aGVtZUxpbmtzOmV9PU4sdD1lLm1hcChuPT5gQGltcG9ydCB1cmwoIiR7bi50cmltKCl9Iik7YCkuam9pbihgCmApO1FpLnRleHRDb250ZW50PXR9dmFyIERvLFFpLCRmPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtGKCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsKCk9PntCZihOLnVzZVF1aWNrQ3NzKSxXcygidXNlUXVpY2tDc3MiLEJmKSxveCgpLFdzKCJ0aGVtZUxpbmtzIixveCl9KX0pO3ZhciBVZj17fTt2ZShVZix7Q29tbW9uOigpPT5fbCxfaW5pdFdlYnBhY2s6KCk9PmxzLF9yZXNvbHZlUmVhZHk6KCk9PmFzLGFkZExpc3RlbmVyOigpPT5JeCxjYWNoZTooKT0+am4sZXh0cmFjdDooKT0+SWwsZmlsdGVyczooKT0+SixmaW5kOigpPT5xdCxmaW5kQWxsOigpPT5scixmaW5kQnVsazooKT0+VXIsZmluZEJ5Q29kZTooKT0+VWUsZmluZEJ5Q29kZUxhenk6KCk9PmRlLGZpbmRCeVByb3BzOigpPT5BbixmaW5kQnlQcm9wc0xhenk6KCk9PkksZmluZExhenk6KCk9Pk5lLGZpbmRNb2R1bGVJZDooKT0+Y3MsZmluZFN0b3JlOigpPT5QeCxmaW5kU3RvcmVMYXp5OigpPT5sZSxsaXN0ZW5lcnM6KCk9Pk1sLG1hcE1hbmdsZWRNb2R1bGU6KCk9PkpmLG1hcE1hbmdsZWRNb2R1bGVMYXp5OigpPT5KZSxvbmNlUmVhZHk6KCk9PndsLHJlbW92ZUxpc3RlbmVyOigpPT5DeCxzZWFyY2g6KCk9PlBsLHN1YnNjcmlwdGlvbnM6KCk9PlhmLHdhaXRGb3I6KCk9PlFlLHdyZXE6KCk9Pld0fSk7dmFyIG1sPWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtNKCk7QigpfSk7ZnVuY3Rpb24gaXgoKXtmdW5jdGlvbiBlKHQpe3RyeXtsZXQgbj10WzFdLHtzdWJzY3JpcHRpb25zOnIsbGlzdGVuZXJzOml9PVZlbmNvcmQuV2VicGFjayx7cGF0Y2hlczpzfT1WZW5jb3JkLlBsdWdpbnM7Zm9yKGxldCBjIGluIG4pe2xldCB1PW5bY10scD11LnRvU3RyaW5nKCkucmVwbGFjZUFsbChgCmAsIiIpO3Auc3RhcnRzV2l0aCgiZnVuY3Rpb24oIikmJihwPSIwLCIrcCk7bGV0IHk9dSxoPW5ldyBTZXQsUz1uW2NdPWZ1bmN0aW9uKFQsdyxMKXt0cnl7dShULHcsTCl9Y2F0Y2goayl7aWYodT09PXkpdGhyb3cgaztyZXR1cm4gT28uZXJyb3IoIkVycm9yIGluIHBhdGNoZWQgY2h1bmsiLGspLHZvaWQgeShULHcsTCl9aWYoVC5leHBvcnRzPT09dW5zYWZlV2luZG93KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoTC5jLGMse3ZhbHVlOkwuY1tjXSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO3JldHVybn1sZXQgQz1OdW1iZXIoYyk7Zm9yKGxldCBrIG9mIGkpdHJ5e2sodyxDKX1jYXRjaChVKXtPby5lcnJvcigiRXJyb3IgaW4gd2VicGFjayBsaXN0ZW5lciIsVSl9Zm9yKGxldFtrLFVdb2Ygcil0cnl7aWYoayh3KSlyLmRlbGV0ZShrKSxVKHcsQyk7ZWxzZSBpZih0eXBlb2Ygdz09Im9iamVjdCIpe3cuZGVmYXVsdCYmayh3LmRlZmF1bHQpJiYoci5kZWxldGUoayksVSh3LmRlZmF1bHQsQykpO2ZvcihsZXQgJCBpbiB3KSQubGVuZ3RoPD0zJiZ3WyRdJiZrKHdbJF0pJiYoci5kZWxldGUoayksVSh3WyRdLEMpKX19Y2F0Y2goJCl7T28uZXJyb3IoIkVycm9yIHdoaWxlIGZpcmluZyBjYWxsYmFjayBmb3Igd2VicGFjayBjaHVuayIsJCl9fTt0cnl7Uy50b1N0cmluZz0oKT0+dS50b1N0cmluZygpLFMub3JpZ2luYWw9eX1jYXRjaHt9Zm9yKGxldCBUPTA7VDxzLmxlbmd0aDtUKyspe2xldCB3PXNbVF0sTD11bihgcGF0Y2ggYnkgJHt3LnBsdWdpbn1gLChDLGspPT5wLnJlcGxhY2UoQyxrKSk7aWYoISh3LnByZWRpY2F0ZSYmIXcucHJlZGljYXRlKCkpJiZwLmluY2x1ZGVzKHcuZmluZCkpe2guYWRkKHcucGx1Z2luKTtmb3IobGV0IEMgb2Ygdy5yZXBsYWNlbWVudCl7aWYoQy5wcmVkaWNhdGUmJiFDLnByZWRpY2F0ZSgpKWNvbnRpbnVlO2xldCBrPXUsVT1wO1hyKEMsdy5wbHVnaW4pO3RyeXtsZXQgJD1MKEMubWF0Y2gsQy5yZXBsYWNlKTskPT09cCYmIXcubm9XYXJuP09vLndhcm4oYFBhdGNoIGJ5ICR7dy5wbHVnaW59IGhhZCBubyBlZmZlY3QgKE1vZHVsZSBpZCBpcyAke2N9KTogJHtDLm1hdGNofWApOihwPSQsdT0oMCxldmFsKShgLy8gV2VicGFjayBNb2R1bGUgJHtjfSAtIFBhdGNoZWQgYnkgJHtbLi4uaF0uam9pbigiLCAiKX0KJHskfQovLyMgc291cmNlVVJMPVdlYnBhY2tNb2R1bGUke2N9YCkpfWNhdGNoKCQpe09vLmVycm9yKGBQYXRjaCBieSAke3cucGx1Z2lufSBlcnJvcmVkIChNb2R1bGUgaWQgaXMgJHtjfSk6ICR7Qy5tYXRjaH0KYCwkKSxwPVUsdT1rLGguZGVsZXRlKHcucGx1Z2luKX19dy5hbGx8fHMuc3BsaWNlKFQtLSwxKX19fX1jYXRjaChuKXtPby5lcnJvcigiRXJyb3IgaW4gaGFuZGxlUHVzaCIsbil9cmV0dXJuIGUub3JpZ2luYWwuY2FsbCh1bnNhZmVXaW5kb3dbSnRdLHQpfWUub3JpZ2luYWw9dW5zYWZlV2luZG93W0p0XS5wdXNoLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bnNhZmVXaW5kb3dbSnRdLCJwdXNoIix7Z2V0OigpPT5lLHNldDp0PT5lLm9yaWdpbmFsPXQsY29uZmlndXJhYmxlOiEwfSl9dmFyIHJ4LE9vLHN4PWcoKCk9PnsidXNlIHN0cmljdCI7YSgpO2woKTtQKCk7d2UoKTtKcigpO3NzKCk7bWwoKTtPbz1uZXcgUSgiV2VicGFja0ludGVyY2VwdG9yIiwiIzhjYWFlZSIpO3Vuc2FmZVdpbmRvd1tKdF0/KE9vLmluZm8oYFBhdGNoaW5nICR7SnR9LnB1c2ggKHdhcyBhbHJlYWR5IGV4aXN0YW50LCBsaWtlbHkgZnJvbSBjYWNoZSEpYCksbHModW5zYWZlV2luZG93W0p0XSksaXgoKSk6T2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdyxKdCx7Z2V0OigpPT5yeCxzZXQ6ZT0+e2U/LnB1c2ghPT1BcnJheS5wcm90b3R5cGUucHVzaCYmKE9vLmluZm8oYFBhdGNoaW5nICR7SnR9LnB1c2hgKSxscyhlKSxpeCgpLGRlbGV0ZSB1bnNhZmVXaW5kb3dbSnRdLHVuc2FmZVdpbmRvd1tKdF09ZSkscng9ZX0sY29uZmlndXJhYmxlOiEwfSl9KTthc3luYyBmdW5jdGlvbiBMTigpe04uY2xvdWQuc2V0dGluZ3NTeW5jJiZOLmNsb3VkLmF1dGhlbnRpY2F0ZWQmJih6by5WZW5jb3JkX3NldHRpbmdzRGlydHk/KGF3YWl0IGZyKCksZGVsZXRlIHpvLlZlbmNvcmRfc2V0dGluZ3NEaXJ0eSk6YXdhaXQgenMoITEpJiZTZSh7dGl0bGU6IkNsb3VkIFNldHRpbmdzIixib2R5OiJZb3VyIHNldHRpbmdzIGhhdmUgYmVlbiB1cGRhdGVkISBDbGljayBoZXJlIHRvIHJlc3RhcnQgdG8gZnVsbHkgYXBwbHkgY2hhbmdlcyEiLGNvbG9yOiJ2YXIoLS1ncmVlbi0zNjApIixvbkNsaWNrOnFzfSkpfWFzeW5jIGZ1bmN0aW9uIEVOKCl7aWYoYXdhaXQgd2wsZXUoKSxMTigpLCExKXRyeXt9Y2F0Y2goZSl7fX12YXIgVW09ZygoKT0+eyJ1c2Ugc3RyaWN0IjthKCk7bCgpO09pKCk7ZWEoKTtLbCgpOyRmKCk7aHIoKTttbCgpOyRmKCk7c3goKTtmbygpO0YoKTtlYSgpO0lzKCk7dWkoKTtjaSgpO2hyKCk7bWwoKTtNKCk7RU4oKX0pO3ZhciBETj17fTt2ZShETix7QXBpOigpPT5fZixQbGFpblNldHRpbmdzOigpPT5PbixQbHVnaW5zOigpPT5udSxRdWlja0NzczooKT0+RmYsU2V0dGluZ3M6KCk9Pk4sVXBkYXRlcjooKT0+RGMsVXRpbDooKT0+cWwsV2VicGFjazooKT0+VWZ9KTthKCk7bCgpO2EoKTtsKCk7YSgpO2woKTt2YXIgcWY9YDwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCIgLz4KICAgICAgICA8dGl0bGU+VmVuY29yZCBRdWlja0NTUyBFZGl0b3I8L3RpdGxlPgogICAgICAgIDxsaW5rCiAgICAgICAgICAgIHJlbD0ic3R5bGVzaGVldCIKICAgICAgICAgICAgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbW9uYWNvLWVkaXRvci8wLjQwLjAvbWluL3ZzL2VkaXRvci9lZGl0b3IubWFpbi5taW4uY3NzIgogICAgICAgICAgICBpbnRlZ3JpdHk9InNoYTUxMi1NT29RMDJoODBoa2xjY2ZMclhGWWtDekcrV1ZqT1JmbE9wOVpwOGRsdGlhUlArMzVMWW5PNExLT2tsUjY0b01HZkdnSkRMTzhXSnBrTTFvNWdaWFlaUT09IgogICAgICAgICAgICBjcm9zc29yaWdpbj0iYW5vbnltb3VzIgogICAgICAgICAgICByZWZlcnJlcnBvbGljeT0ibm8tcmVmZXJyZXIiCiAgICAgICAgLz4KICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgIGh0bWwsCiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgICNjb250YWluZXIgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIH0KICAgICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgoKICAgIDxib2R5PgogICAgICAgIDxkaXYgaWQ9ImNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgPHNjcmlwdAogICAgICAgICAgICBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbmFjby1lZGl0b3IvMC40MC4wL21pbi92cy9sb2FkZXIubWluLmpzIgogICAgICAgICAgICBpbnRlZ3JpdHk9InNoYTUxMi1Rek1wWGVDUGNpQUhQNHdiWWxWMlBZZ3JRY2FFa0RRVWp6a1BVNHhuanlWU0Q5VDM2L3VkYW14dE5CcWI0cUs0L2JNUU1QWjhheXJCZTlockdkQkZqUT09IgogICAgICAgICAgICBjcm9zc29yaWdpbj0iYW5vbnltb3VzIgogICAgICAgICAgICByZWZlcnJlcnBvbGljeT0ibm8tcmVmZXJyZXIiCiAgICAgICAgPjxcL3NjcmlwdD4KCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgcmVxdWlyZS5jb25maWcoewogICAgICAgICAgICAgICAgcGF0aHM6IHsKICAgICAgICAgICAgICAgICAgICB2czogImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbmFjby1lZGl0b3IvMC40MC4wL21pbi92cyIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJlcXVpcmUoWyJ2cy9lZGl0b3IvZWRpdG9yLm1haW4iXSwgKCkgPT4gewogICAgICAgICAgICAgICAgZ2V0Q3VycmVudENzcygpLnRoZW4oKGNzcykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRhaW5lciIpLAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3NzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICJjc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU6IGdldFRoZW1lKCksCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGVkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudCgoKSA9PgogICAgICAgICAgICAgICAgICAgICAgICBzZXRDc3MoZWRpdG9yLmdldFZhbHVlKCkpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIG1vbmFjbyByZS1sYXlvdXQKICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmxheW91dCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIDxcL3NjcmlwdD4KICAgIDwvYm9keT4KPC9odG1sPgpgO2tuKCk7S2woKTtzdCgpO3Zhcntsb2NhbFN0b3JhZ2U6aGd9PXVuc2FmZVdpbmRvdyx5Zz1uZXcgU2V0O3ZhciBaeD1hc3luYygpPT57fSxYeD1fdChlPT5WZW5jb3JkTmF0aXZlLnF1aWNrQ3NzLnNldChlKSk7dW5zYWZlV2luZG93LlZlbmNvcmROYXRpdmU9e25hdGl2ZTp7Z2V0VmVyc2lvbnM6KCk9Pih7fSksb3BlbkV4dGVybmFsOmFzeW5jIGU9PnZvaWQgb3BlbihlLCJfYmxhbmsiKX0sdXBkYXRlcjp7Z2V0UmVwbzphc3luYygpPT4oe29rOiEwLHZhbHVlOiJodHRwczovL2dpdGh1Yi5jb20vVmVuZGljYXRlZC9WZW5jb3JkIn0pLGdldFVwZGF0ZXM6YXN5bmMoKT0+KHtvazohMCx2YWx1ZTpbXX0pLHVwZGF0ZTphc3luYygpPT4oe29rOiEwLHZhbHVlOiExfSkscmVidWlsZDphc3luYygpPT4oe29rOiEwLHZhbHVlOiEwfSl9LHF1aWNrQ3NzOntnZXQ6KCk9Pm90KCJWZW5jb3JkUXVpY2tDc3MiKS50aGVuKGU9PmU/PyIiKSxzZXQ6YXN5bmMgZT0+e2F3YWl0IHJ0KCJWZW5jb3JkUXVpY2tDc3MiLGUpLHlnLmZvckVhY2godD0+dChlKSl9LGFkZENoYW5nZUxpc3RlbmVyKGUpe3lnLmFkZChlKX0sb3BlbkZpbGU6WngsYXN5bmMgb3BlbkVkaXRvcigpe2xldCBlPWBwb3B1cCx3aWR0aD0ke01hdGgubWluKHVuc2FmZVdpbmRvdy5pbm5lcldpZHRoLDFlMyl9LGhlaWdodD0ke01hdGgubWluKHVuc2FmZVdpbmRvdy5pbm5lckhlaWdodCwxZTMpfWAsdD1vcGVuKCJhYm91dDpibGFuayIsIlZlbmNvcmRRdWlja0NzcyIsZSk7aWYoIXQpe2FsZXJ0KCJGYWlsZWQgdG8gb3BlbiBRdWlja0NTUyBwb3B1cC4gTWFrZSBzdXJlIHRvIGFsbG93IHBvcHVwcyEiKTtyZXR1cm59dC5zZXRDc3M9WHgsdC5nZXRDdXJyZW50Q3NzPSgpPT5WZW5jb3JkTmF0aXZlLnF1aWNrQ3NzLmdldCgpLHQuZ2V0VGhlbWU9KCk9PlpyKCk9PT0yPyJ2cy1saWdodCI6InZzLWRhcmsiLHQuZG9jdW1lbnQud3JpdGUocWYpfX0sc2V0dGluZ3M6e2dldDooKT0+aGcuZ2V0SXRlbSgiVmVuY29yZFNldHRpbmdzIil8fCJ7fSIsc2V0OmFzeW5jIGU9PmhnLnNldEl0ZW0oIlZlbmNvcmRTZXR0aW5ncyIsZSksZ2V0U2V0dGluZ3NEaXI6YXN5bmMoKT0+IkxvY2FsU3RvcmFnZSJ9fTtVbSgpO3JldHVybiBfbyhETik7fSkoKTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdywnVmVuY29yZCcse2dldDooKT0+VmVuY29yZH0pOwovKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBWZW5jb3JkLnVzZXIuanMuTEVHQUwudHh0ICovCgo7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsICgpID0+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCgKICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSwgewogICAgICAgIHRleHRDb250ZW50OiBgLnZjLWVycm9yLWNhcmR7cGFkZGluZzoyZW07YmFja2dyb3VuZC1jb2xvcjojZTc4Mjg0MzA7Ym9yZGVyOjFweCBzb2xpZCAjZTc4Mjg0O2JvcmRlci1yYWRpdXM6NXB4O2NvbG9yOnZhcigtLXRleHQtbm9ybWFsLCB3aGl0ZSl9LnZjLW5vdGlmaWNhdGlvbi1yb290e2FsbDp1bnNldDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7Ym9yZGVyLXJhZGl1czo2cHg7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpwb2ludGVyO3dpZHRoOjEwMCV9LnZjLW5vdGlmaWNhdGlvbi1yb290Om5vdCgudmMtbm90aWZpY2F0aW9uLWxvZy13cmFwcGVyID4gLnZjLW5vdGlmaWNhdGlvbi1yb290KXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjIxNDc0ODM2NDc7cmlnaHQ6MXJlbTt3aWR0aDoyNXZ3O21pbi1oZWlnaHQ6MTB2aH0udmMtbm90aWZpY2F0aW9ue2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7cGFkZGluZzoxLjI1cmVtO2dhcDoxLjI1cmVtfS52Yy1ub3RpZmljYXRpb24tY29udGVudHt3aWR0aDoxMDAlfS52Yy1ub3RpZmljYXRpb24taGVhZGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0udmMtbm90aWZpY2F0aW9uLXRpdGxle2NvbG9yOnZhcigtLWhlYWRlci1wcmltYXJ5KTtmb250LXNpemU6MXJlbTtmb250LXdlaWdodDo2MDA7bGluZS1oZWlnaHQ6MS4yNXJlbTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2V9LnZjLW5vdGlmaWNhdGlvbi1jbG9zZS1idG57YWxsOnVuc2V0O2N1cnNvcjpwb2ludGVyO2NvbG9yOnZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7b3BhY2l0eTouNTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGVhc2UtaW4tb3V0LGNvbG9yIC4ycyBlYXNlLWluLW91dH0udmMtbm90aWZpY2F0aW9uLWNsb3NlLWJ0bjpob3Zlcntjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ob3Zlcik7b3BhY2l0eToxfS52Yy1ub3RpZmljYXRpb24taWNvbntoZWlnaHQ6NHJlbTt3aWR0aDo0cmVtO2JvcmRlci1yYWRpdXM6NnB4fS52Yy1ub3RpZmljYXRpb24tcHJvZ3Jlc3NiYXJ7aGVpZ2h0Oi4yNXJlbTtib3JkZXItcmFkaXVzOjVweDttYXJnaW4tdG9wOmF1dG99LnZjLW5vdGlmaWNhdGlvbi1we21hcmdpbjouNXJlbSAwIDA7bGluZS1oZWlnaHQ6MTQwJX0udmMtbm90aWZpY2F0aW9uLWltZ3t3aWR0aDoxMDAlfS52Yy1ub3RpZmljYXRpb24tbG9nLWVtcHR5e2hlaWdodDoyMThweDtiYWNrZ3JvdW5kOnVybCgvYXNzZXRzL2IzNmRlOTgwYjE3NGQ3Yjc5OGM4OWYzNWMxMTZlNWM2LnN2ZykgY2VudGVyIG5vLXJlcGVhdDttYXJnaW4tYm90dG9tOjQwcHh9LnZjLW5vdGlmaWNhdGlvbi1sb2ctY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47cGFkZGluZzoxZW07b3ZlcmZsb3c6aGlkZGVufS52Yy1ub3RpZmljYXRpb24tbG9nLXdyYXBwZXJ7dHJhbnNpdGlvbjouMnMgZWFzZTt0cmFuc2l0aW9uLXByb3BlcnR5OmhlaWdodCxvcGFjaXR5fS52Yy1ub3RpZmljYXRpb24tbG9nLXdyYXBwZXI6bm90KDpsYXN0LWNoaWxkKXttYXJnaW4tYm90dG9tOjFlbX0udmMtbm90aWZpY2F0aW9uLWxvZy1yZW1vdmluZ3toZWlnaHQ6MCFpbXBvcnRhbnQ7b3BhY2l0eTowO21hcmdpbi1ib3R0b206MWVtfS52Yy1ub3RpZmljYXRpb24tbG9nLWJvZHl7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0udmMtbm90aWZpY2F0aW9uLWxvZy10aW1lc3RhbXB7bWFyZ2luLWxlZnQ6YXV0bztmb250LXNpemU6LjhlbTtmb250LXdlaWdodDpsaWdodGVyfS52Yy1ub3RpZmljYXRpb24tbG9nLWRhbmdlci1idG57Y29sb3I6dmFyKC0td2hpdGUtNTAwKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJ1dHRvbi1kYW5nZXItYmFja2dyb3VuZCl9LnZjLXNldHRpbmdzLXRhYi1iYXJ7bWFyZ2luLXRvcDoyMHB4O21hcmdpbi1ib3R0b206LTJweDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjY2VudCl9LnZjLXNldHRpbmdzLXRhYi1iYXItaXRlbXttYXJnaW4tcmlnaHQ6MzJweDtwYWRkaW5nLWJvdHRvbToxNnB4O21hcmdpbi1ib3R0b206LTJweH0udmMtc2V0dGluZ3MtcXVpY2stYWN0aW9ucy1jYXJke3BhZGRpbmc6MWVtO2Rpc3BsYXk6ZmxleDtnYXA6MWVtO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtZXZlbmx5O2ZsZXgtZ3JvdzoxO2ZsZXgtZmxvdzpyb3cgd3JhcDttYXJnaW4tYm90dG9tOjFlbX0udmMtc2V0dGluZ3MtZG9uYXRle2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3d9LnZjLXNldHRpbmdzLWNhcmR7cGFkZGluZzoxZW07bWFyZ2luLWJvdHRvbToxZW19LnZjLWJhY2t1cC1yZXN0b3JlLWNhcmR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pbmZvLXdhcm5pbmctYmFja2dyb3VuZCk7Ym9yZGVyLWNvbG9yOnZhcigtLWluZm8td2FybmluZy1mb3JlZ3JvdW5kKTtjb2xvcjp2YXIoLS1pbmZvLXdhcm5pbmctdGV4dCl9LnZjLXNldHRpbmdzLXRoZW1lLWxpbmtze2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCkhaW1wb3J0YW50O3BhZGRpbmc6LjVlbTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYWNjZW50KX0udmMtY2xvdWQtc2V0dGluZ3Mtc3luYy1ncmlke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDMsMWZyKTtncmlkLWdhcDoxZW19LnZjLWNsb3VkLWVyYXNlLWRhdGEtZGFuZ2VyLWJ0bntjb2xvcjp2YXIoLS13aGl0ZS01MDApO2JhY2tncm91bmQtY29sb3I6dmFyKC0tYnV0dG9uLWRhbmdlci1iYWNrZ3JvdW5kKX0udmMtdGV4dC1zZWxlY3RhYmxlLC52Yy10ZXh0LXNlbGVjdGFibGUgOndoZXJlKFtjbGFzcyo9InRleHQiIGldLFtjbGFzcyo9InRpdGxlIiBpXSl7dXNlci1zZWxlY3Q6dGV4dDtjdXJzb3I6aW5pdGlhbH0udmMtcGx1Z2lucy1ncmlke21hcmdpbi10b3A6MTZweDtkaXNwbGF5OmdyaWQ7Z3JpZC1nYXA6MTZweDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMjUwcHgsMWZyKSl9LnZjLXBsdWdpbnMtY2FyZHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtYWN0aXZlKTtib3JkZXItcmFkaXVzOjhweDtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlO3BhZGRpbmc6MTJweDt3aWR0aDoxMDAlO3RyYW5zaXRpb246LjFzIGVhc2Utb3V0O3RyYW5zaXRpb24tcHJvcGVydHk6Ym94LXNoYWRvdyx0cmFuc2Zvcm0sYmFja2dyb3VuZCxvcGFjaXR5fS52Yy1wbHVnaW5zLWNhcmQtZGlzYWJsZWR7b3BhY2l0eTouNn0udmMtcGx1Z2lucy1jYXJkOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmFja2dyb3VuZC10ZXJ0aWFyeSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTFweCk7Ym94LXNoYWRvdzp2YXIoLS1lbGV2YXRpb24taGlnaCl9LnZjLXBsdWdpbnMtY2FyZC1oZWFkZXJ7bWFyZ2luLXRvcDphdXRvO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtoZWlnaHQ6MS41cmVtO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6OHB4fS52Yy1wbHVnaW5zLWluZm8tYnV0dG9ue2hlaWdodDoyNHB4O3dpZHRoOjI0cHg7cGFkZGluZzowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7bWFyZ2luLXJpZ2h0OjhweH0udmMtcGx1Z2lucy1zZXR0aW5ncy1idXR0b246aG92ZXJ7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtaG92ZXIpfS52Yy1wbHVnaW5zLWZpbHRlci1jb250cm9sc3tkaXNwbGF5OmdyaWQ7aGVpZ2h0OjQwcHg7Z2FwOjEwcHg7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxNTBweH0udmMtcGx1Z2lucy1iYWRnZXtwYWRkaW5nOjAgNnB4O2ZvbnQtZmFtaWx5OnZhcigtLWZvbnQtZGlzcGxheSk7Zm9udC13ZWlnaHQ6NTAwO2JvcmRlci1yYWRpdXM6OHB4O2hlaWdodDoxNnB4O2ZvbnQtc2l6ZToxMnB4O2xpbmUtaGVpZ2h0OjE2cHg7Y29sb3I6dmFyKC0td2hpdGUtNTAwKTt0ZXh0LWFsaWduOmNlbnRlcn0udmMtcGx1Z2lucy1ub3Rle2hlaWdodDozNnB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2Rpc3BsYXk6LXdlYmtpdC1ib3g7LXdlYmtpdC1saW5lLWNsYW1wOjI7bGluZS1jbGFtcDoyOy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDtib3gtb3JpZW50OnZlcnRpY2FsfS52Yy1wbHVnaW5zLW5hbWV7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZ3JvdzoxO2dhcDo4cHg7Y3Vyc29yOiJkZWZhdWx0In0udmMtcGx1Z2lucy1kZXAtbmFtZXttYXJnaW46MCBhdXRvfS52Yy1wbHVnaW5zLWluZm8tY2FyZHtwYWRkaW5nOjFlbTtoZWlnaHQ6OGVtO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LnZjLXBsdWdpbnMtaW5mby1jYXJkIGRpdntsaW5lLWhlaWdodDozMnB4fS52Yy1wbHVnaW5zLXJlc3RhcnQtY2FyZHtwYWRkaW5nOjFlbTtiYWNrZ3JvdW5kOnZhcigtLWluZm8td2FybmluZy1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWluZm8td2FybmluZy1mb3JlZ3JvdW5kKTtjb2xvcjp2YXIoLS1pbmZvLXdhcm5pbmctdGV4dCl9LnZjLXBsdWdpbnMtcmVzdGFydC1jYXJkIGJ1dHRvbnttYXJnaW4tdG9wOi41ZW19LnZjLXBsdWdpbnMtaW5mby1idXR0b24gc3ZnOm5vdCg6aG92ZXIsOmZvY3VzKXtjb2xvcjp2YXIoLS10ZXh0LW11dGVkKX0udmMtc3dpdGNoLXNsaWRlcnt0cmFuc2l0aW9uOi4xcyB0cmFuc2Zvcm0gZWFzZS1pbi1vdXR9LnZjLWJmLWZvbGRlci1zaWRlYmFyIFtjbGFzcyo9d3JhcHBlci1dPltjbGFzcyo9bGlzdEl0ZW0tXTpmaXJzdC1vZi10eXBlLC52Yy1iZi1mb2xkZXItc2lkZWJhciBbY2xhc3MqPXVucmVhZE1lbnRpb25zSW5kaWNhdG9yXXtkaXNwbGF5Om5vbmV9LnZjLWJmLWZvbGRlci1zaWRlYmFyIFtjbGFzcyo9ZXhwYW5kZWRGb2xkZXJCYWNrZ3JvdW5kLV17YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udmMtYmYtZm9sZGVyLXNpZGViYXJ7ZGlzcGxheTpmbGV4fS52Yy1iZi1mdWxsc2NyZWVue3dpZHRoOjAhaW1wb3J0YW50O3Zpc2liaWxpdHk6aGlkZGVufS52Yy1vcGVuLWV4dGVybmFsLWljb257dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9LnZjLW93bmVyLWNyb3duLWljb257Y29sb3I6dmFyKC0tdGV4dC13YXJuaW5nKX0ubWVzc2FnZWxvZ2dlci1kZWxldGVkIFtjbGFzc149YnV0dG9uc117ZGlzcGxheTpub25lfS5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQgOmlzKHZpZGVvLC5lbW9qaSxbZGF0YS10eXBlPSJzdGlja2VyIl0saWZyYW1lLC5tZXNzYWdlbG9nZ2VyLWRlbGV0ZWQtYXR0YWNobWVudCxbY2xhc3N8PSJpbmxpbmVNZWRpYUVtYmVkIl0pe2ZpbHRlcjpncmF5c2NhbGUoMSkhaW1wb3J0YW50O3RyYW5zaXRpb246LjE1cyBmaWx0ZXIgZWFzZS1pbi1vdXR9Lm1lc3NhZ2Vsb2dnZXItZGVsZXRlZCA6aXModmlkZW8sLmVtb2ppLFtkYXRhLXR5cGU9InN0aWNrZXIiXSxpZnJhbWUsLm1lc3NhZ2Vsb2dnZXItZGVsZXRlZC1hdHRhY2htZW50LFtjbGFzc3w9ImlubGluZU1lZGlhRW1iZWQiXSk6aG92ZXIsLm1lc3NhZ2Vsb2dnZXItZGVsZXRlZHtmaWx0ZXI6Z3JheXNjYWxlKDApIWltcG9ydGFudH0udGhlbWUtZGFyayAubWVzc2FnZWxvZ2dlci1lZGl0ZWR7ZmlsdGVyOmJyaWdodG5lc3MoODAlKX0udGhlbWUtbGlnaHQgLm1lc3NhZ2Vsb2dnZXItZWRpdGVke29wYWNpdHk6LjV9LnZjLXBlcm12aWV3ZXItdXNlcnBlcm1zLXRpdGxlLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi10b3A6MTBweDttYXJnaW4tYm90dG9tOjZweH0udmMtcGVybXZpZXdlci11c2VycGVybXMtYnRucy1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0udmMtcGVybXZpZXdlci11c2VycGVybXMtc29ydG9yZGVyLWJ0bnthbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9LnZjLXBlcm12aWV3ZXItdXNlcnBlcm1zLXBlcm1kZXRhaWxzLWJ0biwudmMtcGVybXZpZXdlci11c2VycGVybXMtdG9nZ2xlcGVybXMtYnRue2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS52Yy1wZXJtdmlld2VyLXBlcm1zLXRpdGxle2ZsZXgtZ3JvdzoxfS52Yy1wZXJtdmlld2VyLXBlcm1zLW5vLXBlcm1ze3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3RleHQtYWxpZ246Y2VudGVyfS52Yy1wZXJtdmlld2VyLXBlcm1zLWNvbnRhaW5lcntkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAyZnI7Z3JpZC10ZW1wbGF0ZS1hcmVhczoibGlzdCBwZXJtaXNzaW9ucyI7cGFkZGluZzoxNnB4IDB9LnZjLXBlcm12aWV3ZXItcGVybXMtbGlzdHtncmlkLWFyZWE6bGlzdDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2dhcDoycHg7Ym9yZGVyLXJpZ2h0OjJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjdGl2ZSl9LnZjLXBlcm12aWV3ZXItcGVybXMtbGlzdC1pdGVtLWJ0bnthbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXJ9LnZjLXBlcm12aWV3ZXItcGVybXMtbGlzdC1pdGVte2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo4cHggNXB4O2N1cnNvcjpwb2ludGVyO3dpZHRoOjIzMHB4O2JvcmRlci1yYWRpdXM6NXB4fS52Yy1wZXJtdmlld2VyLXBlcm1zLWxpc3QtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpfS52Yy1wZXJtdmlld2VyLXBlcm1zLWxpc3QtaXRlbS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXNlbGVjdGVkKX0udmMtcGVybXZpZXdlci1wZXJtcy1saXN0LWl0ZW0+ZGl2e3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbn0udmMtcGVybXZpZXdlci1wZXJtcy1yb2xlLWNpcmNsZXtib3JkZXItcmFkaXVzOjUwJTt3aWR0aDoxMnB4O2hlaWdodDoxMnB4O21hcmdpbi1sZWZ0OjNweDttYXJnaW4tcmlnaHQ6MTFweDtmbGV4LXNocmluazowfS52Yy1wZXJtdmlld2VyLXBlcm1zLXVzZXItaW1ne2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLXJpZ2h0OjZweH0udmMtcGVybXZpZXdlci1wZXJtcy1wZXJtc3tncmlkLWFyZWE6cGVybWlzc2lvbnM7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttYXJnaW4tbGVmdDo1cHh9LnZjLXBlcm12aWV3ZXItcGVybXMtcGVybXMtaXRlbXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MTBweDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjdGl2ZSl9LnZjLXBlcm12aWV3ZXItcGVybXMtcGVybXMtaXRlbTpsYXN0LWNoaWxke2JvcmRlcjowfS52Yy1wZXJtdmlld2VyLXBlcm1zLXBlcm1zLWl0ZW0taWNvbntib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc2VsZWN0ZWQpO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7bWFyZ2luLXJpZ2h0OjVweH0udmMtcGVybXZpZXdlci1wZXJtcy1wZXJtcy1pdGVtIC52Yy1pbmZvLWljb257Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtbXV0ZWQpO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7c2NhbGU6Ljk7dHJhbnNpdGlvbjpjb2xvciBlYXNlLWluIC4xc30udmMtcGVybXZpZXdlci1wZXJtcy1wZXJtcy1pdGVtIC52Yy1pbmZvLWljb246aG92ZXJ7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtYWN0aXZlKX0udmMtZXhwYW5kYWJsZWhlYWRlci1jZW50ZXItZmxleHtkaXNwbGF5OmZsZXg7anVzdGlmeS1pdGVtczpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS52Yy1leHBhbmRhYmxlaGVhZGVyLWJ0bnthbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH0udmMtcHJvbm91bmRiLWNvbXBhY3R7ZGlzcGxheTpub25lfVtjbGFzcyo9Y29tcGFjdF0gLnZjLXByb25vdW5kYi1jb21wYWN0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0Oi0ycHg7bWFyZ2luLXJpZ2h0Oi4yNXJlbX1bY2xhc3N8PXNlY3Rpb25dOm5vdChbY2xhc3N8PSJsYXN0U2VjdGlvbiJdKSsudmMtcmRiLXZpZXd7bWFyZ2luLXRvcDoxMnB4fS52Yy1yZGItYmFkZ2V7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1sZWZ0OjRweH0udmMtcmRiLWlucHV0e21hcmdpbi10b3A6NnB4O21hcmdpbi1ib3R0b206MTJweDtyZXNpemU6bm9uZTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXByb2ZpbGUtbWVzc2FnZS1pbnB1dC1ib3JkZXItY29sb3IpO2ZvbnQtc2l6ZToxNHB4fS52Yy1yZGItcGxhY2Vob2xkZXJ7bWFyZ2luLWJvdHRvbTo0cHg7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc3R5bGU6aXRhbGljO2NvbG9yOnZhcigtLXRleHQtbXV0ZWQpfS52Yy1yZGItbW9kYWwtZm9vdGVye3BhZGRpbmc6MH0udmMtcmRiLW1vZGFsLWZvb3Rlcj5kaXZ7d2lkdGg6MTAwJTttYXJnaW46NnB4IDE2cHh9LnZjLXJkYi1tb2RhbC1mb290ZXIgLnZjLXJkYi1pbnB1dHttYXJnaW4tYm90dG9tOjA7YmFja2dyb3VuZDp2YXIoLS1pbnB1dC1iYWNrZ3JvdW5kKX0udmMtcmRiLW1vZGFsLWZvb3RlciBbY2xhc3N8PXBhZ2VDb250cm9sQ29udGFpbmVyXXttYXJnaW4tdG9wOjB9LnZjLXJkYi1tb2RhbC1oZWFkZXJ7ZmxleC1ncm93OjF9LnZjLXJkYi1tb2RhbC1yZXZpZXdze21hcmdpbi10b3A6MTZweH0udmMtc3QtbW9kYWwtY29udGVudCBpbnB1dHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWlucHV0LWJhY2tncm91bmQpO2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKTt3aWR0aDo5NSU7cGFkZGluZzo4cHggOHB4IDhweCAxMnB4O21hcmdpbjoxZW0gMDtvdXRsaW5lOm5vbmU7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1pbnB1dC1iYWNrZ3JvdW5kKTtib3JkZXItcmFkaXVzOjRweDtmb250LXdlaWdodDo1MDA7Zm9udC1zdHlsZTppbmhlcml0O2ZvbnQtc2l6ZToxMDAlfS52Yy1zdC1mb3JtYXQtbGFiZWwsLnZjLXN0LWZvcm1hdC1sYWJlbCBzcGFue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LnZjLXN0LW1vZGFsLWNvbnRlbnQgW2NsYXNzfD1zZWxlY3Rde21hcmdpbi1ib3R0b206MWVtfS52Yy1zdC1tb2RhbC1jb250ZW50IFtjbGFzc3w9c2VsZWN0XSBzcGFue2JhY2tncm91bmQtY29sb3I6dmFyKC0taW5wdXQtYmFja2dyb3VuZCl9LnZjLXN0LW1vZGFsLWhlYWRlcntqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1jb250ZW50OmNlbnRlcn0udmMtc3QtbW9kYWwtaGVhZGVyIGgxe21hcmdpbjowfS52Yy1zdC1tb2RhbC1oZWFkZXIgYnV0dG9ue3BhZGRpbmc6MH0udmMtc3QtcHJldmlldy10ZXh0e21hcmdpbi1ib3R0b206MWVtfS52Yy1zdC1idXR0b257cGFkZGluZzowIDZweH0udmMtc3QtYnV0dG9uIHN2Z3t0cmFuc2Zvcm06c2NhbGUoMS4xKSB0cmFuc2xhdGVZKDFweCl9LnNoaWtpLWNvbnRhaW5lcntib3JkZXI6NHB4O2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpfS5zaGlraS1yb290e2JvcmRlci1yYWRpdXM6NHB4fS5zaGlraS1yb290IGNvZGV7ZGlzcGxheTpibG9jaztvdmVyZmxvdy14OmF1dG87cGFkZGluZzouNWVtO3Bvc2l0aW9uOnJlbGF0aXZlO2ZvbnQtc2l6ZTouODc1cmVtO2xpbmUtaGVpZ2h0OjEuMTI1cmVtO3RleHQtaW5kZW50OjA7d2hpdGUtc3BhY2U6cHJlLXdyYXA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6bm9uZX0uc2hpa2ktZGV2aWNvbnttYXJnaW4tcmlnaHQ6OHB4O3VzZXItc2VsZWN0Om5vbmV9LnNoaWtpLXBsYWluIGNvZGV7cGFkZGluZy10b3A6OHB4fS5zaGlraS1idG5ze2ZvbnQtc2l6ZToxZW07cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206MDtvcGFjaXR5OjB9LnNoaWtpLXJvb3Q6aG92ZXIgLnNoaWtpLWJ0bnN7b3BhY2l0eToxfS5zaGlraS1idG57Ym9yZGVyLXJhZGl1czo0cHggNHB4IDAgMDtwYWRkaW5nOjRweCA4cHg7dXNlci1zZWxlY3Q6bm9uZX0uc2hpa2ktYnRufi5zaGlraS1idG57bWFyZ2luLWxlZnQ6NHB4fS5zaGlraS1idG46bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjRweCAwfS5zaGlraS1zcGlubmVyLWNvbnRhaW5lcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjojMDAwOTtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtpbnNldDowfS5zaGlraS1wcmV2aWV3e21hcmdpbi1ib3R0b206MmVtfS5zaGlraS1sYW5ne3BhZGRpbmc6MCA1cHg7bWFyZ2luLWJvdHRvbTo2cHg7Zm9udC13ZWlnaHQ6NzAwO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hpa2ktdGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LnNoaWtpLXRhYmxlIHRye2hlaWdodDoxOXB4O3dpZHRoOjEwMCV9LnNoaWtpLXJvb3QgdGQ6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB0cmFuc3BhcmVudDtwYWRkaW5nLWxlZnQ6NXB4O3BhZGRpbmctcmlnaHQ6OHB4O3VzZXItc2VsZWN0Om5vbmV9LnNoaWtpLXJvb3QgdGQ6bGFzdC1jaGlsZHtwYWRkaW5nLWxlZnQ6OHB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDt3aWR0aDoxMDAlfS52Yy11c2VyLWNvbm5lY3Rpb257YWxsOnVuc2V0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2N1cnNvcjpwb2ludGVyfS52Yy1zYy10b29sdGlwe2Rpc3BsYXk6aW5saW5lLWZsZXg7Z2FwOi4yNWVtO2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLW91dGVyLWNvbnRhaW5lcntvdmVyZmxvdzpoaWRkZW4gc2Nyb2xsO2ZsZXg6MSAxIGF1dG87aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0uc2hjLWxvY2stc2NyZWVuLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3RleHQtYWxpZ246Y2VudGVyO21pbi1oZWlnaHQ6MTAwJX0uc2hjLWxvY2stc2NyZWVuLWNvbnRhaW5lcj4qe21hcmdpbjo1cHh9LnNoYy1sb2NrLXNjcmVlbi1sb2dve3dpZHRoOjE4MHB4O2hlaWdodDoxODBweH0uc2hjLWxvY2stc2NyZWVuLWhlYWRpbmctY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyfS5zaGMtbG9jay1zY3JlZW4taGVhZGluZy1jb250YWluZXI+KnttYXJnaW46aW5oZXJpdH0uc2hjLWxvY2stc2NyZWVuLWhlYWRpbmctbnNmdy1pY29ue2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKX0uc2hjLWxvY2stc2NyZWVuLXRvcGljLWNvbnRhaW5lcntjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCk7YmFja2dyb3VuZDp2YXIoLS1iZy1vdmVybGF5LTMsIHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSk7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzoxMHB4O21heC13aWR0aDo3MHZ3fS5zaGMtbG9jay1zY3JlZW4tdGFncy1jb250YWluZXJ7YmFja2dyb3VuZDp2YXIoLS1iZy1vdmVybGF5LTMsIHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSk7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzoxMHB4O21heC13aWR0aDo3MHZ3fS5zaGMtbG9jay1zY3JlZW4tdGFncy1jb250YWluZXI+KnttYXJnaW46aW5oZXJpdH0uc2hjLWxvY2stc2NyZWVuLXRhZ3N7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZsZXgtd3JhcDp3cmFwO2dhcDo4cHh9LnNoYy1ldmVub2RkLWZpbGwtY3VycmVudC1jb2xvcntmaWxsLXJ1bGU6ZXZlbm9kZDtmaWxsOmN1cnJlbnRjb2xvcn0uc2hjLWhpZGRlbi1jaGFubmVsLWljb257bWFyZ2luLWxlZnQ6NnB4O3otaW5kZXg6MDtjdXJzb3I6bm90LWFsbG93ZWR9LnNoYy1sb2NrLXNjcmVlbi1kZWZhdWx0LWVtb2ppLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLWRlZmF1bHQtZW1vamktY29udGFpbmVyPltjbGFzc149ZW1vamlDb250YWluZXJde2JhY2tncm91bmQ6dmFyKC0tYmctb3ZlcmxheS0zLCB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkpO2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmc6NXB4IDZweDttYXJnaW4tbGVmdDo1cHh9LnNoYy1sb2NrLXNjcmVlbi1hbGxvd2VkLXVzZXJzLWFuZC1yb2xlcy1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZDp2YXIoLS1iZy1vdmVybGF5LTMsIHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSk7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzoxMHB4O21heC13aWR0aDo3MHZ3fS5zaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyLXRpdGxle2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyfS5zaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyLXRvZ2dsZS1idG57YWxsOnVuc2V0O21hcmdpbi1sZWZ0OjVweDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5zaGMtbG9jay1zY3JlZW4tYWxsb3dlZC11c2Vycy1hbmQtcm9sZXMtY29udGFpbmVyLXRvZ2dsZS1idG4+c3Zne2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKX0uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci1wZXJtZGV0YWlscy1idG57YWxsOnVuc2V0O21hcmdpbi1yaWdodDo1cHg7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lci1wZXJtZGV0YWlscy1idG4+c3Zne2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKX0uc2hjLWxvY2stc2NyZWVuLWFsbG93ZWQtdXNlcnMtYW5kLXJvbGVzLWNvbnRhaW5lcj5bY2xhc3NePW1lbWJlcnNde21hcmdpbi1sZWZ0OjEwcHg7ZmxleC13cmFwOndyYXA7anVzdGlmeS1jb250ZW50OmNlbnRlcn0udmMtc215bi1zdWZmaXh7Y29sb3I6dmFyKC0tdGV4dC1tdXRlZCl9LnZjLXNteW4tc3VmZml4OmJlZm9yZXtjb250ZW50OiIoIn0udmMtc215bi1zdWZmaXg6YWZ0ZXJ7Y29udGVudDoiKSJ9I3ZjLXNwb3RpZnktcGxheWVye3BhZGRpbmc6LjM3NXJlbSAuNXJlbTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWFjY2VudCk7LS12Yy1zcG90aWZ5LWdyZWVuOiAjMWRiOTU0fS50aGVtZS1saWdodCAjdmMtc3BvdGlmeS1wbGF5ZXJ7YmFja2dyb3VuZDp2YXIoLS1iZy1vdmVybGF5LTMsIHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCkpfS50aGVtZS1kYXJrICN2Yy1zcG90aWZ5LXBsYXllcntiYWNrZ3JvdW5kOnZhcigtLWJnLW92ZXJsYXktMSwgdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KSl9LnZjLXNwb3RpZnktYnV0dG9ue2JhY2tncm91bmQ6bm9uZTtjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO3BhZGRpbmc6MDt3aWR0aDozMnB4O2hlaWdodDozMnB4O2JvcmRlci1yYWRpdXM6MTAwJTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LnZjLXNwb3RpZnktYnV0dG9uOmhvdmVye2NvbG9yOnZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc2VsZWN0ZWQpfS52Yy1zcG90aWZ5LWJ1dHRvbiBzdmd7aGVpZ2h0OjI0cHg7d2lkdGg6MjRweH1bY2xhc3MqPXZjLXNwb3RpZnktc2h1ZmZsZV0+c3ZnLFtjbGFzcyo9dmMtc3BvdGlmeS1yZXBlYXRdPnN2Z3t3aWR0aDoyMnB4O2hlaWdodDoyMnB4fS52Yy1zcG90aWZ5LWJ1dHRvbiBzdmcgcGF0aHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS52Yy1zcG90aWZ5LXNodWZmbGUtb24sLnZjLXNwb3RpZnktcmVwZWF0LWNvbnRleHQsLnZjLXNwb3RpZnktcmVwZWF0LXRyYWNrLC52Yy1zcG90aWZ5LXNodWZmbGUtb246aG92ZXIsLnZjLXNwb3RpZnktcmVwZWF0LWNvbnRleHQ6aG92ZXIsLnZjLXNwb3RpZnktcmVwZWF0LXRyYWNrOmhvdmVye2NvbG9yOnZhcigtLXZjLXNwb3RpZnktZ3JlZW4pfS52Yy1zcG90aWZ5LXRvb2x0aXAtdGV4dHtvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm93cmFwO3BhZGRpbmctcmlnaHQ6LjJlbTttYXgtd2lkdGg6MTAwJTttYXJnaW46dW5zZXR9LnZjLXNwb3RpZnktcmVwZWF0LTF7Zm9udC1zaXplOjcwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX0udmMtc3BvdGlmeS1idXR0b24tcm93e2p1c3RpZnktY29udGVudDpjZW50ZXJ9I3ZjLXNwb3RpZnktaW5mby13cmFwcGVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO2hlaWdodDozZW07Z2FwOi41ZW19I3ZjLXNwb3RpZnktaW5mby13cmFwcGVyIGltZ3toZWlnaHQ6OTAlO29iamVjdC1maXQ6Y29udGFpbn0jdmMtc3BvdGlmeS1hbGJ1bS1leHBhbmRlZC13cmFwcGVyIGltZ3t3aWR0aDoxMDAlO29iamVjdC1maXQ6Y29udGFpbn0jdmMtc3BvdGlmeS10aXRsZXN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOi4ycmVtO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6ZmxleC1zdGFydDthbGlnbi1jb250ZW50OmZsZXgtc3RhcnQ7b3ZlcmZsb3c6aGlkZGVufSN2Yy1zcG90aWZ5LXNvbmctdGl0bGV7Y29sb3I6dmFyKC0taGVhZGVyLXByaW1hcnkpO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjYwMH0udmMtc3BvdGlmeS1lbGxpcG92ZXJmbG93e3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS52Yy1zcG90aWZ5LWFydGlzdCwudmMtc3BvdGlmeS1hbGJ1bXtmb250LXNpemU6MTJweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjp2YXIoLS1oZWFkZXItc2Vjb25kYXJ5KX0udmMtc3BvdGlmeS1jb21tYXtjb2xvcjp2YXIoLS1oZWFkZXItc2Vjb25kYXJ5KX0udmMtc3BvdGlmeS1hcnRpc3Rbcm9sZT1saW5rXTpob3ZlciwjdmMtc3BvdGlmeS1hbGJ1bS10aXRsZVtyb2xlPWxpbmtdOmhvdmVyLCN2Yy1zcG90aWZ5LXNvbmctdGl0bGVbcm9sZT1saW5rXTpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2N1cnNvcjpwb2ludGVyfSN2Yy1zcG90aWZ5LWFsYnVtLWltYWdle2JvcmRlci1yYWRpdXM6M3B4O3RyYW5zaXRpb246ZmlsdGVyIC4yc30jdmMtc3BvdGlmeS1hbGJ1bS1pbWFnZTpob3ZlcntmaWx0ZXI6YnJpZ2h0bmVzcygxLjIpO2N1cnNvcjpwb2ludGVyfSN2Yy1zcG90aWZ5LXByb2dyZXNzLWJhcntwb3NpdGlvbjpyZWxhdGl2ZTtjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCk7d2lkdGg6MTAwJTttYXJnaW46LjVlbSAwIDVweH0jdmMtc3BvdGlmeS1wcm9ncmVzcy1iYXI+W2NsYXNzXj1zbGlkZXJde2ZsZXgtZ3JvdzoxO3dpZHRoOjEwMCU7cGFkZGluZzowIWltcG9ydGFudH0jdmMtc3BvdGlmeS1wcm9ncmVzcy1iYXI+W2NsYXNzXj1zbGlkZXJdIFtjbGFzc149YmFyLV17aGVpZ2h0OjRweCFpbXBvcnRhbnR9I3ZjLXNwb3RpZnktcHJvZ3Jlc3MtYmFyPltjbGFzc149c2xpZGVyXSBbY2xhc3NePWdyYWJiZXJde2hlaWdodDoxMHB4IWltcG9ydGFudDt3aWR0aDoxMHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7Ym9yZGVyLWNvbG9yOnZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7Y29sb3I6dmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKX0jdmMtc3BvdGlmeS1wcm9ncmVzcy10ZXh0e21hcmdpbjowfS52Yy1zcG90aWZ5LXByb2dyZXNzLXRpbWV7Zm9udC1zaXplOjEycHg7dG9wOjEwcHg7cG9zaXRpb246YWJzb2x1dGV9LnZjLXNwb3RpZnktdGltZS1sZWZ0e2xlZnQ6MH0udmMtc3BvdGlmeS10aW1lLXJpZ2h0e3JpZ2h0OjB9LnZjLXNwb3RpZnktZmFsbGJhY2t7cGFkZGluZzouNWVtO2NvbG9yOnZhcigtLXRleHQtbm9ybWFsKX0udmMtdHJhbnMtbW9kYWwtY29udGVudHtwYWRkaW5nOjFlbX0udmMtdHJhbnMtbW9kYWwtaGVhZGVye2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWNvbnRlbnQ6Y2VudGVyfS52Yy10cmFucy1tb2RhbC1oZWFkZXIgaDF7bWFyZ2luOjB9LnZjLXRyYW5zLWFjY2Vzc29yeXtjb2xvcjp2YXIoLS10ZXh0LW11dGVkKTttYXJnaW4tdG9wOi41ZW07Zm9udC1zdHlsZTppdGFsaWM7Zm9udC13ZWlnaHQ6NDAwfS52Yy10cmFucy1hY2Nlc3Nvcnkgc3Zne21hcmdpbi1yaWdodDouMjVlbX0udmMtdHJhbnMtZGlzbWlzc3thbGw6dW5zZXQ7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6dmFyKC0tdGV4dC1saW5rKX0udmMtdHJhbnMtZGlzbWlzczppcyg6aG92ZXIsOmZvY3VzKXt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS52Yy10cmFucy1hdXRvLXRyYW5zbGF0ZXtjb2xvcjp2YXIoLS1ncmVlbi0zNjApfS52Yy11dnMtYnV0dG9uPmRpdnt3aGl0ZS1zcGFjZTpub3JtYWwhaW1wb3J0YW50fS52Yy11dnMtYnV0dG9ue3dpZHRoOjEwMCU7bWFyZ2luOmF1dG87aGVpZ2h0OnVuc2V0fS52Yy11dnMtaGVhZGVye2NvbG9yOnZhcigtLWhlYWRlci1wcmltYXJ5KTttYXJnaW4tYm90dG9tOjZweH0udmMtdXZzLW1vZGFsLW1hcmdpbnttYXJnaW46MCAxMnB4fS52Yy11dnMtbW9kYWwtbWFyZ2luIGRpdnttYXJnaW4tYm90dG9tOjAhaW1wb3J0YW50fS52Yy11dnMtcG9wb3V0LW1hcmdpbj5bY2xhc3NePXNlY3Rpb25de21hcmdpbi10b3A6LTEycHh9LnZjLXRvb2xib3gtYnRuLC52Yy10b29sYm94LWJ0biBzdmd7LXdlYmtpdC1hcHAtcmVnaW9uOm5vLWRyYWd9LnZjLXRvb2xib3gtYnRuIHN2Z3tjb2xvcjp2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpfTppcygudmMtdG9vbGJveC1idG46aG92ZXIsLnZjLXRvb2xib3gtYnRuW2NsYXNzKj0ic2VsZWN0ZWQiXSkgc3Zne2NvbG9yOnZhcigtLWludGVyYWN0aXZlLWFjdGl2ZSl9LnZjLXZtc2ctbW9kYWx7cGFkZGluZzoxZW19LnZjLXZtc2ctYnV0dG9uc3tkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgzLG1pbm1heCgwLDFmcikpO2dhcDouNWVtO21hcmdpbi1ib3R0b206MWVtfS52Yy12bXNnLW1vZGFsIGF1ZGlve3dpZHRoOjEwMCV9LnZjLXZtc2ctcHJldmlld3tjb2xvcjp2YXIoLS10ZXh0LW5vcm1hbCk7Ym9yZGVyLXJhZGl1czoyNHB4O2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzowIDE2cHg7aGVpZ2h0OjQ4cHh9LnZjLXZtc2ctcHJldmlldy1pbmRpY2F0b3J7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tc2Vjb25kYXJ5LWJhY2tncm91bmQpO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czo1MCU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC4ycyBlYXNlLWluLW91dH0udmMtdm1zZy1wcmV2aWV3LXJlY29yZGluZyAudmMtdm1zZy1wcmV2aWV3LWluZGljYXRvcntiYWNrZ3JvdW5kOnZhcigtLXN0YXR1cy1kYW5nZXIpfS52Yy12bXNnLXByZXZpZXctdGltZXtvcGFjaXR5Oi44O21hcmdpbjowIC41ZW07Zm9udC1zaXplOjgwJTtmb250LWZhbWlseTp2YXIoLS1mb250LWNvZGUpfS52Yy12bXNnLXByZXZpZXctbGFiZWx7b3BhY2l0eTouNTtsZXR0ZXItc3BhY2luZzouMTI1ZW07Zm9udC13ZWlnaHQ6NjAwO2ZsZXg6MTt0ZXh0LWFsaWduOmNlbnRlcn0KYCwKICAgICAgICBpZDogInZlbmNvcmQtY3NzLWNvcmUiCiAgICB9KQopLCB7IG9uY2U6IHRydWUgfSk7Cg=="},{"name":"Github 增强 - 高速下载","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":"JavaScript","noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://github.com/*","*://kgithub.com/*","*://hub.fgit.gq/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1690613109051,"data":{"xiu2_menu_raw_fast":"n1","menu_rawDownLink":"btrue","menu_gitClone":"btrue"}},"enabled":true,"position":2,"file_url":"https://github.com/XIU2/UserScript/raw/master/GithubEnhanced-High-Speed-Download.user.js","uuid":"360a43af-c26e-49e7-bdef-4aaffe2087b3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHaXRodWIg5aKe5by6IC0g6auY6YCf5LiL6L29Ci8vIEBuYW1lOnpoLUNOICAgR2l0aHViIOWinuW8uiAtIOmrmOmAn+S4i+i9vQovLyBAbmFtZTp6aC1UVyAgIEdpdGh1YiDlop7lvLcgLSDpq5jpgJ/kuIvovIkKLy8gQG5hbWU6ZW4gICAgICBHaXRodWIgRW5oYW5jZW1lbnQgLSBIaWdoIFNwZWVkIERvd25sb2FkCi8vIEB2ZXJzaW9uICAgICAgMi40LjIKLy8gQGF1dGhvciAgICAgICBYLkkuVQovLyBAZGVzY3JpcHRpb24gIOmrmOmAn+S4i+i9vSBHaXQgQ2xvbmUvU1NI44CBUmVsZWFzZeOAgVJhd+OAgUNvZGUoWklQKSDnrYnmlofku7bjgIHpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSnjgIHmt7vliqAgZ2l0IGNsb25lIOWRveS7pAovLyBAZGVzY3JpcHRpb246emgtQ04gIOmrmOmAn+S4i+i9vSBHaXQgQ2xvbmUvU1NI44CBUmVsZWFzZeOAgVJhd+OAgUNvZGUoWklQKSDnrYnmlofku7bjgIHpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSkKLy8gQGRlc2NyaXB0aW9uOnpoLVRXICDpq5jpgJ/kuIvovIkgR2l0IENsb25lL1NTSOOAgVJlbGVhc2XjgIFSYXfjgIFDb2RlKFpJUCkg562J5paH5Lu244CB6aCF55uu5YiX6KGo5Zau5paH5Lu25b+r5o235LiL6LyJICjimIEpCi8vIEBkZXNjcmlwdGlvbjplbiAgSGlnaC1zcGVlZCBkb3dubG9hZCBvZiBHaXQgQ2xvbmUvU1NILCBSZWxlYXNlLCBSYXcsIENvZGUoWklQKSBhbmQgb3RoZXIgZmlsZXMsIHByb2plY3QgbGlzdCBmaWxlIHF1aWNrIGRvd25sb2FkICjimIEpCi8vIEBtYXRjaCAgICAgICAgKjovL2dpdGh1Yi5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9rZ2l0aHViLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2h1Yi5mZ2l0LmdxLyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQUZ6VWtkQ0FLN09IT2tBQUFDRVVFeFVSVXhwY1JnV0Zoc1lHQmdXRmhjV0ZoOFdGaG9ZR0JnV0ZpVWxKUmNWRlJrV0ZoZ1ZGUmdXRmhnVkZSc1dGaGdXRmlnZUhoa1dGdi8vLy8vLy8vLy8vL3I2K2g0ZUh2Ly8veGNWRmZMeDhTTWhJVU5DUXBTVGsvcjYralkwTkNrbko5N2UzcnU3dStmbjUxQk9Uc1BDd3FHZ29JU0RnNmVtcG1wb2FLMnNyTkRRMEZoWFYzZVhjQ2NBQUFBWGRGSk9Vd0NCSVpYTUdQNzBCdVJIMlplL0xwSU1VdW5Ia3BRUjM0c2Z5Z0FBQVZwSlJFRlVPTXQxVSttYWdqQU1EQVZiNUJEVTNXMjViOVQxL2Q5dmFZcFFLRHMvckY5blNOSmtBckRBOWV6UVo4d1BiYzhGRTZlQWlRVXNPTzFvMTlKb2xGaWJLQ2RIR0hDMElKZXpPTUQ1c254L3lFK0tPWVlyNDJmUFN1ZlNaeWF6cURvc2VUUHc0bEdKTk91NkxCWFZVUEJHM2xxWUFPdi81WnduTlVmVWlmekJ0OGdrZ2ZnSU5tanhPcGdxVUExNDdRV05hb2NMbmlxcTNRc1NWYlFITnA0NU4vQkF3b1lRejlvVUpFaUU0R01HZm9CU01qNWdqZVdSSU1NcWxlRC9DQXpVSEZxVEx5ak9BNXpqTm53YTRVQ0VaMllLM2toRWNCWEhqVkJ0RUZlSVo2K054WWJQcVdwMURMS1Y0MnQ2VWpuMnlkeWlQaTluWDBUVE5Ba1ZWWi9nb3pzbDZGYnJrdGt3YVZ2TDJUUkswQzhDYTdIY2s3ZjVPQlQ2RkZiTEFUa0wydWdWMHRtMFJMTTlmZWREdmhXc3RsOFdwOUFGRGpGWDd5T1kvbEpydjhBa1l1ejdmdVA4ZHY5aXpDWUgreDMvTEJuajlmWVBCVHBKRE56WCs3Y0FBQUFBU1VWT1JLNUNZSUk9Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICB3aW5kb3cub251cmxjaGFuZ2UKLy8gQHNhbmRib3ggICAgICBKYXZhU2NyaXB0Ci8vIEBsaWNlbnNlICAgICAgR1BMLTMuMCBMaWNlbnNlCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQxMjI0NQovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gQGhvbWVwYWdlVVJMICBodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Ci8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGJhY2tDb2xvciA9ICcjZmZmZmZmJywgZm9udENvbG9yID0gJyM4ODg4ODgnLCBtZW51X3Jhd0Zhc3QgPSBHTV9nZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JyksIG1lbnVfcmF3RmFzdF9JRCwgbWVudV9yYXdEb3duTGlua19JRCwgbWVudV9naXRDbG9uZV9JRCwgbWVudV9mZWVkQmFja19JRDsKICAgIGNvbnN0IGRvd25sb2FkX3VybF91cyA9IFsKICAgICAgICBbJ2h0dHBzOi8vZ2guaDIzMy5ldS5vcmcvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbQFguSS5VL1hJVTJdIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2doLmFwaS45OTk4ODg2Ni54eXovaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbaHVuc2hjbi9naC1wcm94eV0g5o+Q5L6bJ10sIC8vIOWumOaWuea8lOekuuermeeUqOeahOS6uuWkquWkmuS6hgogICAgICAgIFsnaHR0cHM6Ly9naC5kZGxjLnRvcC9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtAbXRyLXN0YXRpYy1vZmZpY2lhbF0g5o+Q5L6bJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2gyLnlhbnFpc2h1aS53b3JrL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0BIb25namllQ05dIOaPkOS+myddLCAvLyBFcnJvciAxMTAxCiAgICAgICAgWydodHRwczovL2doZGwuZmVpemh1cXdxLmNmL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2ZlaXpodXF3cS5jb21dIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2doLXByb3h5LW1pc2FrYW5vNzU0NS5rb3llYi5hcHAvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLCAvLyA0MDQKICAgICAgICAvL1snaHR0cHM6Ly9naC5mbHlpbmJ1Zy50b3AvZ2gvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTWludGltYXRlXSDmj5DkvpsnXSwgLy8g5Z+f5ZCN5peg6Kej5p6QCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2l0aHViLjkxY2hpLmZ1bi9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sIC8vIOi/nuaOpei2heaXtgogICAgICAgIFsnaHR0cHM6Ly9zbGluay5sdGQvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBb55+l5LqG5bCP56uZXSDmj5DkvpsnXSwKICAgICAgICBbJ2h0dHBzOi8vZ2l0LnhmajAuY24vaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIFsnaHR0cHM6Ly9naC5jb24uc2gvaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLAogICAgICAgIFsnaHR0cHM6Ly9naHBzLmNjL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXSwKICAgICAgICBbJ2h0dHBzOi8vY29ycy5pc3RlZWQuY2MvZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0x1ZnNcJ3NdIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9odWIuZ2l0bWlycm9yLmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtHaXRNaXJyb3JdIOaPkOS+myddLAogICAgICAgIC8vWydodHRwczovL2pzLnh4b29vLm1sL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW+mlreWkquehrF0g5o+Q5L6bJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vcHJveHkuZnJlZWNkbi5tbC8/dXJsPWh0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0nXSwKICAgICAgICAvL1snaHR0cHM6Ly9jZG4uZ2l0aHVianMuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dJ10sIC8vIOWfn+WQjeaXoOino+aekAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC5uanV1LmNmJywgJ+e+juWbvScsICdb576O5Zu9IOaLieaWr+e7tOWKoOaWr10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0xpYnJhcnlDbG91ZF0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2Rvd25sb2FkLnl6dXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myddLAogICAgICAgIFsnaHR0cHM6Ly9kb3dubG9hZC5udWFhLmNmJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTGlicmFyeUNsb3VkXSDmj5DkvpsnXQogICAgXSwgZG93bmxvYWRfdXJsID0gWyAvLyBmYXN0Z2l0IOeahCBSZWxlYXNlIOaMguS6hu+8jOS9hiBEb3dubG9hZCBaSVAg5L6d54S25Y+v5LulCiAgICAgICAgWydodHRwczovL2Rvd25sb2FkLmZhc3RnaXQub3JnJywgJ+W+t+WbvScsICdb5b635Zu9XSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJiMxMDsmIzEwO+aPkOekuu+8muWmguaenOmAn+W6puWPr+S7peaOpeWPl++8jOW4jOacm+Wkp+WutuWwvemHj+WkmuS9v+eUqOWJjemdoueahOe+juWbveiKgueCue+8iOavj+asoemaj+acuiA0IOS4quadpei0n+i9veWdh+ihoe+8ie+8jCYjMTA76YG/5YWN5rWB6YeP6YO96ZuG5Lit5Yiw5Lqa5rSy5YWs55uK6IqC54K577yM5YeP5bCR5oiQ5pys5Y6L5Yqb5omN6IO96L+Q6JCl5pu05oyB5LmFficsICdodHRwczovL2FyY2hpdmUuZmFzdGdpdC5vcmcnXSwKICAgICAgICBbJ2h0dHBzOi8vZG93bmxvYWQuZmFzdGdpdC5peG11Lm5ldCcsICfml6XmnKwnLCAnW+aXpeacrCDlpKfpmKpdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFvpu4Pln5ToiIjlnItdIOaPkOS+myYjMTA7JiMxMDvmj5DnpLrvvJrlpoLmnpzpgJ/luqblj6/ku6XmjqXlj5fvvIzluIzmnJvlpKflrrblsL3ph4/lpJrkvb/nlKjliY3pnaLnmoTnvo7lm73oioLngrnvvIjmr4/mrKHpmo/mnLogNCDkuKrmnaXotJ/ovb3lnYfooaHvvInvvIwmIzEwO+mBv+WFjea1gemHj+mDvembhuS4reWIsOS6mua0suWFrOebiuiKgueCue+8jOWHj+WwkeaIkOacrOWOi+WKm+aJjeiDvei/kOiQpeabtOaMgeS5hX4nXSwKICAgICAgICBbJ2h0dHBzOi8vZ2hwcm94eS5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+mfqeWbvScsICdb5pel5pys44CB6Z+p5Zu944CB5b635Zu9562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2docHJveHldIOaPkOS+myYjMTA7JiMxMDvmj5DnpLrvvJrlpoLmnpzpgJ/luqblj6/ku6XmjqXlj5fvvIzluIzmnJvlpKflrrblsL3ph4/lpJrkvb/nlKjliY3pnaLnmoTnvo7lm73oioLngrnvvIjmr4/mrKHpmo/mnLogNCDkuKrmnaXotJ/ovb3lnYfooaHvvInvvIwmIzEwO+mBv+WFjea1gemHj+mDvembhuS4reWIsOS6mua0suWFrOebiuiKgueCue+8jOWHj+WwkeaIkOacrOWOi+WKm+aJjeiDvei/kOiQpeabtOaMgeS5hX4nXSwKICAgICAgICBbJ2h0dHBzOi8va2dpdGh1Yi5jb20nLCAn5paw5Yqg5Z2hJywgJ1vmlrDliqDlnaFdIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtLR2l0SHViXSDmj5DkvpsmIzEwOyYjMTA75o+Q56S677ya5aaC5p6c6YCf5bqm5Y+v5Lul5o6l5Y+X77yM5biM5pyb5aSn5a625bC96YeP5aSa5L2/55So5YmN6Z2i55qE576O5Zu96IqC54K577yI5q+P5qyh6ZqP5py6IDQg5Liq5p2l6LSf6L295Z2H6KGh77yJ77yMJiMxMDvpgb/lhY3mtYHph4/pg73pm4bkuK3liLDkuprmtLLlhaznm4roioLngrnvvIzlh4/lsJHmiJDmnKzljovlipvmiY3og73ov5DokKXmm7TmjIHkuYV+J10KICAgIF0sIGNsb25lX3VybCA9IFsKICAgICAgICBbJ2h0dHBzOi8vZ2l0Y2xvbmUuY29tJywgJ+WbveWGhScsICdb5Lit5Zu9IOWbveWGhV0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0dpdENsb25lXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDpppbmrKHmr5TovoPmhaLvvIznvJPlrZjlkI7ovoPlv6snXSwKICAgICAgICBbJ2h0dHBzOi8vaHViLmZnaXQuZ3EnLCAn6LaK5Y2XJywgJ1votorljZddIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtGYXN0R2l0IOe+pOe7hOaIkOWRmF0g5o+Q5L6bJ10sCiAgICAgICAgWydodHRwczovL2tnaXRodWIuY29tJywgJ+aWsOWKoOWdoScsICdb5paw5Yqg5Z2hXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbS0dpdEh1Yl0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9naXRodWIubW9leXkueHl6L2h0dHBzOi8vZ2l0aHViLmNvbScsICfmlrDliqDlnaEnLCAnW+aWsOWKoOWdoeOAgemmmea4r+OAgeaXpeacrOetiV3vvIhDRE4g5LiN5Zu65a6a77yJIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtNb2V5eV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIFsnaHR0cHM6Ly9naHByb3h5LmNvbS9odHRwczovL2dpdGh1Yi5jb20nLCAn6Z+p5Zu9JywgJ1vml6XmnKzjgIHpn6nlm73jgIHlvrflm73nrYld77yIQ0ROIOS4jeWbuuWumu+8iSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbZ2hwcm94eV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddCiAgICAgICAgLy9bJ2h0dHBzOi8vc2xpbmsubHRkL2h0dHBzOi8vZ2l0aHViLmNvbScsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW+efpeS6huWwj+ermV0g5o+Q5L6bJ10gLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLmdpdG1pcnJvci5jb20vaHR0cHM6Ly9naXRodWIuY29tJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbR2l0TWlycm9yXSDmj5DkvpsnXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLm5qdXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70g5ouJ5pav57u05Yqg5pavXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbTGlicmFyeUNsb3VkXSDmj5DkvpsnXSwgLy8g5oyC5LqGCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLnl6dXUuY2YnLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myddLCAvLyDmmoLml6Dlv4XopoEKICAgICAgICAvL1snaHR0cHM6Ly9odWIubnVhYS5jZicsICfnvo7lm70nLCAnW+e+juWbvSBDbG91ZGZsYXJlIENETl0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0xpYnJhcnlDbG91ZF0g5o+Q5L6bJ10gLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vaHViLjB6LmdzJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddLCAvLyDln5/lkI3ml6Dop6PmnpAKICAgICAgICAvL1snaHR0cHM6Ly9odWIuc2h1dGNtLmNmJywgJ+e+juWbvScsICdb576O5Zu9IENsb3VkZmxhcmUgQ0ROXSddIC8vIOi/nuaOpei2heaXtgogICAgXSwgY2xvbmVfc3NoX3VybCA9IFsKICAgICAgICBbJ3NzaDovL2dpdEBzc2guZ2l0aHViLmNvbTo0NDMvJywgJ0dpdGh1YiDljp/nlJ8nLCAnW+aXpeacrOOAgeaWsOWKoOWdoeetiV0gLSBHaXRodWIg5a6Y5pa55o+Q5L6b55qEIDQ0MyDnq6/lj6PnmoQgU1NI77yI5L6d54S25pivIFNTSCDljY/orq7vvInvvIzpgILnlKjkuo7pmZDliLborr/pl64gMjIg56uv5Y+j55qE572R57uc546v5aKDJ10sCiAgICAgICAgWydnaXRAc3NoLmZhc3RnaXQub3JnOicsICfpppnmuK8nLCAnW+S4reWbvSDpppnmuK9dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtGYXN0R2l0XSDmj5DkvpsnXQogICAgICAgIC8vWydnaXRAZ2l0LnpobGg2LmNuOicsICfnvo7lm70nLCAnW+e+juWbvSDmtJvmnYnnn7ZdJ10gLy8g5oyC5LqGCiAgICBdLCByYXdfdXJsID0gWwogICAgICAgIFsnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ0dpdGh1YiDljp/nlJ8nLCAnW+aXpeacrCDkuJzkuqxdJ10sCiAgICAgICAgWydodHRwczovL3Jhdy5pcWlxLmlvJywgJ+mmmea4rycsICdb5Lit5Zu9IOmmmea4r10gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2lRRE5TL2lRWm9uZV0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLAogICAgICAgIC8vWydodHRwczovL3Jhdy5mZ2l0LmdxJywgJ+i2iuWNlycsICdb6LaK5Y2XXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdCDnvqTnu4TmiJDlkZhdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgWydodHRwczovL3Jhdy5rZ2l0aHViLmNvbScsICfmlrDliqDlnaEnLCAnW+aWsOWKoOWdoV0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0tHaXRIdWJdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICBbJ2h0dHBzOi8vZ2hwcm94eS5jb20vaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ+mfqeWbvScsICdb5pel5pys44CB6Z+p5Zu944CB5b635Zu9562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2docHJveHldIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwKICAgICAgICBbJ2h0dHBzOi8vZmFzdGx5LmpzZGVsaXZyLm5ldC9naCcsICfml6XmnKwgMScsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW0pTRGVsaXZyIENETl0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaciSYjMTA7IC0g5LiN5pSv5oyB5aSn5bCP6LaF6L+HIDUwIE1CIOeahOaWh+S7tiYjMTA7IC0g5LiN5pSv5oyB54mI5pys5Y+35qC85byP55qE5YiG5pSv5ZCN77yI5aaCIHYxLjIuM++8iSddLAogICAgICAgIFsnaHR0cHM6Ly9jZG4uc3RhdGljYWx5LmNvbS9naCcsICfml6XmnKwgMicsICdb5pel5pysIOS4nOS6rF0gLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW1N0YXRpY2FsbHkgQ0ROXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDkuI3mlK/mjIHlpKflsI/otoXov4cgMzAgTUIg55qE5paH5Lu2J10sCiAgICAgICAgWydodHRwczovL2docHJveHkubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbScsICfml6XmnKwgMycsICdb5pel5pysIOWkp+mYql0mIzEwOyYjMTA7IC0g57yT5a2Y77ya5peg77yI5oiW5pe26Ze05b6I55+t77yJJ10sCiAgICAgICAgWydodHRwczovL3Jhdy5mYXN0Z2l0Lml4bXUubmV0JywgJ+aXpeacrCA0JywgJ1vml6XmnKwg5aSn6ZiqXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBb6buD5Z+U6IiI5ZyLXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5peg77yI5oiW5pe26Ze05b6I55+t77yJJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vcmF3LmZhc3RnaXQub3JnJywgJ+W+t+WbvScsICdb5b635Zu9XSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbRmFzdEdpdF0g5o+Q5L6bJiMxMDsmIzEwOyAtIOe8k+WtmO+8muaXoO+8iOaIluaXtumXtOW+iOefre+8iSddLCAvLyDmmoLml6Dlv4XopoEKICAgICAgICAvL1snaHR0cHM6Ly9yYXcubmp1dS5jZicsICfnvo7lm70nLCAnW+e+juWbvSDmi4nmlq/nu7TliqDmlq9dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtMaWJyYXJ5Q2xvdWRdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70gQ2xvdWRmbGFyZSBDRE5dIC0g6K+l5YWs55uK5Yqg6YCf5rqQ55SxIFtHaXRNaXJyb3JdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8g5pqC5peg5b+F6KaBCiAgICAgICAgLy9bJ2h0dHBzOi8vZ2l0Lnl1bWVuYWthLm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20nLCAn576O5Zu9JywgJ1vnvo7lm70g5Zyj5L2V5aGeXSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXSwgLy8g6L+e5o6l6LaF5pe2CiAgICAgICAgWydodHRwczovL2djb3JlLmpzZGVsaXZyLm5ldC9naCcsICflhbbku5YgMScsICdb56e75Yqo6LWw6aaZ5riv44CB55S15L+h6LWw5pel5pysXSAtIOivpeWFrOebiuWKoOmAn+a6kOeUsSBbSlNEZWxpdnIgQ0ROXSDmj5DkvpsmIzEwOyYjMTA7IC0g57yT5a2Y77ya5pyJJiMxMDsgLSDkuI3mlK/mjIHlpKflsI/otoXov4cgNTAgTUIg55qE5paH5Lu2JiMxMDsgLSDkuI3mlK/mjIHniYjmnKzlj7fmoLzlvI/nmoTliIbmlK/lkI3vvIjlpoIgdjEuMi4z77yJJ10sCiAgICAgICAgLy9bJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLnJlbi9naCcsICflhbbku5YgMScsICdb5paw5Yqg5Z2h44CB6aaZ5riv44CB5pel5pys562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW2F5YW9dIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8g5Z+f5ZCN5peg6Kej5p6QCiAgICAgICAgWydodHRwczovL2pzZGVsaXZyLmItY2RuLm5ldC9naCcsICflhbbku5YgMicsICdb6aaZ5riv44CB5Y+w5rm+44CB5pel5pys44CB5paw5Yqg5Z2h562JXe+8iENETiDkuI3lm7rlrprvvIkgLSDor6Xlhaznm4rliqDpgJ/mupDnlLEgW3J0dHd5anpdIOaPkOS+myYjMTA7JiMxMDsgLSDnvJPlrZjvvJrmnIknXSwgLy8gNTAwCiAgICAgICAgWydodHRwczovL2dpdGh1Yi5tb2V5eS54eXovaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJywgJ+WFtuS7liAyJywgJ1vmlrDliqDlnaHjgIHpppnmuK/jgIHml6XmnKznrYld77yIQ0ROIOS4jeWbuuWumu+8iSYjMTA7JiMxMDsgLSDnvJPlrZjvvJrml6DvvIjmiJbml7bpl7Tlvojnn63vvIknXQogICAgXSwgc3ZnID0gWwogICAgICAgICc8c3ZnIGNsYXNzPSJvY3RpY29uIG9jdGljb24tZmlsZS16aXAgbXItMiIgYXJpYS1oaWRkZW49InRydWUiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTYiIGRhdGEtdmlldy1jb21wb25lbnQ9InRydWUiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNSAxLjc1YS4yNS4yNSAwIDAxLjI1LS4yNWgzYS43NS43NSAwIDAwMCAxLjVoLjVhLjc1Ljc1IDAgMDAwLTEuNWgyLjA4NmEuMjUuMjUgMCAwMS4xNzcuMDczbDIuOTE0IDIuOTE0YS4yNS4yNSAwIDAxLjA3My4xNzd2OC41ODZhLjI1LjI1IDAgMDEtLjI1LjI1aC0uNWEuNzUuNzUgMCAwMDAgMS41aC41QTEuNzUgMS43NSAwIDAwMTQgMTMuMjVWNC42NjRjMC0uNDY0LS4xODQtLjkwOS0uNTEzLTEuMjM3TDEwLjU3My41MTNBMS43NSAxLjc1IDAgMDA5LjMzNiAwSDMuNzVBMS43NSAxLjc1IDAgMDAyIDEuNzV2MTEuNWMwIC42NDkuMzUzIDEuMjE0Ljg3NCAxLjUxNWEuNzUuNzUgMCAxMC43NTItMS4yOTguMjUuMjUgMCAwMS0uMTI2LS4yMTdWMS43NXpNOC43NSAzYS43NS43NSAwIDAwMCAxLjVoLjVhLjc1Ljc1IDAgMDAwLTEuNWgtLjV6TTYgNS4yNWEuNzUuNzUgMCAwMS43NS0uNzVoLjVhLjc1Ljc1IDAgMDEwIDEuNWgtLjVBLjc1Ljc1IDAgMDE2IDUuMjV6bTIgMS41QS43NS43NSAwIDAxOC43NSA2aC41YS43NS43NSAwIDAxMCAxLjVoLS41QS43NS43NSAwIDAxOCA2Ljc1em0tMS4yNS43NWEuNzUuNzUgMCAwMDAgMS41aC41YS43NS43NSAwIDAwMC0xLjVoLS41ek04IDkuNzVBLjc1Ljc1IDAgMDE4Ljc1IDloLjVhLjc1Ljc1IDAgMDEwIDEuNWgtLjVBLjc1Ljc1IDAgMDE4IDkuNzV6bS0uNzUuNzVhMS43NSAxLjc1IDAgMDAtMS43NSAxLjc1djNjMCAuNDE0LjMzNi43NS43NS43NWgyLjVhLjc1Ljc1IDAgMDAuNzUtLjc1di0zYTEuNzUgMS43NSAwIDAwLTEuNzUtMS43NWgtLjV6TTcgMTIuMjVhLjI1LjI1IDAgMDEuMjUtLjI1aC41YS4yNS4yNSAwIDAxLjI1LjI1djIuMjVIN3YtMi4yNXoiPjwvcGF0aD48L3N2Zz4nLAogICAgICAgICc8c3ZnIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgd2lkdGg9IjE2IiBkYXRhLXZpZXctY29tcG9uZW50PSJ0cnVlIiBjbGFzcz0ib2N0aWNvbiBvY3RpY29uLWNvcHkganMtY2xpcGJvYXJkLWNvcHktaWNvbiBkLWlubGluZS1ibG9jayI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMCA2Ljc1QzAgNS43ODQuNzg0IDUgMS43NSA1aDEuNWEuNzUuNzUgMCAwMTAgMS41aC0xLjVhLjI1LjI1IDAgMDAtLjI1LjI1djcuNWMwIC4xMzguMTEyLjI1LjI1LjI1aDcuNWEuMjUuMjUgMCAwMC4yNS0uMjV2LTEuNWEuNzUuNzUgMCAwMTEuNSAwdjEuNUExLjc1IDEuNzUgMCAwMTkuMjUgMTZoLTcuNUExLjc1IDEuNzUgMCAwMTAgMTQuMjV2LTcuNXoiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01IDEuNzVDNSAuNzg0IDUuNzg0IDAgNi43NSAwaDcuNUMxNS4yMTYgMCAxNiAuNzg0IDE2IDEuNzV2Ny41QTEuNzUgMS43NSAwIDAxMTQuMjUgMTFoLTcuNUExLjc1IDEuNzUgMCAwMTUgOS4yNXYtNy41em0xLjc1LS4yNWEuMjUuMjUgMCAwMC0uMjUuMjV2Ny41YzAgLjEzOC4xMTIuMjUuMjUuMjVoNy41YS4yNS4yNSAwIDAwLjI1LS4yNXYtNy41YS4yNS4yNSAwIDAwLS4yNS0uMjVoLTcuNXoiPjwvcGF0aD48L3N2Zz48c3ZnIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgd2lkdGg9IjE2IiBkYXRhLXZpZXctY29tcG9uZW50PSJ0cnVlIiBjbGFzcz0ib2N0aWNvbiBvY3RpY29uLWNoZWNrIGpzLWNsaXBib2FyZC1jaGVjay1pY29uIGNvbG9yLWZnLXN1Y2Nlc3MgZC1pbmxpbmUtYmxvY2sgZC1zbS1ub25lIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy43OCA0LjIyYS43NS43NSAwIDAxMCAxLjA2bC03LjI1IDcuMjVhLjc1Ljc1IDAgMDEtMS4wNiAwTDIuMjIgOS4yOGEuNzUuNzUgMCAwMTEuMDYtMS4wNkw2IDEwLjk0bDYuNzItNi43MmEuNzUuNzUgMCAwMTEuMDYgMHoiPjwvcGF0aD48L3N2Zz4nLAogICAgICAgICc8c3ZnIGNsYXNzPSJvY3RpY29uIG9jdGljb24tY2xvdWQtZG93bmxvYWQiIGFyaWEtaGlkZGVuPSJ0cnVlIiBoZWlnaHQ9IjE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2Ij48cGF0aCBkPSJNOSAxMmgybC0zIDMtMy0zaDJWN2gydjV6bTMtOGMwLS40NC0uOTEtMy00LjUtM0M1LjA4IDEgMyAyLjkyIDMgNSAxLjAyIDUgMCA2LjUyIDAgOGMwIDEuNTMgMSAzIDMgM2gzVjkuN0gzQzEuMzggOS43IDEuMyA4LjI4IDEuMyA4YzAtLjE3LjA1LTEuNyAxLjctMS43aDEuM1Y1YzAtMS4zOSAxLjU2LTIuNyAzLjItMi43IDIuNTUgMCAzLjEzIDEuNTUgMy4yIDEuOHYxLjJIMTJjLjgxIDAgMi43LjIyIDIuNyAyLjIgMCAyLjA5LTIuMjUgMi4yLTIuNyAyLjJoLTJWMTFoMmMyLjA4IDAgNC0xLjE2IDQtMy41QzE2IDUuMDYgMTQuMDggNCAxMiA0eiI+PC9wYXRoPjwvc3ZnPicKICAgIF0sIHN0eWxlID0gWydwYWRkaW5nOjAgNnB4OyBtYXJnaW4tcmlnaHQ6IC0xcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tWElVMi1iYWNrLUNvbG9yKTsgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMSk7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLVhJVTItZm9udC1Db2xvcik7J107CgogICAgaWYgKG1lbnVfcmF3RmFzdCA9PSBudWxsKXttZW51X3Jhd0Zhc3QgPSAxOyBHTV9zZXRWYWx1ZSgneGl1Ml9tZW51X3Jhd19mYXN0JywgMSl9OwogICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X3Jhd0Rvd25MaW5rJykgPT0gbnVsbCl7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCB0cnVlKX07CiAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfZ2l0Q2xvbmUnKSA9PSBudWxsKXtHTV9zZXRWYWx1ZSgnbWVudV9naXRDbG9uZScsIHRydWUpfTsKICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQoKTsKICAgIC8vIOazqOWGjOiEmuacrOiPnOWNlQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgICAgICAvLyDlpoLmnpzlj43ppojoj5zljZVJROS4jeaYryBudWxs77yM5YiZ5Yig6Zmk5omA5pyJ6ISa5pys6I+c5Y2VCiAgICAgICAgaWYgKG1lbnVfZmVlZEJhY2tfSUQpIHtHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudV9yYXdGYXN0X0lEKTsgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVfcmF3RG93bkxpbmtfSUQpOyBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudV9naXRDbG9uZV9JRCk7IEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZChtZW51X2ZlZWRCYWNrX0lEKTsgbWVudV9yYXdGYXN0ID0gR01fZ2V0VmFsdWUoJ3hpdTJfbWVudV9yYXdfZmFzdCcpO30KICAgICAgICAvLyDpgb/lhY3lnKjlh4/lsJEgcmF3IOaVsOe7hOWQju+8jOeUqOaIt+WCqOWtmOeahOaVsOaNruWkp+S6juaVsOe7hOiAjOaKpemUmQogICAgICAgIGlmIChtZW51X3Jhd0Zhc3QgPiByYXdfdXJsLmxlbmd0aCAtIDEpIG1lbnVfcmF3RmFzdCA9IDAKICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKSkgbWVudV9yYXdGYXN0X0lEID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZChgJHtbJzDvuI/ig6MnLCcx77iP4oOjJywnMu+4j+KDoycsJzPvuI/ig6MnLCc077iP4oOjJywnNe+4j+KDoycsJzbvuI/ig6MnLCc377iP4oOjJywnOO+4j+KDoycsJznvuI/ig6MnLCfwn5SfJ11bbWVudV9yYXdGYXN0XX0gWyAke3Jhd191cmxbbWVudV9yYXdGYXN0XVsxXX0gXSDliqDpgJ/mupAgKOKYgSkgLSDngrnlh7vliIfmjaJgLCBtZW51X3RvZ2dsZV9yYXdfZmFzdCk7CiAgICAgICAgbWVudV9yYXdEb3duTGlua19JRCA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7R01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKT8n4pyFJzon4p2MJ30g6aG555uu5YiX6KGo5Y2V5paH5Lu25b+r5o235LiL6L29ICjimIEpYCwgZnVuY3Rpb24oKXtpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnKSA9PSB0cnVlKSB7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCBmYWxzZSk7IEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOW3suWFs+mXrSBb6aG555uu5YiX6KGo5Y2V5paH5Lu25b+r5o235LiL6L29ICjimIEpXSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pO30gZWxzZSB7R01fc2V0VmFsdWUoJ21lbnVfcmF3RG93bkxpbmsnLCB0cnVlKTsgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFvpobnnm67liJfooajljZXmlofku7blv6vmjbfkuIvovb0gKOKYgSldIOWKn+iDvVxu77yI54K55Ye75Yi35paw572R6aG15ZCO55Sf5pWI77yJYCwgdGltZW91dDogMzUwMCwgb25jbGljazogZnVuY3Rpb24oKXtsb2NhdGlvbi5yZWxvYWQoKTt9fSk7fXJlZ2lzdGVyTWVudUNvbW1hbmQoKTt9KTsKICAgICAgICBtZW51X2dpdENsb25lX0lEID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZChgJHtHTV9nZXRWYWx1ZSgnbWVudV9naXRDbG9uZScpPyfinIUnOifinYwnfSDmt7vliqAgZ2l0IGNsb25lIOWRveS7pGAsIGZ1bmN0aW9uKCl7aWYgKEdNX2dldFZhbHVlKCdtZW51X2dpdENsb25lJykgPT0gdHJ1ZSkge0dNX3NldFZhbHVlKCdtZW51X2dpdENsb25lJywgZmFsc2UpOyBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDlt7LlhbPpl60gW+a3u+WKoCBnaXQgY2xvbmUg5ZG95LukXSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pO30gZWxzZSB7R01fc2V0VmFsdWUoJ21lbnVfZ2l0Q2xvbmUnLCB0cnVlKTsgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFvmt7vliqAgZ2l0IGNsb25lIOWRveS7pF0g5Yqf6IO9XG7vvIjngrnlh7vliLfmlrDnvZHpobXlkI7nlJ/mlYjvvIlgLCB0aW1lb3V0OiAzNTAwLCBvbmNsaWNrOiBmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpO319KTt9cmVnaXN0ZXJNZW51Q29tbWFuZCgpO30pOwogICAgICAgIG1lbnVfZmVlZEJhY2tfSUQgPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCfwn5KsIOWPjemmiCAmIOW7uuiuriBbR2l0aHViXScsIGZ1bmN0aW9uICgpIHt3aW5kb3cuR01fb3BlbkluVGFiKCdodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Jywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzQxMjI0NS9mZWVkYmFjaycsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO30pOwogICAgfQoKICAgIC8vIOWIh+aNouWKoOmAn+a6kAogICAgZnVuY3Rpb24gbWVudV90b2dnbGVfcmF3X2Zhc3QoKSB7CiAgICAgICAgLy8g5aaC5p6c5b2T5YmN5Yqg6YCf5rqQ5L2N572u5aSn5LqO562J5LqO5Yqg6YCf5rqQ5oC75pWw77yM5YiZ5pS55Li656ys5LiA5Liq5Yqg6YCf5rqQ77yM5Y+N5LmL6YCS5aKe5LiL5LiA5Liq5Yqg6YCf5rqQCiAgICAgICAgaWYgKG1lbnVfcmF3RmFzdCA+PSByYXdfdXJsLmxlbmd0aCAtIDEpIHttZW51X3Jhd0Zhc3QgPSAwO30gZWxzZSB7bWVudV9yYXdGYXN0ICs9IDE7fQogICAgICAgIEdNX3NldFZhbHVlKCd4aXUyX21lbnVfcmF3X2Zhc3QnLCBtZW51X3Jhd0Zhc3QpOwogICAgICAgIGRlbFJhd0Rvd25MaW5rKCk7IC8vIOWIoOmZpOaXp+WKoOmAn+a6kAogICAgICAgIGFkZFJhd0Rvd25MaW5rKCk7IC8vIOa3u+WKoOaWsOWKoOmAn+a6kAogICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogIuW3suWIh+aNouWKoOmAn+a6kOS4uu+8miIgKyByYXdfdXJsW21lbnVfcmF3RmFzdF1bMV0sIHRpbWVvdXQ6IDMwMDB9KTsgLy8g5o+Q56S65raI5oGvCiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH07CgogICAgY29sb3JNb2RlKCk7IC8vIOmAgumFjeeZveWkqS/lpJzpl7TkuLvpopjmqKHlvI8KICAgIC8vaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZWxlYXNlcycpKSBhZGRSZWxlYXNlKCk7IC8vIFJlbGVhc2Ug5Yqg6YCfCiAgICBzZXRUaW1lb3V0KGFkZERvd25sb2FkWklQLCAyMDAwKTsgLy8gRG93bmxvYWQgWklQIOWKoOmAnwogICAgc2V0VGltZW91dChhZGRHaXRDbG9uZSwgMjAwMCk7IC8vICAgIEdpdCBDbG9uZSDliqDpgJ8KICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmVTU0gsIDIwMDApOyAvLyBHaXQgQ2xvbmUgU1NIIOWKoOmAnwogICAgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlciA9PT0gJ1RhbXBlcm1vbmtleScpIHthZGRSYXdGaWxlKCk7fSBlbHNlIHtzZXRUaW1lb3V0KGFkZFJhd0ZpbGUsIDEwMDApO30gLy8gUmF3IOWKoOmAnwogICAgc2V0VGltZW91dChhZGRSYXdEb3duTGluaywgMjAwMCk7IC8vIFJhdyDljZXmlofku7blv6vmjbfkuIvovb3vvIjimIHvvInvvIzlu7bov58gMiDnp5LmiafooYzvvIzpgb/lhY3ooqsgcGpheCDliLfmjokKCiAgICAvLyBUYW1wZXJtb25rZXkgdjQuMTEg54mI5pys5re75Yqg55qEIG9udXJsY2hhbmdlIOS6i+S7tiBncmFudO+8jOWPr+S7peebkeaOpyBwamF4IOetiee9kemhteeahCBVUkwg5Y+Y5YyWCiAgICBpZiAod2luZG93Lm9udXJsY2hhbmdlID09PSB1bmRlZmluZWQpIGFkZFVybENoYW5nZUV2ZW50KCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgY29sb3JNb2RlKCk7IC8vIOmAgumFjeeZveWkqS/lpJzpl7TkuLvpopjmqKHlvI8KICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlbGVhc2VzJykpIGFkZFJlbGVhc2UoKTsgLy8gUmVsZWFzZSDliqDpgJ8KICAgICAgICBzZXRUaW1lb3V0KGFkZERvd25sb2FkWklQLCAyMDAwKTsgLy8gRG93bmxvYWQgWklQIOWKoOmAnwogICAgICAgIHNldFRpbWVvdXQoYWRkR2l0Q2xvbmUsIDIwMDApOyAvLyAgICBHaXQgQ2xvbmUg5Yqg6YCfCiAgICAgICAgc2V0VGltZW91dChhZGRHaXRDbG9uZVNTSCwgMjAwMCk7IC8vIEdpdCBDbG9uZSBTU0gg5Yqg6YCfCiAgICAgICAgaWYgKEdNX2luZm8uc2NyaXB0SGFuZGxlciA9PT0gJ1RhbXBlcm1vbmtleScpIHthZGRSYXdGaWxlKCk7fSBlbHNlIHtzZXRUaW1lb3V0KGFkZFJhd0ZpbGUsIDEwMDApO30gLy8gUmF3IOWKoOmAnwogICAgICAgIHNldFRpbWVvdXQoYWRkUmF3RG93bkxpbmssIDIwMDApOyAvLyBSYXcg5Y2V5paH5Lu25b+r5o235LiL6L2977yI4piB77yJ77yM5bu26L+fIDIg56eS5omn6KGM77yM6YG/5YWN6KKrIHBqYXgg5Yi35o6JCiAgICAgICAgc2V0VGltZW91dChhZGRSYXdEb3duTGlua18sIDEwMDApOyAvLyDlnKjmtY/op4jlmajov5Tlm54v5YmN6L+b5pe26YeN5paw5re75YqgIFJhdyDkuIvovb3pk77mjqXvvIjimIHvvInpvKDmoIfkuovku7YKICAgIH0pOwoKCiAgICAvLyBHaXRodWIgUmVsZWFzZSDmlLnniYjkuLrliqjmgIHliqDovb3mlofku7bliJfooajvvIzlm6DmraTpnIDopoHnm5HmjqfnvZHpobXlhYPntKDlj5jljJYKICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZWxlYXNlcycpID09PSAtMSkgcmV0dXJuCiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT09IDEpIHJldHVybgogICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiB0YXJnZXQuZGF0YXNldC52aWV3Q29tcG9uZW50ID09PSAndHJ1ZScgJiYgdGFyZ2V0LmNsYXNzTGlzdFswXSA9PT0gJ0JveCcpIGFkZFJlbGVhc2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwoKCiAgICAvLyBkb3dubG9hZF91cmwg6ZqP5py6IDQg5Liq576O5Zu95Yqg6YCf5rqQCiAgICBmdW5jdGlvbiBnZXRfTmV3X2Rvd25sb2FkX3VybCgpIHsKICAgICAgICAvL3JldHVybiBkb3dubG9hZF91cmxfdXMuY29uY2F0KGRvd25sb2FkX3VybCkgLy8g5YWo6L6T5Ye66LCD6K+V55SoCiAgICAgICAgbGV0IHNodWZmbGVkID0gZG93bmxvYWRfdXJsX3VzLnNsaWNlKDApLCBpID0gZG93bmxvYWRfdXJsX3VzLmxlbmd0aCwgbWluID0gaSAtIDQsIHRlbXAsIGluZGV4OwogICAgICAgIHdoaWxlIChpLS0gPiBtaW4pIHtpbmRleCA9IE1hdGguZmxvb3IoKGkgKyAxKSAqIE1hdGgucmFuZG9tKCkpOyB0ZW1wID0gc2h1ZmZsZWRbaW5kZXhdOyBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtpXTsgc2h1ZmZsZWRbaV0gPSB0ZW1wO30KICAgICAgICByZXR1cm4gc2h1ZmZsZWQuc2xpY2UobWluKS5jb25jYXQoZG93bmxvYWRfdXJsKTsgLy8g6ZqP5py65rSX54mMIGRvd25sb2FkX3VybF91cyDmlbDnu4Tlubblj5bliY0gNCDkuKrvvIznhLblkI7lsIblhbblkIjlubboh7MgZG93bmxvYWRfdXJsIOaVsOe7hAogICAgfQoKICAgIC8vIFJlbGVhc2UKICAgIGZ1bmN0aW9uIGFkZFJlbGVhc2UoKSB7CiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQm94LWZvb3RlcicpOyBpZiAoaHRtbC5sZW5ndGggPT0gMCB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcmVsZWFzZXMnKSA9PSAtMSkgcmV0dXJuCiAgICAgICAgbGV0IGRpdkRpc3BsYXkgPSAnbWFyZ2luLWxlZnQ6IC05MHB4OycsIG5ld19kb3dubG9hZF91cmwgPSBnZXRfTmV3X2Rvd25sb2FkX3VybCgpOwogICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiA3NTUpIHtkaXZEaXNwbGF5ID0gJ21hcmdpbi10b3A6IC0zcHg7bWFyZ2luLWxlZnQ6IDhweDtkaXNwbGF5OiBpbmhlcml0Oyc7fTsgLy8g6LCD5pW05bCP5bGP5bmV5pe255qE5qC35byPCiAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGh0bWwpIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnQucXVlcnlTZWxlY3RvcignLlhJVTItUlMnKSkgY29udGludWUKICAgICAgICAgICAgY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaS5Cb3gtcm93IGEnKS5mb3JFYWNoKGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICAgICAgbGV0IGhyZWYgPSBfdGhpcy5ocmVmLnNwbGl0KGxvY2F0aW9uLmhvc3QpLAogICAgICAgICAgICAgICAgICAgIHVybCA9ICcnLCBfaHRtbCA9IGA8ZGl2IGNsYXNzPSJYSVUyLVJTIiBzdHlsZT0iJHtkaXZEaXNwbGF5fSI+YDsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxuZXdfZG93bmxvYWRfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVswXSA9PSAnaHR0cHM6Ly9kb3dubG9hZC5mYXN0Z2l0Lm9yZycpIGNvbnRpbnVlIC8vIGZhc3RnaXQg55qEIFJlbGVhc2Ug5oyC5LqG77yM5L2GIERvd25sb2FkIFpJUCDkvp3nhLblj6/ku6UKICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSAhPT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCcvYXJjaGl2ZS8nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbmV3X2Rvd25sb2FkX3VybFtpXVszXSArIGhyZWZbMV0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBuZXdfZG93bmxvYWRfdXJsW2ldWzBdICsgaHJlZlsxXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdCAhPT0gJ2dpdGh1Yi5jb20nKSB1cmwgPSB1cmwucmVwbGFjZShsb2NhdGlvbi5ob3N0LCdnaXRodWIuY29tJykKICAgICAgICAgICAgICAgICAgICBfaHRtbCArPSBgPGEgc3R5bGU9IiR7c3R5bGVbMF19IiBjbGFzcz0iYnRuIiBocmVmPSIke3VybH0iIHRpdGxlPSIke25ld19kb3dubG9hZF91cmxbaV1bMl19IiByZWw9Im5vcmVmZXJyZXIgbm9vcGVuZXIgbm9mb2xsb3ciPiR7bmV3X2Rvd25sb2FkX3VybFtpXVsxXX08L2E+YAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBfaHRtbCArICc8L2Rpdj4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKCiAgICAvLyBEb3dubG9hZCBaSVAKICAgIGZ1bmN0aW9uIGFkZERvd25sb2FkWklQKCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuWElVMi1EWicpKSByZXR1cm4KICAgICAgICBsZXQgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2NhbC1wYW5lbCB1bCBsaTpsYXN0LWNoaWxkJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZiA9IGh0bWwuZmlyc3RFbGVtZW50Q2hpbGQuaHJlZiwKICAgICAgICAgICAgdXJsID0gJycsIF9odG1sID0gJycsIG5ld19kb3dubG9hZF91cmwgPSBnZXRfTmV3X2Rvd25sb2FkX3VybCgpOwogICAgICAgIGZvciAobGV0IGk9MDtpPG5ld19kb3dubG9hZF91cmwubGVuZ3RoO2krKykgewogICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSA9PT0gJycpIGNvbnRpbnVlCgogICAgICAgICAgICBpZiAobmV3X2Rvd25sb2FkX3VybFtpXVszXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBuZXdfZG93bmxvYWRfdXJsW2ldWzNdICsgaHJlZi5zcGxpdChsb2NhdGlvbi5ob3N0KVsxXQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXJsID0gbmV3X2Rvd25sb2FkX3VybFtpXVswXSArIGhyZWYuc3BsaXQobG9jYXRpb24uaG9zdClbMV0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdCAhPT0gJ2dpdGh1Yi5jb20nKSB1cmwgPSB1cmwucmVwbGFjZShsb2NhdGlvbi5ob3N0LCdnaXRodWIuY29tJykKICAgICAgICAgICAgX2h0bWwgKz0gYDxsaSBjbGFzcz0iQm94LXJvdyBCb3gtcm93LS1ob3Zlci1ncmF5IHAtMyBtdC0wIFhJVTItRFoiPjxhIGNsYXNzPSJkLWZsZXggZmxleC1pdGVtcy1jZW50ZXIgY29sb3ItZmctZGVmYXVsdCB0ZXh0LWJvbGQgbm8tdW5kZXJsaW5lIiByZWw9Im5vcmVmZXJyZXIgbm9vcGVuZXIgbm9mb2xsb3ciIGhyZWY9IiR7dXJsfSIgdGl0bGU9IiR7bmV3X2Rvd25sb2FkX3VybFtpXVsyXX0iPiR7c3ZnWzBdfURvd25sb2FkIFpJUCAke25ld19kb3dubG9hZF91cmxbaV1bMV19PC9hPjwvbGk+YAogICAgICAgIH0KICAgICAgICBodG1sLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBfaHRtbCk7CiAgICB9CgoKICAgIC8vIEdpdCBDbG9uZQogICAgZnVuY3Rpb24gYWRkR2l0Q2xvbmUoKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5YSVUyLUdDJykpIHJldHVybgogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9InRhYnBhbmVsIl06bnRoLWNoaWxkKDIpIGRpdi5pbnB1dC1ncm91cCcpO2lmICghaHRtbCkgcmV0dXJuCiAgICAgICAgbGV0IGhyZWZfc3BsaXQgPSBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlLnNwbGl0KGxvY2F0aW9uLmhvc3QpLAogICAgICAgICAgICB1cmwgPSAnJywgX2h0bWwgPSAnJywgX2dpdENsb25lID0gJyc7CgogICAgICAgIGlmIChHTV9nZXRWYWx1ZSgnbWVudV9naXRDbG9uZScpKSB7X2dpdENsb25lPSdnaXQgY2xvbmUgJzsgaHRtbC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZSA9IF9naXRDbG9uZSArIGh0bWwuZmlyc3RFbGVtZW50Q2hpbGQudmFsdWU7fQogICAgICAgIGZvciAobGV0IGk9MDtpPGNsb25lX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIGlmIChjbG9uZV91cmxbaV1bMF0gPT09ICdodHRwczovL2dpdGNsb25lLmNvbScpIHsKICAgICAgICAgICAgICAgIHVybCA9IGNsb25lX3VybFtpXVswXSArICcvZ2l0aHViLmNvbScgKyBocmVmX3NwbGl0WzFdCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSBjbG9uZV91cmxbaV1bMF0gKyBocmVmX3NwbGl0WzFdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2h0bWwgKz0gYDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIFhJVTItR0MiIHN0eWxlPSJtYXJnaW4tdG9wOiA0cHg7IiB0aXRsZT0i5Yqg6YCf5rqQ77yaJHtjbG9uZV91cmxbaV1bMV19IO+8iOeCueWHu+WPr+ebtOaOpeWkjeWItu+8iSI+PGlucHV0IHZhbHVlPSIke19naXRDbG9uZX0ke3VybH0iIGFyaWEtbGFiZWw9IiR7dXJsfSIgdGl0bGU9IiR7Y2xvbmVfdXJsW2ldWzJdfSIgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBpbnB1dC1tb25vc3BhY2UgaW5wdXQtc20gY29sb3ItYmctc3VidGxlIiBkYXRhLWF1dG9zZWxlY3Q9IiIgcmVhZG9ubHk9IiI+PGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAtYnV0dG9uIj48Y2xpcGJvYXJkLWNvcHkgdmFsdWU9IiR7X2dpdENsb25lfSR7dXJsfSIgYXJpYS1sYWJlbD0iQ29weSB0byBjbGlwYm9hcmQiIGNsYXNzPSJidG4gYnRuLXNtIGpzLWNsaXBib2FyZC1jb3B5IHRvb2x0aXBwZWQtbm8tZGVsYXkgQ2xpcGJvYXJkQnV0dG9uIiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj4ke3N2Z1sxXX08L2NsaXBib2FyZC1jb3B5PjwvZGl2PjwvZGl2PmAKICAgICAgICB9CiAgICAgICAgaHRtbC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgX2h0bWwpOwogICAgfQoKCiAgICAvLyBHaXQgQ2xvbmUgU1NICiAgICBmdW5jdGlvbiBhZGRHaXRDbG9uZVNTSCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlhJVTItR0NTJykpIHJldHVybgogICAgICAgIGxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9InRhYnBhbmVsIl06bnRoLWNoaWxkKDMpIGRpdi5pbnB1dC1ncm91cCcpO2lmICghaHRtbCkgcmV0dXJuCiAgICAgICAgbGV0IGhyZWZfc3BsaXQgPSBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlLnNwbGl0KCc6JyksCiAgICAgICAgICAgIF9odG1sID0gJycsIF9naXRDbG9uZSA9ICcnOwoKICAgICAgICBpZiAoaHJlZl9zcGxpdFswXSAhPSAnZ2l0QGdpdGh1Yi5jb20nKSByZXR1cm4KCiAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X2dpdENsb25lJykpIHtfZ2l0Q2xvbmU9J2dpdCBjbG9uZSAnOyBodG1sLmZpcnN0RWxlbWVudENoaWxkLnZhbHVlID0gX2dpdENsb25lICsgaHRtbC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZTt9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8Y2xvbmVfc3NoX3VybC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIF9odG1sICs9IGA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBYSVUyLUdDUyIgc3R5bGU9Im1hcmdpbi10b3A6IDRweDsiIHRpdGxlPSLliqDpgJ/mupDvvJoke2Nsb25lX3NzaF91cmxbaV1bMV19IO+8iOeCueWHu+WPr+ebtOaOpeWkjeWItu+8iSI+PGlucHV0IHZhbHVlPSIke19naXRDbG9uZX0ke2Nsb25lX3NzaF91cmxbaV1bMF0gKyBocmVmX3NwbGl0WzFdfSIgYXJpYS1sYWJlbD0iJHtjbG9uZV9zc2hfdXJsW2ldWzBdICsgaHJlZl9zcGxpdFsxXX0iIHRpdGxlPSIke2Nsb25lX3NzaF91cmxbaV1bMl19IiB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGlucHV0LW1vbm9zcGFjZSBpbnB1dC1zbSBjb2xvci1iZy1zdWJ0bGUiIGRhdGEtYXV0b3NlbGVjdD0iIiByZWFkb25seT0iIj48ZGl2IGNsYXNzPSJpbnB1dC1ncm91cC1idXR0b24iPjxjbGlwYm9hcmQtY29weSB2YWx1ZT0iJHtfZ2l0Q2xvbmV9JHtjbG9uZV9zc2hfdXJsW2ldWzBdICsgaHJlZl9zcGxpdFsxXX0iIGFyaWEtbGFiZWw9IkNvcHkgdG8gY2xpcGJvYXJkIiBjbGFzcz0iYnRuIGJ0bi1zbSBqcy1jbGlwYm9hcmQtY29weSB0b29sdGlwcGVkLW5vLWRlbGF5IENsaXBib2FyZEJ1dHRvbiIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+JHtzdmdbMV19PC9jbGlwYm9hcmQtY29weT48L2Rpdj48L2Rpdj5gCiAgICAgICAgfQogICAgICAgIGh0bWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIF9odG1sKTsKICAgIH0KCgogICAgLy8gUmF3CiAgICBmdW5jdGlvbiBhZGRSYXdGaWxlKCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuWElVMi1SRicpKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuWElVMi1SRicpLmZvckVhY2goKGUpPT57ZS5yZW1vdmUoKX0pCiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmF3LXVybCwgYVtkYXRhLXRlc3RpZD0icmF3LWJ1dHRvbiJdJyk7aWYgKCFodG1sKSByZXR1cm4KICAgICAgICBsZXQgaHJlZiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZShgaHR0cHM6Ly8ke2xvY2F0aW9uLmhvc3R9YCwnJyksCiAgICAgICAgICAgIGhyZWYyID0gaHJlZi5yZXBsYWNlKCcvYmxvYi8nLCcvJyksCiAgICAgICAgICAgIHVybCA9ICcnLCBfaHRtbCA9ICcnOwoKICAgICAgICBmb3IgKGxldCBpPTE7aTxyYXdfdXJsLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgaWYgKChyYXdfdXJsW2ldWzBdLmluZGV4T2YoJy9naCcpICsgMyA9PT0gcmF3X3VybFtpXVswXS5sZW5ndGgpICYmIHJhd191cmxbaV1bMF0uaW5kZXhPZignY2RuLnN0YXRpY2FseS5jb20nKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbaV1bMF0gKyBocmVmLnJlcGxhY2UoJy9ibG9iLycsJ0AnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHJhd191cmxbaV1bMF0gKyBocmVmMjsKICAgICAgICAgICAgfQogICAgICAgICAgICBfaHRtbCArPSBgPGEgaHJlZj0iJHt1cmx9IiB0aXRsZT0iJHtyYXdfdXJsW2ldWzJdfSIgdGFyZ2V0PSJfYmxhbmsiIHJvbGU9ImJ1dHRvbiIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBkYXRhLXNpemU9InNtYWxsIiBjbGFzcz0iJHtodG1sLmNsYXNzTmFtZX0gWElVMi1SRiI+JHtyYXdfdXJsW2ldWzFdLnJlcGxhY2UoLyBcZC8sJycpfTwvYT5gCiAgICAgICAgfQogICAgICAgIGh0bWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIF9odG1sKTsKICAgIH0KCgogICAgLy8gUmF3IOWNleaWh+S7tuW/q+aNt+S4i+i9ve+8iOKYge+8iQogICAgZnVuY3Rpb24gYWRkUmF3RG93bkxpbmsoKSB7CiAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgnbWVudV9yYXdEb3duTGluaycpKSByZXR1cm4KICAgICAgICAvLyDlpoLmnpzkuI3mmK/pobnnm67mlofku7bpobXpnaLvvIzlsLHov5Tlm57vvIzlpoLmnpznvZHpobXmnIkgUmF3IOS4i+i9vemTvuaOpe+8iOKYge+8ieWwsei/lOWbngogICAgICAgIGxldCBmaWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5Cb3gtcm93IHN2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgLnJlYWN0LWRpcmVjdG9yeS1maWxlbmFtZS1jb2x1bW4+c3ZnLmNvbG9yLWZnLW11dGVkJyk7aWYoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90YWdzJykgPiAtMSkgcmV0dXJuCiAgICAgICAgbGV0IGZpbGVzMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EuZmlsZURvd25MaW5rJyk7aWYoZmlsZXMxLmxlbmd0aCA+IDApIHJldHVybjsKCiAgICAgICAgLy8g6byg5qCH5oyH5ZCR5YiZ5pi+56S6CiAgICAgICAgdmFyIG1vdXNlT3ZlckhhbmRsZXIgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgbGV0IGVsZW0gPSBldnQuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgIGFFbG1fbmV3ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZURvd25MaW5rJyksCiAgICAgICAgICAgICAgICBhRWxtX25vdyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCBzdmcuY29sb3ItZmctbXV0ZWQnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgICAgICBhRWxtX25vdy5mb3JFYWNoKGVsPT57ZWwuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBub25lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOm8oOagh+emu+W8gOWImemakOiXjwogICAgICAgIHZhciBtb3VzZU91dEhhbmRsZXIgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgbGV0IGVsZW0gPSBldnQuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICAgIGFFbG1fbmV3ID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZURvd25MaW5rJyksCiAgICAgICAgICAgICAgICBhRWxtX25vdyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCBzdmcuY29sb3ItZmctbXV0ZWQnKTsKICAgICAgICAgICAgYUVsbV9uZXcuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSd9KTsKICAgICAgICAgICAgYUVsbV9ub3cuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogaW5saW5lJ30pOwogICAgICAgIH07CgogICAgICAgIC8vIOW+queOr+a3u+WKoAogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZUVsbSkgewogICAgICAgICAgICBsZXQgdHJFbG0gPSBmaWxlRWxtLnBhcmVudE5vZGUucGFyZW50Tm9kZSwKICAgICAgICAgICAgICAgIGNudEVsbV9hID0gdHJFbG0ucXVlcnlTZWxlY3RvcignW3JvbGU9InJvd2hlYWRlciJdID4gLmNzcy10cnVuY2F0ZS5jc3MtdHJ1bmNhdGUtdGFyZ2V0LmQtYmxvY2sud2lkdGgtZml0ID4gYSwgLnJlYWN0LWRpcmVjdG9yeS10cnVuY2F0ZT5hJyksCiAgICAgICAgICAgICAgICBOYW1lID0gY250RWxtX2EuaW5uZXJUZXh0LAogICAgICAgICAgICAgICAgaHJlZiA9IGNudEVsbV9hLmdldEF0dHJpYnV0ZSgnaHJlZicpLAogICAgICAgICAgICAgICAgaHJlZjIgPSBocmVmLnJlcGxhY2UoJy9ibG9iLycsJy8nKSwgdXJsLCB1cmxfbmFtZSwgdXJsX3RpcCA9ICcnOwogICAgICAgICAgICBpZiAoKHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5pbmRleE9mKCcvZ2gnKSArIDMgPT09IHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5sZW5ndGgpICYmIHJhd191cmxbbWVudV9yYXdGYXN0XVswXS5pbmRleE9mKCdjZG4uc3RhdGljYWx5LmNvbScpID09PSAtMSkgewogICAgICAgICAgICAgICAgdXJsID0gcmF3X3VybFttZW51X3Jhd0Zhc3RdWzBdICsgaHJlZi5yZXBsYWNlKCcvYmxvYi8nLCdAJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMF0gKyBocmVmMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXJsX25hbWUgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMV07IHVybF90aXAgPSByYXdfdXJsW21lbnVfcmF3RmFzdF1bMl07CiAgICAgICAgICAgIGZpbGVFbG0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGA8YSBocmVmPSIke3VybH0iIGRvd25sb2FkPSIke05hbWV9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIG5vb3BlbmVyIG5vZm9sbG93IiBjbGFzcz0iZmlsZURvd25MaW5rIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIHRpdGxlPSLjgIwke3VybF9uYW1lfeOAjSYjMTA7JiMxMDtbQWx0ICsg5bem6ZSuXSDmiJYgW+WPs+mUriAtIOWPpuWtmOS4ui4uLl0g5LiL6L295paH5Lu244CCJiMxMDvms6jmhI/vvJrpvKDmoIfngrnlh7sgW+KYgV0g5Zu+5qCH77yM6ICM5LiN5piv5bem5L6n55qE5paH5Lu25ZCN77yBJiMxMDsmIzEwOyR7dXJsX3RpcH3mj5DnpLrvvJrngrnlh7vmtY/op4jlmajlj7PkuIrop5IgVGFtcGVybW9ua2V5IOaJqeWxleWbvuaghyAtIFsgJHtyYXdfdXJsW21lbnVfcmF3RmFzdF1bMV19IF0g5Yqg6YCf5rqQICjimIEpIOWNs+WPr+WIh+aNouOAgiI+JHtzdmdbMl19PC9hPmApOwogICAgICAgICAgICAvLyDnu5HlrprpvKDmoIfkuovku7YKICAgICAgICAgICAgdHJFbG0ub25tb3VzZW92ZXIgPSBtb3VzZU92ZXJIYW5kbGVyOwogICAgICAgICAgICB0ckVsbS5vbm1vdXNlb3V0ID0gbW91c2VPdXRIYW5kbGVyOwogICAgICAgIH0pOwogICAgfQoKCiAgICAvLyDnp7vpmaQgUmF3IOWNleaWh+S7tuW/q+aNt+S4i+i9ve+8iOKYge+8iQogICAgZnVuY3Rpb24gZGVsUmF3RG93bkxpbmsoKSB7CiAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgnbWVudV9yYXdEb3duTGluaycpKSByZXR1cm4KICAgICAgICBsZXQgYUVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlRG93bkxpbmsnKTtpZihhRWxtLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgIGFFbG0uZm9yRWFjaChmdW5jdGlvbihmaWxlRWxtKSB7ZmlsZUVsbS5yZW1vdmUoKTt9KQogICAgfQoKCiAgICAvLyDlnKjmtY/op4jlmajov5Tlm54v5YmN6L+b5pe26YeN5paw5re75YqgIFJhdyDljZXmlofku7blv6vmjbfkuIvovb3vvIjimIHvvInpvKDmoIfkuovku7YKICAgIGZ1bmN0aW9uIGFkZFJhd0Rvd25MaW5rXygpIHsKICAgICAgICBpZiAoIUdNX2dldFZhbHVlKCdtZW51X3Jhd0Rvd25MaW5rJykpIHJldHVybgogICAgICAgIC8vIOWmguaenOS4jeaYr+mhueebruaWh+S7tumhtemdou+8jOWwsei/lOWbnu+8jOWmguaenOe9kemhteayoeaciSBSYXcg5LiL6L296ZO+5o6l77yI4piB77yJ5bCx6L+U5ZueCiAgICAgICAgbGV0IGZpbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LkJveC1yb3cgc3ZnLm9jdGljb24ub2N0aWNvbi1maWxlLCAucmVhY3QtZGlyZWN0b3J5LWZpbGVuYW1lLWNvbHVtbj5zdmcuY29sb3ItZmctbXV0ZWQnKTtpZihmaWxlcy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICBsZXQgZmlsZXMxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYS5maWxlRG93bkxpbmsnKTtpZihmaWxlczEubGVuZ3RoID09PSAwKSByZXR1cm47CgogICAgICAgIC8vIOm8oOagh+aMh+WQkeWImeaYvuekugogICAgICAgIHZhciBtb3VzZU92ZXJIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gZXZ0LmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgICBhRWxtX25ldyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpLAogICAgICAgICAgICAgICAgYUVsbV9ub3cgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgc3ZnLmNvbG9yLWZnLW11dGVkJyk7CiAgICAgICAgICAgIGFFbG1fbmV3LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZSd9KTsKICAgICAgICAgICAgYUVsbV9ub3cuZm9yRWFjaChlbD0+e2VsLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSd9KTsKICAgICAgICB9OwoKICAgICAgICAvLyDpvKDmoIfnprvlvIDliJnpmpDol48KICAgICAgICB2YXIgbW91c2VPdXRIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGxldCBlbGVtID0gZXZ0LmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgICBhRWxtX25ldyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZpbGVEb3duTGluaycpLAogICAgICAgICAgICAgICAgYUVsbV9ub3cgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2Zy5vY3RpY29uLm9jdGljb24tZmlsZSwgc3ZnLmNvbG9yLWZnLW11dGVkJyk7CiAgICAgICAgICAgIGFFbG1fbmV3LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmUnfSk7CiAgICAgICAgICAgIGFFbG1fbm93LmZvckVhY2goZWw9PntlbC5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IGlubGluZSd9KTsKICAgICAgICB9OwogICAgICAgIC8vIOW+queOr+a3u+WKoAogICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZUVsbSkgewogICAgICAgICAgICBsZXQgdHJFbG0gPSBmaWxlRWxtLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgLy8g57uR5a6a6byg5qCH5LqL5Lu2CiAgICAgICAgICAgIHRyRWxtLm9ubW91c2VvdmVyID0gbW91c2VPdmVySGFuZGxlcjsKICAgICAgICAgICAgdHJFbG0ub25tb3VzZW91dCA9IG1vdXNlT3V0SGFuZGxlcjsKICAgICAgICB9KTsKICAgIH0KCgogICAgLy8g6YCC6YWN55m95aSpL+WknOmXtOS4u+mimOaooeW8jwogICAgZnVuY3Rpb24gY29sb3JNb2RlKCkgewogICAgICAgIGxldCBzdHlsZV9BZGQ7CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdYSVUyLUdpdGh1YicpKSB7c3R5bGVfQWRkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1hJVTItR2l0aHViJyl9IGVsc2Uge3N0eWxlX0FkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7IHN0eWxlX0FkZC5pZCA9ICdYSVUyLUdpdGh1Yic7IHN0eWxlX0FkZC50eXBlID0gJ3RleHQvY3NzJzt9CiAgICAgICAgYmFja0NvbG9yID0gJyNmZmZmZmYnOyBmb250Q29sb3IgPSAnIzg4ODg4OCc7CgogICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuY29sb3JNb2RlID09PSAnZGFyaycpIHsgLy8g5aaC5p6c5piv5aSc6Ze05qih5byPCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuZGFya1RoZW1lID09PSAnZGFya19kaW1tZWQnKSB7CiAgICAgICAgICAgICAgICBiYWNrQ29sb3IgPSAnIzI3MmUzNyc7IGZvbnRDb2xvciA9ICcjNzY4MzkwJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJhY2tDb2xvciA9ICcjMTYxYTIxJzsgZm9udENvbG9yID0gJyM5N2EwYWEnOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuY29sb3JNb2RlID09PSAnYXV0bycpIHsgLy8g5aaC5p6c5piv6Ieq5Yqo5qih5byPCiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMgfHwgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5kYXRhc2V0LmxpZ2h0VGhlbWUuaW5kZXhPZignZGFyaycpID4gLTEpIHsgLy8g5aaC5p6c5rWP6KeI5Zmo5piv5aSc6Ze05qih5byPIOaIliDnmb3lpKnmqKHlvI/mmK8gZGFyayDnmoTmg4XlhrUKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQuZGFya1RoZW1lID09PSAnZGFya19kaW1tZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgYmFja0NvbG9yID0gJyMyNzJlMzcnOyBmb250Q29sb3IgPSAnIzc2ODM5MCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuZGF0YXNldC5kYXJrVGhlbWUuaW5kZXhPZignbGlnaHQnKSA9PSAtMSkgeyAvLyDmjpLpmaTlpJzpl7TmqKHlvI/mmK8gbGlnaHQg55qE5oOF5Ya1CiAgICAgICAgICAgICAgICAgICAgYmFja0NvbG9yID0gJyMxNjFhMjEnOyBmb250Q29sb3IgPSAnIzk3YTBhYSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoc3R5bGVfQWRkKS50ZXh0Q29udGVudCA9IGAuWElVMi1SUyBhIHstLVhJVTItYmFjay1Db2xvcjogJHtiYWNrQ29sb3J9OyAtLVhJVTItZm9udC1Db2xvcjogJHtmb250Q29sb3J9O31gOwogICAgfQoKCiAgICAvLyDoh6rlrprkuYkgdXJsY2hhbmdlIOS6i+S7tu+8iOeUqOadpeebkeWQrCBVUkwg5Y+Y5YyW77yJ77yM6ZKI5a+56Z2eIFRhbXBlcm1vbmtleSDmsrnnjLTnrqHnkIblmagKICAgIGZ1bmN0aW9uIGFkZFVybENoYW5nZUV2ZW50KCkgewogICAgICAgIGhpc3RvcnkucHVzaFN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHB1c2hTdGF0ZSgpewogICAgICAgICAgICB2YXIgcmV0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3B1c2hzdGF0ZScpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CiAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfSkoaGlzdG9yeS5wdXNoU3RhdGUpOwoKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSA9ICggZiA9PiBmdW5jdGlvbiByZXBsYWNlU3RhdGUoKXsKICAgICAgICAgICAgdmFyIHJldCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXBsYWNlc3RhdGUnKSk7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgndXJsY2hhbmdlJykpOwogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0pKGhpc3RvcnkucmVwbGFjZVN0YXRlKTsKCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywoKT0+eyAvLyDngrnlh7vmtY/op4jlmajnmoTliY3ov5sv5ZCO6YCA5oyJ6ZKu5pe26Kem5Y+RIHVybGNoYW5nZSDkuovku7YKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSkKICAgICAgICB9KTsKICAgIH0KfSkoKTsK"},{"name":"Bypass All Shortlinks","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":["/^(https?:\\/\\/)(tmearn|makemoneywithurl|shrinkearn|techcyan|link4m|kingsleynyc|modcombo|healthy4pepole|kiktu|1bitspace|pennbookcenter|publicananker|mikl4forex|michaelemad|miklpro|forex-golds|mosqam|semawur|forex-trnd|literaturetimes|onlineincoms|modsfire|adneow|short.clickscoin|adclickersbot|mobitaak|modebaca|paylinnk|pubiza|100puan|viralxns|cuts-url|popimed|toryxlink|aduzz|lycoslink|cdrab|ibrabucks|ethiomi|shortenbuddy|kiemlua|smoner|djbhojpurisongs|modsbase|ac.totsugeki|bcvc2|earnwithshortlink|bitzite|link1s|diadiemcheckin|tudiendanhngon|chooyomi|staaker|lucidcam|forexlap|forexmab|linkjust|admediaflex|rekonise|nostralink|bitcotasks|saa3at|mensventure|playpaste|forex-articles|ponselharian|liinkat|thegoneapp|mobi2c|studyuo|hookeaudio|thehostingmentor|linkshortify|mohtawaa|sodocasino68z|dz4link|foodxor|short1s|cr3zyblog|w88th2|fc-lc|expertvn|downphanmem|healdad|ez4mods|try2link|soft3arbi|techyadjectives|ex-foary|crypto4tun|blogmado|itsguider|mgnetu|infinitycoupon|videoslyrics|paid4link|coin-free|1xfaucet|cafenau|techacode|sevenjournals|7misr4day|trflink|get4links|memangbau|world2our|vavada5com|shortlite|bitefaucet|nguyenvanbao|pubgquotes|gaminginfos|sama-pro|shtfly|bestmobilenew|olhonagrana|chedrives|adrinolinks|techloadz|atglinks|nulledsafe|dreamcheeky|cutpaid|fidlarmusic|rodjulian|webhostingpost|tremamnon|samaa-pro|techrfour|ez4short|skincarie|techrayzer|shorteet|puggygaming|tranquangchuan|blogginglass|1shorten|loptelink|charexempire|shotzon|appsblaze|wellness4live|yummy-reciepes|link.bigboxnet|bioinflu|chamcuuhoc|litexblog|7nything|ezeviral|urlsopen|1shortlink|linkerload|filenext|doodshort|kienthucrangmieng|themorningtribune|gamalk-sehetk|adsafelink|cbshort|checkscoin|llinkon|links.apksvip|anhdep24|letsiu|earncryptowrs|cutdomain|usersdrive|uploadrar|bayfiles|krakenfiles|post.copydev|icutlink|short-zero|insurancevela|poketoonworld|arahtekno|mopahealth|nghiencar|educur|gpfaucet|bstlar|uploadhaven|aceskip|apk.miuiku|ecwizon|oncehelp|cutwin|otomi-games|sportsmediaz|big2short|techymozo|novelsapps|tirailangit|intercelestial|tribuntekno|bestcash2020|hoxiin|fooot-map|priefy|uptobox|1fichier|freebrightsoft|dz-linkk|chinhnhacoban|autodime|cortaly|link.3dmili|indianshortner|shortyearn|mp4upload|myshrinker|url.namaidani|userscloud|newworldnew|mkomsel|niinga|uppit|donia-tech|donia2tech|donia2link|btafile|pdiskshortener|aljoodm98|fx4vip|shortzon|up4cash|newsharsh|examkhata|linksht|note1s|teknosimple|discordserv|wikitraveltips|bantenexis|weadown|websiu|link.turkdown|pdfcoffee|faucetgigs|huongdanvuotlink123.blogspot|cuanhapkhau|traffic1s|leaveadvice|coins-town|zero-short|esopress|appsinsta|link-yz|apkadmin|ayelads|gawbne|anonfiles|sharemods|ddownload|asideway|drive.google|safe.intipanime|workupload|filedm|beingtek|sub2get|bindaaslinks|ex-load|xdabo|social-unlock|short-jambo|lyricsbaazaar|aprovax|vn88goat|shrinklo|xemsport|adpaylink|yxoshort|mdiskurl|blog.greenenez|vosliens.mykvostfr|cashlinko|ggoklink|mneylink|best-cpm|clicksfly|megaupto|ufacw|techcartz|softechbharat|okrzone|adshnk|sub2unlock|oydisk|besargaji|dare2qualify|netpopads|adflyfly|monimag|mo3dati|8raa|ikrey|tipsli|urlpayout|urlpoints|hocbeauty|95news|link.get4llink|shrt10|imgbsr|linknih|lessurl|techkeshri|shrinkgold|itechmafiia|link4earn|hosting4lifetime|oyunfilmindir|tecnicalboy|maxurlz|mr-forex|leadcricket|tackaway|88betbongda|sodovns|iwin68m|shrinkcash|dhlgame|bloginkz|blogtechh|hypershort|shorteurl|adrate|slinkware|foodupe|dr-forex|indiajobagency|dz4link1|xpshort|urlshortx|getloanmoney|cryptst|blog.freeoseocheck|forex1pro|bico8|web1s|gogodl|infinityskull|doodjob|link2m|krownlinks|cut-shortlink|lollty|sheralinks|leitup|dev.miuiflash|upfilesurls|techyreviewx|shortox|bankvacency|bitcoinwinco|3rabsports|crazysonglyrics|vnpttelle|forexrw7|gpl-market|timeforearn|link4m|amritadrino|tutorialsaya|revadvert|fx-22|encurtandourl|mixrootmods|mealcold|cutpaidad|allsoftdrivers|cryptfaucet|hotmediahub|tai-mui-hong|adrevlnks|w88linkz|vailonxx|hocreview|sodo66vn|gyanilinks|hamrolekh|minersim|heenglish|comohoy|appkamods|entutes|coinsrev|komikman|bicolink|reshortfly|khoruou-gourmet|contentmenarik|altechen|socialwolvez|lifeezee|rsfinanceinfo|rssoftwareinfo|rshostinginfo|bk8goat|camnangvay|pixeldrain|finoxpert|zegtrends|blackleadr|nestshortener|shortcuthigh|perokokbijak|mneyvip|paste1s|rsshort|rsinsuranceinfo|rsadnetworkinfo|rseducationinfo|adwerty|devuploads|mega4upload|dropgalaxy|houseofblogger|crypto4yu|doodrive|wooseotools|tvseriesnmoviesdl|tgshortener|anchurl|neverdims|coincroco|syflink|adlvy|manofadan|api-secure.solvemedia|yogablogfit|cut-fly|7r6|linkmonetizers|mcafee-com|mrproblogger)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(.+)?(zolomix|cararegistrasi|5golink|birdurls|snkra|artiskini|sh2rt|byboe|medcpu|nousdecor|jobswd|gkqnaexam|imperialstudy|linktrims|eda-ah|restorbio|bdnewsx|upshrink|gifans|ovlinks|imagenesderopaparaperros|yofaurls|digiromotion|wingifta|rancah|delishwell|solidfiles|ourtecads|zubatecno|covemarkets|disheye|askpaccosi|gets4link|elwatanelyoum|ledifha|crypturls|zombiebtc|techwhom|claimbtcbits|techsamir|techymedies|gamelopte|snowurl|claimfey|panylink|wrbloggers|tokenoto|saly-cash|nyawang|kongutoday|softwaresolutionshere|insuranceleadsinfo|bitcosite|clink1|upmienphi|coinsward|clink2|gadgetsreview27|anywho-com|teamtechnews|upload-4ever|admediaflex|btcpany|assettoworld|vikashmewada|linkyearn|appsbull|gam3ah|tinybc|diudemy|hereofamily|urlcorner|phsensei|4shared|ta2deem7arbya|solarchaine|file-upload|shorterall|tribuncrypto|cempakajaya|safelinkduit|adshorturl|linkbnao|tinycmd|cloudshrinker|proviralhost|technicalatg|v2links|ytsubme|rainurl|arahlink|m4cut|teachsansar|web9academy|shortxlinks|flyrar|pythondunyasi|on-scroll|shrtfly|shrinkclick|adsquite|earnash|hipsonyc|sonicbtc|menjelajahi|financerites|itscybertech|dash-free|sekilastekno|almontsf|cash4share|linkwards|freevpshere|kredilerim|porterfuneralhomee|aghtas|proappapk|cskua|toilaquantri|youssefsayed|aracodes|financenube|wiki-topia|pinloker|publicearn|uploadsoon|paid4file|gyanitheme|howifx|vocalley|factsdunya|blogyindia|networkhint|pernahsukses|vnshortener|gamingwithtr|udrop|rezence|businessnews-nigeria|elmokhbir|forexscp|youtube|pnfreegames|miuiflash|ishortify|thebindaas|vipalalmania|viewfr|startoshi|bakumoney|adbitfly|shrinkads|newsturbovid|mazen-ve3|thefastpost|encurtaclik|wiour|mtraffics|povathemes|viewboonposts|maqal360|sahityt|techhadi|lolinez|manga2day|rapid-cut|filepresident|earn2me|shorturllinks|suaurl)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(ourcoincash|1manga|watchdoge|arenaboard|ccsl|adsgo|shon|crypto-faucet|bingeflix|studystar|bflinks|linkawynet|insurancepost|stryt|short-cash2|wizzly|mgnet|crypteen|dogeen|fauceteen|cutdl|sportawy|fexkomin|technemo|zoomcrypto|techboyz|99links|bastinews|offrcms|tsinfo|shortnow|shortlinkto|post.nites-tv|shortplus|technoloy|techyuth|stores.filmyzilla-in|swzz|acortame|alghtas|wizly|horanews|short2fly|bcvc|healthbloog|mmdrive|satoshi-hunter|0uq|blog.movies-near-me|st.kleaco|playlink|link2money|mkvlinks|nabits|welovecrypto|short2url|egstar|playdisk|gibit|studyis|kukslincs|magictoshi|eduqqq|nishankhatri|techthematter|moinsider|satoshi-win|my-coins|stfly|deltabtc|cryptofenz)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(senuansatechno|claimercorner|shortly|doctorcoin|speedynews|1apple|ffworld|textpage|fidovy|pcomnews|adshorti|sapica|earnfacut|urlbharat|dropz|chainfo|techleets|earnl|shortpay|modmakers|kyshort|trxking|aoutoqw|healthysamy|coin2pay|tsinfo|financeandinsurance|mangafun|opli|beycoin|myartical)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(techydino|world-trips|yoshare|lets.5get|crypto-fi|wpcheap|coinmasterx|catcut|aztravels|dulichkhanhhoa|sub2unlock|dataupload|forex-gold|7apple|ccurl|link1s|url.namaidani|adskip|hurirk|usfinf|xervoo|hexupload|eloism|cutt|forexshare|blog.cryptowidgets|neexulro|dailyuploads|douploads|simfileshare|fir3|magybu|racaty|linegee|blogesque|thuocdangian|altblogger|letsboost|conghuongtu|vinaurl|tecmundo|try2link|blog.coinsvalue|khaddavi|8tm|traffic24h|shortearn|cut-y|megadb|cpmlink|blog.webfreetools|rslinks|dupload|userupload|oaxyteek|xonnews|yosite|cryptopaid|bluetechno|w88vnz|tmearn|click1s|turbobit|megaup|hitfile|v2guides|cutearn|hislink|financeyogi|sahlmarketing|rapidgator|blogbux|otechno)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(.+)?(digitalnaz|owllink|mozlink|cryptosats|rocklinks|celinks|jiotech|bitcomarket|illink|jemari|paid4link|link3s|boscoin|linkrex|fire-link|urlw|pilinks|linkshortify|youshort|bicolink|cookinguide|indiurl.in|vip-link|themezon|tnshort|makeupguide|carstopia|btcsatoshi|hostadviser|carsmania|file-upload|up-4ever)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(tnlink|jrlinks|qualitystudymaterial|missionhight|wpking|zagl|streamshort|cutp|earnmoj|cplink|cryptomonitor|linkshortify|htlinks|linkocean|djxmaza|bildirim|battlechamp|sahilsumra|kerdlinfo|urlcut|insurancevlog|itechlogic|videolyrics|tekcrypt|missionhight|gplinks|moddingzone|adybrands|gz2|dulink|aclinks|hidelinks|shortearn|u.apgy|modzilla|thebestwishes|mrdoge|s2fly|filerio|thebloggerspoint|jslink|moviesnew|technocubes|afly|healthynepal|djnonstopmusic|omegalinks|jobform|kingbit.co|du-link|ouoi|by6|adrinolinks|rklinks|mymobilehub|techdaze|link4earn|rupamobile|examsolution|earn4link|kalvidudes|techwithsanikant|ibyt|flyurl|cosmictap|naukrilelo|nanolinks|cutp|linkpays|trends99|link.skm4u.co|linkwards.co|computerpedia|apkupload|banaraswap|jobphoria|techincubator|bookszone|file-upload|freebitco|apna-blog|earn4clicks|adbitfly|greylinks|djqunjab)(\\.in)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cashurl|bitcoinly|crazyblog|zolomix|technologylover|expertlinks|largestpanel|rsrlink|short2url|99links|enit|url2go|tnvalue|pvidly|apurl|urlinked|mdlink|gamerfang|writedroid|teckypress|fixno|paisakamalo|inkik|shrinkforearn|easysky|mdiskplayer|akcartoons|open2get|adzz|qora|insurancegold|smallinfo|filmypoints|linkshild|viplink|cuturl|e2share|shorturllink|opiniontoday|theforyou|sigmalinks|financerites|cordtpoint.co|mdisk.net|techyinfo|btcbitco|apnashortener|megafly|megaurl|tplinks|tnlinks|meclipstudy|v2links|finclub|greymatterslinks|shareus)(\\.in)(\\/.*)?/","/^(https?:\\/\\/)(.+)?(scratch247|azmath|mobilereview|inform3tion|shortlinkto|wez|bitcrypto|cooklike|videoclip|brbushare|fanclup|nulledlist|coinscap|1short|69vn|web1s|missreview|every-crypto|ajlinks|bit4me|sportweb)(\\.info)(\\/.*)/","/^(https?:\\/\\/)(exee.my|onlineteori.my|karyawan.co|rotator.nurul-huda.sch|activity.my|massive.my|caview.my|nesiaku.my|lewati|arahlink|linkk|free4u.nurul-huda.or|link.nesia.my|omdata.my|mydata.my|healthydad.my|lajangspot.web|mbantul.my)(\\.id)(\\/.*)/","/^(https?:\\/\\/)(.+)?(suratresmi|carapedi|salink|mycut.my|apasih.my|indofaucet.my|wapka|tonanmedia.my)(\\.id)(\\/.*)/","/^(https?:\\/\\/)(aylink|mynewsmedia|gtlink|droplink|123link|linksfy|adshorti|hxfile|dosya|takem|dausel|modlink|slwatch|5tl|desiupload|tech5s|9-animie|veganho|nulledmod|veganac|dealprice|arabplus2|cut-y|adshort|sub2me|gplinks|web1s|ku11net|mixdrop)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(.+)?(takez|linksfire|vosan|tinygo|veganab|adfloz|fexkomin|linksly|finsurances)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(girls-like|gobits|zoss|tlin|terafly|petafly|gigafly|adnews|papanews|panyflay|mozzfly|shortus|short.croclix|best-news|4cash|mega-news|wildblog|dddrive|linkpoi|m.newhit|mboost|linkshorts|exafly|nonofly|lozzfly|uptomega|stfly|adbull|youshort|health-and|cutx|adsk|linkfly|appdrive|shorter.earn-hub|pkin|cashando|hunterkiller|acortalink|ar-goal|linkdam|adzully|adbully|zumpa|botfly|weezo|gtlinks|krownlinks|blog24|sh24|slfly|dbree|yudiblog)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(.+)?(theconomy|richlink|qnix|hatelink|rb7|shrinke)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(newforex|wplink|nbyts|wealthystyle|clicksfly|happy-living|webcoin.coinrain|teacherana|earnow|earn-cash|yourtechnology|apks|network-earn|shopforex|o-pro|wedocrypto|softindexsite|ea-shorter.earn-hub|kooora365|flylinks|earn-bitcoin|ludofantsypk|panytourism|wikiversity|exactpay|seulink)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(.+)?(readi|linkmumet|shorte|battleroyal|kjcrypto|litecoinly|techeysub|forexit|o-pro)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(sitr|downfile|savelink|linkshortify|shareus|mobileprice|mynurse|short1|forextrader|shortener.goldcontent|lksfy|1xlink|savelink|busthings|icerik|adfly)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cekip|link4rev|coin-city|urlcash|alwrificlick|softindex|promo-visits|bluemediafile|flyearn|claimbits|shtfly)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(bluemediafile|tourismtravels1|tourismtravels2|tourismtravels3|tourismtravels4|tourismtravels5|tourismtravels9|filepress)(\\.sbs)(\\/.*)/","/^(https?:\\/\\/)(earnme|sanoybonito|automotur|kooza|1link|zentum|forexwaw|megatube|88bet1|clicknupload)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(.+)?(usanewstoday|kadal|webhostingtips|mytop5)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(adrev|paid4|yousm|coinpayz|tr|tfly|sox|clk.dti|besturl|boostme|takefile|appo|linkshortifyx|panyshort|mdiskshortner|leit|shortano|shortino|streamcheck|bildirim|healthmart)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(.+)?(vshort|stex|cash4|zuba|adsen|shrinkme|shrs|xcut)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(shurt|shortit|adsy|bitlinks|clik|playstore|megalink|link4)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(.+)?(prz|pong|insfly|wts|sollink|linkvor)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(linkshor|cortlink|moneylink)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(.+)?(madfaucet|mineshor)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(onimports|link.encurtaon|economiarelevante)(\\.com\\.br)(\\/.*)/","/^(https?:\\/\\/)(.+)?(kiiw|passgen|wordcounter|shrink|revcot|clickzu|shortzu|flyzu|cpm|viply)(\\.icu)(\\/.*)/","/^(https?:\\/\\/)(tny|tinyurl)(\\.so)(\\/.*)/","/^(https?:\\/\\/)(.+)?(zshort|claimcrypto|cashearn|1ink|linkpay|moneylink|intnews|openload|linkspy|letsupload|linx|upvid|adurly|getlink|stfly)(\\.cc)(\\/.*)/","/^(https?:\\/\\/)(exey|ezlinks|techmody|ouo|uploady|racaty|1short|earnlink|casinotructuyen|vn88|blitly|getdashcoin|saly|cuty|oke|letsupload|eio|oii|exe|viplinks|shrinkme|up-load|gofile|apkmody)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(.+)?(linkfly|usalink|shorti|datacheap)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(cryptoad|wikile|uploadev|mega4upr|cshort|payskip|homeairquality|shortearn|roll.btc25|sl.btc25|earnsfly|sl2.btc25|bugatti.eu|linkbong88moinhat|oploverz|kusonime|komikindo|multiup|novafile)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(.+)?(medipost|shrinkurl|keeplinks|rajdlsg|readbitcoin|writedroid.eu|modmania.eu)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(jameeltips|mitly|adfoc|link4fun|shrinke|siiu|vzu)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(.+)?(yalla-shoot-now|forexeen|jaelink|link2u)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(.+)?(adshort|1bit|2the|careerhunter|galaxy-link|adz7short|oscut|cryptonworld|dutchycorp)(\\.space)(\\/.*)/","/^(https?:\\/\\/)(noweconomy|deportealdia|adshort|ay|pngit|pndx|tyzen|shivshakti)(\\.live)(\\/.*)/","/^(https?:\\/\\/)(.+)?(earnads|genpassword|shrlink|punyamerk|shortnow|freeltc|forexfiter)(\\.top)(\\/.*)/","/^(https?:\\/\\/)(freelitecoin|uplinkto|1Link|dropgalaxy|smartlink|1mlink)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(faucetcrypto|bildirim|beta.shortearn)(\\.eu)(\\/.*)/","/^(https?:\\/\\/)(nex-url|olamovies|atrologyrex)(\\.cyou)(\\/.*)/","/^(https?:\\/\\/)(antonimos|blog.hostratgeber|sinonimos)(\\.de)(\\/.*)/","/^(https?:\\/\\/)(webmobile|dailytime)(\\.store)(\\/.*)/","/^(https?:\\/\\/)(.+)?(flyad|lootcash|manylink)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(romania|met|warp)(\\.bz)(\\/.*)/","/^(https?:\\/\\/)(2ad|viya|17o)(\\.ir)(\\/.*)/","/^(https?:\\/\\/)(adshrink|cutin)(\\.it)(\\/.*)/","/^(https?:\\/\\/)(pingit|files|upo)(\\.im)(\\/.*)/","/^(https?:\\/\\/)(clk|9xupload|mg188|adbrite)(\\.asia)(\\/.*)/","/^(https?:\\/\\/)(aii|clk|oko|ctr|mexa|sht|pro)(\\.sh)(\\/.*)/","/^(https?:\\/\\/)(iir|tei|ier|ckk)(\\.ai)(\\/.*)/","/^(https?:\\/\\/)(.+)?(upload|prx)(\\.ee)(\\/.*)/","/^(https?:\\/\\/)(.+)?(ptr|mdn|neonime)(\\.lol)(\\/.*)/","/^(https?:\\/\\/)(.+)?(goo|oxy)(\\.st)(\\/.*)/","/^(https?:\\/\\/)(.+)?(paylinks|oxy)(\\.cloud)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mdn|insurance4u)(\\.world)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cryptofuns|cryptonetos)(\\.ru)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mirrored|clicknupload|sumoweb|streamhide|hec)(\\.to)(\\/.*)/","/^(https?:\\/\\/)(.+)?(ouo|forextrader|daga88)(\\.today)(\\/.*)/","/^(https?:\\/\\/)(.+)?(techgeek|adsgo|seulink)(\\.digital)(\\/.*)/","/^(https?:\\/\\/)(.+)?(goto.com|nishankhatri.com)(\\.np)(\\/.*)/","/^(https?:\\/\\/)(.+)?(360shortlink|myra|morunique|tmpfree|reeshort)(\\.cf)(\\/.*)/","/^(https?:\\/\\/)(.+)?(i8l|clk|pi-l|bcvc|modli|beast|boost|uptobhai|work|5tl|gainl)(\\.ink)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mhma12|surflink|techtrim|adcash|yotrickslog|shortlinks|pdiskpage)(\\.tech)(\\/.*)/","/^(https?:\\/\\/)(kiw|redir.123file|cutl)(\\.li)(\\/.*)/","/^(https?:\\/\\/)(fc|fcc)(\\.lc)(\\/.*)/","/^(https?:\\/\\/)(adz|komikcast)(\\.moe)(\\/.*)/","/^(https?:\\/\\/)(1dogecoin|faucet|cpu-miner.leaks)(\\.work)(\\/.*)/","/^(https?:\\/\\/)(.+)?(123link|mtagang|shorturl)(\\.biz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(3shorturl|earnbitcoin)(\\.gq)(\\/.*)/","/^(https?:\\/\\/)(.+)?(exe|exee|exep|exeo|upfiles|cutty|linkfly|rsgamer)(\\.app)(\\/.*)/","/^(https?:\\/\\/)(.+)?(makeeasybtc|softindex|techus|cryptorotator)(\\.website)(\\/.*)/","/^(https?:\\/\\/)(linka|xtrabits|skipads|softindex|elinks|freecc|ccshort|clicknupload|workink|filepress|coinsl|adbitfly)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(easysl|adlink|adzilla|urlcash|freebitcoin|urlcashh|revly|jetmedia)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(hamody|nathanaeldan|freddyoctavio|davisonbarker|clks|cryptosh|bestfonts|gitlink|openurl|bitads|afly|mdisk|earnify)(\\.pro)(\\/.*)/","/^(https?:\\/\\/)(claim|pricenews|alaashow|bitclick|adsbtc|moburl|clicklink|bitcoinfaucet|linkmatic|linkpress|terabox|exalink|oscut)(\\.fun)(\\/.*)/","/^(https?:\\/\\/)(.+)?(apkmody|freetrx)(\\.fun)(\\/.*)/","/^(https?:\\/\\/)(.+)?(up-load|zcash|mdisk|holdtoearn|g4z)(\\.one)(\\/.*)/","/^(https?:\\/\\/)(linkati|curto|mg188|freebitcoin)(\\.win)(\\/.*)/","/^(https?:\\/\\/)(zonearn|hynews)(\\.biz)(\\/.*)/","/^https:\\/\\/linkvertise\\.com\\/(1|2|3|4|5|6|7|8|9)/","/^(https?:\\/\\/)(.+)?(nhacaiuytin|sv388)(\\.ac)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mediafire)(\\.com)\\/(download|file)/","/^(https?:\\/\\/)(.+)?(cryptocurrencytracker|freefaucet)(\\.biz)\\/(link)/","/^(https?:\\/\\/)(.+)?(thanglonggroup|bigone|kienvang|silcot.com|bemom.com|sunflowersteiner.edu)(\\.vn)(\\/.*)/","/^(https?:\\/\\/)(.+)?(clickscoin|offeroc|cryptotyphoon|softairbay)(\\.com)\\/(short)/"],"merge_includes":true,"use_matches":[],"orig_matches":["*://al.ly/*","*://za.gl/*","*://c2g.at/*","*://tii.la/*","*://send.cm/*","*://adoc.pub/*","*://files.fm/*","*://1gom.shop/*","*://slink.bid/*","*://ouo.press/*","*://7cc.96.lt/*","*://gktech.uk/*","*://one88.day/*","*://giti.works/*","*://tinyurl.is/*","*://*.gdtot.cfd/*","*://lolabits.se/*","*://share4u.men/*","*://filemoon.sx/*","*://bzlink.cu.ma/*","*://*.zippysha.re/*","*://uplinkto.hair/*","*://litecoin.host/*","*://drop.download/*","*://linkshrink.ca/*","*://*/*?xref=*&sl=*","*://short.express/*","*://*.coinhub.wiki/*","*://urlcashh.quest/*","*://arbweb.info/sl/*","*://*.cizgifilm.tv/*","*://downloads.ninja/*","*://*.trangchu.news/*","*://automat.systems/*","*://clicknupload.red/*","*://docs.google.com/uc*","*://dutchycorp.ovh/s*/*","*://castles4kids.co.nz/*","*://adbtc.top/surf/browse/*","*://anonym.ninja/download/*","*://faucetcrypto.net/short/*","*://konstantinova.net/verify/*","*://playnano.online/watch-and*","*://adbtc.top/surfiat/browse/*","*://noodlemagazine.com/download/*","*://faucetcrypto.com/claim/step/*","*://*.racedepartment.com/downloads/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":["*://studio.youtube.com/*","*://*.vosan.co/"],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1690558054964,"data":{}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/431691-bypass-all-shortlinks/code/Bypass%20All%20Shortlinks.user.js","uuid":"4c2fd2c7-1b0d-4430-88a2-c75ea9aaeb4e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzCi8vIEBuYW1lOmlkICAgIEJ5cGFzcyBTZW11YSBTaG9ydGxpbmsKLy8gQG5hbWU6dWcgICAgQnlwYXNzINio2KfYsdmE2YnZgiDZgtmJ2LPZgtinINim24fZhNmJ2YbZidi02YTYp9ixCi8vIEBuYW1lOmFyICAgINiq2KzYp9mI2LIg2KfZhNis2YXZiti5INin2YTYsdmI2KfYqNi3INin2YTZhdiu2KrYtdix2KkKLy8gQG5hbWU6aGUgICAg15zWt9ei1rLXp9eV1rnXoyDXkNeqINeb15wg16fXmdep15XXqNeZ150g16fXpteo15nXnQovLyBAbmFtZTpoaSAgICDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkleCliyDgpKzgpL7gpK/gpKrgpL7gpLgg4KSV4KSw4KWH4KSCCi8vIEBuYW1lOmphICAgIOODkOOCpOODkeOCuSDlhajjgaYg44K344On44O844OI44Oq44Oz44KvCi8vIEBuYW1lOmZyICAgIEJ5cGFzcyBUb3V0IExpZW4gY291cnRzCi8vIEBuYW1lOmtvICAgIOuqqOuToCDsp6fsnYAg66eB7YGsIOyasO2ajAovLyBAbmFtZTp0aCAgICDguJrguLLguKLguJ7guLLguKog4LiX4Lix4LmJ4LiH4Lir4Lih4LiUIOC4peC4tOC4h+C4hOC5jOC4quC4seC5ieC4mQovLyBAbmFtZTpiZyAgICDQl9Cw0L7QsdC40LrQsNC70Y/QvdC1INC90LAg0LLRgdC40YfQutC4INC60YDQsNGC0LrQuCDQstGA0YrQt9C60LgKLy8gQG5hbWU6cm8gICAgQnlwYXNzIFRvYXRlIExpbmt1cmkgc2N1cnRlCi8vIEBuYW1lOmZpICAgIE9oaXR0YWEgS2Fpa2tpIEx5aHlldCBsaW5raXQKLy8gQG5hbWU6aXQgICAgQnlwYXNzYXJlIFR1dHRvIENvbGxlZ2FtZW50aSBicmV2aQovLyBAbmFtZTplbCAgICDOoM6xz4HOrM66zrHOvM+Izrcgzp/Ou86xIM6jz43Ovc+Ezr/OvM6/zrkgz4PPjc69zrTOtc+DzrzOv865Ci8vIEBuYW1lOmVvICAgIFByZXRlcnZvam8gxIhpdWogTWFsbG9uZ2FqIGxpZ2lsb2oKLy8gQG5hbWU6ZXMgICAgU2FsdGFyc2UgVG9kb3MgbG9zIEVubGFjZXMgQWNvcnRhZG9zCi8vIEBuYW1lOmh1ICAgIEJ5cGFzcyDDlnNzemVzIFLDtnZpZCBsaW5rZWsKLy8gQG5hbWU6bmIgICAgT21nw6UgQWxsZSBLb3J0bGVua2VyCi8vIEBuYW1lOnNrICAgIE9iw61zxaUgVsWhZXRreSBLcsOhdGtlIG9ka2F6eQovLyBAbmFtZTpzdiAgICBGw7ZyYmlnw6UgYWxsYSBrb3J0bMOkbmthcgovLyBAbmFtZTpzciAgICBaYW9iacSHaSBTdmUgS3JhdGtlIHZlemUKLy8gQG5hbWU6cGwgICAgQnlwYXNzIFdzenlzdGtpZSBLcsOzdGtpZSBsaW5raQovLyBAbmFtZTpubCAgICBCeXBhc3MgQWxsZSBLb3J0ZSBsaW5rcwovLyBAbmFtZTpkZSAgICBCeXBhc3MgQWxsZSBLdXJ6bGlua3MKLy8gQG5hbWU6ZGEgICAgQnlwYXNzIEFsbGUgU2hvcnRsaW5rcwovLyBAbmFtZTpjcyAgICBPYmNow6F6ZcSNIHbFoWVjaCB6a3JhY292YcSNxa8gb2RrYXrFrwovLyBAbmFtZTp1ayAgICDQntCx0YXRltC0INCy0YHRliDQmtC+0YDQvtGC0LrRliDQv9C+0YHQuNC70LDQvdC90Y8KLy8gQG5hbWU6cnUgICAg0J7QsdGF0L7QtCDQktGB0LUg0JrQvtGA0L7RgtC60LjQtSDRgdGB0YvQu9C60LgKLy8gQG5hbWU6dHIgICAgQnlwYXNzIFTDvG0gS8Sxc2EgTGlua2xlcgovLyBAbmFtZTp2aSAgICBC4buPIHF1YSBU4bqldCBj4bqjIEPDoWMgbGnDqm4ga+G6v3Qgbmfhuq9uCi8vIEBuYW1lOnpoLUNOIOaXgei3ryDlhajpg6gg55+t6ZO+5o6lCi8vIEBuYW1lOnpoLVRXIOaXgei3ryDlhajpg6gg55+t6Y+I5o6lCi8vIEBuYW1lOnB0LUJSIEJ5cGFzcyBUb2RvcyBMaW5rcyBjdXJ0b3MKLy8gQG5hbWU6ZnItQ0EgQnlwYXNzIFRvdXQgTGllbiBjb3VydHMKLy8gQG5hbWVzcGFjZSAgVmlvbGVudG1vbmtleSBTY3JpcHRzCi8vIEB2ZXJzaW9uICAgIDg1LjYKLy8gQGdyYW50ICAgICAgbm9uZQovLyBAYXV0aG9yICAgICBCbG9nZ2VycGVtdWxhCi8vIEBydW4tYXQgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBhbnRpZmVhdHVyZSAgICB0cmFja2luZwovLyBAZGVzY3JpcHRpb24gICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNpdGVzIEF1dG9tYXRpY2FsbHkgU2tpcHMgQW5ub3lpbmcgTGluayBTaG9ydGVuZXJzICwgU2tpcCBBZEZseSAsIExpbmt2ZXJ0aXNlIGFuZCBObyBBbm5veWluZyBBZHMsIERpcmVjdGx5IHRvIFlvdXIgRGVzdGluYXRpb24sIGFuZCBub3cgU3VwcG9ydCBBdXRvIERvd25sb2FkaW5nIFlvdXIgRmlsZXMKLy8gQGRlc2NyaXB0aW9uOmlkIEJ5cGFzcyBTZW11YSBTaXR1cyBTaG9ydGxpbmsgU2VjYXJhIE90b21hdGlzIExhbmdzdW5nIGtlIFR1anVhbiBUYW5wYSBJa2xhbiB5YW5nIE1lbmdnYW5nZ3UgLCBTdXBwb3J0IEF1dG8gRG93bmxvYWQgRmlsZQovLyBAZGVzY3JpcHRpb246dWcg2KjYp9ix2YTZidmCINmC2YnYs9mC2Kcg2Kbbh9mE2YnZhtmJ2LQg2KrZiNixINio25DZg9uV2KrZhNmJ2LHZidmG2Ykg2KbYp9mK2YTZidmG2YnZviDYptuG2KrbiNm+INiMINmD2YnYtNmJ2YbZiSDYqNmJ2LLYp9ixINmC2YnZhNmJ2K/Zidi62KfZhiDYptuH2YTZidmG2YnYtCDZgtmJ2LPZgtin2LHYqtmC24fahtmG2Ykg2KbYp9m+2KrZiNmF2KfYqtmJ2YMg2r7Yp9mE2K/YpyDZhduV2YbYstmJ2YTZidqt2YnYstqv25Ug2KbYp9iq2YTYp9qtLgovLyBAZGVzY3JpcHRpb246YXIg2KrYrNin2YjYsiDYrNmF2YrYuSDZhdmI2KfZgti5INin2YTYsdmI2KfYqNi3INin2YTZhdiu2KrYtdix2Kkg2YrYqtiu2LfZiSDYqtmE2YLYp9im2YrZi9inINij2K/ZiNin2Kog2KrZgti12YrYsSDYp9mE2LHZiNin2KjYtyDYp9mE2YXYsti52KzYqSDYjCDZhdio2KfYtNix2Kkg2KXZhNmJINmI2KzZh9iq2YMKLy8gQGRlc2NyaXB0aW9uOmhlINei15XXp9ejINeQ16og15vXnCDXkNeq16jXmSDXlNen15nXqdeV16jXmdedINeU16fXpteo15nXnSDXnteT15zXkiDXkNeV15jXldee15jXmdeqINei15wg157Xp9em16jXmSDXp9eZ16nXldeo15nXnSDXntei16bXkdeg15nXnSwg15nXqdeZ16jXldeqINec15nXoteTINep15zXmgovLyBAZGVzY3JpcHRpb246aGkg4KS44KSt4KWAIOCktuClieCksOCljeCkn+CksuCkv+CkguCklSDgpLjgpL7gpIfgpJ/gpYvgpIIg4KSV4KWLIOCkrOCkvuCkr+CkquCkvuCkuCDgpJXgpLDgpYfgpIIsIOCkuOClgOCkp+ClhyDgpIbgpKrgpJXgpYcg4KSX4KSC4KSk4KS14KWN4KSvIOCkquCksCDgpJXgpLfgpY3gpJ/gpKrgpY3gpLDgpKYg4KSy4KS/4KSC4KSVIOCktuClieCksOCljeCkn+CkqOCksCDgpJXgpYsg4KSb4KWL4KSh4KS8IOCkpuClh+CkggovLyBAZGVzY3JpcHRpb246amEg44GZ44G544Gm44Gu44K344On44O844OI44Oq44Oz44Kv44K144Kk44OI44KS44OQ44Kk44OR44K544GZ44KL44Go44CB6L+35oOR44Gq44Oq44Oz44Kv44K344On44O844OI44OK44O844GM6Ieq5YuV55qE44Gr44K544Kt44OD44OX44GV44KM44CB5a6b5YWI44Gr55u05o6l6YCB5L+h44GV44KM44G+44GZCi8vIEBkZXNjcmlwdGlvbjpmciBDb250b3VybmVyIHRvdXMgbGVzIHNpdGVzIGRlIGxpZW5zIGNvdXJ0cyBzYXV0ZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIHJhY2NvdXJjaXNzZXVycyBkZSBsaWVucyBnw6puYW50cywgZGlyZWN0ZW1lbnQgdmVycyB2b3RyZSBkZXN0aW5hdGlvbgovLyBAZGVzY3JpcHRpb246a28g66qo65OgIOynp+ydgCDrp4Htgawg7IKs7J207Yq4IOyasO2ajOuKlCDshLHqsIDsi6Ag66eB7YGsIOuLqOy2leq4sOulvCDsnpDrj5nsnLzroZwg6rG064SI65uw6rOgIOuqqeyggeyngOuhnCDsp4HsoJEg7J2064+Z7ZWp64uI64ukLgovLyBAZGVzY3JpcHRpb246dGgg4LiC4LmJ4Liy4Lih4LmE4LiL4LiV4LmM4Lil4Li04LiH4LiE4LmM4Liq4Lix4LmJ4LiZ4LiX4Lix4LmJ4LiH4Lir4Lih4LiU4LiC4LmJ4Liy4Lih4Lil4Li04LiH4LiE4LmM4Lii4LmI4Lit4LiX4Li14LmI4LiZ4LmI4Liy4Lij4Liz4LiE4Liy4LiN4LmC4LiU4Lii4Lit4Lix4LiV4LmC4LiZ4Lih4Lix4LiV4Li04LmE4Lib4Lii4Lix4LiH4Lib4Lil4Liy4Lii4LiX4Liy4LiH4LiC4Lit4LiH4LiE4Li44LiTCi8vIEBkZXNjcmlwdGlvbjpiZyDQl9Cw0L7QsdC40LrQsNC70Y/QvdC1INC90LAg0LLRgdC40YfQutC4INGB0LDQudGC0L7QstC1INGBINC60YDQsNGC0LrQuCDQstGA0YrQt9C60Lgg0JDQstGC0L7QvNCw0YLQuNGH0L3QviDQv9GA0L7Qv9GD0YHQutCwINC00L7RgdCw0LTQvdC40YLQtSDRgdGA0LXQtNGB0YLQstCwINC30LAg0YHRitC60YDQsNGJ0LDQstCw0L3QtSDQvdCwINCy0YDRitC30LrQuCwg0LTQuNGA0LXQutGC0L3QviDQtNC+INCy0LDRiNCw0YLQsCDQtNC10YHRgtC40L3QsNGG0LjRjwovLyBAZGVzY3JpcHRpb246cm8gT21pdGUgdG9hdGUgc2l0ZS11cmlsZSBjdSBsaW5rdXJpIHNjdXJ0ZSBPbWl0ZSBhdXRvbWF0IGVsZW1lbnRlbGUgZGUgc2N1cnRhcmUgYSBsaW5rdXJpbG9yIGVuZXJ2YW50ZSwgZGlyZWN0IGPEg3RyZSBkZXN0aW5hyJtpYSB0YQovLyBAZGVzY3JpcHRpb246ZmkgT2hpdGEga2Fpa2tpIGx5aHl0bGlua2tpc2l2dXN0b3Qgb2hpdHRhYSBhdXRvbWFhdHRpc2VzdGkgw6Ryc3l0dMOkdsOkdCBsaW5raW5seWhlbm55a3NldCBzdW9yYWFuIG3DpMOkcsOkbnDDpMOkaMOkc2kKLy8gQGRlc2NyaXB0aW9uOml0IElnbm9yYSB0dXR0aSBpIHNpdGkgZGkgY29sbGVnYW1lbnRpIGJyZXZpIFNhbHRhIGF1dG9tYXRpY2FtZW50ZSBpIGZhc3RpZGlvc2kgYWNjb3JjaWF0b3JpIGRpIGNvbGxlZ2FtZW50aSwgZGlyZXR0YW1lbnRlIGFsbGEgdHVhIGRlc3RpbmF6aW9uZQovLyBAZGVzY3JpcHRpb246ZWwgzqDOsc+BzqzOus6xzrzPiM63IM+MzrvPic69IM+Ez4nOvSDPhM6/z4DOv864zrXPg865z47OvSDPg8+Nzr3PhM6/zrzPic69IM+Dz4XOvc60zq3Pg868z4nOvSDOoM6xz4HOsc66zqzOvM+Az4TOtc65IM6xz4XPhM+MzrzOsc+EzrEgz4TOsSDOtc69zr/Ph867zrfPhM65zrrOrCDPgM+Bzr/Os8+BzqzOvM68zrHPhM6xIM+Dz4XOvc+Ez4zOvM61z4XPg863z4Igz4PPhc69zrTOrc+DzrzPic69LCDOsc+AzrXPhc64zrXOr86xz4Igz4PPhM6/zr0gz4DPgc6/zr/Pgc65z4POvM+MIM+DzrHPggovLyBAZGVzY3JpcHRpb246ZW8gUHJldGVycGFzaSDEiGl1aiBNYWxsb25nYWogTGlnaWxvai1Fam9qIEHFrXRvbWF0ZSBTYWx0YXMgxJ1lbmFqbiBMaWdpbG9qbiwgUmVrdGUgYWwgVmlhIENlbG8KLy8gQGRlc2NyaXB0aW9uOmVzIFNhbHRhcnNlIEF1dG9tw6F0aWNhbWVudGUgdG9kb3MgbG9zIGVubGFjZXMgYWNvcnRhZG9zLCBBZEZseSwgTGlua3ZlcnRpc2UsIHkgb21pdGlyIGFudW5jaW9zLCBpciBkaXJlY3RhbWVudGUgYWwgZGVzdGlubywgYWhvcmEgc2UgYWdyZWfDsyBkZXNjYXJnYSBhdXRvbcOhdGljYSBkZSBhcmNoaXZvcwovLyBAZGVzY3JpcHRpb246aHUgQXogw7Zzc3plcyByw7Z2aWQgaGl2YXRrb3rDoXNpIHdlYmhlbHkgbWVna2Vyw7xsw6lzZSBhdXRvbWF0aWt1c2FuIMOhdHVnb3JqYSBhIGJvc3N6YW50w7MgbGlua3LDtnZpZMOtdMWRa2V0LCBrw7Z6dmV0bGVuw7xsIGF6IMO6dGljw6lscmEKLy8gQGRlc2NyaXB0aW9uOm5iIE9tZ8OlIGFsbGUga29ydGUgbGVua2VyIE5ldHRzdGVkZXIgaG9wcGVyIGF1dG9tYXRpc2sgb3ZlciBpcnJpdGVyZW5kZSBsZW5rZWZvcmtvcnRlcmUsIGRpcmVrdGUgdGlsIGRlc3RpbmFzam9uZW4gZGluCi8vIEBkZXNjcmlwdGlvbjpzayBPYsOtxI90ZSB2xaFldGt5IHN0csOhbmt5IHMga3LDoXRreW1pIG9ka2F6bWksIGt0b3LDqSBhdXRvbWF0aWNreSBwcmVza2/EjWlhIG90cmF2bsOpIHNrcmFjb3ZhxI1lIG9ka2F6b3YgcHJpYW1vIGRvIHbDocWhaG8gY2llxL5hCi8vIEBkZXNjcmlwdGlvbjpzdiBGw7ZyYmkgYWxsYSBrb3J0YSBsw6Rua2FyIHdlYmJwbGF0c2VyIGhvcHBhciBhdXRvbWF0aXNrdCDDtnZlciBpcnJpdGVyYW5kZSBsw6Rua2bDtnJrb3J0YXJlLCBkaXJla3QgdGlsbCBkaW4gZGVzdGluYXRpb24KLy8gQGRlc2NyaXB0aW9uOnNyIFphb2JpxIdpIHN2ZSBzdHJhbmljZSBzIGtyYXRraW0gdmV6YW1hIGF1dG9tYXRza2kgcHJlc2thxI1lIGRvc2FkbmUgc2tyYcSHaXZhxI1lIHZlemEsIGl6cmF2bm8gbmEgdmHFoWUgb2RyZWRpxaF0ZQovLyBAZGVzY3JpcHRpb246cGwgUG9taWphaiB3c3p5c3RraWUgc3Ryb255IHoga3LDs3RraW1pIGxpbmthbWkgYXV0b21hdHljem5pZSBwb21pamEgaXJ5dHVqxIVjZSBza3JhY2FjemUgbGlua8OzdywgYmV6cG/Fm3JlZG5pbyBkbyBtaWVqc2NhIGRvY2Vsb3dlZ28KLy8gQGRlc2NyaXB0aW9uOm5sIE9temVpbCBhbGxlIHNpdGVzIG1ldCBrb3J0ZSBsaW5rcyBlbiBzbGFhdCBhdXRvbWF0aXNjaCB2ZXJ2ZWxlbmRlIGxpbmt2ZXJrb3J0ZXJzIG92ZXIsIHJlY2h0c3RyZWVrcyBuYWFyIHV3IGJlc3RlbW1pbmcKLy8gQGRlc2NyaXB0aW9uOmRlIEFsbGUgU2hvcnQtTGlua3MtU2l0ZXMgdW1nZWhlbiDDnGJlcnNwcmluZ3QgYXV0b21hdGlzY2ggbMOkc3RpZ2UgTGluay1TaG9ydGVuZXIgZGlyZWt0IHp1IElocmVtIFppZWwKLy8gQGRlc2NyaXB0aW9uOmRhIE9tZ8OlIGFsbGUga29ydGUgbGlua3Mtd2Vic3RlZGVyIHNwcmluZ2VyIGF1dG9tYXRpc2sgaXJyaXRlcmVuZGUgbGlua2ZvcmtvcnRlcmUgb3ZlciwgZGlyZWt0ZSB0aWwgZGluIGRlc3RpbmF0aW9uCi8vIEBkZXNjcmlwdGlvbjpjcyBBdXRvbWF0aWNreSBwxZllc2tvxI3DrSB2xaFlY2hueSBvdHJhdm7DqSB6a3JhY292YcSNZSBvZGthesWvLCB2xI1ldG7EmyBBZEZseSBhIExpbmt2ZXJ0aXNlLCBiZXogb3RyYXZuw71jaCByZWtsYW0gcMWZw61tbyBkbyB2YcWhZWhvIGPDrWxlCi8vIEBkZXNjcmlwdGlvbjp1ayDQntCx0ZbQudGC0Lgg0LLRgdGWINGB0LDQudGC0Lgg0Lcg0LrQvtGA0L7RgtC60LjQvNC4INC/0L7RgdC40LvQsNC90L3Rj9C80LguINCQ0LLRgtC+0LzQsNGC0LjRh9C90L4g0L/RgNC+0L/Rg9GB0LrQsNGUINC00YDQsNGC0ZbQstC70LjQstGWINGB0LrQvtGA0L7Rh9C10L3QvdGPINC/0L7RgdC40LvQsNC90Ywg0LHQtdC30L/QvtGB0LXRgNC10LTQvdGM0L4g0LTQviDQstCw0YjQvtCz0L4g0L/Rg9C90LrRgtGDINC/0YDQuNC30L3QsNGH0LXQvdC90Y8KLy8gQGRlc2NyaXB0aW9uOnJ1INCe0LHRhdC+0LQg0LLRgdC10YUg0YHQsNC50YLQvtCyINGBINC60L7RgNC+0YLQutC40LzQuCDRgdGB0YvQu9C60LDQvNC4INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC/0YDQvtC/0YPRgdC60LDQtdGCINC90LDQtNC+0LXQtNC70LjQstGL0LUg0YHQvtC60YDQsNGJ0LDRgtC10LvQuCDRgdGB0YvQu9C+0LosINC/0YDRj9C80L4g0Log0LzQtdGB0YLRgyDQvdCw0LfQvdCw0YfQtdC90LjRjwovLyBAZGVzY3JpcHRpb246dHIgVMO8bSBLxLFzYSBMaW5rbGVyaSBBdGxhIFNpdGVsZXIgQ2FuIHPEsWvEsWPEsSBMaW5rIEvEsXNhbHTEsWPEsWxhcsSxIE90b21hdGlrIE9sYXJhayBBdGxhciwgRG/En3J1ZGFuIEhlZGVmaW5pemUKLy8gQGRlc2NyaXB0aW9uOnZpIELhu48gcXVhIHThuqV0IGPhuqMgY8OhYyB0cmFuZyB3ZWIgbGnDqm4ga+G6v3Qgbmfhuq9uIHThu7EgxJHhu5luZyBi4buPIHF1YSBjw6FjIHRyYW5nIHdlYiBsacOqbiBr4bq/dCBnw6J5IHBoaeG7gW4gbmhp4buFdSwgdHLhu7FjIHRp4bq/cCDEkeG6v24gxJHDrWNoIGPhu6dhIGLhuqFuCi8vIEBkZXNjcmlwdGlvbjp6aC1jbiDnu5Xov4fmiYDmnInnn63pk77mjqXnvZHnq5noh6rliqjot7Pov4fng6bkurrnmoTpk77mjqXnvKnnn63lmajvvIznm7TmjqXliLDmgqjnmoTnm67nmoTlnLAKLy8gQGRlc2NyaXB0aW9uOnpoLXR3IOe5numBjuaJgOacieefremPiOaOpee2suermeiHquWLlei3s+mBjueFqeS6uueahOmPiOaOpee4ruefreWZqO+8jOebtOaOpeWIsOaCqOeahOebrueahOWcsAovLyBAZGVzY3JpcHRpb246cHQtYnIgSWdub3JhciB0b2RvcyBvcyBzaXRlcyBkZSBsaW5rcyBjdXJ0b3MgaWdub3JhIGF1dG9tYXRpY2FtZW50ZSBlbmN1cnRhZG9yZXMgZGUgbGlua3MgaXJyaXRhbnRlcywgZGlyZXRhbWVudGUgcGFyYSBvIHNldSBkZXN0aW5vCi8vIEBkZXNjcmlwdGlvbjpmci1jYSBDb250b3VybmVyIHRvdXMgbGVzIHNpdGVzIGRlIGxpZW5zIGNvdXJ0cyBzYXV0ZSBhdXRvbWF0aXF1ZW1lbnQgbGVzIHJhY2NvdXJjaXNzZXVycyBkZSBsaWVucyBnw6puYW50cywgZGlyZWN0ZW1lbnQgdmVycyB2b3RyZSBkZXN0aW5hdGlvbgovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykodG1lYXJufG1ha2Vtb25leXdpdGh1cmx8c2hyaW5rZWFybnx0ZWNoY3lhbnxsaW5rNG18a2luZ3NsZXlueWN8bW9kY29tYm98aGVhbHRoeTRwZXBvbGV8a2lrdHV8MWJpdHNwYWNlfHBlbm5ib29rY2VudGVyfHB1YmxpY2FuYW5rZXJ8bWlrbDRmb3JleHxtaWNoYWVsZW1hZHxtaWtscHJvfGZvcmV4LWdvbGRzfG1vc3FhbXxzZW1hd3VyfGZvcmV4LXRybmR8bGl0ZXJhdHVyZXRpbWVzfG9ubGluZWluY29tc3xtb2RzZmlyZXxhZG5lb3d8c2hvcnQuY2xpY2tzY29pbnxhZGNsaWNrZXJzYm90fG1vYml0YWFrfG1vZGViYWNhfHBheWxpbm5rfHB1Yml6YXwxMDBwdWFufHZpcmFseG5zfGN1dHMtdXJsfHBvcGltZWR8dG9yeXhsaW5rfGFkdXp6fGx5Y29zbGlua3xjZHJhYnxpYnJhYnVja3N8ZXRoaW9taXxzaG9ydGVuYnVkZHl8a2llbWx1YXxzbW9uZXJ8ZGpiaG9qcHVyaXNvbmdzfG1vZHNiYXNlfGFjLnRvdHN1Z2VraXxiY3ZjMnxlYXJud2l0aHNob3J0bGlua3xiaXR6aXRlfGxpbmsxc3xkaWFkaWVtY2hlY2tpbnx0dWRpZW5kYW5obmdvbnxjaG9veW9taXxzdGFha2VyfGx1Y2lkY2FtfGZvcmV4bGFwfGZvcmV4bWFifGxpbmtqdXN0fGFkbWVkaWFmbGV4fHJla29uaXNlfG5vc3RyYWxpbmt8Yml0Y290YXNrc3xzYWEzYXR8bWVuc3ZlbnR1cmV8cGxheXBhc3RlfGZvcmV4LWFydGljbGVzfHBvbnNlbGhhcmlhbnxsaWlua2F0fHRoZWdvbmVhcHB8bW9iaTJjfHN0dWR5dW98aG9va2VhdWRpb3x0aGVob3N0aW5nbWVudG9yfGxpbmtzaG9ydGlmeXxtb2h0YXdhYXxzb2RvY2FzaW5vNjh6fGR6NGxpbmt8Zm9vZHhvcnxzaG9ydDFzfGNyM3p5YmxvZ3x3ODh0aDJ8ZmMtbGN8ZXhwZXJ0dm58ZG93bnBoYW5tZW18aGVhbGRhZHxlejRtb2RzfHRyeTJsaW5rfHNvZnQzYXJiaXx0ZWNoeWFkamVjdGl2ZXN8ZXgtZm9hcnl8Y3J5cHRvNHR1bnxibG9nbWFkb3xpdHNndWlkZXJ8bWduZXR1fGluZmluaXR5Y291cG9ufHZpZGVvc2x5cmljc3xwYWlkNGxpbmt8Y29pbi1mcmVlfDF4ZmF1Y2V0fGNhZmVuYXV8dGVjaGFjb2RlfHNldmVuam91cm5hbHN8N21pc3I0ZGF5fHRyZmxpbmt8Z2V0NGxpbmtzfG1lbWFuZ2JhdXx3b3JsZDJvdXJ8dmF2YWRhNWNvbXxzaG9ydGxpdGV8Yml0ZWZhdWNldHxuZ3V5ZW52YW5iYW98cHViZ3F1b3Rlc3xnYW1pbmdpbmZvc3xzYW1hLXByb3xzaHRmbHl8YmVzdG1vYmlsZW5ld3xvbGhvbmFncmFuYXxjaGVkcml2ZXN8YWRyaW5vbGlua3N8dGVjaGxvYWR6fGF0Z2xpbmtzfG51bGxlZHNhZmV8ZHJlYW1jaGVla3l8Y3V0cGFpZHxmaWRsYXJtdXNpY3xyb2RqdWxpYW58d2ViaG9zdGluZ3Bvc3R8dHJlbWFtbm9ufHNhbWFhLXByb3x0ZWNocmZvdXJ8ZXo0c2hvcnR8c2tpbmNhcmllfHRlY2hyYXl6ZXJ8c2hvcnRlZXR8cHVnZ3lnYW1pbmd8dHJhbnF1YW5nY2h1YW58YmxvZ2dpbmdsYXNzfDFzaG9ydGVufGxvcHRlbGlua3xjaGFyZXhlbXBpcmV8c2hvdHpvbnxhcHBzYmxhemV8d2VsbG5lc3M0bGl2ZXx5dW1teS1yZWNpZXBlc3xsaW5rLmJpZ2JveG5ldHxiaW9pbmZsdXxjaGFtY3V1aG9jfGxpdGV4YmxvZ3w3bnl0aGluZ3xlemV2aXJhbHx1cmxzb3Blbnwxc2hvcnRsaW5rfGxpbmtlcmxvYWR8ZmlsZW5leHR8ZG9vZHNob3J0fGtpZW50aHVjcmFuZ21pZW5nfHRoZW1vcm5pbmd0cmlidW5lfGdhbWFsay1zZWhldGt8YWRzYWZlbGlua3xjYnNob3J0fGNoZWNrc2NvaW58bGxpbmtvbnxsaW5rcy5hcGtzdmlwfGFuaGRlcDI0fGxldHNpdXxlYXJuY3J5cHRvd3JzfGN1dGRvbWFpbnx1c2Vyc2RyaXZlfHVwbG9hZHJhcnxiYXlmaWxlc3xrcmFrZW5maWxlc3xwb3N0LmNvcHlkZXZ8aWN1dGxpbmt8c2hvcnQtemVyb3xpbnN1cmFuY2V2ZWxhfHBva2V0b29ud29ybGR8YXJhaHRla25vfG1vcGFoZWFsdGh8bmdoaWVuY2FyfGVkdWN1cnxncGZhdWNldHxic3RsYXJ8dXBsb2FkaGF2ZW58YWNlc2tpcHxhcGsubWl1aWt1fGVjd2l6b258b25jZWhlbHB8Y3V0d2lufG90b21pLWdhbWVzfHNwb3J0c21lZGlhenxiaWcyc2hvcnR8dGVjaHltb3pvfG5vdmVsc2FwcHN8dGlyYWlsYW5naXR8aW50ZXJjZWxlc3RpYWx8dHJpYnVudGVrbm98YmVzdGNhc2gyMDIwfGhveGlpbnxmb29vdC1tYXB8cHJpZWZ5fHVwdG9ib3h8MWZpY2hpZXJ8ZnJlZWJyaWdodHNvZnR8ZHotbGlua2t8Y2hpbmhuaGFjb2JhbnxhdXRvZGltZXxjb3J0YWx5fGxpbmsuM2RtaWxpfGluZGlhbnNob3J0bmVyfHNob3J0eWVhcm58bXA0dXBsb2FkfG15c2hyaW5rZXJ8dXJsLm5hbWFpZGFuaXx1c2Vyc2Nsb3VkfG5ld3dvcmxkbmV3fG1rb21zZWx8bmlpbmdhfHVwcGl0fGRvbmlhLXRlY2h8ZG9uaWEydGVjaHxkb25pYTJsaW5rfGJ0YWZpbGV8cGRpc2tzaG9ydGVuZXJ8YWxqb29kbTk4fGZ4NHZpcHxzaG9ydHpvbnx1cDRjYXNofG5ld3NoYXJzaHxleGFta2hhdGF8bGlua3NodHxub3RlMXN8dGVrbm9zaW1wbGV8ZGlzY29yZHNlcnZ8d2lraXRyYXZlbHRpcHN8YmFudGVuZXhpc3x3ZWFkb3dufHdlYnNpdXxsaW5rLnR1cmtkb3dufHBkZmNvZmZlZXxmYXVjZXRnaWdzfGh1b25nZGFudnVvdGxpbmsxMjMuYmxvZ3Nwb3R8Y3VhbmhhcGtoYXV8dHJhZmZpYzFzfGxlYXZlYWR2aWNlfGNvaW5zLXRvd258emVyby1zaG9ydHxlc29wcmVzc3xhcHBzaW5zdGF8bGluay15enxhcGthZG1pbnxheWVsYWRzfGdhd2JuZXxhbm9uZmlsZXN8c2hhcmVtb2RzfGRkb3dubG9hZHxhc2lkZXdheXxkcml2ZS5nb29nbGV8c2FmZS5pbnRpcGFuaW1lfHdvcmt1cGxvYWR8ZmlsZWRtfGJlaW5ndGVrfHN1YjJnZXR8YmluZGFhc2xpbmtzfGV4LWxvYWR8eGRhYm98c29jaWFsLXVubG9ja3xzaG9ydC1qYW1ib3xseXJpY3NiYWF6YWFyfGFwcm92YXh8dm44OGdvYXR8c2hyaW5rbG98eGVtc3BvcnR8YWRwYXlsaW5rfHl4b3Nob3J0fG1kaXNrdXJsfGJsb2cuZ3JlZW5lbmV6fHZvc2xpZW5zLm15a3Zvc3RmcnxjYXNobGlua298Z2dva2xpbmt8bW5leWxpbmt8YmVzdC1jcG18Y2xpY2tzZmx5fG1lZ2F1cHRvfHVmYWN3fHRlY2hjYXJ0enxzb2Z0ZWNoYmhhcmF0fG9rcnpvbmV8YWRzaG5rfHN1YjJ1bmxvY2t8b3lkaXNrfGJlc2FyZ2FqaXxkYXJlMnF1YWxpZnl8bmV0cG9wYWRzfGFkZmx5Zmx5fG1vbmltYWd8bW8zZGF0aXw4cmFhfGlrcmV5fHRpcHNsaXx1cmxwYXlvdXR8dXJscG9pbnRzfGhvY2JlYXV0eXw5NW5ld3N8bGluay5nZXQ0bGxpbmt8c2hydDEwfGltZ2JzcnxsaW5rbmlofGxlc3N1cmx8dGVjaGtlc2hyaXxzaHJpbmtnb2xkfGl0ZWNobWFmaWlhfGxpbms0ZWFybnxob3N0aW5nNGxpZmV0aW1lfG95dW5maWxtaW5kaXJ8dGVjbmljYWxib3l8bWF4dXJsenxtci1mb3JleHxsZWFkY3JpY2tldHx0YWNrYXdheXw4OGJldGJvbmdkYXxzb2Rvdm5zfGl3aW42OG18c2hyaW5rY2FzaHxkaGxnYW1lfGJsb2dpbmt6fGJsb2d0ZWNoaHxoeXBlcnNob3J0fHNob3J0ZXVybHxhZHJhdGV8c2xpbmt3YXJlfGZvb2R1cGV8ZHItZm9yZXh8aW5kaWFqb2JhZ2VuY3l8ZHo0bGluazF8eHBzaG9ydHx1cmxzaG9ydHh8Z2V0bG9hbm1vbmV5fGNyeXB0c3R8YmxvZy5mcmVlb3Nlb2NoZWNrfGZvcmV4MXByb3xiaWNvOHx3ZWIxc3xnb2dvZGx8aW5maW5pdHlza3VsbHxkb29kam9ifGxpbmsybXxrcm93bmxpbmtzfGN1dC1zaG9ydGxpbmt8bG9sbHR5fHNoZXJhbGlua3N8bGVpdHVwfGRldi5taXVpZmxhc2h8dXBmaWxlc3VybHN8dGVjaHlyZXZpZXd4fHNob3J0b3h8YmFua3ZhY2VuY3l8Yml0Y29pbndpbmNvfDNyYWJzcG9ydHN8Y3Jhenlzb25nbHlyaWNzfHZucHR0ZWxsZXxmb3JleHJ3N3xncGwtbWFya2V0fHRpbWVmb3JlYXJufGxpbms0bXxhbXJpdGFkcmlub3x0dXRvcmlhbHNheWF8cmV2YWR2ZXJ0fGZ4LTIyfGVuY3VydGFuZG91cmx8bWl4cm9vdG1vZHN8bWVhbGNvbGR8Y3V0cGFpZGFkfGFsbHNvZnRkcml2ZXJzfGNyeXB0ZmF1Y2V0fGhvdG1lZGlhaHVifHRhaS1tdWktaG9uZ3xhZHJldmxua3N8dzg4bGlua3p8dmFpbG9ueHh8aG9jcmV2aWV3fHNvZG82NnZufGd5YW5pbGlua3N8aGFtcm9sZWtofG1pbmVyc2ltfGhlZW5nbGlzaHxjb21vaG95fGFwcGthbW9kc3xlbnR1dGVzfGNvaW5zcmV2fGtvbWlrbWFufGJpY29saW5rfHJlc2hvcnRmbHl8a2hvcnVvdS1nb3VybWV0fGNvbnRlbnRtZW5hcmlrfGFsdGVjaGVufHNvY2lhbHdvbHZlenxsaWZlZXplZXxyc2ZpbmFuY2VpbmZvfHJzc29mdHdhcmVpbmZvfHJzaG9zdGluZ2luZm98Yms4Z29hdHxjYW1uYW5ndmF5fHBpeGVsZHJhaW58Zmlub3hwZXJ0fHplZ3RyZW5kc3xibGFja2xlYWRyfG5lc3RzaG9ydGVuZXJ8c2hvcnRjdXRoaWdofHBlcm9rb2tiaWpha3xtbmV5dmlwfHBhc3RlMXN8cnNzaG9ydHxyc2luc3VyYW5jZWluZm98cnNhZG5ldHdvcmtpbmZvfHJzZWR1Y2F0aW9uaW5mb3xhZHdlcnR5fGRldnVwbG9hZHN8bWVnYTR1cGxvYWR8ZHJvcGdhbGF4eXxob3VzZW9mYmxvZ2dlcnxjcnlwdG80eXV8ZG9vZHJpdmV8d29vc2VvdG9vbHN8dHZzZXJpZXNubW92aWVzZGx8dGdzaG9ydGVuZXJ8YW5jaHVybHxuZXZlcmRpbXN8Y29pbmNyb2NvfHN5Zmxpbmt8YWRsdnl8bWFub2ZhZGFufGFwaS1zZWN1cmUuc29sdmVtZWRpYXx5b2dhYmxvZ2ZpdHxjdXQtZmx5fDdyNnxsaW5rbW9uZXRpemVyc3xtY2FmZWUtY29tfG1ycHJvYmxvZ2dlcikoXC5jb20pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh6b2xvbWl4fGNhcmFyZWdpc3RyYXNpfDVnb2xpbmt8YmlyZHVybHN8c25rcmF8YXJ0aXNraW5pfHNoMnJ0fGJ5Ym9lfG1lZGNwdXxub3VzZGVjb3J8am9ic3dkfGdrcW5hZXhhbXxpbXBlcmlhbHN0dWR5fGxpbmt0cmltc3xlZGEtYWh8cmVzdG9yYmlvfGJkbmV3c3h8dXBzaHJpbmt8Z2lmYW5zfG92bGlua3N8aW1hZ2VuZXNkZXJvcGFwYXJhcGVycm9zfHlvZmF1cmxzfGRpZ2lyb21vdGlvbnx3aW5naWZ0YXxyYW5jYWh8ZGVsaXNod2VsbHxzb2xpZGZpbGVzfG91cnRlY2Fkc3x6dWJhdGVjbm98Y292ZW1hcmtldHN8ZGlzaGV5ZXxhc2twYWNjb3NpfGdldHM0bGlua3xlbHdhdGFuZWx5b3VtfGxlZGlmaGF8Y3J5cHR1cmxzfHpvbWJpZWJ0Y3x0ZWNod2hvbXxjbGFpbWJ0Y2JpdHN8dGVjaHNhbWlyfHRlY2h5bWVkaWVzfGdhbWVsb3B0ZXxzbm93dXJsfGNsYWltZmV5fHBhbnlsaW5rfHdyYmxvZ2dlcnN8dG9rZW5vdG98c2FseS1jYXNofG55YXdhbmd8a29uZ3V0b2RheXxzb2Z0d2FyZXNvbHV0aW9uc2hlcmV8aW5zdXJhbmNlbGVhZHNpbmZvfGJpdGNvc2l0ZXxjbGluazF8dXBtaWVucGhpfGNvaW5zd2FyZHxjbGluazJ8Z2FkZ2V0c3JldmlldzI3fGFueXdoby1jb218dGVhbXRlY2huZXdzfHVwbG9hZC00ZXZlcnxhZG1lZGlhZmxleHxidGNwYW55fGFzc2V0dG93b3JsZHx2aWthc2htZXdhZGF8bGlua3llYXJufGFwcHNidWxsfGdhbTNhaHx0aW55YmN8ZGl1ZGVteXxoZXJlb2ZhbWlseXx1cmxjb3JuZXJ8cGhzZW5zZWl8NHNoYXJlZHx0YTJkZWVtN2FyYnlhfHNvbGFyY2hhaW5lfGZpbGUtdXBsb2FkfHNob3J0ZXJhbGx8dHJpYnVuY3J5cHRvfGNlbXBha2FqYXlhfHNhZmVsaW5rZHVpdHxhZHNob3J0dXJsfGxpbmtibmFvfHRpbnljbWR8Y2xvdWRzaHJpbmtlcnxwcm92aXJhbGhvc3R8dGVjaG5pY2FsYXRnfHYybGlua3N8eXRzdWJtZXxyYWludXJsfGFyYWhsaW5rfG00Y3V0fHRlYWNoc2Fuc2FyfHdlYjlhY2FkZW15fHNob3J0eGxpbmtzfGZseXJhcnxweXRob25kdW55YXNpfG9uLXNjcm9sbHxzaHJ0Zmx5fHNocmlua2NsaWNrfGFkc3F1aXRlfGVhcm5hc2h8aGlwc29ueWN8c29uaWNidGN8bWVuamVsYWphaGl8ZmluYW5jZXJpdGVzfGl0c2N5YmVydGVjaHxkYXNoLWZyZWV8c2VraWxhc3Rla25vfGFsbW9udHNmfGNhc2g0c2hhcmV8bGlua3dhcmRzfGZyZWV2cHNoZXJlfGtyZWRpbGVyaW18cG9ydGVyZnVuZXJhbGhvbWVlfGFnaHRhc3xwcm9hcHBhcGt8Y3NrdWF8dG9pbGFxdWFudHJpfHlvdXNzZWZzYXllZHxhcmFjb2Rlc3xmaW5hbmNlbnViZXx3aWtpLXRvcGlhfHBpbmxva2VyfHB1YmxpY2Vhcm58dXBsb2Fkc29vbnxwYWlkNGZpbGV8Z3lhbml0aGVtZXxob3dpZnh8dm9jYWxsZXl8ZmFjdHNkdW55YXxibG9neWluZGlhfG5ldHdvcmtoaW50fHBlcm5haHN1a3Nlc3x2bnNob3J0ZW5lcnxnYW1pbmd3aXRodHJ8dWRyb3B8cmV6ZW5jZXxidXNpbmVzc25ld3MtbmlnZXJpYXxlbG1va2hiaXJ8Zm9yZXhzY3B8eW91dHViZXxwbmZyZWVnYW1lc3xtaXVpZmxhc2h8aXNob3J0aWZ5fHRoZWJpbmRhYXN8dmlwYWxhbG1hbmlhfHZpZXdmcnxzdGFydG9zaGl8YmFrdW1vbmV5fGFkYml0Zmx5fHNocmlua2Fkc3xuZXdzdHVyYm92aWR8bWF6ZW4tdmUzfHRoZWZhc3Rwb3N0fGVuY3VydGFjbGlrfHdpb3VyfG10cmFmZmljc3xwb3ZhdGhlbWVzfHZpZXdib29ucG9zdHN8bWFxYWwzNjB8c2FoaXR5dHx0ZWNoaGFkaXxsb2xpbmV6fG1hbmdhMmRheXxyYXBpZC1jdXR8ZmlsZXByZXNpZGVudHxlYXJuMm1lfHNob3J0dXJsbGlua3N8c3VhdXJsKShcLmNvbSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShvdXJjb2luY2FzaHwxbWFuZ2F8d2F0Y2hkb2dlfGFyZW5hYm9hcmR8Y2NzbHxhZHNnb3xzaG9ufGNyeXB0by1mYXVjZXR8YmluZ2VmbGl4fHN0dWR5c3RhcnxiZmxpbmtzfGxpbmthd3luZXR8aW5zdXJhbmNlcG9zdHxzdHJ5dHxzaG9ydC1jYXNoMnx3aXp6bHl8bWduZXR8Y3J5cHRlZW58ZG9nZWVufGZhdWNldGVlbnxjdXRkbHxzcG9ydGF3eXxmZXhrb21pbnx0ZWNobmVtb3x6b29tY3J5cHRvfHRlY2hib3l6fDk5bGlua3N8YmFzdGluZXdzfG9mZnJjbXN8dHNpbmZvfHNob3J0bm93fHNob3J0bGlua3RvfHBvc3Qubml0ZXMtdHZ8c2hvcnRwbHVzfHRlY2hub2xveXx0ZWNoeXV0aHxzdG9yZXMuZmlsbXl6aWxsYS1pbnxzd3p6fGFjb3J0YW1lfGFsZ2h0YXN8d2l6bHl8aG9yYW5ld3N8c2hvcnQyZmx5fGJjdmN8aGVhbHRoYmxvb2d8bW1kcml2ZXxzYXRvc2hpLWh1bnRlcnwwdXF8YmxvZy5tb3ZpZXMtbmVhci1tZXxzdC5rbGVhY298cGxheWxpbmt8bGluazJtb25leXxta3ZsaW5rc3xuYWJpdHN8d2Vsb3ZlY3J5cHRvfHNob3J0MnVybHxlZ3N0YXJ8cGxheWRpc2t8Z2liaXR8c3R1ZHlpc3xrdWtzbGluY3N8bWFnaWN0b3NoaXxlZHVxcXF8bmlzaGFua2hhdHJpfHRlY2h0aGVtYXR0ZXJ8bW9pbnNpZGVyfHNhdG9zaGktd2lufG15LWNvaW5zfHN0Zmx5fGRlbHRhYnRjfGNyeXB0b2ZlbnopKFwueHl6KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oc2VudWFuc2F0ZWNobm98Y2xhaW1lcmNvcm5lcnxzaG9ydGx5fGRvY3RvcmNvaW58c3BlZWR5bmV3c3wxYXBwbGV8ZmZ3b3JsZHx0ZXh0cGFnZXxmaWRvdnl8cGNvbW5ld3N8YWRzaG9ydGl8c2FwaWNhfGVhcm5mYWN1dHx1cmxiaGFyYXR8ZHJvcHp8Y2hhaW5mb3x0ZWNobGVldHN8ZWFybmx8c2hvcnRwYXl8bW9kbWFrZXJzfGt5c2hvcnR8dHJ4a2luZ3xhb3V0b3F3fGhlYWx0aHlzYW15fGNvaW4ycGF5fHRzaW5mb3xmaW5hbmNlYW5kaW5zdXJhbmNlfG1hbmdhZnVufG9wbGl8YmV5Y29pbnxteWFydGljYWwpKFwueHl6KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHRlY2h5ZGlub3x3b3JsZC10cmlwc3x5b3NoYXJlfGxldHMuNWdldHxjcnlwdG8tZml8d3BjaGVhcHxjb2lubWFzdGVyeHxjYXRjdXR8YXp0cmF2ZWxzfGR1bGljaGtoYW5oaG9hfHN1YjJ1bmxvY2t8ZGF0YXVwbG9hZHxmb3JleC1nb2xkfDdhcHBsZXxjY3VybHxsaW5rMXN8dXJsLm5hbWFpZGFuaXxhZHNraXB8aHVyaXJrfHVzZmluZnx4ZXJ2b298aGV4dXBsb2FkfGVsb2lzbXxjdXR0fGZvcmV4c2hhcmV8YmxvZy5jcnlwdG93aWRnZXRzfG5lZXh1bHJvfGRhaWx5dXBsb2Fkc3xkb3VwbG9hZHN8c2ltZmlsZXNoYXJlfGZpcjN8bWFneWJ1fHJhY2F0eXxsaW5lZ2VlfGJsb2dlc3F1ZXx0aHVvY2RhbmdpYW58YWx0YmxvZ2dlcnxsZXRzYm9vc3R8Y29uZ2h1b25ndHV8dmluYXVybHx0ZWNtdW5kb3x0cnkybGlua3xibG9nLmNvaW5zdmFsdWV8a2hhZGRhdml8OHRtfHRyYWZmaWMyNGh8c2hvcnRlYXJufGN1dC15fG1lZ2FkYnxjcG1saW5rfGJsb2cud2ViZnJlZXRvb2xzfHJzbGlua3N8ZHVwbG9hZHx1c2VydXBsb2FkfG9heHl0ZWVrfHhvbm5ld3N8eW9zaXRlfGNyeXB0b3BhaWR8Ymx1ZXRlY2hub3x3ODh2bnp8dG1lYXJufGNsaWNrMXN8dHVyYm9iaXR8bWVnYXVwfGhpdGZpbGV8djJndWlkZXN8Y3V0ZWFybnxoaXNsaW5rfGZpbmFuY2V5b2dpfHNhaGxtYXJrZXRpbmd8cmFwaWRnYXRvcnxibG9nYnV4fG90ZWNobm8pKFwubmV0KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oZGlnaXRhbG5henxvd2xsaW5rfG1vemxpbmt8Y3J5cHRvc2F0c3xyb2NrbGlua3N8Y2VsaW5rc3xqaW90ZWNofGJpdGNvbWFya2V0fGlsbGlua3xqZW1hcml8cGFpZDRsaW5rfGxpbmszc3xib3Njb2lufGxpbmtyZXh8ZmlyZS1saW5rfHVybHd8cGlsaW5rc3xsaW5rc2hvcnRpZnl8eW91c2hvcnR8Ymljb2xpbmt8Y29va2luZ3VpZGV8aW5kaXVybC5pbnx2aXAtbGlua3x0aGVtZXpvbnx0bnNob3J0fG1ha2V1cGd1aWRlfGNhcnN0b3BpYXxidGNzYXRvc2hpfGhvc3RhZHZpc2VyfGNhcnNtYW5pYXxmaWxlLXVwbG9hZHx1cC00ZXZlcikoXC5uZXQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykodG5saW5rfGpybGlua3N8cXVhbGl0eXN0dWR5bWF0ZXJpYWx8bWlzc2lvbmhpZ2h0fHdwa2luZ3x6YWdsfHN0cmVhbXNob3J0fGN1dHB8ZWFybm1vanxjcGxpbmt8Y3J5cHRvbW9uaXRvcnxsaW5rc2hvcnRpZnl8aHRsaW5rc3xsaW5rb2NlYW58ZGp4bWF6YXxiaWxkaXJpbXxiYXR0bGVjaGFtcHxzYWhpbHN1bXJhfGtlcmRsaW5mb3x1cmxjdXR8aW5zdXJhbmNldmxvZ3xpdGVjaGxvZ2ljfHZpZGVvbHlyaWNzfHRla2NyeXB0fG1pc3Npb25oaWdodHxncGxpbmtzfG1vZGRpbmd6b25lfGFkeWJyYW5kc3xnejJ8ZHVsaW5rfGFjbGlua3N8aGlkZWxpbmtzfHNob3J0ZWFybnx1LmFwZ3l8bW9kemlsbGF8dGhlYmVzdHdpc2hlc3xtcmRvZ2V8czJmbHl8ZmlsZXJpb3x0aGVibG9nZ2Vyc3BvaW50fGpzbGlua3xtb3ZpZXNuZXd8dGVjaG5vY3ViZXN8YWZseXxoZWFsdGh5bmVwYWx8ZGpub25zdG9wbXVzaWN8b21lZ2FsaW5rc3xqb2Jmb3JtfGtpbmdiaXQuY298ZHUtbGlua3xvdW9pfGJ5NnxhZHJpbm9saW5rc3xya2xpbmtzfG15bW9iaWxlaHVifHRlY2hkYXplfGxpbms0ZWFybnxydXBhbW9iaWxlfGV4YW1zb2x1dGlvbnxlYXJuNGxpbmt8a2FsdmlkdWRlc3x0ZWNod2l0aHNhbmlrYW50fGlieXR8Zmx5dXJsfGNvc21pY3RhcHxuYXVrcmlsZWxvfG5hbm9saW5rc3xjdXRwfGxpbmtwYXlzfHRyZW5kczk5fGxpbmsuc2ttNHUuY298bGlua3dhcmRzLmNvfGNvbXB1dGVycGVkaWF8YXBrdXBsb2FkfGJhbmFyYXN3YXB8am9icGhvcmlhfHRlY2hpbmN1YmF0b3J8Ym9va3N6b25lfGZpbGUtdXBsb2FkfGZyZWViaXRjb3xhcG5hLWJsb2d8ZWFybjRjbGlja3N8YWRiaXRmbHl8Z3JleWxpbmtzfGRqcXVuamFiKShcLmluKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oY2FzaHVybHxiaXRjb2lubHl8Y3JhenlibG9nfHpvbG9taXh8dGVjaG5vbG9neWxvdmVyfGV4cGVydGxpbmtzfGxhcmdlc3RwYW5lbHxyc3JsaW5rfHNob3J0MnVybHw5OWxpbmtzfGVuaXR8dXJsMmdvfHRudmFsdWV8cHZpZGx5fGFwdXJsfHVybGlua2VkfG1kbGlua3xnYW1lcmZhbmd8d3JpdGVkcm9pZHx0ZWNreXByZXNzfGZpeG5vfHBhaXNha2FtYWxvfGlua2lrfHNocmlua2ZvcmVhcm58ZWFzeXNreXxtZGlza3BsYXllcnxha2NhcnRvb25zfG9wZW4yZ2V0fGFkenp8cW9yYXxpbnN1cmFuY2Vnb2xkfHNtYWxsaW5mb3xmaWxteXBvaW50c3xsaW5rc2hpbGR8dmlwbGlua3xjdXR1cmx8ZTJzaGFyZXxzaG9ydHVybGxpbmt8b3BpbmlvbnRvZGF5fHRoZWZvcnlvdXxzaWdtYWxpbmtzfGZpbmFuY2VyaXRlc3xjb3JkdHBvaW50LmNvfG1kaXNrLm5ldHx0ZWNoeWluZm98YnRjYml0Y298YXBuYXNob3J0ZW5lcnxtZWdhZmx5fG1lZ2F1cmx8dHBsaW5rc3x0bmxpbmtzfG1lY2xpcHN0dWR5fHYybGlua3N8ZmluY2x1YnxncmV5bWF0dGVyc2xpbmtzfHNoYXJldXMpKFwuaW4pKFwvLiopPy8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oc2NyYXRjaDI0N3xhem1hdGh8bW9iaWxlcmV2aWV3fGluZm9ybTN0aW9ufHNob3J0bGlua3RvfHdlenxiaXRjcnlwdG98Y29va2xpa2V8dmlkZW9jbGlwfGJyYnVzaGFyZXxmYW5jbHVwfG51bGxlZGxpc3R8Y29pbnNjYXB8MXNob3J0fDY5dm58d2ViMXN8bWlzc3Jldmlld3xldmVyeS1jcnlwdG98YWpsaW5rc3xiaXQ0bWV8c3BvcnR3ZWIpKFwuaW5mbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShleGVlLm15fG9ubGluZXRlb3JpLm15fGthcnlhd2FuLmNvfHJvdGF0b3IubnVydWwtaHVkYS5zY2h8YWN0aXZpdHkubXl8bWFzc2l2ZS5teXxjYXZpZXcubXl8bmVzaWFrdS5teXxsZXdhdGl8YXJhaGxpbmt8bGlua2t8ZnJlZTR1Lm51cnVsLWh1ZGEub3J8bGluay5uZXNpYS5teXxvbWRhdGEubXl8bXlkYXRhLm15fGhlYWx0aHlkYWQubXl8bGFqYW5nc3BvdC53ZWJ8bWJhbnR1bC5teSkoXC5pZCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHN1cmF0cmVzbWl8Y2FyYXBlZGl8c2FsaW5rfG15Y3V0Lm15fGFwYXNpaC5teXxpbmRvZmF1Y2V0Lm15fHdhcGthfHRvbmFubWVkaWEubXkpKFwuaWQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYXlsaW5rfG15bmV3c21lZGlhfGd0bGlua3xkcm9wbGlua3wxMjNsaW5rfGxpbmtzZnl8YWRzaG9ydGl8aHhmaWxlfGRvc3lhfHRha2VtfGRhdXNlbHxtb2RsaW5rfHNsd2F0Y2h8NXRsfGRlc2l1cGxvYWR8dGVjaDVzfDktYW5pbWllfHZlZ2FuaG98bnVsbGVkbW9kfHZlZ2FuYWN8ZGVhbHByaWNlfGFyYWJwbHVzMnxjdXQteXxhZHNob3J0fHN1YjJtZXxncGxpbmtzfHdlYjFzfGt1MTFuZXR8bWl4ZHJvcCkoXC5jbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRha2V6fGxpbmtzZmlyZXx2b3Nhbnx0aW55Z298dmVnYW5hYnxhZGZsb3p8ZmV4a29taW58bGlua3NseXxmaW5zdXJhbmNlcykoXC5jbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShnaXJscy1saWtlfGdvYml0c3x6b3NzfHRsaW58dGVyYWZseXxwZXRhZmx5fGdpZ2FmbHl8YWRuZXdzfHBhcGFuZXdzfHBhbnlmbGF5fG1venpmbHl8c2hvcnR1c3xzaG9ydC5jcm9jbGl4fGJlc3QtbmV3c3w0Y2FzaHxtZWdhLW5ld3N8d2lsZGJsb2d8ZGRkcml2ZXxsaW5rcG9pfG0ubmV3aGl0fG1ib29zdHxsaW5rc2hvcnRzfGV4YWZseXxub25vZmx5fGxvenpmbHl8dXB0b21lZ2F8c3RmbHl8YWRidWxsfHlvdXNob3J0fGhlYWx0aC1hbmR8Y3V0eHxhZHNrfGxpbmtmbHl8YXBwZHJpdmV8c2hvcnRlci5lYXJuLWh1Ynxwa2lufGNhc2hhbmRvfGh1bnRlcmtpbGxlcnxhY29ydGFsaW5rfGFyLWdvYWx8bGlua2RhbXxhZHp1bGx5fGFkYnVsbHl8enVtcGF8Ym90Zmx5fHdlZXpvfGd0bGlua3N8a3Jvd25saW5rc3xibG9nMjR8c2gyNHxzbGZseXxkYnJlZXx5dWRpYmxvZykoXC5tZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRoZWNvbm9teXxyaWNobGlua3xxbml4fGhhdGVsaW5rfHJiN3xzaHJpbmtlKShcLm1lKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG5ld2ZvcmV4fHdwbGlua3xuYnl0c3x3ZWFsdGh5c3R5bGV8Y2xpY2tzZmx5fGhhcHB5LWxpdmluZ3x3ZWJjb2luLmNvaW5yYWlufHRlYWNoZXJhbmF8ZWFybm93fGVhcm4tY2FzaHx5b3VydGVjaG5vbG9neXxhcGtzfG5ldHdvcmstZWFybnxzaG9wZm9yZXh8by1wcm98d2Vkb2NyeXB0b3xzb2Z0aW5kZXhzaXRlfGVhLXNob3J0ZXIuZWFybi1odWJ8a29vb3JhMzY1fGZseWxpbmtzfGVhcm4tYml0Y29pbnxsdWRvZmFudHN5cGt8cGFueXRvdXJpc218d2lraXZlcnNpdHl8ZXhhY3RwYXl8c2V1bGluaykoXC5vbmxpbmUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhyZWFkaXxsaW5rbXVtZXR8c2hvcnRlfGJhdHRsZXJveWFsfGtqY3J5cHRvfGxpdGVjb2lubHl8dGVjaGV5c3VifGZvcmV4aXR8by1wcm8pKFwub25saW5lKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHNpdHJ8ZG93bmZpbGV8c2F2ZWxpbmt8bGlua3Nob3J0aWZ5fHNoYXJldXN8bW9iaWxlcHJpY2V8bXludXJzZXxzaG9ydDF8Zm9yZXh0cmFkZXJ8c2hvcnRlbmVyLmdvbGRjb250ZW50fGxrc2Z5fDF4bGlua3xzYXZlbGlua3xidXN0aGluZ3N8aWNlcmlrfGFkZmx5KShcLnNpdGUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhjZWtpcHxsaW5rNHJldnxjb2luLWNpdHl8dXJsY2FzaHxhbHdyaWZpY2xpY2t8c29mdGluZGV4fHByb21vLXZpc2l0c3xibHVlbWVkaWFmaWxlfGZseWVhcm58Y2xhaW1iaXRzfHNodGZseSkoXC5zaXRlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsdWVtZWRpYWZpbGV8dG91cmlzbXRyYXZlbHMxfHRvdXJpc210cmF2ZWxzMnx0b3VyaXNtdHJhdmVsczN8dG91cmlzbXRyYXZlbHM0fHRvdXJpc210cmF2ZWxzNXx0b3VyaXNtdHJhdmVsczl8ZmlsZXByZXNzKShcLnNicykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShlYXJubWV8c2Fub3lib25pdG98YXV0b21vdHVyfGtvb3phfDFsaW5rfHplbnR1bXxmb3JleHdhd3xtZWdhdHViZXw4OGJldDF8Y2xpY2tudXBsb2FkKShcLmNsdWIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh1c2FuZXdzdG9kYXl8a2FkYWx8d2ViaG9zdGluZ3RpcHN8bXl0b3A1KShcLmNsdWIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWRyZXZ8cGFpZDR8eW91c218Y29pbnBheXp8dHJ8dGZseXxzb3h8Y2xrLmR0aXxiZXN0dXJsfGJvb3N0bWV8dGFrZWZpbGV8YXBwb3xsaW5rc2hvcnRpZnl4fHBhbnlzaG9ydHxtZGlza3Nob3J0bmVyfGxlaXR8c2hvcnRhbm98c2hvcnRpbm98c3RyZWFtY2hlY2t8YmlsZGlyaW18aGVhbHRobWFydCkoXC5saW5rKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odnNob3J0fHN0ZXh8Y2FzaDR8enViYXxhZHNlbnxzaHJpbmttZXxzaHJzfHhjdXQpKFwubGluaykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShzaHVydHxzaG9ydGl0fGFkc3l8Yml0bGlua3N8Y2xpa3xwbGF5c3RvcmV8bWVnYWxpbmt8bGluazQpKFwucHcpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhwcnp8cG9uZ3xpbnNmbHl8d3RzfHNvbGxpbmt8bGlua3ZvcikoXC5wdykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShsaW5rc2hvcnxjb3J0bGlua3xtb25leWxpbmspKFwudGspKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtYWRmYXVjZXR8bWluZXNob3IpKFwudGspKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykob25pbXBvcnRzfGxpbmsuZW5jdXJ0YW9ufGVjb25vbWlhcmVsZXZhbnRlKShcLmNvbVwuYnIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhraWl3fHBhc3NnZW58d29yZGNvdW50ZXJ8c2hyaW5rfHJldmNvdHxjbGlja3p1fHNob3J0enV8Zmx5enV8Y3BtfHZpcGx5KShcLmljdSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh0bnl8dGlueXVybCkoXC5zbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHpzaG9ydHxjbGFpbWNyeXB0b3xjYXNoZWFybnwxaW5rfGxpbmtwYXl8bW9uZXlsaW5rfGludG5ld3N8b3BlbmxvYWR8bGlua3NweXxsZXRzdXBsb2FkfGxpbnh8dXB2aWR8YWR1cmx5fGdldGxpbmt8c3RmbHkpKFwuY2MpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZXhleXxlemxpbmtzfHRlY2htb2R5fG91b3x1cGxvYWR5fHJhY2F0eXwxc2hvcnR8ZWFybmxpbmt8Y2FzaW5vdHJ1Y3R1eWVufHZuODh8YmxpdGx5fGdldGRhc2hjb2lufHNhbHl8Y3V0eXxva2V8bGV0c3VwbG9hZHxlaW98b2lpfGV4ZXx2aXBsaW5rc3xzaHJpbmttZXx1cC1sb2FkfGdvZmlsZXxhcGttb2R5KShcLmlvKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8obGlua2ZseXx1c2FsaW5rfHNob3J0aXxkYXRhY2hlYXApKFwuaW8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoY3J5cHRvYWR8d2lraWxlfHVwbG9hZGV2fG1lZ2E0dXByfGNzaG9ydHxwYXlza2lwfGhvbWVhaXJxdWFsaXR5fHNob3J0ZWFybnxyb2xsLmJ0YzI1fHNsLmJ0YzI1fGVhcm5zZmx5fHNsMi5idGMyNXxidWdhdHRpLmV1fGxpbmtib25nODhtb2luaGF0fG9wbG92ZXJ6fGt1c29uaW1lfGtvbWlraW5kb3xtdWx0aXVwfG5vdmFmaWxlKShcLm9yZykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG1lZGlwb3N0fHNocmlua3VybHxrZWVwbGlua3N8cmFqZGxzZ3xyZWFkYml0Y29pbnx3cml0ZWRyb2lkLmV1fG1vZG1hbmlhLmV1KShcLm9yZykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShqYW1lZWx0aXBzfG1pdGx5fGFkZm9jfGxpbms0ZnVufHNocmlua2V8c2lpdXx2enUpKFwudXMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh5YWxsYS1zaG9vdC1ub3d8Zm9yZXhlZW58amFlbGlua3xsaW5rMnUpKFwudXMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhhZHNob3J0fDFiaXR8MnRoZXxjYXJlZXJodW50ZXJ8Z2FsYXh5LWxpbmt8YWR6N3Nob3J0fG9zY3V0fGNyeXB0b253b3JsZHxkdXRjaHljb3JwKShcLnNwYWNlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG5vd2Vjb25vbXl8ZGVwb3J0ZWFsZGlhfGFkc2hvcnR8YXl8cG5naXR8cG5keHx0eXplbnxzaGl2c2hha3RpKShcLmxpdmUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhlYXJuYWRzfGdlbnBhc3N3b3JkfHNocmxpbmt8cHVueWFtZXJrfHNob3J0bm93fGZyZWVsdGN8Zm9yZXhmaXRlcikoXC50b3ApKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZnJlZWxpdGVjb2lufHVwbGlua3RvfDFMaW5rfGRyb3BnYWxheHl8c21hcnRsaW5rfDFtbGluaykoXC52aXApKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZmF1Y2V0Y3J5cHRvfGJpbGRpcmltfGJldGEuc2hvcnRlYXJuKShcLmV1KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG5leC11cmx8b2xhbW92aWVzfGF0cm9sb2d5cmV4KShcLmN5b3UpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYW50b25pbW9zfGJsb2cuaG9zdHJhdGdlYmVyfHNpbm9uaW1vcykoXC5kZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh3ZWJtb2JpbGV8ZGFpbHl0aW1lKShcLnN0b3JlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oZmx5YWR8bG9vdGNhc2h8bWFueWxpbmspKFwudmlwKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHJvbWFuaWF8bWV0fHdhcnApKFwuYnopKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoMmFkfHZpeWF8MTdvKShcLmlyKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGFkc2hyaW5rfGN1dGluKShcLml0KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHBpbmdpdHxmaWxlc3x1cG8pKFwuaW0pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoY2xrfDl4dXBsb2FkfG1nMTg4fGFkYnJpdGUpKFwuYXNpYSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShhaWl8Y2xrfG9rb3xjdHJ8bWV4YXxzaHR8cHJvKShcLnNoKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGlpcnx0ZWl8aWVyfGNraykoXC5haSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHVwbG9hZHxwcngpKFwuZWUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhwdHJ8bWRufG5lb25pbWUpKFwubG9sKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oZ29vfG94eSkoXC5zdCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHBheWxpbmtzfG94eSkoXC5jbG91ZCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG1kbnxpbnN1cmFuY2U0dSkoXC53b3JsZCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGNyeXB0b2Z1bnN8Y3J5cHRvbmV0b3MpKFwucnUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtaXJyb3JlZHxjbGlja251cGxvYWR8c3Vtb3dlYnxzdHJlYW1oaWRlfGhlYykoXC50bykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG91b3xmb3JleHRyYWRlcnxkYWdhODgpKFwudG9kYXkpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh0ZWNoZ2Vla3xhZHNnb3xzZXVsaW5rKShcLmRpZ2l0YWwpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhnb3RvLmNvbXxuaXNoYW5raGF0cmkuY29tKShcLm5wKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oMzYwc2hvcnRsaW5rfG15cmF8bW9ydW5pcXVlfHRtcGZyZWV8cmVlc2hvcnQpKFwuY2YpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhpOGx8Y2xrfHBpLWx8YmN2Y3xtb2RsaXxiZWFzdHxib29zdHx1cHRvYmhhaXx3b3JrfDV0bHxnYWlubCkoXC5pbmspKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtaG1hMTJ8c3VyZmxpbmt8dGVjaHRyaW18YWRjYXNofHlvdHJpY2tzbG9nfHNob3J0bGlua3N8cGRpc2twYWdlKShcLnRlY2gpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoa2l3fHJlZGlyLjEyM2ZpbGV8Y3V0bCkoXC5saSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShmY3xmY2MpKFwubGMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWR6fGtvbWlrY2FzdCkoXC5tb2UpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoMWRvZ2Vjb2lufGZhdWNldHxjcHUtbWluZXIubGVha3MpKFwud29yaykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KDEyM2xpbmt8bXRhZ2FuZ3xzaG9ydHVybCkoXC5iaXopKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPygzc2hvcnR1cmx8ZWFybmJpdGNvaW4pKFwuZ3EpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhleGV8ZXhlZXxleGVwfGV4ZW98dXBmaWxlc3xjdXR0eXxsaW5rZmx5fHJzZ2FtZXIpKFwuYXBwKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8obWFrZWVhc3lidGN8c29mdGluZGV4fHRlY2h1c3xjcnlwdG9yb3RhdG9yKShcLndlYnNpdGUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobGlua2F8eHRyYWJpdHN8c2tpcGFkc3xzb2Z0aW5kZXh8ZWxpbmtzfGZyZWVjY3xjY3Nob3J0fGNsaWNrbnVwbG9hZHx3b3JraW5rfGZpbGVwcmVzc3xjb2luc2x8YWRiaXRmbHkpKFwuY2xpY2spKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhlYXN5c2x8YWRsaW5rfGFkemlsbGF8dXJsY2FzaHxmcmVlYml0Y29pbnx1cmxjYXNoaHxyZXZseXxqZXRtZWRpYSkoXC5jbGljaykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGhhbW9keXxuYXRoYW5hZWxkYW58ZnJlZGR5b2N0YXZpb3xkYXZpc29uYmFya2VyfGNsa3N8Y3J5cHRvc2h8YmVzdGZvbnRzfGdpdGxpbmt8b3BlbnVybHxiaXRhZHN8YWZseXxtZGlza3xlYXJuaWZ5KShcLnBybykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjbGFpbXxwcmljZW5ld3N8YWxhYXNob3d8Yml0Y2xpY2t8YWRzYnRjfG1vYnVybHxjbGlja2xpbmt8Yml0Y29pbmZhdWNldHxsaW5rbWF0aWN8bGlua3ByZXNzfHRlcmFib3h8ZXhhbGlua3xvc2N1dCkoXC5mdW4pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhhcGttb2R5fGZyZWV0cngpKFwuZnVuKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odXAtbG9hZHx6Y2FzaHxtZGlza3xob2xkdG9lYXJufGc0eikoXC5vbmUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobGlua2F0aXxjdXJ0b3xtZzE4OHxmcmVlYml0Y29pbikoXC53aW4pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoem9uZWFybnxoeW5ld3MpKFwuYml6KShcLy4qKS8KLy8gQGluY2x1ZGUgL15odHRwczpcL1wvbGlua3ZlcnRpc2VcLmNvbVwvKDF8MnwzfDR8NXw2fDd8OHw5KS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8obmhhY2FpdXl0aW58c3YzODgpKFwuYWMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtZWRpYWZpcmUpKFwuY29tKVwvKGRvd25sb2FkfGZpbGUpLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhjcnlwdG9jdXJyZW5jeXRyYWNrZXJ8ZnJlZWZhdWNldCkoXC5iaXopXC8obGluaykvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRoYW5nbG9uZ2dyb3VwfGJpZ29uZXxraWVudmFuZ3xzaWxjb3QuY29tfGJlbW9tLmNvbXxzdW5mbG93ZXJzdGVpbmVyLmVkdSkoXC52bikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGNsaWNrc2NvaW58b2ZmZXJvY3xjcnlwdG90eXBob29ufHNvZnRhaXJiYXkpKFwuY29tKVwvKHNob3J0KS8KLy8gQGV4Y2x1ZGUgKjovL3N0dWRpby55b3V0dWJlLmNvbS8qCi8vIEBleGNsdWRlICo6Ly8qLnZvc2FuLmNvLwovLyBAbWF0Y2ggICAqOi8vYWwubHkvKgovLyBAbWF0Y2ggICAqOi8vemEuZ2wvKgovLyBAbWF0Y2ggICAqOi8vYzJnLmF0LyoKLy8gQG1hdGNoICAgKjovL3RpaS5sYS8qCi8vIEBtYXRjaCAgICo6Ly9zZW5kLmNtLyoKLy8gQG1hdGNoICAgKjovL2Fkb2MucHViLyoKLy8gQG1hdGNoICAgKjovL2ZpbGVzLmZtLyoKLy8gQG1hdGNoICAgKjovLzFnb20uc2hvcC8qCi8vIEBtYXRjaCAgICo6Ly9zbGluay5iaWQvKgovLyBAbWF0Y2ggICAqOi8vb3VvLnByZXNzLyoKLy8gQG1hdGNoICAgKjovLzdjYy45Ni5sdC8qCi8vIEBtYXRjaCAgICo6Ly9na3RlY2gudWsvKgovLyBAbWF0Y2ggICAqOi8vb25lODguZGF5LyoKLy8gQG1hdGNoICAgKjovL2dpdGkud29ya3MvKgovLyBAbWF0Y2ggICAqOi8vdGlueXVybC5pcy8qCi8vIEBtYXRjaCAgICo6Ly8qLmdkdG90LmNmZC8qCi8vIEBtYXRjaCAgICo6Ly9sb2xhYml0cy5zZS8qCi8vIEBtYXRjaCAgICo6Ly9zaGFyZTR1Lm1lbi8qCi8vIEBtYXRjaCAgICo6Ly9maWxlbW9vbi5zeC8qCi8vIEBtYXRjaCAgICo6Ly9iemxpbmsuY3UubWEvKgovLyBAbWF0Y2ggICAqOi8vKi56aXBweXNoYS5yZS8qCi8vIEBtYXRjaCAgICo6Ly91cGxpbmt0by5oYWlyLyoKLy8gQG1hdGNoICAgKjovL2xpdGVjb2luLmhvc3QvKgovLyBAbWF0Y2ggICAqOi8vZHJvcC5kb3dubG9hZC8qCi8vIEBtYXRjaCAgICo6Ly9saW5rc2hyaW5rLmNhLyoKLy8gQG1hdGNoICAgKjovLyovKj94cmVmPSomc2w9KgovLyBAbWF0Y2ggICAqOi8vc2hvcnQuZXhwcmVzcy8qCi8vIEBtYXRjaCAgICo6Ly8qLmNvaW5odWIud2lraS8qCi8vIEBtYXRjaCAgICo6Ly91cmxjYXNoaC5xdWVzdC8qCi8vIEBtYXRjaCAgICo6Ly9hcmJ3ZWIuaW5mby9zbC8qCi8vIEBtYXRjaCAgICo6Ly8qLmNpemdpZmlsbS50di8qCi8vIEBtYXRjaCAgICo6Ly9kb3dubG9hZHMubmluamEvKgovLyBAbWF0Y2ggICAqOi8vKi50cmFuZ2NodS5uZXdzLyoKLy8gQG1hdGNoICAgKjovL2F1dG9tYXQuc3lzdGVtcy8qCi8vIEBtYXRjaCAgICo6Ly9jbGlja251cGxvYWQucmVkLyoKLy8gQG1hdGNoICAgKjovL2RvY3MuZ29vZ2xlLmNvbS91YyoKLy8gQG1hdGNoICAgKjovL2R1dGNoeWNvcnAub3ZoL3MqLyoKLy8gQG1hdGNoICAgKjovL2Nhc3RsZXM0a2lkcy5jby5uei8qCi8vIEBtYXRjaCAgICo6Ly9hZGJ0Yy50b3Avc3VyZi9icm93c2UvKgovLyBAbWF0Y2ggICAqOi8vYW5vbnltLm5pbmphL2Rvd25sb2FkLyoKLy8gQG1hdGNoICAgKjovL2ZhdWNldGNyeXB0by5uZXQvc2hvcnQvKgovLyBAbWF0Y2ggICAqOi8va29uc3RhbnRpbm92YS5uZXQvdmVyaWZ5LyoKLy8gQG1hdGNoICAgKjovL3BsYXluYW5vLm9ubGluZS93YXRjaC1hbmQqCi8vIEBtYXRjaCAgICo6Ly9hZGJ0Yy50b3Avc3VyZmlhdC9icm93c2UvKgovLyBAbWF0Y2ggICAqOi8vbm9vZGxlbWFnYXppbmUuY29tL2Rvd25sb2FkLyoKLy8gQG1hdGNoICAgKjovL2ZhdWNldGNyeXB0by5jb20vY2xhaW0vc3RlcC8qCi8vIEBtYXRjaCAgICo6Ly8qLnJhY2VkZXBhcnRtZW50LmNvbS9kb3dubG9hZHMvKgovLyA9PS9Vc2VyU2NyaXB0PT0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMRUFTRSBSRUFEIFNDUklQVCBJTkZPIEJFRk9SRSBVU0UKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMRUFTRSBSRVNQRUNUIElGIE1ZIFNDUklQVFMgVVNFRlVMIEZPUiBZT1UKLy8gICAgICAgICAgICAgICAgICAgICAgRE9OJ1QgVFJZIFRPIENPUFkgUEFTVEUgTVkgU0NSSVBUUyBUSEVOIFNIQVJFIFRPIE9USEVSUyBMSUtFIFlPVSBBUkUgVEhFIENSRUFUT1IKLy8gICAgICAgICAgICAgICAgIFBMRUFTRSBET04nVCBSRU1PVkUgT1IgQ0hBTkdFIE1ZIEJMT0csIERJU0FCTEUgWU9VUiBBREJMT0NLIElOIE1ZIEJMT0cgLCBUSEFOS1MgRk9SIFlPVVIgU1VQUE9SVAovLyAgICAgICAgICAgICAgTXkgQmxvZyBpcyBWZXJ5IEltcG9ydGFudCB0byBnaXZlIHNvbWUgRGVsYXkgZm9yIHNhZmUgYXdheSAsVHJhY2sgTmV3IFNob3J0bGlua3MgLCBCcm9rZW4gQnlwYXNzIGV0Yy4uLgovLyBUaGFua3Mgc28gbXVjaCB0byBASnVzdE9sYWYgLCBAS29uZiAsIEBoYWNrZXIwOSAsIEBqdWFuc2kgLCBATm90WW91IEFuZCBAY3VuYXFyIGZvciBIZWxwaW5nIG1lICwgbWFrZSBteSBzY3JpcHQgZXZlbiBiZXR0ZXIgLCBhbmQgZm9yIEFsbCB3aG8gaGFzIGNvbnRyaWJ1dGVkIHZpYSBGZWVkYmFjay4KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gVGhlcmUgd2lsbCBiZSBhIFNwZWNpYWwgVHJpY2tzIGFuZCBCeXBhc3MgQWRibG9jayBDb2RlcyBvbmx5IGZvciBHb29kIFVzZXJzIChBbnlvbmUgd2hvIGhhdmUgZ29vZCBhdHRpdHVkZSAsIEdvb2QgRmVlZGJhY2ssIHdpbGwgYmUgaW52aXRlZCB0byBteSBncm91cCkKKGZ1bmN0aW9uKCkgewogICd1c2Ugc3RyaWN0JzsKICBjb25zdCB2YWxkZWxheSA9IDU7IC8vIENoYW5nZSB0aGUgbnVtYmVyIGZyb20gNSB0byAxMCBvciAyMCBpZiB5b3UgaGF2ZSBpc3N1ZXMgbGlrZSBZb3VyIGFjdGlvbiBtYXJrZWQgU3VzcGljaW91cyxEb24ndCB0cnkgdG8gYnlwYXNzICxEb24ndCB1c2UgU3BlZWRzdGVyLCBldGMKICBjb25zdCB2YWxid2FsbCA9IDU7IC8vIFBsZWFzZSBSZW1lbWJlciAsIE15IFNjcmlwdHMgaXMgYmV0dGVyIHdpdGggRmlyZWZveCBCcm93c2VyIGFuZCBWaW9sZW50bW9ua2V5IEV4dGVuc2lvbgogIGNvbnN0IGJwID0gcXVlcnkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7CiAgY29uc3QgQnBBbGwgPSBxdWVyeSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KTsKICBjb25zdCBlbGVtZW50RXhpc3RzID0gcXVlcnkgPT4gYnAocXVlcnkpICE9PSBudWxsOwogIGNvbnN0IGRvbWFpbkNoZWNrID0gZG9tYWlucyA9PiBuZXcgUmVnRXhwKGRvbWFpbnMpLnRlc3QobG9jYXRpb24uaG9zdCk7CiAgY29uc3QgQnBQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgY29uc3QgUmV4QnAgPSBuZXcgUmVnRXhwKC9eXD8oW14mXSspLyk7CiAgZnVuY3Rpb24gQnBCbG9jaygpIHsKICAgIHJldHVybiAxO30KICBmdW5jdGlvbiBjbGljayhxdWVyeSkgewogICAgYnAocXVlcnkpLmNsaWNrKCk7fQogIGZ1bmN0aW9uIHN1Ym1pdChxdWVyeSkgewogICAgYnAocXVlcnkpLnN1Ym1pdCgpO30KICBmdW5jdGlvbiByZWRpcmVjdCh1cmwsIGJsb2cgPSB0cnVlKSB7CiAgICBsb2NhdGlvbiA9IGJsb2cgPyAnaHR0cHM6Ly9yb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkLz91cmw9JyArIHVybCA6IHVybDt9CiAgZnVuY3Rpb24gd2FpdEZvckVsbShxdWVyeSwgY2FsbGJhY2spIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkgewogICAgICAgIGNhbGxiYWNrKGJwKHF1ZXJ5KSk7fSBlbHNlIHsKICAgICAgICB3YWl0Rm9yRWxtKHF1ZXJ5LCBjYWxsYmFjayk7fX0sIDEwMDApO30KICBmdW5jdGlvbiBDbGlja0lmRXhpc3RzKHF1ZXJ5LCB0aW1lSW5TZWMgPSAxLCBmdW5jTmFtZSA9ICdzZXRUaW1lb3V0JykgewogICAgaWYgKGVsZW1lbnRFeGlzdHMocXVlcnkpKSB7d2luZG93W2Z1bmNOYW1lXShmdW5jdGlvbigpIHsKICAgICAgICBjbGljayhxdWVyeSk7fSwgdGltZUluU2VjICogMTAwMCk7fX0KICBmdW5jdGlvbiBTdWJtaXRJZkV4aXN0cyhxdWVyeSwgdGltZUluU2VjID0gMSwgZnVuY05hbWUgPSAnc2V0VGltZW91dCcpIHsKICAgIGlmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge3dpbmRvd1tmdW5jTmFtZV0oZnVuY3Rpb24oKSB7CiAgICAgICAgc3VibWl0KHF1ZXJ5KTt9LCB0aW1lSW5TZWMgKiAxMDAwKTt9fQogIGZ1bmN0aW9uIENoZWNrdmlzaWJpbGl0eShlbGVtKSB7CiAgICBpZiAoIWVsZW0ub2Zmc2V0SGVpZ2h0ICYmICFlbGVtLm9mZnNldFdpZHRoKSB7cmV0dXJuIGZhbHNlO30KICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGVsZW0pLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nKSB7cmV0dXJuIGZhbHNlO30KICAgIHJldHVybiB0cnVlO30KICBmdW5jdGlvbiBtZXRhKGhyZWYpIHsKICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyksIHsKICAgICAgbmFtZTogJ3JlZmVycmVyJyxjb250ZW50OiAnb3JpZ2luJ30pKTsKICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLCB7aHJlZn0pLmNsaWNrKCk7fQogIGZ1bmN0aW9uIFJlbW92ZUJwKGRvbWFpbiwgc2VsZWN0b3IpIHtjb25zdCByZV9kb21haW4gPSBuZXcgUmVnRXhwKGRvbWFpbik7CiAgICBpZiAoIXJlX2RvbWFpbi50ZXN0KGxvY2F0aW9uLmhvc3QpKSByZXR1cm47CiAgICBjb25zdCBlbGVtZW50cyA9IEJwQWxsKHNlbGVjdG9yKTsKICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge2VsZW1lbnQucmVtb3ZlKCk7fX0KICBmdW5jdGlvbiBDYXB0Y2hhc3ViKHF1ZXJ5LCBhY3QgPSAnc3VibWl0JywgdGltZUluU2VjID0gMC41KSB7CiAgICBpZiAoZWxlbWVudEV4aXN0cyhxdWVyeSkpIHt2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHticChxdWVyeSlbYWN0XSgpOwogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7fX0sIHRpbWVJblNlYyAqIDEwMDApO319CiAgZnVuY3Rpb24gUmVhZENWKGNuYW1lKSB7bGV0IG5hbWUgPSBjbmFtZSArICI9IjsKICAgIGxldCBkZWNvZENWID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7CiAgICBsZXQgY3YgPSBkZWNvZENWLnNwbGl0KCc7Jyk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN2Lmxlbmd0aDsgaSsrKSB7bGV0IGMgPSBjdltpXTsKICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykgewogICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTt9CiAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkgewogICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO319CiAgICByZXR1cm4gIiI7fQogIGZ1bmN0aW9uIEVuYWJsZVJDRigpIHsKICAgIFtdLmZvckVhY2guY2FsbChbJ2NvbnRleHRtZW51JywgJ3Zpc2liaWxpdHljaGFuZ2UnLCAnY3V0JywgJ3Bhc3RlJywgJ2JsdXInLCAnbW91c2VsZWF2ZScsICdrZXl1cCcsICdkcmFnJywgJ2RyYWdzdGFydCcsICdoYXNGb2N1cycsICdmb2N1cycsICdzZWxlY3QnLCAnc2VsZWN0c3RhcnQnLCAnd2Via2l0dmlzaWJpbGl0eWNoYW5nZScsICdtb3p2aXNpYmlsaXR5Y2hhbmdlJ10sIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO30sIHRydWUpO30pO30KICBmdW5jdGlvbiBmaXJlTW91c2VFdmVudHMocXVlcnkpIHsKICAgIGNvbnN0IGVsZW1lbnQgPSBicChxdWVyeSk7CiAgICBpZiAoIWVsZW1lbnQpIHJldHVybjsKICAgIFsnbW91c2VvdmVyJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ2NsaWNrJ10uZm9yRWFjaChldmVudE5hbWUgPT4gewogICAgICBpZiAoZWxlbWVudC5maXJlRXZlbnQpIHsKICAgICAgICBlbGVtZW50LmZpcmVFdmVudCgnb24nICsgZXZlbnROYW1lKTt9IGVsc2UgewogICAgICAgIGNvbnN0IGV2ZW50T2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7CiAgICAgICAgZXZlbnRPYmplY3QuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudE9iamVjdCk7fX0pO30KICBmdW5jdGlvbiBDYXB0Y2hhY2hlY2soKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5jZi10dXJuc3RpbGUnKSkgewogICAgICByZXR1cm4gd2luZG93LnR1cm5zdGlsZS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMDsKICAgIH0gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnLmgtY2FwdGNoYScpKSB7CiAgICAgIHJldHVybiB3aW5kb3cuaGNhcHRjaGEuZ2V0UmVzcG9uc2UoKS5sZW5ndGggIT09IDA7CiAgICB9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7CiAgICAgIHJldHVybiB3aW5kb3cuZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuZ3JlY2FwdGNoYSAmJiB3aW5kb3cuZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMDt9fQogIGZ1bmN0aW9uIG5vdGlmeSh0eHQsIHdpZHRoID0gOTcwKSB7CiAgICBjb25zdCBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBtLnN0eWxlLnBhZGRpbmcgPSAnMXB4JzsKICAgIG0uc3R5bGUuekluZGV4ID0gOTk5OTk5OTk7CiAgICBtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIG0uc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnOwogICAgbS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDsKICAgIG0uc3R5bGUudG9wID0gJzI3MHB4JzsKICAgIG0uc3R5bGUubGVmdCA9IGAke2lubmVyV2lkdGggLyAyIC0gd2lkdGggLyAyfXB4YDsKICAgIG0uc3R5bGUuZm9udCA9ICdub3JtYWwgYm9sZCAxN3B4IHNhbnMtc2VyaWYnOwogICAgbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnOwogICAgbS5pbm5lclRleHQgPSB0eHQ7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pO30KICBmdW5jdGlvbiBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYShyZV9kb21haW4sIGRhdGEsIGJsb2cpIHsKICAgIGlmICghcmVfZG9tYWluLnRlc3QobG9jYXRpb24uaG9zdCkpIHJldHVybjsKICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGRhdGEoKTsKICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSBkYXRhID0geyAnLyc6IGRhdGEgfTsKICAgIGlmICghKGxvY2F0aW9uLnBhdGhuYW1lIGluIGRhdGEpKSByZXR1cm47CiAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBkYXRhW2xvY2F0aW9uLnBhdGhuYW1lXTsKICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyAmJiBrZXkudGVzdChsb2NhdGlvbi5zZWFyY2gpKSByZXR1cm4gcmVkaXJlY3QodmFsdWUgKyBSZWdFeHAuJDEsIGJsb2cpOwogICAgaWYgKEJwUGFyYW1zLmhhcyhrZXkpKSByZWRpcmVjdCh2YWx1ZSArIEJwUGFyYW1zLmdldChrZXkpLCBibG9nKTt9CiAgZnVuY3Rpb24gQmxvZ2dlclBlbXVsYShkb21haW5zLCBkYXRhLCB1cmwgPSAnJywgYmxvZyA9IGZhbHNlLCBhbGwgPSBmYWxzZSkgewogICAgaWYgKCFkb21haW5DaGVjayhkb21haW5zKSkgcmV0dXJuOwogICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLnNwbGl0KCcsJykuZXZlcnkocCA9PiBCcFBhcmFtcy5oYXMocCkpKSB7CiAgICAgIGNvbnN0IHVzZSA9IGRhdGEuc3BsaXQoJywnKS5hdCgwKTsKICAgICAgY29uc3QgZGVmID0gYWxsID8gQnBQYXJhbXMuZ2V0QWxsKHVzZSkuZmluZCh1ID0+IG5ldyBSZWdFeHAoZG9tYWlucykudGVzdCh1KSkgOiBCcFBhcmFtcy5nZXQodXNlKTsKICAgICAgcmVkaXJlY3QodXJsICsgZGVmLCBibG9nKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7Y29uc3QgbyA9IGRhdGFbbG9jYXRpb24ucGF0aG5hbWVdOwogICAgICBpZiAoIW8pIHJldHVybjtCbG9nZ2VyUGVtdWxhKGRvbWFpbnMsIC4uLm8pO319CiAgZnVuY3Rpb24gQm9vc3RlcigpIHtsZXQgRmFzdEludCA9ICd7ezF9fSc7CiAgICBpZiAoRmFzdEludCA9PT0gJ3t7MX19Jykge0Zhc3RJbnQgPSAnJzt9CiAgICBsZXQgZGVsYXlBcmcgPSAne3syfX0nOwogICAgaWYgKGRlbGF5QXJnID09PSAne3syfX0nKSB7ZGVsYXlBcmcgPSAnJzt9CiAgICBsZXQgYm9vc3RBcmcgPSAne3szfX0nOwogICAgaWYgKGJvb3N0QXJnID09PSAne3szfX0nKSB7Ym9vc3RBcmcgPSAnJzt9CiAgICBpZiAoRmFzdEludCA9PT0gJycpIHtGYXN0SW50ID0gJy4/JzsKICAgIH0gZWxzZSBpZiAoRmFzdEludC5jaGFyQXQoMCkgPT09ICcvJyAmJiBGYXN0SW50LnNsaWNlKC0xKSA9PT0gJy8nKSB7CiAgICAgIEZhc3RJbnQgPSBGYXN0SW50LnNsaWNlKDEsIC0xKTsKICAgIH0gZWxzZSB7RmFzdEludCA9IEZhc3RJbnQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7fQogICAgY29uc3QgRmFzdEludGVyID0gbmV3IFJlZ0V4cChGYXN0SW50KTsKICAgIGxldCBkZWxheSA9IGRlbGF5QXJnICE9PSAnKicgPyBwYXJzZUludChkZWxheUFyZywgMTApIDogLTE7CiAgICBpZiAoaXNOYU4oZGVsYXkpIHx8IGlzRmluaXRlKGRlbGF5KSA9PT0gZmFsc2UpIHtkZWxheSA9IDEwMDA7fQogICAgbGV0IGJvb3N0ID0gcGFyc2VGbG9hdChib29zdEFyZyk7CiAgICBib29zdCA9IGlzTmFOKGJvb3N0KSA9PT0gZmFsc2UgJiYgaXNGaW5pdGUoYm9vc3QpID8gTWF0aC5taW4oTWF0aC5tYXgoYm9vc3QsIDAuMDIpLCA1MCkgOiAwLjA1OwogICAgc2VsZi5zZXRUaW1lb3V0ID0gbmV3IFByb3h5KHNlbGYuc2V0VGltZW91dCwgewogICAgICBhcHBseTogZnVuY3Rpb24odGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7Y29uc3QgW2EsIGJdID0gYXJnczsKICAgICAgICBpZiAoKGRlbGF5ID09PSAtMSB8fCBiID09PSBkZWxheSkgJiYgRmFzdEludGVyLnRlc3QoYS50b1N0cmluZygpKSkge2FyZ3NbMV0gPSBiICogYm9vc3Q7fQogICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpc0FyZywgYXJncyk7fX0pOwogICAgc2VsZi5zZXRJbnRlcnZhbCA9IG5ldyBQcm94eShzZWxmLnNldEludGVydmFsLCB7CiAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtjb25zdCBbYSwgYl0gPSBhcmdzOwogICAgICAgIGlmICgoZGVsYXkgPT09IC0xIHx8IGIgPT09IGRlbGF5KSAmJiBGYXN0SW50ZXIudGVzdChhLnRvU3RyaW5nKCkpKSB7YXJnc1sxXSA9IGIgKiBib29zdDt9CiAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTt9fSk7fQoKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXByb3ZheC5jb20vLCB7CiAgICAnLyc6IFtSZXhCcCwgJ2h0dHBzOi8vcGF5bGlubmsuY29tLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvN2FwcGxlLm5ldC8sIHsKICAgICcvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9pbGxpbmsubmV0LyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaGRhemUuaW4vLCB7CiAgICAnLyc6IFtSZXhCcCwgJ2h0dHBzOi8vd2ViLm1kaXNrcGxheWVyLmluLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcmtsaW5rcy5pbi8sIHsKICAgICcvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vYmxvZy5pbmtpay5pbi8nXSwKICB9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2plbWFyaS5uZXQvLCB7CiAgICAnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vc2tpcC5qZW1hcmkubmV0LyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ2l0aS53b3Jrcy8sIHsKICAgICcvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9nZXQubXRyYWZmaWNzLmNvbS8nXSwKICB9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL215bW9iaWxlaHViLmluLywgewogICAgJy9zYWZlLnBocCc6IFsnbGluaycsICdodHRwczovL21vZGxpbmsuY28vJ10sCiAgfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWRpcG9zdC5vcmcvLCB7CiAgICAnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vZ28udGhlY29ub215Lm1lLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaG1vZHkuaW98dGVjaDVzLmNvLywgewogICAgJy9zYWZlMi5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9lejRzaG9ydC5jb20vJ10sCiAgfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pbnN1cmFuY2V2bG9nLmluLywgewogICAgJy9jaGVjay8nOiBbUmV4QnAsICdodHRwOi8vcGRpc2twYWdlLnRlY2gvJ10sCiAgfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tY2FmZWUtY29tLmNvbS8sIHsKICAgICcvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9zci5zaHJpbmttZS5saW5rLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3dhcmRzLmNvLmluLywgewogICAgJy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2Fkcy5saW5rd2FyZHMuY29tLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ3BsLW1hcmtldC5jb20vLCB7CiAgICAnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vc2hyaW5rZm9yZWFybi5pbi8nXSwKICB9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VybC5hZHNxdWl0ZS5jb20vLCBmdW5jdGlvbigpIHsKICAgIGxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCd1cmwuJywgJycpO30pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNoeWFkamVjdGl2ZXMuY29tLywgewogICAgJy9jaGVjay8nOiBbUmV4QnAsICdodHRwczovL2RlbW8ucHZpZGx5LmluLyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaHlpbmZvLmluLywgewogICAgJy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2xvYW4udGVjaHlpbmZvLmluLz9vcGVuPSddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGluay5iaWNvbGluay5uZXQvLCBmdW5jdGlvbigpIHsKICAgIGxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdsaW5rJywgJ2dvJyk7fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2d5aW5kaWEuY29tLywgewogICAgJy9zYWZlLnBocCc6IFsnbGluaycsICdodHRwczovL2xpbmsuYmxvZ3lpbmRpYS5jb20vJ10sCiAgfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pbmZpbml0eXNrdWxsLmNvbS8sIHsKICAgICcvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9nby5wdWJsaWNlYXJuLmNvbS8nXSwKICB9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmsubGlua3NmaXJlLmNvLywgZnVuY3Rpb24oKSB7CiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnbGluaycsICdibG9nJyk7fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NwZWVkeW5ld3MueHl6LywgewogICAgJy9ibG9nL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2xpbmtzLnNwZWVkeW5ld3MueHl6LyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3R1ZHl1by5jb20vLCB7CiAgICAnL3BybzIvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vc3BlZWR5bmV3cy54eXovYmxvZy92ZXJpZnkvPyddLAogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb2xob25hZ3JhbmEuY29tLywgewogICAgJy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL3BheWxpbm5rLmNvbS8nXSwKICAgICcvJzogW1JleEJwLCAnaHR0cHM6Ly9zeWZsaW5rLmNvbS8nXQogIH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZHV0Y2h5Y29ycC5zcGFjZS8sIGZ1bmN0aW9uKCkgewogICAgaWYgKEJwUGFyYW1zLmhhcygnY29kZScpKSB7CiAgICAgIGxvY2F0aW9uID0gQnBQYXJhbXMuZ2V0QWxsKCdjb2RlJykgKyAnP3ZlcmlmPTAnO319KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ2R0b3QuY2ZkLywgZnVuY3Rpb24oKSB7CiAgICBpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL2ZpbGUvJykpIHsKICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2ZpbGUvJywgJy9kZGwvJyk7fX0pOwogIEJsb2dnZXJQZW11bGEoJ2NsaW5rMS5jb20nLCAndXJsLGlkJywgJycpOwogIEJsb2dnZXJQZW11bGEoJ2VsbW9raGJpci5jb20nLCAnbGluaycsICcnKTsKICBCbG9nZ2VyUGVtdWxhKCdtb2RtYW5pYS5ldS5vcmcnLCAnZ28nLCAnJyk7CiAgQmxvZ2dlclBlbXVsYSgncG92YXRoZW1lcy5jb20nLCAndXJsJywgJycpOwogIEJsb2dnZXJQZW11bGEoJ3dyaXRlZHJvaWQuaW4nLCAndG9rZW4nLCAnJyk7CiAgQmxvZ2dlclBlbXVsYSgnYmxpdGx5LmlvJywgJ3VybCxhcGlrZXknLCAnJyk7CiAgQmxvZ2dlclBlbXVsYSgnc2FoaXR5dC5jb20nLCAndG9rZW4nLCAnaHR0cHM6Ly92enUudXMvJyk7CiAgQmxvZ2dlclBlbXVsYSgnN2FwcGxlLm5ldCcsICdnbycsICdodHRwczovL2lsbGluay5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgncnVwYW1vYmlsZS5pbicsICdnbycsICdodHRwczovL21kaXNrLm9uZS8nKTsKICBCbG9nZ2VyUGVtdWxhKCdlZGEtYWguY29tJywgJ2dldDEnLCAnaHR0cHM6Ly9saWlua2F0LmNvbS8nKTsKICBCbG9nZ2VyUGVtdWxhKCdtLm5ld2hpdC5tZScsICdsaW5rJywgJ2h0dHBzOi8vbGluazNzLm5ldC8nKTsKICBCbG9nZ2VyUGVtdWxhKCd3cGtpbmcuaW4nLCAnbGluaycsICdodHRwczovL28ub3ZsaW5rcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZ28ucW9yYS5pbicsICdsaW5rJywgJ2h0dHBzOi8vbGluay5xb3JhLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ3JzcmxpbmsuaW4nLCAnbGluaycsICdodHRwczovL2dvLnJzcmxpbmsuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbXJkb2dlLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLmNhc2g0LmxpbmsvJyk7CiAgQmxvZ2dlclBlbXVsYSgnaXRlY2hsb2dpYy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28uYXB1cmwuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYmxvZy5ob3N0cmF0Z2ViZXIuZGUnLCAnZ28nLCAnaHR0cHM6Ly9jMmcuYXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXV0b2RpbWUuY29tJywgJ2dvJywgJ2h0dHBzOi8vZ28ubGlua3JleC5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgndGVjaGhhZGkuY29tJywgJ25ld3MnLCAnaHR0cHM6Ly9nby50cGxpbmtzLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ21vdmllc25ldy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28udG5saW5rcy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd6dWJhdGVjbm8uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5mbHl6dS5pY3UvJyk7CiAgQmxvZ2dlclBlbXVsYSgnaXRlY2htYWZpaWEuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly92LmVhcm5sLnh5ei8nKTsKICBCbG9nZ2VyUGVtdWxhKCd2ZWdhbmFiLmNvJywgJ2xpbmsnLCAnaHR0cHM6Ly90ZWNoeS52ZWdhbmFiLmNvLycpOwogIEJsb2dnZXJQZW11bGEoJ3RlY2hjYXJ0ei5jb20nLCAnbGluaycsICdodHRwczovL2Fkcy5tZGxpbmsuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZ2t0ZWNoLnVrJywgJ2FkbGlua2ZseScsICdodHRwczovL2xpbmt5ZWFybi5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZmFjdHNkdW55YS5jb20nLCAnZ28nLCAnaHR0cHM6Ly9kcml2ZXVwbG9hZC5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnMWFwcGxlLnh5eicsICdsaW5rJywgJ2h0dHBzOi8vbGluay50dXJrZG93bi5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWl4cm9vdG1vZHMuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9hdGdsaW5rcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWlzc3Jldmlldy5pbmZvJywgJ2xpbmsnLCAnaHR0cHM6Ly9nLmxpbmt2b3IucHcvJyk7CiAgQmxvZ2dlclBlbXVsYSgneXVkaWJsb2cubWUnLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vZ28ueGN1dC5saW5rLycpOwogIEJsb2dnZXJQZW11bGEoJ3NpdGVibG9nLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5kcm9wbGluay5jby5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdtZWRpcG9zdC5vcmcnLCAnbGluaycsICdodHRwczovL2Jsb2cubWVkaXBvc3Qub3JnLycpOwogIEJsb2dnZXJQZW11bGEoJ2FkYml0Zmx5LmluJywgJ2FkbGlua2ZseScsICdodHRwczovL2FkYml0Zmx5LmNsaWNrLycpOwogIEJsb2dnZXJQZW11bGEoJ2NvaW5zd2FyZC5jb20nLCAnbGluaycsICdodHRwczovL2xpbmsuYWRiaXRmbHkuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2d5YW5pdGhlbWUuY29tJywgJ3Rva2VuJywgJ2h0dHBzOi8vZ28udGhlZm9yeW91LmluLycpOwogIEJsb2dnZXJQZW11bGEoJ3VwbG9hZC52ZWdhbmFiLmNvJywgJ2dvJywgJ2h0dHBzOi8vZHJpdmV1cGxvYWQubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2xpbmsubW9kbWFrZXJzLnh5eicsICd0b2tlbicsICdodHRwczovL3YuZWFybmwueHl6LycpOwogIEJsb2dnZXJQZW11bGEoJ3d3MS5saW5rdHJpbXMuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rdHJpbXMuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ3RlY25pY2FsYm95LmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbXkubGlua2JuYW8uY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2NvaW5zcmV2LmNvbScsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9lbi5yZXZseS5jbGljay8nKTsKICBCbG9nZ2VyUGVtdWxhKCdtYXJrZXQuZmluY2x1Yi5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28udG5zaG9ydC5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnaG9zdGFkdmlzZXIubmV0JywgJ3Rva2VuJywgJ2h0dHBzOi8vZ28uaGlwc29ueWMuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2JhbnRlbmV4aXMuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLnlvdXNob3J0Lm5ldC8nKTsKICBCbG9nZ2VyUGVtdWxhKCd3aWtpdHJhdmVsdGlwcy5jb20nLCAnbGluaycsICdodHRwczovL2Fkcmlub2xpbmtzLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2Jsb2dnaW5nbGFzcy5jb20nLCAnZ2V0bGluaycsICdodHRwczovL2dvLmNhc2h1cmwuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXBuYS1ibG9nLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9hZHMuYXBuYXNob3J0ZW5lci5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdzbWFsbGluZm8uaW4nLCAnbGluaycsICdodHRwczovL2ZpbG15cG9pbnRzLmluLz9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ2FrY2FydG9vbnMuaW4nLCAnbGluaycsICdodHRwczovL2JhY2suZXhwZXJ0bGlua3MuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZGpxdW5qYWIuaW4nLCAnbGluaycsICdodHRwczovL2dvLmdyZXltYXR0ZXJzbGlua3MuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnaGVhbHRoeW5lcGFsLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby50Z3Nob3J0ZW5lci5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgndmlkZW9seXJpY3MuaW4nLCAnbGluaycsICdodHRwczovL2hyLnZpa2FzaG1ld2FkYS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWlzc2lvbmhpZ2h0LmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9wbGF5ZGlzay51cmwyZ28uaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgndGVjaC50ZWNod2hvbS5jb20nLCAnamV0b24nLCAnaHR0cHM6Ly93ZS50ZWNod2hvbS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZW5jdXJ0YWNsaWsuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5lbmN1cnRhY2xpay5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXBwa2Ftb2RzLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vZ28uc2hvcnR1cmxsaW5rcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgndGVjaHlpbmZvLmluJywgJ29wZW4nLCAnaHR0cHM6Ly9pbnN1cmFuY2UudGVjaHlpbmZvLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2xvYW4uZmlsbXlwb2ludHMuaW4nLCAnbGluaycsICdodHRwczovL2xpbmsuZTJzaGFyZS5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCduaWluZ2EuY29tJywgJ2dldCcsICdodHRwczovL2VpZ3NlbnNlLmVkYS1haC5jb20vP2dldDE9Jyk7CiAgQmxvZ2dlclBlbXVsYSgndmlkZW9zbHlyaWNzLmNvbScsICdwb3N0aWQnLCAnaHR0cHM6Ly9zZXIzLmNyYXp5YmxvZy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd2aWRlb2x5cmljcy5pbicsICdwJywgJ2h0dHBzOi8vdmlkZW9zbHlyaWNzLmNvbS8/cG9zdGlkPScpOwogIEJsb2dnZXJQZW11bGEoJ21tZHJpdmUueHl6JywgJ2xpbmsnLCAnaHR0cHM6Ly90ZWNobGVldHMueHl6L25vLnBocD9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ2xpbmtzaG9ydGlmeXgubGluaycsICdsaW5rJywgJ2h0dHBzOi8veW8ubGlua3Nob3J0aWZ5Lm5ldC8nKTsKICBCbG9nZ2VyUGVtdWxhKCdkZWFscHJpY2UuY28nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vY3J5cHRvcm90YXRvci53ZWJzaXRlLycpOwogIEJsb2dnZXJQZW11bGEoJ2Rqbm9uc3RvcG11c2ljLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nYWRnZXRzLmlzaG9ydGlmeS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbGl0ZXJhdHVyZXRpbWVzLmNvbScsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9zaG9ydHhsaW5rcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnd3d3LmZpbG15cG9pbnRzLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly90ZWNoLnNtYWxsaW5mby5pbi9HYWRnZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnZmZ3b3JsZC54eXp8dGVjaG5vbG95Lnh5eicsICdsaW5rJywgJ2h0dHBzOi8vdmlwLmxpbmtibmFvLmNvbS8vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZ2V0bG9hbm1vbmV5LmNvbScsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9saW5rLmFkY2FzaC50ZWNoLycsIHRydWUpOwogIEJsb2dnZXJQZW11bGEoJ2luc3VyYW5jZXBvc3QueHl6JywgJ2xpbmsnLCAnaHR0cHM6Ly9ibG9nLmZpbmFuY2VhbmRpbnN1cmFuY2UueHl6LycpOwogIEJsb2dnZXJQZW11bGEoJ2JhdHRsZXJveWFsLm9ubGluZScsICdsaW5rJywgJ2h0dHBzOi8venViYXRlY25vLmNvbS9zYWZlLnBocD9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ2FwYXNpaC5teS5pZHxoZWFsdGh5ZGFkLm15LmlkJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLmdldDRsbGluay5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYW1yaXRhZHJpbm8uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly93aWtpdHJhdmVsdGlwcy5jb20vc2FmZS5waHA/bGluaz0nKTsKICBCbG9nZ2VyUGVtdWxhKCdmaW5hbmNleW9naS5uZXQnLCAnbGluaycsICdodHRwczovL21hcmtldC5maW5jbHViLmluL3NhZmUyLnBocD9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ3F1YWxpdHlzdHVkeW1hdGVyaWFsLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly90aGVob3N0aW5nbWVudG9yLmNvbS9teWxpbmsvJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWFuZ2EyZGF5LmNvbXxnYW0zYWguY29tfG00Y3V0LmNvbXxzb2Z0M2FyYmkuY29tfGFsYWFzaG93LmZ1bicsICdsaW5rJywgJycpOwogIEJsb2dnZXJQZW11bGEoJ2ZpbmFuY2VhbmRpbnN1cmFuY2UueHl6JywgJ2xpbmsnLCAnaHR0cHM6Ly9pbnN1cmFuY2Vwb3N0Lnh5ei9nby5waHA/bGluaz0nKTsKICBCbG9nZ2VyUGVtdWxhKCd0ZWNobG9hZHouY29tfHNwb3J0c21lZGlhei5jb20nLCAnbGluaycsICdodHRwczovL2xpbmsuY2xvdWRzaHJpbmtlci5jb20vLycpOwogIEJsb2dnZXJQZW11bGEoJ2Nvc21pY3RhcC5pbnxkYXJlMnF1YWxpZnkuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9mZndvcmxkLnh5ei8vc2FmZS5waHA/bGluaz0nKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcnQucmFpbnVybC5jb218c2hvcnQuc25vd3VybC5jb218c2hvcnQuZGFzaC1mcmVlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgbG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3Nob3J0LicsICcnKTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZXo0bW9kcy5jb20vLCB7CiAgICAnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vdGVjaDVzLmNvL3NhZmUyLnBocD9saW5rPSddLAogICAgJy9zYWZlMi5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly90ZWNoNXMuY28vc2FmZTIucGhwP2xpbms9J10KICB9LCBmYWxzZSk7CiAgQmxvZ2dlclBlbXVsYSgna2llbnRodWNyYW5nbWllbmcuY29tfHRodW9jZGFuZ2lhbi5uZXR8Y2hpbmhuaGFjb2Jhbi5jb218Y29pbi1mcmVlLmNvbXxmYW5jbHVwLmluZm98dHJlbWFtbm9uLmNvbScsICd3cHNhZmVsaW5rJywgJycpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nby5iaXJkdXJscy5jb218Z28ub3dsbGluay5uZXR8Z28uaWxsaW5rLm5ldHxnby5wb25nLnB3fGdvLmVhcm5mYWN1dC54eXp8Z28ubGluazRyZXYuc2l0ZXxnby51cmxjYXNoLnNpdGUvLCBmdW5jdGlvbigpIHsKICAgIGxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdnby4nLCAnJyk7fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlYWNoc2Fuc2FyLmNvbXx0ZWNobmljYWxhdGcuY29tfG1vZHppbGxhLmlufGpldG1lZGlhLmNsaWNrfGZvb2R4b3IuY29tfGNkcmFiLmNvbXxhZG1lZGlhZmxleC5jb218ZGF0YWNoZWFwLmlvfHNwb3J0d2ViLmluZm8vLCAoKSA9PiB3YWl0Rm9yRWxtKCIjd3BzYWZlZ2VuZXJhdGUgPiAjd3BzYWZlLWxpbmsgPiBhW2hyZWZdIiwgc2FmZSA9PiByZWRpcmVjdChzYWZlLmhyZWYpKSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL291by5pby8sIGZ1bmN0aW9uKCkgewogICAgaWYgKEJwUGFyYW1zLmhhcygncycpICYmIGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2xpbmsubmV2Y29pbnMuY2x1YicpKSB7CiAgICAgIGxvY2F0aW9uID0gJ2h0dHBzOi8vJyArIEJwUGFyYW1zLmdldEFsbCgncycpOwogICAgfSBlbHNlIGlmIChCcFBhcmFtcy5oYXMoJ3MnKSkge2xvY2F0aW9uID0gQnBQYXJhbXMuZ2V0QWxsKCdzJyk7fX0pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oZGl1ZGVteXxtYXFhbDM2MHxibG9naW5renxpbnN1cmFuY2VsZWFkc2luZm98a3JlZGlsZXJpbXxzb2Z0d2FyZXNvbHV0aW9uc2hlcmV8d29ybGQyb3VyfGRvdzFzfGdhbWluZ3dpdGh0cnxwcm92aXJhbGhvc3R8ZnJlZXZwc2hlcmV8b24tc2Nyb2xsfGJsb2dtYWRvfGJ0Y3Bhbnl8bWVtb3JpZ2h0fGJlc2FyZ2FqaXx0ZWtub3NpbXBsZXxtYXFhbDM2MHxwb3J0ZXJmdW5lcmFsaG9tZWV8aGVhbHRoeTRwZXBvbGV8eGVtc3BvcnR8YWR3ZXJ0eSkuY29tfGJsdWV0ZWNobm8ubmV0fHRoYW5nbG9uZ2dyb3VwLnZufGJpdGNvaW5mYXVjZXQuZnVufGZyZWViaXRjb2luLndpbnxlYXJubGluay5pb3woc2hvcGZvcmV4fGZvcmV4aXQpLm9ubGluZS8sIEJvb3N0ZXIpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZGJ0Yy50b3AvLCBmdW5jdGlvbigpIHtsZXQgY291bnQgPSAwOwogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgIGlmIChicCgiZGl2LmNvbC5zND4gYSIpICYmICFicCgiZGl2LmNvbC5zND4gYSIpLmNsYXNzTmFtZS5pbmNsdWRlcygiaGlkZSIpKSB7CiAgICAgICAgY291bnQgPSAwOwogICAgICAgIGJwKCJkaXYuY29sLnM0PiBhIikuY2xpY2soKTsKICAgICAgfSBlbHNlIHtjb3VudCA9IGNvdW50ICsgMTt9fSwgNTAwMCk7CiAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKHVuc2FmZVdpbmRvdy5teVdpbmRvdykgewogICAgICAgIHVuc2FmZVdpbmRvdy5teVdpbmRvdy5jbG9zZSgpO30KICAgICAgaWYgKHVuc2FmZVdpbmRvdy5jb2lud2luKSB7CiAgICAgICAgbGV0IHBvcGMgPSB1bnNhZmVXaW5kb3cuY29pbndpbjsKICAgICAgICB1bnNhZmVXaW5kb3cuY29pbndpbiA9IHt9OwogICAgICAgIHBvcGMuY2xvc2UoKTt9fTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveW91dHViZS5jb20vLCBmdW5jdGlvbigpIHsKICAgIGlmIChsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvc2hvcnRzLycpKSBsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnL3Nob3J0cy8nLCAnL3dhdGNoP3Y9Jyk7CiAgICBsZXQgVHViZXNob3J0ID0gbG9jYXRpb24uaHJlZjsKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHsKICAgICAgaWYgKGxvY2F0aW9uLmhyZWYgIT09IFR1YmVzaG9ydCkgewogICAgICAgIFR1YmVzaG9ydCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9zaG9ydHMvJykpIGxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCcvc2hvcnRzLycsICcvd2F0Y2g/dj0nKTt9fSk7CiAgICB2YXIgc2hvcnQgPSB7c3VidHJlZTogdHJ1ZSxjaGlsZExpc3Q6IHRydWV9OwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgc2hvcnQpO30pOwogIC8vIFdvcmsgaW5rIEJ5cGFzcyBjb2RlIEJhc2VkIG9uIEZhc3RGb3J3YXJkIGh0dHBzOi8vZ2l0aHViLmNvbS9GYXN0Rm9yd2FyZFRlYW0vRmFzdEZvcndhcmQvY29tbWl0L2UyOTAzNmVkM2FiZTBhMDQ3Y2Y2ZTY4ZmVkNjFjMWJiMDA0YmU0OGEKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd29yay5pbmsvLCBmdW5jdGlvbigpIHsKICAgIGxldCB3c3UgPSAnd3NzOi8vcmVkaXJlY3QtYXBpLndvcmsuaW5rL3YxL3dzJzsKICAgIGxldCBbZW5jb2RlZFVzZXJJZCwgbGlua0N1c3RvbV0gPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoMSkuc3BsaXQoIi8iKS5zbGljZSgtMik7CiAgICB2YXIgQkFTRSA9ICIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiI7CiAgICB2YXIgbG9vcFRpbWVzID0gZW5jb2RlZFVzZXJJZC5sZW5ndGg7CiAgICBsZXQgZGVjb2RlZFVzZXJJZCA9IEJBU0UuaW5kZXhPZihlbmNvZGVkVXNlcklkWzBdKTsKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbG9vcFRpbWVzOyBpKyspIGRlY29kZWRVc2VySWQgPSA2MiAqIGRlY29kZWRVc2VySWQgKyBCQVNFLmluZGV4T2YoZW5jb2RlZFVzZXJJZFtpXSk7CiAgICBsZXQgcGF5bG9hZHMgPSB7CiAgICAgIGFubm91bmNlOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgdHlwZTogImNfYW5ub3VuY2UiLAogICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgIGxpbmtDdXN0b206IGxpbmtDdXN0b20sCiAgICAgICAgICBsaW5rVXNlcklkOiBkZWNvZGVkVXNlcklkLAogICAgICAgICAgcmVmZXJlcjogInVua25vd24iLH19KSwKICAgICAgcGluZzogSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHR5cGU6ICJjX3BpbmciLAogICAgICAgIHBheWxvYWQ6IHt9fSksCiAgICAgIGNhcHRjaGE6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICB0eXBlOiAiY19yZWNhcHRjaGFfcmVzcG9uc2UiLAogICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICJyZWNhcHRjaGFSZXNwb25zZSI6IGNyeXB0by5yYW5kb21VVUlEKCl9fSksCiAgICAgIHNvY2lhbDogKHVybCkgPT4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHR5cGU6ICJjX3NvY2lhbF9zdGFydGVkIiwKICAgICAgICBwYXlsb2FkOiB7dXJsfX0pLAogICAgICByZWFkQXJ0aWNsZXM6IHsKICAgICAgICAxOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICB0eXBlOiAiY19tb25ldGl6YXRpb24iLAogICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICB0eXBlOiAicmVhZEFydGljbGVzIiwKICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgIGV2ZW50OiAic3RhcnQifX19KSwKICAgICAgICAyOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICB0eXBlOiAiY19tb25ldGl6YXRpb24iLAogICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICB0eXBlOiAicmVhZEFydGljbGVzIiwKICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgIGV2ZW50OiAiY2xvc2VDbGlja2VkIn19fSl9LAogICAgICBicm93c2VyRXh0ZW5zaW9uOiB7CiAgICAgICAgMTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgdHlwZTogImNfbW9uZXRpemF0aW9uIiwKICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgdHlwZTogImJyb3dzZXJFeHRlbnNpb24iLAogICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgZXZlbnQ6ICJzdGFydCJ9fX0pLAogICAgICAgIDI6ICh0b2tlbikgPT4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgdHlwZTogImNfbW9uZXRpemF0aW9uIiwKICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgdHlwZTogImJyb3dzZXJFeHRlbnNpb24iLAogICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgZXZlbnQ6ICJjb25maXJtIiwKICAgICAgICAgICAgICB0b2tlbn19fSl9fTsKICAgIGxldCB3cyA9IG5ldyBXZWJTb2NrZXQod3N1KTsKICAgIGxldCB3cms7CiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7CiAgICAgIHdzLnNlbmQocGF5bG9hZHMuYW5ub3VuY2UpOwogICAgICB3cmsgPSBzZXRJbnRlcnZhbCgoKSA9PiB3cy5zZW5kKHBheWxvYWRzLnBpbmcpLCAxMCAqIDEwMDApO307CiAgICB3cy5vbmNsb3NlID0gKCkgPT4gY2xlYXJJbnRlcnZhbCh3cmspOwogICAgbGV0IHNvY2lhbHMgPSBbXTsKICAgIGxldCBhY3RpdmVNb25ldGl6YXRpb25UeXBlcyA9IFtdOwogICAgd3Mub25tZXNzYWdlID0gYXN5bmMgKGUpID0+IHsKICAgICAgY29uc3Qgc2xlZXAgPSBtcyA9PiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgbXMpKTsKICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgaWYgKGRhdGEuZXJyb3IpIHJldHVybjsKICAgICAgY29uc3QgcGF5bG9hZCA9IGRhdGEucGF5bG9hZDsKICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHsKICAgICAgICBjYXNlICJzX2xpbmtfaW5mbyI6CiAgICAgICAgICBpZiAocGF5bG9hZC5zb2NpYWxzKSBzb2NpYWxzLnB1c2goLi4ucGF5bG9hZC5zb2NpYWxzKTsKICAgICAgICAgIHZhciBtb25ldGl6YXRpb25UeXBlcyA9IFsicmVhZEFydGljbGVzIiwgImJyb3dzZXJFeHRlbnNpb24iXTsKICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBtb25ldGl6YXRpb25UeXBlcykgewogICAgICAgICAgICBpZiAocGF5bG9hZC5tb25ldGl6YXRpb25TY3JpcHQuaW5jbHVkZXModHlwZSkpIHsKICAgICAgICAgICAgICBhY3RpdmVNb25ldGl6YXRpb25UeXBlcy5wdXNoKHR5cGUpO319CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJzX3N0YXJ0X3JlY2FwdGNoYV9jaGVjayI6CiAgICAgICAgICB3cy5zZW5kKHBheWxvYWRzLmNhcHRjaGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAic19yZWNhcHRjaGFfb2theSI6CiAgICAgICAgICBpZiAoc29jaWFscy5sZW5ndGgpIHsKICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHNvY2lhbF0gb2Ygc29jaWFscy5lbnRyaWVzKCkpIHsKICAgICAgICAgICAgICB3cy5zZW5kKHBheWxvYWRzLnNvY2lhbChzb2NpYWwudXJsKSk7CiAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMyAqIDEwMDApO319CiAgICAgICAgICBpZiAoYWN0aXZlTW9uZXRpemF0aW9uVHlwZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBhY3RpdmVNb25ldGl6YXRpb25UeXBlcykgewogICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAicmVhZEFydGljbGVzIjoKICAgICAgICAgICAgICAgICAgd3Muc2VuZChwYXlsb2Fkcy5yZWFkQXJ0aWNsZXNbIjEiXSk7CiAgICAgICAgICAgICAgICAgIHdzLnNlbmQocGF5bG9hZHMucmVhZEFydGljbGVzWyIyIl0pOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgImJyb3dzZXJFeHRlbnNpb24iOgogICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlTW9uZXRpemF0aW9uVHlwZXMuaW5jbHVkZXMoInJlYWRBcnRpY2xlcyIpKSBhd2FpdCBzbGVlcCgxNiAqIDEwMDApOwogICAgICAgICAgICAgICAgICB3cy5zZW5kKHBheWxvYWRzLmJyb3dzZXJFeHRlbnNpb25bIjEiXSk7CiAgICAgICAgICAgICAgICAgIGJyZWFrO319fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAic19tb25ldGl6YXRpb24iOgogICAgICAgICAgaWYgKHBheWxvYWQudHlwZSAhPT0gImJyb3dzZXJFeHRlbnNpb24iKSBicmVhazsKICAgICAgICAgIHdzLnNlbmQocGF5bG9hZHMuYnJvd3NlckV4dGVuc2lvblsiMiJdKHBheWxvYWQucGF5bG9hZC50b2tlbikpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAic19saW5rX2Rlc3RpbmF0aW9uIjoKICAgICAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHBheWxvYWQudXJsKTsKICAgICAgICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcygnZHVmJykpIHsKICAgICAgICAgICAgcmVkaXJlY3QoYXRvYih1cmwuc2VhcmNoUGFyYW1zLmdldCgnZHVmJykuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKSwgZmFsc2UpKTt9CiAgICAgICAgICByZWRpcmVjdChwYXlsb2FkLnVybCwgZmFsc2UpOwogICAgICAgICAgYnJlYWs7fX07fSk7CiAgY29uc3Qgc2wgPSAoaCA9PiB7CiAgICBzd2l0Y2ggKGguaG9zdCkgewogICAgICBjYXNlICdtdWx0aXVwLm9yZyc6CiAgICAgICAgaWYgKGguaHJlZi5pbmNsdWRlcygnL2Rvd25sb2FkLycpKSByZXR1cm4gaC5ocmVmLnJlcGxhY2UoJ2Rvd25sb2FkLycsICdlbi9taXJyb3IvJyk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2ZseXp1LmljdSc6CiAgICAgICAgaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgcmV0dXJuICdodHRwczovL2JhdHRsZXJveWFsLm9ubGluZS9zYWZlLnBocD9saW5rPScgKyBSZWdFeHAuJDE7fQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdmcmVlY2MuY2xpY2snOgogICAgICAgIGlmICgvXlwvY2NzaG9ydFwvcmVkaXJlY3RcLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vY2NzaG9ydC5jbGljay8nICsgUmVnRXhwLiQxO30KICAgICAgICBicmVhazsKICAgICAgY2FzZSAnd3d3LmNza3VhLmNvbSc6CiAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvcC9ibG9nLXBhZ2UuaHRtbCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7fQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdncGZhdWNldC5jb20nOgogICAgICAgIGlmICgvXlwvZmxpbmtcL2tleVwvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHsKICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9saW5rLndyYmxvZ2dlcnMuY29tLz9rZXk9JyArIFJlZ0V4cC4kMTt9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3d3dy5pdHNjeWJlcnRlY2guY29tJzoKICAgICAgICBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygnZGF0YScpKSB7CiAgICAgICAgICByZWRpcmVjdChhdG9iKGguc2VhcmNoUGFyYW1zLmdldCgnZGF0YScpKSk7fQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdtb2JpbGVwcmljZS5zaXRlJzoKICAgICAgICBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdhbGV4JykpIHsKICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9vZmZyY21zLnh5ei9lYXJuLnBocC8/Z2V0PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2FsZXgnKTt9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2FkbGluay5iaXRjb21hcmtldC5uZXQnOgogICAgICAgIGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2dvJykpIHsKICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9hZHNob3J0aS5jby8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdnbycpLnN1YnN0cmluZygxKTt9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2JsYWNrbGVhZHIuY29tJzoKICAgICAgY2FzZSAnc2hvcnRjdXRoaWdoLmNvbSc6CiAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3InKSkgewogICAgICAgICAgcmVkaXJlY3QoYXRvYihoLnNlYXJjaFBhcmFtcy5nZXQoJ3InKSkpO30KICAgICAgICBicmVhazsKICAgICAgY2FzZSAndmlwbGlua3MuaW8nOgogICAgICAgIGlmICgvXlwvXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgcmV0dXJuICdodHRwczovL3RoZWJsb2dnZXJzcG9pbnQuaW4vdmlwMS5waHA/aHR0cHM6Ly9tLnZpcC1saW5rLm5ldC8nICsgUmVnRXhwLiQxO30KICAgICAgICBicmVhazsKICAgICAgY2FzZSAnZGVhbHByaWNlLmNvJzoKICAgICAgICBpZiAoL15cL2Rvd25sb2FkXC9uZXdzbGV0dGVyXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgcmV0dXJuICdodHRwczovL2NyeXB0b3JvdGF0b3Iud2Vic2l0ZS9uZXdzbGV0dGVyLycgKyBSZWdFeHAuJDE7fQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdteS5kcm9wei54eXonOgogICAgICAgIGlmIChoLmhyZWYuaW5jbHVkZXMoJy9jaGVja3BvaW50JykgJiYgbG9jYXRpb24uc2VhcmNoID09PSAnJykgewogICAgICAgICAgcmV0dXJuICdodHRwczovL215LmRyb3B6Lnh5ei9jaGVja3BvaW50P3JlZGlyPS9zaXRlLWZyaWVuZHMnO30KICAgICAgICBicmVhazsKICAgICAgY2FzZSAncGF0YWsuZHJvcHoueHl6JzoKICAgICAgICBpZiAoaC5ocmVmLmluY2x1ZGVzKCcvY2hlY2twb2ludCcpICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJycpIHsKICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9wYXRhay5kcm9wei54eXovY2hlY2twb2ludD9yZWRpcj0vc2l0ZS1mcmllbmRzJzt9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2ZvcmV4dHJhZGVyLnNpdGUnOgogICAgICBjYXNlICdjYXN0bGVzNGtpZHMuY28ubnonOgogICAgICAgIGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2dldCcpKSB7CiAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vbW9iaWxlcHJpY2Uuc2l0ZS8/YWxleD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdnZXQnKTt9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2FkYnVsbC5tZSc6CiAgICAgIGNhc2UgJ3d3dy5jbGluazIuY29tJzoKICAgICAgY2FzZSAnZWFybmlmeS5wcm8nOgogICAgICBjYXNlICdzaG9ydC5xbml4Lm1lJzoKICAgICAgY2FzZSAnYWRwYXlsaW5rLmNvbSc6CiAgICAgIGNhc2UgJ2Fkc2hvcnQuY28nOgogICAgICBjYXNlICdhZHNob3J0aS5jbyc6CiAgICAgIGNhc2UgJ2FkbGluay5jbGljayc6CiAgICAgIGNhc2UgJ29paS5pbyc6CiAgICAgIGNhc2UgJ2JpZzJzaG9ydC5jb20nOgogICAgICBjYXNlICdib3RmbHkubWUnOgogICAgICBjYXNlICdjYXNoYW5kby5tZSc6CiAgICAgIGNhc2UgJ2RhaWx5dGltZS5zdG9yZSc6CiAgICAgIGNhc2UgJ2NyeXB0b2ZsYXJlLmNjJzoKICAgICAgY2FzZSAnZXo0c2hvcnQuY29tJzoKICAgICAgY2FzZSAnZmMubGMnOgogICAgICBjYXNlICdncGxpbmtzLmluJzoKICAgICAgY2FzZSAnbGlua2p1c3QuY29tJzoKICAgICAgY2FzZSAncmFpbnVybC5jb20nOgogICAgICBjYXNlICdzbC5idGMyNS5vcmcnOgogICAgICBjYXNlICdzbm93dXJsLmNvbSc6CiAgICAgIGNhc2UgJ3Nob3J0eWVhcm4uY29tJzoKICAgICAgY2FzZSAndXBzaHJpbmsuY29tJzoKICAgICAgY2FzZSAndHIubGluayc6CiAgICAgIGNhc2UgJ2ZhdWNldGVlbi54eXonOgogICAgICBjYXNlICdsaW5rc2ZpcmUuY28nOgogICAgICBjYXNlICdsaW5rc2x5LmNvJzoKICAgICAgY2FzZSAnc2hhcmV1cy5zaXRlJzoKICAgICAgY2FzZSAnbWRpc2tzaG9ydG5lci5saW5rJzoKICAgICAgY2FzZSAnc2hvcnQyZmx5Lnh5eic6CiAgICAgIGNhc2UgJ2Nic2hvcnQuY29tJzoKICAgICAgY2FzZSAnYmVzdHVybC5saW5rJzoKICAgICAgY2FzZSAnbWVnYWZseS5pbic6CiAgICAgIGNhc2UgJ3NtYXJ0bGluay52aXAnOgogICAgICBjYXNlICd1c2FsaW5rLmlvJzoKICAgICAgY2FzZSAnYmlyZHVybHMuY29tJzoKICAgICAgY2FzZSAnZ2lnYWZseS5tZSc6CiAgICAgIGNhc2UgJ3RyYWZmaWMxcy5jb20nOgogICAgICBjYXNlICdsaW5rNHJldi5zaXRlJzoKICAgICAgY2FzZSAnbGlua3JleC5uZXQnOgogICAgICBjYXNlICdwYWlkNGxpbmsuY29tJzoKICAgICAgY2FzZSAnc29mdGluZGV4LndlYnNpdGUnOgogICAgICBjYXNlICdkYXNoLWZyZWUuY29tJzoKICAgICAgY2FzZSAnb3dsbGluay5uZXQnOgogICAgICBjYXNlICdleGUuaW8nOgogICAgICBjYXNlICdjbGtzLnBybyc6CiAgICAgIGNhc2UgJ2NsaWNrc2ZseS5jb20nOgogICAgICBjYXNlICdjaGFpbmZvLnh5eic6CiAgICAgIGNhc2UgJ3Jldmx5LmNsaWNrJzoKICAgICAgY2FzZSAnc2hvcnRlcmFsbC5jb20nOgogICAgICBjYXNlICdzaHJpbmtlYXJuLmNvbSc6CiAgICAgIGNhc2UgJ3Nocmlua21lLmlvJzoKICAgICAgY2FzZSAnc2hyaW5rZm9yZWFybi5pbic6CiAgICAgIGNhc2UgJ3Nob3J0aS5pbyc6CiAgICAgIGNhc2UgJ3RyeTJsaW5rLmNvbSc6CiAgICAgIGNhc2UgJ3RlcmFmbHkubWUnOgogICAgICBjYXNlICdsaW5rYm5hby5jb20nOgogICAgICBjYXNlICdtZGlzay5uZXQuaW4nOgogICAgICBjYXNlICdheS5saXZlJzoKICAgICAgY2FzZSAndGltZWZvcmVhcm4uY29tJzoKICAgICAgY2FzZSAnYWRyaW5vbGlua3MuaW4nOgogICAgICBjYXNlICdsaW5rZmx5Lm1lJzoKICAgICAgY2FzZSAnbmFub2xpbmtzLmluJzoKICAgICAgY2FzZSAnb3BsaS54eXonOgogICAgICBjYXNlICdjbGsuc2gnOgogICAgICBjYXNlICdjdXRwLmluJzoKICAgICAgY2FzZSAnY3V0eS5pbyc6CiAgICAgIGNhc2UgJ2F0Z2xpbmtzLmNvbWsnOgogICAgICBjYXNlICdyb2NrbGlua3MubmV0JzoKICAgICAgY2FzZSAnc2hvcnRveC5jb20nOgogICAgICBjYXNlICd3d3cud3RzLnB3JzoKICAgICAgY2FzZSAnMzYwc2hvcnRsaW5rLmNmJzoKICAgICAgICB2YXIgY2YgPSBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FwaScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJyk7CiAgICAgICAgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnc29sYXJjaGFpbmUuY29tJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdzaHJpbmtjbGljay5jb20nKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ2ZvcmV4ZWFybi5mb3JleGZpdGVyLnRvcCcpIHx8IGguaHJlZi5pbmNsdWRlcygnaHIudmlrYXNobWV3YWRhLmNvbScpIHx8IGguaHJlZi5pbmNsdWRlcygnc2NsaWNrLmNyYXp5YmxvZy5pbicpIHx8IGguaHJlZi5pbmNsdWRlcygnbGlua3MuYWRzaG9ydGkueHl6JykgfHwgaC5ocmVmLmluY2x1ZGVzKCdzZXI3LmNyYXp5YmxvZy5pbicpKSB7CiAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vJyArIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJyk7CiAgICAgICAgfSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ29zY3V0LnNwYWNlJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdpbnNmbHkucHcnKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ0luc2ZseS5wdycpIHx8IGguaHJlZi5pbmNsdWRlcygnbWluZXNob3IudGsnKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ21kaXNrc2hvcnRuZXIubGluaycpKSB7fSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ3RlcmFmbHkubWUnKSkgewogICAgICAgICAgcmV0dXJuICdodHRwczovLycgKyBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpOwogICAgICAgIH0gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCdzaWdtYWxpbmtzLmluJykpIHsKICAgICAgICAgIHJldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvc2lnbWFsaW5rcy5pbi8udGVzdCh1KSlbMF07CiAgICAgICAgfSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ2ZyZWViaXRjb2luLmNsaWNrJykpIHsKICAgICAgICAgIHJldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvZnJlZWJpdGNvaW4uY2xpY2svLnRlc3QodSkpWzBdOwogICAgICAgIH0gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCdhZG5ld3MubWUnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9hZG5ld3MubWUvLnRlc3QodSkpWzBdOwogICAgICAgIH0gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCdwbGF5c3RvcmUucHcnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9wbGF5c3RvcmUucHcvLnRlc3QodSkpWzBdOwogICAgICAgIH0gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCdreXNob3J0Lnh5eicpKSB7CiAgICAgICAgICByZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2t5c2hvcnQueHl6Ly50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnZWFybmZhY3V0Lnh5eicpKSB7CiAgICAgICAgICByZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2Vhcm5mYWN1dC54eXovLnRlc3QodSkpWzBdOwogICAgICAgIH0gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCd1cmxjYXNoaC5jbGljaycpKSB7CiAgICAgICAgICByZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL3VybGNhc2hoLmNsaWNrLy50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygndXJsY2FzaGgucXVlc3QnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC91cmxjYXNoaC5xdWVzdC8udGVzdCh1KSlbMF07CiAgICAgICAgfSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ2dvczIuc29mdGluZGV4LndlYnNpdGUnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9nb3MyLnNvZnRpbmRleC53ZWJzaXRlLy50ZXN0KHUpKVswXS5yZXBsYWNlKCdnb3MyLicsICcnKTsKICAgICAgICB9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnZ29zMi51cmxjYXNoLmNsaWNrJykpIHsKICAgICAgICAgIHJldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvZ29zMi51cmxjYXNoLmNsaWNrLy50ZXN0KHUpKVswXS5yZXBsYWNlKCdnb3MyLicsICcnKTsKICAgICAgICB9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygndG8ubW9ydW5pcXVlLmNmJykpIHsKICAgICAgICAgIHJldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvdG8ubW9ydW5pcXVlLmNmLy50ZXN0KHUpKVswXS5yZXBsYWNlKCd0by4nLCAnc28uJyk7CiAgICAgICAgfSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJyMnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykgKyB3aW5kb3cubG9jYXRpb24uaGFzaDsKICAgICAgICB9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkgewogICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJyk7fQogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrO30KICB9KShuZXcgVVJMKGxvY2F0aW9uLmhyZWYpKTsKICBpZiAoc2wpIHtsb2NhdGlvbi5ocmVmID0gc2w7fQogIGlmIChbJ2ZyZWU0dS5udXJ1bC1odWRhLm9yLmlkJywgJ3JvdGF0b3IubnVydWwtaHVkYS5zY2guaWQnLCAnYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlJywgJ2NyeXB0b25ldG9zLnJ1JywgJ3d3dy55b3V0dWJlLmNvbScsICdkcml2ZS5nb29nbGUuY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7CiAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTt9IGVsc2Uge0VuYWJsZVJDRigpO30KICBpZiAoWydzaWdtYWxpbmtzLmluJywgJ2xpbms0cmV2LnNpdGUnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHsKICAgIGRlbGV0ZSB3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXI7CiAgICB3aW5kb3cuZG9jdW1lbnQuX19kZWZpbmVHZXR0ZXJfXygncmVmZXJyZXInLCBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICdzaHJzLmxpbmsnO30pO30KICAvLyBJbmplY3RpbmcgZnJvbSBzdGFydCBkb2N1bWVudCBjb2RlIGJ5IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2xlbml2ZW5lCiAgaWYgKFsnbWFneWJ1Lm5ldCcsICd4ZXJ2b28ubmV0JywgJ2h1cmlyay5uZXQnLCAndXNmaW5mLm5ldCcsICdlbG9pc20ubmV0JywgJ25lZXh1bHJvLm5ldCcsICdvYXh5dGVlay5uZXQnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICJ5c21tIiwgewogICAgICBzZXQ6IGZ1bmN0aW9uKGIpIHsKICAgICAgICB2YXIgYSA9IGIsCiAgICAgICAgICBjID0gIiIsCiAgICAgICAgICBkID0gIiI7CiAgICAgICAgZm9yIChiID0gMDsgYiA8IGEubGVuZ3RoOyBiKyspIDAgPT0gYiAlIDIgPyBjICs9IGEuY2hhckF0KGIpIDogZCA9IGEuY2hhckF0KGIpICsgZDsKICAgICAgICBhID0gKGMgKyBkKS5zcGxpdCgiIik7CiAgICAgICAgZm9yIChiID0gMDsgYiA8IGEubGVuZ3RoOyBiKyspIGlmICghaXNOYU4oYVtiXSkpIGZvciAoYyA9IGIgKyAxOyBjIDwgYS5sZW5ndGg7IGMrKykgaXNOYU4oYVtjXSkgfHwgKGQgPSBhW2JdIF4gYVtjXSwgMTAgPiBkICYmIChhW2JdID0gZCksIGIgPSBjLCBjID0gYS5sZW5ndGgpOwogICAgICAgIGEgPSBhLmpvaW4oIiIpOwogICAgICAgIGEgPSB3aW5kb3cuYXRvYihhKTsKICAgICAgICBhID0gYS5zdWJzdHJpbmcoYS5sZW5ndGggLSAoYS5sZW5ndGggLSAxNikpOwogICAgICAgICEoYiA9IGEgPSBhLnN1YnN0cmluZygwLCBhLmxlbmd0aCAtIDE2KSkgfHwgMCAhPT0gYi5pbmRleE9mKCJodHRwOi8vIikgJiYgMCAhPT0gYi5pbmRleE9mKCJodHRwczovLyIpIHx8IChkb2N1bWVudC53cml0ZSgiXHgzYyEtLSIpLCB3aW5kb3cuc3RvcCgpLCB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBudWxsLCB3aW5kb3cubG9jYXRpb24gPSBiKTt9fSk7fQogIC8vIEluamVjdGluZyBjb2RlIGZyb20gc3RhcnQgYW5kIHRoZSBlbmQgb2YgZG9jdW1lbnQgY29kZWQgYnkgQEtvbmYKICBpZiAoWydpbnRlcmFjdGl2ZScsICdjb21wbGV0ZSddLmluY2x1ZGVzKGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7CiAgICBvbkh0bWxMb2FkZWQoKTt9IGVsc2UgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG9uSHRtbExvYWRlZCk7fQogIGZ1bmN0aW9uIG9uSHRtbExvYWRlZCgpIHsKICAgIFJlbW92ZUJwKCdiemxpbmsuY3UubWEnLCAnLmJsb2ctaXRlbSwudGV4dC1sZWZ0LCNjb29raWUtcG9wLCNmcmFtZScpOwogICAgUmVtb3ZlQnAoJ25ndXllbnZhbmJhby5jb218bmdoaWVuY2FyLmNvbScsICcuY29udGVudC1hcmVhLC5zaXRlLWNvbnRlbnQnKTsKICAgIFJlbW92ZUJwKCdtb2h0YXdhYS5jb20nLCAnZGl2LmZvcm0tZ3JvdXAgPiBkaXYsLmNvbC1zbS0xMi5jb2wtbGctMy5jb2wsbGksaDMsaDQscCwuY29sLXNtLTEyLmNvbC1sZy04LmNvbCxoMicpOwogICAgUmVtb3ZlQnAoJ21kbi5sb2wnLCAiZm9ybVtvbnN1Ym1pdF49J3dpbmRvdy5sb2NhdGlvbiddLGJ1dHRvbltvbmNsaWNrXj0nZG9jdW1lbnQud3JpdGUnXSxmb3JtW2FjdGlvbl49J2h0dHBzJ10iKTsKICAgIFJlbW92ZUJwKCdqaW90ZWNoLm5ldHxhdXRvbWF0LnN5c3RlbXN8amFtZWVsdGlwcy51c3xjcnlwdG9ud29ybGQuc3BhY2UnLCAnLm1nLWhlYWR3aWRnZXQsLmNvbC1tZC0zLHRleHQsZm9vdGVyLC5tYi00LnAtMywubWctaGVhZGVyLC5tZy1oZWFkd2lkZ2V0LGlmcmFtZSwud3AtcG9zdC1pbWFnZScpOwogICAgUmVtb3ZlQnAoJ3ZhaWxvbnh4LmNvbXxmdW44OC5iaW8nLCAnLnBhZ2UtaGVhZGVyLGRpdi5jb2wteGwtMy5jb2wtbGctMy5jb2wtbWQtNC5jb2wtNiwuaGVyby10ZXh0LCN3cmFwcGVyLW5hdmJhciwuaGFwcHktc2VjdGlvbiwjd3JhcHBlci1mb290ZXIsLmNvbC0xMi5kLW1kLWJsb2NrLmQtbm9uZSwuY29sLTEyLmQtbWQtbm9uZS5kLWJsb2NrLC5tb2RhbC1kaWFsb2cnKTsKICAgIFJlbW92ZUJwKCdmcmVlb3Nlb2NoZWNrLmNvbXxjb2luc3ZhbHVlLm5ldHxjb29raW5ndWlkZS5uZXR8Y3J5cHRvd2lkZ2V0cy5uZXR8aW5zdXJhbmNlZ29sZC5pbnxncmVlbmVuZXouY29tfGNvaW5zY2FwLmluZm98d2lraS10b3BpYS5jb218d2ViZnJlZXRvb2xzLm5ldHxjYXJzdG9waWEubmV0fG1ha2V1cGd1aWRlLm5ldHxjYXJzbWFuaWEubmV0JywgImJ1dHRvblt0eXBlXj0nYnV0dG9uJ10sZGl2W2NsYXNzXj0nY2VudGVyJ10sYnV0dG9uW29uY2xpY2tePSd3aW5kb3cubG9jYXRpb24nXSxidXR0b25bb25jbGlja149JyQnXSxidXR0b25bb25jbGlja149J3JlZGlyZWN0J10iKTsKICAgIGxldCBjYXB0Y2hhTW9kZSA9IFsnI2xpbmstdmlldycsICcjZnJtcHJvdGVjdCcsICcjU2hvcnRMaW5rSWQnLCAnI2NhcHRjaGEnLCAnI3N1Ym1pdC1mb3JtJywgJyNsdmlldyA+IGZvcm0nLCAnI2ZpbGUtY2FwdGNoYScsICcjc2hvcnQtY2FwdGNoYS1mb3JtJywgJ2J1dHRvbiNjb250aW51ZS5idG4uYnRuLXByaW1hcnkuYnRuLWNhcHRjaGEnLCAnI2ZhdWZvcm0nXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FwdGNoYU1vZGUubGVuZ3RoOyBpKyspIHsKICAgICAgQ2FwdGNoYXN1YihjYXB0Y2hhTW9kZVtpXSk7fQogICAgaWYgKHR5cGVvZiB0b2tlblVSTCA9PSAic3RyaW5nIikgewogICAgICByZWRpcmVjdChhdG9iKHdpbmRvdy50b2tlblVSTCkpO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnY3RyLnNoJyAmJiBsb2NhdGlvbi5zZWFyY2ggPT09ICcnKSB7CiAgICAgIGxvY2F0aW9uID0gJ2h0dHBzOi8vc2lub25pbW9zLmRlLz91cmw4aj0nICsgbG9jYXRpb24uaHJlZjt9CiAgICBpZiAodHlwZW9mIGhjYXB0Y2hhID09ICJvYmplY3QiICYmIHR5cGVvZiBhcGlDb3VudGVyID09ICJvYmplY3QiKSB7CiAgICAgIHdpbmRvdy5hcHBfY291bnRyeV92aXNpdG9yID0gIiI7CiAgICAgIHdpbmRvdy5oY2FwdGNoYS5nZXRSZXNwb25zZSA9ICgpID0+IHt9OwogICAgICB3aW5kb3cuYXBpQ291bnRlci5nZW5lcmF0ZVVSTCgpOwogICAgICB3aW5kb3cuYXBpQ291bnRlci5yZWRpcmVjdFRvKGJwKCJidXR0b24uYnV0dG9uLWVsZW1lbnQtdmVyaWZpY2F0aW9uIikpO30KICAgIGxldCBOdW1jb2RlID0gYnAoJ2lucHV0LmNhcHRjaGFfY29kZScpOwogICAgbGV0IERpZ2l0TnVtOwogICAgZnVuY3Rpb24gZ2V0TGVmdChkKSB7CiAgICAgIHJldHVybiBwYXJzZUludChkLnN0eWxlLnBhZGRpbmdMZWZ0KTt9CiAgICBpZiAoTnVtY29kZSkgewogICAgICBEaWdpdE51bSA9IE51bWNvZGUucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkcmVuWzBdLmNoaWxkcmVuOwogICAgICBOdW1jb2RlLnZhbHVlID0gW10uc2xpY2UuY2FsbChEaWdpdE51bSkuc29ydChmdW5jdGlvbihkMSwgZDIpIHsKICAgICAgICByZXR1cm4gZ2V0TGVmdChkMSkgLSBnZXRMZWZ0KGQyKTsKICAgICAgfSkubWFwKGZ1bmN0aW9uKGQpIHsKICAgICAgICByZXR1cm4gZC50ZXh0Q29udGVudDsKICAgICAgfSkuam9pbignJyk7fQogICAgbGV0ICQgPSB3aW5kb3cualF1ZXJ5OwogICAgbGV0IHJlc3BlY3QgPSAnaHR0cHM6Ly9mcmVlNHUubnVydWwtaHVkYS5vci5pZC8/dXJsPSc7IC8vIERvbid0IHVzZSBNeSBTY3JpcHRzIGlmIFlvdSBDaGFuZ2UvUmVtb3ZlIE15IEJsb2dzLCBFeGNlcHQgWW91IE1ha2UgRG9uYXRpb25zISEhLgogICAgZnVuY3Rpb24gc3RyQmV0d2VlbihzLCBmcm9udCwgYmFjaywgdHJpbSA9IGZhbHNlKSB7CiAgICAgIGlmICh0cmltKSB7CiAgICAgICAgcyA9IHMucmVwbGFjZUFsbCgnICcsICcnKTsKICAgICAgICBzID0gcy50cmltKCk7CiAgICAgICAgcyA9IHMucmVwbGFjZUFsbCgnXG4nLCAnICcpO30KICAgICAgcmV0dXJuIHMuc2xpY2Uocy5pbmRleE9mKGZyb250KSArIGZyb250Lmxlbmd0aCwgcy5pbmRleE9mKGJhY2ssIHMuaW5kZXhPZihmcm9udCkgKyBmcm9udC5sZW5ndGgpKTt9CiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJz94cmVmPScpICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcmc2w9JykpIHsKICAgICAgZGVsZXRlIHdpbmRvdy5kb2N1bWVudC5yZWZlcnJlcjsKICAgICAgd2luZG93LmRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18oJ3JlZmVycmVyJywgKCkgPT4gewogICAgICAgIGxldCBzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpLAogICAgICAgICAgciA9IHMuZ2V0KCd4cmVmJyk7CiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyKTt9KTsKICAgICAgbGV0IGIgPSAnI3RyYWZmaWMtY291bnRkb3duLTFzID4gYnV0dG9uOm50aC1jaGlsZCgxKSc7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmIChicChiKSkgewogICAgICAgICAgYnAoYikuc2Nyb2xsSW50b1ZpZXcoKTsKICAgICAgICAgIGJwKGIpLmNsaWNrKCk7fQogICAgICB9LCAyICogMTAyNCk7CiAgICAgIGxldCBzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpLAogICAgICAgIHNsID0gcy5nZXQoJ3NsJyksCiAgICAgICAgYyA9ICcnOwogICAgICB2YXIgdCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBjID0gYnAoJyN0cmFmZmljLWNvdW50ZG93bi0xcycpLmlubmVyVGV4dDsKICAgICAgICBpZiAoYy5pbmNsdWRlcygnOiAnKSkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihzbCArICc/Y29kZT0nICsgYy5zbGljZShjLmluZGV4T2YoJzogJykgKyAyKSk7CiAgICAgICAgICBjbGVhckludGVydmFsKHQpO319LCAxMDI0KTt9CiAgICBpZiAoWyd1cGZpbGVzLmFwcCcsICdjdXQteS5jbycsICd1cGZpbGVzdXJscy5jb20nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmdldC1saW5rLmJ0bi1kb3dubG9hZC5idG4tcHJpbWFyeS5idG4nLCA3KTsKICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdCA9PT0gJzFsaW5rLnZpcCcpIHtDbGlja0lmRXhpc3RzKCdhLmJ0bi5idG4tc3VjY2Vzcy5idG4tbGcuZ2V0LWxpbmsnLCAzLCAnc2V0SW50ZXJ2YWwnKTsKICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaHJlZi5pbmRleE9mKCJheS5saXZlIikgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJheWxpbmsuY28iKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoImdpdGxpbmsucHJvIikgIT0gLTEpIHsKICAgICAgdmFyIGZvcm0gPSAkKCcjZ28tbGluaycpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksCiAgICAgICAgZGF0YTogZm9ybS5zZXJpYWxpemUoKSwKICAgICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHJlZGlyZWN0KGRhdGEudXJsKTt9fSk7CiAgICB9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJyNnby1saW5rJykpIHsKICAgICAgJCgiI2dvLWxpbmsiKS51bmJpbmQoKS5zdWJtaXQoZnVuY3Rpb24oZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgZm9ybSA9ICQodGhpcyk7CiAgICAgICAgdmFyIHVybCA9IGZvcm0uYXR0cignYWN0aW9uJyk7CiAgICAgICAgY29uc3QgcGVzYW4gPSBmb3JtLmZpbmQoJ2J1dHRvbicpOwogICAgICAgIGNvbnN0IG5vdGZvcnNhbGUgPSAkKCIubmF2YmFyLWNvbGxhcHNlLmNvbGxhcHNlIik7CiAgICAgICAgY29uc3QgYmxvZ2dlciA9ICQoIi5tYWluLWhlYWRlciIpOwogICAgICAgIGNvbnN0IHBlbXVsYSA9ICQoIi5jb2wtc20tNi5oaWRkZW4teHMiKTsKICAgICAgICAkLmFqYXgoewogICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpLAogICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgIHBlc2FuLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CiAgICAgICAgICAgICQoJ2EuZ2V0LWxpbmsnKS50ZXh0KCdCeXBhc3NlZCBieSBCbG9nZ2VycGVtdWxhJyk7CiAgICAgICAgICAgIG5vdGZvcnNhbGUucmVwbGFjZVdpdGgoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCAsIGNvbC1tZC0xMiB0ZXh0LWNlbnRlciIgb25jbGljaz0iamF2YXNjcmlwdDogcmV0dXJuIGZhbHNlOyI+PGI+VGhhbmtzIGZvciB1c2luZyBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2NyaXB0cyBhbmQgZm9yIERvbmF0aW9ucyAsIFJlZ2FyZHMgOiBCbG9nZ2VycGVtdWxhPC9iPjwvYnV0dG9uPicpOwogICAgICAgICAgICBibG9nZ2VyLnJlcGxhY2VXaXRoKCc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgLCBjb2wtbWQtMTIgdGV4dC1jZW50ZXIiIG9uY2xpY2s9ImphdmFzY3JpcHQ6IHJldHVybiBmYWxzZTsiPjxiPlRoYW5rcyBmb3IgdXNpbmcgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNjcmlwdHMgYW5kIGZvciBEb25hdGlvbnMgLCBSZWdhcmRzIDogQmxvZ2dlcnBlbXVsYTwvYj48L2J1dHRvbj4nKTsKICAgICAgICAgICAgcGVtdWxhLnJlcGxhY2VXaXRoKCc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgLCBjb2wtbWQtMTIgdGV4dC1jZW50ZXIiIG9uY2xpY2s9ImphdmFzY3JpcHQ6IHJldHVybiBmYWxzZTsiPjxiPlRoYW5rcyBmb3IgdXNpbmcgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNjcmlwdHMgYW5kIGZvciBEb25hdGlvbnMgLCBSZWdhcmRzIDogQmxvZ2dlcnBlbXVsYTwvYj48L2J1dHRvbj4nKTt9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0LCBzdGF0dXMsIHhocikgewogICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVGV4dC5tYXRjaCgnaW5zZmx5LnB3fEluc2ZseS5wd3xvc2N1dC5zcGFjZXxtZGlza3Nob3J0bmVyLmxpbmt8bWluZXNob3IudGt8YmlnYnRjLndpbnxnYWlubC5pbmsnKSkgewogICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSByZXN1bHQudXJsOwogICAgICAgICAgICB9IGVsc2Uge2xvY2F0aW9uLmhyZWYgPSByZXNwZWN0ICsgcmVzdWx0LnVybDt9fX0pO30pO30KICAgIGNvbnN0IGJhcyA9IChoID0+IHsKICAgICAgY29uc3QgcmVzdWx0ID0gewogICAgICAgIGlzTm90aWZ5TmVlZGVkOiBmYWxzZSwKICAgICAgICByZWRpcmVjdERlbGF5OiAwLAogICAgICAgIGxpbms6IHVuZGVmaW5lZH07CiAgICAgIHN3aXRjaCAoaC5ob3N0KSB7CiAgICAgICAgY2FzZSAnZnJlZTR1Lm51cnVsLWh1ZGEub3IuaWQnOgogICAgICAgIGNhc2UgJ3JvdGF0b3IubnVydWwtaHVkYS5zY2guaWQnOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc24nKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJnNuPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NuJykucmVwbGFjZSgnJm09MScsICcnKTsKICAgICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OwogICAgICAgICAgICByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3N1Yl9pZCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2l0ZV9pZCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnaXBfYWRkcmVzcycpKSB7CiAgICAgICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmc3ViX2lkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3N1Yl9pZCcpICsgJyZzaXRlX2lkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NpdGVfaWQnKSArICcmaXBfYWRkcmVzcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdpcF9hZGRyZXNzJyk7CiAgICAgICAgICAgIHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gdmFsYndhbGw7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotQWxnb3JpdGhtJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1DcmVkZW50aWFsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1EYXRlJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1TaWduZWRIZWFkZXJzJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1FeHBpcmVzJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1TaWduYXR1cmUnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJlgtQW16LUFsZ29yaXRobT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1BbGdvcml0aG0nKSArICcmWC1BbXotQ3JlZGVudGlhbD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1DcmVkZW50aWFsJykgKyAnJlgtQW16LURhdGU9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnWC1BbXotRGF0ZScpICsgJyZYLUFtei1TaWduZWRIZWFkZXJzPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LVNpZ25lZEhlYWRlcnMnKSArICcmWC1BbXotRXhwaXJlcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1FeHBpcmVzJykgKyAnJlgtQW16LVNpZ25hdHVyZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1TaWduYXR1cmUnKTsKICAgICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OwogICAgICAgICAgICByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NzYScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnaWQnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJnNzYT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdzc2EnKSArICcmaWQ9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnaWQnKS5yZXBsYWNlKCcmbT0xJywgJycpOwogICAgICAgICAgICByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnaWQnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmlkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2lkJykucmVwbGFjZSgnJm09MScsICcnKTsKICAgICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OwogICAgICAgICAgICByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FydGljbGUnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmFydGljbGU9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnYXJ0aWNsZScpLnJlcGxhY2UoJyZtPTEnLCAnJyk7CiAgICAgICAgICAgIHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsKICAgICAgICAgICAgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdhbnRpYm90JykpIHsKICAgICAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZhbnRpYm90PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2FudGlib3QnKS5yZXBsYWNlKCcmbT0xJywgJycpOwogICAgICAgICAgICByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnY29kZScpKSB7CiAgICAgICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmY29kZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdjb2RlJykucmVwbGFjZSgnJm09MScsICcnKTsKICAgICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OwogICAgICAgICAgICByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NsdCcpKSB7CiAgICAgICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmc2x0PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NsdCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7CiAgICAgICAgICAgIHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsKICAgICAgICAgICAgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd2aWV3ZWQnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJnZpZXdlZD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd2aWV3ZWQnKS5yZXBsYWNlKCcmbT0xJywgJycpOwogICAgICAgICAgICByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGgucGF0aG5hbWUgPT09ICcvc2hvcnRsaW5rLnBocCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdzbCcpKSB7CiAgICAgICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICdzbCcgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NsJykucmVwbGFjZSgnJm09MScsICcnKTsKICAgICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OwogICAgICAgICAgICByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VsaW5rJykpIHsKICAgICAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VsaW5rJyk7CiAgICAgICAgICAgIHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsKICAgICAgICAgICAgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCd0b3BmYXVjZXQuY2xpY2snKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC90b3BmYXVjZXQuY2xpY2svLnRlc3QodSkpWzBdOwogICAgICAgICAgICByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnIycpKSB7CiAgICAgICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwogICAgICAgICAgICByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnZ29zMi51cmxjYXNoJykpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly91cmxjYXNoLmNsaWNrJyArIChsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cmluZygzMSkpOwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5ocmVmLmluY2x1ZGVzKCd1bmRlZmluZWQnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykucmVwbGFjZSgndW5kZWZpbmVkJywgJ0J5cGFzcyBFcnJvciAnKSArIGFsZXJ0KCdTb3JyeS4uLiBFcnJvciBCeXBhc3NpbmcgLCBQbGVhc2UgVHJ5IEFnYWluIG9yIExlYXZlIFlvdXIgTGluayBpbiB0aGUgRmVlZGJhY2sgLCBTbyBXaGVuIEkgSGF2ZSBUaW1lICwgSSB3aWxsIEZpeCBpdCBpZiBpIGNhbiAsIFRoYW5rcycpOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkgewogICAgICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykucmVwbGFjZSgnJm09MScsICcnKS5yZXBsYWNlKCc8YnIgLz4nLCAnJyk7CiAgICAgICAgICAgIHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gdmFsZGVsYXk7CiAgICAgICAgICAgIHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrO30KICAgIH0pKG5ldyBVUkwobG9jYXRpb24uaHJlZikpOwogICAgaWYgKGJhcykgewogICAgICBjb25zdCB7CiAgICAgICAgaXNOb3RpZnlOZWVkZWQsCiAgICAgICAgcmVkaXJlY3REZWxheSwKICAgICAgICBsaW5rCiAgICAgIH0gPSBiYXM7CiAgICAgIGlmIChpc05vdGlmeU5lZWRlZCkgewogICAgICAgIG5vdGlmeShgUGxlYXNlIFdhaXQgaW4gJHtyZWRpcmVjdERlbGF5fSBTZWNvbmRzIEJlZm9yZSBHb2luZyB0byB0aGUgRGVzdGluYXRpb24uIERvbid0IEZvcmdldCB0byBXaGl0ZWxpc3QgTXkgQmxvZyBmcm9tIFlvdXIgQWRibG9ja2VyICwgVGhhbmtzYCk7fQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBsb2NhdGlvbi5ocmVmID0gbGluazsKICAgICAgfSwgcmVkaXJlY3REZWxheSAqIDEwMDApO30KICAgIChhc3luYyBmdW5jdGlvbigpIHsKICAgICAgZnVuY3Rpb24gZWxlbWVudFJlYWR5KHNlbGVjdG9yKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgbGV0IGVsZW1lbnQgPSBicChzZWxlY3Rvcik7CiAgICAgICAgICBpZiAoZWxlbWVudCkgewogICAgICAgICAgICByZXNvbHZlKGVsZW1lbnQpOwogICAgICAgICAgICByZXR1cm47fQogICAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oXywgb2JzZXJ2ZXIpIHsKICAgICAgICAgICAgZWxlbWVudCA9IGJwKHNlbGVjdG9yKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXNvbHZlKGVsZW1lbnQpOwogICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTt9CiAgICAgICAgICB9KS5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgewogICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgIHN1YnRyZWU6IHRydWV9KTt9KTt9CiAgICAgIGZ1bmN0aW9uIHNsZWVwKG1zKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7fQogICAgICBsZXQgV2ViMWxpc3QgPSBbJ2JpZW5kby53aW4nLCAnYmVtb20uY29tLnZuJywgJ21nMTg4LmFzaWEnLCAnODhiZXRib25nZGEuY29tJywgJ3NvZG92bnMuY29tJywgJ21nMTg4LndpbicsICdpd2luNjhtLmNvbScsICdzdjM4OC5hYycsICd2bjg4Z29hdC5jb20nLCAnbGlua2Jvbmc4OG1vaW5oYXQub3JnJywgJzY5dm4uaW5mbycsICd3ODhsaW5rei5jb20nLCAndm44OC5jYW0nLCAndm44OC5pbycsICd3ODgub25nJywgJ25ndXllbnZhbmJhby5jb20nLCAnaGVlbmdsaXNoLmNvbScsICd2YWlsb254eC5jb20nLCAnYmlnb25lLnZuJywgJ2hvY3Jldmlldy5jb20nLCAnY2FzaW5vdHJ1Y3R1eWVuLmlvJywgJ2tpZW52YW5nLnZuJywgJ2Z1bjg4LmJpbycsICdzb2RvNjZ2bi5jb20nLCAnZnVuODgud3RmJywgJ25oYWNhaXV5dGluLmFjJywgJ2FzaWRld2F5LmNvbScsICcxZ29tLnNob3AnLCAnc29kb2Nhc2lubzY4ei5jb20nLCAnbmdoaWVuY2FyLmNvbScsICd3ODh2bnoubmV0JywgJzg4YmV0MS5jbHViJywgJ2JrOGdvYXQuY29tJywgJ3JvZGp1bGlhbi5jb20nLCAnd3d3LmhlcmVvZmFtaWx5LmNvbScsICdhbmhkZXAyNC5jb20nLCAnc3VuZmxvd2Vyc3RlaW5lci5lZHUudm4nLCAnd3d3LmNvdmVtYXJrZXRzLmNvbScsICdjdWFuaGFwa2hhdS5jb20nLCAndzg4dGgyLmNvbScsICdraG9ydW91LWdvdXJtZXQuY29tJywgJ2t1MTFuZXQuY28nLCAncGVubmJvb2tjZW50ZXIuY29tJywgJ2hvY2JlYXV0eS5jb20nLCAnZmlkbGFybXVzaWMuY29tJywgJ3d3dy5yZXplbmNlLmNvbScsICdwdWJsaWNhbmFua2VyLmNvbScsICdzaWxjb3QuY29tLnZuJywgJ2x1Y2lkY2FtLmNvbScsICdob29rZWF1ZGlvLmNvbSddOwogICAgICBpZiAoV2ViMWxpc3QuaW5jbHVkZXMobG9jYXRpb24uaG9zdCkpIHsKICAgICAgICBsZXQgd2ViYnRuID0gYXdhaXQgZWxlbWVudFJlYWR5KCcjZGlycmVjdC1jb3VudGRvd24tMXMgPiBidXR0b24nKTsKICAgICAgICB3ZWJidG4uY2xpY2soKTsKICAgICAgICBsZXQgd2ViMWJ0biA9IGF3YWl0IGVsZW1lbnRSZWFkeSgnI2RpcnJlY3QtY29kZS0xcyBzcGFuJyk7CiAgICAgICAgd2ViMWJ0bi5jbGljaygpO30KICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd0ZXJhYm94LmZ1bicpIHsKICAgICAgICBsZXQgdGJidG4gPSBhd2FpdCBlbGVtZW50UmVhZHkoJ2Rpdi5idG4uYWN0aXZlJyk7CiAgICAgICAgdGJidG4uY2xpY2soKTt9CiAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnMXNob3J0LmlvJykgewogICAgICAgIGxldCBzaGJ0biA9IGF3YWl0IGVsZW1lbnRSZWFkeSgnLmJ0bi1wcmltYXJ5LmJ0bicpOwogICAgICAgIHNoYnRuLmNsaWNrKCk7fX0pKCk7CiAgICBjb25zdCBsID0gKGggPT4gewogICAgICBjb25zdCBiID0gaC5wYXRobmFtZSA9PT0gJy92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCk7CiAgICAgIGNvbnN0IHAgPSBoLnBhdGhuYW1lID09PSAnL2Jsb2czL3ZlcmlmeS8nICYmIC9eXD8oW14mXSspLy50ZXN0KGguc2VhcmNoKTsKICAgICAgc3dpdGNoIChoLmhvc3QpIHsKICAgICAgICBjYXNlICdva3J6b25lLmNvbSc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vZ3RsaW5rLmNvLycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3dlYnNpdS5jb20nOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL3NodC5zaC8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdraW1vLm1hJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9ibG9nLmFkZmxvei5jby8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd3d3cubG9vdGNhc2gudmlwJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9mbHlhZC52aXAvJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZWR1Y3VyLmNvbSc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vYmxvZy5mbHlyYXIuY29tLycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3RlY211bmRvLm5ldCc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vZ28uamFlbGluay51cy8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdleGFta2hhdGEuY29tJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9wbGF5bGluay54eXovJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZG93bmZpbGUuc2l0ZSc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vZ2V0Lm1lZ2FmbHkuaW4vJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZXhhbXNvbHV0aW9uLmluJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9rdWtzbGluY3MueHl6LycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ215dG9wNS5jbHViJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly90ZWNobmVtby54eXovYmxvZy8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdmb29kdXBlLmNvbSc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vYmxvZy5maWxlcHJlc2lkZW50LmNvbS8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd0ZWNobmljYWxhdGcuY29tJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9hdGdsaW5rcy5jb20vJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbGVkaWZoYS5jb20nOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL3Byb2Nlc3MubGVkaWZoYS5jb20vJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnc2FobG1hcmtldGluZy5uZXQnOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL2xpbmtvLmVhcm5pZnkucHJvLycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2FwcC50cmFuZ2NodS5uZXdzJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9nZXQubWVnYXVybC5pbi8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdhZHlicmFuZHMuaW4nOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL215dG9wNS5jbHViL3ZlcmlmeS8/JyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZm9yZXhzaGFyZS5uZXQnOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL3Nob3J0dXJsLnNoMnJ0LmNvbS8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdibG9nLmNvaW4ycGF5Lnh5eic6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vdGVjaHl1dGgueHl6L2Jsb2cvJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZ2FtZXJmYW5nLmluJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9mYXV4LmdhbWVyZmFuZy5pbi90ZWNoLycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3ZpZGVvbHlyaWNzLmluJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9jcnlwdG9saW5rLnRyeGtpbmcueHl6LycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2NvaW4ycGF5Lnh5eic6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vYmxvZy5jb2luMnBheS54eXovdmVyaWZ5Lz8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdlY29ub21pYXJlbGV2YW50ZS5jb20uYnInOgogICAgICAgICAgaWYgKGIpIHttZXRhKCdodHRwczovL3Nocmlua2dvbGQuY29tLycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3RlY2hyYXl6ZXIuY29tJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly90ZWNocmF5emVyLmNvbS9pbnN1cmFuY2UvJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYWJ1LmJ1c2luZXNzbmV3cy1uaWdlcmlhLmNvbSc6CiAgICAgICAgICBpZiAoYikge21ldGEoJ2h0dHBzOi8vdXA0Y2FzaC5jb20vJyArIFJlZ0V4cC4kMSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAndGVjaGJveXoueHl6JzoKICAgICAgICBjYXNlICdzdHVkeXN0YXIueHl6JzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9zaG9ydDJmbHkueHl6LycgKyBSZWdFeHAuJDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2dpdGkud29ya3MnOgogICAgICAgIGNhc2UgJ3RlY2hhY29kZS5jb20nOgogICAgICAgIGNhc2UgJ2F6bWF0aC5pbmZvJzoKICAgICAgICAgIGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9nZXQubXRyYWZmaWNzLmNvbS8nICsgUmVnRXhwLiQxKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd6dWJhLmxpbmsnOgogICAgICAgICAgaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZ28uenViYS5saW5rLycgKyBSZWdFeHAuJDE7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbmV0d29ya2hpbnQuY29tJzoKICAgICAgICAgIGlmICgvXlwvZ29cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly9jMmcuYXQvJyArIFJlZ0V4cC4kMTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdmYXVjZXRodWIubHknOgogICAgICAgICAgaWYgKC9eXC9oc1wvXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZ29hZHMubHkvJyArIFJlZ0V4cC4kMTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwaXhlbGRyYWluLmNvbSc6CiAgICAgICAgICBpZiAoaC5ocmVmLmluY2x1ZGVzKCcvdS8nKSkgcmV0dXJuIGguaHJlZi5yZXBsYWNlKCd1LycsICcvYXBpL2ZpbGUvJykgKyAnP2Rvd25sb2FkJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2Nla2lwLnNpdGUnOgogICAgICAgIGNhc2UgJ3d3dy5jZWtpcC5zaXRlJzoKICAgICAgICAgIGlmICgvXlwvZ29cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7bWV0YShhdG9iKFJlZ0V4cC4kMSkpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3NocnMubGluayc6CiAgICAgICAgICBpZiAoL15cL29sZFwvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL2pvYmZvcm0uaW4vP2xpbms9JyArIFJlZ0V4cC4kMTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdzbGluay5iaWQnOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2dvJykpIHsKICAgICAgICAgICAgbWV0YShhdG9iKGguc2VhcmNoUGFyYW1zLmdldCgnZ28nKSkpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3NsLmVhc3lzbC5jbGljayc6CiAgICAgICAgICBpZiAoL15cL3N0ZXAxXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZWFzeXNsLmNsaWNrLycgKyBSZWdFeHAuJDE7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnd3d3LmdpZmFucy5jb20nOgogICAgICAgICAgaWYgKC9eXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgewogICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vc2hvcnRsaW5rLnByei5wdy8nICsgUmVnRXhwLiQxO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3pvbmVhcm4uYml6JzoKICAgICAgICAgIGlmICgvXlwvKC4rKS8udGVzdChoLnBhdGhuYW1lKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3RvaycpKSB7CiAgICAgICAgICAgIHJldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3RvaycpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ251bGxlZHNhZmUuY29tJzoKICAgICAgICAgIGlmICgvXlwvbGlua1wvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL2dvbGluay5udWxsZWRzYWZlLmNvbS8nICsgUmVnRXhwLiQxO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2NvbW9ob3kuY29tJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL2dyYWIvb3V0Lmh0bWwnICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHsKICAgICAgICAgICAgcmVkaXJlY3QoYXRvYihoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpKSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZnJvZ2d5cmV2aWV3cy5jb20nOgogICAgICAgICAgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnbWZsaW5rJykpIHsKICAgICAgICAgICAgbWV0YSgnaHR0cHM6Ly9mcm9nZ3lyZXZpZXdzLmNvbS9nby8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdtZmxpbmsnKSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAndGVjaG1vZHkuaW8nOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2NoZWNrJykpIHsKICAgICAgICAgICAgbWV0YShkZWNvZGVVUklDb21wb25lbnQoaC5zZWFyY2hQYXJhbXMuZ2V0KCdjaGVjaycpKSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnc2hvcnRlbmVyLmdvbGRjb250ZW50LnNpdGUnOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2Rlc3QnKSkgewogICAgICAgICAgICByZWRpcmVjdChhdG9iKGguc2VhcmNoUGFyYW1zLmdldCgnZGVzdCcpKSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYWNvcnRhbWUueHl6JzoKICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkgewogICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gImh0dHBzOi8vcm90YXRvci5udXJ1bC1odWRhLnNjaC5pZC8/dXJsPSIgKyAoYXRvYih3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd3d3cuY3NrdWEuY29tJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3AvYmxvZy1wYWdlXzEyLmh0bWwnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7CiAgICAgICAgICAgIHJlZGlyZWN0KGF0b2IoaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJykpLCBmYWxzZSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnd3d3Lm10YWdhbmcuYml6JzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3AvYmxvZy1wYWdlXzI0Lmh0bWwnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7CiAgICAgICAgICAgIHJlZGlyZWN0KGF0b2IoaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJykpLCBmYWxzZSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnd3d3LnB5dGhvbmR1bnlhc2kuY29tJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3AvYmxvZy1wYWdlXzIyLmh0bWwnICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHsKICAgICAgICAgICAgcmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykuc3Vic3RyaW5nKDEpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2dhZGdldHMudGVjaHltZWRpZXMuY29tJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd0b2tlbicpKSB7CiAgICAgICAgICAgIG1ldGEoJ2h0dHBzOi8vYmxvZy5kaXNoZXllLmNvbS8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd0b2tlbicpKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdqcmxpbmtzLmluJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3NhZmUyLnBocCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdsaW5rJykpIHsKICAgICAgICAgICAgbWV0YSgnaHR0cHM6Ly9pbnRlcm5ldC53ZWJob3N0aW5ndGlwcy5jbHViLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKSk7fQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAndXBsb2Fkc29vbi5jb20nOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvc2FmZS5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7CiAgICAgICAgICAgIG1ldGEoJ2h0dHBzOi8vdmlyYWx4bnMuY29tL3NhZmUucGhwP2xpbms9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnbGluaycpKTt9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdraWl3LmljdSc6CiAgICAgICAgICBpZiAoaC5wYXRobmFtZSA9PT0gJy9jaGVjay5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnYWxpYXMnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3dpcycpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2l3JykpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL2tpaXcuaWN1LycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2FsaWFzJykgKyAnP3dpcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd3aXMnKSArICcmc2l3PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NpdycpO30KICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazt9CiAgICB9KShuZXcgVVJMKGxvY2F0aW9uLmhyZWYpKTsKICAgIGlmIChsKSB7CiAgICAgIGxvY2F0aW9uLmhyZWYgPSBsO30KICAgIHdhaXRGb3JFbG0oJ2RpdiN3cHNhZmUtbGluayA+IGEnLCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgIGNvbnN0IHJlZ2V4ID0gL3JlZGlyZWN0PSguKiknLC87CiAgICAgIGNvbnN0IG0gPSByZWdleC5leGVjKGVsZW1lbnQub25jbGljay50b1N0cmluZygpKVsxXTsKICAgICAgbG9jYXRpb24uaHJlZiA9IEpTT04ucGFyc2UoYXRvYihtKSkuc2FmZWxpbms7fSk7CiAgICB3YWl0Rm9yRWxtKCdhLnMtYnRuLWYnLCBzbXAgPT4gcmVkaXJlY3Qoc21wLmhyZWYsIGZhbHNlKSk7CiAgICAvLyBpZiB0aGUgc2l0ZXMgYmVsb3cgbm90IHdvcmtpbmcgLCBQbGVhc2UgUmVhZCBteSBTY3JpcHQgaW5mbyAsIGRvbid0IGZvcmdldCB0byBMaWtlIGFuZCBGb2xsb3cgbXkgVGlrVG9rICwgVGhhbmtzCiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZnJlZW9zZW9jaGVjay5jb218Y29pbnN2YWx1ZS5uZXR8Y29va2luZ3VpZGUubmV0fGNyeXB0b3dpZGdldHMubmV0fGluc3VyYW5jZWdvbGQuaW58Z3JlZW5lbmV6LmNvbXxjb2luc2NhcC5pbmZvfHdpa2ktdG9waWEuY29tfHdlYmZyZWV0b29scy5uZXR8Y2Fyc3RvcGlhLm5ldHxtYWtldXBndWlkZS5uZXR8Y2Fyc21hbmlhLm5ldC8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpOwogICAgICBsZXQgQnBCdG4gPSBBcnJheS5mcm9tKEJwQWxsKCJidXR0b246bm90KFtoaWRkZW5dKSIpKTtsZXQgTmV4dEJ0biA9IEJwQnRuLmZpbmQoZWwgPT4gZWwudGV4dENvbnRlbnQuaW5jbHVkZXMoJ0NvbnRpbnVlJykpO2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBmc2MgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGZzYyk7CiAgICAgICAgICAgIE5leHRCdG4uY2xpY2soKTt9fSwgMSAqIDEwMDApOwogICAgICB9IGVsc2Uge3NldFRpbWVvdXQoKCkgPT4ge05leHRCdG4uY2xpY2soKTt9LCAxOSAqIDEwMDApO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iaXRjb3Rhc2tzLmNvbS8sIGZ1bmN0aW9uKCkge2xldCBCcEJ0biA9IEFycmF5LmZyb20oQnBBbGwoImJ1dHRvbjpub3QoW2hpZGRlbl0pIikpO2xldCBOZXh0QnRuID0gQnBCdG4uZmluZChlbCA9PiBlbC50ZXh0Q29udGVudC5pbmNsdWRlcygnQ29udGludWUnKSk7bGV0IGJ0cyA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoZWxlbWVudEV4aXN0cygnI3RpbWVyJykpIHtjbGVhckludGVydmFsKGJ0cyk7TmV4dEJ0bi5jbGljaygpO319LCAzMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZG4ubG9sLywgZnVuY3Rpb24oKSB7RW5hYmxlUkNGKCk7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBtZG4gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKG1kbik7CiAgICAgICAgICAgIGNsaWNrKCdkaXYgZm9ybSBidXR0b24nKTt9fSwgMSAqIDEwMDApOwogICAgICB9IGVsc2Uge3NldFRpbWVvdXQoKCkgPT4ge2NsaWNrKCdkaXYgZm9ybSBjZW50ZXIgYnV0dG9uJyk7fSwgMTEgKiAxMDAwKTt9fSk7CiAgICAvLyBpZiB0aGUgc2l0ZXMgYWJvdmUgbm90IHdvcmtpbmcgLCBQbGVhc2UgUmVhZCBteSBTY3JpcHQgaW5mbyAsIGRvbid0IGZvcmdldCB0byBMaWtlIGFuZCBGb2xsb3cgbXkgVGlrVG9rICwgVGhhbmtzCiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb3VvLnRvZGF5LywgZnVuY3Rpb24oKSB7CiAgICAgIGxvY2F0aW9uLmhyZWYgPSBuZXh0VXJsO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZC5lZS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZF9sJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXBwZHJpdmUubWUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2RyYycsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3ByeC5lZS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZmluYWxfbGluaycsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFpbmsuY2MvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2NvdW50aW5nYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZWRtLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZGxidXR0b24nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rZWVwbGlua3Mub3JnLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNidG5jaGFuZ2UnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9lYXJubGluay5pby8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLXNlY29uZGFyeScsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21rb21zZWwuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGZpbGUnLCAxMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb25pbXBvcnRzLmNvbS5ici8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZmluYWxMaW5rJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMXNob3J0bGluay5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3JlZGlyZWN0LWxpbmsnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2RzZmlyZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmRvd25sb2FkLWJ1dHRvbicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21vZHNiYXNlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuZG93bmxvYWQtZmlsZS1idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibG9ndGVjaGguY29tfG9rby5zaC8sIGZ1bmN0aW9uKCkgewogICAgICBTdWJtaXRJZkV4aXN0cygnI2dldG15bGluaycsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RkZHJpdmUubWUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1vdXRsaW5lLXByaW1hcnknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaW5vbmltb3MuZGUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2NidCcsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwLWxvYWQub25lfGZjLWxjLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjc3VibWl0YnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvamFtZWVsdGlwcy51cy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjY29udGludWVfYnV0dG9uXzEnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90YWtlbS5jb3x0aGVtb3JuaW5ndHJpYnVuZS5jb20vLCB7CiAgICAgICcvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vcHVzaC5iZG5ld3N4LmNvbS8nXSwKICAgIH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93ZWJob3N0aW5ndGlwcy5jbHViLywgewogICAgICAnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vanJsaW5rcy5pbi9zYWZlMi5waHA/bGluaz0nXSwKICAgIH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb29rbGlrZS5pbmZvfG1vZGVsLXRhcy10ZXJiYXJ1LmNvbS8sIHsKICAgICAgJy8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly95b3VzbS5saW5rLyddLAogICAgfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RlbGlzaHdlbGwuY29tfGFydGlza2luaS5jb20vLCB7CiAgICAgICcvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay5wYWlkNGxpbmsubmV0LyddLAogICAgfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2hyZm91ci5jb218dmVnYW5oby5jby8sIHsKICAgICAgJy9nby8nOiBbUmV4QnAsICdodHRwczovL3B1c2guYmRuZXdzeC5jb20vJ10sCiAgICB9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGhlY29ub215Lm1lLywgewogICAgICAnLyc6IFsnbGluaycsICdodHRwczovL2xpbmsudGhlY29ub215Lm1lLyddLAogICAgfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZyZWViaXRjby5pbi8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgYnRjID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoYnRjKTsKICAgICAgICAgIGNsaWNrKCcjZnJlZV9wbGF5X2Zvcm1fYnV0dG9uJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wb3N0LmNvcHlkZXYuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4nLCA2KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cHBpdC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bi14bC5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nb2ZpbGUuaW8vLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnYS5tZS0xJywgZ2YgPT4gcmVkaXJlY3QoZ2YuaHJlZikpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tyYWtlbmZpbGVzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuZG93bmxvYWQtbm93LXRleHQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5lZ2VlLm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLXhzLmJ0bi1wcmltYXJ5LmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Byby5zaC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLXNlY29uZGFyeScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhcGlkZ2F0b3IubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tZnJlZS5hY3QtbGluay5saW5rJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZS11cGxvYWQubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkb3duYmlsZC5nLXJlY2FwdGNoYScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VzZXJzY2xvdWQuY29tfGRvc3lhLmNvLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNidG5fZG93bmxvYWQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oZXh1cGxvYWQubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4tbGcuYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGJyZWUubWUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmNlbnRlci1ibG9jay5idG4tZGVmYXVsdC5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wcm9hcHBhcGsuY29tfG1lY2xpcHN0dWR5LmluLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNnb3RvbGluaycsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZ2F1cC5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnI2J0bnN1Ym1pdCcsIG11QnRuID0+IG11QnRuLmNsaWNrKCkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NvbGlkZmlsZXMuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tc20uYnRuLXByaW1hcnkuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ29iaXRzLm1lfHpjYXNoLm9uZXxjbGlja3Njb2luLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjbWR0JywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3JibG9nZ2Vycy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnYSNuZXh0cGFnZWxpbmsgYnV0dG9uLmJ0bicsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xldHMuNWdldC5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmp1bXBfbGluayA+IGE6bnRoLWNoaWxkKDEpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3Nob3J0Lm9yZy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcudGltZXIucmVkaXJlY3QnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wYW55dG91cmlzbS5vbmxpbmUvLCBmdW5jdGlvbigpIHsKICAgICAgU3VibWl0SWZFeGlzdHMoJy50aW1lci1jb250YWluZXIgPiBmb3JtJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVnYXVwdG8uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkaXJlY3RfbGluayA+IGE6bnRoLWNoaWxkKDEpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3BheS5jYy8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgU3VibWl0SWZFeGlzdHMoJyNsaW5rLXZpZXcnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aW55dXJsLnNvLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4uYnRuLXNlY29uZGFyeScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2V4ZW8uYXBwLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tY2FwdGNoYS5idG4tZ29vLmJ0bi1wcmltYXJ5LmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbWllbnBoaS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnLmRvd25sb2FkLWxpbmsnLCB1cEJ0biA9PiB1cEJ0bi5jbGljaygpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlcy5pbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLWRvdy5idG4nLCAyKTsKICAgICAgU3VibWl0SWZFeGlzdHMoJyNGMScsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Bhc3RlMXMuY29tfG5vdGUxcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1sZy5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHBzaW5zdGEuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJy55dS1ibHVlLnl1LWJ0bicsIGFwQnRuID0+IGFwQnRuLmNsaWNrKCkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RvdXBsb2Fkcy5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4tYmxvY2suYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua2VybG9hZC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygiI2Rvd25sb2FkIGZvcm0gaW5wdXRbaWQ9J2J1dHRvbjEnXSIsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1bW93ZWIudG8vLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnaDMudGV4dC1jZW50ZXIgYScsIHN1bW8gPT4gcmVkaXJlY3Qoc3Vtby5ocmVmKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXllbGFkcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibC5idG4tcHJpbWFyeS5idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rYXJ5YXdhbi5jby5pZC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24jYnRuLmJnLWJsdWUtMTAwLnRleHQtYmx1ZS02MDAnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pY2VyaWsuc2l0ZS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjY3N1Ym1pdCcsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZ2V0X2xpbmtfYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmlsZGlyaW0uaW58YmlsZGlyaW0uZXV8YmlsZGlyaW0ubGluay8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuUGVybWlzc2lvbicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xldHN1cGxvYWQuaW8vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bi5idG4tLXByaW1hcnkudHlwZS0tdXBwZXJjYXNlJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGFyZ2VzdHBhbmVsLmlufGVhcm5tZS5jbHVifHVzYW5ld3N0b2RheS5jbHViLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyN0cC1zbnAyJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY2xpbmsxLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICB3YWl0Rm9yRWxtKCdzcGFuI2NvbXB0ZXVyID4gYiA+IGEnLCBjbGluID0+IHJlZGlyZWN0KGNsaW4uaHJlZikpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3BvbnNlbGhhcmlhbi5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNsaW5rLXZpZXcnKSkgewogICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCA5OTk5KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbXA0dXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjdG9kbCcsIDIpOwogICAgICBTdWJtaXRJZkV4aXN0cygiZm9ybVtuYW1lPSdGMSddIiwgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdG9uYW5tZWRpYS5teS5pZC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjaWRuR2V0TGluaycsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZ290b2xpbmsnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hc3NldHRvd29ybGQuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy50ZXh0LWNhcGl0YWxpemUuYnRuLW91dGxpbmUtc3VjY2Vzcy5idG4nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jdXR0Lm5ldHxjdXQteS5uZXR8Y3V0dHkuYXBwLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNzdWJtaXQtYnV0dG9uJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYml0Y29pbmZhdWNldC5mdW58ZnJlZWJpdGNvaW4ud2luLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNjb250aW51ZScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FkZm9jLnVzLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjc2tpcCcpKSB7CiAgICAgICAgbGV0IGFkZiA9IGJwKCcuc2tpcCcpLmhyZWY7CiAgICAgICAgcmVkaXJlY3QoYWRmKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZHJvcC5kb3dubG9hZC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjbWV0aG9kX2ZyZWUnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1kb3dubG9hZCcsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Rvb2RyaXZlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcudG0tYnV0dG9uLWRvd25sb2FkLnVrLWJ1dHRvbi1wcmltYXJ5LnVrLWJ1dHRvbicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3lvc2hhcmUubmV0fG9saG9uYWdyYW5hLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBTdWJtaXRJZkV4aXN0cygnI3l1aWRlYScsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuNicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fza3BhY2Nvc2kuY29tfHBheWxpbmtzLmNsb3VkfGhlYWx0aG1hcnQubGluay8sIGZ1bmN0aW9uKCkgewogICAgICBTdWJtaXRJZkV4aXN0cygnLmJveC1ib2R5ID4gZm9ybScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dvcmt1cGxvYWQuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjZG93bmxvYWQnKSkgewogICAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tcHJpby5idG4nLCAyKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb2lpLmlvLywgZnVuY3Rpb24oKSB7CiAgICAgIHBhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24uZy1yZWNhcHRjaGEuYnRuLmJ0bi1wcmltYXJ5JywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3J5cHRvbmV0b3MucnUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J1dHQnLCAyLCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3NvbWVJZCcsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NwdS1taW5lci5sZWFrcy53b3JrLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy54YnR0LmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ob3dpZnguY29tfHZvY2FsbGV5LmNvbXxmaW5hbmNlcml0ZXMuY29tfHlvZ2FibG9nZml0LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZ2V0bGluaycsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21ycHJvYmxvZ2dlci5jb218dGhlbWV6b24ubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJyNidG4yLnRwLWJ0bicsIG1yQnAgPT4gbXJCcC5jbGljaygpKTsKICAgICAgd2FpdEZvckVsbSgnZGl2LmNlbnRlci1saW5rLWl0ZW1zIGEnLCB0aHogPT4gcmVkaXJlY3QodGh6LmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZm9yZXgtZ29sZHMuY29tfGZvcmV4LXRybmQuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHBhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBDbGlja0lmRXhpc3RzKCcuZy1yZWNhcHRjaGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iYW5hcmFzd2FwLmluLywgZnVuY3Rpb24oKSB7CiAgICAgICQoJ2EnKS5yZW1vdmVBdHRyKCd0YXJnZXQnKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bnN0ZXAyJywgNCwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMWxpbmsuY2x1Yi8sIGZ1bmN0aW9uKCkgewogICAgICAkKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMW1saW5rLnZpcC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluaycsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcuZ2V0LWxpbmsuYnRuLWxnLmJ0bi1zdWNjZXNzLmJ0bicsIDQpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3plZ3RyZW5kcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgU3VibWl0SWZFeGlzdHMoJyNjbG4nLCA1KTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0MScsIDUpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZ28nLCA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb2luY3JvY28uY29tfHN1cmZsaW5rLnRlY2gvLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnLm1iLXNtLTAubXQtMy5idG5CZ1JlZCcsIGNjQnRuID0+IGNjQnRuLmNsaWNrKCkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tpa3R1LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZmlyc3RzdGVwLWJ0bicsIDMpOwogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuc3RlcDInLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWdhNHVwLm9yZy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdpbnB1dC5idG4uYnRuLWluZm8uYnRuLXNtJywgMik7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tZGFyay5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hdXRvbW90dXIuY2x1YnxzYW5veWJvbml0by5jbHViLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5nLXJlY2FwdGNoYScsIDMpOwogICAgICBTdWJtaXRJZkV4aXN0cygnI3BhZ2UyJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGl0ZXhibG9nLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHt9IGVsc2UgewogICAgICAgIENsaWNrSWZFeGlzdHMoJy5iZy1wcmltYXJ5LmJ0bicsIDUpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHAud2Fwa2EuaWQvLCBmdW5jdGlvbigpIHsKICAgICAgU3VibWl0SWZFeGlzdHMoJyNidGdldCA+IGZvcm0nLCA1KTsKICAgICAgQ2xpY2tJZkV4aXN0cygnYnV0dG9uLm10LTQnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kb2NzLmdvb2dsZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyN1Yy1kbC1pY29uJykpIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnI2Rvd25sb2FkRm9ybScsIDEpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2JjdmMueHl6fGJjdmMuaW5rLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5qcy1zY3JvbGwtdHJpZ2dlci5idG4teGwuYnRuLW91dGxpbmUuYnRuJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkaGF2ZW4uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5hbGVydCA+IGE6bnRoLWNoaWxkKDEpJywgMik7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcjZm9ybS1kb3dubG9hZCcsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZvcmV4LWFydGljbGVzLmNvbXxmb3JleGxhcC5jb218Zm9yZXhtYWIuY29tfGZ4LTIyLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcub3RvID4gYTpudGgtY2hpbGQoMSknLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yYWNlZGVwYXJ0bWVudC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgJCgiYVt0YXJnZXQ9J19ibGFuayddIikucmVtb3ZlQXR0cigidGFyZ2V0Iik7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idXR0b24tLWN0YScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Byb3ZpcmFsaG9zdC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3dhaXQxYnV0dG9uJywgMyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJyN3YWl0MmJ1dHRvbicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NlbmQuY218cmFjYXR5Lm5ldHxmaWxlcy5pbXxzaGFyZW1vZHMuY29tfHJhY2F0eS5pb3xtb2RzYmFzZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcmV2bHkuY2xpY2svLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7fSBlbHNlIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnZGl2LmNvbC1tZC0xMiBmb3JtJywgMik7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RhdGF1cGxvYWQubmV0LywgYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1ICogMTAwMCkpOwogICAgICBjbGljaygnLmRvd25sb2FkYnRuJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWx0YmxvZ2dlci5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rc3B5LmNjLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuc2tpcEJ1dHRvbicpKSB7CiAgICAgICAgbGV0IGxzcCA9IGJwKCcuc2tpcEJ1dHRvbicpLmhyZWY7CiAgICAgICAgcmVkaXJlY3QobHNwLCBmYWxzZSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2h1cy53ZWJzaXRlLywgZnVuY3Rpb24oKSB7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcuY29kZS1ibG9jay00LmNvZGUtYmxvY2sgPiBmb3JtJywgMSk7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcudG9wbmF2ID4gZm9ybScsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2h4ZmlsZS5jb3xleC1sb2FkLmNvbXxtZWdhZGIubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tZG93LmJ0bicsIDIpOwogICAgICBTdWJtaXRJZkV4aXN0cygiZm9ybVtuYW1lPSdGMSddIiwgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmxvZy5taXVpZmxhc2guY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcjcmVmb3JtJywgMyk7CiAgICAgIHdhaXRGb3JFbG0oJyNhbm9uSXQnLCBibWYgPT4gcmVkaXJlY3QoYm1mLnNyYywgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcGttb2R5LmlvLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCdkaXYud3AtYmxvY2stYnV0dG9ucyA+IGRpdicpKSB7CiAgICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmICsgJy9kb3dubG9hZC9tb2QnO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hYy50b3RzdWdla2kuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgICQoImFbdGFyZ2V0PSdfYmxhbmsnXSIpLnJlbW92ZUF0dHIoInRhcmdldCIpOwogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLWxnLmJ0bi1zdWNjZXNzLmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZleGtvbWluLnh5ei8sIGZ1bmN0aW9uKCkgewogICAgICAkKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1jYXB0Y2hhLmJ0bi1kYW5nZXIuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmF5ZmlsZXMuY29tfGFub25maWxlcy5jb218b3BlbmxvYWQuY2N8bG9sYWJpdHMuc2V8bGV0c3VwbG9hZC5jY3x1cHZpZC5jYy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjZG93bmxvYWQtdXJsJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMTAwcHVhbi5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJpZy10ZXh0JywgMyk7CiAgICAgIHdhaXRGb3JFbG0oJ2Rpdi5iYi1zdGlja3ktZWwgYScsIHBieiA9PiByZWRpcmVjdChwYnouaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aGVwcmljZS5iaXp8bWFzc2l2ZS5teS5pZHxhY3Rpdml0eS5teS5pZHxjYXZpZXcubXkuaWQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnYS5idG4uYnRuLXByaW1hcnkubS0yLmJ0bi1jYXB0Y2hhJywgNik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRzZ28uZGlnaXRhbHx0ZWNodXMud2Vic2l0ZS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcubXlCdXR0b24nLCAyKTsKICAgICAgU3VibWl0SWZFeGlzdHMoJy5jb2RlLWJsb2NrLTEuY29kZS1ibG9jayA+IGZvcm0nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdWIyZ2V0LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2J1dHVubG9jaycpKSB7CiAgICAgICAgbGV0IHN1YnQgPSBicCgnI2J1dHVubG9jayA+IGE6bnRoLWNoaWxkKDEpJykuaHJlZjsKICAgICAgICByZWRpcmVjdChzdWJ0KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGl0ZWNvaW4uaG9zdHxza2lwYWRzLmNsaWNrLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyN3QnRuJywgNSwgJ3NldEludGVydmFsJyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJ2EjYUdvLmJhZGdlLmJnLXN1Y2Nlc3MnLCA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9meDR2aXAuY29tfGZvcmV4cnc3LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICAkKCJhICNidXR0b24xW2Rpc2FibGVkPSdkaXNhYmxlZCddIikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J1dHRvbjEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlc2hhcmUuYWRzaG9ydHVybC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmRvd25sb2FkLXRpbWVyID4gYTpudGgtY2hpbGQoMSkgPiBzcGFuOm50aC1jaGlsZCgxKScsIDQsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwdG9ib3guY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJ2EuYmlnLWJ1dHRvbi1ncmVlbjpudGgtY2hpbGQoMSknLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmRvd25sb2FkLWJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3J0ZXJhbGwuY29tfHByb21vLXZpc2l0cy5zaXRlLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbGluay12aWV3JykpIHt9IGVsc2UgewogICAgICAgIFN1Ym1pdElmRXhpc3RzKCdkaXYuY29sLW1kLTEyIGZvcm0nLCA5KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW5leXZpcC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmdldC1saW5rLmJ0bi1sZy5idG4tc3VjY2Vzcy5idG4nLCA2KTsKICAgICAgU3VibWl0SWZFeGlzdHMoJy5ib3gtbWFpbiA+IGZvcm06bnRoLWNoaWxkKDEpJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWl4ZHJvcC5jby8sICgpID0+IHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmRvd25sb2FkLWJ0bicsIDIpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBsZXQgbWQgPSBicCgnLmRvd25sb2FkLWJ0bicpLmhyZWY7CiAgICAgICAgcmVkaXJlY3QobWQpO30sIDQgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9qb2Jmb3JtLmluLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNzY2FuVVJMJywgMSk7CiAgICAgIENsaWNrSWZFeGlzdHMoJyN0b3BDbGlja0J1dHRvbicsIDEpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYm90dG9tQ2xpY2tCdXR0b24nLCAyNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcGxheXBhc3RlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgcHBzID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwocHBzKTsKICAgICAgICAgIGNsaWNrKCdidXR0b24uYnRuJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2Rjb21iby5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2Rvd25sb2FkLycpKSB7CiAgICAgICAgd2FpdEZvckVsbSgnZGl2Lml0ZW0uaXRlbS1hcGsgYScsIG1jID0+IHJlZGlyZWN0KG1jLmhyZWYsIGZhbHNlKSk7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnYS5idG4uYnRuLXN1Ym1pdCcsIDYpO30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnYS5idG4uYnRuLXJlZC5idG4taWNvbi5idG4tZG93bmxvYWQuYnItNTAnLCAyKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGFrZWZpbGUubGluay8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI0YxJykpIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnZGl2Lm5vLWd1dHRlcjpudGgtY2hpbGQoMikgPiBmb3JtOm50aC1jaGlsZCgxKScsIDEpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1cmF0cmVzbWkuaWQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnYnV0dG9uI2htbi5idG4tbW9yZScsIDMsICdzZXRJbnRlcnZhbCcpOwogICAgICBDbGlja0lmRXhpc3RzKCdhI2htbi5idG4tbW9yZScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2V4YW1raGF0YS5jb218Z2FtZWxvcHRlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuNicsIDMpOwogICAgICB3YWl0Rm9yRWxtKCdhLnl1LWJ0bi55dS1ibHVlJywgZXhhID0+IHJlZGlyZWN0KGV4YS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL291by5pb3xvdW8ucHJlc3MvLCBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDQgKiAxMDAwKSk7CiAgICAgIGNsaWNrKCdidXR0b24jYnRuLW1haW4uYnRuLmJ0bi1tYWluJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcmFuY2FoLmNvbXxtZW5qZWxhamFoaS5jb218c2hvcnRseS54eXp8bnlhd2FuZy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmdldC1saW5rLmJ0bi1sZy5idG4tc3VjY2Vzcy5idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHBzYmxhemUuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjYm94LTAnKSkgewogICAgICAgIHdhaXRGb3JFbG0oImlucHV0W25hbWU9J3NsaW5rJ10iLCBhYmwgPT4gcmVkaXJlY3QoYWJsLmhyZWYsIGZhbHNlKSk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbXluZXdzbWVkaWEuY298cmV2YWR2ZXJ0LmNvbXxqb2JwaG9yaWEuaW58ZWR1cXFxLnh5ei8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjVmVyaWZ5QnRuJywgMyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5NYWdpY0J0bi5ueEJ0bicsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RqeG1hemEuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2RsYnRuJywgMSk7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bmYnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkYnRuJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaGN5YW4uY29tLywgYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzNSAqIDEwMDApKTsKICAgICAgY2xpY2soJ2J1dHRvbiNmaXJzdHN0ZXAtYnRuLmJ0bi5idG5zdGVwMScpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwZmlsZXMuY29tfGN1dC15LmNvfHVwZmlsZXN1cmxzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2NhcHRjaGFEb3dubG9hZCcpKSB7fSBlbHNlIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnZm9ybS50ZXh0LWNlbnRlcicsIDEpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8xZmljaGllci5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNwYXNzJykpIHt9IGVsc2UgewogICAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tb3JhbmdlLmJ0bi1nZW5lcmFsLm9rJywgMSk7CiAgICAgICAgU3VibWl0SWZFeGlzdHMoJy5hbGMnLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGV2Lm1pdWlmbGFzaC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgU3VibWl0SWZFeGlzdHMoJy5jb2RlLWJsb2NrLTEuY29kZS1ibG9jayA+IGZvcm0nLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLm1iLTQuYnRuLWJsb2NrLmJ0bi1wcmltYXJ5LmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N0Zmx5Lm1lLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgva2hhZGRhdmkubmV0fGNvbnRlbnRtZW5hcmlrLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7CiAgICAgICAgICBjbGljaygnI3NsdS1idG4nKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sZWl0dXAuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjYnV0dG9uX3RpbWVyJykpIHsKICAgICAgICB3YWl0Rm9yRWxtKCdpbnB1dC5mb3JtLWNvbnRyb2wnLCBsZWl0ID0+IHJlZGlyZWN0KGxlaXQucGxhY2Vob2xkZXIsIGZhbHNlKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL29mZmVyb2MuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBvZnIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChvZnIpOwogICAgICAgICAgY2xpY2soJy5tdC0yLmJ0bi1zdWNjZXNzLmJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGlueXVybC5pc3xzdHJlYW1jaGVjay5saW5rLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCd1bCA+IGxpID4gYScpKSB7CiAgICAgICAgY29uc3QgbGluayA9IGJwKCdhW2lkXj1uZXdza2lwLWJ0bl0nKS5ocmVmOwogICAgICAgIHJlZGlyZWN0KGxpbmssIGZhbHNlKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hyaW5rZS5tZS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgc2hrID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc2hrKTsKICAgICAgICAgIGNsaWNrKCcjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluaycpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYW5vbnltLm5pbmphLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBmZCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcvJykuc2xpY2UoLTEpWzBdOwogICAgICByZWRpcmVjdChgaHR0cHM6Ly9hbm9ueW0ubmluamEvZG93bmxvYWQvZmlsZS9yZXF1ZXN0LyR7ZmR9YCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcnRlYXJuLm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2FwcEJ0bicsIDEpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYWRCdG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2V4dGVuc2lvbkJ0bicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwLWxvYWQuaW8vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygiaW5wdXRbbmFtZT0nbWV0aG9kX2ZyZWUnXSIsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLWRvdy5idG4nLCAxKTsKICAgICAgbGV0IHVwbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHVwbCk7CiAgICAgICAgICBjbGljaygnI2Rvd25sb2FkYnRuJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ub3ZhZmlsZS5vcmcvLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IG5mID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwobmYpOwogICAgICAgICAgY2xpY2soJy54YnRuLWdyZWVuJyk7fX0sIDEgKiAxMDAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bmRkbCcsIDkwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnYS5idG4uYnRuLWdyZWVuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZXo0bW9kcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgU3VibWl0SWZFeGlzdHMoJ2Rpdi50ZXh0LWNlbnRlciBmb3JtJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJ2EjZ29fZC5zdWJtaXRCdG4uYnRuLmJ0bi1wcmltYXJ5JywgZXogPT4gcmVkaXJlY3QoZXouaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydGxpbmt0by5pbmZvfHVwbGlua3RvLnZpcHxicmJ1c2hhcmUuaW5mb3x1cHRvYmhhaS5pbmt8dXBsaW5rdG8uaGFpcnxzaG9ydGxpbmt0by54eXovLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9qaW90ZWNoLm5ldHxhdXRvbWF0LnN5c3RlbXN8amFtZWVsdGlwcy51c3xjcnlwdG9ud29ybGQuc3BhY2V8bGlua3ByZXNzLmZ1bnxteWFydGljYWwueHl6LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNhbGZfY29udGludWUnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC92b3Nhbi5jby8sIGZ1bmN0aW9uKCkgewogICAgICBicCgnLmVsZW1lbnRvci1zaXplLWxnJykucmVtb3ZlQXR0cmlidXRlKCd0YXJnZXQnKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmVsZW1lbnRvci1zaXplLWxnJywgMik7CiAgICAgIENsaWNrSWZFeGlzdHMoJy53cGRtLWRvd25sb2FkLWxpbmsnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlcHJlc3MuY2xpY2t8ZmlsZXByZXNzLnNicy8sIGZ1bmN0aW9uKCkgewogICAgICB3YWl0Rm9yRWxtKCdidXR0b24ucHktMzpudGgtY2hpbGQoMiknLCBmcEJ0biA9PiBmcEJ0bi5jbGljaygpKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnc3Bhbi5yZWxhdGl2ZScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZHJhci5jb218dXB0b21lZ2EubWUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLm1uZ2V6LWZyZWUtZG93bmxvYWQnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2RpcmVjdF9saW5rID4gYTpudGgtY2hpbGQoMSknLCAyKTsKICAgICAgJCgnI2Rvd25sb2FkYnRuJykuY2xpY2soKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oeW5ld3MuYml6fGNoYW1jdXVob2MuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBieXBhc3NsaW5rcyA9IGF0b2IoYGFIJHticCgiI2xhbmRpbmcgW25hbWU9J2dvJ10iKS52YWx1ZS5zcGxpdCgiYUgiKS5zbGljZSgxKS5qb2luKCJhSCIpfWApOwogICAgICByZWRpcmVjdChieXBhc3NsaW5rcyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkLTRldmVyLmNvbXx1cC00ZXZlci5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygiaW5wdXRbbmFtZT0nbWV0aG9kX2ZyZWUnXSIsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZG93bkxvYWRMaW5rQnV0dG9uJywgNSk7CiAgICAgIGxldCB1cDQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh1cDQpOwogICAgICAgICAgY2xpY2soJyNkb3dubG9hZGJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGlpLmxhLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbGluay12aWV3JykpIHsKICAgICAgICBsZXQgc2JmID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHNiZik7CiAgICAgICAgICAgIGNsaWNrKCcjY29udGludWUnKTt9fSwgNTAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXNlcnNkcml2ZS5jb218ZGRvd25sb2FkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgdWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHsKICAgICAgICAgIGNsaWNrKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1kb3dubG9hZC5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tYXplbi12ZTMuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNjYXB0Y2hhLWJ0bicsIDIpOwogICAgICBsZXQgbXYgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHsKICAgICAgICAgIGNsaWNrKCdmb3JtIGNlbnRlciBidXR0b246bnRoLWNoaWxkKDEpJyk7fX0sIDUwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvby1wcm8ub25saW5lLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJyNuZXdidXR0b24gPiBhJywgb3BvID0+IHJlZGlyZWN0KG9wby5ocmVmLCBmYWxzZSkpOwogICAgICB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tZGVmYXVsdC5idG4tc20nLCBvcG8yID0+IHJlZGlyZWN0KG9wbzIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdHJlYW1oaWRlLnRvLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJ2Iuc21hbGwnLCAyKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5ibG9jay1iZycpKSB7CiAgICAgICAgd2FpdEZvckVsbSgnYS5idG4uYnRuLXByaW1hcnkuc3VibWl0LWJ0bicsIHNoID0+IHJlZGlyZWN0KHNoLmhyZWYsIGZhbHNlKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2J1c3RoaW5ncy5zaXRlLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnV0dG9uLmJ1dHRvbnNpemUnLCBic3QgPT4gcmVkaXJlY3QoYnN0LmhyZWYsIGZhbHNlKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2EudzMtYnV0dG9uLnczLXJlZCcsIGJzdDIgPT4gcmVkaXJlY3QoYnN0Mi5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbnN1cmFuY2VzLmNvfHlvdHJpY2tzbG9nLnRlY2h8a29uZ3V0b2RheS5jb218cHJvYXBwYXBrLmNvbXxoaXBzb255Yy5jb218dGVhbXRlY2huZXdzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoQnBQYXJhbXMuaGFzKCdzYWZlJykpIHsKICAgICAgICBtZXRhKGF0b2IoQnBQYXJhbXMuZ2V0KCdzYWZlJykpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGVwb3J0ZWFsZGlhLmxpdmV8bm93ZWNvbm9teS5saXZlLywgZnVuY3Rpb24oKSB7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCdkaXYudGV4dC1jZW50ZXIgZGl2IGZvcm0nLCAyKTsKICAgICAgd2FpdEZvckVsbSgnYSNzdXJsMS5idG4tbWFpbi5nZXQtbGluaycsIGRlcCA9PiByZWRpcmVjdChkZXAuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9henRyYXZlbHMubmV0fHRlY2hhY29kZS5jb20vLCAoKSA9PiB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbWVnYXVybC12ZXJpZmllZC1jYXB0Y2hhJykpIHsKICAgICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24uaC1jYXB0Y2hhJywgMyk7fSBlbHNlIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnI21lZ2F1cmwtYmFubmVyLXBhZ2UnLCAyKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3JpdGVkcm9pZC5ldS5vcmd8bW9kbWFuaWEuZXUub3JnfHdyaXRlZHJvaWQuaW58bXl0b3A1LmNsdWIvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3Nob3J0UG9zdExpbmsnLCAzKTsKICAgICAgd2FpdEZvckVsbSgiI3Nob3J0R29Ub0xpbmsiLCBkcm8gPT4gcmVkaXJlY3QoZHJvLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGFpbHl1cGxvYWRzLm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgZHUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChkdSk7CiAgICAgICAgICBjbGljaygnI2Rvd25sb2FkQnRuQ2xpY2tPcmlnbmFsJyk7fX0sIDUwMCk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5pbm5lciA+IGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jbGsuYXNpYXxjbGlja3NmbHkuY29tfHNraW5jYXJpZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIGxpbmtieXBhc3MgPSBhdG9iKGBhSCR7YnAoIiNsaW5rLXZpZXcgW25hbWU9J3Rva2VuJ10iKS52YWx1ZS5zcGxpdCgiYUgiKS5zbGljZSgxKS5qb2luKCJhSCIpfWApOwogICAgICByZWRpcmVjdChsaW5rYnlwYXNzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb21wdXRlcnBlZGlhLmluLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy50cC1ibHVlLnRwLWJ0bi0yJywgMyk7CiAgICAgIGxldCBrb21wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChrb21wKTsKICAgICAgICAgIGNsaWNrKCcjdHAtc25wMicpO319LCA1MDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NvbGFyY2hhaW5lLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2NhcHRjaGFTaG9ydGxpbmsnKSkgewogICAgICAgIENsaWNrSWZFeGlzdHMoJ2J1dHRvbi5idG46bnRoLWNoaWxkKDQpJywgMik7fSBlbHNlIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnLmJveC1ib2R5ID4gZm9ybTpudGgtY2hpbGQoMiknLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmluYW5jZS51cGxvYWRzb29uLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjdHAtc25wMi50cC1ibHVlLnRwLWJ0bicsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuMS50cC1ibHVlLnRwLWJ0bicsIDMpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuMi50cC1ibHVlLnRwLWJ0bicsIDQsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Vhc3lsaW5rLmdhbWluZ3dpdGh0ci5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2NvdW50ZG93bicsIDIpOwogICAgICB3YWl0Rm9yRWxtKCdhI3BhZ2VsaW5raHJlZi5idG4uYnRuLWxnLmJ0bi1zdWNjZXNzLm15LTQucHgtMy50ZXh0LWNlbnRlcicsIGd0ciA9PiByZWRpcmVjdChndHIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jaGVkcml2ZXMuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5kb3dubG9hZGJ0bicsIDMsICdzZXRJbnRlcnZhbCcpOwogICAgICBDbGlja0lmRXhpc3RzKCcubW5nZXotZnJlZS1kb3dubG9hZCcsIDIpOwogICAgICB3YWl0Rm9yRWxtKCdzcGFuI2RpcmVjdF9saW5rIGEnLCBjZCA9PiByZWRpcmVjdChjZC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RoZWNvbm9teS5tZXxhc2twYWNjb3NpLmNvbXxjcnlwdG9tb25pdG9yLmlufDJ0aGUuc3BhY2V8d2lraXZlcnNpdHkub25saW5lLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciB0Zm9ybSA9IGJwKCcjbGFuZGluZycpOwogICAgICByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IodGZvcm0ubmV3d3BzYWZlbGluay52YWx1ZSkpLmxpbmtyLCBmYWxzZSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZW5pdC5pbnxmaW5hbmNlcml0ZXMuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgcGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7CiAgICAgIGxldCBlbml0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChlbml0KTsKICAgICAgICAgIGNsaWNrKCcuYnRuLWNhcHRjaGEuYnRuLXByaW1hcnkuYnRuJyk7fX0sIDUwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaHlyZXZpZXd4LmNvbXxkZXNpdXBsb2FkLmNvLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5kb3dubG9hZGJ0bi5idG4tYmxvY2suYnRuLXByaW1hcnkuYnRuJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1ibG9jay5tYi00JywgcmV4ID0+IHJlZGlyZWN0KHJleC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FkYml0Zmx5LmlufGNvaW5zd2FyZC5jb218ZmF1Y2V0Z2lncy5jb218YWRiaXRmbHkuY29tfGFkYml0Zmx5LmNsaWNrLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJyNjb250aW51ZUJ0bicsIGFmQnRuID0+IGFmQnRuLmNsaWNrKCkpOwogICAgICB3YWl0Rm9yRWxtKCcjd3BzYWZlLWxpbmsgPiBhJywgYWRCdG4gPT4gYWRCdG4uY2xpY2soKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkZXYub3JnLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCB1ZGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGljaygnI2Rvd25sb2FkYnRuJyk7fX0sIDUwMCk7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkc3BlZWQgPiBpbnB1dDpudGgtY2hpbGQoMyknLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmRpcmVjdGwnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9idGNiaXRjby5pbnxyZWFkYml0Y29pbi5vcmd8YnRjc2F0b3NoaS5uZXR8d2lvdXIuY29tfG1hbm9mYWRhbi5jb218Y3J5cHRvNHl1LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLnRleHQtY2VudGVyLm1oLWNvbnRhaW5lcicpKSB7CiAgICAgICAgJCgnLm1oLWhlYWRlci10aXRsZScpLnRleHQoJ1BsZWFzZSBBbnN3ZXIgMiBNYXRocyBRdWVzdGlvbnMgRmlyc3QgLCB0aGVuIENsaWNrIEZsb2F0aW5nIFZlcmlmeSBCdXR0b24gTWFudWFsbHkgQmVmb3JlIENsaWNraW5nIFJlZCBYJyk7CiAgICAgICAgJCgnLmVudHJ5LXRpdGxlJykudGV4dCgnRG9udCBGb3JnZXQgdG8gdXNlIEFkYmxvY2tlciBhbmQgUG9wdXAgQmxvY2tlcicpO30KICAgICAgQ2xpY2tJZkV4aXN0cygnaDMuZW50cnktdGl0bGUubWgtbG9vcC10aXRsZSBhJywgMSk7CiAgICAgIENsaWNrSWZFeGlzdHMoJ2FydGljbGUubWgtbG9vcC1pdGVtID4gZmlndXJlID4gYScsIDEpOwogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4tc20uYnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYnRjcGFueS5jb218em9tYmllYnRjLmNvbXxjbGFpbWZleS5jb218YmF0dGxlcm95YWwub25saW5lfHRoZWZhc3Rwb3N0LmNvbXxibG9nMjQubWUvLCBmdW5jdGlvbigpIHsKICAgICAgcGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcjbGluazFzLWZvcm0nLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI25leHQtc3RlcC1idXR0b24nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC85eHVwbG9hZC5hc2lhLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNjb250YWluZXIgPiB0YWJsZTpudGgtY2hpbGQoMTUpID4gdGJvZHk6bnRoLWNoaWxkKDEpID4gdHI6bnRoLWNoaWxkKDIpID4gdGQ6bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMSknLCAyKTsKICAgICAgU3VibWl0SWZFeGlzdHMoImZvcm1bbmFtZT0nRjEnXSIsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL25hdGhhbmFlbGRhbi5wcm98ZnJlZGR5b2N0YXZpby5wcm98ZGF2aXNvbmJhcmtlci5wcm8vLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIHVybHMgPSBuZXcgVVJMKGRvY3VtZW50LlVSTCk7CiAgICAgIHZhciBkZXN0ID0gdXJscy5zZWFyY2hQYXJhbXMuZ2V0KCJkZXN0Iik7CiAgICAgIHZhciBkZWNvZGVkID0gZGVjb2RlVVJJKGRlc3QpOwogICAgICByZWRpcmVjdChkZWNvZGVkKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wbGF5bmFuby5vbmxpbmUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3dhdGNoLWxpbmsnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLndhdGNoLW5leHQtYnRuLmJ0bi1wcmltYXJ5LmJ1dHRvbicsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24uYnV0dG9uLmJ0bi1wcmltYXJ5LndhdGNoLW5leHQtYnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVnYTR1cGxvYWQuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBtdSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsaWNrKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1zbS5idG4taW5mby5idG4nLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1kYXJrLmJ0bi1zbS5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcm9wZ2FsYXh5LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjbWV0aG9kX2ZyZWUnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkQnRuQ2xpY2snLCAzLCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgd2FpdEZvckVsbSgnYS5idG4uYnRuLWJsb2NrLmJ0bi1sZy5idG4tcHJpbWFyeScsIGRnID0+IHJlZGlyZWN0KGRnLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkeS5pby8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgdWR5ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xpY2soJyNkb3dubG9hZGJ0bicpO319LCA1MDApOwogICAgICBDbGlja0lmRXhpc3RzKCcuZmEtdHVydGxlLmZhcycsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcubWItNC5idG4tYmxvY2suYnRuLXByaW1hcnkuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZG9uaWEydGVjaC5jb218Y29yZHRwb2ludC5jby5pbnxibG9nLnRlY2hleXN1Yi5vbmxpbmV8bWluZXJzaW0uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dwc2FmZWxpbmstbGFuZGluZycpOwogICAgICByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZm9ybS5uZXd3cHNhZmVsaW5rLnZhbHVlKSkubGlua3IpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Jla29uaXNlLmNvbS8sICgpID0+IHsKICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB4aHIub25sb2FkID0gKCkgPT4gcmVkaXJlY3QoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KS51cmwpOwogICAgICB4aHIub3BlbigiR0VUIiwgImh0dHBzOi8vYXBpLnJla29uaXNlLmNvbS9zb2NpYWwtdW5sb2NrcyIgKyBsb2NhdGlvbi5wYXRobmFtZSwgdHJ1ZSk7CiAgICAgIHhoci5zZW5kKCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRvYy5wdWIvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4nLCAyKTsKICAgICAgbGV0IGFkcCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGFkcCk7CiAgICAgICAgICBjbGljaygnLm10LTE1LmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4tbGcuYnRuJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zbGlua3dhcmUuY29tfGFnaHRhcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHN3ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc3cpOwogICAgICAgICAgY2xpY2soJy5oaWRkZW4tY29udGludWUtYnV0dG9uJyk7fX0sIDEgKiAxMDAwKTsKICAgICAgd2FpdEZvckVsbSgnI3l1aWRlYS1idG1idG4nLCBzd0J0biA9PiBzd0J0bi5jbGljaygpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWtub3NpbXBsZS5jb218YmVzYXJnYWppLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3NsdS1saW5rJywgMyk7CiAgICAgIGxldCB0ZWsgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHRlayk7CiAgICAgICAgICBjbGljaygnI3NsdS1jb250aW51ZScpO319LCA1MDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2dpbmt6LmNvbS8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpOwogICAgICBsZXQgYmkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGJpKTsKICAgICAgICAgIGNsaWNrKCdidXR0b24uYnRuJyk7fX0sIDUwMCk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuZ2V0LWxpbmsuZGlzYWJsZWQgYScsIGJsaSA9PiByZWRpcmVjdChibGkuaHJlZikpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3BkZmNvZmZlZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4nLCAyKTsKICAgICAgbGV0IHBkZiA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHBkZik7CiAgICAgICAgICBjbGljaygnLm15LTIuYnRuLWJsb2NrLmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4nKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jhc3RpbmV3cy54eXovLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnZGl2I3dwc2FmZS1zbnAgY2VudGVyIGEuYnRuLXZpcC5iYnRuLXZpcCcsIGJhc3QgPT4gcmVkaXJlY3QoYmFzdC5ocmVmLCBmYWxzZSkpOwogICAgICB3YWl0Rm9yRWxtKCdkaXYjbWFpbi1jb250ZW50Lm1oLWNvbnRlbnQgY2VudGVyIGEnLCBiYXN0aSA9PiByZWRpcmVjdChiYXN0aS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JzYWRuZXR3b3JraW5mby5jb218cnNpbnN1cmFuY2VpbmZvLmNvbXxyc2ZpbmFuY2VpbmZvLmNvbXxyc3NvZnR3YXJlaW5mby5jb218cnNob3N0aW5naW5mby5jb218cnNlZHVjYXRpb25pbmZvLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2ljb25jYXB0Y2hhJykpIHt9IGVsc2UgewogICAgICAgIFN1Ym1pdElmRXhpc3RzKCcjY29udGVudCA+IGZvcm0nLCA0KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXV0b2RpbWUuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBhdGQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGF0ZCk7CiAgICAgICAgICBjbGljaygnI2J1dHRvbjEnKTt9fSwgNTAwKTsKICAgICAgd2FpdEZvckVsbSgnYS5idG4taG92ZXIuY29sb3ItMS5idG4tY2FwdGNoYScsIG9kaW0gPT4gcmVkaXJlY3Qob2RpbS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21leGEuc2gvLCBmdW5jdGlvbigpIHtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI0Rvd25sb2FkZnJlJywgMik7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkaXJlY3RfbGluaycsIDIpOwogICAgICBsZXQgbXggPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChteCk7CiAgICAgICAgICBjbGljaygnLmRvd25sb2FkYnRuJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rb21pa2Nhc3QubW9lfGtvbWlrbWFuLmNvbXxrb21pa2luZG8ub3JnfGt1c29uaW1lLm9yZ3xvcGxvdmVyei5vcmd8bmVvbmltZS5sb2wvLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnLmJnLWdiLmR3dG8uc2R3Jywga21CdG4gPT4ga21CdG4uY2xpY2soKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2Euc2R3LmR3dG8uYmctZ2InLCBrbWsgPT4gcmVkaXJlY3Qoa21rLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaHVudGVya2lsbGVyLm1lfHN1cmZsaW5rLnRlY2gvLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnZGl2I3Nob3d3IGNlbnRlciBhLmJ0bi5idG4tZGFuZ2VyLmJ0bi1jYXB0Y2hhJywgaHVuID0+IHJlZGlyZWN0KGh1bi5ocmVmLCBmYWxzZSkpOwogICAgICB3YWl0Rm9yRWxtKCdkaXYjd3BzYWZlLXNucCBjZW50ZXIgYScsIGh1bnQgPT4gcmVkaXJlY3QoaHVudC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NvaW5odWIud2lraS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdib2R5ID4gYTpudGgtY2hpbGQoMSknLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2NobF9jb3ZlcicsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuX3ZlcmlmeScsIDQsICdzZXRJbnRlcnZhbCcpOwogICAgICB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc3VjY2VzcycsIGNvaSA9PiByZWRpcmVjdChjb2kuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9veHkuY2xvdWR8b3h5LnN0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNidXR0b25fbm9fdGxnJywgMyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJ2J1dHRvbiNkb3dubG9hZC5idG4uYnRuLXByaW1hcnkuYnRuLWxnJywgNik7CiAgICAgIHdhaXRGb3JFbG0oJ2RpdiNvY2RzZjIzMy10IGEuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1sZycsIG94eSA9PiByZWRpcmVjdChveHkuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9seXJpY3NiYWF6YWFyLmNvbXxlemV2aXJhbC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IGx5ciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwobHlyKTsKICAgICAgICAgIGNsaWNrKCcjYnRuNicpO319LCA1MDApOwogICAgICB3YWl0Rm9yRWxtKCdkaXYubW9kYWwtY29udGVudCBhJywgbHlyaSA9PiByZWRpcmVjdChseXJpLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXNlcnVwbG9hZC5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHVwbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHVwbCk7CiAgICAgICAgICBjbGljaygnI2Rvd25sb2FkYnRuJyk7fX0sIDEgKiAxMDAwKTsKICAgICAgd2FpdEZvckVsbSgnYS5idG4uYnRuLXByaW1hcnkuYnRuLWJsb2NrLm1iLTQnLCB1cGwyID0+IHJlZGlyZWN0KHVwbDIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlLXVwbG9hZC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLm1uYnQxLmJ0bi1wcmltYXJ5LmJ0bi14cy5idG4nLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkLWJ0bicsIDIpOwogICAgICBsZXQgZnUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGZ1KTsKICAgICAgICAgIGNsaWNrKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vbi1zY3JvbGwuY29tfGRpdWRlbXkuY29tfG1hcWFsMzYwLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdkaXYjX2FwcGVuZCA+IDpudGgtY2hpbGQoMSknLCA0KTsKICAgICAgQ2xpY2tJZkV4aXN0cygnZGl2I2FwcGVuZCA+IDpudGgtY2hpbGQoMSknLCA1KTsKICAgICAgd2FpdEZvckVsbSgiZm9ybS50ZXh0LWNlbnRlciBhIiwgcm9sbCA9PiByZWRpcmVjdChyb2xsLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYnN0bGFyLmNvbS8sICgpID0+IHsKICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB4aHIub25sb2FkID0gKCkgPT4gcmVkaXJlY3QoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KS5saW5rLmRlc3RpbmF0aW9uX3VybCk7CiAgICAgIHhoci5vcGVuKCJHRVQiLCAiaHR0cHM6Ly9ic3RsYXIuY29tL2FwaS9saW5rP3VybD0iICsgbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKDEpLCB0cnVlKTsKICAgICAgeGhyLnNlbmQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC96dWJhdGVjbm8uY29tLywgZnVuY3Rpb24oKSB7RW5hYmxlUkNGKCk7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbWRuY2FwdGNoYScpKSB7CiAgICAgICAgbGV0IHpidCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoemJ0KTsKICAgICAgICAgICAgY2xpY2soJyNsaW5rMXMtc25wMScpO319LCAxICogMTAwMCk7fSBlbHNlIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnI2xpbmsxcy1mb3JtJywgMyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dvb3Nlb3Rvb2xzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHsKICAgICAgICBsZXQgd3N0ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh3c3QpOwogICAgICAgICAgICBjbGljaygnZGl2IGZvcm0gYnV0dG9uJyk7fX0sIDUwMCk7fSBlbHNlIHsKICAgICAgICBDbGlja0lmRXhpc3RzKCdkaXYgZm9ybSBidXR0b24nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZXJpby5pbi8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCJpbnB1dFtuYW1lPSdtZXRob2RfZnJlZSddIiwgMik7CiAgICAgIGxldCBmciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGZyKTsKICAgICAgICAgIGNsaWNrKCcjZG93bmxvYWRidG4nKTt9fSwgMSAqIDEwMDApOwogICAgICB3YWl0Rm9yRWxtKCcjY2FuYmUnLCBmbHIgPT4gcmVkaXJlY3QoZmxyLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY2xpY2tudXBsb2FkLnRvfGNsaWNrbnVwbG9hZC5yZWR8Y2xpY2tudXBsb2FkLmNsaWNrLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjbWV0aG9kX2ZyZWUnLCAyKTsKICAgICAgd2FpdEZvckVsbSgnI2Rvd25sb2FkYnRuJywgY251ID0+IHJlZGlyZWN0KHN0ckJldHdlZW4oY251Lm9uY2xpY2sudG9TdHJpbmcoKSwgYHdpbmRvdy5vcGVuKCdgLCBgJylgKSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fkd2VydHkuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBhZHcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChhZHcpOwogICAgICAgICAgY2xpY2soJyNoaWRkZW5fYnRuJyk7fX0sIDUwMCk7CiAgICAgIHdhaXRGb3JFbG0oJyNoaWRkZW5fYnRuJywgYWR3MiA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGFkdzIub25jbGljay50b1N0cmluZygpLCBgd2luZG93Lm9wZW4oJ2AsIGAnLCAnX2JsYW5rJylgKSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dlYmhvc3Rpbmdwb3N0LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgd2ViaCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwod2ViaCk7CiAgICAgICAgICBjbGljaygnI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsnKTt9fSwgNTAwKTsKICAgICAgd2FpdEZvckVsbSgnYSNzdXJsLmJ0bi5idG4tc20ubS0yLmJ0bi1zdWNjZXNzJywgZmNjID0+IHJlZGlyZWN0KGZjYy5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZGlhZmlyZS5jb20vLCBmdW5jdGlvbigpIHt2YXIgYmFzczsKICAgICAgdmFyIG1kID0gZnVuY3Rpb24gY2xvc2VXaW5kb3dzKCkge3dpbmRvdy5jbG9zZSgpO2NsZWFySW50ZXJ2YWwoYmFzcyk7fTsKICAgICAgdmFyIG1mID0gYnAoJy5kb3dubG9hZF9saW5rIC5pbnB1dCcpLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICBjb25zb2xlLmxvZyhtZik7CiAgICAgIGxvY2F0aW9uLnJlcGxhY2UobWYpOwogICAgICBiYXNzID0gc2V0SW50ZXJ2YWwobWQsIDEwMDAgKiA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2RlYmFjYS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNyZWNhcHRjaGEtZWxlbWVudCcpKSB7CiAgICAgICAgbGV0IG1iID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHsKICAgICAgICAgICAgY2xpY2soJy5idG4tc3VjY2Vzcy5idG4nKTt9fSwgNTAwKTt9IGVsc2UgewogICAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4nLCAyKTsKICAgICAgICBDbGlja0lmRXhpc3RzKCdkaXYgPiBkaXYgPiBidXR0b24nLCA3KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcGZvcmV4Lm9ubGluZS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHsKICAgICAgICBsZXQgc2ZvID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChzZm8pOwogICAgICAgICAgICBjbGljaygnI3N1Ym1pdEJ0bicpO319LCA1MDApO30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnLnN1Ym1pdEJ0bicsIDIpOwogICAgICAgIENsaWNrSWZFeGlzdHMoJyNnb19kJywgMywgJ3NldEludGVydmFsJyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Blcm5haHN1a3Nlcy5jb218YW91dG9xdy54eXovLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7CiAgICAgICAgbGV0IHBzID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChwcyk7CiAgICAgICAgICAgIGNsaWNrKCcjYWxmX2NvbnRpbnVlX2NhcHRjaGEnKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnI2FsZl9jb250aW51ZScsIDMsICdzZXRJbnRlcnZhbCcpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jYXNoZWFybi5jY3xiaXRsaW5rcy5wdy8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7CiAgICAgICAgbGV0IGNibCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoY2JsKTsKICAgICAgICAgICAgY2xpY2soJyNidCcpO319LCAxICogMTAwMCk7fSBlbHNlIHsKICAgICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24jY3MtYnRuJywgMywgJ3NldEludGVydmFsJyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FsdGVjaGVuLmNvbXxlbnR1dGVzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSkgewogICAgICAgIGxldCBhbGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGFsZSk7CiAgICAgICAgICAgIGNsaWNrKCcjY3MtYnRuJyk7fX0sIDEgKiAxMDAwKTt9IGVsc2UgewogICAgICAgIENsaWNrSWZFeGlzdHMoJ2J1dHRvbiNjcy1idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaGl0ZmlsZS5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IGhmID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoaGYpOwogICAgICAgICAgY2xpY2soJyNzdWJtaXQnKTt9fSwgMSAqIDEwMDApOwogICAgICB3YWl0Rm9yRWxtKCdhLmJ0bi1ncmV5Lm5vcGF5LWJ0bicsIGhmbCA9PiByZWRpcmVjdChoZmwuaHJlZiwgZmFsc2UpKTsKICAgICAgd2FpdEZvckVsbSgnI3BvcHVuZGVyMicsIGhmbDIgPT4gcmVkaXJlY3QoaGZsMi5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fwa21vZHkuZnVuLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjZG93bmxvYWQnKSkgewogICAgICAgIHdhaXRGb3JFbG0oJy53cC1ibG9jay1idXR0b24gPiBhJywgYW1vID0+IHJlZGlyZWN0KGFtby5ocmVmLCBmYWxzZSkpOwogICAgICB9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJy53cC1ibG9jay10YWJsZScpKSB7CiAgICAgICAgd2FpdEZvckVsbSgnZGl2LndwLWJsb2NrLWJ1dHRvbnMgPiBkaXYgPiBhJywgYW1mID0+IHJlZGlyZWN0KGFtZi5ocmVmLCBmYWxzZSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mcmVldHJ4LmZ1bi8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHsKICAgICAgICBsZXQgZnR4ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChmdHgpOwogICAgICAgICAgICBjbGljaygiaW5wdXRbaWRePSdhYmMnXSIpO319LCA1MDApO30gZWxzZSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBjbGljaygiaW5wdXRbaWRePSdhYmMnXSIpO30sIDUgKiAxMDAwKTsKICAgICAgICBDbGlja0lmRXhpc3RzKCcjc3ViYnV0dCcsIDUpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zb2NpYWx3b2x2ZXouY29tLywgKCkgPT4gewogICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiByZWRpcmVjdChKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLmxpbmsudXJsKTsKICAgICAgeGhyLm9wZW4oIkdFVCIsICJodHRwczovL3VzLWNlbnRyYWwxLXNvY2lhbC1pbmZyYS1wcm9kLmNsb3VkZnVuY3Rpb25zLm5ldC9saW5rc1NlcnZpY2UvbGluay9ndWlkLyIgKyBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoNyksIHRydWUpOwogICAgICB4aHIuc2VuZCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21vYmkyYy5jb218bmV3Zm9yZXgub25saW5lfGhlYWx0aHk0cGVwb2xlLmNvbXx3b3JsZC10cmlwcy5uZXR8Zm9yZXgtZ29sZC5uZXR8aGVhbGRhZC5jb218d29ybGQyb3VyLmNvbXxvdGVjaG5vLm5ldHxnYW1hbGstc2VoZXRrLmNvbXxtb2JpdGFhay5jb218Zm9yZXhpdC5vbmxpbmV8Ymx1ZXRlY2huby5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLnN1Ym1pdEJ0bicsIDMpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZ29fZCcsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL295ZGlzay5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmZyZWUtZWxlbWVudCcsIDIpOwogICAgICB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc3VjY2Vzcy53LTEwMC5weS0zJywgb2QgPT4gcmVkaXJlY3Qob2QuaHJlZiwgZmFsc2UpKTsKICAgICAgbGV0IG95ZCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKG95ZCk7CiAgICAgICAgICBjbGljaygnYnV0dG9uLmJ0bi5idG4tc20uYnRuLXByaW1hcnkudGV4dC1jZW50ZXInKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3R1cmJvYml0Lm5ldC8sICgpID0+IHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyN0dXJiby10YWJsZScpKSB7CiAgICAgICAgbGV0IHRiID0gYnAoJyNub3BheS1idG4nKS5ocmVmOwogICAgICAgIHJlZGlyZWN0KHRiLCBmYWxzZSk7fQogICAgICBsZXQgdGJiID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwodGJiKTsKICAgICAgICAgIGNsaWNrKCcjc3VibWl0Jyk7fX0sIDUwMCk7CiAgICAgIHdhaXRGb3JFbG0oJyNmcmVlLWRvd25sb2FkLWZpbGUtbGluaycsIHR1ciA9PiByZWRpcmVjdCh0dXIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mYXVjZXQud29ya3x3aWxkYmxvZy5tZXxibG9nZ2luZ2xhc3MuY29tfGFyYWh0ZWtuby5jb218bW9wYWhlYWx0aC5jb218d2Vsb3ZlY3J5cHRvLnh5enxqaW90ZWNoLm5ldHxjcnlwdG80dHVuLmNvbXxhZHNob3J0dXJsLmNvbXxkaWdpdGFsbmF6Lm5ldHxhcGt1cGxvYWQuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1uZXd3cHNhZmVsaW5rXSIpOwogICAgICByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZWwudmFsdWUpKS5saW5rcik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYW5oZGVwMjQuY29tfG5ndXllbnZhbmJhby5jb218eGVtc3BvcnQuY29tfGJ5Ym9lLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHsKICAgICAgICBsZXQgYW5oID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChhbmgpOwogICAgICAgICAgICBjbGljaygnI2xpbmsxcy1jYXB0Y2hhJyk7fX0sIDEgKiAxMDAwKTt9IGVsc2UgewogICAgICAgIENsaWNrSWZFeGlzdHMoJyNsaW5rMXMnLCA0LCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgICBDbGlja0lmRXhpc3RzKCcjYnRuNicsIDMpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90cmFmZmljMXMuY29tLywgKCkgPT4gewogICAgICBsZXQgeCA9ICcuYmxvZy1jb250ZW50ID4gcDpudGgtY2hpbGQoNCkgPiBzdHJvbmc6bnRoLWNoaWxkKDEpJzsKICAgICAgaWYgKGJwKHgpICYmIGJwKHgpLmlubmVySFRNTC5pbmNsdWRlcygnOi8vJykpIHsKICAgICAgICBsZXQgaSA9IHN0ckJldHdlZW4oYnAoeCkuaW5uZXJIVE1MLCAnJyk7CiAgICAgICAgbGV0IHMgPSBzdHJCZXR3ZWVuKGksICc6Ly8nLCAnICcpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYGh0dHBzOi8vJHtzfT94cmVmPWh0dHBzOi8vZ29vZ2xlLmNvbS8mc2w9JHtsb2NhdGlvbi5ocmVmfWApO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93ZWIxcy5jb3x3ZWIxcy5pbmZvfGFwcC5jb3ZlbWFya2V0cy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5jb2wteHhsLTknKSkgewogICAgICAgIENsaWNrSWZFeGlzdHMoJyNzdWJtaXQnLCAzLCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgICBsZXQgd2ViaSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh3ZWJpKTsKICAgICAgICAgICAgY2xpY2soJy5mdy1ib2xkLmJ0bi1kYW5nZXIuYnRuLWxnLmJ0bicpO319LCA1MDApO30gZWxzZSB7CiAgICAgICAgU3VibWl0SWZFeGlzdHMoJ2Zvcm0udGV4dC1jZW50ZXInLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3VhdXJsLmNvbS8sIGZ1bmN0aW9uKCkge3BhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBsZXQgc3UgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHticCgnI2NvbW1lbnRfZm9ybScpLnJlbW92ZUF0dHJpYnV0ZSgndGFyZ2V0Jyk7CiAgICAgICAgICBjbGVhckludGVydmFsKHN1KTsKICAgICAgICAgIENsaWNrSWZFeGlzdHMoJyNidG4tY2FwY2hhID4gLmItYicsIDEpO319LCA1MDApOwogICAgICBDbGlja0lmRXhpc3RzKCcjYnRuID4gYnV0dG9uJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3RmbHkuY2N8c3RmbHkueHl6fGJsb2didXgubmV0fGJsb2dlc3F1ZS5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7CiAgICAgICAgbGV0IHN0ZiA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc3RmKTsKICAgICAgICAgICAgY2xpY2soJy5mb3JtLXNlbmQubS0yLmJ0bi1jYXB0Y2hhLmJ0bi1vdXRsaW5lLXByaW1hcnkuYnRuJyk7fX0sIDUwMCk7fSBlbHNlIHsKICAgICAgICBDbGlja0lmRXhpc3RzKCcuZm9ybS1zZW5kLm0tMi5idG4tY2FwdGNoYS5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb2lucy10b3duLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjY2xhaW1Db2lucyA+IGJ1dHRvbltkYXRhLWJzLXRvZ2dsZT0ibW9kYWwiXScsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCdhW2hyZWYqPSJwbGF5LnBocD8iXScsIDIpOwogICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIuaW5jbHVkZXMoJy8/Y2FzaGFuZG89JykpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGBodHRwczovL2NvaW5zLXRvd24uY29tL3BsYXkucGhwP2dhbWU9MjA5NjZgKTsKICAgICAgfSBlbHNlIGlmIChlbGVtZW50RXhpc3RzKCcjY2xhaW1Db2lucycpKSB7CiAgICAgICAgYnAoJyNjbGFpbUNvaW5zJykuc3R5bGUuZGlzcGxheSA9ICcnO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90cmFuZ2NodS5uZXdzfGRvd25maWxlLnNpdGV8dGVjaGFjb2RlLmNvbXxhem1hdGguaW5mby8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgd2FpdEZvckVsbSgnZGl2I3Njcm9sbC5kaXNwbGF5IGEnLCBtZWcgPT4gcmVkaXJlY3QobWVnLmhyZWYsIGZhbHNlKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2Rpdi5kaXNwbGF5IGEnLCBtZWdhID0+IHJlZGlyZWN0KG1lZ2EuaHJlZiwgZmFsc2UpKTsKICAgICAgbGV0IG1nZiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwobWdmKTsKICAgICAgICAgIENsaWNrSWZFeGlzdHMoJyNwcm9jZWVkJywgMSk7fX0sIDUwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYml0eml0ZS5jb218bGluay5nb3RvLmNvbS5ucHxhcHBrYW1vZHMuY29tfG1peHJvb3Rtb2RzLmNvbXxiYW5rdmFjZW5jeS5jb218bWVhbGNvbGQuY29tfG90b21pLWdhbWVzLmNvbS8sICgpID0+IHsKICAgICAgd2FpdEZvckVsbSgnZGl2I3dwc2FmZS1saW5rIGEnLCBiaXR6ID0+IHJlZGlyZWN0KGJpdHouaHJlZiwgZmFsc2UpKTsKICAgICAgd2FpdEZvckVsbSgnI3dwc2FmZS1saW5rIGlucHV0JywgYml0MiA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGJpdDIub25jbGljay50b1N0cmluZygpLCBgd2luZG93Lm9wZW4oJ2AsIGAnLCAnX2JsYW5rJylgKSwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oYW1yb2xla2guY29tfG5pc2hhbmtoYXRyaS5jb20ubnB8bmlzaGFua2hhdHJpLnh5enxuZXZlcmRpbXMuY29tfGJpdDRtZS5pbmZvLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNteS1idG4nLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3dwc2FmZS1saW5rID4gLmJ0bi1zZWNvbmRhcnkuYnRuJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJyNwcm8tbGluaycsIG5oayA9PiByZWRpcmVjdChuaGsuaHJlZiwgZmFsc2UpKTsKICAgICAgd2FpdEZvckVsbSgnI3dwc2FmZS1saW5rIGEnLCBocmwgPT4gcmVkaXJlY3Qoc3RyQmV0d2Vlbihocmwub25jbGljay50b1N0cmluZygpLCBgd2luZG93Lm9wZW4oJ2AsIGAnLCAnX3NlbGYnKWApLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RyaXZlLmdvb2dsZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIGRnID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgtMilbMF07CiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvJykpIHsKICAgICAgICByZWRpcmVjdChgaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL3UvMC91Yz9pZD0ke2RnfSZleHBvcnQ9ZG93bmxvYWRgKS5yZXBsYWNlKCc8YnIgLz4nLCAnJyk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RyaXZlLmdvb2dsZS5jb20vdS8wL3VjP2lkJykpIHsKICAgICAgICBTdWJtaXRJZkV4aXN0cygnI2Rvd25sb2FkLWZvcm0nLCAxKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC80c2hhcmVkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmQzdG9wVGl0bGUnKSkgewogICAgICAgICQoJy5wcmVtaXVtJykudGV4dCgnSU1QT1JUQU5UIFRSSUNLUyBCeSBCbG9nZ2VyUGVtdWxhIDogVXBkYXRlZCBGZWIgMjAyMywgTG9vayBsaWtlIG5vdyBub3Qgd29ya2luZyAsc28gU29ycnkgYXQgVGhpcyBUaW1lIGkgRG9udCBoYXZlIElkZWEgdG8gZml4IGl0IC4gUmVnYXJkcy4uLicpO30KICAgICAgQ2xpY2tJZkV4aXN0cygnLmpzRG93bmxvYWRCdXR0b24nLCAyKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5mcmVlRG93bmxvYWRCdXR0b24nKSkgewogICAgICAgIFN1Ym1pdElmRXhpc3RzKCJmb3JtW25hbWVePSdyZWRpcmVjdFRvRDNGb3JtJ10iLCAzKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcnRpdC5wdy8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmJnLWxpZ2h0LmNvbnRhaW5lcicpKSB7CiAgICAgICAgJCgnLnRleHQtY2VudGVyLnRleHQtbXV0ZWQnKS50ZXh0KCdJTVBPUlRBTlQgTm90ZSBCeSBCbG9nZ2VyUGVtdWxhIDogUGxlYXNlIFNvbHZlIHRoZSBIY2FwdGNoYSBmb3IgQXV0b21hdGljYWxseSAsIERvbnQgU29sdmUgdGhlIFNvbHZlbWVkaWEgLiBSZWdhcmRzLi4uJyk7fQogICAgICBDbGlja0lmRXhpc3RzKCcucHVsc2UuYnRuLXByaW1hcnkuYnRuJywgMyk7CiAgICAgIGxldCBzb3J0aSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc29ydGkpOwogICAgICAgICAgY2xpY2soJyNidG4yJyk7fX0sIDUwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ29nb2RsLmNvbS8sICgpID0+IHsKICAgICAgd2FpdEZvckVsbSgnYS5jcnVtaW5hLWJ1dHRvbi5idXR0b24tLWdyZWVuLmJ1dHRvbi0tYm9yZGVyZWQuYnV0dG9uLS1tLnctMTAwJywgZ29kbCA9PiByZWRpcmVjdChnb2RsLmhyZWYsIGZhbHNlKSk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy53LTEwMC5idXR0b24tLW0uYnV0dG9uLS1ib3JkZXJlZC5idXR0b24tLWdyZWVuLmNydW1pbmEtYnV0dG9uJywgNSwgJ3NldEludGVydmFsJyk7CiAgICAgIGxldCBnb2dvID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoZ29nbyk7CiAgICAgICAgICBjbGljaygnLnc1MC5idXR0b24tLW0uYnV0dG9uLS1ib3JkZXJlZC5idXR0b24tLWdyZWVuLmNydW1pbmEtYnV0dG9uJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kdXRjaHljb3JwLnNwYWNlfGR1dGNoeWNvcnAub3ZofGtpaXcuaWN1fGd0bGluay5jb3xiZWluZ3Rlay5jb218c2FmZWxpbmtkdWl0LmNvbXxzaW5vbmltb3MuZGV8d29yZGNvdW50ZXIuaWN1fHphZ2wuaW58c2V1bGluay5kaWdpdGFsfGFkc2VuLmxpbmt8Zmx5YWQudmlwfGFudG9uaW1vcy5kZXxza2lwYWRzLmNsaWNrfGxpaW5rYXQuY29tfHNldWxpbmsub25saW5lLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZ3JlY2FwdGNoYS1iYWRnZScpIHx8IGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhU2hvcnRsaW5rJykpIHsKICAgICAgICB2YXIgdGlja2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICB0cnkge2NsZWFySW50ZXJ2YWwodGlja2VyKTsKICAgICAgICAgICAgd2luZG93LmdyZWNhcHRjaGEuZXhlY3V0ZSgpO30gY2F0Y2ggKGUpIHt9fSwgMzAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3J0LmNyb2NsaXgubWV8YWR6N3Nob3J0LnNwYWNlLywgZnVuY3Rpb24oKSB7CiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmICgkKCIjbGluayIpLmxlbmd0aCA+IDApIHtmaXJlTW91c2VFdmVudHMoIiNsaW5rIik7fX0sIDUwMCk7CiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlmICgkKCJpbnB1dCNjb250aW51ZSIpLmxlbmd0aCA+IDApIHtmaXJlTW91c2VFdmVudHMoImlucHV0I2NvbnRpbnVlIik7fQogICAgICAgIGlmICgkKCJhI2NvbnRpbnVlLmJ1dHRvbiIpLmxlbmd0aCA+IDApIHtmaXJlTW91c2VFdmVudHMoImEjY29udGludWUuYnV0dG9uIik7fX0sIDkwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIGlmICgkKCIjYnRuLW1haW4iKS5sZW5ndGggPCAwKSByZXR1cm47ZmlyZU1vdXNlRXZlbnRzKCIjYnRuLW1haW4iKTt9LCA1MDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZHNobmsuY29tfGFkc2hyaW5rLml0LywgKCkgPT4gewogICAgICBsZXQgYWRzaCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAodHlwZW9mIF9zaGFyZWREYXRhID09ICJvYmplY3QiICYmIDAgaW4gX3NoYXJlZERhdGEgJiYgImRlc3RpbmF0aW9uIiBpbiBfc2hhcmVkRGF0YVswXSkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChhZHNoKTsKICAgICAgICAgIGRvY3VtZW50LndyaXRlKF9zaGFyZWREYXRhWzBdLmRlc3RpbmF0aW9uKTsKICAgICAgICAgIHJlZGlyZWN0KGRvY3VtZW50LmJvZHkudGV4dENvbnRlbnQpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9fX3JlYWN0anNEICE9ICJ1bmRlZmluZWQiICYmIHR5cGVvZiB3aW5kb3dbX19fcmVhY3Rqc0Qub10gPT0gIm9iamVjdCIgJiYgdHlwZW9mIHdpbmRvd1tfX19yZWFjdGpzRC5vXS5kZXN0ID09ICJzdHJpbmciKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGFkc2gpOwogICAgICAgICAgcmVkaXJlY3Qod2luZG93W19fX3JlYWN0anNELm9dLmRlc3QpO319KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hY29ydGFsaW5rLm1lLywgKCkgPT4gewogICAgICBmdW5jdGlvbiBhY29yKHN0cikgewogICAgICAgIGxldCBpbnAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eic7CiAgICAgICAgbGV0IG91dCA9ICdOT1BRUlNUVVZXWFlaQUJDREVGR0hJSktMTW5vcHFyc3R1dnd4eXphYmNkZWZnaGlqa2xtJzsKICAgICAgICBsZXQgaW5kID0geCA9PiBpbnAuaW5kZXhPZih4KTsKICAgICAgICBsZXQgdHJhbnNsYXRlID0geCA9PiBpbmQoeCkgPiAtMSA/IG91dFtpbmQoeCldIDogeDsKICAgICAgICByZXR1cm4gc3RyLnNwbGl0KCcnKS5tYXAodHJhbnNsYXRlKS5qb2luKCcnKTt9CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgKCkgPT4gewogICAgICAgIHdpbmRvdy5vcGVuID0gKGFjb3J0YSkgPT4gewogICAgICAgICAgcmVkaXJlY3QoYWNvcihhdG9iKGFjb3J0YS5zdWJzdHJpbmcoMzApKSkpO307CiAgICAgICAgR2V0TGluaygpO30pO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dvcmtpbmsuY2xpY2svLCBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgbGV0IHV1aWQgPSBCcFBhcmFtcy5nZXQoJ3QnKTsKICAgICAgZmV0Y2goYGh0dHBzOi8vcmVkaXJlY3QtYXBpLndvcmsuaW5rL2V4dGVybmFsUG9wdXBzLyR7dXVpZH0vcGFnZU9wZW5lZGApOwogICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTEgKiAxMDAwKSk7CiAgICAgIHZhciB7ZGVzdGluYXRpb24KICAgICAgfSA9IGF3YWl0IGZldGNoKGBodHRwczovL3JlZGlyZWN0LWFwaS53b3JrLmluay9leHRlcm5hbFBvcHVwcy8ke3V1aWR9L2Rlc3RpbmF0aW9uYCkudGhlbihyID0+IHIuanNvbigpKTsKICAgICAgdmFyIHVybCA9IG5ldyBVUkwoZGVzdGluYXRpb24pOwogICAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ2R1ZicpKSB7cmVkaXJlY3QoYXRvYih1cmwuc2VhcmNoUGFyYW1zLmdldCgnZHVmJykuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKSwgZmFsc2UpKTt9CiAgICAgIHJlZGlyZWN0KGRlc3RpbmF0aW9uKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sZWF2ZWFkdmljZS5jb218ZXNvcHJlc3MuY29tfGhvbWVhaXJxdWFsaXR5Lm9yZ3xtb25pbWFnLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLWdyZWVuJywgMSk7CiAgICAgIGNvbnN0IHQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoYnAoJy5idG4tZ3JlZW4nKS5pbm5lclRleHQgPT09ICdHZXQgTGluaycpIHsKICAgICAgICAgIGJwKCcuYnRuLWdyZWVuJykuY2xpY2soKTsKICAgICAgICAgIGJwKCcuYnRuLWdyZWVuW2lkXScpLmNsaWNrKCk7CiAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gImF0dHJpYnV0ZXMiKSB7YnAoJ2FbcmVsPW5vZm9sbG93XScpLmNsaWNrKCk7fX0pO30pOwogICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW3JlbD1ub2ZvbGxvd10nKSwge2F0dHJpYnV0ZXM6IHRydWV9KTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodCk7fX0sIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Zpa2FzaG1ld2FkYS5jb218dmlkZW9zbHlyaWNzLmNvbXxjcmF6eXNvbmdseXJpY3MuY29tfHZpZGVvbHlyaWNzLmlufG5ld3NoYXJzaC5jb218dHJ4a2luZy54eXp8Y3JhenlibG9nLmlufGdldGRhc2hjb2luLmlvLywgKCkgPT4gewogICAgICBFbmFibGVSQ0YoKTtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgd2FpdEZvckVsbSgnLnB5LTIuYmctYmx1ZS02MDAnLCB0QnRuID0+IHRCdG4uY2xpY2soKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2Zvcm06bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMyknLCB2QnRuID0+IHZCdG4uY2xpY2soKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2J1dHRvbi5weS0yOm50aC1jaGlsZCgzKScsIGJCdG4gPT4gYkJ0bi5jbGljaygpKTsKICAgICAgd2FpdEZvckVsbSgnZGl2ID4gYS5weS0yLmJnLWJsdWUtNjAwJywgY3JiID0+IHJlZGlyZWN0KGNyYi5ocmVmLCBmYWxzZSkpOwogICAgICBsZXQgY3JheiA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoZWxlbWVudEV4aXN0cygnYnV0dG9uLnB5LTInKSkge2NsZWFySW50ZXJ2YWwoY3Jheik7CiAgICAgICAgICBTdWJtaXRJZkV4aXN0cygnZGl2LnJvdW5kZWQgPiBkaXY6bnRoLWNoaWxkKDkpID4gZm9ybTpudGgtY2hpbGQoMSknLCAyKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saWZlZXplZS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCcuZ2V0LWxpbmsnLCBsaWZ6ID0+IHJlZGlyZWN0KGxpZnouaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sb2xpbmV6LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ3AjdXJsIGEnLCBsb2wgPT4gcmVkaXJlY3QobG9sLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbGUtdXBsb2FkLmluLywgKCkgPT4gd2FpdEZvckVsbSgnI2dldGxpbmsnLCBmdWkgPT4gcmVkaXJlY3QoZnVpLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmtzbHkuY28vLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYuY29sLW1kLTEyIGEnLCBsc2wgPT4gcmVkaXJlY3QobHNsLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nhc2hhbmRvLm1lLywgKCkgPT4gd2FpdEZvckVsbSgnI2dvQ29pbnNUb3duJywgY2FzaCA9PiByZWRpcmVjdChjYXNoLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fwa2FkbWluLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2Rpdi50ZXh0LnRleHQtY2VudGVyIGEnLCBhcGsgPT4gcmVkaXJlY3QoYXBrLmhyZWYpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZW1vb24uc3gvLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYuZG93bmxvYWQyIGEuYnV0dG9uJywgZm0gPT4gcmVkaXJlY3QoZm0uaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZm9yZXhydzcuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnY2VudGVyI21vbGllbjEub3RvIGEnLCBwcm8gPT4gcmVkaXJlY3QocHJvLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nla2lwLnNpdGUvLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI2FHby5iYWRnZS5iZy1zdWNjZXNzJywgY2VrID0+IHJlZGlyZWN0KGNlay5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNobGVldHMueHl6LywgKCkgPT4gd2FpdEZvckVsbSgnI3RwLXNucDIgPiBjZW50ZXIgPiBhJywgdGxlID0+IHJlZGlyZWN0KHRsZS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9uZXdzdHVyYm92aWQuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnI3N0YXJ0LWRvd25sb2FkID4gYScsIG50diA9PiByZWRpcmVjdChudHYuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWlycm9yZWQudG8vLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYuY29sLXNtLmNlbnRlcmVkLmV4dHJhLXRvcCBhJywgbWlyID0+IHJlZGlyZWN0KG1pci5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC92aXJhbHhucy5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYucGFyYXMtZGV2LXRvcC50ZXh0LWNlbnRlciBhJywgdmlyID0+IHJlZGlyZWN0KHZpci5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC84dG0ubmV0LywgKCkgPT4gd2FpdEZvckVsbSgnYS5idG4uYnRuLXNlY29uZGFyeS5idG4tYmxvY2sucmVkaXJlY3QnLCB0bSA9PiByZWRpcmVjdCh0bS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jcG1saW5rLm5ldC8sICgpID0+IHdhaXRGb3JFbG0oJ2EjYnRuLW1haW4uYnRuLmJ0bi13YXJuaW5nLmJ0bi1sZycsIGNwbSA9PiByZWRpcmVjdChjcG0uaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbm9vZGxlbWFnYXppbmUuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYSNkb3dubG9hZExpbmsuZG93bmxvYWRCdG4nLCBtYWcgPT4gcmVkaXJlY3QobWFnLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jlc3Rmb250cy5wcm8vLCAoKSA9PiB3YWl0Rm9yRWxtKCcuZG93bmxvYWQtZm9udC1idXR0b24gPiBhOm50aC1jaGlsZCgxKScsIHBybyA9PiByZWRpcmVjdChwcm8uaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9odW9uZ2RhbnZ1b3RsaW5rMTIzLmJsb2dzcG90LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2EuaW4tY2VsbC1saW5rJywgaGR2ID0+IHJlZGlyZWN0KGhkdi5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibHVlbWVkaWFmaWxlLnNic3xibHVlbWVkaWFmaWxlLnNpdGUvLCAoKSA9PiB3YWl0Rm9yRWxtKCdpbnB1dCNudXRbc3JjXScsIGJsdW0gPT4gYmx1bS5wYXJlbnROb2RlLnN1Ym1pdCgpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvemlwcHlzaGEucmUvLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI2Rvd25sb2FkLXVybC5idG4uYnRuLXByaW1hcnkuYnRuLWJsb2NrJywgemlwID0+IHJlZGlyZWN0KHppcC5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tYXh1cmx6LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1zdWNjZXNzLmJ0bi1sZy5mbGlwLmFuaW1hdGVkJywgbWF4dSA9PiByZWRpcmVjdChtYXh1LmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dkdG90LmNmZC8sICgpID0+IHdhaXRGb3JFbG0oJyNkaXJkb3duJywgZ2R0ID0+IHJlZGlyZWN0KHN0ckJldHdlZW4oZ2R0Lm9uY2xpY2sudG9TdHJpbmcoKSwgYG15RGwoJ2AsIGAnKWApKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbGVzLmZtLywgKCkgPT4gd2FpdEZvckVsbSgnI2hlYWRfZG93bmxvYWRfX2FsbC1maWxlcyA+IGRpdiA+IGRpdiA+IGE6bnRoLWNoaWxkKDEpJywgZmxCdG4gPT4gZmxCdG4uY2xpY2soKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NhbWEtcHJvLmNvbXxtaWtsNGZvcmV4LmNvbXxkci1mb3JleC5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI3N1Ym1pdEJ0bicsIHNtcGIgPT4gcmVkaXJlY3Qoc21wYi5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2h0YXdhYS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc3VjY2Vzcy5idG4tbGcuZ2V0LWxpbmsuZW5hYmxlZCcsIG1vaHQgPT4gcmVkaXJlY3QobW9odC5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb2luc3Jldi5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCJmb3JtW2lkXj0ncmV2bHknXSA+IGlucHV0IiwgY3NyID0+IHJlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihjc3IudmFsdWUpKS5saW5rciwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb2ZmcmNtcy54eXp8a29vb3JhMzY1Lm9ubGluZXx0b3VyaXNtdHJhdmVsczQuc2JzfDV0bC5jby8sICgpID0+IHdhaXRGb3JFbG0oJ2EjcHJvY2VlZCcsIG9mZnIgPT4gcmVkaXJlY3Qob2Zmci5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aGVibG9nZ2Vyc3BvaW50LmlufGV6ZXZpcmFsLmNvbXxmaXhuby5pbnx0ZWNobm9jdWJlcy5pbi8sICgpID0+IHdhaXRGb3JFbG0oJyN3cHNhZmUtc25wID4gYScsIHRicyA9PiByZWRpcmVjdCh0YnMuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2x3YXRjaC5jby8sICgpID0+IHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1saW5rLmJ0bi1wcmltYXJ5LmJ0bi1sZy50ZXh0LXdoaXRlLnRleHQtZGVjb3JhdGlvbi1ub25lLm0tMScsIHNsdyA9PiByZWRpcmVjdChzbHcuaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kb29kam9iLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2EubGlua3kuYnV0dG9ucGFuZWwuYnV0dG9ucGFuZWwtYmxvY2suYnRuLWxnLmdldC1saW5rLmRpc2FibGVkJywgZG9vID0+IHJlZGlyZWN0KGRvby5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC94b25uZXdzLm5ldHx0b2lsYXF1YW50cmkuY29tfHNoYXJlNHUubWVufGNhbW5hbmd2YXkuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnZGl2I3RyYWZmaWNfcmVzdWx0IGEnLCB4b24gPT4gcmVkaXJlY3QoeG9uLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3lvc2l0ZS5uZXQvLCAoKSA9PiB3YWl0Rm9yRWxtKCcub3B0aW9uc19sYXlvdXRfY29udGFpbmVyID4gY2VudGVyOm50aC1jaGlsZCgxNykgPiBhOm50aC1jaGlsZCgxKScsIHlvcyA9PiByZWRpcmVjdCh5b3MuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGlzaGV5ZS5jb218bGl0ZWNvaW4uaG9zdC8sICgpID0+IHdhaXRGb3JFbG0oJyN3cHNhZmVsaW5rLWxhbmRpbmcgPiBpbnB1dCcsIGRpcyA9PiByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZGlzLnZhbHVlKSkubGlua3IsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jvb2tzem9uZS5pbnxmaW5veHBlcnQuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnI3dwc2FmZWdlbmVyYXRlID4gY2VudGVyOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpJywgZmluID0+IHJlZGlyZWN0KGZpbi5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ib29zdC5pbmsvLCAoKSA9PiBmZXRjaChsb2NhdGlvbi5ocmVmKS50aGVuKGJvID0+IGJvLnRleHQoKSkudGhlbihodG1sID0+IHJlZGlyZWN0KGF0b2IoaHRtbC5zcGxpdCgnYnVmcHN2ZGhtanlidmdmbmNxZmE9IicpWzFdLnNwbGl0KCciJylbMF0pKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2cudGV4dHBhZ2UueHl6LywgKCkgPT4gd2FpdEZvckVsbSgnI3dwc2FmZS1saW5rMSBhJywgYnQgPT4gcmVkaXJlY3Qoc3RyQmV0d2VlbihidC5vbmNsaWNrLnRvU3RyaW5nKCksIGB3aW5kb3cub3BlbignYCwgYCcsICdfYmxhbmsnKWApLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91ZHJvcC5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCcucmVzcG9uc2l2ZU1vYmlsZU1hcmdpbiA+IGJ1dHRvbjpudGgtY2hpbGQoMSknLCB1ZHIgPT4gcmVkaXJlY3Qoc3RyQmV0d2Vlbih1ZHIub25jbGljay50b1N0cmluZygpLCBgb3BlblVybCgnYCwgYCcpYCksIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nob295b21pLmNvbXxibG9nbWFkby5jb218cG9ydGVyZnVuZXJhbGhvbWVlLmNvbXxzb2Z0d2FyZXNvbHV0aW9uc2hlcmUuY29tfGZyZWV2cHNoZXJlLmNvbXxrcmVkaWxlcmltLmNvbXxpbnN1cmFuY2VsZWFkc2luZm8uY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYS5nZXQtbGluay5kaXNhYmxlZCBhJywgY2hvID0+IHJlZGlyZWN0KGNoby5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rYWx2aWR1ZGVzLmlufHRlY2h3aXRoc2FuaWthbnQuaW58bnVsbGVkbGlzdC5pbmZvfGVhcm5hc2guY29tfG9zY3V0LnNwYWNlfG9zY3V0LmZ1bnxteS1jb2lucy54eXp8ZWFybi1iaXRjb2luLm9ubGluZXxldmVyeS1jcnlwdG8uaW5mby8sICgpID0+IHdhaXRGb3JFbG0oJ2RpdiNnZXRsaW5rYnRuIGNlbnRlciBhJywga2FsdiA9PiByZWRpcmVjdChrYWx2LmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JlYWRpLm9ubGluZXxjZW1wYWthamF5YS5jb218b25saW5ldGVvcmkubXkuaWR8eHRyYWJpdHMuY2xpY2t8b25saW5laW5jb21zLmNvbXxhbGxzb2Z0ZHJpdmVycy5jb218bWJhbnR1bC5teS5pZHxibG9nLnFuaXgubWV8OS1hbmltaWUuY298dHJpYnVuY3J5cHRvLmNvbXxuaXZhcHJvZml0Lnh5enx2aWRlb2NsaXAuaW5mb3xwdW55YW1lcmsudG9wfGx5Y29zbGluay5jb218dGVjaGxlZXRzLnh5enxtb2RkaW5nem9uZS5pbnxjcnlwdG8tZmkubmV0fGNsYWltY3J5cHRvLmNjfG91cmNvaW5jYXNoLnh5enxwb2tldG9vbndvcmxkLmNvbXxzYXBpY2EueHl6fGJpb2luZmx1LmNvbXxzb25pY2J0Yy5jb218aGVhbHRoYmxvb2cueHl6fHB1YmdxdW90ZXMuY29tfG0ubGlua211bWV0Lm9ubGluZXx3ZWI5YWNhZGVteS5jb218c3R1ZHlpcy54eXp8d2ViY29pbi5jb2lucmFpbi5vbmxpbmV8YmljbzguY29tfGJsb2cubW92aWVzLW5lYXItbWUueHl6fGhlYWx0aHlzYW15Lnh5ei8sIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYnlwYXNzbGluayA9IGF0b2IoYGFIJHticCgiI2xhbmRpbmcgW25hbWU9J2dvJ10iKS52YWx1ZS5zcGxpdCgiYUgiKS5zbGljZSgxKS5qb2luKCJhSCIpfWApOwogICAgICByZWRpcmVjdChieXBhc3NsaW5rLCBmYWxzZSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3ZlcnRpc2UuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBsaW5rdmVyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIGxpbmt2ZXIucmVzcG9uc2VUeXBlID0gJ2pzb24nOwogICAgICBsaW5rdmVyLm9wZW4oJ0dFVCcsIGBodHRwczovL2J5cGFzcy5wbS9ieXBhc3MyP3VybD0ke2RvY3VtZW50LmxvY2F0aW9uLmhyZWYuc2xpY2UoMCwtMSl9YCwgITApOwogICAgICBsaW5rdmVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChsaW5rdmVyLnJlYWR5U3RhdGUgPT0gNCAmJiBsaW5rdmVyLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHJlZGlyZWN0KHRoaXMucmVzcG9uc2UuZGVzdGluYXRpb24pO30gZWxzZSBpZiAobGlua3Zlci5zdGF0dXMgPT0gNDIyKSB7CiAgICAgICAgICBhbGVydCgnU29ycnkuLi4gRXJyb3IgQnlwYXNzaW5nICwgSWYgWW91IHNlZSB0aGUgQ2FwdGNoYSAsIFBsZWFzZSBTb2x2ZSBpdCBmaXJzdCB0byBDb250aW51ZSBCeXBhc3MnKTt9fTsKICAgICAgbGlua3Zlci5zZW5kKG51bGwpOwogICAgICBsZXQgbGlua3ZlcnJhdyA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuOwogICAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRhdGEgPT4gewogICAgICAgICAgaWYgKGRhdGEuY3VycmVudFRhcmdldC5yZXNwb25zZVRleHQuaW5jbHVkZXMoJ3Rva2VucycpKSB7CiAgICAgICAgICAgIGxldCByZXNwb25zZSA9IEpTT04ucGFyc2UoZGF0YS5jdXJyZW50VGFyZ2V0LnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIGxldCB0YXJnZXRfdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2Vucy5UQVJHRVQ7CiAgICAgICAgICAgIGxldCB1dCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJYLUxJTktWRVJUSVNFLVVUIik7CiAgICAgICAgICAgIGxldCBsaW5rdmVydGlzZV9saW5rID0gbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXC9bMC05XSQvLCAiIik7CiAgICAgICAgICAgIGZldGNoKGBodHRwczovL3B1Ymxpc2hlci5saW5rdmVydGlzZS5jb20vYXBpL3YxL3JlZGlyZWN0L2xpbmsvc3RhdGljJHtsaW5rdmVydGlzZV9saW5rfT9YLUxpbmt2ZXJ0aXNlLVVUPSR7dXR9YCkudGhlbihyID0+IHIuanNvbigpKS50aGVuKGpzb24gPT4gewogICAgICAgICAgICAgIGlmIChqc29uPy5kYXRhLmxpbmsuaWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGpzb25fYm9keSA9IHsKICAgICAgICAgICAgICAgICAgc2VyaWFsOiBidG9hKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgICAgICAgICAgICAgIHJhbmRvbTogIjY1NDgzMDciLAogICAgICAgICAgICAgICAgICAgIGxpbmtfaWQ6IGpzb24uZGF0YS5saW5rLmlkfSkpLAogICAgICAgICAgICAgICAgICB0b2tlbjogdGFyZ2V0X3Rva2VufTsKICAgICAgICAgICAgICAgIGZldGNoKGBodHRwczovL3B1Ymxpc2hlci5saW5rdmVydGlzZS5jb20vYXBpL3YxL3JlZGlyZWN0L2xpbmske2xpbmt2ZXJ0aXNlX2xpbmt9L3RhcmdldD9YLUxpbmt2ZXJ0aXNlLVVUPSR7dXR9YCwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoanNvbl9ib2R5KSwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICdhcHBsaWNhdGlvbi9qc29uJ30KICAgICAgICAgICAgICAgIH0pLnRoZW4ociA9PiByLmpzb24oKSkudGhlbihqc29uID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKGpzb24/LmRhdGEudGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3QoanNvbi5kYXRhLnRhcmdldCk7fX0pO319KTt9fSk7CiAgICAgICAgbGlua3ZlcnJhdy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO307fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb2tvLnNofGNray5haXxhaWkuc2h8Y2VsaW5rcy5uZXR8dGVyYWZseS5tZXxsaW5rc2Z5LmNvfHRlY2hnZWVrLmRpZ2l0YWx8c2hvcnQuZXhwcmVzc3xjcnlwdG9zaC5wcm98Z29vLnN0fHBsYXlzdG9yZS5wd3x0Zmx5Lmxpbmt8YXItZ29hbC5tZXxzaG9ydHpvbi5jb218YmVhc3QuaW5rfG1pdGx5LnVzfHNob3J0bm93Lnh5enwxeGxpbmsuc2l0ZXx0ZWNoc2FtaXIuY29tfHMyZmx5LmlufGNhc2hhbmRvLm1lfGxpbmthLmNsaWNrfGFkc3kucHd8dGlueWNtZC5jb218dGlueWdvLmNvfHVybHcubmV0fGV4ZWUuYXBwfGV4ZW8uYXBwfHVmYWN3LmNvbXxwbmR4LmxpdmV8bWFrZW1vbmV5d2l0aHVybC5jb218Z2F3Ym5lLmNvbXxzaGFyZW1vZHMuY29tfHdlZXpvLm1lfGFkbmV3cy5tZXx3ZWRvY3J5cHRvLm9ubGluZXxiaXRjb2lud2luY28uY29tfGxpaW5rYXQuY29tfGphbWVlbHRpcHMudXN8c2F0b3NoaS13aW4ueHl6fHRpbnliYy5jb218Y29ydGFseS5jb218ZWFybmJpdGNvaW4uZ3F8Zmx5bGlua3Mub25saW5lfGNsaWNrbGluay5mdW58YnpsaW5rLmN1Lm1hfGlua2lrLmlufGN1dGVhcm4ubmV0fGhhdGVsaW5rLm1lfHZpZXdmci5jb218d2V6LmluZm98Y29pbnNsLmNsaWNrfGxpbmtzLmFwa3N2aXAuY29tfHBheXNraXAub3JnfG15YXJ0aWNhbC54eXp8eGN1dC5saW5rfHp1bXBhLm1lLywgZnVuY3Rpb24oKSB7RW5hYmxlUkNGKCk7CiAgICAgIHBhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykgfHwgZWxlbWVudEV4aXN0cygnI2NhcHRjaGFTaG9ydGxpbmsnKSkge30gZWxzZSB7CiAgICAgICAgU3VibWl0SWZFeGlzdHMoJyNsaW5rLXZpZXcnLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnI2Zvcm0tY29udGludWUnLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnLmNvbC1tZC0gPiBmb3JtJywgMSkgfHwgU3VibWl0SWZFeGlzdHMoJyNuZXh0c3RlcGZvcm0nLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnLnRleHQtY2VudGVyLnJvdyA+IGZvcm0nLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnZGl2LmNvbC1tZC02IGZvcm0nLCAyKSB8fCBTdWJtaXRJZkV4aXN0cygnZGl2LmNvbC1tZC0xMiBmb3JtJywgMikgfHwgU3VibWl0SWZFeGlzdHMoJ2Rpdi50ZXh0LWNlbnRlciBmb3JtJywgMSkgfHwgU3VibWl0SWZFeGlzdHMoJyNzdWJtaXQtZm9ybScsIDEpIHx8IFN1Ym1pdElmRXhpc3RzKCcjYmVmb3JlLWNhcHRjaGEnLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnI3l1aWRlYScsIDEpIHx8IFN1Ym1pdElmRXhpc3RzKCcjZEZvcm0nLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnI2V4Zm9hcnktZm9ybScsIDIpIHx8IFN1Ym1pdElmRXhpc3RzKCcjaGlkZGVuIGZvcm0nLCAxKSB8fCBTdWJtaXRJZkV4aXN0cygnI3N1Ym1pdF9maXJzdF9wYWdlJywgMSkgfHwgU3VibWl0SWZFeGlzdHMoJyN0ZXN0JywgMSkgfHwgU3VibWl0SWZFeGlzdHMoJ2Zvcm0udGV4dC1jZW50ZXInLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBhdXRvUm9sbCA9IGZhbHNlOwogICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9yb2xsLnBocCcpKSB7d2luZG93LnNjcm9sbFRvKDAsIDk5OTkpOwogICAgICAgIGlmICghYnAoJyN0aW1lcicpKSB7c2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkgewogICAgICAgICAgICAgIGlmIChicCgnLmJvb3N0LWJ0bi51bmxvY2tidXR0b24nKSAmJiBhdXRvUm9sbCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGJwKCcuYm9vc3QtYnRuLnVubG9ja2J1dHRvbicpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBhdXRvUm9sbCA9IHRydWU7fQogICAgICAgICAgICAgIGlmIChDaGVja3Zpc2liaWxpdHkoYnAoJyNjbGFpbV9ib29zdGVkJykpKSB7CiAgICAgICAgICAgICAgICBicCgnI2NsYWltX2Jvb3N0ZWQnKS5jbGljaygpO319fSwgMyAqIDEwMDApO30gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ2h0dHBzOi8vYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlL2NvaW5fcm9sbC5waHAnKTt9LCAzICogMTAwMCk7fX0KICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvY29pbl9yb2xsLnBocCcpKSB7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDk5OTkpOwogICAgICAgIGlmICghYnAoIiN0aW1lciIpKSB7CiAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkgewogICAgICAgICAgICAgIGlmIChicCgnLmJvb3N0LWJ0bi51bmxvY2tidXR0b24nKSAmJiBhdXRvUm9sbCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGJwKCcuYm9vc3QtYnRuLnVubG9ja2J1dHRvbicpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBhdXRvUm9sbCA9IHRydWU7fQogICAgICAgICAgICAgIGlmIChDaGVja3Zpc2liaWxpdHkoYnAoJyNjbGFpbV9ib29zdGVkJykpKSB7CiAgICAgICAgICAgICAgICBicCgnI2NsYWltX2Jvb3N0ZWQnKS5jbGljaygpO319fSwgMyAqIDEwMDApO30gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ2h0dHBzOi8vYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlL3B0Yy93YWxsLnBocCcpO30sIDMgKiAxMDAwKTt9fQogICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9wdGMvd2FsbC5waHAnKSkgewogICAgICAgIHZhciBwdGN3YWxsID0gQnBBbGwoIi5jb2wuczEwLm02Lmw0IGFbbmFtZT0nY2xhaW0nXSIpOwogICAgICAgIGlmIChwdGN3YWxsLmxlbmd0aCA+PSAxKSB7cHRjd2FsbFswXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJzsKICAgICAgICAgIGxldCBtYXRjaCA9IHB0Y3dhbGxbMF0ub25tb3VzZWRvd24udG9TdHJpbmcoKS5tYXRjaCgvJ2hyZWYnLCAnKC4rKScvKTsKICAgICAgICAgIGxldCBocmVmVmFsdWUgPSBtYXRjaFsxXTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnaHR0cHM6Ly9hdXRvZmF1Y2V0LmR1dGNoeWNvcnAuc3BhY2UnICsgaHJlZlZhbHVlKTt9LCAzICogMTAwMCk7fSBlbHNlIHsKICAgICAgICAgIGlmIChDaGVja3Zpc2liaWxpdHkgIT09IG51bGwpIHtzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnaHR0cHM6Ly9hdXRvZmF1Y2V0LmR1dGNoeWNvcnAuc3BhY2UvcHRjLycpO30sIDMgKiAxMDAwKTt9fX0KICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2F1dG9mYXVjZXQuZHV0Y2h5Y29ycC5zcGFjZS9wdGMvJykpIHsKICAgICAgICBjb25zb2xlLmxvZygnVmlld2luZyBBdmFpbGFibGUgQWRzJyk7CiAgICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5mYS1jaGVjay1kb3VibGUnKSkgewogICAgICAgICAgY29uc29sZS5sb2coJ0FsbCBBdmFpbGFibGUgQWRzIFdhdGNoZWQnKTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnaHR0cHM6Ly9hdXRvZmF1Y2V0LmR1dGNoeWNvcnAuc3BhY2UvZGFzaGJvYXJkLnBocCcpO30sIDMgKiAxMDAwKTt9CiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENoZWNrdmlzaWJpbGl0eShicCgnI3N1Ym1pdF9jYXB0Y2hhJykpKSB7CiAgICAgICAgICAgIGJwKCJidXR0b25bdHlwZT0nc3VibWl0J10uZy1yZWNhcHRjaGEiKS5jbGljaygpO319LCA1ICogMTAwMCk7fX0pOwogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PSAoJ3NvbHZlbWVkaWEuY29tJykgIT0gLTEpIHsKICAgICAgbGV0IFBIUkFTRVMgPSBbIjEuMjEgZ2lnYXdhdHRzIiwgIjQgOCAxNSAxNiAyMyA0MiIsICI1IGRvbGxhciBzaGFrZSIsICI2IGZlZXQgb2Ygc25vdyIsICI4dGggY2hldnJvbiIsICJhIHdpbGQgY2FwdGNoYSBhcHBlYXJzIiwgImFiZWxpYW4gZ3JhcGUiLCAiYWJpZGUgd2l0aCBtZSIsICJhYnJhY2FkYWJyYSIsICJhYnNlbnQgd2l0aG91dCBsZWF2ZSIsICJhYnNvbHV0ZSB6ZXJvIiwgImFjY2lkZW50YWxseSBvbiBwdXJwb3NlIiwgImFjZSBvZiBzcGFkZXMiLCAiYWNyb3NzIHRoZSBib2FyZCIsICJhZGFwdCBpbXByb3ZlIiwgImFkYXB0IGltcHJvdmUgc3VjY2VlZCIsICJhZ2FpbnN0IHRoZSBncmFpbiIsICJhZ3JlZSB0byBkaXNhZ3JlZSIsICJhbCBjYXBvbmUiLCAiYWxsIGRhbmNpbmciLCAiYWxsIGdyb3duIHVwIiwgImFsbCBvZiB0aGUgYWJvdmUiLCAiYWxsIHNpbmdpbmciLCAiYWxsIHlvdXIgYmFzZSIsICJhbGxlcmdpYyByZWFjdGlvbiIsICJhbG1vc3QgZ290IGl0IiwgImFsd2F5cyB0aGVyZSIsICJhbSBpIGhhcHB5IiwgImFuY2hvcnMgYXdheSIsICJhbmQgdGhhdCdzIHRoZSB3YXkgaXQgaXMiLCAiYW5nZWwgZm9vZCIsICJhbm90aGVyIGNhc3RsZSIsICJhbnRpIGRlbnRpdGUiLCAiYXBwbGUganVpY2UiLCAiYXBwbGUgcGllIiwgImFwcGxlIHNhdWNlIiwgImFwcmlsIG1heSIsICJhcHJpbCBzaG93ZXJzIiwgImFyZSB3ZSB0aGVyZSB5ZXQiLCAiYXJlIHlvdSByZWFkeSIsICJhcmUgeW91IHRoZSBrZXltYXN0ZXIiLCAiYXJteSB0cmFpbmluZyIsICJhcm15IHRyYWluaW5nIHNpciIsICJhcm91bmQgaGVyZSIsICJhcyBpIHNlZSBpdCIsICJhcyB5b3Ugd2lzaCIsICJhc2sgcXVlc3Rpb25zIiwgImF0dGlsYSB0aGUgaHVuIiwgImF1dG8gZHJpdmluZyIsICJhd2Vzb21lIGR1ZGUiLCAiYXdlc29tZSBzYXVjZSIsICJhemdvdGhzIG9mIGtyaWEiLCAiYmFiZWwgZmlzaCIsICJiYWJ5IGJsdWVzIiwgImJhYnkgYm9vbWVyIiwgImJhYnkgc3RlcHMiLCAiYmFjayB0byBiYXNpY3MiLCAiYmFjayB0cmFjayIsICJiYWNrZ3JvdW5kIG5vaXNlIiwgImJhY29uIGFuZCBlZ2dzIiwgImJhZCBib29rcyIsICJiYWQgZWdnIiwgImJhaXQgdGhlIGxpbmUiLCAiYmFrZWQgaW4gYSBwaWUiLCAiYmFsZCBlYWdsZSIsICJiYWxsIG9mIGNvbmZ1c2lvbiIsICJiYW5hbmEgYnJlYWQiLCAiYmFuYW5hIHNwbGl0IiwgImJhbmFuYSBzdGFuZCIsICJiYW5nZXJzIGFuZCBtYXNoIiwgImJhcmJlciBjaGFpciIsICJiYXJraW5nIG1hZCIsICJiYXNrZXQgY2FzZSIsICJiYXRlZCBicmVhdGgiLCAiYmF0aCB0b3dlbCIsICJiYXRoIHdhdGVyIiwgImJhdHRsZSByb3lhbGUiLCAiYmF6aW5nYSIsICJiZSBjYXJlZnVsIiwgImJlIG1pbmUiLCAiYmUgbXkgZnJpZW5kIiwgImJlIG5pY2UiLCAiYmUgbmltYmxlIGJlIHF1aWNrIiwgImJlIHNlcmlvdXMgbm93IiwgImJlYWNoIGJhbGwiLCAiYmVhbiB0b3duIiwgImJlYW5zIGFuZCByaWNlIiwgImJlYXV0aWZ1bCBmcmllbmRzaGlwIiwgImJlZSBsaW5lIiwgImJlZW4gdGhlcmUiLCAiYmVlciBpbiBhIGJvdHRsZSIsICJiZWVyIGluIHRoZSBib3R0bGUiLCAiYmVlcyBrbmVlcyIsICJiZWcgdGhlIHF1ZXN0aW9uIiwgImJlbGlldmUgbWUiLCAiYmVsdCB1cCIsICJiZXJsaW4gd2FsbCIsICJiZXN0IGZpdCBsaW5lIiwgImJlc3Qgc2VsbGVyIiwgImJldHRlciBjYWxsIHNhdWwiLCAiYmV0dGVyIGhhbGYiLCAiYmV0dGVyIG5leHQgdGltZSIsICJiZXlvbmQgbWUiLCAiYmlnIGJyb3RoZXIiLCAiYmlnIGthaHVuYSBidXJnZXIiLCAiYmlnIG5vc2UiLCAiYmlnIHNjcmVlbiIsICJiaWdnZXIgaW4gdGV4YXMiLCAiYmlrZSByaWRlciIsICJiaXJkIGNhZ2UiLCAiYmlydGhkYXkgYm95IiwgImJpcnRoZGF5IGdpcmwiLCAiYml6YXJybyBqZXJyeSIsICJibGFjayBhbmQgd2hpdGUiLCAiYmxhY2sgY29mZmVlIiwgImJsYWNrIGdvbGQiLCAiYmxhY2sgamFjayIsICJibGFjayBtb25kYXkiLCAiYmxhaGJsYWhibGFoIiwgImJsYXplIGEgdHJhaWwiLCAiYmxlc3MgeW91IiwgImJsaW5kZWQgYnkgc2NpZW5jZSIsICJibG9nIHRoaXMiLCAiYmxvb2QgdHlwZSIsICJibHVlIGNoZWVzZSIsICJibHVlIHJpYmJvbiIsICJibHVlIHNreSIsICJib2IgbG9ibGF3IiwgImJvZHkgc3VyZmluZyIsICJib2lsZWQgY2FiYmFnZSIsICJib24gdm95YWdlIiwgImJvbmQgamFtZXMgYm9uZCIsICJib25lIGRyeSIsICJib251cyBwb2ludHMiLCAiYm9udXMgcm91bmQiLCAiYm9vayByZWFkaW5nIiwgImJvb2sgd29ybSIsICJib29tZXJhbmciLCAiYm9ybiB0byBydW4iLCAiYm90cyBhcmUgYmFkIG0na2F5IiwgImJvdHRsZWQgd2F0ZXIiLCAiYm93dGllcyBhcmUgY29vbCIsICJib3ggamVsbHkgZmlzaCIsICJib3gga2l0dHkiLCAiYm94IG9mIGNob2NvbGF0ZXMiLCAiYnJhYWFpbnMiLCAiYnJhbmQgc3BhbmtpbmcgbmV3IiwgImJyZWFkIG9mIGxpZmUiLCAiYnJlYWsgdGhlIGljZSIsICJicmljayBob3VzZSIsICJicm9rZW4gaGVhcnQiLCAiYnJva2VuIHJlY29yZCIsICJicnVjZSBsZWUiLCAiYnJ1c2ggeW91ciB0ZWV0aCIsICJidWNrbGUgeW91ciBzaG9lIiwgImJ1ZmZhbG8gd2luZyIsICJidW5ueSByYWJiaXQiLCAiYnVyZ2VyIHdpdGggZnJpZXMiLCAiYnVybmluZyBvaWwiLCAiYnVybnQgc2llbm5hIiwgImJ1dGxlciBkaWQgaXQiLCAiYnV0dGVyIHNpZGUgZG93biIsICJidXR0b24gZmx5IiwgImJ1eSBzb21lIHRpbWUiLCAiYnkgYW5kIGxhcmdlIiwgImJ5IHRoZSBib2FyZCIsICJieSB0aGUgYm9vayIsICJieSB0aGUgc2Vhc2hvcmUiLCAiY2FiYmFnZSBib3JzaHQiLCAiY2FiYmFnZSBzdGV3IiwgImNhZXNhciBzYWxhZCIsICJjYWxsIG1lIiwgImNhbGwgbWUgbWF5YmUiLCAiY2FuIGkgbG92ZSIsICJjYW4geW91IHNlZSIsICJjYW5keSBhcHBsZSIsICJjYW5keSBjYW5lIiwgImNhcGl0YWwgZ2FpbiIsICJjYXB0Y2hhIGluIHRoZSByeWUiLCAiY2FyIHRyb3VibGUiLCAiY2FyYm9uIGNvcHkiLCAiY2FyYm9uIGZvb3RwcmludCIsICJjYXJkIHNoYXJwIiwgImNhcmQtc2hhcnAiLCAiY2FycGUgZGllbSIsICJjYXJyeSBhIHRvd2VsIiwgImNhcnJ5IG9uIiwgImNhcnkgZ3JhbnQiLCAiY2FzZSBjbG9zZWQiLCAiY2F0IGdvdCB5b3VyIHRvbmd1ZSIsICJjYXRjaCB0aGUgbWFuIiwgImNhdHMgYW5kIGRvZ3MiLCAiY2F0cyBwYWphbWFzIiwgImNoYWlzZSBsb3VuZ2UiLCAiY2hhbGxlbmdlIGFjY2VwdGVkIiwgImNoYW5nZSB0aGUgd29ybGQiLCAiY2hhbmdlIHlvdXJzZWxmIiwgImNoYW5uZWwgc3VyZmluZyIsICJjaGFybGV5IGhvcnNlIiwgImNoYXJsaWUgYml0IG1lIiwgImNoYXJtIG9mZmVuc2l2ZSIsICJjaGFybWVkIGxpZmUiLCAiY2hlY2sgeW91ciBjb2F0IiwgImNoZWNrIHlvdXIgd29yayIsICJjaGVlc2UgYnVyZ2VyIiwgImNoZWVzZSBmcmllcyIsICJjaGVlc2Ugc3RlYWsiLCAiY2hlcnJ5IG9uIHRvcCIsICJjaGlja2VuIGZlZWQiLCAiY2hpY2tlbiBub29kbGUiLCAiY2hpY2tlbiBzYWxhZCIsICJjaGlja2VuIHNvdXAiLCAiY2hpbiBib3kiLCAiY2hpdCBjaGF0IiwgImNob2NvIGxhemVyIGJvb20iLCAiY2hvY29sYXRlIGNvb2tpZSIsICJjaG9jb2xhdGUgbWlsayIsICJjaG93IGRvd24iLCAiY2h1Y2sgbm9ycmlzIiwgImNpcmNsZSBvZiBsaWZlIiwgImNpdmlsIHdhciIsICJjbGVhbiBhbmQgc2hpbnkiLCAiY2xlYW4gaGFuZHMiLCAiY2xlYXIgYmx1ZSB3YXRlciIsICJjbGVhciBzYWlsaW5nIiwgImNsaWNrLCBjbGljaywgY2xpY2siLCAiY2xpZmYgaGFuZ2VyIiwgImNsb2QgaG9wcGVyIiwgImNsb3NlIHF1YXJ0ZXJzIiwgImNsb3VkIG5pbmUiLCAiY2xvd24gYXJvdW5kIiwgImNvZmZlZSBjYW4iLCAiY29sZCBjb21mb3J0IiwgImNvbGQgZmVldCIsICJjb2xkIGhhdCIsICJjb2xkIHNob3VsZGVyIiwgImNvbGQgdHVya2V5IiwgImNvbGVzbGF3IiwgImNvbGxhYm9yYXRlIGFuZCBsaXN0ZW4iLCAiY29sb3JlZCBwYXBlciIsICJjb21lIGFsb25nIiwgImNvbWUgYWxvbmcgcG9uZCIsICJjb21lIGJhY2siLCAiY29tZSBjbGVhbiIsICJjb21lIG9uIGRvd24iLCAiY29tZSB3aGF0IG1heSIsICJjb21mb3J0IHpvbmUiLCAiY29tbWEgY29tbWEiLCAiY29tbW9uIGxhdyIsICJjb21wbGV4IG51bWJlciIsICJjb25zdHJ1Y3Rpb24gYWhlYWQiLCAiY29va2llIGN1dHRlciIsICJjb29sIGhlYWRzIHByZXZhaWwiLCAiY29wIGFuIGF0dGl0dWRlIiwgImNvciBibGltZXkiLCAiY29yZG9uIGJsZXUiLCAiY29ybmVkIGJlZWYiLCAiY290dG9uIG9uIiwgImNvdW50IHlvdXIgY2hhbmdlIiwgImNvdW50aW5nIHNoZWVwIiwgImNvdmVyZWQgYnJpZGdlIiwgImNyYWIgY2FrZSIsICJjcmF5b2xhIiwgImNyZWFtIGFuZCBzdWdhciIsICJjcmVhdGUgbmV3IHRoaW5ncyIsICJjcmVhdGl2ZSBwcm9jZXNzIiwgImNyZWF0aXZlIHZpc2lvbiIsICJjcmVlcHkgY3Jhd2xlciIsICJjcmltZSBvZiBwYXNzaW9uIiwgImNyb2NvZGlsZSB0ZWFycyIsICJjcm9wIHVwIiwgImNyb3NzIHRoZSByb2FkIiwgImNyb3NzIHRoZSBydWJpY29uIiwgImN1YmljIHNwbGluZSIsICJjdWN1bWJlciBzYW5kd2ljaCIsICJjdXAgY2FrZSIsICJjdXBpZCdzIGFycm93IiwgImN1cmF0ZSdzIGVnZyIsICJjdXJyeSBmYXZvdXIiLCAiY3V0IGFuZCBydW4iLCAiY3V0IHRoZSBtdXN0YXJkIiwgImRhbGVrIGFzeWx1bSIsICJkYWxsYXMgdGV4YXMiLCAiZGFuY2UgYWxsIG5pZ2h0IiwgImRhbmlzaCByb2JvdCBkYW5jZXJzIiwgImRhcmsgaG9yc2UiLCAiZGFzIG9vbnR6IiwgImRhdmlkIGFmdGVyIGRlbnRpc3QiLCAiZGVhZCBiYXR0ZXJ5IiwgImRlYWQgcmluZ2VyIiwgImRlYWwgbWUgaW4iLCAiZGVhciBjb29raWUiLCAiZGVhciBtciB2ZXJub24iLCAiZGVhciBzaXIiLCAiZGVlcCB0aG91Z2h0IiwgImRlZXAgd2F0ZXJzIiwgImRoYXJtYSBpbml0aWF0aXZlIiwgImRpY2VkIG9uaW9uIiwgImRpZGRseSBzcXVhdCIsICJkaWdpdGFsIGNsb2NrIiwgImRpbmcgYSBsaW5nIiwgImRpbm5lciBiZWxsIiwgImRpbm9zYXVyIHNwYWNlc2hpcCIsICJkaXNoIHdhdGVyIiwgImRvIGEgbGl0dGxlIGRhbmNlIiwgImRvIGJlIGRvIGJlIGRvIiwgImRvIGl0IG5vdyIsICJkbyBtb3JlIHNpdHVwcyIsICJkbyBub3QgdG91Y2giLCAiZG8gb3IgZG8gbm90IiwgImRvIHVudG8gb3RoZXJzIiwgImRvIHdhaCBkaXR0eSIsICJkbyB5b3UgYmVsaWV2ZSBpbiBtaXJhY2xlcyIsICJkbyB5b3UgbG92ZSBtZSIsICJkb2N0b3IgY2FsaWdhcmkiLCAiZG9jdG9yIHdobyIsICJkb2N0b3Igd2hvPyIsICJkb2UgYSBkZWVyIiwgImRvZyBkYXlzIiwgImRvZydzIGJyZWFrZmFzdCIsICJkb2cncyBkaW5uZXIiLCAiZG9nYXB1cyIsICJkb2dzIGFuZCBjYXRzIGxpdmluZyB0b2dldGhlciIsICJkb2xsYXIgYmlsbCIsICJkb2xsYXIgc2lnbnMiLCAiZG9sbGFycyB0byBkb251dHMiLCAiZG9tZXN0aWMgc3B5aW5nIiwgImRvbid0IGJlIGxhdGUiLCAiZG9uJ3QgY291bnQgb24gaXQiLCAiZG9uJ3QgZGF3ZGxlIiwgImRvbid0IHN0b3AiLCAiZG9uJ3Qgd2FzdGUgdGltZSIsICJkb25lIHRoYXQiLCAiZG9ua2V5J3MgeWVhcnMiLCAiZG9vZGFoIG1hbiIsICJkb3VibGUgY3Jvc3MiLCAiZG91YmxlIGNyb3NzZWQiLCAiZG91YmxlIGR1dGNoIiwgImRvdWJsZSBqdW1wIiwgImRvdWJsZSByYWluYm93IiwgImRvdWJsZSB0aW1lIiwgImRvdWJsZSB3aGFtbXkiLCAiZG93biB0aGUgaGF0Y2giLCAiZG93biB0aGUgcmFiYml0IGhvbGUiLCAiZG93bndhcmQgc2xvcGUiLCAiZHJhZyByYWNlIiwgImRyYWdvbiB3aXRoIG1hdGNoZXMiLCAiZHJhZ29uZmx5IiwgImRyYW1hdGljIGNoaXBtdW5rIiwgImRyYXcgYSBibGFuayIsICJkcmF3aW5nIGJvYXJkIiwgImRyZWFtIGJpZyIsICJkcmluayBtaWxrIiwgImRyaXZlIG1lIHRvIGZpcmVuemUiLCAiZHJvcCB0YWJsZSB1c2VycyIsICJkcnVtaGVhZCIsICJkcnVtbWVyIGJveSIsICJkcnkgY2xlYW4gb25seSIsICJkdWVsaW5nIGJhbmpvcyIsICJkdXNrIHRpbGwgZGF3biIsICJkdXN0IGJ1bm55IiwgImR1c3QgdXAiLCAiZHV2ZXQgZGF5IiwgImR5bmFtbyBjbG9jayIsICJlYXIgY2FuZHkiLCAiZWFyIG1hcmsiLCAiZWFyIG11ZmZzIiwgImVhc3kgYXMgY2FrZSIsICJlYXN5IGFzIHBpZSIsICJlYXN5IHBlYXN5IiwgImVhc3kgc3RyZWV0IiwgImVhdCBjb3VzIGNvdXMiLCAiZWF0IG91dCIsICJlYXQgeW91ciBkaW5uZXIiLCAiZWF0IHlvdXIgdmVnZ2llcyIsICJlYXQgeW91ciB2aXRhbWlucyIsICJlY2tzIHdoeSB6ZWUiLCAiZWRnYXIgZGVnYXMiLCAiZWdnIG9uIiwgImVnZ3MgdGVyIG1pbmF0ZSIsICJlaWdodHkgc2l4IiwgImVsZWN0cm8gaGVhZCIsICJlbGV2YXRvciBnb2luZyB1cCIsICJlbXBlcm9yJ3MgY2xvdGhlcyIsICJlbXBpcmUgc3RhdGUgb2YgbWluZCIsICJlbmQgb2Ygc3RvcnkiLCAiZW5nbGlzaCBtdWZmaW4iLCAiZW5qb3kgbGlmZSIsICJlcm1haGdlcmQgY2FwY2hlciIsICJldmlsIGV5ZSIsICJldmlsIGdlbml1cyIsICJleGNlZWRpbmdseSB3ZWxsIHJlYWQiLCAiZXhjbGFtYXRpb24iLCAiZXhlcmNpc2UgbW9yZSIsICJleHRyYSBjaGVlc2UiLCAiZmFjZSB0aGUgbXVzaWMiLCAiZmFjZSB0byBmYWNlIiwgImZhZGUgYXdheSIsICJmYWlyIGFuZCBzcXVhcmUiLCAiZmFpciBwbGF5IiwgImZhaXJ5IGdvZG1vdGhlciIsICJmYWlyeSB0YWxlIiwgImZhaXQgYWNjb21wbGkiLCAiZmFsbCBndXkiLCAiZmFsbGluZyBwaWFub3MiLCAiZmFuY3kgZnJlZSIsICJmYW5jeSBwYW50cyIsICJmYXIgYXdheSIsICJmYXJzaWNhbCBhcXVhdGljIGNlcmVtb255IiwgImZhc2hpb24gdmljdGltIiwgImZhc3QgYW5kIGxvb3NlIiwgImZhc3QgYXNsZWVwIiwgImZhdGhlciB0aW1lIiwgImZhdGhlciB1bmNsZSIsICJmYXRob20gb3V0IiwgImZhdmEgYmVhbnMiLCAiZmVlZGluZyBmcmVuenkiLCAiZmVlbGluZyBibHVlIiwgImZlbGxvdyB0cmF2ZWxsZXIiLCAiZmV6ZXMgYXJlIGNvb2wiLCAiZmllbGQgZGF5IiwgImZpZnRoIGNvbHVtbiIsICJmaWxsIGl0IHVwIiwgImZpbHRoeSBkaXJ0eSBtZXNzIiwgImZpbHRoeSByaWNoIiwgImZpbmFnbGUncyBsYXciLCAiZmluYWwgYW5zd2VyIiwgImZpbmdlciBsaWNraW4gZ29vZCIsICJmaXJlIGJyaW0gc3RvbmUiLCAiZmlyZWNyYWNrZXIiLCAiZmlyc3QgY29udGFjdCIsICJmaXJzdCBwb3N0IiwgImZpcnN0IHdhdGVyIiwgImZpcnN0IHdvcmxkIiwgImZpc2ggYW5kIGNoaXBzIiwgImZpc2ggb24iLCAiZmlzaHkgc21lbGwiLCAiZmxhZyBkYXkiLCAiZmxhdCBmb290IiwgImZsYXQgb3V0IiwgImZsYXQgdGlyZSIsICJmbGlwYWRlbHBoaWEiLCAiZmxpcGZsb3BzIiwgImZsdXggY2FwYWNpdG9yIiwgImZvbGxvdyBtZSIsICJmb2xzb20gcHJpc29uIiwgImZvb2wncyBwYXJhZGlzZSIsICJmb29scyBnb2xkIiwgImZvciBrZWVwcyIsICJmb3Igc3VyZSIsICJmb3IgdGhlIGJpcmRzIiwgImZvciB0aGUgZ3JpcHBlciIsICJmb3JiaWRkZW4gZnJ1aXQiLCAiZm9yZWdvbmUgY29uY2x1c2lvbiIsICJmb3JnZXQgdGhpcyIsICJmb3JnZXQgeW91IiwgImZvcmsga25pZmUgc3Bvb24iLCAiZm9ydHkgdHdvIiwgImZvdWwgcGxheSIsICJmb3VyIGJ5IHR3byIsICJmcmFiam91cyBkYXkiLCAiZnJhbmNlIiwgImZyYW5rbHkgbXkgZGVhciIsICJmcmVlIGhhdCIsICJmcmVlemluZyB0ZW1wZXJhdHVyZXMiLCAiZnJlbmNoIGZyaWVkIiwgImZyZW5jaCBmcmllcyIsICJmcmVuY2ggcGhyYXNlcyIsICJmcmVzaCB3YXRlciIsICJmcmllZCBpY2VzIiwgImZyaWVkIHJpY2UiLCAiZnJpZW5kIHpvbmUiLCAiZnJvemVuIHBlYXMiLCAiZnJ1aXQgc2FsYWQiLCAiZnVkZHkgZHVkZHkiLCAiZnVsbCBob3VzZSIsICJmdWxsIG1vbnR5IiwgImZ1bGwgb2Ygc3RhcnMiLCAiZnVsbCBzdG9wIiwgImZ1bGwgdGlsdCIsICJmdW4gd2l0aCBmbGFncyIsICJmdW5ueSBmYXJtIiwgImZ1c2lsbGkgamVycnkiLCAiZnV6enkgd3V6enkiLCAiZ2Fkem9va3MiLCAiZ2FtZSBpcyB1cCIsICJnYW5nbmFtIHN0eWxlIiwgImdhcmRlbiBvZiBlZGVuIiwgImdhcmxpYyB5dW0iLCAiZ2F0aGVycyBtb3NzIiwgImdlZSBsb3Vpc2UiLCAiZ2VlIHdoaXoiLCAiZ2VleiBsb3Vpc2UiLCAiZ2VuZSBwYXJtZXNhbiIsICJnZW5lcmFsIHRzbyIsICJnZW5lcmF0aW9uIHgiLCAiZ2VuZ2hpcyBraGFuIiwgImdlb3JnZSB3YXNoaW5ndG9uIiwgImdldCBvdXQiLCAiZ2V0IG92ZXIgaXQiLCAiZ2V0IHdlbGwiLCAiZ2V0IHlvdXIgZ29hdCIsICJnaWFudCBidW5ueSByYWJiaXQiLCAiZ2lhbnQgcGFuZGEiLCAiZ2lkZHkgZ29hdCIsICJnaWZ0IGhvcnNlIiwgImdpbW1lIHBpenphIiwgImdpbmdlciBicmVhZCIsICJnaXZlIG9yIHRha2UiLCAiZ2xhc3MgY2VpbGluZyIsICJnbGF6ZWQgZG9udXQiLCAiZ2xvYmFsIHdhcm1pbmciLCAiZ28gYmVyc2VyayIsICJnbyBmdXJ0aGVyIiwgImdvIGdhZGdldCBnbyIsICJnb2VzIHRvIGVsZXZlbiIsICJnb2xkIG1lZGFsIiwgImdvbGQgcmVjb3JkIiwgImdvbGx5IGplZXBlcnMiLCAiZ29uZSBkb2xhbGx5IiwgImdvbmUgZmlzaGluZyIsICJnb29kIGFmdGVybm9vbiIsICJnb29kIGFzIGdvbGQiLCAiZ29vZCBidWRkeSIsICJnb29kIGRheSIsICJnb29kIGV2ZW5pbmciLCAiZ29vZCBmb3Igbm90aGluZyIsICJnb29kIGdyaWVmIiwgImdvb2Qgam9iIiwgImdvb2QgbHVjayIsICJnb29kIG1vcm5pbmciLCAiZ29vZCBuaWdodCIsICJnb29kIG5pZ2h0IGFuZCBnb29kIGx1Y2siLCAiZ29vZCByaWRkYW5jZSIsICJnb29kIHNhbWFyaXRhbiIsICJnb29kIHdvcmsiLCAiZ29vZHkgZ29vZHkgZ3VtZHJvcHMiLCAiZ29vZHkgZ3VtZHJvcCIsICJnb29keSB0d28gc2hvZXMiLCAiZ29vc2VidW1wcyIsICJnb3Jkb24gYmVubmV0dCIsICJnb3QgbXkgbW9qbyIsICJnb3RoYW0gY2l0eSIsICJnb3RoaWMgYXJjaCIsICJnb3RoaWMgY2h1cmNoIiwgImdyYWluIG9mIHNhbHQiLCAiZ3JhbmQgc2xhbSIsICJncmFwZSBzb2RhIiwgImdyYXNzIHVwIiwgImdyYXZleWFyZCBzaGlmdCIsICJncmF2eSB0cmFpbiIsICJncmVhc2UgdGhlIHNraWRzIiwgImdyZWFzZWQgbGlnaHRuaW5nIiwgImdyZWF0IHNjb3R0IiwgImdyZWF0IHVud2FzaGVkIiwgImdyZWdvcnkgcGVjayIsICJncmlkbG9jayIsICJncmlsbGVkIGNoZWVzZSIsICJncm91bmRob2cgZGF5IiwgImdydW1weSBjYXQiLCAiZ3VpbmVhIHBpZyIsICJndWl0YXIgcGxheWVyIiwgImd1bSBzaG9lIiwgImd1bmcgaG8iLCAiaGFic29ucyBjaG9pY2UiLCAiaGFkIGEgZ3JlYXQgZmFsbCIsICJoYWQgbWUgYXQgaGVsbG8iLCAiaGFpcnkgZXllYmFsbCIsICJoYWxjeW9uIGRheXMiLCAiaGFsZiBkb25lIiwgImhhbGYgZW1wdHkiLCAiaGFsZiBmdWxsIiwgImhhbGYgaW5jaCIsICJoYWxsb3dlZCBncm91bmQiLCAiaGFscCBtZWgiLCAiaGFtIGFuZCBjaGVlc2UiLCAiaGFtYnVyZ2VyIGJ1biIsICJoYW1tZXIgdGltZSIsICJoYW5kIG92ZXIgZmlzdCIsICJoYW5kcyBkb3duIiwgImhhbmdlcnMgYW5kIG1hc2giLCAiaGFwcHkgYW5uaXZlcnNhcnkiLCAiaGFwcHkgYmxlc3NpbmdzIiwgImhhcHB5IGNsYXBweSIsICJoYXBweSByZXRpcmVtZW50IiwgImhhcHB5IHRyYWlscyIsICJoYXJkIGNhcHRjaGEgaXMgaGFyZCIsICJoYXJkIGNoZWVzZSIsICJoYXJkIGxpbmVzIiwgImhhcmQgc2hhcnAiLCAiaGFyZGVuZWQgcHJlc3Rvb3BuaWNrcyIsICJoYXJwIG9uIiwgImhhc3RlIG1ha2VzIHdhc3RlIiwgImhhdCBoZWFkIiwgImhhdCB0cmljayIsICJoYXZlIGEgcHVycG9zZSIsICJoYXZlIGFuIGlua2xpbmciLCAiaGF2ZSBjb3VyYWdlIiwgImhhdmUgZnVuIiwgImhlIGxvdmVzIGhlciIsICJoZWFkIGNhc2UiLCAiaGVhZCBob25jaG8iLCAiaGVhZCBvdmVyIGhlZWxzIiwgImhlYWRzIHVwIiwgImhlYWx0aCBmb29kIiwgImhlYWx0aHkgZm9vZCIsICJoZWFyIGhlYXIiLCAiaGVhciBtZSByb2FyIiwgImhlYXJ0IGJyZWFrIiwgImhlYXJ0IHN0cmluZ3MiLCAiaGVhcnQncyBjb250ZW50IiwgImhlYXJ0YWNoZSIsICJoZWF0IHVwIiwgImhlYXRlZCBkZWJhdGUiLCAiaGVhdmVucyB0byBiZXRzeSIsICJoZWF2eSBtZXRhbCIsICJoZWViaWUgamVlYmllcyIsICJoZWxsbyBuZXdtYW4iLCAiaGVsbG8gc3dlZXRpZSIsICJoZWxsbyB3YXRzb24iLCAiaGVsbG8gd29ybGQiLCAiaGVyZSBvciB0aGVyZSIsICJoZXJlJ3Mgam9obm55IiwgImhleSBicm90aGVyIiwgImhpZ2dsZWR5IHBpZ2dsZWR5IiwgImhpZ2dzIGJvc29uIiwgImhpZ2ggZGVmIiwgImhpZ2ggZml2ZSIsICJoaWdoIGZseWVyIiwgImhpZ2ggaG9yc2UiLCAiaGlnaCBzbGVlcGVyIiwgImhpZ2ggdGltZSIsICJoaW0gd2l0aCBoZXIiLCAiaGlzc3kgZml0IiwgImhpc3RvcnkgcmVwZWF0cyBpdHNlbGYiLCAiaGl0IHRoZSBoYXkiLCAiaGl0IHRoZSBzYWNrIiwgImhvYWdpZSByb2xsIiwgImhvYmJ5IGhvcnNlIiwgImhvYnNvbidzIGNob2ljZSIsICJob2N1cyBwb2N1cyIsICJob2kgcG9sbG9pIiwgImhvaXR5LXRvaXR5IiwgImhvbGQgeW91ciBob3JzZXMiLCAiaG9sZCB5b3VyIHRvbmd1ZSIsICJob21lIGphbWVzIiwgImhvbmV5IG11c3RhcmQiLCAiaG9vcmF5IGhlbnJ5IiwgImhvcHMgYSBkYWlzeSIsICJob3JzZSBhbmQgY2FydCIsICJob3JzZSdzIG1vdXRoIiwgImhvdCBibG9vZGVkIiwgImhvdCBkaWdnaXR5IGRvZyIsICJob3QgZG9nIHJvbGwiLCAiaG90IHBvbGEiLCAiaG90IHNhdWNlIiwgImhvdmVyIGhhbmQiLCAiaG93IGFib3V0IGx1bmNoIiwgImhvdyBhYm91dCB0aGF0IiwgImhvdyBhcmUgeW91IiwgImhvdyBpbnRlcmVzdGluZyIsICJob3cgbm93LCBicm93biBjb3ciLCAiaG93IHF1YWludCIsICJob3cgc3dlZXQiLCAiaG93J3MgaXQgZ29pbmciLCAiaG93ZHkgcGFydG5lciIsICJodWcgbWUiLCAiaHVnZ2xlIG11Z2dsZSIsICJodWxrIHNtYXNoIiwgImh1bmt5LWRvcnkiLCAiaHVzaCBwdXBwaWVzIiwgImkgYW0gY2FwdGNoYSIsICJpIGFtIGZpbmUiLCAiaSBhbSBoZXJlIiwgImkgY2FuIGRvIHRoaXMiLCAiaSBjYW4gZml4IGl0IiwgImkgaGF2ZSBmYWxsZW4iLCAiaSBrbm93IG5vdGhpbmciLCAiaSBsaWtlIGh1bWFucyIsICJpIGxpa2UgcGVvcGxlIiwgImkgbGlrZSB0dXJ0bGVzIiwgImkgbGlrZSB5b3UiLCAiaSBsb3ZlIGRlYWRsaW5lcyIsICJpIGxvdmUgbGFtcCIsICJpIGxvdmUgeW91IiwgImkgbWFkZSB0ZWEiLCAiaSBtb3VzdGFjaGUgeW91IHdoeSIsICJpIHNhdyB0aGF0IiwgImkgc2VlIiwgImkgdGhpbmsgaSBhbSIsICJpIHRoaW5rIGkgY2FuIiwgImkgdGhpbmsgc28iLCAiaSB3YW50IGNvbnRyb2wiLCAiaSdsbCBtYWtlIHRlYSIsICJpJ20gYmF0bWFuIiwgImknbSBibGVzc2VkIiwgImknbSBibHVzaGluZyIsICJpJ20gY29sZCBicnIiLCAiaSdtIG9ubHkgaHVtYW4iLCAiaSdtIHNvIGNvbGQiLCAiaSdtIHNvcnJ5IiwgImknbSBzb3JyeSBkYXZlIiwgImknbSB5b3VycyIsICJpY2UgdG8gbWVldCB5b3UiLCAiaWRrIG15IGJmZiBqaWxsIiwgImlmIGl0IGZpdHMiLCAiaW0gY29sZC4gYnJyIiwgImltYWdpbmUgaW5zcGlyZSBjcmVhdGUiLCAiaW4gYSBib3giLCAiaW4gbGltYm8iLCAiaW4gb3ZlciBteSBoZWFkIiwgImluIHNwYWRlcyIsICJpbiBzdGl0Y2hlcyIsICJpbiB0aGUgYWlyIiwgImluIHRoZSBib3giLCAiaW4gdGhlIGNhcnQiLCAiaW4gdGhlIGNsdWIiLCAiaW4gdGhlIGRvbGRydW1zIiwgImluIHRoZSBsaW1lbGlnaHQiLCAiaW5kdXN0cmlhbCByZXZvbHV0aW9uIiwgImluZnJhIGRpZyIsICJpbnNpZGUgb3V0IiwgImlzIGl0IGVub3VnaCIsICJpcyBpdCBob3QiLCAiaXMgaXQgaG90PyIsICJpcyBpdCBob3QgaW4gaGVyZSIsICJpcyBpdCBwbHVnZ2VkIGluIiwgImlzIGxvdyIsICJpdCBkb2Vzbid0IGNvdW50IiwgIml0IGhhcHBlbnMiLCAiaXQgaHVydHMiLCAiaXQgaXMgY2VydGFpbiIsICJpdCBpcyBlbm91Z2giLCAiaXQgd2lsbCBwYXNzIiwgIml0J3Mgb3ZlciIsICJpdCdzIHN1cGVyIGVmZmVjdGl2ZSIsICJpdm9yeSB0b3dlciIsICJqYWJiZXIgd29ja3kiLCAiamFjayBiZSBuaW1ibGUiLCAiamFtIHRvbW9ycm93IiwgImpheSBnYXRzYnkiLCAiamVyayBzdG9yZSIsICJqZXJyeSBidWlsdCIsICJqaW1teSBjcmlja2V0IiwgImppbW15IGhvcm5lciIsICJqb2huIGxlbm5vbiIsICJqb2huIHN0ZWluYmVjayIsICJqdW1wIGhpZ2hlciIsICJqdW1wIG92ZXIiLCAianVtcCB0aGUgY2FuZGxlc3RpY2siLCAianVtcCB0aGUgZ3VuIiwgImp1bXBpbmcgamFjayIsICJqdW5lIGp1bHkiLCAianVzdCBkYW5jZSIsICJqdXN0IGRlc2VydHMiLCAianVzdCBkcml2ZSIsICJqdXN0IGZyaWVuZHMiLCAianVzdCBpbiB0aW1lIiwgImthbmdhcm9vIGNvdW50IiwgImthcm1hIHBvaW50cyIsICJrZWVwIGNhbG0iLCAia2V5Ym9hcmQiLCAia2V5Ym9hcmQgY2F0IiwgImtoeWJlciBwYXNzIiwgImtpY2sgdGhlIGNhbiIsICJraWNrIHlvdXIgaGVlbHMiLCAia2luZG5lc3Mgb2Ygc3RyYW5nZXJzIiwgImtpbmcgYXJ0aHVyIiwgImtpc3MgbWUiLCAia2l0dGVuIG1pdHRlbnMiLCAia2l0dHkga2F0IiwgImtsYXR1IGJlcmFkYSBuaWt0byIsICJrbmljayBrbmFjayIsICJrbm9jayBhdCB0aGUgZG9vciIsICJrbm9jayBiYWNrIiwgImtub2NrIGtub2NrIGtub2NrIHBlbm55IiwgImtub2NrIG9mZiIsICJrbm9jayBvbiB3b29kIiwgImtub3cgdGhlIHJvcGVzIiwgImtub3cgdGh5IHNlbGYiLCAia25vdyB5b3VyIHBhcmFkb3hlcyIsICJrbm93IHlvdXIgcmlnaHRzIiwgImtudWNrbGUgZG93biIsICJrb3NoZXIgZGlsbCIsICJrdW5kYWxpbmkgZXhwcmVzcyIsICJsYWJvdXIgb2YgbG92ZSIsICJsYWRpZXMgZmlyc3QiLCAibGFnZXIgZnJlbnp5IiwgImxhbWUgZHVjayIsICJsYXJkeS1kYXJkeSIsICJsYXJrIGFib3V0IiwgImxhc2VyIGJlYW1zIiwgImxhc3Qgc3RyYXciLCAibGF0ZXIgZ2F0b3IiLCAibGF1Z2ggYXQgbWUiLCAibGF3IG9mIHNpbmVzIiwgImxhd24gZ2lsYW5kIiwgImxhenkgc3VuZGF5IiwgImxlYXAgaGlnaGVyIiwgImxlYXBzIGFuZCBib3VuZHMiLCAibGVhcm4gY2hhbGxlbmdlIGltcHJvdmUiLCAibGVhcm4gZnJvbSBtaXN0YWtlcyIsICJsZWFybiBzdWNjZWVkIiwgImxlYXJuIHRoZSByb3BlcyIsICJsZWFybiwgYWR2YW5jZSIsICJsZWF2ZSBicml0bmV5IGFsb25lIiwgImxlYXZlIG1lIGFsb25lIiwgImxlZnQgb3IgcmlnaHQiLCAibGVmdCByaWdodCIsICJsZWZ0eSBsb29zZXkiLCAibGVzcyBpcyBtb3JlIiwgImxldCBnbyIsICJsZXQgaXQgYmUiLCAibGV0IG1lIGtub3ciLCAibGV0IG1lIG91dCIsICJsZXRzIGVhdCIsICJsZXZlbCBwbGF5aW5nIGZpZWxkIiwgImxpYmVydHkgYmVsbCIsICJsaWJyYXJ5IGJvb2siLCAibGlja2V0eSBzcGxpdCIsICJsaWUgbG93IiwgImxpZ2h0IHNsZWVwZXIiLCAibGlrZSBhIGJvc3MiLCAibGlrZSB0aGUgZGlja2VucyIsICJsaW5lYXIgYWxnZWJyYSIsICJsaXR0bGUgYmlyZCB0b2xkIG1lIiwgImxpdHRsZSBib2JieSB0YWJsZXMiLCAibGl0dGxlIGRpZCBoZSBrbm93IiwgImxpdHRsZSBzaXN0ZXIiLCAibGl2ZSBmcmVlIiwgImxpdmUgaW4gdGhlIG1vbWVudCIsICJsaXZlIGluIHRoZSBub3ciLCAibGl2ZSBsaWZlIiwgImxpdmUgbG9uZyArIHByb3NwZXIiLCAibGl2ZSBsb3ZlIGludGVybmV0IiwgImxpdmUgbG92ZSB0eXBlIiwgImxpdmUgdHJhbnNtaXNzaW9uIiwgImxpdmUgd2l0aCBwdXJwb3NlIiwgImxpdmUgeW91ciBkcmVhbSIsICJsaXZpbmcgZGF5bGlnaHRzIiwgImxpdmluZyB0aGluZ3MiLCAibGl6YXJkIHBvaXNvbnMgc3BvY2siLCAibG8gYW5kIGJlaG9sZCIsICJsb2FmIG9mIGJyZWFkIiwgImxvY2FsIGRlcmJ5IiwgImxvbCBjYXQiLCAibG9sbGVyc2thdGVzIiwgImxvbGx5IHBvcCIsICJsb25kb24gY2FsbGluZyIsICJsb25nIGRpdmlzaW9uIiwgImxvbmcgaW4gdGhlIHRvb3RoIiwgImxvb2sgYXdheSIsICJsb29rIGJlZm9yZSBjcm9zc2luZyIsICJsb29rIGJvdGggd2F5cyIsICJsb29raW5nIGdsYXNzIiwgImxvc2UgZmFjZSIsICJsb3N0IGxvdmUiLCAibG91ZCBtdXNpYyIsICJsb3ZlIGlzIGF1dG9tYXRpYyIsICJsb3ZlIGlzIGJsaW5kIiwgImxvdmUgbGlmZSIsICJsb3ZlIG1lIiwgImxvdmUgeW91IiwgImxvdmUtaGF0ZSIsICJsb3ZleSBkb3ZleSIsICJsdWNpbGxlIDIiLCAibHVja3kgeW91IiwgImx1ZHdpZyB2YW4iLCAibHVtcHkgZ3JhdnkiLCAibHVuYXRpYyBmcmlkZ2UiLCAibHVuY2ggdGltZSIsICJsdW5jaCB0dWVzZGF5IiwgIm1hZCBoYXR0ZXIiLCAibWFkIHNjaWVuY2UiLCAibWFnaWMgZGVjb2RlciByaW5nIiwgIm1hZ2ljIGVpZ2h0IGJhbGwiLCAibWFnaWNhbCByZWFsaXNtIiwgIm1hZ25ldGljIG1vbm9wb2xlIiwgIm1haW4gY2hhbmNlIiwgIm1ham9yIGludGVyc2VjdGlvbiIsICJtYWtlIGEgYmVlIGxpbmUiLCAibWFrZSBoYXN0ZSIsICJtYWtlIGl0IHNvIiwgIm1ha2UgbXkgZGF5IiwgIm1hbnkgaGFwcHkgcmV0dXJucyIsICJtYW55IHdpc2hlcyIsICJtYXBsZSBzeXJ1cCIsICJtYXJibGUgcnllIiwgIm1hcmNpYSBtYXJjaWEgbWFyY2lhIiwgIm1hcmUncyBuZXN0IiwgIm1hcmdpbiBvZiBlcnJvciIsICJtYXJrIGl0IHplcm8iLCAibWFya2V0IGZvcmNlcyIsICJtYXJyeSBtZSIsICJtYXJzIHJvdmVyIiwgIm1hdGggdGVzdCIsICJtYXlhbiBydWlucyIsICJtZWEgY3VscGEiLCAibWVhdCBhbmQgZHJpbmsiLCAibWVhdCB3aXRoIGdyYXZ5IiwgIm1lZGRsaW5nIGtpZHMiLCAibWVkaWEgZnJlbnp5IiwgIm1lbG9keSBwb25kIiwgIm1lbiBpbiBzdWl0cyIsICJtZW5kIGZlbmNlcyIsICJtZW93IG1lb3ciLCAibWV0cm9wb2xpcyIsICJtZXhpY2FuIHdhdmUiLCAibWlja2V5IGZpbm4iLCAibWlsZXMgdG8gZ28iLCAibWlsayB3YXMgYSBiYWQgY2hvaWNlIiwgIm1pbGtzaGFrZSIsICJtaWxsaW9uIGRvbGxhcnMiLCAibWlsb2tvIHBsdXMiLCAibWlsb2tvIHBsdXMgdmVsbG9jZXQiLCAibWltc3kgYm9yb2dvdmVzIiwgIm1pbmNlZCBvYXRocyIsICJtaW5kIHRoZSBnYXAiLCAibWludHkgZnJlc2giLCAibWlzaC1tYXNoIiwgIm1pc3MgeW91IiwgIm1pc3RlciB3aWxzb24iLCAibW9kZXJuIGxvdmUiLCAibW9lJ3MgdGF2ZXJuIiwgIm1vbSBhbmQgZGFkIiwgIm1vbmV5IGxlbmRlciIsICJtb28gc2hvbyBwb3JrIiwgIm1vb24gY2hlZXNlIiwgIm1vb3QgcG9pbnQiLCAibW9yZSBiZXR0ZXIiLCAibW9yZSBjaG9jb2xhdGUiLCAibW9yZSBjb2ZmZWUiLCAibW9yZSBjb3cgYmVsbCIsICJtb3JlIGludGVybmV0cyIsICJtb3JuaW5nIHBlcnNvbiIsICJtb3N0IGludGVyZXN0aW5nIG1hbiIsICJtb3N0IGxpa2VseSIsICJtb3RoZXIgY291bnRyeSIsICJtb3RoZXIgZWFydGgiLCAibW90bGV5IGNyZXciLCAibW91dGggd2F0ZXJpbmciLCAibW92ZSBhbG9uZyIsICJtb3ZlIG1vdW50YWlucyIsICJtb3ZlIG92ZXIiLCAibW92ZWFibGUgZmVhc3QiLCAibW92ZXJzIGFuZCBzaGFrZXJzIiwgIm1vdmllIHN0YXIiLCAibXJzIHJvYmluc29uIiwgIm11ZmZsZWQgcmFwIG11c2ljIiwgIm11bHRpIHBhc3MiLCAibXVtJ3MgdGhlIHdvcmQiLCAibXVtYm8ganVtYm8iLCAibXVycGh5J3MgbGF3IiwgIm11c2h5IHBlYXMiLCAibXVzaWMgbWFjaGluZSIsICJtdXN0YWNoaW9lZCIsICJteSBiYWQiLCAibXkgYmVhdGluZyBoZWFydCIsICJteSBiZXR0ZXIgaGFsZiIsICJteSBkZWFyIHdhdHNvbiIsICJteSBmcmllbmRzIGNhbid0IGRhbmNlIiwgIm15IG1pbmQncyBleWUiLCAibXkgc291cmNlcyBzYXkgbm8iLCAibmFpc2UgY2FpbiIsICJuYW1ieS1wYW1ieSIsICJuYW1lIGRyb3AiLCAibmFub28gbmFub28iLCAibmFwIHRpbWUiLCAibmFycm93IG1pbmRlZCIsICJuYXV0aWNhbCBwaHJhc2VzIiwgIm5lIHJlZ3JldHMiLCAibmVhciB0YW5uaGF1c2VyIGdhdGUiLCAibmVhcnQgc3RyaW5ncyIsICJuZWNrYmVhcmQiLCAibmVlZCBhIGJpZ2dlciBib2F0IiwgIm5lZWRzIG11c3QiLCAibmVyY29sYXMgY2VyZyIsICJuZXN0IGVnZyIsICJuZXZlciBnaXZlIHVwIiwgIm5ldmVyIGdvbm5hIGdpdmUgeW91IHVwIiwgIm5ldmVyIG1pbmQiLCAibmV2ZXIgcXVpdCIsICJuZXcgeW9yayBjaXR5IiwgIm5pY2Ugam9iIiwgIm5pY2UgbWFybW90IiwgIm5pY2UgdG8gbWVldCB5b3UiLCAibmlnaHQgb3dsIiwgIm5pcCBhbmQgdHVjayIsICJuaXR0eSBncml0dHkiLCAibm8gYnJhaW5lciIsICJubyBjcnlpbmcgaW4gYmFzZWJhbGwiLCAibm8gZGljZSIsICJubyBmcmllbmQgb2YgbWluZSIsICJubyBob2xkcyBiYXJyZWQiLCAibm8gbWVhbnMgbm8iLCAibm8gcmVncmV0cyIsICJubyBzb3VwIGZvciB5b3UiLCAibm8gc3Bvb24iLCAibm8gc3RpbmtpbmcgYmFkZ2VzIiwgIm5vIHRpbWUgdG8gZXhwbGFpbiIsICJubyB3YXkiLCAibm9ib2R5IGhvbWUiLCAibm9uZSBvZiB0aGUgYWJvdmUiLCAibm9wZSBjaHVjayB0ZXN0YSIsICJub3NlIGJsZWVkIiwgIm5vc3kgcGFya2VyIiwgIm5vdCBhIGJvdCIsICJub3QgaW4ga2Fuc2FzIiwgIm5vdCB5ZXQiLCAibm93IGFuZCBmb3JldmVyIiwgIm5vdyBsb29rIGhlcmUiLCAibnRoIGRlZ3JlZSIsICJudWwgcG9pbnRzIiwgIm51bWEgbnVtYSIsICJudXQgY2FzZSIsICJudXRyaXRpb24iLCAibnlhbiBjYXQiLCAibnlxdWlzdCByYXRlIiwgIm9mIGNvdXJzZSIsICJvZmYgdGhlIHJlY29yZCIsICJvaCBicm90aGVyIiwgIm9oIGVtIGdlZSIsICJvaCBoYWkiLCAib2ggc2lnaCIsICJvaCBzbyBjbG9zZSIsICJvaCB5ZXMiLCAib2ggeW91IiwgIm9oLHlvdSIsICJvaCwgd2FpdCIsICJva2V5IGRva2V5IiwgIm9sZCBoYXQiLCAib2xkIG1hbiB3aW50ZXIiLCAib2xkIHNob2UiLCAib20gbm9tIG5vbSIsICJvbiBhIGJvYXQiLCAib24gY2xvdWQgbmluZSIsICJvbiB0aGUgYmFsbCIsICJvbiB0aGUgcXQiLCAib24tb2ZmIiwgIm9uY2UgYWdhaW4iLCAib25jZSB1cG9uIGEgdGltZSIsICJvbmUgZGF5IG1vcmUiLCAib25lIGZlbGwgc3dvb3AiLCAib25lIGhpdCB3b25kZXIiLCAib25lIHNtYWxsIHN0ZXAgZm9yIG1hbiIsICJvbmUgc3RvcCBzaG9wIiwgIm9uZSB3YXkiLCAib25lIHdheSBzdHJlZXQiLCAib25lLCB0d28sIHRocmVlIiwgIm9ubHkgd2F5IHRvIGJlIHN1cmUiLCAib29udHogb29udHoiLCAib29wcyBhIGRhaXN5IiwgIm9wZW4gc2Vhc29uIiwgIm9wZW4gc2VzYW1lIiwgIm9yYW5nZSBqdWljZSIsICJvdGhlciB3b3JsZGx5IiwgIm91dCBvZiBzb3J0cyIsICJvdXQgb2YgdG9uZXIiLCAib3V0bG9vayBnb29kIiwgIm92ZXIgdGhlIGhpbGwiLCAib3ZlciB0aGUgbW9vbiIsICJvdmVyIHRoZSB0b3AiLCAib3ZlciB0aGVyZSIsICJveGZvcmQgdW5pdmVyc2l0eSIsICJveG8gY3ViZSIsICJwYWludCBpdCByZWQiLCAicGFuZG9yYSdzIGJveCIsICJwYW50cyBvbiB0aGUgZ3JvdW5kIiwgInBhcGVyIGphbSIsICJwYXBlciBwbGF0ZSIsICJwYXJ0aWFsIGRlcml2YXRpdmUiLCAicGFydGx5IGNsb3VkeSIsICJwYXJ0eSBvbiBnYXJ0aCIsICJwYXNzaW5nIGxhbmUiLCAicGF0Y2ggb2YgZ3Jhc3MiLCAicGF0aCBsZXNzIHRha2VuIiwgInBhdGllbmNlIGNoaWxkIiwgInBhdHR5IGNha2UiLCAicGF5IHRoZSBmZXJyeW1hbiIsICJwZWEgYnJhaW4iLCAicGVhcmx5IHdoaXRlcyIsICJwZWcgb3V0IiwgInBlbGwgbWVsbCIsICJwZW5ueSBsb2FmZXIiLCAicGVvcGxlIGxpa2UgbWUiLCAicGVwZSBzaWx2aWEiLCAicGVwcGVyIHBvdCIsICJwZXBwZXJvbmkgcGl6emEiLCAicGVwcGVycyBhbmQgb25pb25zIiwgInBlcmZlY3Qgd29ybGQiLCAicGVzdGVyIHBvd2VyIiwgInBldGVyIG91dCIsICJwaGlsYWRlbHBoaWEiLCAicGhvbmUgaG9tZSIsICJwaWNrIG1lIiwgInBpY2sgdXAgc3RpY2tzIiwgInBpY2tsZSBqdWljZSIsICJwaWNrbGVkIHBlcHBlcnMiLCAicGljdHVyZSBwZXJmZWN0IiwgInBpZSBhcmUgcm91bmQiLCAicGllIGFyZSBzcXVhcmVkIiwgInBpZSBjaGFydCIsICJwaWVjZSBvZiBjYWtlIiwgInBpZydzIGVhciIsICJwaWdneWJhY2siLCAicGluIG1vbmV5IiwgInBpcGUgZG93biIsICJwaXBlIGRyZWFtIiwgInBpcGluZyBob3QiLCAicGl0dGVyIHBhdHRlciIsICJwaXp6YSB0b3BwaW5nIiwgInBsYWluIHNhaWxpbmciLCAicGxheSBhIGdhbWUiLCAicGxheSBhZ2FpbiIsICJwbGF5IGJhbGwiLCAicGxheSBob29rZXkiLCAicGxheSBpdCBhZ2FpbiBzYW0iLCAicGxlYXNlZCBhcyBwdW5jaCIsICJwbGVudHkgb2YgdGltZSIsICJwbHVnZ2VkIG5pY2tlbCIsICJwbHVzIG9yIG1pbnVzIiwgInBvY2tldCBzaXplZCIsICJwb2QgYmF5IGRvb3JzIiwgInBvZXRpYyBqdXN0aWNlIiwgInBvaW50IGJsYW5rIiwgInBvaW50IHRvIHBvaW50IiwgInBvaW50cyBkb250IG1hdHRlciIsICJwb2ludHMgZm9udCBtYXR0ZXIiLCAicG9pc29uIGFwcGxlIiwgInBvbGl0aWNhbCBwYXJ0eSIsICJwb2xpdGljYWx5IGNvcnJlY3QiLCAicG9seSdzIGNyYWNrZXIiLCAicG9uZCBsaWZlIiwgInBvb2wgYm95IiwgInBvb2wgaGFsbCIsICJwb29sIGhvdXNlIiwgInBvb3IgaG91c2UiLCAicG9yayBwaWVzIiwgInBvdW5kIGNha2UiLCAicG93ZXIgZHJlc3NpbmciLCAicG93ZXIgdG9vbCIsICJwcmFjdGljZSBtYWtlcyBwZXJmZWN0IiwgInByZXNzIGludG8gc2VydmljZSIsICJwcmltZSB0aW1lIiwgInByaW1yb3NlIHBhdGgiLCAicHJpbnQgb3V0IiwgInByaW50IHBhcGVyIiwgInByaW50ZXIgcGFwZXIiLCAicHJvcGFuZSBhY2Nlc3NvcmllcyIsICJwdWJsaWMgZ29vZCIsICJwdWRkaW5nIHBvcHMiLCAicHVmZnkgc2hpcnQiLCAicHVtcGtpbiBwaWUiLCAicHVwcHkgZG9nIiwgInB1cHB5IGxvdmUiLCAicHVzaCBoYXJkZXIiLCAicHVzaCBvbiIsICJwdXNoIHRoZSBlZGdlIiwgInB1c2ggdGhlIGVudmVsb3BlIiwgInB5cnJoaWMgdmljdG9yeSIsICJxdWFsaXR5IHRpbWUiLCAicXVlZW4gbmVmZXJ0aXRpIiwgInF1ZWVuIG9mIGhlYXJ0cyIsICJxdWVlbidzIHlhY2h0IiwgInF1ZXN0aW9uIGV2ZXJ5dGhpbmciLCAicXVlc3Rpb24gbWFyayIsICJxdWlkIHBybyBxdW8iLCAicXVvdGF0aW9ucyIsICJyYWNrIGFuZCBydWluIiwgInJhY2sgeW91ciBicmFpbnMiLCAicmFpbiBnbyBhd2F5IiwgInJhaW4gdG9uaWdodCIsICJyYWlueSBkYXlzIiwgInJhaXNlIGNhaW4iLCAicmFzcGJlcnJ5IHRhcnQiLCAicmVhY2ggaGlnaGVyIiwgInJlYWQgYWxsIG92ZXIiLCAicmVhZCBtZSwgd3JpdGUgbWUiLCAicmVhZCBteSBtYWlsIiwgInJlYWR5IHNldCBnbyIsICJyZWFsIGhvb3B5IGZyb29kIiwgInJlYWwgbWNjb3kiLCAicmVkIGhlcnJpbmciLCAicmVkIHRhcGUiLCAicmVkIHdoaXRlIGFuZCBibHVlIiwgInJlZC1oYW5kZWQiLCAicmVkdXBsaWNhdGVkIHBocmFzZXMiLCAicmVtYWluIGNhbG0iLCAicmVudC1hLXN3YWciLCAicmVzcGVjdCBtZSIsICJyZXR1cm4gdG8gc2VuZGVyIiwgInJldmVyc2UgdGhlIHBvbGFyaXR5IiwgInJoaW5vIGJlZXRsZSIsICJyaG9kZWlzbGFuZCIsICJyaHltZSBub3IgcmVhc29uIiwgInJoeW1pbmcgc2xhbmciLCAicmljZSBhbmQgYmVhbnMiLCAicmljZSBqb2IiLCAicmlkZSB0aGUgc3Vid2F5IiwgInJpZmYtcmFmZiIsICJyaWdodCBoYW5kIHR1cm4iLCAicmlnaHQgbGVmdCIsICJyaWdodHkgdGlnaHR5IiwgInJpbmcgZmVuY2luZyIsICJyaW5nIGZlbnJpbmciLCAicmlua3ktZGluayIsICJyaXNlIGFuZCBzaGluZSIsICJyaXZlciBzb25nIiwgInJpdmVyIHN0eXgiLCAicm9hZCBhcHBsZXMiLCAicm9hZCBsZXNzIHRyYXZlbGxlZCIsICJyb2FzdCBiZWVmIiwgInJvYmUgb2Ygc2FmZnJvbiIsICJyb2NrZXQgc2NpZW5jZSIsICJyb2RlbnRzIG9mIHVudXN1YWwgc2l6ZSIsICJyb2ZsY29wdGVyIiwgInJvbGwgYWdhaW4iLCAicm9sbCBvdmVyIiwgInJvbGxlciBza2F0ZXMiLCAicm9sbGluZyBzdG9uZSIsICJyb29mdG9wIiwgInJvb20gZm9yIGFjdGl2aXRpZXMiLCAicm9vbW1hdGUgYWdyZWVtZW50IiwgInJvb3QgYmVlciBmbG9hdCIsICJyb3BlIGJ1cm4iLCAicm9zZWJ1ZCIsICJyb3NpZSBsZWEiLCAicm91Z2ggZGlhbW9uZCIsICJyb3VuZCBvbmUiLCAicm91bmQgcm9iaW4iLCAicm91bmQgdGFiMWUiLCAicm91dGUgb25lIiwgInJvdyBib2F0IiwgInJveSBnIGJpdiIsICJyb3lhbCBmbHVzaCIsICJydWJpY29uIGNyb3NzZWQiLCAicnVsZSBvZiBjaG9taW8iLCAicnVsZSBvZiB0aHVtYiIsICJydW0gZG8iLCAicnVuIGFtb2siLCAicnVuIGF3YXkiLCAicnVuIGZhcnRoZXIiLCAicnVuIHRoZSBnYXVudGxldCIsICJydW4gdGhyb3VnaCIsICJydW5ueSBub3NlIiwgInNhYmVyIHRvb3RoIiwgInNhY3JlZCBjb3ciLCAic2FmZSBzdHJlZXRzIiwgInNhZmVyIHN0cmVldHMiLCAic2FmZXR5IGZpcnN0IiwgInNhbGFkIGRheXMiLCAic2FsdCBhbmQgcGVwcGVyIiwgInNhbHR5IGNoZWVzZSIsICJzYW1lIHNhbWUiLCAic2FuZHkgYmVhY2giLCAic2F0dXJkYXkgZGV0ZW50aW9uIiwgInNhdWN5IiwgInNhdWVyIGtyYXV0IiwgInNhdXNhZ2VzIiwgInNhdmUgZmFjZSIsICJzYXZlIGl0IiwgInNhdmUgb3VyIGJsdXRocyIsICJzYXZvaXIgZmFpcmUiLCAic2F4IGFuZCB2aW9saW5zIiwgInNheSBjaGVlc2UiLCAic2Nob29sIGlzIGNvb2wiLCAic2NpZW5jZSBjbGFzcyIsICJzY2llbmNlIGZhaXIiLCAic2NpZW5jZSBpdCB3b3JrcyIsICJzY2llbmNlIHByb2plY3QiLCAic2NvdCBmcmVlIiwgInNjcmV3IGRyaXZlciIsICJzZWEgY2hhbmdlIiwgInNlYSBzaGVsbCIsICJzZWEgc2hvcmUiLCAic2VhdHRsZSIsICJzZWUgcmVkIiwgInNlZSB5YSIsICJzZWUtc2F3IiwgInNlZWsgYmVhdXR5IiwgInNlZW1zIGxlZ2l0IiwgInNlaXplIHRoZSBkYXkiLCAic2VsZWN0IGZyb20gdGFibGUiLCAic2VuZCBwYWNraW5nIiwgInNlbmlvciBjaXRpemVuIiwgInNldmVuIGF0ZSBuaW5lIiwgInNldmVuIHNpZ25zIiwgInNlemUgdGhlIGRheSIsICJzaGFrZSBhIGxlZyIsICJzaGFrZW4gbm90IHN0aXJyZWQiLCAic2hha2VycyBhbmQgbW92ZXJzIiwgInNoYW5lIGNvbWUgYmFjayIsICJzaGFycCBwZW5jaWwiLCAic2hhcnAgc3RpY2siLCAic2hlIGxvdmVzIGhpbSIsICJzaGUgc2VsbHMiLCAic2hlIHNlbGxzIHNlYXNoZWxscyIsICJzaGUncyBhIHdpdGNoIiwgInNoZWxkb24gYWxwaGEgZml2ZSIsICJzaGlsbHktc2hhbGx5IiwgInNoaXAgc2hhcGUiLCAic2hvZSBzaGluZSIsICJzaG9lcyBzaGluZSIsICJzaG9vdCB0aHJvdWdoIiwgInNob3VsZGVyIG9mIG9yaW9uIiwgInNob3cgZG93biIsICJzaHVmZmxlIHRoZSBkZWNrIiwgInNpY2sgcHVwcHkiLCAic2lnbmFsIHlvdXIgdHVybnMiLCAic2lnbnMgcG9pbnQgdG8geWVzIiwgInNpbGVuY2UgaXMgZ29sZGVuIiwgInNpbHZlciBiZWxscyIsICJzaWx2ZXIgYnVsbGV0IiwgInNpbHZlciBob2luZyIsICJzaWx2ZXIgbGluaW5nIiwgInNpbHZlciBzcG9vbiIsICJzaW4gY29zIHRhbiIsICJzaW5jZSB3aGVuIiwgInNpbmcgYSBzb25nIiwgInNpeGVzIGFuZCBzZXZlbnMiLCAic2l4dGVlbiBwb2ludCB0dXJuIiwgInNraWRyb3ciLCAic2tpcCBhIHR1cm4iLCAic2t5J3MgdGhlIGxpbWl0IiwgInNreW5ldCBpcyB3YXRjaGluZyIsICJza3luZXQga25vd3MiLCAic2t5bmV0IHdhdGNoZXMiLCAic2xlZXAgdGlnaHQiLCAic2xlZXB5IGhvbGxvdyIsICJzbGlteSBnb29wIiwgInNsaXBwZXJ5IHNsb3BlIiwgInNsb2FuZSByYW5nZXIiLCAic2xvdyBkb3duIiwgInNsb3cgbWlsZW5reSBsaXphcmRzIiwgInNsdXNoIGZ1bmQiLCAic2x5dGh5IHRvdmVzIiwgInNtYWxsIGZyaWVzIiwgInNtYWxsIGZyeSIsICJzbWFydCBjYXN1YWwiLCAic21hcnQgcGhvbmUiLCAic21hc2hlZCBwb3RhdG8iLCAic21lbGwgdGhhdCIsICJzbWVsbGluZyBzYWx0IiwgInNtb2tlZCBzYWxtb24iLCAic25ha2UgZXllcyIsICJzbmFwc2hvdCIsICJzbmFyZSBkcnVtIiwgInNuZWV6aW5nIGJhYnkgcGFuZGEiLCAic25vb3AgbGlvbiIsICJzbm93IGRyaWZ0IiwgInNub3cgZmx1cnJ5IiwgInNub3cgc2hvdmVsIiwgInNvIGZhciBhd2F5IiwgInNvIGxpZmUgbGlrZSIsICJzbyBzbyIsICJzb2QncyBsYXciLCAic29mdCBraXR0eSB3YXJtIGtpdHR5IiwgInNvZnQga2l0dHksIHdhcm0ga2l0dHkiLCAic29tZWJvZHkgdGhhdCBpIHVzZWQgdG8ga25vdyIsICJzb25pYyBzY3JldyBkcml2ZXIiLCAic29ycnkgZGF2ZSIsICJzb3JyeSBzaWdodCIsICJzb3VmZmxlIGdpcmwiLCAic291bmQgYml0ZSIsICJzb3VuZCBvZiBzaXJlbnMiLCAic291bmQgb3V0IiwgInNvdXIgZ3JhcGVzIiwgInNwYWNlIGlzIGJpZyIsICJzcGFjZSBwbHVtYmVyIiwgInNwYW5nbGVkIGJhbm5lciIsICJzcGVlZGluZyBidWxsZXQiLCAic3BlbGxpbmcgYmVlIiwgInNwZW5kIHRpbWUiLCAic3BpY2sgYW5kIHNwYW4iLCAic3BpY3kiLCAic3BpY3kgaG90IiwgInNwaW4gZG9jdG9yIiwgInNwaXR0aW5nIGZlYXRoZXJzIiwgInNwaXR0aW5nIGltYWdlIiwgInNwb2lsZXJzIiwgInNwcmVhZCB0aGUgbmV0IiwgInNwcmluZyB3YXRlciIsICJzcHJ1Y2UgdXAiLCAic3F1YXJlIG1lYWwiLCAic3F1YXJlIG9uZSIsICJzcXVlYWt5IGNsZWFuIiwgInNxdWlycmVsIGZyaWVuZCIsICJzdCBqb2hucyBiYXkiLCAic3RhbGxhIHN0ZWxsYSIsICJzdGFuZCBhbmQgZGVsaXZlciIsICJzdGFuZCBieSBtZSIsICJzdGFuZCB1cCBndXkiLCAic3RhciBzcGFuZ2xlZCIsICJzdGFyIHdhcnMga2lkIiwgInN0YXJ0IGZyb20gc2NyYXRjaCIsICJzdGF5IHNhZmUiLCAic3RlYWsgYW5kIGVnZ3MiLCAic3RlYW0gcHVuayIsICJzdGVlcmluZyB3aGVlbCIsICJzdGVwIGJhY2siLCAic3RlcCBvdmVyIiwgInN0ZXZlIGhvbHQiLCAic3RldmUgam9icyIsICJzdGlja3kgd2lja2V0IiwgInN0aW5nIGxpa2UgYSBiZWUiLCAic3RpbmtpbmcgcmljaCIsICJzdGlua3kgZmVldCIsICJzdG9uZSBzb3VwIiwgInN0b25lJ3MgdGhyb3ciLCAic3RvbnkgaGVhcnRlZCIsICJzdG9vbCBwaWdlb24iLCAic3RvcCB3YWlzdGluZyB0aW1lIiwgInN0cmFuZ2VyIGRhbmdlciIsICJzdHJlYW1zIG9mIG9jZWFudXMiLCAic3RyaWtlIGEgbWF0Y2giLCAic3RyaWtlIHRocmVlIiwgInN0cmluZyBhbG9uZyIsICJzdHJpbmcgY2hlZXNlIiwgInN0dWNrIGluIG11ZCIsICJzdHVtcCB1cCIsICJzdWRvIG1ha2Ugc2FuZHdpY2giLCAic3VscGh1ciBzbWVsbCIsICJzdW1tb24gaW5nbGlwIiwgInN1biB0enUgc2F5cyIsICJzdW5kYXkiLCAic3Vuc2hpbmUiLCAic3VwZXIgc3RhciIsICJzdXJmIGFuZCB0dXJmIiwgInN1cmZhY2UgaW50ZWdyYWwiLCAic3dhbiBzb25nIiwgInN3ZWV0IGRyZWFtcyIsICJzd2VldHkgcGllIiwgInN3aXJsaW5nIHZvcnRleCBvZiBlbnRyb3B5IiwgInRhY28gdHVlc2RheSIsICJ0YWtlIGEgbG9vayIsICJ0YWtlIGFuIHVtYnJlbGxhIiwgInRha2UgY2FyZSIsICJ0YWtlIGl0IGFsbCIsICJ0YWtlIG91dCBmb29kIiwgInRha2UgcG90bHVjayIsICJ0YWtlIHRoZSBjYWtlIiwgInRha2UgdW1icmFnZSIsICJ0YWtlIHdyb25nIHR1cm5zIiwgInRha2VuIGFiYWNrIiwgInRhbGsgdGhlIHRhbGsiLCAidGFsayB0byBzdHJhbmdlcnMiLCAidGFsayB0dXJrZXkiLCAidGFsbCBidWlsZGluZyIsICJ0YWxsIHN0b3J5IiwgInRhc3RlcyBnb29kIiwgInRhc3RlcyBsaWtlIGNoaWNrZW4iLCAidGVhIGVhcmwgZ3JheSBob3QiLCAidGVhIGxlYWYiLCAidGVhIHdpdGggamFtIiwgInRlYSB3aXRoIG1pbGsiLCAidGVhciB1cyBhcGFydCIsICJ0ZWNobmljb2xvciB5YXduIiwgInRlZmxvbiBwcmVzaWRlbnQiLCAidGVoIGludGVyIHdlYnMiLCAidGVuIGZvdXIiLCAidGVzbGEgY29pbCIsICJ0aGFuayB5b3UiLCAidGhhbmsgeW91LCBjb21lIGFnYWluIiwgInRoYXQgZXNjYWxhdGVkIHF1aWNrbHkiLCAidGhhdCBodXJ0cyIsICJ0aGF0IHdpbGwgbm90IHdvcmsiLCAidGhhdCdzIGEgZmFjdCBqYWNrIiwgInRoYXQncyBhbGwgZm9sa3MiLCAidGhhdCdzIGVub3VnaCIsICJ0aGF0J3MgaG90IiwgInRoYXQncyBpdCIsICJ0aGF0J3MgbXkgc3BvdCIsICJ0aGF0J3MgcmlnaHQiLCAidGhlIGJlZSdzIGtuZWVzIiwgInRoZSBiaWJsZSIsICJ0aGUgYmlnIGFwcGxlIiwgInRoZSBiaWcgY2hlZXNlIiwgInRoZSBiaWcgZWFzeSIsICJ0aGUgY2F0IGxhZHkiLCAidGhlIGNhdHMgY3JhZGxlIiwgInRoZSBkZW5uaXMgc3lzdGVtIiwgInRoZSBkdWRlIGFiaWRlcyIsICJ0aGUgZXh0cmEgbWlsZSIsICJ0aGUgbmV4dCBsZXZlbCIsICJ0aGUgbmlnaHRtYW4gY29tZXRoIiwgInRoZSBvbmUgZXllZCBtYW4gaXMgYSBraW5nIiwgInRoZSBvdGhlciBzaWRlIiwgInRoZSB0cmliZSBoYXMgc3Bva2VuIiwgInRoZSB5ZWxsb3cga2luZyIsICJ0aGVyZSBpcyBubyBzcG9vbiIsICJ0aGVyZSBpcyBvbmx5IHp1bCIsICJ0aGVyZSBvbmNlIHdhcyIsICJ0aGVzZSBwYXJ0cyIsICJ0aGV5IGFyZSB3YXRjaGluZyIsICJ0aGV5IGF0ZSBpdCIsICJ0aGljayBhbmQgdGhpbiIsICJ0aGluIGFpciIsICJ0aGluayBjcmVhdGUgZG8iLCAidGhpbmsgZ3JlZW4iLCAidGhpbmsgaGFyZCIsICJ0aGluayB0d2ljZSIsICJ0aGlua2luZyBjYXAiLCAidGhpcmQgZGVncmVlIiwgInRoaXJ0eSBvbmUgZGF5cyIsICJ0aGlzIGlzIGl0IiwgInRoaXMgaXMgbm90IGZha2UiLCAidGhpcyBpcyBzcGFydGEiLCAidGhpcyBvciB0aGF0IiwgInRoaXMgc3RhdGVtZW50IGlzIGZhbHNlIiwgInRocmVlIHNob3J0IHdvcmRzIiwgInRocmVlIHN0cmlrZXMiLCAidGhyb3VnaCB0aGUgZ3JhcGV2aW5lIiwgInRodW1icyB1cCIsICJ0aHVuZGVyIHN0b3JtIiwgInRpY2tlZCBvZmYiLCAidGlja2xlIHRoZSBpdm9yaWVzIiwgInRpY2tsZWQgaXZvcmllcyIsICJ0aWNrbGVkIHBpbmsiLCAidGlkZSBvdmVyIiwgInRpZ2h0IGxpcHBlZCIsICJ0aW1lIGFuZCBwYXBlciIsICJ0aW1lIGNpcmN1aXRzIiwgInRpbWUgZmxpZXMiLCAidGltZSBpcyBhbiBpbGx1c2lvbiIsICJ0aW1lIGxvcmQiLCAidGltZSBtYWNoaW5lIiwgInRpbWUgd2lsbCB0ZWxsIiwgInRpbWVzIHNxdWFyZSIsICJ0aW5rZXIncyBkYW0iLCAidG8gYm9vdCIsICJ0b2FzdCBwb2ludHMiLCAidG9lIHRoZSBsaW5lIiwgInRvZS1jdXJsaW5nIiwgInRvZ2V0aGVyIGFnYWluIiwgInRvbyBiYWQiLCAidG9vIGxhdGUiLCAidG9vIG1hbnkgY29va3MiLCAidG9vIG1hbnkgc2VjcmV0cyIsICJ0b28gc2FsdHkiLCAidG9vZGxlIG9vIiwgInRvcCBkb2ciLCAidG9wIGRyYXdlciIsICJ0b3Agbm90Y2giLCAidG9wIHRlbiIsICJ0b3BzeSB0dXJ2eSIsICJ0b3BzeS10dXJ2eSIsICJ0b3RhbCBzaGFtYmxlIiwgInRvd2VsIGRyeSIsICJ0b3dlciBvZiBzdHJlbmd0aCIsICJ0b3kgc29sZGllciIsICJ0cmFmZmljIGphbSIsICJ0cmFmZmljIGxpZ2h0IiwgInRyYWluIHN1cmZpbmciLCAidHJhdmVsIHNpemUiLCAidHJlYXQgeW9zZWxmIiwgInRyaWNrIG9yIHRyZWF0IiwgInRyaWNrbGUgZG93biIsICJ0cm9sb2xvbG9sIiwgInRydWUgYmx1ZSIsICJ0cnVlIGxpZmUiLCAidHJ1c3QgbWUiLCAidHVja2VyZWQgb3V0IiwgInR1bmEgZmlzaCIsICJ0dW5lIGluIiwgInR1cmtleSBzYW5kd2ljaCIsICJ0dXJuIHNpZ25hbCIsICJ0dXJuIHRoZSB0YWJsZXMiLCAidHVybiB1cCB0cnVtcHMiLCAidHdlbnR5IGVpZ2h0IGRheXMiLCAidHdlbnR5IGZvdXIgc2V2ZW4iLCAidHdlbnR5IG9uZSIsICJ0d2VudHkgdGhyZWUiLCAidHdvIGNlbnRzIHdvcnRoIiwgInR3byBoYW5kcyIsICJ0d28gbGVmdCBmZWV0IiwgInR3byB0b25lIiwgInUgamVsbHkiLCAidW1icmVsbGEgY29ycG9yYXRpb24iLCAidW5jaGFydGVkIGlzbGFuZCIsICJ1bmNsZSBsZW8iLCAidW5kZXIgdGhlIHNlYSIsICJ1bmRlcnBhbnRzIiwgInVuaW9uIGphY2siLCAidW5saW1pdGVkIHdpc2hlcyIsICJ1bnRpZWQgbGFjZXMiLCAidW50aWwgbmV4dCB0aW1lIiwgInVudGlsIHRvbW9ycm93IiwgInVudGlsIHRvbmlnaHQiLCAidXAgYW5kIGF3YXkiLCAidXAgb3IgZG93biIsICJ1cHBlciBjcnVzdCIsICJ1cHBlciBoYW5kIiwgInVwcyBhIGRhaXN5IiwgInVwc2lkZSBkb3duIiwgInVwdm90ZSB0aGlzIiwgInVwd2FyZCBzbG9wZSIsICJ1cmJhbiBteXRoIiwgInVzdWFsIHN1c3BlY3RzIiwgInV1IGRkIGxyIGxyIGJhIiwgInZhbiBzdXJmaW5nIiwgInZhbmlsbGEgaWNlIGNyZWFtIiwgInZlZyBvdXQiLCAidmVnYW4gZGlldCIsICJ2ZWdhbiB6b21iaWUgd2FudHMgZ3JhaW5zIiwgInZlZ2V0YXJpYW4iLCAidmVyeSBkb3VidGZ1bCIsICJ2ZXJ5IG5pY2UiLCAidmljZSB2ZXJzYSIsICJ2aWNpb3VzIGN5Y2xlIiwgInZpZGVvIHRhcGUiLCAidmllbm5hIGNhbGxpbmciLCAidmlydHVlIG9mIG5lY2Vzc2l0eSIsICJ2aXMgYSB2aXMiLCAidm9jYWwgbWlub3JpdHkiLCAidm9nb24gcG9ldHJ5IiwgInZvaWd0IGthbXBmIiwgInZvcnBhbCBzd29yZCIsICJ2b3RlIHBhbmNha2VzIiwgIndha2Ugb2YgdGhlIGZsb29kIiwgIndhbGsgZnJlZSIsICJ3YWxrIHRoZSBwbGFuayIsICJ3YWxrIHRoZSB3YWxrIiwgIndhbnQgbW9yZSIsICJ3YXJwIHNwZWVkIiwgIndhc2ggd2hpdGVzIHNlcGFyYXRlbHkiLCAid2F0Y2ggYy1iZWFtcyBnbGl0dGVyIiwgIndhdGNoIG1lIiwgIndhdGNoIG91dCIsICJ3YXRlciBnYXRlIiwgIndheCBwb2V0aWMiLCAid2F5IHRvIGdvIiwgIndheSB0byBnbyBkb25ueSIsICJ3ZSBnbyBmb3J3YXJkcyIsICJ3ZSBsaWtlIHRoZSBtb29uIiwgIndlYWtlc3QgbGluayIsICJ3ZWFzZWwgd29yZHMiLCAid2VsY29tZSB0byBlYXJ0aCIsICJ3ZWxsIGRvbmUiLCAid2VsbCBoZWVsZWQiLCAid2VsbCBpc24ndCB0aGF0IHNwZWNpYWwiLCAid2VsbCBub3ciLCAid2VsbCByZWFkIiwgIndleWxhbiB5dXRhbmkiLCAid2hhdCBldmVuIiwgIndoYXQgZXZlciIsICJ3aGF0IGZvciIsICJ3aGF0IGlmIiwgIndoYXQgaXMgZm9yIGRpbm5lciIsICJ3aGF0IGlzIHlvdXIgcXVlc3QiLCAid2hhdCBzaG91bGQgd2UgY2FsbCBtZSIsICJ3aGF0IHRvIHNlZSIsICJ3aGF0J3MgdGhhdCIsICJ3aGVlbCBncm91cCIsICJ3aGVuIHdoZXJlIiwgIndoZXJlIHRvIGdvIiwgIndoZXQgeW91ciBhcHBldGl0ZSIsICJ3aGlzdGxlIGFuZCBmbHV0ZSIsICJ3aGl0ZSBhcyBzbm93IiwgIndoaXRlIGJyZWFkIiwgIndoaXRlIGVsZXBoYW50IiwgIndoaXRlIHJhYmJpdCIsICJ3aG8gYW0gaSIsICJ3aG8gYXJlIHlvdSIsICJ3aG8gaXMgaXQiLCAid2hvIHlvdSBnb25uYSBjYWxsIiwgIndobywgd2hhdCwgd2hlcmUiLCAid2hvYSB0aGVyZSIsICJ3aG9sZSBuaW5lIHlhcmRzIiwgIndob2xlIHNoZWJhbmciLCAid2hvb3BlZSBjdXNoaW9uIiwgIndob29wcyBhIGRhaXN5IiwgIndpY2tlZCB3aXRjaCIsICJ3aWRlIGJlcnRoIiwgIndpbGQgYW5kIGNyYXp5IGd1eXMiLCAid2lsZCBhbmQgd29vbGx5IiwgIndpbGQgZ29vc2UgY2hhc2UiLCAid2lsZCB3ZXN0IiwgIndpbGx5IG5pbGx5IiwgIndpbiBoYW5kcyBkb3duIiwgIndpbmRvdyBkcmVzc2luZyIsICJ3aW5nIGl0IiwgIndpbm5pbmciLCAid2ludGVyIGlzIGNvbWluZyIsICJ3aW50ZXIgc25vdyIsICJ3aXNkb20gb2YgaW5nbGlwIiwgIndpc2RvbSB0ZWV0aCIsICJ3aXNoeS13YXNoeSIsICJ3aXRoIGJlbGxzIG9uIiwgIndpdGhvdXQgYSBkb3VidCIsICJ3b29mIHdvb2YiLCAid29yZCBmb3Igd29yZCIsICJ3b3JkcyBvZiB3aXNkb20iLCAid29yayBvdXQiLCAid291bGQgeW91IGJlbGlldmUiLCAid3JpZ2h0IGZseWVyIiwgIndyaXRpbmcgZGVzayIsICJ4IGFsbCB0aGUgeSIsICJ4eWxvcGhvbmUiLCAieWFkYSB5YWRhIiwgInlhZGRhIHlhZGRhIHlhZGRhIiwgInllYWggcmlnaHQiLCAieWVhciBkb3QiLCAieWVlIGhhdyIsICJ5ZWxsaW5nIGdvYXQiLCAieWVsbG93IGJlbGx5IiwgInllcyBkZWZpbml0ZWx5IiwgInllcyBtYSdhbSIsICJ5ZXMgc2lyIiwgInllcyB0aGlzIGlzIGRvZyIsICJ5b3UgYXJlIGhhcHB5IiwgInlvdSBhcmUgaGVyZSIsICJ5b3UgY2FuIGRvIHRoaXMiLCAieW91IGRvbid0IHNheSIsICJ5b3UgZmlyc3QiLCAieW91IGdvb2QiLCAieW91IGhhdmUgbXkgc3RhcGxlciIsICJ5b3Ugcm9jayIsICJ5b3UgdGhlIG1hbiIsICJ5b3Ugd2luIiwgInlvdSdyZSBpbiBteSBzcG90IiwgInlvdSdyZSBub3QgbGlzdGVuaW5nIiwgInlvdSdyZSB3ZWxjb21lIiwgInppZyB6YWciLCAiem9tYmllIGF0dGFjayIsICJ6b21iaWUgcHJvbSIsICJ3aG8gd2hhdCB3aGVyZSIsIF07CiAgICAgIGZ1bmN0aW9uIHNvbHZlbWVkKGIpIHt2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRhdGFsaXN0Iik7CiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoImlkIiwgImFkY29weV9waHJhc2VzIik7CiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBQSFJBU0VTLmxlbmd0aDsgKytjKSBhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShQSFJBU0VTW2NdKSk7CiAgICAgICAgYi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLCBiLm5leHRTaWJsaW5nKTsKICAgICAgICBiLnNldEF0dHJpYnV0ZSgibGlzdCIsIGEuaWQpO30KICAgICAgZm9yICh2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSwgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgKytpKSB7CiAgICAgICBpZiAoc2NyaXB0c1tpXS5zcmMuaW5kZXhPZigic29sdmVtZWRpYS5jb20iKSA+IC0xKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbiBjKGEpIHsKICAgICAgICAgICAgaWYgKC9eYWRjb3B5X3Jlc3BvbnNlLy50ZXN0KGEudGFyZ2V0LmlkKSkgewogICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLnR5cGUsIGMpOwogICAgICAgICAgICAgIHZhciBiID0gYS50YXJnZXQ7CiAgICAgICAgICAgICAgc29sdmVtZWQoYik7CiAgICAgICAgICAgICAgYi5ibHVyKCk7CiAgICAgICAgICAgICAgYi5mb2N1cygpO319KTsKICAgICAgICAgIGJyZWFrO319fX19KSgpOw=="},{"name":"Additional Bypass","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://cutdl.xyz/*","*://stfly.me/*","*://shrinke.me/*","*://gplinks.co/*","*://linksly.co/*","*://smgplaza.com/*","*://shortzon.com/*","*://icutlink.com/*","*://*.hamody.pro/*","*://*.mealob.com/*","*://megablogme.com/*","*://tribuntekno.com/*","*://namemegablog.com/*","*://doctor-groups.com/*","*://link.turkdown.com/*","*://safe.intipanime.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1690558057892,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/443888-additional-bypass/code/Additional%20Bypass.user.js","uuid":"de39405e-5308-4b2d-acd8-2ff6cda431b7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgQWRkaXRpb25hbCBCeXBhc3MKLy8gQG5hbWVzcGFjZSAgVmlvbGVudG1vbmtleSBTY3JpcHRzCi8vIEBtYXRjaCAgICAgICo6Ly9jdXRkbC54eXovKgovLyBAbWF0Y2ggICAgICAqOi8vc3RmbHkubWUvKgovLyBAbWF0Y2ggICAgICAqOi8vc2hyaW5rZS5tZS8qCi8vIEBtYXRjaCAgICAgICo6Ly9ncGxpbmtzLmNvLyoKLy8gQG1hdGNoICAgICAgKjovL2xpbmtzbHkuY28vKgovLyBAbWF0Y2ggICAgICAqOi8vc21ncGxhemEuY29tLyoKLy8gQG1hdGNoICAgICAgKjovL3Nob3J0em9uLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly9pY3V0bGluay5jb20vKgovLyBAbWF0Y2ggICAgICAqOi8vKi5oYW1vZHkucHJvLyoKLy8gQG1hdGNoICAgICAgKjovLyoubWVhbG9iLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly9tZWdhYmxvZ21lLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly90cmlidW50ZWtuby5jb20vKgovLyBAbWF0Y2ggICAgICAqOi8vbmFtZW1lZ2FibG9nLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly9kb2N0b3ItZ3JvdXBzLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly9saW5rLnR1cmtkb3duLmNvbS8qCi8vIEBtYXRjaCAgICAgICo6Ly9zYWZlLmludGlwYW5pbWUuY29tLyoKLy8gQGdyYW50ICAgICAgbm9uZQovLyBAdmVyc2lvbiAgICA0LjEKLy8gQGF1dGhvciAgICAgQmxvZ2dlcnBlbXVsYQovLyBAcnVuLWF0ICAgICBkb2N1bWVudC1zdGFydAovLyBAZGVzY3JpcHRpb24gQnlwYXNzIEFkZGl0aW9uIGZvciBCeXBhc3MgQWxsIFNob3J0bGlua3MKLy8gQHJlcXVpcmUgICAgaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuNi4wLm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEVBU0UgUkVBRCBTQ1JJUFQgSU5GTyBCRUZPUkUgVVNFCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMRUFTRSBSRVNQRUNUIElGIE1ZIFNDUklQVFMgVVNFRlVMIEZPUiBZT1UKLy8gICAgICAgICAgICAgICAgICAgICAgRE9OJ1QgVFJZIFRPIENPUFkgUEFTVEUgTVkgU0NSSVBUUyBUSEVOIFNIQVJFIFRPIE9USEVSUyBMSUtFIFlPVSBBUkUgVEhFIENSRUFUT1IKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgUExFQVNFIERPTidUIFJFTU9WRSBPUiBDSEFOR0UgTVkgQkxPRywgVEhBTktTIEZPUiBZT1VSIFNVUFBPUlQKLy8gICAgICAgICAgICAgIE15IEJsb2cgaXMgVmVyeSBJbXBvcnRhbnQgdG8gZ2l2ZSBzb21lIERlbGF5IGZvciBzYWZlIGF3YXkgLFRyYWNrIE5ldyBTaG9ydGxpbmtzICwgQnJva2VuIEJ5cGFzcyBldGMuLi4KLy8gVGhhbmtzIHNvIG11Y2ggdG8gQEp1c3RPbGFmICwgQEtvbmYgLCBAaGFja2VyMDkgZm9yIEhlbHBpbmcgbWUgLCBtYWtlIG15IHNjcmlwdCBldmVuIGJldHRlciAsIGFuZCBmb3IgQWxsIHdobyBoYXMgY29udHJpYnV0ZWQgdmlhIEZlZWRiYWNrLgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CihmdW5jdGlvbigpIHsKICAndXNlIHN0cmljdCc7CiAgY29uc3QgYnAgPSBxdWVyeSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTsKICBjb25zdCBlbGVtZW50RXhpc3RzID0gcXVlcnkgPT4gYnAocXVlcnkpICE9PSBudWxsOwoKICBmdW5jdGlvbiBzdWJtaXQocXVlcnkpIHsKICAgIGJwKHF1ZXJ5KS5zdWJtaXQoKTsKICB9CgogIGZ1bmN0aW9uIHJlZGlyZWN0KHVybCwgYmxvZyA9IHRydWUpIHsKICAgIGxvY2F0aW9uID0gYmxvZyA/ICdodHRwczovL2ZyZWU0dS5udXJ1bC1odWRhLm9yLmlkLz91cmw9JyArIHVybCA6IHVybDsKICB9CgogIGlmIChbJ2ludGVyYWN0aXZlJywgJ2NvbXBsZXRlJ10uaW5jbHVkZXMoZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHsKICAgIG9uSHRtbExvYWRlZCgpOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgb25IdG1sTG9hZGVkKTsKICB9CgogIGZ1bmN0aW9uIG9uSHRtbExvYWRlZCgpIHsKICAgIGxldCAkID0gd2luZG93LmpRdWVyeTsKICAgIGxldCByZXNwZWN0ID0gJ2h0dHBzOi8vZnJlZTR1Lm51cnVsLWh1ZGEub3IuaWQvP3VybD0nOyAvLyBEb24ndCB1c2UgTXkgU2NyaXB0cyBpZiBZb3UgQ2hhbmdlL1JlbW92ZSBNeSBCbG9ncywgRXhjZXB0IFlvdSBNYWtlIERvbmF0aW9ucy4KICAgIGlmIChbJ3NhZmUuaW50aXBhbmltZS5jb20nLCAnaW50ZXJjZWxlc3RpYWwuY29tJywgJ3RyaWJ1bnRla25vLmNvbScsICdtZWFsb2IuY29tJywgJ3NtZ3BsYXphLmNvbScsICduYW1lbWVnYWJsb2cuY29tJywgJ2JsYWNrbGVhZHIuY29tJywgJ21lZ2FibG9nbWUuY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7CiAgICAgIGZ1bmN0aW9uIEJ5cGFzcygpIHsKICAgICAgICAkKCIjc2hvd2xpbmsiKS5kZWxheSg4MCkuZmFkZUluKCJmYXN0Iik7CiAgICAgICAgJCgiI3BsZWFzZXdhaXQiKS5mYWRlSW4oImZhc3QiKTsKICAgICAgfQogICAgICBCeXBhc3MoKTsKICAgICAgJCgnI2xhbmRpbmcnKS5zdWJtaXQoKTsKICAgICAgJCgnI2hlYWRpbWcnKS5yZW1vdmUoKTsKICAgICAgJCgnI3BsZWFzZXdhaXQnKS5yZW1vdmUoKTsKICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7CiAgICAgICAgc2Nyb2xsVG9wOiAwCiAgICAgIH0sIDEwMCk7CiAgICAgIGJwKCcuc29yYWN0cmwnKS5hcHBlbmRDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3BvaW50JykpOwogICAgICBicCgnLnNwb2ludCcpLnNyYyA9ICdodHRwczovL2kuaWJiLmNvL2MxdG05bXovQnlwYXNzZWQtQnktQmxvZ2dlcnBlbXVsYS5wbmcnOwogICAgICBicCgnLnNwb2ludCcpLnRpdGxlID0gJ1BsZWFzZSBDbGljayBNYW51YWxseSAsIFNvcnJ5IGF0IHRoaXMgdGltZSBpIGRvbnQgaGF2ZSBpZGVhIHRvIG1ha2UgdGhpcyBhdXRvLCBTaWxhaGthbiBkaSBrbGlrIG1hbnVhbCwgbWFhZiBiZWx1bSBuZW11IGlkZSBiaWFyIGJpc2Egb3RvbWF0aXMnOwogICAgfQogICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNnby1saW5rJykpIHsKICAgICAgJCgnI2dvLWxpbmsnKS5zdWJtaXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGZvcm0gPSAkKHRoaXMpOwogICAgICAgIHZhciB1cmwgPSBmb3JtLmF0dHIoJ2FjdGlvbicpOwogICAgICAgIGNvbnN0IHBlc2FuID0gZm9ybS5maW5kKCdidXR0b24nKTsKICAgICAgICBjb25zdCBub3Rmb3JzYWxlID0gJCgiLm5hdmJhci1jb2xsYXBzZS5jb2xsYXBzZSIpOwogICAgICAgIGNvbnN0IGJsb2dnZXIgPSAkKCIubWFpbi1oZWFkZXIiKTsKICAgICAgICBjb25zdCBwZW11bGEgPSAkKCIuY29sLXNtLTYuaGlkZGVuLXhzIik7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgZGF0YTogZm9ybS5zZXJpYWxpemUoKSwKICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikgewogICAgICAgICAgICBwZXNhbi5hdHRyKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpOwogICAgICAgICAgICAkKCdhLmdldC1saW5rJykudGV4dCgnQnlwYXNzZWQgYnkgQmxvZ2dlcnBlbXVsYScpOwogICAgICAgICAgICBub3Rmb3JzYWxlLnJlcGxhY2VXaXRoKCc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgLCBjb2wtbWQtMTIgdGV4dC1jZW50ZXIiIG9uY2xpY2s9ImphdmFzY3JpcHQ6IHJldHVybiBmYWxzZTsiPjxiPlRoYW5rcyBmb3IgdXNpbmcgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNjcmlwdHMgYW5kIGZvciBEb25hdGlvbnMgLCBSZWdhcmRzIDogQmxvZ2dlcnBlbXVsYTwvYj48L2J1dHRvbj4nKTsKICAgICAgICAgICAgYmxvZ2dlci5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7CiAgICAgICAgICAgIHBlbXVsYS5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7CiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0LCB4aHIpIHsKICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHJlc3BlY3QgKyByZXN1bHQudXJsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn0pKCk7","requires":[{"meta":{"name":"jquery-3.6.0.min.js","url":"https://code.jquery.com/jquery-3.6.0.min.js","ts":1690558058676,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"Simple YouTube Age Restriction Bypass","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.youtube.com/*","https://www.youtube-nocookie.com/*","https://m.youtube.com/*","https://music.youtube.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1690558061329,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/423851-simple-youtube-age-restriction-bypass/code/Simple%20YouTube%20Age%20Restriction%20Bypass.user.js","uuid":"88b326f1-f0e9-405f-8db0-d779b1b1551c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBTaW1wbGUgWW91VHViZSBBZ2UgUmVzdHJpY3Rpb24gQnlwYXNzCi8vIEBkZXNjcmlwdGlvbiAgICAgV2F0Y2ggYWdlIHJlc3RyaWN0ZWQgdmlkZW9zIG9uIFlvdVR1YmUgd2l0aG91dCBsb2dpbiBhbmQgd2l0aG91dCBhZ2UgdmVyaWZpY2F0aW9uIPCfmI4KLy8gQGRlc2NyaXB0aW9uOmRlICBTY2hhdWUgWW91VHViZSBWaWRlb3MgbWl0IEFsdGVyc2Jlc2NocsOkbmt1bmdlbiBvaG5lIEFubWVsZHVuZyB1bmQgb2huZSBkZWluIEFsdGVyIHp1IGJlc3TDpHRpZ2VuIPCfmI4KLy8gQGRlc2NyaXB0aW9uOmZyICBSZWdhcmRleiBkZXMgdmlkw6lvcyBZb3VUdWJlIGF2ZWMgZGVzIHJlc3RyaWN0aW9ucyBkJ8OiZ2Ugc2FucyB2b3VzIGluc2NyaXJlIGV0IHNhbnMgY29uZmlybWVyIHZvdHJlIMOiZ2Ug8J+YjgovLyBAZGVzY3JpcHRpb246aXQgIEd1YXJkYSBpIHZpZGVvIGNvbiByZXN0cml6aW9uaSBkaSBldMOgIHN1IFlvdVR1YmUgc2VuemEgbG9naW4gZSBzZW56YSB2ZXJpZmljYSBkZWxsJ2V0w6Ag8J+YjgovLyBAaWNvbiAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3Jhdy92Mi41LjQvc3JjL2V4dGVuc2lvbi9pY29uL2ljb25fNjQucG5nCi8vIEB2ZXJzaW9uICAgICAgICAgMi41LjcKLy8gQGF1dGhvciAgICAgICAgICBaZXJvZHkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaCkKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy8KLy8gQHN1cHBvcnRVUkwgICAgICBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMKLy8gQGxpY2Vuc2UgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHBzOi8vbS55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgaHR0cHM6Ly9tdXNpYy55b3V0dWJlLmNvbS8qCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBjb21wYXRpYmxlICAgICAgY2hyb21lCi8vIEBjb21wYXRpYmxlICAgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICAgIG9wZXJhCi8vIEBjb21wYXRpYmxlICAgICAgZWRnZQovLyBAY29tcGF0aWJsZSAgICAgIHNhZmFyaQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qCiAgICBUaGlzIGlzIGEgdHJhbnNwaWxlZCB2ZXJzaW9uIHRvIGFjaGlldmUgYSBjbGVhbiBjb2RlIGJhc2UgYW5kIGJldHRlciBicm93c2VyIGNvbXBhdGliaWxpdHkuCiAgICBZb3UgY2FuIGZpbmQgdGhlIG5pY2VseSByZWFkYWJsZSBzb3VyY2UgY29kZSBhdCBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcwoqLwoKKGZ1bmN0aW9uIGlpZmUocmFuT25jZSkgewogICAgLy8gVHJpY2sgdG8gZ2V0IGFyb3VuZCB0aGUgc2FuZGJveCByZXN0cmljdGlvbnMgaW4gR3JlYXNlbW9ua2V5IChGaXJlZm94KQogICAgLy8gSW5qZWN0IGNvZGUgaW50byB0aGUgbWFpbiB3aW5kb3cgaWYgY3JpdGVyaWEgbWF0Y2gKICAgIGlmICh0aGlzICE9PSB3aW5kb3cgJiYgIXJhbk9uY2UpIHsKICAgICAgICB3aW5kb3cuZXZhbCgnKCcgKyBpaWZlLnRvU3RyaW5nKCkgKyAnKSh0cnVlKTsnKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8gU2NyaXB0IGNvbmZpZ3VyYXRpb24gdmFyaWFibGVzCiAgICBjb25zdCBVTkxPQ0tBQkxFX1BMQVlBQklMSVRZX1NUQVRVU0VTID0gWydBR0VfVkVSSUZJQ0FUSU9OX1JFUVVJUkVEJywgJ0FHRV9DSEVDS19SRVFVSVJFRCcsICdDT05URU5UX0NIRUNLX1JFUVVJUkVEJywgJ0xPR0lOX1JFUVVJUkVEJ107CiAgICBjb25zdCBWQUxJRF9QTEFZQUJJTElUWV9TVEFUVVNFUyA9IFsnT0snLCAnTElWRV9TVFJFQU1fT0ZGTElORSddOwoKICAgIC8vIFRoZXNlIGFyZSB0aGUgcHJveHkgc2VydmVycyB0aGF0IGFyZSBzb21ldGltZXMgcmVxdWlyZWQgdG8gdW5sb2NrIHZpZGVvcyB3aXRoIGFnZSByZXN0cmljdGlvbnMuCiAgICAvLyBZb3UgY2FuIGhvc3QgeW91ciBvd24gYWNjb3VudCBwcm94eSBpbnN0YW5jZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3RyZWUvbWFpbi9hY2NvdW50LXByb3h5CiAgICAvLyBUbyBsZWFybiB3aGF0IGluZm9ybWF0aW9uIGlzIHRyYW5zZmVycmVkLCBwbGVhc2UgcmVhZDogaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MjcHJpdmFjeQogICAgY29uc3QgQUNDT1VOVF9QUk9YWV9TRVJWRVJfSE9TVCA9ICdodHRwczovL3lvdXR1YmUtcHJveHkuemVyb2R5Lm9uZSc7CiAgICBjb25zdCBWSURFT19QUk9YWV9TRVJWRVJfSE9TVCA9ICdodHRwczovL3BoeC40ZXZlcnByb3h5LmNvbSc7CgogICAgLy8gVXNlciBuZWVkcyB0byBjb25maXJtIHRoZSB1bmxvY2sgcHJvY2VzcyBvbiBlbWJlZGRlZCBwbGF5ZXI/CiAgICBsZXQgRU5BQkxFX1VOTE9DS19DT05GSVJNQVRJT05fRU1CRUQgPSB0cnVlOwoKICAgIC8vIFNob3cgbm90aWZpY2F0aW9uPwogICAgbGV0IEVOQUJMRV9VTkxPQ0tfTk9USUZJQ0FUSU9OID0gdHJ1ZTsKCiAgICAvLyBEaXNhYmxlIGNvbnRlbnQgd2FybmluZ3M/CiAgICBsZXQgU0tJUF9DT05URU5UX1dBUk5JTkdTID0gdHJ1ZTsKCiAgICAvLyBTb21lIElubmVydHViZSBieXBhc3MgbWV0aG9kcyByZXF1aXJlIHRoZSBmb2xsb3dpbmcgYXV0aGVudGljYXRpb24gaGVhZGVycyBvZiB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyLgogICAgY29uc3QgR09PR0xFX0FVVEhfSEVBREVSX05BTUVTID0gWydBdXRob3JpemF0aW9uJywgJ1gtR29vZy1BdXRoVXNlcicsICdYLU9yaWdpbiddOwoKICAgIC8qKgogICAgICogVGhlIFNRUCBwYXJhbWV0ZXIgbGVuZ3RoIGlzIGRpZmZlcmVudCBmb3IgYmx1cnJlZCB0aHVtYm5haWxzLgogICAgICogVGhleSBjb250YWluIG11Y2ggbGVzcyBpbmZvcm1hdGlvbiwgdGhhbiBub3JtYWwgdGh1bWJuYWlscy4KICAgICAqIFRoZSB0aHVtYm5haWwgU1FQcyB0ZW5kIHRvIGhhdmUgYSBsb25nIGFuZCBhIHNob3J0IHZlcnNpb24uCiAgICAgKi8KICAgIGNvbnN0IEJMVVJSRURfVEhVTUJOQUlMX1NRUF9MRU5HVEhTID0gWwogICAgICAgIDMyLCAvLyBNb2JpbGUgKFNIT1JUKQogICAgICAgIDQ4LCAvLyBEZXNrdG9wIFBsYXlsaXN0IChTSE9SVCkKICAgICAgICA1NiwgLy8gRGVza3RvcCAoU0hPUlQpCiAgICAgICAgNjgsIC8vIE1vYmlsZSAoTE9ORykKICAgICAgICA3MiwgLy8gTW9iaWxlIFNob3J0cwogICAgICAgIDg0LCAvLyBEZXNrdG9wIFBsYXlsaXN0IChMT05HKQogICAgICAgIDg4LCAvLyBEZXNrdG9wIChMT05HKQogICAgXTsKCiAgICAvLyBzbWFsbCBoYWNrIHRvIHByZXZlbnQgdHJlZSBzaGFraW5nIG9uIHRoZXNlIGV4cG9ydHMKICAgIHZhciBDb25maWcgPSB3aW5kb3dbU3ltYm9sKCldID0gewogICAgICAgIFVOTE9DS0FCTEVfUExBWUFCSUxJVFlfU1RBVFVTRVMsCiAgICAgICAgVkFMSURfUExBWUFCSUxJVFlfU1RBVFVTRVMsCiAgICAgICAgQUNDT1VOVF9QUk9YWV9TRVJWRVJfSE9TVCwKICAgICAgICBWSURFT19QUk9YWV9TRVJWRVJfSE9TVCwKICAgICAgICBFTkFCTEVfVU5MT0NLX0NPTkZJUk1BVElPTl9FTUJFRCwKICAgICAgICBFTkFCTEVfVU5MT0NLX05PVElGSUNBVElPTiwKICAgICAgICBTS0lQX0NPTlRFTlRfV0FSTklOR1MsCiAgICAgICAgR09PR0xFX0FVVEhfSEVBREVSX05BTUVTLAogICAgICAgIEJMVVJSRURfVEhVTUJOQUlMX1NRUF9MRU5HVEhTLAogICAgfTsKCiAgICBmdW5jdGlvbiBpc0dvb2dsZVZpZGVvVXJsKHVybCkgewogICAgICAgIHJldHVybiB1cmwuaG9zdC5pbmNsdWRlcygnLmdvb2dsZXZpZGVvLmNvbScpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzR29vZ2xlVmlkZW9VbmxvY2tSZXF1aXJlZChnb29nbGVWaWRlb1VybCwgbGFzdFByb3hpZWRHb29nbGVWaWRlb0lkKSB7CiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhnb29nbGVWaWRlb1VybC5zZWFyY2gpOwogICAgICAgIGNvbnN0IGhhc0djckZsYWcgPSB1cmxQYXJhbXMuZ2V0KCdnY3InKTsKICAgICAgICBjb25zdCB3YXNVbmxvY2tlZEJ5QWNjb3VudFByb3h5ID0gdXJsUGFyYW1zLmdldCgnaWQnKSA9PT0gbGFzdFByb3hpZWRHb29nbGVWaWRlb0lkOwoKICAgICAgICByZXR1cm4gaGFzR2NyRmxhZyAmJiB3YXNVbmxvY2tlZEJ5QWNjb3VudFByb3h5OwogICAgfQoKICAgIGNvbnN0IG5hdGl2ZUpTT05QYXJzZSA9IHdpbmRvdy5KU09OLnBhcnNlOwogICAgY29uc3QgbmF0aXZlWE1MSHR0cFJlcXVlc3RPcGVuID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuOwoKICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0ICE9PSAnbS55b3V0dWJlLmNvbSc7CiAgICBjb25zdCBpc011c2ljID0gd2luZG93LmxvY2F0aW9uLmhvc3QgPT09ICdtdXNpYy55b3V0dWJlLmNvbSc7CiAgICBjb25zdCBpc0VtYmVkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9lbWJlZC8nKSA9PT0gMDsKICAgIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygndW5sb2NrX2NvbmZpcm1lZCcpOwoKICAgIGNsYXNzIERlZmVycmVkIHsKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oCiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBvcHRpb25zKSB7CiAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7CiAgICAgICAgb3B0aW9ucyAmJiBPYmplY3QuYXNzaWduKG5vZGUsIG9wdGlvbnMpOwogICAgICAgIHJldHVybiBub2RlOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikgewogICAgICAgIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCc7CiAgICB9CgogICAgZnVuY3Rpb24gZmluZE5lc3RlZE9iamVjdHNCeUF0dHJpYnV0ZU5hbWVzKG9iamVjdCwgYXR0cmlidXRlTmFtZXMpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IFtdOwoKICAgICAgICAvLyBEb2VzIHRoZSBjdXJyZW50IG9iamVjdCBtYXRjaCB0aGUgYXR0cmlidXRlIGNvbmRpdGlvbnM/CiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWVzLmV2ZXJ5KChrZXkpID0+IHR5cGVvZiBvYmplY3Rba2V5XSAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgICAgICAgIHJlc3VsdHMucHVzaChvYmplY3QpOwogICAgICAgIH0KCiAgICAgICAgLy8gRGlnZ2luJyBkZWVwZXIgZm9yIGVhY2ggbmVzdGVkIG9iamVjdCAocmVjdXJzaXZlKQogICAgICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgICAgIGlmIChvYmplY3Rba2V5XSAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goLi4uZmluZE5lc3RlZE9iamVjdHNCeUF0dHJpYnV0ZU5hbWVzKG9iamVjdFtrZXldLCBhdHRyaWJ1dGVOYW1lcykpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhZ2VMb2FkZWQoKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKCiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTsKCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkZWZlcnJlZC5yZXNvbHZlLCB7IG9uY2U6IHRydWUgfSk7CgogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVEZWVwQ29weShvYmopIHsKICAgICAgICByZXR1cm4gbmF0aXZlSlNPTlBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFl0Y2ZnVmFsdWUobmFtZSkgewogICAgICAgIHZhciBfd2luZG93JHl0Y2ZnOwogICAgICAgIHJldHVybiAoX3dpbmRvdyR5dGNmZyA9IHdpbmRvdy55dGNmZykgPT09IG51bGwgfHwgX3dpbmRvdyR5dGNmZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyR5dGNmZy5nZXQobmFtZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2lnbmF0dXJlVGltZXN0YW1wKCkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIGdldFl0Y2ZnVmFsdWUoJ1NUUycpCiAgICAgICAgICAgIHx8ICgoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgX2RvY3VtZW50JHF1ZXJ5U2VsZWN0OwogICAgICAgICAgICAgICAgLy8gU1RTIGlzIG1pc3Npbmcgb24gZW1iZWRkZWQgcGxheWVyLiBSZXRyaWV2ZSBmcm9tIHBsYXllciBiYXNlIHNjcmlwdCBhcyBmYWxsYmFjay4uLgogICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQmFzZUpzUGF0aCA9IChfZG9jdW1lbnQkcXVlcnlTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0iL2Jhc2UuanMiXScpKSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkcXVlcnlTZWxlY3QgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiBfZG9jdW1lbnQkcXVlcnlTZWxlY3Quc3JjOwoKICAgICAgICAgICAgICAgIGlmICghcGxheWVyQmFzZUpzUGF0aCkgcmV0dXJuOwoKICAgICAgICAgICAgICAgIGNvbnN0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHhtbGh0dHAub3BlbignR0VUJywgcGxheWVyQmFzZUpzUGF0aCwgZmFsc2UpOwogICAgICAgICAgICAgICAgeG1saHR0cC5zZW5kKG51bGwpOwoKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh4bWxodHRwLnJlc3BvbnNlVGV4dC5tYXRjaCgvc2lnbmF0dXJlVGltZXN0YW1wOihbMC05XSopLylbMV0pOwogICAgICAgICAgICB9KSgpCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1VzZXJMb2dnZWRJbigpIHsKICAgICAgICAvLyBMT0dHRURfSU4gZG9lc24ndCBleGlzdCBvbiBlbWJlZGRlZCBwYWdlLCB1c2UgREVMRUdBVEVEX1NFU1NJT05fSUQgb3IgU0VTU0lPTl9JTkRFWCBhcyBmYWxsYmFjawogICAgICAgIGlmICh0eXBlb2YgZ2V0WXRjZmdWYWx1ZSgnTE9HR0VEX0lOJykgPT09ICdib29sZWFuJykgcmV0dXJuIGdldFl0Y2ZnVmFsdWUoJ0xPR0dFRF9JTicpOwogICAgICAgIGlmICh0eXBlb2YgZ2V0WXRjZmdWYWx1ZSgnREVMRUdBVEVEX1NFU1NJT05fSUQnKSA9PT0gJ3N0cmluZycpIHJldHVybiB0cnVlOwogICAgICAgIGlmIChwYXJzZUludChnZXRZdGNmZ1ZhbHVlKCdTRVNTSU9OX0lOREVYJykpID49IDApIHJldHVybiB0cnVlOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q3VycmVudFZpZGVvU3RhcnRUaW1lKGN1cnJlbnRWaWRlb0lkKSB7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIFVSTCBjb3JyZXNwb25kcyB0byB0aGUgcmVxdWVzdGVkIHZpZGVvCiAgICAgICAgLy8gVGhpcyBpcyBub3QgdGhlIGNhc2Ugd2hlbiB0aGUgcGxheWVyIGdldHMgcHJlbG9hZGVkIGZvciB0aGUgbmV4dCB2aWRlbyBpbiBhIHBsYXlsaXN0LgogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhjdXJyZW50VmlkZW9JZCkpIHsKICAgICAgICAgICAgdmFyIF9yZWY7CiAgICAgICAgICAgIC8vICJ0Ii1wYXJhbSBvbiB5b3V0dS5iZSB1cmxzCiAgICAgICAgICAgIC8vICJzdGFydCItcGFyYW0gb24gZW1iZWQgcGxheWVyCiAgICAgICAgICAgIC8vICJ0aW1lX2NvbnRpbnVlIiB3aGVuIGNsaWNraW5nICJ3YXRjaCBvbiB5b3V0dWJlIiBvbiBlbWJlZGRlZCBwbGF5ZXIKICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lU3RyaW5nID0gKF9yZWYgPSB1cmxQYXJhbXMuZ2V0KCd0JykgfHwgdXJsUGFyYW1zLmdldCgnc3RhcnQnKSB8fCB1cmxQYXJhbXMuZ2V0KCd0aW1lX2NvbnRpbnVlJykpID09PSBudWxsIHx8IF9yZWYgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogX3JlZi5yZXBsYWNlKCdzJywgJycpOwoKICAgICAgICAgICAgaWYgKHN0YXJ0VGltZVN0cmluZyAmJiAhaXNOYU4oc3RhcnRUaW1lU3RyaW5nKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0YXJ0VGltZVN0cmluZyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFVybFBhcmFtcyhwYXJhbXMpIHsKICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGZvciAoY29uc3QgcGFyYW1OYW1lIGluIHBhcmFtcykgewogICAgICAgICAgICB1cmxQYXJhbXMuc2V0KHBhcmFtTmFtZSwgcGFyYW1zW3BhcmFtTmFtZV0pOwogICAgICAgIH0KICAgICAgICB3aW5kb3cubG9jYXRpb24uc2VhcmNoID0gdXJsUGFyYW1zOwogICAgfQoKICAgIGZ1bmN0aW9uIHdhaXRGb3JFbGVtZW50KGVsZW1lbnRTZWxlY3RvciwgdGltZW91dCkgewogICAgICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7CgogICAgICAgIGNvbnN0IGNoZWNrRG9tSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRTZWxlY3Rvcik7CiAgICAgICAgICAgIGlmIChlbGVtKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrRG9tSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMCk7CgogICAgICAgIGlmICh0aW1lb3V0KSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0RvbUludGVydmFsKTsKICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpOwogICAgICAgICAgICB9LCB0aW1lb3V0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBwYXJzZVJlbGF0aXZlVXJsKHVybCkgewogICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh1cmwuaW5kZXhPZignLycpID09PSAwKSB7CiAgICAgICAgICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB1cmw7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdXJsLmluZGV4T2YoJ2h0dHBzOi8vJykgPT09IDAgPyBuZXcgd2luZG93LlVSTCh1cmwpIDogbnVsbDsKICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGlzV2F0Y2hOZXh0T2JqZWN0KHBhcnNlZERhdGEpIHsKICAgICAgICB2YXIgX3BhcnNlZERhdGEkY3VycmVudFZpLCBfcGFyc2VkRGF0YSRjdXJyZW50VmkyOwogICAgICAgIGlmICgKICAgICAgICAgICAgIShwYXJzZWREYXRhICE9PSBudWxsICYmIHBhcnNlZERhdGEgIT09IHZvaWQgMCAmJiBwYXJzZWREYXRhLmNvbnRlbnRzKQogICAgICAgICAgICB8fCAhKHBhcnNlZERhdGEgIT09IG51bGwgJiYgcGFyc2VkRGF0YSAhPT0gdm9pZCAwICYmIChfcGFyc2VkRGF0YSRjdXJyZW50VmkgPSBwYXJzZWREYXRhLmN1cnJlbnRWaWRlb0VuZHBvaW50KSAhPT0gbnVsbCAmJiBfcGFyc2VkRGF0YSRjdXJyZW50VmkgIT09IHZvaWQgMAogICAgICAgICAgICAgICAgJiYgKF9wYXJzZWREYXRhJGN1cnJlbnRWaTIgPSBfcGFyc2VkRGF0YSRjdXJyZW50Vmkud2F0Y2hFbmRwb2ludCkgIT09IG51bGwgJiYgX3BhcnNlZERhdGEkY3VycmVudFZpMiAhPT0gdm9pZCAwICYmIF9wYXJzZWREYXRhJGN1cnJlbnRWaTIudmlkZW9JZCkKICAgICAgICApIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gISFwYXJzZWREYXRhLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHMgfHwgISFwYXJzZWREYXRhLmNvbnRlbnRzLnNpbmdsZUNvbHVtbldhdGNoTmV4dFJlc3VsdHM7CiAgICB9CgogICAgZnVuY3Rpb24gaXNXYXRjaE5leHRTaWRlYmFyRW1wdHkocGFyc2VkRGF0YSkgewogICAgICAgIHZhciBfcGFyc2VkRGF0YSRjb250ZW50czIsIF9wYXJzZWREYXRhJGNvbnRlbnRzMywgX3BhcnNlZERhdGEkY29udGVudHM0LCBfcGFyc2VkRGF0YSRjb250ZW50czUsIF9jb250ZW50JGZpbmQ7CiAgICAgICAgaWYgKGlzRGVza3RvcCkgewogICAgICAgICAgICB2YXIgX3BhcnNlZERhdGEkY29udGVudHMsIF9wYXJzZWREYXRhJGNvbnRlbnRzJCwgX3BhcnNlZERhdGEkY29udGVudHMkMiwgX3BhcnNlZERhdGEkY29udGVudHMkMzsKICAgICAgICAgICAgLy8gV0VCIHJlc3BvbnNlIGxheW91dAogICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoX3BhcnNlZERhdGEkY29udGVudHMgPSBwYXJzZWREYXRhLmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50cyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHMkID0gX3BhcnNlZERhdGEkY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHMkID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50cyQyID0gX3BhcnNlZERhdGEkY29udGVudHMkLnNlY29uZGFyeVJlc3VsdHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzJDIgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJGNvbnRlbnRzJDMgPSBfcGFyc2VkRGF0YSRjb250ZW50cyQyLnNlY29uZGFyeVJlc3VsdHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzJDMgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogX3BhcnNlZERhdGEkY29udGVudHMkMy5yZXN1bHRzOwogICAgICAgICAgICByZXR1cm4gIXJlc3VsdDsKICAgICAgICB9CgogICAgICAgIC8vIE1XRUIgcmVzcG9uc2UgbGF5b3V0CiAgICAgICAgY29uc3QgY29udGVudCA9IChfcGFyc2VkRGF0YSRjb250ZW50czIgPSBwYXJzZWREYXRhLmNvbnRlbnRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czIgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRjb250ZW50czMgPSBfcGFyc2VkRGF0YSRjb250ZW50czIuc2luZ2xlQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHMzID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHM0ID0gX3BhcnNlZERhdGEkY29udGVudHMzLnJlc3VsdHMpID09PSBudWxsIHx8IF9wYXJzZWREYXRhJGNvbnRlbnRzNCA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJGNvbnRlbnRzNSA9IF9wYXJzZWREYXRhJGNvbnRlbnRzNC5yZXN1bHRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czUgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IF9wYXJzZWREYXRhJGNvbnRlbnRzNS5jb250ZW50czsKICAgICAgICBjb25zdCByZXN1bHQgPSBjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY29udGVudCRmaW5kID0gY29udGVudC5maW5kKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZSRpdGVtU2VjdGlvblJlbmRlcmU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKF9lJGl0ZW1TZWN0aW9uUmVuZGVyZSA9IGUuaXRlbVNlY3Rpb25SZW5kZXJlcikgPT09IG51bGwgfHwgX2UkaXRlbVNlY3Rpb25SZW5kZXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZSRpdGVtU2VjdGlvblJlbmRlcmUudGFyZ2V0SWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gJ3dhdGNoLW5leHQtZmVlZCc7CiAgICAgICAgICAgICAgICAgICAgfSkpID09PSBudWxsIHx8IF9jb250ZW50JGZpbmQgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IF9jb250ZW50JGZpbmQuaXRlbVNlY3Rpb25SZW5kZXJlcjsKICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ29iamVjdCc7CiAgICB9CgogICAgZnVuY3Rpb24gaXNQbGF5ZXJPYmplY3QocGFyc2VkRGF0YSkgewogICAgICAgIHJldHVybiAocGFyc2VkRGF0YSA9PT0gbnVsbCB8fCBwYXJzZWREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWREYXRhLnZpZGVvRGV0YWlscykKICAgICAgICAgICAgJiYgKHBhcnNlZERhdGEgPT09IG51bGwgfHwgcGFyc2VkRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyc2VkRGF0YS5wbGF5YWJpbGl0eVN0YXR1cyk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNFbWJlZGRlZFBsYXllck9iamVjdChwYXJzZWREYXRhKSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiAocGFyc2VkRGF0YSA9PT0gbnVsbCB8fCBwYXJzZWREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWREYXRhLnByZXZpZXdQbGF5YWJpbGl0eVN0YXR1cykgPT09ICdvYmplY3QnOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQWdlUmVzdHJpY3RlZChwbGF5YWJpbGl0eVN0YXR1cykgewogICAgICAgIHZhciBfcGxheWFiaWxpdHlTdGF0dXMkZXIsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjIsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjMsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjQsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjUsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjYsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjcsCiAgICAgICAgICAgIF9wbGF5YWJpbGl0eVN0YXR1cyRlcjg7CiAgICAgICAgaWYgKCEocGxheWFiaWxpdHlTdGF0dXMgIT09IG51bGwgJiYgcGxheWFiaWxpdHlTdGF0dXMgIT09IHZvaWQgMCAmJiBwbGF5YWJpbGl0eVN0YXR1cy5zdGF0dXMpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKHBsYXlhYmlsaXR5U3RhdHVzLmRlc2t0b3BMZWdhY3lBZ2VHYXRlUmVhc29uKSByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoQ29uZmlnLlVOTE9DS0FCTEVfUExBWUFCSUxJVFlfU1RBVFVTRVMuaW5jbHVkZXMocGxheWFiaWxpdHlTdGF0dXMuc3RhdHVzKSkgcmV0dXJuIHRydWU7CgogICAgICAgIC8vIEZpeCB0byBkZXRlY3QgYWdlIHJlc3RyaWN0aW9ucyBvbiBlbWJlZCBwbGF5ZXIKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MvaXNzdWVzLzg1I2lzc3VlY29tbWVudC05NDY4NTM1NTMKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBpc0VtYmVkCiAgICAgICAgICAgICYmICgoX3BsYXlhYmlsaXR5U3RhdHVzJGVyID0gcGxheWFiaWxpdHlTdGF0dXMuZXJyb3JTY3JlZW4pID09PSBudWxsIHx8IF9wbGF5YWJpbGl0eVN0YXR1cyRlciA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BsYXlhYmlsaXR5U3RhdHVzJGVyMiA9IF9wbGF5YWJpbGl0eVN0YXR1cyRlci5wbGF5ZXJFcnJvck1lc3NhZ2VSZW5kZXJlcikgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyMiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BsYXlhYmlsaXR5U3RhdHVzJGVyMyA9IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjIucmVhc29uKSA9PT0gbnVsbCB8fCBfcGxheWFiaWxpdHlTdGF0dXMkZXIzID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGxheWFiaWxpdHlTdGF0dXMkZXI0ID0gX3BsYXlhYmlsaXR5U3RhdHVzJGVyMy5ydW5zKSA9PT0gbnVsbCB8fCBfcGxheWFiaWxpdHlTdGF0dXMkZXI0ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IChfcGxheWFiaWxpdHlTdGF0dXMkZXI1ID0gX3BsYXlhYmlsaXR5U3RhdHVzJGVyNC5maW5kKCh4KSA9PiB4Lm5hdmlnYXRpb25FbmRwb2ludCkpID09PSBudWxsIHx8IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjUgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wbGF5YWJpbGl0eVN0YXR1cyRlcjYgPSBfcGxheWFiaWxpdHlTdGF0dXMkZXI1Lm5hdmlnYXRpb25FbmRwb2ludCkgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyNiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiAoX3BsYXlhYmlsaXR5U3RhdHVzJGVyNyA9IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjYudXJsRW5kcG9pbnQpID09PSBudWxsIHx8IF9wbGF5YWJpbGl0eVN0YXR1cyRlcjcgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogKF9wbGF5YWJpbGl0eVN0YXR1cyRlcjggPSBfcGxheWFiaWxpdHlTdGF0dXMkZXI3LnVybCkgPT09IG51bGwgfHwgX3BsYXlhYmlsaXR5U3RhdHVzJGVyOCA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgOiBfcGxheWFiaWxpdHlTdGF0dXMkZXI4LmluY2x1ZGVzKCcvMjgwMjE2NycpKQogICAgICAgICk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNTZWFyY2hSZXN1bHQocGFyc2VkRGF0YSkgewogICAgICAgIHZhciBfcGFyc2VkRGF0YSRjb250ZW50czYsIF9wYXJzZWREYXRhJGNvbnRlbnRzNywgX3BhcnNlZERhdGEkY29udGVudHM4LCBfcGFyc2VkRGF0YSRvblJlc3BvbnMsIF9wYXJzZWREYXRhJG9uUmVzcG9uczIsIF9wYXJzZWREYXRhJG9uUmVzcG9uczM7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgdHlwZW9mIChwYXJzZWREYXRhID09PSBudWxsIHx8IHBhcnNlZERhdGEgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHM2ID0gcGFyc2VkRGF0YS5jb250ZW50cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHM2ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgICAgIDogX3BhcnNlZERhdGEkY29udGVudHM2LnR3b0NvbHVtblNlYXJjaFJlc3VsdHNSZW5kZXJlcikgPT09ICdvYmplY3QnIC8vIERlc2t0b3AgaW5pdGlhbCByZXN1bHRzCiAgICAgICAgICAgIHx8IChwYXJzZWREYXRhID09PSBudWxsIHx8IHBhcnNlZERhdGEgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkY29udGVudHM3ID0gcGFyc2VkRGF0YS5jb250ZW50cykgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkY29udGVudHM3ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICAgICAgICAgIDogKF9wYXJzZWREYXRhJGNvbnRlbnRzOCA9IF9wYXJzZWREYXRhJGNvbnRlbnRzNy5zZWN0aW9uTGlzdFJlbmRlcmVyKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRjb250ZW50czggPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiBfcGFyc2VkRGF0YSRjb250ZW50czgudGFyZ2V0SWQpID09PSAnc2VhcmNoLWZlZWQnIC8vIE1vYmlsZSBpbml0aWFsIHJlc3VsdHMKICAgICAgICAgICAgfHwgKHBhcnNlZERhdGEgPT09IG51bGwgfHwgcGFyc2VkRGF0YSA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRvblJlc3BvbnMgPSBwYXJzZWREYXRhLm9uUmVzcG9uc2VSZWNlaXZlZENvbW1hbmRzKSA9PT0gbnVsbCB8fCBfcGFyc2VkRGF0YSRvblJlc3BvbnMgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiAoX3BhcnNlZERhdGEkb25SZXNwb25zMiA9IF9wYXJzZWREYXRhJG9uUmVzcG9ucy5maW5kKCh4KSA9PiB4LmFwcGVuZENvbnRpbnVhdGlvbkl0ZW1zQWN0aW9uKSkgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkb25SZXNwb25zMiA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IChfcGFyc2VkRGF0YSRvblJlc3BvbnMzID0gX3BhcnNlZERhdGEkb25SZXNwb25zMi5hcHBlbmRDb250aW51YXRpb25JdGVtc0FjdGlvbikgPT09IG51bGwgfHwgX3BhcnNlZERhdGEkb25SZXNwb25zMyA9PT0gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgICAgICA6IF9wYXJzZWREYXRhJG9uUmVzcG9uczMudGFyZ2V0SWQpID09PSAnc2VhcmNoLWZlZWQnIC8vIERlc2t0b3AgJiBNb2JpbGUgc2Nyb2xsIGNvbnRpbnVhdGlvbgogICAgICAgICk7CiAgICB9CgogICAgZnVuY3Rpb24gYXR0YWNoJDQob2JqLCBwcm9wLCBvbkNhbGwpIHsKICAgICAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqW3Byb3BdICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGxldCBvcmlnaW5hbCA9IG9ialtwcm9wXTsKCiAgICAgICAgb2JqW3Byb3BdID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBvbkNhbGwoYXJndW1lbnRzKTsKICAgICAgICAgICAgfSBjYXRjaCB7fQogICAgICAgICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICB9CgogICAgY29uc3QgbG9nUHJlZml4ID0gJyVjU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzczonOwogICAgY29uc3QgbG9nUHJlZml4U3R5bGUgPSAnYmFja2dyb3VuZC1jb2xvcjogIzFlNWM4NTsgY29sb3I6ICNmZmY7IGZvbnQtc2l6ZTogMS4yZW07JzsKICAgIGNvbnN0IGxvZ1N1ZmZpeCA9ICdcdUQ4M0RcdURDMUUgWW91IGNhbiByZXBvcnQgYnVncyBhdDogaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MvaXNzdWVzJzsKCiAgICBmdW5jdGlvbiBlcnJvcihlcnIsIG1zZykgewogICAgICAgIGNvbnNvbGUuZXJyb3IobG9nUHJlZml4LCBsb2dQcmVmaXhTdHlsZSwgbXNnLCBlcnIsIGdldFl0Y2ZnRGVidWdTdHJpbmcoKSwgJ1xuXG4nLCBsb2dTdWZmaXgpOwogICAgICAgIGlmICh3aW5kb3cuU1lBUkJfQ09ORklHKSB7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KAogICAgICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdTWUFSQl9MT0dfRVJST1InLCB7CiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChtc2cgPyBtc2cgKyAnOyAnIDogJycpICsgKGVyciAmJiBlcnIubWVzc2FnZSA/IGVyci5tZXNzYWdlIDogJycpLAogICAgICAgICAgICAgICAgICAgICAgICBzdGFjazogZXJyICYmIGVyci5zdGFjayA/IGVyci5zdGFjayA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbmZvKG1zZykgewogICAgICAgIGNvbnNvbGUuaW5mbyhsb2dQcmVmaXgsIGxvZ1ByZWZpeFN0eWxlLCBtc2cpOwogICAgICAgIGlmICh3aW5kb3cuU1lBUkJfQ09ORklHKSB7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KAogICAgICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdTWUFSQl9MT0dfSU5GTycsIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WXRjZmdEZWJ1Z1N0cmluZygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgYElubmVydHViZUNvbmZpZzogYAogICAgICAgICAgICAgICAgKyBgaW5uZXJ0dWJlQXBpS2V5OiAke2dldFl0Y2ZnVmFsdWUoJ0lOTkVSVFVCRV9BUElfS0VZJyl9IGAKICAgICAgICAgICAgICAgICsgYGlubmVydHViZUNsaWVudE5hbWU6ICR7Z2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9OQU1FJyl9IGAKICAgICAgICAgICAgICAgICsgYGlubmVydHViZUNsaWVudFZlcnNpb246ICR7Z2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9WRVJTSU9OJyl9IGAKICAgICAgICAgICAgICAgICsgYGxvZ2dlZEluOiAke2dldFl0Y2ZnVmFsdWUoJ0xPR0dFRF9JTicpfSBgCiAgICAgICAgICAgICk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIHJldHVybiBgRmFpbGVkIHRvIGFjY2VzcyBjb25maWc6ICR7ZXJyfWA7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQW5kIGhlcmUgd2UgZGVhbCB3aXRoIFlvdVR1YmUncyBjcmFwcHkgaW5pdGlhbCBkYXRhIChwcmVzZW50IGluIHBhZ2Ugc291cmNlKSBhbmQgdGhlIHByb2JsZW1zIHRoYXQgb2NjdXIgd2hlbiBpbnRlcmNlcHRpbmcgdGhhdCBkYXRhLgogICAgICogWW91VHViZSBoYXMgc29tZSBwcm90ZWN0aW9ucyBpbiBwbGFjZSB0aGF0IG1ha2UgaXQgZGlmZmljdWx0IHRvIGludGVyY2VwdCBhbmQgbW9kaWZ5IHRoZSBnbG9iYWwgeXRJbml0aWFsUGxheWVyUmVzcG9uc2UgdmFyaWFibGUuCiAgICAgKiBUaGUgZWFzaWVzdCB3YXkgd291bGQgYmUgdG8gc2V0IGEgZGVzY3JpcHRvciBvbiB0aGF0IHZhcmlhYmxlIHRvIGNoYW5nZSB0aGUgdmFsdWUgZGlyZWN0bHkgb24gZGVjbGFyYXRpb24uCiAgICAgKiBCdXQgc29tZSBhZGJsb2NrZXJzIGRlZmluZSB0aGVpciBvd24gZGVzY3JpcHRvcnMgb24gdGhlIHl0SW5pdGlhbFBsYXllclJlc3BvbnNlIHZhcmlhYmxlLCB3aGljaCBtYWtlcyBpdCBoYXJkIHRvIHJlZ2lzdGVyIGFub3RoZXIgZGVzY3JpcHRvciBvbiBpdC4KICAgICAqIEFzIGEgd29ya2Fyb3VuZCBvbmx5IHRoZSByZWxldmFudCBwbGF5ZXJSZXNwb25zZSBwcm9wZXJ0eSBvZiB0aGUgeXRJbml0aWFsUGxheWVyUmVzcG9uc2UgdmFyaWFibGUgd2lsbCBiZSBpbnRlcmNlcHRlZC4KICAgICAqIFRoaXMgaXMgYWNoaWV2ZWQgYnkgZGVmaW5pbmcgYSBkZXNjcmlwdG9yIG9uIHRoZSBvYmplY3QgcHJvdG90eXBlIGZvciB0aGF0IHByb3BlcnR5LCB3aGljaCBhZmZlY3RzIGFueSBvYmplY3Qgd2l0aCBhIGBwbGF5ZXJSZXNwb25zZWAgcHJvcGVydHkuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGF0dGFjaCQzKG9uSW5pdGlhbERhdGEpIHsKICAgICAgICBpbnRlcmNlcHRPYmplY3RQcm9wZXJ0eSgncGxheWVyUmVzcG9uc2UnLCAob2JqLCBwbGF5ZXJSZXNwb25zZSkgPT4gewogICAgICAgICAgICBpbmZvKGBwbGF5ZXJSZXNwb25zZSBwcm9wZXJ0eSBzZXQsIGNvbnRhaW5zIHNpZGViYXI6ICR7ISFvYmoucmVzcG9uc2V9YCk7CgogICAgICAgICAgICAvLyBUaGUgc2FtZSBvYmplY3QgYWxzbyBjb250YWlucyB0aGUgc2lkZWJhciBkYXRhIGFuZCB2aWRlbyBkZXNjcmlwdGlvbgogICAgICAgICAgICBpZiAoaXNPYmplY3Qob2JqLnJlc3BvbnNlKSkgb25Jbml0aWFsRGF0YShvYmoucmVzcG9uc2UpOwoKICAgICAgICAgICAgLy8gSWYgdGhlIHNjcmlwdCBpcyBleGVjdXRlZCB0b28gbGF0ZSBhbmQgdGhlIGJvb3RzdHJhcCBkYXRhIGhhcyBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkLAogICAgICAgICAgICAvLyBhIHJlbG9hZCBvZiB0aGUgcGxheWVyIGNhbiBiZSBmb3JjZWQgYnkgY3JlYXRpbmcgYSBkZWVwIGNvcHkgb2YgdGhlIG9iamVjdC4KICAgICAgICAgICAgLy8gVGhpcyBpcyBlc3BlY2lhbGx5IHJlbGV2YW50IGlmIHRoZSB1c2Vyc2NyaXB0IG1hbmFnZXIgZG9lcyBub3QgaGFuZGxlIHRoZSBgQHJ1bi1hdCBkb2N1bWVudC1zdGFydGAgY29ycmVjdGx5LgogICAgICAgICAgICBwbGF5ZXJSZXNwb25zZS51bmxvY2tlZCA9IGZhbHNlOwogICAgICAgICAgICBvbkluaXRpYWxEYXRhKHBsYXllclJlc3BvbnNlKTsKICAgICAgICAgICAgcmV0dXJuIHBsYXllclJlc3BvbnNlLnVubG9ja2VkID8gY3JlYXRlRGVlcENvcHkocGxheWVyUmVzcG9uc2UpIDogcGxheWVyUmVzcG9uc2U7CiAgICAgICAgfSk7CgogICAgICAgIC8vIFRoZSBnbG9iYWwgYHl0SW5pdGlhbERhdGFgIHZhcmlhYmxlIGNhbiBiZSBtb2RpZmllZCBvbiB0aGUgZmx5LgogICAgICAgIC8vIEl0IGNvbnRhaW5zIHNlYXJjaCByZXN1bHRzLCBzaWRlYmFyIGRhdGEgYW5kIG1ldGEgaW5mb3JtYXRpb24KICAgICAgICAvLyBOb3QgcmVhbGx5IGltcG9ydGFudCBidXQgZml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL3plcm9keXRyYXNoL1NpbXBsZS1Zb3VUdWJlLUFnZS1SZXN0cmljdGlvbi1CeXBhc3MvaXNzdWVzLzEyNwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogICAgICAgICAgICBpZiAoaXNPYmplY3Qod2luZG93Lnl0SW5pdGlhbERhdGEpKSB7CiAgICAgICAgICAgICAgICBvbkluaXRpYWxEYXRhKHdpbmRvdy55dEluaXRpYWxEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGludGVyY2VwdE9iamVjdFByb3BlcnR5KHByb3AsIG9uU2V0KSB7CiAgICAgICAgdmFyIF9PYmplY3QkZ2V0T3duUHJvcGVydDsKICAgICAgICAvLyBBbGxvdyBvdGhlciB1c2Vyc2NyaXB0cyB0byBkZWNvcmF0ZSB0aGlzIGRlc2NyaXB0b3IsIGlmIHRoZXkgZG8gc29tZXRoaW5nIHNpbWlsYXIKICAgICAgICBjb25zdCBkYXRhS2V5ID0gJ19fU1lBUkJfJyArIHByb3A7CiAgICAgICAgY29uc3QgeyBnZXQ6IGdldHRlciwgc2V0OiBzZXR0ZXIgfSA9IChfT2JqZWN0JGdldE93blByb3BlcnQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIHByb3ApKSAhPT0gbnVsbCAmJiBfT2JqZWN0JGdldE93blByb3BlcnQgIT09IHZvaWQgMAogICAgICAgICAgICA/IF9PYmplY3QkZ2V0T3duUHJvcGVydAogICAgICAgICAgICA6IHsKICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXNbZGF0YUtleV0gPSB2YWx1ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbZGF0YUtleV07CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwoKICAgICAgICAvLyBJbnRlcmNlcHQgdGhlIGdpdmVuIHByb3BlcnR5IG9uIGFueSBvYmplY3QKICAgICAgICAvLyBUaGUgYXNzaWduZWQgYXR0cmlidXRlIHZhbHVlIGFuZCB0aGUgY29udGV4dCAoZW5jbG9zaW5nIG9iamVjdCkgYXJlIHBhc3NlZCB0byB0aGUgb25TZXQgZnVuY3Rpb24uCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsIHByb3AsIHsKICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICBzZXR0ZXIuY2FsbCh0aGlzLCBpc09iamVjdCh2YWx1ZSkgPyBvblNldCh0aGlzLCB2YWx1ZSkgOiB2YWx1ZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbCh0aGlzKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIH0pOwogICAgfQoKICAgIC8vIEludGVyY2VwdCwgaW5zcGVjdCBhbmQgbW9kaWZ5IEpTT04tYmFzZWQgY29tbXVuaWNhdGlvbiB0byB1bmxvY2sgcGxheWVyIHJlc3BvbnNlcyBieSBoaWphY2tpbmcgdGhlIEpTT04ucGFyc2UgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGF0dGFjaCQyKG9uSnNvbkRhdGFSZWNlaXZlZCkgewogICAgICAgIHdpbmRvdy5KU09OLnBhcnNlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuYXRpdmVKU09OUGFyc2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KGRhdGEpID8gb25Kc29uRGF0YVJlY2VpdmVkKGRhdGEpIDogZGF0YTsKICAgICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIGF0dGFjaCQxKG9uUmVxdWVzdENyZWF0ZSkgewogICAgICAgIGlmICh0eXBlb2Ygd2luZG93LlJlcXVlc3QgIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgd2luZG93LlJlcXVlc3QgPSBuZXcgUHJveHkod2luZG93LlJlcXVlc3QsIHsKICAgICAgICAgICAgY29uc3RydWN0KHRhcmdldCwgYXJncykgewogICAgICAgICAgICAgICAgY29uc3QgW3VybCwgb3B0aW9uc10gPSBhcmdzOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRVcmwgPSBwYXJzZVJlbGF0aXZlVXJsKHVybCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRVcmwgPSBvblJlcXVlc3RDcmVhdGUocGFyc2VkVXJsLCBvcHRpb25zKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVkVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBtb2RpZmllZFVybC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGVycm9yKGVyciwgYEZhaWxlZCB0byBpbnRlcmNlcHQgUmVxdWVzdCgpYCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KC4uLmFyZ3VtZW50cyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXR0YWNoKG9uWGhyT3BlbkNhbGxlZCkgewogICAgICAgIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGxldCBwYXJzZWRVcmwgPSBwYXJzZVJlbGF0aXZlVXJsKHVybCk7CgogICAgICAgICAgICAgICAgaWYgKHBhcnNlZFVybCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkVXJsID0gb25YaHJPcGVuQ2FsbGVkKG1ldGhvZCwgcGFyc2VkVXJsLCB0aGlzKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVkVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sxXSA9IG1vZGlmaWVkVXJsLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGVycm9yKGVyciwgYEZhaWxlZCB0byBpbnRlcmNlcHQgWE1MSHR0cFJlcXVlc3Qub3BlbigpYCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5hdGl2ZVhNTEh0dHBSZXF1ZXN0T3Blbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICB9CgogICAgY29uc3QgbG9jYWxTdG9yYWdlUHJlZml4ID0gJ1NZQVJCXyc7CgogICAgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VQcmVmaXggKyBrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0KGtleSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZVByZWZpeCArIGtleSkpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxheWVyJDEocGF5bG9hZCwgdXNlQXV0aCkgewogICAgICAgIHJldHVybiBzZW5kSW5uZXJ0dWJlUmVxdWVzdCgndjEvcGxheWVyJywgcGF5bG9hZCwgdXNlQXV0aCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TmV4dCQxKHBheWxvYWQsIHVzZUF1dGgpIHsKICAgICAgICByZXR1cm4gc2VuZElubmVydHViZVJlcXVlc3QoJ3YxL25leHQnLCBwYXlsb2FkLCB1c2VBdXRoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZW5kSW5uZXJ0dWJlUmVxdWVzdChlbmRwb2ludCwgcGF5bG9hZCwgdXNlQXV0aCkgewogICAgICAgIGNvbnN0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICB4bWxodHRwLm9wZW4oJ1BPU1QnLCBgL3lvdXR1YmVpLyR7ZW5kcG9pbnR9P2tleT0ke2dldFl0Y2ZnVmFsdWUoJ0lOTkVSVFVCRV9BUElfS0VZJyl9JnByZXR0eVByaW50PWZhbHNlYCwgZmFsc2UpOwoKICAgICAgICBpZiAodXNlQXV0aCAmJiBpc1VzZXJMb2dnZWRJbigpKSB7CiAgICAgICAgICAgIHhtbGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICAgICAgQ29uZmlnLkdPT0dMRV9BVVRIX0hFQURFUl9OQU1FUy5mb3JFYWNoKChoZWFkZXJOYW1lKSA9PiB7CiAgICAgICAgICAgICAgICB4bWxodHRwLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyTmFtZSwgZ2V0KGhlYWRlck5hbWUpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB4bWxodHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpOwogICAgICAgIHJldHVybiBuYXRpdmVKU09OUGFyc2UoeG1saHR0cC5yZXNwb25zZVRleHQpOwogICAgfQoKICAgIHZhciBpbm5lcnR1YmUgPSB7CiAgICAgICAgZ2V0UGxheWVyOiBnZXRQbGF5ZXIkMSwKICAgICAgICBnZXROZXh0OiBnZXROZXh0JDEsCiAgICB9OwoKICAgIGxldCBuZXh0UmVzcG9uc2VDYWNoZSA9IHt9OwoKICAgIGZ1bmN0aW9uIGdldEdvb2dsZVZpZGVvVXJsKG9yaWdpbmFsVXJsKSB7CiAgICAgICAgcmV0dXJuIENvbmZpZy5WSURFT19QUk9YWV9TRVJWRVJfSE9TVCArICcvZGlyZWN0LycgKyBidG9hKG9yaWdpbmFsVXJsLnRvU3RyaW5nKCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFBsYXllcihwYXlsb2FkKSB7CiAgICAgICAgLy8gQWxzbyByZXF1ZXN0IHRoZSAvbmV4dCByZXNwb25zZSBpZiBhIGxhdGVyIC9uZXh0IHJlcXVlc3QgaXMgbGlrZWx5LgogICAgICAgIGlmICghbmV4dFJlc3BvbnNlQ2FjaGVbcGF5bG9hZC52aWRlb0lkXSAmJiAhaXNNdXNpYyAmJiAhaXNFbWJlZCkgewogICAgICAgICAgICBwYXlsb2FkLmluY2x1ZGVOZXh0ID0gMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzZW5kUmVxdWVzdCgnZ2V0UGxheWVyJywgcGF5bG9hZCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TmV4dChwYXlsb2FkKSB7CiAgICAgICAgLy8gTmV4dCByZXNwb25zZSBhbHJlYWR5IGNhY2hlZD8gPT4gUmV0dXJuIGNhY2hlZCBjb250ZW50CiAgICAgICAgaWYgKG5leHRSZXNwb25zZUNhY2hlW3BheWxvYWQudmlkZW9JZF0pIHsKICAgICAgICAgICAgcmV0dXJuIG5leHRSZXNwb25zZUNhY2hlW3BheWxvYWQudmlkZW9JZF07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3QoJ2dldE5leHQnLCBwYXlsb2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdChlbmRwb2ludCwgcGF5bG9hZCkgewogICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXlsb2FkKTsKICAgICAgICBjb25zdCBwcm94eVVybCA9IGAke0NvbmZpZy5BQ0NPVU5UX1BST1hZX1NFUlZFUl9IT1NUfS8ke2VuZHBvaW50fT8ke3F1ZXJ5UGFyYW1zfSZjbGllbnQ9anNgOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHhtbGh0dHAub3BlbignR0VUJywgcHJveHlVcmwsIGZhbHNlKTsKICAgICAgICAgICAgeG1saHR0cC5zZW5kKG51bGwpOwoKICAgICAgICAgICAgY29uc3QgcHJveHlSZXNwb25zZSA9IG5hdGl2ZUpTT05QYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7CgogICAgICAgICAgICAvLyBNYXJrIHJlcXVlc3QgYXMgJ3Byb3hpZWQnCiAgICAgICAgICAgIHByb3h5UmVzcG9uc2UucHJveGllZCA9IHRydWU7CgogICAgICAgICAgICAvLyBQdXQgaW5jbHVkZWQgL25leHQgcmVzcG9uc2UgaW4gdGhlIGNhY2hlCiAgICAgICAgICAgIGlmIChwcm94eVJlc3BvbnNlLm5leHRSZXNwb25zZSkgewogICAgICAgICAgICAgICAgbmV4dFJlc3BvbnNlQ2FjaGVbcGF5bG9hZC52aWRlb0lkXSA9IHByb3h5UmVzcG9uc2UubmV4dFJlc3BvbnNlOwogICAgICAgICAgICAgICAgZGVsZXRlIHByb3h5UmVzcG9uc2UubmV4dFJlc3BvbnNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gcHJveHlSZXNwb25zZTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZXJyb3IoZXJyLCAnUHJveHkgQVBJIEVycm9yJyk7CiAgICAgICAgICAgIHJldHVybiB7IGVycm9yTWVzc2FnZTogJ1Byb3h5IENvbm5lY3Rpb24gZmFpbGVkJyB9OwogICAgICAgIH0KICAgIH0KCiAgICB2YXIgcHJveHkgPSB7CiAgICAgICAgZ2V0UGxheWVyLAogICAgICAgIGdldE5leHQsCiAgICAgICAgZ2V0R29vZ2xlVmlkZW9VcmwsCiAgICB9OwoKICAgIGZ1bmN0aW9uIGdldFVubG9ja1N0cmF0ZWdpZXMkMSh2aWRlb0lkLCBsYXN0UGxheWVyVW5sb2NrUmVhc29uKSB7CiAgICAgICAgdmFyIF9nZXRZdGNmZ1ZhbHVlJGNsaWVudDsKICAgICAgICBjb25zdCBjbGllbnROYW1lID0gZ2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9OQU1FJykgfHwgJ1dFQic7CiAgICAgICAgY29uc3QgY2xpZW50VmVyc2lvbiA9IGdldFl0Y2ZnVmFsdWUoJ0lOTkVSVFVCRV9DTElFTlRfVkVSU0lPTicpIHx8ICcyLjIwMjIwMjAzLjA0LjAwJzsKICAgICAgICBjb25zdCBobCA9IGdldFl0Y2ZnVmFsdWUoJ0hMJyk7CiAgICAgICAgY29uc3QgdXNlckludGVyZmFjZVRoZW1lID0gKF9nZXRZdGNmZ1ZhbHVlJGNsaWVudCA9IGdldFl0Y2ZnVmFsdWUoJ0lOTkVSVFVCRV9DT05URVhUJykuY2xpZW50LnVzZXJJbnRlcmZhY2VUaGVtZSkgIT09IG51bGwgJiYgX2dldFl0Y2ZnVmFsdWUkY2xpZW50ICE9PSB2b2lkIDAKICAgICAgICAgICAgPyBfZ2V0WXRjZmdWYWx1ZSRjbGllbnQKICAgICAgICAgICAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXJrJykKICAgICAgICAgICAgPyAnVVNFUl9JTlRFUkZBQ0VfVEhFTUVfREFSSycKICAgICAgICAgICAgOiAnVVNFUl9JTlRFUkZBQ0VfVEhFTUVfTElHSFQnOwoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIHNpZGViYXIgYW5kIHZpZGVvIGRlc2NyaXB0aW9uIGJ5IGp1c3QgYWRkaW5nIGByYWN5Q2hlY2tPa2AgYW5kIGBjb250ZW50Q2hlY2tPa2AgcGFyYW1zCiAgICAgICAgICAgICAqIFRoaXMgc3RyYXRlZ3kgY2FuIGJlIHVzZWQgdG8gYnlwYXNzIGNvbnRlbnQgd2FybmluZ3MKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdDb250ZW50IFdhcm5pbmcgQnlwYXNzJywKICAgICAgICAgICAgICAgIHNraXA6ICFsYXN0UGxheWVyVW5sb2NrUmVhc29uIHx8ICFsYXN0UGxheWVyVW5sb2NrUmVhc29uLmluY2x1ZGVzKCdDSEVDS19SRVFVSVJFRCcpLAogICAgICAgICAgICAgICAgb3B0aW9uYWxBdXRoOiB0cnVlLAogICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmVyc2lvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckludGVyZmFjZVRoZW1lLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICByYWN5Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb250ZW50Q2hlY2tPazogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmRwb2ludDogaW5uZXJ0dWJlLAogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIHNpZGViYXIgYW5kIHZpZGVvIGRlc2NyaXB0aW9uIGZyb20gYW4gYWNjb3VudCBwcm94eSBzZXJ2ZXIuCiAgICAgICAgICAgICAqIFNlc3Npb24gY29va2llcyBvZiBhbiBhZ2UtdmVyaWZpZWQgR29vZ2xlIGFjY291bnQgYXJlIHN0b3JlZCBvbiBzZXJ2ZXIgc2lkZS4KICAgICAgICAgICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3RyZWUvbWFpbi9hY2NvdW50LXByb3h5CiAgICAgICAgICAgICAqLwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAnQWNjb3VudCBQcm94eScsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lLAogICAgICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb24sCiAgICAgICAgICAgICAgICAgICAgaGwsCiAgICAgICAgICAgICAgICAgICAgdXNlckludGVyZmFjZVRoZW1lLAogICAgICAgICAgICAgICAgICAgIGlzRW1iZWQ6ICtpc0VtYmVkLAogICAgICAgICAgICAgICAgICAgIGlzQ29uZmlybWVkOiAraXNDb25maXJtZWQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHByb3h5LAogICAgICAgICAgICB9LAogICAgICAgIF07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VW5sb2NrU3RyYXRlZ2llcyh2aWRlb0lkLCByZWFzb24pIHsKICAgICAgICBjb25zdCBjbGllbnROYW1lID0gZ2V0WXRjZmdWYWx1ZSgnSU5ORVJUVUJFX0NMSUVOVF9OQU1FJykgfHwgJ1dFQic7CiAgICAgICAgY29uc3QgY2xpZW50VmVyc2lvbiA9IGdldFl0Y2ZnVmFsdWUoJ0lOTkVSVFVCRV9DTElFTlRfVkVSU0lPTicpIHx8ICcyLjIwMjIwMjAzLjA0LjAwJzsKICAgICAgICBjb25zdCBzaWduYXR1cmVUaW1lc3RhbXAgPSBnZXRTaWduYXR1cmVUaW1lc3RhbXAoKTsKICAgICAgICBjb25zdCBzdGFydFRpbWVTZWNzID0gZ2V0Q3VycmVudFZpZGVvU3RhcnRUaW1lKHZpZGVvSWQpOwogICAgICAgIGNvbnN0IGhsID0gZ2V0WXRjZmdWYWx1ZSgnSEwnKTsKCiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFJldHJpZXZlIHRoZSB2aWRlbyBpbmZvIGJ5IGp1c3QgYWRkaW5nIGByYWN5Q2hlY2tPa2AgYW5kIGBjb250ZW50Q2hlY2tPa2AgcGFyYW1zCiAgICAgICAgICAgICAqIFRoaXMgc3RyYXRlZ3kgY2FuIGJlIHVzZWQgdG8gYnlwYXNzIGNvbnRlbnQgd2FybmluZ3MKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdDb250ZW50IFdhcm5pbmcgQnlwYXNzJywKICAgICAgICAgICAgICAgIHNraXA6ICFyZWFzb24gfHwgIXJlYXNvbi5pbmNsdWRlcygnQ0hFQ0tfUkVRVUlSRUQnKSwKICAgICAgICAgICAgICAgIG9wdGlvbmFsQXV0aDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZTogY2xpZW50TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFZlcnNpb246IGNsaWVudFZlcnNpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBsYXliYWNrQ29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UGxheWJhY2tDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUaW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZVNlY3MsCiAgICAgICAgICAgICAgICAgICAgcmFjeUNoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgY29udGVudENoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5kcG9pbnQ6IGlubmVydHViZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFJldHJpZXZlIHRoZSB2aWRlbyBpbmZvIGJ5IHVzaW5nIHRoZSBUVkhUTUw1IEVtYmVkZGVkIGNsaWVudAogICAgICAgICAgICAgKiBUaGlzIGNsaWVudCBoYXMgbm8gYWdlIHJlc3RyaWN0aW9ucyBpbiBwbGFjZSAoMjAyMi0wMy0yOCkKICAgICAgICAgICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9Zb3VUdWJlLUludGVybmFsLUNsaWVudHMKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdUViBFbWJlZGRlZCBQbGF5ZXInLAogICAgICAgICAgICAgICAgcmVxdWlyZXNBdXRoOiBmYWxzZSwKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZTogJ1RWSFRNTDVfU0lNUExZX0VNQkVEREVEX1BMQVlFUicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWZXJzaW9uOiAnMi4wJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFNjcmVlbjogJ1dBVENIJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB0aGlyZFBhcnR5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWJlZFVybDogJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tLycsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwbGF5YmFja0NvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFBsYXliYWNrQ29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVTZWNzLAogICAgICAgICAgICAgICAgICAgIHJhY3lDaGVja09rOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRDaGVja09rOiB0cnVlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVuZHBvaW50OiBpbm5lcnR1YmUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgdmlkZW8gaW5mbyBieSB1c2luZyB0aGUgV0VCX0NSRUFUT1IgY2xpZW50IGluIGNvbWJpbmF0aW9uIHdpdGggdXNlciBhdXRoZW50aWNhdGlvbgogICAgICAgICAgICAgKiBSZXF1aXJlcyB0aGF0IHRoZSB1c2VyIGlzIGxvZ2dlZCBpbi4gQ2FuIGJ5cGFzcyB0aGUgdGlnaHRlbmVkIGFnZSB2ZXJpZmljYXRpb24gaW4gdGhlIEVVLgogICAgICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3l0LWRscC95dC1kbHAvcHVsbC82MDAKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdDcmVhdG9yICsgQXV0aCcsCiAgICAgICAgICAgICAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudE5hbWU6ICdXRUJfQ1JFQVRPUicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRWZXJzaW9uOiAnMS4yMDIxMDkwOS4wNy4wMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBsYXliYWNrQ29udGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UGxheWJhY2tDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUaW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZVNlY3MsCiAgICAgICAgICAgICAgICAgICAgcmFjeUNoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgY29udGVudENoZWNrT2s6IHRydWUsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5kcG9pbnQ6IGlubmVydHViZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFJldHJpZXZlIHRoZSB2aWRlbyBpbmZvIGZyb20gYW4gYWNjb3VudCBwcm94eSBzZXJ2ZXIuCiAgICAgICAgICAgICAqIFNlc3Npb24gY29va2llcyBvZiBhbiBhZ2UtdmVyaWZpZWQgR29vZ2xlIGFjY291bnQgYXJlIHN0b3JlZCBvbiBzZXJ2ZXIgc2lkZS4KICAgICAgICAgICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJvZHl0cmFzaC9TaW1wbGUtWW91VHViZS1BZ2UtUmVzdHJpY3Rpb24tQnlwYXNzL3RyZWUvbWFpbi9hY2NvdW50LXByb3h5CiAgICAgICAgICAgICAqLwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAnQWNjb3VudCBQcm94eScsCiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICByZWFzb24sCiAgICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZSwKICAgICAgICAgICAgICAgICAgICBjbGllbnRWZXJzaW9uLAogICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVTZWNzLAogICAgICAgICAgICAgICAgICAgIGhsLAogICAgICAgICAgICAgICAgICAgIGlzRW1iZWQ6ICtpc0VtYmVkLAogICAgICAgICAgICAgICAgICAgIGlzQ29uZmlybWVkOiAraXNDb25maXJtZWQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHByb3h5LAogICAgICAgICAgICB9LAogICAgICAgIF07CiAgICB9CgogICAgdmFyIGJ1dHRvblRlbXBsYXRlID0KICAgICAgICAnPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweCAhaW1wb3J0YW50OyBwYWRkaW5nOiAzcHggMTBweCAzcHggMTBweDsgbWFyZ2luOiAwcHggYXV0bzsgYmFja2dyb3VuZC1jb2xvcjogIzRkNGQ0ZDsgd2lkdGg6IGZpdC1jb250ZW50OyBmb250LXNpemU6IDEuMmVtOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBib3JkZXItcmFkaXVzOiAzcHg7IGN1cnNvcjogcG9pbnRlcjsiPlxuICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi10ZXh0Ij48L2Rpdj5cbjwvZGl2Pic7CgogICAgbGV0IGJ1dHRvbnMgPSB7fTsKCiAgICBhc3luYyBmdW5jdGlvbiBhZGRCdXR0b24oaWQsIHRleHQsIGJhY2tncm91bmRDb2xvciwgb25DbGljaykgewogICAgICAgIGNvbnN0IGVycm9yU2NyZWVuRWxlbWVudCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCcueXRwLWVycm9yJywgMjAwMCk7CiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICdidXR0b24tY29udGFpbmVyJywgaW5uZXJIVE1MOiBidXR0b25UZW1wbGF0ZSB9KTsKICAgICAgICBidXR0b25FbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J1dHRvbi10ZXh0JylbMF0uaW5uZXJUZXh0ID0gdGV4dDsKCiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvcikgewogICAgICAgICAgICBidXR0b25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGRpdicpLnN0eWxlWydiYWNrZ3JvdW5kLWNvbG9yJ10gPSBiYWNrZ3JvdW5kQ29sb3I7CiAgICAgICAgfQoKICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spOwogICAgICAgIH0KCiAgICAgICAgLy8gQnV0dG9uIGFscmVhZHkgYXR0YWNoZWQ/CiAgICAgICAgaWYgKGJ1dHRvbnNbaWRdICYmIGJ1dHRvbnNbaWRdLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGJ1dHRvbnNbaWRdID0gYnV0dG9uRWxlbWVudDsKICAgICAgICBlcnJvclNjcmVlbkVsZW1lbnQuYXBwZW5kKGJ1dHRvbkVsZW1lbnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUJ1dHRvbihpZCkgewogICAgICAgIGlmIChidXR0b25zW2lkXSAmJiBidXR0b25zW2lkXS5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgICBidXR0b25zW2lkXS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9CgogICAgY29uc3QgY29uZmlybWF0aW9uQnV0dG9uSWQgPSAnY29uZmlybUJ1dHRvbic7CiAgICBjb25zdCBjb25maXJtYXRpb25CdXR0b25UZXh0ID0gJ0NsaWNrIHRvIHVubG9jayc7CgogICAgZnVuY3Rpb24gaXNDb25maXJtYXRpb25SZXF1aXJlZCgpIHsKICAgICAgICByZXR1cm4gIWlzQ29uZmlybWVkICYmIGlzRW1iZWQgJiYgQ29uZmlnLkVOQUJMRV9VTkxPQ0tfQ09ORklSTUFUSU9OX0VNQkVEOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlcXVlc3RDb25maXJtYXRpb24oKSB7CiAgICAgICAgYWRkQnV0dG9uKGNvbmZpcm1hdGlvbkJ1dHRvbklkLCBjb25maXJtYXRpb25CdXR0b25UZXh0LCBudWxsLCAoKSA9PiB7CiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbihjb25maXJtYXRpb25CdXR0b25JZCk7CiAgICAgICAgICAgIGNvbmZpcm0oKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb25maXJtKCkgewogICAgICAgIHNldFVybFBhcmFtcyh7CiAgICAgICAgICAgIHVubG9ja19jb25maXJtZWQ6IDEsCiAgICAgICAgICAgIGF1dG9wbGF5OiAxLAogICAgICAgIH0pOwogICAgfQoKICAgIHZhciB0RGVza3RvcCA9ICc8dHAteXQtcGFwZXItdG9hc3Q+PC90cC15dC1wYXBlci10b2FzdD5cbic7CgogICAgdmFyIHRNb2JpbGUgPQogICAgICAgICc8YzMtdG9hc3Q+XG4gICAgPHl0bS1ub3RpZmljYXRpb24tYWN0aW9uLXJlbmRlcmVyPlxuICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZmljYXRpb24tYWN0aW9uLXJlc3BvbnNlLXRleHQiPjwvZGl2PlxuICAgIDwveXRtLW5vdGlmaWNhdGlvbi1hY3Rpb24tcmVuZGVyZXI+XG48L2MzLXRvYXN0PlxuJzsKCiAgICBjb25zdCB0ZW1wbGF0ZSA9IGlzRGVza3RvcCA/IHREZXNrdG9wIDogdE1vYmlsZTsKCiAgICBjb25zdCBuVG9hc3RDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IGlkOiAndG9hc3QtY29udGFpbmVyJywgaW5uZXJIVE1MOiB0ZW1wbGF0ZSB9KTsKICAgIGNvbnN0IG5Ub2FzdCA9IG5Ub2FzdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAqJyk7CgogICAgLy8gT24gWVQgTXVzaWMgc2hvdyB0aGUgdG9hc3QgYWJvdmUgdGhlIHBsYXllciBjb250cm9scwogICAgaWYgKGlzTXVzaWMpIHsKICAgICAgICBuVG9hc3Quc3R5bGVbJ21hcmdpbi1ib3R0b20nXSA9ICc4NXB4JzsKICAgIH0KCiAgICBpZiAoIWlzRGVza3RvcCkgewogICAgICAgIG5Ub2FzdC5uTWVzc2FnZSA9IG5Ub2FzdC5xdWVyeVNlbGVjdG9yKCcubm90aWZpY2F0aW9uLWFjdGlvbi1yZXNwb25zZS10ZXh0Jyk7CiAgICAgICAgblRvYXN0LnNob3cgPSAobWVzc2FnZSkgPT4gewogICAgICAgICAgICBuVG9hc3Qubk1lc3NhZ2UuaW5uZXJUZXh0ID0gbWVzc2FnZTsKICAgICAgICAgICAgblRvYXN0LnNldEF0dHJpYnV0ZSgnZGlyJywgJ2luJyk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgblRvYXN0LnNldEF0dHJpYnV0ZSgnZGlyJywgJ291dCcpOwogICAgICAgICAgICB9LCBuVG9hc3QuZHVyYXRpb24gKyAyMjUpOwogICAgICAgIH07CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7CiAgICAgICAgbGV0IGR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiA1OwogICAgICAgIGlmICghQ29uZmlnLkVOQUJMRV9VTkxPQ0tfTk9USUZJQ0FUSU9OKSByZXR1cm47CiAgICAgICAgaWYgKGlzRW1iZWQpIHJldHVybjsKCiAgICAgICAgYXdhaXQgcGFnZUxvYWRlZCgpOwoKICAgICAgICAvLyBEbyBub3Qgc2hvdyBub3RpZmljYXRpb24gd2hlbiB0YWIgaXMgaW4gYmFja2dyb3VuZAogICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSByZXR1cm47CgogICAgICAgIC8vIEFwcGVuZCB0b2FzdCBjb250YWluZXIgdG8gRE9NLCBpZiBub3QgYWxyZWFkeSBkb25lCiAgICAgICAgaWYgKCFuVG9hc3RDb250YWluZXIuaXNDb25uZWN0ZWQpIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmQoblRvYXN0Q29udGFpbmVyKTsKCiAgICAgICAgblRvYXN0LmR1cmF0aW9uID0gZHVyYXRpb24gKiAxMDAwOwogICAgICAgIG5Ub2FzdC5zaG93KG1lc3NhZ2UpOwogICAgfQoKICAgIHZhciBUb2FzdCA9IHsgc2hvdyB9OwoKICAgIGNvbnN0IG1lc3NhZ2VzTWFwID0gewogICAgICAgIHN1Y2Nlc3M6ICdBZ2UtcmVzdHJpY3RlZCB2aWRlbyBzdWNjZXNzZnVsbHkgdW5sb2NrZWQhJywKICAgICAgICBmYWlsOiAnVW5hYmxlIHRvIHVubG9jayB0aGlzIHZpZGVvIPCfmYEgLSBNb3JlIGluZm9ybWF0aW9uIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZScsCiAgICB9OwoKICAgIGxldCBsYXN0UGxheWVyVW5sb2NrVmlkZW9JZCA9IG51bGw7CiAgICBsZXQgbGFzdFBsYXllclVubG9ja1JlYXNvbiA9IG51bGw7CgogICAgbGV0IGxhc3RQcm94aWVkR29vZ2xlVmlkZW9VcmxQYXJhbXM7CiAgICBsZXQgY2FjaGVkUGxheWVyUmVzcG9uc2UgPSB7fTsKCiAgICBmdW5jdGlvbiBnZXRMYXN0UHJveGllZEdvb2dsZVZpZGVvSWQoKSB7CiAgICAgICAgdmFyIF9sYXN0UHJveGllZEdvb2dsZVZpZDsKICAgICAgICByZXR1cm4gKF9sYXN0UHJveGllZEdvb2dsZVZpZCA9IGxhc3RQcm94aWVkR29vZ2xlVmlkZW9VcmxQYXJhbXMpID09PSBudWxsIHx8IF9sYXN0UHJveGllZEdvb2dsZVZpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2xhc3RQcm94aWVkR29vZ2xlVmlkLmdldCgnaWQnKTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bmxvY2tSZXNwb25zZSQxKHBsYXllclJlc3BvbnNlKSB7CiAgICAgICAgdmFyIF9wbGF5ZXJSZXNwb25zZSR2aWRlbywgX3BsYXllclJlc3BvbnNlJHBsYXlhLCBfcGxheWVyUmVzcG9uc2UkcHJldmksIF91bmxvY2tlZFBsYXllclJlc3BvbiwgX3VubG9ja2VkUGxheWVyUmVzcG9uMzsKICAgICAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBoYXMgdG8gY29uZmlybSB0aGUgdW5sb2NrIGZpcnN0CiAgICAgICAgaWYgKGlzQ29uZmlybWF0aW9uUmVxdWlyZWQoKSkgewogICAgICAgICAgICBpbmZvKCdVbmxvY2sgY29uZmlybWF0aW9uIHJlcXVpcmVkLicpOwogICAgICAgICAgICByZXF1ZXN0Q29uZmlybWF0aW9uKCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHZpZGVvSWQgPSAoKF9wbGF5ZXJSZXNwb25zZSR2aWRlbyA9IHBsYXllclJlc3BvbnNlLnZpZGVvRGV0YWlscykgPT09IG51bGwgfHwgX3BsYXllclJlc3BvbnNlJHZpZGVvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxheWVyUmVzcG9uc2UkdmlkZW8udmlkZW9JZCkKICAgICAgICAgICAgfHwgZ2V0WXRjZmdWYWx1ZSgnUExBWUVSX1ZBUlMnKS52aWRlb19pZDsKICAgICAgICBjb25zdCByZWFzb24gPSAoKF9wbGF5ZXJSZXNwb25zZSRwbGF5YSA9IHBsYXllclJlc3BvbnNlLnBsYXlhYmlsaXR5U3RhdHVzKSA9PT0gbnVsbCB8fCBfcGxheWVyUmVzcG9uc2UkcGxheWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5ZXJSZXNwb25zZSRwbGF5YS5zdGF0dXMpCiAgICAgICAgICAgIHx8ICgoX3BsYXllclJlc3BvbnNlJHByZXZpID0gcGxheWVyUmVzcG9uc2UucHJldmlld1BsYXlhYmlsaXR5U3RhdHVzKSA9PT0gbnVsbCB8fCBfcGxheWVyUmVzcG9uc2UkcHJldmkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5ZXJSZXNwb25zZSRwcmV2aS5zdGF0dXMpOwoKICAgICAgICBpZiAoIUNvbmZpZy5TS0lQX0NPTlRFTlRfV0FSTklOR1MgJiYgcmVhc29uLmluY2x1ZGVzKCdDSEVDS19SRVFVSVJFRCcpKSB7CiAgICAgICAgICAgIGluZm8oYFNLSVBfQ09OVEVOVF9XQVJOSU5HUyBkaXNhYmxlZCBhbmQgJHtyZWFzb259IHN0YXR1cyBkZXRlY3RlZC5gKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGFzdFBsYXllclVubG9ja1ZpZGVvSWQgPSB2aWRlb0lkOwogICAgICAgIGxhc3RQbGF5ZXJVbmxvY2tSZWFzb24gPSByZWFzb247CgogICAgICAgIGNvbnN0IHVubG9ja2VkUGxheWVyUmVzcG9uc2UgPSBnZXRVbmxvY2tlZFBsYXllclJlc3BvbnNlKHZpZGVvSWQsIHJlYXNvbik7CgogICAgICAgIC8vIGFjY291bnQgcHJveHkgZXJyb3I/CiAgICAgICAgaWYgKHVubG9ja2VkUGxheWVyUmVzcG9uc2UuZXJyb3JNZXNzYWdlKSB7CiAgICAgICAgICAgIFRvYXN0LnNob3coYCR7bWVzc2FnZXNNYXAuZmFpbH0gKFByb3h5RXJyb3IpYCwgMTApOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBsYXllciBVbmxvY2sgRmFpbGVkLCBQcm94eSBFcnJvciBNZXNzYWdlOiAke3VubG9ja2VkUGxheWVyUmVzcG9uc2UuZXJyb3JNZXNzYWdlfWApOwogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHVubG9ja2VkIHJlc3BvbnNlIGlzbid0IHBsYXlhYmxlCiAgICAgICAgaWYgKAogICAgICAgICAgICAhQ29uZmlnLlZBTElEX1BMQVlBQklMSVRZX1NUQVRVU0VTLmluY2x1ZGVzKAogICAgICAgICAgICAgICAgKF91bmxvY2tlZFBsYXllclJlc3BvbiA9IHVubG9ja2VkUGxheWVyUmVzcG9uc2UucGxheWFiaWxpdHlTdGF0dXMpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3VubG9ja2VkUGxheWVyUmVzcG9uLnN0YXR1cywKICAgICAgICAgICAgKQogICAgICAgICkgewogICAgICAgICAgICB2YXIgX3VubG9ja2VkUGxheWVyUmVzcG9uMjsKICAgICAgICAgICAgVG9hc3Quc2hvdyhgJHttZXNzYWdlc01hcC5mYWlsfSAoUGxheWFiaWxpdHlFcnJvcilgLCAxMCk7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigKICAgICAgICAgICAgICAgIGBQbGF5ZXIgVW5sb2NrIEZhaWxlZCwgcGxheWFiaWxpdHlTdGF0dXM6ICR7CiAgICAgICAgICAgICAgICAgICAgKF91bmxvY2tlZFBsYXllclJlc3BvbjIgPSB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnBsYXlhYmlsaXR5U3RhdHVzKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWRQbGF5ZXJSZXNwb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdW5sb2NrZWRQbGF5ZXJSZXNwb24yLnN0YXR1cwogICAgICAgICAgICAgICAgfWAsCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICAvLyBpZiB0aGUgdmlkZW8gaW5mbyB3YXMgcmV0cmlldmVkIHZpYSBwcm94eSwgc3RvcmUgdGhlIFVSTCBwYXJhbXMgZnJvbSB0aGUgdXJsLWF0dHJpYnV0ZSB0byBkZXRlY3QgbGF0ZXIgaWYgdGhlIHJlcXVlc3RlZCB2aWRlbyBmaWxlIChnb29nbGV2aWRlby5jb20pIG5lZWQgYSBwcm94eS4KICAgICAgICBpZiAoCiAgICAgICAgICAgIHVubG9ja2VkUGxheWVyUmVzcG9uc2UucHJveGllZCAmJiAoX3VubG9ja2VkUGxheWVyUmVzcG9uMyA9IHVubG9ja2VkUGxheWVyUmVzcG9uc2Uuc3RyZWFtaW5nRGF0YSkgIT09IG51bGwgJiYgX3VubG9ja2VkUGxheWVyUmVzcG9uMyAhPT0gdm9pZCAwCiAgICAgICAgICAgICYmIF91bmxvY2tlZFBsYXllclJlc3BvbjMuYWRhcHRpdmVGb3JtYXRzCiAgICAgICAgKSB7CiAgICAgICAgICAgIHZhciBfdW5sb2NrZWRQbGF5ZXJSZXNwb240LCBfdW5sb2NrZWRQbGF5ZXJSZXNwb241OwogICAgICAgICAgICBjb25zdCBjaXBoZXJUZXh0ID0gKF91bmxvY2tlZFBsYXllclJlc3BvbjQgPSB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuYWRhcHRpdmVGb3JtYXRzLmZpbmQoKHgpID0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNpZ25hdHVyZUNpcGhlcgogICAgICAgICAgICAgICAgICAgICAgICApKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWRQbGF5ZXJSZXNwb240ID09PSB2b2lkIDAKICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICA6IF91bmxvY2tlZFBsYXllclJlc3BvbjQuc2lnbmF0dXJlQ2lwaGVyOwogICAgICAgICAgICBjb25zdCB2aWRlb1VybCA9IGNpcGhlclRleHQKICAgICAgICAgICAgICAgID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhjaXBoZXJUZXh0KS5nZXQoJ3VybCcpCiAgICAgICAgICAgICAgICA6IChfdW5sb2NrZWRQbGF5ZXJSZXNwb241ID0gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5zdHJlYW1pbmdEYXRhLmFkYXB0aXZlRm9ybWF0cy5maW5kKCh4KSA9PiB4LnVybCkpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbjUgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgICAgIDogX3VubG9ja2VkUGxheWVyUmVzcG9uNS51cmw7CgogICAgICAgICAgICBsYXN0UHJveGllZEdvb2dsZVZpZGVvVXJsUGFyYW1zID0gdmlkZW9VcmwgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKG5ldyB3aW5kb3cuVVJMKHZpZGVvVXJsKS5zZWFyY2gpIDogbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vIE92ZXJ3cml0ZSB0aGUgZW1iZWRkZWQgKHByZXZpZXcpIHBsYXlhYmlsaXR5U3RhdHVzIHdpdGggdGhlIHVubG9ja2VkIG9uZQogICAgICAgIGlmIChwbGF5ZXJSZXNwb25zZS5wcmV2aWV3UGxheWFiaWxpdHlTdGF0dXMpIHsKICAgICAgICAgICAgcGxheWVyUmVzcG9uc2UucHJldmlld1BsYXlhYmlsaXR5U3RhdHVzID0gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZS5wbGF5YWJpbGl0eVN0YXR1czsKICAgICAgICB9CgogICAgICAgIC8vIFRyYW5zZmVyIGFsbCB1bmxvY2tlZCBwcm9wZXJ0aWVzIHRvIHRoZSBvcmlnaW5hbCBwbGF5ZXIgcmVzcG9uc2UKICAgICAgICBPYmplY3QuYXNzaWduKHBsYXllclJlc3BvbnNlLCB1bmxvY2tlZFBsYXllclJlc3BvbnNlKTsKCiAgICAgICAgcGxheWVyUmVzcG9uc2UudW5sb2NrZWQgPSB0cnVlOwoKICAgICAgICBUb2FzdC5zaG93KG1lc3NhZ2VzTWFwLnN1Y2Nlc3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFVubG9ja2VkUGxheWVyUmVzcG9uc2UodmlkZW9JZCwgcmVhc29uKSB7CiAgICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgaXMgY2FjaGVkCiAgICAgICAgaWYgKGNhY2hlZFBsYXllclJlc3BvbnNlLnZpZGVvSWQgPT09IHZpZGVvSWQpIHJldHVybiBjcmVhdGVEZWVwQ29weShjYWNoZWRQbGF5ZXJSZXNwb25zZSk7CgogICAgICAgIGNvbnN0IHVubG9ja1N0cmF0ZWdpZXMgPSBnZXRVbmxvY2tTdHJhdGVnaWVzKHZpZGVvSWQsIHJlYXNvbik7CgogICAgICAgIGxldCB1bmxvY2tlZFBsYXllclJlc3BvbnNlID0ge307CgogICAgICAgIC8vIFRyeSBldmVyeSBzdHJhdGVneSB1bnRpbCBvbmUgb2YgdGhlbSB3b3JrcwogICAgICAgIHVubG9ja1N0cmF0ZWdpZXMuZXZlcnkoKHN0cmF0ZWd5LCBpbmRleCkgPT4gewogICAgICAgICAgICB2YXIgX3VubG9ja2VkUGxheWVyUmVzcG9uNiwgX3VubG9ja2VkUGxheWVyUmVzcG9uNzsKICAgICAgICAgICAgLy8gU2tpcCBzdHJhdGVneSBpZiBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgaXMgbm90IGxvZ2dlZCBpbgogICAgICAgICAgICBpZiAoc3RyYXRlZ3kuc2tpcCB8fCBzdHJhdGVneS5yZXF1aXJlc0F1dGggJiYgIWlzVXNlckxvZ2dlZEluKCkpIHJldHVybiB0cnVlOwoKICAgICAgICAgICAgaW5mbyhgVHJ5aW5nIFBsYXllciBVbmxvY2sgTWV0aG9kICMke2luZGV4ICsgMX0gKCR7c3RyYXRlZ3kubmFtZX0pYCk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdW5sb2NrZWRQbGF5ZXJSZXNwb25zZSA9IHN0cmF0ZWd5LmVuZHBvaW50LmdldFBsYXllcihzdHJhdGVneS5wYXlsb2FkLCBzdHJhdGVneS5yZXF1aXJlc0F1dGggfHwgc3RyYXRlZ3kub3B0aW9uYWxBdXRoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBlcnJvcihlcnIsIGBQbGF5ZXIgVW5sb2NrIE1ldGhvZCAke2luZGV4ICsgMX0gZmFpbGVkIHdpdGggZXhjZXB0aW9uYCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGlzU3RhdHVzVmFsaWQgPSBDb25maWcuVkFMSURfUExBWUFCSUxJVFlfU1RBVFVTRVMuaW5jbHVkZXMoCiAgICAgICAgICAgICAgICAoX3VubG9ja2VkUGxheWVyUmVzcG9uNiA9IHVubG9ja2VkUGxheWVyUmVzcG9uc2UpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbjYgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiAoX3VubG9ja2VkUGxheWVyUmVzcG9uNyA9IF91bmxvY2tlZFBsYXllclJlc3BvbjYucGxheWFiaWxpdHlTdGF0dXMpID09PSBudWxsIHx8IF91bmxvY2tlZFBsYXllclJlc3BvbjcgPT09IHZvaWQgMAogICAgICAgICAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgICAgICAgICAgOiBfdW5sb2NrZWRQbGF5ZXJSZXNwb243LnN0YXR1cywKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBXb3JrYXJvdW5kOiBodHRwczovL2dpdGh1Yi5jb20vemVyb2R5dHJhc2gvU2ltcGxlLVlvdVR1YmUtQWdlLVJlc3RyaWN0aW9uLUJ5cGFzcy9pc3N1ZXMvMTkxCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIFlvdVR1YmUgY2hlY2tzIGlmIHRoZSBgdHJhY2tpbmdQYXJhbXNgIGluIHRoZSByZXNwb25zZSBtYXRjaGVzIHRoZSBkZWNvZGVkIGB0cmFja2luZ1BhcmFtYCBpbiBgcmVzcG9uc2VDb250ZXh0Lm1haW5BcHBXZWJSZXNwb25zZUNvbnRleHRgLgogICAgICAgICAgICAgKiBIb3dldmVyLCB0aGUgYFRWIEVtYmVkZGVkIFBsYXllcmAgZG9lcyBub3QgaW5jbHVkZSB0aGUgYHRyYWNraW5nUGFyYW1gIGluIHRoZSBgcmVzcG9uc2VDb250ZXh0YCwgY2F1c2luZyB0aGUgY2hlY2sgdG8gZmFpbC4KICAgICAgICAgICAgICoKICAgICAgICAgICAgICogVGhpcyB3b3JrYXJvdW5kIGFkZHJlc3NlcyB0aGUgaXNzdWUgYnkgaGFyZGNvZGluZyB0aGUgYHRyYWNraW5nUGFyYW1zYCBpbiB0aGUgYFRWIEVtYmVkZGVkIFBsYXllcmAgY29udGV4dC4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGlmIChpc1N0YXR1c1ZhbGlkICYmIHN0cmF0ZWd5Lm5hbWUgPT09ICdUViBFbWJlZGRlZCBQbGF5ZXInKSB7CiAgICAgICAgICAgICAgICB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnRyYWNraW5nUGFyYW1zID0gJ0NBQVF1MmtpRXdqb3I4dUh5T0xfQWhXT3ZkNEtIYXZYQ0t3PSc7CiAgICAgICAgICAgICAgICB1bmxvY2tlZFBsYXllclJlc3BvbnNlLnJlc3BvbnNlQ29udGV4dCA9IHsKICAgICAgICAgICAgICAgICAgICBtYWluQXBwV2ViUmVzcG9uc2VDb250ZXh0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nUGFyYW06ICdreF9mbVB4aG9QWlJ6Z0w4a3pPd0FOVWRRaDhad0hUUkVrdzJVcW1CQXdwQllyelJna3VNc05MQndPY0NFNTlURHRzbExLUFEtU1MnLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gIWlzU3RhdHVzVmFsaWQ7CiAgICAgICAgfSk7CgogICAgICAgIC8vIENhY2hlIHJlc3BvbnNlIHRvIHByZXZlbnQgYSBmbG9vZCBvZiByZXF1ZXN0cyBpbiBjYXNlIHlvdXR1YmUgcHJvY2Vzc2VzIGEgYmxvY2tlZCByZXNwb25zZSBtdXRpcGxlIHRpbWVzLgogICAgICAgIGNhY2hlZFBsYXllclJlc3BvbnNlID0geyB2aWRlb0lkLCAuLi5jcmVhdGVEZWVwQ29weSh1bmxvY2tlZFBsYXllclJlc3BvbnNlKSB9OwoKICAgICAgICByZXR1cm4gdW5sb2NrZWRQbGF5ZXJSZXNwb25zZTsKICAgIH0KCiAgICBsZXQgY2FjaGVkTmV4dFJlc3BvbnNlID0ge307CgogICAgZnVuY3Rpb24gdW5sb2NrUmVzcG9uc2Uob3JpZ2luYWxOZXh0UmVzcG9uc2UpIHsKICAgICAgICBjb25zdCB2aWRlb0lkID0gb3JpZ2luYWxOZXh0UmVzcG9uc2UuY3VycmVudFZpZGVvRW5kcG9pbnQud2F0Y2hFbmRwb2ludC52aWRlb0lkOwoKICAgICAgICBpZiAoIXZpZGVvSWQpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHZpZGVvSWQgaW4gbmV4dFJlc3BvbnNlYCk7CiAgICAgICAgfQoKICAgICAgICAvLyBPbmx5IHVubG9jayB0aGUgL25leHQgcmVzcG9uc2Ugd2hlbiB0aGUgcGxheWVyIGhhcyBiZWVuIHVubG9ja2VkIGFzIHdlbGwKICAgICAgICBpZiAodmlkZW9JZCAhPT0gbGFzdFBsYXllclVubG9ja1ZpZGVvSWQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdW5sb2NrZWROZXh0UmVzcG9uc2UgPSBnZXRVbmxvY2tlZE5leHRSZXNwb25zZSh2aWRlb0lkKTsKCiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNpZGViYXIgb2YgdGhlIHVubG9ja2VkIHJlc3BvbnNlIGlzIHN0aWxsIGVtcHR5CiAgICAgICAgaWYgKGlzV2F0Y2hOZXh0U2lkZWJhckVtcHR5KHVubG9ja2VkTmV4dFJlc3BvbnNlKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNpZGViYXIgVW5sb2NrIEZhaWxlZGApOwogICAgICAgIH0KCiAgICAgICAgLy8gVHJhbnNmZXIgc29tZSBwYXJ0cyBvZiB0aGUgdW5sb2NrZWQgcmVzcG9uc2UgdG8gdGhlIG9yaWdpbmFsIHJlc3BvbnNlCiAgICAgICAgbWVyZ2VOZXh0UmVzcG9uc2Uob3JpZ2luYWxOZXh0UmVzcG9uc2UsIHVubG9ja2VkTmV4dFJlc3BvbnNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVbmxvY2tlZE5leHRSZXNwb25zZSh2aWRlb0lkKSB7CiAgICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgaXMgY2FjaGVkCiAgICAgICAgaWYgKGNhY2hlZE5leHRSZXNwb25zZS52aWRlb0lkID09PSB2aWRlb0lkKSByZXR1cm4gY3JlYXRlRGVlcENvcHkoY2FjaGVkTmV4dFJlc3BvbnNlKTsKCiAgICAgICAgY29uc3QgdW5sb2NrU3RyYXRlZ2llcyA9IGdldFVubG9ja1N0cmF0ZWdpZXMkMSh2aWRlb0lkLCBsYXN0UGxheWVyVW5sb2NrUmVhc29uKTsKCiAgICAgICAgbGV0IHVubG9ja2VkTmV4dFJlc3BvbnNlID0ge307CgogICAgICAgIC8vIFRyeSBldmVyeSBzdHJhdGVneSB1bnRpbCBvbmUgb2YgdGhlbSB3b3JrcwogICAgICAgIHVubG9ja1N0cmF0ZWdpZXMuZXZlcnkoKHN0cmF0ZWd5LCBpbmRleCkgPT4gewogICAgICAgICAgICBpZiAoc3RyYXRlZ3kuc2tpcCkgcmV0dXJuIHRydWU7CgogICAgICAgICAgICBpbmZvKGBUcnlpbmcgTmV4dCBVbmxvY2sgTWV0aG9kICMke2luZGV4ICsgMX0gKCR7c3RyYXRlZ3kubmFtZX0pYCk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdW5sb2NrZWROZXh0UmVzcG9uc2UgPSBzdHJhdGVneS5lbmRwb2ludC5nZXROZXh0KHN0cmF0ZWd5LnBheWxvYWQsIHN0cmF0ZWd5Lm9wdGlvbmFsQXV0aCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgZXJyb3IoZXJyLCBgTmV4dCBVbmxvY2sgTWV0aG9kICR7aW5kZXggKyAxfSBmYWlsZWQgd2l0aCBleGNlcHRpb25gKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGlzV2F0Y2hOZXh0U2lkZWJhckVtcHR5KHVubG9ja2VkTmV4dFJlc3BvbnNlKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQ2FjaGUgcmVzcG9uc2UgdG8gcHJldmVudCBhIGZsb29kIG9mIHJlcXVlc3RzIGluIGNhc2UgeW91dHViZSBwcm9jZXNzZXMgYSBibG9ja2VkIHJlc3BvbnNlIG11dGlwbGUgdGltZXMuCiAgICAgICAgY2FjaGVkTmV4dFJlc3BvbnNlID0geyB2aWRlb0lkLCAuLi5jcmVhdGVEZWVwQ29weSh1bmxvY2tlZE5leHRSZXNwb25zZSkgfTsKCiAgICAgICAgcmV0dXJuIHVubG9ja2VkTmV4dFJlc3BvbnNlOwogICAgfQoKICAgIGZ1bmN0aW9uIG1lcmdlTmV4dFJlc3BvbnNlKG9yaWdpbmFsTmV4dFJlc3BvbnNlLCB1bmxvY2tlZE5leHRSZXNwb25zZSkgewogICAgICAgIHZhciBfdW5sb2NrZWROZXh0UmVzcG9uc2UsIF91bmxvY2tlZE5leHRSZXNwb25zZTIsIF91bmxvY2tlZE5leHRSZXNwb25zZTMsIF91bmxvY2tlZE5leHRSZXNwb25zZTQsIF91bmxvY2tlZE5leHRSZXNwb25zZTU7CiAgICAgICAgaWYgKGlzRGVza3RvcCkgewogICAgICAgICAgICAvLyBUcmFuc2ZlciBXYXRjaE5leHRSZXN1bHRzIHRvIG9yaWdpbmFsIHJlc3BvbnNlCiAgICAgICAgICAgIG9yaWdpbmFsTmV4dFJlc3BvbnNlLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHMuc2Vjb25kYXJ5UmVzdWx0cyA9IHVubG9ja2VkTmV4dFJlc3BvbnNlLmNvbnRlbnRzLnR3b0NvbHVtbldhdGNoTmV4dFJlc3VsdHMuc2Vjb25kYXJ5UmVzdWx0czsKCiAgICAgICAgICAgIC8vIFRyYW5zZmVyIHZpZGVvIGRlc2NyaXB0aW9uIHRvIG9yaWdpbmFsIHJlc3BvbnNlCiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIgPSBvcmlnaW5hbE5leHRSZXNwb25zZS5jb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzLnJlc3VsdHMucmVzdWx0cy5jb250ZW50cy5maW5kKAogICAgICAgICAgICAgICAgKHgpID0+IHgudmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIsCiAgICAgICAgICAgICkudmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXI7CiAgICAgICAgICAgIGNvbnN0IHVubG9ja2VkVmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIgPSB1bmxvY2tlZE5leHRSZXNwb25zZS5jb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzLnJlc3VsdHMucmVzdWx0cy5jb250ZW50cy5maW5kKAogICAgICAgICAgICAgICAgKHgpID0+IHgudmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXIsCiAgICAgICAgICAgICkudmlkZW9TZWNvbmRhcnlJbmZvUmVuZGVyZXI7CgogICAgICAgICAgICAvLyBUT0RPOiBUaHJvdyBpZiBkZXNjcmlwdGlvbiBub3QgZm91bmQ/CiAgICAgICAgICAgIGlmICh1bmxvY2tlZFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgICAgICBvcmlnaW5hbFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmRlc2NyaXB0aW9uID0gdW5sb2NrZWRWaWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgfSBlbHNlIGlmICh1bmxvY2tlZFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmF0dHJpYnV0ZWREZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgb3JpZ2luYWxWaWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5hdHRyaWJ1dGVkRGVzY3JpcHRpb24gPSB1bmxvY2tlZFZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyLmF0dHJpYnV0ZWREZXNjcmlwdGlvbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gVHJhbnNmZXIgV2F0Y2hOZXh0UmVzdWx0cyB0byBvcmlnaW5hbCByZXNwb25zZQogICAgICAgIGNvbnN0IHVubG9ja2VkV2F0Y2hOZXh0RmVlZCA9IChfdW5sb2NrZWROZXh0UmVzcG9uc2UgPSB1bmxvY2tlZE5leHRSZXNwb25zZS5jb250ZW50cykgPT09IG51bGwgfHwgX3VubG9ja2VkTmV4dFJlc3BvbnNlID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiAoX3VubG9ja2VkTmV4dFJlc3BvbnNlMiA9IF91bmxvY2tlZE5leHRSZXNwb25zZS5zaW5nbGVDb2x1bW5XYXRjaE5leHRSZXN1bHRzKSA9PT0gbnVsbCB8fCBfdW5sb2NrZWROZXh0UmVzcG9uc2UyID09PSB2b2lkIDAKICAgICAgICAgICAgPyB2b2lkIDAKICAgICAgICAgICAgOiAoX3VubG9ja2VkTmV4dFJlc3BvbnNlMyA9IF91bmxvY2tlZE5leHRSZXNwb25zZTIucmVzdWx0cykgPT09IG51bGwgfHwgX3VubG9ja2VkTmV4dFJlc3BvbnNlMyA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogKF91bmxvY2tlZE5leHRSZXNwb25zZTQgPSBfdW5sb2NrZWROZXh0UmVzcG9uc2UzLnJlc3VsdHMpID09PSBudWxsIHx8IF91bmxvY2tlZE5leHRSZXNwb25zZTQgPT09IHZvaWQgMAogICAgICAgICAgICA/IHZvaWQgMAogICAgICAgICAgICA6IChfdW5sb2NrZWROZXh0UmVzcG9uc2U1ID0gX3VubG9ja2VkTmV4dFJlc3BvbnNlNC5jb250ZW50cykgPT09IG51bGwgfHwgX3VubG9ja2VkTmV4dFJlc3BvbnNlNSA9PT0gdm9pZCAwCiAgICAgICAgICAgID8gdm9pZCAwCiAgICAgICAgICAgIDogX3VubG9ja2VkTmV4dFJlc3BvbnNlNS5maW5kKAogICAgICAgICAgICAgICAgKHgpID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3gkaXRlbVNlY3Rpb25SZW5kZXJlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAoKF94JGl0ZW1TZWN0aW9uUmVuZGVyZSA9IHguaXRlbVNlY3Rpb25SZW5kZXJlcikgPT09IG51bGwgfHwgX3gkaXRlbVNlY3Rpb25SZW5kZXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeCRpdGVtU2VjdGlvblJlbmRlcmUudGFyZ2V0SWQpCiAgICAgICAgICAgICAgICAgICAgICAgID09PSAnd2F0Y2gtbmV4dC1mZWVkJzsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICk7CgogICAgICAgIGlmICh1bmxvY2tlZFdhdGNoTmV4dEZlZWQpIG9yaWdpbmFsTmV4dFJlc3BvbnNlLmNvbnRlbnRzLnNpbmdsZUNvbHVtbldhdGNoTmV4dFJlc3VsdHMucmVzdWx0cy5yZXN1bHRzLmNvbnRlbnRzLnB1c2godW5sb2NrZWRXYXRjaE5leHRGZWVkKTsKCiAgICAgICAgLy8gVHJhbnNmZXIgdmlkZW8gZGVzY3JpcHRpb24gdG8gb3JpZ2luYWwgcmVzcG9uc2UKICAgICAgICBjb25zdCBvcmlnaW5hbFN0cnVjdHVyZWREZXNjcmlwdGlvbkNvbnRlbnRSZW5kZXJlciA9IG9yaWdpbmFsTmV4dFJlc3BvbnNlLmVuZ2FnZW1lbnRQYW5lbHMKICAgICAgICAgICAgLmZpbmQoKHgpID0+IHguZW5nYWdlbWVudFBhbmVsU2VjdGlvbkxpc3RSZW5kZXJlcikKICAgICAgICAgICAgLmVuZ2FnZW1lbnRQYW5lbFNlY3Rpb25MaXN0UmVuZGVyZXIuY29udGVudC5zdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIuaXRlbXMuZmluZCgoeCkgPT4geC5leHBhbmRhYmxlVmlkZW9EZXNjcmlwdGlvbkJvZHlSZW5kZXJlcik7CiAgICAgICAgY29uc3QgdW5sb2NrZWRTdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIgPSB1bmxvY2tlZE5leHRSZXNwb25zZS5lbmdhZ2VtZW50UGFuZWxzCiAgICAgICAgICAgIC5maW5kKCh4KSA9PiB4LmVuZ2FnZW1lbnRQYW5lbFNlY3Rpb25MaXN0UmVuZGVyZXIpCiAgICAgICAgICAgIC5lbmdhZ2VtZW50UGFuZWxTZWN0aW9uTGlzdFJlbmRlcmVyLmNvbnRlbnQuc3RydWN0dXJlZERlc2NyaXB0aW9uQ29udGVudFJlbmRlcmVyLml0ZW1zLmZpbmQoKHgpID0+IHguZXhwYW5kYWJsZVZpZGVvRGVzY3JpcHRpb25Cb2R5UmVuZGVyZXIpOwoKICAgICAgICBpZiAodW5sb2NrZWRTdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIuZXhwYW5kYWJsZVZpZGVvRGVzY3JpcHRpb25Cb2R5UmVuZGVyZXIpIHsKICAgICAgICAgICAgb3JpZ2luYWxTdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIuZXhwYW5kYWJsZVZpZGVvRGVzY3JpcHRpb25Cb2R5UmVuZGVyZXIgPQogICAgICAgICAgICAgICAgdW5sb2NrZWRTdHJ1Y3R1cmVkRGVzY3JpcHRpb25Db250ZW50UmVuZGVyZXIuZXhwYW5kYWJsZVZpZGVvRGVzY3JpcHRpb25Cb2R5UmVuZGVyZXI7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogIEhhbmRsZXMgWE1MSHR0cFJlcXVlc3RzIGFuZAogICAgICogLSBSZXdyaXRlIEdvb2dsZXZpZGVvIFVSTHMgdG8gUHJveHkgVVJMcyAoaWYgbmVjZXNzYXJ5KQogICAgICogLSBTdG9yZSBhdXRoIGhlYWRlcnMgZm9yIHRoZSBhdXRoZW50aWNhdGlvbiBvZiBmdXJ0aGVyIHVubG9jayByZXF1ZXN0cy4KICAgICAqIC0gQWRkICJjb250ZW50IGNoZWNrIG9rIiBmbGFncyB0byByZXF1ZXN0IGJvZHlzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZVhock9wZW4obWV0aG9kLCB1cmwsIHhocikgewogICAgICAgIGxldCBwcm94eVVybCA9IHVubG9ja0dvb2dsZVZpZGVvKHVybCk7CiAgICAgICAgaWYgKHByb3h5VXJsKSB7CiAgICAgICAgICAgIC8vIEV4Y2x1ZGUgY3JlZGVudGlhbHMgZnJvbSBYTUxIdHRwUmVxdWVzdAogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoeGhyLCAnd2l0aENyZWRlbnRpYWxzJywgewogICAgICAgICAgICAgICAgc2V0OiAoKSA9PiB7fSwKICAgICAgICAgICAgICAgIGdldDogKCkgPT4gZmFsc2UsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcHJveHlVcmw7CiAgICAgICAgfQoKICAgICAgICBpZiAodXJsLnBhdGhuYW1lLmluZGV4T2YoJy95b3V0dWJlaS8nKSA9PT0gMCkgewogICAgICAgICAgICAvLyBTdG9yZSBhdXRoIGhlYWRlcnMgaW4gc3RvcmFnZSBmb3IgZnVydGhlciB1c2FnZS4KICAgICAgICAgICAgYXR0YWNoJDQoeGhyLCAnc2V0UmVxdWVzdEhlYWRlcicsIChfcmVmMikgPT4gewogICAgICAgICAgICAgICAgbGV0IFtoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZV0gPSBfcmVmMjsKICAgICAgICAgICAgICAgIGlmIChDb25maWcuR09PR0xFX0FVVEhfSEVBREVSX05BTUVTLmluY2x1ZGVzKGhlYWRlck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0KGhlYWRlck5hbWUsIGhlYWRlclZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoQ29uZmlnLlNLSVBfQ09OVEVOVF9XQVJOSU5HUyAmJiBtZXRob2QgPT09ICdQT1NUJyAmJiBbJy95b3V0dWJlaS92MS9wbGF5ZXInLCAnL3lvdXR1YmVpL3YxL25leHQnXS5pbmNsdWRlcyh1cmwucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIC8vIEFkZCBjb250ZW50IGNoZWNrIGZsYWdzIHRvIHBsYXllciBhbmQgbmV4dCByZXF1ZXN0ICh0aGlzIHdpbGwgc2tpcCBjb250ZW50IHdhcm5pbmdzKQogICAgICAgICAgICBhdHRhY2gkNCh4aHIsICdzZW5kJywgKGFyZ3MpID0+IHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gc2V0Q29udGVudENoZWNrT2soYXJnc1swXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqICBIYW5kbGVzIEZldGNoIHJlcXVlc3RzIGFuZAogICAgICogLSBSZXdyaXRlIEdvb2dsZXZpZGVvIFVSTHMgdG8gUHJveHkgVVJMcyAoaWYgbmVjZXNzYXJ5KQogICAgICogLSBTdG9yZSBhdXRoIGhlYWRlcnMgZm9yIHRoZSBhdXRoZW50aWNhdGlvbiBvZiBmdXJ0aGVyIHVubG9jayByZXF1ZXN0cy4KICAgICAqIC0gQWRkICJjb250ZW50IGNoZWNrIG9rIiBmbGFncyB0byByZXF1ZXN0IGJvZHlzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbmRsZUZldGNoUmVxdWVzdCh1cmwsIHJlcXVlc3RPcHRpb25zKSB7CiAgICAgICAgbGV0IG5ld0dvb2dsZVZpZGVvVXJsID0gdW5sb2NrR29vZ2xlVmlkZW8odXJsKTsKICAgICAgICBpZiAobmV3R29vZ2xlVmlkZW9VcmwpIHsKICAgICAgICAgICAgLy8gRXhjbHVkZSBjcmVkZW50aWFscyBmcm9tIEZldGNoIFJlcXVlc3QKICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLmNyZWRlbnRpYWxzKSB7CiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5jcmVkZW50aWFscyA9ICdvbWl0JzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV3R29vZ2xlVmlkZW9Vcmw7CiAgICAgICAgfQoKICAgICAgICBpZiAodXJsLnBhdGhuYW1lLmluZGV4T2YoJy95b3V0dWJlaS8nKSA9PT0gMCAmJiBpc09iamVjdChyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzKSkgewogICAgICAgICAgICAvLyBTdG9yZSBhdXRoIGhlYWRlcnMgaW4gYXV0aFN0b3JhZ2UgZm9yIGZ1cnRoZXIgdXNhZ2UuCiAgICAgICAgICAgIGZvciAobGV0IGhlYWRlck5hbWUgaW4gcmVxdWVzdE9wdGlvbnMuaGVhZGVycykgewogICAgICAgICAgICAgICAgaWYgKENvbmZpZy5HT09HTEVfQVVUSF9IRUFERVJfTkFNRVMuaW5jbHVkZXMoaGVhZGVyTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXQoaGVhZGVyTmFtZSwgcmVxdWVzdE9wdGlvbnMuaGVhZGVyc1toZWFkZXJOYW1lXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChDb25maWcuU0tJUF9DT05URU5UX1dBUk5JTkdTICYmIFsnL3lvdXR1YmVpL3YxL3BsYXllcicsICcveW91dHViZWkvdjEvbmV4dCddLmluY2x1ZGVzKHVybC5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gQWRkIGNvbnRlbnQgY2hlY2sgZmxhZ3MgdG8gcGxheWVyIGFuZCBuZXh0IHJlcXVlc3QgKHRoaXMgd2lsbCBza2lwIGNvbnRlbnQgd2FybmluZ3MpCiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmJvZHkgPSBzZXRDb250ZW50Q2hlY2tPayhyZXF1ZXN0T3B0aW9ucy5ib2R5KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBJZiB0aGUgYWNjb3VudCBwcm94eSB3YXMgdXNlZCB0byByZXRyaWV2ZSB0aGUgdmlkZW8gaW5mbywgdGhlIGZvbGxvd2luZyBhcHBsaWVzOgogICAgICogc29tZSB2aWRlbyBmaWxlcyAobW9zdGx5IG11c2ljIHZpZGVvcykgY2FuIG9ubHkgYmUgYWNjZXNzZWQgZnJvbSBJUHMgaW4gdGhlIHNhbWUgY291bnRyeSBhcyB0aGUgaW5uZXJ0dWJlIGFwaSByZXF1ZXN0ICgveW91dHViZWkvdjEvcGxheWVyKSB3YXMgbWFkZS4KICAgICAqIHRvIGdldCBhcm91bmQgdGhpcywgdGhlIGdvb2dsZXZpZGVvIFVSTCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSB3ZWItcHJveHkgVVJMIGluIHRoZSBzYW1lIGNvdW50cnkgKFVTKS4KICAgICAqIHRoaXMgaXMgb25seSByZXF1aXJlZCBpZiB0aGUgImdjcj1bY291bnRyeWNvZGVdIiBmbGFnIGlzIHNldCBpbiB0aGUgZ29vZ2xldmlkZW8tdXJsLi4uCiAgICAgKiBAcmV0dXJucyBUaGUgcmV3aXR0ZW4gdXJsIChpZiBhIHByb3h5IGlzIHJlcXVpcmVkKQogICAgICovCiAgICBmdW5jdGlvbiB1bmxvY2tHb29nbGVWaWRlbyh1cmwpIHsKICAgICAgICBpZiAoQ29uZmlnLlZJREVPX1BST1hZX1NFUlZFUl9IT1NUICYmIGlzR29vZ2xlVmlkZW9VcmwodXJsKSkgewogICAgICAgICAgICBpZiAoaXNHb29nbGVWaWRlb1VubG9ja1JlcXVpcmVkKHVybCwgZ2V0TGFzdFByb3hpZWRHb29nbGVWaWRlb0lkKCkpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJveHkuZ2V0R29vZ2xlVmlkZW9VcmwodXJsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFkZHMgYGNvbnRlbnRDaGVja09rYCBhbmQgYHJhY3lDaGVja09rYCB0byB0aGUgZ2l2ZW4ganNvbiBkYXRhIChpZiB0aGUgZGF0YSBjb250YWlucyBhIHZpZGVvIGlkKQogICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIG1vZGlmaWVkIGpzb24KICAgICAqLwogICAgZnVuY3Rpb24gc2V0Q29udGVudENoZWNrT2soYm9keUpzb24pIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBsZXQgcGFyc2VkQm9keSA9IEpTT04ucGFyc2UoYm9keUpzb24pOwogICAgICAgICAgICBpZiAocGFyc2VkQm9keS52aWRlb0lkKSB7CiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LmNvbnRlbnRDaGVja09rID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHBhcnNlZEJvZHkucmFjeUNoZWNrT2sgPSB0cnVlOwogICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBhcnNlZEJvZHkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCB7fQogICAgICAgIHJldHVybiBib2R5SnNvbjsKICAgIH0KCiAgICBmdW5jdGlvbiBwcm9jZXNzVGh1bWJuYWlscyhyZXNwb25zZU9iamVjdCkgewogICAgICAgIGNvbnN0IHRodW1ibmFpbHMgPSBmaW5kTmVzdGVkT2JqZWN0c0J5QXR0cmlidXRlTmFtZXMocmVzcG9uc2VPYmplY3QsIFsndXJsJywgJ2hlaWdodCddKTsKCiAgICAgICAgbGV0IGJsdXJyZWRUaHVtYm5haWxDb3VudCA9IDA7CgogICAgICAgIGZvciAoY29uc3QgdGh1bWJuYWlsIG9mIHRodW1ibmFpbHMpIHsKICAgICAgICAgICAgaWYgKGlzVGh1bWJuYWlsQmx1cnJlZCh0aHVtYm5haWwpKSB7CiAgICAgICAgICAgICAgICBibHVycmVkVGh1bWJuYWlsQ291bnQrKzsKICAgICAgICAgICAgICAgIHRodW1ibmFpbC51cmwgPSB0aHVtYm5haWwudXJsLnNwbGl0KCc/JylbMF07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGluZm8oYmx1cnJlZFRodW1ibmFpbENvdW50ICsgJy8nICsgdGh1bWJuYWlscy5sZW5ndGggKyAnIHRodW1ibmFpbHMgZGV0ZWN0ZWQgYXMgYmx1cnJlZC4nKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1RodW1ibmFpbEJsdXJyZWQodGh1bWJuYWlsKSB7CiAgICAgICAgY29uc3QgaGFzU1FQUGFyYW0gPSB0aHVtYm5haWwudXJsLmluZGV4T2YoJz9zcXA9JykgIT09IC0xOwoKICAgICAgICBpZiAoIWhhc1NRUFBhcmFtKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IFNRUExlbmd0aCA9IG5ldyBVUkwodGh1bWJuYWlsLnVybCkuc2VhcmNoUGFyYW1zLmdldCgnc3FwJykubGVuZ3RoOwogICAgICAgIGNvbnN0IGlzQmx1cnJlZCA9IENvbmZpZy5CTFVSUkVEX1RIVU1CTkFJTF9TUVBfTEVOR1RIUy5pbmNsdWRlcyhTUVBMZW5ndGgpOwoKICAgICAgICByZXR1cm4gaXNCbHVycmVkOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgYXR0YWNoJDMocHJvY2Vzc1l0RGF0YSk7CiAgICAgICAgYXR0YWNoJDIocHJvY2Vzc1l0RGF0YSk7CiAgICAgICAgYXR0YWNoKGhhbmRsZVhock9wZW4pOwogICAgICAgIGF0dGFjaCQxKGhhbmRsZUZldGNoUmVxdWVzdCk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBlcnJvcihlcnIsICdFcnJvciB3aGlsZSBhdHRhY2hpbmcgZGF0YSBpbnRlcmNlcHRvcnMnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwcm9jZXNzWXREYXRhKHl0RGF0YSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIFBsYXllciBVbmxvY2sgIzE6IEluaXRpYWwgcGFnZSBkYXRhIHN0cnVjdHVyZSBhbmQgcmVzcG9uc2UgZnJvbSBgL3lvdXR1YmVpL3YxL3BsYXllcmAgWEhSIHJlcXVlc3QKICAgICAgICAgICAgaWYgKGlzUGxheWVyT2JqZWN0KHl0RGF0YSkgJiYgaXNBZ2VSZXN0cmljdGVkKHl0RGF0YS5wbGF5YWJpbGl0eVN0YXR1cykpIHsKICAgICAgICAgICAgICAgIHVubG9ja1Jlc3BvbnNlJDEoeXREYXRhKTsKICAgICAgICAgICAgfSAvLyBQbGF5ZXIgVW5sb2NrICMyOiBFbWJlZGRlZCBQbGF5ZXIgaW5pdGFsIGRhdGEgc3RydWN0dXJlCiAgICAgICAgICAgIGVsc2UgaWYgKGlzRW1iZWRkZWRQbGF5ZXJPYmplY3QoeXREYXRhKSAmJiBpc0FnZVJlc3RyaWN0ZWQoeXREYXRhLnByZXZpZXdQbGF5YWJpbGl0eVN0YXR1cykpIHsKICAgICAgICAgICAgICAgIHVubG9ja1Jlc3BvbnNlJDEoeXREYXRhKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBlcnJvcihlcnIsICdWaWRlbyB1bmxvY2sgZmFpbGVkJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyBVbmxvY2sgc2lkZWJhciB3YXRjaCBuZXh0IGZlZWQgKHNpZGViYXIpIGFuZCB2aWRlbyBkZXNjcmlwdGlvbgogICAgICAgICAgICBpZiAoaXNXYXRjaE5leHRPYmplY3QoeXREYXRhKSAmJiBpc1dhdGNoTmV4dFNpZGViYXJFbXB0eSh5dERhdGEpKSB7CiAgICAgICAgICAgICAgICB1bmxvY2tSZXNwb25zZSh5dERhdGEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBNb2JpbGUgdmVyc2lvbgogICAgICAgICAgICBpZiAoaXNXYXRjaE5leHRPYmplY3QoeXREYXRhLnJlc3BvbnNlKSAmJiBpc1dhdGNoTmV4dFNpZGViYXJFbXB0eSh5dERhdGEucmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICB1bmxvY2tSZXNwb25zZSh5dERhdGEucmVzcG9uc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGVycm9yKGVyciwgJ1NpZGViYXIgdW5sb2NrIGZhaWxlZCcpOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gVW5sb2NrIGJsdXJyeSB2aWRlbyB0aHVtYm5haWxzIGluIHNlYXJjaCByZXN1bHRzCiAgICAgICAgICAgIGlmIChpc1NlYXJjaFJlc3VsdCh5dERhdGEpKSB7CiAgICAgICAgICAgICAgICBwcm9jZXNzVGh1bWJuYWlscyh5dERhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGVycm9yKGVyciwgJ1RodW1ibmFpbCB1bmxvY2sgZmFpbGVkJyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4geXREYXRhOwogICAgfQp9KSgpOwo="},{"name":"Pagetual","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":["wedata.net","githubusercontent.com","ghproxy.com","hoothin.github.io","*"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1690958120440,"data":{"rulesData":"o{\"uninited\": true,\"opacity\": 1,\"hideBar\": false,\"dbClick2Stop\": true,\"enableWhiteList\": false,\"enableHistory\": false,\"openInNewTab\": false,\"enableDebug\": true,\"initRun\": true,\"preload\": true,\"customFirst\": false,\"manualMode\": false,\"clickMode\": false,\"pageBarMenu\": true,\"arrowToScroll\": false,\"hideLoadingIcon\": false,\"hideBarArrow\": false,\"urls\": [{\"id\": 2,\"url\": \"https://raw.githubusercontent.com/hoothin/UserScripts/master/Pagetual/pagetualRules.json\",\"type\": 1}],\"sort\": [2,1]}","hpRules":"o[{\"name\": \"Bing\",\"action\": 1,\"url\": \"^https://.*\\\\.bing\\\\.com/\",\"nextLink\": \"a[title='Next page'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl\",\"pageElement\": \"ol#b_results>li.b_algo\",\"wait\": \"if(doc==document)return true;doc.documentElement.scrollTop=99999;return doc.querySelector('a[title=\\\\'Next page\\\\'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl')\",\"pageBar\": \"pageBar.className='b_pageBar'\",\"from\": 2},{\"name\": \"Google Search\",\"nextLink\": [\"id('pnnext')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\",\"id('pnprev')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\"],\"pageElement\": \"id('rso')|id('center_col')/style[contains(.,'relative')][id('rso')]|id('search')/div/div/style[1]\",\"action\": 1,\"pageNum\": \"&start={10*($p-1)}\",\"pageBarTop\": 55,\"url\": \"^https?://[^./]+\\\\.google(?:\\\\.[^./]{2,3}){1,2}/(?:c(?:se|ustom)|search|webhp|m|#)\",\"replaceElement\": \"[role='navigation']>[role='presentation']\",\"css\": \"ol>li{display: inline-flex;}\",\"from\": 2}]","smartRules":"o[{\"url\": \"https://tweetdeck.twitter.com/\",\"singleUrl\": true},{\"url\": \"https://fonts.google.com/noto/specimen/Noto+Sans+JP\",\"singleUrl\": true},{\"url\": \"https://fonts.google.com/noto\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/u8dI93E\",\"singleUrl\": true},{\"url\": \"https://www.nbcnews.com/news/us-news/lizzo-dancers-weight-shamed-pressured-touch-nude-performer-lawsuit-rcna95161\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/DGAzZ4X\",\"singleUrl\": true},{\"url\": \"https://iframe.nbcnews.com/y2v5z5k\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/agedlikemilk/comments/15fvtvj/i_meanlizzo_did_warn_us_that_shes_100_btch/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/GamingLeaksAndRumours/comments/15fsg2g/every_newcomer_for_nick_allstar_brawl_2_has/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/Gulong/comments/15fuu3e/behold_the_all_new_250_series_toyota_land_cruiser/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/formuladank/comments/15ft0x0/the_source_is_me_i_made_it_all_up/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/bing/top/\",\"singleUrl\": true,\"pageElement\": \"article.yn9v_hQEhjlRNZI0xspbA>*\"},{\"url\": \"https://www.reddit.com/r/bing/comments/15dfesb/i_hate_bings_passive_aggressive_why_did_they_give/\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/bing/\",\"singleUrl\": true,\"pageBar\": 0,\"pageElement\": \"body > div:nth-of-type(1) > div._1VP69d9lk-Wk9zokOaylL.theme-beta > div.hciOr5UGrnYrZxB11tX9s > div.subredditvars-r-bing > div._1nxEQl5D2Bx2jxDILRHemb > div > div.qYj03fU5CXf5t2Fc5iSvg.ListingLayout-outerContainer > div._3ozFtOe6WpJEMUtxDOIvtU > div._31N0dvxfpsO6Ur5AKx4O5d > div._1OVBBWLtHoSPfGCRaPzpTf._3nSp9cdBpqL13CqjdMr2L_._2OVNlZuUd8L9v0yVECZ2iA > div.rpBJOHq2PR60pnwJlUyP0 > div:nth-of-type(2) > div > div._1oQyIsiPHYt6nx7VOmd1sz._1RYN-7H8gYctjOQeL8p2Q7.scrollerItem._3Qkp11fjcAw9I9wtLo8frE._1qftyZQ2bhqP62lbPjoGAh._1LmKpEAguLZV4jQMgQSFVL._1Qs6zz6oqdrQbR7yE_ntfY.Post.t3_15f73o4 > div._1poyrkZ7g36PawDueRza-J._11R7M_VOgKO1RJyRSRErT3._1Qs6zz6oqdrQbR7yE_ntfY > div.STit0dLageRsa2yR4te_b > div.m3aNC6yp8RrNM_-a0rrfa > div._3JgI-GOrkmyIeDeyzXdyUD._2CSlKHjH7lsjx0IpjORx14 > div._1NSbknF8ucHV2abfCZw2Z1 > a > div._3Oa0THmZ3f5iZXAQ0hBJ0k.media-element > div:nth-of-type(1) > img._2_tDEnGMLxpM6uOa2kaDB3.ImageBox-image._1XWObl-3b9tPy64oaG6fax\",\"lazyImgSrc\": \"0\"},{\"url\": \"https://github.com/Zerohazard8x/custom/blob/5350cf1cf1bfdc4ca620b569569692ab2c12d495/stylus/personal-tweetdeck.user.styl\",\"singleUrl\": true},{\"url\": \"https://nitter.net/search\",\"singleUrl\": true},{\"url\": \"https://open.spotify.com/desktop/auth/success\",\"singleUrl\": true},{\"url\": \"https://accounts.spotify.com/en/oauth2/v2/auth\",\"singleUrl\": true},{\"url\": \"https://nitter.net/\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x/custom\",\"singleUrl\": true},{\"url\": \"https://github.com/\",\"singleUrl\": true},{\"url\": \"https://github.com/Zerohazard8x/scripts\",\"singleUrl\": true},{\"url\": \"https://github.com/Invertex/Twitter-AutoHD/blob/master/Twitter_AutoHD.user.js\",\"singleUrl\": true},{\"url\": \"https://better.tw/\",\"singleUrl\": true},{\"url\": \"https://us02web.zoom.us/postattendee\",\"singleUrl\": true},{\"url\": \"https://us02web.zoom.us/j/87296548072\",\"singleUrl\": true},{\"url\": \"https://web.telegram.org/k/\",\"singleUrl\": true},{\"url\": \"https://mail.google.com/mail/u/1/\",\"singleUrl\": true},{\"url\": \"https://mail.google.com/mail/u/0/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/purchase/success/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/purchase/offer/default-student-premium/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/plan/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/verification/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/premium/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/ph-en/student/apply/sheerid-program/\",\"singleUrl\": true},{\"url\": \"https://services.sheerid.com/rest/v2/verification/sso/oidc_google\",\"singleUrl\": true},{\"url\": \"https://accounts.google.com/o/oauth2/v2/auth/oauthchooseaccount\",\"singleUrl\": true},{\"url\": \"https://services.sheerid.com/verify/63fd266996552d469aea40e1/\",\"singleUrl\": true},{\"url\": \"https://coupons.slickdeals.net/spotify/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/ph/apple-music/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/ph/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/choose-country-region/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/us/select-your-country-region/\",\"singleUrl\": true},{\"url\": \"https://www.spotify.com/us/premium/\",\"singleUrl\": true},{\"url\": \"https://www.apple.com/apple-music/\",\"singleUrl\": true},{\"url\": \"https://support.apple.com/en-us/HT205928\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/@me/1081111125766176779\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/634775005351116830/634783819349884958\",\"singleUrl\": true},{\"url\": \"https://discord.com/channels/@me\",\"singleUrl\": true},{\"url\": \"https://github.com/outer-space/ksk\",\"singleUrl\": true},{\"url\": \"https://github.com/outer-space/ksk/blob/master/fonts/DIN/FF%20DIN%20Condensed/FF%20DIN%20Condensed%20Black/FF_DIN_Condensed_Black.otf\",\"singleUrl\": true},{\"url\": \"https://github.com/labatrockwell/spacebrew-site/blob/master/fonts/DIN/DINPro-Bold.otf\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/fonts/comments/4qi7h6/need_help_finding_a_google_fonts_alternative_to/\",\"singleUrl\": true},{\"url\": \"https://tweetdeck.twitter.com/semifreqsonic/status/1686368685920002048/photo/2\",\"singleUrl\": true},{\"url\": \"https://drive.google.com/drive/u/1/my-drive\",\"singleUrl\": true},{\"url\": \"https://ogs.google.com/u/0/widget/account\",\"singleUrl\": true},{\"url\": \"https://drive.google.com/drive/u/0/my-drive\",\"singleUrl\": true},{\"url\": \"https://canvadocs-sin.instructure.com/1/sessions/eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjIjoxNjkwOTA0MzgzMDI4LCJkIjoiZlNRemhjUm1QeFVHd1haRDdTV3JCVnNRSXAyNmhOIiwiZSI6MTY5MDk0MDM4MywiciI6InBkZmpzIiwibCI6ImVuIiwiZyI6Im5vbmUiLCJoIjp7fSwidXNlX2Nsb3VkZnJvbnQiOnRydWUsInNlbmRfdXNhZ2VfbWV0cmljcyI6ZmFsc2UsImlhdCI6MTY5MDkwNDM4MywiZXhwIjoxNjkwOTQwMzgyfQ.pxLoyN71TGl7db1h4cJz9y4rUNlxA2GJM6B0D_uEmeAmTepPxeH-BRZX3ruwzGTDSeCmqxdUZ60I1ioSER1E-g/view\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/courses/133582/files/folder/Project\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/courses/133582/files\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/courses/133582\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/\",\"singleUrl\": true},{\"url\": \"https://fontlibrary.org/en/font/osp-din\",\"singleUrl\": true},{\"url\": \"https://www.linotype.com/110207/df-hei-traditional-chinese-family.html\",\"singleUrl\": true},{\"url\": \"https://www.fontsquirrel.com/fonts/osp-din\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/identifythisfont/comments/2ol8nw/chinese_font_similar_to_din/\",\"singleUrl\": true},{\"url\": \"https://www.google.com/\",\"singleUrl\": true},{\"url\": \"https://archive.org/search\",\"singleUrl\": true},{\"url\": \"https://archive.org/\",\"singleUrl\": true},{\"url\": \"https://www.1001fonts.com/gidole-font.html\",\"singleUrl\": true},{\"url\": \"https://www.reddit.com/r/typography/comments/3qf0ei/is_this_legit_i_didnt_know_there_was_any_free/\",\"singleUrl\": true},{\"url\": \"https://www.fontsquirrel.com/fonts/d-din\",\"singleUrl\": true},{\"url\": \"https://www.datto.com/\",\"singleUrl\": true},{\"url\": \"https://github.com/agentyzmin/Road-UA-Font/releases/tag/1.01\",\"singleUrl\": true},{\"url\": \"https://github.com/playbeing/dinish/releases\",\"singleUrl\": true},{\"url\": \"https://github.com/Altinn/altinn-din\",\"singleUrl\": true},{\"url\": \"https://www.1001fonts.com/alte-din-1451-mittelschrift-font.html\",\"singleUrl\": true},{\"url\": \"https://www.deepl.com/translator\",\"singleUrl\": true},{\"url\": \"https://agentyzmin.github.io/Road-UA-Font/\",\"singleUrl\": true},{\"url\": \"https://github.com/playbeing/dinish\",\"singleUrl\": true},{\"url\": \"https://www.mathworks.com/matlabcentral/answers/420426-where-can-i-download-matlab-web-app-server\",\"singleUrl\": true},{\"url\": \"https://getpocket.com/saves\",\"singleUrl\": true},{\"url\": \"https://tweetdeck.twitter.com/sarahrsketches/status/1686365953062256645/photo/2\",\"singleUrl\": true},{\"url\": \"https://en.wikipedia.org/wiki/One-child_policy\",\"singleUrl\": true},{\"url\": \"https://en.wikipedia.org/wiki/Heihaizi\",\"singleUrl\": true},{\"url\": \"https://yakuza.fandom.com/wiki/Koji_Masuzoe\",\"singleUrl\": true},{\"url\": \"https://yakuza.fandom.com/wiki/Snake_Flower_Triad\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cint%5E%7Be%20%7D_%7B1%7D%5Cint%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D_%7B0%7D%5Cint%5E%7B%5Csqrt%7B1-x%5E2%7D%7D_%7B0%7D%5Cfrac%7Bdydxdz%7D%7B1-x%5E%7B2%7D%7D\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cint%5E%7B%5Ctext%7Be%7D%7D_%7B0%7D%5Cint%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D_%7B0%7D%5Cint%5E%7B%5Csqrt%7B1-x%5E2%7D%7D_%7B0%7D%5Cfrac%7Bdydxdz%7D%7B1-x%5E%7B2%7D%7D\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cint%20%5E%7B%5Cbackslash%7D_%7B0%7D%5Cint%20%20%5E%7B1%7D_%7B0%7D%5Cint%20%20%5E%7B1%7D_%7B0%7D\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cfrac%7Bd%7D%7Bdy%7D%5Cleft(%5Cfrac%7B1%7D%7By%7D%5Cright)\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cfrac%7Bd%7D%7Bdx%7D%5Cleft(%5Cfrac%7B1%7D%7By%7D%5Cright)\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/solver/step-by-step/%5Cint%5E%7B1%7D_%7B0%7D%5Cint%20%5E%7Bx%7D_%7Bx%5E%7B2%7D%7D%5Cfrac%7Bxdydx%7D%7Bx%5E%7B2%7D%2By%5E%7B2%7D%7D\",\"singleUrl\": true},{\"url\": \"https://www.symbolab.com/registration\",\"singleUrl\": true},{\"url\": \"https://canvadocs-sin.instructure.com/1/sessions/eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjIjoxNjkwODkxMDQ5MjQxLCJkIjoiNzZ5cElSZEpZa1ZpLW9JZE1SMDE3ZzVXd1ZmZzc2IiwiZSI6MTY5MDkyNzA0OSwiciI6InBkZmpzIiwibCI6ImVuIiwiZyI6Im5vbmUiLCJoIjp7fSwidXNlX2Nsb3VkZnJvbnQiOnRydWUsInNlbmRfdXNhZ2VfbWV0cmljcyI6ZmFsc2UsImEiOnsiYyI6ImRlZmF1bHQiLCJwIjoicmVhZHdyaXRlIiwibCI6Imh3N1pLIiwidSI6IjEwMjI1MDAwMDAwMDA5MTgzMyIsIm4iOiJHRU5EUkFOTyBBRFJJQU4gIERFIE9DQU1QTyIsInIiOiJzdHVkZW50IiwiYiI6ImRsc3UuaW5zdHJ1Y3R1cmUuY29tIiwicSI6WzkxODMzXSwibyI6MTMwNjExLCJhIjoxMjkzMTE1LCJzIjozODA2NjE3NywieSI6ZmFsc2UsInQiOm51bGwsInYiOiJTZWF0d29yayAjMyJ9LCJpYXQiOjE2OTA4OTEwNDksImV4cCI6MTY5MDkyNzA0OH0.GgiecC3yDlS16frgWrmUkqnngfbKZAnfgz-oQKa5ulKGiykQQFGPebPMdhKQKkxciJ9Gha2AG2Pw6_SIkmB-UQ/view\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/courses/130611/assignments/1293115\",\"singleUrl\": true},{\"url\": \"https://dlsu.instructure.com/courses/130611/assignments\",\"singleUrl\": true}]","ruleLastUpdate":"n1690795353980","rules":"o[{\"name\": \"imgur\",\"url\": \"^https?://imgur\\\\.com/\",\"enable\": 0,\"from\": 2},{\"name\": \"toodledo\",\"url\": \"^https?://www\\\\.toodledo\\\\.com/tasks\",\"enable\": 0,\"from\": 2},{\"name\": \"google newtab\",\"url\": \"^https?://www\\\\.google\\\\..*/_/chrome/newtab\",\"enable\": 0,\"from\": 2},{\"name\": \"twitter\",\"url\": \"^https?://(m\\\\.|www\\\\.)?twitter\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"order.jd\",\"url\": \"^https?://order\\\\.jd\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"map.google\",\"url\": \"^https?://(maps\\\\.google\\\\.|www\\\\.google\\\\..*/maps)\",\"enable\": 0,\"from\": 2},{\"name\": \"wasu\",\"url\": \"^https?://(m|www)\\\\.wasu\\\\.cn/Play/show\",\"enable\": 0,\"from\": 2},{\"name\": \"qqtv\",\"url\": \"^https?://(m\\\\.)?v\\\\.qq\\\\.com/(tv|x/cover|x/page)\",\"enable\": 0,\"from\": 2},{\"name\": \"pptv\",\"url\": \"^https?://(m|v|vip)\\\\.pptv\\\\.com/show\",\"enable\": 0,\"from\": 2},{\"name\": \"acfun\",\"url\": \"^https?://((m|www|live)\\\\.)?acfun\\\\.cn/(v|live)\",\"enable\": 0,\"from\": 2},{\"name\": \"sohu tv\",\"url\": \"^https?://(m\\\\.)?(film|tv)\\\\.sohu\\\\.com/(album|v)\",\"enable\": 0,\"from\": 2},{\"name\": \"youtube\",\"url\": \"^https?://(m\\\\.|www\\\\.)?youtube\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"youku\",\"url\": \"^https?://((m|i|v|www|play)\\\\.)?youku\\\\.com/(v_|alipay_video)\",\"enable\": 0,\"from\": 2},{\"name\": \"tudou\",\"url\": \"^https?://((m|i|v|www|play)\\\\.)?tudou\\\\.com/(albumplay|listplay|programs/view)\",\"enable\": 0,\"from\": 2},{\"name\": \"mgtv\",\"url\": \"^https?://((m|www)\\\\.)?mgtv\\\\.com/b\",\"enable\": 0,\"from\": 2},{\"name\": \"mega\",\"url\": \"^https?://(.*\\\\.)?mega\\\\.\",\"enable\": 0,\"from\": 2},{\"name\": \"letv\",\"url\": \"^https?://((m|www)\\\\.)?le\\\\.com/ptv/vplay\",\"enable\": 0,\"from\": 2},{\"name\": \"iqiyi\",\"url\": \"^https?://((m|www)\\\\.)?iqiyi\\\\.com/(a_|v_|w_|$)\",\"enable\": 0,\"from\": 2},{\"name\": \"instagram\",\"url\": \"^https?://((m|www)\\\\.)?instagram\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"bilibili\",\"url\": \"^https?://((m|www|live)\\\\.)?bilibili\\\\.com/(bangumi/play|video|anime|\\\\d)\",\"enable\": 0,\"from\": 2},{\"name\": \"baofeng\",\"url\": \"^https?://((m|www)\\\\.)?baofeng\\\\.com/play\",\"enable\": 0,\"from\": 2},{\"name\": \"wenku.baidu\",\"url\": \"^https?://wenku\\\\.baidu\\\\.com/view\",\"enable\": 0,\"from\": 2},{\"name\": \"baike.baidu\",\"url\": \"^https?://baike\\\\.baidu\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"pan.baidu\",\"url\": \"^https?://.*pan\\\\.baidu\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"检测到AC百度就不运行\",\"url\": \".\",\"pageElement\": \".AC-style-logo\",\"enable\": 0,\"from\": 2},{\"name\": \"百度跳转页禁用\",\"url\": \"^https?://jump\\\\d?\\\\.bdimg\\\\.com/safecheck\",\"enable\": 0,\"from\": 2},{\"name\": \"游戏怀旧灌水首页禁用\",\"url\": \"^https?://www\\\\.yxhjgs\\\\.com/$\",\"enable\": 0,\"from\": 2},{\"name\": \"威锋\",\"url\": \"^https?://www\\\\.feng\\\\.com/\",\"nextLink\": \".next:not(.disable)\",\"pinUrl\": true,\"loadMore\": \".load-more-btn>button\",\"from\": 2},{\"name\": \"豆瓣电影\",\"url\": \"^https://movie\\\\.douban\\\\.com\",\"wheel\": true,\"loadMore\": \".explore-more>button\",\"from\": 2},{\"name\": \"REPACK скачать\",\"url\": \"^https?://lrepacks\\\\.net/\",\"css\": \".animated .slideUp{opacity:1}\",\"from\": 2},{\"name\": \"bt1207\",\"url\": \"^https://bt1207ao\\\\.xyz/\",\"nextLinkByJs\": \"let n=doc.querySelector('ul.pagination>li.active+li>a');if(!n)return null;let params=[]; let form=doc.querySelector('#search-form'); [].forEach.call(form.querySelectorAll('input'), input=>{ if(input.name=='p')params.push('p='+n.innerText);else params.push(input.name+'='+input.value); }); return form.action+'?'+params.join('&');\",\"pageElement\": \"ul.list-unstyled\",\"from\": 2},{\"name\": \"搜狗wap\",\"url\": \"^https?://wap\\\\.sogou\\\\.com/web/searchList\\\\.jsp\",\"loadMore\": \"#ajax_next_page\",\"nextLink\": 0,\"from\": 2},{\"name\": \"infinitenoveltranslations\",\"url\": \"^https://infinitenoveltranslations\\\\.net\",\"type\": 0,\"pageElement\": \"//div[@class='entry-content']\",\"nextLink\": \"//a[contains(text(),'Next Chapter')]\",\"autoClick\": \"//a[contains(text(),'Enjoy')]\",\"pinUrl\": true,\"from\": 2},{\"name\": \"全站书库-优书网\",\"url\": \"^https://www\\\\.yousuu\\\\.com\",\"pageElement\": \"div.result\",\"nextLink\": \"button.btn-next\",\"lockScroll\": true,\"from\": 2},{\"name\": \"Free Porn Videos & Sex Tube Movies at xHamster\",\"url\": \"^https://xhopen\\\\.com\",\"pageElement\": \".thumb-list.thumb-list--sidebar\",\"action\": 2,\"from\": 2},{\"name\": \"露天市集\",\"url\": \"^https?://www\\\\.ruten\\\\.com\\\\.tw/find/\",\"nextLink\": \"button[aria-label='下一頁']\",\"pageElement\": \".search-result-container\",\"wait\": 1000,\"from\": 2},{\"name\": \"蝦皮購物台灣\",\"url\": \"^https?://shopee\\\\.tw/\",\"pinUrl\": true,\"nextLink\": \"button.shopee-icon-button--right\",\"pageElement\": \".shopee-search-item-result__items\",\"waitElement\": [\"\",\".shopee-search-item-result__item img:not([src]),.shopee-image-placeholder\"],\"from\": 2},{\"name\": \"微博\",\"url\": \"^https://weibo\\\\.com\",\"pageElement\": \".WB_feed\",\"nextLink\": \"a.next\",\"exclude\": \".container\",\"wait\": 500,\"from\": 2},{\"name\": \"Google cse\",\"url\": \"^(https://www\\\\.lukol\\\\.com|https://www\\\\.searchcraigslist\\\\.net|https://cse\\\\.google\\\\.com.*&gsc\\\\.q=)\",\"pageElement\": \".gsc-expansionArea>.gsc-result\",\"nextLink\": \".gsc-cursor-current-page+div\",\"wait\": 500,\"from\": 2},{\"name\": \"All the Internet\",\"url\": \"^https://www\\\\.alltheinternet\\\\.com\",\"pageElement\": \".gsc-result\",\"nextLink\": \".pagebuttons\",\"wait\": 500,\"from\": 2},{\"name\": \"Upwork\",\"url\": \"^https?://www\\\\.upwork\\\\.com/.*/search/\",\"pageElement\": \".up-card-section.up-card-hover\",\"wait\": 1000,\"iframeInit\": \"win.self=win.top\",\"from\": 2},{\"name\": \"Soccercatch.com\",\"url\": \"^https://www\\\\.soccercatch\\\\.com\",\"nextLink\": \".tabs-page[data-active=true] .pagination-next\",\"init\": \"if(doc){let tabName=document.querySelector('[data-active=true]').dataset.title;doc.querySelector('[data-title='+tabName+']').click()}\",\"pageElement\": \"[data-active=true]>section>*\",\"wait\": \"if(doc==document)return true;let tabName=document.querySelector('[data-active=true]').dataset.title;doc.querySelector('[data-title='+tabName+']').click();return true;\",\"from\": 2},{\"name\": \"16Personalities\",\"url\": \"^https://www\\\\.16personalities\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"iconfont-阿里巴巴矢量图标库\",\"url\": \"^https://www\\\\.iconfont\\\\.cn\",\"pageElement\": \"ul.block-icon-list>li\",\"wait\": 500,\"nextLink\": \"a.next\",\"from\": 2},{\"name\": \"Ru.Board\",\"url\": \"^https?://forum\\\\.ru-board\\\\.com/\",\"nextLink\": \"table .small>b+a\",\"from\": 2},{\"name\": \"高校古文献資源庫读者检索系统\",\"url\": \"^https?://rbsc\\\\.calis\\\\.edu\\\\.cn:8086/\",\"pageElement\": \"input~tr\",\"from\": 2},{\"name\": \"夺宝岛列表-京东_拍拍\",\"url\": \"^https?://1paipai\\\\.jd\\\\.com/\",\"nextLink\": \".btn-next\",\"pinUrl\": true,\"stopSign\": [\"\",\".btn-next[disabled]\"],\"pageElement\": \"body > div:nth-of-type(1) > div.auction-list > div.list-selector > div.container > div:nth-of-type(2)\",\"from\": 2},{\"name\": \"贵州省图\",\"url\": \"^https?://sxgzlib\\\\.chineseall\\\\.cn/\",\"nextLink\": \".item.twocol>span:nth-child(2)\",\"css\": \"#bookContent{overflow: scroll;}\",\"from\": 2},{\"name\": \"法務部行政執行署拍賣公告查詢系統\",\"url\": \"^https?://www\\\\.tpkonsale\\\\.moj\\\\.gov\\\\.tw/\",\"nextLinkByUrl\": [\"&PAGINATION_PAGE_NO=(\\\\d+)\",\"&PAGINATION_PAGE_NO={$1+1}\"],\"pageElement\": \".table_scroll\",\"from\": 2},{\"name\": \"SpankBang\",\"example\": \"https://jp.spankbang.com/trending_videos/\",\"url\": \"^https?://([a-z]{2}\\\\.)?spankbang\\\\.com/(trending_videos|new_videos|category|pornstar|upcoming|most_popular|s)\",\"pageElement\": \".video-list.video-rotate.video-list-with-ads\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+div {margin-top: -5px !important;}\",\"from\": 2},{\"name\": \"Parts search\",\"url\": \"^https?://pcpph\\\\.in/\",\"init\": \"$('#search_results')[0].dataset.pageLength=100;$('#search_results_length select').val(100).trigger('change');\",\"from\": 2},{\"name\": \"Zoeken met Startpagina en Google\",\"url\": \"^https?://startgoogle\\\\.startpagina\\\\.nl/.*query=\",\"pinUrl\": true,\"history\": 0,\"nextLinkByUrl\": [\"/(search)?\\\\?(.*)&(query|q)=(\\\\w+)(&page=(\\\\d+))?.*\",\"/search?$2&q=$4&page={$6+1}&start={($6-1)*10}&num=10\"],\"pageElement\": \"#organic-results>.organic\",\"pagePre\": \"let lis=[];JSON.parse(response).results.forEach(r=>{let li=`<li><h2><a href='${r.url}' target='_blank'>${r.title}</a></h2><div class='url'>${r.display_url}</div><div class='lines'>${r.snippet}</div></li>`;lis.push(li)});return `<div id='organic-results'><ul class='organic'>${lis.join('')}</ul></div>`;\",\"from\": 2},{\"name\": \"Gamersky.com\",\"url\": \"^https://(.+)?gamersky\\\\.com/\",\"pageElement\": \"(id('gspaging')|//div[contains(@class,'Mid')][contains(@class,'L')][contains(@class,'con')])/p\",\"nextLink\": \"//div[@class='page_css']/b/following-sibling::a[1]\",\"action\": 0,\"css\": \".post_ding{position: fixed; bottom: 5%; left: 0; z-index: 11;}.post_ding>.Content_Paging{padding: 5px 20px; width: auto;}.post_ding>.Content_Paging>.hd{width: auto;}.post_ding>.Content_Paging>.bd{display: none;}.post_ding:hover>.Content_Paging>.bd{display: block;}\",\"from\": 2},{\"name\": \"易书 电子书聚合搜索引擎\",\"url\": \"^https?://search\\\\.zhelper\\\\.net/\",\"pinUrl\": true,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"ol.list-group>a\",\"pageAction\": \"eles.forEach(ele=>{let source=ele.querySelector('.card-title').nextSibling.data.match(/书源：(\\\\S+)/)[1];let id=ele.querySelector('small').innerText.match(/ID：(\\\\d+)/)[1];ele.onclick=e=>{axios.post('https://api.ylibrary.org/api/detail/', {id: id,source: source}).then(response=>{if (response.data.errorn) {alert(response.data.msg)} else {let detail=response.data;document.querySelector('#detailModal .modal-body').innerHTML=`<div class='modal-body'>书名：${detail.title}，书源：${detail.source} <br> 作者：${detail.author}，出版社：，出版时间： <br> MD5： ${detail.md5}<br> 文件大小：${detail.filesize}<!----><p></p><div class='modal-footer'><a class='btn btn-secondary' href='http://libgendown.1kbtool.com/${detail.md5}' target='_blank'> Libgen </a><a class='btn btn-secondary' href='https://ipfs-checker.1kbtool.com/${detail.ipfs_cid}?filename=${detail.title}_${detail.author}_zhelper-search.pdf' target='_blank'> IPFS </a><a class='btn btn-secondary' href='https://rulite.1kbtool.com/${detail.md5}#${detail.filesize}#${detail.title}_${detail.author}_zhelper-search.pdf' target='_blank'>秒传</a><!----><!----></div></div>`}}).catch(error=>{if (error.toJSON().status == 429) {alert('请求过于频繁，请稍等一下再次尝试(429)')} else {alert(`未知错误，请打开控制台查看(${error.message})`)}});var myModal = new bootstrap.Modal(document.getElementById('detailModal'),{});myModal.toggle()}})\",\"from\": 2},{\"name\": \"初音社\",\"url\": \"^https://www\\\\.mikuclub\\\\.online\",\"pageElement\": \"#post-list > div.col.card\",\"lazyImgSrc\": \"file\",\"css\": \"img.sl_lazyimg{opacity:1}\",\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('img');img.classList.remove('sl_lazyimg')})\",\"from\": 2},{\"name\": \"MGS Videos\",\"url\": \"^https?://tktube\\\\.com/\",\"pageElement\": \" div.list-videos > div#list_videos_common_videos_list_items > div.item\",\"nextLink\": \".next>a[href^='#']\",\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('img[data-preview]');if(!img)return;let video=document.createElement('video');video.src=img.dataset.preview;video.setAttribute('playsinline','true');video.setAttribute('autoplay','');video.setAttribute('loop','');video.style.cssText='position: absolute; left: 0px; top: 0px; width: 318px; height: 179px; background: rgb(0, 0, 0); visibility: visible;';ele.onmouseenter=e=>{video.play();img.parentNode.appendChild(video)};ele.onmouseleave=e=>{img.parentNode.removeChild(video)}})\",\"from\": 2},{\"name\": \"Alibaba\",\"url\": \"^https://www\\\\.alibaba\\\\.com//?trade/search\",\"pageElement\": \".organic-list>*\",\"nextLink\": \".seb-pagination__pages>span+a\",\"action\": 1,\"pageAction\": \"eles.forEach(ele=>{let img=ele.querySelector('div[data-image]>img');if(!img)return;img.src=img.parentNode.dataset.image})\",\"wait\": \"return doc.querySelector('.seb-pagination__pages') && !doc.querySelector('.organic-list>p>i.ui2-icon-loading')\",\"from\": 2},{\"name\": \"buondua\",\"url\": \"^https://(.*\\\\.)?buondua\\\\.com/\",\"type\": 0,\"pageElement\": \"//div[@class='article-fulltext']\",\"nextLink\": \"//span[.//a[@class='pagination-link is-current']]/following-sibling::span/a\",\"from\": 2},{\"name\": \"SteamPeek\",\"url\": \"^https?://steampeek\\\\.hu/\",\"example\": \"https://steampeek.hu/?from=108&tagid=86\",\"pageElement\": \"#lister_result_container>article\",\"nextLinkByUrl\": [\"\\\\?(from=(\\\\d+)&)?\",\"?from={$2+36}&\"],\"lazyImgSrc\": \"data-src\",\"from\": 2},{\"name\": \"Steam Community Workshop Items\",\"url\": \"^https?://steamcommunity\\\\.com/\",\"pageElement\": \"#leftContents>div.workshopBrowsePaging+div.workshopBrowseItems\",\"from\": 2},{\"name\": \"SteamPY\",\"url\": \"^https?://steampy\\\\.com/\",\"pageElement\": \".market-detail > div.ivu-tabs > div.ivu-tabs-content > div.ivu-tabs-tabpane div.flex-row > .gameblock\",\"nextLink\": \".page-ul > li.active + li:not(.disabled)\",\"pinUrl\": true,\"from\": 2},{\"name\": \"题单广场 - 洛谷\",\"url\": \"^https://www\\\\.luogu\\\\.com\\\\.cn/training/list\",\"nextLinkByUrl\": [\"(&page=|$)(\\\\d*)\",\"&page={$2+1}\"],\"wait\": 1000,\"pagePre\": [\"<li><a href=\\\"(.*?)\\\">(.*?)</a></li>\",\"<div data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"row\\\"><span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"id\\\">$1</span> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"name\\\"><a data-v-303bbf52=\\\"\\\" data-v-128051e7=\\\"\\\" href=\\\"/training/$1\\\" target=\\\"_blank\\\" colorscheme=\\\"default\\\" class=\\\"color-default\\\" data-v-24f898d2=\\\"\\\"> $2 </a></span> <!----> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"problem-count\\\">0</span> <span data-v-128051e7=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"collection\\\">0</span> <span data-v-128051e7=\\\"\\\" class=\\\"creator\\\" data-v-24f898d2=\\\"\\\"><span data-v-dfb4a326=\\\"\\\"><span data-v-58fd269e=\\\"\\\" data-v-dfb4a326=\\\"\\\"><span data-v-58fd269e=\\\"\\\"><a data-v-303bbf52=\\\"\\\" data-v-dfb4a326=\\\"\\\" href=\\\"/user/0\\\" target=\\\"_blank\\\" colorscheme=\\\"none\\\" class=\\\"color-none\\\" data-v-58fd269e=\\\"\\\"><span data-v-dfb4a326=\\\"\\\" data-v-303bbf52=\\\"\\\" style=\\\"font-weight: bold; color: rgb(254, 76, 97);\\\"> author </span></a></span> </span></span></span></div>\"],\"pageElement\": \".row\",\"from\": 2},{\"name\": \"题目列表 - 洛谷\",\"url\": \"^https://www\\\\.luogu\\\\.com\\\\.cn/problem/list\",\"nextLinkByUrl\": [\"(\\\\?page=|$)(\\\\d*)\",\"?page={$2+1}\"],\"wait\": 1000,\"pagePre\": [\"<a href=\\\"(.*?)\\\">(.*?)</a></li>\",\"<div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"row\\\"><!----> <span data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"status\\\"><svg data-v-1b44b3e6=\\\"\\\" data-v-c06fccc2=\\\"\\\" aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"minus\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 448 512\\\" class=\\\"icon svg-inline--fa fa-minus fa-w-14\\\" data-v-24f898d2=\\\"\\\" style=\\\"opacity: 0.7;\\\"><path data-v-1b44b3e6=\\\"\\\" fill=\\\"currentColor\\\" d=\\\"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\\\" class=\\\"\\\"></path></svg></span> <span data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"pid\\\">$1</span> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"title\\\"><a data-v-303bbf52=\\\"\\\" data-v-c06fccc2=\\\"\\\" href=\\\"/problem/$1\\\" target=\\\"_blank\\\" colorscheme=\\\"default\\\" class=\\\"title color-default\\\" data-v-24f898d2=\\\"\\\">$2</a></div> <div data-v-187aafe9=\\\"\\\" data-v-c06fccc2=\\\"\\\" class=\\\"tags\\\" data-v-24f898d2=\\\"\\\"><div data-v-187aafe9=\\\"\\\" class=\\\"tags-wrap multiline\\\"></div></div> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"difficulty\\\"></div> <div data-v-c06fccc2=\\\"\\\" data-v-24f898d2=\\\"\\\" class=\\\"progress\\\"><div data-v-47712372=\\\"\\\" data-v-c06fccc2=\\\"\\\" class=\\\"progress-frame has-tooltip\\\" data-original-title=\\\"null\\\" data-v-24f898d2=\\\"\\\"><div data-v-47712372=\\\"\\\" style=\\\"width: 37.2682%; background-color: rgb(52, 152, 219);\\\"></div></div></div></div>\"],\"pageElement\": \".row\",\"from\": 2},{\"name\": \"异星软件\",\"url\": \"^https://www\\\\.yxssp\\\\.com/\",\"pageElement\": \".td-modules-container\",\"nextLink\": \"span.current+a\",\"from\": 2},{\"name\": \"奔跑的奶酪内页禁用\",\"url\": \"^https://www\\\\.runningcheese\\\\.com/\",\"pageElement\": \"section#scroll article.entry\",\"enable\": 0,\"from\": 2},{\"name\": \"奔跑的奶酪\",\"url\": \"^https://www\\\\.runningcheese\\\\.com/\",\"pageElement\": \"ul.ajaxposts>li\",\"from\": 2},{\"name\": \"423Down评论\",\"url\": \"^https?://www\\\\.423down\\\\.com/\",\"pageElement\": \"div#postcomments > ol.commentlist> li.comment\",\"from\": 2},{\"name\": \"淘宝店铺1\",\"url\": \"^https?://.*\\\\.taobao\\\\.com/search\\\\.htm\",\"pageElement\": \".skin-box-bd>.grid>.item3line1\",\"pagePre\": \"return decodeURI(response).replace(/[\\\\\\\\]/g,'')\",\"nextLinkByJs\": \"let n=doc.querySelector('.pagination>a.next');if(!n)return;return n.href.replace(/(.*)\\\\/search\\\\.htm\\\\?(.*)/,'$1/i/asynSearch.htm?$2').replace(/&callback=.*?&/,'&')\",\"wait\": 500,\"from\": 2},{\"name\": \"淘宝已买到的宝贝\",\"url\": \"^https://buyertrade\\\\.taobao\\\\.com/\",\"pageElement\": \"table[data-reactid]\",\"lockScroll\": true,\"from\": 2},{\"name\": \"Ru.Board\",\"url\": \"^https?://forum\\\\.ru-board\\\\.com/\",\"nextLink\": \"table .small>b+a\",\"from\": 2},{\"name\": \"serx.ml\",\"url\": \"^https?://serx\\\\.ml/\",\"pageElement\": \"article.result\",\"from\": 2},{\"name\": \"scribblehub\",\"url\": \"^https://www\\\\.scribblehub\\\\.com/read\",\"pageElement\": \"#chp_raw\",\"nextLink\": \"a.btn-next\",\"pageAction\": \"eles.forEach(ele=>{[].forEach.call(ele.querySelectorAll('.sp-head'),sp=>{sp.onclick=e=>{sp.nextElementSibling.classList.toggle('folded')}})})\",\"from\": 2},{\"name\": \"bjav\",\"url\": \"^https://thebjav\\\\.com/|^https://sexbjcam\\\\.com/\",\"css\": \"img[data-src]{opacity: 1;}\",\"from\": 2},{\"name\": \"书山有路\",\"url\": \"^https?://www\\\\.ssylu\\\\.com/\",\"nextLink\": \".pagenavi>span.current+a\",\"from\": 2},{\"name\": \"lightnovelstranslations\",\"url\": \"^https://lightnovelstranslations\\\\.com/\",\"nextLink\": \"p.alignright>a\",\"pageElement\": \".entry-content>p\",\"from\": 2},{\"name\": \"inoveltranslation\",\"url\": \"^https://inoveltranslation\\\\.com/\",\"pageElement\": \".chakra-skeleton>p\",\"insert\": \"#chapterreadtrck\",\"nextLink\": \"button[aria-label='next chapter']\",\"from\": 2},{\"name\": \"昵图网\",\"url\": \"^https://www\\\\.nipic\\\\.com/\",\"css\": \"a.new-works-img-box>span>img{display:initial!important}\",\"from\": 2},{\"name\": \"套图吧\",\"url\": \"^https://www\\\\.192tp\\\\.com/\",\"pageElement\": \".picsboxcenter\",\"from\": 2},{\"name\": \"翠微居\",\"url\": \"^https://www\\\\.cuiwei\\\\.org/book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"#chapter-content>p\",\"from\": 2},{\"name\": \"某小说站\",\"url\": \"^https://yuyan\\\\.pw/novel/\\\\d+/\\\\d+\",\"pageElement\": \"#nr>div\",\"pageAction\": \"eles[0].innerHTML='　　'+eval(doc.querySelector('body>script:nth-of-type(8)').innerHTML.match(/var chapter =(.*?);\\\\n/)[1]);\",\"from\": 2},{\"name\": \"微博搜索\",\"url\": \"^https://s\\\\.weibo\\\\.com/\",\"pageElement\": \"#pl_feedlist_index>div>div.card-wrap\",\"action\": 1,\"pageAction\": \"eles.forEach(e=>{let vc=e.querySelector('a.WB_video_h5');if(vc){let v=vc.querySelector('video');let b=vc.querySelector('button.wbpv-big-play-button');b.onclick=e=>{v.style.zIndex=9;v.controls=true;v.play()}}})\",\"from\": 2},{\"name\": \"Fiction.live\",\"url\": \"^https://fiction\\\\.live/\",\"pageElement\": \"#storyPosts>div>article.chapter\",\"nextLink\": \".nextChapter\",\"action\": 1,\"wait\": 500,\"from\": 2},{\"name\": \"天涯内容页\",\"url\": \"^http://bbs\\\\.tianya\\\\.cn/post\",\"pageElement\": \".atl-main>.atl-item\",\"from\": 2},{\"name\": \"天涯列表页\",\"url\": \"^http://bbs\\\\.tianya\\\\.cn/list\",\"pageElement\": \"table.tab-bbs-list>tbody:not(tbody:nth-of-type(1))\",\"from\": 2},{\"name\": \"smzdm jingxuan\",\"action\": 0,\"url\": \"^https://.*\\\\.smzdm\\\\.com/jingxuan\",\"pageElement\": \"ul#feed-main-list>li\",\"nextLinkByUrl\": [\"(.*jingxuan)(/p)?(\\\\d*)\",\"$1/p{($3.0||1)+3}\"],\"insert\": \"ul#feed-main-list\",\"insertPos\": 2,\"delay\": \"let curpage=location.href.match(/\\\\d+$/);if(curpage)curpage=parseInt(curpage[0])+2;else curpage=3;return document.querySelector('#J_feed_pagenation>li.current').innerText>=curpage&&document.querySelector('#J_feed_loading').style.display=='none'\",\"from\": 2},{\"name\": \"mikuclub\",\"url\": \"^https://www\\\\.mikuclub\\\\.cc/\",\"loadMore\": \"button.get-next-page\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"东方财富\",\"url\": \"^http://quote\\\\.eastmoney\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"a.next:not(.disabled)\",\"pageElement\": \"#table_wrapper-table>tbody>tr\",\"from\": 2},{\"name\": \"极简\",\"url\": \"^https://chrome\\\\.zzzmh\\\\.cn/\",\"pageElement\": \".row>.index-card-box\",\"nextLink\": \"[aria-label='Next page']\",\"waitElement\": [\"!.v-image__image--preload\"],\"from\": 2},{\"name\": \"极简\",\"url\": \"^https://bz\\\\.zzzmh\\\\.cn/\",\"pageElement\": \"div.img-box\",\"nextLink\": \"div.vue_pagination_next\",\"wait\": \"let preload=doc.querySelector('.v-image__image--preload');if(preload){var actualTop=preload.offsetTop;var current=preload.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent;}doc.documentElement.scrollTop=actualTop;return false;}return doc.querySelector('div.vue_pagination_next');\",\"init\": \"if(iframe){iframe.style.position='fixed';iframe.style.top=0;iframe.height=1000;let mask=doc.querySelector('div.mask');setInterval(()=>{if(mask.style.display!='none'){iframe.style.visibility='';}else{iframe.style.visibility='hidden'}},1000)}\",\"enable\": 0,\"from\": 2},{\"name\": \"小木虫论坛\",\"url\": \"^http://muchong\\\\.com\",\"pageElement\": \"div#maincontent\",\"from\": 2},{\"name\": \"虎扑\",\"url\": \"^https?://bbs\\\\.hupu\\\\.com/\\\\d+\",\"pageElement\": \".bbs-post-wrapper-content\",\"nextLink\": \"li.hupu-rc-pagination-next>a:not([disabled])\",\"from\": 2},{\"name\": \"phpwind old list\",\"url\": \"/thread\\\\.php\\\\?\",\"pageElement\": \"tr.t_two\",\"nextLink\": \"td>b+a\",\"from\": 2},{\"name\": \"phpwind old read\",\"url\": \"/read\\\\.php\\\\?\",\"pageElement\": \"form[name='delatc']>a[name]\",\"nextLink\": \"td>b+a\",\"insert\": \"form[name='delatc']>a:last-child>table:nth-child(2)\",\"insertPos\": 1,\"from\": 2},{\"name\": \"phpwind read\",\"url\": \"/read\\\\.php\\\\?\",\"pageElement\": \".main-box>.bbs-read-subbox\",\"from\": 2},{\"name\": \"起点中文网\",\"url\": \"^https?://www\\\\.qidian\\\\.com/\",\"nextLink\": \"//a[contains(@class,'lbf-pagination-current')]/parent::li/following::li/a[not(contains(@class,'lbf-pagination-disabled'))]\",\"pinUrl\": true,\"from\": 2},{\"name\": \"草榴社區\",\"type\": 0,\"url\": \"htm_data/\\\\d+/\\\\d+/\\\\d+\\\\.html|read\\\\.php\\\\?tid=|thread0806\\\\.php\\\\?fid=\",\"pageElement\": \"id('ajaxtable')//tr[.//a][./preceding-sibling::tr or ./following-sibling::tr]|//div[@class='t t2']\",\"sleep\": 2000,\"nextLink\": \"//div[@class='pages']/a[u]/following-sibling::a[1]\",\"action\": 0,\"from\": 2},{\"name\": \"Pornhub.com\",\"action\": 0,\"url\": \"^https://[^.]+\\\\.pornhub\\\\.com/(?!view_video\\\\.php).+\",\"pageElement\": \"id(\\\"videoCategory\\\") | \\r\\nid(\\\"incategoryVideos\\\") | \\r\\nid(\\\"videoSearchResult\\\") | \\r\\nid(\\\"mostRecentVideosSection\\\") | \\r\\nid(\\\"photosAlbumsSection\\\") | \\r\\nid(\\\"claimedRecentVideoSection\\\") | \\r\\n//div[@class='recommendedVideosContainer']/ul | \\r\\nid(\\\"popularPornstars\\\") | \\r\\n//ul[contains(concat(' ', normalize-space(@class), ' '), ' streamateContent ')] | \\r\\nid('filterChannelsSection') | \\r\\nid('playListSection')\",\"nextLink\": \"//li[contains(concat(\\\" \\\", normalize-space(@class), \\\" \\\"), \\\" page_next \\\")][not(contains(@class, \\\"disabled\\\"))]/a\",\"from\": 2},{\"name\": \"PornAV\",\"url\": \"^https://pornav\\\\.co\",\"pageElement\": \"div#grid-container\",\"css\": \".cbp-lightbox{visibility: visible;}.cbp-caption-defaultWrap{-webkit-transition: -webkit-transform .6s cubic-bezier(.19,1,.22,1); transition: transform .6s cubic-bezier(.19,1,.22,1)}.cbp-caption:hover .cbp-caption-defaultWrap{-webkit-transform: scale(1.25); -moz-transform: scale(1.25); transform: scale(1.25);}.cbp-caption-activeWrap{opacity:0}.cbp-caption-activeWrap:hover{opacity:1}#grid-container.cbp-l-grid-blog{visibility: visible;}\",\"from\": 2},{\"name\": \"XFantazy\",\"url\": \"^https://xfantazy\\\\.com\",\"pageElement\": \".MuiGrid-container\",\"action\": 2,\"fitWidth\": false,\"from\": 2},{\"name\": \"Amedia\",\"url\": \"^https://amedia\\\\.online\",\"pageElement\": \"#dle-content\",\"css\": \"img[data-src] { opacity: 1; }\",\"from\": 2},{\"name\": \"Femdom\",\"url\": \"^https://femdomup\\\\.net\",\"pageElement\": \".cat-shortstory>article\",\"pageAction\": \"eles.forEach(ele=>{let video=ele.querySelector('video');video.onmouseenter=e=>{video.src=video.dataset.src;video.classList.add('prev-video')};video.onmouseleave=e=>{video.src='/templates/videok2s/dleimages/plug.webm';video.classList.remove('prev-video')}})\",\"from\": 2},{\"name\": \"Konachan.com Anime Wallpapers\",\"url\": \"^https://konachan\\\\.com/post\",\"nextLink\": \"id(\\\"post-view\\\")/div[@class=\\\"sidebar\\\"]/div[5]/ul/li[2]/a\",\"pageElement\": \"id(\\\"image\\\")\",\"from\": 2},{\"name\": \"Handpicked Jerk-Off Instruction (JOI) Videos\",\"url\": \"^https://joi-me\\\\.com\",\"action\": \"1\",\"pageElement\": \"#container\",\"from\": 2},{\"name\": \"Mixfemdomcc\",\"url\": \"^https://mixfemdomcc\\\\.com\",\"css\": \".gray-block a.highslide_new > img{transform:unset}\",\"from\": 2},{\"name\": \"360搜索\",\"url\": \"^https://www\\\\.so\\\\.com/s\",\"lazyImgSrc\": \"data-isrc\",\"css\": \".so-lazyimg{opacity:1!important}.so-rich-news .pics li{float:left;margin-right:17px;}\",\"pageNum\": \"pn={$p}\",\"from\": 2},{\"name\": \"Hoothin github page\",\"url\": \"^https?://hoothin\\\\.github\\\\.io/\",\"enable\": 0,\"from\": 2},{\"name\": \"Actions · github\",\"action\": 0,\"url\": \"^https?://github\\\\.com/\",\"pageElement\": \"div.Box-row.js-socket-channel.js-updatable-content\",\"nextLink\": \"//a[text()='Next']\",\"from\": 2},{\"name\": \"Repository search results · GitHub\",\"url\": \"^https?://github\\\\.com/search\",\"example\": \"https://github.com/search?q=C%2B%2B\",\"nextLinkByUrl\": [\"(&p=(\\\\d+))?$\",\"&p={$2+1}\"],\"pageElement\": \"[data-testid='results-list']\",\"action\": 0,\"include\": \"[rel='next']\",\"from\": 2},{\"name\": \"Github issues and pulls\",\"type\": 0,\"action\": 0,\"url\": \"^https:\\\\/\\\\/github\\\\.com\\\\/[^/]+\\\\/[^/]+\\\\/(?:issues|pulls)\",\"pageElement\": \"//div[starts-with(@id,'issue_')]\",\"nextLink\": \"//a[@class='next_page']\",\"pinUrl\": true,\"from\": 2},{\"name\": \"豆瓣小组内页\",\"url\": \"^https://www\\\\.douban\\\\.com/group/topic/\",\"pageElement\": \"ul#comments>li\",\"pageNum\": \"start={100*($p-1)}\",\"from\": 2},{\"name\": \"deviantArt\",\"url\": \"^https://www\\\\.deviantart\\\\.com/search\",\"pageElement\": \"div[data-hook='all_content']>div>div>div:not([class])\",\"from\": 2},{\"name\": \"3DM搜索\",\"url\": \"^https://so\\\\.3dmgame\\\\.com\",\"pageElement\": \"body > div.content > div.search_wrap > div.search_lis\",\"action\": 1,\"from\": 2},{\"name\": \"不死鸟\",\"url\": \"^https://iao\\\\.su/\",\"pageElement\": \"#index>article\",\"action\": 1,\"from\": 2},{\"name\": \"Mobilism\",\"type\": 0,\"url\": \"^https://forum\\\\.mobilism\\\\.org/\",\"pageElement\": \"id('page-body')//section|id('page-body')/main/table[last()]/tbody/tr|//div[@class='row-fluid blue-bar']\",\"nextLink\": \"//a[i/@class='icon-chevron-right']\",\"css\": \"table.phone .stats-color,table.phone .last-color,table.phone td.center { display: none; }\",\"from\": 2},{\"name\": \"YTS Movies\",\"type\": 0,\"url\": \"^https://yts\\\\.mx/browse-movies\",\"pageElement\": \"//section/div[@class=\\\"row\\\"]/div\",\"nextLink\": \"//li[./a[@class=\\\"current\\\"]]/following-sibling::li[1]/a\",\"css\": \"img{visibility: visible!important; display: block!important;}\",\"lazyImgSrc\": \"data-cfsrc\",\"from\": 2},{\"name\": \"Anime Time\",\"url\": \"^https://www\\\\.animetime\\\\.pw\",\"pageElement\": \"div.blog-posts.container > div.grid-posts\",\"nextLink\": \"a.page-num.page-next\",\"waitElement\": [\"\",\"img.post-thumb:not(.lazy-yard)\"],\"from\": 2},{\"name\": \"秀色女神\",\"url\": \"^https://www\\\\.xsnvshen\\\\.co\",\"pageElement\": \".container> div.longConWhite> div.workContentWrapper > div.workShow > ul > li > img#bigImg\",\"nextLink\": \"span#next\",\"from\": 2},{\"name\": \"Agristudyinfo & 20govtjobs\",\"url\": \"^(https://agristudyinfo\\\\.in/|https://20govtjobs\\\\.com/)\",\"pageElement\": \"#main>article\",\"nextLink\": \".page-numbers.current+a\",\"from\": 2},{\"name\": \"hirelateral\",\"url\": \"^https://www\\\\.hirelateral\\\\.com/\",\"pageElement\": \"div.mainwrap > div.contentwrap > div.leftwrap > table.table-bordered > tbody> tr\",\"from\": 2},{\"name\": \"alternativeto\",\"url\": \"^https://alternativeto\\\\.net/\",\"nextLink\": \"nav[aria-label='Pagination Navigation']>a\",\"action\": 1,\"pageElement\": \"div.container>ol>li\",\"pageInit\": \"eles.forEach(e=>{let span=e.querySelector('div>div>div>span');if(span)span.onVisible()})\",\"from\": 2},{\"name\": \"K.F. 绯月阅读页\",\"url\": \"^https://(bbs\\\\.9shenmi\\\\.com|kf\\\\.miaola\\\\.work)/read.php\",\"pageElement\": \"//form/div[@class=\\\"readlou\\\"]|//form/div[@class=\\\"readtext\\\"]|//form/div[@class=\\\"c\\\"]\",\"type\": 0,\"nextLink\": \"//ul[@class=\\\"pages\\\"]/li/a[contains(text(),'下一页')]\",\"from\": 2},{\"name\": \"K.F. 绯月列表页\",\"url\": \"^https://(bbs\\\\.9shenmi\\\\.com|kf\\\\.miaola\\\\.work)/thread.php\",\"pageElement\": \"//table[@class=\\\"thread1\\\"]/tbody/tr[position()>3]\",\"type\": 0,\"nextLink\": \"//ul[@class=\\\"pages\\\"]/li/a[contains(text(),'下一页')]\",\"from\": 2},{\"name\": \"淘股吧生活吧\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/shenghuoba/\",\"pageElement\": \".lifeContent-topicList-item\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('#N_go_pageBtn');if(!pageSpan)return false;let maxPage=pageSpan.dataset.total,curPage=pageSpan.dataset.now;if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+\\\\/)[^\\\\/]*$/,'$1')+'H-'+(parseInt(curPage)+1);else return false;\",\"from\": 2},{\"name\": \"淘股吧列表页2\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/(jinghua|dianzan)\",\"pageElement\": \".kuaixun,.Notspmatch,.p_list,#contents\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+)\\\\d*(.*)$/,'$1')+(parseInt(curPage)+1)+'-0';else return false;\",\"from\": 2},{\"name\": \"淘股吧列表页1\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/(bbs|zongban|ttcl)\",\"pageElement\": \".kuaixun,.Notspmatch,.p_list,#contents\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(\\\\D+)\\\\d*(.*)$/,'$1')+(parseInt(curPage)+1)+'/0';else return false;\",\"from\": 2},{\"name\": \"淘股吧内贴\",\"url\": \"^https://www\\\\.taoguba\\\\.com\\\\.cn/Article/\\\\d+/\\\\d+\",\"pageElement\": \"#new_wrap_container\",\"nextLinkByJs\": \"let pageSpan=doc.querySelector('.t_page>.left>span:last-child');if(!pageSpan)return false;let maxPage=pageSpan.innerText.replace(/.*\\\\/(\\\\d+).*/,'$1'),curPage=pageSpan.querySelector('b').innerText.trim();if(parseInt(curPage)<parseInt(maxPage))return location.href.replace(/(.*?)\\\\d+$/,'$1')+(parseInt(curPage)+1);else return false;\",\"from\": 2},{\"name\": \"淮安新闻网\",\"url\": \"^http://www\\\\.hynews\\\\.net/\",\"loadMore\": \"#_more\",\"from\": 2},{\"name\": \"NGA列表页\",\"url\": \"^https?://(.*\\\\.nga\\\\.cn|nga\\\\.178\\\\.com|ngabbs\\\\.com)/thread\\\\.php\",\"action\": 1,\"pageElement\": \"#topicrows\",\"from\": 2},{\"name\": \"NGA\",\"url\": \"^https?://(.*\\\\.nga\\\\.cn|nga\\\\.178\\\\.com|ngabbs\\\\.com)/read\\\\.php\",\"nextLink\": \"a[title='下一页']\",\"action\": 2,\"pageElement\": \"div#m_posts\",\"init\": \"doc&&doc.addEventListener('mouseover',e=>{e.preventDefault();e.stopPropagation()},true)\",\"from\": 2},{\"name\": \"铅笔小说\",\"nextLinkByJs\": \"let script=doc.querySelector('body>.mlfy_main>script:nth-of-type(2)');if(!script)return null;return location.origin+script.innerText.match(/.*url_next:'([^']+)'.*/i)[1]\",\"pageElement\": \"#mlfy_main_text\",\"url\": \"^https://www\\\\.23qb\\\\.(net|com)/book/\",\"from\": 2},{\"name\": \"中国大学MOOC课程评论区\",\"url\": \"^https://www\\\\.icourse163\\\\.org/course/\",\"wait\": 1000,\"type\": 0,\"init\": \"if(doc)doc.querySelector('#review-tag-button').click()\",\"nextLink\": \"//ul[@class='ux-pager']/li/a[text()='下一页']\",\"pageElement\": \"//div[@class='ux-mooc-comment-course-comment_comment-list']/div[@class='ux-mooc-comment-course-comment_comment-list_item']\",\"from\": 2},{\"name\": \"Freepik\",\"url\": \"^https?://www\\\\.freepik\\\\.com/\",\"pageElement\": \"div.list-content > section.showcase\",\"action\": 0,\"css\": \".showcase:not(.showcase--completed){display:flex;flex-wrap: wrap;}.showcase:not(.showcase--completed)>figure{visibility: visible;}.showcase:not(.showcase--completed)>div{display: none!important;}\",\"from\": 2},{\"name\": \"千库网\",\"url\": \"^https://588ku\\\\.com/\",\"action\": 1,\"pageElement\": \".data-box>.data-list\",\"from\": 2},{\"name\": \"58pic\",\"url\": \"^https://www\\\\.58pic\\\\.com/tupian/\",\"css\": \".card-lazy{display:none}.pagetual_pageBar{margin-bottom: 20px!important;}\",\"pageElement\": \"div.search-v3-content>.card-grid-box\",\"from\": 2},{\"name\": \"参考消息手机版\",\"action\": 1,\"url\": \"^http://m\\\\.cankaoxiaoxi\\\\.com/\",\"pageElement\": \"div.content\",\"nextLink\": \"li.next>a\",\"from\": 2},{\"name\": \"ekşi sözlük\",\"action\": 0,\"url\": \"^https://eksisozluk\\\\.com\",\"pageElement\": \"#entry-item-list\",\"nextLinkByJs\": \"let pager=doc.querySelector('.pager');if(!pager || pager.dataset.currentpage==pager.dataset.pagecount)return null;else return location.href.replace(/&p=\\\\d+/,'')+'&p='+(parseInt(pager.dataset.currentpage)+1)\",\"from\": 2},{\"name\": \"Hacker News\",\"action\": 0,\"url\": \"^https?://news\\\\.ycombinator\\\\.com/\",\"pageElement\": \"table.itemlist>tbody>tr\",\"nextLink\": \"a.morelink\",\"from\": 2},{\"name\": \"拷貝漫畫\",\"url\": \"^https://copymanga\\\\.org/comic/.*/chapter/\",\"pageElement\": \"ul.comicContent-list>li\",\"nextLink\": \".comicContent-next>a\",\"action\": 1,\"insert\": \"ul.comicContent-list\",\"insertPos\": 2,\"wait\": \"if(doc==document)return true;let sy=doc.defaultView.scrollY;let cur=doc.querySelector('.comicIndex').innerText;let max=doc.querySelector('.comicCount').innerText;if(window._cur==cur){doc.defaultView.scroll(0, 0);window._cur='';}else{doc.defaultView.scroll(0, sy+9999999);window._cur=cur;}return cur==max;\",\"from\": 2},{\"name\": \"Yurifans\",\"url\": \"^https://yuri\\\\.website/[a-z]\",\"type\": 0,\"action\": 1,\"pageElement\": \"id('post-list')/ul\",\"nextLink\": \"//div[@class='btn-pager']/button[text()='❯']\",\"wait\": \"500\",\"include\": \"id('post-list')/ul/li\",\"from\": 2},{\"name\": \"纵横中文网手机版\",\"url\": \"^https://m\\\\.zongheng\\\\.com/h5/chapter\",\"type\": 0,\"pageElement\": \"//div[@class='title']|//div[@class='text']\",\"nextLink\": \"//div[contains(text(),'下一页')]|//div[contains(text(),'下一章')]\",\"wait\": 500,\"css\": \".text>div,#fukerr_bot,#fukerr{display:none!important}\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"版主小说\",\"url\": \"/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"pageElement\": \"div.page-content\",\"nextLinkByJs\": \"let next=doc.querySelector('a.curr+a');if(next)return next.href.replace(/^javascript:.*\\\\('\\\\d+','\\\\d+','(\\\\d+)','(\\\\d+)'\\\\);/,'$1_$2.html');\",\"action\": 2,\"from\": 2},{\"name\": \"netflav\",\"url\": \"^https://netflav\\\\.com/\",\"pageElement\": \".video_grid_container>.grid_root\",\"nextLink\": \"#general-pagination>div>a[aria-current='true']+a\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"from\": 2},{\"name\": \"17K小说网_付费章节\",\"url\": \"^https://www\\\\.17k\\\\.com\",\"pageElement\": \".Context>.Article\",\"pageBarText\": 1,\"action\": 1,\"nextLink\": \".nextChapter\",\"wait\": \"return doc.querySelector('.copy')==null\",\"include\": \"div.content\",\"from\": 2},{\"name\": \"17K小说网_免费章节\",\"url\": \"^https://www\\\\.17k\\\\.com\",\"pageElement\": \".area>.read,.area>.comment\",\"css\": \".infoPath,.read_tit,.rightSide,.tuijian{display:none}.readAreaBox{width:auto}\",\"pageBarText\": 1,\"nextLink\": \".nextChapter\",\"from\": 2},{\"name\": \"厚海网\",\"url\": \"^http://www\\\\.houhaiwang\\\\.com\",\"pageElement\": \".col-a1>.row-b7\",\"pageBarText\": 1,\"nextLink\": \".col-d3>span>a\",\"from\": 2},{\"name\": \"晋江文学城\",\"url\": \"^http://www\\\\.jjwxc\\\\.net\",\"pageElement\": \"div.noveltext,#lockpage\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"小说站2\",\"type\": 0,\"nextLink\": \"//a[contains(text(),'下一页')]|//a[contains(text(),'下一頁')]|//a[contains(text(),'下一章')]\",\"pageElement\": \"//div[@class='content']|//div[@class='chaptercontent']\",\"url\": \"\\\\d+/[\\\\d_-]+\\\\.html?$\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"小说站1\",\"type\": 0,\"nextLink\": \"//a[contains(text(),'下一页')]|//a[contains(text(),'下一頁')]|//a[contains(text(),'下一章')]\",\"pageElement\": \"//div[@id='content']|//div[@id='chaptercontent']|//div[@id='BookText']\",\"url\": \"\\\\d+/[\\\\d_-]+\\\\.html?$\",\"pageBarText\": 1,\"from\": 2},{\"name\": \"Asian Sister\",\"url\": \"^https://asiansister\\\\.com/\",\"pageElement\": \"div.itemBox,div.itemBox_video\",\"from\": 2},{\"name\": \"51元素\",\"action\": 1,\"url\": \"^https://www\\\\.51yuansu\\\\.com\",\"pageElement\": \".f-content\",\"nextLink\": \"a.nextpage\",\"from\": 2},{\"name\": \"什么值得买社区\",\"action\": 0,\"url\": \"^https://post\\\\.smzdm\\\\.com/p\",\"pageElement\": \"#comment\",\"nextLink\": \".pagedown>a\",\"from\": 2},{\"name\": \"深圳人社局通知公告\",\"action\": 0,\"url\": \"^http://hrss\\\\.sz\\\\.gov\\\\.cn/tzgg\",\"pageElement\": \".newsList>ul\",\"nextLink\": \"a.next\",\"from\": 2},{\"name\": \"bookmarkearth search\",\"action\": 0,\"url\": \"^https://www\\\\.bookmarkearth\\\\.com/s/search\\\\?q=\",\"pageElement\": \".source>.document-piece\",\"nextLinkByUrl\": [\"(.*/s/search\\\\?q=.*&currentPage=)(\\\\d*)\",\"$1{$2+1}\"],\"from\": 2},{\"name\": \"音范丝\",\"action\": 1,\"url\": \"^https://www\\\\.yinfans\\\\.me/\",\"pageElement\": \"#post_container\",\"nextLink\": \"a.next\",\"waitElement\": [\"#post_container[style]\"],\"from\": 2},{\"name\": \"bookmarkearth\",\"action\": 0,\"url\": \"^https://www\\\\.bookmarkearth\\\\.com(?:/?$|/page\\\\?currentPage=)\",\"pageElement\": \".source>.document-piece\",\"nextLinkByUrl\": [\"(.*\\\\.com)(?:/?$|/page\\\\?currentPage=)(\\\\d*)\",\"$1/page?currentPage={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"动漫啦\",\"url\": \"^https://www\\\\.dongman\\\\.la/manhua/chapter/\",\"pageElement\": \".chapter-images img\",\"nextLink\": \".mdui-bottom-nav>a+a\",\"init\": \"let is=document.querySelectorAll('.chapter-images img'),j=document.querySelector('.lazyBox');is.forEach(i=>{i.src=i.dataset.srcset;j.appendChild(i);})\",\"pageAction\": \"let j=document.querySelector('.lazyBox');eles.forEach(i=>{i.src=i.dataset.srcset;})\",\"insert\": \".lazyBox\",\"insertPos\": 2,\"from\": 2},{\"name\": \"魂+列表页\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"type\": 0,\"pageElement\": \"//tr[@align='center']\",\"nextLink\": \"//div[@class='pages']/ul/li[.//b]/following-sibling::li/a\",\"sleep\": 1000,\"pageNum\": \"page-{$p}.html\",\"from\": 2},{\"name\": \"魂+阅读页\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"type\": 0,\"pageElement\": \"//div[@id='main']/form\",\"nextLink\": \"//div[@class='pages']/ul/li[.//b]/following-sibling::li/a\",\"sleep\": 1000,\"pageNum\": \"page-{$p}.html\",\"from\": 2},{\"name\": \"魂+\",\"url\": \"^https?://((www\\\\.|bbs\\\\.)?(south|north|level|white|soul|snow|east|spring|summer|blue)-plus.(net|org)|bbs.imoutolove.me)/\",\"action\": 1,\"sleep\": 1000,\"from\": 2},{\"name\": \"异次元\",\"url\": \"^https://www\\\\.iplaysoft\\\\.com/\",\"pageElement\": \"#postlist\",\"nextLink\": \".pagenavi>a[title='下一页']\",\"from\": 2},{\"name\": \"动漫屋2\",\"action\": 1,\"type\": 0,\"url\": \"^https?://www\\\\.(dm5|1kkk)\\\\.(com|cn)/(m|ch)\",\"pageElement\": \"//div[@id=\\\"barChapter\\\"]/img\",\"nextLink\": \"//div[@class=\\\"view-paging\\\"]/div/a[contains(text(),'下一')]\",\"rate\": 3,\"from\": 2},{\"name\": \"动漫屋1\",\"action\": 1,\"url\": \"^https?://www\\\\.(dm5|1kkk)\\\\.(com|cn)/(m|ch)\",\"pageElement\": \".view-main>.item\",\"nextLink\": \"span.current+a,div#chapterpager+a+a\",\"rate\": 3,\"from\": 2},{\"name\": \"bilibili space\",\"url\": \"^https://space\\\\.bilibili\\\\.com/\",\"sandbox\": false,\"pageElement\": \"ul.cube-list>li,ul.video-list>li,ul.relation-list>li\",\"nextLink\": \".be-pager-next,.next-page\",\"wait\": 1000,\"from\": 2},{\"name\": \"bilibili search\",\"action\": 1,\"url\": \"^https://search\\\\.bilibili\\\\.com\",\"pageElement\": \"ul>li.video-item,div.video-list.row>*\",\"nextLinkByUrl\": [\"(.*keyword=.*?)(?:&page=|$)(\\\\d*).*\",\"$1&page={($2.0||1)+1}\"],\"sandbox\": false,\"wait\": \"return doc.querySelector('.bili-video-card__wrap')\",\"from\": 2},{\"name\": \"北大未名BBS-帖子内\",\"url\": \"bbs\\\\.pku\\\\.edu\\\\.cn/v2/post-read.php\",\"pageElement\": \".card-list\",\"nextLink\": \"//div[contains(text(),'下一页')]/a\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"北大未名BBS-版块\",\"url\": \"bbs\\\\.pku\\\\.edu\\\\.cn/v2/thread.php\",\"pageElement\": \"#list-content\",\"nextLink\": \"//div[contains(text(),'下一页')]/a\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"北邮人论坛-帖子内\",\"url\": \"bbs\\\\.byr\\\\.cn/(|#!)article\",\"listenHashChange\": true,\"pageElement\": \".b-content\",\"replaceElement\": \".page\",\"pinUrl\": true,\"history\": 0,\"action\": 1,\"from\": 2},{\"name\": \"北邮人论坛-版块\",\"url\": \"bbs\\\\.byr\\\\.cn/(|#!)board\",\"listenHashChange\": true,\"pageElement\": \".b-content> table>tbody\",\"pinUrl\": true,\"history\": 0,\"action\": 1,\"from\": 2},{\"name\": \"北邮人论坛\",\"url\": \"bbs\\\\.byr\\\\.cn(|/(|#!)default)$\",\"listenHashChange\": true,\"pinUrl\": true,\"from\": 2},{\"name\": \"Trakt\",\"url\": \"^https://trakt\\\\.tv\",\"pageElement\": \"section#info-wrapper > div.container > div.row > div#overview>*\",\"action\": 1,\"waitElement\": [\".summary-activity\",\"#popular-comments.fade:not(.in)\"],\"from\": 2},{\"name\": \"方正字库\",\"url\": \"^https://www\\\\.foundertype\\\\.com/\",\"nextLink\": \"#page>a.on+a\",\"pageElement\": \"#fonPar,#chinese_ft1\",\"action\": 1,\"from\": 2},{\"name\": \"喜马拉雅\",\"url\": \"^https://www\\\\.ximalaya\\\\.com/\",\"nextLink\": \".page-next>a\",\"wait\": 1000,\"action\": 2,\"pageElement\": \".list-container,.main-content\",\"from\": 2},{\"name\": \"javdb\",\"action\": 0,\"url\": \"^https://javdb\\\\.com/\",\"pageElement\": \"#videos.video-container\",\"css\": \".grid.columns{display: flex; flex-wrap: wrap;}\",\"from\": 2},{\"name\": \"manga1000\",\"url\": \"^https://manga1000\\\\.top/\\\\d+/\\\\d+\",\"pageElement\": \"div.chapter-content>*\",\"css\": \".chapter-content>img{display:unset!important}\",\"nextLink\": \"ul.chapter_select a.next\",\"from\": 2},{\"name\": \"mhgui\",\"action\": 0,\"url\": \"^https://.*\\\\.mhgui\\\\.com/comic/\\\\d+\",\"pageElementByJs\": \"let link=document.querySelector('#mangaBox>img').src; let match=link.match(/(.*)(\\\\d{3})(\\\\.jpg.*)/); window.i=window.i||parseInt(match[2]);window.i++; let src=match[1]+(window.i>99?window.i:(window.i>9?'0'+window.i:'00'+window.i))+match[3]; let img=document.createElement('img');img.onload=()=>{over([img])};img.onerror=e=>{over()};img.src=src;\",\"insert\": \"#mangaBox\",\"insertPos\": 2,\"from\": 2},{\"name\": \"smzdm\",\"action\": 0,\"url\": \"^https://.*\\\\.smzdm\\\\.com\",\"pageElement\": \"ul#feed-main-list>li\",\"nextLink\": \".pagenation-list>li.current+li>a\",\"insert\": \"ul#feed-main-list\",\"insertPos\": 2,\"from\": 2},{\"name\": \"佛弟子文库\",\"url\": \"^https?://www\\\\.fodizi\\\\.net/\",\"nextLink\": \"a.current+a\",\"pageElement\": \"div.wrap>*:not(.page)\",\"from\": 2},{\"name\": \"masuit\",\"action\": 0,\"url\": \"^https://masuit\\\\.com/\",\"pageElement\": \".ibox.wow\",\"nextLink\": \"a[aria-label=Next]\",\"from\": 2},{\"name\": \"站酷\",\"url\": \"^https://www\\\\.zcool\\\\.com\\\\.cn/search/content\",\"action\": 2,\"nextLinkByUrl\": [\"(.*/content\\\\?&?word=[^&]+)(?:&page=|$)(\\\\d*)\",\"$1&page={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"Literotica\",\"type\": 0,\"action\": 0,\"url\": \"^https://www\\\\.literotica\\\\.com/.\",\"pageElement\": \"//div[contains(@class,\\\"panel article\\\") or @class=\\\"b-story-list\\\"]/div\",\"nextLink\": \"//a[@title='Next Page' or @class='b-pager-next']\",\"wait\": 3000,\"from\": 2},{\"name\": \"斗鱼\",\"url\": \"^https://www\\\\.douyu\\\\.com/directory/\",\"nextLink\": \"li.dy-Pagination-next[aria-disabled='false']\",\"pageElement\": \"ul.layout-Cover-list\",\"wait\": 1000,\"enable\": 0,\"from\": 2},{\"name\": \"xxgame\",\"action\": 0,\"url\": \"^http://www\\\\.xxgame\\\\.net/chinese\",\"pageElement\": \"div.layui-row>div.layui-col-md4:not(div:nth-child(5),div:nth-child(6),div:nth-child(7))\",\"nextLinkByUrl\": [\"(http://www\\\\.xxgame\\\\.net/chinese/?)(?:\\\\?page=|$)(\\\\d*)\",\"$1?page={($2.0||1)+1}\"],\"from\": 2},{\"name\": \"煎蛋吐槽\",\"url\": \"^https?://jandan\\\\.net/\",\"nextLink\": \"a.previous-comment-page\",\"pageElement\": \"ol.commentlist>li\",\"pageAction\": \"let gif_click_load = getCookie('gif-click-load');let bad_click_load = getCookie('bad-click-load');let nsfw_click_load = getCookie('nsfw-click-load');let gif_on = (gif_click_load == 'on' || gif_click_load == null) ? true : false;let nsfw_on = (nsfw_click_load == 'on' || nsfw_click_load == null) ? true : false;let bad_on = (bad_click_load == 'on' || bad_click_load == null) ? true : false;[].forEach.call(eles, e => { let tucao = e.querySelector('a.tucao-btn'); if (tucao) tucao.onclick = e => { var n = $(e.currentTarget); var m = n.data('id'); var o = n.closest('li'); var l = o.find('div.jandan-tucao'); if (l.length) { l.slideToggle('fast') } else { tucao_load_content(o, m) } }; e=$(e);var is_bad = false; if (bad_on) { var oo = parseInt(e.find('.comment-like').next('span').text()); var xx = parseInt(e.find('.comment-unlike').next('span').text());if ( (oo + xx) >= 50 && (oo / xx) < 0.618 ) {is_bad = true;var r = e.find(\\\"p\\\").not('.bad_content');r.hide();e.find('.righttext').after('<p class=\\\"bad_content\\\" style=\\\"color:#ddd\\\">因不受欢迎已被超载鸡自动隐藏.<a href=\\\"javascript:;\\\" class=\\\"view_bad\\\">[手贱一回]</a></p>');e.find(\\\".view_bad\\\").click(function () {if (this.innerHTML == '[手贱一回]' || this.innerHTML == '[再手贱一回]') {r.show();if (this.innerHTML == '[手贱一回]') {r.find('.gif-mask').remove();r.find('img').each(function() {var org_src = this.getAttribute('org_src');if (org_src)this.src = org_src;});}this.innerHTML = '[真不该手贱]';} else {r.hide();this.innerHTML = '[再手贱一回]';}});}}if ( ! is_bad && nsfw_on) {var p = e.find(\\\"p\\\").not('.bad_content');if (p.length == 0) return;let content = p.html();if (content.indexOf('NSFW') > -1) {p.hide();e.find('.righttext').after('<p class=\\\"nsfw_content\\\" style=\\\"color:#ff6600\\\">此图被标记为<b>NSFW</b>被超载鸡自动隐藏.<a href=\\\"javascript:;\\\" class=\\\"view_nsfw\\\">[旁边没人]</a></p>');e.find(\\\".view_nsfw\\\").click(function () {if (this.innerHTML == '[旁边没人]' || this.innerHTML == '[旁边还是没人]') {p.show();p.find('.gif-mask').remove();if (this.innerHTML == '[旁边没人]') {p.find('img').each(function() {var org_src = this.getAttribute('org_src');if (org_src)this.src = org_src;});}this.innerHTML = '[看完了，擦键盘]';} else {p.hide();this.innerHTML = '[旁边还是没人]';}});}}let img=e.find('p>img');if(img){img.css('max-width', '100%');img.css('max-height', '450px').click(function () {var $this = img;if ($this.css('max-height') == 'none') {var max_width = img.parent().parent().width();$this.css('max-width', max_width);$this.css('max-height', '450px');} else {if ($this.parent().hasClass('acv_comment'))$this.css('max-width', 'none');$this.css('max-height', 'none');}$(\\\"html,body\\\").animate({scrollTop: $this.offset().top - 40},325);});}})\",\"from\": 2},{\"name\": \"汽车之家\",\"url\": \"^https://club\\\\.autohome\\\\.com\\\\.cn\",\"pageElement\": \"#js-reply-list-container\",\"action\": 2,\"nextLink\": \".athm-page__next\",\"from\": 2},{\"name\": \"水木移动端\",\"url\": \"^https://m\\\\.mysmth\\\\.net/article/\",\"pageElement\": \"#m_main>ul.list\",\"from\": 2},{\"name\": \"水木桌面端\",\"url\": \"^https://www\\\\.mysmth\\\\.net/nForum/#!article/\",\"nextLink\": \"a[title='下一页']\",\"pageElement\": \"div.b-content\",\"from\": 2},{\"name\": \"创客贴\",\"url\": \"^https://www\\\\.chuangkit\\\\.com/\",\"type\": 0,\"nextLink\": \"//div[@class='number']/ul/li[@class='item active']/following-sibling::li/a\",\"pageElement\": \"//div[@class='ckt-waterfall-content']\",\"pageAction\": \"let infos=doc.querySelector('body>script').innerText.match(/designTemplateId:\\\\d+,designTemplateImageUrl:\\\".*?\\\"/g),infoMap;if(infos){infoMap={};infos.forEach(i=>{let id=i.replace(/designTemplateId:(\\\\d+).*/,'$1');let src=i.replace(/.*designTemplateImageUrl:\\\"(.+)\\\"/,'$1');src=JSON.stringify(src);src=src.replace(/\\\\\\\\\\\\\\\\/g,'\\\\\\\\');src=JSON.parse(src);infoMap[id]=src;})};[].forEach.call(eles[0].querySelectorAll('.temp-sec__bottom>div>a'),a=>{let id=a.href.replace(/.*?(\\\\d+).*/,'$1');let src=infoMap[id];let img=a.parentNode.parentNode.previousElementSibling.querySelector('img');img.src=src;img.style.opacity=1;})\",\"from\": 2},{\"name\": \"图怪兽\",\"url\": \"^https://818ps\\\\.com/\",\"pageElement\": \"#masonry\",\"from\": 2},{\"name\": \"中国知网\",\"url\": \"^https://kns\\\\.cnki\\\\.net/kns8/defaultresult/index\",\"nextLink\": \"a#PageNext\",\"pageElement\": \".result-table-list tbody>*\",\"iframeInit\": \"let doc;let ready=()=>{let fn1=window.BriefExtend.setFullTextState;window.BriefExtend.setFullTextState=()=>{fn1();win.$('#PageNext').attr('data-curPage',window.$('#PageNext').attr('data-curPage'))}; win.BriefParam._getSearchPaperArgModel=(isSearch, cPage)=>{return window.BriefParam._getSearchPaperArgModel(isSearch, (!!cPage ? cPage : win.BriefParam._getCurPage()))};doc.querySelector('#txt_search').value=document.querySelector('#txt_search').value;doc.querySelector('.search-btn').click()};let checkPage=()=>{if(win.document.querySelector('#txt_search')){doc=win.document;ready();}else setTimeout(checkPage,100)};checkPage();\",\"initRun\": 0,\"wait\": 1000,\"from\": 2},{\"name\": \"行情 - 雪球\",\"url\": \"^https?://xueqiu\\\\.com/hq\",\"pageElement\": \"div#stockList table.portfolio\",\"pinUrl\": true,\"action\": 3,\"from\": 2},{\"name\": \"雪球\",\"url\": \"^https://xueqiu\\\\.com/\",\"pageElement\": \".status-list>article\",\"nextLink\": \"a.pagination__next\",\"from\": 2},{\"name\": \"美女图123\",\"url\": \"^https://(www|m)\\\\.meinvtu123\\\\.cc/\",\"pageElement\": \"div>img\",\"author\": \"bmp4cwa\",\"from\": 2},{\"name\": \"秀人网\",\"url\": \"^https://www\\\\.(?:imn5|mntp|jpmnb|jpmn8|mn5|xgmn|jpxgmn|jpxgyw|xiurenji|xiurenb|xrmn|xrmn5)\\\\.(?:com|net|vip|cc|top)/.*\\\\.html\",\"pageElement\": \"p>img\",\"author\": \"bmp4cwa\",\"from\": 2},{\"name\": \"Camp Firefox Forum\",\"url\": \"^https://www\\\\.camp-firefox\\\\.de/forum/ungelesene-beitraege/\",\"pageElement\": \"#content > div > ol.tabularList\",\"nextLink\": \"nav.pagination > ul > li.skip:last-child > a\",\"updatedAt\": \"2022-09-10\",\"author\": \"benzBrake\",\"from\": 2},{\"name\": \"头条搜索手机版\",\"url\": \"^https?://(so|m)\\\\.toutiao\\\\.com/search/\",\"nextLink\": \"a[class^=container_],a[class^=containerRight]\",\"from\": 2},{\"name\": \"搜狗wap\",\"url\": \"^https?://(wap|m)\\\\.sogou\\\\.com/web/(searchList\\\\.jsp|sl\\\\?)\",\"loadMore\": \"#ajax_next_page\",\"nextLink\": 0,\"from\": 2},{\"name\": \"百度贴吧看贴\",\"pageBar\": \"pageBar.classList.add('l_post')\",\"nextLink\": \"//div[@class=\\\"pb_footer\\\"]//a[starts-with(text(), '下一页')]\",\"pageElement\": \"//div[@class=\\\"p_postlist\\\"]/div[starts-with(@class, 'l_post')]\",\"type\": 0,\"action\": 1,\"pageNum\": \"&pn={$p}\",\"url\": \"^https?://tieba\\\\.baidu\\\\.com/p/.+\",\"wait\": \"if(doc==document)return true;let lzl=doc.querySelector('div.hideLzl');if(lzl){var actualTop=lzl.offsetTop;var current=lzl.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent;}doc.body.scrollTop=actualTop;doc.documentElement.scrollTop=actualTop;return false}else{return true}\",\"history\": 0,\"from\": 2},{\"name\": \"百度贴吧列表\",\"action\": 1,\"pageBar\": \"pageBar.classList.add('j_thread_list');pageBar.dataset.field='{}'\",\"url\": \"^https?://tieba\\\\.baidu\\\\.com/.+\",\"pageElement\": \"ul#thread_list>li\",\"pageNum\": \"&pn={50*($p-1)}\",\"nextLink\": \".next.pagination-item \",\"from\": 2},{\"name\": \"手机百度\",\"url\": \"^https://(m|www|wap)\\\\.baidu\\\\.com/\",\"nextLink\": \"a.new-nextpage-only,a.new-nextpage\",\"pageElement\": \"#results\",\"from\": 2},{\"name\": \"Baidu\",\"insertPos\": 1,\"nextLink\": [\"//*[@id=\\\"page\\\"]/div/a[contains(text(),'下')]\",\"//*[@id=\\\"page\\\"]/div/a[contains(text(),'上')]\"],\"pageElement\": \"//*[@id=\\\"content_style\\\"]|//*[@id=\\\"content_left\\\"]/*\",\"pageNum\": \"&pn={10*($p-1)}\",\"url\": \"^https?://www\\\\.baidu\\\\.com/(s|baidu)\\\\b.\",\"pageBarTop\": 75,\"replaceElement\": \"#page\",\"wait\": 500,\"from\": 2},{\"name\": \"AfreecaTV 搜索\",\"url\": \"^https?://afreecatv\\\\.com/total_search\",\"pageElement\": \"ul#detailVideoPageList>li\",\"nextLink\": \".pg_area>em+a\",\"wait\": 500,\"replaceElement\": \".pg_area\",\"from\": 2},{\"name\": \"blog1\",\"url\": \".\",\"pageElement\": \"section.posts-expand>article.post\",\"nextLink\": \"li.pagination-active+li>a\",\"css\": \"section.posts-expand>article.post{opacity:1}\",\"from\": 2},{\"name\": \"1688全部商品页\",\"url\": \"^https://.*\\\\.1688\\\\.com/page\",\"pageElement\": \"#bd_1_container_0 > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(6) > div\",\"pageAction\": \"window.setUrl=null;window.index=0;eles.forEach(e=>{let img=e.querySelector('.main-picture[src^=data]');if(!img)return;img.src=img.nextElementSibling.children[0].src;e.onclick=()=>window.open(e.dataset.url,'_blank')})\",\"pageInit\": \"if(!window.index)window.index=0;if(!window.setUrl){window.setUrl=()=>{setTimeout(()=>{if(window.url){eles[window.index++].dataset.url=window.url;window.url=null;}if(eles[window.index]){eles[window.index].click();window.setUrl()}},1)};Object.defineProperty(doc.defaultView, 'open', { get: function () { return (s)=>window.url=s; } });window.setUrl();}if(eles.length<=window.index)return true;else return false;\",\"from\": 2},{\"name\": \"FC Portables\",\"url\": \"^https://www\\\\.fcportables\\\\.com\",\"pageElement\": \".listing-blog>article\",\"pageAction\": \"eles.forEach(e=>{let a=e.querySelector('.img-holder');if(!a)return;a.style.backgroundImage=`url(\\\"${a.dataset.src}\\\")`;a.classList.add('b-loaded')})\",\"from\": 2},{\"name\": \"chevereto\",\"url\": \".\",\"nextLink\": \"a[data-pagination='next']\",\"pageAction\": \"let w=document.querySelector('.list-item').style.width;let content=eles[0].querySelector('.pad-content-listing');content.style.display='flex';content.style.flexFlow='row wrap';[].forEach.call(eles[0].querySelectorAll('.list-item'),i=>{i.style.display='block';i.style.width=w;i.style.position='sticky';i.querySelector('.list-item-image').style.height=w;})\",\"pageElement\": \"div#content-listing-tabs\",\"from\": 2},{\"name\": \"Discuz7.2Threadlist\",\"url\": \"\\\\?fid\",\"nextLink\": \"a.next\",\"pageNum\": \"page={$p}\",\"pageElement\": \"div#threadlist form\",\"from\": 2},{\"name\": \"Discuz7.2Postlist\",\"url\": \"\\\\?tid\",\"nextLink\": \"a.next\",\"pageNum\": \"page={$p}\",\"pageElement\": \"div#postlist>*\",\"from\": 2},{\"name\": \"bbsThreadlist1\",\"url\": \"/f\",\"nextLink\": [\"a.nxt\",\"a.prev\"],\"pageNum\": \"\\\\-\\\\d+\\\\-{$p}\\\\.html\",\"pageElement\": \"div#threadlist form\",\"replaceElement\": \"#pgt div.pg\",\"from\": 2},{\"name\": \"bbsPostlist2\",\"url\": \".\",\"nextLink\": \".page-item.active+.page-item>a\",\"pageElement\": \"ul.postlist>*\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"bbsPostlist1\",\"url\": \".\",\"nextLink\": [\"a.nxt\",\"a.prev\"],\"pageNum\": \"\\\\-\\\\d+\\\\-{$p}\\\\-\\\\d+\\\\.html\",\"pageElement\": \"div#postlist>*\",\"replaceElement\": \".pgt>div.pg\",\"from\": 2},{\"name\": \"Discuz! mobile postlist2\",\"url\": \".\",\"pageElement\": \".bm:not(#postlist)>div[id^=post_],.bm:not(#postlist)>div[id^=post_]+div\",\"nextLink\": \"a.nxt\",\"action\": 1,\"from\": 2},{\"name\": \"Discuz! mobile postlist1\",\"url\": \".\",\"pageElement\": \".postlist>div[id^=pid]\",\"nextLink\": \".page>#select_a+a:not([class])\",\"action\": 1,\"from\": 2},{\"name\": \"SkrBT\",\"url\": \"^https://skrbt\",\"pageElement\": \"ul.list-unstyled\",\"nextLinkByJs\": \"let form=doc.querySelector('#search-form'),params=[];if(!form)return null;[].forEach.call(form.querySelectorAll('input'),input=>{params.push(input.name+'='+(input.name=='p'?parseInt(input.value)+1:input.value))});return form.action+'?'+params.join('&')\",\"from\": 2},{\"name\": \"古籍館 - 檢索\",\"url\": \"^https?://(www\\\\.)?gujiguan\\\\.com/Search_Result\\\\.aspx\",\"pageElement\": \"#DataList1>tbody>tr\",\"wait\": \"let nv=doc.querySelector('#keyValue'),ov=document.querySelector('#keyValue');if(!nv||!ov)return false;if(nv.value==ov.value)return true;nv.value=ov.value;doc.querySelector('#sreach').click();doc.querySelector('#DataList1').innerHTML='';return false;\",\"refreshByClick\": \"#sreach\",\"from\": 2},{\"name\": \"古籍館 - 閲讀\",\"url\": \"^https?://(www\\\\.)?gujiguan\\\\.com/Book_View\\\\.aspx\",\"pageElement\": \"div#content > img#book\",\"from\": 2},{\"name\": \"COCOMANGA\",\"url\": \"^https?://www\\\\.cocomanga\\\\.com/\",\"pageElement\": \"body > div#mangalist.mh_mangalist\",\"action\": 2,\"from\": 2},{\"name\": \"哈啦區 - 巴哈姆特\",\"url\": \"^https?://forum\\\\.gamer\\\\.com\\\\.tw/(index|$)\",\"enable\": 0,\"from\": 2},{\"name\": \"goddessfantasy\",\"type\": 0,\"url\": \"^https://www\\\\.goddessfantasy\\\\.net/bbs/\",\"pageElement\": \"//div[@id='messageindex']|//form[@id='quickModForm']\",\"nextLink\": \"//div[@class='pagelinks']/a[text()='»']\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Expreview\",\"url\": \"^https://www\\\\.expreview\\\\.com/\",\"loadMore\": \"span.load\",\"from\": 2},{\"name\": \"yande\",\"action\": 0,\"url\": \"^https://yande\\\\.re/\",\"pageElement\": \"ul#post-list-posts>li\",\"nextLink\": \"a.next_page\",\"css\": \".javascript-hide {display: inline-block !important;}\",\"from\": 2},{\"name\": \"playstation\",\"action\": 1,\"css\": \".psw-visually-hide{opacity:1!important}.pagetual_loading{display:none!important}[name='pagetual-iframe']{display:none}\",\"url\": \"^https://store\\\\.playstation\\\\.com/.*/\\\\d+$\",\"pageElement\": \"ul.psw-grid-list\",\"wait\": \"let img=doc.querySelector('ul.psw-grid-list img');return img!=null\",\"nextLinkByUrl\": [\"(.*/)(\\\\d+)$\",\"$1{$2+1}\"],\"pageAction\": \"[].forEach.call(eles[0].querySelectorAll('[loading=lazy]'),img=>{img.src=img.src.replace('w=54&thumb=true','w=230&thumb=false');img.classList.remove('psw-blur')});\",\"from\": 2},{\"name\": \"developer.wordpress\",\"url\": \"^https://developer\\\\.wordpress\\\\.org/\",\"pageElement\": \"#primary>*\",\"nextLink\": \"[rel=next]\",\"from\": 2},{\"name\": \"Moebooru:Danbooru clones\",\"url\": \"^https?://(konachan\\\\.com|yande\\\\.re|www\\\\.sakugabooru\\\\.com)/(post|comment)($|\\\\?|#|/search\\\\?)\",\"pageElement\": \"//li[contains(@class, 'creator-id-')]|//div[@id='comment-list']/div[@class='post']|//table[@class='highlightable']\",\"nextLink\": \"//a[@class='next_page']\",\"css\": \".javascript-hide { display: inline-block !important; }.pagetual_pageBar { display: inline-flex!important;width: 100%!important; }\",\"from\": 2},{\"name\": \"IMHentai\",\"url\": \"^https://imhentai\\\\.xxx\",\"pageElement\": \"#gimg\",\"nextLink\": \".nav_next\",\"css\": \"#footer,#bar{display:none}.pre_img+.nav_pagination{bottom: 10px; position: fixed; width: 100%;left:0;}.return_btn{bottom: 0; position: fixed; width: 100%;left:0;}\",\"lazyImgSrc\": 0,\"from\": 2},{\"name\": \"Search Getty Images\",\"url\": \"^https://www\\\\.gettyimages\\\\.ie\",\"nextLink\": \"button[title='Next page']\",\"pageElement\": \"[data-testid=galleryMosaicAsset]\",\"from\": 2},{\"name\": \"全國古籍普查登記基本數據庫\",\"url\": \"^https?://202\\\\.96\\\\.31\\\\.78/\",\"pageElement\": \"body > div.wrap > div#side.list > div.item\",\"nextLinkByJs\": \"let n=doc.querySelector('[title=\\\"Next Page\\\"]');if(!n)return;let params=n.getAttribute('onclick').match(/JavaScript:toUrl\\\\('(.*)',(\\\\d+)\\\\);/);let temp=params[1];let index=params[2];if(temp.indexOf('&cGFn')!=-1)temp=temp.substring(0,temp.indexOf('&cGFn'));let code=window.btoa('page='+index);return temp+'&'+code;\",\"from\": 2},{\"name\": \"图书书目检索\",\"url\": \"^https?://pcpt\\\\.nlc\\\\.cn/\",\"pageElement\": \"#content > div.list-panel.thelist > div.block > table.table\",\"nextLinkByJs\": \"let max=doc.querySelector(`.pagination>.result>b:nth-child(2)`),cur=doc.querySelector(`.pagination>.result>b:nth-child(3)`);let form=doc.querySelector('#fm_id'),params=[];if(!max||!cur||max.innerText==cur.innerText||!form)return null;let formData = new FormData(form); for (let [key, value] of formData) {params.push(key+'='+encodeURIComponent(value))};return form.action.replace(/\\\\?pageCount.*/,'')+'?pageCount='+(parseInt(cur.innerText) + 1)+'#p{'+params.join('&')+'}'\",\"from\": 2},{\"name\": \"Startpage\",\"url\": \"^https://www\\\\.startpage\\\\.com/\",\"pageElement\": \"section.w-gl>div.w-gl__result\",\"nextLink\": \"button.next\",\"action\": 0,\"from\": 2},{\"name\": \"Z-Library\",\"url\": \"^https?://.*(1lib\\\\.(to|us|org)|z-lib\\\\.org|booksc\\\\.(org|eu)|bookfi\\\\.net|b\\\\-ok\\\\.(asia|africa)|1lib\\\\.pl|sg1lib\\\\.org|2lib\\\\.org|book4you\\\\.org)/s/\",\"pageElement\": \"#searchResultBox\",\"from\": 2},{\"name\": \"Pixiv\",\"url\": \"^https://www\\\\.pixiv\\\\.net/\",\"action\": 2,\"pageElement\": \"section>div>div>ul,section>div>ul,div.sc-l7cibp-0.juyBTC>*,div.sc-1eop7y7-0.cJYTWr>*\",\"nextLink\": \"a[class*='filterProps-Styled-Component']:last-child\",\"wait\": 500,\"fitWidth\": false,\"css\": \"@media (min-width: 1000px) {@supports (display:grid)  {.krFoBL { grid-template-columns: repeat(6, 184px); }}}\",\"from\": 2},{\"name\": \"gog\",\"action\": 1,\"url\": \"^https://www\\\\.gog\\\\.com/\",\"pageElement\": \"paginated-products-grid.ng-star-inserted\",\"nextLinkByUrl\": [\"(&page=(\\\\d+))?$\",\"&page={$2+1}\"],\"pageAction\": \"[].forEach.call(eles, ele=>{[].forEach.call(ele.querySelectorAll('source[lazyload]'), source=>{source.setAttribute('srcset',source.getAttribute('lazyload'))})})\",\"from\": 2},{\"name\": \"F 搜\",\"url\": \"^https://fsoufsou\\\\.com/search\",\"nextLink\": \".bottom-pagination-bar+.turn-page-btn\",\"pinUrl\": true,\"css\": \"svg{visibility: visible;}\",\"pageElement\": \"div.organic-results>div\",\"stopSign\": [\"\",\".empty-result-container\"],\"from\": 2},{\"name\": \"Duckduckgo\",\"url\": \"^https://duckduckgo\\\\.com/\\\\?\",\"loadMore\": \".result--more>a,#more-results\",\"from\": 2},{\"name\": \"Bing\",\"action\": 1,\"url\": \"^https://.*\\\\.bing\\\\.com/\",\"nextLink\": \"a[title='Next page'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl\",\"pageElement\": \"ol#b_results>li.b_algo\",\"wait\": \"if(doc==document)return true;doc.documentElement.scrollTop=99999;return doc.querySelector('a[title=\\\\'Next page\\\\'],a.sb_pagN,a.sb_halfnext,a.sb_fullnpl')\",\"pageBar\": \"pageBar.className='b_pageBar'\",\"from\": 2},{\"name\": \"Pixabay\",\"url\": \"^https://pixabay\\\\.com\",\"pageAction\": \"eles.forEach(ele=>{let media=ele.querySelector('div.media');let timer;media.onmouseenter=e=>{timer=setTimeout((function() {var mp4 = media.dataset.mp4, webm = media.dataset.webm ? mp4.rsplit(\\\".\\\", 1)[0] + \\\".webm\\\": \\\"\\\", mp4Source = '<source type=\\\"video/mp4\\\" src=\\\"'.concat(mp4, '\\\">'), webmSource = webm ?' <source type=\\\"video/webm\\\" src=\\\"'.concat(webm, '\\\">') : \\\"\\\", videoElement = '<video style=\\\"display:none\\\" onloadeddata=\\\"$(this).addClass(\\\\'playing\\\\').show();\\\" autoplay muted loop>'.concat(mp4Source, \\\"                                 \\\").concat(webmSource, \\\"</video>\\\");media.insertBefore($(videoElement)[0], media.firstChild)}), 300);};media.onmouseleave=e=>{clearTimeout(timer);if(media.firstChild.tagName==='VIDEO')media.removeChild(media.firstChild)};})\",\"pageElement\": \".video-search-results>.row-masonry-cell\",\"nextLink\": \".media_list>a.pure-button\",\"lazyImgSrc\": \"data-lazy\",\"from\": 2},{\"name\": \"xda-developers\",\"url\": \"^https://forum\\\\.xda\\\\-developers\\\\.com/t/\",\"pageElement\": \".block-body>article\",\"from\": 2},{\"name\": \"Standards DOC\",\"url\": \"\\\\.html$\",\"nextLink\": \".header>p>[rel=next]\",\"pageElement\": \".header~*\",\"from\": 2},{\"name\": \"linuxfromscratch\",\"url\": \"^https://www\\\\.linuxfromscratch\\\\.org\",\"pageElement\": \"body>*\",\"css\": \".sect1{overflow-wrap: break-word;}div.navheader{position: relative;}\",\"from\": 2},{\"name\": \"Vipergirls\",\"pageElement\": \"#threads,.posts\",\"url\": \"^https://vipergirls\\\\.to\",\"nextLink\": [\"a[rel='next']\",\"a[rel='prev']\"],\"pageNum\": \"page{$p}$\",\"from\": 2},{\"name\": \"Linux Tips, Tricks and Tutorials | Linuxize\",\"url\": \"^https://linuxize\\\\.com\",\"pageElement\": \".post-list>.flex-wrap>section\",\"lazyImgSrc\": \"data-cfsrc\",\"from\": 2},{\"name\": \"16Personalities\",\"url\": \"^https://www\\\\.16personalities\\\\.com\",\"enable\": 0,\"from\": 2},{\"name\": \"Apphot\",\"url\": \"^https?://apphot\\\\.cc/\",\"pageElement\": \"section.container > div.content-wrap > div.content > article\",\"from\": 2},{\"name\": \"Google Search\",\"nextLink\": [\"id('pnnext')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\",\"id('pnprev')|id('navbar navcnt nav')//td[span]/following-sibling::td[1]/a|id('nn')/parent::a\"],\"pageElement\": \"id('rso')|id('center_col')/style[contains(.,'relative')][id('rso')]|id('search')/div/div/style[1]\",\"action\": 1,\"pageNum\": \"&start={10*($p-1)}\",\"pageBarTop\": 55,\"url\": \"^https?://[^./]+\\\\.google(?:\\\\.[^./]{2,3}){1,2}/(?:c(?:se|ustom)|search|webhp|m|#)\",\"replaceElement\": \"[role='navigation']>[role='presentation']\",\"css\": \"ol>li{display: inline-flex;}\",\"from\": 2},{\"name\": \"google search mobile\",\"action\": 0,\"url\": \"^https://(?:www\\\\.)?google\\\\..*/search\",\"pageElement\": \"id('rso')/div|id('rso')/style\",\"insert\": \"//div[@role=\\\"progressbar\\\"]/following-sibling::a[@role=\\\"button\\\"]|id(\\\"extrares\\\")//span[count(a)>0]/span/following-sibling::a\",\"nextLink\": 0,\"loadMore\": \"div[role='progressbar']+a[role='button']\",\"from\": 2},{\"name\": \"yandex Images Video search mobile\",\"example\": \"https://yandex.com/\",\"url\": \"^https?://yandex\\\\.(com|ru)/\",\"include\": \".more_direction_next\",\"loadMore\": \".more_direction_next>button\",\"from\": 2},{\"name\": \"yandex web search mobile\",\"example\": \"https://yandex.com/\",\"url\": \"^https?://yandex\\\\.(com|ru)/\",\"include\": \".Pager-More\",\"loadMore\": \".Pager-More\",\"from\": 2},{\"name\": \"Yandex\",\"url\": \"^https?://yandex\\\\.(com|ru)/search/\",\"pageElement\": \"#search-result>li\",\"pageElementCss\": \"content-visibility:visible\",\"from\": 2},{\"name\": \"Discuz Archiver\",\"example\": \"https://bbs.yxfanfan.com/archiver/?fid-13.html，https://bbs.yxfanfan.com/archiver/?tid-225893.html\",\"url\": \"^https?://[^/]+/archiver/\\\\?(fid|tid)\",\"nextLink\": \"strong+a\",\"pageElement\": \"#content\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"愛下電子書 - 書籍列表\",\"example\": \"https://tw.ixdzs.com/sort/1/\",\"url\": \"^https?://tw\\\\.ixdzs\\\\.com/(sort|hot|end)/\",\"nextLink\": \"a.num.current+a\",\"pageElement\": \".u-list\",\"replaceElement\": \"div.panel+div>.pagei\",\"pageBar\": 0,\"from\": 2},{\"name\": \"愛下電子書 - 閱讀\",\"example\": \"https://tw.ixdzs.com/read/38804/p1.html\",\"url\": \"^https?://tw\\\\.ixdzs\\\\.com/read/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"nextLink\": \"a.chapter-paging.chapter-next\",\"pageElement\": \"#page .page-content\",\"replaceElement\": \"head>title,.page-d.page-turn,.page-d-top,.read-next,.read-pre,.read-prog-info\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)}gae('.pagetual_pageBar')[0].remove();let t=gae('#page .page-content');if(t.length>10){t[0].remove()}\",\"css\": \".page-content{margin-top:.16rem!important}.page-content h3{line-height:.20rem!important;font-size:.24rem!important;text-align:center!important}\",\"from\": 2},{\"name\": \"UU看書網uuks.org - 閱讀\",\"example\": \"https://www.uuks.org/b/53487/668581.html\",\"url\": \"^https?://www\\\\.uuks\\\\.org/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next\",\"pageElement\": \".h1title,#contentbox\",\"replaceElement\": \".fanye\",\"insert\": \".fanye\",\"insertPos\": 1,\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.h1title');let t=gae('#contentbox');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"UU看書網uuks.org手機版 - 閱讀\",\"example\": \"https://m.uuks.org/b/59/731.html\",\"url\": \"^https?://m\\\\.uuks\\\\.org/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#read_next\",\"pageElement\": \"#top,#bookContent\",\"replaceElement\": \"head>title,#read>.rp-switch,#read-page>.rp-switch\",\"css\": \"#read-page .iconback,#read-page .iconhome{display: none!important;}\",\"insert\": \"#read-page>.rp-switch\",\"insertPos\": 1,\"pageBar\": 0,\"from\": 2},{\"name\": \"UU看書 - 書籍列表\",\"example\": \"https://www.uukanshu.com/list/xuanhuan-1.html\",\"url\": \"^https?://(www|tw)\\\\.uukanshu\\\\.com/list/\",\"nextLink\": \"//a[text()='下一頁' or text()='下一页']\",\"pageElement\": \".content.clearfix>span\",\"replaceElement\": \"#page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"UU看書 - 閱讀\",\"example\": \"https://www.uukanshu.com/b/47854/32175.html\",\"url\": \"^https?://(www|tw)\\\\.uukanshu\\\\.com/b/\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next\",\"pageElement\": \".h1title,.contentbox\",\"replaceElement\": \"head>title,.fanye\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.h1title');let t=gae('#contentbox');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"UU看書手機版 - 列表(加載更多小說)\",\"example\": \"https://t.uukanshu.com/booklist.aspx?c=1\",\"url\": \"^https?://(t|sj)\\\\.uukanshu\\\\.com/(booklist|quanben|)\\\\.aspx\",\"loadMore\": \"#showMore\",\"from\": 2},{\"name\": \"UU看書 - 手機版 - 閱讀\",\"example\": \"https://t.uukanshu.com/read.aspx?tid=47854&sid=32186\",\"url\": \"^https?://(t|sj)\\\\.uukanshu\\\\.com/read\\\\.aspx\",\"init\": \"$('.ad_content').remove()\",\"action\": 1,\"history\": 2,\"nextLink\": \"#read_next\",\"pageElement\": \"#divContent > h3,#bookContent\",\"replaceElement\": \"head>title,#read-page>.rp-switch\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar')[0].remove();let h=gae('h3');let t=gae('#bookContent');if(t.length>10){h[0].remove();t[0].remove()}gae('.ad_content')[0].remove()\",\"from\": 2},{\"name\": \"無限小說 - 書籍分類\",\"example\": \"https://www.8book.com/booklists/update/\",\"url\": \"^https?://(www\\\\.)?8book\\\\.com/booklists/(update|newrelease|finish|list|\\\\d+)/\",\"nextLink\": \"li[onclick]+li>a\",\"pageElement\": \".row>div.p-2\",\"replaceElement\": \".row>li\",\"pageBar\": 0,\"from\": 2},{\"name\": \"無限小說 - 閱讀\",\"example\": \"https://www.8book.com/read/125687/?312407\",\"url\": \"^https?://(www\\\\.)?8book\\\\.com/read/\",\"action\": 1,\"history\": 2,\"init\": \"setTimeout(()=>{let t=document.querySelector('#text');t.innerHTML=t.innerHTML.replace(/[<br>]{4}[⒏8８⒏⑧⑻ВbｂьＯσｏоοoＫkкｃсcｍmм．。·.]{9,10}/gi,'')},1000)\",\"nextLink\": \"span.next>a\",\"pageElement\": \"//div[div/@id='subtitle'] | id('text')\",\"waitElement\": [\"#text>br\"],\"replaceElement\": \"//head/title | //div[@class='row mx-0 read_btn_gp']\",\"pageInit\": \"let t=doc.querySelector('#text');t.innerHTML=t.innerHTML.replace(/[<br>]{4}[⒏8８⒏⑧⑻ВbｂьＯσｏоοoＫkкｃсcｍmм．。·.]{9,10}/gi,'')\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\")[0].remove();let t=gax(\\\"//div[@id='text']\\\");let s=gax(\\\"//div[div/@id='subtitle']\\\");if(t.length>4){t[0].remove();s[0].remove()}\",\"css\": \"#text>br:nth-child(even){display:none!important}#subtitle{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"起點小說 - 分類\",\"example\": \"https://www.qidian.com/finish/size5-update1/\",\"url\": \"^https?://www\\\\.qidian\\\\.com/(all|finish|rank|free)/(chanId|size|vip|sign|update|tag)?\",\"nextLink\": \"//li[a/@class='lbf-pagination-page  lbf-pagination-current']/following-sibling::li[1]/a[not(starts-with(@href,'javascript'))]\",\"pinUrl\": true,\"pageElement\": \"#book-img-text\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"起點小說 - 閱讀\",\"example\": \"https://read.qidian.com/chapter/9r9u8W1evJUCpOPIBxLXdQ2/EKq5eZhajBtMs5iq0oQwLQ2/\",\"url\": \"^https?://read\\\\.qidian\\\\.com/chapter/\",\"history\": 2,\"nextLink\": \"#j_chapterNext:not(.disabled)\",\"pageElement\": \".text-head,.read-content\",\"replaceElement\": \"head>title,.chapter-control.dib-wrap\",\"css\": \".admire-wrap,.chapter-end-qrcode{display:none!important}\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.text-head');let t=gae('.read-content');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"笔下文学bixia - 目錄\",\"example\": \"http://www.bixia.org/book/3726/\",\"url\": \"^https?://www\\\\.bixia\\\\.org/book/\\\\d+/\",\"nextLink\": \"//a[contains(text(),'下一页')]|//a[contains(text(),'下一頁')]\",\"pageElement\": \"#main .list>li\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"笔下文学bixia - 閱讀\",\"example\": \"http://www.bixia.org/book/3726/9586349.html\",\"url\": \"^https?://www\\\\.bixia\\\\.org/book/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[contains(text(),'下一页')]|//a[contains(text(),'下一頁')]|//a[contains(text(),'下一章')]\",\"pageElement\": \".chapter-name,#content\",\"replaceElement\": \"head>title,.g-content-nav\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;setTimeout(()=>{let n=gx(\\\"//a[contains(text(),'下一章')]\\\");if(n){let l=gae('.chapter-name').length-1;gae('.chapter-name')[l].remove()}},0);setTimeout(()=>{let t=gae('.chapter-name');if(t.length>10){gae('.g-reader>*:not(.chapter-opt):nth-child(n+1):nth-child(-n+4)').forEach(e=>{e.remove()})}},1000)\",\"pageBar\": 0,\"css\": \".chapter-name{font-size:20px!important;font-weight:bold!important;padding-top:10px;padding-bottom:10px;}\",\"from\": 2},{\"name\": \"新笔下文学 - 閱讀\",\"example\": \"https://www.bxwx.cc/112/112794/56123570.html\",\"url\": \"^https?://www\\\\.bxwx\\\\.cc/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[contains(text(),'下一章')]\",\"pageElement\": \".word_read>*:not(.read_btn)\",\"replaceElement\": \"head>title,.read_btn\",\"pageBar\": 0,\"from\": 2},{\"name\": \"新笔下文学 - 手機版閱讀\",\"example\": \"https://www.bxwx.cc/112/112794/56123570.html\",\"url\": \"^https?://www\\\\.bxwx\\\\.cc/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"action\": 1,\"nextLink\": \"#pb_next\",\"pageElement\": \"#chaptername,#txt\",\"replaceElement\": \"head>title,.chapter-page-btn\",\"pageBar\": 0,\"from\": 2},{\"name\": \"小說狂人 - 書籍分類\",\"example\": \"https://czbooks.net/c/xuanhuan\",\"url\": \"^https?://czbooks\\\\.net/c/\\\\w+\",\"nextLink\": \".nav.paginate>li.active+li>a\",\"pageElement\": \".novel-list>.novel-item-wrapper\",\"replaceElement\": \".nav.paginate\",\"pageBar\": 0,\"from\": 2},{\"name\": \"小說狂人 - 閱讀\",\"example\": \"https://czbooks.net/n/ul6pe/ukcme\",\"url\": \"^https?://czbooks\\\\.net/n/\\\\w+/\\\\w+\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".name,.content\",\"replaceElement\": \"head>title,.container .chapter-nav,.main>.chapter-nav,#mm-5>.chapter-nav\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.name');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"天天看小說 - 閱讀\",\"example\": \"https://tw.bg3.co/novel/pagea/yedemingmingshu-huishuohuadezhouzi_1.html\",\"url\": \"^https?://[^/]+/novel/pagea/[^.]+\\\\.html\",\"include\": \"//title[contains(text(),'天天看小說') or contains(text(),'天天看小说')]\",\"action\": 1,\"history\": 2,\"nextLink\": \".next_page_links>a[href$='html']\",\"pageElement\": \".title,.content\",\"replaceElement\": \"head>title,.prev_page,.next_page_links\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('amp-addthis').forEach(e=>{e.remove()});let h=gae('.title');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"css\": \".content>center{display:none!important}\",\"from\": 2},{\"name\": \"天天看小說 - 顯示全部目錄\",\"example\": \"https://tw.ttkan.co/novel/chapters/yedemingmingshu-huishuohuadezhouzi\",\"url\": \"^https?://[^/]+/novel/chapters/\",\"include\": [\"//title[contains(text(),'天天看小說') or contains(text(),'天天看小说')]\",\"#button_show_all_chatper\"],\"nextLink\": \"0\",\"autoClick\": \"#button_show_all_chatper\",\"from\": 2},{\"name\": \"稷下書院 - 分類\",\"example\": \"https://www.novel543.com/bookstack/\",\"url\": \"^https?://www\\\\.novel543\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \".layui-row>li\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"稷下書院 - 閱讀\",\"example\": \"https://www.novel543.com/1004298677/8001_1.html\",\"url\": \"^https?://www\\\\.novel543\\\\.com/\\\\d+/\\\\w+\\\\.html\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let h=ge('h1');h.innerText=h.innerText.split('-')[1].trim();let c=ge('.content');c.innerHTML=c.innerHTML.replace(/[^\\\\u4e00-\\\\u9fa5]+(<br>)?/,'<br>').replace(/[^\\\\u4e00-\\\\u9fa5]+$/,'');let ad=ge('.gadBlock,.adBlock');if(ad){ad.remove()}c.innerHTML=c.innerHTML.replace(/<br><br>/g,'<br>');\",\"nextLink\": \"//a[text()='下一章' and not(contains(@href,'end'))]\",\"pageElement\": \"h1,.content\",\"replaceElement\": \"head>title,.is-active,.foot-nav\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let h=ge('h1');h.innerText=h.innerText.split('-')[1].trim();let c=ge('.content');c.innerHTML=c.innerHTML.replace(/[^\\\\u4e00-\\\\u9fa5]+(<br>)?/,'<br>').replace(/[^\\\\u4e00-\\\\u9fa5]+$/,'');let ad=ge('.gadBlock,.adBlock');if(ad){ad.remove()}c.innerHTML=c.innerHTML.replace(/<br><br>/g,'<br>');\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('amp-addthis').forEach(e=>{e.remove()});let h=gae('h1');let t=gae('.content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"css\": \".gadBlock,.adBlock{display:none!important}#read h1{padding:20px 0 0px!important}\",\"from\": 2},{\"name\": \"轻小说文库 - 閱讀\",\"example\": \"https://www.wenku8.net/novel/1/1973/69567.htm\",\"url\": \"^https?://www\\\\.wenku8\\\\.net/novel/\\\\d+/\\\\d+/\\\\d+\\\\.htm\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('#contentmain>[id^=adv]').forEach(e=>{e.remove()})\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='下一页' or text()='下一頁' and contains(@href,'.htm')]\",\"pageElement\": \"#title,#content\",\"replaceElement\": \"head>title,#footlink\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('#title');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"次元姬小说 - 閱讀\",\"example\": \"https://www.ciyuanji.com/chapter/5077_2227754.html\",\"url\": \"^https?://www\\\\.ciyuanji\\\\.com/chapter/\\\\w+\\\\.htm\",\"history\": 2,\"nextLink\": \"//a[button[text()='下一章']]\",\"pageElement\": \"[class^=chapter_title],[class^=chapter_list],[class^=chapter_article]\",\"replaceElement\": \"head>title,[class^='chapter_footer']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('[class^=chapter_title]');let t=gae('[class^=chapter_article]');let l=gae('[class^=chapter_list]');if(t.length>10){h[0].remove();t[0].remove();l[0].remove()}\",\"pageBar\": 0,\"css\": \"[class^=chapter_article]+[class^=chapter_title]{padding-top:0px!important}\",\"from\": 2},{\"name\": \"69書吧 - 書籍分類\",\"example\": \"https://www.69shu.com/top/0.htm\",\"url\": \"^https?://www\\\\.69shu\\\\.com/top/\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"乐文小说网 - 分類\",\"example\": \"http://www.lewenlou.org/list/1-1.html\",\"url\": \"^https?://www\\\\.lewenlou\\\\.org/list/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[@class='panel-body'][div[contains(@class,'col-sm-index')]]\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"乐文小说网 -閱讀\",\"example\": \"http://www.lewenlou.org/132/132683/41065575.html\",\"url\": \"^https?://www\\\\.lewenlou\\\\.org/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"nextLink\": \".next>a\",\"pageElement\": \"//div[div[contains(@class,'content-body')]]\",\"replaceElement\": \"head>title,.pager\",\"pageAction\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let t=gax(\\\"//div[div[contains(@class,'content-body')]]\\\");if(t.length>10){t[0].remove()}\",\"pageBar\": 0,\"css\": \".chaptera,#pccontent_tip{display:none!important}\",\"from\": 2},{\"name\": \"69書吧 -閱讀\",\"example\": \"https://www.69shu.com/txt/38161/26369110\",\"url\": \"^https?://www\\\\.69shu\\\\.com/txt/\\\\d+/\\\\d+\",\"history\": 2,\"action\": 1,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".txtnav\",\"replaceElement\": \"head>title\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let t=gae('.txtnav');if(t.length>10)t[0].remove()\",\"from\": 2},{\"name\": \"同人圈 -分類\",\"example\": \"http://tongrenquan.org/\",\"url\": \"^https?://tongrenquan\\\\.org/\",\"pinUrl\": true,\"nextLink\": \".page b+a\",\"pageElement\": \".books>.bk\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"同人圈 -閱讀\",\"example\": \"http://tongrenquan.org/tongren/7070/1.html\",\"url\": \"^https?://tongrenquan\\\\.org/tongren/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".read_chapterName,.read_chapterDetail\",\"replaceElement\": \"head>title,.pageNav\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.read_chapterName');let t=gae('.read_chapterDetail');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".read_chapterName h1{font:24px 'Microsoft YaHei'!important}.read_chapterName{margin-top:25px!important;margin-bottom:15px!important}\",\"from\": 2},{\"name\": \"和圖書 -分類\",\"example\": \"https://www.hetubook.com/book/index.php\",\"url\": \"^https?://www\\\\.(hetubook|hetushu)\\\\.com/book2?/index\\\\.php\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#list\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"和圖書 -閱讀\",\"example\": \"https://www.hetubook.com/book/5849/4387851.html\",\"url\": \"^https?://www\\\\.(hetubook|hetushu)\\\\.com/book2?/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"a#next\",\"pageElement\": \"#content\",\"waitElement\": [\"\",\".mask.mask2\"],\"replaceElement\": \"head>title,#right\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let t=gae('#content');if(t.length>10){t[0].remove()}\",\"css\": \"body,#center,#cbox,#content {overflow: initial !important;position: initial !important;} #right,.sidebarbox{position: fixed !important;right: 0;}#content+#content{padding-top:-10px!important}\",\"from\": 2},{\"name\": \"和圖書手機版 - 閱讀\",\"example\": \"https://m.hetubook.com/book/5849/4387851.html\",\"url\": \"^https?://m\\\\.(hetubook|hetushu)\\\\.com/book2?/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"a#next\",\"pageElement\": \".title>h2,#content\",\"waitElement\": [\"\",\".cmask\"],\"replaceElement\": \"head>title,#spage\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('.title>h2');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".body>h2{text-align:center!important;}\",\"from\": 2},{\"name\": \"和圖書手機版 - 目錄\",\"example\": \"https://m.hetubook.com/book/5849/catalog-1.html\",\"url\": \"^https?://m\\\\.(hetubook|hetushu)\\\\.com/book/\\\\d+/catalog-\\\\d+\\\\.html\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \".dir>dd:not([id])\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"筆趣閣biqu86 - 書籍分類\",\"example\": \"https://www.biqu86.com/xuanhuan/\",\"url\": \"^https?://(www|m)\\\\.biqu86\\\\.com/(xuanhuan|xiuzhen|chuanyue|dushi|lishi|wangyou|kehuan|xiaoshuodaquan)\",\"action\": 1,\"nextLink\": \"li.current+li>a\",\"pageElement\": \".l>ul\",\"replaceElement\": \".pages\",\"css\": \"img{opacity:1!important}\",\"from\": 2},{\"name\": \"筆趣閣biqu86 - 閱讀\",\"example\": \"https://www.biqu86.com/xiuzhen/3211/1.html\",\"url\": \"^https?://(www|m)\\\\.biqu86\\\\.com/[a-z]+/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,.bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \"#ifexplorer+h1,#content+h1{font:35px 雅黑;padding-top:20px;text-align:center}.read-top-ad{display:none!important}\",\"from\": 2},{\"name\": \"筆趣閣bqg9527 - 書籍分類\",\"example\": \"https://www.bqg9527.com/sort/1/\",\"url\": \"^https?://www\\\\.bqg9527\\\\.com/\",\"include\": \"#newscontent\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"筆趣閣bqg9527 - PC版閱讀\",\"example\": \"https://www.bqg9527.com/zh_hant/book/265472/194745565.html\",\"url\": \"^https?://www\\\\.bqg9527\\\\.com/(zh_hant/)?book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,.bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \".read-top-ad{display:none!important}h1{font: 30px 黑体!important;text-align:center!important}\",\"from\": 2},{\"name\": \"筆趣閣bqg9527 - 手機版閱讀\",\"example\": \"https://m.bqg9527.com/zh_hant/book/265472/194745565.html\",\"url\": \"^https?://m\\\\.bqg9527\\\\.com/(zh_hant/)?book/\\\\d+/\\\\d+\\\\.html\",\"action\": 1,\"history\": 2,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \"#nr_title,#nr.nr_nr\",\"replaceElement\": \"head>title,.nr_page\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('#nr_title');let t=gae('#nr.nr_nr');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"歡喜冤家小說網 - 書籍分類\",\"example\": \"https://www.huanxiyuanjia.com/fenlei/xuanhuan/1/\",\"url\": \"^https?://www.huanxiyuanjia.com/fenlei/\",\"nextLink\": \"//a[text()='>>']\",\"pageElement\": \"#sitebox\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"歡喜冤家小說網 - 閱讀\",\"example\": \"https://www.huanxiyuanjia.com/12_12849/5258090.html\",\"url\": \"^https?://www.huanxiyuanjia.com/[0-9_]+/\\\\d+\\\\.html\",\"init\": \"let gae=e=>document.querySelectorAll(e);gae('#TextContent>*:not(p):nth-child(n+1):nth-child(-n+999)').forEach(e=>{e.remove()});gae('#TextContent>p:nth-child(n+1):nth-child(-n+2)').forEach(e=>{e.remove()});let t=gae('#TextContent')[0];t.innerHTML=t.innerHTML.replace('huanxiyuanjia.com 欢喜冤家','');\",\"action\": 1,\"history\": 2,\"nextLink\": \"#next_url\",\"pageElement\": \"h1,#TextContent\",\"replaceElement\": \"head>title,.mlfy_page+.mlfy_page\",\"pageBar\": 0,\"css\": \".mlfy_main h1{padding-bottom:0px!important;border-bottom:none!important}#TextContent>p:nth-child(n+2):nth-child(-n+3){display: none!important;}\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);gae('#TextContent>*:not(p):nth-child(n+1):nth-child(-n+999)').forEach(e=>{e.remove()});gae('#TextContent>p:nth-child(n+1):nth-child(-n+2)').forEach(e=>{e.remove()});let t=gae('#TextContent')[0];t.innerHTML=t.innerHTML.replace('huanxiyuanjia.com 欢喜冤家','');\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#TextContent');if(t.length>10){h[0].remove();t[0].remove()}\",\"from\": 2},{\"name\": \"博仕書屋 - 書籍分類\",\"example\": \"https://www.77z5.com/boshi/xuanhuanqihuan/\",\"url\": \"^https?://www\\\\.(boshisw|77z5)\\\\.com/(boshi|modules)/(xuanhuanqihuan|wuxiaxianxia|dushiyanqing|lishijunshi|kehuanlingyi|wangyoudongman|wanben|article)/\",\"nextLink\": \"a.next\",\"pageElement\": \"#newscontent>.l>h2,#newscontent>.l>ul,#content>table.grid #nr\",\"replaceElement\": \".page_b,.pages\",\"from\": 2},{\"name\": \"博仕書屋 - 閱讀\",\"example\": \"https://www.77z5.com/boshi/28_28437/14990400.html\",\"url\": \"^https?://www\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/\\\\d+\\\\.html\",\"history\": 2,\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \".bookname>h1,#content\",\"replaceElement\": \"head>title,.bottem1,bottem2\",\"pageBar\": 0,\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let h=gae('h1');let t=gae('#content');if(t.length>10){h[0].remove();t[0].remove()}\",\"css\": \"table+h1,#content+h1,.bookname+h1{padding-top:20px;text-align:center}\",\"from\": 2},{\"name\": \"博仕書屋手機版 - 書籍分類\",\"example\": \"https://m.77z5.com/boshi/quanben.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+\\\\.html\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"#main\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"博仕書屋手機版 - 小說章節\",\"example\": \"https://m.77z5.com/boshi/28_28437/all.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/(all|p\\\\d+)\\\\.html\",\"init\": \"let b = document.querySelector('body');b.innerHTML = b.innerHTML.replace(/<br>\\\\n<b>\\\\w+<\\\\/b>[^<]+<b>[^<]+<\\\\/b>[^<]+<b>\\\\d+<\\\\/b><br>/,'');\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//div[@id='chapterlist']/p[a/@title]\",\"replaceElement\": \".listpage\",\"pageBar\": 0,\"css\": \"#chapterlist>p[style]{display:none!important;}\",\"from\": 2},{\"name\": \"博仕書屋手機版 - 閱讀\",\"example\": \"https://m.77z5.com/boshi/28_28437/14990400.html\",\"url\": \"^https?://m\\\\.(boshisw|77z5)\\\\.com/boshi/\\\\w+/[0-9_]+\\\\.html\",\"history\": 2,\"nextLink\": \"#pt_next\",\"pageElement\": \"header#top,#chaptercontent\",\"replaceElement\": \"head>title,.Readpage\",\"pageBar\": 0,\"css\": \"#chaptercontent p[style],#chaptercontent p[style]+p,#chaptercontent+#top a,[style='text-align: left;color: #028aa0;font-size: 18px;font-weight:bold;']{display: none!important;}#chaptercontent+#top{height:30px!important;line-height:30px!important}\",\"initRun\": 1,\"autoLoadNum\": 1,\"from\": 2},{\"name\": \"www.shoujixs.net_手机小说 - 分类页\",\"example\": \"https://www.shoujixs.net/xhqh/\",\"url\": \"^https?://www\\\\.shoujixs\\\\.net/\",\"nextLink\": \"#pagelink strong+a:not([class])\",\"pageElement\": \".shoujixsl li,.c_row\",\"replaceElement\": \"#pagelink\",\"from\": 2},{\"name\": \"www.shoujixs.net_手机小说 - 阅读\",\"example\": \"https://www.shoujixs.net/shoujixs_161450_40736191.html\",\"url\": \"^https?://www\\\\.shoujixs\\\\.net/\\\\w+\\\\.html$\",\"history\": 2,\"nextLink\": \"//a[text()='下一章' and contains(@href,'html')]\",\"pageElement\": \"//div[@class='bookname']/h1 | //div[@id and p]\",\"replaceElement\": \".bottem1,.bottem2\",\"pageBar\": 0,\"css\": \"[id]+h1{padding-top:10px;text-align:center}\",\"from\": 2},{\"name\": \"优书网 - 書籍分類\",\"example\": \"https://www.yousuu.com/booklists/?type=man\",\"url\": \"^https?://www\\\\.yousuu\\\\.com/(bookstore|booklists)/\",\"action\": 1,\"waitElement\": [\"\",\".loadingBlock\"],\"init\": \"setTimeout(()=>{document.querySelectorAll('label.tab').forEach(e=>{e.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});document.querySelectorAll('h1>span').forEach(e=>{e.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});},1000)\",\"nextLinkByJs\": \"let next=doc.querySelector('li.number.active+li.number');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+$/,'')+'&page='+next.innerText\",\"pageElement\": \".booklist-card\",\"replaceElement\": \".pagination\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let lsr=location.search.replace(/&page=\\\\d+$/,'');setTimeout(()=>{gae('.number:not(.active)').forEach(e=>{let ls=lsr+'&page='+e.innerText;let link=`location.href='${ls}'`;e.setAttribute('onclick',link)});let pb=ge('.btn-prev');let nb=ge('.btn-next');let c=ge('.number.active');let n=ge('.number.active+.number');if(n){let ls=lsr+'&page='+n.innerText;let link=`location.href='${ls}'`;nb.setAttribute('onclick',link)}if(c.innerText>1){let p=c.innerText-1;let ls=lsr+'&page='+p;let link=`location.href='${ls}'`;pb.setAttribute('onclick',link)}},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOK☆WALKER JP\",\"example\": \"https://bookwalker.jp/new/?qsto=st2\",\"url\": \"^https?://bookwalker\\\\.jp/(category|search|new)/\",\"include\": \".o-list--menu,.o-list--footer\",\"nextLink\": \".o-pager-next>a\",\"pageElement\": \".o-contents-section__body .m-tile\",\"replaceElement\": [\".o-list--menu\",\".o-list--footer\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOK☆WALKER JP - 手機版\",\"example\": \"https://bookwalker.jp/new/?qsto=st2\",\"url\": \"^https?://bookwalker\\\\.jp/(category|search|new)/\",\"include\": \".o-pager-box\",\"nextLink\": \"li.o-select-box+li>a\",\"pageElement\": \".o-tile-list>.o-tile\",\"replaceElement\": \".o-pager-box\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"BOOK☆WALKER TW\",\"example\": \"https://www.bookwalker.com.tw/search?m=2&series_display=1&vertical=0&order=sell_desc&s=19\",\"url\": \"^https?://www\\\\.bookwalker\\\\.com\\\\.tw/search\",\"nextLink\": \"//li[span/@class='active']/following-sibling::li[1]/a\",\"pageElement\": \".bookdesc2.clearfix,.row.listbox.clearfix+.row.mar0pad0\",\"replaceElement\": \".bw_main2 > div:first-child,.bw_main2 > div:last-child,.pagebar\",\"initRun\": 1,\"autoLoadNum\": 2,\"pageBar\": 0,\"from\": 2},{\"name\": \"BOOK☆WALKER TW 更多\",\"example\": \"https://www.bookwalker.com.tw/block/1\",\"url\": \"^https?://www\\\\.bookwalker\\\\.com\\\\.tw/\",\"nextLink\": \"//li[span/@class='active']/following-sibling::li[1]/a\",\"pageElement\": \".book_package\",\"replaceElement\": \".bw_main2 > div:first-child,.bw_main2 > div:last-child,.pagebar\",\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mox.moe\",\"example\": \"https://mox.moe/\",\"url\": \"^https?://mox\\\\.moe\",\"action\": 1,\"nextLink\": \"//a[button/text()='下頁']\",\"pageElement\": \".listbg\",\"replaceElement\": \"td.listtitle[colspan='5']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Bookshop.tw\",\"example\": \"https://www.bookshop.tw/\",\"url\": \"^https?://www\\\\.bookshop\\\\.tw\",\"action\": 1,\"waitElement\": [\"#url_ne[href$='htm']\"],\"nextLink\": \"#url_ne[href$='htm']\",\"pageElement\": \".listbg0\",\"replaceElement\": \"//td[a/@id='url_fr']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"雅拉伊\",\"example\": \"https://www.yalayi.com/gallery/\",\"url\": \"^https?://www\\\\.yalayi\\\\.com/\",\"action\": 1,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//ul[li/div[@class='img-box']] | //div[@class='girls']/ul\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"性趣套圖 - 列表\",\"example\": \"https://myjkwd.com/e/action/ListInfo/?classid=1\",\"url\": \"^https?://myjkwd.com/e/action/ListInfo\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".bloglist > ul\",\"replaceElement\": \".pageLink\",\"css\": \".pagetual_pageBar{width:98.6%!important;}aside.side{display:none!important;}.main-content{margin-left:0px!important;}body{background:#EDEDED!important;}\",\"initRun\": 1,\"autoLoadNum\": 1,\"from\": 2},{\"name\": \"性趣套圖 - 看圖\",\"example\": \"https://myjkwd.com/e/action/ShowInfo.php?classid=1&id=23726\",\"url\": \"^https?://myjkwd\\\\.com/e/action/ShowInfo\\\\.php\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let e=ge('.entry');e.innerHTML=e.innerHTML.replace('\\\"&gt;','');document.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='39'){let n=ge('.nextinfo a');if(n)n.click()}});document.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='37'){let p=ge('.nextinfo p:last-child a');if(p)p.click()}});\",\"nextLink\": \".pageLink b+a\",\"pageElement\": \".entry img\",\"replaceElement\": \".pageLink\",\"pageBar\": 0,\"rate\": 10,\"css\": \"aside.side,.pageLink{display:none!important;}.main-content{margin-left:0px!important;}\",\"from\": 2},{\"name\": \"性趣套圖 - 搜索\",\"example\": \"https://myjkwd.com/e/search/result/?searchid=7898\",\"url\": \"^https?://myjkwd\\\\.com/e/search/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"h2.r,table[width^='8']\",\"replaceElement\": \".list_page\",\"css\": \"table.nav,table[width^='8'] tr:nth-child(1){display:none!important;}td{font:12px/1.5 Verdana,Arial,Helvetica,sans-serif,'微软雅黑'!important}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"國模網\",\"example\": \"https://gm23.xyz/\",\"url\": \"^https?://gm\\\\d+\\\\.xyz/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src})\",\"nextLink\": \"a.next\",\"pageElement\": \"#main > article\",\"replaceElement\": \"#nav-below\",\"pageBar\": 0,\"from\": 2},{\"name\": \"YINGPIAN影片社\",\"example\": \"https://yingpian89.com/\",\"url\": \"^https?://(yingpian89|69avfilm).com/\",\"nextLink\": \"a[rel='next'],.nav-previous>a\",\"pageElement\": \"div[id^='post-']\",\"replaceElement\": \".wp-pagenavi\",\"wait\": \"let img=doc.querySelector('#content img');return img!=null\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"秘图社\",\"example\": \"https://www.sssins.com/，https://www.nicesss.com/\",\"url\": \"^https?://www\\\\.(sssins|nicesss)\\\\.com/\",\"nextLink\": \"//li[span[@aria-current='page']]/following-sibling::li[1]/a\",\"pageElement\": \".posts-wrapper>*\",\"replaceElement\": \"ul.page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"女神研究所\",\"example\": \"https://www.simracingzone.net/\",\"url\": \"^https?://www\\\\.simracingzone\\\\.net/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#index_ajax_list>*\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hitxhot - 清單\",\"example\": \"https://www.hitxhot.org/\",\"url\": \"^https?://www\\\\.hitxhot\\\\.org/(\\\\?page=\\\\d+)?$\",\"include\": \".pag>.pagination-site\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".videos>.thumb-view\",\"replaceElement\": \".pag>.pagination-site\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hitxhot - 寫真\",\"example\": \"https://www.hitxhot.org/gallerys/TUNPcCtCSVhEMXNPZU52TWI2ZnB2Zz09.html\",\"url\": \"^https?://www\\\\.hitxhot\\\\.org/gallerys/\",\"action\": 1,\"init\": \"let F=new DocumentFragment();document.querySelectorAll('.contentme img').forEach(e=>{let img=new Image();img.src=e.src;F.appendChild(img)});let E=document.querySelector('.contentme');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".contentme img\",\"replaceElement\": \".pag>.pagination-site,.c-denomination.s-denomination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"小黃書 - 分類\",\"example\": \"https://tw.xchina.co/photos/kind-2.html，https://8se.me/photos/model-61be1af337a19.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/(photos|videos|models|fictions|torrents)\",\"exclude\": \"body>.image\",\"init\": \"let bs = document.querySelector('body[style]');if(bs)bs.removeAttribute('style');\",\"pinUrl\": true,\"nextLink\": \"a.next\",\"pageElement\": \".list>.item:not(._300x250),.list>.fiction,.list>.torrent,.videos>.item\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"rate\": 3,\"css\": \".pagetual_pageBar{margin-bottom:5px!important}.videos .pagetual_pageBar{margin-top:30px!important;margin-bottom:0px!important}.slider-ad,.article.ad,.jquery-modal.blocker.current,.banner_ad,.tips,.aside>.center,.item._300x250{display:none!important}\",\"from\": 2},{\"name\": \"小黃書 - 圖片清單\",\"example\": \"https://tw.xchina.co/photo/id-63d02a8cdaf75.html，https://8se.me/photo/id-63938c1972fde.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/photo/\",\"include\": \"img.cr_only\",\"pinUrl\": true,\"action\": 1,\"waitElement\": [\"img.cr_only\"],\"nextLink\": \"a.next\",\"pageElement\": \".photos > a\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"css\": \".photos>div.item,.jquery-modal.blocker.current,.slider-ad,.article.ad,.pager>.tips,body>footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(.customPicDownloadMsg):not(#customPicDownload),.photoMask,.banner_ad{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"小黃書 - 原圖瀏覽\",\"example\": \"https://tw.xchina.co/photoShow.php?server=1&id=6311c6080f9a5&index=0&pageSize=19&title=%E3%80%90%E6%9C%AA%E5%88%86%E9%A1%9E%E4%BA%BA%E9%AB%94%E6%94%9D%E5%BD%B1%E3%80%91%E9%87%91%E9%AD%9Akinngyo%E3%80%8A%E5%A4%8F%E6%97%A5%E5%8D%88%E5%BE%8C%E3%80%8B\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/photoShow\\\\.php\",\"action\": 1,\"nextLink\": \"//div[@class='image']/a[3][i[@class='fa fa-arrow-right right']][not(starts-with(@href,'java'))]\",\"pageElement\": \".container > img\",\"replaceElement\": \".image>.index,.image>a\",\"css\": \".image>a:nth-child(3),.image>a:nth-child(4),body>.image~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords){display: none!important;}.container>img {max-width: 100% !important;display: block !important;margin: 0 auto !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"小黃書 - 搜索\",\"example\": \"https://tw.xchina.co/search/keyword-%E4%B8%9D%E8%A2%9C/mode-photo.html\",\"url\": \"^https?://([a-z-]{2}\\\\.)?(xchina|8se)\\\\.(co|me|pro)/search/\",\"init\": \"let bs = document.querySelector('body[style]');if(bs)bs.removeAttribute('style');\",\"nextLink\": \"a.next\",\"pageElement\": \".article.result>.list\",\"replaceElement\": [\"div.article:not(.result)+div.pager\",\"div.article.result+div.pager\"],\"css\": \".pagetual_pageBar+div{margin-top:-5px !important;}.slider-ad,.jquery-modal.blocker.current,.article.ad,.body>*:not(.article):not(.pager),.banner_ad{display:none!important}\",\"rate\": 3,\"from\": 2},{\"name\": \"小黃書 - 模特、小說目錄\",\"example\": \"https://tw.xchina.co/fiction/id-64036d06046a5.html，https://tw.xchina.co/model/id-605849cd980ad.html\",\"url\": \"^https?://(tw\\\\.)?xchina\\\\.co/(fiction|model)/id-\\\\w+\\\\.html\",\"pinUrl\": true,\"nextLink\": \"0\",\"css\": \".aside>.center,.banner_ad{display:none!important}\",\"from\": 2},{\"name\": \"小黃書 - 成人小說閱讀\",\"example\": \"https://tw.xchina.co/fiction/id-64036d06046a5/1.html\",\"url\": \"^https?://(tw\\\\.)?xchina\\\\.co/fiction/id-\\\\w+/\\\\d+\\\\.html\",\"nextLink\": \"a.next\",\"pageElement\": \".article.large\",\"replaceElement\": \".prevNext\",\"css\": \".banner_ad{display:none!important}\",\"from\": 2},{\"name\": \"海棠小说网 - 分类页\",\"example\": \"https://m.haitangtxt.net/top/\",\"url\": \"^https?://m\\\\.haitangtxt\\\\.net/\",\"nextLink\": \"//a[text()='下一页' or text()='下页']\",\"pageElement\": \".articlegeneral,.full_content,.chapters>li\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"海棠小说网 - 手机阅读\",\"example\": \"https://m.haitangtxt.net/19/19363/1736943.html\",\"url\": \"^https?://m\\\\.haitangtxt\\\\.net/\",\"nextLink\": \"//a[contains(text(),'下一页') or contains(text(),'下一章')]\",\"pageElement\": \".content_title,#articlecontent\",\"replaceElement\": \".content_top,.novelbutton\",\"pageBar\": 0,\"from\": 2},{\"name\": \"丽图·污漫画 - 分類\",\"example\": \"https://litu100.xyz/comics.html\",\"url\": \"^https?://litu100\\\\.xyz/\",\"nextLink\": \"a.next\",\"pageElement\": \".list>.item\",\"replaceElement\": \".pager\",\"css\": \"._728x90{display:none!important}\",\"from\": 2},{\"name\": \"丽图·污漫画 - 閱讀\",\"example\": \"https://litu100.xyz/comic/id-624428abcf548/1.html\",\"url\": \"^https?://litu100\\\\.xyz/comic/id-\\\\w+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"a.next\",\"pageElement\": \".article.comic\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"replaceElement\": \".prevNext\",\"pageBarText\": \"return doc.querySelector('.tag[checked=true]').innerText;\",\"css\": \".banner_ad{display:none!important}.pagetual_pageBar{margin-top:2px!important}\",\"from\": 2},{\"name\": \"X成人论坛 帖子\",\"example\": \"https://xbbs.me/forum/id-61fe70f2b9631.html\",\"url\": \"^https?://(tw\\\\.)?xbbs\\\\.me/forum/[^.]+\\\\.html\",\"nextLink\": \"a.next\",\"pageElement\": \".xbbs-item\",\"replaceElement\": [\"div.article>div.pager:first-child\",\"div.article>div.pager:last-child\"],\"css\": \".slider-ad,.push-top{display:none!important}\",\"from\": 2},{\"name\": \"X成人论坛 帖子內\",\"example\": \"https://xbbs.me/thread/id-620bd15362b3d.html\",\"url\": \"^https?://(tw\\\\.)?xbbs\\\\.me/thread/[^.]+\\\\.html\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"a.next\",\"pageElement\": \"//div[div[@class='xbbs-thread-content reply']]\",\"insert\": \".pager\",\"insertPos\": 1,\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \"秀色女神 - 分類\",\"example\": \"https://www.xsnvshen.co/girl/\",\"url\": \"^https?://www\\\\.xsnvshen\\\\.[a-z]{2,3}/\",\"include\": \"#pageNum\",\"nextLink\": \"a.active+a\",\"pageElement\": \"//ul[li[contains(@class,'min')]/a[@class='itemimg']]\",\"replaceElement\": \"#pageNum\",\"pageBar\": 0,\"from\": 2},{\"name\": \"秀色女神 - 手機版看圖\",\"example\": \"https://m.xsnvshen.co/album/39844?p=1\",\"url\": \"^https?://m\\\\.xsnvshen\\\\.[a-z]{2,3}/album/\\\\d+(\\\\?p=\\\\d+)?\",\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('#arcbox img.nolazy').forEach(img=>{img.src=img.src.replace(/thumb[^/]+\\\\//,'');img.removeAttribute('style');img.parentNode.outerHTML=img.outerHTML});document.querySelectorAll('#arcbox img.lazy[alt]').forEach(img=>{img.src=img.getAttribute('data-original').replace(/thumb[^/]+\\\\//,'');img.removeAttribute('data-original');img.setAttribute('class','nolazy');img.removeAttribute('style');img.parentNode.outerHTML=img.outerHTML});\",\"nextLink\": \"a.pg_next\",\"pageElement\": \"#arcbox img[alt]\",\"replaceElement\": \"#pageNum\",\"pageInit\": \"doc.querySelectorAll('#arcbox img.nolazy').forEach(img=>{img.src=img.src.replace(/thumb[^/]+\\\\//,'');img.removeAttribute('style');});doc.querySelectorAll('#arcbox img.lazy[alt]').forEach(img=>{img.src=img.getAttribute('data-original').replace(/thumb[^/]+\\\\//,'');img.removeAttribute('data-original');img.removeAttribute('style');img.setAttribute('class','nolazy')});\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"sleep\": 5000,\"css\": \"#arcbox img[alt]{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0px auto !important}[id^='ad']{display:none!important}\",\"from\": 2},{\"name\": \"心动美图 - 分類\",\"example\": \"https://www.wai77.com/tag/%E7%A7%80%E4%BA%BA%E7%BD%91/\",\"url\": \"^https?://www\\\\.wai77\\\\.com/(tag|category|\\\\?s=)\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#recent-content>[id^='post']\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"心动美图 - 看圖\",\"example\": \"https://www.wai77.com/xiuren%e7%a7%80%e4%ba%ba%e7%bd%91-no-5566-manuela%e7%8e%9b%e9%b2%81%e5%a8%9c-%e6%b7%a1%e7%bb%bf%e7%81%b0%e8%89%b2%e4%b8%8a%e8%a1%a3%e6%90%ad%e9%85%8d%e7%99%bd%e8%89%b2%e7%9f%ad%e8%a3%99/\",\"url\": \"^https?://www\\\\.wai77\\\\.com/[^/]+/\",\"init\": \"let fimgs=document.querySelectorAll('div[data-src]');let alts=document.querySelectorAll('#lightgallery img[alt]');let _img='';for(let i=0;i<fimgs.length;i++){_img+=`<img src='${fimgs[i].dataset.src}'alt='${alts[i].getAttribute('alt')}'>`};document.querySelector('#lightgallery').innerHTML=_img;\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#lightgallery\",\"replaceElement\": \".single-nav-links\",\"pageInit\": \"let fimgs=doc.querySelectorAll('div[data-src]');let alts=doc.querySelectorAll('#lightgallery img[alt]');let _img='';for(let i=0;i<fimgs.length;i++){_img+=`<img src='${fimgs[i].dataset.src}'alt='${alts[i].getAttribute('alt')}'>`};doc.querySelector('#lightgallery').innerHTML=_img;\",\"css\": \".cbox{display:block!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"优丝库HD - 分類\",\"example\": \"https://yskhd.com/archives/category/xiuren/xiuren%e7%a7%80%e4%ba%ba%e7%bd%91?t\",\"url\": \"^https?://yskhd\\\\.com/\",\"include\": \".pagination\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".posts\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}.grids{margin:0 -10px 0px!important}\",\"from\": 2},{\"name\": \"Porn Pics - 圖片清單載入大圖\",\"example\": \"https://www.pornpics.com/galleries/brunette-asian-girl-yui-uehara-gives-a-blowjob-and-gets-fucked-by-two-knobs-29982680/\",\"url\": \"^https?://www\\\\.pornpics\\\\.com/galleries/[^/]+/\",\"include\": \"a[data-tid]\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.parentNode.href})\",\"from\": 2},{\"name\": \"Xgirls - 分類\",\"example\": \"https://xgirlscollection.com/collections\",\"url\": \"^https?://xgirlscollection\\\\.com/\",\"nextLink\": \"//a[i[@class='fa fa-angle-right']]\",\"pageElement\": \"//div[@class='container']/div[@class='row']/div/div[div/div[@class='card-wrapper']/div[@class='card-img']/a/img][@class='row']/*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Xgirls - 看圖\",\"example\": \"https://xgirlscollection.com/collection/2015\",\"url\": \"^https?://xgirlscollection\\\\.com/\",\"nextLink\": \"//a[i[@class='fa fa-angle-right']]\",\"pageElement\": \"img[id].collection-image\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"超级美女图库 - 分類\",\"example\": \"https://www.2avtt.com/xingan/\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'超级美女图库')]\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \"//div[@class='col-left-right'][div/div[@align='center']/following-sibling::div[1]/div[@class='item']]\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"超级美女图库 - 看圖\",\"example\": \"https://www.2avtt.com/xingan/54985.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'超级美女图库')]\",\"action\": 1,\"init\": \"let a=document.querySelector('#nextPageTagA');a.outerHTML=a.innerHTML;\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \"#photoMain img[alt]\",\"replaceElement\": \".page,.local>span\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"div[align='center']+div[align='center'],#photoMain br{display:none!important}\",\"from\": 2},{\"name\": \"超级美女图库 - 手機版分類\",\"example\": \"https://m.2avtt.com/xingan/\",\"url\": \"^https?://m\\\\.[^/]+/\",\"include\": \"//title[contains(text(),'超级美女图库')]\",\"nextLink\": \"//a[@class='last' and text()='下一页']\",\"pageElement\": \"//div[(span) and @class='items']\",\"replaceElement\": \"p.action\",\"pageBar\": 0,\"from\": 2},{\"name\": \"超级美女图库 - 手機版看圖\",\"example\": \"https://m.2avtt.com/xiuren/56166.html\",\"url\": \"^https?://m\\\\.[^/]+/\",\"include\": \"//title[contains(text(),'超级美女图库')]\",\"action\": 1,\"init\": \"document.querySelectorAll('.wallpaper-container br').forEach(e=>{e.remove()});let a=document.querySelector('.wallpaper-container>a');a.outerHTML=a.innerHTML;\",\"nextLinkByUrl\": [\"/([^_]+)(_(\\\\d+))?\\\\.html$\",\"/$1_{$3+1}.html\"],\"stopSign\": [[\".title>h2>em\",\"(\\\\d+)\"],[\".title>h2>i\",\"(\\\\d+)\"]],\"pageElement\": \".wallpaper-container img\",\"replaceElement\": \".title>h2>em\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"strong,.wallpaper-container+div[align]{display:none!important}\",\"from\": 2},{\"name\": \"Taotuxp.com - 分類\",\"example\": \"https://www.taotucc.com/\",\"url\": \"^https?://www\\\\.taotucc\\\\.com/\",\"nextLink\": \"a.current+a\",\"pageElement\": \"#post_container\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"Taotuxp.com - 看圖\",\"example\": \"https://www.taotucc.com/252555.html\",\"url\": \"^https?://www\\\\.taotucc\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".pagelist>span+a\",\"pageElement\": \"#post_content>p\",\"replaceElement\": \".pagelist\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#post_content img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#content p{margin:0!important}\",\"from\": 2},{\"name\": \"imgasd\",\"example\": \"https://imgasd.com/\",\"url\": \"^https?://imgasd\\\\.com\",\"nextLink\": \"a.active+a\",\"pageElement\": \".list>li\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRL.asia - 寫真\",\"example\": \"https://hotgirl.asia/imiss%e7%88%b1%e8%9c%9c%e7%a4%be-vol-693-lavinia%e8%82%89%e8%82%89/\",\"url\": \"^https?://hotgirl\\\\.asia/[^/]+/\",\"include\": \".mx-auto\",\"init\": \"document.querySelectorAll(\\\"img[alt][src^='data']\\\").forEach(e=>{e.parentNode.remove()})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[@class='galeria_img'][img[starts-with(@src,'http')]]\",\"css\": \"#footer,#commentfb,.content-kuss{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"HOTGIRL.asia - 清單\",\"example\": \"https://hotgirl.asia/genre/china/\",\"url\": \"^https?://hotgirl\\\\.asia/(\\\\?s=|genre|tag|photos|livestream|china|korea|videos)(\\\\/)?\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".vl-item,.movies-list,#myimg\",\"replaceElement\": \"#pagination\",\"from\": 2},{\"name\": \"javbangers.com\",\"example\": \"https://www.javbangers.com/latest-updates/\",\"url\": \"^https?://www\\\\.javbangers\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"li.page-current+li.page>a\",\"pageElement\": \".porntrex-box .video-item,.box .item\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"X5AV\",\"example\": \"https://x5av.com/e/action/ListInfo/?classid=2\",\"url\": \"^https?://x5av\\\\.com/(e|popular)/((action|search)/)?\",\"pageElement\": \".videos-container>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"avple.tv - 搜索\",\"example\": \"https://avple.tv/search?key=FC2PPV&page=1&sort=date\",\"action\": 1,\"url\": \"^https?://avple\\\\.tv/search\\\\?key=\",\"nextLinkByUrl\": [\"(&page=)(\\\\d+)(&.+)$\",\"$1{$2+1}$3\",\"[aria-label='Go to next page']:not(.Mui-disabled)\"],\"pageElement\": \".jss23\",\"replaceElement\": \".jss15\",\"waitElement\": [\".lazyload-wrapper>img\",\".lazyload-placeholder\"],\"pageInit\": \"doc.querySelectorAll('img.jss29').forEach(img=>{img.setAttribute('class','jss28');img.src=img.src})\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let bs=document.querySelectorAll(`button[aria-label^='Go to page']`);let pp=ge(`button[aria-label='Go to previous page']:not(.Mui-disabled)`);let cp=ge('button.Mui-selected');let np=ge(`button[aria-label='Go to next page']:not(.Mui-disabled)`);let ls=location.search;let m=ls.match(/^(\\\\?key=)([^&]+)(&page=)(\\\\d+)(&sort=date|&sort=view_count|&sort=favorite)/);bs.forEach(button=>{let pn=button.textContent;let link=m[1]+m[2]+m[3]+pn+m[5];let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});if(pp){let cpn=cp.textContent;let p=cpn-1;let link=m[1]+m[2]+m[3]+p+m[5];let lh=`location.href='${link}'`;pp.setAttribute('onclick',lh)}if(np){let npn=cp.parentNode.nextSibling.textContent;let link=m[1]+m[2]+m[3]+npn+m[5];let lh=`location.href='${link}'`;np.setAttribute('onclick',lh)}},1000)\",\"css\": \".lazyload-wrapper+span.jss28{display:none!important;}\",\"from\": 2},{\"name\": \"avple.tv - 類別\",\"example\": \"https://avple.tv/tags/135/1/date\",\"url\": \"^https?://avple\\\\.tv/tags/\\\\d+/\\\\d+/\\\\w+$\",\"action\": 1,\"nextLinkByUrl\": [\"(/\\\\d+/)(\\\\d+)(/\\\\w+)$\",\"$1{$2+1}$3\",\"[aria-label='Go to next page']:not(.Mui-disabled)\"],\"pageElement\": \".jss23\",\"replaceElement\": \".jss15\",\"waitElement\": [\".lazyload-wrapper>img\",\".lazyload-placeholder\"],\"pageInit\": \"doc.querySelectorAll('img.jss29').forEach(img=>{img.setAttribute('class','jss28');img.src=img.src})\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let bs=document.querySelectorAll(`button[aria-label^='Go to page']`);let pp=ge(`button[aria-label='Go to previous page']:not(.Mui-disabled)`);let cp=ge('button.Mui-selected');let np=ge(`button[aria-label='Go to next page']:not(.Mui-disabled)`);let lp=location.pathname;let lps=lp.split('/');bs.forEach(button=>{let pn=button.textContent;let link='/'+lps[1]+'/'+lps[2]+'/'+pn+'/'+lps[4];let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});if(pp){let cpn=cp.textContent;let p=cpn-1;let link='/'+lps[1]+'/'+lps[2]+'/'+p+'/'+lps[4];let lh=`location.href='${link}'`;pp.setAttribute('onclick',lh)}if(np){let npn=cp.parentNode.nextSibling.textContent;let link='/'+lps[1]+'/'+lps[2]+'/'+npn+'/'+lps[4];let lh=`location.href='${link}'`;np.setAttribute('onclick',lh)}},1000)\",\"css\": \".lazyload-wrapper+span.jss28{display:none!important}\",\"from\": 2},{\"name\": \"NETFLAV1\",\"example\": \"https://netflav.com/uncensored\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/(censored|uncensored|chinese-sub|actress)(\\\\?page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=gae(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=gae('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+'?page='+next.getAttribute('value')\",\"pageElement\": \"//div[@class='video_grid_container']/div[contains(@class,'grid_root')]/* | //div[a[@href]/div/img[@class='ui image']]\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.pathname+'?page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NETFLAV2\",\"example\": \"https://netflav.com/uncensored?genre=FC2PPV\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/(censored|uncensored|chinese-sub|actress)\\\\?genre=[^&]+(&page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=gae(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=gae('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+/,'')+'&page='+next.getAttribute('value')\",\"pageElement\": \".video_grid_container>.grid_root>*\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.search.replace(/&page=\\\\d+/,'')+'&page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NETFLAV3\",\"example\": \"https://netflav.com/all?genre=%E6%80%A7%E6%84%9F%E7%9A%84&page=2\",\"url\": \"^https?://(www\\\\.)?netflav\\\\.com/all\\\\?(genre|actress)=.+(&page=\\\\d+)?$\",\"init\": \"let gae=e=>document.querySelectorAll(e);let ds=document.querySelectorAll(\\\"div[class^='genre_filter_item']\\\");ds.forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});let as=document.querySelectorAll('.desktop_header_root>div>a.desktop_header_item:not([href=\\\"/\\\"])');as.forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 100)')});\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('a.active.item+a.item:not(.icon)');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+/,'')+'&page='+next.getAttribute('value')\",\"pageElement\": \".video_grid_container>.grid_root>*\",\"waitElement\": [\"a[aria-current='true']+a\",\"div.lazyload-placeholder,.grid_cover.image:not(.fadeIn)\"],\"replaceElement\": \".general_pagination\",\"rate\": 3,\"pageAction\": \"setTimeout(()=>{let as=document.querySelectorAll('#general-pagination a');as.forEach(a=>{let link=location.search.replace(/&page=\\\\d+/,'')+'&page='+a.getAttribute('value');a.href=link})},200)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"加勒逼A片網\",\"example\": \"https://159i.com/video/\",\"url\": \"^https?://159i\\\\.com/video/((category|search)/.+/)?$\",\"nextLink\": \".next>a\",\"pageElement\": \"#content>.post.f\",\"replaceElement\": \".page-navigator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Supjav\",\"example\": \"https://supjav.com/ja/category/uncensored-jav\",\"url\": \"^https?://supjav\\\\.com/(zh/|ja/)?(\\\\?s=|popular|category)\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".posts.clearfix>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"癡漢隊長\",\"example\": \"https://javcaptain.com/uncensored\",\"url\": \"^https?://javcaptain\\\\.com/(en/|ja/|zh/|ko/)?(rank/|series/)?(censored|uncensored|western|fc2|hanime|search)\",\"nextLink\": \"a.page-link[rel='next']\",\"pageElement\": \".card-deck.row>.px-1\",\"replaceElement\": \".pagination.pagination-sm\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AV時間\",\"example\": \"https://avtime.tv/category/28/\",\"url\": \"^https?://avtime\\\\.tv/\",\"nextLink\": \"//li[(span) and @class='page-item']/following-sibling::li[1]/a\",\"pageElement\": \"//div[div/div/@class='img-box cover-md']\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AVPRO\",\"example\": \"https://avpro.cc/videos/category/847?page_id=1\",\"url\": \"^https?://avpro\\\\.cc/\",\"nextLink\": \"a[title='Next Page']\",\"pageElement\": \".videos-latest-list>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AVPRO - 搜索\",\"example\": \"https://avpro.cc/search?keyword=%E7%BE%8E%E5%A5%B3&page_id=1\",\"url\": \"^https?://avpro\\\\.cc/search\",\"nextLinkByUrl\": [\"(keyword=[^&]+)(&page_id=(\\\\d+))?$\",\"$1&page_id={($3.0||1)+1}\",\"li.active+li>a:not([title='Last Page']\"],\"pageElement\": \".videos-latest-list>*\",\"replaceElement\": \".pagination,.showing_pages\",\"pageAction\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let as=document.querySelectorAll('a.waves-effect:not([title])');let ls=location.search.replace(/&page_id=\\\\d+/,'');as.forEach(a=>{let p=a.innerText;let ap=ls+'&page_id='+p;a.href=ap;a.removeAttribute('onclick')});let fp=ge(`a[title='First Page']`);fp.href=ls;fp.removeAttribute('onclick');let cp=ge('li.active>a').innerText;let app=ge(`a[title='Previous Page']`);if(app!=null){let pp=cp-1;app.href=ls+'&page_id='+pp;app.removeAttribute('onclick')}let np=ge('li.active+li>a').innerText;let anp=ge(`a[title='Next Page']`);if(anp!=null){anp.href=ls+'&page_id='+np;anp.removeAttribute('onclick')}let lp=ge('.showing_pages').innerText;let match=lp.match(/of (\\\\d+)/);let alp=ge(`a[title='Last Page']`);alp.href=ls+'&page_id='+match[1];alp.removeAttribute('onclick')},1000)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"AV RBO\",\"example\": \"https://avbro.top/index.php/vod/type/id/12.html\",\"url\": \"^https?://avbro\\\\.top/index\\\\.php/vod/\",\"nextLink\": \".page>li.active+li>a\",\"pageElement\": \".vodlist.clearfix\",\"replaceElement\": \".page\",\"pageAction\": \"document.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"JAVDAY\",\"example\": \"https://javday.tv/category/uncensored-leaked/\",\"url\": \"^https?://javday\\\\.tv/(category|search)/\",\"nextLink\": \".layui-laypage-next\",\"pageElement\": \".videoGroup .video-wrapper .col-style.loaded\",\"replaceElement\": \"div.av\",\"pageBar\": 0,\"from\": 2},{\"name\": \"fanxxx.net\",\"example\": \"https://fanxxx.net/\",\"url\": \"^https?://fanxxx\\\\.net/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".video-list\",\"replaceElement\": \".pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"3xchina.net\",\"example\": \"https://3xchina.net/category/chinese-av/\",\"url\": \"^https?://3xchina\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".videos-list>article\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"愛污傳媒\",\"example\": \"https://aiwucm.com/\",\"url\": \"aiw\",\"include\": [\"//title[contains(text(),'爱污传媒')]\",\".pagination.justify-content-center\"],\"nextLink\": \"a[title='Go to next page!']\",\"pageElement\": \".grid.mx-auto.videos>.cell.video\",\"replaceElement\": \".pagination.justify-content-center\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MISSAV\",\"example\": \"https://missav.com/fc2\",\"url\": \"^https?://missav.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[div/div/a/video] | //div[div/a/img[@data-src] and contains(@class,'shadow-lg')]\",\"replaceElement\": \"nav.flex\",\"pageBar\": 0,\"from\": 2},{\"name\": \"SpankBang\",\"example\": \"https://jp.spankbang.com/trending_videos/\",\"url\": \"^https?://([a-z]{2}\\\\.)?spankbang\\\\.com/\",\"pinUrl\": true,\"nextLink\": \".next:not(.disabled)>a,a.next\",\"pageElement\": \".video-list .video-item[id],#pornstars ul.results li\",\"replaceElement\": \".pagination\",\"pageAction\": \"image_rotate('.video-rotate .thumb')\",\"pageBar\": 0,\"from\": 2},{\"name\": \"New Videos\",\"example\": \"https://watchporn.to/latest-updates/\",\"url\": \"^https?://watchporn\\\\.to/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".list-videos\",\"replaceElement\": \".pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='main.min.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"from\": 2},{\"name\": \"xstarshub\",\"example\": \"https://xstarshub.com/\",\"url\": \"^https?://xstarshub.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-list>article\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Femdom\",\"example\": \"https://femdomup.net/lastnews/\",\"url\": \"^https?://femdomup\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \"article.shortstory\",\"replaceElement\": \".navigation\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='cat.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Mixfemdomcc\",\"example\": \"https://mixfemdomcc.com/lastnews/\",\"url\": \"^https?://mixfemdomcc.com/\",\"nextLink\": \".nnext>a\",\"pageElement\": \".gray-block\",\"replaceElement\": \".basenavi\",\"pageAction\": \"eval(document.querySelector('.gray-block>script').innerHTML)\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Jerk-Off Instruction\",\"example\": \"https://joi-me.com/lastnews/\",\"url\": \"^https?://joi-me\\\\.com\",\"action\": \"1\",\"waitElement\": [\"article[style]\"],\"nextLink\": \".page_next>a\",\"pageElement\": \"#container\",\"replaceElement\": \".navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"U9A9\",\"example\": \"https://u9a9.net/\",\"url\": \"^https?://u9a9\\\\.[a-z]{2,3}\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"table>tbody>tr\",\"replaceElement\": \"nav>.pagination\",\"from\": 2},{\"name\": \"Nyaa\",\"example\": \"https://sukebei.nyaa.si/\",\"url\": \"^https?://(sukebei\\\\.)?nyaa\\\\.si/\",\"nextLink\": \"a[rel='next'], li.next>a\",\"pageElement\": \"table.torrent-list>tbody>tr\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"極品性感美女 - 分類\",\"example\": \"https://www.xgmn01.com/Xiuren/\",\"url\": \"^https?://[^/]+/\\\\w+/\",\"include\": [\"body>.container>.content-wrap>.content>.speedbar+.widget-title\",\".widget-title+.pagination\",\"//div[@class='content']//a[text()='极品性感美女']\"],\"nextLink\": \".current+a\",\"pageElement\": \".widget-title\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-15px !important}\",\"from\": 2},{\"name\": \"極品性感美女 - 看圖\",\"example\": \"https://www.xgmn01.com/Xiuren/Xiuren23112.html\",\"url\": \"^https?://[^/]+/\\\\w+/\\\\w+\\\\.html\",\"include\": [\"body>section.container>div.content-wrap>div.content>article.article-content img[alt]\",\".article-content>.pagination\",\"//div[@class='content']//a[text()='极品性感美女']\"],\"action\": 1,\"nextLink\": \".current+a\",\"pageElement\": \".article-content img[alt]:not([width])\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"pageAction\": \"document.querySelectorAll('article img[alt]').forEach(img=>{img.removeAttribute('title')})\",\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".article-content img[width],.article-content br{display:none!important}\",\"from\": 2},{\"name\": \"極品性感美女 - 搜索\",\"example\": \"https://www.xgmn01.com/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://[^/]+/plus/search/index\\\\.asp\\\\?keyword=\",\"include\": \"body>.container>.container+font>font>font>.list>.list>.node+.pagination\",\"nextLink\": \".current+a\",\"pageElement\": \".node\",\"replaceElement\": \".node+.pagination\",\"css\": \".pagetual_pageBar {margin-top: -5px !important;margin-bottom: 15px !important;}\",\"from\": 2},{\"name\": \"美图乐 - 分類\",\"example\": \"https://www.meitule.cc/i/\",\"url\": \"^https?://www\\\\.meitule\\\\.cc/\",\"pageElement\": \".list-item\",\"replaceElement\": \".page\",\"css\": \".list-img img{opacity:1!important}\",\"from\": 2},{\"name\": \"微圖坊 - 分類\",\"example\": \"https://www.v2ph.com/country/taiwan\",\"url\": \"^https?://(www\\\\.)?v2ph\\\\.(com|net|ovh)/\",\"nextLink\": \".active.page-item+li>a\",\"pageElement\": \"//div[(div/div/div/a/@class='media-cover') and contains(@class,'albums-list')]\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar {margin-top: 5px!important;}.pagetual_pageBar+div {margin-top: -8px!important;}img{opacity:1!important}\",\"from\": 2},{\"name\": \"微圖坊 - 看圖\",\"example\": \"https://www.v2ph.com/album/SSA-392\",\"url\": \"^https?://(www\\\\.)?v2ph\\\\.(com|net|ovh)/album/\",\"nextLink\": \".active.page-item+li>a\",\"pageElement\": \"div.album-photo\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"css\": \".album-photo,.photos-list img{opacity:1 !important;position:unset !important;padding:0 !important}\",\"from\": 2},{\"name\": \"女神社\",\"example\": \"https://nshens.com/，https://inewgirl.com/\",\"url\": \"^https?://(nshens\\\\.com|inewgirl\\\\.com)/\",\"include\": \".v-pagination\",\"pageElement\": \".justify-start>.col\",\"from\": 2},{\"name\": \"onejav.com - 首頁\",\"example\": \"https://onejav.com/\",\"url\": \"^https?://onejav\\\\.com/$\",\"loadMore\": \"#button-load-more\",\"from\": 2},{\"name\": \"onejav.com\",\"example\": \"https://onejav.com/new\",\"url\": \"^https?://onejav\\\\.com/(new|popular|tag|actress|search)\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \"div.card.mb-3,.columns.is-multiline\",\"replaceElement\": \"nav.pagination\",\"css\": \".pagetual_pageBar {margin-top: -10px !important;margin-bottom: 21px !important;}\",\"from\": 2},{\"name\": \"jav9999\",\"example\": \"https://jav9999.com/uded/1\",\"url\": \"^https?://jav9999\\\\.com/(1|uded|amateur|chinese|actress|wuman|search)?\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \".yps>.yp\",\"replaceElement\": \".row+.ad-list+.row.text-center.fanye>ul.text-center\",\"pageBar\": 0,\"from\": 2},{\"name\": \"肉視頻\",\"example\": \"https://rouv01.xyz/t/%E6%8E%A2%E8%8A%B1\",\"url\": \"^https?://(rouv\\\\d+|rou)\\\\.(xyz|video)/(t|v|search)\",\"pinUrl\": true,\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \".grid-cols-2>.shadow\",\"replaceElement\": \".bg-white.px-4.py-3\",\"pageBar\": 0,\"css\": \".col-span-2.md\\\\:col-span-1{display:none!important}\",\"from\": 2},{\"name\": \"肉漫屋\",\"example\": \"https://rouman5.com/books，https://rouman01.xyz/books\",\"url\": \"^https?://rouman\\\\d{1,2}\\\\.[a-z]{3}/\",\"include\": \"div[class^='pagination']\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \"ul[class^='books_list']>li\",\"replaceElement\": \"div[class^='pagination']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"肉漫屋 - 閱讀\",\"example\": \"https://rouman5.com/books/354b56da-1ab9-4909-9330-743842c5a5bf/0\",\"url\": \"^https?://rouman[0-9]{1,2}\\\\.[a-z]{3}/books/[^/]+/\",\"history\": 2,\"action\": 2,\"init\": \"document.querySelector(\\\"div[class^='id_chapterRoot']\\\").setAttribute('style','padding-right:0px!important;padding-left:0px!important;');\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \"//div[div/img[@id]]\",\"replaceElement\": \"div[class^='id_pagination']\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let p=gax(\\\"//*[@class='pagetual_pageBar']\\\");if(p.length>1){if(gax('//div[div/img[@id]]').length>0){gax(\\\"//div[div/img[@id]]/preceding-sibling::*[not(contains(@class,'id_pagination'))]\\\").forEach(e=>{e.remove()});gax('//div[div/img[@id]]')[0].remove()}gax('//iframe')[0].remove();p[0].remove()}\",\"pageBarText\": 1,\"css\": \"inIframe:nav.navbar,#__next>div[class^='footer'],.row,div[class^='id_pagination']{display:none!important}.container{padding-right:0px!important;padding-left:0px!important;max-width: 800px!important;}\",\"from\": 2},{\"name\": \"CableAV\",\"example\": \"https://cableav.tv/playlist/lk4cv1f3j1v/\",\"url\": \"^https?://cableav\\\\.tv/\",\"nextLink\": \"span.current+a\",\"pageElement\": \".blog-items>article\",\"replaceElement\": \".wp-pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"HPJAV\",\"example\": \"https://hpav.tv/ja/category/uncensored\",\"url\": \"^https?://(hpav|hpjav)\\\\.tv/\",\"init\": \"document.querySelectorAll('img[data-original]').forEach(img=>{img.src=img.getAttribute('data-original')})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".post-list>*,.models-list>.col-md-2\",\"replaceElement\": \"nav>.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"牛C網 - 正文\",\"example\": \"https://niuc.icu/67307.html\",\"url\": \"^https?://niuc[^/]+/\\\\d+\\\\.html\",\"exclude\": \".page-nav\",\"nextLink\": \".nav.previous>a\",\"pageElement\": \".panel.card,.single-top-area.text-sm.card.mt-4\",\"replaceElement\": \".near-navigation.rounded.mt-4.py-2\",\"pageAction\": \"let ps=document.querySelectorAll('.panel.card');let last=ps.length-1;ps[last].querySelectorAll('script').forEach(e=>{eval(e.innerHTML)})\",\"css\": \"#content>main>div.content-wrap>div>h4,h4+div,#comments.comments,.post-apd{display: none!important;}.pagetual_pageBar{margin-top:0px!important;margin-bottom:1rem!important}\",\"from\": 2},{\"name\": \"牛C網 - 看圖\",\"example\": \"https://niuc.icu/78111.html\",\"url\": \"^https?://niuc[^/]+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('a.js').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"span+a\",\"pageElement\": \"div.panel-body.single.mt-2 > p\",\"replaceElement\": \".page-nav\",\"css\": \".alignnone,p{margin:0!important}.post-apd{display: none!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"牛C網 - 列表\",\"example\": \"https://niuc.icu/sex\",\"url\": \"^https?://niuc[^/]+/(blog|sex|pornhub|apps)\",\"init\": \"document.querySelectorAll('a[data-src]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`})\",\"nextLink\": \"span.current+a\",\"pageElement\": \".cat_list\",\"replaceElement\": \".posts-nav\",\"pageInit\": \"doc.querySelectorAll('a[data-src]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`})\",\"css\": \".pagetual_pageBar{margin-top:-4px!important}#search+div.row.mb-4,#content>.slide-blog.mb-4{display:none!important}\",\"from\": 2},{\"name\": \"麻豆社,草麻豆\",\"example\": \"https://madou.club/，https://xxxmadou.com/\",\"url\": \"^https?://(madou|xxxmadou|)\\\\.(club|com)/\",\"loadMore\": \".ias_trigger>a\",\"from\": 2},{\"name\": \"麻豆村\",\"example\": \"https://madoucun.com/\",\"url\": \"^https?://madoucun\\\\.com/\",\"include\": \".hl-page-wrap\",\"pageElement\": \".hl-list-item\",\"replaceElement\": \".hl-page-wrap\",\"pageInit\": \"doc.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"from\": 2},{\"name\": \"XVIDEOS\",\"example\": \"https://www.xvideos.com/\",\"url\": \"^https?://www\\\\.(xvideos|xnxx)\\\\.com/\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1]/a\",\"pinUrl\": true,\"pageElement\": \".mozaique.cust-nb-cols\",\"replaceElement\": \".pagination\",\"pageAction\": \"xv.thumb_block_initiator.init_listing()\",\"from\": 2},{\"name\": \"Pornhub\",\"example\": \"https://cn.pornhub.com/\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/\",\"exclude\": [\".photoAlbumListContainer\",\"#albumListResults\",\".photosAlbumsListing\",\".albumList\",\".centerImage img[alt]\"],\"pinUrl\": true,\"action\": 1,\"nextLink\": \".page_next:not(.disabled)>a\",\"pageElement\": \"#singleFeedSection>.pcVideoListItem,#videoCategory>.pcVideoListItem,#videoSearchResult>.pcVideoListItem,.videoList,.homeSection\",\"replaceElement\": \".paginationGated\",\"from\": 2},{\"name\": \"PornHub album\",\"example\": \"https://cn.pornhub.com/albums，https://cn.pornhub.com/album/10042641\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/album\",\"pinUrl\": true,\"nextLink\": \".page_next:not(.disabled)>a\",\"pageElement\": \".photoAlbumListContainer,#albumListResults>*,.photosAlbumsListing,.albumList>*\",\"replaceElement\": \".paginationGated\",\"pageInit\": \"doc.querySelectorAll('.js_lazy_bkg').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.bkg}')`})\",\"lazyImgSrc\": \"data-thumb_url\",\"pageBar\": 0,\"from\": 2},{\"name\": \"PornHub photo\",\"example\": \"https://cn.pornhub.com/photo/825175581\",\"url\": \"^https?://[a-z]{2,3}\\\\.pornhub\\\\.com/photo/\\\\d+\",\"init\": \"let a=document.querySelector('.centerImage img[alt]').parentNode;a.outerHTML=a.innerHTML;\",\"nextLink\": \".arrowRight\",\"stopSign\": [[\".itemCount\",\"(\\\\d+)$\"],[\".itemCount\",\"^(\\\\d+)\"]],\"pageElement\": \".centerImage img[alt]\",\"replaceElement\": \".arrowLeft,.arrowRight,.thumbSliderButtons,.thumbSliderContent,.itemCount\",\"pageBar\": 0,\"css\": \".arrowLeft,.arrowRight{display:none!important}#photoImageSection img{margin:0!important}\",\"from\": 2},{\"name\": \"PicHunter\",\"example\": \"https://www.pichunter.com/\",\"url\": \"^https?://www\\\\.pichunter\\\\.com/\",\"enable\": 0,\"from\": 2},{\"name\": \"Porned Up\",\"example\": \"https://pornedup.com/\",\"url\": \"^https?://pornedup.com/pics/\\\\d+/[^/]+/\",\"nextLink\": \"a.control.next\",\"pageElement\": \"div.main\",\"from\": 2},{\"name\": \"YouPorn\",\"example\": \"https://www.youporn.com/recommended/\",\"url\": \"^https?://www\\\\.youporn\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"li.current+li>a\",\"pageElement\": \".full-row-thumbs>[data-espnode='videobox'],.channelLists .full-row-channel,.all-erotica-section>.erotica-box,.fifteen-column .porn-star-list\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"RedTube\",\"example\": \"https://www.redtube.com/hot?cc=us\",\"url\": \"^https?://www\\\\.redtube\\\\.com/\",\"exclude\": \"#trending_country_section\",\"nextLink\": \"#wp_navNext\",\"pageElement\": \".videoblock_list:not([id*='_vid_']):not([id*='_premium_']), .content_limit>ul>li.channel-box\",\"replaceElement\": \"#w_pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='default-redtube.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"Tube8\",\"example\": \"https://www.tube8.com/newest.html\",\"url\": \"^https?://[a-z]{2,3}\\\\.tube8\\\\.com/\",\"nextLink\": \"#pagination_next\",\"pageElement\": \"#category_video_list .video_box, #result_container>.video_box, .sectionWrapper .video_box\",\"replaceElement\": \"#pagination\",\"lazyImgSrc\": \"data-thumb\",\"pageBar\": 0,\"css\": \"#home_page_wrapper>.sectionWrapper:nth-last-child(-n+3) {display: none;}\",\"from\": 2},{\"name\": \"Thumbzilla\",\"example\": \"https://www.thumbzilla.com/newest\",\"url\": \"^https?://www\\\\.thumbzilla\\\\.com/\",\"nextLink\": \".page_next>a\",\"pageElement\": \".responsiveListing>li:not([id]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"91Porn\",\"example\": \"http://91porn.com/index.php\",\"url\": \"^https?://(0118\\\\.)?(91porn|workarea7)\\\\.(com|live)/\",\"nextLink\": \"//a[text()='»']\",\"pageElement\": \".row .row>div\",\"replaceElement\": \"#paging\",\"pageBar\": 0,\"from\": 2},{\"name\": \"色色啦\",\"example\": \"https://www.seselah.com/\",\"url\": \"^https?://www\\\\.seselah\\\\.com/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.classList.add('loaded');e.previousElementSibling.setAttribute('srcset',e.previousElementSibling.getAttribute('data-srcset'))})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a/div/picture]\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.classList.add('loaded');e.previousElementSibling.setAttribute('srcset',e.previousElementSibling.getAttribute('data-srcset'))})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"xHamster\",\"example\": \"https://zh.xhamster.com/newest\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/\",\"exclude\": \".fotorama__img\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".thumb-list\",\"replaceElement\": \".pager-section\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.thumb-list');let last=ps.length-1;ps[last].querySelectorAll('a[data-previewvideo]').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('video');v.setAttribute('loop','loop');v.setAttribute('autoplay','autoplay');v.setAttribute('playsinline','playsinline');v.setAttribute('webkitplaysinline','webkitplaysinline');v.setAttribute('src',a.getAttribute('data-previewvideo'));v.setAttribute('class','thumb-image-container__video');v.setAttribute('eid1','156');a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('video').remove()}})\",\"from\": 2},{\"name\": \"xHamster pornstars\",\"example\": \"https://zh.xhamster.com/pornstars\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/pornstars\",\"nextLink\": \"li.next>a\",\"pageElement\": \".thumb-container\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster creators\",\"example\": \"https://zh.xhamster.com/creators\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/creators\",\"nextLink\": \"li.next>a\",\"pageElement\": \".best-list-block>.width-wrap>.thumb-container\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster channels\",\"example\": \"https://zh.xhamster.com/channels\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/channels\",\"nextLink\": \"li.next>a\",\"pageElement\": \".best-list-block>.width-wrap>.channels-thumbs\",\"replaceElement\": \".pager-section\",\"rate\": 3,\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster photos\",\"example\": \"https://zh.xhamster.com/photos\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos\",\"nextLink\": \"li.next>a\",\"pageElement\": \".thumb-list.gallery.thumb-list--sidebar\",\"replaceElement\": \".pager-section\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"xHamster gallery1 在清單頁面載入大圖\",\"example\": \"https://zh.xhamster.com/photos/gallery/selfie-porn-pic-134-15984561，https://zh.xhamster.com/photos/gallery/selfie-porn-pic-122-15979608\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos/gallery/\",\"include\": \".gallery-list\",\"pinUrl\": true,\"init\": \"let F=new DocumentFragment();window.initials.photosGalleryModel.photos.forEach(e=>{let a=document.createElement('a');a.href=e.pageURL;let img=new Image();img.src=e.imageURL;a.appendChild(img);F.appendChild(a)});let E=document.querySelector('.gallery-list');E.innerHTML='';E.appendChild(F);\",\"action\": 1,\"waitElement\": [\"\",\".image-thumb:not([style])\"],\"nextLink\": \".next>a[href^='http']\",\"pageElement\": \".gallery-list\",\"replaceElement\": \".pager-section>[data-sync]\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/initials/)>-1).innerHTML;let imgData=eval(code).photosGalleryModel.photos;let F=new DocumentFragment();imgData.forEach(e=>{let a=document.createElement('a');a.href=e.pageURL;let img=new Image();img.src=e.imageURL;a.appendChild(img);F.appendChild(a)});let E=doc.querySelector('.gallery-list');E.innerHTML='';E.appendChild(F);\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".gallery-list img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"xHamster gallery2\",\"example\": \"https://zh.xhamster.com/photos/gallery/15979608/513740284\",\"url\": \"^https?://([a-z]{2}\\\\.)?xhamster\\\\.com/photos/gallery/\",\"exclude\": \".gallery-list\",\"nextLink\": \".fotorama__arr--next\",\"stopSign\": [[\".photo-amounts-info\",\"^(\\\\d+)\"],[\".photo-amounts-info\",\"(\\\\d+)$\"]],\"pageElement\": \".fotorama__active>img\",\"replaceElement\": \".gallery-thumbs,.photo-amounts-info\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#photo_slider *{overflow: initial !important;position: initial !important;}.fotorama__stage{height:auto!important;}.fotorama__loaded--img:not(.fotorama__active){display:none!important}.fotorama__img {max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"EPORNER\",\"example\": \"https://www.eporner.com/\",\"url\": \"^https?://[a-z]{2,3}\\\\.eporner\\\\.com/\",\"nextLink\": \".nmnext\",\"pageElement\": \"#vidresults>[id],.photosgrid,main>.mbprofile\",\"replaceElement\": \".numlist2\",\"pageAction\": \"EPtbnsStandardRebind()\",\"css\": \".pagetual_pageBar{margin-top:-15px!important}.photosgrid+.pagetual_pageBar{margin-top:10px!important}.mbprofile+.pagetual_pageBar{margin-top:0px!important}.mbphoto2+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"EPORNER Photo\",\"example\": \"https://www.eporner.com/photo/02USX1vSH4e/8/\",\"url\": \"^https?://[a-z]{2,3}\\\\.eporner\\\\.com/photo/\",\"init\": \"let img = document.querySelector('.photohref>img[alt]');img.src = img.parentNode.href;\",\"nextLink\": \"#photobitrighta\",\"pageElement\": \"#gridphoto>.photohref,#gridphoto>.mainphoto\",\"pageInit\": \"let img = doc.querySelector('.photohref>img[alt]');img.src = img.parentNode.href;\",\"pageAction\": \"document.querySelectorAll('.photohref').forEach(e=>{e.outerHTML=e.innerHTML})\",\"replaceElement\": \"#photobitlefta,#photobitrighta\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#photobitlefta,#photobitrighta{display:none!important}#gridphoto *{overflow: initial !important;position: initial !important;}img[alt]{max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"YouJizz\",\"example\": \"https://www.youjizz.com/\",\"url\": \"^https?://www\\\\.youjizz\\\\.com/\",\"action\": 1,\"nextLink\": \".pagination-next\",\"pageElement\": \"//div[div[@class='video-thumb']]\",\"replaceElement\": \".pagination, .mobilePager\",\"pageInit\": \"doc.querySelectorAll('video[preload]').forEach(e=>{e.src=e.parentNode.getAttribute('data-clip')})\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let ps=gax(\\\"//div[div[@class='video-thumb']]\\\");let last=ps.length-1;ps[last].querySelectorAll('a.frame.video').forEach(a=>{a.onmouseenter=e=>{let v=a.querySelector('video');v.style='';v.setAttribute('loop','')};a.onmouseleave=e=>{let v=a.querySelector('video');v.style.display='none';v.removeAttribute('loop')}})\",\"from\": 2},{\"name\": \"DaftSex - 首頁\",\"example\": \"https://daftsex.com/\",\"url\": \"^https?://daftsex\\\\.com/$\",\"loadMore\": \".more\",\"from\": 2},{\"name\": \"DaftSex - other\",\"example\": \"https://daftsex.com/browse\",\"url\": \"^https?://daftsex\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".video-item\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('.video-thumb').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.thumb}')`})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"ACG RW\",\"example\": \"https://www.acgrw.net/category/lifan/\",\"url\": \"^https?://www\\\\.acgrw\\\\.net/\",\"nextLink\": \"a.next\",\"pageElement\": \".uk-animation-slide-bottom-small\",\"replaceElement\": \".nav-links\",\"pageInit\": \"doc.querySelectorAll('.media-content.scrollLoading:not(.ojbk)').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.xurl}')`;div.classList.add('ojbk');div.removeAttribute('data-xurl')})\",\"from\": 2},{\"name\": \"Latino Hentai\",\"example\": \"https://latinohentai.com/\",\"url\": \"^https?://latinohentai\\\\.com/\",\"nextLink\": \".current+a\",\"pageElement\": \".items\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"Hentai Anime Zone / HentaiDLs / Hentai-Hot\",\"example\": \"https://hentaianimezone.com/，https://hentaidls.com/，https://hentai-hot.com/\",\"url\": \"^https?://(hentaianimezone|hentaidls|hentai-hot)\\\\.com/\",\"nextLink\": \".navigation>span+a,.nav-links>span.current+a,.pagi-nav span.pnext>a\",\"pageElement\": \"#dle-content>article,.writemag-compact-post-wrapper,.skladchik-item\",\"replaceElement\": \".navigation,.nav-links,.pagi-nav\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Avbebe\",\"example\": \"https://avbebe.com/\",\"url\": \"^https?://avbebe\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".jeg_block_container\",\"replaceElement\": \".jeg_block_navigation\",\"css\": \".pagetual_pageBar{margin-top:-16px!important}\",\"from\": 2},{\"name\": \"H 次元\",\"example\": \"https://h-ciyuan.com/\",\"url\": \"^https?://h-ciyuan\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".gridview-posts\",\"replaceElement\": \".nav-links\",\"from\": 2},{\"name\": \"JavDB\",\"example\": \"https://javdb.com/\",\"url\": \"^https?://javdb\\\\.com/\",\"nextLink\": \"a.pagination-next\",\"pageElement\": \".movie-list, #videos, #makers, #series, #actors>div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:5px!important}\",\"from\": 2},{\"name\": \"JavBus / AVMOO\",\"example\": \"https://www.javbus.com/，https://avmoo.click/tw\",\"url\": \"^https?://(www\\\\.)?(javbus|avmoo)\\\\.(com|click)/\",\"nextLink\": \"#next, .pagination>.active+li>a\",\"pageElement\": \"#waterfall>.item\",\"replaceElement\": \".pagination\",\"css\": \"#waterfall>.item {position: static !important; float: left !important; height: 400px !important;}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Javhd.today\",\"example\": \"https://javhd.today/\",\"url\": \"^https?://javhd\\\\.today/\",\"nextLink\": \".pagination>li.active+li>a\",\"pageElement\": \"ul.videos,ul.playlists,div.models,[id^='blog']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}\",\"from\": 2},{\"name\": \"JavDisk\",\"example\": \"https://javdoe.to/，https://javfinder.li/\",\"url\": \"^https?://(javdoe|javfinder)\\\\.[a-z]{2,3}/\",\"action\": 1,\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".videos-list\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"porn78.info\",\"example\": \"https://porn78.info/，https://nyaa.porn78.info/\",\"url\": \"^https?://(nyaa\\\\.)?porn78.info/\",\"action\": 1,\"nextLink\": \".next>a\",\"pageElement\": \"#portfolio>li\",\"replaceElement\": \".general-pagination\",\"from\": 2},{\"name\": \"Porn87\",\"example\": \"https://porn87.com/\",\"url\": \"^https?://porn87\\\\.com/\",\"nextLink\": \".pagination-next:not(.mobile_pagination)>a\",\"pageElement\": \".column:not(.native_ads)\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"GGJAV\",\"example\": \"https://ggjav.com/main/uncensored\",\"url\": \"^https?://ggjav\\\\.com/\",\"nextLink\": \".pager>a:last-child[href]\",\"pageElement\": \".item.columns:not(.native_ads), .columns.model_chunk\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \"Avgle & AV01\",\"example\": \"avgle.com，www.av01.tv\",\"url\": \"^https?://(www\\\\.)?(avgle|av01)\\\\.(com|tv)/\",\"nextLink\": \".prevnext\",\"pageElement\": \"//div[(div/div/a/div/@class='thumb-overlay') and @class='row']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-9px!important}\",\"from\": 2},{\"name\": \"Jav223\",\"example\": \"https://www.jav223.com/?m=video_list*5*1\",\"url\": \"^https?://www\\\\.jav223\\\\.com/\",\"action\": 1,\"nextLinkByJs\": \"let next = doc.querySelector('span.curwrpage+a'); if (next) return location.href.replace(/\\\\d+$/,'') + next.innerText\",\"pageElement\": \".video-content\",\"waitElement\": [\"span.curwrpage\"],\"replaceElement\": \"#wr-page\",\"pageAction\": \"let ge=e=>document.querySelector(e);let url=location.search.replace(/\\\\d+$/,'');setTimeout(()=>{let as=document.querySelectorAll('a.wrpage_number');as.forEach(a=>{a.href=url+a.innerText});let hp=ge('a.wr_pagefirst');if(hp){hp.href=url+'1'}let ep=ge('a.wr_pageend');if(ep){let epn=ge('span.wr_pagefirst').innerText.match(/(\\\\d+)/)[1];ep.href=url+epn}let pp=ge('a.wr_pagepre');if(pp){let cp=ge('span.curwrpage').innerText;let cpn=cp-1;pp.href=url+cpn}let np=ge('a.wr_pagenext');if(np){let npn=ge('span.curwrpage+a').innerText;np.href=url+npn}},1000)\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"CCAVB\",\"example\": \"https://ccavb.tv/category/%E6%9C%80%E6%96%B0%E4%B8%8A%E5%82%B3\",\"url\": \"^https?://ccavb\\\\.tv/\",\"init\": \"document.querySelectorAll('div.__mantine-ref-control').forEach(div=>{div.setAttribute('onclick','setTimeout(()=>{location.reload()}, 200)')})\",\"nextLinkByJs\": \"let next=doc.querySelector('[aria-current]+button[tabindex]');if(next)return location.origin+location.pathname.replace(/\\\\/\\\\d+$/,'')+'/'+next.textContent;\",\"pageElement\": \"//div[div/a/div/figure]\",\"insert\": \"//div[div/div/div/a/div/figure][2]\",\"insertPos\": 2,\"replaceElement\": \"[role='navigation']\",\"pageAction\": \"let ge=e=>document.querySelector(e);let url=location.pathname.replace(/\\\\/\\\\d+$/,'');setTimeout(()=>{let bs=document.querySelectorAll(`button[tabindex='0']`);bs.forEach(button=>{let link=url+'/'+button.textContent;let lh=`location.href='${link}'`;button.setAttribute('onclick',lh)});let pb=ge(`button[aria-disabled='false']:first-child`);let nb=ge(`button[aria-disabled='false']:last-child`);let cp=ge('[aria-current]').textContent;let pn=cp-1;if(pb){let link=url+'/'+pn;let lh=`location.href='${link}'`;pb.setAttribute('onclick',lh)}if(nb){let nn=ge('[aria-current]+button[tabindex]').textContent;let link=url+'/'+nn;let lh=`location.href='${link}'`;nb.setAttribute('onclick',lh)}},1000)\",\"css\": \"[style='margin-top:20px'],[style='margin-top: 20px;'],.mantine-SimpleGrid-root[style^='margin-bottom']>div:nth-child(1),[style='width:300px;height:190px;margin:0 auto'],[style='width: 300px; height: 190px; margin: 0px auto;'],#__next>.mantine-Stack-root{display:none!important}.mantine-Container-root .mantine-Image-image{margin: 0 auto !important;width: auto!important;height: 210px!important}\",\"pageBar\": 0,\"from\": 2},{\"name\": \"258PORN\",\"example\": \"http://www.258porn.com/list/%E6%97%A5%E9%9F%93%E7%84%A1%E7%A2%BC/0.html\",\"url\": \"^https?://www\\\\.258porn\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpts-wrapper\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-30px!important}\",\"from\": 2},{\"name\": \"MOVIEFFM\",\"example\": \"https://www.movieffm.net/category/hd-uncensored/\",\"url\": \"^https?://www\\\\.movieffm\\\\.net/\",\"nextLink\": \"span.current+a\",\"pinUrl\": true,\"pageElement\": \"#archive-content,.items,.blog-list-items\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-25px!important}\",\"from\": 2},{\"name\": \"爱漫福利社\",\"example\": \"https://jav889.xyz/\",\"url\": \"^https?://jav889\\\\.[^/]+/\",\"nextLink\": \"//li[span/@class='page-numbers current']/following-sibling::li[1]/a\",\"pageElement\": \".posts-wrapper\",\"replaceElement\": \".page-numbers\",\"css\": \".pagetual_pageBar{margin-top:-16px!important}\",\"from\": 2},{\"name\": \"JAVMOST\",\"example\": \"https://www.javmost.cx/category/uncensor/\",\"url\": \"^https?://\\\\w+\\\\.javmost\\\\.[a-z]{2,3}/\",\"nextLink\": \".pagination>li.active+li>a\",\"pageElement\": \"#content-update\",\"replaceElement\": \".pagination,#nav-page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"BuzzAV\",\"example\": \"https://www.buzzav.com/videos\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/(videos|albums)\",\"nextLink\": \".page-item.active+li>a\",\"pageElement\": \".content-left>.row.content-row\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"BuzzAV - album\",\"example\": \"https://www.buzzav.com/album/260/jk\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/album/\\\\d+\",\"nextLink\": \".page-item.active+li>a\",\"pageElement\": \".row>.col-12>.row.content-row\",\"replaceElement\": \".pagination,.well-info\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BuzzAV - photo\",\"example\": \"https://www.buzzav.com/photo/3972/\",\"url\": \"^https?://www\\\\.buzzav\\\\.com/photo/\\\\d+\",\"init\": \"document.querySelector('.thumb-overlay>a').removeAttribute('href');\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".img-responsive-mw\",\"replaceElement\": \".float-right\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"JavDove 番号鸽\",\"example\": \"https://www.javdove.com/videos/uncensored\",\"url\": \"^https?://www\\\\.javdove\\\\.com/\",\"nextLink\": \".prevnext[rel='next']\",\"pageElement\": \".row>.col-video\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"85TUBE\",\"example\": \"https://85tube.com/latest-updates/\",\"url\": \"^https?://85tube\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \"#list_videos_most_recent_videos_items,#list_videos_latest_videos_list_items,#list_videos_common_videos_list_items\",\"replaceElement\": \".pagination\",\"pageAction\": \"let url=document.querySelector(\\\"script[src*='main.min.js']\\\").src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"css\": \".pagetual_pageBar{margin-top:10px!important}\",\"from\": 2},{\"name\": \"AV皇8影城\",\"example\": \"https://www.royal888.xyz/news\",\"url\": \"^https?://www\\\\.royal888\\\\.xyz/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".recommended-grids>.resent-grid\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"AV6K\",\"example\": \"https://av6k.com/rihanwuma/\",\"url\": \"^https?://av6k\\\\.com/(rihanwuma|rihanyouma|jxny|chinese-av-porn|surenzipai|oumeiwuma|chengrendongman|plus)\",\"nextLink\": \".thisclass+li>a,td[width='50']>a\",\"pageElement\": \".listA:not(.clickadulist)\",\"replaceElement\": \".pages_c\",\"from\": 2},{\"name\": \"141 JAV\",\"example\": \"https://www.141jav.com/new\",\"url\": \"^https?://www\\\\.(141jav|141ppv)\\\\.com/\",\"nextLink\": \"a.pagination-next\",\"pageElement\": \"body>.container>.card, body>.container>.columns\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;margin-bottom:20px!important;}\",\"from\": 2},{\"name\": \"JavBooks\",\"example\": \"https://javbooks.com/，https://jmvbt.com/\",\"url\": \"^https?://(javbooks|jmvbt)\\\\.com/\",\"nextLink\": \"span.pageback>a\",\"pageElement\": \".Po_topic, .Po_u_topic\",\"replaceElement\": \".PageBar\",\"css\": \".pagetual_pageBar{margin-top:10px!important;margin-bottom:2px!important}\",\"from\": 2},{\"name\": \"JAV Library\",\"example\": \"https://www.javlibrary.com/\",\"url\": \"^https?://www\\\\.javlibrary\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".video, table.pubgroup>tbody>tr:not(#header), table.post\",\"replaceElement\": \".page_selector\",\"from\": 2},{\"name\": \"JavTorrent\",\"example\": \"ijavtorrent.com，projectjav.com\",\"url\": \"^https?://(ijavtorrent|projectjav)\\\\.com/\",\"nextLink\": \"a.btn-secondary+a\",\"pageElement\": \".movie-list, .articles-list, .actress-list\",\"replaceElement\": \"//a[contains(@class, 'gonext')]/parent::div\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"UraakaList\",\"example\": \"https://uraakalist.com/\",\"url\": \"^https?://uraakalist\\\\.com/\",\"action\": 1,\"nextLink\": \"a.next_page\",\"pageElement\": \".image-list,.prof-list\",\"replaceElement\": \"#pagenation\",\"css\": \".pagetual_pageBar{margin-top:-4px!important;margin-bottom:10px!important}.prof-list+.pagetual_pageBar{margin-top:10px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \"Sex Nori\",\"example\": \"https://www.sexnori26.me/bbs/board.php?bo_table=av_korea\",\"url\": \"^https?://www\\\\.sexnori(\\\\d+)?\\\\.me/\",\"nextLink\": \"a.next\",\"pageElement\": \".gallery-item\",\"replaceElement\": \".eb-pagination\",\"css\": \".pagetual_pageBar{margin-top:12px!important}.gallery-item {position: static !important;float: left !important;}\",\"from\": 2},{\"name\": \"俺の3Dエロ動画\",\"example\": \"https://oreno3d.com/\",\"url\": \"^https?://oreno3d\\\\.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".g-main-grid>article\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"FC2 电子市场\",\"example\": \"https://adult.contents.fc2.com/search/?q=&genre=30&type=1\",\"url\": \"^https?://adult\\\\.contents\\\\.fc2\\\\.com/search\",\"nextLink\": \"span.items+a[data-link-name='pager']\",\"pageElement\": \".c-cntCard-110-f\",\"replaceElement\": \".c-pager-101\",\"pageBar\": 0,\"from\": 2},{\"name\": \"hentai.tv\",\"example\": \"https://hentai.tv/\",\"url\": \"^https?://hentai\\\\.tv/(trending|genre)\",\"nextLink\": \"button[data-next]\",\"pageElement\": \"[data-results]\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"CartoonPornVideos\",\"example\": \"https://www.cartoonpornvideos.com/popular\",\"url\": \"^https?://www\\\\.cartoonpornvideos\\\\.com/\",\"nextLink\": \".next\",\"pageElement\": \".thumb-list>div\",\"replaceElement\": \".content>.pagination\",\"from\": 2},{\"name\": \"成人色情分享論壇\",\"example\": \"https://www.rouav.com/\",\"url\": \"^https?://www\\\\.rouav\\\\.com/(home)?\",\"nextLink\": \".active+a\",\"pageElement\": \"//div[not(div/@id='loading') and @class='box']\",\"replaceElement\": \".pages\",\"lazyImgSrc\": \"img\",\"pageBar\": 0,\"from\": 2},{\"name\": \"成人色情分享論壇\",\"example\": \"https://www.rouav.com/magnet/index.html\",\"url\": \"^https?://www\\\\.rouav\\\\.com/magnet\",\"nextLink\": \".active+a\",\"pageElement\": \"//div[@class='magnet']\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin-top:-17px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"JieAV\",\"example\": \"www.jieav.com，www.qinav.com，www.qinimg.com，www.yinmh.com，www.txtxi.com，www.dnaav.com，www.jiedm.com，www.tasexy.com，www.feiav.com，www.liliav.com，www.keaiav.com，www.miliav.com，www.huiav.com，www.heihd.com，www.pornff.com，www.comfff.com\",\"url\": \"^https?://(www|cn|jp|kr|ru)\\\\.(jieav|qinav|qinimg|yinmh|txtxi|dnaav|jiedm|tasexy|feiav|liliav|keaiav|miliav|huiav|heihd|pornff|comfff)\\\\.(com|xyz|top)/\",\"nextLink\": \"a.active+a\",\"pageElement\": \".list_box>ul:not([id]):not([class]),.site+.actor_box>ul\",\"replaceElement\": \".pages\",\"lazyImgSrc\": \"img\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 1,\"pageInit\": \"doc.querySelectorAll(`.image>img[img^='h']`).forEach(img=>{img.src=img.getAttribute('img');img.setAttribute('img','')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NEXE\",\"example\": \"https://nehen.xyz/\",\"url\": \"^https?://[^/]+/(\\\\?forwarding.+|best.+|search.+|index.+|amateur.+|danmaku.*|keywords.*)?$\",\"pinUrl\": true,\"include\": \"//title[contains(text(),'NEXE')]\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1][not(@title)]/a\",\"pageElement\": \".margin-top-sm>.hex,.hot-keywords\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('div.media[data-thumb]').forEach(div=>{div.style.backgroundImage=`url('${div.dataset.src}')`;div.removeAttribute('data-src');div.classList.remove('loading');})\",\"pageAction\": \"let es=document.querySelectorAll('.margin-top-sm>.hex');if(es.length>1){let last=[...es].pop();last.querySelectorAll('div[data-thumb]').forEach(e=>{let img=new Image();img.src=e.getAttribute('data-thumb');img.onerror=()=>{e.classList.add('error')}})}\",\"css\": \".pagetual_pageBar{margin-top:0px!important}.hot-keywords+.pagetual_pageBar{margin-top:6px!important}.pagetual_pageBar+.hot-keywords{margin-top:0px!important}.padding-lr-xs.margin-tb-xs {display: none !important;}.mobile .content{padding:0!important}\",\"from\": 2},{\"name\": \"NEXE channels/models\",\"example\": \"https://nehen.xyz/models\",\"url\": \"^https?://[^/]+/(models|channels)\",\"pinUrl\": true,\"include\": \"//title[contains(text(),'NEXE')]\",\"nextLink\": \"//li[a/@class='active']/following-sibling::li[1][not(@title)]/a\",\"pageElement\": \".margin-top-sm>.hex,.padding-lr-sm>.hex\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('div.media[data-src]').forEach(div=>{div.style.width=div.dataset.width;div.style.height=div.dataset.height+'px';div.style.backgroundImage=`url('${div.dataset.src}')`;div.removeAttribute('data-src');div.removeAttribute('data-height');div.removeAttribute('data-width');div.classList.remove('loading')})\",\"css\": \"h2~.pagetual_pageBar{margin-top:-20px!important}.pagetual_pageBar{margin-top:2px!important}.padding-lr-xs.margin-tb-xs {display: none !important;}.mobile .content{padding:0!important}\",\"from\": 2},{\"name\": \"美人图 - 分類\",\"example\": \"https://meirentu.cc/group/xiuren.html\",\"url\": \"^https?://meirentu\\\\.cc/\",\"include\": \".fl_title\",\"nextLink\": \"//a[text()='下页']\",\"stopSign\": [\"ul.update_area_lists img\"],\"pageElement\": \"ul.update_area_lists\",\"replaceElement\": \"div.page\",\"css\": \".pagetual_pageBar{margin-top: -10px!important;margin-bottom: -10px!important;}.update_area_lists{margin-top: -10px!important;margin-bottom: 0px!important;}\",\"from\": 2},{\"name\": \"美人图 - 看圖\",\"example\": \"https://meirentu.cc/pic/147617207297.html\",\"url\": \"^https?://meirentu\\\\.cc/pic/\",\"include\": \".item_info\",\"init\": \"document.querySelectorAll('.content br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='下页']\",\"pageElement\": \".content img\",\"replaceElement\": \"div.page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Asianude4u - 分類\",\"example\": \"https://www.asianude4u.net/\",\"url\": \"^https?://www\\\\.asianude4u\\\\.net/\",\"action\": 1,\"pageElement\": \"#infinite-articles\",\"replaceElement\": \".wp-pagenavi\",\"css\": \".ms-item.homeimg{display:none!important}\",\"from\": 2},{\"name\": \"Fuskator- 分類\",\"example\": \"https://fuskator.com/\",\"url\": \"^https?://fuskator\\\\.com/\",\"pageElement\": \".thumblinks\",\"replaceElement\": \"td.pages\",\"from\": 2},{\"name\": \"图宅网 - 分類\",\"example\": \"https://www.tuzac.com/\",\"url\": \"^https?://www\\\\.tuzac\\\\.com/\",\"pageElement\": \".node-teaser\",\"insert\": \"#pager\",\"insertPos\": 1,\"replaceElement\": \"#pager\",\"css\": \".content-container .content{margin-right:0px!important}.ad-side-right,.footer{display:none!important}\",\"from\": 2},{\"name\": \"Chinese Beauties - 分類\",\"example\": \"https://sxchinesegirlz.one/\",\"url\": \"^https?://sxchinesegirlz\\\\.one/\",\"nextLinkByJs\": \"let next=doc.querySelector('span.current+a');if(next)return next.href.replace(/\\\\?fbclid=\\\\w+/i,'');\",\"pageElement\": \".latestPost.excerpt\",\"insert\": \".pagination\",\"insertPos\": 1,\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"COSPLAY ZIP - 分類\",\"example\": \"https://www.coszip.com/\",\"url\": \"^https?://www\\\\.coszip\\\\.com/\",\"pageElement\": \".jeg_inner_content .jeg_block_container\",\"insert\": \".jeg_block_navigation\",\"insertPos\": 1,\"replaceElement\": \".jeg_block_navigation\",\"from\": 2},{\"name\": \"绅士猫 - 分類\",\"example\": \"https://www.cos6.net/\",\"url\": \"^https?://www\\\\.cos6\\\\.net/\",\"pageElement\": \"posts.posts-item\",\"insert\": \".pagenav.ajax-pag\",\"insertPos\": 1,\"replaceElement\": \".pagenav\",\"from\": 2},{\"name\": \"萝丝派 - 分類\",\"example\": \"https://www.yylsp.com/\",\"url\": \"^https?://www\\\\.yylsp\\\\.com/\",\"pageElement\": \".posts-item.card\",\"insert\": \".pagenav.ajax-pag\",\"insertPos\": 1,\"replaceElement\": \".pagenav\",\"from\": 2},{\"name\": \"Xiutaku - 分類\",\"example\": \"https://xiutaku.com/brand/1\",\"url\": \"^https?://xiutaku\\\\.com/(\\\\w+/\\\\d+|\\\\w+)?$\",\"init\": \"document.querySelectorAll('.search-form~*,.blog~*:not([class]),.pagination~*').forEach(e=>{e.remove()});\",\"pageElement\": \".columns\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"秀人图集 - 分類\",\"example\": \"http://xiuren0.com/\",\"url\": \"^https?://xiuren0\\\\.com/\",\"init\": \"let gax=x=>{let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};gax(\\\"//div[div[a[img[contains(@data-src,'igusoft')]]]]\\\").forEach(e=>{e.remove()})\",\"pageElement\": \"//div[div[a[img[not(contains(@data-src,'igusoft.com'))]]]]\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"秀人集 / 秀人美女網 / 爱美女网 - 分類\",\"example\": \"https://www.xiurenba.cc/XiuRen/，https://www.xrmn01.cc/XiuRen/，http://www.imn5.net/XiuRen/XiuRen/\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/\",\"exclude\": [\".item_info\",\".imgwebp\"],\"nextLink\": \"//a[text()='下页']\",\"pageElement\": \"div.page+ul.update_area_lists>*,script+ul.update_area_lists>*,.excerpts>.excerpt\",\"replaceElement\": \"div.page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"秀人集 / 秀人美女網 / 爱美女网 - 看圖\",\"example\": \"https://www.xiurenba.cc/XiuRen/11496.html，https://www.xrmn01.cc/XiuRen/2022/202212158.html，http://www.imn5.net/XiuRen/XiuRen/11535.html\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/\",\"init\": \"document.querySelectorAll('br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='下页']\",\"pageElement\": \".content img,.imgwebp img\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".item_title>[id],section.container>p{display:none!important}\",\"from\": 2},{\"name\": \"秀人集 / 秀人美女網 / 爱美女网 - 搜索\",\"example\": \"https://www.xiurenba.cc/plus/search/index.asp?keyword=XiuRen，https://www.xrmn01.cc/plus/search/index.asp?keyword=XiuRen，http://www.imn5.net/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://www\\\\.(xiuren|xrmn|imn5)(\\\\w{1,2})?\\\\.[a-z]{2,3}/plus/search/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".list>.node\",\"replaceElement\": \".page\",\"pageBar\": 0,\"css\": \"section.container>p{display:none!important}\",\"from\": 2},{\"name\": \"免费私房图 - 分類\",\"example\": \"http://www.mfsft.com/gaoqing/tulie/1_1.html，http://www.ywmtw.com/yao/kantum/1_1.html\",\"url\": \"^https?://[^/]+/\",\"include\": \".pagelist a[title='尾页']\",\"init\": \"let gax=x=>{let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};gax(\\\"//div[@id='list']/ul/li[a[not(@title)] or starts-with(@id,'listmmt')]\\\").forEach(e=>{e.remove()})\",\"nextLink\": \"//div[@class='pagelist']/p/u[b]/following-sibling::a[1]\",\"pageElement\": \"//div[@id='list']/ul/li[a[@title and img[@class='lazy']]/following-sibling::div[@class='title']]\",\"replaceElement\": \".pagelist\",\"rate\": 4,\"pageBar\": 0,\"css\": \"[href^='https://www.358a.vip/'],#span_xzappsq,#span_listp,#bdssx,#listmt,#listmt2,#listmt3,#listmt4,#listmmt2,#xzappsq,#listp,#listja,.interestline~br{display:none!important}\",\"from\": 2},{\"name\": \"免费私房图 - 看圖\",\"example\": \"http://www.mfsft.com/gaoqing/photo/20221021/139363.html，http://www.ywmtw.com/yao/kantu/20240223/160249.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"#ztlui3\",\"action\": 1,\"init\": \"document.querySelectorAll('#picg a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//div[@class='page']/div[@class='pagelist']//a[text()='下一页']\",\"pageElement\": \"#picg img[alt]\",\"replaceElement\": \".page>.pagelist\",\"css\": \"#picg img:hover{transform:none !important}#picg img{max-width:100% !important;display:block !important;margin:0 auto !important;filter:blur(0px) !important}body>br,.interestline+center,center+#pic,#xzpap1,#divpsgx,#bdivpx,#divfts,#divftsp,#app+div,#xzappsq,div.bg-text,#divpsg,#divStayTopright2,#bdssy,#qrcode2,#d5tig,#pcapicb,#google_translate_element,#d5a>*:not([id]):not([class]){display:none !important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"芸能アイドルモデル女優水着画像集\",\"example\": \"https://www.mizugigurabia.com/\",\"url\": \"^https?://www\\\\.mizugigurabia\\\\.com/\",\"action\": 1,\"nextLink\": \".pn2 .page-link+a\",\"pageElement\": \".list>li\",\"replaceElement\": \".pn2\",\"css\": \".kb-l img,.kb-r{opacity:1!important}#content1>br{display:none!important}\",\"rate\": 3,\"from\": 2},{\"name\": \"劍心回憶\",\"example\": \"https://kenshin.hk/category/jnews/photoalbum/\",\"url\": \"^https?://kenshin\\\\.hk/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"div[id^=post].post\",\"replaceElement\": \".navigation\",\"from\": 2},{\"name\": \"尤美图库\",\"example\": \"https://www.umeitu.com/i/\",\"url\": \"^https?://www\\\\.umeitu\\\\.com/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".viptop~li\",\"replaceElement\": \".page_navi\",\"css\": \"img{opacity:1!important}\",\"from\": 2},{\"name\": \"Models Vibe\",\"example\": \"https://www.modelsvibe.com/albums/china/\",\"url\": \"^https?://www\\\\.modelsvibe\\\\.com/albums/\\\\w+/\",\"nextLinkByUrl\": [\"(albums/\\\\w+/)(page/(\\\\d+)/)?\",\"$1page/{$3+1}/\"],\"pageElement\": \".td_flex_block:not(.td-flex-radius),.td_block_inner.tdb-block-inner\",\"pageInit\": \"doc.querySelectorAll('span[data-img-url]').forEach(span=>{span.classList.add('td-animation-stack-type0-2');span.style.backgroundImage=`url('${span.dataset.imgUrl}')`})\",\"from\": 2},{\"name\": \"Hanime1\",\"example\": \"https://hanime1.me/search?genre=%E8%A3%8F%E7%95%AA&duration=&sort=&query=&year=&month=\",\"url\": \"^https?://hanime1\\\\.me/(search|comics)\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".home-rows-videos-wrapper>a,.content-padding-new,.comics-related-wrapper>.comic-rows-videos-div\",\"replaceElement\": \".pagination\",\"lazyImgSrc\": \"data-srcset\",\"css\": \".home-rows-videos-div{margin-bottom:10px!important;}.search-pagination{margin-top:-50px!important;}\",\"from\": 2},{\"name\": \"Hanime1 - 圖片清單檢視全部\",\"example\": \"https://hanime1.me/comic/65225\",\"url\": \"^https?://hanime1\\\\.me/comic/\\\\d+$\",\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let loop=setInterval(()=>{let b=document.querySelector(\\\"#comics-thumbnail-show-btn-wrapper:not([style*='none'])\\\");if(b){b.querySelector('#show-all-comics-btn').click()}if(!b){clearInterval(loop)}},2000)\",\"from\": 2},{\"name\": \"Hanime1 - 漫画\",\"example\": \"https://hanime1.me/comic/80357/1\",\"url\": \"^https?://hanime1\\\\.me/comic\\\\/\\\\d+\\\\/\\\\d\",\"nextLink\": \"a.comic-show-content-nav-item-wrapper.arrow-right\",\"pageElement\": \"img#current-page-image\",\"replaceElement\": \".comic-show-content-nav\",\"css\": \"#current-page-image {display: block !important; margin: 0 auto !important; max-height: calc(250vh) !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"禁漫天堂 - 分类页\",\"example\": \"https://18comic.vip/，https://18comic.org/\",\"url\": \"^https?://18comic\\\\.(vip|org)/(album|search|blogs|videos|movies|promotes)\",\"pinUrl\": true,\"init\": \"setTimeout(()=>{let c=document.querySelector('button#chk_cover');if(c){c.click()}},2000);document.querySelectorAll(`img[src*='blank.jpg'][data-original]`).forEach(img=>{img.src=img.getAttribute('data-original')})\",\"nextLink\": \"#wrapper>.container>div:not(.row)>.pagination .prevnext\",\"pageElement\": \"#wrapper>.container>.row:not(:last-of-type):not(.visible-xs)\",\"replaceElement\": \"#wrapper>.container>div:not(.row)>.pagination\",\"autoClick\": \"#chk_cover\",\"css\": \".row>[style='z-index: 0;'], .col-lg-3.col-md-3.col-sm-3.col-xs-6 {display: none !important;}\",\"from\": 2},{\"name\": \"18 禁漫 - 分類\",\"example\": \"https://www.18mh.cc/index-html-status-2\",\"url\": \"^https?://www\\\\.18mh\\\\.cc/\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \".liemh.htmls.indliemh>*\",\"replaceElement\": \".pagination\",\"lazyImgSrc\": \"data-url\",\"pageBar\": 0,\"from\": 2},{\"name\": \"18 禁漫 - 閱讀\",\"example\": \"https://www.18mh.cc/index-look-name-%E8%AB%8B%E6%BB%91%E5%85%A5%E8%A7%A3%E9%8E%96-cid-NaTcMaxcMjYO0O0O-id-619923\",\"url\": \"^https?://www\\\\.18mh\\\\.cc/index-look\",\"nextLink\": \"//div[@class='c']/a[text()='下一頁'][not(@class='n fanye')]\",\"pageElement\": \".e>img:not([style='display:none;'])\",\"replaceElement\": \".c, .b\",\"css\": \".e img {display: block; margin: 0 auto;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"lazyImgSrc\": \"data-url\",\"from\": 2},{\"name\": \"177 漫画/xxiav - 分類\",\"example\": \"www.177picyy.com，www.xxiav.com\",\"url\": \"^https?://www.(177picyy|177pica|xxiav)\\\\.com/\",\"include\": \".nav-links\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#main article\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"177 漫画/xxiav - 圖片\",\"example\": \"www.177picyy.com，www.xxiav.com\",\"url\": \"^https?://www.(177picyy|177pica|xxiav).com/\",\"init\": \"let _img='';document.querySelectorAll('img[data-lazy-src]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-lazy-src')}'>`});document.querySelector('.single-content').innerHTML=_img;\",\"include\": \".page-links\",\"nextLink\": \"//div[@class='page-links']/a[span/i[@class='be be-arrowright']]\",\"pageElement\": \".single-content\",\"replaceElement\": \".page-links\",\"pageInit\": \"let _img='';doc.querySelectorAll('img[data-lazy-src]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-lazy-src')}'>`});doc.querySelector('.single-content').innerHTML=_img;\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".single-content+.single-content{margin-top:0px!important}\",\"from\": 2},{\"name\": \"E-Hentai\",\"example\": \"http://e-hentai.org/，https://exhentai.org/\",\"url\": \"^https?://(e-hentai|exhentai)\\\\.org/\",\"nextLink\": \"//table[@class='ptt']//a[string()='>'] | id('next') | id('unext')\",\"pageElement\": \".itg>div,.itg>tbody>tr:not(:first-of-type),.gl1t, #gdt>div:not(.c), #img\",\"replaceElement\": \".ptt,.ptb,.sn,.searchnav\",\"css\": \"#img {max-width: 100% !important;height: auto !important;min-height: 400px;}\",\"from\": 2},{\"name\": \"Orzqwq\",\"example\": \"https://orzqwq.com/manga-genre/big-breasts/\",\"url\": \"^https?://orzqwq\\\\.com/\",\"action\": 1,\"nextLink\": \".nextpostslink,li.active+li>a\",\"pageElement\": \".page-content-listing.item-big_thumbnail,.chapter-images-list>.image-item\",\"replaceElement\": \".wp-pagenavi,.pagination\",\"rate\": 3,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 10,\"from\": 2},{\"name\": \"hitomi - 分類\",\"example\": \"https://hitomi.la/?page=2\",\"url\": \"^https?://hitomi\\\\.la/\",\"include\": \".page-container\",\"action\": 1,\"nextLinkByUrl\": [\"([^?]+)(\\\\?page=(\\\\d+))?$\",\"$1?page={($3.0||1)+1}\",\".page-container>ul>li:last-child>a\"],\"pageElement\": \".gallery-content>*\",\"replaceElement\": \".page-container\",\"waitElement\": [\"\",\".gallery-content[style]\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"hitomi - Gallery Info\",\"example\": \"https://hitomi.la/doujinshi/akisame-mabara-ni-natte-%E4%B8%AD%E6%96%87-2431684.html#1\",\"url\": \"^https?://hitomi\\\\.la/(cg|manga|doujinshi|gamecg)/.+\\\\.html#1$\",\"pinUrl\": true,\"css\": \"li[class^='simplePagerPage']{display: inline-block!important;}.simplePagerNav{display:none!important}\",\"from\": 2},{\"name\": \"yande\",\"example\": \"konachan.net，konachan.com，yande.re，www.sakugabooru.com\",\"url\": \"^https?://(konachan\\\\.net|konachan\\\\.com|yande\\\\.re|www\\\\.sakugabooru\\\\.com)/(post|comment)($|\\\\?|#|/search\\\\?)\",\"pageElement\": \"//li[contains(@class, 'creator-id-')]|//div[@id='comment-list']/div[@class='post']|//table[@class='highlightable']\",\"nextLink\": \"//a[@class='next_page']\",\"replaceElement\": \"#paginator\",\"pageBar\": 0,\"css\": \".javascript-hide { display: inline-block !important; }.pagetual_pageBar { display: inline-flex!important;width: 100%!important; }\",\"from\": 2},{\"name\": \"Gelbooru\",\"example\": \"gelbooru.com，tbib.org，safebooru.org，illusioncards.booru.org，rule34.xxx，hypnohub.net，xbooru.com\",\"url\": \"^https?://(illusioncards\\\\.)?(gelbooru|tbib|safebooru|booru|rule34|hypnohub|xbooru)\\\\.(com|org|xxx|net)/.+s=list\",\"nextLink\": \"a[alt='next']\",\"pageElement\": \".thumbnail-container, span.thumb\",\"replaceElement\": \"#paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Rule34\",\"example\": \"rule34hentai.net，rule34.paheal.net\",\"url\": \"^https?://rule34(hentai|\\\\.paheal)\\\\.net/\",\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".thumb\",\"replaceElement\": \"#paginator\",\"from\": 2},{\"name\": \"Danbooru\",\"example\": \"danbooru.donmai.us，e621.net\",\"url\": \"^https?://(danbooru\\\\.)?(donmai|e621)\\\\.(us|net)/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"article\",\"replaceElement\": \".paginator\",\"from\": 2},{\"name\": \"The Hentai World\",\"example\": \"https://thehentaiworld.com/?new\",\"url\": \"^https?://thehentaiworld\\\\.com/\",\"nextLink\": \"a.next, .current+.minithumb>a\",\"papageElementeE\": \".thumb, #doujin>a\",\"replaceElement\": \".navigation, #miniThumbContainer\",\"from\": 2},{\"name\": \"LoLHentai\",\"example\": \"https://www.lolhentai.net/\",\"url\": \"^https?://www\\\\.lolhentai\\\\.net/\",\"action\": 1,\"wait\": 2000,\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[ul/li/div/a/img[@class='thumbnail']]\",\"replaceElement\": \".pagination\",\"rate\": 3,\"from\": 2},{\"name\": \"绅士仓库\",\"example\": \"https://cangku.icu/\",\"url\": \"^https?://cangku\\\\.\",\"action\": 1,\"nextLink\": \"li.number.active+li.number\",\"pageElement\": \".post-list>.row, .category-post>.row, #user-post>.row, #user-favorite>.row, #user-comment .comment-list\",\"waitElement\": [\".post-card-content>.cover\"],\"replaceElement\": \".page-pagination\",\"css\": \".pagetual_pageBar{margin-top:-12px!important}\",\"from\": 2},{\"name\": \"绅士仓库 - 排行/作者墙\",\"example\": \"https://cangku.icu/\",\"url\": \"^https?://cangku\\\\.[^/]+/(rank|author)\",\"loadMore\": \".container .el-button:not(.is-loading)\",\"from\": 2},{\"name\": \"绅士会所\",\"example\": \"www.hentaiclub.net，www.sshs.club\",\"url\": \"^https?://www\\\\.(hentaiclub|sshs)\\\\.(net|club)/\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \"article[class]:not(.excerpt-minic-index)\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"松鼠症倉庫\",\"example\": \"https://ahri8.top/dnew.php?t=1669824000\",\"url\": \"^https?://[^/]+/dnew\\\\.php\",\"include\": \"//div[@id='logo-group']//a[contains(text(),'松鼠症倉庫') or contains(text(),'松鼠症仓库')]\",\"action\": 1,\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"#gallery\",\"replaceElement\": \".pagination\",\"css\": \"#content>[style^='text-align']{display:none!important}\",\"from\": 2},{\"name\": \"松鼠症倉庫 - 閱讀\",\"example\": \"https://ahri8.top/readOnline2.php?ID=97432&host_id=0\",\"url\": \"^https?://[^/]+/readOnline2\\\\.php\",\"include\": \"//div[@id='logo-group']//a[contains(text(),'松鼠症倉庫') or contains(text(),'松鼠症仓库')]\",\"action\": 1,\"pageElement\": \"[id^=read_online_image]\",\"replaceElement\": \"#page_num1,#next_page_btn_area,#page_num2,#next_page_btn_area2\",\"pageBar\": 0,\"css\": \"#content>.col-lg-12,[id^=read_online_ads_area],#Big_Image~*{display:none!important}\",\"from\": 2},{\"name\": \"绅士漫画\",\"example\": \"https://wnacg.org/albums-index-cate-9.html\",\"url\": \"^https?://(www\\\\.)?(wnacg|htcomic|ssmh\\\\d+)\\\\.[^/]+/(albums|search|photos-index)\",\"nextLink\": \"span.thispage+a\",\"pageElement\": \"li.gallary_item\",\"replaceElement\": \".paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"绅士漫画 - 閱讀\",\"example\": \"https://wnacg.org/photos-view-id-15403544.html\",\"url\": \"^https?://(www\\\\.)?(wnacg|htcomic|ssmh\\\\d+)\\\\.[^/]+/photos-view\",\"include\": \"span.newpagelabel\",\"init\": \"let a=document.querySelector('#imgarea>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一頁']\",\"stopSign\": \"let p=doc.querySelector('span.newpagelabel').textContent;let m=p.match(/(\\\\d+)\\\\/(\\\\d+)/);if(m[1]==m[2])return true;\",\"pageElement\": \"#picarea\",\"replaceElement\": \".newpagewrap,.png.bread,.grid_2.cc\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"18x78\",\"example\": \"https://18x78.com/\",\"url\": \"^https?://18x78\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-wrapper\",\"replaceElement\": \".page-numbers\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"ACGN小鎮/皮皮动漫社\",\"example\": \"https://www.bbsacgn.com/，https://pipidm.top/，https://www.pipidm.top/\",\"url\": \"^https?://(www\\\\.bbsacgn\\\\.com|pipidm\\\\.top|www\\\\.pipidm\\\\.top)/\",\"pageElement\": \".posts-wrapper.scroll>*\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"ACG漫画网 - 分类页\",\"example\": \"https://www.acgxmh.com/hentai/\",\"url\": \"^https?://www\\\\.acgxmh\\\\.com/\",\"nextLink\": \".page.bigpage span+a\",\"pageElement\": \"#list,#doujin_album\",\"replaceElement\": \".page.bigpage\",\"from\": 2},{\"name\": \"ACG漫画网 - 阅读\",\"example\": \"https://www.acgxmh.com/h/314618.html\",\"url\": \"^https?://www\\\\.acgxmh\\\\.com/\",\"nextLink\": \"#pages span+a\",\"pageElement\": \".manga-page img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"css\": \".manga-page a{display:none!important}\",\"from\": 2},{\"name\": \"鹹濕仔日報\",\"example\": \"https://jdaily18.com/view1/category/%e5%af%ab%e7%9c%9f/\",\"url\": \"^https?://jdaily18\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#post_container>*\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"MANGA1000 - 分类/搜索页\",\"example\": \"https://manga1000.top/\",\"url\": \"^https?://manga1000\\\\.top/\",\"include\": \".pagination\",\"nextLink\": \"//a[text()='»']\",\"pinUrl\": true,\"pageElement\": \".thumb-item-flow\",\"replaceElement\": \".pagination, .col-md-8>.btn-group:first-child\",\"from\": 2},{\"name\": \"MANGA1000 - 漫畫閱讀\",\"example\": \"https://manga1000.top/197/8175/\",\"url\": \"^https?://manga1000\\\\.top/\\\\d+/\\\\d+/\",\"pinUrl\": true,\"history\": 2,\"init\": \"setTimeout(()=>{document.querySelectorAll('img.chapter-img').forEach(img=>{img.src=img.src.replace('https://welovekai.com/proxy.php?link=','')})},500)\",\"nextLinkByJs\": \"let n = doc.querySelector('ul.chapter_select option[selected]').previousElementSibling;if(n!=null) return location.origin+n.value\",\"pageElement\": \"div.chapter-content>img\",\"pageInit\": \"doc.querySelectorAll('img.chapter-img').forEach(img=>{img.src=img.src.replace('https://welovekai.com/proxy.php?link=','')})\",\"replaceElement\": \"span[itemprop='name']\",\"css\": \"img.chapter-img{max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"MANGAROW - 漫畫閱讀\",\"url\": \"^https?://mangarow\\\\.org/chapters/\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".container-chapter-reader\",\"replaceElement\": \"//div[div/div/select]\",\"from\": 2},{\"name\": \"manga1001 - 漫畫閱讀\",\"example\": \"manga1001.in，manga1001.su，mangaraw.vip\",\"url\": \"^https?://(manga1001|mangaraw)\\\\.(in|su|vip)/chapters/\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"nextLink\": \"a[rel='next'],.nextchapter\",\"manualMode\": true,\"from\": 2},{\"name\": \"Rawkuma - 漫畫閱讀\",\"example\": \"https://rawkuma.com/mikata-ga-yowa-sugite-hojo-mahou-ni-toushite-ita-kyuutei-mahou-shi-tsuihou-sarete-saikyou-wo-mezasu-chapter-1/\",\"url\": \"^https?://rawkuma\\\\.com/\",\"pinUrl\": true,\"action\": 1,\"history\": 2,\"nextLink\": \".ch-next-btn\",\"pageElement\": \"#readerarea\",\"replaceElement\": \".chnav.ctop\",\"from\": 2},{\"name\": \"klmanga - 漫畫閱讀\",\"example\": \"https://klmanga.net/bsaq-i-became-a-magical-cheat-loli-witch-my-different-world-life-with-my-reincarnation-privilege-creation-magic-and-the-seed-of-magic-manga-chapter-5.html\",\"url\": \"^https?://klmanga\\\\.net/\",\"include\": \"option[selected]\",\"pinUrl\": true,\"action\": 1,\"history\": 2,\"nextLinkByJs\": \"function gx(x){return doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let next = gx('//option[@selected]/preceding-sibling::option[1]'); if (next) return location.href.replace(/[^-]+\\\\.html$/,'') + next.innerText.match(/[0-9.]+/)[0]+'.html'\",\"pageElement\": \"center .chapter-content\",\"replaceElement\": \".navbar-nav\",\"from\": 2},{\"name\": \"mangabtt - 漫畫閱讀\",\"example\": \"https://mangabtt.com/manga/transmigrating-to-the-otherworld-once-more/chapter-30-eng-li/291628\",\"url\": \"^https?://mangabtt\\\\.com/\",\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.getAttribute('data-src')})\",\"include\": \"option[selected]\",\"nextLink\": \"#nextChapter\",\"pageElement\": \".reading-detail\",\"replaceElement\": \"#chapter-nav\",\"from\": 2},{\"name\": \"壹纳网 - 文章\",\"example\": \"https://yinaw.com/\",\"url\": \"^https?://yinaw\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+.excerpt{margin-top:-2px!important;}\",\"from\": 2},{\"name\": \"壹纳网 - 內文\",\"example\": \"https://yinaw.com/23035.html\",\"url\": \"^https?://yinaw\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".fenye span+a\",\"pageElement\": \".article-content>p,.article-content>h2,.article-content>#erphpdown\",\"replaceElement\": \".fenye\",\"pageBar\": 0,\"from\": 2},{\"name\": \"javpark.net\",\"example\": \"https://javpark.net/category/movie/\",\"url\": \"^https?://javpark\\\\.net/category/\",\"action\": 1,\"nextLink\": \"a.next.page-numbers\",\"pageElement\": \"#main article\",\"replaceElement\": \"nav.navigation.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Jable\",\"example\": \"https://jable.tv/new-release/\",\"url\": \"^https?://(jable|fs1)\\\\.(tv|app)/\",\"init\": \"document.querySelectorAll('#list_videos_common_videos_list_sort_list a').forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 800)')})\",\"nextLink\": \"//li[span/@class='page-link active disabled']/following-sibling::li[1]/a\",\"pageElement\": \"section>.row\",\"replaceElement\": \".pagination\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('section>.row');let last=ps.length-1;ps[last].querySelectorAll('.img-box>a').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('video');let img=a.querySelector('img');let src=img.getAttribute('data-preview');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview')});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('video').remove()}})\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"JAVCT\",\"example\": \"https://javct.net/uncensored\",\"url\": \"^https?://javct\\\\.net/\",\"nextLink\": \"li.paginator__item.paginator__item--next>a\",\"pageElement\": \".container>.row.row--grid>*\",\"replaceElement\": \".paginator\",\"rate\": 3,\"pageBar\": 0,\"css\": \".text__links{display:none!important}\",\"from\": 2},{\"name\": \"RIRI TV / playav\",\"example\": \"https://ri1.site/?filter=random，https://playav.tv/category/chinese-model\",\"url\": \"^https?://(ri1\\\\.site|playav\\\\.tv)/\",\"pinUrl\": true,\"nextLink\": \"//li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \"#main .thumb-block\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageInit\": \"doc.querySelectorAll('.post-thumbnail-container>img:not(.loaded)').forEach(img=>{if(img){img.setAttribute('class','loaded')}})\",\"pageAction\": \"let url=document.querySelector('#wpst-main-js').src;if(url)fetch(url).then(res=>res.text()).then((res)=>{eval(res)})\",\"pageBar\": 0,\"css\": \"#dclm_modal_screen,#dclm_modal_content,[class^='happy'],.widget.widget_text{display:none!important}\",\"from\": 2},{\"name\": \"tktube\",\"example\": \"https://www.tktube.com/categories/fc2/\",\"url\": \"^https?://(www\\\\.)?tktube\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \".list-videos\",\"replaceElement\": \"[id$='pagination']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.list-videos');let last=ps.length-1;ps[last].querySelectorAll('.item>a>.img').forEach(div=>{div.onmouseenter=e=>{let v=document.createElement('video');let img=div.querySelector('.thumb');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview'),webkitplaysinline:'true',playsinline:'true'});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});div.appendChild(v)};div.onmouseleave=e=>{div.querySelector('video').remove()}})\",\"from\": 2},{\"name\": \"7mmtv - 分類\",\"example\": \"https://7mmtv.sx/zh/uncensored_random/all/index.html\",\"url\": \"^https?://7mmtv\\\\.sx/(zh|en|ja|ko)/[a-z]+_(random|list)/\",\"nextLink\": \"li.page-item.current+li.page-item>a\",\"pageElement\": \".row.content\",\"replaceElement\": \"nav.pagination-row\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae('.row.content');let last=ps.length-1;ps[last].querySelectorAll('.video').forEach(div=>{div.onmouseenter=e=>{let v=div.querySelector('video[data-src]');v.setAttribute('src',v.getAttribute('data-src'));$(v).css({visibility:'visible'});let l=div.querySelector('.video-loader');$(l).css({visibility:'visible'});setTimeout(()=>{$(l).css({visibility:'hidden'})},500)};div.onmouseleave=e=>{let v=div.querySelector('video[data-src]');let l=div.querySelector('.video-loader');v.setAttribute('src','');v.setAttribute('style','');$(l).css({visibility:'hidden'})}})\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"tokyomotion\",\"example\": \"https://www.tokyomotion.net/\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/(page=\\\\d+)?$\",\"action\": 1,\"nextLink\": \"li.active+li>a\",\"pageElement\": \".col-sm-12>.row>.col-sm-12>.row>*\",\"replaceElement\": \".pagination\",\"wait\": \"let img=doc.querySelector('.col-lg-4 img');return img!=null\",\"pageBar\": 0,\"from\": 2},{\"name\": \"tokyomotion - 相簿\",\"example\": \"https://www.tokyomotion.net/album/67719\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/album/\\\\d+\",\"nextLink\": \"ul.pagination:not(.pagination-lg) li.active+li>a\",\"pageElement\": \".row>div[id^=album_photo_]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"tokyomotion - 相簿原圖\",\"example\": \"https://www.tokyomotion.net/photo/884869/\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/photo\",\"nextLink\": \"//a[text()='下一步' or text()='Next']\",\"pageElement\": \".thumb-overlay\",\"replaceElement\": \".clearfix+div.pull-left+div\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"tokyomotion\",\"example\": \"https://www.tokyomotion.net/videos\",\"url\": \"^https?://www\\\\.tokyomotion\\\\.net/(videos|albums)\",\"nextLink\": \"ul.pagination:not(.pagination-lg) li.active+li>a\",\"pageElement\": \".well.well-sm+.row,#wrapper>.container>.row .row>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"magnetdl.com\",\"example\": \"www.magnetdl.com\",\"url\": \"^https?://www\\\\.magnetdl\\\\.com/\",\"nextLink\": \"id('pages')/a[contains(string(),'>')]\",\"pageElement\": \".download>tbody>tr:nth-last-child(n+4)\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"YavTube\",\"example\": \"https://yavtube.com/，https://r18hub.com/\",\"url\": \"^https?://(yavtube|r18hub)\\\\.com/\",\"exclude\": \".model-wrapper\",\"nextLink\": \"li.active+li.wave-effect>a\",\"pageElement\": \"ul.item-list\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"PPP.Porn - 首頁(載入更多 …)\",\"example\": \"https://ppp.porn/\",\"url\": \"^https?://ppp\\\\.porn/$\",\"loadMore\": \".btn.btn--sm\",\"from\": 2},{\"name\": \"PPP.Porn\",\"example\": \"https://ppp.porn/\",\"url\": \"^https?://ppp\\\\.porn/\",\"nextLink\": \"//li[a/@class='pagination__item  pagination__item--selected']/following-sibling::li[1]/a\",\"pageElement\": \"div[id^='list_videos']\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ps=gae(\\\"div[id^='list_videos']\\\");let last=ps.length-1;ps[last].querySelectorAll('figure.aspect-ratio>a').forEach(a=>{a.onmouseenter=e=>{let v=document.createElement('VIDEO');let img=a.querySelector('img');$(v).attr({loop:'',autoplay:'',src:img.getAttribute('data-preview'),webkitplaysinline:'true',playsinline:'true'});$(v).css({position:'absolute',left:'0',top:'0',width:img.offsetWidth+'px',height:img.offsetHeight+'px',background:'#000000',visibility:'visible'});a.appendChild(v)};a.onmouseleave=e=>{a.querySelector('VIDEO').remove()}})\",\"replaceElement\": \"nav.pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:16px!important}.padding-bottom-md{padding-bottom:unset!important}nav.pagination{padding-top:var(--space-md)!important}\",\"from\": 2},{\"name\": \"fc2hub\",\"example\": \"https://fc2hub.com/\",\"url\": \"^https?://fc2hub\\\\.com/\",\"action\": 1,\"nextLink\": \"a[rel='next']\",\"pageElement\": \"//div[(div/div/@class='card shadow') and @class='row']\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"fc2cm 去模糊\",\"example\": \"https://fc2cm.com/?c=sensen321&nc=0\",\"url\": \"^https?://fc2cm\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"span+a\",\"pageElement\": \"#contentInner aside dl\",\"replaceElement\": \".st-pagelink\",\"pageBar\": 0,\"css\": \".sampleimg_b,img{-webkit-filter:none!important}img{-moz-opacity:1!important;opacity:1!important}\",\"from\": 2},{\"name\": \"r18.clickme.net\",\"example\": \"https://r18.clickme.net/c/new\",\"url\": \"^https?://r18\\\\.clickme\\\\.net/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"#article-list\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"黃色倉庫\",\"example\": \"http://2364ck.cc/vodtype/15.html\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'黄色仓库')]\",\"pinUrl\": true,\"nextLink\": \"li.hidden-xs.active+li>a\",\"pageElement\": \".stui-pannel-bd\",\"replaceElement\": \".stui-pannel-ft\",\"css\": \"body>*:nth-child(1),.stui-vodlist>li:nth-child(n+1):nth-child(-n+3){display:none!important}.pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}.pagetual_pageBar+*{margin-top:-10px!important;}a[data-original]{opacity:1!important}\",\"from\": 2},{\"name\": \"亞色影庫\",\"example\": \"https://www.yasetube.com/video/category/javhd\",\"url\": \"^https?://www\\\\.yasetube\\\\.com/\",\"action\": 1,\"waitElement\": [\".video-preview+img[data-src].loaded\",\".video-preview+img[data-src]:not(.loaded)\"],\"nextLink\": \"//li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \".videos-list article\",\"replaceElement\": \".pagination\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let url=gae('#wpst-main-js')[0].src;if(url){fetch(url).then(res=>res.text()).then((res)=>{eval(res)})}let ps=gae('.videos-list');let last=ps.length-1;ps[last].querySelectorAll('img.loaded').forEach(img=>{if(!img.parentNode.getAttribute('data-thumbs')){img.onmouseenter=e=>{img.classList.add('video-img--hidden')}}})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"小丑擼\",\"example\": \"https://www.jokerlu357.cc/index.php/vodtype/121.html\",\"url\": \"^https?://www\\\\.jokerlu\\\\d+\\\\.cc/index\\\\.php/vodtype/.+\\\\.html\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".main-grids>.top-grids+.recommended>.recommended-grids.english-grid\",\"replaceElement\": \".recommended+.recommended>.recommended-grids.english-grid>.clearfix>.pagination\",\"css\": \".pagetual_pageBar{margin-top:12px!important;}\",\"from\": 2},{\"name\": \"小丑擼 輕便版\",\"example\": \"https://www.jokerlutxt.top/index.php/vodtype/131.html\",\"url\": \"^https?://www\\\\.jokerlutxt\\\\.top/index\\\\.php/vodtype/.+\\\\.html\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".box tbody\",\"replaceElement\": \"nav.pagination\",\"from\": 2},{\"name\": \"無名網\",\"example\": \"https://9wm9.info/viewforum/38\",\"url\": \"^https?://9wm9\\\\.info/\",\"nextLink\": \"//a[text()='Next page']\",\"pageElement\": \".box tbody\",\"replaceElement\": \"nav.pagination\",\"from\": 2},{\"name\": \"24fa\",\"example\": \"https://www.24fa.com/n93763c49.aspx\",\"url\": \"^https?://(www\\\\.)?\\\\d{2,3}(m|w|faw|fa|aa)?\\\\.[a-z]{2,4}/m?n\\\\w+\\\\.aspx$\",\"include\": \"//title[contains(text(),'24FA')]\",\"init\": \"document.querySelectorAll('#content br').forEach(br=>{br.remove()})\",\"nextLink\": \"li.p_current+li>a\",\"pageElement\": \"#content img[alt]\",\"replaceElement\": \".pager\",\"css\": \"img{margin-top:0px!important;margin-bottom:1px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Hentai Image - 分類\",\"example\": \"https://ja.porn-images-xxx.com/search/\",\"url\": \"^https?://(.+)?(porn-images-xxx|hentai-cosplays|hentai-img)\\\\.com/(search|recently|ranking|search-video|ranking-video)/\",\"nextLink\": \"span+a\",\"pageElement\": \"#center>#display_area_image\",\"replaceElement\": \".wp-pagenavi\",\"css\": \".pagetual_pageBar{margin-top:-30px!important;}#post_list_title+#display_area_image,.pagetual_pageBar+#display_area_image{margin-bottom:0px!important;}\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"from\": 2},{\"name\": \"Hentai Image - 圖片\",\"example\": \"hentai-img.com，hentai-cosplays.com，porn-images-xxx.com\",\"url\": \"^https?://(.+)?(porn-images-xxx|hentai-cosplays|hentai-img)\\\\.com/image/\",\"nextLink\": \"//a[contains(text(),'>') or contains(text(),'next')]\",\"pageElement\": \"#display_image_detail img\",\"replaceElement\": \"script+#paginator,#detail_tag+div+div\",\"css\": \"#display_image_detail a[id]{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"优美图库 - 分類\",\"example\": \"https://www.umei.cc/meinvtupian/xingganmeinv/\",\"url\": \"^https?://(www\\\\.)?(umeitu|umei)\\\\.(com|fun|cc)/\",\"include\": \"#pageNum\",\"nextLink\": \".thisclass+a\",\"pageElement\": \"#infinite_scroll,.pic-list>ul\",\"replaceElement\": \"#pageNum\",\"css\": \"#infinite_scroll+.pagetual_pageBar{margin-top:-15px!important}.pagetual_pageBar+#infinite_scroll{margin-top:-15px!important}ul+.pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"优美图库 - 圖片\",\"example\": \"https://www.umei.cc/meinvtupian/xingganmeinv/255974.htm\",\"url\": \"^https?://(www\\\\.)?(umeitu|umei)\\\\.(com|fun|cc)/\",\"include\": \".pages\",\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \".big-pic>a\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Wndfx 妹子图\",\"example\": \"https://www.wndfx.com/\",\"url\": \"^https?://www.\\\\wndfx\\\\.com/\",\"include\": \"nav.pagination\",\"nextLink\": \"//a[text()='下一页 »']\",\"pageElement\": \".update_area_lists\",\"replaceElement\": \"nav.pagination\",\"css\": \".update_area_lists+.pagetual_pageBar{margin-top:-15px!important}.pagetual_pageBar+.update_area_lists{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"Wndfx 妹子图 - 圖片\",\"example\": \"https://www.wndfx.com/gogort/zg/8364.html\",\"url\": \"^https?://www\\\\.wndfx\\\\.com/gogort/\",\"include\": \".nav-links.page_imges\",\"nextLink\": \"span+a\",\"pageElement\": \".article-content img\",\"replaceElement\": \".nav-links.page_imges\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"蕾丝猫\",\"example\": \"https://www.lesmao.site/\",\"url\": \"^https?://www\\\\.(lsm|lesmao|lsmpx)\\\\.(site|me|pro|co|com|org)/\",\"nextLink\": \".current+a,strong+a\",\"pageElement\": \"#index-pic,#ul-pic\",\"replaceElement\": \".pg\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}#ul-pic img{display:none!important}\",\"from\": 2},{\"name\": \"蕾丝猫 - 圖片\",\"example\": \"https://www.lesmao.site/thread-31035-1-1.html\",\"url\": \"^https?://www\\\\.(lsm|lesmao|lsmpx)\\\\.(site|me|pro|co|com|org)/thread\",\"nextLink\": \"strong+a,a.r\",\"pageElement\": \"#thread-pic li,#pic\",\"replaceElement\": \"#thread-page\",\"css\": \"#thread-pic li,#pic li{margin-bottom: 0px!important;}#pic img{width:100%!important;height:auto!important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"套圖吧\",\"example\": \"https://www.taotu8.xyz/\",\"url\": \"^https?://(www|m)\\\\.(192[a-z+]|taotu8)\\\\.(top|com|xyz)/\",\"include\": \".page\",\"nextLink\": \".page b+a\",\"pageElement\": \".piclist>ul\",\"lazyImgSrc\": [\"lazysrc\",\"lazysrc\"],\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-20px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \"套圖吧 - 看圖\",\"example\": \"https://www.taotu8.xyz/gq/meinv/xiaoyu847.html\",\"url\": \"^https?://(www|m)\\\\.(192[a-z+]|taotu8)\\\\.(top|com|xyz)/\",\"include\": \".picmainer>h1\",\"action\": 1,\"nextLinkByUrl\": [\"/([^_]+)(_)?(\\\\d+)?(\\\\.html)$\",\"/$1_{($3.0||1)+1}$4\",\".next[href*='_']\"],\"pageElement\": \".picsbox img\",\"replaceElement\": \".next,.pre,.picmainer>h1\",\"waitElement\": [\".picsbox img[style]\"],\"css\": \".picsbox img{opacity: 1!important}.national-day,.picpege,.pictopline p.pright,#back-to-top{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"套圖吧手機版\",\"example\": \"https://m.taotu8.xyz/\",\"url\": \"^https?://m\\\\.taotu8\\\\.(top|com|xyz)/\",\"include\": \"#morepic\",\"nextLink\": \"0\",\"loadMore\": \"#morepic\",\"from\": 2},{\"name\": \"Xiuren 秀人网\",\"example\": \"http://www.xiuren.org/category/TuiGirl.html\",\"url\": \"^https?://www\\\\.xiuren\\\\.org/\",\"include\": \"#page\",\"pinUrl\": true,\"nextLink\": \".next\",\"pageElement\": \"#main>.loop\",\"replaceElement\": \"#page\",\"rate\": 3,\"from\": 2},{\"name\": \"Everia.club\",\"example\": \"https://everia.club/category/gravure/\",\"url\": \"^https?://everia\\\\.club/category\",\"nextLink\": \".next\",\"pageElement\": \".posts-wrapper article\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM 范\",\"example\": \"https://www.95mm.org/qingchun\",\"url\": \"^https?://www\\\\.95mm\\\\.org/(qingchun|sifang|xinggan|tag)?\",\"include\": \".dposts-ajax-load\",\"loadMore\": \".dposts-ajax-load\",\"from\": 2},{\"name\": \"MM 范 - 圖片\",\"example\": \"https://www.95mm.tv/65309.html\",\"url\": \"^https?://www\\\\.95mm\\\\.\\\\w+/\\\\w+\\\\.html\",\"init\": \"let a=document.querySelector('.post a');a.outerHTML=a.innerHTML;\",\"include\": \".post img[alt]\",\"nextLinkByUrl\": [\"/(\\\\d+)(/)?(\\\\d+)?(\\\\.html)\",\"/$1/{($3.0||1)+1}$4\"],\"stopSign\": [[\".post-title\",\"(\\\\d+)\"],[\".post-title\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \".post img\",\"replaceElement\": \"h1.h3\",\"pageAction\": \"document.querySelectorAll('.post img[title]').forEach(img=>{img.removeAttribute('title')})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"span.d-md-inline-block.d-none:not(.mx-1),.text-xs.text-muted>b{display:none!important}\",\"from\": 2},{\"name\": \"jpmnb 精品美女吧 - 分類\",\"example\": \"https://www.jpmnb.net/Xrqj/XiuRen/\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".container>.excerpt\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"from\": 2},{\"name\": \"jpmnb 精品美女吧 - 看圖\",\"example\": \"https://www.jpmnb.net/Xrqj/XiuRen/19379.html\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/\",\"init\": \"document.querySelectorAll('p br').forEach(br=>{br.remove()})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"p img\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"jpmnb 精品美女吧 - 搜索\",\"example\": \"https://www.jpmnb.net/plus/search/index.asp?keyword=XiuRen\",\"url\": \"^https?://www\\\\.jpmnb\\\\.net/plus/search/\",\"nextLink\": \"a.current+a\",\"pageElement\": \".list>.node\",\"replaceElement\": \".pagination1\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Dmmtu 美女图 - 分類\",\"example\": \"https://www.dmmtu.com/new/\",\"url\": \"^https?://www\\\\.dmmtu\\\\.com/\",\"include\": \"#pagenavi\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"#postlist>*\",\"replaceElement\": \"#pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Dmmtu 美女图 - 看圖\",\"example\": \"https://www.dmmtu.com/xiezhen/25837.html\",\"url\": \"^https?://www\\\\.dmmtu\\\\.com/\",\"include\": \".link_pages\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".main-body>img\",\"replaceElement\": \".link_pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"爱看 INS\",\"example\": \"https://www.ikanins.com/\",\"url\": \"^https?://www\\\\.ikanins\\\\.com/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"#masonry\",\"replaceElement\": \".wp-pagenavi\",\"from\": 2},{\"name\": \"Sexyxbody\",\"example\": \"https://cn.sexyxbody.com/zone_detail/ouz5i1j\",\"url\": \"^https?://cn\\\\.sexyxbody\\\\.com/(zone_detail|tag_list|tag_detail)\",\"nextLink\": \"a.next\",\"pageElement\": \".blog-posts\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"replaceElement\": \".pgz-pagination\",\"from\": 2},{\"name\": \"Sexyxbody - 看圖\",\"example\": \"https://cn.sexyxbody.com/sexy_article/i103swym3j/\",\"url\": \"^https?://cn\\\\.sexyxbody\\\\.com/sexy_article\",\"nextLink\": \"//a[text()='下一页»']\",\"pageElement\": \".album-post-body>.separator,.album-post-body>br\",\"initRun\": 1,\"autoLoadNum\": \"0\",\"pageBar\": 0,\"replaceElement\": \".pgz-pagination,.album-post-inner,.breadcrumbs\",\"from\": 2},{\"name\": \"爱女神\",\"example\": \"https://www.99nvshen.com/galleryList/\",\"url\": \"^https?://www\\\\.99nvshen\\\\.com/(articles|galleryList|modelList|paihang)\",\"nextLink\": \".pagination-box li.active+li>a\",\"pageElement\": \".book-list-title+.book-list,.book-list>.row\",\"replaceElement\": \".pagination-box\",\"css\": \".pagetual_pageBar{margin-bottom:-5px!important}\",\"from\": 2},{\"name\": \"爱女神 - 看圖\",\"example\": \"https://www.99nvshen.com/gallery/15123\",\"url\": \"^https?://www\\\\.99nvshen\\\\.com/(gallery|galleryImg)/\\\\d+\",\"nextLink\": \".pagination-box li.active+li>a\",\"pageElement\": \".gallery-detail-img,.gallery-img\",\"replaceElement\": \".pagination-box\",\"pageAction\": \"document.querySelectorAll('.gallery-img').forEach(a=>{a.removeAttribute('href')})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".book-list>div[style]{display:none!important}\",\"from\": 2},{\"name\": \"宅男女神\",\"example\": \"www.gnvshen.com，www.fnvshen.com\",\"url\": \"^https?://www\\\\.(gnvshen|fnvshen)\\\\.com/(gallery|tag)/\",\"nextLink\": \"a.cur+a\",\"pageElement\": \"#listdiv>ul>li\",\"replaceElement\": \".pagesYY\",\"css\": \".pagetual_pageBar{margin-bottom:-5px!important}\",\"from\": 2},{\"name\": \"宅男女神 - 看圖\",\"example\": \"www.gnvshen.com，www.fnvshen.com\",\"url\": \"^https?://www\\\\.(gnvshen|fnvshen|)\\\\.com/g/\",\"nextLink\": \"#pages>span +a:not(.a1), a.cur+a\",\"pageElement\": \"#hgallery>img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#hgallery img{margin:0px!important}\",\"from\": 2},{\"name\": \"Mrcong\",\"example\": \"https://mrcong.com/\",\"url\": \"^https?://mrcong\\\\.com/(page/\\\\d+/)?\",\"nextLink\": \".current+a\",\"pageElement\": \"article.item-list\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mrcong - 看圖\",\"enable\": 0,\"example\": \"https://mrcong.com/xiaoyu-vol-831-yang-chen-chen-yome-74-anh/\",\"url\": \"^https?://mrcong\\\\.com/\",\"init\": \"document.querySelectorAll('p>br').forEach(br=>{br.remove()})\",\"nextLink\": \".page-link>span+a\",\"pageElement\": \"p>img\",\"replaceElement\": \".page-link\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"推图网\",\"example\": \"https://www.tuiimg.com/meinv/\",\"url\": \"^https?://www\\\\.tuiimg\\\\.com/\",\"nextLink\": \"em+a\",\"pageElement\": \".beauty>ul,.main>ul\",\"replaceElement\": \".page\",\"css\": \".beauty>.pagetual_pageBar+ul{padding-top:15px!important}.main>ul+.pagetual_pageBar{margin-top:10px!important}.main>.pagetual_pageBar+ul{margin-top:-14px!important}\",\"from\": 2},{\"name\": \"推图网 - 手機版\",\"example\": \"https://m.tuiimg.com/meinv/\",\"url\": \"^https?://m\\\\.tuiimg\\\\.com/\",\"nextLink\": \".now+a\",\"pageElement\": \"#main\",\"replaceElement\": \".page\",\"lazyImgSrc\": \"realsrc\",\"pageBar\": 0,\"from\": 2},{\"name\": \"推图网 - 手機版 - 查看更多\",\"example\": \"https://m.tuiimg.com/\",\"url\": \"^https?://m\\\\.tuiimg\\\\.com/$\",\"nextLinkByJs\": \"showmore()\",\"from\": 2},{\"name\": \"推图网 - 展開全圖\",\"example\": \"https://m.tuiimg.com/meinv/2653/\",\"url\": \"^https?://(www|m)\\\\.tuiimg\\\\.com/meinv/\\\\d+/\",\"init\": \"goshowall()\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Nsfwp\",\"example\": \"https://nsfwx.pics/\",\"url\": \"^https?://nsfwx\\\\.pics/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[id^='post']\",\"replaceElement\": \".pag-wrapper\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131美女图片 - 列表\",\"example\": \"https://www.mmm131.com/xinggan/\",\"url\": \"^https?://www\\\\.mmm131\\\\.com/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//dl[@class='list-left public-box']/dd[a/@target]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131美女图片 - 看圖\",\"example\": \"https://www.mmm131.com/xinggan/5774.html\",\"url\": \"^https?://www\\\\.mmm131\\\\.com/.+\\\\html$\",\"init\": \"let a=document.querySelector('.content-pic>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".content-pic img\",\"replaceElement\": \".content-page\",\"css\": \".content-tips{display:none!important}.content-pic img{margin-top:0px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MM131美女图片手機版 - 首頁\",\"example\": \"https://m.mmm131.com/\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/$\",\"css\": \".bannert_ios,.bannerb_ios,.tips{display:none!important}\",\"nextLinkByJs\": \"homemore()\",\"from\": 2},{\"name\": \"MM131美女图片手機版 - 分類\",\"example\": \"https://m.mmm131.com/xinggan/\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/\",\"include\": \"#listm\",\"init\": \"document.querySelectorAll('.post.nop').forEach(e=>{e.classList.remove('nop')})\",\"nextLink\": \"//a[text()='下一页' and contains(@href,'html')]\",\"pageElement\": \".post\",\"replaceElement\": \"#webpage\",\"lazyImgSrc\": \"data-img\",\"pageAction\": \"document.querySelectorAll('.post.nop').forEach(e=>{e.classList.remove('nop')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MM131美女图片手機版 - 看圖\",\"example\": \"https://m.mmm131.com/xinggan/5761.html\",\"url\": \"^https?://m\\\\.mmm131\\\\.com/.+\\\\html$\",\"init\": \"let a=document.querySelector('.post-content>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一张']\",\"pageElement\": \".post-content img\",\"replaceElement\": \".paging\",\"css\": \".bannert_ios,.bannerb_ios,.tips{display:none!important}.single-post-content{line-height: 0!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"色情圖片網 - 分類\",\"example\": \"https://www.photos18.com/cat/5\",\"url\": \"^https?://www\\\\.photos18\\\\.com/\",\"nextLink\": \".next>a\",\"pageElement\": \"#videos\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"艾薇福利社 - 分類\",\"example\": \"https://www.aiweifulishe.net/heji\",\"url\": \"^https?://www\\\\.aiweifulishe\\\\.net/\",\"nextLink\": \"a.next\",\"pageElement\": \"#index_ajax_list li\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"艾薇福利社 - 圖片\",\"example\": \"https://www.aiweifulishe.net/dress/silkstocking/whitesilkstocking/68742.html\",\"url\": \"^https?://www\\\\.aiweifulishe\\\\.net/.+\\\\.html\",\"action\": 1,\"nextLink\": \".current+a\",\"pageElement\": \"#content img\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"BeautyLeg - 分類\",\"example\": \"https://www.beautyleg6.com/weimeixiezhen/\",\"url\": \"^https?://www.beautyleg\\\\d+\\\\.com/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".pic\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"BeautyLeg - 圖片\",\"example\": \"http://www.beautyleg6.com/xingganmeinv/201406/133.html\",\"url\": \"^https?://www.beautyleg\\\\d+\\\\.com/.+\\\\.html\",\"init\": \"function gae(e){return document.querySelectorAll(e)}let imgs=gae('.contents img');let _img='';for(let i=0;i<imgs.length;i++){_img+=imgs[i].outerHTML};gae('.contents')[0].innerHTML=_img;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".contents img\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"HOTGIRLchina - 分類\",\"example\": \"https://hotgirlchina.com/tag/xiuren/\",\"url\": \"^https?://hotgirlchina\\\\.com/tag/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \"#grid-wrapper article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRLchina - 搜索 - 修正頁碼錯誤\",\"example\": \"https://hotgirlchina.com/?s=XIUREN\",\"url\": \"^https?://hotgirlchina\\\\.com/(page/(\\\\d+)/)?\\\\?s=\",\"init\": \"setTimeout(()=>{document.querySelectorAll('.wp-pagenavi a').forEach(a=>{a.href=a.href.replace(/\\\\/$/,'')})},1000)\",\"nextLinkByUrl\": [\"(page/(\\\\d+)/)?(\\\\?s=\\\\w+)$\",\"page/{($2.0||1)+1}/$3\",\".nextpostslink\"],\"pageElement\": \"#grid-wrapper article\",\"pageAction\": \"setTimeout(()=>{document.querySelectorAll('.wp-pagenavi a').forEach(a=>{a.href=a.href.replace(/\\\\/$/,'')})},1000)\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"HOTGIRLchina - 看圖\",\"example\": \"https://hotgirlchina.com/xiuren-no-5261-zhu-ke-er-%e6%9c%b1%e5%8f%af%e5%84%bfflora-115-photos/\",\"url\": \"^https?://hotgirlchina\\\\.com/.+photos/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \".entry-inner>p\",\"replaceElement\": \"nav.pagination\",\"css\": \".entry p{margin-bottom:0!important}[id^='boxzilla']{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"BaoBua.Com - 分類\",\"example\": \"https://blog.baobua.com/mlem\",\"url\": \"^https?://blog\\\\.baobua\\\\.com/mlem(\\\\?&page=(\\\\d+))?$\",\"include\": \".pagination-custom\",\"nextLinkByUrl\": [\"mlem(\\\\?&page=(\\\\d+))?$\",\"mlem?&page={$2+1}\",\"span.nextPage\"],\"pageElement\": \".large--one-third\",\"replaceElement\": \".pagination-custom\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"BaoBua.Com - 搜索\",\"example\": \"https://blog.baobua.com/mlem?cat=korean\",\"url\": \"^https?://blog\\\\.baobua\\\\.com/mlem\\\\?cat=\",\"include\": \".pagination-custom\",\"nextLinkByUrl\": [\"(cat=[^&]+)(&page=(\\\\d+))?$\",\"$1&page={$3+1}\",\"span.nextPage\"],\"pageElement\": \".large--one-third\",\"replaceElement\": \".pagination-custom\",\"rate\": 3,\"initRun\": 1,\"autoLoadNum\": 4,\"pageBar\": 0,\"from\": 2},{\"name\": \"BaoBua.Com - 看圖\",\"example\": \"https://blog.baobua.com/mlem/6350798069264574102~rogle-song-hana-%EC%86%A1%ED%95%98%EB%82%98-leggings\",\"url\": \"^https?://(blog|fb)\\\\.baobua\\\\.com/\",\"include\": \"img[data-original]\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);ge('#fix_scale').setAttribute('id','fix');let fimgs=document.querySelectorAll('.article-content img[data-original]');let _img='';for(let i=0;i<fimgs.length;i++){let imgSrc=fimgs[i].dataset.original;let p=parseInt(i)+1;if(i<9){p='0'+p}let alt=ge('h1').innerText.match(/[^@]+/)[0].trim()+'_P'+p;_img+=`<img src='${imgSrc}'alt='${alt}'>`};ge('.article-body').innerHTML=_img;\",\"from\": 2},{\"name\": \"BAOBUA.COM - 圖片分類\",\"example\": \"https://www.baobua.com/?page=1\",\"url\": \"^https?://www\\\\.baobua\\\\.com/\\\\?page=\",\"action\": 1,\"nextLinkByUrl\": [\"page=(\\\\d+)$\",\"page={$1+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - 影片分類\",\"example\": \"https://www.baobua.com/video/index.html\",\"url\": \"^https?://www\\\\.baobua\\\\.com/video/index\\\\.html\",\"action\": 1,\"wait\": 500,\"nextLinkByUrl\": [\"html(\\\\?&page=(\\\\d+))?$\",\"html?&page={($2.0||1)+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - 搜索\",\"example\": \"https://www.baobua.com/?cat=Tm1ydGlaZ1A2YWM3a3BvYWh6L3dIdz09\",\"url\": \"^https?://www\\\\.baobua\\\\.com/\\\\?cat=\",\"action\": 1,\"nextLinkByUrl\": [\"(\\\\?cat=[^&]+)(\\\\&page=(\\\\d+))?$\",\"$1&page={($3.0||1)+1}\",\".next.page-numbers\"],\"pageElement\": \"main#main article\",\"replaceElement\": \"nav.pagination\",\"rate\": 3,\"wait\": 500,\"pageBar\": 0,\"from\": 2},{\"name\": \"BAOBUA.COM - 看圖\",\"example\": \"https://www.baobua.com/post/d00yYmh4WFNoZERNdFd5Q1QwNHhrNmZPZlMzUUI5UUo3OFVDRm5jWG11OFZ6aDJaeXpHdGh0Sm5sU0s4WjF5aXVIR0pLTTJvb0h3SDdlM1NSR0JxSHc9PQ==\",\"url\": \"^https?://www\\\\.baobua\\\\.com/post/\",\"nextLink\": \".current+a,.current+.dots+a\",\"pageElement\": \".entry-content.read-details>.wp-block-image\",\"replaceElement\": \"nav.pagination,.trail-items\",\"pageAction\": \"document.querySelectorAll('.entry-content.read-details>*:not(.wp-block-image)').forEach(e=>{e.remove()});\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".wp-block-image{margin-bottom:0!important}\",\"from\": 2},{\"name\": \"Buon Dua - 分類\",\"example\": \"https://buondua.com/\",\"url\": \"^https?://buondua\\\\.com/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".blog.columns\",\"replaceElement\": \"nav.pagination\",\"initRun\": 1,\"autoLoadNum\": 1,\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Buon Dua - 看圖\",\"example\": \"https://buondua.com/saint-photolife-%E2%80%93-zzyuri-%EC%AE%B8%EB%A6%AC-blueming-part-2-57-photos-27769\",\"url\": \"^https?://buondua\\\\.com/\",\"init\": \"document.querySelectorAll('.article-fulltext>*:not(p)').forEach(e=>{e.remove()});\",\"nextLink\": \"//span[a/@class='pagination-link is-current']/following-sibling::span/a\",\"pageElement\": \".article-fulltext p\",\"replaceElement\": \"nav.pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".content p:not(:last-child){margin-bottom:0!important}\",\"from\": 2},{\"name\": \"Popular JAV\",\"example\": \"https://javme.net/\",\"url\": \"^https?://javme\\\\.net/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".column.is-one-fifth-desktop\",\"replaceElement\": \"nav.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Goddess247\",\"example\": \"https://goddess247.com/\",\"url\": \"^https?://goddess247\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[class*=post]\",\"replaceElement\": \"nav.elementor-pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+div{margin-top:-6px!important}\",\"from\": 2},{\"name\": \"4KUP - 分類\",\"example\": \"https://www.4kup.net/\",\"url\": \"^https?://www\\\\.4kup\\\\.net/\",\"include\": \"#pagination\",\"pinUrl\": true,\"pageElement\": \"article.item-post\",\"pageBar\": 0,\"css\": \".lazyload{opacity:1!important}\",\"from\": 2},{\"name\": \"4KHD - 分類\",\"example\": \"https://www.4khd.com/\",\"url\": \"^https?://www\\\\.4khd\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \".wp-block-post-template.is-flex-container\",\"replaceElement\": \"nav[aria-label='Pagination']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"4KHD - 圖片\",\"example\": \"https://www.4khd.com/2023/01/15/puremedia-vol210-seer.html\",\"url\": \"^https?://www\\\\.4khd\\\\.com/[^.]+\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('a[data-fancybox]').forEach(e=>{e.outerHTML=`<img src='${e.href}'>`})\",\"nextLink\": \"li.current+li>a\",\"pageElement\": \".wp-block-image\",\"pageInit\": \"doc.querySelectorAll('a[data-fancybox]').forEach(e=>{e.outerHTML=`<img src='${e.href}'>`})\",\"replaceElement\": \".page-link-box\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"Cosplaytele - 分類\",\"example\": \"https://cosplaytele.com/\",\"url\": \"^https?://cosplaytele\\\\.com/\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"#content .row .row\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"from\": 2},{\"name\": \"CoserBOX - 首頁\",\"enable\": 0,\"example\": \"https://acg.coserbox.net/，https://coserbox.org/，https://picacg.org/，https://loli.pub/\",\"url\": \"^https?://[^/]+/$\",\"include\": \"//img[contains(@alt,'CoserBOX')]\",\"loadMore\": \".load-more:not(:disabled)\",\"from\": 2},{\"name\": \"CoserBOX - 分類\",\"example\": \"https://coserbox.org/rootcategory/62b6e84d412f63180e09d1a0，https://picacg.org/rootcategory/62fd110a5a40959e2fed9352\",\"url\": \"^https?://[^/]+/(rootcategory|category|search)\",\"include\": \"//img[contains(@alt,'CoserBOX')]\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a[@class='category']] | //div[div[@class='card']]\",\"replaceElement\": \".catalog__paginator-wrap\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NongMo.Zone\",\"example\": \"http://www.ilovexs.com/\",\"url\": \"^https?://www\\\\.ilovexs\\\\.com/(category)?\",\"nextLink\": \".nav-next>a\",\"pageElement\": \"//div[article]\",\"replaceElement\": \".nav-links\",\"rate\": 3,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 10,\"from\": 2},{\"name\": \"idol.gravureprincess.date\",\"example\": \"http://idol.gravureprincess.date/\",\"url\": \"^https?://idol\\\\.gravureprincess\\\\.date/\",\"pinUrl\": true,\"init\": \"document.querySelectorAll('.date-outer').forEach(e=>{e.removeAttribute('style')})\",\"nextLink\": \".blog-pager-older-link\",\"pageElement\": \".blog-posts>.date-outer\",\"replaceElement\": \"#blog-pager\",\"pageInit\": \"doc.querySelectorAll('.date-outer').forEach(e=>{e.removeAttribute('style')})\",\"from\": 2},{\"name\": \"Mitaku\",\"example\": \"https://mitaku.net/\",\"url\": \"^https?://mitaku\\\\.net/\",\"nextLink\": \".current+a\",\"pageElement\": \"article.post\",\"replaceElement\": \".wp-pagenavi\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Mitaku - 看圖\",\"enable\": 0,\"example\": \"https://mitaku.net/ero-cosplay/byoru-riamu-yumemi-nekomini/\",\"url\": \"^https?://mitaku\\\\.net/\",\"include\": \".msacwl-slider-wrap\",\"pinUrl\": true,\"from\": 2},{\"name\": \"Nlegs\",\"example\": \"https://www.nlegs.com/\",\"url\": \"^https?://www\\\\.nlegs\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[div/a/div/@class='img-div']\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+div{margin-top:0px!important}\",\"from\": 2},{\"name\": \"Nlegs - 預覽圖清單\",\"example\": \"https://www.nlegs.com/girls/2022/10/01/28219.html\",\"url\": \"^https?://www\\\\.nlegs\\\\.com/girls/[^.]+\\\\.html\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[a/div[contains(@style,'thumb') and span]]\",\"replaceElement\": \"#dnav\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".col-md-12.col-xs-12>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"NUDECOSPLAY\",\"example\": \"https://nudecosplaygirls.com/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/(category)?\",\"nextLink\": \"a.next\",\"pageElement\": \".g1-collection-viewport li\",\"replaceElement\": \".g1-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"NUDECOSPLAY - 圖片\",\"example\": \"https://nudecosplaygirls.com/haneame-summer/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/\",\"include\": [\".entry-content\",\"img[decoding='async'].lazy\"],\"pinUrl\": true,\"init\": \"let imgs=document.querySelectorAll('img.lazy');let _img='';for(let i=0;i<imgs.length;i++){let p=parseInt(i)+1;if(i<9){p='00'+p}else if(i<99){p='0'+p}let alt=document.querySelector('h1.entry-title').innerText+'_P'+p;_img+=`<img src='${imgs[i].getAttribute('src')}'alt='${alt}'>`};document.querySelector('.entry-content').innerHTML=_img;\",\"css\": \".entry-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#secondary{display:none!important}h1.g1-mega{text-align:center}\",\"from\": 2},{\"name\": \"NUDECOSPLAY - 圖片\",\"example\": \"https://nudecosplaygirls.com/%e4%b9%a0%e5%91%86%e5%91%86-%e5%88%bb%e6%99%b4/\",\"url\": \"^https?://nudecosplaygirls\\\\.com/\",\"include\": [\".entry-content img[decoding='async']:not(.lazy)\"],\"pinUrl\": true,\"init\": \"let imgs=document.querySelectorAll(\\\".entry-content img[decoding='async']\\\");let _img='';for(let i=0;i<imgs.length;i++){let p=parseInt(i)+1;if(i<9){p='00'+p}else if(i<99){p='0'+p}let alt=document.querySelector('h1.entry-title').innerText+'_P'+p;_img+=`<img src='${imgs[i].src}'alt='${alt}'>`};document.querySelector('.entry-content').innerHTML=_img;\",\"css\": \".entry-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#secondary{display:none!important}h1.g1-mega{text-align:center}\",\"from\": 2},{\"name\": \"NudeBird\",\"example\": \"https://nudebird.biz/\",\"url\": \"^https?://nudebird\\\\.biz/(tag|category|\\\\?s=)?\",\"nextLink\": \"li.current+li>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"ASD ASFD CN\",\"example\": \"https://asdasfd.net/\",\"url\": \"^https?://asdasfd\\\\.net/(category|\\\\?s=)\",\"nextLink\": \"//a[text()='Older posts']\",\"pageElement\": \"article.post\",\"replaceElement\": \".navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Yellow Fever\",\"example\": \"https://yellowfever18.com/chinese/\",\"url\": \"^https?://yellowfever18\\\\.com/(tag|chinese|korean|japanese|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \".jeg_postblock_15 .jeg_post\",\"replaceElement\": \".jeg_block_navigation\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Asian Girls\",\"example\": \"https://allasiangirls.net/category/free-content/\",\"url\": \"^https?://allasiangirls\\\\.net/(category|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \"//div[div/@class='col post-item']\",\"replaceElement\": \".page-numbers\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": 4,\"from\": 2},{\"name\": \"Make Girls\",\"example\": \"https://asdcosplay.com/category/collections/djawa/\",\"url\": \"^https?://asdcosplay\\\\.com/(\\\\?s=|category)?\",\"nextLink\": \"a.next\",\"pageElement\": \"article.post\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"亿图全景图库\",\"example\": \"https://www.yeitu.com/meinv/xinggan/\",\"url\": \"^https?://www\\\\.yeitu\\\\.com/\",\"include\": \"#pages\",\"nextLink\": \"//a[@class='a1' and text()='下一页']\",\"pageElement\": \".list-box-p\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"亿图全景图库 - 看圖\",\"example\": \"https://www.yeitu.com/meinv/xinggan/20220725_31887.html\",\"url\": \"^https?://www\\\\.yeitu\\\\.com/\",\"include\": \".img_content\",\"init\": \"let a=document.querySelector('.img_box>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[@class='a1' and text()='下一页']\",\"pageElement\": \".img_box img[alt]\",\"replaceElement\": \"#pages,.imageset-current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"亿图全景图库手機版\",\"example\": \"https://m.yeitu.com/meinv/xinggan/\",\"url\": \"^https?://m.yeitu.com/\",\"include\": \".uk-pagination\",\"nextLink\": \"//a[@class='a1' and text()='下一页']\",\"pageElement\": \".uk-container>ul li\",\"replaceElement\": \".uk-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"亿图全景图库 - 手機版看圖\",\"example\": \"https://m.yeitu.com/meinv/xinggan/20221205_32251.html\",\"url\": \"^https?://m\\\\.yeitu\\\\.com/\",\"include\": \".uk-article\",\"init\": \"let a=document.querySelector('.gallery-item>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".gallery-item img[alt]\",\"replaceElement\": \".yt-pages,.imageset-current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MEITU131\",\"example\": \"https://www.meitu131.net/rank/dalu/\",\"url\": \"^https?://www\\\\.meitu131\\\\.net/(e/search|rank|meinv|shouji|sucai|nvshen|hot)/([a-z]+)?\",\"exclude\": \"h1\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".details>ul,.cover-list\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".cover-list+.pagetual_pageBar{margin-top:0px!important}.pagetual_pageBar+.cover-list{margin-top:-4px!important}\",\"from\": 2},{\"name\": \"MEITU131 - 看圖\",\"example\": \"https://www.meitu131.net/meinv/7672/\",\"url\": \"^https?://www\\\\.meitu131\\\\.net/meinv/\\\\d+\",\"init\": \"document.querySelectorAll('p>a').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".work-content img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"MEITU131 手機版\",\"example\": \"https://m.meitu131.com/meinv/\",\"url\": \"^https?://m\\\\.meitu131\\\\.com/\",\"exclude\": \".uk-article\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".uk-container li\",\"replaceElement\": \".uk-page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"MEITU131 - 手機版看圖\",\"example\": \"https://m.meitu131.com/meinv/8140/\",\"url\": \"^https?://m\\\\.meitu131\\\\.com/\",\"include\": \".uk-article\",\"init\": \"let a=document.querySelector('.uk-article-bd a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".uk-article-bd img[alt]\",\"replaceElement\": \".uk-page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"胴体的秘密\",\"example\": \"https://dongtidemimi.org/\",\"url\": \"^https?://dongti[^/]+/(category|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \"ul.post-loop.post-loop-image.cols-4,.post-loop-default\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"胴体的秘密 - 標籤\",\"example\": \"https://dongti2022.com/tag/%e6%a1%9c%e4%ba%95%e5%ae%81%e5%ae%81\",\"url\": \"^https?://dongti[^/]+/tag/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".post-loop\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"胴体的秘密 - 看圖\",\"example\": \"https://dongti2022.com/751999.html\",\"url\": \"^https?://dongti[^/]+/\",\"include\": [\".j-wpcom-lightbox:not([href*='loding'])\",\".entry-content\"],\"pinUrl\": true,\"init\": \"setTimeout(()=>{document.querySelectorAll(\\\"a.j-wpcom-lightbox:not([href*='loding'])\\\").forEach(e=>{e.parentNode.outerHTML=`<img src='${e.href}'>`})},1000)\",\"from\": 2},{\"name\": \"胴体的诱惑\",\"example\": \"https://dongti.blog.2nt.com/\",\"url\": \"^https?://dongti\\\\.blog\\\\.2nt\\\\.com/\",\"action\": 1,\"nextLink\": \"//li[span[@class='current']]/following-sibling::li[1]/a\",\"pageElement\": \"#grid-container>*\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \"美图录 - 分類\",\"example\": \"https://meitulu.me/t/nvshen/\",\"url\": \"^https?://meitulu\\\\.me/(t|xihuan|rihan|gangtai|guochan|search)\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".row.my-gutters-b\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"美图录 - 看圖\",\"example\": \"https://meitulu.me/item/3242.html\",\"url\": \"^https?://meitulu\\\\.me/item/\\\\d+\\\\.html\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".container-inner-fix-m>img\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"凸凹吧/撸女吧/女优吧/撸哥吧/欲女吧 - 分類\",\"example\": \"www.tuao.one，www.63mm.cc，www.97mm.cc，www.luge8.co，luge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao\\\\d?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/\",\"include\": \".pagenavi\",\"nextLink\": \".now-page+a\",\"pageElement\": \"main.main>article\",\"replaceElement\": \".pagenavi\",\"css\": \"img[src$='.gif'],body>[style*='float']{display: none !important;}\",\"from\": 2},{\"name\": \"凸凹吧/撸女吧/女优吧/撸哥吧/欲女吧 - 手機版分類\",\"example\": \"www.tuao.one，www.63mm.cc，www.97mm.cc，www.luge8.co，luge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao\\\\d?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/\",\"include\": \".pagination\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpt\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"凸凹吧/撸女吧/女优吧/撸哥吧/欲女吧 - 圖片\",\"example\": \"www.tuao.one，www.63mm.cc，www.97mm.cc，www.luge8.co，luge8.co\",\"url\": \"^https?://(www\\\\.)?(tuao8?|tumm|\\\\d+mm|luge8?)\\\\.[a-z]{2,3}/(post|web)/\",\"init\": \"let a=document.querySelector('img[title][original]').parentNode;a.outerHTML=a.innerHTML;\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \".entry img, .article-content img\",\"replaceElement\": \"#dm-fy\",\"css\": \"img[src$='.gif'],body>[style*='float']{display: none !important;}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"新闻吧 - xinwenba.net\",\"example\": \"www.xinwenba.net，m.xinwenba.net\",\"url\": \"^https?://(www|m)\\\\.xinwenba\\\\.net/plus/list\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".list_image>ul>li,.list_img\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"新闻吧 - xinwenba.net\",\"example\": \"www.xinwenba.net，m.xinwenba.net\",\"url\": \"^https?://(www|m)\\\\.xinwenba\\\\.net/plus/view\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".picture>p, .view_img>p\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"娱乐吧\",\"example\": \"www.yuleba.org，m.yuleba.org\",\"url\": \"^https?://(www|m)\\\\.yuleba\\\\.org/b/\",\"nextLink\": \"//div[@class='paging']/a[text()='下一页']\",\"pageElement\": \".b_txt,.b_img:not(:nth-child(7))>ul\",\"replaceElement\": \".paging\",\"from\": 2},{\"name\": \"娱乐吧 - 圖片\",\"example\": \"www.yuleba.org，m.yuleba.org\",\"url\": \"^https?://(www|m)\\\\.yuleba\\\\.org/a/\",\"nextLink\": \"//div[@class='paging']/a[text()='下一页']\",\"pageElement\": \".picture>p, .a_img>p\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"爱美女\",\"example\": \"www.2meinv.com，wap.2meinv.com\",\"url\": \"^https?://(www|wap)\\\\.2meinv\\\\.com/(search|tags|index)?\",\"exclude\": \".title,h1>span\",\"nextLink\": \"//a[contains(@href,'html') and text()='下一页']\",\"pageElement\": \"ul.detail-list, .arcmain li, #listcon>ul\",\"replaceElement\": \".page-show, .article-page\",\"from\": 2},{\"name\": \"爱美女 - 看圖\",\"example\": \"www.2meinv.com，wap.2meinv.com\",\"url\": \"^https?://(www|wap)\\\\.2meinv\\\\.com/article\",\"init\": \"function ge(e){return document.querySelector(e)}let a=ge('.hh+.pp > a');let a2=ge('.clearfix.arcmain a');if(a){a.outerHTML=a.innerHTML}else{a2.outerHTML=a2.innerHTML}\",\"nextLink\": \"//div[@class='page-show' or contains(@class,'article-page')]/a[contains(@href,'html') and text()='下一页']\",\"pageElement\": \".hh+.pp img[alt],.clearfix.arcmain img\",\"replaceElement\": \".page-show,h1>span,.article-page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".pgg1+.hh{display:none!important}\",\"from\": 2},{\"name\": \"遛无写真\",\"example\": \"https://www.6evu.com/jgmntp\",\"url\": \"^https?://www\\\\.6evu\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"a.next\",\"pageElement\": \"#post_container\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"遛无写真 - 看圖\",\"example\": \"https://www.6evu.com/30131.html\",\"url\": \"^https?://www\\\\.6evu\\\\.com/\\\\d+\\\\.html\",\"nextLink\": \".pagelist>span+a\",\"init\": \"function gae(e){return document.querySelectorAll(e)}let _img='';gae('#post_content img').forEach(e=>{_img+=e.outerHTML});gae('#post_content')[0].innerHTML=_img;\",\"pageElement\": \"#post_content img\",\"replaceElement\": \".pagelist\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"nvsheng\",\"example\": \"www.nvsheng.cc，m.nvsheng.cc\",\"url\": \"^https?://(www|m)\\\\.nvsheng\\\\.cc/(meizi|weibo|mx|cos|search)/\",\"nextLink\": \"a[title='›']\",\"pageElement\": \".main.wide>.row>*\",\"replaceElement\": \".pagebar\",\"pageBar\": 0,\"from\": 2},{\"name\": \"nvsheng - 圖片\",\"example\": \"www.nvsheng.cc，m.nvsheng.cc\",\"url\": \"^https?://(www|m)\\\\.nvsheng\\\\.cc/.+\\\\.html\",\"nextLink\": \".now-page+a\",\"pageElement\": \".info-imtg-box>img\",\"replaceElement\": \".pagebar\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".img-next{display:none!important}\",\"from\": 2},{\"name\": \"3G 壁纸\",\"example\": \"https://www.3gbizhi.com/meinv/\",\"url\": \"^https?://www\\\\.3gbizhi\\\\.com/\",\"init\": \"document.querySelectorAll('img[alt][lazysrc]').forEach(img=>{img.src=img.getAttribute('lazysrc');img.removeAttribute('lazysrc');img.setAttribute('srcset',img.getAttribute('lazysrc2x'));img.removeAttribute('lazysrc2x');img.style='width: 100%; display: inline;'})\",\"nextLink\": \"#pageNum span+a\",\"pageElement\": \"//ul[@class='cl'][li/a[@class='imgw']/div[@class='img']/img]\",\"replaceElement\": \"#pageNum\",\"pageInit\": \"doc.querySelectorAll('img[alt][lazysrc]').forEach(img=>{img.src=img.getAttribute('lazysrc');img.removeAttribute('lazysrc');img.setAttribute('srcset',img.getAttribute('lazysrc2x'));img.removeAttribute('lazysrc2x');img.style='width: 100%; display: inline;'})\",\"pageAction\": \"document.querySelectorAll('img').forEach(img=>{img.src=img.src})\",\"css\": \".pagetual_pageBar{margin-top:-8px!important}\",\"from\": 2},{\"name\": \"3G 壁纸 - 圖片\",\"example\": \"https://www.3gbizhi.com/meinv/mn1869.html\",\"url\": \"^https?://www\\\\.3gbizhi\\\\.com/meinv/\\\\w+\\\\.html\",\"init\": \"function ge(e){return document.querySelector(e)}ge('#showimg').appendChild(ge('#showpicnow'));document.querySelectorAll('#showimg>a').forEach(e=>{e.remove()})\",\"nextLinkByUrl\": [\"/([^_]+)(_(\\\\d+))?\\\\.html$\",\"/$1_{$3+1}.html\"],\"stopSign\": [[\".showtitle>h2\",\"(\\\\d+)\"],[\".showtitle>h2\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#showpicnow\",\"replaceElement\": \"h2,.showpicboxw\",\"insert\": \"#showimg\",\"insertPos\": 2,\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".morew,#showimg>a{display:none!important}\",\"from\": 2},{\"name\": \"美女目录网 - 分類停止自動匹配\",\"example\": \"http://www.girldir.com/star/v_siwa/\",\"url\": \"^https?://[^/]+/star/\",\"include\": \"//title[contains(text(), '美女目录网')]\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"美女目录网 - 圖片\",\"example\": \"http://www.girldir.com/photos/lichengmin_1156859/\",\"url\": \"^https?://[^/]+/photos/\",\"include\": \"//title[contains(text(), '美女目录网')]\",\"action\": 1,\"init\": \"function ge(e){return document.querySelector(e)}let a = ge('.photo-box>a');a.outerHTML=a.innerHTML;ge('source').remove()\",\"nextLink\": \"//a[text()='下一张>']\",\"pageElement\": \".photo-box picture img[alt]\",\"replaceElement\": \".tools row\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"美女目录网 - 圖片列表模式載入原圖\",\"example\": \"https://www.girldir.com/photos/aozhongmaqin_list/\",\"url\": \"^https?://[^/]+/photos/\",\"include\": [\"//nav[@id='topNavBar']/a[@class='navbar-brand']/img[@src='/assets/logo.png']\",\".page-item.active\",\"nav.pagination\"],\"action\": 1,\"init\": \"document.querySelectorAll('source').forEach(e=>{e.remove()});document.querySelectorAll('picture>img').forEach(img=>{img.src=img.src.match(/[^/]+\\\\/\\\\/[^/]+\\\\/[^.]+\\\\.[a-z]{3}/)[0]})\",\"nextLink\": \"li.page-item.active+li>a\",\"pageElement\": \".photo-list.row\",\"replaceElement\": \"nav.pagination\",\"pageInit\": \"doc.querySelectorAll('source').forEach(e=>{e.remove()});doc.querySelectorAll('picture>img').forEach(img=>{img.src=img.src.match(/[^/]+\\\\/\\\\/[^/]+\\\\/[^.]+\\\\.[a-z]{3}/)[0]})\",\"from\": 2},{\"name\": \"爱看图吧\",\"example\": \"https://www.9iktb.com/galleryList/\",\"url\": \"^https?://www\\\\.9iktb\\\\.com/(galleryList|search)\",\"nextLink\": \"a[aria-label='Next']\",\"pageElement\": \".book-list>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"爱看图吧 - 看圖\",\"example\": \"https://www.9iktb.com/gallery/46215\",\"url\": \"^https?://www\\\\.9iktb\\\\.com/gallery/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".gallery-detail-img\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"新老友图社\",\"example\": \"https://m.xtushe.com/catalog/xinggan.html\",\"url\": \"^https?://m\\\\.xtushe\\\\.com/\",\"nextLink\": \"li.next>a[title='下一页']\",\"pageElement\": \"#content-list\",\"replaceElement\": \".pagebreak\",\"pageBar\": 0,\"from\": 2},{\"name\": \"新老友图社 - 看圖\",\"example\": \"https://m.xtushe.com/photo/10377.html\",\"url\": \"^https?://m\\\\.xtushe\\\\.com/photo/\\\\w+\\\\.html\",\"nextLink\": \"li.next>a[title='下一张']\",\"pageElement\": \"#content-photo>img\",\"replaceElement\": \"#content-title,.pagebreak\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"24tupian\",\"example\": \"https://www.24tupian.org/\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/(meinv|nvyou|tuimo|gaoqing|model|class|Serch)\",\"nextLink\": \"a.on+a[href$='html']\",\"pageElement\": \".lbleft>.lbl,.paihan.fl>ul,.model,.big.fl>ul,.gtps.fl>ul\",\"replaceElement\": \".page\",\"from\": 2},{\"name\": \"24tupian - 圖片清單\",\"example\": \"https://www.24tupian.org/hd2/tuimo52612.html\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/hd\\\\d+/\\\\w+\\\\.html\",\"nextLink\": \"a.on+a[href$=html]\",\"pageElement\": \".gtps.fl>ul\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"24tupian - 圖片原圖\",\"example\": \"https://www.24tupian.org/2022/10-12/tuimo52612_1.html\",\"url\": \"^https?://www\\\\.24tupian\\\\.org/\\\\d+/[0-9-]+/\\\\w+\\\\.html\",\"init\": \"let a=document.querySelector('#imgshow>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//div[@class='bb']//li[img/@id='bimg']/following-sibling::li[1]/a\",\"pageElement\": \"#imgshow img\",\"replaceElement\": \".bb ul,.hddiv+span\",\"css\": \"#imgshow img {max-width: 100%;}\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"留园酷18\",\"example\": \"https://www.cool18.com/bbs/index.php?app=forum&act=cachepage&cp=tree1\",\"url\": \"^https?://www\\\\.cool18\\\\.com/bbs\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"#d_list\",\"replaceElement\": \"#d_list_page,#d_list_foot\",\"from\": 2},{\"name\": \"妹妹图\",\"example\": \"https://mm.tvv.tw/\",\"url\": \"^https?://mm\\\\.tvv\\\\.tw/\",\"action\": 1,\"nextLink\": \"a.next\",\"pageElement\": \"//div[div/div[@class='blog-image']]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"西图阁\",\"example\": \"https://www.xtg123.cc/xrall\",\"url\": \"^https?://www\\\\.xtg123\\\\.cc/([a-z]+|\\\\?s=)\",\"nextLink\": \"a.next\",\"pageElement\": \".posts-wrapper>.row\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"Simply Hentai\",\"example\": \"https://www.simply-hentai.com/\",\"url\": \"^https?://www\\\\.simply-hentai\\\\.com/\",\"pageElement\": \"//div[div[article[a[div[@class='image-wrapper']/img[@data-src]]]]]\",\"insert\": \"nav.pagination\",\"insertPos\": 1,\"pageInit\": \"doc.querySelectorAll('.image-loader').forEach(e=>{e.remove()});\",\"css\": \".text-center{display:none!important}\",\"from\": 2},{\"name\": \"nhentai\",\"example\": \"https://nhentai.net/\",\"url\": \"^https?://(n(ya)?hentai|cathentai)\\\\.(net|to|xxx|red)/(search|\\\\?page=|tags|artists|characters|parodies|groups)?\",\"nextLink\": \"a.next,a.current+a,a.last,span.next>a\",\"pageElement\": \"//section[contains(@class,'pagination')]/preceding-sibling::div[1]/div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+div{margin-top:0px!important}\",\"from\": 2},{\"name\": \"nhentai - 閱讀\",\"example\": \"https://nhentai.net/g/422938/1/\",\"url\": \"^https?://n(ya)?hentai\\\\.(net|to|xxx|red)/g/\\\\d+/\\\\d+/?\",\"init\": \"let a = document.querySelector('#image-container>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"a.next\",\"stopSign\": [[\"span.current\",\"(\\\\d+)\"],[\"span.num-pages\",\"(\\\\d+)\"]],\"pageElement\": \"#content>img,.container>img,#image-container\",\"replaceElement\": \".reader-pagination,span.current\",\"pageInit\": \"let a = doc.querySelector('#image-container>a');a.outerHTML=a.innerHTML;\",\"pageAction\": \"document.querySelectorAll('#image-container').forEach(e=>{e.outerHTML=e.innerHTML});document.querySelectorAll('img').forEach(e=>{e.src=e.src})\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"imhentai.xxx\",\"example\": \"https://imhentai.xxx/?page=1\",\"url\": \"^https?://imhentai\\\\.xxx/(\\\\?page=\\\\d+|search)?\",\"nextLink\": \".page-item.active+li:not(.disabled)>a\",\"pageElement\": \".thumb\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"imhentai.xxx - 圖片清單檢視全部\",\"example\": \"https://imhentai.xxx/gallery/928466/\",\"url\": \"^https?://imhentai\\\\.xxx/gallery/\\\\d+/$\",\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let loop=setInterval(()=>{let b=document.querySelector('#load_all:not([style])');if(b){b.click()}if(!b){clearInterval(loop)}},2000)\",\"from\": 2},{\"name\": \"imhentai.xxx - 圖片\",\"example\": \"https://imhentai.xxx/view/932112/1/\",\"url\": \"^https?://imhentai\\\\.xxx/view/\\\\d+/\\\\d+/\",\"nextLink\": \".nav_next\",\"pageElement\": \"#gimg\",\"replaceElement\": \"span.current\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".nav_pagination,#bar,#footer,.prev_nav.page_prev,.next_nav.page_next{display:none!important}\",\"from\": 2},{\"name\": \"Pic Yailay\",\"example\": \"https://pic.yailay.com/?page=1\",\"url\": \"^https?://(pic\\\\.yailay\\\\.com|nungvl\\\\.net)/\",\"nextLink\": \".pagination-next\",\"pageElement\": \".blog\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"Pic Yailay - 圖片\",\"example\": \"https://pic.yailay.com/articles/UTVKYXJDOFRFVy8zVGlINHUySk1Ldz09.html，https://nungvl.net/gallerys/87379.cg?page=1\",\"url\": \"^https?://(pic\\\\.yailay\\\\.com|nungvl\\\\.net)/(articles|gallerys)\",\"pinUrl\": true,\"nextLink\": \"//a[text()='Next >']\",\"pageElement\": \"img[onerror]+br,img[onerror]\",\"replaceElement\": \".article-header>h1,.entry-title,.dept-ct.show-less,.pagination\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".spa-title,.spa-title+div{display:none!important}\",\"from\": 2},{\"name\": \"美女图片网 - 分類\",\"example\": \"https://www.mevtu.com/\",\"url\": \"^https?://www\\\\.mevtu\\\\.com/\",\"include\": \".nav-links\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#index_ajax_list>*\",\"replaceElement\": \".nav-links\",\"pageBar\": 0,\"from\": 2},{\"name\": \"美女图片网 - 圖片\",\"example\": \"https://www.mevtu.com/xingganmm/15275.html\",\"url\": \"^https?://www\\\\.mevtu\\\\.com/\",\"include\": \".page_imges\",\"init\": \"let a=document.querySelector('.imageclick-href');a.outerHTML=a.innerHTML;\",\"nextLink\": \"span.current+a:not(.prev)\",\"pageElement\": \"#image_div img[alt]\",\"replaceElement\": \".nav-links,.mbx-nav-right\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#content>a{display:none!important}\",\"from\": 2},{\"name\": \"俊美图 - 分類\",\"example\": \"https://www.meijuntu.com/beauty/\",\"url\": \"^https?://www\\\\.meijuntu\\\\.com/\",\"exclude\": \".next_picture\",\"nextLink\": \".pages>span +a:not(.a1)\",\"pageElement\": \".pic-list>ul>*\",\"replaceElement\": \".th_page\",\"from\": 2},{\"name\": \"看妹图\",\"example\": \"https://kanmeitu1.cc/p/\",\"url\": \"^https?://kanmeitu\\\\d\\\\.cc/p/(index_\\\\d+.html)?\",\"pageElement\": \".sou-con-list>ul\",\"replaceElement\": \".pages\",\"from\": 2},{\"name\": \"俊美图 - 圖片\",\"example\": \"https://www.meijuntu.com/beauty/wanghongnenmo_abbyliya_wanmeishencainvshen_mistar_vol_144.html\",\"url\": \"^https?://www\\\\.meijuntu\\\\.com/\",\"include\": \".next_picture\",\"init\": \"document.querySelectorAll('.pictures>a').forEach(e=>{e.remove()})\",\"nextLink\": \".pages>span +a:not(.a1)\",\"pageElement\": \".pictures>img[alt]\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"套图之家 - 分類\",\"example\": \"https://taotuhome.com/category/xgyw/\",\"url\": \"^https?://taotuhome\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//main[@id='main'][article/figure[@class='thumbnail']]\",\"replaceElement\": \".pagenav-clear\",\"pageBar\": 0,\"from\": 2},{\"name\": \"套图之家 - 圖片\",\"example\": \"https://taotuhome.com/19377.html\",\"url\": \"^https?://taotuhome\\\\.com/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//p[img[@alt]]\",\"replaceElement\": \".page-links\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"全图网 - 分類\",\"example\": \"http://qq.quantuwang1.com/meinv/taotu/，http://m.54mn.cc/meinv/taotu/\",\"url\": \"^https?://(qq?|t|w|m)\\\\.(quantuwang\\\\d?|54mn)\\\\.(com|cc)/\",\"exclude\": \".index_c_img img[alt]\",\"nextLink\": \"span+a\",\"pageElement\": \".index_middle_c\",\"replaceElement\": \".index_c_page,.list_page\",\"css\": \"body>[style*='z-index'],img[src*='/aaa/']{display:none!important}\",\"from\": 2},{\"name\": \"全图网 - 圖片 - 直接載入全部圖片\",\"example\": \"http://qq.quantuwang1.com/m/fb9deaa66efefa21.html，http://m.54mn.cc/m/29491/1.html\",\"url\": \"^https?://(qq?|t|w|m)\\\\.(quantuwang\\\\d?|54mn)\\\\.(com|cc)/m/\",\"include\": [\".index_c_img img[alt]\",\".index_c_page\"],\"pinUrl\": true,\"nextLink\": \"0\",\"init\": \"let ge=e=>document.querySelector(e);let end=ge('.index_c_page>a:last-child').innerText;let m=ge('.index_c_img img').src.match(/(^.+\\\\/)(\\\\d+)(\\\\.[a-z]{3}$)/);let path=m[1];let start=m[2];let ex=m[3];let max=parseInt(end)+parseInt(start)-1;let _img='';for(let i=start;i<=max;i++){let imgSrc=path+i+ex;let p;if(i<10){p='00'+i}else if(i<100){p='0'+i}else{p=i}let alt=ge('.index_c_title').innerText+'_P'+p;_img+=`<img src='${imgSrc}'alt='${alt}'>`};ge('.index_c_img').innerHTML=_img;\",\"css\": \"body>[style*='z-index'],img[src*='/aaa/'],.index_c_page{display:none!important}body{padding-bottom:0px!important}\",\"from\": 2},{\"name\": \"Kemono - posts\",\"example\": \"https://kemono.party/posts\",\"url\": \"^https?://kemono\\\\.party/posts\",\"nextLink\": \"a.pagination-button-after-current\",\"stopSign\": [\"\",\".card-list__item--no-results\"],\"pageElement\": \".card-list.card-list--legacy\",\"from\": 2},{\"name\": \"Kemono - user\",\"example\": \"https://kemono.party/fantia/user/17148?o=0\",\"url\": \"^https?://kemono\\\\.party/fantia/user/\\\\d+\\\\?o=\",\"nextLink\": \"a.pagination-button-after-current\",\"stopSign\": [\"\",\"li.pagination-button-disabled.pagination-button-current+li.pagination-button-disabled.pagination-button-after-current\"],\"pageElement\": \".card-list__items>article\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Kemono - post\",\"example\": \"https://kemono.party/fantia/user/17148/post/1528173\",\"url\": \"^https?://kemono\\\\.party/fantia/user/\\\\d+/post/\\\\d+$\",\"nextLink\": \".post__nav-item>a.next\",\"pageElement\": \".post__header,.post__body\",\"from\": 2},{\"name\": \"图集岛\",\"example\": \"https://www.tujidao03.com/u/?action=gengxin\",\"url\": \"^https?://www\\\\.tujidao\\\\d+\\\\.com/\",\"nextLink\": \".num+.next\",\"pageElement\": \"div.hezi>ul>li\",\"replaceElement\": \"#pages\",\"from\": 2},{\"name\": \"GOGO人体艺术\",\"example\": \"http://www.gogort2.com/html/yazhou/index_2.html\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/html/[a-z]+/(index_\\\\d+\\\\.html)?\",\"include\": \".index_list\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".ulPic\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"css\": \"iframe{height:55px!important}\",\"from\": 2},{\"name\": \"GOGO人体艺术 - 搜索\",\"example\": \"http://www.gogort2.com/index.php?m=search&c=index&a=init&typeid=&siteid=1&q=%B4%F3%B5%A8\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/index\\\\.php\\\\?m=search\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".search_content\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"GOGO人体艺术 - 標籤\",\"example\": \"http://www.gogort2.net/index.php?m=content&c=tag&a=lists&tag=%B3%AC%B4%F3%B3%DF%B6%C8\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/index\\\\.php\\\\?m=content&c=tag\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".search_list ul\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"10\",\"from\": 2},{\"name\": \"GOGO人体艺术 - 圖片\",\"example\": \"http://www.gogort2.com/html/yazhou/9988.html\",\"url\": \"^https?://www\\\\.gogort\\\\d?\\\\.[a-z]{2,3}/html/\\\\w+/\\\\d+(_\\\\d+)?\\\\.html$\",\"action\": 1,\"init\": \"document.querySelectorAll('.main>div>a[title]').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"span+a:not(.a1)\",\"pageElement\": \".avrquwl img,.stmyzbx img,.cgdijkk img,.pwb45A1 img,.wppRCvy img,.zKLIsoJ img,.RlHeZsp img,.d70qZyL img,.vI7O8HI img,.i099Wt8 img,.Mrlhr55 img,.ApxBGcj img,.O5hE1YO img,.bFzVVIb img,.cgKhHJm img,.NpowfkG img,.fFva0bX img,.ARSR2Ka img,.flZ0dv3 img,.oP7WdAw img,.wd8SrVn img,.UsP0xCk img,.yH0NSlb img,.HStHSH0 img,.re8tbBu img\",\"replaceElement\": \"//div[a/@class='a1']\",\"css\": \".main>iframe{display:none!important}iframe{height:55px!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"139人体艺术\",\"example\": \"88rtys.com，https://www.139tu.com/rtysyz/\",\"url\": \"^https?://www\\\\.139tu\\\\.[a-z]{2,3}/\",\"include\": \".list_tags\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".list-box\",\"replaceElement\": \"#pages\",\"lazyImgSrc\": \"data-echo\",\"css\": \".pagetual_pageBar{margin-top:4px!important}\",\"from\": 2},{\"name\": \"139人体艺术 - 圖片\",\"example\": \"https://www.139tu.com/rtysyz/20210829/8674.html\",\"url\": \"^https?://www\\\\.139tu\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('.img_box>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".img_box img\",\"replaceElement\": \"#pages\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"139人体艺术手機版\",\"example\": \"88rtys.com，https://m.139tu.com/rtysyz/\",\"url\": \"^https?://(m|wap)\\\\.([0-9]{2,4}[a-z]{1,5}|[a-z]{2,5}[0-9]{1,3}|\\\\d+aj|\\\\d+|xixirt|gogortrt|7m11)\\\\.[a-z]{2,3}/\",\"include\": \".page-show\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".listmain\",\"replaceElement\": \".page-show\",\"lazyImgSrc\": \"lazysrc\",\"css\": \"[style='margin:3px 0 0 0;']{display:none!important}img[alt]{opacity: 1!important}\",\"from\": 2},{\"name\": \"139人体艺术手機版 - 圖片\",\"example\": \"https://m.139tu.com/rtysyz/20200710/7479.html\",\"url\": \"^https?://(m|wap)\\\\.([0-9]{2,4}[a-z]{1,5}|[a-z]{2,5}[0-9]{1,3}|\\\\d+aj|\\\\d+|xixirt|gogortrt|7m11)\\\\.[a-z]{2,3}/[a-zA-Z]+/(\\\\d+/(\\\\d+\\\\.html$)?|\\\\d+(_\\\\d+)?\\\\.html$|\\\\d+/\\\\d+(_\\\\d+)?\\\\.html$)\",\"init\": \"document.querySelectorAll('.tal>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".tal img[alt]\",\"replaceElement\": \".page,body>[style='font-size:14px;'],.tip\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"[style='margin:3px 0 0 0;']{display:none!important}img[alt]{opacity: 1!important}\",\"from\": 2},{\"name\": \"AJ人体艺术\",\"example\": \"https://www.02aj.com/yzrt/\",\"url\": \"^https?://www\\\\.\\\\d+aj\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//div[(div/div/a/img/@alt) and @class='list']\",\"replaceElement\": \".page-list\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"AJ人体艺术 - 圖片\",\"example\": \"https://www.02aj.com/yzrt/8674.html\",\"url\": \"^https?://www\\\\.02aj\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"document.querySelectorAll('.content>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".content img\",\"replaceElement\": \".paging\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"23人体艺术\",\"example\": \"http://www.23fe.com/gogoddppys/\",\"url\": \"^https?://www\\\\.23[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".fitCont_2>ul\",\"replaceElement\": \".gengduo\",\"from\": 2},{\"name\": \"23人体艺术 - 圖片\",\"example\": \"http://www.23fe.com/gogoddppys/435.html\",\"url\": \"^https?://www\\\\.23[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"let a=document.querySelector('#content-p a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"#content-p img\",\"replaceElement\": \".gengduo\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"36人体艺术\",\"example\": \"www.36ut.com，xixirt.org\",\"url\": \"^https?://(www\\\\.)?(36[a-z]{2}|xixirt)\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".detail-list\",\"replaceElement\": \".page-show\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"36人体艺术 - 圖片\",\"example\": \"www.36ut.com，xixirt.org\",\"url\": \"^https?://(www\\\\.)?(36[a-z]{2}|xixirt)\\\\.[a-z]{2,3}/[a-z]+/(\\\\d+/|\\\\d+(_\\\\d+)?\\\\.html)\",\"action\": 1,\"init\": \"let a=document.querySelector('.pp>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".pp img\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \".picTip{display:none!important}\",\"from\": 2},{\"name\": \"42人体艺术\",\"example\": \"http://www.42jd.com/ddxxltmnrt/\",\"url\": \"^https?://www\\\\.42[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".fzltp>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"42人体艺术 - 搜索\",\"example\": \"http://www.42jd.com/plus/search.php?keyword=%E7%BE%8E%E5%A5%B3&searchtype=titlekeyword&channeltype=0&orderby=&kwtype=0&pagesize=24&typeid=0&TotalResult=50&PageNo=1\",\"url\": \"^https?://www\\\\.[0-9]{2}[a-z]{2}\\\\.[a-z]{2,3}/plus/search\\\\.php\",\"action\": 1,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//ul[li/a/@title]\",\"replaceElement\": \".page-show\",\"from\": 2},{\"name\": \"42人体艺术 - 圖片\",\"example\": \"http://www.42jd.com/ddrGOGOtysgq/417.html\",\"url\": \"^https?://www\\\\.42[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"action\": 1,\"init\": \"let a=document.querySelector('.imgbox>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".imgbox img[alt]\",\"replaceElement\": \".pagelist,.imgbox>h1\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"48人体艺术\",\"example\": \"http://www.48gd.com/qltysz/\",\"url\": \"^https?://www\\\\.48[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".grid\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"48人体艺术 - 圖片\",\"example\": \"http://www.48gd.com/yyrtdd/448.html\",\"url\": \"^https?://www\\\\.48[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('#content>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"#content img[alt]\",\"replaceElement\": \".pagelist,h3\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"54人体艺术\",\"example\": \"http://www.54aj.com/gogogmbspqq/\",\"url\": \"^https?://www\\\\.54[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//div[(li/a/img/@alt) and @class='yyy']\",\"replaceElement\": \".page\",\"from\": 2},{\"name\": \"54体艺术 - 圖片\",\"example\": \"http://www.54aj.com/gogogmbspqq/432.html\",\"url\": \"^https?://www\\\\.54[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('.content>a:not([href*=tags])');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".content img[alt]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"98人体艺术\",\"example\": \"http://www.98ah.com/gogoltmnysxz/\",\"url\": \"^https?://www\\\\.98[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".main>dl>dd\",\"replaceElement\": \".page-show\",\"from\": 2},{\"name\": \"98体艺术 - 圖片\",\"example\": \"http://www.98ah.com/GOGOqqddgqrt/415.html\",\"url\": \"^https?://www\\\\.98[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"let a=document.querySelector('.content-pic>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".content-pic img[alt]\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"64人体艺术\",\"example\": \"http://www.64ay.com/xxrtddbkxb/\",\"url\": \"^https?://www\\\\.64[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".tu_list\",\"replaceElement\": \".page-show\",\"css\": \".wzlist{height:auto!important}\",\"from\": 2},{\"name\": \"64体艺术 - 圖片\",\"example\": \"http://www.64ay.com/xxrtddbkxb/313.html\",\"url\": \"^https?://www\\\\.64[a-z]{2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+(_\\\\d+)?\\\\.html\",\"init\": \"document.querySelectorAll('.tu>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".tu img[alt]\",\"replaceElement\": \".page-show\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"666人体艺术\",\"example\": \"https://6666rt.com/ArtZG/\",\"url\": \"^https?://[6]{3,4}[a-z]{2}\\\\.[a-z]{2,3}/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".tpm02>.fzltp>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"666人体艺术 - 圖片\",\"example\": \"https://6666rt.com/ArtZG/2152/1.html\",\"url\": \"^https?://[6]{3,4}[a-z]{2}\\\\.[a-z]{2,3}/[a-zA-Z]+/\\\\d+/\\\\d+\\\\.html\",\"init\": \"document.querySelectorAll('.imgbox>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页 >>' and contains(@href,'html')]\",\"pageElement\": \".imgbox img[alt]\",\"replaceElement\": \".page,span>h1,.www\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[alt]{margin-top:0px!important;margin-bottom:0px!important}.dis{display:none!important}\",\"from\": 2},{\"name\": \"956人体艺术\",\"example\": \"https://956n.com/rbddszysz/\",\"url\": \"^https?://956[a-z]{1,2}\\\\.[a-z]{2,3}/\",\"exclude\": \".title\",\"nextLink\": \"//a[text()='下一页' and contains(@href,'html')]\",\"pageElement\": \"//ul[li/a/@title]\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"956体艺术 - 圖片\",\"example\": \"https://956n.com/rbddszysz/1398/\",\"url\": \"^https?://956[a-z]{1,2}\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/(\\\\d+\\\\.html$)?\",\"init\": \"document.querySelectorAll('.content>a').forEach(a=>{a.outerHTML=a.innerHTML})\",\"nextLink\": \"//a[text()='下一页' and contains(@href,'html')]\",\"pageElement\": \".content img[alt]\",\"replaceElement\": \".page\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"gogo人体艺术\",\"example\": \"https://gogortrt.com/gmgqdd/\",\"url\": \"^https?://gogortrt\\\\.[a-z]{2,3}/[a-z]+/\",\"include\": \".index_list\",\"nextLink\": \"//a[text()='下一页' and contains(@href,'html')]\",\"pageElement\": \".ulPic\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"css\": \"iframe{height:55px!important}\",\"from\": 2},{\"name\": \"gogo人体艺术 - 圖片\",\"example\": \"https://gogortrt.com/gmgqdd/1305/\",\"url\": \"^https?://gogortrt\\\\.[a-z]{2,3}/[a-z]+/\\\\d+/\",\"init\": \"let a=document.querySelector('.main>div:not(.atc_new_head)>a');a.outerHTML=a.innerHTML;\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".main>div:not(.atc_new_head):not(.keywords) img[alt]\",\"replaceElement\": \".Mrlsr55,.RlpeZsp,.cgdijkn,.d70rZyL,.i09cWt8,.pages,.pfb45A1,.vd7O8HI,.wpwRCvy,.zrLIsoJ\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"448人体艺术\",\"example\": \"https://488xm.com/666rentiyishu/\",\"url\": \"^https?://488xm\\\\.com/\\\\w+/\",\"pageElement\": \"#container>.grid\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"ftopx.com\",\"example\": \"https://ftopx.com/\",\"url\": \"^https?://ftopx\\\\.com/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \"//div[div[@class='thumbnail']]\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Erowall.com\",\"example\": \"https://erowall.com/\",\"url\": \"^https?://erowall\\\\.com/\",\"nextLink\": \"//a[contains(text(),'Next')]\",\"pageElement\": \".wpmini\",\"replaceElement\": \".paginator\",\"pageBar\": 0,\"from\": 2},{\"name\": \"巴哈姆特 - 文章列表\",\"example\": \"https://forum.gamer.com.tw/B.php?bsn=23805\",\"url\": \"^https?://forum\\\\.gamer\\\\.com.tw/B\\\\.php\",\"nextLink\": \"a.next\",\"pageElement\": \".b-list>tbody>tr:not(.b-list__head)\",\"replaceElement\": [\".forum-ad_top+.b-pager.pager\",\".b-popular.popular+.b-pager.pager\"],\"pageAction\": \"Forum.B.lazyThumbnail();Forum.Common.drawNoImageCanvas()\",\"pageBar\": 0,\"from\": 2},{\"name\": \"巴哈姆特 - 內文\",\"example\": \"https://forum.gamer.com.tw/C.php?bsn=23805&snA=610529&tnum=14858\",\"url\": \"^https?://forum\\\\.gamer\\\\.com.tw/C\\\\.php\",\"nextLink\": \"a.next\",\"pageElement\": \".c-section[id*='post']\",\"replaceElement\": [\"div.forum-ad_top+section>.c-section__main>#BH-pagebtn\",\"section+section>.c-section__main>#BH-pagebtn\"],\"pageBar\": 0,\"from\": 2},{\"name\": \"Mobile01 - 文章列表\",\"example\": \"https://www.mobile01.com/topiclist.php?f=300\",\"url\": \"^https?://(www|m)\\\\.mobile01\\\\.com/(forumtopic|topiclist)\",\"nextLink\": \"li.l-pagination__page.is-active+li>a,.c-pagination--next\",\"pageElement\": \".l-listTable__tbody,.u-gapNextV--lg>.u-gapNextV--lg>div[class$='u-gapNextV--lg'] .l-articleList\",\"replaceElement\": \".l-tabulate__action,.l-pagination\",\"rate\": 3,\"sleep\": 2000,\"from\": 2},{\"name\": \"Mobile01 - 內文\",\"example\": \"https://www.mobile01.com/topicdetail.php?f=300&t=6660682\",\"url\": \"^https?://www\\\\.mobile01\\\\.com/topicdetail\",\"nextLink\": \"li.l-pagination__page.is-active+li>a\",\"pageElement\": \"//div[(div/@class='l-articlePage__author') and @class='l-articlePage']\",\"replaceElement\": \"ul.l-pagination\",\"pageBar\": 0,\"rate\": 2,\"sleep\": 1000,\"from\": 2},{\"name\": \"Mobile01 - 手機版內文\",\"example\": \"https://m.mobile01.com/topicdetail.php?f=300&t=6660682\",\"url\": \"^https?://m\\\\.mobile01\\\\.com/topicdetail\",\"nextLink\": \".c-pagination--next\",\"pageElement\": \".u-gapNextV--lg>.u-gapNextV--md\",\"replaceElement\": \".u-gapNextV--lg.u-tac\",\"pageBar\": 0,\"rate\": 2,\"sleep\": 1000,\"from\": 2},{\"name\": \"94i.in - 自動簽到\",\"example\": \"https://94i.in/\",\"url\": \"^https?://94i\\\\.in/\",\"autoClick\": \"#pper_a:not([style='display: none;'])\",\"from\": 2},{\"name\": \"Gdaily\",\"example\": \"https://www.gdaily.org/software\",\"url\": \"^https?://www\\\\.gdaily\\\\.org/(search|software|app|online|teaching)\",\"init\": \"document.querySelectorAll('.adsbygoogle').forEach(e=>{e.parentNode.parentNode.remove()})\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".columns .column\",\"replaceElement\": \".navigation\",\"pageInit\": \"doc.querySelectorAll('.adsbygoogle').forEach(e=>{e.parentNode.parentNode.remove()})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"軟體部落\",\"example\": \"https://softblog.tw/green-portable\",\"url\": \"^https?://softblog\\\\.tw/\",\"include\": \".page-numbers\",\"nextLink\": \"a.next\",\"pageElement\": \"#blog-entries\",\"replaceElement\": \".oceanwp-pagination.clr\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Apkpure\",\"example\": \"https://apkpure.com/tw/game\",\"url\": \"^https?://apkpure\\\\.com/\",\"nextLink\": \"a.loadmore\",\"pageElement\": \"#pagedata\",\"replaceElement\": \".loadmore\",\"pageBar\": 0,\"from\": 2},{\"name\": \"阿榮福利味\",\"example\": \"https://www.azofreeware.com/\",\"url\": \"^https?://www\\\\.azofreeware\\\\.com/\",\"action\": 1,\"nextLink\": \".blog-pager-older-link\",\"pageElement\": \".blog-posts.hfeed\",\"replaceElement\": \"#blog-pager\",\"from\": 2},{\"name\": \"KaranPc\",\"example\": \"https://karanpc.com/windows/download-managers/\",\"url\": \"^https?://karanpc\\\\.com/\",\"include\": \"#nav-below\",\"nextLink\": \"a.next\",\"pageElement\": \"article[id^='post']\",\"replaceElement\": \"#nav-below\",\"pageBar\": 0,\"from\": 2},{\"name\": \"FC Portables\",\"example\": \"https://www.fcportables.com/\",\"url\": \"^https?://www\\\\.fcportables\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"article[class^='post']\",\"replaceElement\": \".pagination\",\"pageInit\": \"doc.querySelectorAll('a.img-holder').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.src}')`;a.classList.add('b-loaded');a.removeAttribute('data-src')})\",\"pageBar\": 0,\"from\": 2},{\"name\": \"億破姐&電腦系統吧\",\"example\": \"http://www.dnxitong.com/soft/\",\"url\": \"^https?://www\\\\.(ypojie|dnxitong)\\\\.com/\",\"nextLink\": \".next-page>a\",\"pageElement\": \"article[class^='excerpt excerpt-']\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"果核剥壳\",\"example\": \"https://www.ghxi.com/category/all/pcsoft\",\"url\": \"^https?://www\\\\.ghxi\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"ul.post-loop>.item\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"大眼仔旭\",\"example\": \"http://www.dayanzai.me/\",\"url\": \"^https?://www\\\\.dayanzai\\\\.me/\",\"nextLink\": \".page>span+a\",\"pageElement\": \"ul.c-news\",\"replaceElement\": \".page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"423down\",\"example\": \"https://www.423down.com/\",\"url\": \"^https?://www\\\\.423down\\\\.com/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".content>.excerpt, .commentlist>li\",\"replaceElement\": \".paging, .pagenav\",\"pageBar\": 0,\"from\": 2},{\"name\": \"奔跑中的奶酪\",\"example\": \"http://www.runningcheese.com/\",\"url\": \"^https?://www\\\\.runningcheese\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \".ajaxpost\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"菜鸟教程 - 文章页\",\"example\": \"https://www.runoob.com/js/js-tutorial.html\",\"url\": \"^https?://www\\\\.runoob\\\\.com/[a-z/-]+\\\\.html\",\"action\": 1,\"nextLink\": \"a[style^='b']+a,a[style^='b']+br+h2+a\",\"pageElement\": \".article-heading, .article-body\",\"waitElement\": [\"a[target='_top'][style^='background']\"],\"replaceElement\": \".sidebar-box\",\"from\": 2},{\"name\": \"菜鸟教程 - 分类页\",\"example\": \"https://www.runoob.com/w3cnote\",\"url\": \"^https?://www\\\\.runoob\\\\.com/w3cnote\",\"nextLink\": \"li.next-page>a\",\"pageElement\": \".archive-list>.archive-list-item\",\"replaceElement\": \"#wp_page_numbers\",\"from\": 2},{\"name\": \"w3school.com.cn\",\"example\": \"https://www.w3school.com.cn/js/index.asp\",\"url\": \"^https?://www\\\\.w3school\\\\.com\\\\.cn/\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('li.next>a[href]');if(next&&next.href.indexOf('/index.')===-1)return next.href\",\"pageElement\": \"#maincontent>*:not([class*='prenextnav']):not(#bpn):not(#tpn)\",\"replaceElement\": \"ul.prenext, #navsecond\",\"insert\": \"id('bpn') | //div[contains(@class, 'prenextnav')][last()]\",\"insertPos\": 1,\"pageBarText\": 1,\"initRun\": 1,\"autoLoadNum\": 2,\"from\": 2},{\"name\": \"docs.oracle.com\",\"example\": \"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html\",\"url\": \"^https?://docs\\\\.oracle\\\\.com/\",\"action\": 2,\"nextLink\": \"//a[text()='Next']\",\"pageElement\": \".chapter,.index,.appendix\",\"from\": 2},{\"name\": \"4download\",\"example\": \"https://4download.net/software/\",\"url\": \"^https?://4download\\\\.net/\",\"include\": \".pagi-nav.clearfix.ignore-select\",\"nextLink\": \"span.pnext>a\",\"pageElement\": \".short-item\",\"replaceElement\": \".pagi-nav\",\"rate\": 2,\"pageBar\": 0,\"from\": 2},{\"name\": \"cahdroid\",\"example\": \"https://cahdroid.com/\",\"url\": \"^https?://cahdroid\\\\.com/\",\"include\": \".pagination\",\"nextLink\": \"span.page-numbers.current+a\",\"pageElement\": \".relat,.post-show\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"Winaero\",\"example\": \"https://winaero.com/category/windows-10/\",\"url\": \"^https?://winaero\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#main>article\",\"replaceElement\": \".pagination\",\"rate\": 3,\"pageBar\": 0,\"from\": 2},{\"name\": \"scloud.ws\",\"url\": \"^https?://scloud\\\\.ws/\",\"nextLink\": \".js-ls-pagination-next\",\"pageElement\": \".topic-card-wrapper\",\"from\": 2},{\"name\": \"ijtsrd.com\",\"example\": \"https://www.ijtsrd.com/archive/21/volume-3/issue-4\",\"url\": \"^https?://www\\\\.ijtsrd\\\\.com/\",\"include\": \"//ul[li[@class='active'] and @class='pagination']/following-sibling::ul[1]//a[@href]\",\"nextLinkByJs\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let next=gx(\\\"//ul[li[@class='active'] and @class='pagination']/following-sibling::ul[1]//a[@href]\\\");if(next)return location.href.replace(/\\\\/p-\\\\d+$/,'')+'/p-'+next.innerText\",\"pageElement\": \".mGrid\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"小众软件\",\"example\": \"https://www.appinn.com/abouttime/amp/\",\"url\": \"^https?://www\\\\.appinn\\\\.com/\",\"nextLink\": \"a.next,.next>a\",\"pageElement\": \"article,.amp-post-title,.amp-featured-image,.cntn-wrp\",\"replaceElement\": \"#pagination,.pagination,.sp-lt,.s_stk\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"https://www.orcy.net.cn/\",\"example\": \"https://www.orcy.net.cn/\",\"url\": \"^https?://www\\\\.orcy\\\\.net\\\\.cn/\",\"nextLink\": \".nextpostslink\",\"pageElement\": \".Article__content\",\"replaceElement\": \".wp-pagenavi\",\"from\": 2},{\"name\": \"www.thingiverse.com\",\"example\": \"https://www.thingiverse.com/\",\"url\": \"^https?://www\\\\.thingiverse\\\\.com/\",\"action\": 1,\"waitElement\": [\"img[alt='Make Card'][loading]\"],\"nextLink\": \"//a[div[span[text()='More']]]\",\"pageElement\": \"[class^='SearchResult__searchResultItems']\",\"replaceElement\": \"[class^='Pagination__pagination']\",\"css\": \".pagetual_pageBar{margin-top:2px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"onehu.xyz\",\"example\": \"https://onehu.xyz/\",\"url\": \"^https?://onehu\\\\.xyz/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"//div[article]\",\"replaceElement\": \"#pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"200btsow.vip\",\"example\": \"https://200btsow.vip/\",\"url\": \"^https?://200btsow\\\\.vip/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//tr[td/a[@title]]\",\"replaceElement\": \"//a[text()='下一页']\",\"pageBar\": 0,\"from\": 2},{\"name\": \"淘豆网 - 閱讀\",\"example\": \"https://m.taodocs.com/p-118668992.html\",\"url\": \"^https?://m\\\\.taodocs\\\\.com/\",\"autoClick\": \".view\",\"loadMore\": \"#moreBtn\",\"from\": 2},{\"name\": \"飛極速線上\",\"example\": \"http://www.fjisu2.com/acg/japan/\",\"url\": \"^https?://(www\\\\.|m\\\\.)?(fjisu|feijisu)\\\\d+\\\\.com/\\\\w+/\\\\w+/\",\"action\": 1,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".b-listtab,.picTxt>.picTxt\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar+div {margin-top: -10px !important;}\",\"from\": 2},{\"name\": \"115看劇 - 分類\",\"example\": \"https://115kanju.com/center\",\"url\": \"^https?://115kanju\\\\.com/\",\"nextLink\": \"li[title='下一页']\",\"pageElement\": \"//div[div/div/a/img[@alt]]\",\"replaceElement\": \".ant-pagination\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"NO视频\",\"example\": \"https://www.novipnoad.com/movie/\",\"url\": \"^https?://www\\\\.novipnoad\\\\.com/\",\"nextLink\": \"a.nextpostslink\",\"pageElement\": \"//div[div[@id and contains(@class,'video-item')] and contains(@class,'col-md-3')] | //div[@id and contains(@class,'blog-item video-item')]\",\"replaceElement\": \".wp-pagenavi\",\"pageBar\": 0,\"from\": 2},{\"name\": \"厂长资源\",\"example\": \"https://czzy01.com/\",\"url\": \"^https?://[^/]+/\",\"include\": \"//title[contains(text(),'厂长资源')]\",\"nextLink\": \".current+a\",\"pageElement\": \".bt_img>ul\",\"replaceElement\": \".pagenavi_txt\",\"pageBar\": 0,\"from\": 2},{\"name\": \"电影狗\",\"example\": \"https://www.dianyinggou.com/yingku/\",\"url\": \"^https?://www\\\\.dianyinggou\\\\.com/\",\"nextLink\": \".mainPage li.selected+li>a\",\"pageElement\": \".movies,.celebrity,.cntBox.articles\",\"replaceElement\": \".mainPage \",\"lazyImgSrc\": \"data-url\",\"css\": \".movies+.pagetual_pageBar,.celebrity+.pagetual_pageBar{margin-top:-40px!important}\",\"from\": 2},{\"name\": \"马克喵\",\"example\": \"https://www.macat.vip/%e5%ad%97%e4%bd%93\",\"url\": \"^https?://www\\\\.macat\\\\.vip/\",\"include\": \".posts-wrapper.row\",\"nextLink\": \".next\",\"pageElement\": \".posts-wrapper>div\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"低端影视\",\"example\": \"https://ddys.tv/category/movie/\",\"url\": \"^https?://ddys\\\\d?\\\\.[a-z]{2,3}/\",\"nextLink\": \"a.next\",\"pageElement\": \".post-box-list\",\"replaceElement\": \".pagination_wrap\",\"pageBar\": 0,\"from\": 2},{\"name\": \"核桃影院\",\"example\": \"http://kkkk.plus/vodshow/1-----------.html\",\"url\": \"^https?://kkkk\\\\.plus/\",\"nextLink\": \".page-next\",\"pageElement\": \".module-items\",\"replaceElement\": \"#page\",\"css\": \".pagetual_pageBar{margin-bottom:20px!important}\",\"from\": 2},{\"name\": \"91 美剧网\",\"example\": \"https://91mjw.vip/category/dianying\",\"url\": \"^https?://(91mjw|91mj)\\\\.vip/\",\"nextLink\": \".next-page>a\",\"pageElement\": \".m-movies>.u-movie\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"ZzzFun 动漫\",\"example\": \"http://www.zzzfun.com/vod_type_id_1.html\",\"url\": \"^https?://www\\\\.zzzfun\\\\.com/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".main-guide>.search-result>a\",\"replaceElement\": \"#page\",\"pageBar\": 0,\"from\": 2},{\"name\": \"吐槽弹幕网\",\"example\": \"https://www.tucao.lol/list/7/\",\"url\": \"^https?://www\\\\.tucao\\\\.[a-z]{3}/\",\"nextLink\": \".pagego a\",\"pageElement\": \".list>ul\",\"replaceElement\": \".newpages,.pagego,#float_sho\",\"from\": 2},{\"name\": \"吐槽弹幕网 - 搜索页\",\"example\": \"https://www.tucao.lol/index.php?m=content&c=search&a=init&catid=24&dosubmit=1&orderby=a.id+DESC&info%5Btitle%5D=%E8%BD%AC%E7%94%9F&page=3\",\"action\": 1,\"url\": \"^https?://www\\\\.tucao\\\\.[a-z]{3}/index\\\\.php\\\\?\",\"nextLink\": \"//a[@class='a1' and contains(text(), '下一页')]\",\"pageElement\": \"//div[div[@class='search_info']]\",\"replaceElement\": \".newpages\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+div{margin-top:10px!important}\",\"from\": 2},{\"name\": \"Vilipix\",\"example\": \"https://www.vilipix.com/new\",\"url\": \"^https?://www\\\\.vilipix\\\\.com/\",\"action\": 2,\"nextLinkByJs\": \"let next=doc.querySelector('li.number.active+li.number');if(next)return location.origin+location.pathname+'?p='+next.innerText\",\"pageElement\": \"ul.illust-content\",\"replaceElement\": \"ul.el-pager\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);setTimeout(()=>{let cpn=ge('.el-pager>.number.active').innerText;let ps=gae('.el-pager>.number:not(.active)');let lp=location.pathname;ps.forEach(e=>{let p=e.innerText;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;e.setAttribute('onclick',link)});let pb=ge('button.btn-prev');if(pb){if(cpn>1){pb.removeAttribute('disabled');let p=cpn-1;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;pb.setAttribute('onclick',link)}}let nb=ge('button.btn-next');if(nb){let last=ge('.el-pager>li.active:last-child');if(last){nb.setAttribute('disabled','disabled')}else{let npn=ge('.el-pager>.number.active+li').innerText;let p=parseInt(cpn)+1;let lpp=lp+'?p='+p;let link=`location.href='${lpp}'`;nb.setAttribute('onclick',link)}}},500)\",\"from\": 2},{\"name\": \"游研社\",\"example\": \"https://www.yystv.cn/docs\",\"url\": \"^https?://www\\\\.yystv\\\\.cn/\",\"action\": 1,\"nextLinkByJs\": \"let next = doc.querySelector('.cur-page+li'); if (next) return location.origin + location.pathname + '?page=' + next.innerText\",\"pageElement\": \".list-container>li,.video-list,.img-mode\",\"replaceElement\": \".page-list\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);gae('.scale-img').forEach(e=>{e.style=e.getAttribute('style')});setTimeout(()=>{let ls=gae('.page-num-list li:not([class])');let lp=location.pathname;ls.forEach(e=>{let p=e.innerText;let link=lp+'?page='+p;let ps=`location.href='${link}'`;e.setAttribute('onclick',ps)});let h=ge('.page-list>li:nth-child(1)');let gohp=`location.href='${lp}'`;h.setAttribute('onclick',gohp);let n=ge('.page-list>li:nth-child(2)');let np=ge('.cur-page+li');if(n&&np){let link=lp+'?page='+np.innerText;let next=`location.href='${link}'`;n.setAttribute('onclick',next)}else{n.removeAttribute('onclick')}let input=ge('.page-list-custom-input');input.addEventListener('keydown',(e)=>{let key=window.event?e.keyCode:e.which;if(key=='13'){let url=location.href.replace(/\\\\?page=\\\\d+/,'');if(input.value>0)location.href=url+'?page='+input.value}})},500)\",\"from\": 2},{\"name\": \"steamcommunity.com\",\"url\": \"^https?://steamcommunity\\\\.com/\",\"include\": \".workshopBrowsePaging\",\"nextLink\": \"a.pagebtn:last-child\",\"pageElement\": \".workshopBrowseItems\",\"replaceElement\": \".workshopBrowsePaging\",\"pageAction\": \"let ps=document.querySelectorAll('.workshopBrowseItems');let last=ps.length-1;ps[last].querySelectorAll('script').forEach(e=>{eval(e.innerHTML)})\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"99images\",\"example\": \"https://www.99images.com/celebrities/aisha-sharma\",\"url\": \"^https?://www.99images.com/\",\"action\": 1,\"init\": \"document.querySelectorAll('.gallery-images-container').forEach(e=>{e.nextElementSibling.remove()})\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \".gallery-images-container\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"libgen.rs\",\"example\": \"http://libgen.rs/search.php?&req=The+Way+Out&phrase=1&view=simple&column=def&sort=def&sortmode=ASC&page=1\",\"url\": \"^https?://libgen\\\\.rs/\",\"action\": 1,\"waitElement\": [\"//td[span/strong]\"],\"nextLink\": \"//td[span/strong]/following-sibling::td[1]//a | //table/tbody/tr/td/font[@color]/a\",\"pageElement\": \"//tr[td[@nowrap]]\",\"replaceElement\": \"//div[contains(@class,'paginator')] | //table[tbody/tr/td/font[@color]]\",\"from\": 2},{\"name\": \"筆趣影視\",\"example\": \"http://biquys.com/acg/y2022/\",\"url\": \"^https?://(www\\\\.)?biquys.com/(acg|zongyi|mov|tv)/\",\"action\": 1,\"nextLink\": \"//a[@class='a1' and text()='下一页']\",\"pageElement\": \".index-tj\",\"replaceElement\": \".page\",\"wait\": \"let img=doc.querySelector('ul.main img');return img!=null\",\"css\": \".pagetual_pageBar{margin-top:-10px!important;}.mb {margin-bottom: 10px!important;}\",\"from\": 2},{\"name\": \"LIBVIO\",\"example\": \"https://libvio.me/type/1.html\",\"url\": \"^https?://libvio\\\\.me/\",\"action\": 1,\"wait\": 1000,\"nextLink\": \"li.active+li>a\",\"pageElement\": \".stui-vodlist\",\"replaceElement\": \".stui-page__item\",\"pageInit\": \"let defaultImg='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-ae4eabf5-1b15-425e-bdc9-144e48cded99/c9d2141e-8569-4996-9c73-d633a0669fa8.gif';doc.querySelectorAll('a.lazyload').forEach((item)=>{let imgUrl=item.dataset.original;let image=new Image();image.src=imgUrl;if(!image.complete){item.style.backgroundImage=`url(${defaultImg})`}})\",\"css\": \".stui-page__all{display:none!important}\",\"from\": 2},{\"name\": \"怡萱动漫\",\"example\": \"https://www.yxdmlove.com/resource/\",\"url\": \"^https?://www\\\\.yxdmlove\\\\.com/\",\"nextLink\": \"//a[@class='nextPage' or text()='下一页']\",\"pageElement\": \".dhnew>ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"妮可动漫\",\"example\": \"http://www.nicotv.me/video/type3/-----4-addtime.html\",\"url\": \"^https?://www\\\\.nicotv\\\\.me/\",\"nextLink\": \"//ul[contains(@class, 'pagination ')]//a[text()='»']\",\"pageElement\": \"ul.list-unstyled\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"漫岛动漫\",\"example\": \"https://www.mandao.tv/list/lm1.html\",\"url\": \"^https?://www\\\\.mandao\\\\.tv/\",\"nextLink\": \"//div[contains(@class, 'page')]/a[text()='>']\",\"pageElement\": \".index-tj>ul\",\"replaceElement\": \".page\",\"css\": \".pagetual_pageBar{margin-top:-30px!important}\",\"from\": 2},{\"name\": \"AGE 动漫\",\"example\": \"https://www.agemys.net/catalog/all-all-all-all-all-time-1\",\"url\": \"^https?://www\\\\.agemys\\\\.[^/]+/\",\"nextLink\": \"id('container')//div[@class='blockcontent']/div[@style][not(@class)]/li/a[contains(text(), '下一页')]\",\"pageElement\": \"#container .blockcontent1>div, #container .blockcontent>ul:not(.search-list)>li\",\"replaceElement\": \"#container .blockcontent>div[style]:not([class])\",\"from\": 2},{\"name\": \"AGE 动漫 - 排行榜\",\"example\": \"https://www.agemys.cc/rank\",\"url\": \"^https?://www\\\\.agemys\\\\.cc/rank\",\"nextLink\": \"id('container')/ul[@style][not(@class)]/li/a[contains(text(), '下一页')]\",\"pageElement\": \"#container>.div_right .blockcontent.div_right_r_3>ul\",\"replaceElement\": \"#container>ul[style]:not([class])\",\"css\": \".pagetual_pageBar+ul{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"233 动漫\",\"example\": \"https://www.dm233.cc/catalog/\",\"url\": \"^https?://www\\\\.dm233\\\\.cc/\",\"nextLink\": \"//div[@class='pagelist']//a[contains(text(), '下一页') or contains(text(), '下一頁')]\",\"pageElement\": \".dhnew ul, .xgyd ul\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"233 动漫 - 排行榜\",\"example\": \"https://www.dm233.cc/rank/\",\"url\": \"^https?://www\\\\.dm233\\\\.cc/rank/\",\"nextLink\": \"//div[@class='pagelist']//a[contains(text(), '下一页') or contains(text(), '下一頁')]\",\"pageElement\": \".side-update.normal-wai>.normal-nei\",\"replaceElement\": \".pagelist\",\"from\": 2},{\"name\": \"anime1.me\",\"example\": \"https://anime1.me/\",\"url\": \"^https?://anime1\\\\.me/\",\"nextLink\": \"a.next\",\"pageElement\": \"#table-list>tbody>tr\",\"from\": 2},{\"name\": \"ACG.RIP\",\"example\": \"https://acg.rip/\",\"url\": \"^https?://acg\\\\.rip/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"table.post-index>tbody\",\"replaceElement\": \"ul.pagination\",\"from\": 2},{\"name\": \"AniRena\",\"example\": \"https://www.anirena.com/\",\"url\": \"^https?://www\\\\.anirena\\\\.com/\",\"nextLink\": \"a.disabled+a:not(.disabled)\",\"pageElement\": \".full2, .full2+script\",\"replaceElement\": \".full3.buttons\",\"pageAction\": \"let ss=document.querySelectorAll('.full2+script');let n=Math.ceil(ss.length/100);for(let i=(n-1)*100-1;i<ss.length;i++){eval(ss[i].innerHTML)};\",\"from\": 2},{\"name\": \"萌番组\",\"example\": \"https://bangumi.moe/\",\"url\": \"^https?://bangumi\\\\.moe/\",\"loadMore\": \"[torrent-list='lattorrents'] button[ng-click='loadMore()'] ,[torrent-list='torrents'] button[ng-click='loadMore()']\",\"from\": 2},{\"name\": \"萌番组 lite\",\"example\": \"https://bangumi.moe/lite/\",\"url\": \"^https?://bangumi\\\\.moe/lite/\",\"nextLink\": \"//section/a[span[contains(@class, 'next')]]\",\"pageElement\": \".torrents-ul\",\"replaceElement\": \".page-btn-section\",\"pageAction\": \"eval(document.querySelector('head>script:not([src])').innerHTML)\",\"css\": \".pagetual_pageBar+ul{padding-top:0px!important}\",\"from\": 2},{\"name\": \"YTS\",\"example\": \"https://yts.mx/browse-movies\",\"url\": \"^https?://yts\\\\.mx/browse-movies\",\"nextLink\": \"//ul[contains(@class, 'tsc_pagination')]/li[a/@class='current']/following-sibling::li[1]/a\",\"pageElement\": \".browse-movie-wrap\",\"replaceElement\": \".tsc_pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"1337x\",\"example\": \"https://www.1377x.to/\",\"url\": \"^https?://www\\\\.1377x\\\\.\",\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"table.table-list>tbody\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"kickasss\",\"example\": \"https://kickasss.to/\",\"url\": \"^https?://(kickasss|katcr)\\\\.\",\"nextLink\": \"a.active+a\",\"pageElement\": \"table.data.frontPageWidget>tbody>tr:not(.firstr)\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"TorrentGalaxy\",\"example\": \"https://torrentgalaxy.to/torrents.php\",\"url\": \"^https?://torrentgalaxy\\\\.to/\",\"nextLink\": \"li.page-item.active+li.page-item>a\",\"pageElement\": \".tgxtable>.tgxtablerow\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"limetorrents\",\"example\": \"https://ww1.limetorrents.icu/movies\",\"url\": \"^https?://(\\\\w{1,3}\\\\.)?limetorrents\\\\.icu/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"section>.row\",\"replaceElement\": \".tsc_pagination\",\"css\": \"#social_popup{display:none!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"WebHD\",\"example\": \"http://webhd.cc/\",\"url\": \"^https?://webhd\\\\.cc/\",\"nextLink\": \"//a[@class='page-link'][contains(text(), '下一页')]\",\"pageElement\": \".col-lg-9 .bg-white.shadow-sm.rounded-3>.row.gx-0\",\"replaceElement\": \"ul.pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"WebHD - 搜索页\",\"example\": \"http://webhd.cc/search/king\",\"url\": \"^https?://webhd\\\\.cc/search/\",\"nextLink\": \"//a[@class='page-link'][contains(text(), '下一页')]\",\"pageElement\": \".col-lg-9 .bg-white.shadow-sm.rounded-3\",\"replaceElement\": \"ul.pagination\",\"insert\": \"nav[aria-label='pagination']\",\"insertPos\": 1,\"pageBar\": 0,\"from\": 2},{\"name\": \"MINI4K\",\"example\": \"https://www.mini4k.com/movies\",\"url\": \"^https?://www\\\\.mini4k\\\\.com/movies\",\"nextLink\": \"a.pager__item--next\",\"pageElement\": \"div[class*='-item-list']>ul>.column\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"言耽社 - 分类页\",\"example\": \"https://yandanshe.com/\",\"url\": \"^https?://yandanshe\\\\.com/b\",\"nextLink\": \".next-page>a\",\"pageElement\": \".excerpts\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"言耽社 - 閱讀\",\"example\": \"https://yandanshe.com/\",\"url\": \"^https?://yandanshe\\\\.com/\\\\d+\",\"nextLink\": \"span.current+a\",\"pageElement\": \"title,.article-content\",\"replaceElement\": \".list\",\"pageBarText\": \"let t=doc.querySelector('.article-content');if(t)return t.innerText\",\"from\": 2},{\"name\": \"愛戀動漫&MioBT\",\"example\": \"http://www.kisssub.org/，http://miobt.com/\",\"url\": \"^https?://(www\\\\.|m|share\\\\.)?(kisssub|miobt|comicat|acgnx|anix|36dm)\\\\.(org|com|se|moe|club)\",\"action\": 1,\"nextLink\": \"span.current+a\",\"pageElement\": \"#data_list>tr,.lists\",\"replaceElement\": \".pages.clear\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"動漫花園\",\"example\": \"http://share.dmhy.org/topics/list/sort_id/2\",\"url\": \"^https?://(www|share|dmhy)?(\\\\.)?(dmhy|anoneko)\\\\.(org|com)\",\"action\": 1,\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \"thead+tbody\",\"replaceElement\": \".table.clear>.nav_title,script+.nav_title\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"蜜柑计划\",\"example\": \"https://mikanani.me/Home/Classic\",\"url\": \"^https?://mikanani\\\\.me/Home/Classic\",\"action\": 1,\"nextLinkByJs\": \"let next=doc.querySelector('.pagination>li.active+li:not([style]):not([class])>a');if(next)return location.origin+location.pathname.replace(/\\\\/\\\\d+$/,'')+'/'+next.innerText\",\"pageElement\": \"//table/tbody/tr\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"BT 之家\",\"example\": \"https://www.btbtt15.com/forum-index-fid-950.htm\",\"url\": \"^https?://www\\\\.btbtt\\\\d+\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"//div[@class='page']/a[text()='▶' or text()='下一页']\",\"pageElement\": \"#threadlist>.thread\",\"replaceElement\": \"div+div.page\",\"pageBar\": 0,\"rate\": 3,\"from\": 2},{\"name\": \"limetorrents.cc\",\"example\": \"https://www.limetorrents.lol/browse-torrents/Movies/\",\"url\": \"^https?://www\\\\.limetorrents\\\\.lol/(browse-torrents|search)/\",\"nextLink\": \"#next\",\"pageElement\": \"table.table2>tbody>tr:not(:first-of-type)\",\"replaceElement\": \".search_stat\",\"from\": 2},{\"name\": \"RARBG\",\"example\": \"https://rarbg.to/torrents.php?category=movies\",\"url\": \"^https?://(proxy|unblocked)?rarbg([a-z0-9]+)?\\\\.(to|org|com)/\",\"pinUrl\": true,\"action\": 2,\"include\": \"#pager_links\",\"nextLink\": \"#pager_links>a[title='next page']\",\"pageElement\": \"//table[tbody/tr[@class='lista2']/td/a/img]\",\"replaceElement\": \"#pager_links\",\"pageAction\": \"document.querySelectorAll('iframe[name]').forEach(iftame=>{iftame.style.margin='0 -2px 2px 0px'});let w=document.querySelector('.lista2t .lista2>td[align=center]:not([width])').clientWidth-2;let iframes=document.getElementsByTagName('iframe');for(let i=0;i<iframes.length;i++){let iframe=iframes[i].contentWindow.document;iframe.body.querySelectorAll('.lista2t .lista2>td[align=center]:not([width])').forEach(e=>{e.setAttribute('width',w)})};\",\"sleep\": 1000,\"css\": \"inIframe:body,table{margin:0!important;padding:0!important;width:100.1%!important}td[width='100'],.lista2t tr:not(.lista2){display:none!important}body{background:none!important}table.lista2t{border-top:2px solid #a0cff0}\",\"from\": 2},{\"name\": \"SkrBT / BT1207\",\"example\": \"http://ibt120701.xyz/search?keyword=king\",\"url\": \"^https?://.*(bt1207|skrbt)[^/]+/\",\"include\": \"#search-form\",\"nextLinkByJs\": \"let n=doc.querySelector('ul.pagination>li.active+li>a');if(!n)return null;let params=[];let form=doc.querySelector('#search-form');form.querySelectorAll('input').forEach(input=>{if(input.name=='p')params.push('p='+n.innerText);else params.push(input.name+'='+input.value)});return form.action+'?'+params.join('&')\",\"pageElement\": \"ul.list-unstyled\",\"replaceElement\": \"nav>.pagination\",\"css\": \".pagetual_pageBar+.list-unstyled{margin-top:0px!important;}#right-panel{display:none!important}\",\"from\": 2},{\"name\": \"點點字幕\",\"example\": \"http://www.ddzimu.com/download/xslist.php?key=king\",\"url\": \"^https?://www\\\\.ddzimu\\\\.com/\\\\w+/xslist\\\\.php\",\"nextLink\": \"li.disabled+li>a\",\"pageElement\": \".list>ul>li:not(.first)\",\"replaceElement\": \"div.pagination\",\"from\": 2},{\"name\": \"中文字幕网 zimuzimu\",\"example\": \"http://cn.zimuzimu.com/so_zimu.htm?q=2020\",\"url\": \"^https?://cn\\\\.zimuzimu\\\\.com/\",\"nextLink\": \"li.page-item.active+li>a\",\"pageElement\": \"li.thread\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"字幕库 zmk\",\"example\": \"https://zimuku.org/\",\"url\": \"^https?://zimuku\\\\.org/\",\"nextLink\": \"a.next\",\"pageElement\": \"table>tbody\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"A4k 字幕網\",\"example\": \"https://www.a4k.net/\",\"url\": \"^https?://www\\\\.a4k\\\\.net/\",\"nextLink\": \"a.pager__item--next\",\"pageElement\": \".list>.item\",\"replaceElement\": \"nav.pager\",\"pageBar\": 0,\"from\": 2},{\"name\": \"伪射手网\",\"example\": \"http://assrt.net/xml/list/sub/\",\"url\": \"^https?://assrt\\\\.net/\",\"nextLinkByJs\": \"let next = doc.querySelector('#pl-current+a'); if (next) return location.origin + location.pathname + '?page=' + next.innerText\",\"pageElement\": \".subitem:not([style])\",\"replaceElement\": \".pagelinkcard\",\"insert\": \".pagelinkcard\",\"insertPos\": 1,\"css\": \".pagetual_pageBar{margin-top:10px!important}.pagetual_pageBar+.subitem{margin-top:-2px!important}\",\"from\": 2},{\"name\": \"SubHD\",\"example\": \"https://subhd.tv/sub/movie\",\"url\": \"^https?://subhd(tw)?\\\\.(tv|com|la|cc|me)/(zu|sub|search)/\",\"include\": \"nav.clearfix\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".bg-white.shadow-sm.rounded-3\",\"replaceElement\": \".pagination\",\"insert\": \"nav.clearfix\",\"insertPos\": 1,\"css\": \".col-lg-3.pt-5{display:none!important}.pagetual_pageBar{margin-top:-10px!important;}\",\"rate\": 3,\"sleep\": 1000,\"from\": 2},{\"name\": \"R3SUB - 搜索\",\"example\": \"https://r3sub.com/search.php?s=king\",\"url\": \"^https?://r3sub\\\\.com/search\\\\.php\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".movie.movie--preview.ddd\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:10px!important;}.pagetual_pageBar+.movie{margin-top:-2px!important;}\",\"from\": 2},{\"name\": \"kantv.io\",\"example\": \"http://kantv.io/home/\",\"url\": \"^https?://kantv\\\\.io/\",\"nextLink\": \"li.active+li>a\",\"pageElement\": \".subom-post\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-8px!important;}\",\"from\": 2},{\"name\": \"comic.bh3.com\",\"example\": \"https://comic.bh3.com/book/1001/1\",\"url\": \"^https?://comic\\\\.bh3\\\\.com/book/\\\\d+/\\\\d+\",\"nextLinkByJs\": \"let n=doc.querySelector('.comic-wrapper>a:last-child');if(n){return location.origin+n.href.split('\\\\'')[3]}\",\"pageElement\": \"img.comic_img,.comic-wrapper>.read-next\",\"replaceElement\": \".comic-wrapper>a:last-child,.header_word\",\"css\": \".comic-wrapper {overflow-y: initial !important;} .comic_img{display: inline;}\",\"from\": 2},{\"name\": \"快看 - 閱讀\",\"example\": \"https://www.kuaikanmanhua.com/web/comic/190217/\",\"url\": \"^https?://www\\\\.kuaikanmanhua\\\\.com/web/comic/\\\\d+\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src})\",\"nextLink\": \"//a[not(@href='javascript:void(0);') and text()='下一话']\",\"pageElement\": \".imgList\",\"replaceElement\": \".comicDetails h3,.AdjacentChapters,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.imgList');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"css\": \".giude{display:none!important}\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/[^|]+/)[0].trim()\",\"from\": 2},{\"name\": \"快看 - 分類\",\"example\": \"https://www.kuaikanmanhua.com/tag/0\",\"url\": \"^https?://www\\\\.kuaikanmanhua\\\\.com/tag/\\\\d+\",\"init\": \"let ge=e=>document.querySelector(e);let link=ge('.headerContent>div>ul>li:nth-child(2)>a');link.href='/tag/0\\\\?region=1&pays=0&state=0&sort=1&page=1';link.removeAttribute('target');if(!location.search){ge('.selList.fl.cls>a:first-child').click()}\",\"action\": 1,\"nextLinkByUrl\": [\"&page=(\\\\d+)$\",\"&page={$1+1}\",\"ul.pagination>li:not(.disabled):last-child\"],\"pageElement\": \".tagContent.cls>*\",\"replaceElement\": \".TagPages.pagesBox\",\"pageAction\": \"setTimeout(()=>{let ge=e=>document.querySelector(e);let url=location.search.replace(/(\\\\d+)$/,'');document.querySelectorAll('.itemBten:not(.active)>a:not(.prev):not(.Next)').forEach(a=>{a.href=url+a.innerText});let cp=ge('.pagination>li.active>a').innerText;let ppn=cp-1;let hb=ge('.pagination>li:not(.disabled):first-child>a');if(hb){hb.href=url+ppn}let pb=ge('a.prev');if(pb){pb.href=url+ppn}let next=ge('.pagination>li.active+li>a');let nb=ge('a.Next');if(next){nb.href=url+next.innerText}let enb=ge('.pagination>li:not(.disabled):last-child>a');if(enb){enb.href=url+next.innerText}},1000)\",\"css\": \".pagetual_pageBar{margin-top:-20px!important}.blankImg\",\"from\": 2},{\"name\": \"酷漫屋手機版 - 分類\",\"example\": \"http://kumw7.com/rank/5-1.html\",\"url\": \"^https?://(m\\\\.)?(kumw|kuman)\\\\d+\\\\.com/(sort|rank)/\",\"nextLink\": \"//a[text()=' > ']\",\"pageElement\": \".manList>ul\",\"replaceElement\": \"div+footer\",\"css\": \"aside{display:none!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"酷漫屋手機版 - 閱讀\",\"example\": \"http://kumw7.com/25387/1391494.html\",\"url\": \"^https?://(m\\\\.)?(kumw|kuman)\\\\d+\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')});let ge=e=>document.querySelector(e);\",\"nextLink\": \"li.end-itm.next>a[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".chapter-end,.rd-static,div.title,head>title\",\"lazyImgSrc\": [\"data-src\",\"data-src\"],\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ge=e=>document.querySelector(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let v=ge('.van-nav-bar:not([style])');let vn=ge('.van-nav-bar[style*=none]');let vb=ge('.van-nav-bar[style*=block]');let b=ge('.bottom-tool-bar:not([style])');let bn=ge('.bottom-tool-bar[style*=none]');let bb=ge('.bottom-tool-bar[style*=block]');if(v){v.setAttribute('style','display: block;')}if(b){b.setAttribute('style','display: block;')}if(vn){vn.style.display='block'}else{vb.style.display='none'}if(bn){bn.style.display='block'}else{bb.style.display='none'}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.rd-static>span');if(t)return t.innerText\",\"css\": \".img_Page,.morepl,#adhtml{display:none!important}\",\"from\": 2},{\"name\": \"酷漫屋 - 分類\",\"example\": \"http://www.kumw7.com/sort/13-1.html\",\"url\": \"^https?://www\\\\.(kumw|kuman)\\\\d+\\\\.com/(sort|rank)/\",\"nextLink\": \"//a[text()=' > ']\",\"pageElement\": \".box.container\",\"replaceElement\": \"section+footer\",\"css\": \".pagetual_pageBar {margin-top: -8px !important;}.pagetual_pageBar+section {margin-top: 5px !important;}\",\"from\": 2},{\"name\": \"酷漫屋 - 閱讀\",\"example\": \"http://www.kumw7.com/24186/1259138.html\",\"url\": \"^https?://www\\\\.(kumw|kuman)\\\\d+\\\\.com/\\\\d+/\\\\d+\\\\.html$\",\"history\": 2,\"action\": 1,\"nextLink\": \"a.next[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".chaptitle,.chapend,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \".chapter-img-box{margin-bottom:-1px!important}.chapend .next,.chapend .prev{margin:0 auto!important}\",\"from\": 2},{\"name\": \"二次元動漫 - 分類\",\"example\": \"https://www.2animx.com/index-html-status-1\",\"url\": \"^https?://www\\\\.2animx\\\\.com/index-html-status\",\"nextLink\": \"//a[text()='下一頁']\",\"pageElement\": \".box.across.list>.box-bd>.liemh.htmls.indliemh\",\"replaceElement\": \".pagination\",\"from\": 2},{\"name\": \"二次元動漫 - 閱讀\",\"example\": \"https://www.2animx.com/index-look-name-%E5%A6%96%E7%A5%9E%E8%A8%98-cid-22592-id-235546\",\"url\": \"^https?://www\\\\.2animx\\\\.com/index-look-name\",\"init\": \"document.querySelectorAll('#img_ad_img>img[style*=none]').forEach(e=>{e.remove()});document.querySelectorAll('#ComicPic').forEach(e=>{e.outerHTML=`<img src='${e.src}'>`});\",\"nextLink\": \"//a[text()='下一頁'][not(starts-with(@href,'javascript'))] | //a[text()='下一章']\",\"pageElement\": \"#img_ad_img>img\",\"replaceElement\": \"head>title,script+div.c,.e+.c,.b\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#img_ad_img>img[style*=none]').forEach(e=>{e.remove()});gae('#ComicPic').forEach(e=>{e.outerHTML=`<img src='${e.src}'>`});gae('.pagetual_pageBar>a').forEach(e=>{if(/-p-/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>5){ps[0].remove();let ds=gae('#img_ad_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.match(/-([^-]+)/)[1].trim();\",\"rate\": 10,\"css\": \".e>h1,.e>p,.fb-share-button,#index_mian,.c>.fanye,.c>select,#k_zsy,.lookpage{display:none!important}#img_ad_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"拷貝漫畫 - 推薦頁\",\"example\": \"https://copymanga.site/recommend\",\"url\": \"^https?://copymanga\\\\.site/recommend\",\"nextLink\": \"li.next>a\",\"pageElement\": \".container.correlationList\",\"replaceElement\": \".container>.page-all\",\"css\": \".pagetual_pageBar {margin-top: -10px !important;margin-bottom: 20px !important;}\",\"from\": 2},{\"name\": \"拷貝漫畫 - 分類頁\",\"example\": \"https://copymanga.site/comics\",\"url\": \"^https?://copymanga\\\\.site/comics\",\"action\": 1,\"nextLink\": \"li.next>a\",\"pageElement\": \".container.exemptComicList\",\"replaceElement\": \".container>.page-all\",\"from\": 2},{\"name\": \"好漫8 - 分類\",\"example\": \"http://haoman8.com/category/\",\"url\": \"^https?://haoman8\\\\.com/category/\",\"nextLink\": \"a.on+a\",\"pageElement\": \".acgn-comic-list\",\"replaceElement\": \".acgn-pages\",\"css\": \".pagetual_pageBar{margin-top:-15px!important}.acgn-comic-list{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"好漫8 - 閱讀 - 修正PC版漫畫下架\",\"example\": \"http://haoman8.com/comic/222/718631\",\"url\": \"^https?://(www\\\\.)?haoman8\\\\.com/comic/\\\\d+/\\\\d+\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"init\": \"setTimeout(()=>{let s=document.querySelector('#js_swichV:not(.hide)');if(s){s.click()}},1000);let _img='';document.querySelectorAll('img[data-echo]').forEach(e=>{_img+=`<img src='${e.getAttribute('data-echo')}'>`});document.querySelector('#reader-scroll').innerHTML=_img\",\"nextLinkByJs\": \"let next = document.querySelector(`#js_pageNextBtn[_href^='/']`); if (next) return location.origin + next.getAttribute('_href')\",\"manualMode\": true,\"from\": 2},{\"name\": \"好漫8手機版 - 閱讀\",\"example\": \"http://haoman8.com/comic/222/746937\",\"url\": \"^https?://(www\\\\.)?haoman8\\\\.com/comic/\\\\d+/\\\\d+\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"wait\": 2000,\"init\": \"function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}setTimeout(()=>{document.querySelectorAll('img[data-echo]').forEach(e=>{e.src=e.getAttribute('data-echo')})},2000);let nh=document.querySelector('li.next-chapter').getAttribute('_href');let ph=document.querySelector('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=document.querySelector('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='` + ph + `'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=document.querySelector('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='` + nh + `'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='卷轴']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(ph.indexOf('/')!=-1){document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\">上一章</a></li>'}else{document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href>無上一章</a></li>'}if(nh.indexOf('/')!=-1){document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\">下一章</a></li>'}else{document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>'}},150)\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"lazyImgSrc\": [\"data-echo\",\"data-echo\"],\"pageInit\": \"let nh=doc.querySelector('li.next-chapter').getAttribute('_href');let ph=doc.querySelector('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\">下一章</a></li>';let nlink=`location.href='` + nh + `'`;document.querySelector('.chapternext').setAttribute('onclick',nlink)}else{document.querySelector('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>';document.querySelector('.chapternext').removeAttribute('onclick')}document.querySelector('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\">上一章</a></li>';let plink=`location.href='` + ph + `'`;document.querySelector('.chapterprev').setAttribute('onclick',plink)},200)\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}let r=gae('.read-end')[0];if(r){gae('.prev-chapter')[0].remove()}},10000);\",\"pageBarText\": 1,\"css\": \".read-pos,.ds{display:none!important}.comic-list>.comic-page{margin-top:-3px!important}\",\"from\": 2},{\"name\": \"漫本 - PC/手機版查看更多\",\"example\": \"http://www.manben.com/mh-updated/\",\"url\": \"^https?://www\\\\.manben\\\\.com/(mh-updated|mh-list)/\",\"loadMore\": \"#moreDiv\",\"css\": \"div[class^=''floatBar][style*='.png']{display:none!important}\",\"from\": 2},{\"name\": \"漫本 - PC版閱讀\",\"example\": \"http://www.manben.com/m1149741/\",\"url\": \"^https?://www\\\\.manben\\\\.com/m\\\\d+(#page_\\\\d+)?\",\"include\": \"//script[contains(text(),'eval') and contains(text(),'newImgs')]\",\"exclude\": \"//p[text()='下一章'] | //a[@class='readTipForm']\",\"pinUrl\": true,\"init\": \"$('#mainView').removeAttr('style');let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#comicContain img');if(set){clearInterval(loop);let F=new DocumentFragment();newImgs.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#comicContain');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLink\": \"id('mainControlNext') | //a[img[@alt='下一章'] and not(@href='javascript:void(0);')]\",\"pageElement\": \"#comicContain\",\"replaceElement\": \"head>title,.title-comicHeading,.main_control,.catalog~a\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#comicContain');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#comicContain');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.title-comicHeading');if(t)return t.innerText\",\"css\": \"p.num,p.say,.comic-text{display:none!important}#comicContain img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"漫本 - 手機版閱讀\",\"example\": \"http://www.manben.com/m1149741/\",\"url\": \"^https?://www\\\\.manben\\\\.com/m\\\\d+(#page_\\\\d+)?\",\"exclude\": \"id('mainControlNext')\",\"init\": \"window.onscroll=null;let ge=e=>document.querySelector(e);function showtoolbar(){let t=ge(\\\".titleBar[style*='40px']\\\");if(t){$('.titleBar').attr('style','background-color:#373737;top: 0px;')}else{$('.titleBar').attr('style','background-color:#373737;top: -40px;')}let b=ge('.toolBar[style]');if(b){$('.toolBar').removeAttr('style')}else{$('.toolBar').attr('style','bottom: -65px;')}};document.addEventListener('click',showtoolbar);function keyshowtoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){return}else{$('.titleBar').attr('style','background-color:#373737;top: 0px;');$('.toolBar').removeAttr('style')}};document.addEventListener('keydown',keyshowtoolbar);let F=new DocumentFragment();newImgs.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#cp_img');E.innerHTML='';E.appendChild(F);\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//p[text()='下一章']/preceding-sibling::a[starts-with(@href,'/m')] | //a[@class='readTipForm' and not(@href='/m0/')]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"//head/title | id('title') | //a[@class='readTipForm'] | //p[contains(text(), '上一章') or contains(text(), '下一章')]/preceding-sibling::a\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#title');if(t)return t.innerText.replace(/\\\\S+/,'').trim()\",\"from\": 2},{\"name\": \"好漫 6 手機版 - 加載更多\",\"example\": \"https://www.haoman6.com/，http://www.g-lens.com/\",\"url\": \"^https?://www\\\\.(haoman6|g-lens)\\\\.com/category/(tags|finish|pay|list)/\",\"include\": \".getmore\",\"loadMore\": \".getmore\",\"from\": 2},{\"name\": \"好漫 6 / 漫客栈 / 漫画屋 - 分類\",\"example\": \"https://www.haoman6.com/category/，https://www.mkzhan.com/category/，https://www.mhua5.com/category/，https://mh5.org/index.php/category/\",\"url\": \"^https?://(www\\\\.)?(haoman6|g-lens|mkzhan|mhua5|mh5)\\\\.(com|org)/((category|search)|index\\\\.php/(category|search))\",\"nextLink\": \"a.next\",\"pageElement\": \".cate-comic-list\",\"replaceElement\": \"#Pagination\",\"css\": \".pagetual_pageBar{margin-top:-20px!important}.pagetual_pageBar+.cate-comic-list{margin-top:2px!important}\",\"from\": 2},{\"name\": \"好漫 6 - 閱讀 - 修正PC版漫畫下架\",\"example\": \"https://www.haoman6.com/chapter/1630368\",\"url\": \"^https?://www\\\\.haoman6\\\\.com/chapter/\\\\d+\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"wait\": 1000,\"init\": \"document.querySelectorAll(`.rd-article__pic[style='display: none;']`).forEach(e=>{e.style.display='block'});document.querySelectorAll('img.lazy-read').forEach(img=>{img.src=img.getAttribute('data-ecp')})\",\"nextLinkByJs\": \"let next = doc.querySelector('.rd-aside__item.j-rd-next:not([style])'); if (next) return location.origin + next.getAttribute('_href')\",\"pageElement\": \".rd-article-wr\",\"replaceElement\": \".last-crumb,.rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title\",\"pageInit\": \"doc.querySelectorAll(`.rd-article__pic[style='display: none;']`).forEach(e=>{e.style.display='block'});doc.querySelectorAll('img.lazy-read').forEach(img=>{img.src=img.getAttribute('data-ecp')})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.rd-article-wr');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}#mainView{margin-top:0px!important}.rd-article__pic{min-height: auto!important}\",\"from\": 2},{\"name\": \"好漫 6手機版 - 閱讀\",\"example\": \"https://www.haoman6.com/chapter/520621\",\"url\": \"^https?://www\\\\.haoman6\\\\.com/chapter/\\\\d+\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;$('#mainView').removeAttr('style');let nh=ge('li.next-chapter').getAttribute('_href');let ph=ge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=ge('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='${ph}'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=ge('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='${nh}'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='卷轴']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(ph.indexOf('/')!=-1){ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\">上一章</a></li>'}else{ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href>無上一章</a></li>'}if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\">下一章</a></li>'}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>'}},150);setTimeout(()=>{let F=new DocumentFragment();document.querySelectorAll('.ldimg[mob-ec]').forEach(e=>{let img=new Image();img.src=e.getAttribute('mob-ec');F.appendChild(img)});let E=ge('.main_img');E.innerHTML='';E.appendChild(F)},100);\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let nh=docge('li.next-chapter').getAttribute('_href');let ph=docge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\">下一章</a></li>';let nlink=`location.href='${nh}'`;ge('.chapternext').setAttribute('onclick',nlink)}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>';ge('.chapternext').removeAttribute('onclick')}ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\">上一章</a></li>';let plink=`location.href='${ph}'`;ge('.chapterprev').setAttribute('onclick',plink)},200);let F=new DocumentFragment();doc.querySelectorAll('.ldimg[mob-ec]').forEach(e=>{let img=new Image();img.src=e.getAttribute('mob-ec');F.appendChild(img)});let E=docge('.main_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \".read-pos,.ds,.top-tool-bar+div[style]{display:none!important}.comic-list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"漫客栈 - 卷軸模式\",\"example\": \"https://www.mkzhan.com/216512/1007019.html\",\"url\": \"^https?://www\\\\.mkzhan\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"action\": 1,\"waitElement\": [\"#pages-tpl>*\"],\"init\": \"document.querySelectorAll('img.lazy-read').forEach(img=>{let dc=img.getAttribute('data-src');img.src=dc})\",\"nextLinkByJs\": \"let next=doc.querySelector('.rd-aside__item.j-rd-next:not([style])');if(next)return location.origin+next.getAttribute('href')\",\"pageElement\": \"#pages-tpl\",\"replaceElement\": \".rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title,.last-crumb\",\"pageInit\": \"doc.querySelectorAll('img.lazy-read').forEach(img=>{let dc=img.getAttribute('data-src');img.src=dc})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pages-tpl');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}#mainView{margin-top:0px!important}.rd-article__pic{min-height: auto!important}\",\"from\": 2},{\"name\": \"漫客栈手機版 - 閱讀\",\"example\": \"https://m.mkzhan.com/216512/1006597.html\",\"url\": \"^https?://m\\\\.mkzhan\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"waitElement\": [\".next-chapter[data-href]\"],\"nextLinkByJs\": \"let n = doc.querySelector('.next-chapter[data-href$=html]');if (n) return location.origin+n.getAttribute('data-href');\",\"pageElement\": \".comic-list,.read-end\",\"replaceElement\": \"head>title,h1.comic-name,.prev-chapter,.next-chapter,.chapter-end\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \"p.read-pos{display:none!important}\",\"from\": 2},{\"name\": \"漫画屋 / 免追漫画 - PC版閱讀\",\"example\": \"https://www.mhua5.com/chapter-1612038.html，https://mh5.org/index.php/chapter/741258\",\"url\": \"^https?://(www\\\\.)?(mh5|mhua5|mianzhui)\\\\.(org|com)/(chapter-\\\\d+\\\\.html|index\\\\.php/chapter/\\\\d+|[0-9-]+\\\\.html)\",\"exclude\": \".bottom-tool-bar\",\"pinUrl\": true,\"autoClick\": \"//div[@class='rd-aside__item j-rd-mod'][span[text()='卷轴']]\",\"history\": 2,\"action\": 1,\"wait\": 1000,\"init\": \"document.querySelectorAll('img[data-original]').forEach(e=>{e.src=e.dataset.original})\",\"nextLinkByJs\": \"let next = doc.querySelector('.rd-aside__item.j-rd-next:not([style])'); if (next) return location.origin + next.getAttribute('_href')\",\"pageElement\": \".rd-article-wr\",\"replaceElement\": \".last-crumb,.rd-aside__item.j-rd-prev,.rd-aside__item.j-rd-next,head>title\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.rd-article-wr');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-crumb');if(t)return t.innerText\",\"css\": \".ds,.adv-img,.page-index__btn{display:none!important}.rd-article-wr>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"漫画屋 / 免追漫画 - 手機版閱讀\",\"example\": \"https://www.mhua5.com/chapter-1582203.html，https://www.mh5.org/index.php/chapter/233329\",\"url\": \"^https?://(www|m)\\\\.(mh5|mhua5|mianzhui)\\\\.(org|com)/(chapter-\\\\d+\\\\.html|index\\\\.php/chapter/\\\\d+|[0-9-]+\\\\.html)\",\"include\": \".bottom-tool-bar\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let nh=ge('li.next-chapter').getAttribute('_href');let ph=ge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{let p=ge('.prev-chapter.prev-btn');p.setAttribute('class','chapterprev');p.removeAttribute('_href');if(ph.indexOf('/')!=-1){let plink=`location.href='` + ph + `'`;p.setAttribute('onclick',plink)};if(nh.indexOf('/')!=-1){let n=ge('.next-chapter.next-btn');n.setAttribute('class','chapternext');n.removeAttribute('_href');let nlink=`location.href='` + nh + `'`;n.setAttribute('onclick',nlink)};let s=gx(\\\"//li[@class='switch'][span[text()='卷轴']]\\\");if(s){s.click()}},1000);setTimeout(()=>{if(location.hostname=='m.mianzhui.com'){document.querySelectorAll('img.lazy-image[data-original]').forEach(e=>{e.src=e.dataset.original})}},100);setTimeout(()=>{if(ph.indexOf('/')!=-1){ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"'+ph+'\\\">上一章</a></li>'}else{ge('.end-itm.prev').outerHTML='<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a _href>無上一章</a></li>'}if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'+nh+'\\\">下一章</a></li>'}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>'}},150)\",\"nextLinkByJs\": \"let n = doc.querySelector('li.next-chapter');if (n.getAttribute('_href').indexOf('/')!=-1) return location.origin+n.getAttribute('_href');\",\"pageElement\": \".comic-list,.read-end:not(.hide)\",\"replaceElement\": \"head>title,h1.comic-name,.end-txt\",\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let gae=e=>doc.querySelectorAll(e);gae(`.comic-page[style='display: none;']`).forEach(e=>{e.style.display='list-item'});gae('.ldimg[mob-ec]').forEach(e=>{e.src=e.getAttribute('mob-ec')});let nh=docge('li.next-chapter').getAttribute('_href');let ph=docge('li.prev-chapter').getAttribute('_href');setTimeout(()=>{if(nh.indexOf('/')!=-1){ge('.end-itm.next').outerHTML=`<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a href=\\\"'${nh}'\\\">下一章</a></li>`;let nlink=`location.href='${nh}'`;ge('.chapternext').setAttribute('onclick',nlink)}else{ge('.end-itm.next').outerHTML='<li class=\\\"end-itm next\\\"><i class=\\\"i-rd-next\\\"></i><a _href>無下一章</a></li>';ge('.chapternext').removeAttribute('onclick')}ge('.end-itm.prev').outerHTML=`<li class=\\\"end-itm prev\\\"><i class=\\\"i-rd-prev\\\"></i><a href=\\\"${ph}\\\">上一章</a></li>`;let plink=`location.href='${ph}'`;ge('.chapterprev').setAttribute('onclick',plink)},200)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \".read-pos,.ds,ins{display:none!important}\",\"from\": 2},{\"name\": \"鬼罗丽漫画\",\"example\": \"http://www.gllmh.com/\",\"url\": \"^https?://www\\\\.gllmh\\\\.com/\",\"pinUrl\": true,\"nextLink\": \"li.thisclass+li>a\",\"pageElement\": \".article-content img, #newsArticle img, .listl>ul, ul.news_list_1\",\"replaceElement\": \".pagination, .pages, .page\",\"css\": \".article-content img, #newsArticle img{visibility:visible!important;opacity:1!important;}\",\"from\": 2},{\"name\": \"漫漫聚 / KuKu动漫 - 分類\",\"example\": \"http://www.manmanju.com/comictype/3_1.htm，http://manhua.ikukudm.com/comictype/3_1.htm\",\"url\": \"^https?://(m|www|manhua)\\\\.(manmanju|ikukudm)\\\\.com/comictype/\",\"nextLink\": \"//a[text()='下一页'] | //a[span[text()='下一页']]\",\"pageElement\": \"//dl[@id='comicmain'] | //div[@class='imgBox']\",\"replaceElement\": \"//dl[@id='comicmain']/preceding-sibling::table | //dl[@id='comicmain']/following-sibling::table | //ul[@class='subNav']\",\"css\": \".pagetual_pageBar+dl,.imgBox+.pagetual_pageBar{margin-top:-2px!important}\",\"from\": 2},{\"name\": \"漫漫聚 / KuKu动漫 - 閱讀\",\"example\": \"http://www.manmanju.com/comiclist/3658/97532/1.htm，http://manhua.ikukudm.com/comiclist/3756/102656/1.htm，http://m.manmanju.com/comiclist/3658/97532/1.htm，\",\"url\": \"^https?://(m|a|b|www|manhua)\\\\.(manmanju|ikukudm)\\\\.com/comiclist/\\\\d+/\\\\d+/\\\\d+\\\\.htm$\",\"action\": 1,\"init\": \"let ia = document.querySelector('input~a');let sa = document.querySelector('script[language]+a');if(ia){ia.removeAttribute('href');}else{sa.removeAttribute('href');}\",\"nextLink\": \"//a[./img[@src='/images/d.gif']][not(@href='/exit/exit.htm')] | //a[span[text()='下一页']][not(@href='/exit/exit.htm')]\",\"pageElement\": \"//script[@language]/following-sibling::a/img[@src][not(contains(@src,'.gif'))]\",\"replaceElement\": \"//a[./img[@src='/images/d.gif']] | //a[./img[@src='/images/t.gif']] | //div[@class='bottom']/ul[@class='subNav'] | //li[@class='txtA']\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"新新漫画 - 分類\",\"example\": \"http://www.77mh.xyz/lianzai/index.html\",\"url\": \"^https?://(www|so)\\\\.77mh\\\\.[a-z]{2,3}/\",\"include\": \".pages_s\",\"nextLink\": \"a.current+a, a.next\",\"pageElement\": \"//ul[dl/dt/a/img] | //div[ul/li/a/img and @class='ar_list_co']\",\"replaceElement\": \".pages_s\",\"css\": \".pagetual_pageBar{margin-top:3px!important}\",\"from\": 2},{\"name\": \"新新漫画手機版 - 分類\",\"example\": \"http://m.77mh.xyz/lianzai/index.html\",\"url\": \"^https?://(m|so)\\\\.77mh\\\\.[a-z]{2,3}/\",\"include\": \".lpagelist\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \"//ul[a/li/img]\",\"replaceElement\": \".lpagelist\",\"from\": 2},{\"name\": \"新新漫画 - 閱讀 - 沒有顯示圖片時需要換服務器\",\"example\": \"https://www.77mh.xyz/202102/481169.html，http://m.77mh.xyz/202102/481169.html\",\"url\": \"^https?://(www|m)\\\\.77mh\\\\.[a-z]{2,3}/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"wait\": 1000,\"init\": \"let ge=e=>document.querySelector(e);setTimeout(()=>{let code=eval(Array.from(document.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.hostname.indexOf('m.77mh')!=-1){img.src=ImgSvrList+e}else{img.src=img_qianz+e}F.appendChild(img)});if(location.hostname.indexOf('m.77mh')!=-1){let E=ge('.mg-co');E.innerHTML='';E.appendChild(F)}else{let E=ge('#comicImg');E.innerHTML='';E.appendChild(F)}},1000)\",\"nextLinkByJs\": \"let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextLink_b/)>-1).innerHTML.trim().slice(4));let next=eval(code.match(/nextLink_b[^;]+/)[0]);if(next.indexOf('html')!=-1)return location.origin+next\",\"pageElement\": \"#comicImg,.mg-co\",\"replaceElement\": \"head>title,#subTitle>h1,#pnpage,.page_num,.nav.nav-back\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.hostname.indexOf('m.77mh')!=-1){img.src=ImgSvrList+e}else{img.src=img_qianz+e}F.appendChild(img)});if(location.hostname.indexOf('m.77mh')!=-1){let E=ge('.mg-co');E.innerHTML='';E.appendChild(F)}else{let E=ge('#comicImg');E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);if(location.hostname.indexOf('m.77mh')!=-1){let m=gae('.mg-co');if(m.length>10){gae('.mg-co')[0].remove()}}else{let c=gae('#comicImg');if(c.length>10){gae('#comicImg')[0].remove()}}let p=gae('.pagetual_pageBar');if(p.length>10){gae('.pagetual_pageBar')[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=eval(Array.from(doc.scripts).find(s=>s.innerHTML.search(/msg/)>-1).innerHTML.trim().slice(4));let imgData=eval(code.match(/msg[^;]+/)[0]).split('|');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(location.hostname.indexOf('m.77mh')!=-1){imgSrc=ImgSvrList+e}else{imgSrc=img_qianz+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t1=doc.querySelector('h1>a');let t2=doc.querySelector('.tit>a');if(t1){return t1.innerText.replace(/\\\\S+/,'').trim()}else if(t2){return t2.innerText.replace(/\\\\S+/,'').trim()}\",\"css\": \"#main>*:not(#comicImg):not(.pagetual_pageBar),.qrcode_div,.content~*:not(#toApp),body>p{display:none!important}#comicImg>img,.mg-co>img{max-width:100%!important;display:block!important;margin: 0 auto !important;border:0px!important;}\",\"from\": 2},{\"name\": \"動漫戲說 - 分類\",\"example\": \"https://comic.acgn.cc/cate-1.htm\",\"url\": \"^https?://comic\\\\.acgn\\\\.cc/\",\"nextLink\": \"a[rel='next']\",\"pageElement\": \"ul#display\",\"replaceElement\": \"#pagination\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"動漫戲說 - 漫畫閱讀\",\"example\": \"https://comic.acgn.cc/view-202.htm\",\"url\": \"^https?://comic\\\\.acgn\\\\.cc/view-\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let c=ge('.tbCenter>tbody').cloneNode(true);ge('.tbCenter').appendChild(c);let F=new DocumentFragment();document.querySelectorAll('.pic[_src][id]').forEach(e=>{let img=new Image();img.src=e.getAttribute('_src');F.appendChild(img)});let E=ge('#pic_list');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#next_chapter\",\"pageElement\": \"#pic_list\",\"replaceElement\": \"#top,#breadcrumb,[class^='display_'],head>title\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('.pic[_src][id]').forEach(e=>{let img=new Image();img.src=e.getAttribute('_src');F.appendChild(img)});let E=doc.querySelector('#pic_list');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic_list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let ge=e=>document.querySelector(e);ge('.tbCenter>tbody:last-child').outerHTML=ge('.tbCenter>tbody').outerHTML},200)\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let imgSrcArr=[];doc.querySelectorAll('.pic[_src][id]').forEach(e=>{let imgSrc=e.getAttribute('_src');imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \".btn_wrap,#ss-toolbar{display:none!important}#pic_list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"快岸漫画 - 分類\",\"example\": \"https://www.kanbook.net/list-r-1\",\"url\": \"^https?://www\\\\.kanbook\\\\.net/(update|list|rank|news)\",\"nextLink\": \"//a[@title='下一页' or @title='下一頁']\",\"pageElement\": \"//div[div/div/a/img[starts-with(@class,'comic-book-cover')]] | //div[div/div/div/div/a/img][starts-with(@class,'comic-main-section')] | //ul[li/div/a/img][starts-with(@class,'top10-list')] | //ul[@class='list-body'] | //div[div/div[starts-with(@class,'comicbook-index')]]\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"快岸漫画 - 閱讀\",\"example\": \"https://www.kanbook.net/comic/1661/1/1\",\"url\": \"^https?://(www\\\\.)?kanbook\\\\.net/\",\"include\": \"nav+.container-fluid+.container-fluid\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';var addGlobalscript=code=>{let script=document.createElement('script');script.type='text/javascript';script.innerHTML=code;document.body.appendChild(script)}`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);setTimeout(()=>{let imgData=[];if(is_refresh==0){for(let i=0;i<pageNum;i++){imgData.push(Gm.getImgUrl(comic_id+'/'+version_id+'/'+part_id+'/'+my_sha2(x_tokens[i])))}}else{for(let i=0;i<data.url.length;i++){imgData.push(Gm.getImgUrl(data.url[i]))}}let F=new DocumentFragment();for(let i=0;i<imgData.length;i++){let img=new Image();img.src=loading_bak;img.dataset.src=imgData[i];imagesObserver.observe(img);F.appendChild(img)}let E=ge('nav+.container-fluid+.container-fluid');E.innerHTML='';E.appendChild(F)},1000)\",\"nextLink\": \"//a[text()='下一章' and not(starts-with(@href,'javascript'))]\",\"pageElement\": \"//script[contains(text(),'x_tokens')]\",\"insert\": \"nav+.container-fluid+.container-fluid\",\"insertPos\": 2,\"replaceElement\": \".paginationContent\",\"pageInit\": \"let code1=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML;addGlobalscript(code1);let code2=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x_tokens/)>-1).innerHTML;addGlobalscript(code2);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let imgData=[];if(is_refresh==0){for(let i=0;i<pageNum;i++){imgData.push(Gm.getImgUrl(comic_id+'/'+version_id+'/'+part_id+'/'+my_sha2(x_tokens[i])))}}else{for(let i=0;i<data.url.length;i++){imgData.push(Gm.getImgUrl(data.url[i]))}}let F=new DocumentFragment();for(let i=0;i<imgData.length;i++){let img=new Image();img.src=loading_bak;img.dataset.src=imgData[i];imagesObserver.observe(img);F.appendChild(img)}let E=ge('nav+.container-fluid+.container-fluid');E.appendChild(F);let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>9){titles[0].remove();let removes=gae('nav+.container-fluid+.container-fluid>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"sleep\": 1000,\"pageBarText\": \"let t=doc.querySelector('div.justify-content-center.mt-3.mt-md-4.text-left.view-title.one-line>span:nth-child(5)');if(t)return t.innerText\",\"css\": \"nav+.container-fluid+.container-fluid>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}h2~span:not(.h4),.ppre,.pnext,#page-selector,.pagination>a:nth-child(1)~*:not(.next_part){display:none!important}.container-fluid{max-width:1000px}\",\"from\": 2},{\"name\": \"漫画DB - 分類\",\"example\": \"https://www.manhuadb.com/manhua/list-r-4-a-4-c-12.html\",\"url\": \"^https?://www\\\\.manhuadb\\\\.com/manhua/list\",\"nextLink\": \"a[title='下一页']\",\"pageElement\": \".comic-main-section>*\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"漫画DB - 閱讀\",\"example\": \"https://www.manhuadb.com/manhua/1167/1315_13028.html\",\"url\": \"^https?://www\\\\.manhuadb\\\\.com/manhua/\\\\d+/\\\\w+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=document.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.className='img-fluid show-pic';if(is_webp!=1&&e.img_webp){img.src=imgHost+imgPre+e.img_webp}else{img.src=imgHost+imgPre+e.img}F.appendChild(img)});let E=document.querySelector('#all');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"return new Promise((resolve)=>{let v=doc.querySelector('.vg-r-data');let n=v.dataset.num;$.ajax({type:'post',url:'/book/goNumPage',data:{ccid:v.dataset.ccid,id:v.dataset.id,num:parseInt(n)+1,d:v.dataset.d,type:'next'},dataType:'json',success:function(json){if(json.state==0){resolve(null)}else{let url=json.url;resolve(location.origin+url)}}})}).then((res)=>{return res});\",\"pageElement\": \"#all\",\"replaceElement\": \"head>title,.h4.text-center,ol.breadcrumb\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=doc.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.className='img-fluid show-pic';if(is_webp!=1&&e.img_webp){img.src=imgHost+imgPre+e.img_webp}else{img.src=imgHost+imgPre+e.img}F.appendChild(img)});let E=doc.querySelector('#all');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#all');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.replace('var',''));let imgData=eval(atob(Base64));let vgrdata=doc.querySelector('.vg-r-data');let imgHost=vgrdata.getAttribute('data-host');let imgPre=vgrdata.getAttribute('data-img_pre');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(is_webp!=1&&e.img_webp){imgSrc=imgHost+imgPre+e.img_webp}else{imgSrc=imgHost+imgPre+e.img}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.h4.text-center');if(t)return t.innerText\",\"css\": \"nav.d-none+div.row,#left,#right,.pagination .form-inline>*:nth-child(n+2):nth-child(-n+4){display:none!important}.row>*{padding:0px!important}#all,img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"漫画猫 - 分類\",\"example\": \"https://www.maofly.com/update.html\",\"url\": \"^https?://www\\\\.maofly\\\\.com/(update|list)\",\"nextLink\": \"//a[text()=' 下一页']\",\"pageElement\": \"//div[(div/a/img) and @class='row m-0'] | //div[(a/img) and contains(@class,'media')] | //div[(a/img) and contains(@class,'media')]/following-sibling::hr[1]\",\"replaceElement\": \".pagination\",\"css\": \".row+.pagetual_pageBar{margin-top:-1px!important;margin-bottom:15px!important}hr+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"漫画猫 - 閱讀\",\"example\": \"https://www.maofly.com/manga/39027/515484.html\",\"url\": \"^https?://www\\\\.maofly\\\\.com/manga/\",\"pinUrl\": true,\"history\": 2,\"init\": \"let vgrdata=document.querySelector('.vg-r-data');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.match(/img_data = \\\".+\\\"/g)[0]);let imgData=LZString.decompressFromBase64(Base64).split(',');let imgPre='/uploads/';let assetDomain=vgrdata.getAttribute('data-chapter-domain');let assetKey=vgrdata.getAttribute('data-chapter-key');let _img='';for(let i=0;i<imgData.length;i++){let imgSrc=assetDomain+imgPre+imgData[i];_img+=`<img class=\\\"img-fluid show-pic\\\"src='${imgSrc}'>`};document.querySelector('.img-content').innerHTML=_img;\",\"nextLinkByJs\": \"let vgrdata=doc.querySelector('.vg-r-data');let num=vgrdata.getAttribute('data-chapter_num');let type=vgrdata.getAttribute('data-chapter-type');let n=1;let json='/chapter_num?chapter_id='+num+'&ctype='+n+'&type='+type;return fetch(json).then((response)=>{return response.json()}).then((json)=>{if(json.code!='0000'){return null}else{return json.url}}).then((res)=>{return res});\",\"pageElement\": \".img-content\",\"replaceElement\": \"head>title,.breadcrumb-item.active,.h4.text-center\",\"pageInit\": \"let vgrdata=doc.querySelector('.vg-r-data');let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/img_data/)>-1).innerHTML;let Base64=eval(code.match(/img_data = \\\".+\\\"/g)[0]);let imgData=LZString.decompressFromBase64(Base64).split(',');let imgPre='/uploads/';let assetDomain=vgrdata.getAttribute('data-chapter-domain');let assetKey=vgrdata.getAttribute('data-chapter-key');let _img='';for(let i=0;i<imgData.length;i++){let imgSrc=assetDomain+imgPre+imgData[i];_img+=`<img class=\\\"img-fluid show-pic\\\"src='${imgSrc}'>`};doc.querySelector('.img-content').innerHTML=_img;\",\"pageAction\": \"function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('.img-content');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}},10000)\",\"pageBarText\": 1,\"css\": \"a[onclick],a[href*='false']{display:none!important}.img-content>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"动漫之家 - 分類\",\"example\": \"https://manhua.idmzj.com/update_1.shtml\",\"url\": \"^https?://manhua\\\\.i?dmzj\\\\.com/\",\"action\": 1,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".newpic_bg,.newpic_bgno,.tcaricature_block.tcaricature_block2\",\"replaceElement\": \".pages\",\"css\": \".pagetual_pageBar{margin:20px 5px 0!important}.newpic_bgno,.tcaricature_block+.pagetual_pageBar{margin-top:5px!important}.pagetual_pageBar+.tcaricature_block{margin-top:0px!important}\",\"iframeInit\": \"win.self=win.top\",\"from\": 2},{\"name\": \"动漫之家 - 閱讀\",\"example\": \"https://manhua.idmzj.com/shenghuomosgushimentiaozhanmigong/118093.shtml\",\"url\": \"^https?://manhua\\\\.i?dmzj\\\\.com/[a-z]+/\\\\d+\\\\.shtml\",\"pinUrl\": true,\"autoClick\": \"//a[@id='qiehuan_txt' and text()='切换到上下滚动阅读']\",\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();eval(pages).forEach(e=>{let img=new Image();img.src='//images.idmzj.com/'+decodeURI(e);F.appendChild(img)});let loop=setInterval(()=>{let set=ge('#center_box img');if(set){clearInterval(loop);let E=ge('#center_box');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLink\": \"a.fr\",\"pageElement\": \"#center_box\",\"replaceElement\": \"head>title,.display_graybg,.btmBtnBox\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML;let imgs=eval(code.match(/eval.+\\\\)\\\\)/)[0].slice(4));let imgsArr=eval(imgs.match(/\\\\[.+\\\\]/)[0]);let F=new DocumentFragment();imgsArr.forEach(e=>{let img=new Image();img.src='//images.idmzj.com/'+decodeURI(e);F.appendChild(img)});let E=ge('#center_box');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#center_box');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML;let imgs=eval(code.match(/eval.+\\\\)\\\\)/)[0].slice(4));let imgsArr=eval(imgs.match(/\\\\[.+\\\\]/)[0]);let imgSrcArr=[];imgsArr.forEach(e=>{let imgSrc='//images.dmzj.com/'+decodeURI(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('span.redhotl');if(t)return t.innerText\",\"css\": \"#center_box img{opacity:1!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important;border: none!important;padding: 0px!important;}\",\"from\": 2},{\"name\": \"动漫之家2 - 分類\",\"example\": \"https://www.idmzj.com/update/\",\"url\": \"^https?://www\\\\.i?dmzj\\\\.com/(update|category|rank)\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".list_con_li,.ph_r_con_li\",\"replaceElement\": \".top_page.page,.bottom_page.page\",\"css\": \".wrap_list,.wrap_mhlist .wrap_mhlist_l,.wrap_mhlist .wrap_mhlist_r{height:auto!important}.pagetual_pageBar{margin-top:-10px!important;margin-bottom:0px!important}.ph_r_con_li+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"动漫之家2 - 閱讀\",\"example\": \"https://www.idmzj.com/view/siwangleyuan/75382.html\",\"url\": \"^https?://www\\\\.i?dmzj\\\\.com/view/\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"waitElement\": [\".btmBtnBox\"],\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=host+decodeURI(e).replace(/amp;/g,'');F.appendChild(img)});let E=document.querySelector('.comic_wraCon');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"span.next>a\",\"pageElement\": \".comic_wraCon\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid,.btmBtnBox\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=host+decodeURI(e).replace(/amp;/g,'');F.appendChild(img)});let E=doc.querySelector('.comic_wraCon');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic_wraCon');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/arr_img/)>-1).innerHTML.slice(71,-1);let Data=eval('('+eval(code).slice(11,-2)+')');let imgData=Data.page_url.split('\\\\r\\\\n');let host='https://images.idmzj.com/';let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=host+decodeURI(e).replace(/amp;/g,'');imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.user_show,.login_tip.out,#floatCode,.ad_bottom_code,script[src]+[style*=both]{display:none!important}.comic_wraCon>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}.head_wz,.foot-detail-wrap{width:auto!important}\",\"from\": 2},{\"name\": \"动漫之家手機版 - 閱讀\",\"example\": \"https://m.idmzj.com/view/60351/119828.html\",\"url\": \"^https?://m\\\\.i?dmzj\\\\.com/view/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);ge('.iconRet').setAttribute('onclick','goBack();');gae('.letchepter>a[onclick]').forEach(a=>{a.removeAttribute('onclick')});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);let p=code.search(/prev_chap/);let cm=code.match(/comic_id:(\\\\d+)/)[1];if(n>-1){let nm=code.match(/next_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+nm+'.html';ge('.afterChapter').href=url}else{ge('.afterChapter').href=ge('.ChapterLestMune').href}if(p>-1){let pm=code.match(/prev_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+pm+'.html';ge('.beforeChapter').href=url}else{ge('.beforeChapter').href=ge('.ChapterLestMune').href}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);if(n>-1){let cm=code.match(/comic_id:(\\\\d+)/)[1];let nm=code.match(/next_chap_id:(\\\\d+)/)[1];return location.origin+'/view/'+cm+'/'+nm+'.html'}\",\"pageElement\": \"div[id^='charpet']\",\"replaceElement\": \"head>title,a.BarTit,.botNav .tc\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let gae=e=>doc.querySelectorAll(e);ge('.iconRet').setAttribute('onclick','goBack();');gae('.letchepter>a[onclick]').forEach(a=>{a.removeAttribute('onclick')});let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/comic_id/)>-1).innerHTML.replaceAll('\\\"','');let n=code.search(/next_chap/);let p=code.search(/prev_chap/);let cm=code.match(/comic_id:(\\\\d+)/)[1];if(n>-1){let nm=code.match(/next_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+nm+'.html';ge('.afterChapter').href=url}else{ge('.afterChapter').href=ge('.ChapterLestMune').href}if(p>-1){let pm=code.match(/prev_chap_id:(\\\\d+)/)[1];let url='/view/'+cm+'/'+pm+'.html';ge('.beforeChapter').href=url}else{ge('.beforeChapter').href=ge('.ChapterLestMune').href}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('div[id^=charpet]');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/initData/)>-1).innerHTML;let imgSrcArr=eval(code.match(/page_url.+(\\\\[.+\\\\])/)[1]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText\",\"css\": \"#commicBox img{opacity:1!important}#m_r_panelbox,#khdDown,#divAD,.appTil{display:none!important}\",\"from\": 2},{\"name\": \"动漫之家 - 手機版 - 漫畫在新分頁打開\",\"example\": \"https://m.idmzj.com/\",\"url\": \"^https?://m\\\\.i?dmzj\\\\.com/\",\"exclude\": [\"div[id^='charpet']\",\"#list\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.main_image a[href]:not([target=_blank]),.imgBox a[href]:not([target=_blank]),.UpdateList a[href]:not([target=_blank]),.topicList a[href]:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \"木马漫画 - 分類\",\"example\": \"https://www.omyschool.com/rank/update/\",\"url\": \"^https?://www\\\\.omyschool\\\\.com/\",\"nextLink\": \"a.next\",\"pageElement\": \"#book_list>.item\",\"replaceElement\": \".uk-pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"木马漫画 - 閱讀\",\"example\": \"https://www.omyschool.com/article_detail/19057/672194/%E7%A5%9E%E6%98%8E%E5%AD%B8%E6%A0%A1%E7%9A%84%E5%B7%AE%E7%AD%89%E7%94%9F/01%E8%A9%B1/\",\"url\": \"^https?://www\\\\.omyschool\\\\.com/article_detail/\\\\d+/\\\\d+/\",\"history\": 2,\"init\": \"const gax=xpath=>{let nodes=[];let results=document.evaluate(xpath,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes};setTimeout(()=>{[...gax('//div[span[@style]]')].forEach(e=>{e.remove()})},0)\",\"nextLink\": \".nav_button.next\",\"pageElement\": \"//div[amp-img]\",\"pageBarText\": \"return doc.querySelector('.uk-breadcrumb').innerText.trim().slice(2).trim()\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let arr=[];[...doc.querySelectorAll('#imgs amp-img')].forEach(e=>{arr.push(e.getAttribute('src'))});return arr\",\"css\": \"#col_right{display:none!important}\",\"from\": 2},{\"name\": \"漫画星球 / 6 漫画 / 733 动漫 /  爱漫之家 / x18漫画网 / 57漫画网 / 奇漫屋 / 漫画160 - 分類\",\"example\": \"www.mhxqiu1.com，www.sixmh7.com，www.733.so，www.17fuman.com，https://www.x18mh.com/，http://www.wuqimh.com/list/，http://www.qiman58.com/，www.mh160.cc\",\"url\": \"^https?://(www|m)\\\\.((six|6)mh\\\\d+|mhxqiu\\\\d|733|17fuman|x18mh|wuqimh|qiman58|mh160)\\\\.(com|so|cc)/\",\"nextLink\": \"//a[text()='下一页'] | //li[a[@class='active']]/following-sibling::li[1]/a\",\"pageElement\": \".cy_list_r,.grid-row.clearfix,#dmList,#contList,[class^='bookList'],.mh-search-list\",\"replaceElement\": \".NewPages,.pager,.page_moreDiv\",\"css\": \".pagetual_pageBar{margin-top:0px!important;margin-bottom:0px!important}.mh-search-list+.pagetual_pageBar{display:none!important}\",\"from\": 2},{\"name\": \"733 动漫 / 漫画160 - PC版閱讀\",\"example\": \"https://www.733.so/mh/33671/614269.html，https://www.mh160.cc/kanmanhua/tianqiyubao/1668716868.html\",\"url\": \"^https?://www\\\\.(733|mh160)\\\\.(so|cc)/(mh|kanmanhua)/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=document.querySelector('#qTcms_Pic_middle').parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id])\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=doc.querySelector('#qTcms_Pic_middle').parentNode;E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.cf:not([id])');if(c.length>10){c[0].parentNode.remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=f_qTcms_Pic_curUrl_realpic(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"733 动漫 / 73漫画 - 手機版分類\",\"example\": \"https://m.733.so/all/all/all/all/0/1.html，http://www.73mh.net/neidi/\",\"url\": \"^https?://(m\\\\.733\\\\.so|www\\\\.73mh\\\\.net)/\",\"exclude\": [\"#pic_box\",\"//div[@class='v_con_box'][p/img]\"],\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".tv-list\",\"replaceElement\": \".v-page\",\"css\": \".pagetual_pageBar{margin-top:-5px!important}\",\"from\": 2},{\"name\": \"733 动漫 - 手機版漫畫閱讀\",\"example\": \"https://m.733.so/mh/54709/1353912/1.html\",\"url\": \"^https?://m\\\\.733\\\\.so/mh/\\\\d+/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let imgs = Array.from(document.scripts).find(s => s.innerHTML.search(/temp_pic_all/) > -1).innerHTML.slice(18, -1).replace(/<\\\\/?p>/g,'');document.querySelector('#pic_box').innerHTML = imgs;\",\"nextLink\": \"//a[text()='下一话']\",\"pageElement\": \"#pic_box\",\"replaceElement\": \"head>title,.v-page\",\"pageInit\": \"let imgs = Array.from(doc.scripts).find(s => s.innerHTML.search(/temp_pic_all/) > -1).innerHTML.slice(18, -1).replace(/<\\\\/?p>/g,'');doc.querySelector('#pic_box').innerHTML = imgs;\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic_box');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let imgs=Array.from(doc.scripts).find(s=>s.innerHTML.search(/temp_pic_all/)>-1).innerHTML.slice(18);let html=new DOMParser().parseFromString(imgs,'text/html');let imgData=html.querySelectorAll('img');let imgSrcArr=[];imgData.forEach(e=>{imgSrcArr.push(e.src)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.v-page>span');if(t)return t.innerText\",\"css\": \"#pic_box img{margin-bottom:-6px!important}.icon>.container{padding-right:0px!important;padding-left:0px!important}\",\"from\": 2},{\"name\": \"漫画160 - 手機版閱讀\",\"example\": \"https://m.mh160.cc/kanmanhua/yuanlaiwoshixianjiezhizun/1689580801.html\",\"url\": \"^https?://m\\\\.mh160\\\\.cc/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=document.querySelector('#commicBox');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \"#commicBox\",\"replaceElement\": \".BarTit,#action\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=f_qTcms_Pic_curUrl_realpic(e);F.appendChild(img)});let E=doc.querySelector('#commicBox');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#commicBox');if(c.length>10){c[0].parentNode.remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/qTcms_S_m_murl_e=([^;]+)/)[1].replaceAll('\\\"','');let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=f_qTcms_Pic_curUrl_realpic(e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.match(/[^\\\\(]+/)[0].trim()\",\"css\": \"#commicBox>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}\",\"from\": 2},{\"name\": \"73漫画 - 閱讀\",\"example\": \"http://www.73mh.net/mh/63788_1633109/1\",\"url\": \"^https?://www\\\\.73mh\\\\.net/mh/\\\\w+/\\\\d+\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('section .v_con_box>p').forEach(e=>{e.outerHTML=e.innerHTML})\",\"nextLink\": \"//a[text()='下一话']\",\"pageElement\": \"//div[@class='v_con_box'][p/img] | //div[@class='v_con_box'][img]\",\"replaceElement\": \"head>title,.v-page\",\"pageInit\": \"doc.querySelectorAll('section .v_con_box>p').forEach(e=>{e.outerHTML=e.innerHTML})\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let gae=e=>document.querySelectorAll(e);let c=gae(\\\"//div[@class='v_con_box'][img]\\\");if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.v-page>span');if(t)return t.innerText\",\"css\": \".v_con_box>img{margin-bottom:-6px!important}.icon>.container{padding-right:0px!important;padding-left:0px!important}\",\"from\": 2},{\"name\": \"爱漫之家 - 漫畫閱讀\",\"example\": \"http://www.17fuman.com/rszimukaitou/34599/171775.html，http://m.17fuman.com/rszimukaitou/34669/172185.html，http://m.fumanhua44.com/rszimukaitou/34761/172779.html\",\"url\": \"^https?://(www|m\\\\d?)\\\\.(17fuman|fumanhua-?\\\\d+)\\\\.com/[a-z]+/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=e}else{img.src=qTcms_m_weburl+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});let E=ge('#qTcms_pic').parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id]),.UnderPage\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager,#m_r_title,#action\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=e}else{img.src=qTcms_m_weburl+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});let E=ge('#qTcms_pic').parentNode;E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);if(location.origin.indexOf('/m.')==-1){let cf=gae('.cf:not([id])');if(cf.length>10){cf[0].remove()}}else{let c=gae('.UnderPage');if(c.length>10){c[0].remove()}}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=code.match(/var qTcms_S_m_murl_e=\\\"([^\\\"]+)/)[1];let imgData=base64_decode(imgBase64).split('$qingtiandy$');let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(location.origin.indexOf('/m.')==-1){imgSrc=e}else{imgSrc=qTcms_m_weburl+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t1=doc.querySelector('h2');let t2=doc.querySelector('.BarTit');if(t1){return t1.innerText}else if(t2){return t2.innerText.match(/[^(]+/)[0].trim()}\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span,#bd1,.globalPadding{display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \"x18漫画网 - 漫畫閱讀\",\"example\": \"https://www.x18mh.com/manhua/60497/996071.html，https://m.x18mh.com/manhua/60497/996071.html\",\"url\": \"^https?://(www|m)\\\\.x18mh\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=eval(code.match(/qTcms_S_m_murl_e[^;]+/)[0]);let imgData=window.atob(imgBase64).split('$qingtiandy$');let p='/statics/pic/?p=';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=p+e}else{img.src=p+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});if(location.origin.indexOf('/m.')==-1){let E=ge('.cf:not([id])');E.innerHTML='';E.appendChild(F)}else{let E=ge('.UnderPage');E.innerHTML='';E.appendChild(F)}\",\"nextLink\": \"#k_Pic_nextArr[href$='html']\",\"pageElement\": \".cf:not([id]),.UnderPage\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#pager,#m_r_title,#action\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/qTcms_S_m_murl_e/)>-1).innerHTML;let imgBase64=eval(code.match(/qTcms_S_m_murl_e[^;]+/)[0]);let imgData=window.atob(imgBase64).split('$qingtiandy$');let p='/statics/pic/?p=';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(location.origin.indexOf('/m.')==-1){img.src=p+e}else{img.src=p+e;img.id='qTcms_pic';img.setAttribute('width','100%')}F.appendChild(img)});if(location.origin.indexOf('/m.')==-1){let E=ge('.cf:not([id])');E.innerHTML='';E.appendChild(F)}else{let E=ge('.UnderPage');E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cf=gae('#subNav~.cf');if(cf.length>10){cf[0].remove()}let c=gae('.UnderPage');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t1=doc.querySelector('h2');let t2=doc.querySelector('.BarTit');if(t1){return t1.innerText}else if(t2){return t2.innerText.match(/[^(]+/)[0].trim()}\",\"css\": \"#subNav,#prev,#k_next,#k_pageSelect,#pager,.title.pr>em:nth-child(5),.title.pr>span,.control_bottom+.img_001{display:none!important}.cf>img,.UnderPage>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \"57漫画网 - 漫畫閱讀\",\"example\": \"http://www.wuqimh.com/45107/01.html\",\"url\": \"^https?://(www|m)\\\\.wuqimh\\\\.com/\\\\d+/\\\\d+(\\\\.html|/)$\",\"include\": \"//script[contains(text(),'images') and contains(text(),'tingliu')]\",\"pinUrl\": true,\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/images/)>-1).innerHTML.match(/eval[^$]+/)[0].trim().slice(4);let data=eval('('+eval(code).replace(/^[^{]+/,'').replace(/;$/,'')+')');let _img='';for(let i=0;i<data.fs.length;i++){_img+=`<img src='${data.fs[i]}'>`};document.querySelector('.cf:not([id])).innerHTML=_img;\",\"nextLink\": \".nextC:not([href^='j'])\",\"pageElement\": \".cf:not([id])\",\"replaceElement\": \"head>title,.title>h2,.main-btn,#mangaTitle,#action\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/images/)>-1).innerHTML.match(/eval[^$]+/)[0].trim().slice(4);let data=eval('('+eval(code).replace(/^[^{]+/,'').replace(/;$/,'')+')');let _img='';for(let i=0;i<data.fs.length;i++){_img+=`<img src='${data.fs[i]}'>`};doc.querySelector('.cf:not([id])').innerHTML=_img;\",\"pageAction\": \"function ge(e){return document.querySelector(e)}setTimeout(()=>{let ph=ge('.prevC').href;let nh=ge('.nextC').href;ge('#pager>.prev').outerHTML=`<a class=\\\"prev\\\"href='${ph}'>上一章</a>`;ge('#pager>.next:last-child').outerHTML=`<a class=\\\"next\\\"href='${nh}'>下一章</a>`},1000);function gae(e){return document.querySelectorAll(e)};setTimeout(()=>{let c=gae('#subNav~.cf');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}},10000)\",\"pageBarText\": 1,\"css\": \".title>*:nth-child(n+5):nth-child(-n+6):not(.cf),.bd_960_90,.main-btn>*:nth-child(n+3):nth-child(-n+5),.help,#pager>*:not(.prev):not(.next:last-child),.bd_960_90+[style]:not(.w996),#action~*:not(#pageNo):not(.pagetual_tipsWords),span.manga-page,#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.cf>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.action-list li{width:50%!important}body{padding-bottom:0px!important}\",\"from\": 2},{\"name\": \"漫画星球 / 6 漫画 / 奇漫屋 - 手機版分類\",\"example\": \"m.mhxqiu1.com，m.sixmh7.com，m.qiman57.com\",\"url\": \"^https?://(m\\\\.)?((six|6)mh\\\\d+|mhxqiu\\\\d|qiman\\\\d+)\\\\.com/(sort|rank)/\",\"loadMore\": \".getmore,.getmore1\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"奇漫屋 / 漫画星球 / 6 漫画 - PC閱讀\",\"example\": \"http://www.qiman58.com/21429/1416724.html，http://www.mhxqiu2.com/22914/1235326.html，http://www.6mh66.com/22914/1235327.html\",\"url\": \"^https?://(www\\\\.qiman5\\\\d\\\\.com|www\\\\.mhxqiu\\\\d\\\\.com|www\\\\.6mh66\\\\.com)/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);$('#mainView').removeAttr('style');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('#comicContain>li');if(set){clearInterval(loop);let E=ge('#comicContain');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \"#mainControlNext\",\"pageElement\": \"#comicContain\",\"replaceElement\": \"head>title,.main_control,#mainView~a\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#comicContain');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#comicContain');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.chaptername_title');if(t)return t.innerText\",\"css\": \"body.view .logo-sub-wrap,.guide-download{display:none!important}#mainView img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.pagetual_pageBar{margin-top:30px!important;margin-bottom:22px!important}\",\"from\": 2},{\"name\": \"奇漫屋手機版 - 閱讀\",\"example\": \"http://qiman59.com/21429/999975.html\",\"url\": \"^https?://(m\\\\.)?qiman\\\\d{2}\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"include\": \".bottom-tool-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('.comic-list img');if(set){clearInterval(loop);let E=ge('.comic-list');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \".next>a[href$='html']\",\"pageElement\": \".comic-list\",\"replaceElement\": \"head>title,h1.comic-name,li.prev-chapter,li.next-chapter,.chapter-end,p.read-pos\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('.comic-list');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgSrcArr=eval(eval(code).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1.comic-name');if(t)return t.innerText\",\"css\": \"#adhtml,.guide-download,.read-end~*:not(.pagetual_tipsWords):not(.bottom-tool-bar){display:none!important}.comic-list>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"6 漫画手機版 - 閱讀\",\"example\": \"http://m.6mh66.com/25528/1411234.html\",\"url\": \"^https?://m\\\\.6mh66\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let loop=setInterval(()=>{let set=ge('.main_img img');if(set){clearInterval(loop);let E=ge('.main_img');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLink\": \".next>a[href$='html']\",\"pageElement\": \".main_img\",\"replaceElement\": \".swiper-chapter,head>title,.title>h1,.end-btns\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).slice(12));let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=doc.querySelector('.main_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let ge=e=>document.querySelector(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let v=ge('.van-nav-bar:not([style])');let vn=ge('.van-nav-bar[style*=none]');let vb=ge('.van-nav-bar[style*=block]');let b=ge('.reader-footer:not([style])');let bn=ge('.reader-footer[style*=none]');let bb=ge('.reader-footer[style*=flex]');if(v){v.setAttribute('style','display: block;')}if(b){b.setAttribute('style','display: flex;')}if(vn){vn.style.display='block'}else{vb.style.display='none'}if(bn){bn.style.display='flex'}else{bb.style.display='none'}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgSrcArr=eval(eval(code).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText\",\"css\": \"#adhtml{display:none!important}.main_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"七夕漫画 / 漫画星球 - 分類\",\"example\": \"http://www.qiximh2.com/sort/1-1.html，http://www.mhxqiu2.com/sort/1-1.html\",\"url\": \"^https?://www\\\\.(qiximh\\\\d|mhxqiu\\\\d)\\\\.com/\",\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".cy_list_mh\",\"replaceElement\": \".NewPages\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+div{margin-top:-20px!important;}\",\"from\": 2},{\"name\": \"七夕漫画手機版 / 漫画星球手機版 - 点击加载更多\",\"example\": \"http://m.qiximh2.com/sort/1-1.html，http://m.mhxqiu2.com/sort/1.html\",\"url\": \"^https?://m\\\\.(qiximh\\\\d|mhxqiu\\\\d)\\\\.com/\",\"include\": \".list_notdone>button\",\"nextLink\": \"0\",\"loadMore\": \".list_notdone>button\",\"from\": 2},{\"name\": \"漫画星球手機版 - 閱讀\",\"example\": \"http://m.mhxqiu2.com/22914/1235326.html\",\"url\": \"^https?://m\\\\.mhxqiu\\\\d\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"nextLink\": \"//a[i[@class='ift-next']]\",\"pageElement\": \".main_img\",\"replaceElement\": \"head>title,.chapter_title,.bottom-nav,.bottom_menu\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src;e.removeAttribute('data-src')})\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cs=gae('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('.nav-box.show_nav');if(t){$('.nav-box').removeClass('show_nav');$('.bottom-box').removeClass('show_footer')}else{$('.nav-box').addClass('show_nav');$('.bottom-box').addClass('show_footer')}});let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.chapter_title');if(t)return t.innerText\",\"css\": \"#adhtml,.pinglunadd-btn{display:none!important}\",\"from\": 2},{\"name\": \"七夕漫画\",\"example\": \"http://www.qiximh2.com/21429/999975.html，http://m.qiximh2.com/22914/1235326.html\",\"url\": \"^https?://(www|m)\\\\.qiximh\\\\d\\\\.com/\\\\d+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src;img.removeAttribute('data-src')})\",\"nextLink\": \"//a[img[@alt='下一章'] and contains(@href,'html')] | //a[p[text()='下一篇'] and contains(@href,'html')]\",\"pageElement\": \".main_img\",\"replaceElement\": \"h1.chaptitle,.imgFloat>p:not(.chappl),head>title,.bottom_menu,.bottom-fix,.bottom-nav,.top_left,.readend\",\"pageBarText\": \"let t1=doc.querySelector('.chaptitle');let t2=doc.querySelector('.chapter_title');if(t1){return t1.innerText}else if(t2){return t2.innerText}\",\"lazyImgSrc\": [\"data-src\",\"data-src\"],\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);if(location.hostname=='www.qiximh2.com'){setTimeout(()=>{let last=ge('.imgFloat>p:nth-child(3)>a:not([href$=html])');if(last){ge('.cy_intro_r.wxfocus').innerHTML='<br><br><br><br><br><br><p>^_^感谢您的阅读，已经沒有下一章了哦！</p><br><p>点击下一章按钮可以返回目录哦！</p><br><br><br>'}},100)};if(location.hostname=='m.qiximh2.com'){let cs=document.querySelectorAll('.main_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('.top-layout.hide_nav.show_nav');if(t){$('.top-layout.hide_nav').removeClass('show_nav');$('.bottom-layout.hide_footer').removeClass('show_footer')}else{$('.top-layout.hide_nav').addClass('show_nav');$('.bottom-layout.hide_footer').addClass('show_footer')}})};let c=gae('.main_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"css\": \".cy_intro_r>img,.cy_intro_r>p:nth-child(3),.logo.lbc{display:none!important}.cy_intro_r{height:30px!important;}\",\"from\": 2},{\"name\": \"动漫啦 / 免追漫画 - 分類\",\"example\": \"https://www.dongman.la/manhua/oumei/2.html，https://www.mianzhui.com/category/list/1\",\"url\": \"^https?://www\\\\.(dongman|mianzhui)\\\\.(la|com)/\",\"include\": \".NewPages\",\"pinUrl\": true,\"nextLink\": \"//a[text()='下一页']\",\"pageElement\": \".cy_list_mh\",\"replaceElement\": \".NewPages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"动漫啦 - PC版閱讀 - 分页查看模式 - 雙擊下一章，鍵盤左右鍵上下章\",\"example\": \"https://www.dongman.la/manhua/chapter/5985/54979/1.html\",\"url\": \"^https?://www\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"include\": \"//a[text()='单页滚动模式 ']\",\"init\": \"document.querySelectorAll(\\\"a[href*='m.d']\\\").forEach(a=>{a.href=a.href.replace(\\\"/m.\\\",'/www.')});setTimeout(()=>{let link=document.querySelector('.imgListBox>a');link.removeAttribute('href')},100);function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue};function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=gx(\\\"//a[label[text()='下一章']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('沒有下一章了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=gx(\\\"//a[label[text()='上一章']][starts-with(@href,'http')]\\\");if(p){p.click()}else{alert('沒有上一章了！')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[label[text()='下一章']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('沒有下一章了！')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \".imgListBox>a[href^='http']\",\"pageElement\": \".imgListBox img\",\"replaceElement\": \"button.prePic,button.nextPic\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"a.mdui-btn.mdui-btn-icon,button.prePic,button.nextPic,button.allBtn{display:none!important}.mdui-container{width:100%!important;padding:0px!important}.imgListBox img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto!important}.pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \"动漫啦 - PC版閱讀 - 单页滚动模式 - 雙擊下一章，鍵盤左右鍵上下章\",\"example\": \"https://www.dongman.la/manhua/chapter/5985/54979/1.html\",\"url\": \"^https?://www\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"include\": \"//a[text()='分页查看模式 ']\",\"pinUrl\": true,\"init\": \"document.querySelectorAll(\\\"a[href*='m.d']\\\").forEach(a=>{a.href=a.href.replace('/m.','/www.')});function gx(x){return document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue};function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=gx(\\\"//a[label[text()='下一章']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('沒有下一章了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=gx(\\\"//a[label[text()='上一章']][starts-with(@href,'http')]\\\");if(p){p.click()}else{alert('沒有上一章了！')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[label[text()='下一章']][starts-with(@href,'http')]\\\");if(n){n.click()}else{alert('沒有下一章了！')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \"0\",\"manualMode\": true,\"css\": \".pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \"动漫啦 - 手機版閱讀\",\"example\": \"https://m.dongman.la/manhua/chapter/5985/54979/\",\"url\": \"^https?://m\\\\.dongman\\\\.la/manhua/chapter/\\\\d+/\\\\d+/\",\"history\": 2,\"pinUrl\": true,\"action\": 1,\"wait\": 1000,\"init\": \"let gae=e=>document.querySelectorAll(e);let _img='';gae('img[data-src]').forEach(e=>{_img+=`<img src='${e.dataset.src}'>`});let loop=setInterval(()=>{let set=gae('.chapter-images img')[0];if(set){clearInterval(loop);gae('.chapter-images')[0].innerHTML=_img}},200)\",\"nextLink\": \"//a[label[text()='下一章']][starts-with(@href,'http')]\",\"pageElement\": \".chapter-images\",\"replaceElement\": \"//head/title | //a[@class='mdui-typo-title'] | //div[@class='main']/following-sibling::footer[1]//a\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);let _img='';gae('img[data-src]').forEach(e=>{_img+=`<img src='${e.dataset.src}'>`});gae('.chapter-images')[0].innerHTML=_img\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.chapter-images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.mdui-typo-title');if(t)return t.innerText\",\"css\": \".chapter-images>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"古风漫画网 / 优酷漫画 / 360 漫画 / 古漫画 / 前未漫画 / 最漫画 / 漫画芯 / 亲亲漫画 / 漫画456 / 爱米推漫画 / 蔷薇漫画 - 分類\",\"example\": \"www.gufengmh.com，www.ykmh.com，www.qianwee.com，www.100fanwo.com，www.izhegu.com，www.zuimh.com，www.mhxin.com，www.acgud.com，www.manhua456.com，www.imitui.com，www.qwmanhua.com\",\"url\": \"^https?://www\\\\.(gufengmh|ykmh|qianwee|100fanwo|izhegu|zuimh|mhxin|acg(u|q)d|manhua456|imitui|qwmanhua)\\\\.com/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"li.item-lg,.list-comic\",\"replaceElement\": \"ul.pagination\",\"css\": \".pagetual_pageBar{margin-top:-30px!important;margin-bottom:10px!important}\",\"from\": 2},{\"name\": \"亲亲漫画 - PC版閱讀\",\"example\": \"http://www.acgud.com/manhua/39305/1277010.html\",\"url\": \"^https?://www\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);document.querySelector('.comic_wraCon').appendChild(imgs);\",\"nextLink\": \"span.next>a\",\"pageElement\": \"//script[contains(text(),'chapterImages')]\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid,.btmBtnBox\",\"insert\": \".comic_wraCon\",\"insertPos\": 2,\"pageInit\": \"let code = Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;document.querySelector('.comic_wraCon').appendChild(document.createElement('script')).textContent = code;\",\"pageAction\": \"jmzz20191018();let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);document.querySelector('.comic_wraCon').appendChild(imgs);let gae=e=>document.querySelectorAll(e);let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#images~*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText;\",\"sleep\": 1000,\"css\": \".comic_wraCon img{border:none!important;padding:0!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}select,.img_land_prev,.img_land_next,#images{display:none!important}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"亲亲漫画 - 手機版閱讀\",\"example\": \"https://m.acgqd.com/manhua/39305/1277010.html\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);$('.control_bottom').append('<div class=\\\"side_public scroll-top\\\"id=\\\"sidePublic\\\"style=\\\"display: block;\\\"><a href=\\\"javascript:SinMH.scrollTo(0);\\\"id=\\\"returnTop\\\"class=\\\"return-top\\\"></a></div>');let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);let x=ge('#loading');x.parentNode.insertBefore(imgs,x);ge('a.iconRet').href=comicUrl;let n=ge('#action li:nth-child(4)>a');if(nextChapterData.id==null){n.href=comicUrl;n.innerText='返回目录'}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"//script[contains(text(),'chapterImages')]\",\"replaceElement\": \"head>title,.BarTit\",\"insert\": \"#loading\",\"insertPos\": 1,\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let s=document.createElement('script');s.textContent=code;let x=document.querySelector('#loading');x.parentNode.insertBefore(s,x);let cd=eval(code.match(/comicUrl[^;]+/)[0]);let pd=eval(code.match(/prevChapterData[^;]+/)[0]);let nd=eval(code.match(/nextChapterData[^;]+/)[0]);let p=ge('#action li:nth-child(1)>a');let n=ge('#action li:nth-child(4)>a');if(nd.id>0){n.href=nd.uri;n.innerText='下一章'}else{n.href=cd;n.innerText='返回目录'}p.href=pd.uri;\",\"pageAction\": \"jmzz20191018();let imgs=document.createElement('div');imgs.className='PagetualImgBox';let host=SinConf.resHost[0].domain+'/';let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=host+chapterPath+e;F.appendChild(img)});imgs.appendChild(F);let x=document.querySelector('#loading');x.parentNode.insertBefore(imgs,x);let gae=e=>document.querySelectorAll(e);let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#images~*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.match(/[^(]+/)[0];\",\"sleep\": 1000,\"css\": \"#page-info,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*,.chapter-view~*,#images{display:none!important}#action li{width:50%!important}.chapter-view img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.side_public{opacity:0.4;border-radius: 50%;position:fixed;bottom:60px;right:13px;width:36px;height:35px;display:none;margin-left:20px}.side_public a{border-radius: 50%;display:inline-block;*zoom:1;*display:inline;width:36px;height:36px;border:1px solid #e6e6e6;}.side_public a.return-top{background:#fff url(https://www.acgqd.com/assets/4155373f/images/side_ico.png) no-repeat 2px -81px}\",\"from\": 2},{\"name\": \"亲亲漫画 - 手機版章節全部展開\",\"example\": \"https://m.acgqd.com/manhua/38496/\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/manhua/\\\\d+/$\",\"pinUrl\": true,\"autoClick\": \"//a[@title='全部展开']\",\"css\": \"script+a{display:none!important}.Introduct_Sub{background:url(https://m.idmzj.com/images/int_bg.png)!important;background-size:100% 100%!important}\",\"from\": 2},{\"name\": \"亲亲漫画 - 手機版漫畫在新分頁打開\",\"example\": \"https://m.acgqd.com/update/\",\"url\": \"^https?://m\\\\.acg(u|q)d\\\\.com/(update|list|list/wanjie)?/?$\",\"pinUrl\": true,\"init\": \"let openInNewTab=()=>document.querySelectorAll('.itemBox a:not([target=_blank]),.list-comic a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \"漫画456 - PC版閱讀\",\"example\": \"https://www.manhua456.com/manhua/wodeshifumeidaodaxiancaitupo/766673.html\",\"url\": \"^https?://www\\\\.manhua456\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#images img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='.comic_wraCon>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style)}},200)\",\"nextLink\": \".next>a\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih;if(SinConf.resHost1){ih=SinConf.resHost1+'/'}else{ih=SinMH.getResHostDomain()+'/'}let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.head_wz');if(t)return t.innerHTML.replace(/.+;/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.block.clearfix{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"漫画456 - 手機版閱讀\",\"example\": \"https://m.manhua456.com/manhua/moliwuxiandezuiqiangmonvyongchuangzaomofazaiyishijieyouzaishenghuo/537951.html\",\"url\": \"^https?://m\\\\.manhua456\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"$('#images').unbind('click',SinTheme.nextPage);$('#images').unbind('mousedown');let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#images img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih = eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F)}},200)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih = eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.trim()\",\"css\": \"#page-info,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*:not(.pagetual_tipsWords),.chapter-view~*:not(.pagetual_tipsWords),#loading{display:none!important}#action li{width:50%!important}.chapter-view>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"漫画456 - 手機版章節全部展開\",\"example\": \"https://m.manhua456.com/manhua/zhongniannandeyishijiewanggoushenghuo/\",\"url\": \"^https?://m\\\\.manhua456\\\\.com/manhua/\\\\w+/$\",\"pinUrl\": true,\"autoClick\": \"//a[@title='全部展开']\",\"from\": 2},{\"name\": \"古漫画 / 360 漫画 - PC版閱讀\",\"example\": \"https://www.izhegu.com/manhua/banbenDAYS/2011818.html，https://www.100fanwo.com/manhua/banbenDAYS/3434626.html\",\"url\": \"^https?://www\\\\.(izhegu|100fanwo)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imghost='https://res1.izhegu.com';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=imghost+e}F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imghost='https://res1.izhegu.com';let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=imghost+e}F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.uri}else{e.href=c;e.innerHTML=e.innerHTML.replace('下一章','返回目录')}});gae('.prevC').forEach(e=>{e.href=p.uri})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"古漫画 / 360 漫画 - 手機版分類\",\"example\": \"https://m.izhegu.com/update/，https://m.100fanwo.com/update/\",\"url\": \"^https?://(m)\\\\.(100fanwo|izhegu)\\\\.com/\",\"nextLink\": \"li.next>a\",\"pageElement\": \".UpdateList>.itemBox,.list-comic\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"90漫畫網 - 分類\",\"example\": \"http://www.90mh.com/update/\",\"url\": \"^https?://www\\\\.90mh\\\\.com/(update|list)/\",\"nextLink\": \"li.next>a\",\"pageElement\": \"#contList\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"90漫畫網 - PC版閱讀\",\"example\": \"http://www.90mh.com/manhua/DRAWINGzuiqiangmanhuajialiyonghuihuajinengzaiyishijiekaiwushuang/204311.html\",\"url\": \"^https?://www\\\\.90mh\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"autoClick\": \"#chapter-scroll:not(.active)\",\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=ih+cp+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.uri}else{e.href=c;e.innerHTML=e.innerHTML.replace('下一章','返回目录')}});gae('.prevC').forEach(e=>{e.href=p.uri})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let ih=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let cp=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=ih+cp+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"90漫畫網 / 生辰漫画网 - 手機版分類\",\"example\": \"http://wap.90mh.com/update/，https://m.chashengchen.com/list/update/\",\"url\": \"^https?://(wap|m)\\\\.(90mh|chashengchen)\\\\.com/(update|list)/\",\"nextLink\": \"#update_list li.next>a,#w0 li.next>a\",\"pageElement\": \".itemBox,.list-comic\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"from\": 2},{\"name\": \"90漫畫網手機版 - 漫畫閱讀\",\"example\": \"http://wap.90mh.com/manhua/DRAWINGzuiqiangmanhuajialiyonghuihuajinengzaiyishijiekaiwushuang/204311.html\",\"url\": \"^https?://wap\\\\.90mh\\\\.com/manhua/\",\"init\": \"let Imgs=document.querySelector('#chapter-image');let Img=document.querySelector('#chapter-image img');Imgs.innerHTML=Img.outerHTML;\",\"nextLinkByJs\": \"function ge(e){return doc.querySelector(e)}let page=ge('#k_page').innerText;let total=ge('#k_total').innerText;let np=ge('.action-list li:nth-child(3) a');let nc=ge('.action-list li:nth-child(4) a');if(page!=total){return np.href}else if(/html$/.test(nc.href)){return nc.href}\",\"pageElement\": \"#chapter-image img\",\"replaceElement\": \"head>title,h1,#m_r_bottom\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#chapter-image>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.match(/>(.+)\\\\n/)[1];\",\"rate\": 10,\"css\": \".friendly,#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}\",\"from\": 2},{\"name\": \"优酷漫画 - PC版閱讀\",\"example\": \"http://www.ykmh.com/manhua/yiquanchaoren/346.html\",\"url\": \"^https?://www\\\\.ykmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \".next>a\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.head_wz');if(t)return t.innerHTML.replace(/.+;/,'')\",\"pageNum\": \"{$p}\\\\.html$\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"优酷漫画手機版 - 閱讀\",\"example\": \"http://wap.ykmh.com/manhua/yiquanchaoren/346.html\",\"url\": \"^https?://wap\\\\.ykmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"$('#images').unbind('click',SinTheme.nextPage);$('#images').unbind('mousedown');let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let F=new DocumentFragment();imgs.forEach(e=>{let img=new Image();img.src=host+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url;\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.BarTit\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let F=new DocumentFragment();imgs.forEach(e=>{let img=new Image();img.src=host+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let n=ge('#action>ul>li:nth-child(4)>a');let n2=ge('.afterChapter');if(next.id>0){n.href=next.uri;n2.outerHTML=`<a href=\\\"${next.uri}\\\"class=\\\"afterChapter\\\">下一章></a>`}else{n.removeAttribute('href');n.innerText='無下一章';n2.outerHTML=`<a href class=\\\"afterChapter\\\">無下一章</a>`}let prev=eval(code.match(/prevChapterData[^;]+/)[0]);let p=ge('#action>ul>li:nth-child(1)>a');let p2=ge('.beforeChapter');if(prev.id>0){p.href=prev.uri;p2.outerHTML=`<a href=\\\"${prev.uri}\\\"class=\\\"beforeChapter\\\"><上一章</a>`}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgs=eval(code.match(/chapterImages[^;]+/)[0]);let host=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+/)[0];let imgSrcArr=[];imgs.forEach(e=>{let imgSrc=host+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerHTML.match(/\\\\n?([^<]+)/)[1]\",\"css\": \".subHeader span,#action>ul>li:nth-child(n+2):nth-child(-n+3),.letchepter>section,.letchepter>svg,i~div[id][class],body>span~div:not(#pagetual-preload):not(.pagetual_tipsWords),.comic-comment{display:none!important}.action-list li{width:50%!important}.chapter-view #images img{margin:0 auto 0px!important}\",\"from\": 2},{\"name\": \"古风漫画网 - PC版閱讀\",\"example\": \"https://www.gufengmh.com/manhua/yuanlaiwoshixianjiezhizun/2053294.html\",\"url\": \"^https?://www\\\\.gufengmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"autoClick\": \"#chapter-pagination:not(.active)\",\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=document.querySelector('#images');E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return comicUrl+next.id+'.html'\",\"pageElement\": \"#images\",\"replaceElement\": \"h2,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.nextC').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.nextC').forEach(e=>{e.href=comicUrl;e.style.display='none';})}if(prev.id>0){gae('.prevC').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+imgPath+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"古风漫画网 - 手機版分類\",\"example\": \"https://m.gufengmh.com/update/\",\"url\": \"^https?://m\\\\.gufengmh\\\\.com/\",\"nextLink\": \".pagination li.active+li>a\",\"pageElement\": \"//div[@class='UpdateList'] | //ul[li[@class='list-comic']]\",\"replaceElement\": \".pagination\",\"css\": \".pagetual_pageBar+.UpdateList{margin-top:0px!important}\",\"from\": 2},{\"name\": \"古风漫画网 - 手機版閱讀\",\"example\": \"https://m.gufengmh.com/manhua/wokeyiwuxianzhaohuan/2042963.html\",\"url\": \"^https?://m\\\\.gufengmh\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);ge('body>div:nth-child(1)').innerHTML=ge('#panel-title').innerHTML;ge('.iconRet').href=comicUrl;gae('.beforeChapter,.afterChapter').forEach(e=>{e.removeAttribute('onclick')});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=ge('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.afterChapter').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.afterChapter').forEach(e=>{e.href=comicUrl;})}if(prev.id>0){gae('.beforeChapter').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return comicUrl+next.id+'.html'\",\"pageElement\": \"#images\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imghost+imgPath+e;F.appendChild(img)});let E=doc.querySelector('#images');E.innerHTML='';E.appendChild(F);let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);if(next.id>0){gae('.afterChapter').forEach(e=>{e.href=comicUrl+next.id+'.html'})}else{gae('.afterChapter').forEach(e=>{e.href=comicUrl;})}if(prev.id>0){gae('.beforeChapter').forEach(e=>{e.href=comicUrl+prev.id+'.html'})}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imghost=eval(code.match(/pageImage[^;]+/)[0]).match(/^https?:\\\\/\\\\/[^/]+\\\\//)[0];let imgPath=eval(code.match(/chapterPath[^;]+/)[0]);let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imghost+imgPath+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText.trim()\",\"css\": \"#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body>div:nth-child(1) .iconRet{position:absolute;left:0px;width:45px;height:45px;top:-3px;display:block;background:url(https://m.gufengmh.com/assets/f0660635/images/bg_icon_ret.png) no-repeat 20px 14px;background-size:9px 17px}\",\"from\": 2},{\"name\": \"前未漫画 / 漫画芯 / 蔷薇漫画 - PC版閱讀\",\"example\": \"https://www.mhxin.com/manhua/taixugongyu/2345840.html，https://www.qianmh.com/manhua/dianjuren/253973.html，https://www.qwmanhua.com/manhua/woshenmeshihouwudile/1239187.html\",\"url\": \"^https?://www\\\\.(qianmh|mhxin|qwmanhua)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#images');if(E){E.innerHTML='';E.appendChild(F)}let style=document.createElement('style');style.innerHTML='.comic_wraCon>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0 && !document.querySelector('.ip-body'))return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,.wrap_last_head,.wrap_last_mid\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});let E=ge('#images');if(E){E.innerHTML='';E.appendChild(F)}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let n=ge('.next>a');if(n){ge('.btm_chapter_btn.fr').href=n.href}else{ge('.btm_chapter_btn').href=ge('.head_wz>a+a').href}let p=ge('.pre>a');if(p){ge('.btm_chapter_btn.fl').href=p.href}},300);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=document.querySelector('.head_wz');let t2=document.querySelector('a+h1');if(t){return t.innerHTML.replace(/.+;/,'').replace(/\\\\s-\\\\s漫画芯/,'')}else if(t2){return t2.innerText.match(/\\\\S+\\\\s(\\\\S+\\\\s\\\\S+)/)[1]}\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}body,.autoHeight,.wrap_last_mid .pre,.wrap_last_mid .next,.chapter-view .panel,.mainNav_inner{width:auto!important;min-width:auto!important}\",\"from\": 2},{\"name\": \"最漫画 / 爱米推漫画 - PC版閱讀\",\"example\": \"https://www.zuimh.com/manhua/maoshendoumaocao/1755415.html，https://www.imitui.com/manhua/yuanzun/3683.html\",\"url\": \"^https?://www\\\\.(zuimh|imitui)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"autoClick\": \"#chapter-scroll:not(.active)\",\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let gae=e=>document.querySelectorAll(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);setTimeout(()=>{let c=eval(code.match(/comicUrl[^;]+/)[0]);let p=eval(code.match(/prevChapterData[^;]+/)[0]);let n=eval(code.match(/nextChapterData[^;]+/)[0]);gae('.nextC').forEach(e=>{if(n.id>0){e.href=n.url}else{e.href=c;e.innerHTML=e.innerHTML.replace('下一章','返回目录')}});gae('.prevC').forEach(e=>{e.href=p.url})},300)\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"漫画芯 / 最漫画 - 手機版閱讀\",\"example\": \"https://m.mhxin.com/manhua/douluodalu/631505.html，https://m.zuimh.com/manhua/douluodalu/314222.html\",\"url\": \"^https?://m\\\\.(mhxin|zuimh)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"init\": \"let a=document.querySelector('#images a');a.outerHTML=a.innerHTML;\",\"nextLinkByJs\": \"let ge=e=>doc.querySelector(e);let m=ge('.image-content>p:last-child').innerText.match(/(\\\\d+)\\\\/(\\\\d+)/);let np=ge('.action-list li:nth-child(3)>a');let nc=ge('.action-list li:nth-child(4)>a');if(m[1]!=m[2]){return np.href}else if(/html$/.test(nc.href)){return nc.href}\",\"pinUrl\": true,\"pageElement\": \"#images img[id]\",\"replaceElement\": \".image-content>p:last-child\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>5){ps[0].remove();let ds=document.querySelector('#images img[id]').parentNode.querySelectorAll('*');for(let i=0;i<ds.length;i++){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText\",\"rate\": 10,\"css\": \"#image-msg,ul.nav+div:not(#images),ul.nav+div+div:not(#images),.action-list>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}.action-list li{width:50%!important}.chapter-view #images img{margin:0 auto 0px!important}\",\"from\": 2},{\"name\": \"爱米推漫画 / 蔷薇漫画 - 手機版閱讀\",\"example\": \"https://m.imitui.com/manhua/yuanzun/3683.html，https://m.qwmanhua.com/manhua/woshenmeshihouwudile/1239188.html\",\"url\": \"^https?://m\\\\.(imitui|qwmanhua)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"action\": 1,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);document.querySelectorAll('.comic-panel a:last-child').forEach(e=>{e.removeAttribute('onclick');if(next.id>0){e.href=next.url}else{e.href='';e.innerText='無下一章'}});document.querySelectorAll('.comic-panel a:first-child').forEach(e=>{e.removeAttribute('onclick');if(prev.id>0)e.href=prev.url});let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('#images').remove();\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,.BarTit\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);let prev=eval(code.match(/prevChapterData[^;]+/)[0]);document.querySelectorAll('.comic-panel a:last-child').forEach(e=>{if(next.id>0){e.href=next.url}else{e.href='';e.innerText='無下一章'}});document.querySelectorAll('.comic-panel a:first-child').forEach(e=>{if(prev.id>0)e.href=prev.url});\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText;\",\"css\": \".nav+div{display:none!important}#scroll-image img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"xlsmh下拉式漫画 / 85漫画网 - 閱讀\",\"example\": \"https://www.xlsmh.com/manhua/wodetexingnengwuxianchengzhang/1308826.html，https://www.85iu.com/manhua/mofaxueyuandeweizhuangjiaoshi/2740936.html\",\"url\": \"^https?://www\\\\.(xlsmh|85iu)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.?\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgSrcArr=eval(code.match(/chapterImages[^;]+/)[0]);return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.match(/\\\\S+([^<]+)<.+>/)[1]\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"xlsmh下拉式漫画 / 奇妙漫画 - 手機版閱讀\",\"example\": \"https://m.xlsmh.com/manhua/wodetexingnengwuxianchengzhang/1308826.html\",\"url\": \"^https?://m\\\\.(xlsmh|qmiaomh)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('#images').remove();\",\"nextLink\": \"//a[contains(text(),'下一章') and contains(@href,'html')]\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,.letchepter\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"css\": \".right,.letchepter+p,.action-list{display:none!important}\",\"from\": 2},{\"name\": \"85漫画网手機版 - 漫畫閱讀\",\"example\": \"https://m.85iu.com/manhua/mofaxueyuandeweizhuangjiaoshi/2740936.html\",\"url\": \"^https?://m\\\\.85iu\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let Imgs=document.querySelector('.erPag');let Img=document.querySelector('.erPag img');Imgs.innerHTML=Img.outerHTML;\",\"nextLink\": \"//a[text()='下一页' and contains(@href,'html')]\",\"pageElement\": \".erPag img\",\"replaceElement\": \"head>title,h1,#action\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.erPag>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"rate\": 10,\"css\": \".right{display:none!important}\",\"from\": 2},{\"name\": \"漫画吧 - 閱讀\",\"example\": \"https://www.dmhua8.com/manhua/shengnvyintaiguowanmeibugoukeaierbeifeichuhunyuebingmaidaolinguo/966404.html\",\"url\": \"^https?://www\\\\.d?mhua8\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"autoClick\": \"#chapter-scroll:not(.active)\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let E=ge('#images');let F=new DocumentFragment();chapterImages.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);let style=document.createElement('style');style.innerHTML='#tbCenter>#images:nth-child(1)>img:nth-child('+chapterImages.length+')~*{display: none!important}';ge('head').appendChild(style);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h2\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=doc.querySelector('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \"#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}.img_info{display:none!important}\",\"from\": 2},{\"name\": \"漫画吧 / 漫画连 - 手機版閱讀\",\"example\": \"https://m.dmhua8.com/manhua/shengnvyintaiguowanmeibugoukeaierbeifeichuhunyuebingmaidaolinguo/966591.html\",\"url\": \"^https?://m\\\\.(d?mhua8|100mhl)\\\\.com/manhua/[a-z]+/\\\\d+\\\\.html\",\"init\": \"let gae=e=>document.querySelectorAll(e);let Imgs=gae('#images')[0];let Img=gae('img[alt]');let _img='';for(let i=0;i<Img.length;i++){_img+=Img[i].outerHTML}Imgs.innerHTML=_img;\",\"action\": 1,\"wait\": \"let img=doc.querySelector('#images img[alt]');return img!=null\",\"nextLinkByJs\": \"let n=doc.querySelector('.action-list li:nth-child(3)>a');if(/html$/.test(n.href))return n.href\",\"pageElement\": \"#images img[alt]\",\"replaceElement\": \"head>title,.BarTit,#action\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>9){ps[0].remove();let ds=document.querySelectorAll('#images>*');for(let i=0;i<ds.length;i++){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.BarTit');if(t)return t.innerText;\",\"rate\": 10,\"css\": \"#images~[id]:not(.control_bottom){display:none!important}#images img{margin:0 auto!important}\",\"from\": 2},{\"name\": \"来漫画 - 閱讀\",\"example\": \"https://www.laimanhua.net/kanmanhua/kaijujiangliyiyitiaoming/1684241122.html\",\"url\": \"^https?://www\\\\.laimanhua\\\\.net/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=encodeURI(host+e);F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>.loading-box+#pic-list>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextUrlid/)>-1).innerHTML;let next=eval(code.match(/nextUrlid[^,]+/)[0]);if(next>0)return location.href.replace(/\\\\d+\\\\.html$/,'')+next+'.html'\",\"pageElement\": \"#pic-list\",\"replaceElement\": \"head>title,h1,#position>b\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=encodeURI(host+e);F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#pic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let base64=eval(code.match(/picTree[^;]+/)[0]);let imgData=base64_decode(base64).split('$qingtiandy$');let host=getpicdamin();let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=encodeURI(host+e);imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#position>b');if(t)return t.innerText\",\"css\": \".img_info{display:none!important}#pic-list>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}.pagetual_pageBar+.img-box{margin-top:0px!important}\",\"from\": 2},{\"name\": \"来漫画 - 手機版閱讀\",\"example\": \"https://m.laimanhua.net/kanmanhua/kaijujiangliyiyitiaoming/1684241122.html\",\"url\": \"^https?://m\\\\.laimanhua\\\\.net/kanmanhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let E=ge('#manga');let F=new DocumentFragment();json.images.forEach(e=>{let img=new Image();img.src=realurl+json.path+e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let next=json.nextUrlid;if(next>0)return location.href.replace(/\\\\d+\\\\.html$/,'')+next+'.html';\",\"pageElement\": \"#manga\",\"replaceElement\": \"head>title,#mangaTitle\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let E=ge('#manga');let F=new DocumentFragment();json.images.forEach(e=>{let img=new Image();img.src=realurl+json.path+e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#manga');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/mhInfo/)>-1).innerHTML;let json=eval(code.match(/mhInfo[^;]+/)[0]);let imgSrcArr=[];json.images.forEach(e=>{let imgSrc=realurl+json.path+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('#mangaTitle');if(t)return t.innerHTML.replace(/.+<.+>/g,'').trim()\",\"css\": \".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,[id^='jusha']{display:none!important}.manga-box img{border-top:0px!important;border-bottom:0px!important}\",\"from\": 2},{\"name\": \"生辰漫画网 / 奇妙漫画 - 閱讀\",\"example\": \"https://www.chashengchen.com/manhua/xianziniyoudaxiongzhizhao/2867318.html\",\"url\": \"^https?://www\\\\.(chashengchen|qmiaomh)\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#tbCenter>#images:nth-child(1)>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#images\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#images');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc;if(e.indexOf('http')!=-1){imgSrc=e}else{imgSrc=SinConf.resHost[0].domain+e}imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.replace(/\\\\s<.+>/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#images>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"漫画连 - 閱讀\",\"example\": \"https://www.100mhl.com/manhua/yuanlaiwoshixianjiezhizun/1268523.html\",\"url\": \"^https?://www\\\\.100mhl\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#imagesOld');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#tbCenter>#imagesOld:nth-child(1)>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/nextChapterData/)>-1).innerHTML;let next=eval(code.match(/nextChapterData[^;]+/)[0]);if(next.id>0)return next.url\",\"pageElement\": \"#imagesOld\",\"replaceElement\": \"head>title,h1\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/chapterImages/)>-1).innerHTML;let imgData=eval(code.match(/chapterImages[^;]+/)[0]);let E=ge('#imagesOld');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();if(e.indexOf('http')!=-1){img.src=e}else{img.src=SinConf.resHost[0].domain+e}F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#images');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerHTML.replace(/\\\\s<.+>/,'')\",\"css\": \".nav-pagination,.img_land_prev,.img_land_next,#page_select,.img_info,.title.pr>em:nth-child(5),.title.pr>span,.img_info{display:none!important}#imagesOld>img{max-width: 100% !important;display: block !important;margin: 0 auto -2px auto !important;border:0px!important;padding:0px!important;}.w996,.tbCenter{width:auto!important}\",\"from\": 2},{\"name\": \"生辰漫画网 - 手機版閱讀\",\"example\": \"https://m.chashengchen.com/manhua/xianziniyoudaxiongzhizhao/2867318.html\",\"url\": \"^https?://m\\\\.chashengchen\\\\.com/manhua/\\\\w+/\\\\d+\\\\.html\",\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let F=new DocumentFragment();document.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=ge('#scroll-image');E.innerHTML='';E.appendChild(F);ge('.erPag').remove();\",\"nextLink\": \"//a[text()='下一章' and contains(@href,'html')]\",\"pageElement\": \"#scroll-image\",\"replaceElement\": \"head>title,h1,#action\",\"pageInit\": \"let F=new DocumentFragment();doc.querySelectorAll('#image,.scroll-item img').forEach(e=>{let img=new Image();if(e.dataset.src){img.src=e.dataset.src}else{img.src=e.src}F.appendChild(img)});let E=doc.querySelector('#scroll-image');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#scroll-image');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('h1>span');if(t)return t.innerText.replace(/[^>]+>/,'')\",\"css\": \".action-list li{width:50%!important}.right,#action>ul>li:nth-child(n+2):nth-child(-n+3),.UnderPage+div+script+div[id]{display:none!important}\",\"from\": 2},{\"name\": \"砂之船动漫家 / 361中文漫画 - 分類\",\"example\": \"https://www.szcdmj.com/szcbolist\",\"url\": \"^https?://www\\\\.(szcdmj|361zw)\\\\.com/(szcbolist|booklist)\",\"nextLink\": \"#nextPage,a[title='下一页'],li.active+li>a\",\"pageElement\": \".mh-list,.manga-list>ul\",\"replaceElement\": \".pagination\",\"pageAction\": \"document.querySelectorAll('.mh-cover').forEach(e=>{e.style=e.getAttribute('style')})\",\"css\": \".mh-list+.pagetual_pageBar{margin-top:20px!important}.manga-list-2-cover-img{opacity: 1!important}\",\"from\": 2},{\"name\": \"砂之船动漫家 / 361中文漫画 / 土豪漫画 - PC版閱讀\",\"example\": \"https://www.szcdmj.com/szcchapter/736400，https://www.361zw.com/361zwchapter/318168，https://7hxy.com/chapter/968191?page=8&id=968191\",\"url\": \"^https?://(www\\\\.)?(szcdmj|361zw|7hxy)\\\\.com/\\\\w{0,5}chapter/\\\\d+\",\"include\": \".read-section\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//a[@href][text()='下一页' or text()='下一话' or text()='下一章']\",\"pageElement\": \".comiclist>.comicpage\",\"replaceElement\": \".fanye\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/page=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.comiclist>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.title');if(t)return t.innerText.match(/\\\\s(.+)/)[1]\",\"css\": \".comiclist img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"砂之船动漫家 / 361中文漫画 - 手機版閱讀\",\"example\": \"https://www.szcdmj.com/szcchapter/736400，https://www.361zw.com/361zwchapter/318949\",\"url\": \"^https?://www\\\\.(szcdmj|361zw)\\\\.com/\\\\w{3,5}chapter/\\\\d+(\\\\?page=\\\\d+)?\",\"include\": \".view-bottom-bar\",\"history\": 2,\"pinUrl\": true,\"nextLink\": \"//a[@href][text()='下一页' or text()='下一话']\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".view-bottom-bar,.view-fix-top-bar,.view-fix-bottom-bar\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/page=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.view-fix-top-bar-title');if(t)return t.innerText\",\"css\": \".view-bottom-bar>li:nth-child(n+3):nth-child(-n+4),.view-fix-bottom-bar-item:nth-child(n+4):nth-child(-n+5){display:none!important}.view-fix-bottom-bar-item,.view-bottom-bar>li{width:33.33%!important}\",\"from\": 2},{\"name\": \"無限動漫 - 類別停止自動匹配\",\"example\": \"https://www.comicabc.com/html/1/\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/html/\\\\d+/$\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"無限動漫 - 圖庫\",\"example\": \"https://www.comicabc.com/photo/1-1.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/[0-9-]+\\\\.html$\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".photo_main_div .row\",\"replaceElement\": \".pager\",\"from\": 2},{\"name\": \"無限動漫 - 圖庫清單載入大圖\",\"example\": \"https://www.comicabc.com/photo/6041.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/\\\\d+\\\\.html$\",\"init\": \"document.querySelectorAll('#dl img').forEach(img=>{let f=img.src.replace('.jpe','.jpg');img.src=f})\",\"pinUrl\": true,\"from\": 2},{\"name\": \"無限動漫 - 圖庫原圖瀏覽\",\"example\": \"https://www.comicabc.com/photo/p6038.html?n=1\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/photo/p\\\\d+\\\\.html\\\\?n=\\\\d+$\",\"nextLinkByUrl\": [\"(\\\\?n=(\\\\d+))$\",\"?n={$2+1}\",\"#next:not([style])\"],\"pageElement\": \"img[name='TheImg']\",\"replaceElement\": \".photo_main_div > div:nth-child(1)\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"img[name='TheImg'] {max-width: 98% !important;display: block !important;margin: 0 auto !important;}\",\"from\": 2},{\"name\": \"無限動漫 - 分類\",\"example\": \"https://www.comicabc.com/comic/6-1.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/comic/[a-z0-9-]+\\\\.html\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".default_row_width>.p-0\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-14px!important}\",\"from\": 2},{\"name\": \"無限動漫 - 動漫大全\",\"example\": \"https://www.comicabc.com/list/all_all_all/\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/list/\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next']\",\"pageElement\": \".default_row_width .row>.p-0\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-14px!important}\",\"from\": 2},{\"name\": \"無限動漫 - 漫畫閱讀 - 鍵盤左右鍵上下集\",\"example\": \"https://www.comicabc.com/ReadComic/103/1/1_FU4_LD9_7.html\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/ReadComic/\\\\d+/\\\\d+/\\\\w+\\\\.html\",\"init\": \"function ge(e){return document.querySelector(e)}function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('沒有下一集了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(location.pathname.split('/')[3]==1){alert('沒有上一集了！')}else{p.click()}}};document.addEventListener('keydown',prev);\",\"nextLinkByUrl\": [\"html(\\\\?p=(\\\\d+))?$\",\"html?p={($2.0||1)+1}\"],\"stopSign\": [[\"#pagenum\",\"(\\\\d+)\"],[\"#pagenum\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#TheImg\",\"replaceElement\": \"#pagenum\",\"css\": \"img[name='TheImg'] {max-width: 100% !important;display: block !important;margin: 0 auto !important;}#TheTable td:nth-child(1),#TheTable td:nth-child(3),.comment_block,#prevnext2,#prev,#next{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"無限動漫 - 漫畫閱讀2 - 鍵盤左右鍵上下集\",\"example\": \"https://www.comicabc.com/online/new-18722.html?ch=26\",\"url\": \"^https?://www\\\\.comicabc\\\\.com/online/new-\\\\d+\\\\.html(\\\\?ch=\\\\d+(-\\\\d+)?)?$\",\"init\": \"if(location.href.indexOf('ch=')==-1)location.href=location.href+'?ch=1';function ge(e){return document.querySelector(e)}function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('沒有下一集了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(location.href.match(/ch=(\\\\d+)/)[1]==1){alert('沒有上一集了！')}else{p.click()}}};document.addEventListener('keydown',prev);\",\"nextLinkByUrl\": [\"(ch=\\\\d+)(-(\\\\d+))?$\",\"$1-{($3.0||1)+1}\"],\"stopSign\": [[\"#pagenum\",\"(\\\\d+)\"],[\"#pagenum\",\"\\\\/(\\\\d+)\"]],\"pageElement\": \"#TheImg\",\"replaceElement\": \"#pagenum\",\"css\": \"img[name='TheImg'] {max-width: 100% !important;display: block !important;margin: 0 auto !important;}#TheTable td:nth-child(1),#TheTable td:nth-child(3),.comment_block,#prevnext2,#prev,#next{display:none!important}\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"from\": 2},{\"name\": \"無限動漫手機版 - 分類\",\"example\": \"https://m.comicbus.com/category/update_comic-1.html\",\"url\": \"^https?://m\\\\.comicbus\\\\.com/category/\",\"nextLink\": \"//a[span/@class='mdi mdi-skip-next mdi-next-btn']\",\"pageElement\": \"#list_dl\",\"replaceElement\": \".pager\",\"css\": \".pagetual_pageBar{margin-top:-1px!important;margin-bottom:5px!important}\",\"from\": 2},{\"name\": \"無限動漫手機版 - 漫畫閱讀 - 雙擊下一集，鍵盤左右鍵上下集\",\"example\": \"https://8.twobili.com/comic/insurance_15059.html?ch=1\",\"url\": \"^https?://8\\\\.twobili\\\\.com/comic/insurance\",\"pinUrl\": true,\"init\": \"ge=e=>document.querySelector(e);function next(e){let key=window.event?e.keyCode:e.which;if(key==39){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('沒有下一集了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){let p=ge('#prevvol');if(ch==1){alert('沒有上一集了！')}else{p.click()}}};document.addEventListener('keydown',prev);function dcnext(e){let n=ge('#nextvol:not([style])');if(n){n.click()}else{alert('沒有下一集了！')}};document.addEventListener('dblclick',dcnext);let E=ge('#TheTable>ul>li');let F=new DocumentFragment();for(let i=1;i<=ps;i++){let imgSrc='//img'+ss(c,4,2)+'.8comic.com/'+ss(c,6,1)+'/'+ti+'/'+ss(c,0,4)+'/'+nn([i])+'_'+ss(c,mm([i])+10,3,f)+'.jpg';let img=new Image();img.src=imgSrc;F.appendChild(img)};E.innerHTML='';E.appendChild(F);let ul=ge('#TheTable>ul');let v1=ge('.view_tmenu').cloneNode(true);let v2=document.querySelectorAll('.view_menut')[1];ul.appendChild(v2);ul.appendChild(v1);let b1=ge('.book_inc_title');let b2=ge('.book_link_item');ul.appendChild(b1);ul.appendChild(b2);\",\"nextLink\": \"0\",\"css\": \".pinch-zoom-container{height: auto!important; display: contents!important}#pagenum,[onclick^='j'],#pageindex,ico+a+.material-icons.right-logo{display:none!important}.view_menut a{width:33.3%!important;max-width:33.3%!important}\",\"from\": 2},{\"name\": \"dm5 動漫屋 / 極速漫畫 - 分類\",\"example\": \"https://www.dm5.com/manhua-list/，https://www.1kkk.com/manhua-list/\",\"url\": \"^https?://(www|tel|en|cnc|hk)?\\\\.?(dm5|1kkk)\\\\.(com|cn)/manhua-([a-z]+/|list-area|list-tag|list-char)\",\"init\": \"document.querySelectorAll('.cat-filter a').forEach(a=>{a.setAttribute('onclick','setTimeout(()=>{location.reload()}, 1000)')})\",\"nextLink\": \"//a[text()=' > ']\",\"pinUrl\": true,\"pageElement\": \".box-body\",\"replaceElement\": \".page-pagination\",\"from\": 2},{\"name\": \"dm5 動漫屋 / 極速漫畫 - PC版閱讀\",\"example\": \"https://www.dm5.com/m1331307/，https://www.1kkk.com/ch1063-1331307/\",\"url\": \"^https?://(www|tel|en|cnc)?\\\\.?(dm5|1kkk)\\\\.(com|cn)/(m|ch)[-_0-9]+/$\",\"include\": \"#chapterpager\",\"pinUrl\": true,\"init\": \"let ge=(e)=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('body').removeAttribute('style');ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML}},100);\",\"nextLinkByJs\": \"let ge=(e)=>doc.querySelector(e);let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let c=ge('.chapterpager>span.current').innerText;let m=ge('.chapterpager>*:last-child').innerText;let nc=gx(\\\"//a[text()='下一章']\\\");if(c!=m){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/DM5_CURL/)>-1).innerHTML;let dc=eval(code.match(/DM5_CURL[^;]+/)[0]);let url=location.origin+dc;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(c)+1)+'/';return next}else if(nc){return nc.href}else{return null}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=(e)=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.active');if(t)return t.innerText.trim()\",\"rate\": 10,\"css\": \"a[href^='j'],.chapterpager{display:none!important}#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.container{width:auto!important}\",\"from\": 2},{\"name\": \"極速漫畫 - PC版單行本閱讀\",\"example\": \"https://www.1kkk.com/vol1-4761/\",\"url\": \"^https?://(www|hk)\\\\.1kkk\\\\.com/vol[-_0-9]+/$\",\"include\": \"#chapterpager\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img img');if(set){clearInterval(loop);document.body.style.overflow='scroll';ge('#cp_img').innerHTML='';let pcData=async(page)=>{if(page>DM5_IMAGE_COUNT){return}if(!mkey){var mkey=''}let apiUrl=location.href+'chapterfun.ashx'+`?cid=${DM5_CID}&page=${page}&key=${mkey}&language=1>k=6&_cid=${DM5_CID}&_mid=${DM5_MID}&_dt=${DM5_VIEWSIGN_DT}&_sign=${DM5_VIEWSIGN}`;let res=await fetch(apiUrl);let resText=await res.text();let imgSrc=await eval(resText)[0];let img=new Image();img.src=imgSrc;ge('#cp_img').appendChild(img);page++;pcData(page)};pcData(1)}},100)\",\"nextLink\": \"//a[text()='下一章']\",\"manualMode\": true,\"css\": \"a[href^='j'],.chapterpager,.view-comment{display:none!important}#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.container{width:auto!important}\",\"from\": 2},{\"name\": \"漫画人 / dm5 動漫屋 / 極速漫畫 - 手機版閱讀\",\"example\": \"https://www.manhuaren.com/manhua-list-s2/，https://www.manhuaren.com/m198122/，https://m.dm5.com/m1331307/，https://m.1kkk.com/ch1063-1331307/，https://m.1kkk.com/vol1-4761/\",\"url\": \"^https?://(www|m)\\\\.(manhuaren|1kkk|dm5)\\\\.(com|cn)/(m|ch|vol|other)[-_0-9]+/$\",\"exclude\": \".view-paging\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img img');if(set){clearInterval(loop);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgData=eval(eval(code).replace('var',''));let E=ge('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F)}},100)\",\"nextLinkByJs\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let next=gx(\\\"//ul[@class='view-bottom-bar']//a[text()='下一章' and not(contains(@href,'-end'))]\\\");if(next)return location.origin+next.href.split(\\\"'\\\")[1]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"head>title,.view-fix-top-bar-title,ul.view-bottom-bar,.view-fix-bottom-bar\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgData=eval(eval(code).replace('var',''));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let cs=gae('#cp_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=document.querySelector('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}});let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{gae('a[href*=pushHistory]').forEach(a=>{a.href=a.href.split(\\\"'\\\")[1]})},300);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML.slice(4,-1);let imgSrcArr=eval(eval(code).replace('var',''));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/_([^_]+)/)[1]\",\"css\": \".view-bottom-bar>li:nth-child(n+2):nth-child(-n+3),.view-fix-bottom-bar>a:nth-child(2),.guide{display:none!important}.view-bottom-bar li{width:50%!important}.view-fix-bottom-bar>a{width:25%!important}\",\"from\": 2},{\"name\": \"漫画人 / dm5 動漫屋 / 極速漫畫 - 手機版 - 漫畫在新分頁打開\",\"example\": \"https://m.dm5.com/\",\"url\": \"^https?://(www\\\\.manhuaren|m\\\\.dm5|m\\\\.1kkk)\\\\.com/\",\"exclude\": [\"#cp_img\",\"#tempc\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.swiper-wrapper a:not([target=_blank]),.manga-list a:not([target=_blank]),.rank-list a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"from\": 2},{\"name\": \"動漫狂 - 分類\",\"example\": \"https://www.cartoonmad.com/hotrank.html\",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/(hotrank|topcm|newcm|comic\\\\d+)(\\\\.\\\\d+)?\\\\.html\",\"nextLink\": \"a.onpage+a\",\"pageElement\": \"//table[tbody/tr/td/table/tbody/tr/td/a/span[@class='covers']]\",\"replaceElement\": \"td[align='right']>table:last-child\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"動漫狂 - 閱讀\",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/comic/\\\\d+\\\\.html\",\"example\": \"https://www.cartoonmad.com/comic/6187.html\",\"history\": 2,\"init\": \"document.onkeydown=null;let ge=e=>document.querySelector(e);let _src=ge('img[onload]').src.match(/.+\\\\//)[0];let max=document.querySelectorAll('option[value]').length;let E=ge('img[onload]').parentNode.parentNode;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};E.innerHTML='';E.appendChild(F);let p=ge('body>table>tbody>tr:nth-child(2)').cloneNode(true);let c=ge('body>table>tbody>tr:last-child');c.parentNode.insertBefore(p,c);\",\"nextLink\": \"//a[img[@src='/image/rad.gif']]\",\"pageElement\": \"//script[contains(text(),'top.')]\",\"replaceElement\": \"head>title\",\"insert\": \"//td[@align]//td\",\"insertPos\": 2,\"pageInit\": \"let docge=e=>doc.querySelector(e);let ge=e=>document.querySelector(e);let _src=docge('img[onload]').src.match(/.+\\\\//)[0];let max=doc.querySelectorAll('option[value]').length;let E=ge('.PagetualImg').parentNode;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};E.appendChild(F);let re=docge('body>table>tbody>tr:nth-child(2)').outerHTML;ge('body>table>tbody>tr:nth-child(2)').outerHTML=re;ge('body>table>tbody>tr:nth-child(6)').outerHTML=re;\",\"pageAction\": \"let ps=document.querySelectorAll('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=document.querySelector('.PagetualImg').parentNode.querySelectorAll('*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};const fetchPicSrc=url=>{return fetch(url).then(res=>{return res.url})};document.querySelectorAll('img.PagetualImg[src*=file]').forEach(async(img)=>{img.src=await fetchPicSrc(img.src)})\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let _src=ge('img[onload]').src.match(/.+\\\\//)[0];let max=doc.querySelectorAll('option[value]').length;let imgSrcArr=[];for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}imgSrcArr.push(imgSrc)};return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('b+a[style]');if(t)return t.innerText;\",\"css\": \".PagetualImg{max-width: 100% !important;display: block !important;margin: 0 auto !important;}td[valign='top'][width='160'],td[width='12'],select[name],body>table>tbody>tr:nth-child(5){display:none!important}\",\"from\": 2},{\"name\": \"動漫狂 - 手機版閱讀\",\"example\": \"https://www.cartoonmad.com/m/comic/618700022010001.html\",\"url\": \"^https?://www\\\\.cartoonmad\\\\.(cc|com)/m/comic/\\\\d+\\\\.html\",\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};let E=ge('img[oncontextmenu]').parentNode.parentNode;E.innerHTML='';E.appendChild(F);\",\"nextLinkByJs\": \"let lastPage=doc.querySelector('.onpage').parentNode.lastElementChild.previousElementSibling;let parseHTML=srt=>new DOMParser().parseFromString(srt,'text/html');return fetch(lastPage.href).then(res=>res.text()).then(async res=>{let fdoc=parseHTML(res);let ele=fdoc.querySelector('body>table>tbody>tr:nth-child(3)>td>a');return await fetch(ele.href).then(res=>res.text()).then(res=>{let ffdoc=parseHTML(res);let next=ffdoc.querySelector('.pages');if(next){return next.href}else{return null}})})\",\"pageElement\": \"script[src*='/gpt.js']\",\"insert\": \"body>table>tbody>tr:nth-child(3)>td\",\"insertPos\": 2,\"pageInit\": \"let ge=e=>doc.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let F=new DocumentFragment();for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}let img=new Image();img.className='PagetualImg';img.src=imgSrc;F.appendChild(img)};let E=document.querySelector('.PagetualImg').parentNode;E.appendChild(F);\",\"pageAction\": \"let ps=document.querySelectorAll('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=document.querySelector('.PagetualImg').parentNode.querySelectorAll('*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};const fetchPicSrc=url=>{return fetch(url).then(res=>{return res.url})};document.querySelectorAll('img.PagetualImg[src*=file]').forEach(async(img)=>{img.src=await fetchPicSrc(img.src)})\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let ge=e=>doc.querySelector(e);let _src=ge('img[oncontextmenu]').src.match(/.+\\\\//)[0];let max=ge('.onpage').parentNode.lastElementChild.previousElementSibling.innerText;let imgSrcArr=[];for(let i=1;i<=max;i++){let imgSrc;if(i<10){imgSrc=_src+'00'+i}else if(i<100){imgSrc=_src+'0'+i}else{imgSrc=_src+i}imgSrcArr.push(imgSrc)};return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('body>table>tbody>tr:nth-child(1)>td>table>tbody>tr>td:nth-child(2)>li>a:nth-child(3)');if(t)return t.innerText;\",\"css\": \".PagetualImg{max-width: 100% !important;display: block !important;margin: 0 auto !important;}body>table>tbody>tr:nth-child(5){display:none!important}\",\"from\": 2},{\"name\": \"风之动漫 - 閱讀\",\"example\": \"https://manhua.fffdm.com/2/1040/，https://www.fffdm.com/manhua/132/222/\",\"url\": \"^https?://(manhua|www)\\\\.fffdm\\\\.com/(manhua/)?\\\\d+/.+/\",\"pinUrl\": true,\"init\": \"let loop=setInterval(()=>{let mhpic=document.querySelector('#mhpic');if(mhpic&&mhpic.parentNode){let a=mhpic.parentNode;a.nextElementSibling.remove();a.outerHTML=a.innerHTML;clearInterval(loop)}},100);setTimeout(()=>{try{clearInterval(loop)}catch(e){}},5000)\",\"nextLink\": \"//div[@class='navigation']/a[text()='下一页'][@href]\",\"pageElement\": \"#mhpic\",\"replaceElement\": \".text-xl,.navigation\",\"pageBar\": 0,\"initRun\": 1,\"autoLoadNum\": \"0\",\"css\": \"#mhpic{border:none!important;padding:0!important;border-radius:0px!important;width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}#main>div>div:not([id]){display:none!important}\",\"from\": 2},{\"name\": \"Mangabz / Xmanhua - 分類\",\"example\": \"https://www.mangabz.com/manga-list-0-0-0/，https://xmanhua.com/manga-list-0-0-0/\",\"url\": \"^https?://(www\\\\.)?(mangabz|xmanhua)\\\\.com/(manga-list|search)\",\"nextLink\": \"//div[contains(@class,'page-pagination')]//a[contains(text(), '>')]\",\"pageElement\": \"ul.mh-list\",\"replaceElement\": \".page-pagination\",\"css\": \".mh-list{padding-bottom:0px!important}.pagetual_pageBar+.mh-list{padding-top:10px!important}.pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"Mangabz - PC版閱讀\",\"example\": \"https://www.mangabz.com/m38701/\",\"url\": \"^https?://(www\\\\.)?mangabz\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".container\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML}},100);function hidetoolbar(){var e=e||window.event;if(e.wheelDelta<0||e.detail>0){$('.top-bar').attr('style','top: -74px;')}else{$('.top-bar').removeAttr('style')}};document.addEventListener('wheel',hidetoolbar);document.addEventListener('DOMMouseScroll',hidetoolbar);function keyhidetoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){$('.top-bar').attr('style','top: -74px;')}else{$('.top-bar').removeAttr('style')}};document.addEventListener('keydown',keyhidetoolbar);\",\"nextLinkByJs\": \"let m=doc.querySelector('[class^=bottom-page]').innerText.match(/(\\\\d+)-(\\\\d+)/);let nc=doc.querySelector('img[src*=xiayizhang]');if(m[1]!=m[2]){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/MANGABZ_CURL/)>-1).innerHTML;let c=eval(code.match(/MANGABZ_CURL[^;]+/)[0]);let url=location.origin+c;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(m[1])+1)+'/';return next}else if(nc&&nc.parentNode){if(/javascript/.test(nc.parentNode.href)){return;}else{return nc.parentNode.href}}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.top-title');if(t)return t.innerText.trim()\",\"rate\": 5,\"css\": \"a[href^='j']{display:none!important}.container{width:auto!important}#cp_img img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"Xmanhua - PC版閱讀\",\"example\": \"https://xmanhua.com/m10344/\",\"url\": \"^https?://(www\\\\.)?xmanhua\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".reader-bottom-page-list\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('#cp_img>img');if(set){clearInterval(loop);ge('#cp_img').innerHTML=ge('#cp_img>img').outerHTML;ge('#showimage').removeAttribute('style');}},100);function showtoolbar(){let t=ge('.header.toolbar');if(t){$('.header').removeClass('toolbar');$('.header').removeAttr('style')}else{$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;')}let b=ge('.reader-bottom.toolbar');if(b){$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}else{$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}};document.addEventListener('click',showtoolbar);function hidetoolbar(){var e=e||window.event;if(e.wheelDelta<0||e.detail>0){$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;');$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}else{$('.header').removeClass('toolbar');$('.header').removeAttr('style');$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}};document.addEventListener('wheel',hidetoolbar);document.addEventListener('DOMMouseScroll',hidetoolbar);function keyhidetoolbar(e){let key=window.event?e.keyCode:e.which;if(key=='34'||key=='32'||key=='40'){$('.header').addClass('toolbar');$('.header').attr('style','top: -64px;');$('.reader-bottom').addClass('toolbar');$('.reader-bottom').attr('style','bottom: -50px;')}else{$('.header').removeClass('toolbar');$('.header').removeAttr('style');$('.reader-bottom').removeClass('toolbar');$('.reader-bottom').removeAttr('style')}};document.addEventListener('keydown',keyhidetoolbar);\",\"nextLinkByJs\": \"let m=doc.querySelector('.relative>a').innerText.match(/(\\\\d+)\\\\/(\\\\d+)/);let nc=doc.querySelector('img[src*=right-2]');if(m[1]!=m[2]){let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/XMANHUA_CURL/)>-1).innerHTML;let c=eval(code.match(/XMANHUA_CURL[^;]+/)[0]);let url=location.origin+c;let next=url.replace(/(-p\\\\d+)?\\\\/$/,'')+'-p'+(parseInt(m[1])+1)+'/';return next}else if(nc&&nc.parentNode){if(/javascript/.test(nc.parentNode.href)){return;}else{return nc.parentNode.href}}\",\"pageElement\": \"#cp_img>img\",\"replaceElement\": \".container\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar>a').forEach(e=>{if(/-p\\\\d+\\\\/$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('#cp_img>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.reader-title>a:last-child');if(t)return t.innerText.trim()\",\"rate\": 5,\"css\": \".container{width:auto!important}#cp_img img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}.reader-img-con{padding:64px 0 50px !important;}\",\"from\": 2},{\"name\": \"Mangabz - 手機版閱讀\",\"example\": \"https://www.mangabz.com/m38701/\",\"url\": \"^https?://(www\\\\.)?mangabz\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".bottom-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);let b=ge('body.viewbody');if(b){b.innerHTML=b.innerHTML.replace('<!--','').replace('-->','');setTimeout(()=>{$('.top-bar-tool').removeAttr('style');$('.bottom-bar').removeAttr('style')},0)}function showtoolbar(){let t=ge('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}};document.addEventListener('click',showtoolbar);document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src});\",\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \"#cp_img\",\"replaceElement\": \".bottom-bar,.toast-win,head>title\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=ge('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let m=document.title.match(/([^_]+)_([^_]+)/);let t=document.querySelector('.top-title');t.innerText=m[1].replace('漫畫','')+'_'+m[2];$('.bottom-bar').removeAttr('style')},100);\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('title');if(t)return t.innerText.match(/_(.+)_/)[1]\",\"from\": 2},{\"name\": \"Xmanhua - 手機版閱讀\",\"example\": \"https://xmanhua.com/m10344/\",\"url\": \"^https?://(www\\\\.)?xmanhua\\\\.com/m\\\\d+(-p\\\\d+)?/\",\"include\": \".bottom-bar\",\"history\": 2,\"pinUrl\": true,\"init\": \"document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src});\",\"nextLink\": \"//a[text()='下一章']\",\"pageElement\": \"#cp_img\",\"replaceElement\": \".top-title,.bottom-bar,.toast-win,head>title\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgData=eval(eval(code.trim().slice(4)).slice(12));let E=doc.querySelector('#cp_img');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{let m=document.title.match(/([^_]+)_([^_]+)/);let t=ge('.top-title');t.innerText=m[1].replace('漫畫','')+'_'+m[2]},100);let cs=gae('#cp_img');let last=cs.length-1;cs[last].addEventListener('click',()=>{let t=ge('body.toolbar');if(t){$('body').removeClass('toolbar')}else{$('body').addClass('toolbar')}});\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/newImgs/)>-1).innerHTML;let imgSrcArr=eval(eval(code.trim().slice(4)).slice(12));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.top-title');if(t)return t.innerText.replace(/XManhua\\\\?.+\\\\?/,'')\",\"from\": 2},{\"name\": \"Mangabz / Xmanhua - 漫畫目錄展開章節\",\"example\": \"https://xmanhua.com/1904xm/，https://www.mangabz.com/1904bz/\",\"url\": \"^https?://(www\\\\.)?(mangabz|xmanhua)\\\\.com/\\\\d+(bz|xm)/$\",\"pinUrl\": true,\"init\": \"showMoreItem()\",\"autoClick\": \"//a[text()='章節']\",\"from\": 2},{\"name\": \"zero搬运网 - 分類\",\"example\": \"http://www.zerobywgeat.com/\",\"url\": \"^https?://www\\\\.zerobywgeat\\\\.com/\",\"nextLink\": \"a.nxt\",\"pageElement\": \"//div[div[contains(@class,'mbm')] and contains(@class,'rootcate')]\",\"replaceElement\": \".pg.page\",\"css\": \".pagetual_pageBar{margin-top:0px!important}\",\"from\": 2},{\"name\": \"zero搬运网 - PC版閱讀\",\"example\": \"http://www.zerobywgeat.com/plugin.php?id=jameson_manhua&a=read&zjid=346180\",\"url\": \"^https?://www\\\\.zerobywgeat\\\\.com/plugin\\\\.php\",\"nextLink\": \"//a[span[contains(@uk-icon,'right')]]\",\"pageElement\": \".uk-zjimg\",\"replaceElement\": \".uk-grid-collapse,.uk-text-center,head>title\",\"pageBarText\": 1,\"css\": \".uk-text-center.xg1.xs2{display:none!important}img[id]{margin-top:0px!important;margin-bottom:0px!important}\",\"from\": 2},{\"name\": \"漫畫屋 - 分類\",\"example\": \"https://mh5.tw/allcartoonlist\",\"url\": \"^https?://mh5\\\\.tw/allcartoonlist\",\"nextLink\": \"a.cur+a\",\"pageElement\": \"dl.alllist\",\"replaceElement\": \"div.num\",\"css\": \".pagetual_pageBar{margin-bottom:0px!important}.pagetual_pageBar+dl{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"漫畫屋 - 閱讀\",\"example\": \"https://mh5.tw/series-wunalfy-484928-1-%E4%B8%8D%E5%B9%B8%E8%81%B7%E6%A5%AD%E7%9A%84%E5%B9%B8%E9%81%8B?\",\"url\": \"^https?://mh5\\\\.tw/series\",\"pinUrl\": true,\"nextLinkByJs\": \"let ge=e=>doc.querySelector(e);let np=ge('.num>.cur+a');let nc=ge('.next>a:not(.hui)');let c=ge('.num>.cur').innerText;let m=ge('.num>a:last-child').innerText-1;if(c!=m){return np.href}else if(nc){return nc.href}else return;\",\"pageElement\": \".ptview>img:not([style])\",\"replaceElement\": \".setnmh-pagedos\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let d=gae('img[alt][style]')[0];if(d)d.remove();gae('.pagetual_pageBar>a').forEach(e=>{if(!/-1-/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('.ptview>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText.replace(/\\\\（\\\\d+P\\\\）/,'')\",\"rate\": 10,\"css\": \".setnmh-seebox img{max-width: 100% !important;display: block !important;margin: 0 auto !important;box-shadow:none!important}.setnmh-seebox{width:auto !important;max-width:800px !important}.num>a:last-child{display:none!important}\",\"from\": 2},{\"name\": \"看漫画 - 分類\",\"example\": \"https://www.manhuagui.com/list/lianzai/\",\"url\": \"^https?://(www|tw)\\\\.manhuagui\\\\.com/list/\",\"nextLink\": \"span.current+a\",\"pageElement\": \"#contList\",\"replaceElement\": \".pager-cont,.result-count\",\"css\": \".pagetual_pageBar{margin-top:-10px!important}\",\"from\": 2},{\"name\": \"看漫画 - 閱讀\",\"example\": \"https://www.manhuagui.com/comic/30278/405998.html\",\"url\": \"^https?://(tw|www)\\\\.manhuagui\\\\.com/comic/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){observer.unobserve(entry.target);let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let loop=setInterval(()=>{let set=ge('.pr.tbCenter.cb img');if(set){clearInterval(loop);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.files.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+imgData.path+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('.pr.tbCenter.cb');E.innerHTML='';E.appendChild(F)}},100)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let n=imgData.nextId;if(n!=0)return location.href.replace(/\\\\d+\\\\.html$/,'')+n+'.html';\",\"pageElement\": \"//script[contains(text(),'x6c')]\",\"insert\": \".pr.tbCenter.cb\",\"insertPos\": 2,\"replaceElement\": \".title h2\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(11,-11);let imgData=eval(imgDataCode);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.files.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+imgData.path+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('.pr.tbCenter.cb');E.appendChild(F);let pc=ge('.btn-red.prevC');let curl=location.href.replace(/\\\\d+\\\\.html.*/,'');let purl=curl+imgData.prevId+'.html';let nurl=curl+imgData.nextId+'.html';pc.href=purl;pc.removeAttribute('onclick');let p=ge('.btn-red.prev');p.href=purl;p.removeAttribute('onclick');if(imgData.nextId!=0){ge('.btn-red.nextC').href=nurl;let n=ge('.btn-red.next+a');n.href=nurl;n.removeAttribute('onclick')}else{ge('.btn-red.nextC').href=curl;let n=ge('.btn-red.next+a');n.href=curl;n.innerText=ge('#viewList').innerText;n.removeAttribute('onclick')}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>10){titles[0].remove();let removes=gae('.pr.tbCenter.cb>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('h2');if(t)return t.innerText\",\"css\": \".title>div:not(.fr)>span,#pageSelect,.main-btn>a[href^='j'],.pager>a[href*='goPage'],.pager>span{display:none!important}.pr.tbCenter.cb>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"看漫画手機版 - 最新更新/排行榜/書架/搜索/漫画大全 檢視下20條記錄 - 漫畫在新分頁打開\",\"example\": \"https://m.manhuagui.com/list/update.html\",\"url\": \"^https?://m\\\\.manhuagui\\\\.com/\",\"exclude\": [\"#manga\",\"#chapter\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.top-slider-wrap a,.main-list a:not([target=_blank]),.cont-list a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"loadMore\": \"#more:not([style*='none'])>.more-go\",\"css\": \".clickforceads{display:none!important}\",\"from\": 2},{\"name\": \"看漫画手機版 - 閱讀\",\"example\": \"https://m.manhuagui.com/comic/30278/405998.html\",\"url\": \"^https?://m\\\\.manhuagui\\\\.com/comic/\\\\d+/\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"$('body').append('<div class=\\\"goback\\\" title=\\\"返回頂部\\\" onclick=\\\"window.scrollTo({top: 0})\\\" style=\\\"background: url(/images/bg_main.png) -258px -80px no-repeat;opacity:0.3;position:fixed;left:50%;margin-left:-20px;bottom:0px;width:40px;height:40px;\\\"></div>');let ge=e=>document.querySelector(e);let str=`var imagesObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){observer.unobserve(entry.target);let realSrc=entry.target.dataset.src,nE=entry.target.nextElementSibling;if(realSrc){entry.target.src=realSrc;}if(nE&&nE.tagName=='IMG'&&nE.dataset.src){nE.src=nE.dataset.src;}}})});var loading_bak='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAAAAACbDccAAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDDhUEC4m58W4AAAABb3JOVAHPoneaAAAF+UlEQVR42u3SQQkAMAzAwPo3MatVEQblTkEemQeB+R3ATcYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBLGImEsEsYiYSwSxiJhLBILoeSc6MiLXg0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTRUMjE6MDM6NDcrMDA6MDBTB1yAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE0VDIxOjAzOjQ3KzAwOjAwIlrkPAAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNFQyMTowNDoxMSswMDowMLyj5cQAAAAASUVORK5CYII=';`;let script=document.createElement('script');script.type='text/javascript';script.innerHTML=str;ge('body').appendChild(script);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let loop=setInterval(()=>{let set=ge('#manga img');if(set){clearInterval(loop);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.images.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('#manga');E.innerHTML='';E.appendChild(F);let n=ge(\\\"a[data-action='chapter.next']\\\");if(imgData.nextId==0){n.href=location.pathname.replace(/\\\\d+\\\\.html$/,'');n.innerText='返回目录'}}},100)\",\"nextLinkByJs\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let n=imgData.nextId;if(n!=0)return location.href.replace(/\\\\d+\\\\.html$/,'')+n+'.html';\",\"pageElement\": \"//script[contains(text(),'x6c')]\",\"insert\": \"#manga\",\"insertPos\": 2,\"replaceElement\": \"#mangaTitle\",\"pageInit\": \"let ge=e=>document.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/x6c/)>-1).innerHTML.slice(26,-1);let imgDataCode=eval(code).slice(10,-11);let imgData=eval(imgDataCode);let domain='https://i.hamreus.com';let F=new DocumentFragment();imgData.images.forEach(e=>{let img=new Image();img.src=loading_bak;img.dataset.src=`${domain+e}?e=${imgData.sl.e}&m=${imgData.sl.m}`;imagesObserver.observe(img);F.appendChild(img)});let E=ge('#manga');E.appendChild(F);let n=ge(\\\"a[data-action='chapter.next']\\\");if(imgData.nextId==0){n.href=location.pathname.replace(/\\\\d+\\\\.html$/,'');n.innerText='返回目录'}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let titles=gae('.pagetual_pageBar');if(titles.length>10){titles[0].remove();let removes=gae('#manga>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('#mangaTitle');if(t)return t.innerHTML.replace(/<.+>\\\\s?/g,'')\",\"css\": \".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,.clickforceads{display:none!important}.manga-box img{border-top:0px!important;border-bottom:0px!important}\",\"from\": 2},{\"name\": \"COCOMANGA - 分類/搜索\",\"example\": \"https://www.colamanhua.com/show?orderBy=update\",\"url\": \"^https?://www\\\\.colamanhua\\\\.com/(show|search)\",\"init\": \"let w = document.querySelector(`h2 a[href*='weeklyCount']`); if (!location.search) w.click()\",\"nextLinkByJs\": \"let next=doc.querySelector('.fed-page-info a.fed-btns-green+a[onclick]');if(next)return location.origin+location.pathname+location.search.replace(/&page=\\\\d+$/,'')+'&page='+next.innerText\",\"pageElement\": \"//div[contains(@class,'fed-list-head')]/following-sibling::ul[li/a/span] | //dl[dt/a/span]\",\"pageInit\": \"doc.querySelectorAll('a[data-original]').forEach(a=>{a.style.backgroundImage=`url('${a.dataset.original}')`})\",\"replaceElement\": \".fed-page-info\",\"from\": 2},{\"name\": \"COCOMANGA - 閱讀 - 雙擊前往下一章，鍵盤左右鍵上下章\",\"example\": \"https://www.colamanhua.com/15177/1/2.html\",\"url\": \"^https?://www\\\\.colamanhua\\\\.com/\",\"include\": \".mh_comicpic\",\"init\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;function next(e){let key=window.event?e.keyCode:e.which;if(key==39){e.preventDefault();let n=gx(\\\"//a[contains(@href,'html') and text()='下一章']\\\");if(n){n.click()}else{alert('沒有下一章了！')}}};document.addEventListener('keydown',next);function prev(e){let key=window.event?e.keyCode:e.which;if(key==37){e.preventDefault();let p=gx(\\\"//a[contains(@href,'html') and text()='上一章']\\\");if(p){p.click()}else{alert('沒有上一章了！')}}};document.addEventListener('keydown',prev);function dcnext(){let n=gx(\\\"//a[contains(@href,'html') and text()='下一章']\\\");if(n){n.click()}else{alert('沒有下一章了！')}};document.addEventListener('dblclick',dcnext);\",\"nextLink\": \"0\",\"pinUrl\": true,\"css\": \".mh_wrap{width:100%!important;min-width:100%!important}\",\"from\": 2},{\"name\": \"GODA漫画 - 分類/搜索\",\"example\": \"https://godamanga.com/\",\"url\": \"^https?://(cn\\\\.)?godamanga\\\\.com/\",\"nextLink\": \"span.current+a,a[aria-label='Next page']\",\"pageElement\": \"//article[a/img]\",\"replaceElement\": \"nav.ct-pagination,.paging-navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"GODA漫画  - 閱讀\",\"example\": \"https://chapter.godamanga.com/manga/wozhendebushiqiyunzhizi-vv/0_0/\",\"url\": \"^https?://([a-z]{2,7}\\\\.)?godamanga\\\\.com/manga/[^/]+/\\\\w+/\",\"history\": 2,\"init\": \"document.querySelectorAll('img[data-lazy-src]').forEach(e=>{e.src=e.getAttribute('data-lazy-src')})\",\"nextLink\": \"//a[span[text()='下一话']]\",\"pageElement\": \"//div[div/div/div/img[@decoding='async']]\",\"replaceElement\": \"head>title,.hero-section,#pagenation\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let c=gax(\\\"//div[div/div/div/img[@decoding='async']]\\\");if(c.length>10){c[0].remove()}let p=gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\");if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last-item>span');if(t)return t.innerText\",\"css\": \".pagetual_pageBar+.stk-row{margin-top:-3px!important}\",\"from\": 2},{\"name\": \"包子漫畫2 - 分類/搜索\",\"example\": \"https://baozimh.org/\",\"url\": \"^https?://baozimh\\\\.org/\",\"nextLink\": \"span.current+a,a[aria-label='Next page']\",\"pageElement\": \"#main>article article,header.page-header~article\",\"replaceElement\": \"nav.ct-pagination,.paging-navigation\",\"pageBar\": 0,\"from\": 2},{\"name\": \"包子漫畫2 - 閱讀\",\"example\": \"https://baozimh.org/manga/kaijuyizuoshan-yulemeicuo/0_2/\",\"url\": \"^https?://baozimh\\\\.org/manga/[^/]+/\\\\w+/\",\"history\": 2,\"pinUrl\": true,\"init\": \"let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let E=gx(\\\"//div[(div/img) and contains(@class,'gb-container')]\\\");let F=new DocumentFragment();document.querySelectorAll('img[data-src]').forEach(e=>{let img=new Image();img.src=e.dataset.src;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"//a[span[text()='下一话']]\",\"pageElement\": \"//div[(div/img) and contains(@class,'gb-container')] | //div[(img) and contains(@class,'gb-container')]\",\"replaceElement\": \"head>title,.gb-inside-container>h1,.last,#pagenation\",\"pageInit\": \"let gx=x=>doc.evaluate(x,doc,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;let E=gx(\\\"//div[(div/img) and contains(@class,'gb-container')]\\\");let F=new DocumentFragment();doc.querySelectorAll('img[data-src]').forEach(e=>{let img=new Image();img.src=e.dataset.src;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"function gax(x){let nodes=[];let results=document.evaluate(x,document,null,XPathResult.ANY_TYPE,null);let node;while(node=results.iterateNext()){nodes.push(node)}return nodes}let c=gax(\\\"//div[(img) and contains(@class,'gb-container')]\\\");if(c.length>10){c[0].remove()}let p=gax(\\\"//*[contains(@class,'pagetual_pageBar')]\\\");if(p.length>10){p[0].remove()}\",\"pageBarText\": \"let t=doc.querySelector('.last');if(t)return t.innerText\",\"css\": \".pagetual_pageBar+.gb-container{margin-top:-3px!important}\",\"from\": 2},{\"name\": \"包子漫畫 - 閱讀\",\"example\": \"https://www.kukuc.co/comic/chapter/dawangraoming-yuedongwenhua/0_0.html\",\"url\": \"^https?://[^/]+/comic/chapter/[^/]+/\\\\w+\\\\.html\",\"include\": [\"//title[contains(text(),'包子漫畫') or contains(text(),'包子漫画')]\",\".chapter-main.scroll-mode>.comic-contain amp-img>img[amp-img-id]\"],\"history\": 2,\"action\": 1,\"pinUrl\": true,\"init\": \"let gae=e=>document.querySelectorAll(e);let E=gae('.comic-contain')[0];let F=new DocumentFragment();let imgs=gae('.comic-contain amp-img');imgs.forEach(e=>{let img=new Image();img.className='comic-contain__item';img.src=e.getAttribute('src');F.appendChild(img)});E.innerHTML='';E.appendChild(F);let loop=setInterval(()=>{let set=document.querySelector('#interstitial_fade');if(set){clearInterval(loop);set.remove()}},100);setTimeout(()=>{if(loop)clearInterval(loop)},5000)\",\"nextLink\": \"#next-chapter\",\"pageElement\": \".comic-contain\",\"replaceElement\": \"//head/title | //span[@class='title'] | //div[@class='comic-chapter']/div[@class='next_chapter'] | //div[@class='bottom-bar']\",\"pageInit\": \"let gae=e=>doc.querySelectorAll(e);let E=gae('.comic-contain')[0];let F=new DocumentFragment();let imgs=gae('.comic-contain amp-img');imgs.forEach(e=>{let img=new Image();img.className='comic-contain__item';img.src=e.getAttribute('src');F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar a').forEach(e=>{if(/\\\\/\\\\d+_\\\\d+_\\\\d+\\\\.html$/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>10){ps[0].remove();let ds=gae('.chapter-main>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('span.title');if(t)return t.innerText\",\"css\": \".mobadsq{display:none!important}ul{margin-block-start:-2px!important;margin-block-end:2px!important}.pagetual_pageBar{margin-top:7px!important}\",\"from\": 2},{\"name\": \"包子漫畫 - 查看全部章節\",\"example\": \"https://www.baozimh.com/comic/dawangraoming-yuedongwenhua\",\"url\": \"^https?://[^/]+/comic/\",\"include\": [\"//title[contains(text(),'包子漫畫') or contains(text(),'包子漫画')]\",\"#button_show_all_chatper\"],\"nextLink\": \"0\",\"autoClick\": \"#button_show_all_chatper\",\"from\": 2},{\"name\": \"包子漫畫分類 - 漫畫在新分頁打開\",\"example\": \"https://www.webmota.com/\",\"url\": \"^https?://[^/]+/\",\"include\": [\"//title[contains(text(),'包子漫畫') or contains(text(),'包子漫画')]\",\".comics-card\"],\"exclude\": [\".comic-contain\",\".comics-detail\"],\"init\": \"let openInNewTab=()=>document.querySelectorAll('.comics-card a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});openInNewTab();new MutationObserver(()=>{openInNewTab()}).observe(document.body,{childList:true,subtree:true});\",\"nextLink\": \"0\",\"from\": 2},{\"name\": \"嗨皮漫畫 - 閱讀 - 禁用\",\"example\": \"https://m.happymh.com/manga/shishijilingdishejishi\",\"url\": \"^https?://m\\\\.happymh\\\\.com/reads/\",\"enable\": \"0\",\"from\": 2},{\"name\": \"嗨皮漫畫 - 更新頁\",\"example\": \"https://m.happymh.com/latest\",\"url\": \"^https?://m\\\\.happymh\\\\.com/latest$\",\"loadMore\": \".more-div-btn\",\"from\": 2},{\"name\": \"嗨皮漫畫 - 給本王顯示全部章節\",\"example\": \"https://m.happymh.com/manga/daiwangraoming\",\"url\": \"^https?://m\\\\.happymh\\\\.com/manga/\",\"autoClick\": \"#expandButton\",\"from\": 2},{\"name\": \"K-漫神 目錄\",\"example\": \"https://kmansin09.com/bbs/board.php?bo_table=2001&wr_id=9984203&sfl=wr_subject&stx=PICK+ME+UP\",\"url\": \"^https?://kmansin\\\\d+\\\\.com/\",\"exclude\": \"#ep_box\",\"nextLink\": \".pagination li.active+li:not(.disabled)>a[href]\",\"pageElement\": \".list-body\",\"replaceElement\": \".pagination\",\"pageBar\": 0,\"rate\": 10,\"from\": 2},{\"name\": \"K-漫神 閱讀\",\"example\": \"https://kmansin09.com/bbs/board.php?bo_table=2001&wr_id=9984280\",\"url\": \"^https?://kmansin\\\\d+\\\\.com/\",\"include\": \"#ep_box\",\"nextLink\": \".panel-heading a[title='次']\",\"pageElement\": \".view-content\",\"rate\": 10,\"css\": \".view-padding{padding:0px!important}.remote{display:none!important}\",\"from\": 2},{\"name\": \"Manga Koma 閱讀\",\"example\": \"https://mangakoma01.com/manga/pick-me-up-direa-ying-xiongno-chengri-shanggari/1hua/25650\",\"url\": \"^https?://mangakoma\\\\d+\\\\.com/\",\"action\": 1,\"waitElement\": [\"\",\"img[alt='Lazy']\"],\"init\": \"setTimeout(()=>{document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.getAttribute('data-src');e.classList.add('loaded')})},5000)\",\"nextLink\": \"a.nextBtn:not([disabled])\",\"pageElement\": \"#chapterContent\",\"replaceElement\": \"head>title,.i-block:nth-child(3) span[itemprop='name'],h1.fs-25,.prevBtn,a.nextBtn\",\"pageInit\": \"doc.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.getAttribute('data-src');e.classList.add('loaded')})\",\"from\": 2},{\"name\": \"大树漫画 - 分類\",\"example\": \"https://www.dashumanhua.com/category/all/\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/\",\"nextLink\": \"//a[text()='下页']\",\"pageElement\": \"//dt[div[@class='img']/a/img[@alt]]\",\"replaceElement\": \".mypage\",\"pageBar\": 0,\"from\": 2},{\"name\": \"大树漫画 - 目錄\",\"example\": \"https://www.dashumanhua.com/comic/shendijianglinwoyouyiwanshuxingdian/\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/\",\"include\": \"//a[text()='开始阅读']\",\"autoClick\": \"//div[span[text()='全部目录']]\",\"css\": \"[class^='ad']{display:none!important}\",\"from\": 2},{\"name\": \"大树漫画 - 閱讀\",\"example\": \"https://www.dashumanhua.com/comic/douluodalu5zhongshengtangsan/read-0.html\",\"url\": \"^https?://www\\\\.dashumanhua\\\\.com/comic/[^/]+/read-\\\\d+\\\\.html\",\"pinUrl\": true,\"history\": 2,\"init\": \"let ge=e=>document.querySelector(e);let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(m).slice(12,-1));let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);$('head').append('<style>#pre-loading+#pic-list>img:nth-child('+imgData.length+')~* {display:none!important}</style>')\",\"nextLink\": \"//a[text()='下一话' and not(contains(@href,'--1'))]\",\"pageElement\": \"#pic-list\",\"replaceElement\": \"head>title,h2,.prev,.huiname,.next,.setnmh-pagedos\",\"pageInit\": \"let ge=e=>doc.querySelector(e);let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(m).slice(12,-1));let E=ge('#pic-list');let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=e;F.appendChild(img)});E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);let c=gae('#pic-list');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}setTimeout(()=>{ge('.prev>a').href=ge('.prev>.tandiv>a').href;let n=ge('.next>.tandiv>a');if(n){ge('.next>a').href=n.href;ge('.next>a+span').remove();ge('a[v-if=booknext]+span').remove()}else{ge('div[v-if=booknext]').remove();ge('.next>a').classList.add('hui')}},100)\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/picTree/)>-1).innerHTML;let m=code.replace(/eval.+\\\\)\\\\)/,'').match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgSrcArr=eval(eval(m).slice(12,-1));return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.setnmh-bookname>h2');if(t)return t.innerText\",\"rate\": 3,\"css\": \"#pic-list img{box-shadow:none!important}.setnmh-seebox>*:first-child:not(.loading-box),.loading-box,.aboutmh>*:last-child{display:none!important}\",\"from\": 2},{\"name\": \"開車漫画 - 分類\",\"example\": \"https://18p.fun/library/?cid=3&tid=1702\",\"url\": \"^https?://18p\\\\.fun/\",\"include\": \".loadmore\",\"init\": \"let gae=e=>document.querySelectorAll(e);let openInNewTab=()=>gae('#itemlist li>a:not([target=_blank])').forEach(a=>{a.setAttribute('target','_blank')});let setImgSrc=()=>gae('img.lazy[src$=svg]').forEach(img=>{img.src=img.dataset.src});openInNewTab();setImgSrc();new MutationObserver(()=>{openInNewTab();setImgSrc()}).observe(document.body,{childList:true,subtree:true});\",\"nextLink\": \"0\",\"loadMore\": \".loadmore>button\",\"css\": \".page{display:none!important}.loadmore{display:block!important}\",\"from\": 2},{\"name\": \"開車漫画 - 閱讀\",\"example\": \"https://18p.fun/ForInject/Chapter/?id=641992\",\"url\": \"^https?://(www\\\\.)?(18p|gohaveababy|imynest|healthway|beforeout)\\\\.[a-z]{2,5}/(ForInject/|Article/|content/)\",\"pinUrl\": true,\"history\": 2,\"action\": 1,\"init\": \"let ge=e=>document.querySelector(e);let loop=setInterval(()=>{let set=ge('img[data-src]');if(set){clearInterval(loop);if(location.hostname!='18p.fun'&&window.$_curChap){location.replace('https://18p.fun/ForInject/Chapter/?id='+window.$_curChap.id)};document.querySelectorAll('img[data-src]').forEach(e=>{e.src=e.dataset.src});let hasTouchEvents=()=>{if(('ontouchstart'in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){return true}return false};let toggleToolbar=()=>{var e=e||window.event;if(e.wheelDelta<0||e.detail>0){ge('[my-id=header]').setAttribute('style','top: -60px;');ge('[class^=footerbox]').setAttribute('style','display:none;')}else{ge('[my-id=header]').removeAttribute('style');ge('[class^=footerbox]').removeAttribute('style')}};if(hasTouchEvents()===false){document.addEventListener('wheel',toggleToolbar);document.addEventListener('DOMMouseScroll',toggleToolbar)}ge('[class^=pictures]').addEventListener('click',()=>{let t=ge('[my-id=header][style]');if(t){ge('[my-id=header]').removeAttribute('style');ge('[class^=footerbox]').removeAttribute('style')}else{ge('[my-id=header]').setAttribute('style','top: -60px;');ge('[class^=footerbox]').setAttribute('style','display:none;')}})}},200);\",\"nextLinkByJs\": \"let next=doc.querySelector('[class^=picnexta]>a');if(next&&next.dataset.url)return next.dataset.url\",\"pageElement\": \"[class^=pictures]>img[data-src],[class^=needfee]\",\"replaceElement\": \"[class^=footerbox] li:nth-child(n+3):nth-child(-n+6)\",\"pageInit\": \"document.querySelector('h1').outerHTML=doc.querySelector('h1').outerHTML;let na=document.querySelector('[class^=picnexta]');let a=null;if(na){a=na.querySelector('a')}let rna=doc.querySelector('[class^=picnexta]');let ra=null;if(rna){ra=rna.querySelector('a')}if(ra!=null&&ra.dataset.url){a.dataset.url=ra.dataset.url;a.innerHTML=ra.innerHTML}else if(rna){na.innerHTML=rna.innerHTML}let needfee=doc.querySelector('[class^=needfee]');if(needfee){let css=Array.from(doc.querySelectorAll('style')).find(s=>s.innerHTML.search(/needfee/)>-1).innerHTML;let style=document.createElement('style');style.id='PagetualStyle';style.innerHTML=css;document.head.appendChild(style)}\",\"pageAction\": \"let ge=e=>document.querySelector(e);let gae=e=>document.querySelectorAll(e);gae('.pagetual_pageBar a').forEach(e=>{if(/pi=/.test(e.href))e.parentNode.remove()});let ps=gae('.pagetual_pageBar');if(ps.length>4){ps[0].remove();let ds=gae('[class^=pictures]>*');for(let i in ds){if(/pagetual/.test(ds[i].id)){break};ds[i].remove()}};setTimeout(()=>{gae('div[class^=picnexta],[class^=footerbox] li:nth-child(n+3):nth-child(-n+6)').forEach(e=>{e.addEventListener('click',()=>{let a=e.querySelector('a');if(a&&a.dataset.url){location.replace(a.dataset.url)}})});ge('[class^=footerbox] li:nth-child(7)').addEventListener('click',()=>{location.replace('https://18p.fun/book/'+window.$_curChap.bookid)})},200)\",\"pageBarText\": \"let t=doc.querySelector('h1');if(t)return t.innerText.split('\\\"')[2].replace(/第\\\\d+页?頁?$/,'').trim();\",\"from\": 2},{\"name\": \"漫画牛 - 分類\",\"example\": \"http://www.manhua666.com/sort/1/1.html\",\"url\": \"^https?://www\\\\.manhua666\\\\.com/\",\"include\": \".pages\",\"pinUrl\": true,\"nextLink\": \"strong+a[href$=html]\",\"pageElement\": \"h2~.item\",\"replaceElement\": \".pages\",\"pageBar\": 0,\"from\": 2},{\"name\": \"漫画牛 - 閱讀\",\"example\": \"http://www.manhua666.com/13_13215/1208996.html#p=1\",\"url\": \"^https?://www\\\\.manhua666\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"init\": \"let ge=e=>document.querySelector(e);let gx=x=>document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(!ge('.pageselect')){gx(\\\"//a[text()='分页阅读']\\\").click()}let F='';imgs.forEach(e=>{F+=e});let E=ge('#contents');E.innerHTML=F;\",\"nextLink\": \"a[rel=next][href$=html]\",\"pageElement\": \"#contents\",\"replaceElement\": \"head>title,.con_top,.bottem1,.bottem2\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imgs/)>-1).innerHTML;let imgData=eval(code.match(/imgs[^;]+/)[0]);let F='';imgs.forEach(e=>{F+=e});let E=doc.querySelector('#contents');E.innerHTML=F;\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#contents');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imgs/)>-1).innerHTML;let imgData=eval(code.match(/imgs[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=e.match(/http[^\\\"]+/)[0];imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.bookname');if(t)return t.innerText.match(/[^（]+/)[0].trim();\",\"css\": \".box_con #content{font-size:0!important}.bookname,.imgpage,.imgpage2,h3,.readtj{display:none!important}\",\"from\": 2},{\"name\": \"仙漫网 - 閱讀\",\"example\": \"https://www.xianmanwang.com/kaijujiuwudi/0.html\",\"url\": \"^https?://www\\\\.xianmanwang\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let ge=e=>document.querySelector(e);if(ge('img[src*=banquan]')){location.replace(location.href.replace('www','m'))}else{let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imgDomain+e;F.appendChild(img)});let E=ge('.comiclist');E.innerHTML='';E.appendChild(F)}\",\"nextLink\": \"//li[a[@class='active']]/preceding-sibling::li[1]/a\",\"pageElement\": \".comiclist\",\"replaceElement\": \"head>title,h1.title\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src=imgDomain+e;F.appendChild(img)});let E=doc.querySelector('.comiclist');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('.comiclist');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.trim().slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc=imgDomain+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('a.active');if(t)return t.innerText.match(/[^（]+/)[0].trim();\",\"css\": \"h1.title>span{display:none!important}.comiclist>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}\",\"from\": 2},{\"name\": \"仙漫网 - 手機版閱讀\",\"example\": \"https://m.xianmanwang.com/kaijujiuwudi/0.html\",\"url\": \"^https?://m\\\\.xianmanwang\\\\.com/\\\\w+/\\\\d+\\\\.html\",\"pinUrl\": true,\"init\": \"let hasTouchEvents=()=>{if(('ontouchstart'in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){return true}return false};if(hasTouchEvents()===false){let style=document.createElement('style');style.id='PagetualStyle';style.innerHTML='#cp_img>img{width:auto!important;height:auto!important;max-width:100%!important;display:block!important;margin:0 auto !important}';document.head.appendChild(style)}let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src='https://res.xiaoqinre.com/'+e;F.appendChild(img)});let E=document.querySelector('#cp_img');E.innerHTML='';E.appendChild(F);\",\"nextLink\": \"a.next[href$=html]\",\"pageElement\": \"#cp_img\",\"replaceElement\": \"head>title,#title[style*='30'],.btn.prev,.btn.next\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let F=new DocumentFragment();imgData.forEach(e=>{let img=new Image();img.src='https://res.xiaoqinre.com/'+e;F.appendChild(img)});let E=doc.querySelector('#cp_img');E.innerHTML='';E.appendChild(F);\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);let c=gae('#cp_img');if(c.length>10){c[0].remove()}let p=gae('.pagetual_pageBar');if(p.length>10){p[0].remove()}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/eval/)>-1).innerHTML.match(/eval.+\\\\)\\\\)/)[0].slice(4);let imgData=eval(eval(code).match(/picdata[^;]+/)[0]);let imgSrcArr=[];imgData.forEach(e=>{let imgSrc='https://res.xiaoqinre.com/'+e;imgSrcArr.push(imgSrc)});return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector(\\\"#title[style*='30']\\\");if(t)return t.innerText\",\"rate\": 2,\"css\": \"img[style*='18vh'],.dropload-down{display:none!important}.recommendList{display:block!important}\",\"from\": 2},{\"name\": \"仙漫网 - 手機版目錄\",\"example\": \"https://m.xianmanwang.com/wodetianjienvyou/\",\"url\": \"^https?://m\\\\.xianmanwang\\\\.com/\\\\w+/$\",\"include\": \"a.mm\",\"autoClick\": \"a.mm\",\"nextLink\": \"0\",\"css\": \"[class^='ad']{display:none!important}\",\"from\": 2},{\"name\": \"webtoons - 首頁禁用\",\"url\": \"^https?://www\\\\.webtoons\\\\.com/([^/]+/)?$\",\"pinUrl\": true,\"nextLink\": \"0\",\"enable\": 0,\"from\": 2},{\"name\": \"webtoons - 目錄\",\"example\": \"https://www.webtoons.com/zh-hant/time-slip/estatedeveloper/list?title_no=4354\",\"url\": \"^https?://www\\\\.webtoons\\\\.com/.+/list\\\\?\",\"pinUrl\": true,\"nextLink\": \"//div[@class='paginate']/a[span[@class='on']]/following-sibling::a[1]\",\"pageElement\": \"._episodeItem\",\"replaceElement\": \".paginate\",\"pageBar\": 0,\"from\": 2},{\"name\": \"webtoons - 閱讀\",\"example\": \"https://www.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"url\": \"^https?://www\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"pinUrl\": true,\"history\": 2,\"init\": \"document.querySelectorAll('img[data-url]').forEach(e=>{e.src=e.dataset.url})\",\"nextLink\": \"//div[@class='episode_cont']//li[a[starts-with(@class,'on')]]/following-sibling::li[1]/a\",\"pageElement\": \"#_imageList>img\",\"replaceElement\": \".subj_info>h1,.paginate.v2,.episode_cont\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#bottomEpisodeList img[data-url]').forEach(e=>{e.src=e.dataset.url});let titles=gae('.pagetual_pageBar');if(titles.length>5){titles[0].remove();let removes=gae('#_imageList>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"pageBarText\": \"let t=doc.querySelector('.subj_info>h1');if(t)return t.innerText\",\"rate\": 3,\"from\": 2},{\"name\": \"webtoons - 手機版閱讀 (自動翻頁模式會越來越卡)\",\"example\": \"https://m.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"enable\": 0,\"url\": \"^https?://m\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"history\": 2,\"init\": \"let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=document.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"nextLink\": \".paginate a.lk_next\",\"pageElement\": \".flick-ct._imageWrap\",\"replaceElement\": \".h1_viewer,#sequence_scroll,.btn_comment,.paginate\",\"pageInit\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=doc.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"pageAction\": \"let gae=e=>document.querySelectorAll(e);gae('#bottomEpisodeList img[data-url]').forEach(e=>{e.src=e.dataset.url});let titles=gae('.pagetual_pageBar');if(titles.length>5){titles[0].remove();let removes=gae('#_viewer>*');for(let i in removes){if(/pagetual_pageBar/.test(removes[i].className)){break}removes[i].remove()}}\",\"preloadImages\": \"document.querySelector('#pagetual-preload').innerHTML='';let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgSrcArr=[];for(let i=0;i<imgData.length;i++){let imgSrc=imgData[i].url;imgSrcArr.push(imgSrc)}return imgSrcArr\",\"pageBarText\": \"let t=doc.querySelector('.h1_viewer>._goTop');if(t)return t.innerText\",\"rate\": 3,\"css\": \"#_viewer{height:auto !important}#_webRetentionArea{display:none!important}\",\"from\": 2},{\"name\": \"webtoons - 手機版閱讀 (手動翻頁模式，預讀下一話圖片)\",\"example\": \"https://m.webtoons.com/zh-hant/time-slip/estatedeveloper/%E7%AC%AC1%E8%A9%B1/viewer?title_no=4354&episode_no=1\",\"url\": \"^https?://m\\\\.webtoons\\\\.com/.+/viewer\\\\?\",\"manualMode\": true,\"pinUrl\": true,\"init\": \"document.addEventListener('dblclick',()=>{let n=document.querySelector('.paginate a.lk_next');if(n)location.href=n.href});let code=Array.from(document.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgs=document.querySelectorAll('._checkVisible');for(let i=0;i<imgs.length;i++){imgs[i].src=imgData[i].url}\",\"nextLink\": \".paginate a.lk_next\",\"preloadImages\": \"let code=Array.from(doc.scripts).find(s=>s.innerHTML.search(/imageList/)>-1).innerHTML;let imgData=eval(code.match(/imageList[^;]+/g)[0]);let imgSrcArr=[];for(let i=0;i<imgData.length;i++){let imgSrc=imgData[i].url;imgSrcArr.push(imgSrc)}return imgSrcArr\",\"css\": \"#_webRetentionArea,.pagetual_tipsWords{display:none!important}\",\"from\": 2},{\"name\": \"菜鸟工具 - JS/CSS/JSON/HTML 調整為上下欄\",\"enable\": 1,\"example\": \"https://c.runoob.com/front-end/51/，https://c.runoob.com/front-end/52/，https://c.runoob.com/front-end/7683/，https://c.runoob.com/front-end/47/\",\"url\": \"^https?://c\\\\.runoob\\\\.com/front-end/(47|51|52|7683)/\",\"init\": \"if(location.href.indexOf('7683')==-1){clearAll()}document.querySelectorAll('div.col-md-6').forEach(div=>{div.setAttribute('class','code');div.style='width:100%;max-width:100%;position:relative;padding-right:15px;padding-left:15px;'})\",\"pinUrl\": true,\"from\": 2},{\"name\": \"ICONFINDER \",\"enable\": 0,\"example\": \"https://www.iconfinder.com/search?q=Download\",\"url\": \"^https?://www\\\\.iconfinder\\\\.com/\",\"from\": 2}]"}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/438684-pagetual/code/Pagetual.user.js","uuid":"26ac1f19-e68f-4c4c-90b6-7cd7f2483d79","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBQYWdldHVhbAovLyBAbmFtZTp6aC1DTiAgIOS4nOaWueawuOmhteacugovLyBAbmFtZTp6aC1UVyAgIOadseaWueawuOmggeapnwovLyBAbmFtZTpqYSAgICAgIOadseaWueawuOmggeapnwovLyBAbmFtZTprbyAgICAgIOadseaWueawuOmggeapnwovLyBAbmFtZTpydSAgICAgIFBhZ2V0dWFsCi8vIEBuYW1lOmRlICAgICAgUGFnZXR1YWwKLy8gQG5hbWU6ZXMgICAgICBQYWdldHVhbAovLyBAbmFtZTpmciAgICAgIFBhZ2V0dWFsCi8vIEBuYW1lOml0ICAgICAgUGFnZXR1YWwKLy8gQG5hbWVzcGFjZSAgICBob290aGluCi8vIEB2ZXJzaW9uICAgICAgMS45LjM2LjQzCi8vIEBkZXNjcmlwdGlvbiAgUGVycGV0dWFsIHBhZ2VzIC0gcG93ZXJmdWwgYXV0by1wYWdlciBzY3JpcHQuIEF1dG8gbG9hZGluZyBuZXh0IHBhZ2luYXRlZCB3ZWIgcGFnZXMgYW5kIGluc2VydGluZyBpbnRvIGN1cnJlbnQgcGFnZS4gU3VwcG9ydCB0aG91c2FuZHMgb2Ygd2ViIHNpdGVzIHdpdGhvdXQgYW55IHJ1bGUuCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg57uI5p6B6Ieq5Yqo57+76aG1IC0g5Yqg6L295bm25ou85o6l5LiL5LiA5YiG6aG15YaF5a656Iez5b2T5YmN6aG15bC+77yM5pm66IO96YCC6YWN5Lu75oSP572R6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg57WC5qW16Ieq5YuV57+76aCBIC0g5Yqg6LyJ5Lim5ou85o6l5LiL5LiA5YiG6aCB5YWn5a656Iez55W25YmN6aCB5bC+77yM5pm66IO96YGp6YWN5Lu75oSP57ay6aCBCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAgV2Vi44Oa44O844K444KS6Ieq5YuV44Gn6Kqt44G/6L6844G/57aZ44GO6Laz44GX6KGo56S644KS6KGM44GG44OW44Op44Km44K25ouh5by144Gn44GZ44CB5qyh44Gu44Oa44O844K45LuY44GR44GV44KM44GfIFdlYiDjg5rjg7zjgrjjga7oh6rli5Xoqq3jgb/ovrzjgb/jgajnj77lnKjjga7jg5rjg7zjgrjjgbjjga7mjL/lhaUg44Or44O844Or44Gq44GX44Gn5L2V5Y2D44KC44GuIFdlYiDjgrXjgqTjg4jjgpLjgrXjg53jg7zjg4jjgZfjgb7jgZnjgIIKLy8gQGRlc2NyaXB0aW9uOmtvICAgICDtjpjsnbTsp4DqsIAg66ek6rKo7KeEIOuLpOydjCDsm7kg7Y6Y7J207KeA66W8IOyekOuPmeycvOuhnCDroZzrk5ztlZjqs6Ag7ZiE7J6sIO2OmOydtOyngOyXkCDsgr3snoXtlanri4jri6QuIOq3nOy5mSDsl4bsnbQg7IiY7LKcIOqwnOydmCDsm7kg7IKs7J207Yq466W8IOyngOybkO2VqeuLiOuLpC4KLy8gQGRlc2NyaXB0aW9uOnJ1ICAgICDQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINC/0L7QtNCz0YDRg9C30LrQsCDRgdC70LXQtNGD0Y7RidC40YUg0YHRgtGA0LDQvdC40YYg0Lgg0LLRgdGC0LDQstC60LAg0LjRhSDRgdC+0LTQtdGA0LbQuNC80L7Qs9C+INCyINGC0LXQutGD0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMuINCf0L7QtNC00LXRgNC20LjQstCw0LXRgiDRgtGL0YHRj9GH0Lgg0YHQsNC50YLQvtCyINC00LDQttC1INGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4uCi8vIEBkZXNjcmlwdGlvbjpkZSAgICAgQXV0b21hdGlzY2hlcyBMYWRlbiBkZXIgbsOkY2hzdGVuIHBhZ2luaWVydGVuIFdlYnNlaXRlbiB1bmQgRWluZsO8Z2VuIGluIGRpZSBha3R1ZWxsZSBTZWl0ZS4gVW50ZXJzdMO8dHplbiBTaWUgVGF1c2VuZGUgdm9uIFdlYnNpdGVzIG9obmUgUmVnZWxuLgovLyBAZGVzY3JpcHRpb246ZXMgICAgIENhcmdhIGF1dG9tw6F0aWNhIGRlIGxhcyBzaWd1aWVudGVzIHDDoWdpbmFzIHdlYiBwYWdpbmFkYXMgZSBpbnNlcmNpw7NuIGVuIGxhIHDDoWdpbmEgYWN0dWFsLiBBZG1pdGUgbWlsZXMgZGUgc2l0aW9zIHdlYiBzaW4gbmluZ3VuYSByZWdsYS4KLy8gQGRlc2NyaXB0aW9uOmZyICAgICBDaGFyZ2VtZW50IGF1dG9tYXRpcXVlIGRlcyBwYWdlcyBXZWIgcGFnaW7DqWVzIHN1aXZhbnRlcyBldCBpbnNlcnRpb24gZGFucyBsYSBwYWdlIGVuIGNvdXJzLiBQcmVuZCBlbiBjaGFyZ2UgZGVzIG1pbGxpZXJzIGRlIHNpdGVzIFdlYiBzYW5zIGF1Y3VuZSByw6hnbGUuCi8vIEBkZXNjcmlwdGlvbjppdCAgICAgQ2FyaWNhbWVudG8gYXV0b21hdGljbyBkZWxsZSBwYWdpbmUgV2ViIGltcGFnaW5hdGUgc3VjY2Vzc2l2ZSBlIGluc2VyaW1lbnRvIG5lbGxhIHBhZ2luYSBjb3JyZW50ZS4gU3VwcG9ydGEgbWlnbGlhaWEgZGkgc2l0aSB3ZWIgc2VuemEgYWxjdW5hIHJlZ29sYS4KLy8gQGF1dGhvciAgICAgICBob290aGluCi8vIEBsaWNlbnNlICAgICAgTVBMLTIuMAovLyBAbWF0Y2ggICAgICAgICo6Ly8qLyoKLy8gQGljb24gICAgICAgICBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQU1BQUFDZHQ0SHNBQUFBZFZCTVZFVUFBQUQzVlUzM1ZVMzJWRXo4VTA3M1ZVMzJWVTMzVlUzMlZVejBVay8zVkUzMlZVMzJWVXoyVlUzMlZVMzJWVTMyVlUzM1ZVMzNVMHoyVlUzNFdrdjNWRTMyVlV6L21wai9uSmoyVlV6MlZVMzJWRTMzVkV6MlZVMzJWVTMyVlV6M1ZFMzJWRXozVkUzL21aZjJWa3oyVlUzL21waWxGRm9sQUFBQUpYUlNUbE1BM0xwL0d2VEJUNVlRTHVhd1ovRE95WndsUFFlS2MyMU4wNCtGWDFicXBtOUROb0I0VDY4ZVB3QUFBaXRKUkVGVVdNUHQxdHVhc2lBVUJ1Q0ZDRzVSczNReWJUUFYxLzFmNHYvM1BEa3lJb2puOHg1cUJySStsdEFmaDMyL3l5c21CS3Z5WGIrbmpiNmJETDlrelRkNVN6akRBc1lUOG5Gb0dTeFllNkJWcW9ORHAyakZEaXQyNUJSZ1ZVQU9EQjRZV2NFVFdWVHdWTkdpR041aVd0QmdnNFlNQ3Bzb0kzOGROdW5tbVd5eFVUdmJQd3dic1lSMGZJelpMUTBwVEc4ZWllUm1CTE1tcGRIOXVpbVFFZjZUTlJuWFhLTFpIaXhwSnR5d0x6T2dNSHRGQ3FkTTY0RGFoSFJuT0UxZHNyZWttOXdyMld0TGNBbHBkSHdjcDFwQUp5U1hZbkVSY2x6cDQrdjE5alhkbWNUdlFVSnR6K1phSTRpMDUvVi9VR1lyQ3hiYUFzT1lvTmZJS0VReHBxUXV6Q2dKSkovM2Y0Mk84eXdFWnVNVldpLzhoT0R4R2ozR1cyYjB1ZGtiR1VMTERPamltQUcwUzNmTEdsQm5YUU05aXJHMUNpUWRWUWkwZHFRc09TRGx5RUV6N1Z5OU94eGZSNzFWQ1hzU0IyM2pNcktKWVpYU2p3NTdzcWdMbjVaMHdvbHNPQ3owUnlKa3llWWpnejdwd3dWcTIwZWJvWnd0VlVsMkVuTjVnSjUwZFFaRmRyeUFUdkFCUlRyL3RKWGtVTWRhQUs1cHd0Q2Fwd3RGTHNrZ3V3dXlNaC9TZDlXQ2hRNHNJdklVWVNrM1BZcVF2Q1FsT0MwNElmTjdQa2RqT3lSS1doZEtYTW1pQUZ0OWkzc0o1anhvUnVSMHZxQWdoeHh3SHVxZlFFNU9IR0RLT3J3RW5xczFEZ0FaMmU0RWV2MWQ0NVRON0pmaHJRTEtnZndNRllBc3ZwMzNkWElJMDczYVZRTEkyZ041UzU4bGZtR25LS0Z0YWg3bmtnbkJaQjd6bFA3WS9RTmlUTTZzWU56YXd3QUFBQUJKUlU1RXJrSmdnZz09Ci8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgR01fbm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTS5yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgR00ubm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR00uZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTS5zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNLmFkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR00ub3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR00uZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgICBHTS5pbmZvCi8vIEBncmFudCAgICAgICAgR00uc2V0Q2xpcGJvYXJkCi8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL2hvb3RoaW4vVXNlclNjcmlwdHMvaXNzdWVzCi8vIEBjb25uZWN0ICAgICAgd2VkYXRhLm5ldAovLyBAY29ubmVjdCAgICAgIGdpdGh1YnVzZXJjb250ZW50LmNvbQovLyBAY29ubmVjdCAgICAgIGdocHJveHkuY29tCi8vIEBjb25uZWN0ICAgICAgaG9vdGhpbi5naXRodWIuaW8KLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1pZGxlCi8vIEBjb25uZWN0ICAgICAgKgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBpZiAod2luZG93Lm5hbWUgPT09ICdwYWdldHVhbC1pZnJhbWUnIHx8ICh3aW5kb3cuZnJhbWVFbGVtZW50ICYmIHdpbmRvdy5mcmFtZUVsZW1lbnQubmFtZSA9PT0gJ3BhZ2V0dWFsLWlmcmFtZScpKSB7CiAgICAgICAgdmFyIGRvbWxvYWRlZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdwYWdldHVhbC1pZnJhbWU6RE9NTG9hZGVkJywgJyonKTsKICAgICAgICB9OwogICAgICAgIGlmICh3aW5kb3cub3BlcmEpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRvbWxvYWRlZCwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvbWxvYWRlZCgpOwogICAgICAgIH0KICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmRpc3BsYXkgPT0gJ25vbmUnKSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkgJiYgZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5kaXNwbGF5ID09ICdub25lJykgZG9jdW1lbnQuYm9keS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHdpbmRvdy50b3AgIT0gd2luZG93LnNlbGYpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAod2luZG93LnNlbGYuaW5uZXJXaWR0aCA8IDMwMCB8fCB3aW5kb3cuc2VsZi5pbm5lckhlaWdodCA8IDMwMCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgY29uc3Qgbm9SdWxlVGVzdCA9IGZhbHNlOwogICAgY29uc3QgbGFuZyA9IG5hdmlnYXRvci5hcHBOYW1lID09ICJOZXRzY2FwZSIgPyBuYXZpZ2F0b3IubGFuZ3VhZ2UgOiBuYXZpZ2F0b3IudXNlckxhbmd1YWdlOwogICAgbGV0IGNvbmZpZyA9IHt9OwogICAgc3dpdGNoIChsYW5nKSB7CiAgICAgICAgY2FzZSAiemgtQ04iOgogICAgICAgIGNhc2UgInpoLVNHIjoKICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgZW5hYmxlRGVidWc6ICLosIPor5XmqKHlvI/vvIzovpPlh7rkv6Hmga/oh7PmjqfliLblj7AiLAogICAgICAgICAgICAgICAgZGlzYWJsZTogIuaaguaXtuemgeeUqCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogIuermeeCueemgeeUqOW8gOWFsyIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICLlt7LlnKjmraTnq5nnpoHnlKgiLAogICAgICAgICAgICAgICAgZW5hYmxlU2l0ZVRpcHM6ICLlt7LlnKjmraTnq5nlkK/nlKgiLAogICAgICAgICAgICAgICAgZW5hYmxlOiAi5ZCv55So6Ieq5Yqo57+76aG1IiwKICAgICAgICAgICAgICAgIHRvVG9wOiAi5Zue5Yiw6aG26YOoIiwKICAgICAgICAgICAgICAgIHRvQm90dG9tOiAi5YmN5b6A6aG15bC+IiwKICAgICAgICAgICAgICAgIGN1cnJlbnQ6ICLlvZPliY3pobUiLAogICAgICAgICAgICAgICAgZm9yY2VJZnJhbWU6ICLlvLrliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgY2FuY2VsRm9yY2VJZnJhbWU6ICLlj5bmtojlvLrliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgY29uZmlndXJlOiAi5omT5byA6YWN572u6aG16Z2iIiwKICAgICAgICAgICAgICAgIGZpcnN0VXBkYXRlOiAi54K55Ye75q2k5aSE5Yid5aeL5YyW6KeE5YiZIiwKICAgICAgICAgICAgICAgIHVwZGF0ZTogIuabtOaWsOWcqOe6v+inhOWImSIsCiAgICAgICAgICAgICAgICBjbGljazJ1cGRhdGU6ICLngrnlh7vnq4vljbPmm7TmlrDop4TliJkiLAogICAgICAgICAgICAgICAgbG9hZE5vdzogIueri+WNs+e/u+mhtSIsCiAgICAgICAgICAgICAgICBsb2FkQ29uZmlybTogIuimgee/u+WHoOmhte+8n++8iDDkuLrkuI3pl7Tmlq3vvIkiLAogICAgICAgICAgICAgICAgbm9OZXh0OiAi5rKh5pyJ5om+5Yiw5LiL5LiA6aG177yM6K+35paw5bu66KeE5YiZIiwKICAgICAgICAgICAgICAgIHBhc3NTZWM6ICLmm7TmlrDkuo4gI3QjIOenkuWJjSIsCiAgICAgICAgICAgICAgICBwYXNzTWluOiAi5pu05paw5LqOICN0IyDliIbpkp/liY0iLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICLmm7TmlrDkuo4gI3QjIOWwj+aXtuWJjSIsCiAgICAgICAgICAgICAgICBwYXNzRGF5OiAi5pu05paw5LqOICN0IyDlpKnliY0iLAogICAgICAgICAgICAgICAgY2FudERlbDogIuaXoOazleWIoOmZpOWGhee9ruinhOWImSIsCiAgICAgICAgICAgICAgICBjb25maXJtRGVsOiAi5piv5ZCm56Gu6K6k6KaB5Yig6Zmk5q2k6KeE5YiZ77yfIiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICLmm7TmlrDmiJDlip8iLAogICAgICAgICAgICAgICAgYmVnaW5VcGRhdGU6ICLmraPlnKjmm7TmlrDvvIzor7fogJDlv4PnrYnlvoXvvIzkuI3opoHlhbPpl63pobXpnaIiLAogICAgICAgICAgICAgICAgY3VzdG9tVXJsczogIuWvvOWFpSBQYWdldHVhbCDmiJYgQXV0b1BhZ2VyaXplIOinhOWImSB1cmzvvIzkuIDooYzkuIDmnaEiLAogICAgICAgICAgICAgICAgY3VzdG9tUnVsZXM6ICLovpPlhaXjgJDkuJzmlrnmsLjpobXmnLrjgJHmoLzlvI/nmoToh6rlrprkuYnop4TliJkgPGEgaHJlZj0nI3QjJz7otKHnjK7op4TliJk8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLkv53lrZjorr7nva4iLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICLlsJHlpbPnpYjnpbfkuK0uLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIuS4jemAj+aYjuWAvCIsCiAgICAgICAgICAgICAgICBvcGFjaXR5UGxhY2Vob2xkZXI6ICIwOiDpmpDol4/liIbpmpTmnaEiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIumakOiXj+WIhumhtemalOadoSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQnV0Tm9TdG9wOiAi6ZqQ6JeP5L2G5LiN5YGc5q2iIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIuepuueZveWkhOWPjOWHu+aaguWBnOe/u+mhtSIsCiAgICAgICAgICAgICAgICBzb3J0VGl0bGU6ICLmjpLluo/lnKjkuIvmrKHmm7TmlrDop4TliJnlkI7nlJ/mlYgiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIuiHquWKqOWQr+eUqO+8jOWQpuWImeS4uueZveWQjeWNleaooeW8jyIsCiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bTogIuiHquWKqOWKoOi9veaMh+WumumhteaVsCIsCiAgICAgICAgICAgICAgICB0dXJuUmF0ZTogIui3neemu+mhteWwvuOAkFjjgJHlgI3pobXpnaLpq5jluqbml7blsLHlvIDlp4vnv7vpobUiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi6L6T5YWl6aG156CB6Lez6L2sIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLnv7vpobXlkI7lhpnlhaXljoblj7LorrDlvZUiLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAi5ou85o6l5ZCO56uL5Y2z5YaZ5YWl5Y6G5Y+y6K6w5b2V77yM5ZCm5YiZ5rWP6KeI5a6M5q+V5ZCO5YaN6KGM5YaZ5YWlIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAi6Ieq5Yqo5YiH5o2iIGNvbnRlbnRWaXNpYmlsaXR577yM5o+Q5Y2H5riy5p+T5oCn6IO9IiwKICAgICAgICAgICAgICAgIGluaXRSdW46ICLmiZPlvIDpobXpnaLlkI7nq4vljbPlsJ3or5Xnv7vpobXvvIzlkKbliJnmu5rliqjoh7PpobXlsL7lho3nv7vpobUiLAogICAgICAgICAgICAgICAgcHJlbG9hZDogIue/u+mhteWJjemihOivu+S4i+S4gOmhte+8jOWKoOmAn+a1j+iniCIsCiAgICAgICAgICAgICAgICBjbGljazJJbXBvcnRSdWxlOiAi54K55Ye75LiL5pa55re75Yqg54m55q6K6KeE5YiZ5bqT77yM5bm26Z2Z5b6F5pu05paw5oiQ5Yqf77yaIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogIuaYr+WQpuaLvOaOpeaVtOS4qumhtemdou+8nyIsCiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWI6ICLkvb/mi7zmjqXpobXpnaLnmoTlhoXlrrnlnKjmlrDpobXpnaLmiZPlvIAiLAogICAgICAgICAgICAgICAgaW1wb3J0U3VjYzogIuWvvOWFpeaIkOWKnyIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICLlr7zlhaUiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICLnvJbovpHmraTnq5nop4TliJkiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogIue8lui+kem7keWQjeWNlee9keWdgO+8jOS4gOihjOS4gOadoe+8jOaUr+aMgT8gKumAmumFjeespuS4juato+WImSIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogIuWbnuWIsOmhtemmluWbvuaghyIsCiAgICAgICAgICAgICAgICBkb3duQnRuSW1nOiAi5YmN5b6A6aG15bC+5Zu+5qCHIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVySWNvbjogIuS+p+i+ueagj+WbvuaghyIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAi5Yqg6L295Lit5paH5a2XIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIOmUriIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BBbHQ6ICJBbHQg6ZSuIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcFNoaWZ0OiAiU2hpZnQg6ZSuIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIOmUriIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BLZXk6ICLlv6vmjbfplK4iLAogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRDc3M6ICLpobXpnaLkuLvkvZPmoYbmnrbnmoTmoLflvI8iLAogICAgICAgICAgICAgICAgY3VzdG9tQ3NzOiAi6Ieq5a6a5LmJIGNzcyIsCiAgICAgICAgICAgICAgICBmaXJzdEFsZXJ0OiAi5L2g6L+Y5pyq5a+85YWl6KeE5YiZ5bqT77yM6K+36YCJ5oup5ZCI6YCC55qE6KeE5YiZ5bqT5a+85YWl5ZOmIiwKICAgICAgICAgICAgICAgIHBpY2tlcjogIuS4nOaWueawuOmhteacuuS4u+S9k+WFg+e0oOaKk+WPluWZqCIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIuWFs+mXreS4nOaWueawuOmhteacuuaKk+WPluWZqCIsCiAgICAgICAgICAgICAgICBwaWNrZXJQbGFjZWhvbGRlcjogIuWFg+e0oOmAieaLqeWZqO+8jOayoeaDs+azleW7uuiurueVmeepuiIsCiAgICAgICAgICAgICAgICBwaWNrZXJDaGVjazogIuajgOafpeS9oOe8lui+keeahOmAieaLqeWZqOW5tuWkjeWItiIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogIueCueWHu+WIh+aNouWFg+e0oCIsCiAgICAgICAgICAgICAgICBnb3RvRWRpdDogIuS9v+eUqOW9k+WJjeeahOmAieaLqeWZqOWJjeW+gOe8lui+keinhOWImSIsCiAgICAgICAgICAgICAgICBtYW51YWxNb2RlOiAi56aB55So5ou85o6l77yM5omL5Yqo55So5Y+z5pa55ZCR6ZSu57+76aG177yM5Y+v5L2/55So5bem5pa55ZCR6ZSu6L+U5ZueIiwKICAgICAgICAgICAgICAgIGNsaWNrTW9kZTogIuemgeeUqOaLvOaOpe+8jOa7muWKqOiHs+mhteWwvuaXtuiHquWKqOeCueWHu+S4i+S4gOmhtSIsCiAgICAgICAgICAgICAgICBwYWdlQmFyTWVudTogIueCueWHu+WIhumalOadoeS4remXtOW8ueWHuuiPnOWNlSIsCiAgICAgICAgICAgICAgICBuZXh0U3dpdGNoOiAi5YiH5o2i5YW25LuW6aG156CBIiwKICAgICAgICAgICAgICAgIGFycm93VG9TY3JvbGw6ICLlt6bmlrnlkJHplK7mu5rliqjoh7PkuIrkuIDpobXvvIzlj7PmlrnlkJHplK7mu5rliqjoh7PkuIvkuIDpobUiLAogICAgICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXI6ICLlnKjkvqfovrnmmL7npLrnv7vpobXmjqfliLbmoI8iLAogICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdJY29uOiAi6ZqQ6JeP5Yqg6L295Yqo55S7IiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogIumakOiXj+WIhumalOadoeWumuS9jeeureWktCIsCiAgICAgICAgICAgICAgICBkdXBsaWNhdGU6ICLmo4DmtYvliLDmsLjpobXmnLrph43lpI3lronoo4XvvIzor7fliKDpmaTlhbbku5bohJrmnKznrqHnkIblmajkuK3nmoTmsLjpobXmnLohIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVJZnJhbWU6ICLku6UgaWZyYW1lIOW1jOWFpeaVtOmhtSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogIumAmui/hyBpZnJhbWUg5Yqg6L295Yqo5oCB5YaF5a655ZCO5Y+W5Ye6IiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVEaXNhYmxlOiAi5Zyo5q2k56uZ56aB55SoIiwKICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxSYXRlOiAi5rua5Yqo6YCf5bqm77yIMX4xMDAw77yJIiwKICAgICAgICAgICAgICAgIGRpc2FibGVBdXRvU2Nyb2xsOiAi5YGc5q2i6Ieq5Yqo5rua5YqoIiwKICAgICAgICAgICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6ICLlvIDlkK/oh6rliqjmu5rliqgiLAogICAgICAgICAgICAgICAgdG9nZ2xlQXV0b1Njcm9sbDogIuiHquWKqOa7muWKqOW8gOWFsyIsCiAgICAgICAgICAgICAgICBwYWdlOiAiUGFnZSAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICLkuIrkuIDpobUiLAogICAgICAgICAgICAgICAgbmV4dFBhZ2U6ICLkuIvkuIDpobUiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAi6KeE5YiZ5b+F6aG75Li65pWw57uE5b2i5byPISIsCiAgICAgICAgICAgICAgICBlcnJvckpzb246ICJKU09OIOagvOW8j+aciemUme+8jOivt+mHjeaWsOajgOafpSEiLAogICAgICAgICAgICAgICAgZWRpdFN1Y2Nlc3M6ICLnvJbovpHmiJDlip8iLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogIlVSTCDplJnor68sIOivt+mHjeaWsOajgOafpSEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAi5bey57uP5a2Y5ZyoISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAi6K6+572u5bey5L+d5a2Y77yM5Yi35paw5ZCO55Sf5pWIIiwKICAgICAgICAgICAgICAgIGlmcmFtZTogIuW8uuWItuaLvOaOpSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAi5Yqo5oCB5Yqg6L29IiwKICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2U6ICLnvJbovpHlrozmiJDvvIzmmK/lkKbnq4vljbPliLfmlrDpobXpnaLvvJ8iLAogICAgICAgICAgICAgICAgY29waWVkOiAi5bey5aSN5Yi2IiwKICAgICAgICAgICAgICAgIG5vVmFsaWRDb250ZW50OiAi5rKh5pyJ5qOA5rWL5Yiw5pyJ5pWI5YaF5a6577yM54K55Ye75p+l55yLIiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIuiEmuacrOW3sui/h+aXtu+8jOivt+WPiuaXtuabtOaWsOWIsOacgOaWsOeJiOacrO+8gSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogIumakOiXj+WIhumhtemalOadoe+8jOayiea1uOW8j+S9k+mqjCIsCiAgICAgICAgICAgICAgICBzZXRDb25maWdQYWdlOiAi5bCG5b2T5YmN6aG16Z2i6K6+5Li66buY6K6k6YWN572u6aG1IiwKICAgICAgICAgICAgICAgIHdlZGF0YTJnaXRodWI6ICLlsIYgd2VkYXRhIOWcsOWdgOabtOaUueS4uiBnaXRodWIg5LuT5bqT5YaF55qE6ZWc5YOP5Zyw5Z2AIiwKICAgICAgICAgICAgICAgIGFkZE90aGVyUHJvcDogIua3u+WKoOinhOWImeWxnuaApyIsCiAgICAgICAgICAgICAgICBhZGROZXh0U2VsZWN0b3I6ICLmt7vliqDpgInmi6nlmajlhoXlrrnkuLogbmV4dExpbmsiLAogICAgICAgICAgICAgICAgYWRkUGFnZVNlbGVjdG9yOiAi5re75Yqg6YCJ5oup5Zmo5YaF5a655Li6IHBhZ2VFbGVtZW50IiwKICAgICAgICAgICAgICAgIHByb3BOYW1lOiAi6L6T5YWl6KeE5YiZ5bGe5oCn5ZCNIiwKICAgICAgICAgICAgICAgIHByb3BWYWx1ZTogIui+k+WFpeinhOWImeWxnuaAp+WAvCIsCiAgICAgICAgICAgICAgICBjdXN0b21GaXJzdDogIuS4uuacrOWcsOiHquWumuS5ieinhOWImeW/veeVpee8k+WtmCIsCiAgICAgICAgICAgICAgICBydWxlc0V4YW1wbGU6ICLoh6rlrprkuYnop4TliJnor6bop6MiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInpoLVRXIjoKICAgICAgICBjYXNlICJ6aC1ISyI6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAi6Kq/6Kmm5qih5byP77yM6Ly45Ye65L+h5oGv6Iez5o6n5Yi25Y+wIiwKICAgICAgICAgICAgICAgIGRpc2FibGU6ICLmmqvmmYLnpoHnlKgiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGU6ICLnq5npu57npoHnlKjplovpl5wiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGVUaXBzOiAi5bey5Zyo5q2k56uZ56aB55SoIiwKICAgICAgICAgICAgICAgIGVuYWJsZVNpdGVUaXBzOiAi5bey5Zyo5q2k56uZ5ZWf55SoIiwKICAgICAgICAgICAgICAgIGVuYWJsZTogIuWVn+eUqOiHquWLlee/u+mggSIsCiAgICAgICAgICAgICAgICB0b1RvcDogIuWbnuWIsOmggumDqCIsCiAgICAgICAgICAgICAgICB0b0JvdHRvbTogIuWJjeW+gOmggeWwviIsCiAgICAgICAgICAgICAgICBjdXJyZW50OiAi55W25YmN6aCBIiwKICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lOiAi5by35Yi25ou85o6lIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAi5Y+W5raI5by65Yi25ou85o6lIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogIuaJk+mWi+mFjee9rumggemdoiIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogIum7nuaTiuatpOiZleWIneWni+WMluimj+WJhyIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICLmm7TmlrDlnKjntqvopo/liYciLAogICAgICAgICAgICAgICAgY2xpY2sydXBkYXRlOiAi6bue5pOK56uL5Y2z5pu05paw6KaP5YmHIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLnq4vljbPnv7vpoIEiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLopoHnv7vlh6DpoIHvvJ/vvIgw54K65LiN6ZaT5pa377yJIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIuaykuacieaJvuWIsOS4i+S4gOmgge+8jOiri+aWsOW7uuimj+WJhyIsCiAgICAgICAgICAgICAgICBwYXNzU2VjOiAi5pu05paw5LqOICN0IyDnp5LliY0iLAogICAgICAgICAgICAgICAgcGFzc01pbjogIuabtOaWsOS6jiAjdCMg5YiG6ZCY5YmNIiwKICAgICAgICAgICAgICAgIHBhc3NIb3VyOiAi5pu05paw5LqOICN0IyDlsI/mmYLliY0iLAogICAgICAgICAgICAgICAgcGFzc0RheTogIuabtOaWsOS6jiAjdCMg5aSp5YmNIiwKICAgICAgICAgICAgICAgIGNhbnREZWw6ICLnhKHms5XliKrpmaTlhoXnva7opo/liYciLAogICAgICAgICAgICAgICAgY29uZmlybURlbDogIuaYr+WQpueiuuiqjeimgeWIqumZpOatpOimj+WJh++8nyIsCiAgICAgICAgICAgICAgICB1cGRhdGVTdWNjOiAi5pu05paw5oiQ5YqfIiwKICAgICAgICAgICAgICAgIGJlZ2luVXBkYXRlOiAi5q2j5Zyo5pu05paw77yM6KuL56iN5YCZIiwKICAgICAgICAgICAgICAgIGN1c3RvbVVybHM6ICLlsI7lhaUgUGFnZXR1YWwg5oiWIEF1dG9QYWdlcml6ZSDopo/liYcgdXJs77yM5LiA6KGM5LiA5qKdIiwKICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzOiAi6Ly45YWl44CQ5p2x5pa55rC46aCB5qmf44CR5qC85byP55qE6Ieq5a6a576p6KaP5YmHIDxhIGhyZWY9JyN0Iyc+6LKi54276KaP5YmHPC9hPiIsCiAgICAgICAgICAgICAgICBzYXZlOiAi5a2Y5YSy6Kit572uIiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAi5bCR5aWz56WI56ax5LitLi4uIiwKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICLkuI3pgI/mmI7lgLwiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMDog6Zqx6JeP5YiG6ZqU5qKdIiwKICAgICAgICAgICAgICAgIGhpZGVCYXI6ICLpmrHol4/liIbpoIHpmpTmop0iLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogIumaseiXj+S9huS4jeWBnOatoiIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3A6ICLnqbrnmb3omZXpm5nmk4rmmqvlgZznv7vpoIEiLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAi5o6S5bqP5Zyo5LiL5qyh5pu05paw6KaP5YmH5b6M55Sf5pWIIiwKICAgICAgICAgICAgICAgIGF1dG9SdW46ICLoh6rli5XllZPnlKjvvIzlkKbliYfngrrnmb3lkI3llq7mqKHlvI8iLAogICAgICAgICAgICAgICAgYXV0b0xvYWROdW06ICLoh6rli5XliqDovInmjIflrprpoIHmlbgiLAogICAgICAgICAgICAgICAgdHVyblJhdGU6ICLot53pm6LpoIHlsL7jgJBY44CR5YCN6aCB6Z2i6auY5bqm5pmC5bCx6ZaL5aeL57+76aCBIiwKICAgICAgICAgICAgICAgIGlucHV0UGFnZU51bTogIui8uOWFpemggeeivOi3s+i9iSIsCiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5OiAi57+76aCB5ZCO5a+r5YWl5q235Y+y6KiY6YyEIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnlBZnRlckluc2VydDogIuaLvOaOpeW+jOeri+WNs+Wvq+WFpeatt+WPsuiomOmMhO+8jOWQpuWJh+eAj+imveWujOeVouW+jOWGjeihjOWvq+WFpSIsCiAgICAgICAgICAgICAgICBjb250ZW50VmlzaWJpbGl0eTogIuiHquWLleWIh+aPmyBjb250ZW50VmlzaWJpbGl0ee+8jOaPkOWNh+a4suafk+aAp+iDvSIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAi5omT6ZaL6aCB6Z2i5ZCO56uL5Y2z5ZiX6Kmm57+76aCB77yM5ZCm5YmH5ru+5YuV6Iez6aCB5bC+5YaN57+76aCBIiwKICAgICAgICAgICAgICAgIHByZWxvYWQ6ICLnv7vpoIHliY3poJDoroDkuIvkuIDpoIHvvIzliqDpgJ/ngI/opr0iLAogICAgICAgICAgICAgICAgY2xpY2sySW1wb3J0UnVsZTogIum7nuaTiuS4i+aWuea3u+WKoOeJueauiuimj+WJh+W6q++8jOW5tumdnOW+heabtOaWsOaIkOWKn++8miIsCiAgICAgICAgICAgICAgICBmb3JjZUFsbEJvZHk6ICLmmK/lkKbmi7zmjqXmlbTlgIvpoIHpnaLvvJ8iLAogICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiOiAi5L2/5ou85o6l6aCB6Z2i55qE5YaF5a655Zyo5paw6aCB6Z2i5omT6ZaLIiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLlsI7lhaXmiJDlip8iLAogICAgICAgICAgICAgICAgaW1wb3J0OiAi5bCO5YWlIiwKICAgICAgICAgICAgICAgIGVkaXRDdXJyZW50OiAi57eo6Lyv5q2k56uZ6KaP5YmHIiwKICAgICAgICAgICAgICAgIGVkaXRCbGFja2xpc3Q6ICLnt6jovK/pu5HlkI3llq7ntrLlnYDvvIzkuIDooYzkuIDmop3vvIzmlK/mjIE/ICrpgJrphY3nrKboiIfmraPliYciLAogICAgICAgICAgICAgICAgdXBCdG5JbWc6ICLlm57liLDpoIHpppblnJbmqJkiLAogICAgICAgICAgICAgICAgZG93bkJ0bkltZzogIuWJjeW+gOmggeWwvuWcluaomSIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlckljb246ICLlgbTpgormrITlnJbmqJkiLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHRUaXRsZTogIuWKoOi8ieS4reaWh+WtlyIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BDdHJsOiAiQ3RybCDpjbUiLAogICAgICAgICAgICAgICAgZGJDbGljazJTdG9wQWx0OiAiQWx0IOmNtSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ0IOmNtSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BNZXRhOiAiTWV0YSDpjbUiLAogICAgICAgICAgICAgICAgZGJDbGljazJTdG9wS2V5OiAi5b+r5o236Y21IiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi6aCB6Z2i5Li76auU5qGG5p6255qE5qij5byPIiwKICAgICAgICAgICAgICAgIGN1c3RvbUNzczogIuiHquWumue+qSBjc3MiLAogICAgICAgICAgICAgICAgZmlyc3RBbGVydDogIuS9oOmChOacquWwjuWFpeimj+WJh+W6q++8jOiri+mBuOaTh+WQiOmBqeeahOimj+WJh+W6q+WwjuWFpeWTpiIsCiAgICAgICAgICAgICAgICBwaWNrZXI6ICLmnbHmlrnmsLjpoIHmqZ/kuLvpq5TlhYPntKDmipPlj5blmagiLAogICAgICAgICAgICAgICAgY2xvc2VQaWNrZXI6ICLpl5zplonmnbHmlrnmsLjpoIHmqZ/mipPlj5blmagiLAogICAgICAgICAgICAgICAgcGlja2VyUGxhY2Vob2xkZXI6ICLlhYPntKDpgbjmk4flmajvvIzmspLmg7Pms5Xlu7rorbDnlZnnqboiLAogICAgICAgICAgICAgICAgcGlja2VyQ2hlY2s6ICLmqqLmn6XkvaDnt6jovK/nmoTpgbjmk4flmajkuKbopIfoo70iLAogICAgICAgICAgICAgICAgc3dpdGNoU2VsZWN0b3I6ICLpu57mk4rliIfmj5vlhYPntKAiLAogICAgICAgICAgICAgICAgZ290b0VkaXQ6ICLkvb/nlKjnlbbliY3nmoTpgbjmk4flmajliY3lvoDnt6jovK/opo/liYciLAogICAgICAgICAgICAgICAgbWFudWFsTW9kZTogIuemgeeUqOaLvOaOpe+8jOaJi+WLleeUqOWPs+aWueWQkemNtee/u+mgge+8jOW3puaWueWQkemNtei/lOWbniIsCiAgICAgICAgICAgICAgICBjbGlja01vZGU6ICLnpoHnlKjmi7zmjqXvvIzmu77li5Xoh7PpoIHlsL7mmYLoh6rli5Xpu57mk4rkuIvkuIDpoIEiLAogICAgICAgICAgICAgICAgcGFnZUJhck1lbnU6ICLpu57mk4rliIbpmpTmop3kuK3plpPlvYjlh7roj5zllq4iLAogICAgICAgICAgICAgICAgbmV4dFN3aXRjaDogIuWIh+aPm+WFtuS7lumggeeivCIsCiAgICAgICAgICAgICAgICBhcnJvd1RvU2Nyb2xsOiAi5bem5pa55ZCR6Y215ru+5YuV6Iez5LiK5LiA6aCB77yM5Y+z5pa55ZCR6Y215ru+5YuV6Iez5LiL5LiA6aCBIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVyOiAi5Zyo5YG06YKK6aGv56S657+76aCB5o6n5Yi25qyEIiwKICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nSWNvbjogIumaseiXj+WKoOi8ieWLleeVqyIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQXJyb3c6ICLpmrHol4/liIbpmpTmop3lrprkvY3nrq3poK0iLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAi5qqi5ris5Yiw5rC46aCB5qmf6YeN6KSH5a6J6KOd77yM6KuL5Yiq6Zmk5YW25LuW6IWz5pys566h55CG5Zmo5Lit55qE5rC46aCB5qmfISIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlSWZyYW1lOiAi5LulIGlmcmFtZSDltYzlhaXmlbTpoIEiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZUR5bmFtaWM6ICLpgJrpgY4gaWZyYW1lIOWKoOi8ieWLleaFi+WFp+WuueW+jOWPluWHuiIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRGlzYWJsZTogIuWcqOatpOermeemgeeUqCIsCiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsUmF0ZTogIua7vuWLlemAn+W6pu+8iDF+MTAwMO+8iSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbDogIuWBnOatouiHquWLlea7vuWLlSIsCiAgICAgICAgICAgICAgICBlbmFibGVBdXRvU2Nyb2xsOiAi6ZaL5ZWf6Ieq5YuV5ru+5YuVIiwKICAgICAgICAgICAgICAgIHRvZ2dsZUF1dG9TY3JvbGw6ICLoh6rli5Xmu77li5Xplovpl5wiLAogICAgICAgICAgICAgICAgcGFnZTogIlBhZ2UgIiwKICAgICAgICAgICAgICAgIHByZXZQYWdlOiAi5LiK5LiA6aCBIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAi5LiL5LiA6aCBIiwKICAgICAgICAgICAgICAgIGVycm9yUnVsZXNNdXN0QmVBcnJheTogIuimj+WJh+W/hemgiOeCuumZo+WIl+W9ouW8jyEiLAogICAgICAgICAgICAgICAgZXJyb3JKc29uOiAiSlNPTiDmoLzlvI/mnInpjK/vvIzoq4vph43mlrDmqqLmn6UhIiwKICAgICAgICAgICAgICAgIGVkaXRTdWNjZXNzOiAi57eo6Lyv5oiQ5YqfIiwKICAgICAgICAgICAgICAgIGVycm9yV3JvbmdVcmw6ICJVUkwg6Yyv6KqkLCDoq4vph43mlrDmqqLmn6UhIiwKICAgICAgICAgICAgICAgIGVycm9yQWxyZWFkeUV4aXN0czogIuW3sue2k+WtmOWcqCEiLAogICAgICAgICAgICAgICAgc2V0dGluZ3NTYXZlZDogIuioree9ruW3suS/neWtmO+8jOWIt+aWsOW+jOeUn+aViCIsCiAgICAgICAgICAgICAgICBpZnJhbWU6ICLlvLfliLbmi7zmjqUiLAogICAgICAgICAgICAgICAgZHluYW1pYzogIuWLleaFi+WKoOi8iSIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAi57eo6Lyv5a6M5oiQ77yM5piv5ZCm56uL5Y2z5Yi35paw6aCB6Z2i77yfIiwKICAgICAgICAgICAgICAgIGNvcGllZDogIuW3suW+qeWItiIsCiAgICAgICAgICAgICAgICBub1ZhbGlkQ29udGVudDogIuaykuacieaqoua4rOWIsOacieaViOWGheWuue+8jOm7nuaTiuafpeeciyIsCiAgICAgICAgICAgICAgICBvdXRPZkRhdGU6ICLohJrmnKzlt7LpgY7mmYLvvIzoq4vlj4rmmYLmm7TmlrDliLDmnIDmlrDniYjmnKzvvIEiLAogICAgICAgICAgICAgICAgaGlkZUJhclRpcHM6ICLpmrHol4/liIbpoIHpmpTmop3vvIzmsonmtbjlvI/pq5TpqZciLAogICAgICAgICAgICAgICAgc2V0Q29uZmlnUGFnZTogIuWwh+eVtuWJjemggemdouioreeCuum7mOiqjemFjee9rumggSIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAi5bCHIHdlZGF0YSDlnLDlnYDmm7TmlLnngrogZ2l0aHViIOWAieW6q+WFp+eahOmPoeWDj+WcsOWdgCIsCiAgICAgICAgICAgICAgICBhZGRPdGhlclByb3A6ICLmt7vliqDopo/liYflsazmgKciLAogICAgICAgICAgICAgICAgYWRkTmV4dFNlbGVjdG9yOiAi5re75Yqg6YG45pOH5Zmo5YWn5a6554K6IG5leHRMaW5rIiwKICAgICAgICAgICAgICAgIGFkZFBhZ2VTZWxlY3RvcjogIua3u+WKoOmBuOaTh+WZqOWFp+WuueeCuiBwYWdlRWxlbWVudCIsCiAgICAgICAgICAgICAgICBwcm9wTmFtZTogIui8uOWFpeimj+WJh+WxrOaAp+WQjSIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLovLjlhaXopo/liYflsazmgKflgLwiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLngrrmnKzlnLDoh6rlrprnvqnopo/liYflv73nlaXnt6nlrZgiLAogICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlOiAi6Ieq5a6a576p6KaP5YmH6Kmz6KejIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJqYSI6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAi44OH44OQ44OD44Kw44Oi44O844OJIiwKICAgICAgICAgICAgICAgIGRpc2FibGU6ICLkuIDmmYLnmoTjgavnhKHlirkiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGU6ICLnhKHlirnnirbmhYvjga7liIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgZGlzYWJsZVNpdGVUaXBzOiAi44GT44Gu44K144Kk44OI44Gn5pei44Gr54Sh5Yq544Gr44Gq44Gj44Gm44GE44G+44GZIiwKICAgICAgICAgICAgICAgIGVuYWJsZVNpdGVUaXBzOiAi44GT44Gu44K144Kk44OI44Gn5pei44Gr5pyJ5Yq544Gr44Gq44Gj44Gm44GE44G+44GZIiwKICAgICAgICAgICAgICAgIGVuYWJsZTogIuODmuODvOOCuOOCgeOBj+OCiuOCkuacieWKueOBq+OBmeOCiyIsCiAgICAgICAgICAgICAgICB0b1RvcDogIuODiOODg+ODl+OBq+aIu+OCiyIsCiAgICAgICAgICAgICAgICB0b0JvdHRvbTogIuODmuODvOOCuOOBruS4i+mDqOOBq+enu+WLlSIsCiAgICAgICAgICAgICAgICBjdXJyZW50OiAi54++5Zyo44Gu44Oa44O844K4IiwKICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lOiAi5by35Yi244K544OG44OD44OBIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAi5by35Yi244K544OG44OD44OB44KS44Kt44Oj44Oz44K744OrIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogIuioreWumuODmuODvOOCuOOCkumWi+OBjyIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogIuOBk+OBk+OCkuOCr+ODquODg+OCr+OBl+OBpuODq+ODvOODq+OCkuWIneacn+WMluOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICLmm7TmlrDjg6vjg7zjg6siLAogICAgICAgICAgICAgICAgY2xpY2sydXBkYXRlOiAi5LuK44GZ44GQ44Or44O844Or44KS5pu05paw44GX44Gm44GP44Gg44GV44GEIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLku4rjgZnjgZDjg5rjg7zjgrjjgpLjgoHjgY/jgosiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLmlbDjg5rjg7zjgrjjgoHjgY/jgorjgZ/jgYTjgafjgZnjgYvvvJ/vvIgw44Gv6YCU5YiH44KM44Gq44GE77yJIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIuasoeOBruODmuODvOOCuOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk+OAgeaWsOOBl+OBhOODq+ODvOODq+OCkuS9nOaIkOOBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwYXNzU2VjOiAiI3Qj56eS5YmN44Gr5pu05pawIiwKICAgICAgICAgICAgICAgIHBhc3NNaW46ICIjdCPliIbliY3jgavmm7TmlrAiLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICIjdCPmmYLplpPliY3jgavmm7TmlrAiLAogICAgICAgICAgICAgICAgcGFzc0RheTogIiN0I+aXpeWJjeOBq+abtOaWsCIsCiAgICAgICAgICAgICAgICBjYW50RGVsOiAi57WE44G/6L6844G/44Or44O844Or44KS5YmK6Zmk44Gn44GN44G+44Gb44KTIiwKICAgICAgICAgICAgICAgIGNvbmZpcm1EZWw6ICLjgZPjga7jg6vjg7zjg6vjgpLliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ8iLAogICAgICAgICAgICAgICAgdXBkYXRlU3VjYzogIuabtOaWsOOBq+aIkOWKn+OBl+OBvuOBl+OBnyIsCiAgICAgICAgICAgICAgICBiZWdpblVwZGF0ZTogIuabtOaWsOS4reOAgeOBiuW+heOBoeOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAi44Kk44Oz44Od44O844OI44Or44O844Or44GuVVJM44CBMeihjOOBqzHjgaQiLAogICAgICAgICAgICAgICAgY3VzdG9tUnVsZXM6ICLjgJDmnbHmlrnmsLjpoIHmqZ/jgJHjga7lvaLlvI/jgafjgqvjgrnjgr/jg6Djg6vjg7zjg6vjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQgPGEgaHJlZj0nI3QjJz7lr4TnqL/jg6vjg7zjg6s8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLoqK3lrprjgpLkv53lrZgiLAogICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICLlsJHlpbPnpYjnpbfkuK0uLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIuS4jemAj+aYjuWApCIsCiAgICAgICAgICAgICAgICBvcGFjaXR5UGxhY2Vob2xkZXI6ICIwOiDpmqDjgZkiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIuODmuODvOOCuOWMuuWIh+OCiuaWh+Wtl+OCkumdnuihqOekuuOBq+OBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQnV0Tm9TdG9wOiAi6Z2e6KGo56S644Gr44GZ44KL44GM5YGc5q2i44GX44Gq44GEIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIuepuueZvemDqOWIhuOCkuODgOODluODq+OCr+ODquODg+OCr+OBl+OBpuODmuODvOOCuOOCgeOBj+OCiuOCkuS4gOaZguWBnOatouOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBzb3J0VGl0bGU6ICLkuKbjgbnmm7/jgYjjga/jgIHmrKHjga7jg6vjg7zjg6vjga7mm7TmlrDlvozjgavmnInlirnjgavjgarjgorjgb7jgZkiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIuiHquWLleeahOOBq+acieWKuSIsCiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bTogIuaMh+WumuOBl+OBn+ODmuODvOOCuOaVsOOCkuiHquWLleeahOOBq+iqreOBv+i+vOOBv+OBvuOBmSIsCiAgICAgICAgICAgICAgICB0dXJuUmF0ZTogIuODmuODvOOCuOOBruerr+OBi+OCieODmuODvOOCuOOBrumrmOOBleOBruOAkFjjgJHlgI3jgavjgarjgaPjgZ/jgonjg5rjg7zjgrjjgpLjgoHjgY/jgosiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi44K444Oj44Oz44OX44GZ44KL44Oa44O844K455Wq5Y+344KS5YWl5YqbIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLjg5rjg7zjgrjjgoHjgY/jgorlvozjga7lsaXmrbTjgpLmm7jjgY8iLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAi44K544OX44Op44Kk44K344Oz44Kw44Gu55u05b6M44Gr5bGl5q2044Os44Kz44O844OJ44KS5pu444GN6L6844G/44G+44GZ44CC44Gd44KM5Lul5aSW44Gu5aC05ZCI44Gv44CB6Zay6Kan5b6M44Gr5pu444GN6L6844G/44G+44GZIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAiY29udGVudFZpc2liaWxpdHkg44KS6Ieq5YuV55qE44Gr5YiH44KK5pu/44GI44Gm44Os44Oz44OA44Oq44Oz44KwIOODkeODleOCqeODvOODnuODs+OCueOCkuWQkeS4iuOBleOBm+OCiyIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAiV2Vi44Oa44O844K444KS6ZaL44GE44Gf55u05b6M44Gr44Oa44O844K444KS44KB44GP44KLIiwKICAgICAgICAgICAgICAgIHByZWxvYWQ6ICLkuovliY3jgavmrKHjga7jg5rjg7zjgrjjgpLoqq3jgoAiLAogICAgICAgICAgICAgICAgY2xpY2sySW1wb3J0UnVsZTogIuS7peS4i+OCkuOCr+ODquODg+OCr+OBl+OBpuOAgeODq+ODvOODq+ODmeODvOOCueOCkui/veWKoOOBl+OBvuOBme+8miIsCiAgICAgICAgICAgICAgICBmb3JjZUFsbEJvZHk6ICLjg5Xjg6vjg5rjg7zjgrjln4vjgoHovrzjgb/vvJ8iLAogICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiOiAi44K544OX44Op44Kk44K544GV44KM44Gf44Oa44O844K444Gu44Kz44Oz44OG44Oz44OE44KS5paw44GX44GE44Oa44O844K444Gn6ZaL44GN44G+44GZIiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLjgqTjg7Pjg53jg7zjg4jlrozkuoYiLAogICAgICAgICAgICAgICAgaW1wb3J0OiAi44Kk44Oz44Od44O844OIIiwKICAgICAgICAgICAgICAgIGVkaXRDdXJyZW50OiAi54++5Zyo44Gu44Or44O844Or44Gu57eo6ZuGIiwKICAgICAgICAgICAgICAgIGVkaXRCbGFja2xpc3Q6ICLjg5bjg6njg4Pjgq/jg6rjgrnjg4jjga5VUkzjgpLnt6jpm4bjgZfjgIEx6KGM44Ga44Gk44CB44K144Od44O844OIPyAq44Ov44Kk44Or44OJ44Kr44O844OJIiwKICAgICAgICAgICAgICAgIHVwQnRuSW1nOiAi44OI44OD44OX44Ki44Kk44Kz44Oz44Gr5oi744KLIiwKICAgICAgICAgICAgICAgIGRvd25CdG5JbWc6ICLjg5Xjg4Pjgr/jg7zjgqLjgqTjgrPjg7Pjgavnp7vli5UiLAogICAgICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uOiAi44K144Kk44OJ44OQ44O8IOOCouOCpOOCs+ODsyIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAi44OG44Kt44K544OI44KS44Ot44O844OJIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJs44Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEFsdDogIkFsdOOCreODvCIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ044Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRh44Kt44O8IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEtleTogIlNob3J0Y3V044Kt44O8IiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi44Oa44O844K45pys5paH44OV44Os44O844Og44GuIFNUWUxFIiwKICAgICAgICAgICAgICAgIGN1c3RvbUNzczogIuOCq+OCueOCv+ODoCBjc3MiLAogICAgICAgICAgICAgICAgZmlyc3RBbGVydDogIuODq+ODvOODq+ODmeODvOOCueOCkuOCpOODs+ODneODvOODiOOBl+OBpuOBhOOBquOBhOOBn+OCgeOAgeOCpOODs+ODneODvOODiOOBmeOCi+mBqeWIh+OBquODq+ODvOODq+ODmeODvOOCueOCkumBuOaKnuOBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwaWNrZXI6ICJQYWdldHVhbOODmuODvOOCuOimgee0oOODlOODg+OCq+ODvCIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIlBhZ2V0dWFs44OU44OD44Kr44O844KS6ZaJ44GY44KLIiwKICAgICAgICAgICAgICAgIHBpY2tlclBsYWNlaG9sZGVyOiAi44KP44GL44KJ44Gq44GE5aC05ZCI44Gv56m644Gu44G+44G+44Gr44GX44Gm44GP44Gg44GV44GEIiwKICAgICAgICAgICAgICAgIHBpY2tlckNoZWNrOiAi44K744Os44Kv44K/44O844KS44OB44Kn44OD44Kv44GX44Gm44Kz44OU44O8IiwKICAgICAgICAgICAgICAgIHN3aXRjaFNlbGVjdG9yOiAi44Kv44Oq44OD44Kv44GX44Gm6KaB57Sg44KS5YiH44KK5pu/44GI44G+44GZIiwKICAgICAgICAgICAgICAgIGdvdG9FZGl0OiAi54++5Zyo44Gu44K744Os44Kv44K/44O844Gn44Or44O844Or44KS57eo6ZuG44GZ44KLIiwKICAgICAgICAgICAgICAgIG1hbnVhbE1vZGU6ICLjgrnjg5fjg6njgqTjgrfjg7PjgrDjgpLnhKHlirnjgavjgZfjgb7jgZnjgILmiYvli5Xjgaflj7Pjga7nn6LljbDjgq3jg7zjgpLkvb/nlKjjgZfjgabjg5rjg7zjgrjjgpLjgoHjgY/jgorjgb7jgZkiLAogICAgICAgICAgICAgICAgY2xpY2tNb2RlOiAi44K544OG44Kj44OD44OB44Oz44Kw44KS54Sh5Yq544Gr44GX44G+44GZ44CC44Oa44O844K444Gu5pyA5b6M44G+44Gn44K544Kv44Ot44O844Or44GZ44KL44Go44CB5qyh44Gu44Oa44O844K444GM6Ieq5YuV55qE44Gr44Kv44Oq44OD44Kv44GV44KM44G+44GZIiwKICAgICAgICAgICAgICAgIHBhZ2VCYXJNZW51OiAi44Oa44O844K444OQ44O844Gu5Lit5aSu44KS44Kv44Oq44OD44Kv44GX44Gm44Oh44OL44Ol44O844KS44Od44OD44OX44Ki44OD44OX6KGo56S6IiwKICAgICAgICAgICAgICAgIG5leHRTd2l0Y2g6ICLmrKHjga7jg5rjg7zjgrjjgavliIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgYXJyb3dUb1Njcm9sbDogIuW3puefouWNsOOCreODvOOBp+WJjeOBuOOAgeWPs+efouWNsOOCreODvOOBp+asoeOBuCIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlcjogIuOCteOCpOODieODkOODvOOBq+ODmuODvOOCuOODs+OCsCDjgrPjg7Pjg4jjg63jg7zjg6sg44OQ44O844KS6KGo56S644GZ44KLIiwKICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nSWNvbjogIuiqreOBv+i+vOOBv+S4reOBruOCouODi+ODoeODvOOCt+ODp+ODs+OCkumaoOOBmSIsCiAgICAgICAgICAgICAgICBoaWRlQmFyQXJyb3c6ICLliIblibLnt5rjga7kvY3nva7nn6LljbDjgpLpmqDjgZkiLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAiUGFnZXR1YWwg44Gu6YeN6KSH44Kk44Oz44K544OI44O844Or44GM5qSc5Ye644GV44KM44G+44GX44Gf44CC5LuW44Gu44K544Kv44Oq44OX44OIIOODnuODjeODvOOCuOODo+OBp+awuOe2mueahOOBquODmuODvOOCuCDjg57jgrfjg7PjgpLliYrpmaTjgZfjgabjgY/jgaDjgZXjgYQhIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVJZnJhbWU6ICJpZnJhbWUg44Gr44Oa44O844K45YWo5L2T44KS5Z+L44KB6L6844KAIiwKICAgICAgICAgICAgICAgIGZvcmNlU3RhdGVEeW5hbWljOiAiaWZyYW1lIOe1jOeUseOBp+WLleeahOOCs+ODs+ODhuODs+ODhOOCkuiqreOBv+i+vOOCgCIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRGlzYWJsZTogIuOBk+OBruOCueODhuODvOOCt+ODp+ODs+OBp+OBruODmuODvOOCuOOCgeOBj+OCiuOCkueEoeWKueOBq+OBmeOCiyIsCiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsUmF0ZTogIuOCueOCr+ODreODvOODq+mAn+W6piAoMX4xMDAwKSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbDogIuiHquWLleOCueOCr+ODreODvOODq+OCkuWBnOatouOBl+OBvuOBmSIsCiAgICAgICAgICAgICAgICBFbmFibGVBdXRvU2Nyb2xsOiAi6Ieq5YuV44K544Kv44Ot44O844Or44KS5pyJ5Yq544Gr44GZ44KLIiwKICAgICAgICAgICAgICAgIHRvZ2dsZUF1dG9TY3JvbGw6ICLoh6rli5Xjgrnjgq/jg63jg7zjg6vjga7liIfjgormm7/jgYgiLAogICAgICAgICAgICAgICAgcGFnZTogIlBhZ2UgIiwKICAgICAgICAgICAgICAgIHByZXZQYWdlOiAiUHJldiBwYWdlIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAiTmV4dCBwYWdlIiwKICAgICAgICAgICAgICAgIGVycm9yUnVsZXNNdXN0QmVBcnJheTogIlJ1bGVzIG11c3QgYmUgYSBBcnJheSEiLAogICAgICAgICAgICAgICAgZXJyb3JKc29uOiAiSlNPTiBlcnJvciwgY2hlY2sgYWdhaW4hIiwKICAgICAgICAgICAgICAgIGVkaXRTdWNjZXNzOiAiRWRpdCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogIldyb25nIHVybCwgY2hlY2sgYWdhaW4hIiwKICAgICAgICAgICAgICAgIGVycm9yQWxyZWFkeUV4aXN0czogIkFscmVhZHkgZXhpc3RzISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAiVGhlIHNldHRpbmdzIGFyZSBzYXZlZCwgcmVmcmVzaCB0byB2aWV3IiwKICAgICAgICAgICAgICAgIGlmcmFtZTogIklmcmFtZSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAiRHluYW1pYyIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAiRWRpdCBjb21wbGV0ZWQsIHJlbG9hZCBwYWdlIG5vdz8iLAogICAgICAgICAgICAgICAgY29waWVkOiAiQ29waWVkIiwKICAgICAgICAgICAgICAgIG5vVmFsaWRDb250ZW50OiAi5pyJ5Yq544Gq44Kz44Oz44OG44Oz44OE44GM5qSc5Ye644GV44KM44G+44Gb44KT44Gn44GX44Gf44CC44Kv44Oq44OD44Kv44GX44Gm6KGo56S6IiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIuOCueOCr+ODquODl+ODiOOBjOWPpOOBj+OBquOBo+OBpuOBhOOBvuOBmeOAguacgOaWsOODkOODvOOCuOODp+ODs+OBq+abtOaWsOOBl+OBpuOBj+OBoOOBleOBhOOAgiIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogIuODmuODvOOCuOODjeODvOOCt+ODp+ODsyDjg5Djg7zjgpLpnZ7ooajnpLrjgavjgZfjgb7jgZnjgILmsqHlhaXlnovjgqjjgq/jgrnjg5rjg6rjgqjjg7PjgrkiLAogICAgICAgICAgICAgICAgc2V0Q29uZmlnUGFnZTogIuePvuWcqOOBruODmuODvOOCuOOCkuODh+ODleOCqeODq+ODiOioreWumuODmuODvOOCuOOBqOOBl+OBpuioreWumiIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAid2VkYXRhIOOCouODieODrOOCueOCkiBnaXRodWIg44Km44Kn44Ki44OP44Km44K544Gu44Of44Op44O8IOOCouODieODrOOCueOBq+WkieabtCIsCiAgICAgICAgICAgICAgICBhZGRPdGhlclByb3A6ICLjg6vjg7zjg6vjg5fjg63jg5Hjg4bjgqPjgpLov73liqAiLAogICAgICAgICAgICAgICAgYWRkTmV4dFNlbGVjdG9yOiAi44K744Os44Kv44K/44O844Gu44Kz44Oz44OG44Oz44OE44KSIG5leHRMaW5rIOOBqOOBl+OBpui/veWKoCIsCiAgICAgICAgICAgICAgICBhZGRQYWdlU2VsZWN0b3I6ICLjgrvjg6zjgq/jgr8g44Kz44Oz44OG44Oz44OE44KSIHBhZ2VFbGVtZW50IOOBqOOBl+OBpui/veWKoCIsCiAgICAgICAgICAgICAgICBwcm9wTmFtZTogIuODq+ODvOODq+OBruODl+ODreODkeODhuOCo+WQjeOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhCIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLjg6vjg7zjg6vjga7jg5fjg63jg5Hjg4bjgqPlgKTjgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLjg63jg7zjgqvjg6vjgqvjgrnjgr/jg6Djg6vjg7zjg6vjga7jgq3jg6Pjg4Pjgrfjg6XjgpLnhKHoppbjgZnjgosiLAogICAgICAgICAgICAgICAgcnVsZXNFeGFtcGxlOiAi44Kr44K544K/44Og44Or44O844Or44Gu6Kmz44GX44GE6Kqs5piOIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJydSI6CiAgICAgICAgY2FzZSAicnUtUlUiOgogICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICBlbmFibGVEZWJ1ZzogItCS0LrQu9GO0YfQuNGC0Ywg0L7RgtC70LDQtNC60YMiLAogICAgICAgICAgICAgICAgZGlzYWJsZTogItCS0YvQutC70Y7Rh9C40YLRjCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogItCS0LrQu9GO0YfQuNGC0Ywv0LLRi9C60LvRjtGH0LjRgtGMINC90LAg0YHQsNC50YLQtSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICLQktGL0LrQu9GO0YfQtdC90L4g0LTQu9GPINGN0YLQvtCz0L4g0YHQsNC50YLQsCIsCiAgICAgICAgICAgICAgICBlbmFibGVTaXRlVGlwczogItCS0LrQu9GO0YfQtdC90L4g0LTQu9GPINGN0YLQvtCz0L4g0YHQsNC50YLQsCIsCiAgICAgICAgICAgICAgICBlbmFibGU6ICLQktC60LvRjtGH0LjRgtGMIiwKICAgICAgICAgICAgICAgIHRvVG9wOiAi0J3QsNCy0LXRgNGFIiwKICAgICAgICAgICAgICAgIHRvQm90dG9tOiAi0JLQvdC40LciLAogICAgICAgICAgICAgICAgY3VycmVudDogItCi0LXQutGD0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAiLAogICAgICAgICAgICAgICAgZm9yY2VJZnJhbWU6ICLQn9C+0LTQs9GA0YPQt9C40YLRjCDQtdGJ0ZEg0YHRgtGA0LDQvdC40YbRgyIsCiAgICAgICAgICAgICAgICBjYW5jZWxGb3JjZUlmcmFtZTogItCe0YLQvNC10L3QuNGC0Ywg0L/QvtC00LPRgNGD0LfQutGDIiwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZTogItCd0LDRgdGC0YDQvtC50LrQuCIsCiAgICAgICAgICAgICAgICBmaXJzdFVwZGF0ZTogItCd0LDQttC80LjRgtC1INC30LTQtdGB0YwsINGH0YLQvtCx0Ysg0LjQvdC40YbQuNCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0L/RgNCw0LLQuNC70LAiLAogICAgICAgICAgICAgICAgdXBkYXRlOiAi0J7QsdC90L7QstC40YLRjCDQv9GA0LDQstC40LvQsCIsCiAgICAgICAgICAgICAgICBjbGljazJ1cGRhdGU6ICLQndCw0LbQvNC40YLQtSwg0YfRgtC+0LHRiyDQvtCx0L3QvtCy0LjRgtGMINC/0YDQsNCy0LjQu9CwIiwKICAgICAgICAgICAgICAgIGxvYWROb3c6ICLQl9Cw0LPRgNGD0LfQuNGC0Ywg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgbG9hZENvbmZpcm06ICLQodC60L7Qu9GM0LrQviDRgdGC0YDQsNC90LjRhiDQstGLINGF0L7RgtC40YLQtSDQt9Cw0LPRgNGD0LfQuNGC0Yw/ICgwINC+0LfQvdCw0YfQsNC10YIg0LHQtdGB0LrQvtC90LXRh9C90L7RgdGC0YwpIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogItCh0YHRi9C70LrQsCDQvdCwINGB0LvQtdC00YPRjtGJ0YPRjiDRgdGC0YDQsNC90LjRhtGDINC90LUg0L3QsNC50LTQtdC90LAuINCf0L7QttCw0LvRg9C50YHRgtCwLCDRgdC+0LfQtNCw0LnRgtC1INC90L7QstC+0LUg0L/RgNCw0LLQuNC70L4iLAogICAgICAgICAgICAgICAgcGFzc1NlYzogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0YHQtdC60YPQvdC0INC90LDQt9Cw0LQiLAogICAgICAgICAgICAgICAgcGFzc01pbjogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0LzQuNC90YPRgiDQvdCw0LfQsNC0IiwKICAgICAgICAgICAgICAgIHBhc3NIb3VyOiAi0J7QsdC90L7QstC70LXQvdC+ICN0IyDRh9Cw0YHQvtCyINC90LDQt9Cw0LQiLAogICAgICAgICAgICAgICAgcGFzc0RheTogItCe0LHQvdC+0LLQu9C10L3QviAjdCMg0LTQvdC10Lkg0L3QsNC30LDQtCIsCiAgICAgICAgICAgICAgICBjYW50RGVsOiAi0J3QtdC70YzQt9GPINGD0LTQsNC70LjRgtGMINC/0YDQsNCy0LjQu9CwINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIiwKICAgICAgICAgICAgICAgIGNvbmZpcm1EZWw6ICLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0YLRgyDRgdGB0YvQu9C60YM/IiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICLQn9GA0LDQstC40LvQsCDQvtCx0L3QvtCy0LvQtdC90YsiLAogICAgICAgICAgICAgICAgYmVnaW5VcGRhdGU6ICLQntCx0L3QvtCy0LvQtdC90LjQtS4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC90LXQvNC90L7Qs9C+INC/0L7QtNC+0LbQtNC40YLQtSIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAi0KHRgdGL0LvQutC4INGBINC/0YDQsNCy0LjQu9Cw0LzQuCDQtNC70Y8g0LjQvNC/0L7RgNGC0LAuINCe0LTQvdCwINGB0YHRi9C70LrQsCDQvdCwINGB0YLRgNC+0LrRgyIsCiAgICAgICAgICAgICAgICBjdXN0b21SdWxlczogItCS0LLQtdC00LjRgtC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNC1INC/0YDQsNCy0LjQu9CwINCyINGE0L7RgNC80LDRgtC1IFBhZ2V0dWFsLiA8YSBocmVmPScjdCMnPtCj0LvRg9GH0YjQuNGC0Ywg0LLRgdGC0YDQvtC10L3QvdGL0LUg0L/RgNCw0LLQuNC70LA8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICLQodC+0YXRgNCw0L3QuNGC0Ywg0L3QsNGB0YLRgNC+0LnQutC4IiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAi0KHQu9C10LTRg9GO0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAg0L/QvtC00LPRgNGD0LbQsNC10YLRgdGP4oCmIiwKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICLQn9GA0L7Qt9GA0LDRh9C90L7RgdGC0YwiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMCAtINGB0LrRgNGL0YLRjCIsCiAgICAgICAgICAgICAgICBoaWRlQmFyOiAi0KHQutGA0YvRgtGMINGA0LDQt9C00LXQu9C40YLQtdC70Ywg0YHRgtGA0LDQvdC40YYiLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogItCh0LrRgNGL0YLRjCwg0L3QviDQvdC1INC+0YHRgtCw0L3QsNCy0LvQuNCy0LDRgtGMIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogItCU0LLQvtC50L3QvtC5INC60LvQuNC6INC90LAg0YHRgtGA0LDQvdC40YbQtSDQtNC70Y8g0LLRi9C60LvRjtGH0LXQvdC40Y8iLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAi0J/RgNCw0LLQuNC70L4g0YHQvtGA0YLQuNGA0L7QstC60Lgg0L/RgNC40LzQtdC90LjRgtGB0Y8g0L/QvtGB0LvQtSDRgdC70LXQtNGD0Y7RidC10LPQviDQvtCx0L3QvtCy0LvQtdC90LjRjyDQv9GA0LDQstC40LsiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogItCQ0LLRgtC+0LfQsNC/0YPRgdC6ICjRgNC10LbQuNC8INGH0LXRgNC90L7Qs9C+INGB0L/QuNGB0LrQsCkiLAogICAgICAgICAgICAgICAgYXV0b0xvYWROdW06ICLQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdGC0YDQsNC90LjRhiDQtNC70Y8g0L/RgNC10LTQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIHR1cm5SYXRlOiAi0J/QvtC00LPRgNGD0LfQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgywg0LrQvtCz0LTQsCDQvtC90LAg0LHRg9C00LXRgiDQsiDjgJBY44CRINGA0LDQtyDQsdC+0LvRjNGI0LUg0LLRi9GB0L7RgtGLINGB0YLRgNCw0L3QuNGG0Ysg0L7RgiDQutC+0L3RhtCwINGB0YLRgNCw0L3QuNGG0YsiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAi0JLQstC10LTQuNGC0LUg0L3QvtC80LXRgCDRgdGC0YDQsNC90LjRhtGLINC00LvRjyDQv9C10YDQtdGF0L7QtNCwIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3Rvcnk6ICLQl9Cw0L/QuNGB0LDRgtGMINC40YHRgtC+0YDQuNGOINC/0L7RgdC70LUg0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0YLRgNCw0L3QuNGGIiwKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnlBZnRlckluc2VydDogItCX0LDQv9C40YHQsNGC0Ywg0LfQsNC/0LjRgdGMINC40YHRgtC+0YDQuNC4INGB0YDQsNC30YMg0L/QvtGB0LvQtSDQstGB0YLQsNCy0LrQuCwg0LjQvdCw0YfQtSDQt9Cw0L/QuNGB0LDRgtGMINC/0L7RgdC70LUg0L/RgNC+0YHQvNC+0YLRgNCwIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAi0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/QtdGA0LXQutC70Y7Rh9Cw0YLRjCBjb250ZW50VmlzaWJpbGl0eSDQtNC70Y8g0L/QvtCy0YvRiNC10L3QuNGPINC/0YDQvtC40LfQstC+0LTQuNGC0LXQu9GM0L3QvtGB0YLQuCDRgNC10L3QtNC10YDQuNC90LPQsCIsCiAgICAgICAgICAgICAgICBpbml0UnVuOiAi0J/QvtC00LPRgNGD0LbQsNGC0Ywg0YHRgtGA0LDQvdC40YbRiyDRgdGA0LDQt9GDINC/0L7RgdC70LUg0L7RgtC60YDRi9GC0LjRjyIsCiAgICAgICAgICAgICAgICBwcmVsb2FkOiAi0J/RgNC10LTQt9Cw0LPRgNGD0LfQutCwINGB0LvQtdC00YPRjtGJ0LXQuSDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGNsaWNrMkltcG9ydFJ1bGU6ICLQndCw0LbQvNC40YLQtSwg0YfRgtC+0LHRiyDQuNC80L/QvtGA0YLQuNGA0L7QstCw0YLRjCDQsdCw0LfQvtCy0YvQtSDQv9GA0LDQstC40LvQsDogIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogItCf0YDQuNGB0L7QtdC00LjQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDINGG0LXQu9C40LrQvtC8PyIsCiAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWI6ICLQntGC0LrRgNGL0YLRjCDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INGB0YHRi9C70LrQuCDQsiDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC1IiwKICAgICAgICAgICAgICAgIGltcG9ydFN1Y2M6ICLQmNC80L/QvtGA0YIg0LfQsNCy0LXRgNGI0LXQvSIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICLQmNC80L/QvtGA0YIiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICLQmNC30LzQtdC90LjRgtGMINC/0YDQsNCy0LjQu9C+INC00LvRjyDRgtC10LrRg9GJ0LXQs9C+INGB0LDQudGC0LAiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogItCY0LfQvNC10L3QuNGC0Ywg0YfQtdGA0L3Ri9C5INGB0L/QuNGB0L7Qui4g0J7QtNC90LAg0YHRgdGL0LvQutCwINC90LAg0YHRgtGA0L7QutGDLiDQn9C+0LTQtNC10YDQttC40LLQsNGO0YLRgdGPINC80LXRgtCw0YHQuNC80LLQvtC70Ys6ID8g0LggKiIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogItCY0LrQvtC90LrQsCDQv9C10YDQtdGF0L7QtNCwINC6INC90LDRh9Cw0LvRgyIsCiAgICAgICAgICAgICAgICBkb3duQnRuSW1nOiAi0JjQutC+0L3QutCwINC/0LXRgNC10YXQvtC00LAg0Log0LrQvtC90YbRgyIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlckljb246ICLQl9C90LDRh9C+0Log0LHQvtC60L7QstC+0Lkg0L/QsNC90LXQu9C4IiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0VGl0bGU6ICLQotC10LrRgdGCINCy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEFsdDogIkFsdCIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BTaGlmdDogIlNoaWZ0IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEtleTogItCa0LvQsNCy0LjRiNCwIiwKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50Q3NzOiAi0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40Lkg0YHRgtC40LvRjCDQtNC70Y8g0L7RgdC90L7QstC90YvRhSDRjdC70LXQvNC10L3RgtC+0LIg0YHRgtGA0LDQvdC40YbRiyIsCiAgICAgICAgICAgICAgICBjdXN0b21Dc3M6ICLQn9C+0LvQvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40LkgQ1NTIiwKICAgICAgICAgICAgICAgIGZpcnN0QWxlcnQ6ICLQktGLINC90LUg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC70Lgg0LHQsNC30L7QstC+0LUg0L/RgNCw0LLQuNC70L4uINCf0L7QttCw0LvRg9C50YHRgtCwLCDQstGL0LHQtdGA0LjRgtC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQtSDQv9GA0LDQstC40LvQviDQtNC70Y8g0LjQvNC/0L7RgNGC0LAiLAogICAgICAgICAgICAgICAgcGlja2VyOiAiUGFnZXR1YWw6INCy0YvQsdC+0YAg0Y3Qu9C10LzQtdC90YLQsCDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGNsb3NlUGlja2VyOiAi0JfQsNC60YDRi9GC0Ywg0L7QutC90L4gUGFnZXR1YWwiLAogICAgICAgICAgICAgICAgcGlja2VyUGxhY2Vob2xkZXI6ICLQldGB0LvQuCDQvdC1INC30L3QsNC10YLQtSwg0YfRgtC+INGC0YPRgiDQv9C40YHQsNGC0Ywg4oCUINC+0YHRgtCw0LLRjNGC0LUg0L/QvtC70LUg0L/Rg9GB0YLRi9C8IiwKICAgICAgICAgICAgICAgIHBpY2tlckNoZWNrOiAi0J/RgNC+0LLQtdGA0LjRgtGMINC4INGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0YHQtdC70LXQutGC0L7RgCIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogItCd0LDQttC80LjRgtC1INC00LvRjyDQstGL0LHQvtGA0LAg0Y3Qu9C10LzQtdC90YLQsCIsCiAgICAgICAgICAgICAgICBnb3RvRWRpdDogItCf0LXRgNC10LnRgtC4INC6INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y4g0L/RgNCw0LLQuNC70LAg0YEg0YLQtdC60YPRidC40Lwg0YHQtdC70LXQutGC0L7RgNC+0LwiLAogICAgICAgICAgICAgICAgbWFudWFsTW9kZTogItCe0YLQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINC30LDQs9GA0YPQt9C60YMg0YHRgtGA0LDQvdC40YYuINCX0LDQs9GA0YPQttCw0YLRjCDQstGA0YPRh9C90YPRjiDRgSDQv9C+0LzQvtGJ0YzRjiDRgdGC0YDQtdC70LrQuCDQstC/0YDQsNCy0L4gKNC40LvQuCDQstGL0LfQvtCy0LAg0YHQvtCx0YvRgtC40Y8gJ3BhZ2V0dWFsLm5leHQnKSIsCiAgICAgICAgICAgICAgICBjbGlja01vZGU6ICLQntGC0LrQu9GO0YfQuNGC0YwgXCLRgdGI0LjQstCw0L3QuNC1XCIg0YHRgtGA0LDQvdC40YYuINCf0YDQuCDQv9GA0L7QutGA0YPRgtC60LUg0LTQviDQutC+0L3RhtCwINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC/0LXRgNC10YXQvtC00LjRgtGMINC90LAg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgcGFnZUJhck1lbnU6ICLQntGC0LrRgNGL0LLQsNGC0Ywg0LzQtdC90Y4g0LrQu9C40LrQvtC8INC90LAg0YHQtdGA0LXQtNC40L3RgyDQv9Cw0L3QtdC70Lgg0YHRgtGA0LDQvdC40YYiLAogICAgICAgICAgICAgICAgbmV4dFN3aXRjaDogItCf0LXRgNC10LrQu9GO0YfQuNGC0Ywg0YHRgdGL0LvQutGDINC90LAg0YHQu9C10LTRg9GO0YnRg9GOINGB0YLRgNCw0L3QuNGG0YMiLAogICAgICAgICAgICAgICAgYXJyb3dUb1Njcm9sbDogItCb0LjRgdGC0LDRgtGMINGB0YLRgNCw0L3QuNGG0Ysg0LrQu9Cw0LLQuNGI0LDQvNC4INGB0L4g0YHRgtGA0LXQu9C60LDQvNC4INCy0LvQtdCy0L4g0Lgg0LLQv9GA0LDQstC+IiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVyOiAi0J/QvtC60LDQt9Cw0YLRjCDRgdC/0YDQsNCy0LAg0L/QsNC90LXQu9GMINC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0L/QviDQstC60LvQsNC00LrQtSIsCiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0ljb246ICLQodC60YDRi9GC0Ywg0LDQvdC40LzQsNGG0LjRjiDQt9Cw0LPRgNGD0LfQutC4IiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogItCh0LrRgNGL0YLRjCDQutC90L7Qv9C60Lgg0L/QtdGA0LXQvNC10YnQtdC90LjRjyDQvdCwINGA0LDQt9C00LXQu9C40YLQtdC70LUiLAogICAgICAgICAgICAgICAgZHVwbGljYXRlOiAi0J/QvtGF0L7QttC1LCBQYWdldHVhbCDRg9GB0YLQsNC90L7QstC70LXQvSDQvdC10YHQutC+0LvRjNC60L4g0YDQsNC3LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPQtNCw0LvQuNGC0LUgUGFnZXR1YWwg0LjQtyDQtNGA0YPQs9C40YUg0LzQtdC90LXQtNC20LXRgNC+0LIg0YHQutGA0LjQv9GC0L7QsiEiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZUlmcmFtZTogItCS0YHRgtCw0LLQuNGC0Ywg0L/QvtC70L3Rg9GOINGB0YLRgNCw0L3QuNGG0YMg0LrQsNC6IGlmcmFtZSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogItCX0LDQs9GA0YPQttCw0YLRjCDQtNC40L3QsNC80LjRh9C10YHQutC40Lkg0LrQvtC90YLQtdC90YIg0YfQtdGA0LXQtyBpZnJhbWUiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZURpc2FibGU6ICLQntGC0LrQu9GO0YfQuNGC0Ywg0L/QtdGA0LXQu9C40YHRgtGL0LLQsNC90LjQtSDRgdGC0YDQsNC90LjRhiDQvdCwINGN0YLQvtC5INGB0YLQsNC90YbQuNC4IiwKICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxSYXRlOiAi0KHQutC+0YDQvtGB0YLRjCDQv9GA0L7QutGA0YPRgtC60LggKDF+MTAwMCkiLAogICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9TY3JvbGw6ICLQntGB0YLQsNC90L7QstC40YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICBlbmFibGVBdXRvU2Nyb2xsOiAi0JLQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICB0b2dnbGVBdXRvU2Nyb2xsOiAi0J/QtdGA0LXQutC70Y7Rh9C40YLRjCDQsNCy0YLQvtC/0YDQvtC60YDRg9GC0LrRgyIsCiAgICAgICAgICAgICAgICBwYWdlOiAi0KHRgtGA0LDQvdC40YbQsCAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICLQn9GA0LXQtNGL0LTRg9GJ0LDRjyDRgdGC0YDQsNC90LjRhtCwIiwKICAgICAgICAgICAgICAgIG5leHRQYWdlOiAi0KHQu9C10LTRg9GO0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAi0J/RgNCw0LLQuNC70LAg0LTQvtC70LbQvdGLINCx0YvRgtGMINC80LDRgdGB0LjQstC+0LwhIiwKICAgICAgICAgICAgICAgIGVycm9ySnNvbjogItCe0YjQuNCx0LrQsCDRgNCw0LfQsdC+0YDQsCBKU09OLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0LjRgdC/0YDQsNCy0YzRgtC1INC10LPQviIsCiAgICAgICAgICAgICAgICBlZGl0U3VjY2VzczogItCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0YPRgdC/0LXRiNC90L4iLAogICAgICAgICAgICAgICAgZXJyb3JXcm9uZ1VybDogItCh0YHRi9C70LrQsCDQvdC10LrQvtGA0YDQtdC60YLQvdCwLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0LjRgdC/0YDQsNCy0YzRgtC1INC10ZEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAi0KPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCISIsCiAgICAgICAgICAgICAgICBzZXR0aW5nc1NhdmVkOiAi0J3QsNGB0YLRgNC+0LnQutC4INGB0L7RhdGA0LDQvdC10L3Riy4g0J7QsdC90L7QstC40YLQtSDRgdGC0YDQsNC90LjRhtGLIiwKICAgICAgICAgICAgICAgIGlmcmFtZTogImlmcmFtZSIsCiAgICAgICAgICAgICAgICBkeW5hbWljOiAi0JTQuNC90LDQvNC40YfQtdGB0LrQuCIsCiAgICAgICAgICAgICAgICByZWxvYWRQYWdlOiAi0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQt9Cw0LLQtdGA0YjQtdC90L4uINCe0LHQvdC+0LLQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgz8iLAogICAgICAgICAgICAgICAgY29waWVkOiAi0KHQutC+0L/QuNGA0L7QstCw0L3QviIsCiAgICAgICAgICAgICAgICBub1ZhbGlkQ29udGVudDogItCU0LXQudGB0YLQstC40YLQtdC70YzQvdGL0Lkg0LrQvtC90YLQtdC90YIg0L3QtSDQvtCx0L3QsNGA0YPQttC10L0sINC90LDQttC80LjRgtC1INC00LvRjyDQv9GA0L7RgdC80L7RgtGA0LAiLAogICAgICAgICAgICAgICAgb3V0T2ZEYXRlOiAi0KHQutGA0LjQv9GCINGD0YHRgtCw0YDQtdC7LCDRgdCy0L7QtdCy0YDQtdC80LXQvdC90L4g0L7QsdC90L7QstC70Y/QudGC0LUg0LTQviDQv9C+0YHQu9C10LTQvdC10Lkg0LLQtdGA0YHQuNC4ISIsCiAgICAgICAgICAgICAgICBoaWRlQmFyVGlwczogItCh0LrRgNGL0YLRjCDQv9Cw0L3QtdC70Ywg0YDQsNC30LHQuNC10L3QuNGPINC90LAg0YHRgtGA0LDQvdC40YbRiywg0LjQvNC80LXRgNGB0LjQstC90YvQuSDQvtC/0YvRgiIsCiAgICAgICAgICAgICAgICBzZXRDb25maWdQYWdlOiAi0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0YLQtdC60YPRidGD0Y4g0YHRgtGA0LDQvdC40YbRgyDQsiDQutCw0YfQtdGB0YLQstC1INGB0YLRgNCw0L3QuNGG0Ysg0LrQvtC90YTQuNCz0YPRgNCw0YbQuNC4INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIiwKICAgICAgICAgICAgICAgIHdlZGF0YTJnaXRodWI6ICLQmNC30LzQtdC90LjRgtGMINCw0LTRgNC10YEgd2VkYXRhINC90LAg0LfQtdGA0LrQsNC70YzQvdGL0Lkg0LDQtNGA0LXRgSDQvdCwINGB0LrQu9Cw0LTQtSBnaXRodWIiLAogICAgICAgICAgICAgICAgYWRkT3RoZXJQcm9wOiAi0JTQvtCx0LDQstC40YLRjCDRgdCy0L7QudGB0YLQstC+INC/0YDQsNCy0LjQu9CwIiwKICAgICAgICAgICAgICAgIGFkZE5leHRTZWxlY3RvcjogItCU0L7QsdCw0LLQuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0YHQtdC70LXQutGC0L7RgNCwINC60LDQuiBuZXh0TGluayIsCiAgICAgICAgICAgICAgICBhZGRQYWdlU2VsZWN0b3I6ICLQlNC+0LHQsNCy0LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INGB0LXQu9C10LrRgtC+0YDQsCDQutCw0LogcGFnZUVsZW1lbnQiLAogICAgICAgICAgICAgICAgcHJvcE5hbWU6ICLQktCy0LXQtNC40YLQtSDQuNC80Y8g0YHQstC+0LnRgdGC0LLQsCDQv9GA0LDQstC40LvQsCIsCiAgICAgICAgICAgICAgICBwcm9wVmFsdWU6ICLQktCy0LXQtNC40YLQtSDQt9C90LDRh9C10L3QuNC1INGB0LLQvtC50YHRgtCy0LAg0L/RgNCw0LLQuNC70LAiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICLQmNCz0L3QvtGA0LjRgNC+0LLQsNGC0Ywg0LrQtdGIINC00LvRjyDQu9C+0LrQsNC70YzQvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC40YUg0L/RgNCw0LLQuNC7IiwKICAgICAgICAgICAgICAgIHJ1bGVzRXhhbXBsZTogItCf0L7QtNGA0L7QsdC90L7QtSDQvtCx0YrRj9GB0L3QtdC90LjQtSDQvdCw0YHRgtGA0LDQuNCy0LDQtdC80YvRhSDQv9GA0LDQstC40LsiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnOiAiRW5hYmxlIGRlYnVnIG91dHB1dCIsCiAgICAgICAgICAgICAgICBkaXNhYmxlOiAiRGlzYWJsZSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZTogIlRvZ2dsZSBkaXNhYmxlZCBzdGF0ZSIsCiAgICAgICAgICAgICAgICBkaXNhYmxlU2l0ZVRpcHM6ICJEaXNhYmxlZCBvbiB0aGlzIHNpdGUiLAogICAgICAgICAgICAgICAgZW5hYmxlU2l0ZVRpcHM6ICJFbmFibGVkIG9uIHRoaXMgc2l0ZSIsCiAgICAgICAgICAgICAgICBlbmFibGU6ICJFbmFibGUiLAogICAgICAgICAgICAgICAgdG9Ub3A6ICJUbyBUb3AiLAogICAgICAgICAgICAgICAgdG9Cb3R0b206ICJUbyBCb3R0b20iLAogICAgICAgICAgICAgICAgY3VycmVudDogIkN1cnJlbnQgUGFnZSIsCiAgICAgICAgICAgICAgICBmb3JjZUlmcmFtZTogIkZvcmNlIHRvIGpvaW4gbmV4dCBwYWdlIiwKICAgICAgICAgICAgICAgIGNhbmNlbEZvcmNlSWZyYW1lOiAiQ2FuY2VsIEZvcmNlIGpvaW4iLAogICAgICAgICAgICAgICAgY29uZmlndXJlOiAiQ29uZmlndXJlIiwKICAgICAgICAgICAgICAgIGZpcnN0VXBkYXRlOiAiQ2xpY2sgaGVyZSB0byBpbml0aWFsaXplIHRoZSBydWxlcyIsCiAgICAgICAgICAgICAgICB1cGRhdGU6ICJVcGRhdGUgb25saW5lIHJ1bGVzIiwKICAgICAgICAgICAgICAgIGNsaWNrMnVwZGF0ZTogIkNsaWNrIHRvIHVwZGF0ZSBydWxlcyBmcm9tIHVybCBub3ciLAogICAgICAgICAgICAgICAgbG9hZE5vdzogIkxvYWQgbmV4dCBwYWdlIG1hbnVhbGx5IiwKICAgICAgICAgICAgICAgIGxvYWRDb25maXJtOiAiSG93IG11Y2ggcGFnZXMgZG8geW91IHdhbnQgdG8gbG9hZD8gKDAgbWVhbnMgaW5maW5pdGUpIiwKICAgICAgICAgICAgICAgIG5vTmV4dDogIk5vIG5leHQgbGluayBmb3VuZCwgcGxlYXNlIGNyZWF0ZSBhIG5ldyBydWxlIiwKICAgICAgICAgICAgICAgIHBhc3NTZWM6ICJVcGRhdGVkICN0IyBzZWNvbmRzIGFnbyIsCiAgICAgICAgICAgICAgICBwYXNzTWluOiAiVXBkYXRlZCAjdCMgbWludXRlcyBhZ28iLAogICAgICAgICAgICAgICAgcGFzc0hvdXI6ICJVcGRhdGVkICN0IyBob3VycyBhZ28iLAogICAgICAgICAgICAgICAgcGFzc0RheTogIlVwZGF0ZWQgI3QjIGRheXMgYWdvIiwKICAgICAgICAgICAgICAgIGNhbnREZWw6ICJDYW4ndCBkZWxldGUgYnVpbGRpbiBydWxlcyIsCiAgICAgICAgICAgICAgICBjb25maXJtRGVsOiAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJ1bGU/IiwKICAgICAgICAgICAgICAgIHVwZGF0ZVN1Y2M6ICJVcGRhdGUgc3VjY2VlZGVkIiwKICAgICAgICAgICAgICAgIGJlZ2luVXBkYXRlOiAiQmVnaW4gdXBkYXRlLCB3YWl0IGEgbWludXRlIHBsZWFzZSIsCiAgICAgICAgICAgICAgICBjdXN0b21VcmxzOiAiSW1wb3J0IFBhZ2V0dWFsIG9yIEF1dG9QYWdlcml6ZSBydWxlIHVybCwgT25lIHVybCBwZXIgbGluZSIsCiAgICAgICAgICAgICAgICBjdXN0b21SdWxlczogIklucHV0IGN1c3RvbSBydWxlcyB3aXRoIFtQYWdldHVhbF0gZm9ybWF0LiA8YSBocmVmPScjdCMnPkNvbnRyaWJ1dGUgcnVsZXM8L2E+IiwKICAgICAgICAgICAgICAgIHNhdmU6ICJTYXZlIiwKICAgICAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAiU2hvam8gTm93IExvYWRpbmcuLi4iLAogICAgICAgICAgICAgICAgb3BhY2l0eTogIk9wYWNpdHkiLAogICAgICAgICAgICAgICAgb3BhY2l0eVBsYWNlaG9sZGVyOiAiMDogaGlkZSBzcGFjZXIiLAogICAgICAgICAgICAgICAgaGlkZUJhcjogIkhpZGUgdGhlIHBhZ2luZyBzcGFjZXIiLAogICAgICAgICAgICAgICAgaGlkZUJhckJ1dE5vU3RvcDogIkhpZGUgYnV0IG5vdCBzdG9wIiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcDogIkRvdWJsZS1jbGljayBvbiB0aGUgYmxhbmsgc3BhY2UgdG8gcGF1c2UiLAogICAgICAgICAgICAgICAgc29ydFRpdGxlOiAiU29ydGluZyB0YWtlcyBlZmZlY3QgYWZ0ZXIgdGhlIG5leHQgcnVsZSB1cGRhdGUiLAogICAgICAgICAgICAgICAgYXV0b1J1bjogIkF1dG8gcnVuIChibGFjayBsaXN0IG1vZGUpIiwKICAgICAgICAgICAgICAgIGF1dG9Mb2FkTnVtOiAiQW1vdW50IGZvciBwcmVsb2FkIHBhZ2VzIiwKICAgICAgICAgICAgICAgIHR1cm5SYXRlOiAiVHVybiB0aGUgbmV4dCBwYWdlIHdoZW4gaXQncyBsZXNzIHRoYW4g44CQWOOAkSB0aW1lcyBwYWdlIGhlaWdodCBmcm9tIHRoZSBmb290ZXIiLAogICAgICAgICAgICAgICAgaW5wdXRQYWdlTnVtOiAiRW50ZXIgcGFnZSBudW1iZXIgdG8ganVtcCIsCiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5OiAiV3JpdGUgaGlzdG9yeSBhZnRlciBwYWdlIHR1cm5pbmciLAogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0OiAiV3JpdGUgaGlzdG9yeSBpbW1lZGlhdGVseSBhZnRlciBzcGxpY2luZywgb3RoZXJ3aXNlIHdyaXRlIGFmdGVyIGJyb3dzaW5nIiwKICAgICAgICAgICAgICAgIGNvbnRlbnRWaXNpYmlsaXR5OiAiQXV0b21hdGljYWxseSBzd2l0Y2ggY29udGVudFZpc2liaWxpdHkgdG8gaW1wcm92ZSByZW5kZXJpbmcgcGVyZm9ybWFuY2UiLAogICAgICAgICAgICAgICAgaW5pdFJ1bjogIlR1cm4gcGFnZXMgaW1tZWRpYXRlbHkgYWZ0ZXIgb3BlbmluZyIsCiAgICAgICAgICAgICAgICBwcmVsb2FkOiAiUHJlbG9hZCBuZXh0IHBhZ2UgZm9yIHNwZWVkaW5nIHVwIiwKICAgICAgICAgICAgICAgIGNsaWNrMkltcG9ydFJ1bGU6ICJDbGljayB0byBpbXBvcnQgYmFzZSBydWxlcyBsaW5rLCB0aGVuIHdhaXQgdW50aWwgdGhlIHVwZGF0ZSBpcyBjb21wbGV0ZTogIiwKICAgICAgICAgICAgICAgIGZvcmNlQWxsQm9keTogIkpvaW4gZnVsbCBib2R5IG9mIHBhZ2U/IiwKICAgICAgICAgICAgICAgIG9wZW5Jbk5ld1RhYjogIk9wZW4gdXJscyBvZiBhZGRpdGlvbnMgaW4gbmV3IHRhYiIsCiAgICAgICAgICAgICAgICBpbXBvcnRTdWNjOiAiSW1wb3J0IGNvbXBsZXRlZCIsCiAgICAgICAgICAgICAgICBpbXBvcnQ6ICJJbXBvcnQiLAogICAgICAgICAgICAgICAgZWRpdEN1cnJlbnQ6ICJFZGl0IHJ1bGUgZm9yIGN1cnJlbnQiLAogICAgICAgICAgICAgICAgZWRpdEJsYWNrbGlzdDogIkVkaXQgdGhlIGJsYWNrbGlzdCB1cmxzLCBsaW5lIGJ5IGxpbmUsIFN1cHBvcnQgPyAqIGZvciB3aWxkY2FyZCIsCiAgICAgICAgICAgICAgICB1cEJ0bkltZzogIkljb24gb2YgYmFjayB0byB0b3AiLAogICAgICAgICAgICAgICAgZG93bkJ0bkltZzogIkljb24gb2YgZ28gdG8gZm9vdGVyIiwKICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVySWNvbjogIkljb24gb2Ygc2lkZWJhciIsCiAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dFRpdGxlOiAiTG9hZGluZyB0ZXh0IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcEN0cmw6ICJDdHJsIGtleSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BBbHQ6ICJBbHQga2V5IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcFNoaWZ0OiAiU2hpZnQga2V5IiwKICAgICAgICAgICAgICAgIGRiQ2xpY2syU3RvcE1ldGE6ICJNZXRhIGtleSIsCiAgICAgICAgICAgICAgICBkYkNsaWNrMlN0b3BLZXk6ICJTaG9ydGN1dCBrZXkiLAogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRDc3M6ICJDdXN0b20gc3R5bGUgZm9yIG1haW4gcGFnZSBlbGVtZW50cyIsCiAgICAgICAgICAgICAgICBjdXN0b21Dc3M6ICJDdXN0b20gY29tcGxldGUgY3NzIiwKICAgICAgICAgICAgICAgIGZpcnN0QWxlcnQ6ICJZb3UgaGF2ZSBub3QgaW1wb3J0ZWQgdGhlIGJhc2UgcnVsZSwgcGxlYXNlIHNlbGVjdCB0aGUgYXBwcm9wcmlhdGUgcnVsZSB0byBpbXBvcnQiLAogICAgICAgICAgICAgICAgcGlja2VyOiAiUGFnZXR1YWwgcGFnZSBlbGVtZW50IHBpY2tlciIsCiAgICAgICAgICAgICAgICBjbG9zZVBpY2tlcjogIkNsb3NlIFBhZ2V0dWFsIHBpY2tlciIsCiAgICAgICAgICAgICAgICBwaWNrZXJQbGFjZWhvbGRlcjogIkVsZW1lbnQgc2VsZWN0b3IsIExlYXZlIGVtcHR5IGlmIHlvdSBoYXZlIG5vIGlkZWEiLAogICAgICAgICAgICAgICAgcGlja2VyQ2hlY2s6ICJDaGVjayBzZWxlY3RvciBhbmQgY29weSIsCiAgICAgICAgICAgICAgICBzd2l0Y2hTZWxlY3RvcjogIkNsaWNrIHRvIHN3aXRjaCBlbGVtZW50IiwKICAgICAgICAgICAgICAgIGdvdG9FZGl0OiAiR28gdG8gZWRpdCBydWxlIHdpdGggY3VycmVudCBzZWxlY3RvciIsCiAgICAgICAgICAgICAgICBtYW51YWxNb2RlOiAiRGlzYWJsZSBzcGxpY2luZywgbWFudWFsbHkgdHVybiBwYWdlcyB3aXRoIHRoZSByaWdodCBhcnJvdyBrZXlzIChvciBkaXNwYXRjaCBldmVudCAncGFnZXR1YWwubmV4dCcpIiwKICAgICAgICAgICAgICAgIGNsaWNrTW9kZTogIkRpc2FibGUgc3BsaWNpbmcsIGF1dG9tYXRpY2FsbHkgY2xpY2sgdGhlIG5leHQgcGFnZSB3aGVuIHNjcm9sbGluZyB0byB0aGUgZW5kIG9mIHRoZSBwYWdlIiwKICAgICAgICAgICAgICAgIHBhZ2VCYXJNZW51OiAiQ2xpY2sgdGhlIG1pZGRsZSBvZiB0aGUgcGFnZSBiYXIgdG8gb3BlbiB0aGUgbWVudSIsCiAgICAgICAgICAgICAgICBuZXh0U3dpdGNoOiAiU3dpdGNoIG5leHQgbGluayIsCiAgICAgICAgICAgICAgICBhcnJvd1RvU2Nyb2xsOiAiUHJlc3MgbGVmdCBhcnJvdyBrZXkgdG8gc2Nyb2xsIHByZXYgYW5kIHJpZ2h0IGFycm93IGtleSB0byBzY3JvbGwgbmV4dCIsCiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlcjogIkRpc3BsYXkgdGhlIHBhZ2luZyBjb250cm9sIGJhciBpbiB0aGUgc2lkZWJhciIsCiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0ljb246ICJIaWRlIGxvYWRpbmcgYW5pbWF0aW9uIiwKICAgICAgICAgICAgICAgIGhpZGVCYXJBcnJvdzogIkhpZGUgYXJyb3cgZm9yIHBhZ2UgYmFyIiwKICAgICAgICAgICAgICAgIGR1cGxpY2F0ZTogIkR1cGxpY2F0ZSBQYWdldHVhbCBoYXZlIGJlZW4gaW5zdGFsbGVkLCBjaGVjayB5b3VyIHNjcmlwdCBtYW5hZ2VyISIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlSWZyYW1lOiAiRW1iZWQgZnVsbCBwYWdlIGFzIGlmcmFtZSIsCiAgICAgICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYzogIkxvYWQgZHluYW1pYyBjb250ZW50IHZpYSBpZnJhbWUiLAogICAgICAgICAgICAgICAgZm9yY2VTdGF0ZURpc2FibGU6ICJEaXNhYmxlIHBhZ2UgdHVybmluZyBvbiB0aGlzIHNpdGUiLAogICAgICAgICAgICAgICAgYXV0b1Njcm9sbFJhdGU6ICJTY3JvbGwgc3BlZWQgKDF+MTAwMCkiLAogICAgICAgICAgICAgICAgZGlzYWJsZUF1dG9TY3JvbGw6ICJTdG9wIEF1dG8gU2Nyb2xsIiwKICAgICAgICAgICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6ICJFbmFibGUgQXV0byBTY3JvbGwiLAogICAgICAgICAgICAgICAgdG9nZ2xlQXV0b1Njcm9sbDogIlRvZ2dsZSBBdXRvIFNjcm9sbCIsCiAgICAgICAgICAgICAgICBwYWdlOiAiUGFnZSAiLAogICAgICAgICAgICAgICAgcHJldlBhZ2U6ICJQcmV2IHBhZ2UiLAogICAgICAgICAgICAgICAgbmV4dFBhZ2U6ICJOZXh0IHBhZ2UiLAogICAgICAgICAgICAgICAgZXJyb3JSdWxlc011c3RCZUFycmF5OiAiUnVsZXMgbXVzdCBiZSBhIEFycmF5ISIsCiAgICAgICAgICAgICAgICBlcnJvckpzb246ICJKU09OIGVycm9yLCBjaGVjayBhZ2FpbiEiLAogICAgICAgICAgICAgICAgZWRpdFN1Y2Nlc3M6ICJFZGl0IHN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICBlcnJvcldyb25nVXJsOiAiV3JvbmcgdXJsLCBjaGVjayBhZ2FpbiEiLAogICAgICAgICAgICAgICAgZXJyb3JBbHJlYWR5RXhpc3RzOiAiQWxyZWFkeSBleGlzdHMhIiwKICAgICAgICAgICAgICAgIHNldHRpbmdzU2F2ZWQ6ICJUaGUgc2V0dGluZ3MgYXJlIHNhdmVkLCByZWZyZXNoIHRvIHZpZXciLAogICAgICAgICAgICAgICAgaWZyYW1lOiAiSWZyYW1lIiwKICAgICAgICAgICAgICAgIGR5bmFtaWM6ICJEeW5hbWljIiwKICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2U6ICJFZGl0IGNvbXBsZXRlZCwgcmVsb2FkIHBhZ2Ugbm93PyIsCiAgICAgICAgICAgICAgICBjb3BpZWQ6ICJDb3BpZWQiLAogICAgICAgICAgICAgICAgbm9WYWxpZENvbnRlbnQ6ICJObyB2YWxpZCBjb250ZW50IGRldGVjdGVkLCBjbGljayB0byB2aWV3IiwKICAgICAgICAgICAgICAgIG91dE9mRGF0ZTogIlRoZSBzY3JpcHQgaXMgb3V0ZGF0ZWQsIHVwZGF0ZSB0byB0aGUgbGF0ZXN0IHZlcnNpb24gaW4gdGltZSEiLAogICAgICAgICAgICAgICAgaGlkZUJhclRpcHM6ICJIaWRlIHRoZSBwYWdpbmF0aW9uIGJhciwgdG9nZ2xlIGltbWVyc2l2ZSBleHBlcmllbmNlIiwKICAgICAgICAgICAgICAgIHNldENvbmZpZ1BhZ2U6ICJTZXQgY3VycmVudCBwYWdlIGFzIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFnZSIsCiAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViOiAiQ2hhbmdlIHRoZSB3ZWRhdGUgYWRkcmVzcyB0byB0aGUgbWlycm9yIGFkZHJlc3MgaW4gdGhlIGdpdGh1YiByZXBvc2l0b3J5IiwKICAgICAgICAgICAgICAgIGFkZE90aGVyUHJvcDogIkFkZCBydWxlIHByb3BlcnR5IiwKICAgICAgICAgICAgICAgIGFkZE5leHRTZWxlY3RvcjogIkFkZCBzZWxlY3RvciBjb250ZW50IGFzIG5leHRMaW5rIiwKICAgICAgICAgICAgICAgIGFkZFBhZ2VTZWxlY3RvcjogIkFkZCBzZWxlY3RvciBjb250ZW50IGFzIHBhZ2VFbGVtZW50IiwKICAgICAgICAgICAgICAgIHByb3BOYW1lOiAiRW50ZXIgcnVsZSBwcm9wZXJ0eSBuYW1lIiwKICAgICAgICAgICAgICAgIHByb3BWYWx1ZTogIkVudGVyIHJ1bGUgcHJvcGVydHkgdmFsdWUiLAogICAgICAgICAgICAgICAgY3VzdG9tRmlyc3Q6ICJJZ25vcmUgY2FjaGUgZm9yIGxvY2FsIGN1c3RvbSBydWxlcyIsCiAgICAgICAgICAgICAgICBydWxlc0V4YW1wbGU6ICJSdWxlcyBFeGFtcGxlIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIHZhciBlbmFibGVEZWJ1ZyA9IHRydWU7CiAgICBmdW5jdGlvbiBpMThuKG5hbWUsIHBhcmFtKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZ1tuYW1lXSA/IGNvbmZpZ1tuYW1lXS5yZXBsYWNlKCIjdCMiLCBwYXJhbSkgOiBuYW1lOwogICAgfTsKCiAgICBmdW5jdGlvbiBkZWJ1ZyhzdHIsIHRpdGxlKSB7CiAgICAgICAgaWYgKGVuYWJsZURlYnVnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgICAgICAgYCVj44CQUGFnZXR1YWwgdi4ke19HTV9pbmZvLnNjcmlwdC52ZXJzaW9ufeOAkSAke3RpdGxlID8gdGl0bGUgOiAnZGVidWcnfTpgLAogICAgICAgICAgICAgICAgJ2NvbG9yOiB5ZWxsb3c7Zm9udC1zaXplOiBsYXJnZTtmb250LXdlaWdodDogYm9sZDtiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTsnLAogICAgICAgICAgICAgICAgc3RyCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgX0dNX3htbGh0dHBSZXF1ZXN0LCBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCwgX0dNX25vdGlmaWNhdGlvbiwgX0dNX2FkZFN0eWxlLCBfR01fb3BlbkluVGFiLCBfR01faW5mbywgX0dNX3NldENsaXBib2FyZDsKICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01feG1saHR0cFJlcXVlc3QgPSBHTV94bWxodHRwUmVxdWVzdDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS54bWxIdHRwUmVxdWVzdCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV94bWxodHRwUmVxdWVzdCA9IEdNLnhtbEh0dHBSZXF1ZXN0OwogICAgfSBlbHNlIHsKICAgICAgICBfR01feG1saHR0cFJlcXVlc3QgPSAoZikgPT4ge2ZldGNoKGYudXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSkudGhlbihkYXRhID0+IHtsZXQgcmVzID0ge3Jlc3BvbnNlOmRhdGF9OyBmLm9ubG9hZChyZXMpfSkuY2F0Y2goZSA9PiBmLm9uZXJyb3IoZSkpfTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5yZWdpc3Rlck1lbnVDb21tYW5kICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQgPSBHTS5yZWdpc3Rlck1lbnVDb21tYW5kOwogICAgfSBlbHNlIHsKICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCA9IChzLCBmKSA9PiB7fTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01faW5mbyAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9pbmZvID0gR01faW5mbzsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5pbmZvICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX2luZm8gPSBHTS5pbmZvOwogICAgfSBlbHNlIHsKICAgICAgICBfR01faW5mbyA9IHtzY3JpcHQ6IHt9fTsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fbm90aWZpY2F0aW9uICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX25vdGlmaWNhdGlvbiA9IEdNX25vdGlmaWNhdGlvbjsKICAgIH0gZWxzZSBpZiAodHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5ub3RpZmljYXRpb24gIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01fbm90aWZpY2F0aW9uID0gR00ubm90aWZpY2F0aW9uOwogICAgfSBlbHNlIHsKICAgICAgICBfR01fbm90aWZpY2F0aW9uID0gKHMpID0+IHtzaG93VGlwcyhzKX07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX29wZW5JblRhYiAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9vcGVuSW5UYWIgPSBHTV9vcGVuSW5UYWI7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00ub3BlbkluVGFiICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX29wZW5JblRhYiA9IEdNLm9wZW5JblRhYjsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX29wZW5JblRhYiA9IChzLHQpID0+IHt3aW5kb3cub3BlbihzKX07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX2FkZFN0eWxlID0gR01fYWRkU3R5bGU7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00uYWRkU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBfR01fYWRkU3R5bGUgPSBHTS5hZGRTdHlsZTsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX2FkZFN0eWxlID0gY3NzU3RyID0+IHsKICAgICAgICAgICAgbGV0IHN0eWxlRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICAgICAgc3R5bGVFbGUuaW5uZXJIVE1MID0gY3NzU3RyOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlKTsKICAgICAgICAgICAgcmV0dXJuIHN0eWxlRWxlOwogICAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZW9mIEdNX3NldENsaXBib2FyZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIF9HTV9zZXRDbGlwYm9hcmQgPSBHTV9zZXRDbGlwYm9hcmQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgR00uc2V0Q2xpcGJvYXJkICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX0dNX3NldENsaXBib2FyZCA9IEdNLnNldENsaXBib2FyZDsKICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX3NldENsaXBib2FyZCA9IChzLCBpKSA9PiB7fTsKICAgIH0KICAgIGNvbnN0IF91bnNhZmVXaW5kb3cgPSAodHlwZW9mIHVuc2FmZVdpbmRvdyA9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bnNhZmVXaW5kb3c7Ly/lhbzlrrkgaW9zIHVzZXJzY3JpcHRzIOeahOWvq+azlQogICAgY29uc3Qgc3RvcmFnZSA9IHsKICAgICAgICBzdXBwb3J0R006IHR5cGVvZiBHTV9nZXRWYWx1ZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBHTV9nZXRWYWx1ZSgnYScsICdiJykgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgc3VwcG9ydEdNUHJvbWlzZTogdHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5nZXRWYWx1ZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBHTS5nZXRWYWx1ZSgnYScsICdiJykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEdNLmdldFZhbHVlKCdhJywgJ2InKS50aGVuID09ICdmdW5jdGlvbicsCiAgICAgICAgc3VwcG9ydENyb3NzU2F2ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1cHBvcnRHTSB8fCB0aGlzLnN1cHBvcnRHTVByb21pc2U7CiAgICAgICAgfSwKICAgICAgICBteEFwcFN0b3JhZ2U6IChmdW5jdGlvbigpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZXh0ZXJuYWwubXhHZXRSdW50aW1lKCkuc3RvcmFnZTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpLAogICAgICAgIG9wZXJhVUpTU3RvcmFnZTogKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5vcGVyYS5zY3JpcHRTdG9yYWdlOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgfQogICAgICAgIH0pKCksCiAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewogICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0R01Qcm9taXNlKSB7CiAgICAgICAgICAgICAgICBHTS5zZXRWYWx1ZShrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gIiIgJiYgdHlwZW9mIEdNICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBHTS5kZWxldGVWYWx1ZSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIEdNLmRlbGV0ZVZhbHVlKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0R00pIHsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKGtleSwgdmFsdWUpOwogICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAiIiAmJiB0eXBlb2YgR01fZGVsZXRlVmFsdWUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZShrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3BlcmFVSlNTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9wZXJhVUpTU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubXhBcHBTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB0aGlzLm14QXBwU3RvcmFnZS5zZXRDb25maWcoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkgewogICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnZXRJdGVtOiBmdW5jdGlvbihrZXksIGNiKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZTsKICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydEdNUHJvbWlzZSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBHTS5nZXRWYWx1ZShrZXkpLnRoZW4odiA9PiB7Y2Iodil9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRHTSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBHTV9nZXRWYWx1ZShrZXkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3BlcmFVSlNTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMub3BlcmFVSlNTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm14QXBwU3RvcmFnZSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm14QXBwU3RvcmFnZS5nZXRDb25maWcoa2V5KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBjYih2YWx1ZSk7CiAgICAgICAgfQogICAgfTsKICAgIHZhciBydWxlc0RhdGEgPSB7dW5pbml0ZWQ6IHRydWV9LCBydWxlVXJscywgdXBkYXRlRGF0ZTsKICAgIGNvbnN0IGNvbmZpZ1BhZ2UgPSBbImh0dHBzOi8vZ2l0aHViLmNvbS9ob290aGluL1VzZXJTY3JpcHRzL3RyZWUvbWFzdGVyL1BhZ2V0dWFsIiwKICAgICAgICAgICAgICAgICAgICAgICJodHRwczovL2hvb3RoaW4uZ2l0aHViLmlvL1VzZXJTY3JpcHRzL1BhZ2V0dWFsLyJdOwogICAgY29uc3QgZ3VpZGVQYWdlID0gL15odHRwcz86XC9cLy4qcGFnZXR1YWwuKnJ1bGVcLmh0bWwvaTsKICAgIGNvbnN0IHJ1bGVJbXBvcnRVcmxSZWcgPSAvZ3JlYXN5Zm9ya1wub3JnXC8uKnNjcmlwdHNcLzQzODY4NChcLVteXC9dKik/KFwvZGlzY3Vzc2lvbnN8XC8/JHxcL2ZlZWRiYWNrKXxnaXRodWJcLmNvbVwvaG9vdGhpblwvVXNlclNjcmlwdHNcLyh0cmVlXC9tYXN0ZXJcL1BhZ2V0dWFsfGlzc3VlcykvaTsKICAgIGNvbnN0IGFsbE9mQm9keSA9ICJib2R5PioiOwogICAgY29uc3QgbWFpblNlbCA9ICJhcnRpY2xlLC5hcnRpY2xlLFtyb2xlPW1haW5dLG1haW4sLm1haW4sI21haW4iOwogICAgY29uc3QgbmV4dFRleHRSZWcxID0gbmV3IFJlZ0V4cCgiXHUwMDVlXHU3ZmZiXHUwMDNmXHUwMDViXHU0ZTBiXHU1NDBlXHU1ZjhjXHU2YjIxXHUwMDVkXHUwMDViXHU0ZTAwXHUzMGZjXHUwMDMxXHUwMDVkXHUwMDNmXHUwMDViXHU5ODc1XHU5ODAxXHU1ZjIwXHU1ZjM1XHUwMDVkXHUwMDdjXHUwMDVlXHUwMDZlXHUwMDY1XHUwMDc4XHUwMDc0XHUwMDViXHUwMDIwXHUwMDVmXHUwMDJkXHUwMDVkXHUwMDNmXHUwMDcwXHUwMDYxXHUwMDY3XHUwMDY1XHUwMDVjXHUwMDczXHUwMDJhXHUwMDViXHUyMDNhXHUwMDNlXHUyMTkyXHUwMGJiXHUwMDVkXHUwMDNmXHUwMDI0XHUwMDdjXHU2YjIxXHUzMDZlXHUzMGRhXHUzMGZjXHUzMGI4XHUwMDdjXHUwMDVlXHU2YjIxXHUzMDc4XHUwMDNmXHUwMDI0XHUwMDdj0JLQv9C10YDQtdC0IiwgImkiKTsKICAgIGNvbnN0IG5leHRUZXh0UmVnMiA9IG5ldyBSZWdFeHAoIlx1MDA1ZVx1MDAyOFx1MDA1Ylx1NGUwYlx1NTQwZVx1NWY4Y1x1NmIyMVx1MDA1ZFx1MDA1Ylx1NGUwMFx1MzBmY1x1MDAzMVx1MDA1ZFx1MDAzZlx1MDA1Ylx1N2FlMFx1OGJkZFx1OGE3MVx1ODI4Mlx1N2JjMFx1NGUyYVx1NTAwYlx1NWU0NVx1MDA1ZFx1MDA3Y1x1MDA2ZVx1MDA2NVx1MDA3OFx1MDA3NFx1MDAyZVx1MDAzZlx1MDA2M1x1MDA2OFx1MDA2MVx1MDA3MFx1MDA3NFx1MDA2NVx1MDA3Mlx1MDAyOVx1MDAyOFx1MDA1Ylx1MDAzYVx1ZmYxYVx1MDA1Y1x1MDA1Y1x1MDAyZFx1MDA1Zlx1MjAxNFx1MDAyMFx1MDA1Y1x1MDA1Y1x1MDAyZVx1MzAwMlx1MDAzZVx1MDAyM1x1MDBiN1x1MDA1Y1x1MDA1Y1x1MDA1Ylx1MzAxMFx1MzAwMVx1ZmYwOFx1MDA1Y1x1MDA1Y1x1MDAyOFx1MDAyZlx1MDAyY1x1ZmYwY1x1ZmYxYlx1MDAzYlx1MDA1ZFx1MDA3Y1x1MDAyNFx1MDAyOSIsICJpIik7CiAgICBjb25zdCBsYXp5SW1nQXR0ciA9IFsiZGF0YS1sYXp5LXNyYyIsICJkYXRhLWxhenkiLCAiZGF0YS11cmwiLCAiZGF0YS1vcmlnLWZpbGUiLCAiem9vbWZpbGUiLCAiZmlsZSIsICJvcmlnaW5hbCIsICJsb2FkLXNyYyIsICJpbWdzcmMiLCAicmVhbF9zcmMiLCAic3JjMiIsICJvcmlnaW4tc3JjIiwgImRhdGEtbGF6eWxvYWQiLCAiZGF0YS1sYXp5bG9hZC1zcmMiLCAiZGF0YS1sYXp5LWxvYWQtc3JjIiwgImRhdGEta3MtbGF6eWxvYWQiLCAiZGF0YS1rcy1sYXp5bG9hZC1jdXN0b20iLCAiZGF0YS1zcmMiLCAiZGF0YS1kZWZlci1zcmMiLCAiZGF0YS1hY3R1YWxzcmMiLCAiZGF0YS1jb3ZlciIsICJkYXRhLW9yaWdpbmFsIiwgImRhdGEtdGh1bWIiLCAiZGF0YS1pbWFnZXVybCIsICJkYXRhLXBsYWNlaG9sZGVyIiwgImxhenlzcmMiXTsKICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oImNvbmZpZ3VyZSIpLCAoKSA9PiB7CiAgICAgICAgX0dNX29wZW5JblRhYihydWxlc0RhdGEuY29uZmlnUGFnZSB8fCBjb25maWdQYWdlWzBdLCB7YWN0aXZlOiB0cnVlfSk7CiAgICB9KTsKICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4oImVkaXRDdXJyZW50IiksICgpID0+IHsKICAgICAgICBwaWNrZXIuc3RhcnQoKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGdldEJvZHkoZG9jKSB7CiAgICAgICAgcmV0dXJuIGRvYy5ib2R5IHx8IGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JykgfHwgZG9jOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRCeVhwYXRoKHhwYXRoLCBkb2MsIGNvbnRleHROb2RlKSB7CiAgICAgICAgZG9jID0gZG9jIHx8IGRvY3VtZW50OwogICAgICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSBkb2MuZXZhbHVhdGUoeHBhdGgsIGNvbnRleHROb2RlLCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQuc2luZ2xlTm9kZVZhbHVlICYmIHJlc3VsdC5zaW5nbGVOb2RlVmFsdWUubm9kZVR5cGUgPT09IDEgJiYgcmVzdWx0LnNpbmdsZU5vZGVWYWx1ZTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZGVidWcoYEludmFsaWQgeHBhdGg6ICR7eHBhdGh9YCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFsbEVsZW1lbnRzQnlYcGF0aCh4cGF0aCwgY29udGV4dE5vZGUsIGRvYykgewogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgICAgICBjb250ZXh0Tm9kZSA9IGNvbnRleHROb2RlIHx8IGRvYzsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gZG9jLmV2YWx1YXRlKHhwYXRoLCBjb250ZXh0Tm9kZSwgbnVsbCwgWFBhdGhSZXN1bHQuT1JERVJFRF9OT0RFX1NOQVBTSE9UX1RZUEUsIG51bGwpOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5LnNuYXBzaG90TGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBub2RlID0gcXVlcnkuc25hcHNob3RJdGVtKGkpOwogICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHJlc3VsdC5wdXNoKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGRlYnVnKGBJbnZhbGlkIHhwYXRoOiAke3hwYXRofWApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGlzWFBhdGgoeHBhdGgpIHsKICAgICAgICBpZiAoIXhwYXRoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIC9eXCgqKGRlc2NlbmRhbnQ6OnxcLlwvfFwvfGlkXCgpLy50ZXN0KHhwYXRoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRBbGxFbGVtZW50cyhzZWwsIGRvYywgY29udGV4dE5vZGUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIWlzWFBhdGgoc2VsKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgZGVidWcoZSwgJ0Vycm9yIHNlbGVjdG9yJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBnZXRBbGxFbGVtZW50c0J5WHBhdGgoc2VsLCBjb250ZXh0Tm9kZSwgZG9jKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRFbGVtZW50KHNlbCwgZG9jLCBjb250ZXh0Tm9kZSwgYnlTb3J0KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFpc1hQYXRoKHNlbCkpIHsKICAgICAgICAgICAgICAgIGlmICghYnlTb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yKHNlbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBzZWxBcnIgPSBzZWwuc3BsaXQoIiwiKTsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbEFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGRvYy5xdWVyeVNlbGVjdG9yKHNlbEFycltpXS50cmltKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZSkgcmV0dXJuIGVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgZGVidWcoZSwgJ0Vycm9yIHNlbGVjdG9yJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBnZXRFbGVtZW50QnlYcGF0aChzZWwsIGRvYywgY29udGV4dE5vZGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdlbmVTZWxlY3RvcihlbGUsIGFkZElEKSB7CiAgICAgICAgbGV0IHNlbGVjdG9yID0gZWxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgLy9Hb29nbGUgaWQgY2xhc3Ppg73mmK/pmqjmqZ/jgILnmb7luqbmm7TpgY7liIbvvIxzdHlsZSBzY3JpcHTpoIbluo/pg73mmK/pmqjmqZ/nmoQKICAgICAgICBpZiAoc2VsZWN0b3IgIT0gImh0bWwiICYmIHNlbGVjdG9yICE9ICJib2R5IikgewogICAgICAgICAgICBsZXQgaGFzSWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGFkZElEICYmIGVsZS5pZCAmJiAvXlthLXpfXVtcd1wtX10qJC9pLnRlc3QoZWxlLmlkKSkgewogICAgICAgICAgICAgICAgaWYgKGVsZS5vd25lckRvY3VtZW50ICYmIGVsZS5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiMiICsgZWxlLmlkKS5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGhhc0lkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICcjJyArIGVsZS5pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWhhc0lkKSB7CiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gIiI7CiAgICAgICAgICAgICAgICBpZiAoZWxlLmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBjbGFzc0xpc3QgPSBlbGUuY2xhc3NMaXN0LCBpID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IGNsYXNzTGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eW1x3XC1fXSskLy50ZXN0KGMpICYmICEvXGR7NCx9Ly50ZXN0KGMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gJy4nICsgYzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciArPSBjbGFzc05hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gZWxlLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBnZW5lU2VsZWN0b3IocGFyZW50LCBhZGRJRCkgKyAnID4gJyArIHNlbGVjdG9yOwogICAgICAgICAgICAgICAgICAgIGlmICghY2xhc3NOYW1lICYmICFoYXNJZCAmJiBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID4gMSAmJiAhL15IVE1MJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaSwgbnRoID0gMCwgYWxsID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbltpXS5ub2RlTmFtZSA9PSBlbGUubm9kZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGwrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuW2ldID09IGVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudGggPSBhbGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudGggPiAwICYmIGFsbCA+IDEpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9IChhbGwgPT0gMSA/ICIiIDogYDpudGgtb2YtdHlwZSgke250aH0pYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWxlY3RvcjsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVYUGF0aEZyb21FbGVtZW50KGVsbSkgewogICAgICAgIGxldCBhbGxOb2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksIHNlZ3M7CiAgICAgICAgZm9yIChzZWdzID0gW107IGVsbSAmJiBlbG0ubm9kZVR5cGUgPT0gMTsgZWxtID0gZWxtLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgaWYgKC9eKEJPRFl8SFRNTCkkL2kudGVzdChlbG0ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbG0uaGFzQXR0cmlidXRlICYmIGVsbS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHsKICAgICAgICAgICAgICAgIHZhciB1bmlxdWVJZENvdW50ID0gMDsKICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYWxsTm9kZXMubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYWxsTm9kZXNbbl0uaGFzQXR0cmlidXRlKCdpZCcpICYmIGFsbE5vZGVzW25dLmlkID09IGVsbS5pZCkgdW5pcXVlSWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgIGlmICh1bmlxdWVJZENvdW50ID4gMSkgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIHVuaXF1ZUlkQ291bnQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHNlZ3MudW5zaGlmdCgnaWQoIicgKyBlbG0uZ2V0QXR0cmlidXRlKCdpZCcpICsgJyIpJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZ3Muam9pbignLycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpICsgJ1tAaWQ9IicgKyBlbG0uZ2V0QXR0cmlidXRlKCdpZCcpICsgJyJdJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxtLmhhc0F0dHJpYnV0ZSAmJiBlbG0uaGFzQXR0cmlidXRlKCdjbGFzcycpKSB7CiAgICAgICAgICAgICAgICBzZWdzLnVuc2hpZnQoZWxtLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpICsgJ1tAY2xhc3M9IicgKyBlbG0uZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyJdJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgaSwgc2liOwogICAgICAgICAgICAgICAgZm9yIChpID0gMSwgc2liID0gZWxtLnByZXZpb3VzU2libGluZzsgc2liOyBzaWIgPSBzaWIucHJldmlvdXNTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpYi5sb2NhbE5hbWUgPT0gZWxtLmxvY2FsTmFtZSkgaSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2Vncy51bnNoaWZ0KGVsbS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSArICdbJyArIGkgKyAnXScpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWdzLmxlbmd0aCA/ICcvJyArIHNlZ3Muam9pbignLycpIDogbnVsbDsKICAgIH0KCiAgICBjb25zdCBlc2NhcGVIVE1MUG9saWN5ID0gKF91bnNhZmVXaW5kb3cudHJ1c3RlZFR5cGVzICYmIF91bnNhZmVXaW5kb3cudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSkgPyBfdW5zYWZlV2luZG93LnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ3BhZ2V0dWFsX2RlZmF1bHQnLCB7CiAgICAgICAgY3JlYXRlSFRNTDogKHN0cmluZywgc2luaykgPT4gc3RyaW5nCiAgICB9KSA6IG51bGw7CgogICAgZnVuY3Rpb24gY3JlYXRlSFRNTChodG1sKSB7CiAgICAgICAgcmV0dXJuIGVzY2FwZUhUTUxQb2xpY3kgPyBlc2NhcGVIVE1MUG9saWN5LmNyZWF0ZUhUTUwoaHRtbCkgOiBodG1sOwogICAgfQoKICAgIGNvbnN0IEFzeW5jRnVuY3Rpb24gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24oKXt9KS5jb25zdHJ1Y3RvcjsKCiAgICBhc3luYyBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgIH0sIHRpbWUpOwogICAgICAgIH0pCiAgICB9CgogICAgY2xhc3MgUnVsZVBhcnNlciB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuaHBSdWxlcyA9IFtdOwogICAgICAgICAgICB0aGlzLnNtYXJ0UnVsZXMgPSBbXTsKICAgICAgICAgICAgdGhpcy5jdXN0b21SdWxlcyA9IFtdOwogICAgICAgICAgICB0aGlzLnJ1bGVzID0gW107CiAgICAgICAgICAgIHRoaXMucGFnZURvYyA9IGRvY3VtZW50OwogICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IG51bGw7CiAgICAgICAgICAgIHRoaXMubmV4dFRpdGxlID0gIiI7CiAgICAgICAgICAgIHRoaXMub2xkVXJsID0gIiI7CiAgICAgICAgICAgIHRoaXMuY3VyVXJsID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZSA9IHt9OwogICAgICAgIH0KCiAgICAgICAgaW5pdFNhdmVkUnVsZXMoY2FsbGJhY2spIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBzdG9yYWdlLmdldEl0ZW0oInNtYXJ0UnVsZXMiLCBzbWFydFJ1bGVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChzbWFydFJ1bGVzKSBzZWxmLnNtYXJ0UnVsZXMgPSBzbWFydFJ1bGVzOwogICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJocFJ1bGVzIiwgaHBSdWxlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhwUnVsZXMpIHNlbGYuaHBSdWxlcyA9IGhwUnVsZXM7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5nZXRJdGVtKCJjdXN0b21SdWxlcyIsIGN1c3RvbVJ1bGVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJ1bGVzKSBzZWxmLmN1c3RvbVJ1bGVzID0gY3VzdG9tUnVsZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgicnVsZXMiLCBydWxlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXMpIHNlbGYucnVsZXMgPSBydWxlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc2F2ZUN1clNpdGVSdWxlKCkgewogICAgICAgICAgICAvKmlmKCF0aGlzLmN1clNpdGVSdWxlIHx8ICF0aGlzLmN1clNpdGVSdWxlLnVybCB8fCB0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCB8fCB0aGlzLmN1clNpdGVSdWxlLnVybC5sZW5ndGg8MTMpcmV0dXJuOwogICAgICAgICAgICB0aGlzLmhwUnVsZXM9dGhpcy5ocFJ1bGVzLmZpbHRlcihpdGVtPT57cmV0dXJuIGl0ZW0mJml0ZW0udXJsIT10aGlzLmN1clNpdGVSdWxlLnVybH0pOwogICAgICAgICAgICB0aGlzLmhwUnVsZXMudW5zaGlmdCh0aGlzLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgaWYodGhpcy5ocFJ1bGVzLmxlbmd0aD4zMCl7CiAgICAgICAgICAgICAgICB0aGlzLmhwUnVsZXMucG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJocFJ1bGVzIiwgdGhpcy5ocFJ1bGVzKTsqLwogICAgICAgIH0KCiAgICAgICAgcmVxdWVzdEpTT04odXJsLCBjYWxsYmFjaykgewogICAgICAgICAgICBfR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXMucmVzcG9uc2UgfHwgcmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUsICdFcnJvciBqc29uJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb24pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmb3JtYXRSdWxlKGl0ZW0sIGZyb20pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSAmJiBpdGVtLmRhdGEudXJsKSB7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgICAgICAgICAgICAgIGFjdGlvbjogaXRlbS5kYXRhLmZvcmNlSWZyYW1lPT0idHJ1ZSI/MTp1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBpdGVtLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiBpdGVtLmRhdGEucGFnZUVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGl0ZW0uZGF0YS5uZXh0TGluaywKICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IGl0ZW0uZGF0YS5pbnNlcnRCZWZvcmV8fHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGl0ZW0udXBkYXRlZF9hdAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxldCBfY3NzID0gKGl0ZW0uZGF0YS5TdHlsdXMgfHwgJycpICsgKGl0ZW0uZGF0YS5DU1MgfHwgJycpOwogICAgICAgICAgICAgICAgaWYgKF9jc3MpIHJlc3VsdC5jc3MgPSBfY3NzOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5ib29rbWFya2xldCkgcmVzdWx0LnBhZ2VBY3Rpb24gPSBpdGVtLmRhdGEuYm9va21hcmtsZXQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaXRlbS5mcm9tID0gZnJvbTsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgYWRkUnVsZUJ5VXJsKHVybCwgZnJvbSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCI/IikgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHVybCA9IHVybCArICI/IiArIERhdGUubm93KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJiIgKyBEYXRlLm5vdygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVxdWVzdEpTT04odXJsLCAoanNvbixlcnIpID0+IHsKICAgICAgICAgICAgICAgIGlmICghanNvbikgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGVyciwgIlVwZGF0ZSAiICsgdXJsICsgIiBydWxlcyBmYWlsISIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRSdWxlcyhqc29uLCBmcm9tKTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb24sIGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYWRkUnVsZXMocnVsZXMsIGZyb20pIHsKICAgICAgICAgICAgaWYgKHJ1bGVzICYmIHJ1bGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IC0xOwogICAgICAgICAgICAgICAgdGhpcy5ydWxlcyA9IHRoaXMucnVsZXMuZmlsdGVyKChpdGVtLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZnJvbSA9PSBmcm9tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCA9PSAtMSkgZmlyc3QgPSBpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoZmlyc3QgPT0gLTEpIGZpcnN0ID0gMDsKICAgICAgICAgICAgICAgIHJ1bGVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGUgPSB0aGlzLmZvcm1hdFJ1bGUoaXRlbSwgZnJvbSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlcy5zcGxpY2UoZmlyc3QsIDAsIHJ1bGUpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJ1bGVNYXRjaFByZShyKSB7CiAgICAgICAgICAgIGlmIChyLmluY2x1ZGUpIHsKICAgICAgICAgICAgICAgIGxldCBpbmNsdWRlOwogICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShyLmluY2x1ZGUpKSB7CiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZSA9IHIuaW5jbHVkZS5ldmVyeSgoc2VsLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGUgPSBnZXRFbGVtZW50KHNlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFlbGU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaW5jbHVkZSA9IGdldEVsZW1lbnQoci5pbmNsdWRlLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBpZiAoIWluY2x1ZGUpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoci5leGNsdWRlKSB7CiAgICAgICAgICAgICAgICBsZXQgZXhjbHVkZTsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoci5leGNsdWRlKSkgewogICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGUgPSAhci5leGNsdWRlLmV2ZXJ5KChzZWwsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGdldEVsZW1lbnQoc2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZWxlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGV4Y2x1ZGUgPSBnZXRFbGVtZW50KHIuZXhjbHVkZSwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGUpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJ1bGVNYXRjaFJlYWR5KHIpIHsKICAgICAgICAgICAgbGV0IGZpbmRJbmRleCA9IDA7CiAgICAgICAgICAgIGlmIChyLm5leHRMaW5rICYmIHIubmV4dExpbmsgIT0gMCkgewogICAgICAgICAgICAgICAgbGV0IG5leHRMaW5rU2VsID0gci5uZXh0TGluaywgbmV4dExpbms7CiAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KG5leHRMaW5rU2VsKSkgewogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rID0gIW5leHRMaW5rU2VsLmV2ZXJ5KChzZWwsIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZSA9IGdldEVsZW1lbnQoc2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUpIGZpbmRJbmRleCA9IGk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZWxlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIG5leHRMaW5rID0gZ2V0RWxlbWVudChuZXh0TGlua1NlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKCFuZXh0TGluaykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyLnBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWwgPSByLnBhZ2VFbGVtZW50LCBwYWdlRWxlbWVudDsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkocGFnZUVsZW1lbnRTZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbFtmaW5kSW5kZXhdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRFbGVtZW50KHBhZ2VFbGVtZW50U2VsLCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGVtZW50KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHIuaW5zZXJ0KSB7CiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0U2VsID0gci5pbnNlcnQsIGluc2VydDsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoaW5zZXJ0U2VsKSkgewogICAgICAgICAgICAgICAgICAgIGluc2VydFNlbCA9IGluc2VydFNlbFtmaW5kSW5kZXhdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5zZXJ0ID0gZ2V0RWxlbWVudChpbnNlcnRTZWwsIGRvY3VtZW50KTsKICAgICAgICAgICAgICAgIGlmICghaW5zZXJ0KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9pZiAoZmluZEluZGV4ICE9PSAwKSBuZXh0SW5kZXggPSBmaW5kSW5kZXg7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcnVsZU1hdGNoKHIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVsZU1hdGNoUHJlKHIpICYmIHRoaXMucnVsZU1hdGNoUmVhZHkocik7CiAgICAgICAgfQoKICAgICAgICBzY3JvbGxUb1Nob3coc2VsLCBkb2MpIHsKICAgICAgICAgICAgbGV0IGV4Y2x1ZGUgPSBnZXRFbGVtZW50KHNlbCwgZG9jKTsKICAgICAgICAgICAgaWYgKGV4Y2x1ZGUpIHsKICAgICAgICAgICAgICAgIHZhciBhY3R1YWxUb3AgPSBleGNsdWRlLm9mZnNldFRvcDsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZXhjbHVkZS5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGFjdHVhbFRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSBNYXRoLm1heChnZXRCb2R5KGRvYykuc2Nyb2xsSGVpZ2h0LCBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gYWN0dWFsVG9wIC0gMTA7CiAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGFjdHVhbFRvcCAtIDEwOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFjdHVhbFRvcCA8IG1heEhlaWdodCkgewogICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxUb3AgKz0gMjAwOwogICAgICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGRvYykuc2Nyb2xsVG9wID0gYWN0dWFsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGFjdHVhbFRvcDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHdhaXRFbGVtZW50KGRvYywgc2VsQXJyKSB7CiAgICAgICAgICAgIGlmICghc2VsQXJyKSBzZWxBcnIgPSB0aGlzLmN1clNpdGVSdWxlLndhaXRFbGVtZW50OwogICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VsQXJyKSkgewogICAgICAgICAgICAgICAgc2VsQXJyID0gW3NlbEFycl07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGluY2x1ZGVTZWwgPSBzZWxBcnJbMF0udHJpbSgpLCBleGNsdWRlU2VsOwogICAgICAgICAgICBpZiAoc2VsQXJyLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gc2VsQXJyWzFdLnRyaW0oKS5yZXBsYWNlKC9eIS8sICcnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlU2VsLmluZGV4T2YoJyEnKSA9PSAwKSB7CiAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gaW5jbHVkZVNlbC5yZXBsYWNlKC9eIS8sICcnKTsKICAgICAgICAgICAgICAgIGluY2x1ZGVTZWwgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaW5jbHVkZVNlbCkgewogICAgICAgICAgICAgICAgbGV0IGluY2x1ZGUgPSBnZXRFbGVtZW50KGluY2x1ZGVTZWwsIGRvYyk7CiAgICAgICAgICAgICAgICBpZiAoIWluY2x1ZGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRvYyA9PT0gZG9jdW1lbnQpIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAoZXhjbHVkZVNlbCkgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbFRvU2hvdyhleGNsdWRlU2VsLCBkb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkaW5nRGl2Lm9mZnNldFBhcmVudCAmJiB0aGlzLmluc2VydC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0RWxlbWVudChsb2FkaW5nRGl2KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZ2V0UnVsZShjYWxsYmFjaykgewogICAgICAgICAgICBpZihub1J1bGVUZXN0KSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlID0ge307CiAgICAgICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlLnVybCA9IGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lOwogICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgPSB0cnVlOwogICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgNTAwKTsKICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUgJiYgdGhpcy5jdXJTaXRlUnVsZS51cmwgJiYgIXRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCh0aGlzLmN1clNpdGVSdWxlLnVybCwgImkiKTsKICAgICAgICAgICAgICAgIGlmICh1cmxSZWcudGVzdChocmVmKSAmJiB0aGlzLnJ1bGVNYXRjaCh0aGlzLmN1clNpdGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLnBvc3NpYmxlUnVsZSkgewogICAgICAgICAgICAgICAgbGV0IHVybFJlZyA9IG5ldyBSZWdFeHAodGhpcy5wb3NzaWJsZVJ1bGUudXJsLCAiaSIpOwogICAgICAgICAgICAgICAgaWYgKHVybFJlZy50ZXN0KGhyZWYpICYmIHRoaXMucnVsZU1hdGNoKHRoaXMucG9zc2libGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyU2l0ZVJ1bGUgPSB0aGlzLnBvc3NpYmxlUnVsZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlID0ge307CiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFJ1bGUocikgewogICAgICAgICAgICAgICAgaWYgKHNlbGYucHJlU2l0ZVJ1bGUpIHsKICAgICAgICAgICAgICAgICAgICBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCA1MDApOwogICAgICAgICAgICAgICAgICAgIGxldCB1cmxSZWcgPSBuZXcgUmVnRXhwKHNlbGYucHJlU2l0ZVJ1bGUudXJsLCAiaSIpOwogICAgICAgICAgICAgICAgICAgIGlmICh1cmxSZWcudGVzdChocmVmKSAmJiBzZWxmLnJ1bGVNYXRjaChzZWxmLnByZVNpdGVSdWxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlID0gc2VsZi5wcmVTaXRlUnVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFyLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgIHNlbGYuaW5zZXJ0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICBzZWxmLnByZVNpdGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICBpZiAoci5lbmFibGUgIT09IDApIGRlYnVnKHIsICdNYXRjaCBydWxlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxmLmN1clNpdGVSdWxlIHx8ICFzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgc2VsZi5jdXJTaXRlUnVsZSA9IHI7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja1J1bGUocikgewogICAgICAgICAgICAgICAgaWYgKHIuZnJvbSA9PSAxICYmIHIudXJsLmxlbmd0aCA8PSAxMykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgbGV0IHVybFJlZyA9IG5ldyBSZWdFeHAoci51cmwsICJpIik7CiAgICAgICAgICAgICAgICBpZiAodXJsUmVnLnRlc3QoaHJlZikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUHJlKHIpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHIudXJsLmxlbmd0aCA+IDE1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucG9zc2libGVSdWxlID0gcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHIud2FpdEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdhaXRUaW1lID0gNTAwOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tSZWFkeSA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi53YWl0RWxlbWVudChkb2N1bWVudCwgci53YWl0RWxlbWVudCkgfHwgIXNlbGYucnVsZU1hdGNoUmVhZHkocikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcGFyc2VJbnQod2FpdFRpbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhyLCAnV2FpdCBmb3IgcnVsZScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHIud2FpdCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2FpdFRpbWUgPSA1MDAsIGNoZWNrRXZhbCwgbWF4Q2hlY2tUaW1lcyA9IDUwOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oci53YWl0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0V2YWwgPSAodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxXYWl0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCcidXNlIHN0cmljdCI7JyArIHIud2FpdCkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsV2FpdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUsICdFcnJvciB3aGVuIGNoZWNrZXZhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSByLndhaXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4Q2hlY2tUaW1lcy0tIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygiV2FpdCBmb3IgcnVsZSByZWFkeSBidXQgZmFpbGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UnVsZShyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUmVhZHkocikgfHwgKGNoZWNrRXZhbCAmJiAhY2hlY2tFdmFsKGRvY3VtZW50KSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcGFyc2VJbnQod2FpdFRpbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWFkeSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhyLCAnV2FpdCBmb3IgcnVsZScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHIucGluVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJ1bGUocik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYucnVsZU1hdGNoUmVhZHkocikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZXRSdWxlKHIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0hwUnVsZXMoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHNlbGYuaHBSdWxlcykgewogICAgICAgICAgICAgICAgICAgIGxldCBydWxlID0gc2VsZi5ocFJ1bGVzW2ldOwogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZSB8fCAhcnVsZS51cmwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrUnVsZShydWxlKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrQ3VzdG9tUnVsZXMoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHNlbGYuY3VzdG9tUnVsZXMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IHNlbGYuY3VzdG9tUnVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlIHx8ICFydWxlLnVybCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrUnVsZShydWxlKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChydWxlc0RhdGEuY3VzdG9tRmlyc3QpIHsKICAgICAgICAgICAgICAgIGlmIChjaGVja0N1c3RvbVJ1bGVzKCkpIHJldHVybjsKICAgICAgICAgICAgICAgIGlmIChjaGVja0hwUnVsZXMoKSkgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrSHBSdWxlcygpKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAoY2hlY2tDdXN0b21SdWxlcygpKSByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLnNtYXJ0UnVsZXMpIHsKICAgICAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5zbWFydFJ1bGVzW2ldOwogICAgICAgICAgICAgICAgaWYgKCFydWxlIHx8ICFydWxlLnVybCkgY29udGludWU7CiAgICAgICAgICAgICAgICBpZiAocnVsZS5zaW5nbGVVcmwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2xlVXJsID0gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZVVybCA9PSBydWxlLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRSdWxlKHJ1bGUpOwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1clNpdGVSdWxlICYmICFzZWxmLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc21hcnRSdWxlcyA9IHNlbGYuc21hcnRSdWxlcy5maWx0ZXIoaXRlbSA9PiB7cmV0dXJuIGl0ZW0gJiYgaXRlbS51cmwgIT0gc2luZ2xlVXJsfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgc2VsZi5zbWFydFJ1bGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jdXJTaXRlUnVsZS51cmwubGVuZ3RoID4gMTMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRUb0hwUnVsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgciA9IDA7CiAgICAgICAgICAgIGZ1bmN0aW9uIHNlYXJjaEJ5VGltZSgpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSByICsgNTA7CiAgICAgICAgICAgICAgICAgICAgZW5kID0gZW5kID4gc2VsZi5ydWxlcy5sZW5ndGggPyBzZWxmLnJ1bGVzLmxlbmd0aCA6IGVuZDsKICAgICAgICAgICAgICAgICAgICBmb3IgKDsgciA8IGVuZDsgcisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBydWxlID0gc2VsZi5ydWxlc1tyXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuZnJvbSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5hdXRvTG9hZE51bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBydWxlLmhpc3Rvcnk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5zaWRlQ29udHJvbGxlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnBhZ2VCYXIgPT0gMCkgZGVsZXRlIHJ1bGUucGFnZUJhcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tSdWxlKHJ1bGUpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPj0gc2VsZi5ydWxlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0UnVsZSh7dXJsOiBsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZSwgc2luZ2xlVXJsOiB0cnVlfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hCeVRpbWUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWFyY2hCeVRpbWUoKTsKICAgICAgICB9CgogICAgICAgIGFkZFRvSHBSdWxlcyhpbnN0ZWFkKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaHBSdWxlcykgdGhpcy5ocFJ1bGVzID0gW107CiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5jdXJTaXRlUnVsZSAmJiB0aGlzLmN1clNpdGVSdWxlLnVybCwgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBsZXQgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgNTAwKTsKICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkUnVsZXMgPSB0aGlzLmhwUnVsZXMuZmlsdGVyKHJ1bGUgPT4gcnVsZSAhPSBzZWxmLmN1clNpdGVSdWxlICYmIG5ldyBSZWdFeHAocnVsZS51cmwsICJpIikudGVzdChocmVmKSAmJiBzZWxmLnJ1bGVNYXRjaChydWxlKSk7CiAgICAgICAgICAgICAgICBpZiAodXJsKSBtYXRjaGVkUnVsZXMucHVzaCh0aGlzLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgICAgIG1hdGNoZWRSdWxlcy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKChhLmluY2x1ZGUgfHwgYS5leGNsdWRlKSAmJiAoIWIuaW5jbHVkZSAmJiAhYi5leGNsdWRlKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYi5pbmNsdWRlIHx8IGIuZXhjbHVkZSkgJiYgKCFhLmluY2x1ZGUgJiYgIWEuZXhjbHVkZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChhLm5leHRMaW5rIHx8IGEucGFnZUVsZW1lbnQpICYmICghYi5uZXh0TGluayAmJiAhYi5wYWdlRWxlbWVudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYi5uZXh0TGluayB8fCBiLnBhZ2VFbGVtZW50KSAmJiAoIWEubmV4dExpbmsgJiYgIWEucGFnZUVsZW1lbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnVybC5sZW5ndGggPiBiLnVybC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGEudXJsLmxlbmd0aCA8IGIudXJsLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5ocFJ1bGVzID0gdGhpcy5ocFJ1bGVzLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAmJiAhbWF0Y2hlZFJ1bGVzLmZpbmQocnVsZSA9PiBpdGVtLnVybCA9PSBydWxlLnVybCAmJiBKU09OLnN0cmluZ2lmeShpdGVtKSA9PSBKU09OLnN0cmluZ2lmeShydWxlKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChpbnN0ZWFkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVybCkgdGhpcy5ocFJ1bGVzLnVuc2hpZnQodGhpcy5jdXJTaXRlUnVsZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaHBSdWxlcyA9IG1hdGNoZWRSdWxlcy5jb25jYXQodGhpcy5ocFJ1bGVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkUnVsZXMgJiYgbWF0Y2hlZFJ1bGVzLmxlbmd0aCkgdGhpcy5jdXJTaXRlUnVsZSA9IG1hdGNoZWRSdWxlc1swXTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmhwUnVsZXMubGVuZ3RoID4gMzApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhwUnVsZXMucG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImhwUnVsZXMiLCB0aGlzLmhwUnVsZXMpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmVwbGFjZUVsZW1lbnQoZG9jKSB7CiAgICAgICAgICAgIGlmICghZG9jIHx8IGRvYyA9PT0gZG9jdW1lbnQpIHJldHVybjsKICAgICAgICAgICAgbGV0IHJlcGxhY2VFbGVtZW50U2VsID0gdGhpcy5jdXJTaXRlUnVsZS5yZXBsYWNlRWxlbWVudDsKICAgICAgICAgICAgaWYgKHJlcGxhY2VFbGVtZW50U2VsKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVwbGFjZUVsZW1lbnRTZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnRTZWwgPSBbcmVwbGFjZUVsZW1lbnRTZWxdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnRTZWwuZm9yRWFjaChzZWwgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlcyA9IGdldEFsbEVsZW1lbnRzKHNlbCwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgICAgIGxldCByZXBsYWNlRWxlcyA9IGdldEFsbEVsZW1lbnRzKHNlbCwgZG9jKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VFbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBsYWNlRWxlID0gcmVwbGFjZUVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlID0gcGFnZUVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlRWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHJlcGxhY2VFbGUuY2xvbmVOb2RlKHRydWUpLCBwYWdlRWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZWZyZXNoQnlDbGljaygpIHsKICAgICAgICAgICAgbGV0IHJlZnJlc2hCeUNsaWNrU2VsID0gdGhpcy5jdXJTaXRlUnVsZS5yZWZyZXNoQnlDbGljazsKICAgICAgICAgICAgaWYgKHJlZnJlc2hCeUNsaWNrU2VsKSB7CiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5yZWZyZXNoaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tFbGVzID0gZ2V0QWxsRWxlbWVudHMocmVmcmVzaEJ5Q2xpY2tTZWwsIGRvY3VtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tFbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrRWxlc1tpXSA9PT0gZS50YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmKSBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBnZXRWYWxpZEhlaWdodChlbGUsIHdpbikgewogICAgICAgICAgICBpZiAoIWVsZS5vZmZzZXRQYXJlbnQpIHJldHVybiAwOwogICAgICAgICAgICBsZXQgaCA9IGVsZS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgIGlmICh3aW4gJiYgd2luLmdldENvbXB1dGVkU3R5bGUoZWxlKS5vdmVyZmxvdyA9PSAiaGlkZGVuIikgewogICAgICAgICAgICAgICAgaCA9IGVsZS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGggPT09IDAgJiYgZWxlLnBhcmVudE5vZGUgJiYgZWxlLnBhcmVudE5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBoID0gZWxlLnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtb3JlQ2hpbGQgPSBlbGUuY2hpbGRyZW5bMF0sIG1pbk9mZnNldFRvcCA9IGg7CiAgICAgICAgICAgIHdoaWxlIChtb3JlQ2hpbGQpIHsKICAgICAgICAgICAgICAgIGlmIChtb3JlQ2hpbGQub2Zmc2V0UGFyZW50ID09IGVsZSAmJiBtb3JlQ2hpbGQub2Zmc2V0VG9wIDwgbWluT2Zmc2V0VG9wKSB7CiAgICAgICAgICAgICAgICAgICAgbWluT2Zmc2V0VG9wID0gbW9yZUNoaWxkLm9mZnNldFRvcDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1vcmVDaGlsZCA9IG1vcmVDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1pbk9mZnNldFRvcCAhPSBoICYmIG1pbk9mZnNldFRvcCA+IDApIHsKICAgICAgICAgICAgICAgIGggLT0gbWluT2Zmc2V0VG9wOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBoOwogICAgICAgIH0KCiAgICAgICAgZ2V0UGFnZUVsZW1lbnQoZG9jLCBjdXJXaW4sIGRvbnRGaW5kKSB7CiAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQgJiYgdGhpcy5kb2NQYWdlRWxlbWVudCkgewogICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuZG9jUGFnZUVsZW1lbnQgJiYgdGhpcy5kb2NQYWdlRWxlbWVudFswXTsKICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgJiYgIS9eQk9EWSQvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgL15CT0RZJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1BhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBwYWdlRWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgbGV0IGJvZHkgPSBnZXRCb2R5KGRvYyk7CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWwgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShwYWdlRWxlbWVudFNlbCkpIHsKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudFNlbCA9IHBhZ2VFbGVtZW50U2VsW25leHRJbmRleCA8IHBhZ2VFbGVtZW50U2VsLmxlbmd0aCA/IG5leHRJbmRleCA6IDBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhwYWdlRWxlbWVudFNlbCwgZG9jKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU2VsTWF0Y2ggPSAvPlxzKlwqJC87CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hpbGQgPSBjaGlsZFNlbE1hdGNoLnRlc3QocGFnZUVsZW1lbnRTZWwpOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRDaGlsZCkgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbC5yZXBsYWNlKGNoaWxkU2VsTWF0Y2gsICIiKTsKICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRTZWxTcGxpdCA9IHBhZ2VFbGVtZW50U2VsLnNwbGl0KCI+Iik7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUocGFnZUVsZW1lbnRTZWxTcGxpdCAmJiBwYWdlRWxlbWVudFNlbFNwbGl0Lmxlbmd0aCA+IDUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWxTcGxpdC5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFNlbCA9IHBhZ2VFbGVtZW50U2VsU3BsaXQuam9pbigiPiIpOwogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKHRlbXBTZWwsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBwYWdlRWxlbWVudC5jaGlsZHJlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSB0ZW1wU2VsICsgKHRhcmdldENoaWxkID8gIj4qIiA6ICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnQgfHwgcGFnZUVsZW1lbnQubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnRTZWwgPSBwYWdlRWxlbWVudFNlbC5yZXBsYWNlKC86bnRoLW9mLXR5cGVcKFxkK1wpL2csICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhwYWdlRWxlbWVudFNlbCwgZG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50LmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50U2VsICsgKHRhcmdldENoaWxkID8gIj4qIiA6ICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggJiYgY3VyV2luICYmIGN1cldpbiAhPSBfdW5zYWZlV2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHBhZ2VFbGVtZW50WzBdLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRpbmcgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj1sb2FkaW5nXScpOwogICAgICAgICAgICAgICAgICAgIGlmIChsb2FkaW5nICYmIGxvYWRpbmcub2Zmc2V0UGFyZW50ICYmIGxvYWRpbmcub2Zmc2V0SGVpZ2h0ID4gcGFyZW50Lm9mZnNldEhlaWdodD4+MikgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPT09IDEgJiYgcGFnZUVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IFtib2R5XTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgJiYgcGFnZUVsZW1lbnQgJiYgcGFnZUVsZW1lbnQubGVuZ3RoID4gMCAmJiAvXlRSJC9pLnRlc3QocGFnZUVsZW1lbnRbMF0ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICBsZXQgbWFpblRyID0gdGhpcy5pbnNlcnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCd0cicpLCBtYWluVGROdW0gPSAwLCBuZXdUZE51bSA9IDA7CiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobWFpblRyLmNoaWxkcmVuLCBlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFREfFRIKSQvaS50ZXN0KGVsLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBtYWluVGROdW0gKz0gZWwuY29sU3BhbiB8fCAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHBhZ2VFbGVtZW50WzBdLmNoaWxkcmVuLCBlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFREfFRIKSQvaS50ZXN0KGVsLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdUZE51bSArPSBlbC5jb2xTcGFuIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAobWFpblRkTnVtICE9IG5ld1RkTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFsbE9mQm9keTsKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IFtib2R5XTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEluc2VydCh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoKHRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsIHx8ICF0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50KSAmJiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSAmJiBjdXJXaW4gJiYgIWRvbnRGaW5kKSB7CiAgICAgICAgICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgbGV0IGJvZHlIZWlnaHQgPSBwYXJzZUludChib2R5Lm9mZnNldEhlaWdodCB8fCBib2R5LnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICBsZXQgY3VySGVpZ2h0ID0gYm9keUhlaWdodCwgY3VyV2lkdGggPSAwOwogICAgICAgICAgICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodMKgfHzCoGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgICAgICAgICAgICBsZXQgbmVlZENoZWNrTmV4dCA9IChkb2MgPT0gZG9jdW1lbnQgJiYgdGhpcy5pbml0TmV4dCksIG5leHRMZWZ0UG9zID0gMDsKICAgICAgICAgICAgICAgIGlmIChuZWVkQ2hlY2tOZXh0ICYmIHRoaXMuaW5pdE5leHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dExlZnRQb3MgPSB0aGlzLmluaXROZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja0VsZW1lbnQoZWxlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFBSRXxDT0RFKSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGdlbmVTZWxlY3RvcihlbGUucGFyZW50Tm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsICdQYWdlIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlbGUucGFyZW50Tm9kZV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4gJiYgZWxlLmNoaWxkcmVuLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoYXNUZXh0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gZWxlLmNoaWxkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGVsZS5jaGlsZE5vZGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMgJiYgY2hpbGQubm9kZVZhbHVlLnRyaW0oKSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1RleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZSA9IGVsZS5jaGlsZHJlblswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckhlaWdodCA9IHNlbGYuZ2V0VmFsaWRIZWlnaHQoZWxlLCBjdXJXaW4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyV2lkdGggPSBwYXJzZUludChlbGUub2Zmc2V0V2lkdGggfHwgZWxlLnNjcm9sbFdpZHRoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoL15QSUNUVVJFJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSB8fCAhZWxlLmlubmVyVGV4dCB8fCBlbGUuaW5uZXJUZXh0LnRyaW0oKSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gZ2VuZVNlbGVjdG9yKGVsZS5wYXJlbnROb2RlKSArICI+IiArIGVsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZWxlXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckhlaWdodCAvIGJvZHlIZWlnaHQgPD0gMC4yMikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJ0aWNsZSA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKG1haW5TZWwpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJ0aWNsZSAmJiBhcnRpY2xlLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlID0gYXJ0aWNsZVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBhcnRpY2xlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKyAoYXJ0aWNsZS5pZCA/ICIjIiArIGFydGljbGUuaWQgOiAiIikgKyAoYXJ0aWNsZS5jbGFzc05hbWUgPyAiLiIgKyBhcnRpY2xlLmNsYXNzTmFtZS5yZXBsYWNlKC8gL2csICIuIikgOiAiIikgKyAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCwgJ1BhZ2UgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFydGljbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFsbE9mQm9keTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCwgJ1BhZ2UgZWxlbWVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2JvZHldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoL15GT1JNJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSAmJiBlbGUucGFyZW50Tm9kZSAhPSBnZXRCb2R5KGRvY3VtZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gZ2VuZVNlbGVjdG9yKGVsZSkgKyAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiYgIXNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eUCQvaS50ZXN0KGVsZS5wYXJlbnROb2RlLm5vZGVOYW1lKSkgZWxlID0gZWxlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBnZW5lU2VsZWN0b3IoZWxlLnBhcmVudE5vZGUpICsgIj4iICsgZWxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsICdQYWdlIGVsZW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEVsZW1lbnRzKHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQsIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBpLCBtaW5IZWlnaHQgPSBjdXJIZWlnaHQgKiAwLjUyLCBjdXJNYXhFbGUgPSBudWxsLCBjdXJNYXhBcmVhID0gMCwgbWluV2lkdGggPSBNYXRoLm1pbihjdXJXaWR0aCAqIDAuMzgsIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlzSG9yaSwgcHJlT2Zmc2V0VG9wID0gLTE7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFydGljbGVOdW0gPSAwOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGUgPSBlbGUuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXihDQU5WQVN8TkFWKSQvaS50ZXN0KGN1ck5vZGUubm9kZU5hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJOb2RlLm9mZnNldFBhcmVudCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghL15JTUckL2kudGVzdChjdXJOb2RlLm5vZGVOYW1lKSAmJiBjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpID09IG51bGwgJiYgL15ccyokLy50ZXN0KGN1ck5vZGUuaW5uZXJUZXh0KSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkQ2hlY2tOZXh0ICYmICFjdXJOb2RlLmNvbnRhaW5zKHNlbGYuaW5pdE5leHQpICYmIGdldEVsZW1lbnRUb3AoY3VyTm9kZSkgPiB3aW5kb3dIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXkFSVElDTEUkL2kudGVzdChjdXJOb2RlLm5vZGVOYW1lKSkgYXJ0aWNsZU51bSsrOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaCA9IHNlbGYuZ2V0VmFsaWRIZWlnaHQoY3VyTm9kZSwgY3VyV2luKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSBjdXJOb2RlLnNjcm9sbFdpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaCkgfHwgaXNOYU4odykpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpc0hvcmkgPSBNYXRoLmFicyhwcmVPZmZzZXRUb3AgLSBjdXJOb2RlLm9mZnNldFRvcCkgPD0gMjAgPyB0cnVlIDogKHByZU9mZnNldFRvcCA9PSAtMSAmJiBjdXJOb2RlLm5leHRFbGVtZW50U2libGluZyAmJiBjdXJOb2RlLm5leHRFbGVtZW50U2libGluZy5vZmZzZXRUb3AgPT0gY3VyTm9kZS5vZmZzZXRUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpICYmIGggPD0gNTApIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpICYmIG5leHRMZWZ0UG9zICYmIGN1ck1heEVsZSAmJiBjdXJXaWR0aCA+IDUwMCAmJiBjdXJIZWlnaHQgPiA1MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJSZWN0ID0gY3VyTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJSZWN0LmxlZnQgPD0gbmV4dExlZnRQb3MgJiYgY3VyUmVjdC5yaWdodCA+IG5leHRMZWZ0UG9zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBoICogdywgbW9yZUNoaWxkID0gY3VyTm9kZS5jaGlsZHJlblswXTsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1vcmVDaGlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoID0gc2VsZi5nZXRWYWxpZEhlaWdodChtb3JlQ2hpbGQsIGN1cldpbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3cgPSBtb3JlQ2hpbGQuc2Nyb2xsV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA8IGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGNoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vcmVDaGlsZC5pbm5lclRleHQgIT0gIiIgJiYgY2ggJiYgY3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhICs9IGNoICogY3c7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JlQ2hpbGQgPSBtb3JlQ2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc01heCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIb3JpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTWF4RWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cldpZHRoIDwgdykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01heCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJXaWR0aCA8IHcgKyAzMDAgJiYgY3VyTWF4QXJlYSA8IGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUgJiYgY3VyTWF4RWxlLm9mZnNldFBhcmVudCA9PSBjdXJOb2RlLm9mZnNldFBhcmVudCAmJiBjdXJNYXhFbGUub2Zmc2V0VG9wID09IGN1ck5vZGUub2Zmc2V0VG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1heEFyZWEgKiAyID4gYSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01heCA9IGN1ck1heEFyZWEgPCBhOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUgPT0gbnVsbCB8fCBpc01heCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSG9yaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgbWluV2lkdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGggPCBtaW5IZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5lZWRDaGVja05leHQgfHwgaCA8ICh3aW5kb3dIZWlnaHQ+PjIpIHx8ICFlbGUuY29udGFpbnMoc2VsZi5pbml0TmV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySGVpZ2h0ID0gaDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck1heEFyZWEgPSBhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyV2lkdGggPSB3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTWF4RWxlID0gY3VyTm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZU9mZnNldFRvcCA9IGN1ck5vZGUub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJNYXhFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbWVDbGFzc051bSA9IDAsIGhhc0RpZmZlcmVudCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTWF4RWxlLmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgZWxlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGUgPSBlbGUuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1heEVsZSAhPSBjdXJOb2RlICYmIGN1ck5vZGUuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIGN1ck1heEVsZS5jbGFzc05hbWUgPT0gY3VyTm9kZS5jbGFzc05hbWUgJiYgY3VyTWF4RWxlLm5vZGVOYW1lID09IGN1ck5vZGUubm9kZU5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1lQ2xhc3NOdW0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ck1heEVsZS5jbGFzc05hbWUgIT0gY3VyTm9kZS5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRGlmZmVyZW50ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhbWVDbGFzc051bSA8IDIgfHwgKHNhbWVDbGFzc051bSA8IDUgJiYgaGFzRGlmZmVyZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrRWxlbWVudChjdXJNYXhFbGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGUucGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGggPT0gMSAmJiBjdXJXaW4uZ2V0Q29tcHV0ZWRTdHlsZShlbGUucGFyZW50Tm9kZSkuZmxvYXQgPT0gJ25vbmUnKSBlbGUgPSBlbGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXihQfEJSfFREKSQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIGVsZSA9IGVsZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eVEJPRFkkL2kudGVzdChlbGUubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBnZW5lU2VsZWN0b3IoZWxlKSArICI+KiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiBlbGUuY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigidGgiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiOm5vdCg6Zmlyc3QtY2hpbGQpIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBpbWdzID0gZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbWdzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSBpbWdzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLm9mZnNldFdpZHRoID4gZWxlLm9mZnNldFdpZHRoIC8gMyAqIDIgJiYgaW1nLm9mZnNldEhlaWdodCA+IGVsZS5vZmZzZXRIZWlnaHQgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBpbWc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGdlbmVTZWxlY3RvcihlbGUpOwogICAgICAgICAgICAgICAgICAgIGxldCBwZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChlbGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFTdHlsZSA9IGN1cldpbi5nZXRDb21wdXRlZFN0eWxlKGVsZS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhRGlzcGxheSA9IHBhU3R5bGUuZGlzcGxheTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhT3ZlcmZsb3cgPSBwYVN0eWxlLm92ZXJmbG93OwogICAgICAgICAgICAgICAgICAgICAgICBwZiA9IHBhRGlzcGxheS5pbmRleE9mKCdmbGV4JykgIT09IC0xIHx8IHBhRGlzcGxheS5pbmRleE9mKCdncmlkJykgIT09IC0xIHx8IHBhT3ZlcmZsb3cgPT0gImhpZGRlbiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBjdXJTdHlsZSA9IGN1cldpbi5nZXRDb21wdXRlZFN0eWxlKGVsZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5jaGlsZHJlbi5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnRpY2xlTnVtID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiPmFydGljbGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gZWxlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc1RleHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gZWxlLmNoaWxkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSBlbGUuY2hpbGROb2Rlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMyAmJiBjaGlsZC5ub2RlVmFsdWUudHJpbSgpICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNUZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncmlkQXJlYSA9IGN1clN0eWxlLmdyaWRBcmVhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQXJlYSAmJiBncmlkQXJlYSAhPSAiYXV0byAvIGF1dG8gLyBhdXRvIC8gYXV0byIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCArPSAiPioiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pZGRsZUNoaWxkID0gZWxlLmNoaWxkcmVuW3BhcnNlSW50KGVsZS5jaGlsZHJlbi5sZW5ndGggLyAyKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTdHlsZS5kaXNwbGF5ID09PSAnZmxleCcgfHwgKHJ1bGVzRGF0YS5vcGFjaXR5ICE9IDAgJiYgIXBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKG1pZGRsZUNoaWxkLnN0eWxlICYmIG1pZGRsZUNoaWxkLnN0eWxlLnBvc2l0aW9uID09PSAiYWJzb2x1dGUiICYmIG1pZGRsZUNoaWxkLnN0eWxlLmxlZnQgJiYgbWlkZGxlQ2hpbGQuc3R5bGUudG9wKSB8fCAvXlVMJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSB8fCBjdXJIZWlnaHQgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gW2VsZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ICs9ICI+KiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUgPSBlbGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBmIHx8IGN1clN0eWxlLnBvc2l0aW9uID09PSAiYWJzb2x1dGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgKz0gIj4qIjsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlID0gZWxlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZSA9IFtlbGVdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhzZWxmLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50LCAnUGFnZSBlbGVtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50ID0gY2hlY2tFbGVtZW50KGJvZHkpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50ICYmIHBhZ2VFbGVtZW50Lmxlbmd0aCA+IDAgJiYgc2VsZi5pbml0TmV4dCkgewogICAgICAgICAgICAgICAgICAgIGxldCBsYXN0Qm90dG9tID0gZ2V0RWxlbWVudEJvdHRvbShwYWdlRWxlbWVudFtwYWdlRWxlbWVudC5sZW5ndGggLSAxXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCb3R0b20gJiYgZ2V0RWxlbWVudFRvcChzZWxmLmluaXROZXh0KSAtIGxhc3RCb3R0b20gPiAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIHRvbyBsb25nIGJldHdlZW4gbmV4dCAmIHBhZ2UgZWxlbWVudCIpOwogICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1lbnQubGVuZ3RoID09IDEgJiYgL15JTUckL2kudGVzdChwYWdlRWxlbWVudFswXS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUJhciA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL2lmKHBhZ2VFbGVtZW50KXRoaXMuc2F2ZUN1clNpdGVSdWxlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkb2MgIT09IGRvY3VtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLnNldFBhZ2VFbGVtZW50Q3NzKHBhZ2VFbGVtZW50KTsKICAgICAgICAgICAgICAgIHRoaXMubGF6eUltZ0FjdGlvbihwYWdlRWxlbWVudCk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckVsZXMoZG9jLCBwYWdlRWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jUGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFnZUVsZW1lbnRDc3MocGFnZUVsZW1lbnQsIHRydWUpOwogICAgICAgICAgICAgICAgdGhpcy5kb2NQYWdlRWxlbWVudCA9IHBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJFbGVzKGRvYywgcGFnZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dExpbmtIcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWIocGFnZUVsZW1lbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiBwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RWxlID0gcGFnZUVsZW1lbnQubGVuZ3RoID4gMSA/IHBhZ2VFbGVtZW50WzBdLnBhcmVudE5vZGUgOiBwYWdlRWxlbWVudFswXTsKICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IHRhcmdldEVsZS5xdWVyeVNlbGVjdG9yKCJ2aWRlbyxpZnJhbWVbaWQqPXBsYXldLFtpZCo9cGxheV0+aWZyYW1lLGlmcmFtZVtzcmMqPXBsYXllcl0saWZyYW1lW3NyYyo9bTN1OF0iKTsKICAgICAgICAgICAgICAgIGlmICh2aWRlbyAmJiBkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW8ub2Zmc2V0UGFyZW50ICYmIHZpZGVvLm5hbWUgIT0gJ3BhZ2V0dWFsLWlmcmFtZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFdpZHRoID0gdmlkZW8uc2Nyb2xsV2lkdGggfHwgdmlkZW8ub2Zmc2V0V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSB2aWRlby5zY3JvbGxIZWlnaHQgfHwgdmlkZW8ub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL0lGUkFNRS9pLnRlc3QodmlkZW8ubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsV2lkdGggPiAxMDAgJiYgc2Nyb2xsSGVpZ2h0ID4gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aMKgfHzCoGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHTCoHx8wqBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbFdpZHRoID4gd2luV2lkdGg+PjEgJiYgc2Nyb2xsSGVpZ2h0ID4gd2luSGVpZ2h0Pj4xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoIkRpc2FibGUgd2hlbiBsYXJnZSBtZWRpYSBmb3VuZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHZpZGVvKSB7CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckFkZGVkRWxlbWVudHMoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcGFnZUVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICBjaGFuZ2VWaXNpYmlsaXR5KCkgewogICAgICAgICAgICBsZXQgY29udGVudFZpc2liaWxpdHkgPSB0aGlzLmN1clNpdGVSdWxlLmNvbnRlbnRWaXNpYmlsaXR5IHx8IHJ1bGVzRGF0YS5jb250ZW50VmlzaWJpbGl0eTsKICAgICAgICAgICAgaWYgKCFjb250ZW50VmlzaWJpbGl0eSkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIXRoaXMuY2hhbmdpbmdWaXNpYmlsaXR5KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jaGFuZ2VWaXNpYmlsaXR5VGltZXIpOwogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWaXNpYmlsaXR5VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5naW5nVmlzaWJpbGl0eSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWaXNpYmlsaXR5KCk7CiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY2hhbmdpbmdWaXNpYmlsaXR5ID0gZmFsc2U7CiAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmlsaXR5SXRlbXMgfHwgIXRoaXMudmlzaWJpbGl0eUl0ZW1zLmxlbmd0aCB8fCB0aGlzLnZpc2libGVJbmRleCA8IDApIHJldHVybjsKICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IHRoaXMudmlzaWJsZUluZGV4LCBmaW5kVmlzaWJsZSA9IGZhbHNlLCBsYXN0VmlzaWJsZSA9IDA7CiAgICAgICAgICAgIGxldCB2aWV3UG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGdldEJvZHkoZG9jdW1lbnQpLmNsaWVudEhlaWdodDsKICAgICAgICAgICAgbGV0IGNoZWNrSXRlbSA9IHRoaXMudmlzaWJpbGl0eUl0ZW1zW3RlbXBJbmRleF07CiAgICAgICAgICAgIHdoaWxlKGNoZWNrSXRlbSkgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrSXRlbS5vZmZzZXRQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrSXRlbS5zdHlsZS5jb250YWluSW50cmluc2ljU2l6ZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGxldCBjbGllbnRSZWN0ID0gY2hlY2tJdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGxldCB0b3AgPSBjbGllbnRSZWN0ICYmIGNsaWVudFJlY3QudG9wOwogICAgICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSBjbGllbnRSZWN0ICYmIGNsaWVudFJlY3QuYm90dG9tOwogICAgICAgICAgICAgICAgICAgIGlmIChib3R0b20gPiAwICYmIHRvcCA8IHZpZXdQb3J0SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZFZpc2libGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlID0gdGVtcEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSXRlbS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9wIDwgdmlld1BvcnRIZWlnaHQgJiYgY2hlY2tJdGVtLnN0eWxlLmNvbnRlbnRWaXNpYmlsaXR5ID09ICJhdXRvIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjaGVja0l0ZW0uc3R5bGUuY29udGVudFZpc2liaWxpdHkgPSAiYXV0byI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRlbXBJbmRleCA9PSAwKSBicmVhazsKICAgICAgICAgICAgICAgIHRlbXBJbmRleC0tOwogICAgICAgICAgICAgICAgY2hlY2tJdGVtID0gdGhpcy52aXNpYmlsaXR5SXRlbXNbdGVtcEluZGV4XTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZW1wSW5kZXggPSB0aGlzLnZpc2libGVJbmRleCArIDE7CiAgICAgICAgICAgIGlmIChmaW5kVmlzaWJsZSkgewogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlSW5kZXggPSBsYXN0VmlzaWJsZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjaGVja0l0ZW0gPSB0aGlzLnZpc2liaWxpdHlJdGVtc1t0ZW1wSW5kZXhdOwogICAgICAgICAgICB3aGlsZShjaGVja0l0ZW0pIHsKICAgICAgICAgICAgICAgIGlmIChjaGVja0l0ZW0ub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja0l0ZW0uc3R5bGUuY29udGFpbkludHJpbnNpY1NpemUpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBsZXQgY2xpZW50UmVjdCA9IGNoZWNrSXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gY2xpZW50UmVjdCAmJiBjbGllbnRSZWN0LnRvcDsKICAgICAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gY2xpZW50UmVjdCAmJiBjbGllbnRSZWN0LmJvdHRvbTsKICAgICAgICAgICAgICAgICAgICBpZiAoYm90dG9tID4gMCAmJiB0b3AgPCB2aWV3UG9ydEhlaWdodCkgewogICAgICAgICAgICAgICAgICAgICAgICBmaW5kVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlID0gdGVtcEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0l0ZW0uc3R5bGUuY29udGVudFZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmRWaXNpYmxlICYmIGNoZWNrSXRlbS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9PSAiYXV0byIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2hlY2tJdGVtLnN0eWxlLmNvbnRlbnRWaXNpYmlsaXR5ID0gImF1dG8iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0ZW1wSW5kZXggPT0gdGhpcy52aXNpYmlsaXR5SXRlbXMubGVuZ3RoIC0gMSkgYnJlYWs7CiAgICAgICAgICAgICAgICB0ZW1wSW5kZXgrKzsKICAgICAgICAgICAgICAgIGNoZWNrSXRlbSA9IHRoaXMudmlzaWJpbGl0eUl0ZW1zW3RlbXBJbmRleF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGZpbmRWaXNpYmxlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVJbmRleCA9IGxhc3RWaXNpYmxlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzZXRQYWdlRWxlbWVudENzcyhwYWdlRWxlbWVudCwgaW5pdCkgewogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwYWdlRWxlbWVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUVsZW1lbnRDc3MgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50Q3NzIHx8IHJ1bGVzRGF0YS5wYWdlRWxlbWVudENzczsKICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnRDc3MgJiYgaW5pdCAmJiAhdGhpcy5uZXh0TGlua0hyZWYpIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCBjb250ZW50VmlzaWJpbGl0eSA9IHRoaXMuY3VyU2l0ZVJ1bGUuY29udGVudFZpc2liaWxpdHkgfHwgcnVsZXNEYXRhLmNvbnRlbnRWaXNpYmlsaXR5OwogICAgICAgICAgICAgICAgaWYgKCFjb250ZW50VmlzaWJpbGl0eSAmJiAhcGFnZUVsZW1lbnRDc3MpIHJldHVybjsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChwYWdlRWxlbWVudCwgKGVsZSwgaSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghL0xJTkt8TUVUQXxTVFlMRXxTQ1JJUFQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50Q3NzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1lbnRDc3MgIT09ICcwJyAmJiAhZWxlLmRhdGFzZXQucGFnZXR1YWxQYWdlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ID0gKGVsZS5zdHlsZS5jc3NUZXh0IHx8ICcnKSArIHBhZ2VFbGVtZW50Q3NzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5kYXRhc2V0LnBhZ2V0dWFsUGFnZUVsZW1lbnQgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VmlzaWJpbGl0eSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnN0eWxlLmNvbnRhaW5JbnRyaW5zaWNTaXplID0gYGF1dG8gJHtlbGUub2Zmc2V0SGVpZ2h0IHx8IHNlbGYucHJlVmlzaWJsZUhlaWdodCB8fCAxMDB9cHhgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5zdHlsZS5jb250YWluSW50cmluc2ljU2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUub2Zmc2V0SGVpZ2h0KSBzZWxmLnByZVZpc2libGVIZWlnaHQgPSBlbGUub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52aXNpYmlsaXR5SXRlbXMucHVzaChlbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnZpc2libGVJbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5jb250ZW50VmlzaWJpbGl0eSA9IGVtdUlmcmFtZSA/ICJ2aXNpYmxlIiA6ICJhdXRvIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xlYXJBZGRlZEVsZW1lbnRzKCkgewogICAgICAgICAgICBpZiAodGhpcy5hZGRlZEVsZVBvb2wgJiYgdGhpcy5hZGRlZEVsZVBvb2wubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFkZGVkRWxlUG9vbC5mb3JFYWNoKGVsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5wYXJlbnROb2RlKSBlbGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hZGRlZEVsZVBvb2wgPSBbXTsKICAgICAgICAgICAgc2lkZUNvbnRyb2xsZXIucmVtb3ZlKCk7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBnZXRQYWdlKGRvYykgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdkaXNjb3Vyc2UnKSAhPSAtMSkgcmV0dXJuIHt9OwogICAgICAgICAgICBsZXQgYm9keSA9IGdldEJvZHkoZG9jKTsKICAgICAgICAgICAgbGV0IGNhblNhdmUgPSBmYWxzZTsvL+eZvOePvumggeeivOmBuOaTh+WZqOWcqOWFtuS7lumggeWwjeS4jeS4iu+8jOmChOaYr+WIpeS/neWtmOS6hgogICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5jdXJVcmwuc2xpY2UoMCwgMjUwKS5yZXBsYWNlKCJpbmRleC5waHA/IiwgIj8iKTsKICAgICAgICAgICAgbGV0IF91cmwgPSB1cmwucmVwbGFjZSgvXC5zP2h0bWw/JC9pLCAiIikudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgbGV0IHBhZ2VOdW0gPSAxLCBwcmVTdHIgPSAiIiwgYWZ0ZXJTdHIgPSAiIjsKICAgICAgICAgICAgbGV0IHBhZ2VUd29SZWcgPSAvXltcL1w/Jl0/W18tXT8ocHxwYWdlKT89P1wvPzIoXC9bXlwvXSokfFw/fCZ8JCkvaTsKICAgICAgICAgICAgbGV0IHBhZ2VNYXRjaDEgPSB1cmwubWF0Y2goLyguKltcPyZdcCg/OmFnZSk/PSkoXGQrKSgkfFsjJl0uKikvaSk7CiAgICAgICAgICAgIGxldCBkb3VidFRleHRSZWcgPSAvXlxzKijCu3w+PilccyokLzsKICAgICAgICAgICAgaWYgKHBhZ2VNYXRjaDEpIHsKICAgICAgICAgICAgICAgIHByZVN0ciA9IHBhZ2VNYXRjaDFbMV07CiAgICAgICAgICAgICAgICBwYWdlTnVtID0gcGFyc2VJbnQocGFnZU1hdGNoMVsyXSk7CiAgICAgICAgICAgICAgICBhZnRlclN0ciA9IHBhZ2VNYXRjaDFbM107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgcGFnZU1hdGNoMiA9IHVybC5tYXRjaCgvKC4qW2EtelwvXC1fXSg/OnB8cGFnZSk/XC8/KShcZCspKFwucz9odG1sPyR8XC8/JCkvaSk7CiAgICAgICAgICAgICAgICBpZiAocGFnZU1hdGNoMikgewogICAgICAgICAgICAgICAgICAgIHByZVN0ciA9IHBhZ2VNYXRjaDJbMV07CiAgICAgICAgICAgICAgICAgICAgcGFnZU51bSA9IHBhcnNlSW50KHBhZ2VNYXRjaDJbMl0pOwogICAgICAgICAgICAgICAgICAgIGFmdGVyU3RyID0gcGFnZU1hdGNoMlszXTsKICAgICAgICAgICAgICAgICAgICBpZiAoL15cLz8kLy50ZXN0KGFmdGVyU3RyKSAmJiAhLyhwKGFnZSk/fF98XC18XC8pJC8udGVzdChwcmVTdHIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZVN0ciA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBhZnRlclN0ciA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGFnZU51bSA+IDk5OSkgewogICAgICAgICAgICAgICAgcGFnZU51bSA9IDE7CiAgICAgICAgICAgICAgICBwcmVTdHIgPSAiIjsKICAgICAgICAgICAgICAgIGFmdGVyU3RyID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGN1clBhZ2UgPSBkb2MsIGksIGN1ciwganNOZXh0OwogICAgICAgICAgICBsZXQgbmV4dDEsIG5leHQyLCBuZXh0MywgbmV4dDQsIG5leHRKczEsIG5leHRKczIsIG5leHRKczM7CiAgICAgICAgICAgIGxldCBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnZS1uZXh0PmEiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLm5leHRfcGFnZSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIiNuZXh0X3BhZ2UiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIubmV4dFBhZ2UiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnaW5hdGlvbi1uZXh0PmEiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhW2RhdGEtcGFnaW5hdGlvbj1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdpbmF0aW9uIGxpLmFjdGl2ZX5saT5hIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiW2NsYXNzXj1wYWddIC5jdXJyZW50K2EiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIucGFnZUJ1dHRvbnNDdXJyZW50K2EiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhW2NsYXNzKj1uZXh0cGFnZV0iKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJsaS5wYWdlLWN1cnJlbnQrbGk+YSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149cGFnXSBhW3JlbD1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIltjbGFzc149UGFnXSBbYXJpYS1sYWJlbD1uZXh0XSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdpbmF0aW9uLW5hdl9faXRlbS0tbmV4dD5hIik7CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMSk7CiAgICAgICAgICAgICAgICBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2VyaWdodCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5wYWdlLW51bWJlcnMuY3VycmVudCthIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLnBhZ2VfY3VycmVudCthIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiaW5wdXRbdmFsdWU9J25leHQnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSdOZXh0IHBhZ2UnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSfkuIvkuIDpobUnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3ZhbHVlPSfkuIvkuIDpoIEnXSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImEjcGJfbmV4dCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImEjcmlnaHRGaXgiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhI2J0blByZUduIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiYS5wYWdlLW5leHQiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2VzLW5leHQiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJhLnBhZ2UucmlnaHQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIHsKICAgICAgICAgICAgICAgIGF3YWl0IHNsZWVwKDEpOwogICAgICAgICAgICAgICAgbmV4dCA9IGJvZHkucXVlcnlTZWxlY3RvcigiYSNuZXh0IikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLm5leHQ+YSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5uZXh0PmJ1dHRvbiIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImFbYWx0PW5leHRdIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLnBnX2FyZWE+ZW0rYSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbi5uZXh0Om5vdChbZGlzYWJsZWRdKSIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoIi5idG5fbmV4dDpub3QoW2Rpc2FibGVkXSkiKSB8fAogICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCIuYnRuLW5leHQ6bm90KFtkaXNhYmxlZF0pIikgfHwKICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiYSNsaW5rTmV4dCIpIHx8CiAgICAgICAgICAgICAgICBib2R5LnF1ZXJ5U2VsZWN0b3IoImFbY2xhc3MqPXBhZ2VfX25leHRdIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgxKTsKICAgICAgICAgICAgICAgIGxldCBuZXh0cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgiYS5uZXh0Iik7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV4dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dHNbaV0uc3R5bGUuZGlzcGxheSAhPT0gIm5vbmUiICYmCiAgICAgICAgICAgICAgICAgICAgICAgbmV4dHNbaV0ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ICE9PSAibm9uZSIgJiYKICAgICAgICAgICAgICAgICAgICAgICAhL15ccyooW+S4iuWJjemmluWwvl18cHJldmlvdXMpL2kudGVzdChuZXh0c1tpXS5pbm5lclRleHQudHJpbSgpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dHNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV4dCAmJiAoIW5leHQuaHJlZiB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHQuaHJlZi5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSkpKSB7CiAgICAgICAgICAgICAgICBqc05leHQgPSBuZXh0OwogICAgICAgICAgICAgICAgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yQWxsKCJbYXJpYS1sYWJlbD0nTmV4dCBwYWdlJ10iKTsKICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dFswXTsKICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQuaHJlZiB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHQuaHJlZi5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFqc05leHQpIGpzTmV4dCA9IG5leHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGpzTmV4dCkgewogICAgICAgICAgICAgICAgaWYgKGpzTmV4dC5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoL3NsaWNrfHNsaWRlfGdhbGxlcnkvaS50ZXN0KGpzTmV4dC5jbGFzc05hbWUpKSBqc05leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGpzTmV4dC5jbGFzc0xpc3QgJiYganNOZXh0LmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkganNOZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChqc05leHQpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYXJpYUxhYmVsID0ganNOZXh0LmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpOwogICAgICAgICAgICAgICAgICAgIGlmIChhcmlhTGFiZWwgJiYgL3NsaWNrfHNsaWRlfGdhbGxlcnkvaS50ZXN0KGFyaWFMYWJlbCkpIGpzTmV4dCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dFRleHRSZWcyLnRlc3QobmV4dC5pbm5lclRleHQudHJpbSgpKSkgewogICAgICAgICAgICAgICAgbmV4dDIgPSBuZXh0OwogICAgICAgICAgICAgICAgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBuZXh0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCJhLmN1cnIrYSIpIHx8CiAgICAgICAgICAgICAgICAgICAgYm9keS5xdWVyeVNlbGVjdG9yKCJkaXYud3AtcGFnZW5hdmk+c3Bhbi5jdXJyZW50K2EsZGl2LnBhZ2UtbmF2PnNwYW4uY3VycmVudCthLGRpdi5hcnRpY2xlLXBhZ2luZz5zcGFuK2EiKSB8fAogICAgICAgICAgICAgICAgICAgIGJvZHkucXVlcnlTZWxlY3RvcigiLm51bWJlcj51bD5saS5hY3RpdmUrbGk+YSIpOzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIHsKICAgICAgICAgICAgICAgIGxldCBwYWdlRGl2ID0gYm9keS5xdWVyeVNlbGVjdG9yKCJkaXYucGFnZXM+dWwiKTsKICAgICAgICAgICAgICAgIGlmIChwYWdlRGl2KSB7CiAgICAgICAgICAgICAgICAgICAgY3VyID0gcGFnZURpdi5xdWVyeVNlbGVjdG9yKCJsaT5iIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cikgbmV4dCA9IGN1ci5wYXJlbnROb2RlLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkgbmV4dCA9IG5leHQucXVlcnlTZWxlY3RvcigiYSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgbmV4dCA9IGJvZHkucXVlcnlTZWxlY3RvcigiLnBhZ2VzPmFbaHJlZj0namF2YXNjcmlwdDo7J10rYSIpOwogICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgKG5leHQuaHJlZiA9PSAiamF2YXNjcmlwdDo7IiB8fCBuZXh0LmdldEF0dHJpYnV0ZSgiaHJlZiIpID09ICIjIikpIG5leHQgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMSk7CiAgICAgICAgICAgICAgICBsZXQgcGFnZURpdiA9IGJvZHkucXVlcnlTZWxlY3RvcigiLnBhZ2luYXRpb24iKTsKICAgICAgICAgICAgICAgIGlmIChwYWdlRGl2KSB7CiAgICAgICAgICAgICAgICAgICAgY3VyID0gcGFnZURpdi5xdWVyeVNlbGVjdG9yKCJbY2xhc3MqPWN1cnJlbnRdIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cikgbmV4dCA9IGN1ci5wYXJlbnROb2RlLm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkgbmV4dCA9IG5leHQucXVlcnlTZWxlY3RvcigiYSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghbmV4dCkgewogICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMSk7CiAgICAgICAgICAgICAgICBsZXQgcGFnZURpdnMgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoIltjbGFzcyo9cGFnaW5hdGlvbl0sW2NsYXNzKj1QYWdpbmF0aW9uXSIpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VEaXZzICYmIHBhZ2VEaXZzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZURpdnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSBwYWdlRGl2c1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC8obmV4dFxzKijCu3w+Pnw+fOKAunzihpJ84p2vKT98Jmd0O3zilrZ8PnzigLp84oaSfOKdrykvaS50ZXN0KHAudGl0bGUgfHwgcC52YWx1ZSB8fCAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14obmV4dFxzKijCu3w+Pnw+fOKAunzihpJ84p2vKT98Jmd0O3zilrZ8PnzigLp84oaSfOKdrykkL2kudGVzdCgocC5pbm5lclRleHQgfHwgJycpLnRyaW0oKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBsZXQgYVRhZ3MgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoImEsYnV0dG9uLFt0eXBlPSdidXR0b24nXSIpOwogICAgICAgICAgICAgICAgZm9yIChpID0gYVRhZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV4dDEpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGlmIChpICUgMzAwID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBhVGFnID0gYVRhZ3NbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcuc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGxldCBpbm5lclRleHQgPSAoYVRhZy5pbm5lclRleHQgfHwgYVRhZy52YWx1ZSB8fCBhVGFnLnRpdGxlIHx8ICcnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclRleHQgPT0gIsKnIikgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCA9IGlubmVyVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclRleHQubGVuZ3RoID4gODApIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgYXZhaWxhYmxlSHJlZiA9IGFUYWcuaHJlZiAmJiBhVGFnLmhyZWYubGVuZ3RoIDwgMjUwICYmIC9eaHR0cC8udGVzdChhVGFnLmhyZWYpOwogICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVIcmVmICYmIC9uZXh0XC0/KHBhZ2UpPyQvaS50ZXN0KGFUYWcuaHJlZikpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLmNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL3NsaWNrfHNsaWRlfGdhbGxlcnkvaS50ZXN0KGFUYWcuY2xhc3NOYW1lKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLmNsYXNzTGlzdCAmJiBhVGFnLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLmRhdGFzZXQgJiYgYVRhZy5kYXRhc2V0LnByZXZpZXcpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGxldCBhcmlhTGFiZWwgPSBhVGFnLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpOwogICAgICAgICAgICAgICAgICAgIGlmIChhcmlhTGFiZWwgJiYgL3NsaWNrfHNsaWRlfGdhbGxlcnkvaS50ZXN0KGFyaWFMYWJlbCkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcucGFyZW50Tm9kZS5jbGFzc05hbWUgJiYgL3NsaWNrfHNsaWRlfGdhbGxlcnkvaS50ZXN0KGFUYWcucGFyZW50Tm9kZS5jbGFzc05hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcucGFyZW50Tm9kZS5jbGFzc0xpc3QgJiYgYVRhZy5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhVGFnLnBhcmVudE5vZGUuY2xhc3NMaXN0ICYmIGFUYWcucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eQkxPQ0tRVU9URSQvaS50ZXN0KGFUYWcucGFyZW50Tm9kZS5ub2RlTmFtZSkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIC9cYihwbGF5fHZvbHVtZSlcYi8udGVzdChhVGFnLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xhc3NOYW1lKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFUYWcubmV4dEVsZW1lbnRTaWJsaW5nICYmIC9cYihwbGF5fHZvbHVtZSlcYi8udGVzdChhVGFnLm5leHRFbGVtZW50U2libGluZy5jbGFzc05hbWUpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBsZXQgaXNKcyA9ICFhVGFnLmhyZWYgfHwgIWFUYWcuaHJlZi5yZXBsYWNlIHx8IC9eKGphdmFzY3JpcHR8IykvLnRlc3QoYVRhZy5ocmVmLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCA9IGlubmVyVGV4dC5zcGxpdCgvXG4vKVswXS5yZXBsYWNlKC8gL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMgJiYgL14owrt8Pj58PnzigLp84oaSfOKdrykkLy50ZXN0KGlubmVyVGV4dCkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0ICYmIGlubmVyVGV4dC5sZW5ndGggPD0gMjUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRleHRSZWcxLnRlc3QoaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNKcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0SnMxKSBuZXh0SnMxID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQxID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dFJlZzIudGVzdChpbm5lclRleHQpIHx8IC9uZXh0cGFnZXxwYWdlclwtb2xkZXIvaS50ZXN0KGFUYWcuY2xhc3NOYW1lKSB8fCAvXijCu3w+PikkLy50ZXN0KGlubmVyVGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0pzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0SnMyKSBuZXh0SnMyID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDIgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKG5leHRccyoowrt8Pj58PnzigLp84oaSfOKdryk/fCZndDt84pa2fD584oC6fOKGknzina8pJC9pLnRlc3QoaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRKczMpIG5leHRKczMgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0MyA9IGFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSnMpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZFbGUgPSBhVGFnLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RWxlICYmICgvXihCfFNQQU58U1RST05HKSQvaS50ZXN0KHByZXZFbGUubm9kZU5hbWUpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eXGQrJC8udGVzdChhVGFnLmlubmVyVGV4dC50cmltKCkpICYmIC9eXGQrJC8udGVzdChwcmV2RWxlLmlubmVyVGV4dC50cmltKCkpICYmIHBhcnNlSW50KGFUYWcuaW5uZXJUZXh0KSA9PSBwYXJzZUludChwcmV2RWxlLmlubmVyVGV4dCkgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDQgPSBhVGFnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dDQgJiYgYXZhaWxhYmxlSHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZy5ocmVmLmluZGV4T2YobG9jYXRpb24uaG9zdG5hbWUpID09PSAtMSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfYUhyZWYgPSBhVGFnLmhyZWYucmVwbGFjZSgiPyYiLCAiPyIpLnJlcGxhY2UoImluZGV4LnBocD8iLCAiPyIpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVTdHIgfHwgYWZ0ZXJTdHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfYUhyZWZUcmltID0gX2FIcmVmOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZVN0cikgX2FIcmVmVHJpbSA9IF9hSHJlZlRyaW0ucmVwbGFjZShwcmVTdHIsICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlclN0cikgX2FIcmVmVHJpbSA9IF9hSHJlZlRyaW0ucmVwbGFjZShhZnRlclN0ciwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9hSHJlZlRyaW0gPT0gcGFnZU51bSArIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0NCA9IGFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJVcmwgIT0gYVRhZy5ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYUhyZWYgPSBfYUhyZWYucmVwbGFjZSgvXC5zP2h0bWw/JC9pLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2FIcmVmLmluZGV4T2YoX3VybCkgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZVR3b01hdGNoID0gX2FIcmVmLnJlcGxhY2UoX3VybCwgIiIpLm1hdGNoKHBhZ2VUd29SZWcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlVHdvTWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTdHIgPSBwYWdlVHdvTWF0Y2hbMl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ0ID0gYVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQ0ICYmICEvcGFnZS8udGVzdChuZXh0NC5ocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckhyZWYgPSBuZXh0NC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJQYWdlUmVnID0gbmV3IFJlZ0V4cCgiKC4qKSIgKyAocGFnZU51bSArIDEpICsgYWZ0ZXJTdHIucmVwbGFjZSgvKFtcLlw/XSkvZywgJ1xcJDEnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3RoZXJQYWdlSHJlZiA9IGN1ckhyZWYucmVwbGFjZShjdXJQYWdlUmVnLCBgJDEke3BhZ2VOdW19JHthZnRlclN0cn1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdGhlclBhZ2VFbGUgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoYGFbaHJlZj0nJHtvdGhlclBhZ2VIcmVmfSddYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW90aGVyUGFnZUVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUGFnZUhyZWYgPSBjdXJIcmVmLnJlcGxhY2UoY3VyUGFnZVJlZywgYCQxJHtwYWdlTnVtICsgMn0ke2FmdGVyU3RyfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUGFnZUVsZSA9IGJvZHkucXVlcnlTZWxlY3RvcihgYVtocmVmPScke290aGVyUGFnZUhyZWZ9J11gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclBhZ2VFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gb3RoZXJQYWdlRWxlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5jb250YWlucyhvdGhlclBhZ2VFbGUpICYmICEvXlxkKyQvLnRlc3Qob3RoZXJQYWdlRWxlLmlubmVyVGV4dC50cmltKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dDIgJiYgZG91YnRUZXh0UmVnLnRlc3QobmV4dDIuaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgIG5leHQyID0gdGhpcy52ZXJpZnlOZXh0KG5leHQyLCBkb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG5leHRKczIgJiYgZG91YnRUZXh0UmVnLnRlc3QobmV4dEpzMi5pbm5lclRleHQpKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dEpzMiA9IHRoaXMudmVyaWZ5TmV4dChuZXh0SnMyLCBkb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG5leHQzKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dDMgPSB0aGlzLnZlcmlmeU5leHQobmV4dDMsIGRvYyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dEpzMykgewogICAgICAgICAgICAgICAgICAgIG5leHRKczMgPSB0aGlzLnZlcmlmeU5leHQobmV4dEpzMywgZG9jKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHQpIG5leHQgPSBuZXh0MSB8fCBuZXh0NCB8fCBuZXh0MyB8fCBuZXh0MjsKICAgICAgICAgICAgaWYgKCFuZXh0KSB7CiAgICAgICAgICAgICAgICBuZXh0ID0ganNOZXh0IHx8IG5leHRKczEgfHwgbmV4dEpzMyB8fCBuZXh0SnMyOwogICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5wYXJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKCd0YWInKSAhPSAtMSkgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5jbGFzc0xpc3QgJiYgKG5leHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJyZXN1bHRzLW1vcmUiKSB8fCBuZXh0LmNsYXNzTGlzdC5jb250YWlucygibm8iKSkpIG5leHQgPSBudWxsOwogICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmhhc0F0dHJpYnV0ZSAmJiBuZXh0Lmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKSkgbmV4dCA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiB7bmV4dDpuZXh0LCBjYW5TYXZlOmNhblNhdmV9OwogICAgICAgIH0KCiAgICAgICAgdmVyaWZ5TmV4dChuZXh0LCBkb2MpIHsKICAgICAgICAgICAgaWYgKCFuZXh0KSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgaWYgKG5leHQucHJldmlvdXNFbGVtZW50U2libGluZyAmJiAvXkJSJC9pLnRlc3QobmV4dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLm5vZGVOYW1lKSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIGxldCBlbGVzID0gZ2V0QWxsRWxlbWVudHMoYC8vJHtuZXh0Lm5vZGVOYW1lfVt0ZXh0KCk9JyR7bmV4dC5pbm5lclRleHR9J11gLCBkb2MpOwogICAgICAgICAgICBpZiAoZWxlcy5sZW5ndGggPj0gMiAmJiBlbGVzWzBdLmhyZWYgIT0gZWxlc1sxXS5ocmVmKSB7CiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gZ2V0RWxlbWVudExlZnQobmV4dCk7CiAgICAgICAgICAgICAgICBpZiAobGVmdCA8IDIwIHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPiA1MDAgJiYgbGVmdCA8IDI1MCkpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcCA9IGdldEVsZW1lbnRUb3AobmV4dCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcCA8IDIwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSB0b3AgKyBuZXh0Lm9mZnNldEhlaWdodCB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsSCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxIIC0gYm90dG9tIDwgMTApIG5leHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICB9CgogICAgICAgIGNhbm9uaWNhbFVyaShzcmMpIHsKICAgICAgICAgICAgaWYgKCFzcmMpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc3JjLmNoYXJBdCgwKSA9PSAiIyIpIHJldHVybiB0aGlzLmN1clVybCArIHNyYzsKICAgICAgICAgICAgaWYgKHNyYy5jaGFyQXQoMCkgPT0gIj8iKSByZXR1cm4gdGhpcy5jdXJVcmwucmVwbGFjZSgvXihbXlw/I10rKS4qLywgIiQxIiArIHNyYyk7CiAgICAgICAgICAgIGxldCBvcmlnaW4gPSBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0OwogICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5iYXNlUGF0aCB8fCBvcmlnaW47CiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8oXD98IykuKi8sICIiKTsKICAgICAgICAgICAgaWYgKC9odHRwcz86XC9cL1teXC9dKyQvLnRlc3QodXJsKSkgdXJsID0gdXJsICsgJy8nOwogICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoImh0dHAiKSAhPT0gMCkgdXJsID0gb3JpZ2luICsgdXJsOwogICAgICAgICAgICB2YXIgcm9vdF9wYWdlID0gL15bXlw/I10qXC8vLmV4ZWModXJsKVswXSwKICAgICAgICAgICAgICAgIHJvb3RfZG9tYWluID0gL15cdytcOlwvXC9cLz9bXlwvXSsvLmV4ZWMocm9vdF9wYWdlKVswXSwKICAgICAgICAgICAgICAgIGFic29sdXRlX3JlZ2V4ID0gL15cdytcOlwvXC8vOwogICAgICAgICAgICB0aGlzLnVwZGF0ZVVybCA9IGZhbHNlOwogICAgICAgICAgICB3aGlsZSAoc3JjLmluZGV4T2YoIi4uLyIpID09PSAwKSB7CiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyKDMpOwogICAgICAgICAgICAgICAgcm9vdF9wYWdlID0gcm9vdF9wYWdlLnJlcGxhY2UoL1wvW15cL10rXC8kLywgIi8iKTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXJsID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXC5cLy8sICIiKTsKICAgICAgICAgICAgaWYgKC9eXC9cL1wvPy8udGVzdChzcmMpKSB7CiAgICAgICAgICAgICAgICBzcmMgPSBsb2NhdGlvbi5wcm90b2NvbCArIHNyYzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKGFic29sdXRlX3JlZ2V4LnRlc3Qoc3JjKSA/IHNyYyA6ICgoc3JjLmNoYXJBdCgwKSA9PSAiLyIgPyByb290X2RvbWFpbiA6IHJvb3RfcGFnZSkgKyBzcmMpKTsKICAgICAgICB9CgogICAgICAgIGdldExpbmtCeVBhZ2UodXJsLCBwYWdlTnVtKSB7CiAgICAgICAgICAgIGlmICghdXJsKSByZXR1cm47CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW0pIHsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW07CiAgICAgICAgICAgICAgICBsZXQgc3RyTWF0Y2ggPSByZXN1bHQubWF0Y2goL1x7Lio/fS8pOwogICAgICAgICAgICAgICAgaWYgKCFzdHJNYXRjaCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCgiKCIgKyByZXN1bHQucmVwbGFjZShzdHJNYXRjaFswXSwgIilcXGQrKCIpICsgIikiLCAiaSIpOwogICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBzdHJNYXRjaFswXS5yZXBsYWNlKC9eey8sICIiKS5yZXBsYWNlKC99JC8sICIiKS5yZXBsYWNlKC9cJHAvZywgcGFnZU51bSk7CiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSBwYWdlTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdXJsLnJlcGxhY2UodXJsUmVnLCAiJDEiICsgY29kZSArICIkMiIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjtyZXR1cm4gJyArIGNvZGUpKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHVybC5yZXBsYWNlKHVybFJlZywgIiQxIiArIGNvZGUgKyAiJDIiKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSB1cmwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvKFsmXC9cP10ocD18cGFnZVs9XC9fLV0/KSlcZCsvaSwgIiQxIiArIHBhZ2VOdW0pLnJlcGxhY2UoLyhbXy1dKVxkK1wuL2ksICIkMSIgKyBwYWdlTnVtICsgIi4iKTsKICAgICAgICB9CgogICAgICAgIGdldFBhZ2VOdW1Gcm9tVXJsKHVybCkgewogICAgICAgICAgICBpZiAoIXVybCkgcmV0dXJuIGN1clBhZ2U7CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW0pIHsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1clNpdGVSdWxlLnBhZ2VOdW07CiAgICAgICAgICAgICAgICBsZXQgc3RyTWF0Y2ggPSByZXN1bHQubWF0Y2goL1x7Lio/fS8pOwogICAgICAgICAgICAgICAgaWYgKCFzdHJNYXRjaCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBsZXQgdXJsUmVnID0gbmV3IFJlZ0V4cCgiLioiICsgcmVzdWx0LnJlcGxhY2Uoc3RyTWF0Y2hbMF0sICIoXFxkKykiKSArICIuKiIsICJpIik7CiAgICAgICAgICAgICAgICBsZXQgY3VyU2hvd051bSA9IHVybC5yZXBsYWNlKHVybFJlZywgIiQxIik7CiAgICAgICAgICAgICAgICBpZiAoY3VyU2hvd051bSAhPSB1cmwpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHN0ck1hdGNoWzBdLnJlcGxhY2UoL157LywgIiIpLnJlcGxhY2UoL30kLywgIiIpOwogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09ICIkcCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1clNob3dOdW07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlMSA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICcgKyBjb2RlLnJlcGxhY2UoIiRwIiwgIjAiKSkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlMiA9IEZ1bmN0aW9uKCcidXNlIHN0cmljdCI7cmV0dXJuICcgKyBjb2RlLnJlcGxhY2UoIiRwIiwgIjEiKSkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW1HYXAgPSBwYWdlMiAtIHBhZ2UxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjdXJTaG93TnVtIC0gcGFnZTEpIC8gbnVtR2FwOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyUGFnZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcGFnZU51bSA9IHVybC5yZXBsYWNlKC8uKlsmXC9cP10ocD18cGFnZVs9XC9fLV0/KShcZCspLiovaSwgIiQyIik7CiAgICAgICAgICAgIHJldHVybiBwYWdlTnVtID09IHVybCA/IGN1clBhZ2UgOiAocGFnZU51bS5sZW5ndGggPiA0ID8gY3VyUGFnZSA6IHBhZ2VOdW0pOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZ2V0TmV4dExpbmsoZG9jKSB7CiAgICAgICAgICAgIGxldCBuZXh0TGluayA9IG51bGwsIHBhZ2UsIGhyZWY7CiAgICAgICAgICAgIGxldCBnZXROZXh0TGlua0J5Rm9ybSA9IChmb3JtLCBzdWJtaXRCdG4sIG4pID0+IHsKICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSBbXTsKICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTsKICAgICAgICAgICAgICAgIGlmIChzdWJtaXRCdG4gJiYgc3VibWl0QnRuLmdldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBidG5WYWx1ZSwgYnRuTmFtZTsKICAgICAgICAgICAgICAgICAgICBidG5OYW1lID0gc3VibWl0QnRuLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICAgICAgICAgICAgICAgIGJ0blZhbHVlID0gc3VibWl0QnRuLmdldEF0dHJpYnV0ZSgidmFsdWUiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYnRuTmFtZSAmJiBidG5WYWx1ZSkgcGFyYW1zID0gW2J0bk5hbWUgKyAiPSIgKyBidG5WYWx1ZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobiAmJiAvXihwfHBhZ2UpJC9pLnRlc3Qoa2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkgKyAnPScgKyBuKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm0uYWN0aW9uICsgKGZvcm0uYWN0aW9uLmluZGV4T2YoJz8nKSA9PSAtMSA/ICc/JyA6ICcmJykgKyBwYXJhbXMgKyAoZm9ybS5tZXRob2QgPT0gJ3Bvc3QnID8gJyNweycgKyBwYXJhbXMgKyAnfScgOiAnJyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmICh0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50QnlKcykgewogICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSAiIyI7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlKcykgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlciA9IF91cmwgPT4gewogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFVybCA9IGF3YWl0ICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxOZXh0TGlua0J5SnMgPT0gJ3VuZGVmaW5lZCcpID8gbmV3IEFzeW5jRnVuY3Rpb24oImRvYyIsICcidXNlIHN0cmljdCI7JyArIHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeUpzKSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxOZXh0TGlua0J5SnMpKGRvYyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFVybCkgbmV4dExpbmsgPSB7aHJlZjogdGFyZ2V0VXJsfTsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeVVybCkgewogICAgICAgICAgICAgICAgbGV0IHRhcmdldFVybCA9IHRoaXMuY3VyVXJsLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbMF0sICJpIiksIHRoaXMuY3VyU2l0ZVJ1bGUubmV4dExpbmtCeVVybFsxXSk7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VXJsICE9IHRoaXMuY3VyVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGluY2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbMl07CiAgICAgICAgICAgICAgICAgICAgbGV0IGV4Y2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rQnlVcmxbM107CiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IGluY2x1ZGVTZWwudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdldEVsZW1lbnQoaW5jbHVkZVNlbCwgZG9jKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWY9ZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZVNlbCkgewogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gZXhjbHVkZVNlbC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRFbGVtZW50KGV4Y2x1ZGVTZWwsIGRvYykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmPWZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlcHMgPSB0YXJnZXRVcmwubWF0Y2goL3suKj99L2cpOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXBzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcHMuZm9yRWFjaChyZXAgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSByZXAucmVwbGFjZSgieyIsICIiKS5yZXBsYWNlKCJ9IiwgIiIpLnJlcGxhY2UoL1woXCkvZywgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb2RlLm1hdGNoKC9eKFxkKilcKzEkLyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VJbnQocmVzdWx0WzFdIHx8IDEpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjtyZXR1cm4gJyArIGNvZGUpKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFVybCA9IHRhcmdldFVybC5yZXBsYWNlKHJlcCwgcmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmV4dExpbmsgPSB7aHJlZjogdGFyZ2V0VXJsfTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICBsZXQgbmV4dExpbmtTZWwgPSB0aGlzLmN1clNpdGVSdWxlLm5leHRMaW5rOwogICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rU2VsICE9IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KG5leHRMaW5rU2VsKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWxbbmV4dEluZGV4XSwgZG9jLCBudWxsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0TGluayAmJiBjdXJQYWdlID09IDEgJiYgbmV4dEluZGV4ICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWxbbmV4dEluZGV4XSwgZG9jLCBudWxsLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBuZXh0TGluayA9IGdldEVsZW1lbnQobmV4dExpbmtTZWwsIGRvYywgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV4dExpbmsgJiYgKHRoaXMuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDAgfHwgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMSB8fCB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAyKSkgewogICAgICAgICAgICAgICAgICAgIGxldCBmb3JtID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gtZm9ybScpOwogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dExpbmsuaHJlZiAmJiBuZXh0TGluay5oYXNBdHRyaWJ1dGUgJiYgbmV4dExpbmsuaGFzQXR0cmlidXRlKCJvbmNsaWNrIikgJiYgZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15cZCskLy50ZXN0KG5leHRMaW5rLmlubmVyVGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5rLmhyZWYgPSBnZXROZXh0TGlua0J5Rm9ybShmb3JtLCBuZXh0TGluaywgbmV4dExpbmsuaW5uZXJUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15JTlBVVCQvaS50ZXN0KG5leHRMaW5rLm5vZGVOYW1lKSB8fCBuZXh0TGluay50eXBlID09ICJzdWJtaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPSBuZXh0TGluay5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eRk9STSQvaS50ZXN0KGZvcm0ubm9kZU5hbWUpKSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZm9ybSA9IGZvcm0ucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmsuaHJlZiA9IGdldE5leHRMaW5rQnlGb3JtKGZvcm0sIG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExpbmsuaHJlZiAmJiB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5rLmhyZWYgPSBuZXh0TGluay5ocmVmLnJlcGxhY2UoLyNwey4qLywgIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhZ2UgPSBhd2FpdCB0aGlzLmdldFBhZ2UoZG9jKTsKICAgICAgICAgICAgICAgIG5leHRMaW5rID0gcGFnZS5uZXh0OwogICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eSU5QVVQkL2kudGVzdChuZXh0TGluay5ub2RlTmFtZSkgfHwgbmV4dExpbmsudHlwZSA9PSAic3VibWl0IikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybSA9IG5leHRMaW5rLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChmb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15GT1JNJC9pLnRlc3QoZm9ybS5ub2RlTmFtZSkpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBmb3JtID0gZm9ybS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluay5ocmVmID0gZ2V0TmV4dExpbmtCeUZvcm0oZm9ybSwgbmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBuZXh0TGluazsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmICEvXkJPRFkkL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXkFTSURFJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuaGFzQXR0cmlidXRlICYmIHBhcmVudC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNsYXNzTmFtZSAmJiBwYXJlbnQuY2xhc3NMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygibm9DbGljayIpIHx8IHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5vLXBhZ2VzIikgfHwgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5zdHlsZSAmJiBwYXJlbnQuc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCghbmV4dExpbmsuaHJlZiB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHRMaW5rLmhyZWYucmVwbGFjZShsb2NhdGlvbi5ocmVmLCAiIikpKSAmJiAhaXNWaXNpYmxlKG5leHRMaW5rLCBfdW5zYWZlV2luZG93KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRMaW5rQ3MgPSBfdW5zYWZlV2luZG93LmdldENvbXB1dGVkU3R5bGUobmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rQ3MuY3Vyc29yID09ICJub3QtYWxsb3dlZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0TmV4dCA9IG5leHRMaW5rOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBmb3JtID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gtZm9ybScpOwogICAgICAgICAgICAgICAgICAgIGlmICghbmV4dExpbmsuaHJlZiAmJiBuZXh0TGluay5oYXNBdHRyaWJ1dGUoIm9uY2xpY2siKSAmJiBmb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtICYmIC9eXGQrJC8udGVzdChuZXh0TGluay5pbm5lclRleHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gZ2V0TmV4dExpbmtCeUZvcm0oZm9ybSwgbmV4dExpbmssIG5leHRMaW5rLmlubmVyVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tTdG9wU2lnbihuZXh0TGluaywgZG9jKSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMykgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2MgPT0gZG9jdW1lbnQpIGRlYnVnKG5leHRMaW5rLCAnTmV4dCBsaW5rJyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSAnIyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBuZWVkVXJsID0gKHRoaXMuY3VyU2l0ZVJ1bGUuYWN0aW9uID09IDAgfHwgdGhpcy5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMSB8fCB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAyKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWhyZWYpIGhyZWYgPSBuZXh0TGluay5ocmVmOwogICAgICAgICAgICAgICAgICAgIGlmIChocmVmICYmIG5leHRMaW5rLmdldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgX2hyZWYgPSBuZXh0TGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hyZWYuY2hhckF0KDApID09ICIjIiB8fCBfaHJlZiA9PSAiPyIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSAiIyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSBfaHJlZjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfaHJlZiA9PT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSBfaHJlZjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRVcmwgJiYgKGhyZWYgPT09ICIiIHx8IGhyZWYgPT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZWVkVXJsICYmIC9eKGphdmFzY3JpcHQ6fCMpLy50ZXN0KGhyZWYpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSAoaHJlZiAmJiAhL14oamF2YXNjcmlwdDp8IykvLnRlc3QoaHJlZikpID8gdGhpcy5jYW5vbmljYWxVcmkoaHJlZikgOiAiIyI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wVXJsID0gdGhpcy5uZXh0TGlua0hyZWYucmVwbGFjZSgvI3B7LiovLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wVXJsICE9ICIjIiAmJiAodGhpcy5jb21wYXJlVXJsKHRlbXBVcmwsIHRoaXMuaW5pdFVybCkgfHwgdGhpcy5jb21wYXJlVXJsKHRlbXBVcmwsIHRoaXMuY3VyVXJsKSB8fCB0aGlzLmNvbXBhcmVVcmwodGVtcFVybCwgdGhpcy5jdXJVcmwgKyAiIyIpIHx8IHRoaXMuY29tcGFyZVVybCh0ZW1wVXJsLCB0aGlzLm9sZFVybCkgfHwgdGhpcy5jb21wYXJlVXJsKHRlbXBVcmwsIHRoaXMub2xkVXJsICsgIiMiKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jID09IGRvY3VtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhuZXh0TGluaywgJ05leHQgbGluaycpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlua0hyZWYgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLm5leHRMaW5rRWxlID0gbmV4dExpbms7CiAgICAgICAgICAgIHRoaXMucHJlbG9hZCgpOwogICAgICAgICAgICByZXR1cm4gbmV4dExpbms7CiAgICAgICAgfQoKICAgICAgICBjb21wYXJlVXJsKHVybDEsIHVybDIpIHsKICAgICAgICAgICAgaWYgKHVybDEgPT0gdXJsMikgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGlmICghdXJsMSB8fCAhdXJsMikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBsZXQgdXJsMUFyciA9IHVybDEuc3BsaXQoIj8iKTsKICAgICAgICAgICAgbGV0IHVybDJBcnIgPSB1cmwyLnNwbGl0KCI/Iik7CiAgICAgICAgICAgIGlmICh1cmwxQXJyWzBdICE9IHVybDJBcnJbMF0pIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgaWYgKCF1cmwxQXJyWzFdIHx8ICF1cmwyQXJyWzFdKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIHVybDFBcnIgPSB1cmwxQXJyWzFdLnNwbGl0KCImIikuc29ydCgpLmpvaW4oIiYiKTsKICAgICAgICAgICAgdXJsMkFyciA9IHVybDJBcnJbMV0uc3BsaXQoIiYiKS5zb3J0KCkuam9pbigiJiIpOwogICAgICAgICAgICByZXR1cm4gdXJsMUFyciA9PSB1cmwyQXJyOwogICAgICAgIH0KCiAgICAgICAgZmlsdGVyRWxlcyhkb2MsIGVsZXMpIHsKICAgICAgICAgICAgbGV0IGZpbHRlciA9IHRoaXMuY3VyU2l0ZVJ1bGUuZmlsdGVyOwogICAgICAgICAgICBpZiAoIWZpbHRlciB8fCAhZWxlcyB8fCBlbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgICBpZiAoZWxlcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGVsZXMgPSBlbGVzWzBdLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgaWYgKGVsZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlcyA9IGVsZXNbMF0uY2hpbGRyZW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIGlmICgvXlxkKyQvLnRlc3QoZmlsdGVyKSkgewogICAgICAgICAgICAgICAgICAgIGZpbHRlciA9IHtjb3VudDogcGFyc2VJbnQoZmlsdGVyKX07CiAgICAgICAgICAgICAgICB9IGVsc2UgZmlsdGVyID0ge3dvcmRzOiBmaWx0ZXJ9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGVzLCBlbGUgPT4gewogICAgICAgICAgICAgICAgaWYgKCFlbGUucGFyZW50Tm9kZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IGNhbktlZXAgPSAoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBpbm5lclRleHQgPSAoZWxlLmlubmVyVGV4dCAmJiBlbGUuaW5uZXJUZXh0LnRyaW0oKSkgfHwgIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5jb3VudCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0Lmxlbmd0aCA8IGZpbHRlci5jb3VudCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLndvcmRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3b3Jkc1JlZ0V4cCA9IG5ldyBSZWdFeHAoZmlsdGVyLndvcmRzLCAiaSIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJUZXh0ICYmIHdvcmRzUmVnRXhwLnRlc3QoaW5uZXJUZXh0KSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmtSZWdFeHAgPSBuZXcgUmVnRXhwKGZpbHRlci5saW5rLCAiaSIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15BJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSAmJiBsaW5rUmVnRXhwLnRlc3QoZWxlLmhyZWYpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhQ2hpbGRyZW4gPSBlbGUucXVlcnlTZWxlY3RvckFsbCgiYSIpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFDaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gYUNoaWxkcmVuW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtSZWdFeHAudGVzdChjaGlsZC5ocmVmKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldEVsZW1lbnQoZmlsdGVyLnNlbGVjdG9yLCBkb2MsIGVsZSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICAgICAgaWYgKCFjYW5LZWVwKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjaGVja1N0b3BTaWduKG5leHRMaW5rLCBkb2MpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24pIHsKICAgICAgICAgICAgICAgIGxldCB0eXBlQXJyYXkgPSBBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkodGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbik7CiAgICAgICAgICAgICAgICBsZXQgdHlwZU9iamVjdCA9ICF0eXBlQXJyYXkgJiYgKHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ24uaW5jbHVkZSB8fCB0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduLmV4Y2x1ZGUgfHwgdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbi5wYWdlTnVtKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlQXJyYXkgfHwgdHlwZU9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIGxldCBpbmNsdWRlU2VsLCBleGNsdWRlU2VsLCBjdXJTaWduLCBtYXhTaWduOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlQXJyYXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ25bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVTZWwgPSB0aGlzLmN1clNpdGVSdWxlLnN0b3BTaWduWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaWduID0gdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnblsyXTsKICAgICAgICAgICAgICAgICAgICAgICAgbWF4U2lnbiA9IHRoaXMuY3VyU2l0ZVJ1bGUuc3RvcFNpZ25bM107CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoaW5jbHVkZVNlbCkgJiYgIWN1clNpZ24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpZ24gPSBpbmNsdWRlU2VsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVNlbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlU2VsICYmIEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShleGNsdWRlU2VsKSAmJiAhbWF4U2lnbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4U2lnbiA9IGV4Y2x1ZGVTZWw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlU2VsID0gdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbi5pbmNsdWRlOwogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlU2VsID0gdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbi5leGNsdWRlOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaWduID0gdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbi5wYWdlTnVtOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNlbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlU2VsID0gaW5jbHVkZVNlbC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2V0RWxlbWVudChpbmNsdWRlU2VsLCBkb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVTZWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVNlbCA9IGV4Y2x1ZGVTZWwudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0RWxlbWVudChleGNsdWRlU2VsLCBkb2MpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpZ24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXhTaWduKSBtYXhTaWduID0gY3VyU2lnbi5zbGljZSgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRFbGUgPSBnZXRFbGVtZW50KGN1clNpZ25bMF0sIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhFbGUgPSBnZXRFbGVtZW50KG1heFNpZ25bMF0sIGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlICYmIG1heEVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRTaWduTnVtLCBtYXhTaWduTnVtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9cKC4qXCkvLnRlc3QoY3VyU2lnblsxXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2lnbk51bSA9IGN1cnJlbnRFbGUuaW5uZXJUZXh0Lm1hdGNoKG5ldyBSZWdFeHAoY3VyU2lnblsxXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2lnbk51bSkgY3VycmVudFNpZ25OdW0gPSBjdXJyZW50U2lnbk51bVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVsZS5nZXRBdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2lnbk51bSA9IGN1cnJlbnRFbGUuZ2V0QXR0cmlidXRlKGN1clNpZ25bMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9cKC4qXCkvLnRlc3QobWF4U2lnblsxXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTaWduTnVtID0gbWF4RWxlLmlubmVyVGV4dC5tYXRjaChuZXcgUmVnRXhwKG1heFNpZ25bMV0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4U2lnbk51bSkgbWF4U2lnbk51bSA9IG1heFNpZ25OdW1bMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1heEVsZS5nZXRBdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhTaWduTnVtID0gbWF4RWxlLmdldEF0dHJpYnV0ZShtYXhTaWduWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2lnbk51bSAmJiBtYXhTaWduTnVtICYmIGN1cnJlbnRTaWduTnVtID09IG1heFNpZ25OdW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMaW5rSHJlZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3BTaWduID0gKCh0eXBlb2YgX3Vuc2FmZVdpbmRvdy5zdG9wU2lnbiA9PSAndW5kZWZpbmVkJykgPyBGdW5jdGlvbigiZG9jIiwgIm5leHRMaW5rIiwgJyJ1c2Ugc3RyaWN0IjsnICsgdGhpcy5jdXJTaXRlUnVsZS5zdG9wU2lnbikgOiBfdW5zYWZlV2luZG93LnN0b3BTaWduKShkb2MsIG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BTaWduKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcHJlbG9hZCgpIHsKICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEucHJlbG9hZCkgcmV0dXJuOwogICAgICAgICAgICBpZiAoIXRoaXMubmV4dExpbmtIcmVmIHx8IHRoaXMubmV4dExpbmtIcmVmID09ICIjIikgcmV0dXJuOwogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXMsIHVybCA9IHRoaXMubmV4dExpbmtIcmVmOwogICAgICAgICAgICBsZXQgcG9zdFBhcmFtcyA9IHVybC5tYXRjaCgvI3B7KC4qKX0kLyk7CiAgICAgICAgICAgIGlmIChwb3N0UGFyYW1zKSB7CiAgICAgICAgICAgICAgICBwb3N0UGFyYW1zID0gcG9zdFBhcmFtc1sxXTsKICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8jcHsuKi8sICIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6IHBvc3RQYXJhbXMgPyAnUE9TVCcgOiAnR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RQYXJhbXMsCiAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiAndGV4dC9odG1sO2NoYXJzZXQ9JyArIChkb2N1bWVudC5jaGFyYWN0ZXJTZXQgfHwgZG9jdW1lbnQuY2hhcnNldCB8fCBkb2N1bWVudC5pbnB1dEVuY29kaW5nKSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnUmVmZXJlcic6IGxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiBuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAocG9zdFBhcmFtcyA/ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIDogInRleHQvaHRtbCIpICsgIjtjaGFyc2V0PSIgKyAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0IHx8IGRvY3VtZW50LmNoYXJzZXQgfHwgZG9jdW1lbnQuaW5wdXRFbmNvZGluZyksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlcykgewogICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gcmVzLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGdldEJvZHkoZG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgJiYgYm9keS5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxhenlJbWdBY3Rpb24oYm9keS5jaGlsZHJlbik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnByZWxvYWREaXYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHJlbG9hZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmVsb2FkRGl2LmlkID0gInBhZ2V0dWFsLXByZWxvYWQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmVsb2FkRGl2LnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTpub25lIWltcG9ydGFudDsnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoc2VsZi5wcmVsb2FkRGl2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tlZEltZ3MgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jLmltYWdlcywgaSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaVNyYyA9IGkuc3JjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlTcmMgJiYgIXNlbGYuY2hlY2tlZEltZ3NbaVNyY10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrZWRJbWdzW2lTcmNdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGlTcmM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmVsb2FkRGl2LmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHNlbGYuY3VyU2l0ZVJ1bGUucHJlbG9hZEltYWdlczsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWdTcmNBcnIgPSBuZXcgRnVuY3Rpb24oImRvYyIsICcidXNlIHN0cmljdCI7JyArIGNvZGUpKGRvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nU3JjQXJyICYmIGltZ1NyY0Fyci5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdTcmNBcnIuZm9yRWFjaChpbWdTcmMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nU3JjICYmICFzZWxmLmNoZWNrZWRJbWdzW2ltZ1NyY10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tlZEltZ3NbaW1nU3JjXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gaW1nU3JjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcmVsb2FkRGl2LmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGdldEluc2VydChyZWZyZXNoKSB7CiAgICAgICAgICAgIGlmIChyZWZyZXNoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmluc2VydCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuaW5zZXJ0ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0aGlzLmluc2VydCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5jdXJTaXRlUnVsZS5pbnNlcnQpIHsKICAgICAgICAgICAgICAgIGxldCBpbnNlcnRTZWwgPSB0aGlzLmN1clNpdGVSdWxlLmluc2VydDsKICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoaW5zZXJ0U2VsKSkgewogICAgICAgICAgICAgICAgICAgIGluc2VydFNlbCA9IGluc2VydFNlbFtuZXh0SW5kZXggPCBpbnNlcnRTZWwubGVuZ3RoID8gbmV4dEluZGV4IDogMF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmluc2VydCA9IGdldEVsZW1lbnQoaW5zZXJ0U2VsLCBkb2N1bWVudCwgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmRvY1BhZ2VFbGVtZW50ID0gbnVsbDsKICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlbWVudCA9IHRoaXMuZ2V0UGFnZUVsZW1lbnQoZG9jdW1lbnQsIF91bnNhZmVXaW5kb3cpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsICYmIHRoaXMubmV4dExpbmtIcmVmID09ICIjIiAmJiB0aGlzLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID09PSAnYm9keScpIHsKICAgICAgICAgICAgICAgICAgICBkZWJ1ZygiU3RvcCBhcyBqc05leHQgJiB3aG9sZSBib2R5Iik7CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocGFnZUVsZW1lbnQgJiYgcGFnZUVsZW1lbnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwRUxhc3QgPSBwYWdlRWxlbWVudFtwYWdlRWxlbWVudC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydCA9IHBFTGFzdC5uZXh0U2libGluZyA/IHBFTGFzdC5uZXh0U2libGluZyA6IHBFTGFzdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydDsKICAgICAgICB9CgogICAgICAgIHBhZ2VJbml0KGRvYywgZWxlcykgewogICAgICAgICAgICBsZXQgY29kZSA9IHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUluaXQ7CiAgICAgICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICBsZXQgaW5pdEZ1bmMgPSAoKHR5cGVvZiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUluaXQgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsICJlbGVzIiwgJyJ1c2Ugc3RyaWN0IjsnICsgY29kZSkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUluaXQpOwogICAgICAgICAgICAgICAgbGV0IGNoZWNrSW5pdCA9IChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRGdW5jKGRvYywgZWxlcykgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0luaXQocmVzb2x2ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNoZWNrSW5pdChmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZSkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHBhZ2VBY3Rpb24oZG9jLCBlbGVzKSB7CiAgICAgICAgICAgIGxldCBjb2RlID0gdGhpcy5jdXJTaXRlUnVsZS5wYWdlQWN0aW9uOwogICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAoKHR5cGVvZiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUFjdGlvbiA9PSAndW5kZWZpbmVkJykgPyBGdW5jdGlvbigiZG9jIiwgImVsZXMiLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlQWN0aW9uKShkb2MsIGVsZXMpOwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5vcGVuSW5OZXdUYWIoZWxlcyk7CiAgICAgICAgICAgIHRoaXMucmVwbGFjZUVsZW1lbnQoZG9jKTsKICAgICAgICB9CgogICAgICAgIG9wZW5Jbk5ld1RhYihlbGVzKSB7CiAgICAgICAgICAgIGlmIChvcGVuSW5OZXdUYWIpIHsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGVzLCBlbGUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICgvXkEkL2kudGVzdChlbGUubm9kZU5hbWUpICYmIGVsZS5ocmVmICYmICEvXihtYWlsdG86fGphdmFzY3JpcHQ6KXwjLy50ZXN0KGVsZS5ocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCBvcGVuSW5OZXdUYWIgPT0gMSA/ICdfYmxhbmsnIDogJ19zZWxmJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZS5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZdOm5vdChbaHJlZl49Im1haWx0bzoiXSk6bm90KFtocmVmXj0iamF2YXNjcmlwdDoiXSk6bm90KFtocmVmXj0iIyJdKScpLCBhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuSW5OZXdUYWIgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuZ2V0QXR0cmlidXRlKCdvbmNsaWNrJykgPT0gJ2F0YXJnZXQodGhpcyknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucmVtb3ZlQXR0cmlidXRlKCdvbmNsaWNrJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX3NlbGYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGxhenlJbWdBY3Rpb24oZWxlcykgewogICAgICAgICAgICBpZiAoIWVsZXMgfHwgZWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuOwogICAgICAgICAgICBsZXQgbGF6eUltZ1NyYyA9IHRoaXMuY3VyU2l0ZVJ1bGUubGF6eUltZ1NyYzsKICAgICAgICAgICAgaWYgKGxhenlJbWdTcmMgPT09IDAgfHwgbGF6eUltZ1NyYyA9PT0gJzAnKSByZXR1cm47CiAgICAgICAgICAgIGxldCBzZXRMYXp5SW1nID0gaW1nID0+IHsKICAgICAgICAgICAgICAgIGxldCByZWFsU3JjOwogICAgICAgICAgICAgICAgaWYgKGxhenlJbWdTcmMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGF6eUltZ1NyYykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUltZ1NyYyA9IFtsYXp5SW1nU3JjXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVhbFNyYyA9IGltZy5nZXRBdHRyaWJ1dGUobGF6eUltZ1NyY1swXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxhenlJbWdTcmMubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZVByb3BzID0gbGF6eUltZ1NyY1sxXS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVQcm9wcy5mb3JFYWNoKHByb3AgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnJlbW92ZUF0dHJpYnV0ZShwcm9wLnRyaW0oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocmVhbFNyYykgaW1nLnNyYyA9IHJlYWxTcmM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIXJlYWxTcmMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbGF6eUF0dHIgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmdldEF0dHJpYnV0ZSgiX3NyYyIpICYmICFpbWcuc3JjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlBdHRyID0gIl9zcmMiOwogICAgICAgICAgICAgICAgICAgICAgICByZWFsU3JjID0gaW1nLmdldEF0dHJpYnV0ZShsYXp5QXR0cik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBsYXp5SW1nQXR0cikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUF0dHIgPSBsYXp5SW1nQXR0cltpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdHRyVmFsdWUgPSBpbWcuZ2V0QXR0cmlidXRlKGxhenlBdHRyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsU3JjID0gYXR0clZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghcmVhbFNyYyAmJiBpbWcuX2xhenlyaWFzICYmIGltZy5fbGF6eXJpYXMuc3Jjc2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxTcmMgPSBpbWcuX2xhenlyaWFzLnNyY3NldFtpbWcuX2xhenlyaWFzLnNyY3NldC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUF0dHIgPSAiX2xhenlyaWFzIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWFsU3JjICYmIGltZy5zcmNzZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUF0dHIgPSAic3Jjc2V0IjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyY3MgPSBpbWcuc3Jjc2V0LnNwbGl0KC9beHddLC9pKSwgbGFyZ2VTaXplID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgc3Jjcy5mb3JFYWNoKHNyY2kgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNyY0luZm8gPSBzcmNpLnRyaW0oKS5zcGxpdCgiICIpLCBjdXJTaXplID0gcGFyc2VJbnQoc3JjSW5mb1sxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjSW5mb1sxXSAmJiBjdXJTaXplID4gbGFyZ2VTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2VTaXplID0gY3VyU2l6ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsU3JjID0gc3JjSW5mb1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChyZWFsU3JjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSByZWFsU3JjOwogICAgICAgICAgICAgICAgICAgICAgICBpbWcucmVtb3ZlQXR0cmlidXRlKCJzcmNzZXQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnJlbW92ZUF0dHJpYnV0ZShsYXp5QXR0cik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5zdHlsZS52aXNpYmlsaXR5ID09ICJoaWRkZW4iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUudmlzaWJpbGl0eSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuc3R5bGUub3BhY2l0eSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUub3BhY2l0eSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlcywgZWxlID0+IHsKICAgICAgICAgICAgICAgIGlmICgvXklNRyQvaS50ZXN0KGVsZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXRMYXp5SW1nKGVsZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGUucXVlcnlTZWxlY3RvckFsbCgiaW1nLHBpY3R1cmU+c291cmNlIiksIGltZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhenlJbWcoaW1nKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImRpdltkYXRhLXNyY11bZGF0YS10aHVtYl0iKSwgZGl2ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCJiYWNrZ3JvdW5kLWltYWdlIiwgInVybCgiICsgZGl2LmRhdGFzZXQuc3JjICsgIikiLCAiaW1wb3J0YW50Iik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoL15BJC9pLnRlc3QoZWxlLm5vZGVOYW1lKSAmJiBlbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCJsYXp5bG9hZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5kYXRhc2V0Lm9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCInICsgZWxlLmRhdGFzZXQub3JpZ2luYWwgKyAnIiknOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZS5xdWVyeVNlbGVjdG9yQWxsKCJhLmxhenlsb2FkIiksIGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5kYXRhc2V0Lm9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoIicgKyBhLmRhdGFzZXQub3JpZ2luYWwgKyAnIiknOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaW5pdFBhZ2UoY2FsbGJhY2spIHsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICBpZiAoc2VsZi5pbml0aW5nKSByZXR1cm47CiAgICAgICAgICAgIHNlbGYuaW5pdGluZyA9IHRydWU7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgc2VsZi5pbml0aW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIGN1clBhZ2UgPSAxOwogICAgICAgICAgICB1cmxDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuY2xlYXJBZGRlZEVsZW1lbnRzKCk7CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0ID0gbnVsbDsKICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5SXRlbXMgPSBbXTsKICAgICAgICAgICAgdGhpcy52aXNpYmxlSW5kZXggPSAtMTsKICAgICAgICAgICAgdGhpcy5wYWdlRG9jID0gZG9jdW1lbnQ7CiAgICAgICAgICAgIHRoaXMubmV4dExpbmtIcmVmID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXJVcmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICB0aGlzLm9sZFVybCA9ICIiOwogICAgICAgICAgICB0aGlzLmluaXRVcmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICB0aGlzLmhpc3RvcnlVcmwgPSAiIjsKICAgICAgICAgICAgbGV0IGJhc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJiYXNlIik7CiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlID8gYmFzZS5ocmVmIDogbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgdGhpcy5nZXRSdWxlKGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIGlzUGF1c2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1clNpdGVSdWxlLmVuYWJsZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoIlN0b3AgYXMgcnVsZSBkaXNhYmxlIik7CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoaTE4bigiZW5hYmxlIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZW5hYmxlU2l0ZVRpcHMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFzZWxmLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1c3RvbVJ1bGVzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBzZWxmLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jdXN0b21SdWxlc1tpXS51cmwgPT0gc2VsZi5jdXJTaXRlUnVsZS51cmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1c3RvbVJ1bGVzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1clNpdGVSdWxlLmVuYWJsZSA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VzdG9tUnVsZXMudW5zaGlmdChzZWxmLmN1clNpdGVSdWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJjdXN0b21SdWxlcyIsIHNlbGYuY3VzdG9tUnVsZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL+iLpeaYr+WGjeS6guWMuemFjeWwseS4jee3qeWtmHdlZGF0Ye+8jOaIluiAheWPquWcqOaJvuWujOacrOWcsOimj+WJh+S5i+W+jOWGjeiAg+aFrndlZGF0YeeahOe3qeWtmAogICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5zbWFydFJ1bGVzID0gc2VsZi5zbWFydFJ1bGVzLmZpbHRlcihpdGVtID0+IHtyZXR1cm4gaXRlbSAmJiBpdGVtLnVybCAhPSBzZWxmLmN1clNpdGVSdWxlLnVybH0pOwogICAgICAgICAgICAgICAgICAgIHNlbGYuc21hcnRSdWxlcy51bnNoaWZ0KHNlbGYuY3VyU2l0ZVJ1bGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnNtYXJ0UnVsZXMubGVuZ3RoID4gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc21hcnRSdWxlcy5wb3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgc2VsZi5zbWFydFJ1bGVzKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJTaXRlUnVsZSAmJiBzZWxmLmN1clNpdGVSdWxlLnVybC5sZW5ndGggPiAxMykgewogICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkVG9IcFJ1bGVzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgY3NzID0gc2VsZi5jdXJTaXRlUnVsZS5jc3MgfHwgcnVsZXNEYXRhLmN1c3RvbUNzczsKICAgICAgICAgICAgICAgIGlmIChjc3MpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY3NzQXJyID0gY3NzLnNwbGl0KCJpbklmcmFtZToiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3NzQXJyICYmIGNzc0Fyci5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX0dNX2FkZFN0eWxlKGNzc0FyclswXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC9zaWRlc2VhcmNoPSgxfHRydWUpJC8udGVzdChzZWxmLmN1clVybCkpIHsKICAgICAgICAgICAgICAgICAgICBvcGVuSW5OZXdUYWIgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZi5jdXJTaXRlUnVsZS5vcGVuSW5OZXdUYWIgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiID0gc2VsZi5jdXJTaXRlUnVsZS5vcGVuSW5OZXdUYWIgPyAxIDogMjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBhdXRvQ2xpY2sgPSBzZWxmLmN1clNpdGVSdWxlLmF1dG9DbGljazsKICAgICAgICAgICAgICAgIGlmIChhdXRvQ2xpY2spIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYXV0b0NsaWNrQnRuOwogICAgICAgICAgICAgICAgICAgIGF1dG9DbGlja0J0biA9IGdldEVsZW1lbnQoYXV0b0NsaWNrLCBkb2N1bWVudCwgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9DbGlja0J0bikgewogICAgICAgICAgICAgICAgICAgICAgICBlbXVDbGljayhhdXRvQ2xpY2tCdG4pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBjb2RlID0gc2VsZi5jdXJTaXRlUnVsZS5pbml0OwogICAgICAgICAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAoKHR5cGVvZiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsSW5pdCA9PSAndW5kZWZpbmVkJykgPyBuZXcgQXN5bmNGdW5jdGlvbignZG9jJywgJ3dpbicsICdpZnJhbWUnLCAnY2xpY2snLCAnZW50ZXInLCAnaW5wdXQnLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKSA6IF91bnNhZmVXaW5kb3cucGFnZXR1YWxJbml0KShudWxsLCBudWxsLCBudWxsLCBzZWwgPT4ge2NsaWNrQWN0aW9uKHNlbCwgZG9jdW1lbnQpfSwgc2VsID0+IHtlbnRlckFjdGlvbihzZWwsIGRvY3VtZW50KX0sIChzZWwsIHYpID0+e2lucHV0QWN0aW9uKHNlbCwgdiwgZG9jdW1lbnQpfSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZ2V0TmV4dExpbmsoZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsICYmIHNlbGYubmV4dExpbmtIcmVmID09IGZhbHNlICYmIHNlbGYucG9zc2libGVSdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdFBhZ2UoKCkgPT4ge30pOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoQnlDbGljaygpOwoKICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlbWVudENzcyA9IHNlbGYuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnRDc3MgfHwgcnVsZXNEYXRhLnBhZ2VFbGVtZW50Q3NzOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50Q3NzICYmIHBhZ2VFbGVtZW50Q3NzICE9PSAnMCcpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLmdldFBhZ2VFbGVtZW50KGRvY3VtZW50LCBfdW5zYWZlV2luZG93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICBsZXQgaW5pdFJ1biA9IHR5cGVvZiBzZWxmLmN1clNpdGVSdWxlLmluaXRSdW4gPT0gJ3VuZGVmaW5lZCcgPyBydWxlc0RhdGEuaW5pdFJ1biA6IHNlbGYuY3VyU2l0ZVJ1bGUuaW5pdFJ1bjsKICAgICAgICAgICAgICAgIGlmIChpbml0UnVuICYmIGluaXRSdW4gIT0gZmFsc2UgJiYgc2VsZi5uZXh0TGlua0hyZWYpIG5leHRQYWdlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYmVnaW5Mb2FkaW5nKCkgewogICAgICAgICAgICBpc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBsZXQgbGFzdFNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydEVsZW1lbnQobG9hZGluZ0Rpdik7CiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRlID09IDIpIHsKICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IGxvYWRpbmdEaXYucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIGlmICgvXlRCT0RZJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC9eVEFCTEUkL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gbGFzdFNjcm9sbFRvcDsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGxhc3RTY3JvbGxUb3A7CiAgICAgICAgfQoKICAgICAgICBpbnNlcnRFbGVtZW50KGVsZSkgewogICAgICAgICAgICBpZiAoIXRoaXMuaW5zZXJ0IHx8ICF0aGlzLmluc2VydC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldEluc2VydCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmluc2VydCkgewogICAgICAgICAgICAgICAgdGhpcy5hZGRlZEVsZVBvb2wucHVzaChlbGUpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUuaW5zZXJ0UG9zID09IDIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydC5hcHBlbmRDaGlsZChlbGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGUsIHRoaXMuaW5zZXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgaW5zZXJ0UGFnZShkb2MsIGVsZXMsIHVybCwgY2FsbGJhY2ssIHRyaWVkKSB7CiAgICAgICAgICAgIHRoaXMub2xkVXJsID0gdGhpcy5jdXJVcmw7CiAgICAgICAgICAgIGxldCBvbGRUaXRsZSA9IHRoaXMucGFnZURvYy50aXRsZTsKICAgICAgICAgICAgdGhpcy5wYWdlRG9jID0gZG9jOwogICAgICAgICAgICB0aGlzLmN1clVybCA9IHVybDsKICAgICAgICAgICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IG5leHRMaW5rID0gYXdhaXQgdGhpcy5nZXROZXh0TGluayhkb2MpOwogICAgICAgICAgICB0aGlzLm5leHRUaXRsZSA9ICIiOwogICAgICAgICAgICBpZiAodGhpcy5jdXJTaXRlUnVsZS5wYWdlQmFyVGV4dCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VyU2l0ZVJ1bGUucGFnZUJhclRleHQgPT0gMSB8fCB0aGlzLmN1clNpdGVSdWxlLnBhZ2VCYXJUZXh0ID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUaXRsZSA9IGRvYy50aXRsZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGl0bGUgPSAoKHR5cGVvZiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUJhclRleHQgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oImRvYyIsJyJ1c2Ugc3RyaWN0IjsnICsgdGhpcy5jdXJTaXRlUnVsZS5wYWdlQmFyVGV4dCkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZUJhclRleHQpKGRvYyk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY3VyUGFnZSA9PSAxICYmICF0cmllZCAmJiAhbmV4dExpbmsgJiYgdGhpcy5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgJiYgdGhpcy5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCAmJiB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiAhPSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1clNpdGVSdWxlLmFjdGlvbiA9IDE7CiAgICAgICAgICAgICAgICB0aGlzLmN1clVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbGFzdFNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICB0aGlzLmdldEluc2VydCgpOwogICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIG5ld0VsZXMgPSBbXTsKICAgICAgICAgICAgaWYgKCFlbGVzIHx8IGVsZXMubGVuZ3RoID09IDAgfHwgIXNlbGYuaW5zZXJ0IHx8ICFzZWxmLmluc2VydC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVsZXMpOwogICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhZ2VJbml0KGRvYywgZWxlcyk7CiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVsZXMpOwogICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZXMsIGVsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VsZSA9IGVsZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZENhbnZhc3MgPSBlbGUucXVlcnlTZWxlY3RvckFsbCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0NhbnZhc3MgPSBuZXdFbGUucXVlcnlTZWxlY3RvckFsbCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYudXBkYXRlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChuZXdFbGUucXVlcnlTZWxlY3RvckFsbCgiaW1nIiksIGltZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmdldEF0dHJpYnV0ZSgic3JjIikpIGltZy5zcmMgPSBzZWxmLmNhbm9uaWNhbFVyaShpbWcuZ2V0QXR0cmlidXRlKCJzcmMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobmV3RWxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEiKSwgYSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5nZXRBdHRyaWJ1dGUoImhyZWYiKSkgYS5ocmVmID0gc2VsZi5jYW5vbmljYWxVcmkoYS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZENhbnZhc3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9sZENhbnZhcyA9IG9sZENhbnZhc3NbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdDYW52YXMgPSBuZXdDYW52YXNzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBuZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2Uob2xkQ2FudmFzLCAwLCAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCEvXihTVFlMRXxTQ1JJUFQpJC8udGVzdChuZXdFbGUubm9kZU5hbWUpKSBzZWxmLnZpc2liaWxpdHlJdGVtcy5wdXNoKG5ld0VsZSk7CiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5hcHBlbmRDaGlsZChuZXdFbGUpCiAgICAgICAgICAgICAgICAgICAgbmV3RWxlcy5wdXNoKG5ld0VsZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNlbGYuaW5zZXJ0RWxlbWVudChjb2xsZWN0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSBsYXN0U2Nyb2xsVG9wOwogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gbGFzdFNjcm9sbFRvcDsKICAgICAgICAgICAgdGhpcy5wYWdlQWN0aW9uKGRvYywgbmV3RWxlcyk7CiAgICAgICAgICAgIGxldCBlbmFibGVIaXN0b3J5ID0gdGhpcy5jdXJTaXRlUnVsZS5oaXN0b3J5OwogICAgICAgICAgICBsZXQgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChlbmFibGVIaXN0b3J5ID09IDEpIHsKICAgICAgICAgICAgICAgIGVuYWJsZUhpc3RvcnkgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKGVuYWJsZUhpc3RvcnkgPT0gMikgewogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeSA9IHRydWU7CiAgICAgICAgICAgICAgICBlbmFibGVIaXN0b3J5QWZ0ZXJJbnNlcnQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKGVuYWJsZUhpc3RvcnkgPT0gMCkgewogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeSA9IHJ1bGVzRGF0YS5lbmFibGVIaXN0b3J5OwogICAgICAgICAgICAgICAgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID0gcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnlBZnRlckluc2VydDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZW5hYmxlSGlzdG9yeSkgewogICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5VXJsID0gZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0ID8gdGhpcy5jdXJVcmwgOiB0aGlzLm9sZFVybDsKICAgICAgICAgICAgICAgIGlmKHRoaXMuaGlzdG9yeVVybCAhPSBsb2NhdGlvbi5ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGlzSnMgPSAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KHRoaXMuaGlzdG9yeVVybC5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0pzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXN0b3J5VGl0bGUgPSBlbmFibGVIaXN0b3J5QWZ0ZXJJbnNlcnQgPyBkb2MudGl0bGUgOiBvbGRUaXRsZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3Vuc2FmZVdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIGhpc3RvcnlUaXRsZSwgdGhpcy5oaXN0b3J5VXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBoaXN0b3J5VGl0bGU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICB2YXIgcnVsZVBhcnNlciA9IG5ldyBSdWxlUGFyc2VyKCk7CgogICAgY2xhc3MgU2lkZUNvbnRyb2xsZXIgewogICAgICAgIC8vc3RhdGljIGNvbnRyb2xsZXI7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICAvKnN0YXRpYyBnZXRJbnN0YW5jZSgpIHsKICAgICAgICAgICAgaWYgKCFTaWRlQ29udHJvbGxlci5jb250cm9sbGVyKSB7CiAgICAgICAgICAgICAgICBTaWRlQ29udHJvbGxlci5jb250cm9sbGVyID0gbmV3IFNpZGVDb250cm9sbGVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFNpZGVDb250cm9sbGVyLmNvbnRyb2xsZXI7CiAgICAgICAgfSovCgogICAgICAgIHNldHVwKCkgewogICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaWRlQ29udHJvbGxlciA9PT0gZmFsc2UpIHJldHVybjsKICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXIgJiYgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2lkZUNvbnRyb2xsZXIpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5hZGRUb1N0YWdlKCk7CiAgICAgICAgfQoKICAgICAgICBpbml0KCkgewogICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuY3NzVGV4dCA9IGAKICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciB7CiAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICAgICAgIHRvcDogY2FsYyg1MCUgLSA4M3B4KTsKICAgICAgICAgICAgICAgICBsZWZ0OiBjYWxjKDk5JSAtIDQwcHgpOwogICAgICAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogcmdiKDAgMCAwKSAwcHggMHB4IDEwcHg7CiAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmZkMCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NiFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgcGFkZGluZzogMCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zNTsKICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IC41cyBlYXNlLCBiYWNrZ3JvdW5kIC41cywgYm94LXNoYWRvdyAuNXM7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXI6aG92ZXIgewogICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgKiB7CiAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IGFyaWFsOwogICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsKICAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHghaW1wb3J0YW50OwogICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjayFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgICBmbG9hdDogbm9uZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci5zdG9wIHsKICAgICAgICAgICAgICAgICAtd2Via2l0LWZpbHRlcjogaW52ZXJ0KDEwMCUpOwogICAgICAgICAgICAgICAgIGZpbHRlcjogaW52ZXJ0KDEwMCUpOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgLnBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLWJ0biB7CiAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDA7CiAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0LCBvcGFjaXR5IC4zcyBlYXNlOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyIC5wYWdldHVhbC1zaWRlQ29udHJvbGxlci1idG46aG92ZXIgewogICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS41KTsKICAgICAgICAgICAgICAgICBjb2xvcjogcmVkIWltcG9ydGFudDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci5taW5TaXplIHsKICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiByZ2IoMCAwIDAgLyAwJSkgMHB4IDBweCAwcHg7CiAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDAwMDAwIWltcG9ydGFudDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci5taW5TaXplIC5wYWdldHVhbC1zaWRlQ29udHJvbGxlci1idG4gewogICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUgPiBzdmcgewogICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlciAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IHN2Zzpob3ZlciB7CiAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLm1pblNpemUgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUgPiBzdmcgewogICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUgPiBpbWcsCiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUgPiBzcGFuIHsKICAgICAgICAgICAgICAgICB3aWR0aDogMzVweDsKICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7CiAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLm1pblNpemUgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUgPiBpbWcsCiAgICAgICAgICAgICAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXIubWluU2l6ZSAjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbW92ZSA+IHNwYW4gewogICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7CiAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IHJnYigyNTUgMjU1IDI1NSkgMHB4IDBweCAxMHB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1wYWdlbnVtIHsKICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE1cHghaW1wb3J0YW50OwogICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgcmlnaHQ6IGNhbGMoNTAlIC0gMTVweCk7CiAgICAgICAgICAgICAgICAgdG9wOiBjYWxjKDUwJSAtIDE1cHgpOwogICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA5OTsKICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNXMgZWFzZTsKICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci5taW5TaXplICNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1wYWdlbnVtIHsKICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGxldCBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBmcmFtZS5pZCA9ICJwYWdldHVhbC1zaWRlQ29udHJvbGxlciI7CiAgICAgICAgICAgIGZyYW1lLmlubmVySFRNTCA9IGNyZWF0ZUhUTUwoYAogICAgICAgICAgICAgICAgPGRpdiBpZD0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItdG9wIiBjbGFzcz0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYnRuIj7iirw8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLXByZSIgY2xhc3M9InBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLWJ0biI+4oinPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUiPjxzdmcgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czogMTVweDtkaXNwbGF5OiBpbml0aWFsO3Bvc2l0aW9uOiByZWxhdGl2ZTtjdXJzb3I6IHBvaW50ZXI7bWFyZ2luOiAwO3dpZHRoOiAzMHB4O2hlaWdodDogMzBweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjwvc3ZnPjxkaXYgaWQ9InBhZ2V0dWFsLXNpZGVDb250cm9sbGVyLXBhZ2VudW0iPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwYWdldHVhbC1zaWRlQ29udHJvbGxlci1uZXh0IiBjbGFzcz0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYnRuIj7iiKg8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBpZD0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYm90dG9tIiBjbGFzcz0icGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItYnRuIj7iirs8L2Rpdj4KICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIGxldCB0b3AgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItdG9wIik7CiAgICAgICAgICAgIGxldCBwcmUgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItcHJlIik7CiAgICAgICAgICAgIGxldCBtb3ZlID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLW1vdmUiKTsKICAgICAgICAgICAgbGV0IG5leHQgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWwtc2lkZUNvbnRyb2xsZXItbmV4dCIpOwogICAgICAgICAgICBsZXQgYm90dG9tID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI3BhZ2V0dWFsLXNpZGVDb250cm9sbGVyLWJvdHRvbSIpOwogICAgICAgICAgICBsZXQgcGFnZW51bSA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNwYWdldHVhbC1zaWRlQ29udHJvbGxlci1wYWdlbnVtIik7CiAgICAgICAgICAgIGlmIChzaWRlQ29udHJvbGxlckljb24pIG1vdmUuaW5uZXJIVE1MID0gc2lkZUNvbnRyb2xsZXJJY29uOwoKICAgICAgICAgICAgZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcigiZGJsY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0sIHRydWUpOwoKICAgICAgICAgICAgZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIGUgPT4gewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuaGlkZVRpbWVyKTsKICAgICAgICAgICAgICAgIGZyYW1lLmNsYXNzTGlzdC5yZW1vdmUoIm1pblNpemUiKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5oaWRlVGltZXIpOwogICAgICAgICAgICAgICAgc2VsZi5oaWRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBmcmFtZS5jbGFzc0xpc3QuYWRkKCJtaW5TaXplIik7CiAgICAgICAgICAgICAgICB9LCA4MDApOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHByZS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHByZVBhZ2VCYXIgPSBnZXRQYWdlQmFyKCkucHJlQmFyOwogICAgICAgICAgICAgICAgaWYgKHByZVBhZ2VCYXIpIHsKICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIocHJlUGFnZUJhcik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFRvcCAtICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCksIGJlaGF2aW9yOiAnc21vb3RoJ30pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIG5leHQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGxldCBwYWdlQmFyT2JqID0gZ2V0UGFnZUJhcigpOwogICAgICAgICAgICAgICAgbGV0IG5leHRQYWdlQmFyID0gcGFnZUJhck9iai5uZXh0QmFyOwogICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9QYWdlQmFyKG5leHRQYWdlQmFyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VCYXJPYmoucHJlQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGxIID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAoc2Nyb2xsSCB8fCA5OTk5OTk5KSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFRvcCArICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCksIGJlaGF2aW9yOiAnc21vb3RoJ30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdHJ1ZSk7CgogICAgICAgICAgICB0b3AuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcD0wOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD0wOwogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CgogICAgICAgICAgICBib3R0b20uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGlmICghZS5hbHRLZXkgJiYgIWUuY3RybEtleSAmJiAhZS5zaGlmdEtleSAmJiAhZS5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RvcCh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBzY3JvbGxIID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCA9IHNjcm9sbEggfHwgOTk5OTk5OTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxIIHx8IDk5OTk5OTk7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIGxldCBpbml0WCwgaW5pdFksIG1vdmluZyA9IGZhbHNlOwogICAgICAgICAgICBtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIW1vdmluZykgewogICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0b3AoIWlzUGF1c2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIG1vdmUub25jb250ZXh0bWVudSA9IGUgPT4gewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgcGlja2VyLnN0YXJ0KCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCByZW1vdmVUaW1lcjsKCiAgICAgICAgICAgIGxldCBtb3VzZU1vdmVIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAobW92aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHdpbmRvd0hlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICAgICAgICAgICAgICBsZXQgd2luZG93V2lkdGg9d2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgICAgICAgICAgICAgIGluaXRYID0gKGUuY2xpZW50WCAtIDEwICsgNDApIC8gd2luZG93V2lkdGggKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgaW5pdFkgPSAoZS5jbGllbnRZIC0gODMgKyA4MykgLyB3aW5kb3dIZWlnaHQgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS50b3AgPSBgY2FsYygke2luaXRZfSUgLSA4M3B4KWA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS5sZWZ0ID0gYGNhbGMoJHtpbml0WH0lIC0gNDBweClgOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhlLmNsaWVudFggLSBpbml0WCkgKyBNYXRoLmFicyhlLmNsaWVudFkgLSBpbml0WSkgPiAyMCkgewogICAgICAgICAgICAgICAgICAgIG1vdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlbW92ZVRpbWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgbGV0IG1vdXNlVXBIYW5kbGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocmVtb3ZlVGltZXIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgbW91c2VNb3ZlSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgbW91c2VVcEhhbmRsZXIsIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKG1vdmluZykgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlclBvcyA9IHt4OiBwYXJzZUludChpbml0WCksIHk6IHBhcnNlSW50KGluaXRZKX07CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlc0RhdGEiLCBydWxlc0RhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgbW92ZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBlID0+IHsKICAgICAgICAgICAgICAgIGluaXRYID0gZS5jbGllbnRYOwogICAgICAgICAgICAgICAgaW5pdFkgPSBlLmNsaWVudFk7CiAgICAgICAgICAgICAgICBtb3ZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZW1vdmVUaW1lcik7CiAgICAgICAgICAgICAgICByZW1vdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIG1vdXNlTW92ZUhhbmRsZXIsIHRydWUpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIG1vdXNlVXBIYW5kbGVyLCB0cnVlKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CgogICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7CiAgICAgICAgICAgIHRoaXMucGFnZW51bSA9IHBhZ2VudW07CiAgICAgICAgICAgIGlmIChydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJQb3MpIHsKICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuc3R5bGUudG9wID0gYGNhbGMoJHtydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJQb3MueX0lIC0gODNweClgOwogICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5zdHlsZS5sZWZ0ID0gYGNhbGMoJHtydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJQb3MueH0lIC0gNDBweClgOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhZGRUb1N0YWdlKCkgewogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgaWYgKCF0aGlzLnN0eWxlRWxlIHx8ICF0aGlzLnN0eWxlRWxlLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVFbGUgPSBfR01fYWRkU3R5bGUodGhpcy5jc3NUZXh0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWlzUGF1c2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgic3RvcCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucGFnZW51bS5pbm5lclRleHQgPSBjdXJQYWdlOwogICAgICAgICAgICB0aGlzLmZyYW1lLnRpdGxlID0gaTE4bigicGFnZSIpICsgY3VyUGFnZTsKICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWUucGFyZW50Tm9kZSkgcmV0dXJuOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKTsKICAgICAgICAgICAgdGhpcy5mcmFtZS5jbGFzc0xpc3QuYWRkKCJtaW5TaXplIik7CiAgICAgICAgfQoKICAgICAgICByZW1vdmUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lICYmIHRoaXMuZnJhbWUucGFyZW50Tm9kZSkgdGhpcy5mcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUpOwogICAgICAgIH0KICAgIH0KICAgIGNvbnN0IHNpZGVDb250cm9sbGVyID0gbmV3IFNpZGVDb250cm9sbGVyKCk7CgogICAgY2xhc3MgTmV4dFN3aXRjaCB7CiAgICAgICAgLy9zdGF0aWMgbmV4dFN3aXRjaDsKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8qc3RhdGljIGdldEluc3RhbmNlKCkgewogICAgICAgICAgICBpZiAoIU5leHRTd2l0Y2gubmV4dFN3aXRjaCkgewogICAgICAgICAgICAgICAgTmV4dFN3aXRjaC5uZXh0U3dpdGNoID0gbmV3IE5leHRTd2l0Y2goKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gTmV4dFN3aXRjaC5uZXh0U3dpdGNoOwogICAgICAgIH0qLwoKICAgICAgICBpbml0KCkgewogICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuY3NzVGV4dCA9IGAKICAgICAgICAgICAgICNwYWdldHVhbC1uZXh0U3dpdGNoIHsKICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgdG9wOiAxMHB4OwogICAgICAgICAgICAgIGxlZnQ6IGNhbGMoNTAlIC0gMTYwcHgpOwogICAgICAgICAgICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTsKICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgb3BhY2l0eTogMC45NTsKICAgICAgICAgICAgICBjb2xvcjogIzE2MTYxNjsKICAgICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICBib3gtc2hhZG93OiByZ2IoMCAwIDApIDBweCAwcHggMTBweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1uZXh0U3dpdGNoPi50aXRsZSB7CiAgICAgICAgICAgICAgbWFyZ2luOiAtNXB4IDQ1cHggMTBweCA0NXB4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7CiAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgY29sb3I6IG9yYW5nZXJlZDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1uZXh0U3dpdGNoPi5ncm91cCB7CiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+Lmdyb3VwPnNwYW4gewogICAgICAgICAgICAgIGNvbG9yOiAjMTYxNjE2OwogICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICBtYXJnaW46IDNweDsKICAgICAgICAgICAgICBmb250LXNpemU6IGxhcmdlcjsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1uZXh0U3dpdGNoPi5ncm91cD5zcGFuOmhvdmVyIHsKICAgICAgICAgICAgICBjb2xvcjogcmVkOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+Lmdyb3VwPnNwYW4uY3VycmVudCB7CiAgICAgICAgICAgICAgYm9yZGVyOiAycHggZG90dGVkIHJlZDsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2g+LmNsb3NlU3dpdGNoIHsKICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgdG9wOiAzcHg7CiAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjE1cyBlYXNlLWluLW91dDsKICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLW5leHRTd2l0Y2ggc3ZnIHsKICAgICAgICAgICAgICB3aWR0aDogMzBweDsKICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICAgICAgICBmaWxsOiAjMTYxNjE2OwogICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtbmV4dFN3aXRjaCBidXR0b246aG92ZXIgewogICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgYDsKICAgICAgICAgICAgbGV0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGZyYW1lLmlkID0gInBhZ2V0dWFsLW5leHRTd2l0Y2giOwogICAgICAgICAgICBmcmFtZS5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlIj4ke2kxOG4oIm5leHRTd2l0Y2giKX08L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2VTd2l0Y2giPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIyNzU0Ij4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTEyIDEyOGMyMTIgMCAzODQgMTcyIDM4NCAzODRzLTE3MiAzODQtMzg0IDM4NC0zODQtMTcyLTM4NC0zODQgMTcyLTM4NCAzODQtMzg0bTAtNjRDMjY0LjggNjQgNjQgMjY0LjggNjQgNTEyczIwMC44IDQ0OCA0NDggNDQ4IDQ0OC0yMDAuOCA0NDgtNDQ4Uzc1OS4yIDY0IDUxMiA2NHogbTIzOC40IDI1NC40bC00NS42LTQ1LjZMNTEyIDQ2Ny4yIDMxOC40IDI3My42bC00NS42IDQ1LjZMNDY3LjIgNTEyIDI3My42IDcwNS42bDQ1LjYgNDUuNkw1MTIgNTU3LjZsMTkzLjYgMTkzLjYgNDUuNi00NS42TDU1Ny42IDUxMmwxOTIuOC0xOTMuNnoiIHAtaWQ9IjI3NTUiPgogICAgICAgICAgICAgICAgICAgIDwvcGF0aD4KICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imdyb3VwIj48L2Rpdj4KICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIGxldCBncm91cCA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi5ncm91cCIpOwogICAgICAgICAgICBsZXQgY2xvc2VCdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIuY2xvc2VTd2l0Y2giKTsKICAgICAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTsKICAgICAgICAgICAgbGV0IGN1cnJlbnRTcGFuOwogICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlLm5leHRMaW5rLmZvckVhY2goKGxpbmssIGkpID0+IHsKICAgICAgICAgICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGdldEVsZW1lbnQobGluaywgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gIjxiPiIgKyAoaSArIDEpICsgIjwvYj46ICI7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldElubmVyID0gdGFyZ2V0LmlubmVyVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSBpbmRleCArICh0YXJnZXRJbm5lciB8fCBsaW5rKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSBpbmRleCArICJOb3QgRm91bmQiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3Bhbi50aXRsZSA9IGxpbms7CiAgICAgICAgICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTcGFuKSBjdXJyZW50U3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCJjdXJyZW50Iik7CiAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCJjdXJyZW50Iik7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNwYW4gPSBzcGFuOwogICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IGk7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJuZXh0U3dpdGNoXyIgKyBsb2NhdGlvbi5ob3N0LCBuZXh0SW5kZXggPT09IDAgPyAiIiA6IG5leHRJbmRleCk7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXJVcmwgKz0gIiNwYWdldHVhbCI7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5vbGRVcmwgPSBydWxlUGFyc2VyLmN1clVybDsKICAgICAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IC0xOwogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5uZXh0TGlua0hyZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuZ2V0TmV4dExpbmsocnVsZVBhcnNlci5wYWdlRG9jIHx8IGRvY3VtZW50KTsKICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgIGlmIChpID09IG5leHRJbmRleCkgewogICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgiY3VycmVudCIpOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTcGFuID0gc3BhbjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHN0YXJ0KCkgewogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgaWYgKCF0aGlzLnN0eWxlRWxlIHx8ICF0aGlzLnN0eWxlRWxlLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVFbGUgPSBfR01fYWRkU3R5bGUodGhpcy5jc3NUZXh0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSk7CiAgICAgICAgfQoKICAgICAgICBjbG9zZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWUucGFyZW50Tm9kZSkgdGhpcy5mcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUpOwogICAgICAgIH0KICAgIH0KICAgIGNvbnN0IG5leHRTd2l0Y2ggPSBuZXcgTmV4dFN3aXRjaCgpOwoKICAgIGNsYXNzIFBpY2tlciB7CiAgICAgICAgLy9zdGF0aWMgcGlja2VyOwogICAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgICAgICB0aGlzLmluaXRlZCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgLypzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgICAgIGlmICghUGlja2VyLnBpY2tlcikgewogICAgICAgICAgICAgICAgUGlja2VyLnBpY2tlciA9IG5ldyBQaWNrZXIoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gUGlja2VyLnBpY2tlcjsKICAgICAgICB9Ki8KCiAgICAgICAgaW5pdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGVkKSByZXR1cm47CiAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICB0aGlzLnNpZ25MaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuY3NzVGV4dCA9IGAKICAgICAgICAgICAgIGJvZHkucGFnZXR1YWwtcGlja2VyLAogICAgICAgICAgICAgYm9keS5wYWdldHVhbC1waWNrZXIgKjpob3ZlciwKICAgICAgICAgICAgIGJvZHkucGFnZXR1YWwtcGlja2VyIGE6aG92ZXIgewogICAgICAgICAgICAgIGN1cnNvcjogY3Jvc3NoYWlyICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIHsKICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgICAgdG9wOiAxMHB4OwogICAgICAgICAgICAgIGxlZnQ6IGNhbGMoNTAlIC0gMTc4cHgpOwogICAgICAgICAgICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTsKICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgb3BhY2l0eTogMC45NTsKICAgICAgICAgICAgICBjb2xvcjogIzE2MTYxNjsKICAgICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ2OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICBib3gtc2hhZG93OiByZ2IoMCAwIDApIDBweCAwcHggMTBweDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgKiB7CiAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFRpbWVzIE5ldyBSb21hbjsKICAgICAgICAgICAgICBvdmVyZmxvdzogaW5pdGlhbDsKICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXI+LnRpdGxlIHsKICAgICAgICAgICAgICBtYXJnaW46IC01cHggNDVweCAxMHB4IDQ1cHg7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgIGN1cnNvcjogbW92ZTsKICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7CiAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgY29sb3I6IG9yYW5nZXJlZDsKICAgICAgICAgICAgICBoZWlnaHQ6IGluaXRpYWw7CiAgICAgICAgICAgICAgd2lkdGg6IGluaXRpYWw7CiAgICAgICAgICAgICAgcG9zaXRpb246IGluaXRpYWw7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIGJ1dHRvbiB7CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjE1cyBlYXNlLWluLW91dDsKICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdW5zZXQhaW1wb3J0YW50OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciBidXR0b246aG92ZXIgewogICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXI+LmNsb3NlUGlja2VyIHsKICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgdG9wOiAzcHg7CiAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyPi5sb2dvSWNvbiB7CiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgIHRvcDogM3B4OwogICAgICAgICAgICAgIGxlZnQ6IDEwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyPi5sb2dvSWNvbi5zaG93U2lnbj5zdmc+cGF0aCB7CiAgICAgICAgICAgICAgZmlsbDogZ3JheTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgdGV4dGFyZWF7CiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2NXB4KTsKICAgICAgICAgICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgICAgbWluLXdpZHRoOiAyOTBweDsKICAgICAgICAgICAgICBtYXgtd2lkdGg6IGNhbGMoNjV2dyAtIDUwcHgpOwogICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IHVuc2V0OwogICAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMnB4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgICAgICAgY29sb3I6ICM0OTUwNTc7CiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwogICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAuMTVzIGVhc2UtaW4tb3V0LGJveC1zaGFkb3cgLjE1cyBlYXNlLWluLW91dDsKICAgICAgICAgICAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICAgICAgICByZXNpemU6IGJvdGg7CiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNXB4IDFweCAjZGRkOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciB0ZXh0YXJlYTpmb2N1cyB7CiAgICAgICAgICAgICAgY29sb3I6IGJsYWNrOwogICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjODBiZGZmOwogICAgICAgICAgICAgIG91dGxpbmU6IDA7CiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMy4ycHggcmdiKDAgMTIzIDI1NSAvIDI1JSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIFt0eXBlPWNoZWNrYm94XSwKICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgW3R5cGU9cmFkaW9dIHsKICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICAgICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgICAgd2lkdGg6IDI1cHg7CiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgICAgICAgIGFwcGVhcmFuY2U6IGF1dG87CiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgIHBvc2l0aW9uOiBpbml0aWFsOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciBsYWJlbCB7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNXB4OwogICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgIGNvbG9yOiBibGFjazsKICAgICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5ib3R0b20gewogICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5ib3R0b20+YnV0dG9uIHsKICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIHN2ZyB7CiAgICAgICAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgICAgICAgZmlsbDogIzE2MTYxNjsKICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciBzdmcgKiB7CiAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5hbGxwYXRoIHsKICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IGF1dG87CiAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzMzBweDsKICAgICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7CiAgICAgICAgICAgICAgY3Vyc29yOiBjb250ZXh0LW1lbnU7CiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiA0MnB4OwogICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjptYXgtaGVpZ2h0IDFzIGVhc2UtaW47CiAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm1heC1oZWlnaHQgMXMgZWFzZS1pbjsKICAgICAgICAgICAgICB0cmFuc2l0aW9uOm1heC1oZWlnaHQgMXMgZWFzZS1pbjsKICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5hbGxwYXRoOmhvdmVyIHsKICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTMwcHgpOwogICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuYWxscGF0aD5zcGFuLnBhdGggewogICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgLmFsbHBhdGg+c3Bhbi5wYXRoOmhvdmVyIHsKICAgICAgICAgICAgICBjb2xvcjogb3JhbmdlcmVkOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAubW9yZUNvbmZpZyB7CiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkOwogICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuY29tbWFuZCB7CiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgY29sb3I6IGJsYWNrIWltcG9ydGFudDsKICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgZm9udC1zaXplOiBsYXJnZTsKICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuY29tbWFuZDpob3ZlciB7CiAgICAgICAgICAgICAgY29sb3I6IG9yYW5nZXJlZDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgI3Nob3dEZXRhaWwgewogICAgICAgICAgICAgIGZsb2F0OiBpbml0aWFsOwogICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyICNzaG93RGV0YWlsLnNob3dEZXRhaWwgewogICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgI3Nob3dEZXRhaWw+c3ZnIHsKICAgICAgICAgICAgICAtbW96LXRyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgZWFzZTsKICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgZWFzZTsKICAgICAgICAgICAgICB0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjMgZWFzZTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICNwYWdldHVhbC1waWNrZXIgI3Nob3dEZXRhaWwuc2hvd0RldGFpbD5zdmcgewogICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC50ZW1wUnVsZSB7CiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgICBoZWlnaHQ6IDMwMHB4OwogICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDE1MHB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAjc2F2ZURldGFpbCB7CiAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgYm90dG9tOiAxMHB4OwogICAgICAgICAgICAgIHJpZ2h0OiA4cHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5zaG93RGV0YWlsfiNzYXZlRGV0YWlsIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyICNzYXZlRGV0YWlsIHN2ZyB7CiAgICAgICAgICAgICAgd2lkdGg6IDM1cHg7CiAgICAgICAgICAgICAgaGVpZ2h0OiAzNXB4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuYWRkUHJvcCB7CiAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICBib3R0b206IDQ1cHg7CiAgICAgICAgICAgICAgcmlnaHQ6IDEycHg7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAjcGFnZXR1YWwtcGlja2VyIC5zaG93RGV0YWlsfi5hZGRQcm9wIHsKICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgI3BhZ2V0dWFsLXBpY2tlciAuYWRkUHJvcD5idXR0b24gewogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMzBweDsKICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsc2Fucy1zZXJpZjsKICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMzVweDsKICAgICAgICAgICAgICBjb2xvcjogIzE2MTYxNjsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgYDsKICAgICAgICAgICAgdGhpcy5tYWluU2lnbkRpdiA9IHRoaXMuY3JlYXRlU2lnbkRpdigpOwogICAgICAgICAgICB0aGlzLmFsbFNpZ25EaXYgPSBbXTsKICAgICAgICAgICAgbGV0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGZyYW1lLmlkID0gInBhZ2V0dWFsLXBpY2tlciI7CiAgICAgICAgICAgIGZyYW1lLmlubmVySFRNTCA9IGNyZWF0ZUhUTUwoYAogICAgICAgICAgICAgICAgPGJ1dHRvbiB0aXRsZT0iUGFnZXR1YWwiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImxvZ29JY29uIj4KICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGNsYXNzPSJ1cFN2ZyBwYWdldHVhbCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjwvc3ZnPgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSIgdGl0bGU9IiR7aTE4bigiY29uZmlndXJlIil9Ij4ke2kxOG4oInBpY2tlciIpfTwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0aXRsZT0iJHtpMThuKCJjbG9zZVBpY2tlciIpfSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2VQaWNrZXIiPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNTEyIDEyOGMyMTIgMCAzODQgMTcyIDM4NCAzODRzLTE3MiAzODQtMzg0IDM4NC0zODQtMTcyLTM4NC0zODQgMTcyLTM4NCAzODQtMzg0bTAtNjRDMjY0LjggNjQgNjQgMjY0LjggNjQgNTEyczIwMC44IDQ0OCA0NDggNDQ4IDQ0OC0yMDAuOCA0NDgtNDQ4Uzc1OS4yIDY0IDUxMiA2NHogbTIzOC40IDI1NC40bC00NS42LTQ1LjZMNTEyIDQ2Ny4yIDMxOC40IDI3My42bC00NS42IDQ1LjZMNDY3LjIgNTEyIDI3My42IDcwNS42bDQ1LjYgNDUuNkw1MTIgNTU3LjZsMTkzLjYgMTkzLjYgNDUuNi00NS42TDU1Ny42IDUxMmwxOTIuOC0xOTMuNnoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48L3N2Zz4KICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWxscGF0aCIgdGl0bGU9IiR7aTE4bigic3dpdGNoU2VsZWN0b3IiKX0iPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPSJzZWxlY3RvciIgc3BlbGxjaGVjaz0iZmFsc2UiIG5hbWU9InNlbGVjdG9yIiBwbGFjZWhvbGRlcj0iJHtpMThuKCJwaWNrZXJQbGFjZWhvbGRlciIpfSI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2hlY2siIHRpdGxlPSIke2kxOG4oInBpY2tlckNoZWNrIil9IiB0eXBlPSJidXR0b24iPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01MTIgMTI4YTM4NCAzODQgMCAxIDAgMCA3NjggMzg0IDM4NCAwIDAgMCAwLTc2OHogbTAtODUuMzMzMzMzYzI1OS4yIDAgNDY5LjMzMzMzMyAyMTAuMTMzMzMzIDQ2OS4zMzMzMzMgNDY5LjMzMzMzM3MtMjEwLjEzMzMzMyA0NjkuMzMzMzMzLTQ2OS4zMzMzMzMgNDY5LjMzMzMzM1M0Mi42NjY2NjcgNzcxLjIgNDIuNjY2NjY3IDUxMiAyNTIuOCA0Mi42NjY2NjcgNTEyIDQyLjY2NjY2N3pNNjk2LjE0OTMzMyAyOTguNjY2NjY3TDc2OCAzNDkuODY2NjY3IDQ3MS41OTQ2NjcgNzI1LjMzMzMzMyAyNTYgNTcxLjczMzMzM2w1My44ODgtNjguMjY2NjY2IDE0My43NDQgMTAyLjR6IiBmaWxsPSIjNjA0YjRhIj48L3BhdGg+PC9zdmc+CiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJib3R0b20iPgogICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0ieHBhdGgiIGlkPSJjaGVja2JveF9pZCIgdHlwZT0iY2hlY2tib3giIC8+CiAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImNoZWNrYm94X2lkIj5YUGF0aDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImVkaXQiIHRpdGxlPSIke2kxOG4oImdvdG9FZGl0Iil9IiB0eXBlPSJidXR0b24iPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgc3R5bGU9ImNvbG9yOiBvcmFuZ2VyZWQ7ZmlsbDogb3JhbmdlcmVkOyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3NS44NCAzOTIuNzY4bC0xNTUuMi0xNzIuMzUyTDE2MC43NjggNjQzLjI2NGwtMzguMzY4IDE4Ny45MzYgMTkwLjU2LTEyLjgzMnpNOTI5Ljk1MiAyMjkuOTUybC0xMzEuMi0xNTAuOTQ0LTAuMjg4LTAuMzJhMTYgMTYgMCAwIDAtMjIuNTkyLTAuOTZsLTEzMS4xNjggMTIwLjU3NiAxNTUuMTY4IDE3Mi4zNTIgMTI4LjgzMi0xMTguNDY0YTE1LjkzNiAxNS45MzYgMCAwIDAgMS4yNDgtMjIuMjR6TTk2IDg5Nmg4MzJ2NjRIOTZ6Ij4KICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vcmVDb25maWciPgogICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPSIke2kxOG4oJ2ZvcmNlU3RhdGVJZnJhbWUnKX0iPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPSJmb3JjZVN0YXRlIiBpZD0iZm9yY2VTdGF0ZUlmcmFtZSIgdHlwZT0icmFkaW8iIC8+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZm9yY2VTdGF0ZUlmcmFtZSI+JHtpMThuKCdpZnJhbWUnKX08L2xhYmVsPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiB0aXRsZT0iJHtpMThuKCdmb3JjZVN0YXRlRHluYW1pYycpfSI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9ImZvcmNlU3RhdGUiIGlkPSJmb3JjZVN0YXRlRHluYW1pYyIgdHlwZT0icmFkaW8iIC8+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZm9yY2VTdGF0ZUR5bmFtaWMiPiR7aTE4bignZHluYW1pYycpfTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPSIke2kxOG4oJ2ZvcmNlU3RhdGVEaXNhYmxlJyl9Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iZm9yY2VTdGF0ZSIgaWQ9ImZvcmNlU3RhdGVEaXNhYmxlIiB0eXBlPSJyYWRpbyIgLz4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJmb3JjZVN0YXRlRGlzYWJsZSI+JHtpMThuKCdkaXNhYmxlJyl9PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9Im5leHRTd2l0Y2giIGNsYXNzPSJjb21tYW5kIiB0aXRsZT0iJHtpMThuKCJuZXh0U3dpdGNoIil9IiB0eXBlPSJidXR0b24iPiR7aTE4bigibmV4dFN3aXRjaCIpfTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibG9hZE5vdyIgY2xhc3M9ImNvbW1hbmQiIHRpdGxlPSIke2kxOG4oImxvYWROb3ciKX0iIHR5cGU9ImJ1dHRvbiI+JHtpMThuKCJsb2FkTm93Iil9PC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJhdXRvU2Nyb2xsIiBjbGFzcz0iY29tbWFuZCIgdGl0bGU9IiR7aTE4bigidG9nZ2xlQXV0b1Njcm9sbCIpfSIgdHlwZT0iYnV0dG9uIj48L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBzdHlsZT0iZGlzcGxheTogbm9uZTsiIGNsYXNzPSJ0ZW1wUnVsZSIgc3BlbGxjaGVjaz0iZmFsc2UiIHBsYWNlaG9sZGVyPSJ7UnVsZSBvYmplY3R9IiB0aXRsZT0iUnVsZSBmb3IgY3VycmVudCBzaXRlIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzaG93RGV0YWlsIiB0aXRsZT0iIiB0eXBlPSJidXR0b24iPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01MTEuMSA2My43Yy0yNDcuNCAwLTQ0OCAyMDAuNi00NDggNDQ4czIwMC42IDQ0OCA0NDggNDQ4IDQ0OC0yMDAuNiA0NDgtNDQ4LTIwMC42LTQ0OC00NDgtNDQ4eiBtMjgxLjIgMzc0LjVMNTM1LjYgNjk0LjljLTEyLjUgMTIuNS0zMi44IDEyLjUtNDUuMyAwbC0yNTUuOC0yNTZjLTEyLjUtMTIuNS0xMi41LTMyLjggMC00NS4zczMyLjgtMTIuNSA0NS4zIDBsMjEwLjcgMjEwLjdjMTIuNSAxMi41IDMyLjggMTIuNSA0NS4zIDBsMjExLjQtMjExLjRjMTIuNS0xMi41IDMyLjgtMTIuNSA0NS4zIDAgMTIuMyAxMi41IDEyLjMgMzIuOC0wLjIgNDUuM3oiIGZpbGw9Im9yYW5nZXJlZCI+PC9wYXRoPjwvc3ZnPgogICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkUHJvcCI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iYWRkT3RoZXJQcm9wIiB0aXRsZT0iJHtpMThuKCJhZGRPdGhlclByb3AiKX0iIHR5cGU9ImJ1dHRvbiI+KzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImFkZE5leHRTZWxlY3RvciIgdGl0bGU9IiR7aTE4bigiYWRkTmV4dFNlbGVjdG9yIil9IiB0eXBlPSJidXR0b24iPj48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJhZGRQYWdlU2VsZWN0b3IiIHRpdGxlPSIke2kxOG4oImFkZFBhZ2VTZWxlY3RvciIpfSIgdHlwZT0iYnV0dG9uIj7inY88L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InNhdmVEZXRhaWwiIHRpdGxlPSIke2kxOG4oInNhdmUiKX0iIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcwNCAxMjhIMTkyYy0zNS4yIDAtNjQgMjguOC02NCA2NHY2NDBjMCAzNS4yIDI4LjggNjQgNjQgNjRoNjQwYzM1LjIgMCA2NC0yOC44IDY0LTY0VjMyMEw3MDQgMTI4ek0yNTYgMjU2aDMyMHYxMjhIMjU2VjI1NnogbTI1NiA1MTJjLTcwLjQgMC0xMjgtNTcuNi0xMjgtMTI4czU3LjYtMTI4IDEyOC0xMjggMTI4IDU3LjYgMTI4IDEyOC01Ny42IDEyOC0xMjggMTI4eiIgZmlsbD0ib3JhbmdlcmVkIj48L3BhdGg+PC9zdmc+CiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGApOwogICAgICAgICAgICBsZXQgZm9yY2VTdGF0ZUlmcmFtZSA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNmb3JjZVN0YXRlSWZyYW1lIik7Ly9mb3JjZVN0YXRlIDEg56aB55SoIDIg5by65bWMIDMg5Yqo5oCBCiAgICAgICAgICAgIGxldCBmb3JjZVN0YXRlRHluYW1pYyA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNmb3JjZVN0YXRlRHluYW1pYyIpOwogICAgICAgICAgICBsZXQgZm9yY2VTdGF0ZURpc2FibGUgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjZm9yY2VTdGF0ZURpc2FibGUiKTsKICAgICAgICAgICAgbGV0IGNsaWNrUmFkaW8gPSBlID0+IHsKICAgICAgICAgICAgICAgIGxldCByYWRpbyA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpOwogICAgICAgICAgICAgICAgaWYgKHJhZGlvLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID0gIiI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmFkaW8uaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZm9yY2VTdGF0ZUlmcmFtZSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJmb3JjZVN0YXRlRHluYW1pYyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJmb3JjZVN0YXRlRGlzYWJsZSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVN0YXRlID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiZm9yY2VTdGF0ZV8iICsgbG9jYXRpb24uaG9zdCwgZm9yY2VTdGF0ZSk7CiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZm9yY2VTdGF0ZUlmcmFtZS5wYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGNsaWNrUmFkaW8pOwogICAgICAgICAgICBmb3JjZVN0YXRlRHluYW1pYy5wYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGNsaWNrUmFkaW8pOwogICAgICAgICAgICBmb3JjZVN0YXRlRGlzYWJsZS5wYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGNsaWNrUmFkaW8pOwogICAgICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAxKSBmb3JjZVN0YXRlRGlzYWJsZS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgZWxzZSBpZiAoZm9yY2VTdGF0ZSA9PSAyKSBmb3JjZVN0YXRlSWZyYW1lLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBlbHNlIGlmIChmb3JjZVN0YXRlID09IDMpIGZvcmNlU3RhdGVEeW5hbWljLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgY2xvc2VCdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIuY2xvc2VQaWNrZXIiKTsKICAgICAgICAgICAgbGV0IGxvZ29CdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIubG9nb0ljb24iKTsKICAgICAgICAgICAgbGV0IHRpdGxlID0gZnJhbWUucXVlcnlTZWxlY3RvcigiLnRpdGxlIik7CiAgICAgICAgICAgIGxldCBhbGxwYXRoID0gZnJhbWUucXVlcnlTZWxlY3RvcigiLmFsbHBhdGgiKTsKICAgICAgICAgICAgbGV0IHNlbGVjdG9ySW5wdXQgPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIuc2VsZWN0b3IiKTsKICAgICAgICAgICAgbGV0IHhwYXRoID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI2NoZWNrYm94X2lkIik7CiAgICAgICAgICAgIGxldCBjaGVja0J0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNjaGVjayIpOwogICAgICAgICAgICBsZXQgZWRpdEJ0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNlZGl0Iik7CiAgICAgICAgICAgIGxldCBuZXh0U3dpdGNoQnRuID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI25leHRTd2l0Y2giKTsKICAgICAgICAgICAgbGV0IGF1dG9TY3JvbGxCdG4gPSBmcmFtZS5xdWVyeVNlbGVjdG9yKCIjYXV0b1Njcm9sbCIpOwogICAgICAgICAgICBsZXQgbG9hZE5vdyA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNsb2FkTm93Iik7CiAgICAgICAgICAgIGxldCB0ZW1wUnVsZSA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIi50ZW1wUnVsZSIpOwogICAgICAgICAgICBsZXQgc2hvd0RldGFpbEJ0biA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNzaG93RGV0YWlsIik7CiAgICAgICAgICAgIGxldCBzYXZlRGV0YWlsQnRuID0gZnJhbWUucXVlcnlTZWxlY3RvcigiI3NhdmVEZXRhaWwiKTsKICAgICAgICAgICAgbGV0IGFkZE90aGVyUHJvcCA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNhZGRPdGhlclByb3AiKTsKICAgICAgICAgICAgbGV0IGFkZE5leHRTZWxlY3RvciA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNhZGROZXh0U2VsZWN0b3IiKTsKICAgICAgICAgICAgbGV0IGFkZFBhZ2VTZWxlY3RvciA9IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoIiNhZGRQYWdlU2VsZWN0b3IiKTsKICAgICAgICAgICAgYXV0b1Njcm9sbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpOwogICAgICAgICAgICAgICAgYXV0b1Njcm9sbCA9IChhdXRvU2Nyb2xsID8gMCA6IHByb21wdChpMThuKCJhdXRvU2Nyb2xsUmF0ZSIpLCA1MCkpIHx8IDA7CiAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsID0gcGFyc2VJbnQoYXV0b1Njcm9sbCkgfHwgMDsKICAgICAgICAgICAgICAgIGlmIChhdXRvU2Nyb2xsIDwgMCkgYXV0b1Njcm9sbCA9IDA7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChhdXRvU2Nyb2xsID4gMTAwMCkgYXV0b1Njcm9sbCA9IDEwMDA7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImF1dG9TY3JvbGxfIiArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSwgYXV0b1Njcm9sbCk7CiAgICAgICAgICAgICAgICBzdGFydEF1dG9TY3JvbGwoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGFkZE90aGVyUHJvcC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHByb3BOYW1lID0gcHJvbXB0KGkxOG4oInByb3BOYW1lIikpOwogICAgICAgICAgICAgICAgaWYgKCFwcm9wTmFtZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IHByb3BWYWx1ZSA9IHByb21wdChpMThuKCJwcm9wVmFsdWUiKSk7CiAgICAgICAgICAgICAgICBpZiAoIXByb3BWYWx1ZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gInRydWUiKSBwcm9wVmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcFZhbHVlID09PSAiZmFsc2UiKSBwcm9wVmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eXGQrJC8udGVzdChwcm9wVmFsdWUpKSBwcm9wVmFsdWUgPSBwYXJzZUludChwcm9wVmFsdWUpOwogICAgICAgICAgICAgICAgbGV0IGVkaXRUZW1wID0gc2VsZi5nZXRUZW1wUnVsZSgpOwogICAgICAgICAgICAgICAgaWYgKCFlZGl0VGVtcCkgcmV0dXJuOwogICAgICAgICAgICAgICAgZWRpdFRlbXBbcHJvcE5hbWVdID0gcHJvcFZhbHVlOwogICAgICAgICAgICAgICAgc2VsZi50ZW1wUnVsZS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGVkaXRUZW1wLCBudWxsLCA0KTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGFkZE5leHRTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IGVkaXRUZW1wID0gc2VsZi5nZXRUZW1wUnVsZSgpOwogICAgICAgICAgICAgICAgaWYgKCFlZGl0VGVtcCkgcmV0dXJuOwogICAgICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gc2VsZi5zZWxlY3RvcklucHV0LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgZWRpdFRlbXAubmV4dExpbmsgPSBzZWxlY3RvcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYudGVtcFJ1bGUudmFsdWUgPSBKU09OLnN0cmluZ2lmeShlZGl0VGVtcCwgbnVsbCwgNCk7CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICBhZGRQYWdlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGxldCBlZGl0VGVtcCA9IHNlbGYuZ2V0VGVtcFJ1bGUoKTsKICAgICAgICAgICAgICAgIGlmICghZWRpdFRlbXApIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvciA9IHNlbGYuc2VsZWN0b3JJbnB1dC52YWx1ZTsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvcikgewogICAgICAgICAgICAgICAgICAgIGVkaXRUZW1wLnBhZ2VFbGVtZW50ID0gc2VsZWN0b3I7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZWxmLnRlbXBSdWxlLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZWRpdFRlbXAsIG51bGwsIDQpOwogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgc2hvd0RldGFpbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgaWYgKHRlbXBSdWxlLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcFJ1bGUuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHNob3dEZXRhaWxCdG4uY2xhc3NMaXN0LmFkZCgic2hvd0RldGFpbCIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0ZW1wUnVsZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgIHNob3dEZXRhaWxCdG4uY2xhc3NMaXN0LnJlbW92ZSgic2hvd0RldGFpbCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgc2F2ZURldGFpbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbGV0IGVkaXRUZW1wID0gc2VsZi5nZXRUZW1wUnVsZSh0cnVlKTsKICAgICAgICAgICAgICAgIGlmICh0ZW1wUnVsZS52YWx1ZSAmJiAhZWRpdFRlbXApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZighcnVsZVBhcnNlci5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMgPSBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gcnVsZVBhcnNlci5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1c3RvbVJ1bGVzW2ldLnVybCA9PSBlZGl0VGVtcC51cmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXN0b21SdWxlcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0ZW1wUnVsZS52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMudW5zaGlmdChlZGl0VGVtcCk7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXJTaXRlUnVsZSA9IGVkaXRUZW1wOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlID0ge307CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImN1c3RvbVJ1bGVzIiwgcnVsZVBhcnNlci5jdXN0b21SdWxlcyk7CiAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5ocFJ1bGVzICYmIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUgJiYgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5hZGRUb0hwUnVsZXModHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oaTE4bigicmVsb2FkUGFnZSIpKSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge2xvY2F0aW9uLnJlbG9hZCgpfSwgMTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIG5leHRTd2l0Y2hCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgICAgIG5leHRTd2l0Y2guc3RhcnQoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGxvYWROb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTsKICAgICAgICAgICAgICAgIGxldCBsb2FkTnVtID0gd2luZG93LnByb21wdChpMThuKCJsb2FkQ29uZmlybSIpLCAiMSIpOwogICAgICAgICAgICAgICAgaWYgKGxvYWROdW0gPT09ICIiIHx8IGxvYWROdW0gPT09IG51bGwpIHJldHVybjsKICAgICAgICAgICAgICAgIGF1dG9Mb2FkTnVtID0gTWF0aC5hYnMocGFyc2VJbnQobG9hZE51bSkpOwogICAgICAgICAgICAgICAgbmV4dFBhZ2UoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICB0aGlzLnNob3dTaWduID0gdHJ1ZTsKICAgICAgICAgICAgbG9nb0J0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgbG9nb0J0bi5jbGFzc0xpc3QudG9nZ2xlKCJzaG93U2lnbiIpOwogICAgICAgICAgICAgICAgc2VsZi5zaG93U2lnbiA9ICFzZWxmLnNob3dTaWduOwogICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuY2xhc3NMaXN0LnRvZ2dsZSgicGFnZXR1YWwtcGlja2VyIik7CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICBsZXQgbW92aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGxldCBpbml0WCA9IDAsIGluaXRZID0gMCwgaW5pdFBvcyA9IHt4OiAwLCB5OiAwfTsKICAgICAgICAgICAgbGV0IG1vdmVIYW5sZGVyID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAobW92aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgZnJhbWUuc3R5bGUubGVmdCA9IGUuY2xpZW50WCAtIGluaXRYICsgInB4IjsKICAgICAgICAgICAgICAgICAgICBmcmFtZS5zdHlsZS50b3AgPSBlLmNsaWVudFkgLSBpbml0WSArICJweCI7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoTWF0aC5hYnMoZS5jbGllbnRYIC0gaW5pdFBvcy54KSArIE1hdGguYWJzKGUuY2xpZW50WSAtIGluaXRQb3MueSkgPiAyMCkgewogICAgICAgICAgICAgICAgICAgIG1vdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCB1cEhhbmxkZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChtb3ZpbmcpIHsKICAgICAgICAgICAgICAgICAgICBtb3ZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX0dNX29wZW5JblRhYihydWxlc0RhdGEuY29uZmlnUGFnZSB8fCBjb25maWdQYWdlWzBdLCB7YWN0aXZlOiB0cnVlfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBtb3ZlSGFubGRlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB0aXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgdXBIYW5sZGVyLCB0cnVlKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGUgPT4gewogICAgICAgICAgICAgICAgaW5pdFBvcyA9IHt4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WX07CiAgICAgICAgICAgICAgICBpbml0WCA9IGUuY2xpZW50WCAtIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZnJhbWUpLmxlZnQpOwogICAgICAgICAgICAgICAgaW5pdFkgPSBlLmNsaWVudFkgLSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGZyYW1lKS50b3ApOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgbW92ZUhhbmxkZXIsIHRydWUpOwogICAgICAgICAgICAgICAgdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHVwSGFubGRlciwgdHJ1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc2hvd1NpZ24gfHwgbW92aW5nKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tYWluU2lnbkRpdi5wYXJlbnROb2RlKSBzZWxmLm1haW5TaWduRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsZi5tYWluU2lnbkRpdik7CiAgICAgICAgICAgICAgICBzZWxmLmNoZWNrSW5wdXRTZWxlY3RvcigpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIGUgPT4gewogICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNob3dTaWduKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubWFpblNpZ25EaXYucGFyZW50Tm9kZSkgc2VsZi5tYWluU2lnbkRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYubWFpblNpZ25EaXYpOwogICAgICAgICAgICAgICAgICAgIHNlbGYuY2xlYXJTaWducygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChtb3ZpbmcpIHJldHVybjsKICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHNlbGYubWFpblNpZ25EaXYpOwogICAgICAgICAgICAgICAgc2VsZi5jbGVhclNpZ25zKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjaGVja0J0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jaGVja0lucHV0U2VsZWN0b3IoKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWUpIF9HTV9zZXRDbGlwYm9hcmQodGhpcy5zZWxlY3RvcklucHV0LnZhbHVlKTsKICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImNvcGllZCIpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHhwYXRoLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9ySW5wdXQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFNlbGVjdG9yRGl2KCIiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGdldEVsZW1lbnQoc2VsZWN0b3JJbnB1dC52YWx1ZSwgZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gc2VsZi5nZXRTZWxlY3RvckZyb21FbGUoZWxlbWVudCk7CiAgICAgICAgICAgICAgICBzZWxmLnNldFNlbGVjdG9yRGl2KHNlbGVjdG9yKTsKICAgICAgICAgICAgICAgIHNlbGVjdG9ySW5wdXQudmFsdWUgPSBzZWxlY3RvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5lZGl0VGVtcCA9IHNlbGYuZ2V0VGVtcFJ1bGUoKTsKICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgICAgIF9HTV9vcGVuSW5UYWIocnVsZXNEYXRhLmNvbmZpZ1BhZ2UgfHwgY29uZmlnUGFnZVswXSwge2FjdGl2ZTogdHJ1ZX0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZWRpdEJ0bi5vbmNvbnRleHRtZW51ID0gZSA9PiB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBfR01fb3BlbkluVGFiKHJ1bGVzRGF0YS5jb25maWdQYWdlIHx8IGNvbmZpZ1BhZ2VbMF0sIHthY3RpdmU6IHRydWV9KTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lOwogICAgICAgICAgICB0aGlzLnhwYXRoID0geHBhdGg7CiAgICAgICAgICAgIHRoaXMuYWxscGF0aCA9IGFsbHBhdGg7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JJbnB1dCA9IHNlbGVjdG9ySW5wdXQ7CiAgICAgICAgICAgIHRoaXMubmV4dFN3aXRjaEJ0biA9IG5leHRTd2l0Y2hCdG47CiAgICAgICAgICAgIHRoaXMuYXV0b1Njcm9sbEJ0biA9IGF1dG9TY3JvbGxCdG47CiAgICAgICAgICAgIHRoaXMubG9hZE5vdyA9IGxvYWROb3c7CiAgICAgICAgICAgIHRoaXMudGVtcFJ1bGUgPSB0ZW1wUnVsZTsKICAgICAgICAgICAgdGhpcy5sb2dvQnRuID0gbG9nb0J0bjsKICAgICAgICAgICAgbGV0IHNldFRpdGxlVGltZXI7CiAgICAgICAgICAgIHRoaXMubW92ZUhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmICghc2VsZi5zaG93U2lnbiB8fCBlLnRhcmdldCA9PT0gZG9jdW1lbnQpIHJldHVybjsKICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBzZWxmLmdldFRhcmdldChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICBzZWxmLmFkanVzdFNpZ25EaXYoc2VsZi5tYWluU2lnbkRpdiwgdGFyZ2V0KTsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzZXRUaXRsZVRpbWVyKTsKICAgICAgICAgICAgICAgIHNldFRpdGxlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pblBpY2tlciAmJiB0YXJnZXQuaGFzQXR0cmlidXRlcygpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICsgIlxuIjsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyIG9mIHRhcmdldC5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSBg44CQJHthdHRyLm5hbWV944CRJHthdHRyLnZhbHVlID8gIiDinqHvuI8gIiArIGF0dHIudmFsdWUgOiAiIn1cbmA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkudGl0bGUgPSB0aXRsZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmNsaWNrSGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNob3dTaWduKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pblBpY2tlcikgewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHNlbGYuZ2V0VGFyZ2V0KGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvciA9IHNlbGYuZ2V0U2VsZWN0b3JGcm9tRWxlKHRhcmdldCk7CiAgICAgICAgICAgICAgICBzZWxlY3RvcklucHV0LnZhbHVlID0gc2VsZWN0b3I7CiAgICAgICAgICAgICAgICBzZWxmLnNldFNlbGVjdG9yRGl2KHNlbGVjdG9yKTsKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGdldFRlbXBSdWxlKGRldGFpbCkgewogICAgICAgICAgICBpZiAodGhpcy50ZW1wUnVsZS52YWx1ZSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRUZW1wID0gSlNPTi5wYXJzZSh0aGlzLnRlbXBSdWxlLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRUZW1wID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBlICYmIGUubWVzc2FnZSAmJiBlLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcZCspLyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHBhcnNlSW50KHBvc1sxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBSdWxlLnZhbHVlID0gdGhpcy50ZW1wUnVsZS52YWx1ZS5zbGljZSgwLCBwb3MpICsgIuKeoe+4jyIgKyB0aGlzLnRlbXBSdWxlLnZhbHVlW3Bvc10gKyAi4qyF77iPIiArIHRoaXMudGVtcFJ1bGUudmFsdWUuc2xpY2UocG9zICsgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZXJyb3JKc29uIikpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRUZW1wKSB7CiAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS51cmwgJiYgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0VGVtcCA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRlbXAgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LnRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICJeIiArIChsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZSkucmVwbGFjZSgvW15cL10qJC8sICIiKS5yZXBsYWNlKC9eaHR0cHM/LywgImh0dHBzPyIpLnJlcGxhY2UoL1wuL2csICJcXC4iKSwKICAgICAgICAgICAgICAgICAgICAgICAgZXhhbXBsZTogbG9jYXRpb24uaHJlZgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5lZGl0VGVtcC5mcm9tOwogICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZWRpdFRlbXAudHlwZTsKICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmVkaXRUZW1wLnVwZGF0ZWRBdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RvcklucHV0LnZhbHVlICYmIHRoaXMudGVtcFJ1bGUuc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRlbXAucGFnZUVsZW1lbnQgPSB0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWRpdFRlbXA7CiAgICAgICAgfQoKICAgICAgICBnZXRUYXJnZXQoZWxlKSB7CiAgICAgICAgICAgIHdoaWxlIChlbGUucGFyZW50Tm9kZSAmJiAoZWxlLm9mZnNldFdpZHRoID09PSAwIHx8IGVsZS5vZmZzZXRIZWlnaHQgPT09IDApKSB7CiAgICAgICAgICAgICAgICBlbGUgPSBlbGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZWxlOwogICAgICAgIH0KCiAgICAgICAgY2xvc2UoKSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJTaWducygpOwogICAgICAgICAgICBpZiAodGhpcy5mcmFtZS5wYXJlbnROb2RlKSB0aGlzLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mcmFtZSk7CiAgICAgICAgICAgIGlmICh0aGlzLm1haW5TaWduRGl2LnBhcmVudE5vZGUpIHRoaXMubWFpblNpZ25EaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1haW5TaWduRGl2KTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuY2xhc3NMaXN0LnJlbW92ZSgicGFnZXR1YWwtcGlja2VyIik7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW92ZUhhbmRsZXIsIHRydWUpOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMuY2xpY2tIYW5kbGVyLCB0cnVlKTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkudGl0bGUgPSAiIjsKICAgICAgICAgICAgdGhpcy5pblBpY2tlciA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgc2V0SW1wb3J0YW50KGVsZSwgcHJvcCwgdmFsdWUpIHsKICAgICAgICAgICAgZWxlLnN0eWxlLnNldFByb3BlcnR5KHByb3AsIHZhbHVlLCAiaW1wb3J0YW50Iik7CiAgICAgICAgfQoKICAgICAgICBjcmVhdGVTaWduRGl2KCkgewogICAgICAgICAgICBsZXQgc2lnbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChzaWduRGl2LCAicG9zaXRpb24iLCAiYWJzb2x1dGUiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoc2lnbkRpdiwgInBvaW50ZXItZXZlbnRzIiwgIm5vbmUiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoc2lnbkRpdiwgInotaW5kZXgiLCAiMjE0NzQ4MzY0NiIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChzaWduRGl2LCAiYmFja2dyb3VuZCIsICJyZ2JhKDEyMCwgMTcwLCAyMTAsIDAuNikiKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoc2lnbkRpdiwgInRyYW5zaXRpb24iLCAiYWxsIDAuMTVzIGVhc2Utb3V0Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KHNpZ25EaXYsICJib3gtc2hhZG93IiwgInJnYigwIDAgMCkgMHB4IDBweCAzcHggMHB4Iik7CiAgICAgICAgICAgIHJldHVybiBzaWduRGl2OwogICAgICAgIH0KCiAgICAgICAgYWRqdXN0U2lnbkRpdihkaXYsIHRhcmdldCkgewogICAgICAgICAgICBsZXQgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgdGhpcy5zZXRJbXBvcnRhbnQoZGl2LCAid2lkdGgiLCByZWN0LndpZHRoICsgInB4Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KGRpdiwgImhlaWdodCIsIHJlY3QuaGVpZ2h0ICsgInB4Iik7CiAgICAgICAgICAgIHRoaXMuc2V0SW1wb3J0YW50KGRpdiwgImxlZnQiLCByZWN0LmxlZnQgKyB3aW5kb3cuc2Nyb2xsWCArICJweCIpOwogICAgICAgICAgICB0aGlzLnNldEltcG9ydGFudChkaXYsICJ0b3AiLCByZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZICsgInB4Iik7CiAgICAgICAgfQoKICAgICAgICBnZXRTZWxlY3RvckZyb21FbGUoZWxlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnhwYXRoLmNoZWNrZWQgPyBjcmVhdGVYUGF0aEZyb21FbGVtZW50KGVsZSkgOiBnZW5lU2VsZWN0b3IoZWxlLCB0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZpbGxUZW1wUnVsZVRleHRhcmVhKCkgewogICAgICAgICAgICBpZiAodGhpcy50ZW1wUnVsZS5zdHlsZS5kaXNwbGF5ID09ICJub25lIikgdGhpcy50ZW1wUnVsZS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0VGVtcFJ1bGUoKSwgbnVsbCwgNCk7CiAgICAgICAgfQoKICAgICAgICBzZXRTZWxlY3RvckRpdihzZWxlY3RvcikgewogICAgICAgICAgICB0aGlzLmZpbGxUZW1wUnVsZVRleHRhcmVhKCk7CiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgdGhpcy5hbGxwYXRoLmlubmVySFRNTCA9IGNyZWF0ZUhUTUwoIiIpOwogICAgICAgICAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm47CiAgICAgICAgICAgIGlmICh0aGlzLnhwYXRoLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBzZWxlY3RvcjsKICAgICAgICAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9ySW5wdXQudmFsdWUgPSBzZWxlY3RvcjsKICAgICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrSW5wdXRTZWxlY3RvcigpOwogICAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB0aGlzLmFsbHBhdGguYXBwZW5kQ2hpbGQoc3Bhbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZWxlY3Rvci5zcGxpdCgiPiIpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiBzZWxmLmdlbmVTZWxlY3Rvckl0ZW0oaXRlbSwgaW5kZXgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZ2VuZVNlbGVjdG9ySXRlbShpdGVtLCBpbmRleCkgewogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnRyaW0oKTsKICAgICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47CiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkgewogICAgICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9ICIgPiAiOwogICAgICAgICAgICAgICAgdGhpcy5hbGxwYXRoLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJwYXRoIjsKICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBpdGVtOwogICAgICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSAiIjsKICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHRhcmdldC5pbm5lclRleHQgKyBzZWxlY3RvcjsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0b3JJbnB1dC52YWx1ZSA9IHNlbGVjdG9yOwogICAgICAgICAgICAgICAgc2VsZi5jaGVja0lucHV0U2VsZWN0b3IoKTsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuYWxscGF0aC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgICB9CgogICAgICAgIGNoZWNrSW5wdXRTZWxlY3RvcigpIHsKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgICAgICB0aGlzLmNsZWFyU2lnbnMoKTsKICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWUpIHJldHVybjsKICAgICAgICAgICAgbGV0IGVsZXMgPSBnZXRBbGxFbGVtZW50cyh0aGlzLnNlbGVjdG9ySW5wdXQudmFsdWUsIGRvY3VtZW50KTsKICAgICAgICAgICAgaWYgKGVsZXMgJiYgZWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBlbGVzLmZvckVhY2goZWxlID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IHNlbGYuY3JlYXRlU2lnbkRpdigpOwogICAgICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHNpZ24pOwogICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0U2lnbkRpdihzaWduLCBlbGUpOwogICAgICAgICAgICAgICAgICAgIHNlbGYuc2lnbkxpc3QucHVzaChzaWduKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5maWxsVGVtcFJ1bGVUZXh0YXJlYSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGVhclNpZ25zKCkgewogICAgICAgICAgICB0aGlzLnNpZ25MaXN0LmZvckVhY2goc2lnbiA9PiB7CiAgICAgICAgICAgICAgICBpZiAoc2lnbi5wYXJlbnROb2RlKSBzaWduLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2lnbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnNpZ25MaXN0ID0gW107CiAgICAgICAgfQoKICAgICAgICBzdGFydCgpIHsKICAgICAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgICAgIGlmICh0aGlzLmluUGlja2VyKSByZXR1cm47CiAgICAgICAgICAgIHRoaXMuaW5QaWNrZXIgPSB0cnVlOwogICAgICAgICAgICBpZiAoIXRoaXMuc3R5bGVFbGUgfHwgIXRoaXMuc3R5bGVFbGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdHlsZUVsZSA9IF9HTV9hZGRTdHlsZSh0aGlzLmNzc1RleHQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQodGhpcy5tYWluU2lnbkRpdik7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmNsYXNzTGlzdC5hZGQoInBhZ2V0dWFsLXBpY2tlciIpOwoKICAgICAgICAgICAgdGhpcy5sb2dvQnRuLmNsYXNzTGlzdC5yZW1vdmUoInNob3dTaWduIik7CiAgICAgICAgICAgIHRoaXMuc2hvd1NpZ24gPSB0cnVlOwoKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5tb3ZlSGFuZGxlciwgdHJ1ZSk7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5jbGlja0hhbmRsZXIsIHRydWUpOwogICAgICAgICAgICB0aGlzLnhwYXRoLmNoZWNrZWQgPSBpc1hQYXRoKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQpOwoKICAgICAgICAgICAgdGhpcy5sb2FkTm93LnN0eWxlLmRpc3BsYXkgPSBydWxlUGFyc2VyLm5leHRMaW5rSHJlZiA/ICJibG9jayIgOiAibm9uZSI7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLm5leHRMaW5rICYmIEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShydWxlUGFyc2VyLmN1clNpdGVSdWxlLm5leHRMaW5rKSkgewogICAgICAgICAgICAgICAgdGhpcy5uZXh0U3dpdGNoQnRuLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5uZXh0U3dpdGNoQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hdXRvU2Nyb2xsQnRuLmlubmVyVGV4dCA9IGkxOG4oYXV0b1Njcm9sbCA/ICJkaXNhYmxlQXV0b1Njcm9sbCIgOiAiZW5hYmxlQXV0b1Njcm9sbCIpOwoKICAgICAgICAgICAgbGV0IHBhZ2VFbGVtZW50U2VsID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCB8fCAiIjsKICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShwYWdlRWxlbWVudFNlbCkpIHsKICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50U2VsID0gcGFnZUVsZW1lbnRTZWxbbmV4dEluZGV4IDwgcGFnZUVsZW1lbnRTZWwubGVuZ3RoID8gbmV4dEluZGV4IDogMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RvckRpdihwYWdlRWxlbWVudFNlbCk7CiAgICAgICAgfQogICAgfQogICAgY29uc3QgcGlja2VyID0gbmV3IFBpY2tlcigpOwoKICAgIHZhciBlZGl0b3IsIGVkaXRvckNoYW5nZWQgPSBmYWxzZTsKICAgIGZ1bmN0aW9uIGNyZWF0ZUVkaXQoKSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgIG1vZGU6ICdjb2RlJywKICAgICAgICAgICAgbW9kZXM6IFsnY29kZScsICd0cmVlJ10sCiAgICAgICAgICAgIHRlbXBsYXRlczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOZXcgc2l0ZScsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbnNlcnQgYSBuZXcgc2l0ZScsCiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnanNvbmVkaXRvci10eXBlLW9iamVjdCcsCiAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdTaXRlVGVtcGxhdGUnLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ1NpdGUgbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICd1cmwnOiAnU2l0ZSB1cmwnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICBzY2hlbWE6IHsKICAgICAgICAgICAgICAgICJ0aXRsZSI6ICJTaXRlcyBkYXRhIiwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJPYmplY3QgY29udGFpbmluZyBzaXRlIGNvbmZpZyIsCiAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAnb2JqZWN0JywKICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidGl0bGUiOiAiU2l0ZSBOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc2l0ZSdzIG5hbWUuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJleGFtcGxlcyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiR29vZ2xlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInVybCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0aXRsZSI6ICJTaXRlIFVybCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIFJlZ2V4cCBvZiBzaXRlJ3MgdXJsLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZXhhbXBsZXMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIl5odHRwczpcL1wveWFuZGVcXC5yZVwvIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInJlcXVpcmVkIjogWyJuYW1lIiwgInVybCJdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uQ2hhbmdlOiAoKSA9PiB7CiAgICAgICAgICAgICAgICBlZGl0b3JDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgianNvbmVkaXRvciIpOwogICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzgwMHB4JzsKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICBlZGl0b3IgPSBuZXcgSlNPTkVkaXRvcihjb250YWluZXIsIG9wdGlvbnMpOwogICAgICAgICAgICBlZGl0b3Iuc2V0KHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMpOwogICAgICAgIH0sIDUwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tHdWlkZVBhZ2UoaHJlZikgewogICAgICAgIGlmIChndWlkZVBhZ2UudGVzdChocmVmKSkgewogICAgICAgICAgICBpZiAodHlwZW9mIEpTT05FZGl0b3IgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBjcmVhdGVFZGl0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgY2hlY2tFZGl0b3JSZWFkeSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEpTT05FZGl0b3IgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVkaXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0VkaXRvclJlYWR5KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChnZXRCb2R5KGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKCdhJyksIGVsZSA9PiB7CiAgICAgICAgICAgICAgICBlbGUudGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0YXJ0QXV0b1Njcm9sbCgpIHsKICAgICAgICBjbGVhckludGVydmFsKGF1dG9TY3JvbGxJbnRlcnZhbCk7CiAgICAgICAgaWYgKGF1dG9TY3JvbGwgPD0gMCkgcmV0dXJuOwogICAgICAgIGF1dG9TY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKGlzUGF1c2UpIHJldHVybjsKICAgICAgICAgICAgd2luZG93LnNjcm9sbCh3aW5kb3cuc2Nyb2xsWCwgd2luZG93LnNjcm9sbFkgKyAxKTsKICAgICAgICB9LCBwYXJzZUludCgxMDAwIC8gYXV0b1Njcm9sbCkpOwogICAgfQoKICAgIHZhciBpblVwZGF0ZSA9IGZhbHNlOwogICAgZnVuY3Rpb24gaW5pdENvbmZpZyhocmVmKSB7CiAgICAgICAgbGV0IGlzR3VpZGVQYWdlID0gY2hlY2tHdWlkZVBhZ2UoaHJlZik7CiAgICAgICAgaWYgKCFpc0d1aWRlUGFnZSkgewogICAgICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCJQYWdldHVhbEd1aWRlIikgIT0gLTEpIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUgPT09ICJwYWdldHVhbC5ob290aGluLmNvbSIpIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbmZpZ0NvbiwgaW5zZXJ0UG9zLCBjbGljazJpbXBvcnQsIGltcG9ydFVybFByZTsKCiAgICAgICAgbGV0IGluQ29uZmlnID0gaXNHdWlkZVBhZ2U7CiAgICAgICAgaWYgKCFpbkNvbmZpZykgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZ1BhZ2UubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChjb25maWdQYWdlW2ldID09IGxvY2F0aW9uLmhyZWYpIHsKICAgICAgICAgICAgICAgICAgICBpbkNvbmZpZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJ1bGVJbXBvcnRVcmxSZWcudGVzdChocmVmKSB8fCBpbkNvbmZpZykgewogICAgICAgICAgICBsZXQgaW1wb3J0aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmICghaW5VcGRhdGUgJiYgcnVsZXNEYXRhLnVuaW5pdGVkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWluVXBkYXRlICYmICFpbXBvcnRpbmcpIHNob3dUaXBzKGkxOG4oImZpcnN0QWxlcnQiKSk7CiAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghaW5VcGRhdGUgJiYgIWltcG9ydGluZykgc2hvd1RpcHMoaTE4bigiZmlyc3RBbGVydCIpKTsKICAgICAgICAgICAgICAgIH0sIDYwMDApOwogICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZmlyc3RBbGVydCIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZGVmYXVsdE9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjdXNzaW9uX3JhdGluZ180Jyk7CiAgICAgICAgICAgIGlmIChkZWZhdWx0T3B0aW9uKSBkZWZhdWx0T3B0aW9uLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgY3JlYXRlSW1wb3J0QnRuID0gKHByZSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGltcG9ydEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLmlkID0gInBhZ2V0dWFsSW1wb3J0IjsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5pbm5lclRleHQgPSBpMThuKCJpbXBvcnQiKTsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5zdHlsZS5tYXJnaW5Ub3AgPSAiMTAwcHgiOwogICAgICAgICAgICAgICAgaW1wb3J0QnRuLnN0eWxlLmZsb2F0ID0gInJpZ2h0IjsKICAgICAgICAgICAgICAgIGltcG9ydEJ0bi5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uc3R5bGUuZm9udFNpemUgPSAiMjBweCI7CiAgICAgICAgICAgICAgICBpbXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IGltcG9ydEJ0bi5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50Tm9kZSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1wb3J0QnRuKTsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnVsZXMgPSBwYXJlbnROb2RlLmlubmVyVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0NvbnRlbnQgPSAvWyciXW5hbWVbJyJdL2kudGVzdChydWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBydWxlTGlzdCA9IEpTT04ucGFyc2UoYFske3J1bGVzfV1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gcnVsZUxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzUnVsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gcnVsZUxpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiBpbiBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1c3RvbVJ1bGVzW2pdLm5hbWUgPT0gci5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzW2pdID0gcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1J1bGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNSdWxlKSBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzLnB1c2gocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5ocFJ1bGVzLnVuc2hpZnQocik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImN1c3RvbVJ1bGVzIiwgcnVsZVBhcnNlci5jdXN0b21SdWxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImhwUnVsZXMiLCBydWxlUGFyc2VyLmhwUnVsZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiaW1wb3J0U3VjYyIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzID0gcnVsZXMuc3BsaXQoIlxuIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBydWxlcy5sZW5ndGg7IGMrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmxBcnIgPSBydWxlc1tjXS5zcGxpdCgifCIpLCB1cmwsIHR5cGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxBcnIubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsQXJyWzBdLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEvXmh0dHAvLnRlc3QodXJsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZXJyb3JXcm9uZ1VybCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsQXJyLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSB1cmxBcnJbMF0udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmxBcnJbMV0udHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS9eaHR0cC8udGVzdCh1cmwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvcldyb25nVXJsIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhJZCA9IDEsIGhhc1VybCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLnVybHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnVybHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SWQgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS51cmxzLmZvckVhY2godSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4SWQgPCB1LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SWQgPSB1LmlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUudXJsID09IHVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1VybCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVXJsKSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEuc29ydCkgcnVsZXNEYXRhLnNvcnQgPSBbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnVybHMucHVzaCh7aWQ6IG1heElkICsgMSwgdXJsOiB1cmwsIHR5cGU6IHR5cGV9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuc29ydC51bnNoaWZ0KG1heElkICsgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRpZmYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvckFscmVhZHlFeGlzdHMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImJlZ2luVXBkYXRlIiksICIiLCAzMDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJ1bGVzKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oInVwZGF0ZVN1Y2MiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKHJ1bGUsIGVycikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoYFVwZGF0ZSAke3J1bGUudXJsfSBydWxlcyBmYWlsIWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS51cmxzKSBydWxlVXJscyA9IHJ1bGVVcmxzLmNvbmNhdChydWxlc0RhdGEudXJscyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNEYXRhLnNvcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJscyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zb3J0LmZvckVhY2goaWQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHJ1bGVVcmxzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gcnVsZVVybHNbc10uaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2gocnVsZVVybHNbc10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVVybHMgPSB1cmxzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiYmVnaW5VcGRhdGUiKSwgIiIsIDMwMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJ1bGVzKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJ1cGRhdGVTdWNjIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKHJ1bGUsIGVycikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGBVcGRhdGUgJHtydWxlLnVybH0gcnVsZXMgZmFpbCFgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfR01fbm90aWZpY2F0aW9uKGUudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAocHJlKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNsaWVudEhlaWdodCA9IDM1IC0gcHJlLmNsaWVudEhlaWdodDsKICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50SGVpZ2h0ID4gLTIwKSBjbGllbnRIZWlnaHQgPSAtMjA7CiAgICAgICAgICAgICAgICAgICAgaW1wb3J0QnRuLnN0eWxlLm1hcmdpblRvcCA9IGAke2NsaWVudEhlaWdodH1weGA7CiAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKGltcG9ydEJ0bik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0QnRuOwogICAgICAgICAgICB9OwogICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncHJlW25hbWU9cGFnZXR1YWxdLHByZVtuYW1lPXVzZXItY29udGVudC1wYWdldHVhbF0nKSwgcHJlID0+IHsKICAgICAgICAgICAgICAgIGxldCBpbXBvcnRCdG4gPSBjcmVhdGVJbXBvcnRCdG4ocHJlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGUgPT4gewogICAgICAgICAgICAgICAgaWYgKC9eUFJFJC9pLnRlc3QoZS50YXJnZXQubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVBdHRyID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJuYW1lIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVBdHRyID09ICJwYWdldHVhbCIgfHwgbmFtZUF0dHIgPT0gInVzZXItY29udGVudC1wYWdldHVhbCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJyNwYWdldHVhbEltcG9ydCcpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbXBvcnRCdG4gPSBjcmVhdGVJbXBvcnRCdG4oZS50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoaW5Db25maWcpIHsKICAgICAgICAgICAgICAgIGlmICghaW5VcGRhdGUgJiYgX0dNX2luZm8uc2NyaXB0ICYmIF9HTV9pbmZvLnNjcmlwdC52ZXJzaW9uICYmIF9HTV9pbmZvLnNjcmlwdC52ZXJzaW9uICE9PSAnMS4wLjAnKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHZlcnNpb25FbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFya2Rvd24tYm9keT5oMVtpZF0sYXJ0aWNsZT5oMScpOwogICAgICAgICAgICAgICAgICAgIGxldCBsYXRlc3RWZXIgPSB2ZXJzaW9uRWxlICYmIHZlcnNpb25FbGUuaW5uZXJUZXh0Lm1hdGNoKC9cZFtcZFwuXSsvKVswXTsKICAgICAgICAgICAgICAgICAgICBpZiAobGF0ZXN0VmVyICYmIGxhdGVzdFZlciAhPSBfR01faW5mby5zY3JpcHQudmVyc2lvbikgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCdvdXRPZkRhdGUnKSwgIiIsIDMwMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9HTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgcD5zcGFuOm50aC1jaGlsZCgxKSxwPnNwYW46bnRoLWNoaWxkKDIpLHA+c3BhbjpudGgtY2hpbGQoMyl7CiAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjNzOwogICAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246Y29sb3IgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4zczsKICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjNzOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBwPnNwYW46bnRoLWNoaWxkKDEpOmhvdmVyLHA+c3BhbjpudGgtY2hpbGQoMik6aG92ZXIscD5zcGFuOm50aC1jaGlsZCgzKTpob3ZlcnsKICAgICAgICAgICAgICAgICAgY29sb3I6cmVkOwogICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxLjUpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAudXBkYXRlRGF0ZXsKICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOmNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3M7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjpjb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjNzOwogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOmNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3M7CiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogbGVmdDsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgLnVwZGF0ZURhdGU6aG92ZXJ7CiAgICAgICAgICAgICAgICAgIGNvbG9yOnJlZDsKICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogICAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4xKTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLAogICAgICAgICAgICAgICAgIGlucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBpbnB1dFt0eXBlPW51bWJlcl0gewogICAgICAgICAgICAgICAgICAtbW96LWFwcGVhcmFuY2U6dGV4dGZpZWxkOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICByZWFjdC1hcHA+ZGl2PmRpdj5kaXY+ZGl2PmRpdj5kaXY+ZGl2W3RhYmluZGV4PSIwIl06bm90KFtkYXRhLXNlbGVjdG9yXSkgewogICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB0YWJsZSB0ZD5oMyB7CiAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTZweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICNzYXZlQnRuIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgICAgICAgei1pbmRleDogOTk5OwogICAgICAgICAgICAgICAgICBib3R0b206IDBweDsKICAgICAgICAgICAgICAgICAgbGVmdDogMHB4OwogICAgICAgICAgICAgICAgICBmb250LXNpemU6IHgtbGFyZ2U7CiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuODsKICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAtbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjNzIGVhc2U7CiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZTsKICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgI3NhdmVCdG46aG92ZXIgewogICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgY2xpY2syaW1wb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW25hbWU9J3VzZXItY29udGVudC1jbGljazJpbXBvcnQnXSxbbmFtZT0nY2xpY2syaW1wb3J0J10iKTsKICAgICAgICAgICAgICAgIGlmIChjbGljazJpbXBvcnQpIGNsaWNrMmltcG9ydC5pbm5lclRleHQgPSBpMThuKCJjbGljazJJbXBvcnRSdWxlIikKICAgICAgICAgICAgICAgIGNvbmZpZ0NvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5tYXJrZG93bi1ib2R5LC50aGVtZS1kZWZhdWx0LWNvbnRlbnQiKTsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnQ29uKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5zZXJ0UG9zID0gY29uZmlnQ29uLnF1ZXJ5U2VsZWN0b3IoImhyLCNqc29uZWRpdG9yIik7CgogICAgICAgICAgICAgICAgaW1wb3J0VXJsUHJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigicHJlW25hbWU9J3VzZXItY29udGVudC1wYWdldHVhbCddLHByZVtuYW1lPSdwYWdldHVhbCddIik7CiAgICAgICAgICAgICAgICBpZiAoIXJ1bGVzRGF0YS51bmluaXRlZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChpbXBvcnRVcmxQcmUpIGltcG9ydFVybFByZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgIGlmIChjbGljazJpbXBvcnQpIGNsaWNrMmltcG9ydC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IG90aGVyY29uZmlnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYVtuYW1lPSd1c2VyLWNvbnRlbnQtb3RoZXJjb25maWcnXSxhW25hbWU9J290aGVyY29uZmlnJ10iKTsKICAgICAgICAgICAgICAgIGlmIChvdGhlcmNvbmZpZykgb3RoZXJjb25maWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdGhlcmNvbmZpZyk7CiAgICAgICAgICAgICAgICBsZXQgcnVsZXNFeGFtcGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3VzZXItY29udGVudC1ydWxlcy1leGFtcGxlK2EsI3J1bGVzLWV4YW1wbGU+YSIpOwogICAgICAgICAgICAgICAgaWYgKHJ1bGVzRXhhbXBsZSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRXhhbXBsZS5pbm5lclRleHQgPSBpMThuKCJydWxlc0V4YW1wbGUiKTsKICAgICAgICAgICAgICAgICAgICBpZiAobGFuZyA9PSAiemgtQ04iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRXhhbXBsZS5ocmVmID0gcnVsZXNFeGFtcGxlLmhyZWYucmVwbGFjZSgiZW4iLCAiY24iKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhbmcgPT0gInpoLVRXIikgewogICAgICAgICAgICAgICAgICAgICAgICBydWxlc0V4YW1wbGUuaHJlZiA9IHJ1bGVzRXhhbXBsZS5ocmVmLnJlcGxhY2UoIi9lbiIsICIiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlOwogICAgICAgIGNsYXNzIFJ1bGViYXIgewogICAgICAgICAgICBpbml0KHJ1bGVVcmwpIHsKICAgICAgICAgICAgICAgIGxldCBpZCA9IHJ1bGVVcmwuaWQ7CiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVVcmwgPSBydWxlVXJsOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtLmRhdGFzZXQuaWQgPSBpZDsKICAgICAgICAgICAgICAgIGxldCB1cmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICAgICAgICB1cmwuaHJlZiA9IHJ1bGVVcmwudXJsOwogICAgICAgICAgICAgICAgdXJsLmlubmVySFRNTCA9IHJ1bGVVcmwudXJsOwogICAgICAgICAgICAgICAgbGV0IHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgdXAuaW5uZXJIVE1MID0gIuKGkSAiOwogICAgICAgICAgICAgICAgdXAudGl0bGUgPSBpMThuKCJzb3J0VGl0bGUiKTsKICAgICAgICAgICAgICAgIGxldCBkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgZG93bi5pbm5lckhUTUwgPSAi4oaTICI7CiAgICAgICAgICAgICAgICBkb3duLnRpdGxlID0gaTE4bigic29ydFRpdGxlIik7CiAgICAgICAgICAgICAgICBsZXQgZGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgZGVsLmlubmVySFRNTCA9ICLDlyAiOwogICAgICAgICAgICAgICAgdXAub25jbGljayA9IGUgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVVwKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG93bi5vbmNsaWNrID0gZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlRG93bigpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRlbC5vbmNsaWNrID0gZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWwoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQodXApOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtLmFwcGVuZENoaWxkKGRvd24pOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtLmFwcGVuZENoaWxkKGRlbCk7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQodXJsKTsKICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLnJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgdXJsLnN0eWxlLm1heFdpZHRoID0gIjgwJSI7CiAgICAgICAgICAgICAgICAgICAgdXJsLnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICAgICAgICAgICAgdXJsLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICAgICAgICAgICAgICAgICAgICB1cmwuc3R5bGUudGV4dE92ZXJmbG93ID0gImVsbGlwc2lzIjsKICAgICAgICAgICAgICAgICAgICB1cmwuc3R5bGUudmVydGljYWxBbGlnbiA9ICJib3R0b20iOwogICAgICAgICAgICAgICAgICAgIGxldCBydWxlc0xlbmd0aCA9IHJ1bGVQYXJzZXIucnVsZXMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgKGN1ci5mcm9tID09IGlkID8gMSA6IDApLCAwKTsKICAgICAgICAgICAgICAgICAgICBsZXQgaWRTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgICAgIGlkU3Bhbi5zdHlsZS5mbG9hdCA9ICJyaWdodCI7CiAgICAgICAgICAgICAgICAgICAgaWRTcGFuLmlubmVySFRNTCA9IGBbcnVsZXM6ICR7cnVsZXNMZW5ndGh9XWA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtLmFwcGVuZENoaWxkKGlkU3Bhbik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZFNwYW4gPSBpZFNwYW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKHRoaXMuaXRlbSwgaW5zZXJ0UG9zKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB1cGRhdGVOdW0oKSB7CiAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5ydWxlcykgewogICAgICAgICAgICAgICAgICAgIGxldCBydWxlc0xlbmd0aCA9IHJ1bGVQYXJzZXIucnVsZXMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgKGN1ci5mcm9tID09IHRoaXMuaXRlbS5kYXRhc2V0LmlkID8gMSA6IDApLCAwKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlkU3Bhbi5pbm5lckhUTUwgPSBgW3J1bGVzOiAke3J1bGVzTGVuZ3RofV1gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNhdmVTb3J0KCkgewogICAgICAgICAgICAgICAgbGV0IHNvcnQgPSBbXTsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh0aGlzLml0ZW0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCJwW2RhdGEtaWRdIiksIGkgPT4gewogICAgICAgICAgICAgICAgICAgIHNvcnQucHVzaChpLmRhdGFzZXQuaWQpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBydWxlc0RhdGEuc29ydCA9IHNvcnQ7CiAgICAgICAgICAgICAgICBsZXQgdXJscyA9IFtdOwogICAgICAgICAgICAgICAgc29ydC5mb3JFYWNoKGlkID0+IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHJ1bGVVcmxzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PSBydWxlVXJsc1tzXS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscy5wdXNoKHJ1bGVVcmxzW3NdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBydWxlVXJscyA9IHVybHM7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbW92ZVVwKCkgewogICAgICAgICAgICAgICAgbGV0IHByZUUgPSB0aGlzLml0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgIGlmICgvXlAkL2kudGVzdChwcmVFLm5vZGVOYW1lKSAmJiBwcmVFLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5pdGVtLCBwcmVFKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVTb3J0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbW92ZURvd24oKSB7CiAgICAgICAgICAgICAgICBsZXQgbmV4dEUgPSB0aGlzLml0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgaWYgKC9eUCQvaS50ZXN0KG5leHRFLm5vZGVOYW1lKSAmJiBuZXh0RS5jaGlsZHJlbi5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5leHRFLCB0aGlzLml0ZW0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVNvcnQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBkZWwoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5ydWxlVXJsLmlkIDwgMikgewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImNhbnREZWwiKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5jb25maXJtKGkxOG4oImNvbmZpcm1EZWwiKSkpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IHJ1bGVzRGF0YS51cmxzLmxlbmd0aDsgdSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVVcmwuaWQgPT0gcnVsZXNEYXRhLnVybHNbdV0uaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS51cmxzLnNwbGljZSh1LCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgcnVsZVVybHMubGVuZ3RoOyB1KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVsZVVybC5pZCA9PSBydWxlVXJsc1t1XS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVVybHMuc3BsaWNlKHUsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCBydWxlc0RhdGEuc29ydC5sZW5ndGg7IHUrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ydWxlVXJsLmlkID09IHJ1bGVzRGF0YS5zb3J0W3VdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuc29ydC5zcGxpY2UodSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5ydWxlcyA9IHJ1bGVQYXJzZXIucnVsZXMuZmlsdGVyKGl0ZW0gPT4ge3JldHVybiBpdGVtLmZyb20gIT0gdGhpcy5ydWxlVXJsLmlkfSk7CiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlcyIsIHJ1bGVQYXJzZXIucnVsZXMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgLy9sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgdXBkYXRlUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSwgaSA9IDA7CiAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoKCiAgICAgICAgbGV0IHBhc3REYXRlID0gKG5ldyBEYXRlKHVwZGF0ZURhdGUpKS50b1N0cmluZygpLCBwYXNzU3RyOwogICAgICAgIGxldCBwYXNzVGltZSA9IChub3cgLSB1cGRhdGVEYXRlKSAvIDEwMDA7CiAgICAgICAgaWYgKGlzTmFOKHBhc3NUaW1lKSkgewogICAgICAgICAgICBwYXNzU3RyID0gaTE4bigiZmlyc3RVcGRhdGUiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocGFzc1RpbWUgPCA2MCkgewogICAgICAgICAgICAgICAgcGFzc1N0ciA9IGkxOG4oInBhc3NTZWMiLCBwYXJzZUludChwYXNzVGltZSkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3NUaW1lIDwgNjAgKiA2MCkgewogICAgICAgICAgICAgICAgcGFzc1N0ciA9IGkxOG4oInBhc3NNaW4iLCBwYXJzZUludChwYXNzVGltZSAvIDYwKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzc1RpbWUgPCA2MCAqIDYwICogMjQpIHsKICAgICAgICAgICAgICAgIHBhc3NTdHIgPSBpMThuKCJwYXNzSG91ciIsIHBhcnNlSW50KHBhc3NUaW1lIC8gMzYwMCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGFzc1N0ciA9IGkxOG4oInBhc3NEYXkiLCBwYXJzZUludChwYXNzVGltZSAvIDg2NDAwKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGFzc1N0ciArPSAiIPCfkYYgIiArIGkxOG4oImNsaWNrMnVwZGF0ZSIpOwogICAgICAgIH0KCiAgICAgICAgbGV0IHJ1bGViYXJMaXN0ID0gW10sIHVwZGF0ZUZhaWwgPSBmYWxzZTsKICAgICAgICB1cGRhdGVQLmNsYXNzTmFtZSA9ICJ1cGRhdGVEYXRlIjsKICAgICAgICB1cGRhdGVQLmlubmVySFRNTCA9IHBhc3NTdHI7CiAgICAgICAgdXBkYXRlUC50aXRsZSA9IGkxOG4oInVwZGF0ZSIpICsgIiAtICIgKyBwYXN0RGF0ZTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKHVwZGF0ZVAsIGluc2VydFBvcyk7CiAgICAgICAgaWYgKHJ1bGVVcmxzKSB7CiAgICAgICAgICAgIHJ1bGVVcmxzLmZvckVhY2gocnVsZVVybCA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcnVsZWJhciA9IG5ldyBSdWxlYmFyKCk7CiAgICAgICAgICAgICAgICBydWxlYmFyLmluaXQocnVsZVVybCk7CiAgICAgICAgICAgICAgICBydWxlYmFyTGlzdC5wdXNoKHJ1bGViYXIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgbGV0IGN1c3RvbVVybHNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICAgICAgY3VzdG9tVXJsc1RpdGxlLmlubmVySFRNTCA9IGkxOG4oImN1c3RvbVVybHMiKTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGN1c3RvbVVybHNUaXRsZSwgaW5zZXJ0UG9zKTsKICAgICAgICBsZXQgY3VzdG9tVXJsc0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTsKICAgICAgICBjdXN0b21VcmxzSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgY3VzdG9tVXJsc0lucHV0LnBsYWNlaG9sZGVyID0gImh0dHA6Ly93ZWRhdGEubmV0L2RhdGFiYXNlcy9BdXRvUGFnZXJpemUvaXRlbXNfYWxsLmpzb24gXG5odHRwczovL2hvb3RoaW4uZ2l0aHViLmlvL1VzZXJTY3JpcHRzL1BhZ2V0dWFsL3BhZ2V0dWFsUnVsZXMuanNvbiI7CiAgICAgICAgY3VzdG9tVXJsc0lucHV0LnNwZWxsY2hlY2sgPSBmYWxzZTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGN1c3RvbVVybHNJbnB1dCwgaW5zZXJ0UG9zKTsKCiAgICAgICAgbGV0IGJ0bnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBidG5zLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShidG5zLCBpbnNlcnRQb3MpOwogICAgICAgIGxldCB1cEJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHVwQnRuSW1nLnN0eWxlLndpZHRoID0gIjMzJSI7CiAgICAgICAgbGV0IHVwQnRuSW1nVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwogICAgICAgIHVwQnRuSW1nVGl0bGUuc3R5bGUud2hpdGVTcGFjZSA9ICJub3dyYXAiOwogICAgICAgIHVwQnRuSW1nVGl0bGUuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgdXBCdG5JbWdUaXRsZS5pbm5lckhUTUwgPSBpMThuKCJ1cEJ0bkltZyIpOwogICAgICAgIHVwQnRuSW1nLmFwcGVuZENoaWxkKHVwQnRuSW1nVGl0bGUpOwogICAgICAgIGxldCB1cEJ0bkltZ0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICB1cEJ0bkltZ0lucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIHVwQnRuSW1nSW5wdXQucGxhY2Vob2xkZXIgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFVwQnRuIjsKICAgICAgICB1cEJ0bkltZ0lucHV0LnZhbHVlID0gcnVsZXNEYXRhLnVwQnRuSW1nIHx8ICcnOwogICAgICAgIHVwQnRuSW1nSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIHVwQnRuSW1nLmFwcGVuZENoaWxkKHVwQnRuSW1nSW5wdXQpOwogICAgICAgIGJ0bnMuYXBwZW5kQ2hpbGQodXBCdG5JbWcpOwoKICAgICAgICBsZXQgZG93bkJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGRvd25CdG5JbWcuc3R5bGUud2lkdGggPSAiMzMlIjsKICAgICAgICBsZXQgZG93bkJ0bkltZ1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBkb3duQnRuSW1nVGl0bGUuc3R5bGUud2hpdGVTcGFjZSA9ICJub3dyYXAiOwogICAgICAgIGRvd25CdG5JbWdUaXRsZS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICBkb3duQnRuSW1nVGl0bGUuaW5uZXJIVE1MID0gaTE4bigiZG93bkJ0bkltZyIpOwogICAgICAgIGRvd25CdG5JbWcuYXBwZW5kQ2hpbGQoZG93bkJ0bkltZ1RpdGxlKTsKICAgICAgICBsZXQgZG93bkJ0bkltZ0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICBkb3duQnRuSW1nSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZG93bkJ0bkltZ0lucHV0LnBsYWNlaG9sZGVyID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxEb3duQnRuIjsKICAgICAgICBkb3duQnRuSW1nSW5wdXQudmFsdWUgPSBydWxlc0RhdGEuZG93bkJ0bkltZyB8fCAnJzsKICAgICAgICBkb3duQnRuSW1nSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGRvd25CdG5JbWcuYXBwZW5kQ2hpbGQoZG93bkJ0bkltZ0lucHV0KTsKICAgICAgICBidG5zLmFwcGVuZENoaWxkKGRvd25CdG5JbWcpOwoKICAgICAgICBsZXQgc2lkZUNvbnRyb2xsZXJJY29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uRGl2LnN0eWxlLndpZHRoID0gIjMzJSI7CiAgICAgICAgbGV0IHNpZGVDb250cm9sbGVySWNvblRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25UaXRsZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uVGl0bGUuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uVGl0bGUuaW5uZXJIVE1MID0gaTE4bigic2lkZUNvbnRyb2xsZXJJY29uIik7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uRGl2LmFwcGVuZENoaWxkKHNpZGVDb250cm9sbGVySWNvblRpdGxlKTsKICAgICAgICBsZXQgc2lkZUNvbnRyb2xsZXJJY29uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHNpZGVDb250cm9sbGVySWNvbklucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIHNpZGVDb250cm9sbGVySWNvbklucHV0LnBsYWNlaG9sZGVyID0gIvCfpI0iOwogICAgICAgIHNpZGVDb250cm9sbGVySWNvbklucHV0LnZhbHVlID0gcnVsZXNEYXRhLnNpZGVDb250cm9sbGVySWNvbiB8fCAnJzsKICAgICAgICBzaWRlQ29udHJvbGxlckljb25JbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgc2lkZUNvbnRyb2xsZXJJY29uRGl2LmFwcGVuZENoaWxkKHNpZGVDb250cm9sbGVySWNvbklucHV0KTsKICAgICAgICBidG5zLmFwcGVuZENoaWxkKHNpZGVDb250cm9sbGVySWNvbkRpdik7CgogICAgICAgIGxldCBvdGhlckJ0bnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBvdGhlckJ0bnMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKG90aGVyQnRucywgaW5zZXJ0UG9zKTsKICAgICAgICBsZXQgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBsb2FkaW5nVGV4dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBsZXQgbG9hZGluZ1RleHRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICAgICAgbG9hZGluZ1RleHRUaXRsZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgbG9hZGluZ1RleHRUaXRsZS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICBsb2FkaW5nVGV4dFRpdGxlLmlubmVySFRNTCA9IGkxOG4oImxvYWRpbmdUZXh0VGl0bGUiKTsKICAgICAgICBsb2FkaW5nVGV4dC5hcHBlbmRDaGlsZChsb2FkaW5nVGV4dFRpdGxlKTsKICAgICAgICBsZXQgbG9hZGluZ1RleHRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgbG9hZGluZ1RleHRJbnB1dC52YWx1ZSA9IHJ1bGVzRGF0YS5sb2FkaW5nVGV4dCB8fCAnJzsKICAgICAgICBsb2FkaW5nVGV4dElucHV0LnBsYWNlaG9sZGVyID0gaTE4bigibG9hZGluZ1RleHQiKTsKICAgICAgICBsb2FkaW5nVGV4dElucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGxvYWRpbmdUZXh0SW5wdXQuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICAgIGxvYWRpbmdUZXh0SW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGxvYWRpbmdUZXh0LmFwcGVuZENoaWxkKGxvYWRpbmdUZXh0SW5wdXQpOwogICAgICAgIG90aGVyQnRucy5hcHBlbmRDaGlsZChsb2FkaW5nVGV4dCk7CgogICAgICAgIGxldCBvcGFjaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbGV0IG9wYWNpdHlUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICAgICAgb3BhY2l0eVRpdGxlLnN0eWxlLndoaXRlU3BhY2UgPSAibm93cmFwIjsKICAgICAgICBvcGFjaXR5VGl0bGUuc3R5bGUub3ZlcmZsb3cgPSAidmlzaWJsZSI7CiAgICAgICAgb3BhY2l0eVRpdGxlLmlubmVySFRNTCA9IGkxOG4oIm9wYWNpdHkiKTsKICAgICAgICBvcGFjaXR5LmFwcGVuZENoaWxkKG9wYWNpdHlUaXRsZSk7CiAgICAgICAgbGV0IG9wYWNpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgb3BhY2l0eUlucHV0LnZhbHVlID0gcnVsZXNEYXRhLm9wYWNpdHkgKiAxMDA7CiAgICAgICAgb3BhY2l0eUlucHV0LnR5cGUgPSAibnVtYmVyIjsKICAgICAgICBvcGFjaXR5SW5wdXQubWluID0gMDsKICAgICAgICBvcGFjaXR5SW5wdXQubWF4ID0gMTAwOwogICAgICAgIG9wYWNpdHlJbnB1dC5zdHlsZS53aWR0aCA9ICIxMTBweCI7CiAgICAgICAgb3BhY2l0eUlucHV0LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgICBvcGFjaXR5SW5wdXQucGxhY2Vob2xkZXIgPSBpMThuKCJvcGFjaXR5UGxhY2Vob2xkZXIiKTsKICAgICAgICBvcGFjaXR5SW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIG9wYWNpdHlJbnB1dC5vbmlucHV0ID0gZSA9PiB7CiAgICAgICAgICAgIGlmIChvcGFjaXR5SW5wdXQudmFsdWUgPiAxMDApIG9wYWNpdHlJbnB1dC52YWx1ZSA9IDEwMDsKICAgICAgICAgICAgZWxzZSBpZiAob3BhY2l0eUlucHV0LnZhbHVlIDwgMCkgb3BhY2l0eUlucHV0LnZhbHVlID0gMDsKICAgICAgICB9OwogICAgICAgIG9wYWNpdHkuYXBwZW5kQ2hpbGQob3BhY2l0eUlucHV0KTsKICAgICAgICBvdGhlckJ0bnMuYXBwZW5kQ2hpbGQob3BhY2l0eSk7CgogICAgICAgIGxldCBwYWdlRWxlbWVudENzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHBhZ2VFbGVtZW50Q3NzLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIzMHB4IjsKICAgICAgICBsZXQgcGFnZUVsZW1lbnRDc3NUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICAgICAgcGFnZUVsZW1lbnRDc3NUaXRsZS5pbm5lckhUTUwgPSBpMThuKCJwYWdlRWxlbWVudENzcyIpOwogICAgICAgIHBhZ2VFbGVtZW50Q3NzLmFwcGVuZENoaWxkKHBhZ2VFbGVtZW50Q3NzVGl0bGUpOwogICAgICAgIGxldCBwYWdlRWxlbWVudENzc0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICBwYWdlRWxlbWVudENzc0lucHV0LnZhbHVlID0gcnVsZXNEYXRhLnBhZ2VFbGVtZW50Q3NzIHx8ICcnOwogICAgICAgIHBhZ2VFbGVtZW50Q3NzSW5wdXQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgcGFnZUVsZW1lbnRDc3NJbnB1dC5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgICAgcGFnZUVsZW1lbnRDc3NJbnB1dC5wbGFjZWhvbGRlciA9ICJmb250LXNpemU6IHh4LWxhcmdlOyI7CiAgICAgICAgcGFnZUVsZW1lbnRDc3NJbnB1dC5zcGVsbGNoZWNrID0gZmFsc2U7CiAgICAgICAgcGFnZUVsZW1lbnRDc3MuYXBwZW5kQ2hpbGQocGFnZUVsZW1lbnRDc3NJbnB1dCk7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShwYWdlRWxlbWVudENzcywgaW5zZXJ0UG9zKTsKCiAgICAgICAgbGV0IGN1c3RvbUNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGN1c3RvbUNzcy5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiNTBweCI7CiAgICAgICAgbGV0IGN1c3RvbUNzc1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBjdXN0b21Dc3NUaXRsZS5pbm5lckhUTUwgPSBpMThuKCJjdXN0b21Dc3MiKTsKICAgICAgICBjdXN0b21Dc3MuYXBwZW5kQ2hpbGQoY3VzdG9tQ3NzVGl0bGUpOwogICAgICAgIGxldCBjdXN0b21Dc3NJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgY3VzdG9tQ3NzSW5wdXQudmFsdWUgPSBydWxlc0RhdGEuY3VzdG9tQ3NzIHx8ICcnOwogICAgICAgIGN1c3RvbUNzc0lucHV0LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGN1c3RvbUNzc0lucHV0LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgICBjdXN0b21Dc3NJbnB1dC5wbGFjZWhvbGRlciA9ICIucGFnZXR1YWwge1xufSI7CiAgICAgICAgY3VzdG9tQ3NzSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGN1c3RvbUNzcy5hcHBlbmRDaGlsZChjdXN0b21Dc3NJbnB1dCk7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShjdXN0b21Dc3MsIGluc2VydFBvcyk7CgogICAgICAgIGxldCBjb25maWdUYWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgY29uZmlnVGFibGUuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgbGV0IGNvbmZpZ1Rib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTsKICAgICAgICBjb25maWdUYm9keS5zdHlsZS53aWR0aCA9ICI5OSUiOwogICAgICAgIGNvbmZpZ1Rib2R5LnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLXRhYmxlIjsKICAgICAgICBjb25maWdUYWJsZS5hcHBlbmRDaGlsZChjb25maWdUYm9keSk7CiAgICAgICAgY29uZmlnQ29uLmluc2VydEJlZm9yZShjb25maWdUYWJsZSwgaW5zZXJ0UG9zKTsKICAgICAgICBmdW5jdGlvbiBjcmVhdGVDaGVja2JveChpbm5lclRleHQsIHZhbCwgdGFnLCBwYXJlbnRDaGVjaywgb3RoZXJUeXBlKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09ICd1bmRlZmluZWQnKSB2YWwgPSAiIjsKICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcgfHwgImgzIik7CiAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9IGlubmVyVGV4dDsKICAgICAgICAgICAgdGl0bGUuc3R5bGUub3ZlcmZsb3dXcmFwID0gIm5vcm1hbCI7CiAgICAgICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgICAgIGlmIChvdGhlclR5cGUgPT09ICdrZXknKSB7CiAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gJ3RleHQnOwogICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZWFkT25seScsICdyZWFkb25seScpOwogICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgfHwgZS5rZXkgPT09ICdCYWNrc3BhY2UnKSBpbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaW5wdXQudmFsdWUgPSBlLmtleTsKICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9IG90aGVyVHlwZSB8fCAiY2hlY2tib3giOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlucHV0LnN0eWxlLndpZHRoID0gIjMwcHgiOwogICAgICAgICAgICBpbnB1dC5zdHlsZS5oZWlnaHQgPSAiMjBweCI7CiAgICAgICAgICAgIGlucHV0LnN0eWxlLmZsb2F0ID0gImxlZnQiOwogICAgICAgICAgICBpbnB1dC5zdHlsZS5tYXJnaW4gPSAiNXB4IjsKICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWw7CiAgICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSB2YWw7CiAgICAgICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGlucHV0KTsKICAgICAgICAgICAgaWYgKHBhcmVudENoZWNrKSB7CiAgICAgICAgICAgICAgICB0aXRsZS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZCh0aXRsZSk7CiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gcGFyZW50Q2hlY2sucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICBsZXQgdHIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcigidHIiKTsKICAgICAgICAgICAgICAgIGlmICghdHIpIHsKICAgICAgICAgICAgICAgICAgICB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTsKICAgICAgICAgICAgICAgIGlmICghcGFyZW50Q2hlY2suY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYXJlbnRDaGVjay5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLmRpc3BsYXkgPSBwYXJlbnRDaGVjay5jaGVja2VkID8gIiIgOiAibm9uZSI7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7CiAgICAgICAgICAgICAgICB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZCh0aXRsZSk7CiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7CiAgICAgICAgICAgICAgICBjb25maWdUYWJsZS5jaGlsZHJlblswXS5hcHBlbmRDaGlsZCh0cik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IHhOb2RlUG9zID0gaW5uZXJUZXh0LmluZGV4T2YoJ+OAkFjjgJEnKTsKICAgICAgICAgICAgaWYgKHhOb2RlUG9zICE9PSAtMSkgewogICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuZmxvYXQgPSAiIjsKICAgICAgICAgICAgICAgIGxldCB4Tm9kZSA9IHRpdGxlLmZpcnN0Q2hpbGQuc3BsaXRUZXh0KHhOb2RlUG9zKTsKICAgICAgICAgICAgICAgIHhOb2RlLnNwbGl0VGV4dCgzKTsKICAgICAgICAgICAgICAgIHhOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGlucHV0LCB4Tm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGlucHV0OwogICAgICAgIH0KCiAgICAgICAgbGV0IHNldENvbmZpZ1BhZ2VJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oInNldENvbmZpZ1BhZ2UiKSwgZmFsc2UpOwogICAgICAgIGxldCBlbmFibGVXaGl0ZUxpc3RJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImF1dG9SdW4iKSwgcnVsZXNEYXRhLmVuYWJsZVdoaXRlTGlzdCAhPSB0cnVlKTsKICAgICAgICBsZXQgc2lkZUNvbnRyb2xsZXJJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oInNpZGVDb250cm9sbGVyIiksIHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlcik7CiAgICAgICAgbGV0IGVuYWJsZURlYnVnSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJlbmFibGVEZWJ1ZyIpLCBydWxlc0RhdGEuZW5hYmxlRGVidWcgIT0gZmFsc2UpOwogICAgICAgIGxldCBlbmFibGVIaXN0b3J5SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJlbmFibGVIaXN0b3J5IiksIHJ1bGVzRGF0YS5lbmFibGVIaXN0b3J5ID09PSB0cnVlKTsKICAgICAgICBsZXQgZW5hYmxlSGlzdG9yeUFmdGVySW5zZXJ0SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJlbmFibGVIaXN0b3J5QWZ0ZXJJbnNlcnQiKSwgcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA9PT0gdHJ1ZSk7CiAgICAgICAgbGV0IG9wZW5Jbk5ld1RhYklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigib3BlbkluTmV3VGFiIiksIHJ1bGVzRGF0YS5vcGVuSW5OZXdUYWIgIT0gZmFsc2UpOwogICAgICAgIGxldCBoaWRlUGFnZUJhcklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiaGlkZUJhclRpcHMiKSwgcnVsZXNEYXRhLm9wYWNpdHkgPT0gMCk7CiAgICAgICAgbGV0IGhpZGVQYWdlQmFyQXJyb3dJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImhpZGVCYXJBcnJvdyIpLCBydWxlc0RhdGEuaGlkZUJhckFycm93KTsKICAgICAgICBsZXQgaGlkZUxvYWRpbmdJY29uSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJoaWRlTG9hZGluZ0ljb24iKSwgcnVsZXNEYXRhLmhpZGVMb2FkaW5nSWNvbiAhPSBmYWxzZSk7CiAgICAgICAgbGV0IGluaXRSdW5JbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImluaXRSdW4iKSwgcnVsZXNEYXRhLmluaXRSdW4gIT0gZmFsc2UpOwogICAgICAgIGxldCBhdXRvTG9hZE51bUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiYXV0b0xvYWROdW0iKSwgcnVsZXNEYXRhLmF1dG9Mb2FkTnVtLCAiaDQiLCBpbml0UnVuSW5wdXQsICJudW1iZXIiKTsKICAgICAgICBsZXQgcHJlbG9hZElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigicHJlbG9hZCIpLCBydWxlc0RhdGEucHJlbG9hZCAhPSBmYWxzZSk7CiAgICAgICAgbGV0IHJhdGVJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oInR1cm5SYXRlIiksIHJ1bGVzRGF0YS5yYXRlLCAiaDQiLCBwcmVsb2FkSW5wdXQsICJudW1iZXIiKTsKICAgICAgICBsZXQgZGJDbGljazJTdG9wSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJkYkNsaWNrMlN0b3AiKSwgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcCk7CiAgICAgICAgbGV0IG1hbnVhbE1vZGVJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oIm1hbnVhbE1vZGUiKSwgcnVsZXNEYXRhLm1hbnVhbE1vZGUpOwogICAgICAgIGxldCBjbGlja01vZGVJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImNsaWNrTW9kZSIpLCBydWxlc0RhdGEuY2xpY2tNb2RlKTsKICAgICAgICBsZXQgcGFnZUJhck1lbnVJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oInBhZ2VCYXJNZW51IiksIHJ1bGVzRGF0YS5wYWdlQmFyTWVudSAhPSBmYWxzZSk7CiAgICAgICAgbGV0IGFycm93VG9TY3JvbGxJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImFycm93VG9TY3JvbGwiKSwgcnVsZXNEYXRhLmFycm93VG9TY3JvbGwpOwogICAgICAgIGxldCBjb250ZW50VmlzaWJpbGl0eUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiY29udGVudFZpc2liaWxpdHkiKSwgcnVsZXNEYXRhLmNvbnRlbnRWaXNpYmlsaXR5KTsKICAgICAgICBsZXQgd2VkYXRhMmdpdGh1YklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigid2VkYXRhMmdpdGh1YiIpLCBydWxlc0RhdGEud2VkYXRhMmdpdGh1Yik7CiAgICAgICAgbGV0IGN1c3RvbUZpcnN0SW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJjdXN0b21GaXJzdCIpLCBydWxlc0RhdGEuY3VzdG9tRmlyc3QpOwoKICAgICAgICBsZXQgaGlkZUJhcklucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiaGlkZUJhciIpLCBydWxlc0RhdGEuaGlkZUJhciAmJiAhcnVsZXNEYXRhLmhpZGVCYXJCdXROb1N0b3AsICJoNCIsIGRiQ2xpY2syU3RvcElucHV0LCAncmFkaW8nKTsKICAgICAgICBoaWRlQmFySW5wdXQubmFtZSA9ICdoaWRlQmFyJzsKICAgICAgICBsZXQgaGlkZUJhckJ1dE5vU3RvcElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiaGlkZUJhckJ1dE5vU3RvcCIpLCBydWxlc0RhdGEuaGlkZUJhckJ1dE5vU3RvcCwgImg0IiwgZGJDbGljazJTdG9wSW5wdXQsICdyYWRpbycpOwogICAgICAgIGhpZGVCYXJCdXROb1N0b3BJbnB1dC5uYW1lID0gJ2hpZGVCYXInOwogICAgICAgIGhpZGVCYXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZSA9PiB7CiAgICAgICAgICAgIGlmIChoaWRlQmFySW5wdXQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7aGlkZUJhcklucHV0LmNoZWNrZWQgPSBmYWxzZX0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaGlkZUJhckJ1dE5vU3RvcElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHsKICAgICAgICAgICAgaWYgKGhpZGVCYXJCdXROb1N0b3BJbnB1dC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtoaWRlQmFyQnV0Tm9TdG9wSW5wdXQuY2hlY2tlZCA9IGZhbHNlfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBoaWRlUGFnZUJhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7CiAgICAgICAgICAgIG9wYWNpdHlJbnB1dC52YWx1ZSA9IGhpZGVQYWdlQmFySW5wdXQuY2hlY2tlZCA/IDAgOiAxMDA7CiAgICAgICAgfSk7CgogICAgICAgIGxldCBkYkNsaWNrMlN0b3BDdHJsSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJkYkNsaWNrMlN0b3BDdHJsIiksIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BDdHJsLCAiaDQiLCBkYkNsaWNrMlN0b3BJbnB1dCk7CiAgICAgICAgbGV0IGRiQ2xpY2syU3RvcEFsdElucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiZGJDbGljazJTdG9wQWx0IiksIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BBbHQsICJoNCIsIGRiQ2xpY2syU3RvcElucHV0KTsKICAgICAgICBsZXQgZGJDbGljazJTdG9wU2hpZnRJbnB1dCA9IGNyZWF0ZUNoZWNrYm94KGkxOG4oImRiQ2xpY2syU3RvcFNoaWZ0IiksIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BTaGlmdCwgImg0IiwgZGJDbGljazJTdG9wSW5wdXQpOwogICAgICAgIGxldCBkYkNsaWNrMlN0b3BNZXRhSW5wdXQgPSBjcmVhdGVDaGVja2JveChpMThuKCJkYkNsaWNrMlN0b3BNZXRhIiksIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BNZXRhLCAiaDQiLCBkYkNsaWNrMlN0b3BJbnB1dCk7CiAgICAgICAgbGV0IGRiQ2xpY2syU3RvcEtleUlucHV0ID0gY3JlYXRlQ2hlY2tib3goaTE4bigiZGJDbGljazJTdG9wS2V5IiksIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BLZXksICJoNCIsIGRiQ2xpY2syU3RvcElucHV0LCAia2V5Iik7CgogICAgICAgIGxldCBvdGhlckNvbmZpZ1BhZ2UgPSBydWxlc0RhdGEuY29uZmlnUGFnZSA/IHJ1bGVzRGF0YS5jb25maWdQYWdlICE9IGxvY2F0aW9uLmhyZWYgOiBjb25maWdQYWdlWzBdICE9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgaWYgKCFvdGhlckNvbmZpZ1BhZ2UpIHsKICAgICAgICAgICAgc2V0Q29uZmlnUGFnZUlucHV0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0KCiAgICAgICAgdXBkYXRlUC5vbmNsaWNrID0gZSA9PiB7CiAgICAgICAgICAgIHVwZGF0ZUZhaWwgPSBmYWxzZTsKICAgICAgICAgICAgcnVsZVBhcnNlci5ydWxlcyA9IFtdOwogICAgICAgICAgICBzaG93VGlwcyhpMThuKCJiZWdpblVwZGF0ZSIpLCAiIiwgMzAwMDApOwogICAgICAgICAgICB1cGRhdGVSdWxlcygoKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZUZhaWwpIHsKICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJ1cGRhdGVTdWNjIikpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbXBvcnRVcmxQcmUpIGltcG9ydFVybFByZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgIGlmIChjbGljazJpbXBvcnQpIGNsaWNrMmltcG9ydC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlUC5pbm5lckhUTUwgPSBpMThuKCJwYXNzU2VjIiwgMCk7CiAgICAgICAgICAgICAgICB1cGRhdGVQLnRpdGxlID0gaTE4bigidXBkYXRlIik7CiAgICAgICAgICAgICAgICBydWxlYmFyTGlzdC5mb3JFYWNoKHJ1bGViYXIgPT4gewogICAgICAgICAgICAgICAgICAgIHJ1bGViYXIudXBkYXRlTnVtKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwgKHJ1bGUsIGVycikgPT4gewogICAgICAgICAgICAgICAgaWYgKHJ1bGUuaWQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGBVcGRhdGUgd2VkYXRhIHJ1bGVzIGZhaWwhIFRyeSB0byBzd2l0Y2ggdG8gd2VkYXRhIG1pcnJvciFgKTsKICAgICAgICAgICAgICAgICAgICB3ZWRhdGEyZ2l0aHViSW5wdXQuc2Nyb2xsSW50b1ZpZXcoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoYFVwZGF0ZSAke3J1bGUudXJsfSBydWxlcyBmYWlsIWApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGVidWcoZXJyKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUZhaWwgPSB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIGxldCBjdXN0b21SdWxlc1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICBjdXN0b21SdWxlc1RpdGxlLmlubmVySFRNTCA9IGkxOG4oImN1c3RvbVJ1bGVzIiwgL3RyZWUvLnRlc3QobG9jYXRpb24uaHJlZikgPyBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3RyZWUnLCAnZWRpdCcpLnJlcGxhY2UoL1wvJC8sICcnKSArICcvcGFnZXR1YWxSdWxlcy5qc29uJyA6ICdodHRwczovL2dpdGh1Yi5jb20vaG9vdGhpbi9Vc2VyU2NyaXB0cy9lZGl0L21hc3Rlci9QYWdldHVhbC9wYWdldHVhbFJ1bGVzLmpzb24nKTsKICAgICAgICBjb25maWdDb24uaW5zZXJ0QmVmb3JlKGN1c3RvbVJ1bGVzVGl0bGUsIGluc2VydFBvcyk7CiAgICAgICAgbGV0IGN1c3RvbVJ1bGVzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoY3VzdG9tUnVsZXNJbnB1dCwgaW5zZXJ0UG9zKTsKICAgICAgICBpZiAocnVsZXNEYXRhLmVkaXRUZW1wKSB7CiAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXN0b21SdWxlcyA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gcnVsZVBhcnNlci5jdXN0b21SdWxlcykgewogICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXNbaV0udXJsID09IHJ1bGVzRGF0YS5lZGl0VGVtcC51cmwpIHsKICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBydWxlUGFyc2VyLmN1c3RvbVJ1bGVzLnVuc2hpZnQocnVsZXNEYXRhLmVkaXRUZW1wKTsKICAgICAgICAgICAgcnVsZXNEYXRhLmVkaXRUZW1wID0gbnVsbDsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJydWxlc0RhdGEiLCBydWxlc0RhdGEpOwogICAgICAgICAgICBjdXN0b21SdWxlc0lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuc2Nyb2xsSW50b1ZpZXcoKTsKICAgICAgICB9CiAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBjdXN0b21SdWxlc0lucHV0LnN0eWxlLmhlaWdodCA9ICI4MDBweCI7CiAgICAgICAgY3VzdG9tUnVsZXNJbnB1dC5wbGFjZWhvbGRlciA9IGBbXG4gIHtcbiAgICAibmFtZSI6InlhbmRlIixcbiAgICAiYWN0aW9uIjoiMCIsXG4gICAgInVybCI6Il5odHRwczpcL1wveWFuZGVcXC5yZVwvIixcbiAgICAicGFnZUVsZW1lbnQiOiJ1bCNwb3N0LWxpc3QtcG9zdHM+bGkiLFxuICAgICJuZXh0TGluayI6ImEubmV4dF9wYWdlIixcbiAgICAiY3NzIjoiLmphdmFzY3JpcHQtaGlkZSB7ZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7fSJcbiAgfSxcbiAge1xuICAgICJuYW1lIjoidGllYmEiLFxuICAgICJhY3Rpb24iOiIxIixcbiAgICAidXJsIjoiXmh0dHBzOlwvXC90aWViYVxcLmJhaWR1LmNvbVwvZlxcP2t3PSIsXG4gICAgInBhZ2VFbGVtZW50IjoidWwjdGhyZWFkX2xpc3Q+bGkiLFxuICAgICJuZXh0TGluayI6Ii5uZXh0LnBhZ2luYXRpb24taXRlbSAiXG4gIH1cbl1gOwogICAgICAgIGxldCBwcmVDdXN0b20gPSBnZXRGb3JtYXRKU09OKHJ1bGVQYXJzZXIuY3VzdG9tUnVsZXMpOwogICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUgPSBwcmVDdXN0b207CiAgICAgICAgaWYgKGlzR3VpZGVQYWdlKSBjdXN0b21SdWxlc0lucHV0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgbGV0IGJsYWNrbGlzdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTsKICAgICAgICBibGFja2xpc3RJbnB1dC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBibGFja2xpc3RJbnB1dC5zdHlsZS5oZWlnaHQgPSAiNTAwcHgiOwogICAgICAgIGJsYWNrbGlzdElucHV0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgYmxhY2tsaXN0SW5wdXQuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgIGJsYWNrbGlzdElucHV0LnBsYWNlaG9sZGVyID0gImh0dHA6Ly8qLnh4eC5jb20vKi95XG4vXmh0dHBzPzovLy4qXFwueHh4XFwuY29tL2kiOwogICAgICAgIGJsYWNrbGlzdElucHV0LnZhbHVlID0gcnVsZXNEYXRhLmJsYWNrbGlzdCA/IHJ1bGVzRGF0YS5ibGFja2xpc3Quam9pbigiXG4iKSA6ICIiOwogICAgICAgIGxldCBibGFja2xpc3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICBibGFja2xpc3RCdG4uaW5uZXJUZXh0ID0gaTE4bigiZWRpdEJsYWNrbGlzdCIpOwogICAgICAgIGJsYWNrbGlzdEJ0bi5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBibGFja2xpc3RCdG4ub25jbGljayA9IGUgPT4gewogICAgICAgICAgICBibGFja2xpc3RJbnB1dC5zdHlsZS5kaXNwbGF5ID0gYmxhY2tsaXN0SW5wdXQuc3R5bGUuZGlzcGxheSA9PSAibm9uZSIgPyAiIiA6ICJub25lIjsKICAgICAgICB9OwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoYmxhY2tsaXN0QnRuLCBpbnNlcnRQb3MpOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoYmxhY2tsaXN0SW5wdXQsIGluc2VydFBvcyk7CiAgICAgICAgbGV0IHNhdmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICBzYXZlQnRuLmlubmVySFRNTCA9IGkxOG4oInNhdmUiKTsKICAgICAgICBzYXZlQnRuLmlkID0gInNhdmVCdG4iOwogICAgICAgIGNvbmZpZ0Nvbi5pbnNlcnRCZWZvcmUoc2F2ZUJ0biwgaW5zZXJ0UG9zKTsKICAgICAgICBzYXZlQnRuLm9uY2xpY2sgPSBlID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGxldCBjdXN0b21SdWxlczsKICAgICAgICAgICAgICAgIGlmIChlZGl0b3IpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yQ2hhbmdlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiaHBSdWxlcyIsIFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJzbWFydFJ1bGVzIiwgW10pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjdXN0b21SdWxlcyA9IGVkaXRvci5nZXQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWN1c3RvbVJ1bGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gIiI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5ICYmIEFycmF5LmlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoY3VzdG9tUnVsZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvclJ1bGVzTXVzdEJlQXJyYXkiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21SdWxlc0lucHV0LnZhbHVlICE9IHByZUN1c3RvbSkgewogICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImhwUnVsZXMiLCBbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgic21hcnRSdWxlcyIsIFtdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUnVsZXMgPSAiIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21SdWxlcyA9IEpTT04ucGFyc2UoY3VzdG9tUnVsZXNJbnB1dC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheSAmJiBBcnJheS5pc0FycmF5ICYmICFBcnJheS5pc0FycmF5KGN1c3RvbVJ1bGVzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigiZXJyb3JSdWxlc011c3RCZUFycmF5IikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShjdXN0b21SdWxlcywgbnVsbCwgNCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGVidWcoY3VzdG9tUnVsZXMpOwogICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJjdXN0b21SdWxlcyIsIGN1c3RvbVJ1bGVzKTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgIGxldCBwb3MgPSBlICYmIGUubWVzc2FnZSAmJiBlLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcZCspLyk7CiAgICAgICAgICAgICAgICBpZiAocG9zICYmICFlZGl0b3IpIHsKICAgICAgICAgICAgICAgICAgICBwb3MgPSBwYXJzZUludChwb3NbMV0pOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbVJ1bGVzSW5wdXQudmFsdWUgPSBjdXN0b21SdWxlc0lucHV0LnZhbHVlLnNsaWNlKDAsIHBvcykgKyAi4p6h77iPIiArIGN1c3RvbVJ1bGVzSW5wdXQudmFsdWVbcG9zXSArICLirIXvuI8iICsgY3VzdG9tUnVsZXNJbnB1dC52YWx1ZS5zbGljZShwb3MgKyAxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9ySnNvbiIpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0Q29uZmlnUGFnZUlucHV0LmNoZWNrZWQpIHJ1bGVzRGF0YS5jb25maWdQYWdlID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgcnVsZXNEYXRhLndlZGF0YTJnaXRodWIgPSB3ZWRhdGEyZ2l0aHViSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgbGV0IG9wYWNpdHkgPSBwYXJzZUludChvcGFjaXR5SW5wdXQudmFsdWUpIHx8IDA7CiAgICAgICAgICAgIGlmIChvcGFjaXR5ID4gMTAwKSBvcGFjaXR5ID0gMTAwOwogICAgICAgICAgICBlbHNlIGlmIChvcGFjaXR5IDwgMCkgb3BhY2l0eSA9IDA7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5vcGFjaXR5ID0gb3BhY2l0eSAvIDEwMDsKICAgICAgICAgICAgcnVsZXNEYXRhLmJsYWNrbGlzdCA9IGJsYWNrbGlzdElucHV0LnZhbHVlID8gYmxhY2tsaXN0SW5wdXQudmFsdWUudHJpbSgpLnNwbGl0KCJcbiIpIDogIiI7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5oaWRlQmFyID0gaGlkZUJhcklucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5oaWRlQmFyQnV0Tm9TdG9wID0gaGlkZUJhckJ1dE5vU3RvcElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3AgPSBkYkNsaWNrMlN0b3BJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZW5hYmxlV2hpdGVMaXN0ID0gIWVuYWJsZVdoaXRlTGlzdElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5lbmFibGVEZWJ1ZyA9IGVuYWJsZURlYnVnSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnkgPSBlbmFibGVIaXN0b3J5SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmVuYWJsZUhpc3RvcnlBZnRlckluc2VydCA9IGVuYWJsZUhpc3RvcnlBZnRlckluc2VydElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5vcGVuSW5OZXdUYWIgPSBvcGVuSW5OZXdUYWJJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuaGlkZUxvYWRpbmdJY29uID0gaGlkZUxvYWRpbmdJY29uSW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmhpZGVCYXJBcnJvdyA9IGhpZGVQYWdlQmFyQXJyb3dJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuY3VzdG9tRmlyc3QgPSBjdXN0b21GaXJzdElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5pbml0UnVuID0gaW5pdFJ1bklucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5hdXRvTG9hZE51bSA9IGF1dG9Mb2FkTnVtSW5wdXQudmFsdWUgIT09ICIwIiA/IGF1dG9Mb2FkTnVtSW5wdXQudmFsdWUgOiAnJzsKICAgICAgICAgICAgcnVsZXNEYXRhLnJhdGUgPSBwYXJzZUludChyYXRlSW5wdXQudmFsdWUpIHx8IDE7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5wcmVsb2FkID0gcHJlbG9hZElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5tYW51YWxNb2RlID0gbWFudWFsTW9kZUlucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5jbGlja01vZGUgPSBjbGlja01vZGVJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEucGFnZUJhck1lbnUgPSBwYWdlQmFyTWVudUlucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5hcnJvd1RvU2Nyb2xsID0gYXJyb3dUb1Njcm9sbElucHV0LmNoZWNrZWQ7CiAgICAgICAgICAgIHJ1bGVzRGF0YS5jb250ZW50VmlzaWJpbGl0eSA9IGNvbnRlbnRWaXNpYmlsaXR5SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlciAhPSBzaWRlQ29udHJvbGxlcklucHV0LmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlclBvcyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bGVzRGF0YS5zaWRlQ29udHJvbGxlciA9IHNpZGVDb250cm9sbGVySW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLnBhZ2VFbGVtZW50Q3NzID0gcGFnZUVsZW1lbnRDc3NJbnB1dC52YWx1ZTsKICAgICAgICAgICAgcnVsZXNEYXRhLmN1c3RvbUNzcyA9IGN1c3RvbUNzc0lucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEudXBCdG5JbWcgPSB1cEJ0bkltZ0lucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEuZG93bkJ0bkltZyA9IGRvd25CdG5JbWdJbnB1dC52YWx1ZTsKICAgICAgICAgICAgcnVsZXNEYXRhLnNpZGVDb250cm9sbGVySWNvbiA9IHNpZGVDb250cm9sbGVySWNvbklucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEubG9hZGluZ1RleHQgPSBsb2FkaW5nVGV4dElucHV0LnZhbHVlOwogICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wQ3RybCA9IGRiQ2xpY2syU3RvcEN0cmxJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wQWx0ID0gZGJDbGljazJTdG9wQWx0SW5wdXQuY2hlY2tlZDsKICAgICAgICAgICAgcnVsZXNEYXRhLmRiQ2xpY2syU3RvcFNoaWZ0ID0gZGJDbGljazJTdG9wU2hpZnRJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wTWV0YSA9IGRiQ2xpY2syU3RvcE1ldGFJbnB1dC5jaGVja2VkOwogICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wS2V5ID0gZGJDbGljazJTdG9wS2V5SW5wdXQudmFsdWU7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgbGV0IGN1c3RvbVVybHMgPSBjdXN0b21VcmxzSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICBpZiAoY3VzdG9tVXJscykgewogICAgICAgICAgICAgICAgY3VzdG9tVXJscyA9IGN1c3RvbVVybHMuc3BsaXQoL1xuLyk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGN1c3RvbVVybHMubGVuZ3RoOyBjKyspIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdXJsOwogICAgICAgICAgICAgICAgICAgIGlmICgvXjBccypcfC8udGVzdChjdXN0b21VcmxzW2NdKSkgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBjdXN0b21VcmxzW2NdLnJlcGxhY2UoL14wXHMqXHxccyovLCAiIikudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS9eaHR0cC8udGVzdCh1cmwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJlcnJvcldyb25nVXJsIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gY3VzdG9tVXJsc1tjXS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghL15odHRwLy50ZXN0KHVybCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oImVycm9yV3JvbmdVcmwiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IG1heElkID0gMSwgaGFzVXJsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlc0RhdGEudXJscykgewogICAgICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEudXJscyA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlVXJscy5mb3JFYWNoKHUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4SWQgPCB1LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhJZCA9IHUuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUudXJsID09IHVybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzVXJsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmIChoYXNVcmwpIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLnNvcnQpIHJ1bGVzRGF0YS5zb3J0ID0gWzFdOwogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS51cmxzLnB1c2goe2lkOiBtYXhJZCArIDEsIHVybDogdXJsfSk7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLnNvcnQucHVzaChtYXhJZCArIDEpOwogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXNEYXRhIiwgcnVsZXNEYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzaG93VGlwcyhpMThuKCJzZXR0aW5nc1NhdmVkIikpOwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUnVsZXMgKHN1Y2Nlc3MsIGZhaWwsIGtlZXBDYWNoZSkgewogICAgICAgIGlmICghc3RvcmFnZS5zdXBwb3J0Q3Jvc3NTYXZlKCkpIHsKICAgICAgICAgICAgZmFpbCh7dXJsOicnfSwgIk5vdCBzdXBwb3J0IGNyb3NzIHN0b3JhZ2UiKTsKICAgICAgICAgICAgc2hvd1RpcHMoIkN1cnJlbnQgcGxhdGZvcm0gZG8gbm90IHN1cHBvcnQgY3Jvc3Mgc3RvcmFnZSEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaW5VcGRhdGUpIHJldHVybjsKICAgICAgICBpblVwZGF0ZSA9IHRydWU7CiAgICAgICAgbGV0IHJ1bGVJbmRleCA9IHJ1bGVVcmxzLmxlbmd0aCAtIDE7CiAgICAgICAgaWYgKCFrZWVwQ2FjaGUpIHsKICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJocFJ1bGVzIiwgW10pOwogICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInNtYXJ0UnVsZXMiLCBbXSk7CiAgICAgICAgfQogICAgICAgIGxldCBhbGxPayA9IHRydWU7CiAgICAgICAgZnVuY3Rpb24gYWRkTmV4dFJ1bGUoKSB7CiAgICAgICAgICAgIGlmIChydWxlSW5kZXggPCAwKSB7CiAgICAgICAgICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVMYXN0VXBkYXRlIiwgbm93KTsKICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgicnVsZXMiLCBydWxlUGFyc2VyLnJ1bGVzKTsKICAgICAgICAgICAgICAgIGluVXBkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoYWxsT2spIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEudW5pbml0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVzRGF0YSIsIHJ1bGVzRGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdWNjZXNzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IHJ1bGVVcmxzW3J1bGVJbmRleC0tXTsKICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuYWRkUnVsZUJ5VXJsKHJ1bGUudXJsLCBydWxlLmlkLCAoanNvbiwgZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFqc29uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9rID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwocnVsZSwgZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYWRkTmV4dFJ1bGUoKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYWRkTmV4dFJ1bGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvYmpJc0FycihvYmopIHsKICAgICAgICByZXR1cm4gb2JqICYmCiAgICAgICAgICAgIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmCiAgICAgICAgICAgIHR5cGVvZiBvYmoubGVuZ3RoID09PSAnbnVtYmVyJyAmJgogICAgICAgICAgICAhKG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSgnbGVuZ3RoJykpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVmlzaWJsZShlbCwgd2luKSB7CiAgICAgICAgaWYoIWVsIHx8ICFlbC5vZmZzZXRQYXJlbnQpcmV0dXJuIGZhbHNlOwogICAgICAgIHZhciBsb29wYWJsZSA9IHRydWUsCiAgICAgICAgICAgIHZpc2libGUgPSBlbC5ub2RlTmFtZSAmJiB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheSAhPSAnbm9uZScgJiYgd2luLmdldENvbXB1dGVkU3R5bGUoZWwpLnZpc2liaWxpdHkgIT0gJ2hpZGRlbic7CiAgICAgICAgd2hpbGUobG9vcGFibGUgJiYgdmlzaWJsZSkgewogICAgICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CgogICAgICAgICAgICBpZihlbCAmJiAhL15CT0RZJC9pLnRlc3QoZWwubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICB2aXNpYmxlID0gd2luLmdldENvbXB1dGVkU3R5bGUoZWwpLmRpc3BsYXkgIT0gJ25vbmUnICYmIHdpbi5nZXRDb21wdXRlZFN0eWxlKGVsKS52aXNpYmlsaXR5ICE9ICdoaWRkZW4nOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICBsb29wYWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB2aXNpYmxlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRUb3AoZWxlKSB7CiAgICAgICAgaWYgKCFlbGUpIHJldHVybiAwOwogICAgICAgIGlmIChlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7CiAgICAgICAgICAgIHJldHVybiBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICB9CiAgICAgICAgdmFyIGFjdHVhbFRvcCA9IGVsZS5vZmZzZXRUb3A7CiAgICAgICAgdmFyIGN1cnJlbnQgPSBlbGUub2Zmc2V0UGFyZW50OwogICAgICAgIHdoaWxlIChjdXJyZW50KSB7CiAgICAgICAgICAgIGFjdHVhbFRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDsKICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50OwogICAgICAgIH0KICAgICAgICByZXR1cm4gYWN0dWFsVG9wOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRMZWZ0KGVsZSkgewogICAgICAgIGlmICghZWxlKSByZXR1cm4gMDsKICAgICAgICBpZiAoZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgewogICAgICAgICAgICByZXR1cm4gZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDsKICAgICAgICB9CiAgICAgICAgdmFyIGFjdHVhbExlZnQgPSBlbGUub2Zmc2V0TGVmdDsKICAgICAgICB2YXIgY3VycmVudCA9IGVsZS5vZmZzZXRQYXJlbnQ7CiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHsKICAgICAgICAgICAgYWN0dWFsTGVmdCArPSBjdXJyZW50Lm9mZnNldExlZnQ7CiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFjdHVhbExlZnQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RWxlbWVudEJvdHRvbShlbGUpIHsKICAgICAgICByZXR1cm4gZ2V0RWxlbWVudFRvcChlbGUpICsgKGVsZS5vZmZzZXRIZWlnaHQgfHwgZWxlLnNjcm9sbEhlaWdodCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Rm9ybWF0SlNPTihvYmopewogICAgICAgIGlmKCFvYmpJc0FycihvYmopIHx8IG9iai5sZW5ndGggPT09IDApcmV0dXJuICIiOwogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdsb2JNYXRjaChmaXJzdCwgc2Vjb25kKSB7CiAgICAgICAgaWYgKGZpcnN0ID09PSAnKicpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChmaXJzdC5sZW5ndGggPT0gMCAmJiBzZWNvbmQubGVuZ3RoID09IDApewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChmaXJzdC5sZW5ndGggPiAxICYmIGZpcnN0WzBdID09ICcqJyAmJgogICAgICAgICAgICBzZWNvbmQubGVuZ3RoID09IDApewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoKGZpcnN0Lmxlbmd0aCA+IDEgJiYgZmlyc3RbMF0gPT0gJz8nKSB8fAogICAgICAgICAgICAoZmlyc3QubGVuZ3RoICE9IDAgJiYgc2Vjb25kLmxlbmd0aCAhPSAwICYmCiAgICAgICAgICAgICBmaXJzdFswXSA9PSBzZWNvbmRbMF0pKXsKICAgICAgICAgICAgcmV0dXJuIGdsb2JNYXRjaChmaXJzdC5zdWJzdHJpbmcoMSksCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQuc3Vic3RyaW5nKDEpKTsKICAgICAgICB9CgogICAgICAgIGlmIChmaXJzdC5sZW5ndGggPiAwICYmIGZpcnN0WzBdID09ICcqJyl7CiAgICAgICAgICAgIHJldHVybiBnbG9iTWF0Y2goZmlyc3Quc3Vic3RyaW5nKDEpLCBzZWNvbmQpIHx8CiAgICAgICAgICAgICAgICBnbG9iTWF0Y2goZmlyc3QsIHNlY29uZC5zdWJzdHJpbmcoMSkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGxldCBwYWdlUmVhZHkgPSBmYWxzZTsKICAgIGZ1bmN0aW9uIGluaXRSdWxlcyhjYWxsYmFjaykgewogICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgicnVsZXNEYXRhIiwgZGF0YSA9PiB7CiAgICAgICAgICAgIC8qMCB3ZWRhdGHmoLzlvI/vvIwxIHBhZ2V0dWFs5qC85byPKi8KICAgICAgICAgICAgcnVsZVVybHMgPSBbewogICAgICAgICAgICAgICAgaWQ6IDEsCiAgICAgICAgICAgICAgICB1cmw6IGRhdGEgJiYgZGF0YS53ZWRhdGEyZ2l0aHViID8gJ2h0dHBzOi8vaG9vdGhpbi5naXRodWIuaW8vVXNlclNjcmlwdHMvUGFnZXR1YWwvaXRlbXNfYWxsLmpzb24nIDogJ2h0dHA6Ly93ZWRhdGEubmV0L2RhdGFiYXNlcy9BdXRvUGFnZXJpemUvaXRlbXNfYWxsLmpzb24nLAogICAgICAgICAgICAgICAgdHlwZTogMCwKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgICBydWxlc0RhdGEgPSBkYXRhOwogICAgICAgICAgICAgICAgaWYgKGRhdGEudXJscykgcnVsZVVybHMgPSBydWxlVXJscy5jb25jYXQoZGF0YS51cmxzKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLnNvcnQpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdXJscyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGRhdGEuc29ydC5mb3JFYWNoKGlkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBydWxlVXJscy5sZW5ndGg7IHMrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09IHJ1bGVVcmxzW3NdLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscy5wdXNoKHJ1bGVVcmxzW3NdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJ1bGVVcmxzID0gdXJsczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZXNEYXRhLmJsYWNrbGlzdCAmJiBydWxlc0RhdGEuYmxhY2tsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGxldCBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCA1MDApOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlc0RhdGEuYmxhY2tsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckdsb2IgPSBydWxlc0RhdGEuYmxhY2tsaXN0W2ldOwogICAgICAgICAgICAgICAgICAgIGlmICghY3VyR2xvYikgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckdsb2IuaW5kZXhPZigiLyIpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ01hdGNoID0gY3VyR2xvYi5tYXRjaCgvXlwvKC4qKVwvKFx3KikkLyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdNYXRjaCAmJiBuZXcgUmVnRXhwKHJlZ01hdGNoWzFdLCByZWdNYXRjaFsyXSkudGVzdChocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTdGF0ZSA9PSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnbG9iTWF0Y2goY3VyR2xvYiwgaHJlZikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VTdGF0ZSA9PSAxOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5pdFNhdmVkUnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHVwQnRuSW1nID0gcnVsZXNEYXRhLnVwQnRuSW1nLCBkb3duQnRuSW1nID0gcnVsZXNEYXRhLmRvd25CdG5JbWcsIF9zaWRlQ29udHJvbGxlckljb24gPSBydWxlc0RhdGEuc2lkZUNvbnRyb2xsZXJJY29uOwogICAgICAgICAgICAgICAgaWYgKHVwQnRuSW1nICYmIGRvd25CdG5JbWcpIHsKICAgICAgICAgICAgICAgICAgICBkb3duU3ZnQ1NTID0gZG93blN2Z0NTUy5yZXBsYWNlKCJ0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOyIsICIiKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXBCdG5JbWcgJiYgIWRvd25CdG5JbWcpIHsKICAgICAgICAgICAgICAgICAgICBkb3duQnRuSW1nID0gdXBCdG5JbWc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZG93bkJ0bkltZyAmJiAhdXBCdG5JbWcpIHsKICAgICAgICAgICAgICAgICAgICB1cEJ0bkltZyA9IGRvd25CdG5JbWc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodXBCdG5JbWcpIHsKICAgICAgICAgICAgICAgICAgICB1cFN2ZyA9IC9odHRwcz86fGRhdGEvLnRlc3QodXBCdG5JbWcpID8gYDxpbWcgY2xhc3M9InBhZ2V0dWFsIiBzcmM9IiR7dXBCdG5JbWd9Ii8+YCA6IGA8c3Bhbj4ke3VwQnRuSW1nfTwvc3Bhbj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGRvd25CdG5JbWcpIHsKICAgICAgICAgICAgICAgICAgICBkb3duU3ZnID0gL2h0dHBzPzp8ZGF0YS8udGVzdChkb3duQnRuSW1nKSA/IGA8aW1nIGNsYXNzPSJwYWdldHVhbCIgc3JjPSIke2Rvd25CdG5JbWd9Ii8+YCA6IGA8c3Bhbj4ke2Rvd25CdG5JbWd9PC9zcGFuPmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoX3NpZGVDb250cm9sbGVySWNvbikgewogICAgICAgICAgICAgICAgICAgIHNpZGVDb250cm9sbGVySWNvbiA9IC9odHRwcz86fGRhdGEvLnRlc3QoX3NpZGVDb250cm9sbGVySWNvbikgPyBgPGltZyBjbGFzcz0icGFnZXR1YWwiIHNyYz0iJHtfc2lkZUNvbnRyb2xsZXJJY29ufSIvPmAgOiBgPHNwYW4+JHtfc2lkZUNvbnRyb2xsZXJJY29ufTwvc3Bhbj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0TG9hZGluZ0RpdihydWxlc0RhdGEubG9hZGluZ1RleHQgfHwgaTE4bigibG9hZGluZ1RleHQiKSk7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5vcGFjaXR5KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5vcGFjaXR5ID0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmhpZGVCYXIpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLmhpZGVCYXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmRiQ2xpY2syU3RvcCkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuZGJDbGljazJTdG9wID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmVuYWJsZVdoaXRlTGlzdCkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuZW5hYmxlV2hpdGVMaXN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5lbmFibGVIaXN0b3J5KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5lbmFibGVIaXN0b3J5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5vcGVuSW5OZXdUYWIpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLm9wZW5Jbk5ld1RhYiA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuZW5hYmxlRGVidWcpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLmVuYWJsZURlYnVnID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmluaXRSdW4pID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLmluaXRSdW4gPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEucHJlbG9hZCkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEucHJlbG9hZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5jdXN0b21GaXJzdCkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuY3VzdG9tRmlyc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLm1hbnVhbE1vZGUpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgcnVsZXNEYXRhLm1hbnVhbE1vZGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmNsaWNrTW9kZSkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuY2xpY2tNb2RlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHJ1bGVzRGF0YS5wYWdlQmFyTWVudSkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEucGFnZUJhck1lbnUgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuYXJyb3dUb1Njcm9sbCkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuYXJyb3dUb1Njcm9sbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZihydWxlc0RhdGEuaGlkZUxvYWRpbmdJY29uKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHJ1bGVzRGF0YS5oaWRlTG9hZGluZ0ljb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocnVsZXNEYXRhLmhpZGVCYXJBcnJvdykgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICBydWxlc0RhdGEuaGlkZUJhckFycm93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocnVsZXNEYXRhLmF1dG9Mb2FkTnVtICYmIHJ1bGVzRGF0YS5pbml0UnVuKSB7CiAgICAgICAgICAgICAgICAgICAgYXV0b0xvYWROdW0gPSBwYXJzZUludChydWxlc0RhdGEuYXV0b0xvYWROdW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb3BlbkluTmV3VGFiID0gcnVsZXNEYXRhLm9wZW5Jbk5ld1RhYiA/IDEgOiAwOwogICAgICAgICAgICAgICAgZW5hYmxlRGVidWcgPSBydWxlc0RhdGEuZW5hYmxlRGVidWc7CiAgICAgICAgICAgICAgICBzdG9yYWdlLmdldEl0ZW0oIm5leHRTd2l0Y2hfIiArIGxvY2F0aW9uLmhvc3QsIGkgPT4gewogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgiZm9yY2VTdGF0ZV8iICsgbG9jYXRpb24uaG9zdCwgdiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZ2V0SXRlbSgiYXV0b1Njcm9sbF8iICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lLCBfYXV0b1Njcm9sbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLmdldEl0ZW0oInJ1bGVMYXN0VXBkYXRlIiwgZGF0ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbCA9IF9hdXRvU2Nyb2xsIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihpKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih2KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gKHJ1bGVzRGF0YS5lbmFibGVXaGl0ZUxpc3QgPyAxIDogMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSB2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGUgPSBkYXRlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Vuc2FmZVdpbmRvdy5pbml0ZWRQYWdldHVhbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVJbXBvcnRVcmxSZWcudGVzdChocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oJ2R1cGxpY2F0ZScpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdW5zYWZlV2luZG93LmluaXRlZFBhZ2V0dWFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtzaG93VGlwcyhlKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5VcmwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKCJ1cGRhdGUiKSwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJiZWdpblVwZGF0ZSIpLCAiIiwgNjAwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSdWxlcygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJ1cGRhdGVTdWNjIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sKHJ1bGUsIGVycikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoYFVwZGF0ZSAke3J1bGUudXJsfSBydWxlcyBmYWlsIWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoaTE4bihmb3JjZVN0YXRlID09IDEgPyAiZW5hYmxlIiA6ICJkaXNhYmxlU2l0ZSIpLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAoZm9yY2VTdGF0ZSA9PSAxID8gMCA6IDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImZvcmNlU3RhdGVfIiArIGxvY2F0aW9uLmhvc3QsIGZvcmNlU3RhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKGZvcmNlU3RhdGUgPT0gMSA/ICJkaXNhYmxlU2l0ZVRpcHMiIDogImVuYWJsZVNpdGVUaXBzIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUudXJsKSBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKCJ0b2dnbGVBdXRvU2Nyb2xsIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbCA9IChhdXRvU2Nyb2xsID8gMCA6IHByb21wdChpMThuKCJhdXRvU2Nyb2xsUmF0ZSIpLCA1MCkpIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGwgPSBwYXJzZUludChhdXRvU2Nyb2xsKSB8fCAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b1Njcm9sbCA8IDApIGF1dG9TY3JvbGwgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhdXRvU2Nyb2xsID4gMTAwMCkgYXV0b1Njcm9sbCA9IDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiYXV0b1Njcm9sbF8iICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lLCBhdXRvU2Nyb2xsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBdXRvU2Nyb2xsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBdXRvU2Nyb2xsKCk7CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdENvbmZpZyhocmVmKSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VSZWFkeSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT0gMSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGUgfHwgbm93IC0gZGF0ZSA+IDIgKiAyNCAqIDYwICogNjAgKiAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJ1bGVzKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKHJ1bGUsIGVycikgPT4ge30sIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oInJ1bGVMYXN0VXBkYXRlIiwgbm93KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXF1ZXN0RG9jKHVybCwgY2FsbGJhY2spewogICAgICAgIGxldCBwb3N0UGFyYW1zID0gdXJsLm1hdGNoKC8jcHsoLiopfSQvKTsKICAgICAgICBpZiAocG9zdFBhcmFtcykgewogICAgICAgICAgICBwb3N0UGFyYW1zID0gcG9zdFBhcmFtc1sxXTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyNwey4qLywgIiIpOwogICAgICAgIH0KICAgICAgICBsZXQgcnVsZUhlYWRlcnMgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmhlYWRlcnM7CiAgICAgICAgbGV0IGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdSZWZlcmVyJzogbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiBuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sJywKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6IChwb3N0UGFyYW1zID8gImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgOiAidGV4dC9odG1sIikgKyAiO2NoYXJzZXQ9IiArIChkb2N1bWVudC5jaGFyYWN0ZXJTZXQgfHwgZG9jdW1lbnQuY2hhcnNldCB8fCBkb2N1bWVudC5pbnB1dEVuY29kaW5nKSwKICAgICAgICB9OwogICAgICAgIGlmIChydWxlSGVhZGVycykgewogICAgICAgICAgICBpZiAocnVsZUhlYWRlcnMucmVmZXJlcikgewogICAgICAgICAgICAgICAgaGVhZGVycy5yZWZlcmVyID0gcnVsZUhlYWRlcnMucmVmZXJlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZUhlYWRlcnMudXNlckFnZW50KSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzLnVzZXJBZ2VudCA9IHJ1bGVIZWFkZXJzLnVzZXJBZ2VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZUhlYWRlcnMuYWNjZXB0KSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzLmFjY2VwdCA9IHJ1bGVIZWFkZXJzLmFjY2VwdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZUhlYWRlcnMuY29udGVudFR5cGUpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnMuY29udGVudFR5cGUgPSBydWxlSGVhZGVycy5jb250ZW50VHlwZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZUhlYWRlcnMuY29va2llKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzLmNvb2tpZSA9IHJ1bGVIZWFkZXJzLmNvb2tpZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgbWV0aG9kOiBwb3N0UGFyYW1zID8gJ1BPU1QnIDogJ0dFVCcsCiAgICAgICAgICAgIGRhdGE6IHBvc3RQYXJhbXMsCiAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5cGU6ICd0ZXh0L2h0bWw7Y2hhcnNldD0nICsgKGRvY3VtZW50LmNoYXJhY3RlclNldCB8fCBkb2N1bWVudC5jaGFyc2V0IHx8IGRvY3VtZW50LmlucHV0RW5jb2RpbmcpLAogICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCwKICAgICAgICAgICAgb25sb2FkOiBhc3luYyBmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChpc1BhdXNlKSByZXR1cm4gY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgdmFyIGRvYyA9IG51bGwsIHJlc3BvbnNlID0gcmVzLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgbGV0IHByZUNvZGUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50UHJlIHx8IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZVByZTsKICAgICAgICAgICAgICAgIGlmIChwcmVDb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZVByZSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfdW5zYWZlV2luZG93LnBhZ2V0dWFsUGFnZVByZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlQ29kZS5sZW5ndGggPT0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZS5yZXBsYWNlKG5ldyBSZWdFeHAocHJlQ29kZVswXSwgImdpIiksIHByZUNvZGVbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBGdW5jdGlvbigicmVzcG9uc2UiLCcidXNlIHN0cmljdCI7JyArIHByZUNvZGUpKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7CiAgICAgICAgICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICBsZXQgYmFzZSA9IGRvYy5xdWVyeVNlbGVjdG9yKCJiYXNlIik7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5iYXNlUGF0aCA9IGJhc2UgPyBiYXNlLmhyZWYgOiB1cmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKCdwYXJzZSBlcnJvcjonICsgZS50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlbWVudCA9IHJ1bGVQYXJzZXIuZ2V0UGFnZUVsZW1lbnQoZG9jKTsKICAgICAgICAgICAgICAgIGlmICgoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSAmJiByZXMuc3RhdHVzID49IDQwMCkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKHJlcy5zdGF0dXMsICJFcnJvciBzdGF0dXMiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGluQ29ycyAmJiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PSAwKSAmJiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgIGxldCBhcnRpY2xlID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwobWFpblNlbCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFydGljbGUgJiYgYXJ0aWNsZS5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlID0gYXJ0aWNsZVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudCA9IGFydGljbGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSArIChhcnRpY2xlLmlkID8gIiMiICsgYXJ0aWNsZS5pZCA6ICIiKSArIChhcnRpY2xlLmNsYXNzTmFtZSA/ICIuIiArIGFydGljbGUuY2xhc3NOYW1lLnJlcGxhY2UoLyAvZywgIi4iKSA6ICIiKSArICI+KiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50ID0gYXJ0aWNsZS5jaGlsZHJlbjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50ID0gYWxsT2ZCb2R5OwogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudCA9IHJ1bGVQYXJzZXIuZ2V0UGFnZUVsZW1lbnQoZG9jKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5nZXRJbnNlcnQodHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL+WPquaciTHnmoToqbHmgJXkuI3mmK/lnJbniYflk6YKICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiAocGFnZUVsZW1lbnQubGVuZ3RoID4gMSB8fCAocGFnZUVsZW1lbnQubGVuZ3RoID09IDEgJiYgIS9eSU1HJC9pLnRlc3QocGFnZUVsZW1lbnRbMF0ubm9kZU5hbWUpKSkpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBydWxlUGFyc2VyLmluc2VydFBhZ2UoZG9jLCBwYWdlRWxlbWVudCwgdXJsLCBjYWxsYmFjaywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RGcm9tSWZyYW1lKHVybCwgKGRvYywgZWxlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydFBhZ2UoZG9jLCBlbGVzLCB1cmwsIGNhbGxiYWNrLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsIHx8IGN1clBhZ2UgPT0gMSkgJiYgIWluQ29ycykgewogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID0gMTsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RnJvbUlmcmFtZSh1cmwsIChkb2MsIGVsZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShkb2MsIGVsZXMsIHVybCwgY2FsbGJhY2ssIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIG5vIHBhZ2UgZWxlbWVudCIpOwogICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oIm5vVmFsaWRDb250ZW50IiksIHVybCk7CiAgICAgICAgICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlLCAiTmV0RXJyb3IiKTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb250aW1lb3V0OiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlLCAiTmV0VGltZW91dCIpOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7CiAgICAgICAgcnVsZVBhcnNlci5pbml0UGFnZSgoKSA9PiB7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmF1dG9Mb2FkTnVtKSB7CiAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYXV0b0xvYWROdW07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubmV4dExpbmsgJiYgQXJyYXkgJiYgQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubmV4dExpbmspKSB7CiAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKCJuZXh0U3dpdGNoIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBuZXh0U3dpdGNoLnN0YXJ0KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZVBhcnNlci5uZXh0TGlua0hyZWYpIHsKICAgICAgICAgICAgICAgIGxldCBpc0pzID0gL14oamF2YXNjcmlwdHwjKS8udGVzdChydWxlUGFyc2VyLm5leHRMaW5rSHJlZi5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSk7CiAgICAgICAgICAgICAgICBpZiAoIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgaW5Gb3JjZSA9IChmb3JjZVN0YXRlID09IDIgfHwgZm9yY2VTdGF0ZSA9PSAzKTsKICAgICAgICAgICAgICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuKGluRm9yY2UgPyAiY2FuY2VsRm9yY2VJZnJhbWUiIDogImZvcmNlSWZyYW1lIiksICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluRm9yY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgiZm9yY2VTdGF0ZV8iICsgbG9jYXRpb24uaG9zdCwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9zdGF0ZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuYWN0aW9uID4gMCB8fCBjb25maXJtKGkxOG4oImZvcmNlQWxsQm9keSIpKSA/IDIgOiAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJmb3JjZVN0YXRlXyIgKyBsb2NhdGlvbi5ob3N0LCBfc3RhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoaTE4bigibG9hZE5vdyIpLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWROdW0gPSB3aW5kb3cucHJvbXB0KGkxOG4oImxvYWRDb25maXJtIiksICIxIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWROdW0gPT09ICIiIHx8IGxvYWROdW0gPT09IG51bGwpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBhdXRvTG9hZE51bSA9IE1hdGguYWJzKHBhcnNlSW50KGxvYWROdW0pKTsKICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdExpc3RlbmVyKCk7CiAgICAgICAgfSk7CiAgICB9CgogICAgdmFyIHBhZ2VCYXJTdHlsZSwgbWFpblN0eWxlRWxlLCBtYWluU3R5bGVTdHlsZTsKICAgIGZ1bmN0aW9uIGluaXRWaWV3KCkgewogICAgICAgIGlmICghbWFpblN0eWxlU3R5bGUpIHsKICAgICAgICAgICAgbWFpblN0eWxlU3R5bGUgPSBgCiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyewogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjphbGwgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIDAuM3MgZWFzZS1pbi1vdXQgMHM7CiAgICAgICAgICAgdHJhbnNpdGlvbjphbGwgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsc2Fucy1zZXJpZiAhaW1wb3J0YW50OwogICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyLnN0b3AgewogICAgICAgICAgIC13ZWJraXQtZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgZmlsdGVyOiBpbnZlcnQoMTAwJSk7CiAgICAgICAgICAgb3BhY2l0eTogMSFpbXBvcnRhbnQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuaGlkZSB7CiAgICAgICAgICAgZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXI6aG92ZXIgewogICAgICAgICAgIG9wYWNpdHk6IDEhaW1wb3J0YW50OwogICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCAwcHggIzAwMDAwMGFhOwogICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MCAyNDAgMjQwIC8gODAlKTsKICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuIHsKICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogc3VwZXI7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgYTo6YmVmb3JlLAogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOjphZnRlciB7CiAgICAgICAgICAgY29udGVudDogbm9uZTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhPnNwYW4gewogICAgICAgICAgIG1hcmdpbi10b3A6IDAhaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgICAgIHBhZGRpbmc6IHVuc2V0OwogICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOm1hcmdpbi10b3AgMC4zcyBlYXNlLWluLW91dCAwcywgb3BhY2l0eSAuM3M7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm1hcmdpbi10b3AgMC4zcyBlYXNlLWluLW91dCAwcywgb3BhY2l0eSAuM3M7CiAgICAgICAgICAgdHJhbnNpdGlvbjptYXJnaW4tdG9wIDAuM3MgZWFzZS1pbi1vdXQgMHMsIG9wYWNpdHkgLjNzOwogICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTsKICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKDUwJSAtIDIwcHgpOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIGE+c3Bhbjpob3ZlciB7CiAgICAgICAgICAgY29sb3I6IHJlZDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOmhvdmVyPnNwYW4gewogICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbi5wcmV2U2NyZWVuLAogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuLm5leHRTY3JlZW4gewogICAgICAgICAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBhOmhvdmVyPnNwYW4ucHJldlNjcmVlbiB7CiAgICAgICAgICAgbWFyZ2luLXRvcDogLSR7cnVsZXNEYXRhLm9wYWNpdHkgPT0gMSA/IDMxIDogMzB9cHghaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgYTpob3Zlcj5zcGFuLm5leHRTY3JlZW4gewogICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHghaW1wb3J0YW50OwogICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbj5zdmcgewogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC41cyBlYXNlLCBvcGFjaXR5IDAuM3MgZWFzZTsKICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246dHJhbnNmb3JtIDAuNXMgZWFzZSwgb3BhY2l0eSAwLjNzIGVhc2U7CiAgICAgICAgICAgdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC41IGVhc2UsIG9wYWNpdHkgMC4zcyBlYXNlOwogICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuc3RvcCBzcGFuPnN2Z3sKICAgICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyLnN0b3Agc3Bhbj5zdmc+cGF0aHsKICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKC44KTsKICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7CiAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2U7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2U7CiAgICAgICAgICAgdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zIGVhc2U7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIuc3RvcDpob3ZlciBzcGFuPnN2Zz5wYXRoewogICAgICAgICAgIHRyYW5zZm9ybTogdW5zZXQ7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXI6aG92ZXIgc3Bhbj5zdmcgewogICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgIH0KICAgICAgICAgLnBhZ2V0dWFsX3BhZ2VCYXIgc3Bhbj5zdmcudXBTdmc6aG92ZXIgewogICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZykgc2NhbGUzZCgxLjIsIDEuMiwgMS4yKTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfcGFnZUJhciBzcGFuPnN2Zy5kb3duU3ZnOmhvdmVyIHsKICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg1NDBkZWcpIHNjYWxlM2QoMS4yLCAxLjIsIDEuMikhaW1wb3J0YW50OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIC5wYWdldHVhbF9wYWdlTnVtewogICAgICAgICAgIGNvbG9yOiAjNTU1NTVmOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9wYWdlQmFyIC5wYWdldHVhbF9wYWdlTnVtOmhvdmVyewogICAgICAgICAgIGNvbG9yOiAjZmY2NDY0OwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF90aXBzV29yZHMgewogICAgICAgICAgIGZvbnQtc2l6ZTogNTBweDsKICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICBmb250LWZhbWlseTogIum7keS9kyIsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgIlJvYm90byIsCiAgICAgICAgICAgICAiT3h5Z2VuIiwgIlVidW50dSIsICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmLCAiQXBwbGUgQ29sb3IgRW1vamkiLAogICAgICAgICAgICAgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7CiAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgbWluLWhlaWdodDogNzBweDsKICAgICAgICAgICBtYXgtd2lkdGg6IDgwJTsKICAgICAgICAgICBsaW5lLWhlaWdodDogNzBweDsKICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgIHRvcDogMTAlOwogICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtOTk5OTlweDsKICAgICAgICAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NzsKICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOwogICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMDMwMzA7CiAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgIGZpbHRlcjogYWxwaGEob3BhY2l0eT02NSk7CiAgICAgICAgICAgYm94LXNoYWRvdzogNXB4IDVweCAyMHB4IDBweCAjMDAwOwogICAgICAgICAgIC1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXQgMHM7CiAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICB0cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dCAwczsKICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgfQogICAgICAgICAucGFnZXR1YWxfdGlwc1dvcmRzPmEgewogICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9sb2FkaW5nIHsKICAgICAgICAgICB3aWR0aDogNTBweDsKICAgICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgICAgICAgbWFyZ2luOiAxMHB4IGF1dG87CiAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsKICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBwYWdldHVhbF9sb2FkaW5nX3NjYWxlb3V0IDEuMHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgYW5pbWF0aW9uOiBwYWdldHVhbF9sb2FkaW5nX3NjYWxlb3V0IDEuMHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgIH0KICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfc2NhbGVvdXQgewogICAgICAgICAgIDAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuMCkgfQogICAgICAgICAgIDEwMCUgewogICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMCk7CiAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICBAa2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfc2NhbGVvdXQgewogICAgICAgICAgIDAlIHsKICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC4wKTsKICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjApOwogICAgICAgICAgIH0gMTAwJSB7CiAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMCk7CiAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4wKTsKICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgICAgIC5wYWdldHVhbF9sb2FkaW5nX3RleHQgewogICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSAyLjZzIGluZmluaXRlIGVhc2UtaW4tb3V0OwogICAgICAgICAgIGFuaW1hdGlvbjogcGFnZXR1YWxfbG9hZGluZ19vcGFjaXR5IDIuNnMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7CiAgICAgICAgIH0KICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSB7CiAgICAgICAgICAgMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgICA1MCUgeyBvcGFjaXR5OiAwLjIgfQogICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgfQogICAgICAgICBAa2V5ZnJhbWVzIHBhZ2V0dWFsX2xvYWRpbmdfb3BhY2l0eSB7CiAgICAgICAgICAgMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgICA1MCUgeyBvcGFjaXR5OiAwLjIgfQogICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAxIH0KICAgICAgICAgfQogICAgICAgIGA7CiAgICAgICAgICAgIGxldCBib2R5Q29sb3IKICAgICAgICAgICAgcGFnZUJhclN0eWxlID0gYG92ZXJmbG93OiB2aXNpYmxlO3RleHQtaW5kZW50OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBzdXBlcjtsaW5lLWhlaWdodDoxO29wYWNpdHk6JHtydWxlc0RhdGEub3BhY2l0eX07ZGlzcGxheToke3J1bGVzRGF0YS5vcGFjaXR5ID09IDAgPyAibm9uZSIgOiAiaW5saW5lLWZsZXgifTtwYWRkaW5nOjA7Zm9udC1zaXplOiAzMHB4O3Zpc2liaWxpdHk6IHZpc2libGU7IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IGF1dG87IG1heC13aWR0aDogMTAwdnc7IGhlaWdodDogMzBweDsgZmxvYXQ6IG5vbmU7IGNsZWFyOiBib3RoOyBtYXJnaW46IDVweCBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBjZW50ZXI7Ym94LXNpemluZzogY29udGVudC1ib3g7JHtydWxlc0RhdGEub3BhY2l0eSA9PSAxID8gImJvcmRlci10b3A6IDFweCBzb2xpZCByZ2IoODAsIDgwLCA4MCk7IiA6ICJib3gtc2hhZG93OiAwcHggMHB4IDEwcHggMHB4ICMwMDAwMDBhYTtib3JkZXItcmFkaXVzOiAyMHB4O2JhY2tncm91bmQtY29sb3I6IHJnYigyNDAgMjQwIDI0MCAvIDgwJSk7In1gOwogICAgICAgIH0KICAgICAgICBpZiAoIW1haW5TdHlsZUVsZSB8fCAhbWFpblN0eWxlRWxlLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgbWFpblN0eWxlRWxlID0gX0dNX2FkZFN0eWxlKG1haW5TdHlsZVN0eWxlKTsKICAgICAgICB9CiAgICB9CiAgICB2YXIgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbG9hZGluZ0Rpdi5zdHlsZS5jc3NUZXh0ID0gInRleHQtaW5kZW50OiBpbml0aWFsO2N5OiBpbml0aWFsO2Q6IGluaXRpYWw7ZG9taW5hbnQtYmFzZWxpbmU6IGluaXRpYWw7ZW1wdHktY2VsbHM6IGluaXRpYWw7ZmlsbDogaW5pdGlhbDtmaWxsLW9wYWNpdHk6IGluaXRpYWw7ZmlsbC1ydWxlOiBpbml0aWFsO2ZpbHRlcjogaW5pdGlhbDtmbGV4OiBpbml0aWFsO2ZsZXgtZmxvdzogaW5pdGlhbDtmbG9hdDogaW5pdGlhbDtmbG9vZC1jb2xvcjogaW5pdGlhbDtmbG9vZC1vcGFjaXR5OiBpbml0aWFsO2dyaWQ6IGluaXRpYWw7Z3JpZC1hcmVhOiBpbml0aWFsO2hlaWdodDogaW5pdGlhbDtoeXBoZW5zOiBpbml0aWFsO2ltYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO2ltYWdlLXJlbmRlcmluZzogaW5pdGlhbDtpbmxpbmUtc2l6ZTogaW5pdGlhbDtpbnNldC1ibG9jazogaW5pdGlhbDtpbnNldC1pbmxpbmU6IGluaXRpYWw7aXNvbGF0aW9uOiBpbml0aWFsO2xldHRlci1zcGFjaW5nOiBpbml0aWFsO2xpZ2h0aW5nLWNvbG9yOiBpbml0aWFsO2xpbmUtYnJlYWs6IGluaXRpYWw7bGlzdC1zdHlsZTogaW5pdGlhbDttYXJnaW4tYmxvY2s6IGluaXRpYWw7bWFyZ2luOiAwcHggYXV0bzttYXJnaW4taW5saW5lOiBpbml0aWFsO21hcmtlcjogaW5pdGlhbDttYXNrOiBpbml0aWFsO21hc2stdHlwZTogaW5pdGlhbDttYXgtYmxvY2stc2l6ZTogaW5pdGlhbDttYXgtaGVpZ2h0OiBpbml0aWFsO21heC1pbmxpbmUtc2l6ZTogaW5pdGlhbDttYXgtd2lkdGg6IGluaXRpYWw7bWluLWJsb2NrLXNpemU6IGluaXRpYWw7bWluLWhlaWdodDogaW5pdGlhbDttaW4taW5saW5lLXNpemU6IGluaXRpYWw7bWluLXdpZHRoOiBpbml0aWFsO21peC1ibGVuZC1tb2RlOiBpbml0aWFsO29iamVjdC1maXQ6IGluaXRpYWw7b2JqZWN0LXBvc2l0aW9uOiBpbml0aWFsO29mZnNldDogaW5pdGlhbDtvcGFjaXR5OiBpbml0aWFsO29yZGVyOiBpbml0aWFsO29yaWdpbi10cmlhbC10ZXN0LXByb3BlcnR5OiBpbml0aWFsO29ycGhhbnM6IGluaXRpYWw7b3V0bGluZTogaW5pdGlhbDtvdXRsaW5lLW9mZnNldDogaW5pdGlhbDtvdmVyZmxvdy1hbmNob3I6IGluaXRpYWw7b3ZlcmZsb3ctY2xpcC1tYXJnaW46IGluaXRpYWw7b3ZlcmZsb3ctd3JhcDogaW5pdGlhbDtvdmVyZmxvdzogaW5pdGlhbDtvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrOiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lOiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3I6IGluaXRpYWw7cGFkZGluZy1ibG9jazogaW5pdGlhbDtwYWRkaW5nOiBpbml0aWFsO3BhZGRpbmctaW5saW5lOiBpbml0aWFsO3BhZ2U6IGluaXRpYWw7cGFnZS1vcmllbnRhdGlvbjogaW5pdGlhbDtwYWludC1vcmRlcjogaW5pdGlhbDtwZXJzcGVjdGl2ZTogaW5pdGlhbDtwZXJzcGVjdGl2ZS1vcmlnaW46IGluaXRpYWw7cG9pbnRlci1ldmVudHM6IGluaXRpYWw7cG9zaXRpb246IGluaXRpYWw7cXVvdGVzOiBpbml0aWFsO3I6IGluaXRpYWw7cmVzaXplOiBpbml0aWFsO3J1YnktcG9zaXRpb246IGluaXRpYWw7cng6IGluaXRpYWw7cnk6IGluaXRpYWw7c2Nyb2xsLWJlaGF2aW9yOiBpbml0aWFsO3Njcm9sbC1tYXJnaW4tYmxvY2s6IGluaXRpYWw7c2Nyb2xsLW1hcmdpbjogaW5pdGlhbDtzY3JvbGwtbWFyZ2luLWlubGluZTogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1ibG9jazogaW5pdGlhbDtzY3JvbGwtcGFkZGluZzogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1pbmxpbmU6IGluaXRpYWw7c2Nyb2xsLXNuYXAtYWxpZ246IGluaXRpYWw7c2Nyb2xsLXNuYXAtc3RvcDogaW5pdGlhbDtzY3JvbGwtc25hcC10eXBlOiBpbml0aWFsO3Njcm9sbGJhci1ndXR0ZXI6IGluaXRpYWw7c2hhcGUtaW1hZ2UtdGhyZXNob2xkOiBpbml0aWFsO3NoYXBlLW1hcmdpbjogaW5pdGlhbDtzaGFwZS1vdXRzaWRlOiBpbml0aWFsO3NoYXBlLXJlbmRlcmluZzogaW5pdGlhbDtzaXplOiBpbml0aWFsO3NwZWFrOiBpbml0aWFsO3N0b3AtY29sb3I6IGluaXRpYWw7c3RvcC1vcGFjaXR5OiBpbml0aWFsO3N0cm9rZTogaW5pdGlhbDtzdHJva2UtZGFzaGFycmF5OiBpbml0aWFsO3N0cm9rZS1kYXNob2Zmc2V0OiBpbml0aWFsO3N0cm9rZS1saW5lY2FwOiBpbml0aWFsO3N0cm9rZS1saW5lam9pbjogaW5pdGlhbDtzdHJva2UtbWl0ZXJsaW1pdDogaW5pdGlhbDtzdHJva2Utb3BhY2l0eTogaW5pdGlhbDtzdHJva2Utd2lkdGg6IGluaXRpYWw7dGFiLXNpemU6IGluaXRpYWw7dGFibGUtbGF5b3V0OiBpbml0aWFsO3RleHQtYWxpZ246IGluaXRpYWw7dGV4dC1hbGlnbi1sYXN0OiBpbml0aWFsO3RleHQtYW5jaG9yOiBpbml0aWFsO3RleHQtY29tYmluZS11cHJpZ2h0OiBpbml0aWFsO3RleHQtZGVjb3JhdGlvbjogaW5pdGlhbDt0ZXh0LWRlY29yYXRpb24tc2tpcC1pbms6IGluaXRpYWw7dGV4dC1pbmRlbnQ6IGluaXRpYWw7dGV4dC1vdmVyZmxvdzogaW5pdGlhbDt0ZXh0LXNoYWRvdzogaW5pdGlhbDt0ZXh0LXNpemUtYWRqdXN0OiBpbml0aWFsO3RleHQtdHJhbnNmb3JtOiBpbml0aWFsO3RleHQtdW5kZXJsaW5lLW9mZnNldDogaW5pdGlhbDt0ZXh0LXVuZGVybGluZS1wb3NpdGlvbjogaW5pdGlhbDt0b3VjaC1hY3Rpb246IGluaXRpYWw7dHJhbnNmb3JtOiBpbml0aWFsO3RyYW5zZm9ybS1ib3g6IGluaXRpYWw7dHJhbnNmb3JtLW9yaWdpbjogaW5pdGlhbDt0cmFuc2Zvcm0tc3R5bGU6IGluaXRpYWw7dHJhbnNpdGlvbjogaW5pdGlhbDt1c2VyLXNlbGVjdDogaW5pdGlhbDt2ZWN0b3ItZWZmZWN0OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBpbml0aWFsO3Zpc2liaWxpdHk6IGluaXRpYWw7Ym9yZGVyLXNwYWNpbmc6IGluaXRpYWw7LXdlYmtpdC1ib3JkZXItaW1hZ2U6IGluaXRpYWw7LXdlYmtpdC1ib3gtYWxpZ246IGluaXRpYWw7LXdlYmtpdC1ib3gtZGVjb3JhdGlvbi1icmVhazogaW5pdGlhbDstd2Via2l0LWJveC1kaXJlY3Rpb246IGluaXRpYWw7LXdlYmtpdC1ib3gtZmxleDogaW5pdGlhbDstd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiBpbml0aWFsOy13ZWJraXQtYm94LW9yaWVudDogaW5pdGlhbDstd2Via2l0LWJveC1wYWNrOiBpbml0aWFsOy13ZWJraXQtYm94LXJlZmxlY3Q6IGluaXRpYWw7LXdlYmtpdC1oaWdobGlnaHQ6IGluaXRpYWw7LXdlYmtpdC1oeXBoZW5hdGUtY2hhcmFjdGVyOiBpbml0aWFsOy13ZWJraXQtbGluZS1icmVhazogaW5pdGlhbDstd2Via2l0LWxpbmUtY2xhbXA6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTogaW5pdGlhbDstd2Via2l0LW1hc2s6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWNvbXBvc2l0ZTogaW5pdGlhbDstd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14OiBpbml0aWFsOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGluaXRpYWw7LXdlYmtpdC1ydGwtb3JkZXJpbmc6IGluaXRpYWw7LXdlYmtpdC1ydWJ5LXBvc2l0aW9uOiBpbml0aWFsOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogaW5pdGlhbDstd2Via2l0LXRleHQtY29tYmluZTogaW5pdGlhbDstd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0OiBpbml0aWFsOy13ZWJraXQtdGV4dC1lbXBoYXNpczogaW5pdGlhbDstd2Via2l0LXRleHQtZW1waGFzaXMtcG9zaXRpb246IGluaXRpYWw7LXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IGluaXRpYWw7LXdlYmtpdC10ZXh0LXNlY3VyaXR5OiBpbml0aWFsOy13ZWJraXQtdGV4dC1zdHJva2U6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXg6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXo6IGluaXRpYWw7LXdlYmtpdC11c2VyLWRyYWc6IGluaXRpYWw7LXdlYmtpdC11c2VyLW1vZGlmeTogaW5pdGlhbDt3aGl0ZS1zcGFjZTogaW5pdGlhbDt3aWRvd3M6IGluaXRpYWw7d2lkdGg6IGluaXRpYWw7d2lsbC1jaGFuZ2U6IGluaXRpYWw7d29yZC1icmVhazogaW5pdGlhbDt3b3JkLXNwYWNpbmc6IGluaXRpYWw7eDogaW5pdGlhbDt5OiBpbml0aWFsO3otaW5kZXg6IDIxNDc0ODM2NDc7IjsKCiAgICBjb25zdCBsb2FkaW5nQ1NTID0gYHRleHQtaW5kZW50OiB1bnNldDsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBpbml0aWFsOyBtYXJnaW46IGF1dG8gYXV0byA1cHggYXV0bzsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB2aXNpYmlsaXR5OiB2aXNpYmxlOyB3aWR0aDogaW5pdGlhbDsgaGVpZ2h0OiBpbml0aWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNmU2ZTZlOyBmbGV4OiAwO2A7CiAgICBmdW5jdGlvbiBzZXRMb2FkaW5nRGl2KGxvYWRpbmdUZXh0KSB7CiAgICAgICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKGA8cCBjbGFzcz0icGFnZXR1YWxfbG9hZGluZ190ZXh0IiBzdHlsZT0iJHtsb2FkaW5nQ1NTfWRpc3BsYXk6IGlubGluZS1ibG9jazt3aWR0aDogMTAwJTsiPiR7bG9hZGluZ1RleHR9PC9wPiR7cnVsZXNEYXRhLmhpZGVMb2FkaW5nSWNvbiA/ICIiIDogYDxkaXYgY2xhc3M9InBhZ2V0dWFsX2xvYWRpbmciPjxzdmcgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBzdHlsZT0icG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO3dpZHRoOiA1MHB4O2hlaWdodDogNTBweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2ZTZlNmUiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzZlNmU2ZSI+PC9wYXRoPjwvc3ZnPjwvZGl2PmB9YCk7CiAgICB9CgogICAgdmFyIHVwU3ZnID0gYDxzdmcgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBjbGFzcz0idXBTdmcgcGFnZXR1YWwiIHN0eWxlPSJkaXNwbGF5OmluaXRpYWw7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjsiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjk2IDQ0MGMtNDQuMSAwLTgwIDM1LjktODAgODBzMzUuOSA4MCA4MCA4MCA4MC0zNS45IDgwLTgwLTM1LjktODAtODAtODB6IiBmaWxsPSIjNjA0YjRhIj48L3BhdGg+PHBhdGggZD0iTTk2MCA1MTJjMC0yNDctMjAxLTQ0OC00NDgtNDQ4UzY0IDI2NSA2NCA1MTJjMCAxLjggMC4xIDMuNSAwLjEgNS4zIDAgMC45LTAuMSAxLjgtMC4xIDIuN2gwLjJDNjguNSA3NjMuMyAyNjcuNyA5NjAgNTEyIDk2MGMyMzYuMiAwIDQzMC4xLTE4My43IDQ0Ni43LTQxNS43IDAuMS0wLjggMC4xLTEuNiAwLjItMi4zIDAuNC00LjYgMC41LTkuMyAwLjctMTMuOSAwLjEtMi43IDAuNC01LjMgMC40LThoLTAuMmMwLTIuOCAwLjItNS40IDAuMi04LjF6IG0tMTUyIDhjMCA0NC4xLTM1LjkgODAtODAgODBzLTgwLTM1LjktODAtODAgMzUuOS04MCA4MC04MCA4MCAzNS45IDgwIDgwek01MTIgOTI4QzI4NC40IDkyOCA5OSA3NDQuMyA5Ni4xIDUxNy4zIDk3LjYgNDA4LjMgMTg2LjYgMzIwIDI5NiAzMjBjMTEwLjMgMCAyMDAgODkuNyAyMDAgMjAwIDAgMTI3LjkgMTA0LjEgMjMyIDIzMiAyMzIgNjIuOSAwIDExOS45LTI1LjIgMTYxLjctNjYtNjYgMTQyLjctMjEwLjQgMjQyLTM3Ny43IDI0MnoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48L3N2Zz5gOwogICAgdmFyIHVwU3ZnQ1NTID0gYHRleHQtYWxpZ246IGNlbnRlcjtkaXNwbGF5OiBpbml0aWFsO3Bvc2l0aW9uOiByZWxhdGl2ZTtjdXJzb3I6IHBvaW50ZXI7bWFyZ2luOiAwIDhweDt3aWR0aDogMzBweDtoZWlnaHQ6IDMwcHg7dmVydGljYWwtYWxpZ246IGJhc2VsaW5lO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuO2A7CiAgICB2YXIgZG93blN2ZyA9IGA8c3ZnIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgY2xhc3M9ImRvd25TdmcgcGFnZXR1YWwiIHN0eWxlPSJkaXNwbGF5OmluaXRpYWw7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjt0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOTYgNDQwYy00NC4xIDAtODAgMzUuOS04MCA4MHMzNS45IDgwIDgwIDgwIDgwLTM1LjkgODAtODAtMzUuOS04MC04MC04MHoiIGZpbGw9IiM2MDRiNGEiPjwvcGF0aD48cGF0aCBkPSJNOTYwIDUxMmMwLTI0Ny0yMDEtNDQ4LTQ0OC00NDhTNjQgMjY1IDY0IDUxMmMwIDEuOCAwLjEgMy41IDAuMSA1LjMgMCAwLjktMC4xIDEuOC0wLjEgMi43aDAuMkM2OC41IDc2My4zIDI2Ny43IDk2MCA1MTIgOTYwYzIzNi4yIDAgNDMwLjEtMTgzLjcgNDQ2LjctNDE1LjcgMC4xLTAuOCAwLjEtMS42IDAuMi0yLjMgMC40LTQuNiAwLjUtOS4zIDAuNy0xMy45IDAuMS0yLjcgMC40LTUuMyAwLjQtOGgtMC4yYzAtMi44IDAuMi01LjQgMC4yLTguMXogbS0xNTIgOGMwIDQ0LjEtMzUuOSA4MC04MCA4MHMtODAtMzUuOS04MC04MCAzNS45LTgwIDgwLTgwIDgwIDM1LjkgODAgODB6TTUxMiA5MjhDMjg0LjQgOTI4IDk5IDc0NC4zIDk2LjEgNTE3LjMgOTcuNiA0MDguMyAxODYuNiAzMjAgMjk2IDMyMGMxMTAuMyAwIDIwMCA4OS43IDIwMCAyMDAgMCAxMjcuOSAxMDQuMSAyMzIgMjMyIDIzMiA2Mi45IDAgMTE5LjktMjUuMiAxNjEuNy02Ni02NiAxNDIuNy0yMTAuNCAyNDItMzc3LjcgMjQyeiIgZmlsbD0iIzYwNGI0YSI+PC9wYXRoPjwvc3ZnPmA7CiAgICB2YXIgZG93blN2Z0NTUyA9IGB0ZXh0LWFsaWduOiBjZW50ZXI7ZGlzcGxheTogaW5pdGlhbDtwb3NpdGlvbjogcmVsYXRpdmU7Y3Vyc29yOiBwb2ludGVyO21hcmdpbjogMCA4cHg7d2lkdGg6IDMwcHg7aGVpZ2h0OiAzMHB4O3ZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjt0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO2A7CgogICAgY29uc3QgaW5pdFN0eWxlID0gYHRleHQtaW5kZW50OiBpbml0aWFsO2Rpc3BsYXk6IGNvbnRlbnRzO3JpZ2h0OiB1bnNldDtsZWZ0OiB1bnNldDt0b3A6IHVuc2V0O2JvdHRvbTogdW5zZXQ7aW5zZXQ6IHVuc2V0O2NsZWFyOiBib3RoO2N5OiBpbml0aWFsO2Q6IGluaXRpYWw7ZG9taW5hbnQtYmFzZWxpbmU6IGluaXRpYWw7ZW1wdHktY2VsbHM6IGluaXRpYWw7ZmlsbDogaW5pdGlhbDtmaWxsLW9wYWNpdHk6IGluaXRpYWw7ZmlsbC1ydWxlOiBpbml0aWFsO2ZpbHRlcjogaW5pdGlhbDtmbGV4OiBpbml0aWFsO2ZsZXgtZmxvdzogaW5pdGlhbDtmbG9hdDogaW5pdGlhbDtmbG9vZC1jb2xvcjogaW5pdGlhbDtmbG9vZC1vcGFjaXR5OiBpbml0aWFsO2dyaWQ6IGluaXRpYWw7Z3JpZC1hcmVhOiBpbml0aWFsO2hlaWdodDogaW5pdGlhbDtoeXBoZW5zOiBpbml0aWFsO2ltYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO2ltYWdlLXJlbmRlcmluZzogaW5pdGlhbDtpbmxpbmUtc2l6ZTogaW5pdGlhbDtpbnNldC1ibG9jazogaW5pdGlhbDtpbnNldC1pbmxpbmU6IGluaXRpYWw7aXNvbGF0aW9uOiBpbml0aWFsO2xldHRlci1zcGFjaW5nOiBpbml0aWFsO2xpZ2h0aW5nLWNvbG9yOiBpbml0aWFsO2xpbmUtYnJlYWs6IGluaXRpYWw7bGlzdC1zdHlsZTogaW5pdGlhbDttYXJnaW4tYmxvY2s6IGluaXRpYWw7bWFyZ2luOiAwcHggNXB4O21hcmdpbi1pbmxpbmU6IGluaXRpYWw7bWFya2VyOiBpbml0aWFsO21hc2s6IGluaXRpYWw7bWFzay10eXBlOiBpbml0aWFsO21heC1ibG9jay1zaXplOiBpbml0aWFsO21heC1oZWlnaHQ6IGluaXRpYWw7bWF4LWlubGluZS1zaXplOiBpbml0aWFsO21heC13aWR0aDogaW5pdGlhbDttaW4tYmxvY2stc2l6ZTogaW5pdGlhbDttaW4taGVpZ2h0OiBpbml0aWFsO21pbi1pbmxpbmUtc2l6ZTogaW5pdGlhbDttaW4td2lkdGg6IGluaXRpYWw7bWl4LWJsZW5kLW1vZGU6IGluaXRpYWw7b2JqZWN0LWZpdDogaW5pdGlhbDtvYmplY3QtcG9zaXRpb246IGluaXRpYWw7b2Zmc2V0OiBpbml0aWFsO29wYWNpdHk6IGluaXRpYWw7b3JkZXI6IGluaXRpYWw7b3JwaGFuczogaW5pdGlhbDtvdXRsaW5lOiBpbml0aWFsO291dGxpbmUtb2Zmc2V0OiBpbml0aWFsO292ZXJmbG93LWFuY2hvcjogaW5pdGlhbDtvdmVyZmxvdy1jbGlwLW1hcmdpbjogaW5pdGlhbDtvdmVyZmxvdy13cmFwOiBpbml0aWFsO292ZXJmbG93OiBpbml0aWFsO292ZXJzY3JvbGwtYmVoYXZpb3ItYmxvY2s6IGluaXRpYWw7b3ZlcnNjcm9sbC1iZWhhdmlvci1pbmxpbmU6IGluaXRpYWw7b3ZlcnNjcm9sbC1iZWhhdmlvcjogaW5pdGlhbDtwYWRkaW5nLWJsb2NrOiBpbml0aWFsO3BhZGRpbmc6IGluaXRpYWw7cGFkZGluZy1pbmxpbmU6IGluaXRpYWw7cGFnZTogaW5pdGlhbDtwYWdlLW9yaWVudGF0aW9uOiBpbml0aWFsO3BhaW50LW9yZGVyOiBpbml0aWFsO3BlcnNwZWN0aXZlOiBpbml0aWFsO3BlcnNwZWN0aXZlLW9yaWdpbjogaW5pdGlhbDtwb2ludGVyLWV2ZW50czogaW5pdGlhbDtwb3NpdGlvbjogcmVsYXRpdmU7cXVvdGVzOiBpbml0aWFsO3I6IGluaXRpYWw7cmVzaXplOiBpbml0aWFsO3J1YnktcG9zaXRpb246IGluaXRpYWw7cng6IGluaXRpYWw7cnk6IGluaXRpYWw7c2Nyb2xsLWJlaGF2aW9yOiBpbml0aWFsO3Njcm9sbC1tYXJnaW4tYmxvY2s6IGluaXRpYWw7c2Nyb2xsLW1hcmdpbjogaW5pdGlhbDtzY3JvbGwtbWFyZ2luLWlubGluZTogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1ibG9jazogaW5pdGlhbDtzY3JvbGwtcGFkZGluZzogaW5pdGlhbDtzY3JvbGwtcGFkZGluZy1pbmxpbmU6IGluaXRpYWw7c2Nyb2xsLXNuYXAtYWxpZ246IGluaXRpYWw7c2Nyb2xsLXNuYXAtc3RvcDogaW5pdGlhbDtzY3JvbGwtc25hcC10eXBlOiBpbml0aWFsO3Njcm9sbGJhci1ndXR0ZXI6IGluaXRpYWw7c2hhcGUtaW1hZ2UtdGhyZXNob2xkOiBpbml0aWFsO3NoYXBlLW1hcmdpbjogaW5pdGlhbDtzaGFwZS1vdXRzaWRlOiBpbml0aWFsO3NoYXBlLXJlbmRlcmluZzogaW5pdGlhbDtzaXplOiBpbml0aWFsO3NwZWFrOiBpbml0aWFsO3N0b3AtY29sb3I6IGluaXRpYWw7c3RvcC1vcGFjaXR5OiBpbml0aWFsO3N0cm9rZTogaW5pdGlhbDtzdHJva2UtZGFzaGFycmF5OiBpbml0aWFsO3N0cm9rZS1kYXNob2Zmc2V0OiBpbml0aWFsO3N0cm9rZS1saW5lY2FwOiBpbml0aWFsO3N0cm9rZS1saW5lam9pbjogaW5pdGlhbDtzdHJva2UtbWl0ZXJsaW1pdDogaW5pdGlhbDtzdHJva2Utb3BhY2l0eTogaW5pdGlhbDtzdHJva2Utd2lkdGg6IGluaXRpYWw7dGFiLXNpemU6IGluaXRpYWw7dGFibGUtbGF5b3V0OiBpbml0aWFsO3RleHQtYWxpZ246IGluaXRpYWw7dGV4dC1hbGlnbi1sYXN0OiBpbml0aWFsO3RleHQtYW5jaG9yOiBpbml0aWFsO3RleHQtY29tYmluZS11cHJpZ2h0OiBpbml0aWFsO3RleHQtZGVjb3JhdGlvbjogaW5pdGlhbDt0ZXh0LWRlY29yYXRpb24tc2tpcC1pbms6IGluaXRpYWw7dGV4dC1pbmRlbnQ6IGluaXRpYWw7dGV4dC1vdmVyZmxvdzogaW5pdGlhbDt0ZXh0LXNoYWRvdzogaW5pdGlhbDt0ZXh0LXNpemUtYWRqdXN0OiBpbml0aWFsO3RleHQtdHJhbnNmb3JtOiBpbml0aWFsO3RleHQtdW5kZXJsaW5lLW9mZnNldDogaW5pdGlhbDt0ZXh0LXVuZGVybGluZS1wb3NpdGlvbjogaW5pdGlhbDt0b3VjaC1hY3Rpb246IGluaXRpYWw7dHJhbnNmb3JtOiBpbml0aWFsO3RyYW5zZm9ybS1ib3g6IGluaXRpYWw7dHJhbnNmb3JtLW9yaWdpbjogaW5pdGlhbDt0cmFuc2Zvcm0tc3R5bGU6IGluaXRpYWw7dHJhbnNpdGlvbjogaW5pdGlhbDt1c2VyLXNlbGVjdDogaW5pdGlhbDt2ZWN0b3ItZWZmZWN0OiBpbml0aWFsO3ZlcnRpY2FsLWFsaWduOiBpbml0aWFsO3Zpc2liaWxpdHk6IGluaXRpYWw7Ym9yZGVyLXNwYWNpbmc6IGluaXRpYWw7LXdlYmtpdC1ib3JkZXItaW1hZ2U6IGluaXRpYWw7LXdlYmtpdC1ib3gtYWxpZ246IGluaXRpYWw7LXdlYmtpdC1ib3gtZGVjb3JhdGlvbi1icmVhazogaW5pdGlhbDstd2Via2l0LWJveC1kaXJlY3Rpb246IGluaXRpYWw7LXdlYmtpdC1ib3gtZmxleDogaW5pdGlhbDstd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiBpbml0aWFsOy13ZWJraXQtYm94LW9yaWVudDogaW5pdGlhbDstd2Via2l0LWJveC1wYWNrOiBpbml0aWFsOy13ZWJraXQtYm94LXJlZmxlY3Q6IGluaXRpYWw7LXdlYmtpdC1oaWdobGlnaHQ6IGluaXRpYWw7LXdlYmtpdC1oeXBoZW5hdGUtY2hhcmFjdGVyOiBpbml0aWFsOy13ZWJraXQtbGluZS1icmVhazogaW5pdGlhbDstd2Via2l0LWxpbmUtY2xhbXA6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTogaW5pdGlhbDstd2Via2l0LW1hc2s6IGluaXRpYWw7LXdlYmtpdC1tYXNrLWNvbXBvc2l0ZTogaW5pdGlhbDstd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14OiBpbml0aWFsOy13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGluaXRpYWw7LXdlYmtpdC1ydGwtb3JkZXJpbmc6IGluaXRpYWw7LXdlYmtpdC1ydWJ5LXBvc2l0aW9uOiBpbml0aWFsOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogaW5pdGlhbDstd2Via2l0LXRleHQtY29tYmluZTogaW5pdGlhbDstd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0OiBpbml0aWFsOy13ZWJraXQtdGV4dC1lbXBoYXNpczogaW5pdGlhbDstd2Via2l0LXRleHQtZW1waGFzaXMtcG9zaXRpb246IGluaXRpYWw7LXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IGluaXRpYWw7LXdlYmtpdC10ZXh0LXNlY3VyaXR5OiBpbml0aWFsOy13ZWJraXQtdGV4dC1zdHJva2U6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXg6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXk6IGluaXRpYWw7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXo6IGluaXRpYWw7LXdlYmtpdC11c2VyLWRyYWc6IGluaXRpYWw7LXdlYmtpdC11c2VyLW1vZGlmeTogaW5pdGlhbDt3aGl0ZS1zcGFjZTogaW5pdGlhbDt3aWRvd3M6IGluaXRpYWw7d2lkdGg6IGluaXRpYWw7d2lsbC1jaGFuZ2U6IGluaXRpYWw7d29yZC1icmVhazogaW5pdGlhbDt3b3JkLXNwYWNpbmc6IGluaXRpYWw7eDogaW5pdGlhbDt5OiBpbml0aWFsO2A7CiAgICBjb25zdCBwYWdlVGV4dFN0eWxlID0gYG9wYWNpdHk6IDEhaW1wb3J0YW50O3RleHQtaW5kZW50OiBpbml0aWFsO3BhZGRpbmc6IHVuc2V0O2JvcmRlcjogbm9uZTtiYWNrZ3JvdW5kOiB1bnNldCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6IDMwcHg7dGV4dC1kZWNvcmF0aW9uOiBub25lO3VzZXItc2VsZWN0OiBub25lO3Zpc2liaWxpdHk6IHZpc2libGU7cG9zaXRpb246IGluaXRpYWw7d2lkdGg6IGF1dG87bWF4LXdpZHRoOiA4MCU7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO292ZXJmbG93OiBoaWRkZW47aGVpZ2h0OiBhdXRvO2Zsb2F0OiBub25lO2NsZWFyOiBib3RoO21hcmdpbjogMHB4O3RleHQtYWxpZ246IGNlbnRlcjtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1zdHlsZTogbm9ybWFsO2ZvbnQtc2l6ZTogMTZweDtsZXR0ZXItc3BhY2luZzogaW5pdGlhbDt2ZXJ0aWNhbC1hbGlnbjogdG9wO2NvbG9yOiByZ2IoODUsIDg1LCA5NSkhaW1wb3J0YW50O2A7CiAgICB2YXIgc2lkZUNvbnRyb2xsZXJJY29uID0gJyc7CgogICAgdmFyIHRpcHNXb3JkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGlwc1dvcmRzLmNsYXNzTmFtZSA9ICJwYWdldHVhbF90aXBzV29yZHMiOwoKICAgIHZhciBpc1BhdXNlID0gZmFsc2UsIGlzSGlkZUJhciA9IGZhbHNlLCBpc0xvYWRpbmcgPSBmYWxzZSwgY3VyUGFnZSA9IDEsIGZvcmNlU3RhdGUgPSAwLCBhdXRvU2Nyb2xsID0gMCwgYXV0b1Njcm9sbEludGVydmFsLCBib3R0b21HYXAgPSAxMDAwLCBhdXRvTG9hZE51bSA9IC0xLCBuZXh0SW5kZXggPSAwLCBzdG9wU2Nyb2xsID0gZmFsc2UsIGNsaWNrTW9kZSA9IGZhbHNlOwogICAgdmFyIG9wZW5Jbk5ld1RhYiA9IDA7CgogICAgZnVuY3Rpb24gY2hhbmdlU3RvcChzdG9wKSB7CiAgICAgICAgaXNQYXVzZSA9IHN0b3A7CiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGdldEJvZHkoZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5wYWdldHVhbF9wYWdlQmFyLCNwYWdldHVhbC1zaWRlQ29udHJvbGxlciIpLCBiYXIgPT4gewogICAgICAgICAgICBpZiAoaXNQYXVzZSkgewogICAgICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5hZGQoInN0b3AiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJhci5jbGFzc0xpc3QucmVtb3ZlKCJzdG9wIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VIaWRlQmFyKGhpZGUpIHsKICAgICAgICBpc0hpZGVCYXIgPSBoaWRlOwogICAgICAgIFtdLmZvckVhY2guY2FsbChnZXRCb2R5KGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKCIucGFnZXR1YWxfcGFnZUJhciIpLCBiYXIgPT4gewogICAgICAgICAgICBpZiAoaXNIaWRlQmFyKSB7CiAgICAgICAgICAgICAgICBiYXIuY2xhc3NMaXN0LmFkZCgiaGlkZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5yZW1vdmUoImhpZGUiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uwqBpc0luVmlld1BvcnQoZWxlbWVudCnCoHsKICAgICAgICBpZiAoIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKGVsZW1lbnQpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKF91bnNhZmVXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXNwbGF5ID09ICJub25lIikgcmV0dXJuIGZhbHNlOwogICAgICAgIGNvbnN0wqB2aWV3V2lkdGjCoD3CoHdpbmRvdy5pbm5lcldpZHRowqB8fMKgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgIGNvbnN0wqB2aWV3SGVpZ2h0wqA9wqB3aW5kb3cuaW5uZXJIZWlnaHTCoHx8wqBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIGNvbnN0wqB7CiAgICAgICAgICAgIHRvcCwKICAgICAgICAgICAgcmlnaHQsCiAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgbGVmdCwKICAgICAgICB9wqA9wqBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm7CoCgKICAgICAgICAgICAgdG9wwqA+PcKgMMKgJiYKICAgICAgICAgICAgbGVmdMKgPj3CoDDCoCYmCiAgICAgICAgICAgIHJpZ2h0wqA8PcKgdmlld1dpZHRoICsgMcKgJiYKICAgICAgICAgICAgdG9wwqA8PcKgdmlld0hlaWdodCAqIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnJhdGUgfHwgcnVsZXNEYXRhLnJhdGUgfHwgMSkKICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFBhZ2VCYXIoKSB7CiAgICAgICAgbGV0IHByZUJhciA9IG51bGwsIG5leHRCYXIgPSBudWxsOwogICAgICAgIGxldCBwYWdlQmFycyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnBhZ2V0dWFsX3BhZ2VCYXIiKSk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQmFycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsZXQgcGFnZUJhciA9IHBhZ2VCYXJzW2ldOwogICAgICAgICAgICBpZiAoIXBhZ2VCYXIgfHwgIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKHBhZ2VCYXIpKSBjb250aW51ZTsKICAgICAgICAgICAgbGV0wqB7CiAgICAgICAgICAgICAgICB0b3AsCiAgICAgICAgICAgICAgICByaWdodCwKICAgICAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgICAgIGxlZnQsCiAgICAgICAgICAgIH3CoD3CoHBhZ2VCYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGlmICh0b3AgPiA1MDApIHsKICAgICAgICAgICAgICAgIG5leHRCYXIgPSBwYWdlQmFyOwogICAgICAgICAgICAgICAgcHJlQmFyID0gKGkgLSAxID49IDAgPyBwYWdlQmFyc1tpIC0gMV0gOiBudWxsKTsKICAgICAgICAgICAgICAgIGlmIChwYWdlQmFyICYmIGdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKHBhZ2VCYXIpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0wqB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCwKICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSwKICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCwKICAgICAgICAgICAgICAgICAgICB9wqA9wqBwYWdlQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGlmICh0b3AgPCAtNTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZUJhciA9IHBhZ2VCYXI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHByZUJhciA9IChpIC0gMiA+PSAwID8gcGFnZUJhcnNbaSAtIDJdIDogbnVsbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIW5leHRCYXIpIHByZUJhciA9IHBhZ2VCYXJzW3BhZ2VCYXJzLmxlbmd0aCAtIDJdOwogICAgICAgIHJldHVybiB7cHJlQmFyOiBwcmVCYXIsIG5leHRCYXI6IG5leHRCYXJ9OwogICAgfQoKICAgIHZhciB1cmxDaGFuZ2VkID0gZmFsc2U7CiAgICB2YXIgdXJsY2hhbmdlSGFuZGxlciA9IGUgPT4gewogICAgICAgIGlmIChydWxlUGFyc2VyICYmIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUgJiYgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5saXN0ZW5VcmxDaGFuZ2UgPT0gZmFsc2UpIHJldHVybjsKICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbGFzdEFjdGl2ZVVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGxldCBocmVmID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCA2MCk7CiAgICAgICAgICAgIGlmIChocmVmID09IGNvbmZpZ1BhZ2VbMF0pIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGluaXRDb25maWcoaHJlZik7CiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChndWlkZVBhZ2UudGVzdChocmVmKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRDb25maWcoaHJlZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybENoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL2lmICghcGFnZVJlYWR5ICYmICFydWxlSW1wb3J0VXJsUmVnLnRlc3QoaHJlZikpIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAxKTsKICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXR1YWxfcHVzaFN0YXRlJywgdXJsY2hhbmdlSGFuZGxlcik7CiAgICAvKnZhciBfd3IgPSBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgdmFyIG9yaWcgPSBoaXN0b3J5W3R5cGVdOwogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHJ2ID0gb3JpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgncGFnZXR1YWxfJyArIHR5cGUpOwogICAgICAgICAgICBlLmFyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgICAgIHJldHVybiBydjsKICAgICAgICB9OwogICAgfTsKICAgIGhpc3RvcnkucHVzaFN0YXRlID0gX3dyKCdwdXNoU3RhdGUnKTsqLwoKICAgIGZ1bmN0aW9uIGxpc3RlblVybCgpIHsKICAgICAgICB2YXIgcHJldlN0YXRlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgICB2YXIgY2hlY2tVcmxUaW1lID0gMTAwOwogICAgICAgIHZhciBjaGVja1VybFRpbWVyOwogICAgICAgIHZhciBjaGVja0Z1bmMgPSAoKSA9PiB7CiAgICAgICAgICAgIGlmIChmb3JjZVN0YXRlID09IDEpIHJldHVybjsKICAgICAgICAgICAgaWYgKGNoZWNrVXJsVGltZSA8IDUwMDApIHsKICAgICAgICAgICAgICAgIGNoZWNrVXJsVGltZSArPSBjaGVja1VybFRpbWU+PjE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNoZWNrVXJsVGltZXIpOwogICAgICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjsKICAgICAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgICAgIGlmIChwcmV2U3RhdGUgIT09IHVybCAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiAhPSBydWxlUGFyc2VyLmhpc3RvcnlVcmwpIHsKICAgICAgICAgICAgICAgIGNoZWNrVXJsVGltZSA9IDIwMDA7CiAgICAgICAgICAgICAgICBwcmV2U3RhdGUgPSB1cmw7CiAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgncGFnZXR1YWxfcHVzaFN0YXRlJyk7CiAgICAgICAgICAgICAgICBlLmFyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGNoZWNrVXJsVGltZSA9IDEwMDsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNoZWNrVXJsVGltZXIpOwogICAgICAgICAgICBjaGVja1VybFRpbWVyID0gc2V0VGltZW91dChjaGVja0Z1bmMsIGNoZWNrVXJsVGltZSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGlzdFRvQm90dG9tICgpIHsKICAgICAgICBsZXQgc2Nyb2xseSA9IHdpbmRvdy5zY3JvbGxZOwogICAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICBsZXQgc2Nyb2xsSCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbEhlaWdodCk7CiAgICAgICAgcmV0dXJuIHNjcm9sbEggLSBzY3JvbGx5IC0gd2luZG93SGVpZ2h0OwogICAgfQoKICAgIGxldCBjaGVja0xvYWRNb3JlLCBzY3JvbGxIYW5kbGVyLCBjbGlja1RvUmVzZXRIYW5kbGVyLCBkYmxjbGlja0hhbmRsZXIsIGtleWRvd25IYW5kbGVyLCBoYXNoY2hhbmdlSGFuZGxlciwgbWFudWFsTW9kZUtleUhhbmRsZXIsIHBhZ2V0dWFsTmV4dEhhbmRsZXIsIGtleXVwSGFuZGxlcjsKICAgIGZ1bmN0aW9uIGluaXRMaXN0ZW5lciAoKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0xvYWRNb3JlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyLCB0cnVlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHNjcm9sbEhhbmRsZXIsIHRydWUpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZGJsY2xpY2tIYW5kbGVyKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpOwogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaGNoYW5nZUhhbmRsZXIsIGZhbHNlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbWFudWFsTW9kZUtleUhhbmRsZXIpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhZ2V0dWFsLm5leHQnLCBwYWdldHVhbE5leHRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXl1cEhhbmRsZXIpOwogICAgICAgIGxldCBsb2FkbW9yZUJ0biwgbG9hZGluZ01vcmUgPSB0cnVlLCBsYXN0U2Nyb2xsID0gMCwgY2hlY2tMb2FkTW9yZVRpbWVzID0gMDsKICAgICAgICBpZiAoIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxvYWRNb3JlKSB7CiAgICAgICAgICAgICAgICBsb2FkaW5nTW9yZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hlY2tMb2FkTW9yZSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0TG9hZE1vcmUoZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKGxvYWRtb3JlQnRuICYmIGlzVmlzaWJsZShsb2FkbW9yZUJ0biwgX3Vuc2FmZVdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0luVmlld1BvcnQobG9hZG1vcmVCdG4pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtdUNsaWNrKGxvYWRtb3JlQnRuKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2FkaW5nTW9yZSA9IGZhbHNlfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0xvYWRNb3JlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tMb2FkTW9yZVRpbWVzKysgPiAxMCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tMb2FkTW9yZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgICBjbGlja01vZGUgPSB0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5jbGlja01vZGUgPT0gJ3VuZGVmaW5lZCcgPyBydWxlc0RhdGEuY2xpY2tNb2RlIDogcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5jbGlja01vZGU7CiAgICAgICAgbGV0IGNsaWNraW5nTmV4dCA9IGZhbHNlOwogICAgICAgIGxldCBjbGlja05leHQgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGlmIChjbGlja2luZ05leHQpIHJldHVybjsKICAgICAgICAgICAgY2xpY2tpbmdOZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjbGlja2luZ05leHQgPSBmYWxzZTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIGxldCBuZXh0TGluayA9IHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmOwogICAgICAgICAgICBpZiAoIW5leHRMaW5rKSByZXR1cm47CiAgICAgICAgICAgIGxldCBpc0pzID0gL14oamF2YXNjcmlwdHwjKS8udGVzdChuZXh0TGluay5yZXBsYWNlKGxvY2F0aW9uLmhyZWYsICIiKSk7CiAgICAgICAgICAgIGlmIChpc0pzKSB7CiAgICAgICAgICAgICAgICBsZXQgbmV4dEJ0biA9IHJ1bGVQYXJzZXIubmV4dExpbmtFbGU7CiAgICAgICAgICAgICAgICBpZiAoIW5leHRCdG4gfHwgIW5leHRCdG4ub2Zmc2V0UGFyZW50KSBuZXh0QnRuID0gYXdhaXQgcnVsZVBhcnNlci5nZXROZXh0TGluayhkb2N1bWVudCk7CiAgICAgICAgICAgICAgICBpZiAobmV4dEJ0bikgZW11Q2xpY2sobmV4dEJ0bik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5leHRMaW5rOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBsZXQgY2hlY2tTY3JvbGxSZWFjaCA9ICgpID0+IHsKICAgICAgICAgICAgbGV0IGRpc3QgPSBkaXN0VG9Cb3R0b20oKTsKICAgICAgICAgICAgaWYgKGNsaWNrTW9kZSkgewogICAgICAgICAgICAgICAgaWYgKGRpc3QgPCAxMCkgewogICAgICAgICAgICAgICAgICAgIGNsaWNrTmV4dCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPCBib3R0b21HYXApIHsKICAgICAgICAgICAgICAgIG5leHRQYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHNjcm9sbEhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgaWYgKHVybENoYW5nZWQgJiYgIWlzTG9hZGluZykgewogICAgICAgICAgICAgICAgcnVsZVBhcnNlci5pbml0UGFnZSgoKSA9PiB7fSk7CiAgICAgICAgICAgICAgICB1cmxDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzUGF1c2UpIHJldHVybjsKICAgICAgICAgICAgaWYgKCFsb2FkaW5nTW9yZSkgewogICAgICAgICAgICAgICAgbG9hZG1vcmVCdG4gPSBnZXRMb2FkTW9yZShkb2N1bWVudCwgbG9hZG1vcmVCdG4pOwogICAgICAgICAgICAgICAgaWYgKGxvYWRtb3JlQnRuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5WaWV3UG9ydChsb2FkbW9yZUJ0bikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2sobG9hZG1vcmVCdG4pOwogICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9yZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge2xvYWRpbmdNb3JlID0gZmFsc2V9LCAyMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge2xvYWRpbmdNb3JlID0gZmFsc2V9LCAyMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghaXNMb2FkaW5nICYmICFzdG9wU2Nyb2xsKSB7CiAgICAgICAgICAgICAgICBjaGVja1Njcm9sbFJlYWNoKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcnVsZVBhcnNlci5jaGFuZ2VWaXNpYmlsaXR5KCk7CiAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxvY2tTY3JvbGwpIHsKICAgICAgICAgICAgICAgIGxldCBjdXJTY3JvbGwgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgIGlmIChpc0xvYWRpbmcgJiYgTWF0aC5hYnMobGFzdFNjcm9sbCAtIGN1clNjcm9sbCkgPiAzNTApIHsKICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSBsYXN0U2Nyb2xsOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBsYXN0U2Nyb2xsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsID0gY3VyU2Nyb2xsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBkYmxjbGlja0hhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT0gMSB8fCAvXihJTlBVVHxURVhUQVJFQXxTRUxFQ1QpJC9pLnRlc3QoZS50YXJnZXQubm9kZU5hbWUpKSByZXR1cm47CiAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLmRiQ2xpY2syU3RvcEtleSkgewogICAgICAgICAgICAgICAgaWYgKChydWxlc0RhdGEuZGJDbGljazJTdG9wQ3RybCAmJiAhZS5jdHJsS2V5KSB8fAogICAgICAgICAgICAgICAgICAgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BBbHQgJiYgIWUuYWx0S2V5KSB8fAogICAgICAgICAgICAgICAgICAgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BTaGlmdCAmJiAhZS5zaGlmdEtleSkgfHwKICAgICAgICAgICAgICAgICAgIChydWxlc0RhdGEuZGJDbGljazJTdG9wTWV0YSAmJiAhZS5tZXRhS2V5KSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIS9eQk9EWSQvaS50ZXN0KGUudGFyZ2V0Lm5vZGVOYW1lKSAmJiBlLnRhcmdldC5jbGFzc05hbWUgIT09ICdwYWdldHVhbF9wYWdlQmFyJykgewogICAgICAgICAgICAgICAgbGV0IHNlbFN0ciA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICBpZiAoc2VsU3RyICYmIHNlbFN0ci50cmltKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3AgJiYgKHJ1bGVQYXJzZXIubmV4dExpbmtIcmVmIHx8IGxvYWRtb3JlQnRuKSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzRGF0YS5oaWRlQmFyQnV0Tm9TdG9wIHx8IHJ1bGVzRGF0YS5oaWRlQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUhpZGVCYXIoIWlzSGlkZUJhcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghcnVsZXNEYXRhLmhpZGVCYXJCdXROb1N0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RvcCghaXNQYXVzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oaXNQYXVzZSA/ICJkaXNhYmxlIiA6ICJlbmFibGUiKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghaXNQYXVzZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja1Njcm9sbFJlYWNoKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTApOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGRibGNsaWNrSGFuZGxlcik7CiAgICAgICAgY2xpY2tUb1Jlc2V0SGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmKSBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9OwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tUb1Jlc2V0SGFuZGxlcik7CiAgICAgICAgaWYgKHJ1bGVzRGF0YS5kYkNsaWNrMlN0b3BLZXkpIHsKICAgICAgICAgICAga2V5ZG93bkhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmICgocnVsZXNEYXRhLmRiQ2xpY2syU3RvcEN0cmwgJiYgIWUuY3RybEtleSkgfHwKICAgICAgICAgICAgICAgICAgIChydWxlc0RhdGEuZGJDbGljazJTdG9wQWx0ICYmICFlLmFsdEtleSkgfHwKICAgICAgICAgICAgICAgICAgIChydWxlc0RhdGEuZGJDbGljazJTdG9wU2hpZnQgJiYgIWUuc2hpZnRLZXkpIHx8CiAgICAgICAgICAgICAgICAgICAocnVsZXNEYXRhLmRiQ2xpY2syU3RvcE1ldGEgJiYgIWUubWV0YUtleSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJgogICAgICAgICAgICAgICAgICAgICgvXihJTlBVVHxURVhUQVJFQSkkL2kudGVzdChkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lKSB8fAogICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9PSAndHJ1ZScpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBpZiAocnVsZXNEYXRhLmRiQ2xpY2syU3RvcEtleS50b0xvd2VyQ2FzZSgpID09IGtleSkgewogICAgICAgICAgICAgICAgICAgIGZvcmNlU3RhdGUgPSAoZm9yY2VTdGF0ZSA9PSAxID8gMCA6IDEpOwogICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKGkxOG4oZm9yY2VTdGF0ZSA9PSAxID8gImRpc2FibGVTaXRlVGlwcyIgOiAiZW5hYmxlU2l0ZVRpcHMiKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLmN1clNpdGVSdWxlLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oImZvcmNlU3RhdGVfIiArIGxvY2F0aW9uLmhvc3QsIGZvcmNlU3RhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7CiAgICAgICAgfQogICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxpc3Rlbkhhc2hDaGFuZ2UpIHsKICAgICAgICAgICAgaGFzaGNoYW5nZUhhbmRsZXIgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHVybENoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLm5leHRMaW5rSHJlZikgaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaGNoYW5nZUhhbmRsZXIsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgbGV0IG1hbnVhbE1vZGUgPSB0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5tYW51YWxNb2RlID09ICd1bmRlZmluZWQnID8gcnVsZXNEYXRhLm1hbnVhbE1vZGUgOiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLm1hbnVhbE1vZGU7CiAgICAgICAgaWYgKG1hbnVhbE1vZGUpIHsKICAgICAgICAgICAgbWFudWFsTW9kZUtleUhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmCiAgICAgICAgICAgICAgICAgICAgKC9eKElOUFVUfFRFWFRBUkVBKSQvaS50ZXN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUpIHx8CiAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGVudEVkaXRhYmxlID09ICd0cnVlJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDM5KSB7CiAgICAgICAgICAgICAgICAgICAgY2xpY2tOZXh0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAzNykgewogICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbWFudWFsTW9kZUtleUhhbmRsZXIpOwogICAgICAgICAgICBwYWdldHVhbE5leHRIYW5kbGVyID0gKCkgPT4gewogICAgICAgICAgICAgICAgY2xpY2tOZXh0KCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2V0dWFsLm5leHQnLCBwYWdldHVhbE5leHRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHJ1bGVzRGF0YS5hcnJvd1RvU2Nyb2xsKSB7CiAgICAgICAgICAgIGtleXVwSGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYKICAgICAgICAgICAgICAgICAgICAoL14oSU5QVVR8VEVYVEFSRUEpJC9pLnRlc3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSkgfHwKICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgPT0gJ3RydWUnKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMzkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFBhZ2VCYXI9Z2V0UGFnZUJhcigpLm5leHRCYXI7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvUGFnZUJhcihuZXh0UGFnZUJhcik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFRvcCArICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCksIGJlaGF2aW9yOiAnc21vb3RoJ30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM3KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHByZVBhZ2VCYXIgPSBnZXRQYWdlQmFyKCkucHJlQmFyOwogICAgICAgICAgICAgICAgICAgIGlmIChwcmVQYWdlQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvUGFnZUJhcihwcmVQYWdlQmFyKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsVG9wIC0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGtleXVwSGFuZGxlcik7CiAgICAgICAgfQogICAgICAgIGlmICghcnVsZVBhcnNlci5jdXJTaXRlUnVsZS53aGVlbCkgewogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBzY3JvbGxIYW5kbGVyLCB0cnVlKTsKICAgIH0KCiAgICBsZXQgaGlkZVRpcHNUaW1lb3V0OwogICAgZnVuY3Rpb24gc2hvd1RpcHMoY29udGVudCwgaHJlZiwgdGltZSwgd29yZENvbG9yLCBiYWNrQ29sb3IpIHsKICAgICAgICBpbml0VmlldygpOwogICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHRpcHNXb3Jkcyk7CiAgICAgICAgdGlwc1dvcmRzLnN0eWxlLmNvbG9yID0gd29yZENvbG9yIHx8IDB4RkZGRkZGOwogICAgICAgIHRpcHNXb3Jkcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrQ29sb3IgfHwgMHgwMDA7CiAgICAgICAgbGV0IF90aW1lID0gMTUwMDsKICAgICAgICBpZiAoaHJlZikgewogICAgICAgICAgICBfdGltZSA9IDM1MDA7CiAgICAgICAgICAgIHRpcHNXb3Jkcy5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKGA8YSBocmVmPScke2hyZWZ9Jz4ke2NvbnRlbnR9PC9hPmApOwogICAgICAgICAgICB0aXBzV29yZHMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRpcHNXb3Jkcy5pbm5lckhUTUwgPSBjcmVhdGVIVE1MKGNvbnRlbnQpOwogICAgICAgIH0KICAgICAgICB0aXBzV29yZHMuc3R5bGUubWFyZ2luTGVmdCA9IC10aXBzV29yZHMub2Zmc2V0V2lkdGggLyAyICsgInB4IjsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGlwc1dvcmRzLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGlwc1dvcmRzLm9mZnNldFdpZHRoIC8gMiArICJweCI7CiAgICAgICAgfSwgMCk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRpcHNXb3Jkcy5zdHlsZS5vcGFjaXR5ID0gMC44OwogICAgICAgICAgICBjbGVhclRpbWVvdXQoaGlkZVRpcHNUaW1lb3V0KTsKICAgICAgICAgICAgaGlkZVRpcHNUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aXBzV29yZHMuc3R5bGUub3BhY2l0eSA9IDA7CiAgICAgICAgICAgICAgICB0aXBzV29yZHMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICcnOwogICAgICAgICAgICB9LCB0aW1lIHx8IF90aW1lKTsKICAgICAgICB9LCAxKTsKICAgIH0KCiAgICBjb25zdCBsb2FkbW9yZVJlZyA9IC9eXHMqKCjngrnlh7spP+WKoOi9veabtOWkmnwo6bue5pOKKT/liqDovInmm7TlpJp8bG9hZFxzKm1vcmV844KC44Gj44Go6Kqt44G/6L6844KAKVsu4oCmXSpccyokL2k7CiAgICBjb25zdCBkZWZhdWx0TG9hZG1vcmVTZWwgPSAiLmxvYWRNb3JlLC5Mb2FkTW9yZSwubG9hZC1tb3JlLGJ1dHRvbi5zaG93X21vcmUsLmJ1dHRvbi1zaG93LW1vcmUsYnV0dG9uW2RhdGEtdGVzdGlkPSdtb3JlLXJlc3VsdHMtYnV0dG9uJ10sI2J0bl9wcmV2aWV3X3JlbWFpbiI7CiAgICBmdW5jdGlvbiBnZXRMb2FkTW9yZShkb2MsIGxvYWRtb3JlQnRuKSB7CiAgICAgICAgaWYgKCFsb2FkbW9yZUJ0biB8fCAhZ2V0Qm9keShkb2MpLmNvbnRhaW5zKGxvYWRtb3JlQnRuKSB8fCAvbGVzcy8udGVzdChsb2FkbW9yZUJ0bi5pbm5lclRleHQpKSBsb2FkbW9yZUJ0biA9IG51bGw7CiAgICAgICAgaWYgKCFydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpbmdsZVVybCAmJiAhcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5sb2FkTW9yZSkgcmV0dXJuIG51bGw7CiAgICAgICAgaWYgKGxvYWRtb3JlQnRuKSByZXR1cm4gbG9hZG1vcmVCdG47CiAgICAgICAgbGV0IGJ0blNlbCA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubG9hZE1vcmUgfHwgZGVmYXVsdExvYWRtb3JlU2VsOwogICAgICAgIGlmIChidG5TZWwpIHsKICAgICAgICAgICAgbG9hZG1vcmVCdG4gPSBnZXRFbGVtZW50KGJ0blNlbCwgZG9jLCBudWxsLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFsb2FkbW9yZUJ0bikgewogICAgICAgICAgICBsZXQgYnV0dG9ucyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dCxidXR0b24sYSxkaXZbb25jbGlja10iKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgYnV0dG9uID0gYnV0dG9uc1tpXTsKICAgICAgICAgICAgICAgIGlmICghYnV0dG9uLmlubmVyVGV4dCB8fCBidXR0b24uaW5uZXJUZXh0Lmxlbmd0aCA+IDIwKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGlmIChidXR0b24gJiYgbG9hZG1vcmVSZWcudGVzdChidXR0b24uaW5uZXJUZXh0KSkgewogICAgICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gYnV0dG9uOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChsb2FkbW9yZUJ0biAmJiAhcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5sb2FkTW9yZSAmJiBsb2FkbW9yZUJ0bi5kYXRhc2V0LmFqYXggIT09ICJ0cnVlIikgewogICAgICAgICAgICBsZXQgaHJlZiA9IGxvYWRtb3JlQnRuLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwogICAgICAgICAgICBpZiAoaHJlZiAmJiBocmVmICE9ICIvIiAmJiAhL14oamF2YXNjcmlwdHwjKS8udGVzdChocmVmLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKSkgewogICAgICAgICAgICAgICAgbG9hZG1vcmVCdG4gPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChsb2FkbW9yZUJ0biAmJiAvbGVzcy8udGVzdChsb2FkbW9yZUJ0bi5pbm5lclRleHQpKSBsb2FkbW9yZUJ0biA9IG51bGw7CiAgICAgICAgcmV0dXJuIGxvYWRtb3JlQnRuOwogICAgfQoKICAgIGZ1bmN0aW9uIHNjcm9sbFRvUGFnZUJhcihiYXIpewogICAgICAgIGxldCB5T2Zmc2V0ID0gLTIwOwogICAgICAgIGlmICh0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlQmFyVG9wICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICB5T2Zmc2V0ID0gLXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUJhclRvcDsKICAgICAgICB9CiAgICAgICAgY29uc3QgeSA9IGJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyB5T2Zmc2V0OwogICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogeSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICB9CgogICAgY29uc3QgcGFnZU51bVJlZz0vWyZcL1w/XShwPXxwYWdlWz1cL18tXT8pXGQrfFtfLV1cZCtcLi87CiAgICBmdW5jdGlvbiBjcmVhdGVQYWdlQmFyKHVybCkgewogICAgICAgIGN1clBhZ2UrKzsKICAgICAgICBzaWRlQ29udHJvbGxlci5zZXR1cCgpOwogICAgICAgIGxldCBwb3NFbGUgPSBudWxsOwogICAgICAgIGxldCBzY3JvbGxIID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICBsZXQgaW5zZXJ0ID0gcnVsZVBhcnNlci5nZXRJbnNlcnQoKTsKICAgICAgICBpZiAoIWluc2VydCB8fCAhaW5zZXJ0LnBhcmVudE5vZGUpIHJldHVybjsKICAgICAgICBpZiAoZm9yY2VTdGF0ZSA9PSAyKSB7CiAgICAgICAgICAgIHBvc0VsZSA9IGdldEJvZHkoZG9jdW1lbnQpOwogICAgICAgICAgICBwb3NFbGUgPSBwb3NFbGUuY2hpbGRyZW5bcG9zRWxlLmNoaWxkcmVuLmxlbmd0aCAtIDFdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc0VsZSA9IGluc2VydDsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHBvc0VsZSAmJiAhcG9zRWxlLm9mZnNldFBhcmVudCkgewogICAgICAgICAgICBwb3NFbGUgPSBwb3NFbGUucHJldmlvdXNFbGVtZW50U2libGluZyB8fCBwb3NFbGUucGFyZW50Tm9kZTsKICAgICAgICB9CiAgICAgICAgaWYgKHBvc0VsZSkgewogICAgICAgICAgICBsZXQgYWN0dWFsQm90dG9tID0gZ2V0RWxlbWVudEJvdHRvbShwb3NFbGUpOwogICAgICAgICAgICBib3R0b21HYXAgPSBzY3JvbGxIIC0gYWN0dWFsQm90dG9tICsgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAqIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnJhdGUgfHwgcnVsZXNEYXRhLnJhdGUgfHwgMSk7CiAgICAgICAgICAgIGlmIChib3R0b21HYXAgPCAxMDApIGJvdHRvbUdhcCA9IDEwMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib3R0b21HYXAgPSAxMDAwOwogICAgICAgIH0KICAgICAgICBpZiAocnVsZXNEYXRhLm9wYWNpdHkgPT0gMCB8fCBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VCYXIgPT09IDApIHJldHVybiBudWxsOwogICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8jcHsuKi8sICIiKTsKICAgICAgICBsZXQgZXhhbXBsZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuaW5zZXJ0UG9zID09IDIgPyBpbnNlcnQuY2hpbGRyZW5bMF0gOiAoaW5zZXJ0LnBhcmVudE5vZGUuY2hpbGRyZW5bMF0gfHwgaW5zZXJ0KTsKICAgICAgICB3aGlsZSAoZXhhbXBsZSAmJiAoL14oU0NSSVBUfFNUWUxFKSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpIHx8IGV4YW1wbGUuY2xhc3NOYW1lID09ICJwYWdldHVhbF9wYWdlQmFyIikpIHsKICAgICAgICAgICAgZXhhbXBsZSA9IGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgIH0KICAgICAgICBpZiAoIWV4YW1wbGUgfHwgIWV4YW1wbGUucGFyZW50Tm9kZSkgZXhhbXBsZSA9IGluc2VydDsKICAgICAgICBpZiAoZXhhbXBsZS5ub2RlVHlwZSAhPSAxKSB7CiAgICAgICAgICAgIGV4YW1wbGUgPSBleGFtcGxlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgfHwgZXhhbXBsZS5wYXJlbnROb2RlOwogICAgICAgICAgICBpZiAoIWV4YW1wbGUgfHwgZXhhbXBsZS5ub2RlVHlwZSAhPSAxKSByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBleGFtcGxlU3R5bGUgPSBfdW5zYWZlV2luZG93LmdldENvbXB1dGVkU3R5bGUoZXhhbXBsZSk7CiAgICAgICAgbGV0IGluVGFibGUsIGluTGk7CiAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT0gMikgewogICAgICAgICAgICBpblRhYmxlID0gaW5MaSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluVGFibGUgPSAvXihUQUJMRXxUQk9EWSkkL2kudGVzdChleGFtcGxlLnBhcmVudE5vZGUubm9kZU5hbWUpIHx8CiAgICAgICAgICAgIC9eKFRSfFRCT0RZKSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpIHx8CiAgICAgICAgICAgIGV4YW1wbGVTdHlsZS5kaXNwbGF5ID09ICJ0YWJsZS1yb3ciIHx8CiAgICAgICAgICAgIChleGFtcGxlLm5leHRFbGVtZW50U2libGluZyAmJiAvXihUUnxUQk9EWSkkL2kudGVzdChleGFtcGxlLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZSkpOwogICAgICAgICAgICBpbkxpID0gL15MSSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpIHx8IChleGFtcGxlLm5leHRFbGVtZW50U2libGluZyAmJiAvXkxJJC9pLnRlc3QoZXhhbXBsZS5uZXh0RWxlbWVudFNpYmxpbmcubm9kZU5hbWUpKTsKICAgICAgICB9CiAgICAgICAgbGV0IHBhZ2VCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGluVGFibGUgPyAidHIiIDogKGluTGkgPyAibGkiIDogImRpdiIpKTsKICAgICAgICBsZXQgdXBTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgIGxldCBkb3duU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICBsZXQgcGFnZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgbGV0IHBhZ2VOdW07CiAgICAgICAgcGFnZUJhci5jbGFzc05hbWUgPSBpc0hpZGVCYXIgPyAicGFnZXR1YWxfcGFnZUJhciBoaWRlIiA6ICJwYWdldHVhbF9wYWdlQmFyIjsKICAgICAgICBwYWdlQmFyLmlkID0gInBhZ2V0dWFsX3BhZ2VCYXIiICsgY3VyUGFnZTsKICAgICAgICBwYWdlQmFyLnNldEF0dHJpYnV0ZSgidHJhbnNsYXRlIiwgIm5vIik7CiAgICAgICAgaWYgKGlzUGF1c2UpIHsKICAgICAgICAgICAgcGFnZUJhci5jbGFzc0xpc3QuYWRkKCJzdG9wIik7CiAgICAgICAgfQogICAgICAgIHBhZ2VCYXIuc3R5bGUuY3NzVGV4dCA9IHBhZ2VCYXJTdHlsZTsKICAgICAgICBwYWdlQmFyLnRpdGxlID0gaTE4bihpc1BhdXNlID8gImVuYWJsZSIgOiAiZGlzYWJsZSIpOwogICAgICAgIHVwU3Bhbi5pbm5lckhUTUwgPSB1cFN2ZzsKICAgICAgICB1cFNwYW4uY2hpbGRyZW5bMF0uc3R5bGUuY3NzVGV4dCA9IHVwU3ZnQ1NTOwogICAgICAgIHVwU3Bhbi50aXRsZSA9IGkxOG4oInRvVG9wIik7CiAgICAgICAgZG93blNwYW4uaW5uZXJIVE1MID0gZG93blN2ZzsKICAgICAgICBkb3duU3Bhbi5jaGlsZHJlblswXS5zdHlsZS5jc3NUZXh0ID0gZG93blN2Z0NTUzsKICAgICAgICBkb3duU3Bhbi50aXRsZSA9IGkxOG4oInRvQm90dG9tIik7CiAgICAgICAgdXBTcGFuLnN0eWxlLmNzc1RleHQgPSBpbml0U3R5bGU7CiAgICAgICAgZG93blNwYW4uc3R5bGUuY3NzVGV4dCA9IGluaXRTdHlsZTsKICAgICAgICBwYWdlVGV4dC5ocmVmID0gdXJsOwogICAgICAgIHBhZ2VUZXh0LnN0eWxlLmNzc1RleHQgPSBwYWdlVGV4dFN0eWxlOwogICAgICAgIHBhZ2VUZXh0LnRpdGxlID0gaTE4bigiY3VycmVudCIpOwogICAgICAgIGlmIChvcGVuSW5OZXdUYWIgPT0gMSkgcGFnZVRleHQudGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgICAgcGFnZUJhci5hcHBlbmRDaGlsZCh1cFNwYW4pOwogICAgICAgIHBhZ2VCYXIuYXBwZW5kQ2hpbGQocGFnZVRleHQpOwogICAgICAgIGlmIChydWxlc0RhdGEucGFnZUJhck1lbnUpIHsKICAgICAgICAgICAgcGFnZVRleHQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBwaWNrZXIuc3RhcnQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGxldCB0b3VjaGVkID0gZmFsc2U7CiAgICAgICAgbGV0IHRvdWNoQm9keUhhbmRsZXIgPSBlID0+IHsKICAgICAgICAgICAgdG91Y2hlZCA9IGZhbHNlOwogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hCb2R5SGFuZGxlciwgeyBwYXNzaXZlOiBmYWxzZSwgY2FwdHVyZTogZmFsc2UgfSk7CiAgICAgICAgfTsKICAgICAgICBwYWdlVGV4dC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgZSA9PiB7CiAgICAgICAgICAgIGlmICh0b3VjaGVkKSByZXR1cm47CiAgICAgICAgICAgIHRvdWNoZWQgPSB0cnVlOwogICAgICAgICAgICBwYWdlVGV4dC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHBhZ2VUZXh0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJzsKICAgICAgICAgICAgfSwgMjUwKTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIHRvdWNoQm9keUhhbmRsZXIsIHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IGZhbHNlIH0pOwogICAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IGZhbHNlIH0pOwogICAgICAgIGlmIChydWxlUGFyc2VyLm5leHRUaXRsZSkgewogICAgICAgICAgICBwYWdlVGV4dC5pbm5lckhUTUwgPSBydWxlUGFyc2VyLm5leHRUaXRsZSArICIgIjsKICAgICAgICAgICAgcGFnZVRleHQudGl0bGUgPSBydWxlUGFyc2VyLm5leHRUaXRsZTsKICAgICAgICB9CiAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZU51bSB8fCBwYWdlTnVtUmVnLnRlc3QodXJsKSkgewogICAgICAgICAgICBwYWdlVGV4dC5pbm5lckhUTUwgKz0gaTE4bigicGFnZSIpOwogICAgICAgICAgICBwYWdlTnVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICBsZXQgbnVtID0gcnVsZVBhcnNlci5nZXRQYWdlTnVtRnJvbVVybCh1cmwpOwogICAgICAgICAgICBwYWdlTnVtLmlubmVySFRNTCA9IG51bTsKICAgICAgICAgICAgcGFnZU51bS5jbGFzc05hbWUgPSAicGFnZXR1YWxfcGFnZU51bSI7CiAgICAgICAgICAgIHBhZ2VOdW0udGl0bGUgPSBpMThuKCJpbnB1dFBhZ2VOdW0iKTsKICAgICAgICAgICAgcGFnZU51bS5zdHlsZS5jc3NUZXh0ID0gcGFnZVRleHRTdHlsZTsKICAgICAgICAgICAgcGFnZU51bS5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICAgICAgICAgIHBhZ2VOdW0uc3R5bGUuY29sb3IgPSAiIjsKICAgICAgICAgICAgcGFnZU51bS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjVweCI7CiAgICAgICAgICAgIHBhZ2VOdW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgICAgICAgICAgICAgIGxldCBwYWdlSW5wdXQgPSBwcm9tcHQoaTE4bigiaW5wdXRQYWdlTnVtIiksIG51bSB8fCAiMSIpOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VJbnB1dCkgewogICAgICAgICAgICAgICAgICAgIGxldCBsb2NhbFBhZ2VCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGFnZXR1YWxfcGFnZUJhciIgKyBwYWdlSW5wdXQpOwogICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFBhZ2VCYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9QYWdlQmFyKGxvY2FsUGFnZUJhcik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2VMaW5rID0gcnVsZVBhcnNlci5nZXRMaW5rQnlQYWdlKHVybCwgcGFnZUlucHV0KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfR01fb3BlbkluVGFiKHBhZ2VMaW5rLCB7YWN0aXZlOnRydWV9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwYWdlQmFyLmFwcGVuZENoaWxkKHBhZ2VOdW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBhZ2VUZXh0LmlubmVySFRNTCArPSBpMThuKCJwYWdlIikgKyBjdXJQYWdlOwogICAgICAgIH0KICAgICAgICBsZXQgcHJlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgIHByZUJ0bi5pbm5lckhUTUwgPSAi4oinIjsKICAgICAgICBwcmVCdG4udGl0bGUgPSBpMThuKCJwcmV2UGFnZSIpOwogICAgICAgIHByZUJ0bi5jbGFzc05hbWUgPSAicHJldlNjcmVlbiI7CiAgICAgICAgcHJlQnRuLnN0eWxlLmNzc1RleHQgPSAiZGlzcGxheTogbm9uZTt0ZXh0LWFsaWduOiBjZW50ZXI7cmlnaHQ6IHVuc2V0OyBmbG9hdDogbGVmdDsgd2lkdGg6IDQwcHg7IGJhY2tncm91bmQ6IHJnYmEoMjQwLCAyNDAsIDI0MCwgMC44KTsgcG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiA5OTk5OTk5OyBib3gtc2hhZG93OiByZ2IoMCAwIDAgLyA1MCUpIDBweCAtNXB4IDVweDsgYm9yZGVyLXJhZGl1czogMjBweCAyMHB4IDAgMDsgbWFyZ2luLXRvcDogLTMwcHg7ICI7CiAgICAgICAgbGV0IG5leHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICAgICAgbmV4dEJ0bi5pbm5lckhUTUwgPSAi4oioIjsKICAgICAgICBuZXh0QnRuLnRpdGxlID0gaTE4bigibmV4dFBhZ2UiKTsKICAgICAgICBuZXh0QnRuLmNsYXNzTmFtZSA9ICJuZXh0U2NyZWVuIjsKICAgICAgICBuZXh0QnRuLnN0eWxlLmNzc1RleHQgPSAiZGlzcGxheTogbm9uZTt0ZXh0LWFsaWduOiBjZW50ZXI7cmlnaHQ6IHVuc2V0OyBmbG9hdDogbGVmdDsgd2lkdGg6IDQwcHg7IGJhY2tncm91bmQ6IHJnYmEoMjQwLCAyNDAsIDI0MCwgMC44KTsgcG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiA5OTk5OTk5OyBib3gtc2hhZG93OiByZ2IoMCAwIDAgLyA1MCUpIDBweCA1cHggNXB4OyBib3JkZXItcmFkaXVzOiAwIDAgMjBweCAyMHB4OyBtYXJnaW4tdG9wOiAzMHB4OyAiOwogICAgICAgIGxldCBsb2NhbFBhZ2UgPSBjdXJQYWdlOwogICAgICAgIHByZUJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGxldCBwcmVQYWdlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BhZ2V0dWFsX3BhZ2VCYXIiICsgKGxvY2FsUGFnZSAtIDEpKTsKICAgICAgICAgICAgaWYgKHByZVBhZ2VCYXIpIHsKICAgICAgICAgICAgICAgIHNjcm9sbFRvUGFnZUJhcihwcmVQYWdlQmFyKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsVG9wIC0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgbGV0IG5leHRQYWdlQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BhZ2V0dWFsX3BhZ2VCYXIiICsgKGxvY2FsUGFnZSArIDEpKTsKICAgICAgICAgICAgaWYgKG5leHRQYWdlQmFyKSB7CiAgICAgICAgICAgICAgICBzY3JvbGxUb1BhZ2VCYXIobmV4dFBhZ2VCYXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2Nyb2xsSCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbEggfHwgOTk5OTk5OSwgYmVoYXZpb3I6ICdzbW9vdGgnfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIXJ1bGVzRGF0YS5oaWRlQmFyQXJyb3cpIHsKICAgICAgICAgICAgcGFnZVRleHQuaW5zZXJ0QmVmb3JlKHByZUJ0biwgcGFnZVRleHQuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgIHBhZ2VUZXh0Lmluc2VydEJlZm9yZShuZXh0QnRuLCBwYWdlVGV4dC5maXJzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgcGFnZUJhci5hcHBlbmRDaGlsZChkb3duU3Bhbik7CiAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT0gMikgewogICAgICAgICAgICBwYWdlQmFyLnN0eWxlLndpZHRoID0gIjk5JSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGV0IHBhcmVudFN0eWxlID0gX3Vuc2FmZVdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGV4YW1wbGUucGFyZW50Tm9kZSk7CiAgICAgICAgICAgIGxldCBwYXJlbnRXaWR0aCA9IGV4YW1wbGUucGFyZW50Tm9kZS5vZmZzZXRXaWR0aCB8fCBwYXJzZUludChwYXJlbnRTdHlsZS53aWR0aCk7CiAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUud2lkdGggPSBwYXJlbnRXaWR0aCAtIHBhcnNlSW50KHBhcmVudFN0eWxlLnBhZGRpbmdMZWZ0KSAtIHBhcnNlSW50KHBhcmVudFN0eWxlLnBhZGRpbmdSaWdodCkgLSAxMCArICJweCI7CiAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUubWFyZ2luID0gJzEwcHggNXB4JzsKICAgICAgICAgICAgaWYgKHBhcmVudFN0eWxlLmRpc3BsYXkgPT0gImdyaWQiIHx8IHBhcmVudFN0eWxlLmRpc3BsYXkgPT0gImlubGluZS1ncmlkIikgewogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5ncmlkQ29sdW1uID0gIjEvLTEiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpblRhYmxlKSB7CiAgICAgICAgICAgICAgICBleGFtcGxlID0gKC9eKFRSfFRCT0RZKSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpKSA/IGV4YW1wbGUgOiBleGFtcGxlLm5leHRFbGVtZW50U2libGluZyB8fCBleGFtcGxlOwogICAgICAgICAgICAgICAgaWYgKC9eVEJPRFkkL2kudGVzdChleGFtcGxlLm5vZGVOYW1lKSkgZXhhbXBsZSA9IGV4YW1wbGUucXVlcnlTZWxlY3RvcigidHIiKTsKICAgICAgICAgICAgICAgIGxldCBuZXh0VHIgPSBleGFtcGxlOwogICAgICAgICAgICAgICAgd2hpbGUgKG5leHRUciAmJiBuZXh0VHIuY2hpbGRyZW4ubGVuZ3RoID09IDApIG5leHRUciA9IG5leHRUci5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICBpZiAobmV4dFRyKSBleGFtcGxlID0gbmV4dFRyOwogICAgICAgICAgICAgICAgbGV0IHRkTnVtID0gMDsKICAgICAgICAgICAgICAgIGlmIChleGFtcGxlU3R5bGUuZGlzcGxheSA9PSAidGFibGUtcm93IikgewogICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChleGFtcGxlLmNoaWxkcmVuLCBlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRkTnVtICs9IGVsLmNvbFNwYW4gfHwgMTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGV4YW1wbGUuY2hpbGRyZW4sIGVsID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKFREfFRIKSQvaS50ZXN0KGVsLm5vZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGROdW0gKz0gZWwuY29sU3BhbiB8fCAxOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLmNzc1RleHQgPSAiIjsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUuZGlzcGxheSA9ICJ0YWJsZS1yb3ciOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAidW5zZXQiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5saW5lSGVpZ2h0ID0gIjIwcHgiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5ib3hTaGFkb3cgPSAiIjsKICAgICAgICAgICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICB0ZC5jb2xTcGFuID0gdGROdW0gfHwgMTsKICAgICAgICAgICAgICAgIGxldCBpblRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLmNzc1RleHQgPSBwYWdlQmFyU3R5bGU7CiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgICAgIGluVGQuY2xhc3NOYW1lID0gcGFnZUJhci5jbGFzc05hbWU7CiAgICAgICAgICAgICAgICBwYWdlQmFyLmNsYXNzTmFtZSA9ICIiOwogICAgICAgICAgICAgICAgaW5UZC5hcHBlbmRDaGlsZCh1cFNwYW4pOwogICAgICAgICAgICAgICAgaW5UZC5hcHBlbmRDaGlsZChwYWdlVGV4dCk7CiAgICAgICAgICAgICAgICBpZiAocGFnZU51bSkgaW5UZC5hcHBlbmRDaGlsZChwYWdlTnVtKTsKICAgICAgICAgICAgICAgIGluVGQuYXBwZW5kQ2hpbGQoZG93blNwYW4pOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoaW5UZCk7CiAgICAgICAgICAgICAgICBwYWdlQmFyLmFwcGVuZENoaWxkKHRkKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbkxpKSB7CiAgICAgICAgICAgICAgICBleGFtcGxlID0gL15MSSQvaS50ZXN0KGV4YW1wbGUubm9kZU5hbWUpID8gZXhhbXBsZSA6IGV4YW1wbGUubmV4dEVsZW1lbnRTaWJsaW5nIHx8IGV4YW1wbGU7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLm9wYWNpdHkgPSAxOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5kaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZShleGFtcGxlKS5kaXNwbGF5OwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAidW5zZXQiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5saW5lSGVpZ2h0ID0gIjIwcHgiOwogICAgICAgICAgICAgICAgcGFnZUJhci5zdHlsZS5ib3hTaGFkb3cgPSAiIjsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUuYm9yZGVyID0gIiI7CiAgICAgICAgICAgICAgICBwYWdlQmFyLnN0eWxlLm1heFdpZHRoID0gInVuc2V0IjsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuc3R5bGUuZmxleCA9ICJhdXRvIjsKICAgICAgICAgICAgICAgIGxldCBpblRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLmNzc1RleHQgPSBwYWdlQmFyU3R5bGU7CiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUubWFyZ2luID0gIjAiCiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLnBhZGRpbmcgPSAiMCAwIjsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUudGV4dEFsaWduID0gImNlbnRlciI7CiAgICAgICAgICAgICAgICBpblRkLnN0eWxlLm1pbldpZHRoID0gIjE1MHB4IjsKICAgICAgICAgICAgICAgIGluVGQuc3R5bGUud2lkdGggPSAnY2FsYygxMDAlIC0gMjBweCknOwogICAgICAgICAgICAgICAgaW5UZC5jbGFzc05hbWUgPSBwYWdlQmFyLmNsYXNzTmFtZTsKICAgICAgICAgICAgICAgIHBhZ2VCYXIuY2xhc3NOYW1lID0gIiI7CiAgICAgICAgICAgICAgICBpblRkLmFwcGVuZENoaWxkKHVwU3Bhbik7CiAgICAgICAgICAgICAgICBpblRkLmFwcGVuZENoaWxkKHBhZ2VUZXh0KTsKICAgICAgICAgICAgICAgIGlmIChwYWdlTnVtKSBpblRkLmFwcGVuZENoaWxkKHBhZ2VOdW0pOwogICAgICAgICAgICAgICAgaW5UZC5hcHBlbmRDaGlsZChkb3duU3Bhbik7CiAgICAgICAgICAgICAgICBpZiAocGFnZUJhci5zdHlsZS5kaXNwbGF5ID09PSAndGFibGUtcm93JykgewogICAgICAgICAgICAgICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgICAgICAgICAgdGQuY29sU3BhbiA9IGV4YW1wbGUuY2hpbGRyZW4ubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGluVGQpOwogICAgICAgICAgICAgICAgICAgIHBhZ2VCYXIuYXBwZW5kQ2hpbGQodGQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpblRkLnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgICAgICAgICAgICAgICAgIHBhZ2VCYXIuYXBwZW5kQ2hpbGQoaW5UZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHVwU3Bhbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH0pOwogICAgICAgIGRvd25TcGFuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICAgICAgICAgIGlmICghZS5hbHRLZXkgJiYgIWUuY3RybEtleSAmJiAhZS5zaGlmdEtleSAmJiAhZS5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICBjaGFuZ2VTdG9wKHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhZ2VCYXIudGl0bGUgPSBpMThuKGlzUGF1c2UgPyAiZW5hYmxlIiA6ICJkaXNhYmxlIik7CiAgICAgICAgICAgIHNjcm9sbEg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsSGVpZ2h0KTsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gc2Nyb2xsSCB8fCA5OTk5OTk5OwogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsSCB8fCA5OTk5OTk5OwogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgICAgcGFnZUJhci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgICAgICAgICBjaGFuZ2VTdG9wKCFpc1BhdXNlKTsKICAgICAgICAgICAgcGFnZUJhci50aXRsZSA9IGkxOG4oaXNQYXVzZSA/ICJlbmFibGUiIDogImRpc2FibGUiKTsKICAgICAgICB9KTsKICAgICAgICBydWxlUGFyc2VyLmluc2VydEVsZW1lbnQocGFnZUJhcik7CiAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUJhciAmJiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VCYXIgIT09IDApIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlQmFyID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJwYWdlQmFyIiwnInVzZSBzdHJpY3QiOycgKyBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VCYXIpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VCYXIpKHBhZ2VCYXIpOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFnZUJhcjsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yRWxlbWVudChzZWwsIGRvYykgewogICAgICAgIGlmICghc2VsKSByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgbGV0IGNoZWNrSW52ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGdldEVsZW1lbnQoc2VsLCBkb2MsIG51bGwsIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnYpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBjbGlja0FjdGlvbihzZWwsIGRvYykgewogICAgICAgIGxldCBidG4gPSBhd2FpdCB3YWl0Rm9yRWxlbWVudChzZWwsIGRvYyk7CiAgICAgICAgZW11Q2xpY2soYnRuKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBlbnRlckFjdGlvbihzZWwsIGRvYykgewogICAgICAgIGxldCBidG4gPSBhd2FpdCB3YWl0Rm9yRWxlbWVudChzZWwsIGRvYyk7CiAgICAgICAgbGV0IGV2ZW50UGFyYW0gPSB7IGtleTogIkVudGVyIiwga2V5Q29kZTogMTMsIGJ1YmJsZXM6IHRydWUgfTsKICAgICAgICBsZXQgZXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIGV2ZW50UGFyYW0pOwogICAgICAgIGJ0bi5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICBldmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXl1cCcsIGV2ZW50UGFyYW0pOwogICAgICAgIGJ0bi5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICBldmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlwcmVzcycsIGV2ZW50UGFyYW0pOwogICAgICAgIGJ0bi5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBpbnB1dEFjdGlvbihzZWwsIHYsIGRvYykgewogICAgICAgIGxldCBpbnB1dCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KHNlbCwgZG9jKTsKICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ2ZvY3VzJywgeyBidWJibGVzOiB0cnVlIH0pOwogICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgIGxldCBsYXN0VmFsdWUgPSBpbnB1dC52YWx1ZTsKICAgICAgICBpZiAoaW5wdXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAiSU5QVVQiKSB7CiAgICAgICAgICAgIHZhciBuYXRpdmVJbnB1dFZhbHVlU2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUsICJ2YWx1ZSIpLnNldDsKICAgICAgICAgICAgbmF0aXZlSW5wdXRWYWx1ZVNldHRlci5jYWxsKGlucHV0LCB2KTsKICAgICAgICB9IGVsc2UgaWYgKGlucHV0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIlRFWFRBUkVBIikgewogICAgICAgICAgICB2YXIgbmF0aXZlVGV4dGFyZWFWYWx1ZVNldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLCAidmFsdWUiKS5zZXQ7CiAgICAgICAgICAgIG5hdGl2ZVRleHRhcmVhVmFsdWVTZXR0ZXIuY2FsbChpbnB1dCwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5wdXQuaW5uZXJIVE1MID0gY3JlYXRlSFRNTCh2KTsKICAgICAgICB9CiAgICAgICAgZXZlbnQgPSBuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pOwogICAgICAgIGxldCB0cmFja2VyID0gaW5wdXQuX3ZhbHVlVHJhY2tlcjsKICAgICAgICBpZiAodHJhY2tlcikgewogICAgICAgICAgICB0cmFja2VyLnNldFZhbHVlKGxhc3RWYWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgICAgIGV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSk7CiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgZGVidWcoaW5wdXQsIGBpbnB1dCAke3NlbH1gKTsKICAgIH0KCiAgICBmdW5jdGlvbiBlbXVDbGljayhidG4pIHsKICAgICAgICBsZXQgY3VyU2Nyb2xsID0gZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgbGV0IG9yZ0hyZWYgPSBidG4uZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgaWYgKG9yZ0hyZWYgJiYgb3JnSHJlZi5yZXBsYWNlKGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lLCAiIikuaW5kZXhPZigiIyIpID09PSAwKSB7CiAgICAgICAgICAgIGxldCBoYXNoQWN0aW9uID0gZSA9PiB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgPSBjdXJTY3JvbGw7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gY3VyU2Nyb2xsOwogICAgICAgICAgICAgICAgYnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFzaEFjdGlvbiwgZmFsc2UpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYXNoQWN0aW9uLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIGlmICghUG9pbnRlckV2ZW50KSByZXR1cm4gYnRuLmNsaWNrKCk7CiAgICAgICAgbGV0IGV2ZW50UGFyYW0gPSB7CiAgICAgICAgICAgIGlzVHJ1c3RlZDogdHJ1ZSwKICAgICAgICAgICAgYWx0S2V5OiBmYWxzZSwKICAgICAgICAgICAgYXppbXV0aEFuZ2xlOiAwLAogICAgICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgICAgICBidXR0b246IDAsCiAgICAgICAgICAgIGJ1dHRvbnM6IDAsCiAgICAgICAgICAgIGNsaWVudFg6IDEsCiAgICAgICAgICAgIGNsaWVudFk6IDEsCiAgICAgICAgICAgIGNhbmNlbEJ1YmJsZTogZmFsc2UsCiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLAogICAgICAgICAgICBjdHJsS2V5OiBmYWxzZSwKICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2UsCiAgICAgICAgICAgIGRldGFpbDogMSwKICAgICAgICAgICAgZXZlbnRQaGFzZTogMiwKICAgICAgICAgICAgZnJvbUVsZW1lbnQ6IG51bGwsCiAgICAgICAgICAgIGhlaWdodDogMSwKICAgICAgICAgICAgaXNQcmltYXJ5OiBmYWxzZSwKICAgICAgICAgICAgbWV0YUtleTogZmFsc2UsCiAgICAgICAgICAgIHBvaW50ZXJJZDogMSwKICAgICAgICAgICAgcG9pbnRlclR5cGU6ICJtb3VzZSIsCiAgICAgICAgICAgIHByZXNzdXJlOiAwLAogICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBudWxsLAogICAgICAgICAgICByZXR1cm5WYWx1ZTogdHJ1ZSwKICAgICAgICAgICAgc2hpZnRLZXk6IGZhbHNlLAogICAgICAgICAgICB0b0VsZW1lbnQ6IG51bGwsCiAgICAgICAgICAgIHR3aXN0OiAwLAogICAgICAgICAgICB3aGljaDogMQogICAgICAgIH07CiAgICAgICAgbGV0IG1vdXNlRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KCJtb3VzZWRvd24iLCBldmVudFBhcmFtKTsKICAgICAgICBidG4uZGlzcGF0Y2hFdmVudChtb3VzZUV2ZW50KTsKICAgICAgICBtb3VzZUV2ZW50ID0gbmV3IFBvaW50ZXJFdmVudCgibW91c2V1cCIsIGV2ZW50UGFyYW0pOwogICAgICAgIGJ0bi5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpOwogICAgICAgIGxldCBkaXNwYXRjaFRvdWNoRXZlbnQgPSAoZWxlLCB0eXBlKSA9PiB7CiAgICAgICAgICAgIGxldCB0b3VjaEV2ZW50OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdG91Y2hFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdUb3VjaEV2ZW50JykKICAgICAgICAgICAgICAgIHRvdWNoRXZlbnQuaW5pdFRvdWNoRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSkKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHRvdWNoRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnVUlFdmVudCcpCiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudC5pbml0VUlFdmVudCh0eXBlLCB0cnVlLCB0cnVlKQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpCiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudC5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodG91Y2hFdmVudCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0b3VjaEV2ZW50LnRhcmdldFRvdWNoZXMgPSBbewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlWDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogYnRuCiAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICAgICAgdG91Y2hFdmVudC50b3VjaGVzID0gW3sKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRYOiAxLAogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiAxLAogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGJ0bgogICAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgICAgIHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXMgPSBbewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlWDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFk6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogYnRuCiAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgICAgICAgICAgICBlbGUuZGlzcGF0Y2hFdmVudCh0b3VjaEV2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkaXNwYXRjaFRvdWNoRXZlbnQoYnRuLCAidG91Y2hzdGFydCIpOwogICAgICAgIGRpc3BhdGNoVG91Y2hFdmVudChidG4sICJ0b3VjaGVuZCIpOwoKICAgICAgICBidG4uY2xpY2soKTsKICAgIH0KCiAgICB2YXIgZmFpbEZyb21JZnJhbWUgPSAwOwogICAgdmFyIGluQ29ycyA9IGZhbHNlOwogICAgdmFyIGNoZWNrUmVtb3ZlSW50djsKICAgIGZ1bmN0aW9uIHJlcXVlc3RGcm9tSWZyYW1lKHVybCwgY2FsbGJhY2spewogICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgJiYgIS9eaHR0cHM6Ly50ZXN0KHVybCkpIHsKICAgICAgICAgICAgc2hvd1RpcHMoaTE4bigibm9WYWxpZENvbnRlbnQiKSwgdXJsKTsKICAgICAgICB9CiAgICAgICAgdXJsID0gdXJsLmluZGV4T2YoJz0nKSA9PSAtMSA/IHVybC5yZXBsYWNlKC8jW14jXSovLCIiKSA6IHVybDsKICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgaWZyYW1lLm5hbWUgPSAncGFnZXR1YWwtaWZyYW1lJzsKICAgICAgICBpZnJhbWUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgaWZyYW1lLmhlaWdodCA9ICcxMDAwJzsKICAgICAgICBpZnJhbWUuZnJhbWVCb3JkZXIgPSAnMCc7CiAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2FuZGJveCAhPSBmYWxzZSkgewogICAgICAgICAgICBpZnJhbWUuc2FuZGJveCA9ICJhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXBvcHVwcyBhbGxvdy1mb3JtcyI7CiAgICAgICAgfQogICAgICAgIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gJ21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3Zpc2liaWxpdHk6aGlkZGVuIWltcG9ydGFudDtmbGV4OjA7b3BhY2l0eTowIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZDt0b3A6MHB4O2xlZnQ6MHB4O3otaW5kZXg6LTIxNDc0ODM2NDc7JzsKICAgICAgICBsZXQgd2FpdFRpbWUgPSAxMDAsIGNoZWNrRXZhbDsKICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0RWxlbWVudCkgewogICAgICAgICAgICBjaGVja0V2YWwgPSBkb2MgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGVQYXJzZXIud2FpdEVsZW1lbnQoZG9jKTsKICAgICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdCkgewogICAgICAgICAgICBpZiAoaXNOYU4ocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0KSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjaGVja0V2YWwgPSAodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxXYWl0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCcidXNlIHN0cmljdCI7JyArIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdCkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsV2FpdDsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2FpdFRpbWUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNoZWNrUmVtb3ZlSW50dikgY2xlYXJJbnRlcnZhbChjaGVja1JlbW92ZUludHYpOwogICAgICAgIGNoZWNrUmVtb3ZlSW50diA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgaWYgKCFpZnJhbWUgfHwgIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKGlmcmFtZSkpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tSZW1vdmVJbnR2KTsKICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgICBsZXQgbG9hZGVkSGFuZGxlciA9IGUgPT4gewogICAgICAgICAgICBpZiAoZS5kYXRhICE9ICdwYWdldHVhbC1pZnJhbWU6RE9NTG9hZGVkJyAmJiBlLnR5cGUgIT0gJ2xvYWQnKSByZXR1cm47CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tSZW1vdmVJbnR2KTsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsb2FkZWRIYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIGlmcmFtZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgbG9hZGVkSGFuZGxlciwgZmFsc2UpOwogICAgICAgICAgICBsZXQgdHJ5VGltZXMgPSAwOwogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0lmcmFtZSgpIHsKICAgICAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkIHx8IGlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRvYyA9IGlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgbGV0IGJhc2UgPSBkb2MucXVlcnlTZWxlY3RvcigiYmFzZSIpOwogICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuYmFzZVBhdGggPSBiYXNlID8gYmFzZS5ocmVmIDogdXJsOwogICAgICAgICAgICAgICAgICAgIGxldCBlbGVzID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChkb2MsIGlmcmFtZS5jb250ZW50V2luZG93LCB0cnlUaW1lcyA8IDEwKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tFdmFsICYmICFjaGVja0V2YWwoZG9jKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSWZyYW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlcyAmJiBlbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZG9jLCBlbGVzKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyeVRpbWVzKysgPCAxMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0lmcmFtZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbEZyb21JZnJhbWUrKyA+IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxGcm9tSWZyYW1lID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIGZhaWxGcm9tSWZyYW1lIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhpMThuKCJub1ZhbGlkQ29udGVudCIpLCB1cmwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGluQ29ycyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlU3RhdGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoIlN0b3AgYXMgY29ycyIpOwogICAgICAgICAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnQgPSBhbGxPZkJvZHk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuZ2V0SW5zZXJ0KHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmFjdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5uZXh0TGlua0hyZWYgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUucGFyZW50Tm9kZSkgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNoZWNrSWZyYW1lKCk7CiAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICB9OwogICAgICAgIGxldCBjb2RlID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pZnJhbWVJbml0OwogICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgIGxldCBjaGVja1JlYWR5ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGRvYzsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZG9jID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCAoaWZyYW1lLmNvbnRlbnRXaW5kb3cgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24oJ3dpbicsICdpZnJhbWUnLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKShpZnJhbWUuY29udGVudFdpbmRvdywgaWZyYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgfQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbG9hZGVkSGFuZGxlciwgZmFsc2UpOwogICAgICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgbG9hZGVkSGFuZGxlciwgZmFsc2UpOwogICAgICAgIGlmcmFtZS5zcmMgPSB1cmw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmYWxzZSwgZmFsc2UpOwogICAgICAgIH0KICAgIH0KCiAgICB2YXIgZW11SWZyYW1lLCBsYXN0QWN0aXZlVXJsLCBvcmdDb250ZW50LCBtZWV0Q29ycyA9IGZhbHNlOwogICAgZnVuY3Rpb24gZW11UGFnZShjYWxsYmFjaykgewogICAgICAgIGxldCBvcmdQYWdlID0gbnVsbCwgcHJlQ29udGVudCA9IG51bGwsIGlmcmFtZURvYywgY2hlY2tUaW1lcyA9IDAsIGxvYWRtb3JlQnRuLCBwYWdlRWxlLCBuZXh0TGluaywgbG9hZG1vcmVFbmQgPSBmYWxzZSwgd2FpdFRpbWVzID0gODAsIGNoYW5nZWQgPSBmYWxzZTsKICAgICAgICBmdW5jdGlvbiByZXR1cm5GYWxzZShsb2cpIHsKICAgICAgICAgICAgZGVidWcobG9nKTsKICAgICAgICAgICAgaXNQYXVzZSA9IHRydWU7CiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChlbXVJZnJhbWUgJiYgZW11SWZyYW1lLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgIGVtdUlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVtdUlmcmFtZSk7CiAgICAgICAgICAgICAgICBzaWRlQ29udHJvbGxlci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGVtdUlmcmFtZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY2hlY2tQYWdlKCkgewogICAgICAgICAgICBpZiAoaXNQYXVzZSkgcmV0dXJuIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWZyYW1lRG9jID0gZW11SWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBlbXVJZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm5GYWxzZSgiU3RvcCBhcyBjb3JzIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCB3YWl0VGltZSA9IDIwMCwgY2hlY2tFdmFsOwogICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS53YWl0RWxlbWVudCkgewogICAgICAgICAgICAgICAgY2hlY2tFdmFsID0gZG9jID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVsZVBhcnNlci53YWl0RWxlbWVudChkb2MpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBlbHNlIGlmKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdCkgewogICAgICAgICAgICAgICAgaWYgKGlzTmFOKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUud2FpdCkpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0V2YWwgPSAodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxXYWl0ID09ICd1bmRlZmluZWQnKSA/IEZ1bmN0aW9uKCJkb2MiLCAnInVzZSBzdHJpY3QiOycgKyBydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXQpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFdhaXQ7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLndhaXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghb3JnUGFnZSkgewogICAgICAgICAgICAgICAgaWYgKCFsb2FkbW9yZUVuZCkgewogICAgICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0TG9hZE1vcmUoaWZyYW1lRG9jKTsKICAgICAgICAgICAgICAgICAgICBpZiAobG9hZG1vcmVCdG4gJiYgaXNWaXNpYmxlKGxvYWRtb3JlQnRuLCBlbXVJZnJhbWUuY29udGVudFdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2sobG9hZG1vcmVCdG4pOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW50diA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRtb3JlQnRuID0gZ2V0TG9hZE1vcmUoaWZyYW1lRG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9hZG1vcmVCdG4gfHwgIWdldEJvZHkoZG9jdW1lbnQpLmNvbnRhaW5zKGxvYWRtb3JlQnRuKSB8fCAhaXNWaXNpYmxlKGxvYWRtb3JlQnRuLCBlbXVJZnJhbWUuY29udGVudFdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludHYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRtb3JlRW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNJblZpZXdQb3J0KGxvYWRtb3JlQnRuKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtdUNsaWNrKGxvYWRtb3JlQnRuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRtb3JlRW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoY2hlY2tFdmFsICYmICFjaGVja0V2YWwoaWZyYW1lRG9jKSkgewogICAgICAgICAgICAgICAgICAgIHdhaXRUaW1lcyA9IDUwOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRMaW5rIHx8ICFuZXh0TGluay5vZmZzZXRQYXJlbnQpIG5leHRMaW5rID0gYXdhaXQgcnVsZVBhcnNlci5nZXROZXh0TGluayhpZnJhbWVEb2MpOwogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGluaykgcGFnZUVsZSA9IHJ1bGVQYXJzZXIuZ2V0UGFnZUVsZW1lbnQoaWZyYW1lRG9jLCBlbXVJZnJhbWUuY29udGVudFdpbmRvdywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWdlRWxlIHx8IHBhZ2VFbGUubGVuZ3RoID09IDAgfHwgIW5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3YWl0VGltZXMtLSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgd2FpdFRpbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFwYWdlRWxlIHx8IHBhZ2VFbGUubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm5GYWxzZSgiU3RvcCBhcyBubyBwYWdlIHdoZW4gZW11Iik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC9eVUwkL2kudGVzdChwYWdlRWxlWzBdLm5vZGVOYW1lKSkgcGFnZUVsZSA9IHBhZ2VFbGVbMF0uY2hpbGRyZW47CiAgICAgICAgICAgICAgICBwYWdlRWxlID0gcGFnZUVsZVtwYXJzZUludCgocGFnZUVsZS5sZW5ndGggLSAxKSAvIDIpXTsKICAgICAgICAgICAgICAgIHdoaWxlKHBhZ2VFbGUgJiYgKChwYWdlRWxlLnNjcm9sbEhlaWdodCAmJiBwYWdlRWxlLnNjcm9sbEhlaWdodCA8IDUwKSB8fCAhcGFnZUVsZS5vZmZzZXRQYXJlbnQgfHwgKCEvXklNRyQvaS50ZXN0KHBhZ2VFbGUubm9kZU5hbWUpICYmICFwYWdlRWxlLmlubmVySFRNTC50cmltKCkpKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlLm5leHRFbGVtZW50U2libGluZykgcGFnZUVsZSA9IHBhZ2VFbGUubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIGVsc2UgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgJiYgb3JnQ29udGVudCAhPSBwYWdlRWxlLmlubmVySFRNTCkgewogICAgICAgICAgICAgICAgICAgIG9yZ0NvbnRlbnQgPSBwYWdlRWxlLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICBpZiAod2FpdFRpbWVzLS0gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9yZ1BhZ2UgPSBwYWdlRWxlOwogICAgICAgICAgICAgICAgaWYgKG5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9eSU1HJC9pLnRlc3Qob3JnUGFnZS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFydWxlUGFyc2VyLmN1clNpdGVSdWxlLmxhenlJbWdTcmMpIHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUubGF6eUltZ1NyYyA9ICIwIjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZ1BhZ2Uuc3JjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdDb250ZW50ID0gb3JnUGFnZS5zcmM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvcmdDb250ZW50ID0gb3JnUGFnZS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHByZUNvbnRlbnQgPSBvcmdDb250ZW50OwogICAgICAgICAgICAgICAgICAgIGlmICghaXNWaXNpYmxlKG5leHRMaW5rLCBlbXVJZnJhbWUuY29udGVudFdpbmRvdykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmFsc2UoIlN0b3AgYXMgbmV4dCBoaWRlIHdoZW4gZW11Iik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2sobmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmFsc2UoIlN0b3AgYXMgbm8gbmV4dCB3aGVuIGVtdSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcnVsZVBhcnNlci5jaGVja1N0b3BTaWduKG5leHRMaW5rLCBpZnJhbWVEb2MpKSByZXR1cm4gcmV0dXJuRmFsc2UoIlN0b3AgYXMgc3RvcFNpZ24iKTs7CiAgICAgICAgICAgIGlmIChjaGVja1RpbWVzKysgPiAyMDApIHsKICAgICAgICAgICAgICAgIHJldHVybkZhbHNlKCJTdG9wIGFzIHRpbWVvdXQgd2hlbiBlbXUiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZWxlcyA9IHJ1bGVQYXJzZXIuZ2V0UGFnZUVsZW1lbnQoaWZyYW1lRG9jLCBlbXVJZnJhbWUuY29udGVudFdpbmRvdywgdHJ1ZSksIGNoZWNrSXRlbTsKICAgICAgICAgICAgaWYgKGVsZXMgJiYgZWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjaGVja0l0ZW0gPSBlbGVzOwogICAgICAgICAgICAgICAgaWYgKC9eVUwkL2kudGVzdChlbGVzWzBdLm5vZGVOYW1lKSkgY2hlY2tJdGVtID0gZWxlc1swXS5jaGlsZHJlbjsKICAgICAgICAgICAgICAgIGNoZWNrSXRlbSA9IGNoZWNrSXRlbVtwYXJzZUludCgoY2hlY2tJdGVtLmxlbmd0aCAtIDEpIC8gMildOwogICAgICAgICAgICAgICAgd2hpbGUoY2hlY2tJdGVtICYmICgoY2hlY2tJdGVtLnNjcm9sbEhlaWdodCAmJiBjaGVja0l0ZW0uc2Nyb2xsSGVpZ2h0IDwgNTApIHx8ICFjaGVja0l0ZW0ub2Zmc2V0UGFyZW50IHx8ICghL15JTUckL2kudGVzdChjaGVja0l0ZW0ubm9kZU5hbWUpICYmICFjaGVja0l0ZW0uaW5uZXJIVE1MLnRyaW0oKSkpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrSXRlbS5uZXh0RWxlbWVudFNpYmxpbmcpIGNoZWNrSXRlbSA9IGNoZWNrSXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWNoZWNrSXRlbSB8fCAoY2hlY2tFdmFsICYmICFjaGVja0V2YWwoaWZyYW1lRG9jKSkpIHsKICAgICAgICAgICAgICAgIGlmIChjaGVja0V2YWwpIGNoZWNrVGltZXMgPSAwOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tQYWdlKCk7CiAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgY2hlY2tJbm5lcjsKICAgICAgICAgICAgICAgIGlmICgvXklNRyQvaS50ZXN0KGNoZWNrSXRlbS5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tJdGVtLnNyYykgewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0lubmVyID0gY2hlY2tJdGVtLnNyYzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNoZWNrSW5uZXIgPSBjaGVja0l0ZW0uaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG9yZ1BhZ2UgIT0gY2hlY2tJdGVtIHx8IGNoZWNrSW5uZXIgIT0gcHJlQ29udGVudCkgewogICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIG9yZ1BhZ2UgPSBjaGVja0l0ZW07CiAgICAgICAgICAgICAgICAgICAgcHJlQ29udGVudCA9IGNoZWNrSW5uZXI7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIHdhaXRUaW1lKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZCkgewogICAgICAgICAgICAgICAgICAgIGNoZWNrVGltZXMgPSAwOwogICAgICAgICAgICAgICAgICAgIGlmIChvcmdDb250ZW50ID09IHByZUNvbnRlbnQgJiYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsIHx8IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc3RvcFNhbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZhbHNlKCJTdG9wIGFzIHNhbWUgY29udGVudCIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0NvbnRlbnQgPSBwcmVDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpZnJhbWVEb2MsIGVsZXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrVGltZXMgJSAxMCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRMaW5rIHx8ICFuZXh0TGluay5vZmZzZXRQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5rID0gYXdhaXQgcnVsZVBhcnNlci5nZXROZXh0TGluayhpZnJhbWVEb2MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGluaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW11Q2xpY2sobmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9LCB3YWl0VGltZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbXVJZnJhbWUpIHsKICAgICAgICAgICAgbGV0IGxvYWRlZCA9IGZhbHNlOwogICAgICAgICAgICBlbXVJZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgZW11SWZyYW1lLm5hbWUgPSAncGFnZXR1YWwtaWZyYW1lJzsKICAgICAgICAgICAgbGV0IG5vdFNldFNhbmRib3ggPSB0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zYW5kYm94ID09ICd1bmRlZmluZWQnOwogICAgICAgICAgICBpZiAobm90U2V0U2FuZGJveCB8fCBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNhbmRib3ggPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgZW11SWZyYW1lLnNhbmRib3ggPSAiYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy1wb3B1cHMgYWxsb3ctZm9ybXMiOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2FuZGJveCkgewogICAgICAgICAgICAgICAgZW11SWZyYW1lLnNhbmRib3ggPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNhbmRib3g7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZW11SWZyYW1lLndpZHRoID0gJzEwMCUnOwogICAgICAgICAgICBlbXVJZnJhbWUuaGVpZ2h0ID0gJzEwMCUnOwogICAgICAgICAgICBlbXVJZnJhbWUuZnJhbWVCb3JkZXIgPSAnMCc7CiAgICAgICAgICAgIGVtdUlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gJ21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O2ZsZXg6MDtvcGFjaXR5OjAhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3RvcDowcHg7bGVmdDowcHg7ei1pbmRleDotMjE0NzQ4MzY0NzsnOwogICAgICAgICAgICBlbXVJZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGUgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lRG9jID0gZW11SWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBlbXVJZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLm1lc3NhZ2UuaW5kZXhPZigiY3Jvc3Mtb3JpZ2luIikgIT0gLTEgJiYgbm90U2V0U2FuZGJveCAmJiBlbXVJZnJhbWUuaGFzQXR0cmlidXRlKCJzYW5kYm94IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtdUlmcmFtZS5yZW1vdmVBdHRyaWJ1dGUoInNhbmRib3giKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRDb3JzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GYWxzZSgiU3RvcCBhcyBjb3JzIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBtZWV0Q29ycyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pbml0OwogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXN5bmNGdW5jdGlvbignZG9jJywnd2luJywnaWZyYW1lJywnY2xpY2snLCAnZW50ZXInLCAnaW5wdXQnLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKShpZnJhbWVEb2MsIGVtdUlmcmFtZS5jb250ZW50V2luZG93LCBlbXVJZnJhbWUsIHNlbCA9PiB7Y2xpY2tBY3Rpb24oc2VsLCBpZnJhbWVEb2MpfSwgc2VsID0+IHtlbnRlckFjdGlvbihzZWwsIGlmcmFtZURvYyl9LCAoc2VsLCB2KSA9PntpbnB1dEFjdGlvbihzZWwsIHYsIGlmcmFtZURvYyl9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobG9hZGVkKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBsZXQgY29kZSA9IHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuaWZyYW1lSW5pdDsKICAgICAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgICAgIGxldCBjaGVja1JlYWR5ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZURvYyA9IGVtdUlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgKGVtdUlmcmFtZS5jb250ZW50V2luZG93ICYmIGVtdUlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoaWZyYW1lRG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbignd2luJywgJ2lmcmFtZScsICcidXNlIHN0cmljdCI7JyArIGNvZGUpKGVtdUlmcmFtZS5jb250ZW50V2luZG93LCBlbXVJZnJhbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja1JlYWR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWxhc3RBY3RpdmVVcmwpIGxhc3RBY3RpdmVVcmwgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICBlbXVJZnJhbWUuc3JjID0gbGFzdEFjdGl2ZVVybDsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQoZW11SWZyYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoZW11SWZyYW1lLnNyYyAhPSBsYXN0QWN0aXZlVXJsIHx8IG1lZXRDb3JzKSB7CiAgICAgICAgICAgICAgICBlbXVJZnJhbWUuc3JjID0gbGFzdEFjdGl2ZVVybDsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjaGVja1BhZ2UoKTsKICAgICAgICB9CiAgICB9CgogICAgdmFyIHNjcm9sbFRvUmVzaXplSW5pdGVkID0gZmFsc2U7CiAgICB2YXIgcmVzaXplUG9vbCA9IFtdOwogICAgdmFyIHNjcm9sbGluZ1RvUmVzaXplID0gZmFsc2U7CgogICAgZnVuY3Rpb24gaXNUb3VjaFZpZXdQb3J0KGVsZW1lbnQpIHsKICAgICAgICBjb25zdMKgdmlld1dpZHRowqA9wqB3aW5kb3cuaW5uZXJXaWR0aMKgfHzCoGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgICBjb25zdMKgdmlld0hlaWdodMKgPcKgd2luZG93LmlubmVySGVpZ2h0wqB8fMKgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICBjb25zdMKgewogICAgICAgICAgICB0b3AsCiAgICAgICAgICAgIHJpZ2h0LAogICAgICAgICAgICBib3R0b20sCiAgICAgICAgICAgIGxlZnQsCiAgICAgICAgfcKgPcKgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgcmV0dXJuwqAoCiAgICAgICAgICAgIHRvcMKgPMKgdmlld0hlaWdodMKgJiYKICAgICAgICAgICAgbGVmdMKgPMKgdmlld1dpZHRowqAmJgogICAgICAgICAgICByaWdodMKgPsKgMMKgJiYKICAgICAgICAgICAgYm90dG9twqA+wqAwCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXNpemVJZnJhbWUoaWZyYW1lLCBmcmFtZURvYywgcGFnZUVsZSkgewogICAgICAgIGxldCBjdXJTY3JvbGwgPSBnZXRCb2R5KGRvY3VtZW50KS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICBpZiAocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5zaW5nbGVVcmwgfHwgZm9yY2VTdGF0ZSA9PT0gMikgewogICAgICAgICAgICBsZXQgaGVpZ2h0ID0gKGdldEJvZHkoZnJhbWVEb2MpLnNjcm9sbEhlaWdodCB8fCBnZXRCb2R5KGZyYW1lRG9jKS5vZmZzZXRIZWlnaHQgfHwgNTAwKTsKICAgICAgICAgICAgaWYgKCFpZnJhbWUuc3R5bGUuaGVpZ2h0IHx8IGhlaWdodCAtIHBhcnNlSW50KGlmcmFtZS5zdHlsZS5oZWlnaHQpID4gNTApIHsKICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAicHgiOwogICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLm1pbkhlaWdodCA9IGlmcmFtZS5zdHlsZS5oZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgICAgICBmcmFtZURvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgZnJhbWVEb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChwYWdlRWxlKSB7CiAgICAgICAgICAgICAgICBsZXQgZml0V2lkdGggPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmZpdFdpZHRoICE9PSBmYWxzZTsKICAgICAgICAgICAgICAgIGxldCB0YXJnZXRFbGVtZW50ID0gcGFnZUVsZVswXTsKICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0RWxlbWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGUubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsSGVpZ2h0ID0gdGFyZ2V0RWxlbWVudC5zY3JvbGxIZWlnaHQgfHwgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgNTAwOwogICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IHNjcm9sbEhlaWdodCArICJweCI7CiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gMCwgc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgICAgICAgICBnZXRCb2R5KGZyYW1lRG9jKS5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICAgICAgZ2V0Qm9keShmcmFtZURvYykuc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgICAgICAgICB3aGlsZSAodGFyZ2V0RWxlbWVudCAmJiB0YXJnZXRFbGVtZW50Lm9mZnNldFBhcmVudCkgewogICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0UGFyZW50LnNjcm9sbFRvcCA9IHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50Lm9mZnNldFBhcmVudC5zY3JvbGxUb3AgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgKz0gdGFyZ2V0RWxlbWVudC5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChmaXRXaWR0aCkgewogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50Lm9mZnNldFBhcmVudC5zY3JvbGxMZWZ0ID0gdGFyZ2V0RWxlbWVudC5vZmZzZXRMZWZ0OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5vZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ICs9IHRhcmdldEVsZW1lbnQub2Zmc2V0TGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0RWxlbWVudC5vZmZzZXRQYXJlbnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmcmFtZURvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgZnJhbWVEb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0OwogICAgICAgICAgICAgICAgaWYgKGZyYW1lRG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPT0gMCAmJiBmcmFtZURvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZ2V0Qm9keShmcmFtZURvYykuc2Nyb2xsVG9wICs9IHNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICBnZXRCb2R5KGZyYW1lRG9jKS5zY3JvbGxMZWZ0ICs9IHNjcm9sbExlZnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWZpdFdpZHRoICYmIGlmcmFtZS5zdHlsZS5tYXJnaW5MZWZ0ID09ICcwcHgnKSB7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gIjEwMHZ3IjsKICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubWF4V2lkdGggPSAiMTAwdnciOwogICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5taW5XaWR0aCA9ICIxMDB2dyI7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgICAgICAgICAgICAgIHZhciBpV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubWFyZ2luTGVmdCA9IC1pZnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIChpV2lkdGggLSBjV2lkdGgpIC8gMiArICJweCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuc2Nyb2xsVG9wID0gY3VyU2Nyb2xsOwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBjdXJTY3JvbGw7CiAgICB9CgogICAgZnVuY3Rpb24gc2Nyb2xsVG9SZXNpemUoZSkgewogICAgICAgIGlmIChzY3JvbGxpbmdUb1Jlc2l6ZSkgcmV0dXJuOwogICAgICAgIGVsc2UgewogICAgICAgICAgICBzY3JvbGxpbmdUb1Jlc2l6ZSA9IHRydWU7CiAgICAgICAgICAgIGxldCByZXNpemVIYW5kbGVyID0gKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHRvdWNoZWQgPSAwOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiByZXNpemVQb29sKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc2l6ZUFyciA9IHJlc2l6ZVBvb2xbaV07CiAgICAgICAgICAgICAgICAgICAgbGV0IGlmcmFtZSA9IHJlc2l6ZUFyclsxXSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoVmlld1BvcnQoaWZyYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkKys7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlID0gcmVzaXplQXJyWzBdKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZURvYyA9IHJlc2l6ZUFyclsyXSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXNpemVJZnJhbWUoaWZyYW1lLCBmcmFtZURvYywgcGFnZUVsZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b3VjaGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaGVkID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlID0gcmVzaXplQXJyWzBdKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhbWVEb2MgPSByZXNpemVBcnJbMl0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZUlmcmFtZShpZnJhbWUsIGZyYW1lRG9jLCBwYWdlRWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpZnJhbWUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXNpemVQb29sLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHNjcm9sbGluZ1RvUmVzaXplID0gZmFsc2U7CiAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZm9yY2VJZnJhbWUodXJsLCBjYWxsYmFjaykgewogICAgICAgIHVybCA9IHVybC5pbmRleE9mKCc9JykgPT0gLTEgPyB1cmwucmVwbGFjZSgvI1teI10qLywiIikgOiB1cmw7CiAgICAgICAgbGV0IGN1cklmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpLCBpZnJhbWVEb2MsIHBhZ2VFbGVtZW50ID0gbnVsbCwgaXNsb2FkZWQgPSBmYWxzZSwgaW5BY3Rpb24gPSB0cnVlOwogICAgICAgIGxldCBsb2FkZWRIYW5kbGVyID0gKCkgPT4gewogICAgICAgICAgICBsZXQgZ2V0UGFnZUVsZSA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNpbmdsZVVybCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGVtZW50IHx8IHBhZ2VFbGVtZW50Lmxlbmd0aCA9PT0gMCB8fCAhcGFnZUVsZW1lbnRbMF0ub2Zmc2V0UGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50ID0gcnVsZVBhcnNlci5nZXRQYWdlRWxlbWVudChpZnJhbWVEb2MsIGN1cklmcmFtZS5jb250ZW50V2luZG93KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXNpemVJZnJhbWUoY3VySWZyYW1lLCBpZnJhbWVEb2MsIGdldFBhZ2VFbGUoKSk7CiAgICAgICAgICAgIGlmIChpc2xvYWRlZCkgcmV0dXJuOwogICAgICAgICAgICBpc2xvYWRlZCA9IHRydWU7CiAgICAgICAgICAgIGxldCBnZXRJZnJhbWUgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VySWZyYW1lOwogICAgICAgICAgICB9OwogICAgICAgICAgICBsZXQgZ2V0RnJhbWVEb2MgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gaWZyYW1lRG9jOwogICAgICAgICAgICB9OwogICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydFBhZ2UoaWZyYW1lRG9jLCBbXSwgdXJsLCBlbGUgPT4gewogICAgICAgICAgICAgICAgY2FsbGJhY2soY3VySWZyYW1lKTsKICAgICAgICAgICAgICAgIGluQWN0aW9uID0gZmFsc2U7CiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICByZXNpemVQb29sLnB1c2goW2dldFBhZ2VFbGUsIGdldElmcmFtZSwgZ2V0RnJhbWVEb2NdKTsKICAgICAgICB9OwogICAgICAgIGxldCBjaGVja0lmcmFtZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBpZiAoIWN1cklmcmFtZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSWZyYW1lVGltZXIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGlzbG9hZGVkIHx8IGNhbGxiYWNrKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDUwMCk7CiAgICAgICAgbGV0IGNvZGUgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmlmcmFtZUluaXQ7CiAgICAgICAgaWYgKGNvZGUpIHsKICAgICAgICAgICAgbGV0IGNoZWNrUmVhZHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmcmFtZURvYyA9IGN1cklmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgKGN1cklmcmFtZS5jb250ZW50V2luZG93ICYmIGN1cklmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tSZWFkeSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGlmcmFtZURvYykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uKCd3aW4nLCAnaWZyYW1lJywgJyJ1c2Ugc3RyaWN0IjsnICsgY29kZSkoY3VySWZyYW1lLmNvbnRlbnRXaW5kb3csIGN1cklmcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tSZWFkeSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgNTApOwogICAgICAgIH0KICAgICAgICBjdXJJZnJhbWUubmFtZSA9ICdwYWdldHVhbC1pZnJhbWUnOwogICAgICAgIGN1cklmcmFtZS5zYW5kYm94ID0gImFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctcG9wdXBzIGFsbG93LWZvcm1zIjsKICAgICAgICBjdXJJZnJhbWUuZnJhbWVCb3JkZXIgPSAnMCc7CiAgICAgICAgY3VySWZyYW1lLnNjcm9sbGluZyA9ICJubyI7CiAgICAgICAgY3VySWZyYW1lLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogYmxvY2s7IHZpc2liaWxpdHk6IHZpc2libGU7IGZsb2F0OiBub25lOyBjbGVhcjogYm90aDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMDsgYmFja2dyb3VuZDogaW5pdGlhbDsgYm9yZGVyOiAwcHg7IGJvcmRlci1yYWRpdXM6IDBweDsgbWFyZ2luOiAwcHg7IHBhZGRpbmc6IDBweDsgei1pbmRleDogMjE0NzQ4MzY0Nztjb250ZW50LXZpc2liaWxpdHk6IGF1dG87Y29udGFpbi1pbnRyaW5zaWMtc2l6ZTogYXV0byAzMDBweDsnOwogICAgICAgIGN1cklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZSA9PiB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJZnJhbWVUaW1lcik7CiAgICAgICAgICAgIGlmIChpc1BhdXNlKSByZXR1cm4gY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWZyYW1lRG9jID0gY3VySWZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBjdXJJZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZygiU3RvcCBhcyBjb3JzIik7CiAgICAgICAgICAgICAgICBpc1BhdXNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgY3NzID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5jc3MgfHwgcnVsZXNEYXRhLmN1c3RvbUNzczsKICAgICAgICAgICAgaWYgKGNzcykgewogICAgICAgICAgICAgICAgbGV0IGNzc0FyciA9IGNzcy5zcGxpdCgiaW5JZnJhbWU6Iik7CiAgICAgICAgICAgICAgICBpZiAoY3NzQXJyICYmIGNzc0Fyci5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlRWxlID0gaWZyYW1lRG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgICAgICAgICAgICAgc3R5bGVFbGUuaW5uZXJIVE1MID0gY3NzQXJyWzFdOwogICAgICAgICAgICAgICAgICAgIGlmcmFtZURvYy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsb2FkZWRIYW5kbGVyKCk7CiAgICAgICAgICAgIGxldCBjb2RlID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pbml0OwogICAgICAgICAgICBpZiAoY29kZSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBuZXcgQXN5bmNGdW5jdGlvbignZG9jJywgJ3dpbicsICdpZnJhbWUnLCAnY2xpY2snLCAnZW50ZXInLCAnaW5wdXQnLCAnInVzZSBzdHJpY3QiOycgKyBjb2RlKShpZnJhbWVEb2MsIGN1cklmcmFtZS5jb250ZW50V2luZG93LCBjdXJJZnJhbWUsIHNlbCA9PiB7Y2xpY2tBY3Rpb24oc2VsLCBpZnJhbWVEb2MpfSwgc2VsID0+IHtlbnRlckFjdGlvbihzZWwsIGlmcmFtZURvYyl9LCAoc2VsLCB2KSA9PntpbnB1dEFjdGlvbihzZWwsIHYsIGlmcmFtZURvYyl9KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbGV0IGNoZWNrVGltZXMgPSAwLCBmaW5kUGFnZUVsZSA9IGZhbHNlOwogICAgICAgIGxldCBmb3JjZVJlZnJlc2ggPSBlID0+IHsKICAgICAgICAgICAgaWYgKGluQWN0aW9uIHx8ICFpZnJhbWVEb2MpIHJldHVybjsKICAgICAgICAgICAgaW5BY3Rpb24gPSB0cnVlOwogICAgICAgICAgICBsZXQgZm91bmROZXh0ID0gKCkgPT4gewogICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgZm9yY2VSZWZyZXNoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIGluQWN0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoIXJ1bGVQYXJzZXIubmV4dExpbmtIcmVmICYmICFpc1BhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tUaW1lcysrOwogICAgICAgICAgICAgICAgICAgIGF3YWl0IHJ1bGVQYXJzZXIuZ2V0TmV4dExpbmsoaWZyYW1lRG9jKTsKICAgICAgICAgICAgICAgICAgICBpZiAocnVsZVBhcnNlci5uZXh0TGlua0hyZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmROZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xvYWRpbmcpIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2tUaW1lcyA+PSAxMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZE5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrVGltZXMgPj0gMyAmJiAhZmluZFBhZ2VFbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWdlRWxlbWVudCkgcGFnZUVsZW1lbnQgPSBydWxlUGFyc2VyLmdldFBhZ2VFbGVtZW50KGlmcmFtZURvYywgY3VySWZyYW1lLmNvbnRlbnRXaW5kb3cpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkFjdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJZnJhbWUuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRQYWdlRWxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZm91bmROZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBmb3JjZVJlZnJlc2gpOwogICAgICAgIGN1cklmcmFtZS5zcmMgPSB1cmw7CiAgICAgICAgbGV0IGluc2VydCA9IHJ1bGVQYXJzZXIuZ2V0SW5zZXJ0KCk7CiAgICAgICAgbGV0IGN1clNjcm9sbCA9IGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgIGlmIChmb3JjZVN0YXRlID09IDIpIHsKICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7CiAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLmFwcGVuZENoaWxkKGN1cklmcmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcnVsZVBhcnNlci5pbnNlcnRFbGVtZW50KGN1cklmcmFtZSk7CiAgICAgICAgfQogICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnNjcm9sbFRvcCA9IGN1clNjcm9sbDsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gY3VyU2Nyb2xsOwoKICAgICAgICBpZiAoIXNjcm9sbFRvUmVzaXplSW5pdGVkKSB7CiAgICAgICAgICAgIHNjcm9sbFRvUmVzaXplSW5pdGVkID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgc2Nyb2xsVG9SZXNpemUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY3VySWZyYW1lOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvYWRQYWdlT3ZlcigpIHsKICAgICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBzdG9wU2Nyb2xsID0gdHJ1ZTsKICAgICAgICBsZXQgZGlzdCA9IGRpc3RUb0JvdHRvbSgpOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge3N0b3BTY3JvbGwgPSBmYWxzZX0sIDMwMCk7CiAgICAgICAgaWYgKGxvYWRpbmdEaXYucGFyZW50Tm9kZSkgewogICAgICAgICAgICBsb2FkaW5nRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGluZ0Rpdik7CiAgICAgICAgfQogICAgICAgIGxldCByYXRlID0gKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucmF0ZSB8fCBydWxlc0RhdGEucmF0ZSB8fCAxKTsKICAgICAgICBpZiAocmF0ZSAhPSAxICYmICFjbGlja01vZGUpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IGJvdHRvbUdhcCkgewogICAgICAgICAgICAgICAgICAgIG5leHRQYWdlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja0F1dG9Mb2FkTnVtKCkgewogICAgICAgIGlmIChhdXRvTG9hZE51bSA+PSAwKSB7CiAgICAgICAgICAgIGlmIChhdXRvTG9hZE51bSAhPSAwICYmIC0tYXV0b0xvYWROdW0gPT0gMCkgewogICAgICAgICAgICAgICAgYXV0b0xvYWROdW0gPSAtMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbmV4dFBhZ2UoKSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgdmFyIHRyeVRpbWVzID0gMDsKICAgIGFzeW5jIGZ1bmN0aW9uIG5leHRQYWdlKCkgewogICAgICAgIGlmICh0eXBlb2YgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5tYW51YWxNb2RlID09ICd1bmRlZmluZWQnID8gcnVsZXNEYXRhLm1hbnVhbE1vZGUgOiBydWxlUGFyc2VyLmN1clNpdGVSdWxlLm1hbnVhbE1vZGUpIHJldHVybjsKICAgICAgICBpZiAoY2xpY2tNb2RlKSByZXR1cm47CiAgICAgICAgaWYgKGlzUGF1c2UgfHwgaXNMb2FkaW5nIHx8IGZvcmNlU3RhdGUgPT0gMSkgcmV0dXJuOwogICAgICAgIGlmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLmRlbGF5KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBsZXQgY2hlY2tEZWxheSA9ICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxEZWxheT09J3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjsnICsgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5kZWxheSkgOiBfdW5zYWZlV2luZG93LnBhZ2V0dWFsRGVsYXkpKCk7CiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrRGVsYXkpIHJldHVybjsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICBkZWJ1ZyhlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgbmV4dExpbmsgPSBydWxlUGFyc2VyLm5leHRMaW5rSHJlZjsKICAgICAgICBpZiAoIW5leHRMaW5rKSB7CiAgICAgICAgICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGlmIChjdXJQYWdlID09IDEpIHsKICAgICAgICAgICAgICAgIGF3YWl0IHJ1bGVQYXJzZXIuZ2V0TmV4dExpbmsoZG9jdW1lbnQpOwogICAgICAgICAgICAgICAgbmV4dExpbmsgPSBydWxlUGFyc2VyLm5leHRMaW5rSHJlZjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW5leHRMaW5rKSB7CiAgICAgICAgICAgICAgICBpZiAoY3VyUGFnZSA9PSAxICYmIChydWxlUGFyc2VyLmN1clNpdGVSdWxlLnBpblVybCB8fCB0cnlUaW1lcysrIDw9IDMpKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7aXNMb2FkaW5nID0gZmFsc2V9LCA1MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBsZXQgcHZHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3Bhbi5wdi1nYWxsZXJ5LWNvbnRhaW5lciIpOwogICAgICAgIGlmIChwdkdhbGxlcnkgJiYgcHZHYWxsZXJ5LnN0eWxlLmRpc3BsYXkgIT0gIm5vbmUiKSByZXR1cm47CiAgICAgICAgbGV0IGluc2VydCA9IHJ1bGVQYXJzZXIuZ2V0SW5zZXJ0KCk7CiAgICAgICAgaWYgKGluc2VydCkgewogICAgICAgICAgICBpZiAoY3VyUGFnZSA9PSAxKSBpbml0VmlldygpOwogICAgICAgICAgICBzaWRlQ29udHJvbGxlci5zZXR1cCgpOwogICAgICAgICAgICAvKmlmIChjdXJQYWdlID09IDEpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0OiBnZW5lU2VsZWN0b3IocnVsZVBhcnNlci5jdXJTaXRlUnVsZS5pbnNlcnRQb3MgPT0gMiA/IGluc2VydCA6IGluc2VydC5wYXJlbnROb2RlLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAncGFnZXR1YWwuaW5zZXJ0JwogICAgICAgICAgICAgICAgfSwgJyonKTsKICAgICAgICAgICAgfSovCiAgICAgICAgICAgIGxldCBpc0pzID0gcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMyB8fCAvXihqYXZhc2NyaXB0fCMpLy50ZXN0KG5leHRMaW5rLnJlcGxhY2UobG9jYXRpb24uaHJlZiwgIiIpKTsKICAgICAgICAgICAgaWYgKCFpc0pzKSB7CiAgICAgICAgICAgICAgICBlbXVJZnJhbWUgPSBudWxsOwogICAgICAgICAgICAgICAgbGFzdEFjdGl2ZVVybCA9IG5leHRMaW5rOwogICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09ICJodHRwczoiICYmIC9eaHR0cDovLnRlc3QobmV4dExpbmspKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dExpbmsgPSBuZXh0TGluay5yZXBsYWNlKC9eaHR0cC8sICJodHRwcyIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGlmIChjdXJQYWdlICE9IDEgfHwgIWlzSnMgfHwgIXJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUuc2luZ2xlVXJsKSB7CiAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmJlZ2luTG9hZGluZyhsb2FkaW5nRGl2KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgc2xlZXAgPSBydWxlUGFyc2VyLmN1clNpdGVSdWxlLnNsZWVwIHx8IDA7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJ1bGVQYXJzZXIuY3VyU2l0ZVJ1bGUucGFnZUVsZW1lbnRCeUpzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG92ZXIgPSBlbGVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybENoYW5nZWQgfHwgaXNQYXVzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQYXJzZXIuaW5zZXJ0UGFnZShkb2N1bWVudCwgZWxlcywgbmV4dExpbmssICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJTdG9wIGFzIG5vIHBhZ2Ugd2hlbiBnZXQgYnkganMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGF1c2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICgodHlwZW9mIF91bnNhZmVXaW5kb3cucGFnZXR1YWxQYWdlRWxlbWVudEJ5SnMgPT0gJ3VuZGVmaW5lZCcpID8gRnVuY3Rpb24oIm92ZXIiLCAicGFnZU51bSIsJyJ1c2Ugc3RyaWN0IjsnICsgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5wYWdlRWxlbWVudEJ5SnMpIDogX3Vuc2FmZVdpbmRvdy5wYWdldHVhbFBhZ2VFbGVtZW50QnlKcykob3ZlciwgY3VyUGFnZSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGZvcmNlU3RhdGUgPT0gMiB8fCBydWxlUGFyc2VyLmN1clNpdGVSdWxlLmFjdGlvbiA9PSAyKSAmJiAhaXNKcykgewogICAgICAgICAgICAgICAgICAgIGZvcmNlSWZyYW1lKG5leHRMaW5rLCAoaWZyYW1lKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkIHx8IGlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlQmFyID0gY3JlYXRlUGFnZUJhcihuZXh0TGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlQmFyICYmIGlmcmFtZSAmJiBpZnJhbWUucGFyZW50Tm9kZSkgaWZyYW1lLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBhZ2VCYXIsIGlmcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChmb3JjZVN0YXRlID09IDMgfHwgcnVsZVBhcnNlci5jdXJTaXRlUnVsZS5hY3Rpb24gPT0gMSkgJiYgIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RnJvbUlmcmFtZShuZXh0TGluaywgKGRvYywgZWxlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsQ2hhbmdlZCB8fCBpc1BhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVBhcnNlci5pbnNlcnRQYWdlKGRvYywgZWxlcywgbmV4dExpbmssICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F1dG9Mb2FkTnVtKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERvYyhuZXh0TGluaywgKGVsZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxDaGFuZ2VkIHx8IGlzUGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBhZ2VCYXIobmV4dExpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXV0b0xvYWROdW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBsb2FkUGFnZU92ZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW11UGFnZSgoZG9jLCBlbGVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsQ2hhbmdlZCB8fCBpc1BhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBhZ2VPdmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlUGFyc2VyLmluc2VydFBhZ2UoZG9jLCBlbGVzLCAiIiwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQYWdlQmFyKG5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBdXRvTG9hZE51bSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGxvYWRQYWdlT3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHNsZWVwKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnbG9hZGluZycgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAndW5pbml0aWFsaXplZCcpIHsKICAgICAgICAgICAgbGV0IGRvbVJlYWR5ID0gZSA9PiB7CiAgICAgICAgICAgICAgICBpbml0UnVsZXMoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGluaXRQYWdlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBkb21SZWFkeSwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBkb21SZWFkeSwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluaXRSdWxlcygoKSA9PiB7CiAgICAgICAgICAgICAgICBpbml0UGFnZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdmlzaWJpbGl0eWNoYW5nZUhhbmRsZXIoKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHljaGFuZ2VIYW5kbGVyKTsKICAgICAgICBpbml0KCk7CiAgICB9CgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikgewogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eWNoYW5nZUhhbmRsZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluaXQoKTsKICAgICAgICB9CiAgICB9LCAzMDApOwp9KSgpOwo="},{"name":"Twitch Drop Auto-Claim","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/inventory","https://www.twitch.tv/drops/inventory"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1690722128056,"data":{}},"enabled":false,"position":7,"file_url":"https://greasyfork.org/scripts/467231-twitch-drop-auto-claim/code/Twitch%20Drop%20Auto-Claim.user.js","uuid":"ce4e5f2b-7986-4efb-ab71-8db343271181","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0Y2ggRHJvcCBBdXRvLUNsYWltCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy8xMDc3MjU5LXN5bnRoZXRpYwovLyBAdmVyc2lvbiAgICAgIDAuNwovLyBAZGVzY3JpcHRpb24gIEF1dG8tQ2xhaW1zIGRyb3BzLCB3aGlsZSBhdHRlbXB0aW5nIHRvIGV2YWRlIGJvdCBkZXRlY3Rpb24gYW5kIGNsYWltIHF1aWNrbHkuCi8vIEBhdXRob3IgICAgICAgQFN5bnRoZXRpYwovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnR3aXRjaC50di9pbnZlbnRvcnkKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy50d2l0Y2gudHYvZHJvcHMvaW52ZW50b3J5Ci8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49dHdpdGNoLnR2Ci8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBUaGUgY3VycmVudCB2ZXJzaW9uCiAgICBjb25zdCBWRVJTSU9OID0gMC43OwoKICAgIC8vIFBhZ2UgZWxlbWVudCBzZWxlY3RvcnMKICAgIGNvbnN0IFBST0dSRVNTX0JBUiA9ICdkaXZbZGF0YS1hLXRhcmdldD0idHctcHJvZ3Jlc3MtYmFyLWFuaW1hdGlvbiJdJzsKICAgIGNvbnN0IENMQUlNX0RST1AgPSAnYnV0dG9uLlNjQ29yZUJ1dHRvbi1zYy1vY2pka3EtMC5TY0NvcmVCdXR0b25QcmltYXJ5LXNjLW9jamRrcS0xLmROR29IdC5oZEF4WmknOwoKICAgIC8vIEhhbmR5IGNvbnN0YW50cwogICAgY29uc3QgTk9XID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKCiAgICAvKioKICAgICAqIFRoZSByYXRlIHRvIHVzZSBpZiBub25lIGNhbiBiZSBjYWxjdWxhdGVkLCBpbiBzZWNvbmRzLgogICAgICoKICAgICAqIFRoZSByYXRlIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBuZXh0IHJlZnJlc2gsCiAgICAgKiBhbmQgaXMgZGVmaW5lZCBhcyB0aGUgdGltZSB0YWtlbiB0byBwcm9ncmVzcyAxJS4KICAgICAqLwogICAgY29uc3QgVEhJUlRZX1JBVEUgPSAxODsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogVGhlIG1heGltdW0gdGltZSBiZWZvcmUgdGhlIG5leHQgcmVmcmVzaCwgaW4gc2Vjb25kcy4KICAgICAqCiAgICAgKiBXZSBkb24ndCB3YW50IHRvIGNhbGN1bGF0ZSB0b28gZWFybHksIGFzIHRoZSBsb25nZXIgdGhlIHRpbWVmcmFtZQogICAgICogd2UgaGF2ZSB0aGUgbW9yZSBhY2N1cmF0ZSB0aGUgcmF0ZSBjYWxjdWxhdGlvbiB3aWxsIGJlLgogICAgICogV2UgYWxzbyBkb24ndCB3YW50IHRvIHRyaWdnZXIgdGhlIGJvdCBieSByZWZyZXNoaW5nIHRvbyBtdWNoLgogICAgICovCiAgICBjb25zdCBNQVhfUkVGUkVTSCA9IDE4MDA7IC8vIHNlY29uZHMKCiAgICAvKioKICAgICAqIFRoZSBtYXhpbXVtIGFnZSBvZiBhIHByZXZpb3VzIHJlYWQsIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYgd2UgZmluZCBhIHByZXZpb3VzIHJlYWQgYnV0IGl0J3MgdG9vIG9sZCB3ZSBqdXN0IGlnbm9yZSBpdCwKICAgICAqIGFzIGl0IGlzIHVubGlrZWx5IHRvIGJlIHJlbGV2YW50IHRvIHRoaXMgZHJvcC4KICAgICAqLwogICAgY29uc3QgVEhSRVNIT0xEID0gMTUwMDA7IC8vIHNlY29uZHMKCiAgICAvKioKICAgICAqIEEgYnVmZmVyIHRvIGFkZCB0byB0aGUgZmluYWwgcmVmcmVzaCB0byBlbnN1cmUgd2UgaGF2ZSBoaXQgMTAwJSwgaW4gc2Vjb25kcy4KICAgICAqCiAgICAgKiBBcyB3ZSB0cnkgdG8gYWNjdXJhdGVseSBjYWxjdWxhdGUgdGhlIHRpbWUgcmVxdWlyZWQgdG8gcmVhY2ggMTAwJSB3ZSBtYXkgZmFsbCBqdXN0IHNob3J0LgogICAgICogVGhpcyBidWZmZXIgaXMgdXNlZCB0byB0cnkgdG8gZW5zdXJlIHdlIGFyZSBqdXN0IG92ZXIgcmF0aGVyIHRoYW4ganVzdCB1bmRlci4KICAgICAqLwogICAgY29uc3QgVElNRV9CVUZGRVIgPSAxMDsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogQSBidWZmZXIgdG8gYWRkIHdoZW4gY2hlY2tpbmcgZXhwZWN0ZWQgcmVmcmVzaCB0aW1lcy4KICAgICAqCiAgICAgKiBFdmVuIHRob3VnaCB3ZSBzZXQgYSByZWZyZXNoIG9mIGEgc3BlY2lmaWMgaW50ZXJ2YWwgdGhlIGRpZmZlcmVuY2UKICAgICAqIGJldHdlZW4gbG9hZCB0aW1lcyB3aWxsIG5vdCBleGFjdGx5IG1hdGNoIHRoYXQgZmlndXJlLCBzbyB3ZSB1c2UgdGhpcyBidWZmZXIKICAgICAqIHdoZW4gY2hlY2tpbmcgd2hldGhlciB0aGUgbG9hZCB0aW1lIGlzIGV4cGVjdGVkLgogICAgICovCiAgICAgY29uc3QgUkVGUkVTSF9CVUZGRVIgPSAzMDsgLy8gc2Vjb25kcwoKICAgIC8qKgogICAgICogRHVtcHMgYW4gb2JqZWN0IHRvIHRoZSBjb25zb2xlLgogICAgICogCiAgICAgKiBAcGFyYW0gIG9iamVjdCBvIFRoZSBvYmplY3QgdG8gZHVtcC4KICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBjb25zdCBkdW1wID0gKG8pID0+IHsKICAgICAgICBmb3IgKHZhciBwIGluIG8pIHsKICAgICAgICAgICAgaWYgKChvW3BdICE9IG51bGwpICYmICh0eXBlb2Ygb1twXSA9PSAnb2JqZWN0JykpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAocCk7CiAgICAgICAgICAgICAgICAgICAgZHVtcChvW3BdKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHAsIG9bcF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYmFzZSBzdG9yYWdlIG9iamVjdC4KICAgICAqIAogICAgICogQHJldHVybiBvYmplY3QKICAgICAqLwogICAgY29uc3QgZ2V0RGVmYXVsdHMgPSAoKSA9PiB7CiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoCiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJhc2U6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogbnVsbCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxhc3Q6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyBzdG9yZWQgZGF0YQogICAgICoKICAgICAqIEByZXR1cm4gb2JqZWN0fGJvb2xlYW4KICAgICAqLwogICAgY29uc3QgZ2V0UHJldmlvdXMgPSAoKSA9PiB7CiAgICAgICAgdmFyIHByZXZpb3VzID0gR01fZ2V0VmFsdWUoJ3ByZXZpb3VzJyk7CiAgICAgICAgaWYgKHR5cGVvZiBwcmV2aW91cyA9PSAndW5kZWZpbmVkJyB8fCBwcmV2aW91cyA9PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHByZXZpb3VzID0gSlNPTi5wYXJzZShwcmV2aW91cyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgcHJldmlvdXMudmVyc2lvbiA9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBwcmV2aW91cy52ZXJzaW9uID0gdHlwZW9mIHByZXZpb3VzLnN0YXJ0ID09ICd1bmRlZmluZWQnID8gMC4xIDogMC4yOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmlvdXMudmVyc2lvbiA9PSAwLjEpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmlvdXMudmVyc2lvbiA8IDAuNCkgewogICAgICAgICAgICBwcmV2aW91cyA9IHsKICAgICAgICAgICAgICAgIGJhc2U6IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiBwcmV2aW91cy5iYXNlLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiBwcmV2aW91cy5zdGFydCwKICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAuNSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsYXN0OiB7CiAgICAgICAgICAgICAgICAgICAgdGltZTogcHJldmlvdXMudGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiBwcmV2aW91cy5wcm9ncmVzcywKICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogbnVsbCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBwcmV2aW91czsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb252ZXJ0cyBhIGNhbGN1bGF0ZWQgcHJvZ3Jlc3MgcmF0ZSBpbnRvIGEgZml4ZWQgdmFsdWUgKDMwbSwgNDVtLCAxaHIsIDJyLCAzaHIsIDRocikuCiAgICAgKgogICAgICogQHBhcmFtICBpbnRlZ2VyIHJhdGUgVGhlIGNhbGN1bGF0ZWQgcmF0ZS4KICAgICAqIEByZXR1cm4gaW50ZWdlciAgICAgIFRoZSBmaXhlZCByYXRlLgogICAgICovCiAgICBjb25zdCBmaXhlZFJhdGUgPSAocmF0ZSkgPT4gewogICAgICAgIHZhciBkaWZmID0gMTAwMDA7CiAgICAgICAgdmFyIGZpeGVkID0gVEhJUlRZX1JBVEU7CiAgICAgICAgWzE4LCAyNywgMzYsIDcyLCAxMDgsIDE0NF0uZm9yRWFjaCgocikgPT4gewogICAgICAgICAgICBpZiAoTWF0aC5hYnMocmF0ZSAtIHIpIDwgZGlmZikgewogICAgICAgICAgICAgICAgZGlmZiA9IE1hdGguYWJzKHJhdGUgLSByKTsKICAgICAgICAgICAgICAgIGZpeGVkID0gcjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmaXhlZDsKICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSB0aW1lciB0byByZWZyZXNoIHRoZSBwYWdlLgogICAgICoKICAgICAqIEBwYXJhbSAgaW50ZWdlciByZWZyZXNoIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZWZyZXNoaW5nLgogICAgICogQHJldHVybiB2b2lkCiAgICAgKi8KICAgIGNvbnN0IHNldFRpbWVyID0gKHJlZnJlc2gpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyByZWZyZXNoIG9mJywgcmVmcmVzaCwgJ3NlY29uZHMnKTsKICAgICAgICBjb25zb2xlLmxvZygnTmV4dCBsb2FkJywgbmV3IERhdGUoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIHJlZnJlc2ggKiAxMDAwKSk7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVmcmVzaCAqIDEwMDAKICAgICAgICApOwogICAgfTsKCiAgICAvKioKICAgICAqIENsaWNrcyB0aGUgQ2xhaW0gYnV0dG9uLgogICAgICoKICAgICAqIEByZXR1cm4gYm9vbGVhbgogICAgICovCiAgICBjb25zdCBjbGFpbURyb3AgPSAoKSA9PiB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ0xBSU1fRFJPUCkpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihDTEFJTV9EUk9QKS5jbGljaygpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKCiAgICAvKioKICAgICAqIFJ1bnMgd2hlbiB0aGUgZG9tIHVwZGF0ZXMsIHVzZWQgdG8gZ2FpbiBhY2Nlc3MgdG8gdGhlIHByb2dyZXNzIGJhcnMsIHdoZW4gdGhleSBmaW5hbGx5IGxvYWQuCiAgICAgKiBDb250YWlucyBhbGwgdGhlIGxvZ2ljIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBwYWdlIHJlZnJlc2guCiAgICAgKgogICAgICogQHBhcmFtICBhcnJheSBtdXRhdGlvbnNMaXN0IFRoZSBsaXN0IG9mIG11dGF0aW9ucy4KICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBjb25zdCBvbk11dGF0ZSA9IChtdXRhdGlvbnNMaXN0KSA9PiB7CiAgICAgICAgaWYgKHJlZnJlc2ggIT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChQUk9HUkVTU19CQVIpOwogICAgICAgIGlmICghbm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgIHZhciBwcm9ncmVzcyA9IDA7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwcm9ncmVzcyA9IE1hdGgubWF4KHByb2dyZXNzLCBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnUHJvZ3Jlc3MnLCBwcm9ncmVzcyk7CiAgICAgICAgdmFyIHJhdGU7CiAgICAgICAgaWYgKHByb2dyZXNzID09IDEwMCkgewogICAgICAgICAgICByYXRlID0gVEhJUlRZX1JBVEU7CiAgICAgICAgICAgIGlmIChjbGFpbURyb3AoKSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgY2xhaW1lZCEnKTsKICAgICAgICAgICAgICAgIHJlZnJlc2ggPSByYXRlICogMTAwOwogICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAwOwogICAgICAgICAgICAgICAgcHJldmlvdXMgPSBnZXREZWZhdWx0cygpOwogICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZSA9IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpLAogICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWZyZXNoID0gcmF0ZTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChwcmV2aW91cykgewogICAgICAgICAgICAgICAgY29uc3QgaW5jcmVhc2UgPSB7CiAgICAgICAgICAgICAgICAgICAgYmFzZTogcHJvZ3Jlc3MgLSBwcmV2aW91cy5iYXNlLnByb2dyZXNzLAogICAgICAgICAgICAgICAgICAgIGxhc3Q6IHByb2dyZXNzIC0gcHJldmlvdXMubGFzdC5wcm9ncmVzcywKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpbmNyZWFzZS5sYXN0IDwgMSkgewogICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGluY3JlYXNlIHNpbmNlIGxhc3QgbG9hZCwgcmVzZXR0aW5nIGRhdGEnKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByYXRlID0gZml4ZWRSYXRlKE1hdGguY2VpbChpbnRlcnZhbC5iYXNlIC8gaW5jcmVhc2UuYmFzZSkpOwogICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cy5sYXN0LmV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWR1Y2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeHBlY3RlZCBpbmNyZWFzZSBvZicsIHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWN0dWFsIGluY3JlYXNlIGlzJywgaW5jcmVhc2UubGFzdCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQgPT0gaW5jcmVhc2UubGFzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IE1hdGguZmxvb3IocHJldmlvdXMubGFzdC5yYXRlICogcHJldmlvdXMuYmFzZS5vZmZzZXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGludGVydmFsLmxhc3QgLSBwcmV2aW91cy5sYXN0LnJlZnJlc2gpID4gUkVGUkVTSF9CVUZGRVIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgYSBmdWxsIHJlZmVzaCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBNYXRoLmZsb29yKGludGVydmFsLmxhc3QgLyByYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXcgZXhwZWN0ZWQgaW5jcmVhc2Ugb2YnLCBleHBlY3RlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jcmVhc2UubGFzdCA+IGV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGludGVydmFsLmxhc3QgLSBleHBlY3RlZCAqIHJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZHVjZSA9IGluY3JlYXNlLmxhc3QgPCBleHBlY3RlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWR1Y2VkIGJhc2UgdGltZSBieScsIGRpZmYsICdzZWNvbmRzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5iYXNlLnRpbWUgLT0gZGlmZiAqIDEwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZHVjZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZS5vZmZzZXQgLz0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cy5iYXNlLm9mZnNldCA8IDAuMDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5iYXNlLm9mZnNldCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFwcmV2aW91cykgewogICAgICAgICAgICAgICAgcmF0ZSA9IFRISVJUWV9SQVRFOwogICAgICAgICAgICAgICAgcHJldmlvdXMgPSBnZXREZWZhdWx0cygpOwogICAgICAgICAgICAgICAgcHJldmlvdXMuYmFzZSA9IHsKICAgICAgICAgICAgICAgICAgICB0aW1lOiBOT1csCiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMC41LAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZygnUmF0ZScsIHJhdGUpOwogICAgICAgICAgICByZWZyZXNoID0gKDEwMCAtIHByb2dyZXNzKSAqIHJhdGU7CiAgICAgICAgICAgIHByZXZpb3VzLmxhc3QuZXhwZWN0ZWQgPSBudWxsOwogICAgICAgICAgICBpZiAocHJldmlvdXMubGFzdC5wcm9ncmVzcyAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKHJlZnJlc2ggPCBNQVhfUkVGUkVTSCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwID0gTWF0aC5taW4oMTAwLCBwcmV2aW91cy5iYXNlLnByb2dyZXNzICsgKGludGVydmFsLmJhc2UgLyByYXRlKSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjY3VyYXRlIHByb2dyZXNzJywgcC50b0ZpeGVkKDMpKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoID0gTWF0aC5tYXgocmF0ZSwgTWF0aC5jZWlsKCgxMDAgLSBwKSAqIHJhdGUpICsgVElNRV9CVUZGRVIpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cy5iYXNlLm9mZnNldCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5sYXN0LmV4cGVjdGVkID0gTWF0aC5mbG9vcihNQVhfUkVGUkVTSCAvIHJhdGUpOwogICAgICAgICAgICAgICAgICAgIHJlZnJlc2ggPSAocHJldmlvdXMubGFzdC5leHBlY3RlZCAqIHJhdGUpIC0gTWF0aC5mbG9vcihyYXRlICogcHJldmlvdXMuYmFzZS5vZmZzZXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlZnJlc2ggPSBNYXRoLm1pbihyZWZyZXNoLCBNQVhfUkVGUkVTSCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoJywgcmVmcmVzaCk7CiAgICAgICAgfQoKICAgICAgICBwcmV2aW91cy5sYXN0LnRpbWUgPSBOT1c7CiAgICAgICAgcHJldmlvdXMubGFzdC5wcm9ncmVzcyA9IHByb2dyZXNzOwogICAgICAgIHByZXZpb3VzLmxhc3QucmF0ZSA9IHJhdGU7CiAgICAgICAgcHJldmlvdXMubGFzdC5yZWZyZXNoID0gcmVmcmVzaDsKICAgICAgICBHTV9zZXRWYWx1ZSgncHJldmlvdXMnLCBKU09OLnN0cmluZ2lmeShwcmV2aW91cykpOwogICAgICAgIHNldFRpbWVyKHJlZnJlc2gpOwogICAgfTsKCiAgICBjb25zb2xlLmxvZygnTG9hZGVkIGF0JywgbmV3IERhdGUoKSk7CiAgICB2YXIgdGltZW91dDsKICAgIHZhciByZWZyZXNoID0gbnVsbDsKICAgIHZhciBpbnRlcnZhbDsKICAgIHZhciBwcmV2aW91cyA9IGdldFByZXZpb3VzKCk7CgogICAgaWYgKHByZXZpb3VzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Jhc2VsaW5lJywgbmV3IERhdGUocHJldmlvdXMuYmFzZS50aW1lKSk7CiAgICAgICAgY29uc29sZS5sb2coJ0xhc3Qgc2VlbicsIG5ldyBEYXRlKHByZXZpb3VzLmxhc3QudGltZSkpOwogICAgICAgIGludGVydmFsID0gewogICAgICAgICAgICBiYXNlOiBNYXRoLnJvdW5kKChOT1cgLSBwcmV2aW91cy5iYXNlLnRpbWUpIC8gMTAwMCksCiAgICAgICAgICAgIGxhc3Q6IE1hdGgucm91bmQoKE5PVyAtIHByZXZpb3VzLmxhc3QudGltZSkgLyAxMDAwKQogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJ2YWwnLCBpbnRlcnZhbC5iYXNlKTsKICAgICAgICBpZiAoKGludGVydmFsLmJhc2UgPiBUSFJFU0hPTEQpIHx8IChpbnRlcnZhbC5sYXN0ID4gTUFYX1JFRlJFU0ggKyBSRUZSRVNIX0JVRkZFUikpIHsKICAgICAgICAgICAgcHJldmlvdXMgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVydmFsIGlzIHRvbyBsYXJnZScpOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAoIXByZXZpb3VzKSB7CiAgICAgICAgY29uc29sZS5sb2coJ05vIHJlbGV2YW50IHJlYWQnKTsKICAgIH0KCiAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGEgcHJvZ3Jlc3MgYmFyIGFmdGVyIDEwcyB0aGlzIHdpbGwgc2V0IGEgcmVmZXNoCiAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoCiAgICAgICAgKCkgPT4gewogICAgICAgICAgICBHTV9zZXRWYWx1ZSgncHJldmlvdXMnLCBmYWxzZSk7CiAgICAgICAgICAgIHNldFRpbWVyKDEwMCAqIFRISVJUWV9SQVRFKTsKICAgICAgICB9LAogICAgICAgIDEwMDAwCiAgICApOwoKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG9uTXV0YXRlKTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cgp9KSgpOwo="},{"name":"Twitch Hide Viewer Bots","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1690722146398,"data":{}},"enabled":true,"position":8,"file_url":"https://greasyfork.org/scripts/467920-twitch-hide-viewer-bots/code/Twitch%20Hide%20Viewer%20Bots.user.js","uuid":"b1e7654d-ae30-4241-b73f-3041c20e4444","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgVHdpdGNoIEhpZGUgVmlld2VyIEJvdHMKLy8gQGRlc2NyaXB0aW9uIEhpZGUgYm90cyBmcm9tIHZpZXdlcnMgbGlzdCBpbiBUd2l0Y2ggKGJvdCBkYXRhIGZyb20gdHdpdGNoaW5zaWdodHMubmV0KQovLyBAbGljZW5zZSBNSVQKLy8gQGF1dGhvciDEsHNtYWlsIEthcnNsxLEgPGNzem5AcG0ubWU+IChodHRwczovL2lzbWFpbC5rYXJzbGkubmV0KQovLyBAbmFtZXNwYWNlIGh0dHBzOi8vZ2l0aHViLmNvbS9pc21haWxrYXJzbGkKLy8gQGhvbWVwYWdlVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9pc21haWxrYXJzbGkvdXNlcnNjcmlwdHMKLy8gQHN1cHBvcnRVUkwgaHR0cHM6Ly9naXRodWIuY29tL2lzbWFpbGthcnNsaS91c2Vyc2NyaXB0cy9pc3N1ZXMKLy8gQHZlcnNpb24gMS4wLjAKLy8gQG1hdGNoIGh0dHBzOi8vd3d3LnR3aXRjaC50di8qCi8vIEBncmFudCBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKY29uc3QgYm90cyA9IG5ldyBTZXQoKTsKY29uc3QgTXV0YXRpb25PYnNlcnZlciA9Cgl3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjsKY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZSkgPT4gewoJbGV0IGNoYXR0ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmNoYXR0ZXItbGlzdC1pdGVtIik7CgljaGF0dGVycy5mb3JFYWNoKChjaGF0dGVyKSA9PiB7CgkJY29uc3QgdXNlcm5hbWUgPSBjaGF0dGVyLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbi50dy1saW5rIik/LmlubmVyVGV4dDsKCQljb25zdCBpc0JvdCA9IGJvdHMuaGFzKHVzZXJuYW1lKTsKCQlpZiAoaXNCb3QpIHsKCQkJY2hhdHRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwoJCX0KCX0pOwp9KTsKCmZldGNoKCJodHRwczovL2FwaS50d2l0Y2hpbnNpZ2h0cy5uZXQvdjEvYm90cy9vbmxpbmUiKQoJLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkKCS50aGVuKChkYXRhKSA9PiB7CgkJZGF0YT8uYm90cz8uZm9yRWFjaCgoYm90KSA9PiBib3Q/LlswXSAmJiBib3RzLmFkZChib3RbMF0pKTsKCQlpZiAoYm90cy5zaXplKSB7CgkJCW9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewoJCQkJY2hpbGRMaXN0OiB0cnVlLAoJCQkJc3VidHJlZTogdHJ1ZSwKCQkJfSk7CgkJfQoJfSkKCS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUud2FybigiVHdpdGNoIEhpZGUgVmlld2VyIEJvdHMiLCAiQm90IGxpc3QgY291bGRuJ3QgZmV0Y2hlZCIsIGVycm9yKSk7Cg=="},{"name":"Twitch React Auto Claimer","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1690722152062,"data":{}},"enabled":false,"position":9,"file_url":"https://greasyfork.org/scripts/470838-twitch-react-auto-claimer/code/Twitch%20React%20Auto%20Claimer.user.js","uuid":"82d081cc-6c32-4314-a0f9-c44d45a89c4c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgVHdpdGNoIFJlYWN0IEF1dG8gQ2xhaW1lcgovLyBAdmVyc2lvbiAyLjIuNgovLyBAYXV0aG9yIFlha29Ib2Jpc2EKLy8gQGF1dGhvciBEZW4zZXIKLy8gQGF1dGhvciBhbGV4X2xvdmEKLy8gQGRlc2NyaXB0aW9uIEF1dG8gY2xhaW0gdHdpdGNoIGNoYW5uZWwgcmVhY3Rpb25zLgovLyBAbWF0Y2ggaHR0cHM6Ly93d3cudHdpdGNoLnR2LyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy8xMDg1MjM5LXlha29ob2Jpc2EKLy8gQGxpY2Vuc2UgYWxleF9sb3ZhCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gaGlkZSB0aGUgbW9kYWwgYm94IHdpdGggYSByZWFjdGlvbiBjb250ZW50CmNvbnN0IHN0eWxlcyA9IGAKICAuUmVhY3RNb2RhbFBvcnRhbDpoYXMoLmZlZWRiYWNrLWZsb3ctbW9kYWwpIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQpgOwoKY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CnN0eWxlU2hlZXQuaW5uZXJUZXh0ID0gc3R5bGVzOwpkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpOwoKc2V0SW50ZXJ2YWwoKCkgPT4gewogIGNvbnN0ICRyZWFjdEJ1dHRvbiA9IEFycmF5LmZyb20oCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hLXRhcmdldD0idHctY29yZS1idXR0b24tbGFiZWwtdGV4dCJdJykKICApLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQudGV4dENvbnRlbnQgPT09ICJSZWFjdCIpOwoKICBpZiAoISRyZWFjdEJ1dHRvbikgewogICAgcmV0dXJuOwogIH0KCiAgJHJlYWN0QnV0dG9uLmNsaWNrKCk7CgogIHNldFRpbWVvdXQoKCkgPT4gewogICAgJHJlYWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICIuU2NDaGVja0JveElucHV0QmFzZS1zYy12dTd1N2QtMS5nQkRESWEudHctcmFkaW9fX2lucHV0IgogICAgKTsKICAgICRyYW5kb21SZWFjdCA9ICRyZWFjdHNbZ2V0UmFuZG9tSW50KDUpXTsKICAgICRyYW5kb21SZWFjdC5jbGljaygpOwoKICAgIGNvbnN0ICRzdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAogICAgICAiLlJlYWN0TW9kYWxQb3J0YWwgLkxheW91dC1zYy0xeGNzNm1jLTAucGhNTXAiCiAgICApOwogICAgJHN1Ym1pdC5jbGljaygpOwoKICAgIGNvbnN0ICRjbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAgICIuUmVhY3RNb2RhbFBvcnRhbCAuU2NDb3JlQnV0dG9uLXNjLW9jamRrcS0wLmlidFl5Vy5TY0J1dHRvbkljb24tc2MtOXlhcDByLTAuaXF4eG9wIgogICAgKTsKICAgICRjbG9zZS5jbGljaygpOwogIH0sIDEwMDApOwp9LCAxMCAqIDEwMDApOwoKY29uc3QgZ2V0UmFuZG9tSW50ID0gKG1heCkgPT4gewogIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpOwp9"},{"name":"Twitch - Skip content warnings","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1690722156681,"data":{}},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/469384-twitch-skip-content-warnings/code/Twitch%20-%20Skip%20content%20warnings.user.js","uuid":"3f74a697-9cdf-42b7-9358-644fcbe1e3e8","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0Y2ggLSBTa2lwIGNvbnRlbnQgd2FybmluZ3MKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL3R3aXRjaC10b29scy5yb290b25saW5lLmRlLwovLyBAdmVyc2lvbiAgICAgIDEuMgovLyBAZGVzY3JpcHRpb24gIEF1dG9tYXRpY2FsbHkgc2tpcCBjb250ZW50IHdhcm5pbmdzIGJlZm9yZSBwbGF5aW5nIGEgc3RyZWFtIG9uIFR3aXRjaAovLyBAYXV0aG9yICAgICAgIEBDb21tYW5kZXJSb290Ci8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cudHdpdGNoLnR2LyoKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gSGlkZSBvdmVybGF5IHdhcm5pbmcgaW4gdGhlIHRvcCBsZWZ0IHdoZW4geW91IGhvdmVyIG92ZXIgdGhlIHN0cmVhbQpHTV9hZGRTdHlsZSgnLmRpc2Nsb3N1cmUtY2FyZHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fScpOwoKZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHsKCWNvbnN0IHZhbHVlID0gJzsgJyArIGRvY3VtZW50LmNvb2tpZTsKCWNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoJzsgJyArIG5hbWUgKyAnPScpOwoJaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKTsKfQoKZnVuY3Rpb24gZ2V0Y3VycmVudFVzZXJJRCgpIHsKCWNvbnN0IHVzZXJDb29raWUgPSBnZXRDb29raWUoJ3R3aWxpZ2h0LXVzZXInKTsKCWNvbnNvbGUubG9nKHVzZXJDb29raWUpOwoJaWYgKHR5cGVvZiB1c2VyQ29va2llICE9PSAndW5kZWZpbmVkJykgewoJCWxldCB1c2VyID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodXNlckNvb2tpZSkpOwoJCWlmICh0eXBlb2YgdXNlciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHVzZXJbJ2lkJ10gIT09ICd1bmRlZmluZWQnKSB7CgkJCXJldHVybiB1c2VyWydpZCddLnRvU3RyaW5nKCk7CgkJfQoJfQp9CgooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCWNvbnN0IGxvY2FsU3RvcmFnZUtleSA9ICdjb250ZW50LWNsYXNzaWZpY2F0aW9uLWxhYmVscy1hY2tub3dsZWRnZWQnOwoJY29uc3QgYWNrbm93bGVkZ2VkRHVyYXRpb24gPSBEYXRlLm5vdygpICsgKDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyBOb3cgKyAzNjUgZGF5cwoJY29uc3QgYWNrbm93bGVkZ2VkTWF4QWdlID0gRGF0ZS5ub3coKSArICgxICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vIE5vdyArIDEgZGF5CgoJdHJ5IHsKCQkvLyBHZXQgY3VycmVudCBzZXR0aW5nCgkJbGV0IGN1cnJlbnRTZXR0aW5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSk7CgkJaWYgKGN1cnJlbnRTZXR0aW5nICE9PSBudWxsKSB7CgkJCWN1cnJlbnRTZXR0aW5nID0gSlNPTi5wYXJzZShjdXJyZW50U2V0dGluZyk7CgkJfSBlbHNlIHsKCQkJY3VycmVudFNldHRpbmcgPSB7fTsKCQl9CgoJCWNvbnN0IGN1cnJlbnRVc2VySUQgPSBnZXRjdXJyZW50VXNlcklEKCk7CgoJCWxldCB0YXJnZXRTZXR0aW5nID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyZW50U2V0dGluZykpOwoJCWlmICh0eXBlb2YgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXSA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXSA9IHt9OwoJCX0KCQlpZiAodHlwZW9mIHRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddID09PSAndW5kZWZpbmVkJykgewoJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXSA9IHsKCQkJCSdEcnVnc0ludG94aWNhdGlvbic6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJJ0dhbWJsaW5nJzogYWNrbm93bGVkZ2VkRHVyYXRpb24sCgkJCQknTWF0dXJlR2FtZSc6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJLy8gIlNpZ25pZmljYW50IFByb2Zhbml0eSBvciBWdWxnYXJpdHkiIChzZWxlY3RhYmxlIGJ1dCBkb2Vzbid0IHRyaWdnZXIgYW55dGhpbmcgYXRtKQoJCQkJJ1NleHVhbFRoZW1lcyc6IGFja25vd2xlZGdlZER1cmF0aW9uLAoJCQkJJ1Zpb2xlbnRHcmFwaGljJzogYWNrbm93bGVkZ2VkRHVyYXRpb24sCgkJCX07CgkJfSBlbHNlIHsKCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnRHJ1Z3NJbnRveGljYXRpb24nXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ0RydWdzSW50b3hpY2F0aW9uJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydEcnVnc0ludG94aWNhdGlvbiddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnR2FtYmxpbmcnXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ0dhbWJsaW5nJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydHYW1ibGluZyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddID09PSAndW5kZWZpbmVkJyB8fCB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddIDwgYWNrbm93bGVkZ2VkTWF4QWdlKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnTWF0dXJlR2FtZSddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnU2V4dWFsVGhlbWVzJ10gPT09ICd1bmRlZmluZWQnIHx8IHRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydTZXh1YWxUaGVtZXMnXSA8IGFja25vd2xlZGdlZE1heEFnZSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ1NleHVhbFRoZW1lcyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRPdXQnXVsnVmlvbGVudEdyYXBoaWMnXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGFyZ2V0U2V0dGluZ1snbG9nZ2VkT3V0J11bJ1Zpb2xlbnRHcmFwaGljJ10gPCBhY2tub3dsZWRnZWRNYXhBZ2UpIHsKCQkJCXRhcmdldFNldHRpbmdbJ2xvZ2dlZE91dCddWydWaW9sZW50R3JhcGhpYyddID0gYWNrbm93bGVkZ2VkRHVyYXRpb247CgkJCX0KCQl9CgoJCWlmICh0eXBlb2YgY3VycmVudFVzZXJJRCA9PT0gJ3N0cmluZycgJiYgY3VycmVudFVzZXJJRCAhPT0gJycpIHsKCQkJaWYgKHR5cGVvZiB0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdID09PSAndW5kZWZpbmVkJykgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXSA9IFtdOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnRHJ1Z3NJbnRveGljYXRpb24nKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdEcnVnc0ludG94aWNhdGlvbicpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnR2FtYmxpbmcnKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdHYW1ibGluZycpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnTWF0dXJlR2FtZScpKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdLnB1c2goJ01hdHVyZUdhbWUnKTsKCQkJfQoJCQlpZiAoIXRhcmdldFNldHRpbmdbJ2xvZ2dlZEluJ11bY3VycmVudFVzZXJJRF0uaW5jbHVkZXMoJ1NleHVhbFRoZW1lcycpKSB7CgkJCQl0YXJnZXRTZXR0aW5nWydsb2dnZWRJbiddW2N1cnJlbnRVc2VySURdLnB1c2goJ1NleHVhbFRoZW1lcycpOwoJCQl9CgkJCWlmICghdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5pbmNsdWRlcygnVmlvbGVudEdyYXBoaWMnKSkgewoJCQkJdGFyZ2V0U2V0dGluZ1snbG9nZ2VkSW4nXVtjdXJyZW50VXNlcklEXS5wdXNoKCdWaW9sZW50R3JhcGhpYycpOwoJCQl9CgkJfQoKCQkvLyBTZXQgbmV3IHNldHRpbmcKCQl3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeSh0YXJnZXRTZXR0aW5nKSk7Cgl9IGNhdGNoIChlKSB7CgkJLy8gQnJvd3NlciBibG9ja3MgbG9jYWxTdG9yYWdlIGFjY2VzcyBzbyB3ZSBjYW4ndCBnZXQgb3Igc2V0IGFueSBzZXR0aW5nCgkJcmV0dXJuOwoJfQoKfSkoKTsK"},{"name":"Twitch Player Quality Changer","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://www.twitch.tv/*","https://player.twitch.tv/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1690722171876,"data":{}},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/465887-twitch-player-quality-changer/code/Twitch%20Player%20Quality%20Changer.user.js","uuid":"e906cdcc-e50e-4a78-b9d4-893930c7a049","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBUd2l0Y2ggUGxheWVyIFF1YWxpdHkgQ2hhbmdlcgovLyBAZGVzY3JpcHRpb24gICAgIEF1dG9tYXRpY2FsbHkgY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZSBUd2l0Y2ggcGxheWVyIHRvIHlvdXIgbGlraW5nLgovLyBAbmFtZXNwYWNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW1oYWlkYXIvVHdpdGNoLVBsYXllci1RdWFsaXR5LUNoYW5nZXIKLy8gQHZlcnNpb24gICAgICAgICAwLjAuNwovLyBAYXV0aG9yICAgICAgICAgIHJhbWhhaWRhcgovLyBAaG9tZXBhZ2VVUkwgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW1oYWlkYXIvVHdpdGNoLVBsYXllci1RdWFsaXR5LUNoYW5nZXIKLy8gQGljb24gICAgICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTY0JmRvbWFpbj10d2l0Y2gudHYKLy8gQGxpY2Vuc2UgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy50d2l0Y2gudHYvKgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHBzOi8vcGxheWVyLnR3aXRjaC50di8qCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgIGRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgLy8gU2V0IHRoZSBkZXNpcmVkIGF1dG8tcXVhbGl0eS4KICAgIC8qIEF2YWlsYWJsZSBRdWFsaXR5IE9wdGlvbnM6CiAgICAgICAtIDEwODBwNjAKICAgICAgIC0gOTM2cDYwCiAgICAgICAtIDcyMHA2MAogICAgICAgLSA3MjBwCiAgICAgICAtIDQ4MHAKICAgICAgIC0gMzYwcAogICAgICAgLSAxNjBwCiAgICAqLwogICAgY29uc3QgUHJlZmVyZWRRdWFsaXR5ID0gIjEwODBwNjAiOyAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIFByZWZlcmVkIFF1YWxpdHkKCiAgICBjb25zdCBBbGxRdWFsaXR5ID0gWyIxMDgwcDYwIiwgIjkzNnA2MCIsICI3MjBwNjAiLCAiNzIwcCIsICI0ODBwIiwgIjM2MHAiLCAiMTYwcCJdOwogICAgY29uc3QgUHJlZmVycmVkSW5kZXggPSBBbGxRdWFsaXR5LmluZGV4T2YoUHJlZmVyZWRRdWFsaXR5KTsKCiAgICAvLyBBIGZ1bmN0aW9uIHRoYXQgd2FpdHMgZm9yIGFuIGVsZW1lbnQgdG8gZXhpc3QgaW4gdGhlIERPTSBhbmQgdGhlbiBleGVjdXRlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uLgogICAgZnVuY3Rpb24gd2FpdEZvckVsZW1lbnQoc2VsZWN0b3IsIG1heEF0dGVtcHRzID0gMTAsIGNhbGxiYWNrKSB7CiAgICAgICAgbGV0IGF0dGVtcHRzID0gMDsKICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhdHRlbXB0cysrOwogICAgICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heEF0dGVtcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIHNlbGVjdG9yICsgJyBub3QgZm91bmQgYWZ0ZXIgJyArIG1heEF0dGVtcHRzICsgJyBhdHRlbXB0cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgIH0KCiAgICAvLyBHZXQgdGhlIGVsZW1lbnQgdGhhdCBpbmRpY2F0ZXMgaWYgYSBjaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4KICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHctY2hhbm5lbC1zdGF0dXMtdGV4dC1pbmRpY2F0b3IsIC5jaGFubmVsLXN0YXR1cy1pbmZvJyk7CgogICAgLy8gQSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgZm91bmQuCiAgICBmdW5jdGlvbiBvbkVsZW1lbnRGb3VuZChlbGVtKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdFbGVtZW50IGZvdW5kOicsIGVsZW0pOwogICAgICAgIG1haW4oKTsKICAgIH0KCiAgICAvLyBBIGZ1bmN0aW9uIHRoYXQgd2FpdHMgdW50aWwgdGhlIGVsZW1lbnQgZXhpc3RzIGluIHRoZSBET00sIHRoZW4gZXhlY3V0ZXMgYSBjYWxsYmFjayBmdW5jdGlvbi4KICAgIGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoZWxlbSwgY2FsbGJhY2spIHsKICAgICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR3LWNoYW5uZWwtc3RhdHVzLXRleHQtaW5kaWNhdG9yLCAuY2hhbm5lbC1zdGF0dXMtaW5mbycpOwogICAgICAgIGlmIChlbGVtICE9PSBudWxsKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKGVsZW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2FpdFVudGlsRWxlbWVudEV4aXN0cyhlbGVtLCBjYWxsYmFjayk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgfQoKICAgIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoZWxlbSwgb25FbGVtZW50Rm91bmQpOwoKICAgIGZ1bmN0aW9uIG1haW4oKSB7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZSBjaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4KICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR3LWNoYW5uZWwtc3RhdHVzLXRleHQtaW5kaWNhdG9yJyk/LnRleHRDb250ZW50ID09PSAiTElWRSIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYW5uZWwtc3RhdHVzLWluZm8nKT8udGV4dENvbnRlbnQgPT09ICJPZmZsaW5lIikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIkNoYW5uZWwgaXMgbGl2ZSBvciBvZmZsaW5lLiIpOwoKICAgICAgICAgICAgbGV0IHNldHRpbmdzQnV0dG9uID0gbnVsbDsKICAgICAgICAgICAgbGV0IHNldHRpbmdzTWVudUJ1dHRvbiA9IG51bGw7CgogICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uLgogICAgICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgc2V0dGluZ3NCdXR0b24gPSBlbGVtZW50OwogICAgICAgICAgICAgICAgc2V0dGluZ3NCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBDbGljayB0aGUgcXVhbGl0eSBzZXR0aW5ncyBidXR0b24uCiAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLW1lbnUtaXRlbS1xdWFsaXR5Il0nLCAyNSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnVCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcXVhbGl0eSBvcHRpb25zIHRvIGxvYWQgYW5kIHNlbGVjdCB0aGUgcHJlZmVycmVkIHF1YWxpdHkgb3B0aW9uLgogICAgICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InR3LXJhZGlvIl0nLCAyNSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKTsKICAgICAgICAgICAgICAgIHZhciBxdWFsaXR5Rm91bmQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICB2YXIgaW5wdXRzeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHN4Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0c3hbaV0ucGFyZW50Tm9kZS50ZXh0Q29udGVudC5pbmNsdWRlcyhBbGxRdWFsaXR5W1ByZWZlcnJlZEluZGV4XSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eUZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJQcmVmZXJyZWQgUXVhbGl0eSBGb3VuZDogIiArIHF1YWxpdHlGb3VuZCk7CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZWZlcnJlZCBxdWFsaXR5IGlzIGF2YWlsYWJsZSwgc2VsZWN0IGl0LgogICAgICAgICAgICAgICAgaWYgKHF1YWxpdHlGb3VuZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBpbnB1dHNbaV0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwgJiYgbGFiZWwudGV4dENvbnRlbnQudHJpbSgpLmluY2x1ZGVzKEFsbFF1YWxpdHlbUHJlZmVycmVkSW5kZXhdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzW2ldLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzW2ldLmNsaWNrKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJRdWFsaXR5IFVzZWQ6ICIgKyBpbnB1dHNbaV0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpLnRleHRDb250ZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uIGFnYWluLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEZvckVsZW1lbnQoJ1tkYXRhLWEtdGFyZ2V0PSJwbGF5ZXItc2V0dGluZ3MtYnV0dG9uIl0nLCBJbmZpbml0eSwgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3NCdXR0b24gPSBlbGVtZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJDbGlja2VkIFNldHRpbmdzIEJ1dHRvbiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZWZlcnJlZCBxdWFsaXR5IGlzIG5vdCBhdmFpbGFibGUsIHNlbGVjdCB0aGUgbG93ZXN0IGF2YWlsYWJsZSBxdWFsaXR5LgogICAgICAgICAgICAgICAgaWYgKHF1YWxpdHlGb3VuZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBsYXN0UXVhbGl0eUluZGV4ID0gQWxsUXVhbGl0eS5sZW5ndGggLSAxOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdElucHV0SW5kZXggPSBpbnB1dHN4Lmxlbmd0aCAtIDE7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRzeFtsYXN0SW5wdXRJbmRleF0uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRzeFtsYXN0SW5wdXRJbmRleF0uY2xpY2soKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJRdWFsaXR5IFVzZWQ6ICIgKyBpbnB1dHN4W2xhc3RJbnB1dEluZGV4XS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJykudGV4dENvbnRlbnQpOwoKICAgICAgICAgICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uIGFnYWluLgogICAgICAgICAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLWJ1dHRvbiJdJywgSW5maW5pdHksIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiQ2xpY2tlZCBTZXR0aW5ncyBCdXR0b24iKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCJDYW4ndCBkZXRlY3Qgd2hldGhlciBDaGFubmVsIGlzIGxpdmUgb3Igb2ZmbGluZS4iKTsKICAgICAgICB9CiAgICB9Cn0pKCk7"},{"name":"Twitter AutoHD","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://*.twitter.com/*","https://*.twimg.com/media/*","https://*.x.com/*","https://*.x.com/media/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":true}},"storage":{"ts":1690953505519,"data":{"thd_primaryWidth":"n600","thd_hideTrending":"btrue","thd_blurNSFW":"btrue","thd_toggleFollowed":"btrue","thd_toggleClearTopics":"btrue","thd_toggleTimelineScaling":"bfalse","thd_toggleAnalyticsDisplay":"btrue"}},"enabled":true,"position":12,"file_url":"https://github.com/Invertex/Twitter-AutoHD/raw/master/Twitter_AutoHD.user.js","uuid":"84d11cb1-e3d8-4983-b428-eb95d95698ba","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0dGVyIEF1dG9IRAovLyBAbmFtZXNwYWNlICAgIEludmVydGV4Ci8vIEB2ZXJzaW9uICAgICAgMi4yMwovLyBAZGVzY3JpcHRpb24gIEZvcmNlcyB3aG9sZSBpbWFnZSB0byBzaG93IG9uIHRpbWVsaW5lIHdpdGggYmlnZ2VyIGxheW91dCBmb3IgbXVsdGktaW1hZ2UuIEZvcmNlcyB2aWRlb3MvaW1hZ2VzIHRvIHNob3cgaW4gaGlnaGVzdCBxdWFsaXR5IGFuZCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uIGFuZCByaWdodC1jbGljayBmb3IgY29udGVudCB0aGF0IGVuc3VyZXMgYW4gb3JnYW5pemVkIGZpbGVuYW1lLiBBcyB3ZWxsIGFzIG90aGVyIGltcHJvdmVtZW50cy4KLy8gQGF1dGhvciAgICAgICBJbnZlcnRleAovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9JbnZlcnRleC9Ud2l0dGVyLUF1dG9IRC9yYXcvbWFzdGVyL1R3aXR0ZXJfQXV0b0hELnVzZXIuanMKLy8gQGRvd25sb2FkVVJMICBodHRwczovL2dpdGh1Yi5jb20vSW52ZXJ0ZXgvVHdpdHRlci1BdXRvSEQvcmF3L21hc3Rlci9Ud2l0dGVyX0F1dG9IRC51c2VyLmpzCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9pLmltZ3VyLmNvbS9NOW9POEs5LnBuZwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi50d2l0dGVyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnR3aW1nLmNvbS9tZWRpYS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnguY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovLyoueC5jb20vbWVkaWEvKgovLyBAbm9mcmFtZXMKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2Rvd25sb2FkCi8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNLnNldFZhbHVlCi8vIEBncmFudCBHTS5nZXRWYWx1ZQovLyBAcnVuLWF0IGRvY3VtZW50LXN0YXJ0Ci8vIEByZXF1aXJlIGh0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzIuMS4wL2pxdWVyeS5taW4uanMKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBjb29reSA9IGdldENvb2tpZSgiY3QwIik7IC8vR2V0IG91ciBjdXJyZW50IFR3aXR0ZXIgc2Vzc2lvbiB0b2tlbiBzbyB3ZSBjYW4gdXNlIFR3aXR0ZXIgQVBJIHRvIHJlcXVlc3QgaGlnaGVyIHF1YWxpdHkgY29udGVudApjb25zdCBtb2RpZmllZEF0dHIgPSAiVEhEX21vZGlmaWVkIjsKY29uc3QgdHdlZXRRdWVyeSA9ICdkaXZbZGF0YS10ZXN0aWQ9InR3ZWV0Il0nOwpjb25zdCBHTV9PcGVuSW5UYWJNaXNzaW5nID0gKHR5cGVvZiBHTV9vcGVuSW5UYWIgPT09ICd1bmRlZmluZWQnKTsKCnZhciB0d2VldHMgPSBuZXcgTWFwKCk7IC8vQ2FjaGUgaW50ZXJjZXB0ZWQgdHdlZXRzIGRhdGEKLy8vCmNvbnN0IGFyZ3NDaGlsZEFuZFN1YiA9IHsgYXR0cmlidXRlczogZmFsc2UsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9Owpjb25zdCBhcmdzQ2hpbGRPbmx5ID0geyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiBmYWxzZSB9Owpjb25zdCBhcmdzQ2hpbGRBbmRBdHRyID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IGZhbHNlIH07CmNvbnN0IGFyZ3NBbGwgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9Owpjb25zdCBhcmdzQXR0ck9ubHkgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogZmFsc2UsIHN1YnRyZWU6IGZhbHNlIH07Cgpjb25zdCBkbFNWRyA9ICc8Zz48cGF0aCBkPSJNIDggNTEgQyA1IDU0IDUgNDggNSA0MiBMIDUgLTQwIEMgNSAtNDUgLTUgLTQ1IC01IC00MCBWIDQyIEMgLTUgNDggLTUgNTQgLTggNTEgTCAtNDggMTUgQyAtNTEgMTIgLTYxIDE3IC01NiAyMiBMIC0xMiA2MSBDIDAgNzEgMCA3MSAxMiA2MSBMIDU2IDIyIEMgNjEgMTcgNTIgMTEgNDggMTUgWiI+PC9wYXRoPicgKwogICAgJzxwYXRoIGQ9Ik0gNTYgLTU4IEMgNjIgLTU4IDYyIC02OCA1NiAtNjggSCAtNTYgQyAtNjIgLTY4IC02MiAtNTggLTU2IC01OCBaIj48L3BhdGg+PC9nPic7Cgpjb25zdCB0d2l0U1ZHID0gJzxnPjxwYXRoIGQ9Ik0yMy42NDMgNC45MzdjLS44MzUuMzctMS43MzIuNjItMi42NzUuNzMzLjk2Mi0uNTc2IDEuNy0xLjQ5IDIuMDQ4LTIuNTc4LS45LjUzNC0xLjg5Ny45MjItMi45NTggMS4xMy0uODUtLjkwNC0yLjA2LTEuNDctMy40LTEuNDctMi41NzIgMC00LjY1OCAyLjA4Ni00LjY1OCA0LjY2IDAgLjM2NC4wNDIuNzE4LjEyIDEuMDYtMy44NzMtLjE5NS03LjMwNC0yLjA1LTkuNjAyLTQuODY4LS40LjY5LS42MyAxLjQ5LS42MyAyLjM0MiAwIDEuNjE2LjgyMyAzLjA0MyAyLjA3MiAzLjg3OC0uNzY0LS4wMjUtMS40ODItLjIzNC0yLjExLS41ODN2LjA2YzAgMi4yNTcgMS42MDUgNC4xNCAzLjczNyA0LjU2OC0uMzkyLjEwNi0uODAzLjE2Mi0xLjIyNy4xNjItLjMgMC0uNTkzLS4wMjgtLjg3Ny0uMDgyLjU5MyAxLjg1IDIuMzEzIDMuMTk4IDQuMzUyIDMuMjM0LTEuNTk1IDEuMjUtMy42MDQgMS45OTUtNS43ODYgMS45OTUtLjM3NiAwLS43NDctLjAyMi0xLjExMi0uMDY1IDIuMDYyIDEuMzIzIDQuNTEgMi4wOTMgNy4xNCAyLjA5MyA4LjU3IDAgMTMuMjU1LTcuMDk4IDEzLjI1NS0xMy4yNTQgMC0uMi0uMDA1LS40MDItLjAxNC0uNjAyLjkxLS42NTggMS43LTEuNDc3IDIuMzIzLTIuNDF6Ij48L3BhdGg+PC9nPic7Cgpjb25zdCBib29rbWFya1NWRyA9ICc8Zz48cGF0aCBkPSJNMTcgM1YwaDJ2M2gzdjJoLTN2M2gtMlY1aC0zVjNoM3pNNi41IDRjLS4yNzYgMC0uNS4yMi0uNS41djE0LjU2bDYtNC4yOSA2IDQuMjlWMTFoMnYxMS45NGwtOC01LjcxLTggNS43MVY0LjVDNCAzLjEyIDUuMTE5IDIgNi41IDJoNC41MDJ2Mkg2LjV6Ij48L3BhdGg+PC9nPic7CmNvbnN0IHVuYm9va21hcmtTVkcgPSAnPGc+PHBhdGggZD0iTTE2LjU4NiA0bC0yLjA0My0yLjA0TDE1Ljk1Ny41NCAxOCAyLjU5IDIwLjA0My41NGwxLjQxNCAxLjQyTDE5LjQxNCA0bDIuMDQzIDIuMDQtMS40MTQgMS40MkwxOCA1LjQxbC0yLjA0MyAyLjA1LTEuNDE0LTEuNDJMMTYuNTg2IDR6TTYuNSA0Yy0uMjc2IDAtLjUuMjItLjUuNXYxNC41Nmw2LTQuMjkgNiA0LjI5VjExaDJ2MTEuOTRsLTgtNS43MS04IDUuNzFWNC41QzQgMy4xMiA1LjExOSAyIDYuNSAyaDQuNTAydjJINi41eiI+PC9wYXRoPjwvZz4nOwoKYWRkR2xvYmFsU3R5bGUoJ0BrZXlmcmFtZXMgc3BpbiB7IDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfScpOwphZGRHbG9iYWxTdHlsZSgnLmxvYWRlciB7IGJvcmRlcjogMTZweCBzb2xpZCAjZjNmM2YzNzM7IGRpc3BsYXk6IGZsZXg7IG1hcmdpbjogYXV0bzsgYm9yZGVyLXRvcDogMTZweCBzb2xpZCAjMzQ5OGRiOTk7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDEyMHB4OyBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlO30nKTsKCmFkZEdsb2JhbFN0eWxlKCcuY29udGV4dC1tZW51IHsgcG9zaXRpb246IGFic29sdXRlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMHB4OyBiYWNrZ3JvdW5kOiAjMDQwNDA0OyBib3JkZXI6IDFweCBzb2xpZCAjMGUwZTBlOyBib3JkZXItcmFkaXVzOiA1cHg7fScpOwphZGRHbG9iYWxTdHlsZSgnLmNvbnRleHQtbWVudSB1bCB7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiAwcHg7IG1pbi13aWR0aDogMTkwcHg7IGxpc3Qtc3R5bGU6IG5vbmU7fScpOwphZGRHbG9iYWxTdHlsZSgnLmNvbnRleHQtbWVudSB1bCBsaSB7IHBhZGRpbmctYm90dG9tOiA3cHg7IHBhZGRpbmctdG9wOiA3cHg7IGJvcmRlcjogMXB4IHNvbGlkICMwZTBlMGU7IGNvbG9yOiNjMWJjYmM7IGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyB1c2VyLXNlbGVjdDogbm9uZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcuY29udGV4dC1tZW51IHVsIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogIzIwMjAyMDt9Jyk7CgovLzwtLT4gU2F2ZS9Mb2FkIFVzZXIgQ3V0b20gTGF5b3V0IFdpZHRoIDwtLT4vLwpjb25zdCB1c2VQcmVmX01haW5XaWR0aEtleSA9ICJ0aGRfcHJpbWFyeVdpZHRoIjsKY29uc3QgdXNlUHJlZl9oaWRlVHJlbmRpbmdLZXkgPSAidGhkX2hpZGVUcmVuZGluZyI7CmNvbnN0IHVzZVByZWZfYmx1ck5TRlcgPSAidGhkX2JsdXJOU0ZXIjsKY29uc3QgdXNlUHJlZl90b2dnbGVIUUltZyA9ICJ0aGRfdG9nZ2xlSFFJbWciOwpjb25zdCB1c2VQcmVmX3RvZ2dsZUxpa2VkID0gInRoZF90b2dnbGVMaWtlZCI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlUmV0d2VldCA9ICJ0aGRfdG9nZ2xlUmV0d2VldCI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlRm9sbG93ZWQgPSAidGhkX3RvZ2dsZUZvbGxvd2VkIjsKY29uc3QgdXNlUHJlZl90b2dnbGVUb3BpY3MgPSAidGhkX3RvZ2dsZVRvcGljcyI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlQ2xlYXJUb3BpY3MgPSAidGhkX3RvZ2dsZUNsZWFyVG9waWNzIjsKY29uc3QgdXNlUHJlZl9sYXN0VG9waWNzQ2xlYXJUaW1lID0gInRoZF9sYXN0VG9waWNzQ2xlYXJUaW1lIjsKY29uc3QgdXNlUHJlZl90b2dnbGVUaW1lbGluZVNjYWxpbmcgPSAidGhkX3RvZ2dsZVRpbWVsaW5lU2NhbGluZyI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSA9ICJ0aGRfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSI7CmNvbnN0IHVzZVByZWZfdG9nZ2xlRGlzYWJsZUZvcllvdSA9ICJ0aGRfdG9nZ2xlRGlzYWJsZUZvcllvdSI7Ci8vR3JlYXNlbW9ua2V5IGRvZXMgbm90IGhhdmUgdGhpcyBmdW5jdGlvbmFsaXR5LCBzbyBoZWxwZnVsIHdheSB0byBjaGVjayB3aGljaCBmdW5jdGlvbiB0byB1c2UKY29uc3QgaXNHTSA9ICh0eXBlb2YgR01fYWRkVmFsdWVDaGFuZ2VMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpOwoKCi8vPC0tPiBUV0VFVCBQUk9DRVNTSU5HIDwtLT4vLwpmdW5jdGlvbiBTdHJpbmdCdWlsZGVyKHZhbHVlKQp7CiAgICB0aGlzLnN0cmluZ3MgPSBuZXcgQXJyYXkoKTsKICAgIHRoaXMuYXBwZW5kKHZhbHVlKTsKfQpTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAodmFsdWUpCnsKICAgIGlmICh2YWx1ZSkKICAgIHsKICAgICAgICB0aGlzLnN0cmluZ3MucHVzaCh2YWx1ZSk7CiAgICB9Cn0KU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKQp7CiAgICB0aGlzLnN0cmluZ3MubGVuZ3RoID0gMDsKfQpTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpCnsKICAgIHJldHVybiB0aGlzLnN0cmluZ3Muam9pbigiIik7Cn0KCmNvbnN0IHNiID0gbmV3IFN0cmluZ0J1aWxkZXIoIiIpOwoKY29uc3QgQnVpbGRNM1UgPSBmdW5jdGlvbiAobGluZXMpCnsKICAgIGNvbnN0IHJlZ2V4ID0gLyxCQU5EV0lEVEg9KC4qKSxSRVNPTFVUSU9OL2dtOwoKICAgIGxldCBiZXN0TGluZSA9IDA7CiAgICBsZXQgYmVzdEJhbmR3aWR0aCA9IDA7CiAgICBzYi5hcHBlbmQobGluZXNbMF0pOwoKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgaWYgKCFsaW5lc1tpXS5pbmNsdWRlcygnU1RSRUFNLUlORjonKSkgeyBzYi5hcHBlbmQoJyMnICsgbGluZXNbaV0pOyB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgbGV0IGJhbmR3aWR0aCA9IHBhcnNlSW50KHJlZ2V4LmV4ZWMobGluZXNbaV0pKTsKICAgICAgICAgICAgaWYgKGJhbmR3aWR0aCA+IGJlc3RCYW5kd2lkdGgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJlc3RCYW5kd2lkdGggPSBiYW5kd2lkdGg7CiAgICAgICAgICAgICAgICBiZXN0TGluZSA9IGk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoYmVzdExpbmUgPT09IDApIHsgYmVzdExpbmUgPSBpOyB9IC8vZmFpbHNhZmUgaW4gY2FzZSBzb21ldGhpbmcgYnJlYWtzIHdpdGggcGFyc2luZyBkb3duIHRoZSBsaW5lCiAgICAgICAgfQogICAgfQoKICAgIHNiLmFwcGVuZCgnIycgKyBsaW5lc1tiZXN0TGluZV0pOwogICAgbGV0IG0zdSA9IHNiLnRvU3RyaW5nKCk7CiAgICBzYi5jbGVhcigpOwoKICAgIHJldHVybiBtM3U7Cn07CgoKdmFyIHRyYW5zYWN0SUQgPSAiIjsKdmFyIGF1dGh5ID0gIiI7Ci8vIEdyYWIgcmVsZXZhbnQga2V5cyB1c2VkIGJ5IEFQSSBzbyB3ZSBjYW4gaW50ZXJmYWNlIHdpdGggaXQgdG9vCihmdW5jdGlvbiAoc2V0UmVxdWVzdEhlYWRlcikKewogICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkKICAgIHsKICAgICAgICBpZihuYW1lID09ICJYLUNsaWVudC1UcmFuc2FjdGlvbi1JZCIpCiAgICAgICAgewogICAgICAgICAgICB0cmFuc2FjdElEID0gdmFsdWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYobmFtZSA9PSAiYXV0aG9yaXphdGlvbiIpCiAgICAgICAgewogICAgICAgICAgICBhdXRoeSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgc2V0UmVxdWVzdEhlYWRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKfSkoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIpOwoKCi8vSW50ZXJjZXB0IG0zdTggcGxheWxpc3QgcmVxdWVzdHMgYW5kIG1vZGlmeSB0aGUgY29udGVudHMgdG8gb25seSBpbmNsdWRlIHRoZSBoaWdoZXN0IHF1YWxpdHkKKGZ1bmN0aW9uIChvcGVuKQp7CiAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCkKICAgIHsKCiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygndmlkZW8udHdpbWcuY29tJykgJiYgdXJsLmluY2x1ZGVzKCcubTN1OD8nKSkKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIChlKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkKICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBlLnRhcmdldC5yZXNwb25zZVRleHQuc3BsaXQoJyMnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtM3UgPSBCdWlsZE0zVShsaW5lcyk7CgogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzcG9uc2UnLCB7IHdyaXRhYmxlOiB0cnVlIH0pOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzcG9uc2VUZXh0JywgeyB3cml0YWJsZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBtM3U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKHVybC5pbmNsdWRlcygnc2hvdy5qc29uPycpKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHZpZEluZm8gPSBqc29uLmV4dGVuZGVkX2VudGl0aWVzPy5tZWRpYT8udmlkZW9faW5mbyA/PyBudWxsOwoKICAgICAgICAgICAgICAgICAgICBpZih2aWRJbmZvICE9IG51bGwgJiYgdmlkSW5mby52YXJpYW50cyAhPSBudWxsICYmIHZpZEluZm8udmFyaWFudHMubGVuZ3RoID4gMSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZEluZm8udmFyaWFudHMgPSBbc3RyaXBWYXJpYW50cyh2aWRJbmZvLnZhcmlhbnRzKV07CgogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gSlNPTi5zdHJpbmdpZnkoanNvbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih1cmwuaW5jbHVkZXMoJy9Ib21lJykgfHwgdXJsLmluY2x1ZGVzKCdpbmNsdWRlUHJvbW90ZWRDb250ZW50JykpCiAgICAgICAgewogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaW5jbHVkZVByb21vdGVkQ29udGVudCUyMiUzQXRydWUnLCAnaW5jbHVkZVByb21vdGVkQ29udGVudCUyMiUzQWZhbHNlJyk7CiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdwaG9uZV9sYWJlbF9lbmFibGVkJTIyJTNBZmFsc2UnLCAncGhvbmVfbGFiZWxfZW5hYmxlZCUyMiUzQXRydWUnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ3JlYWNoX2ZldGNoX2VuYWJsZWQlMjIlM0F0cnVlJywgJ3JlYWNoX2ZldGNoX2VuYWJsZWQlMjIlM0FmYWxzZScpOwogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnd2l0aFF1aWNrUHJvbW90ZUVsaWdpYmlsaXR5VHdlZXRGaWVsZHMlMjIlM0F0cnVlJywgJ3dpdGhRdWlja1Byb21vdGVFbGlnaWJpbGl0eVR3ZWV0RmllbGRzJTIyJTNBZmFsc2UnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2FydGljbGVfdHdlZXRfY29uc3VtcHRpb25fZW5hYmxlZCUyMiUzQXRydWUnLCAnYXJ0aWNsZV90d2VldF9jb25zdW1wdGlvbl9lbmFibGVkJTIyJTNBZmFsc2UnKTsKICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2NvdW50JTIyJTNBMjAnLCAnY291bnQlMjIlM0EzMCcpOwoKICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgICAgaWYoanNvbi5kYXRhKQogICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUaW1lbGluZURhdGEoanNvbik7CgogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGpzb24uZGF0YS50aHJlYWRlZF9jb252ZXJzYXRpb25fd2l0aF9pbmplY3Rpb25zX3YyKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAganNvbi5kYXRhLnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjIuaW5zdHJ1Y3Rpb25zWzBdLmVudHJpZXMgPSBwcm9jZXNzVHdlZXRzUXVlcnkoanNvbi5kYXRhLnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjIuaW5zdHJ1Y3Rpb25zWzBdLmVudHJpZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc3BvbnNlVGV4dCcsIHsgd3JpdGFibGU6IHRydWUgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih1cmwuaW5jbHVkZXMoJ2d1aWRlLmpzb24nKSkgLy9FeHBsb3JlCiAgICAgICAgewogICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFeHBsb3JlRGF0YShqc29uPy5nbG9iYWxPYmplY3RzPy50d2VldHMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgb3Blbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKfSkoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4pOwoKZnVuY3Rpb24gaXNUd2VldEJvb2ttYXJrZWQoaWQpCnsKICAgIGxldCB0d2VldCA9IHR3ZWV0cy5nZXQoaWQpOwogICAgaWYodHdlZXQpCiAgICB7CiAgICAgICAgcmV0dXJuIHR3ZWV0LmJvb2ttYXJrZWQ7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIHN0cmlwVmFyaWFudHModmFyaWFudHMpCnsKICAgIGlmKHZhcmlhbnRzID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH0KICAgIHZhcmlhbnRzID0gdmFyaWFudHMuZmlsdGVyKHZhcmlhbnQgPT4gdmFyaWFudD8uYml0cmF0ZSAhPSBudWxsKTsKICAgIHZhcmlhbnRzID0gdmFyaWFudHMuc29ydCgoYSwgYikgPT4gKGIuYml0cmF0ZSAtIGEuYml0cmF0ZSkpOwogICAgcmV0dXJuIHZhcmlhbnRzWzBdOwp9CgpmdW5jdGlvbiBUd2VldCh0d2VldFJlc3VsdCkKewogICAgdGhpcy5kYXRhID0gdHdlZXRSZXN1bHQ7CiAgICBpZih0aGlzLmRhdGE/LnR3ZWV0ICE9IG51bGwpeyB0aGlzLmRhdGEgPSB0aGlzLmRhdGEudHdlZXQ7IH0gLy9JZiB0d2VldCBpcyBsaW1pdGVkIGJ5IHdobyBjYW4gY29tbWVudCwgbmVlZCB0byBkbyB0aGlzCgogICAgdGhpcy5pc1JldHdlZXQgPSB0aGlzLmRhdGE/LmxlZ2FjeT8ucmV0d2VldGVkX3N0YXR1c19yZXN1bHQ/LnJlc3VsdCAhPSBudWxsOwogICAgaWYodGhpcy5pc1JldHdlZXQpCiAgICB7CiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLmxlZ2FjeS5yZXR3ZWV0ZWRfc3RhdHVzX3Jlc3VsdC5yZXN1bHQ7CiAgICAgICAgaWYodGhpcy5kYXRhPy50d2VldCkgeyB0aGlzLmRhdGEgPSB0aGlzLmRhdGEudHdlZXQ7IH0KICAgIH0KICAgIHRoaXMubGVnYWN5ID0gdGhpcy5kYXRhPy5sZWdhY3kgPz8gdGhpcy5kYXRhOyAvL1N3YXBwaW5nIHRvIGhhbmRsZSBvZGQgRXhwbG9yZSBwYWdlIGRhdGEKICAgIHRoaXMubWVkaWEgPSB0aGlzLmxlZ2FjeT8uZXh0ZW5kZWRfZW50aXRpZXM/Lm1lZGlhOwogICAgdGhpcy5tZWRpYUJhc2ljID0gdGhpcy5sZWdhY3k/LmVudGl0aWVzPy5tZWRpYTsKICAgIHRoaXMuaGFzTWVkaWEgPSB0aGlzLm1lZGlhICE9IG51bGw7CgogICAgdGhpcy5xdW90ZSA9IHRoaXMuZGF0YT8ucXVvdGVkX3N0YXR1c19yZXN1bHQ/LnJlc3VsdDsKICAgIHRoaXMuaXNRdW90ZSA9IHRoaXMucXVvdGUgIT0gbnVsbDsKICAgIGlmKHRoaXMuaXNRdW90ZSkgeyB0aGlzLnF1b3RlID0gbmV3IFR3ZWV0KHRoaXMucXVvdGUpOyB9CiAgICB0aGlzLnF1b3RlSGFzTWVkaWEgPSB0aGlzLmlzUXVvdGUgJiYgdGhpcy5xdW90ZS5oYXNNZWRpYTsKICAgIHRoaXMuaWQgPSB0aGlzLmRhdGE/LnJlc3RfaWQgPz8gdGhpcy5kYXRhPy5jb252ZXJzYXRpb25faWQ7CiAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy5kYXRhPy5jb3JlPy51c2VyX3Jlc3VsdHM/LnJlc3VsdC5sZWdhY3k/LnNjcmVlbl9uYW1lOwogICAgdGhpcy51cmwgPSAiaHR0cHM6Ly90d2l0dGVyLmNvbS8iICsgdGhpcy51c2VybmFtZSArICIvIiArIHRoaXMuaWQ7CiAgICB0aGlzLnR3ZWV0RWxlbSA9IG51bGw7CgogICAgdGhpcy5ib29rbWFya2VkID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzPy5sZWdhY3k/LmJvb2ttYXJrZWQgPz8gZmFsc2U7IH07CiAgICB0aGlzLmJvb2ttYXJrID0gZnVuY3Rpb24gKCkKICAgIHsKICAgICAgICBpZih0aGlzLmxlZ2FjeT8uYm9va21hcmtlZCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5sZWdhY3kuYm9va21hcmtlZCA9IHRydWU7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMudW5ib29rbWFyayA9IGZ1bmN0aW9uICgpCiAgICB7CiAgICAgICAgaWYodGhpcy5sZWdhY3k/LmJvb2ttYXJrZWQgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHRoaXMubGVnYWN5LmJvb2ttYXJrZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5nZXRNZWRpYURhdGEgPSBmdW5jdGlvbihpbmRleCkKICAgIHsKICAgICAgICBpZih0aGlzLm1lZGlhID09IG51bGwgfHwgdGhpcy5tZWRpYS5sZW5ndGggPD0gaW5kZXgpIHsgcmV0dXJuIG51bGw7IH0KCiAgICAgICAgbGV0IG1lZGlhSXRlbSA9IHRoaXMubWVkaWFbaW5kZXhdOwogICAgICAgIGxldCB1cmwgPSBtZWRpYUl0ZW0uZXhwYW5kZWRfdXJsOwogICAgICAgIGxldCBjb21JbmRleCA9IHVybC5pbmRleE9mKCcuY29tLycpOwogICAgICAgIGxldCB1cmxQYXJ0cyA9IHVybC5zdWJzdHJpbmcoY29tSW5kZXggPCAwID8gMCA6IGNvbUluZGV4ICsgNSkuc3BsaXQoJy8nKTsKICAgICAgICBpZih1cmxQYXJ0cy5sZW5ndGggPCA0KSB7IHJldHVybiBudWxsOyB9CiAgICAgICAgbGV0IGNvdW50ZXIgPSB0aGlzLm1lZGlhLmxlbmd0aCA8IDIgPyAtMSA6IGluZGV4ICsgMTsKICAgICAgICBsZXQgc3JjVVJMID0gbWVkaWFJdGVtLm1lZGlhX3VybF9odHRwczsKICAgICAgICBsZXQgY29udGVudFVSTCA9IHN0cmlwVmFyaWFudHMobWVkaWFJdGVtPy52aWRlb19pbmZvPy52YXJpYW50cyk/LnVybCA/PyBzcmNVUkw7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB1cmxQYXJ0c1swXSwKICAgICAgICAgICAgaWQ6IHVybFBhcnRzWzJdLAogICAgICAgICAgICBtZWRpYU51bTogY291bnRlciwKICAgICAgICAgICAgc3JjVVJMOiBzcmNVUkwsCiAgICAgICAgICAgIGNvbnRlbnRVUkw6IGNvbnRlbnRVUkwsCiAgICAgICAgICAgIHR5cGU6IG1lZGlhSXRlbS50eXBlLAogICAgICAgICAgICB3aWR0aDogbWVkaWFJdGVtLm9yaWdpbmFsX2luZm8ud2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogbWVkaWFJdGVtLm9yaWdpbmFsX2luZm8uaGVpZ2h0CiAgICAgICAgfTsKICAgIH07Cn0KCmZ1bmN0aW9uIHByb2Nlc3NFeHBsb3JlRGF0YShleHBsb3JlVHdlZXRzKQp7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZXhwbG9yZVR3ZWV0cy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgICBsZXQgZXhwbG9yZVR3ZWV0ID0gZXhwbG9yZVR3ZWV0c1tpXTsKICAgICAgICBsZXQgdHdlZXQgPSBuZXcgVHdlZXQoZXhwbG9yZVR3ZWV0KTsKICAgICAgICB0d2VldHMuc2V0KHR3ZWV0LmlkLCB0d2VldCk7CgogICAgICAgIGlmKHR3ZWV0Lmhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICAgICAgaWYodHdlZXQuaXNRdW90ZSAmJiB0d2VldC5xdW90ZUhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQucXVvdGUubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5xdW90ZS5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHByb2Nlc3NSZXNwb25zZU1lZGlhKG1lZGlhcykKewogICAgaWYobWVkaWFzID09IG51bGwpeyByZXR1cm47IH0KCiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWVkaWFzLmxlbmd0aDsgaSsrKQogICAgewogICAgICAgIGxldCBtZWRpYSA9IG1lZGlhc1tpXTsKICAgICAgICBpZihtZWRpYS50eXBlID09ICdwaG90bycpCiAgICAgICAgewogICAgICAgICAgICBtZWRpYS5tZWRpYV91cmxfaHR0cHMgPSBnZXRIaWdoUXVhbGl0eUltYWdlKG1lZGlhLm1lZGlhX3VybF9odHRwcyk7CiAgICAgICAgfQogICAgICAvKiAgZWxzZSBpZiAobWVkaWEudHlwZSA9PSAndmlkZW8nKQogICAgICAgIHsKICAgICAgICAgICAgbWVkaWEudmlkZW9faW5mby52YXJpYW50cyA9IFtzdHJpcFZhcmlhbnRzKG1lZGlhLnZpZGVvX2luZm8udmFyaWFudHMpXTsKICAgICAgICB9Ki8KICAgIH0KfQoKZnVuY3Rpb24gcHJvY2Vzc1RpbWVsaW5lSXRlbShpdGVtKQp7CiAgICBpZihpdGVtPy5wcm9tb3RlZE1ldGFkYXRhICE9IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9CiAgICBsZXQgcmVzdWx0ID0gaXRlbT8udHdlZXRfcmVzdWx0cz8ucmVzdWx0OwoKICAgIGlmKHJlc3VsdCkKICAgIHsKICAgICAgICBsZXQgdHdlZXQgPSBuZXcgVHdlZXQocmVzdWx0KTsKICAgICAgICB0d2VldHMuc2V0KHR3ZWV0LmlkLCB0d2VldCk7CgogICAgICAgIGlmKHR3ZWV0Lmhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICAgICAgaWYodHdlZXQuaXNRdW90ZSAmJiB0d2VldC5xdW90ZUhhc01lZGlhKQogICAgICAgIHsKICAgICAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlTWVkaWEodHdlZXQucXVvdGUubWVkaWEpOwogICAgICAgICAgICBwcm9jZXNzUmVzcG9uc2VNZWRpYSh0d2VldC5xdW90ZS5tZWRpYUJhc2ljKTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn0KCgpmdW5jdGlvbiBwcm9jZXNzVGltZWxpbmVFbnRyeShlbnRyeSkKewogICAgaWYoZW50cnk/LmNvbnRlbnQ/LmNsaWVudEV2ZW50SW5mbz8uY29tcG9uZW50ID09ICJzdWdnZXN0X3Byb21vdGVkIikKICAgIHsKICAgICAgICBlbnRyeS5jb250ZW50ID0ge307CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IGl0ZW1zID0gZW50cnk/LmNvbnRlbnQ/Lml0ZW1zOwogICAgaWYoaXRlbXMgIT0gbnVsbCkKICAgIHsKICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBpZighcHJvY2Vzc1RpbWVsaW5lSXRlbShpdGVtc1tpXS5pdGVtLml0ZW1Db250ZW50KSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW50cnkuY29udGVudC5pdGVtcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChlbnRyeT8uY29udGVudD8uaXRlbUNvbnRlbnQpCiAgICB7CiAgICAgICAgaWYoIXByb2Nlc3NUaW1lbGluZUl0ZW0oZW50cnkuY29udGVudC5pdGVtQ29udGVudCkpCiAgICAgICAgewogICAgICAgICAgICBlbnRyeS5jb250ZW50ID0ge307CiAgICAgICAgfQogICAgfQoKfQoKZnVuY3Rpb24gcHJvY2Vzc1RpbWVsaW5lRW50cmllcyhlbnRyaWVzKQp7CiAgLy8gIGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmNvbnRlbnQuY2xpZW50RXZlbnRJbmZvPy5jb21wb25lbnQgIT0gInN1Z2dlc3RfcHJvbW90ZWQiKTsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKQogICAgewogICAgICAgIHByb2Nlc3NUaW1lbGluZUVudHJ5KGVudHJpZXNbaV0pOwogICAgfQp9CgpmdW5jdGlvbiBwcm9jZXNzVGltZWxpbmVEYXRhKGpzb24pCnsKICAgIGxldCBpbnN0cnVjdGlvbnMgPSBqc29uPy5kYXRhPy5ob21lPy5ob21lX3RpbWVsaW5lX3VydD8uaW5zdHJ1Y3Rpb25zOwogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgaW5zdHJ1Y3Rpb25zID0ganNvbi5kYXRhPy51c2VyPy5yZXN1bHQ/LnRpbWVsaW5lX3YyPy50aW1lbGluZT8uaW5zdHJ1Y3Rpb25zOyB9CiAgICBpZihpbnN0cnVjdGlvbnMgPT0gbnVsbCkgeyBpbnN0cnVjdGlvbnMgPSBqc29uLmRhdGE/LnRocmVhZGVkX2NvbnZlcnNhdGlvbl93aXRoX2luamVjdGlvbnNfdjI/Lmluc3RydWN0aW9uczsgfQogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgaW5zdHJ1Y3Rpb25zID0ganNvbi5kYXRhPy5ib29rbWFya190aW1lbGluZV92Mj8udGltZWxpbmU/Lmluc3RydWN0aW9uczsgfQogICAgaWYoaW5zdHJ1Y3Rpb25zID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgZm9yKGxldCBpbnN0ID0gMDsgaW5zdCA8IGluc3RydWN0aW9ucy5sZW5ndGg7IGluc3QrKykKICAgIHsKICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaW5zdF07CiAgICAgICAgaWYoaW5zdHJ1Y3Rpb24udHlwZSA9PSAiVGltZWxpbmVBZGRFbnRyaWVzIikKICAgICAgICB7CiAgICAgICAgICAgIHByb2Nlc3NUaW1lbGluZUVudHJpZXMoaW5zdHJ1Y3Rpb24uZW50cmllcyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoaW5zdHJ1Y3Rpb24udHlwZSA9PSAiVGltZWxpbmVQaW5FbnRyeSIpCiAgICAgICAgewogICAgICAgICAgICBwcm9jZXNzVGltZWxpbmVFbnRyeShpbnN0cnVjdGlvbi5lbnRyeSk7IC8vUGlubmVkIHR3ZWV0CiAgICAgICAgfQogICAgfQp9Cgp2YXIgZmlyc3RSdW4gPSB0cnVlOwoKZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0c1F1ZXJ5KGVudHJpZXMpCnsKICAgIGZvcihsZXQgaSA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pCiAgICB7CiAgICAgICAgbGV0IGVudHJ5ID0gZW50cmllc1tpXTsKICAgICAgICBsZXQgY29udGVudCA9IGVudHJ5LmNvbnRlbnQ7CiAgICAgICAgaWYoY29udGVudCA9PSBudWxsKSB7IGNvbnRpbnVlOyB9CgogICAgICAgIGlmKGNvbnRlbnQuaXRlbXMpCiAgICAgICAgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5pdGVtc1swXS5pdGVtLml0ZW1Db250ZW50OwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5pdGVtQ29udGVudDsKICAgICAgICB9CgogICAgICAgIGlmKGNvbnRlbnQgPT0gbnVsbCB8fCBjb250ZW50LnR3ZWV0X3Jlc3VsdHMgPT0gbnVsbCkgeyBjb250aW51ZTsgfQogICAgICAgIGlmKGZpcnN0UnVuICYmIGVudHJpZXMubGVuZ3RoIDw9IDQpIC8vQXZvaWQgdGhlIHRpbWVsaW5lIGZyZWV6aW5nIGZyb20gbm90IGVub3VnaCBpbml0aWFsIGVudHJpZXMKICAgICAgICB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgaWYoY29udGVudC5wcm9tb3RlZE1ldGFkYXRhICYmIGNvbnRlbnQucHJvbW90ZWRNZXRhZGF0YS5hZHZlcnRpc2VyX3Jlc3VsdHMpCiAgICAgICAgewogICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihjb250ZW50LnNvY2lhbENvbnRleHQpCiAgICAgICAgewoKICAgICAgICAgICAgbGV0IGNvbnRleHRUeXBlID0gY29udGVudC5zb2NpYWxDb250ZXh0LmNvbnRleHRUeXBlOwoKICAgICAgICAgICAgaWYoKCF0b2dnbGVMaWtlZC5lbmFibGVkICYmIGNvbnRleHRUeXBlID09ICJMaWtlIikgfHwgKCF0b2dnbGVGb2xsb3dlZC5lbmFibGVkICYmIGNvbnRleHRUeXBlID09ICJGb2xsb3ciKSB8fCAoIXRvZ2dsZVRvcGljcy5lbmFibGVkICYmIGNvbnRlbnQuc29jaWFsQ29udGV4dC50eXBlID09ICJUaW1lbGluZVRvcGljQ29udGV4dCIpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgZWxzZSBpZighdG9nZ2xlUmV0d2VldC5lbmFibGVkCiAgICAgICAgICAgICAgICAmJiBjb250ZW50LnR3ZWV0X3Jlc3VsdHMucmVzdWx0LmxlZ2FjeSAhPSBudWxsCiAgICAgICAgICAgICAgICAmJiBjb250ZW50LnR3ZWV0X3Jlc3VsdHMucmVzdWx0LmxlZ2FjeS5yZXR3ZWV0ZWRfc3RhdHVzX3Jlc3VsdCAhPSBudWxsCiAgICAgICAgICAgICAgICYmIGNvbnRlbnQudHdlZXRfcmVzdWx0cy5yZXN1bHQubGVnYWN5LnJldHdlZXRlZF9zdGF0dXNfcmVzdWx0LnJlc3VsdC5jb3JlLnVzZXJfcmVzdWx0cy5yZXN1bHQubGVnYWN5LmZvbGxvd2luZyA9PSBmYWxzZSkgLy9Pbmx5IGhpZGUgdGhlIFJldHdlZXQgaWYgaXQncyBub3QgdGhlIHVzZXIncyBvd24gdHdlZXQKICAgICAgICB7CgogICAgICAgICAgICAgZW50cmllcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgfQoKICAgIGZpcnN0UnVuID0gZmFsc2U7CiAgICByZXR1cm4gZW50cmllczsKfQoKCmZ1bmN0aW9uIGdldFBvc3RCdXR0b25Db3B5KHR3ZWV0LCBuYW1lLCBzdmcsIHN2Z1ZpZXdCb3gsIGNvbG9yLCBiZ0NvbG9yLCBvbkhvdmVyaW5nLCBvbk5vdEhvdmVyaW5nKQp7CiAgICBsZXQgZ2V0QnV0dG9uVG9EdXBlID0gZnVuY3Rpb24gKGJ0bkdycCkgeyByZXR1cm4gYnRuR3JwLmxhc3RDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7IH07CiAgICBsZXQgaXNJZnJhbWUgPSBmYWxzZTsKICAgIGxldCBpZCA9ICJ0aGRfYnV0dG9uXyIgKyBuYW1lOwoKICAgIGxldCBidXR0b25HcnAgPSB0d2VldC5jbG9zZXN0KCdhcnRpY2xlW3JvbGU9ImFydGljbGUiXScpPy5xdWVyeVNlbGVjdG9yKCdkaXZbcm9sZT0iZ3JvdXAiXVtpZF49ImlkX18iXScpOwogICAgaWYgKGJ1dHRvbkdycCA9PSBudWxsKSAvL1RyeSBpZnJhbWUgdmVyc2lvbgogICAgewogICAgICAgIGJ1dHRvbkdycCA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdiBhW2hyZWYqPSJsaWtlPyJdJyk/LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgaWYgKGJ1dHRvbkdycCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgaXNJZnJhbWUgPSB0cnVlOwogICAgICAgICAgICBnZXRCdXR0b25Ub0R1cGUgPSBmdW5jdGlvbiAoYnRuR3JwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gYnRuR3JwLnF1ZXJ5U2VsZWN0b3IoJ2E6bnRoLWNoaWxkKDIpJykuY2xvbmVOb2RlKHRydWUpOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0KICAgIGlmIChidXR0b25HcnAgPT0gbnVsbCB8fCBidXR0b25HcnAucXVlcnlTZWxlY3RvcigiZGl2IyIgKyBpZCkgIT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfSAvL0J1dHRvbiBncm91cCBkb2Vzbid0IGV4aXN0IG9yIHdlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgZWxlbWVudCBhbmQgYWRkZWQgYSBETCBidXR0b24KCiAgICBidXR0b25HcnAuc3R5bGUubWF4V2lkdGggPSAiMTAwJSI7CgogICAgaWYoIXRvZ2dsZUFuYWx5dGljc0Rpc3BsYXkuZW5hYmxlZCkKICAgIHsKICAgICAgICBsZXQgYW5hbEJ0biA9IGJ1dHRvbkdycC5xdWVyeVNlbGVjdG9yKCdhW2hyZWYkPSIvYW5hbHl0aWNzIl0nKTsKICAgICAgICBpZihhbmFsQnRuKSB7IGFuYWxCdG4ucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyB9CiAgICB9CgogICAgbGV0IGJ0biA9IGdldEJ1dHRvblRvRHVwZShidXR0b25HcnApOwoKICAgIGlmKGJ0biAhPSBudWxsKQogICAgewogICAgICAgIGJ1dHRvbkdycC5hcHBlbmRDaGlsZChidG4pOwogICAgICAgIGJ0bi5pZCA9IGlkOwogICAgICAgIGJ0bi5zdHlsZS5tYXJnaW5SaWdodCA9ICI4cHgiOwogICAgICAgIGJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjhweCI7CiAgICAgICAgJChidG4ucGFyZW50Tm9kZSkuYWRkQ2xhc3MoYnRuLmNsYXNzTmFtZSk7CiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG5hbWUpOwogICAgICAgIGJ0bi50aXRsZSA9IG5hbWU7CiAgICAgICAgY29uc3QgaWNvbkRpdiA9IGlzSWZyYW1lID8gYnRuLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkaXI9ImF1dG8iXScpIDogYnRuLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkaXI9Imx0ciJdJyk7CiAgICAgICAgY29uc3Qgc3ZnRWxlbSA9IGJ0bi5xdWVyeVNlbGVjdG9yKCdzdmcnKTsKICAgICAgICBjb25zdCBiZyA9IGlzSWZyYW1lID8gc3ZnRWxlbS5wYXJlbnRFbGVtZW50IDogaWNvbkRpdi5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZDsKCiAgICAgICAgc3ZnRWxlbS5pbm5lckhUTUwgPSBzdmc7CgogICAgICAgIHN2Z0VsZW0uc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgc3ZnVmlld0JveCk7CgogICAgICAgIGNvbnN0IG9sZEJHQ29sb3IgPSAkKGJnKS5jc3MoImJhY2tncm91bmQtY29sb3IiKTsKICAgICAgICBjb25zdCBvbGRJY29uQ29sb3IgPSAkKGljb25EaXYpLmNzcygiY29sb3IiKTsKCiAgICAgICAgbGV0IGhvdmVyID0gZnVuY3Rpb24oKQogICAgICAgIHsKICAgICAgICAgICAgJChiZykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgYmdDb2xvcik7CiAgICAgICAgICAgICQoYmcpLmNzcygiYm9yZGVyLXJhZGl1cyIsICIyMHB4Iik7CiAgICAgICAgICAgICQoc3ZnRWxlbSkuY3NzKCJjb2xvciIsIGNvbG9yKTsKICAgICAgICAgIC8vICBvbkhvdmVyaW5nKHtidG46IGJ0biwgaW5JZnJhbWU6IGlzSWZyYW1lLCBzdmc6IHN2Z0VsZW19KTsKICAgICAgICB9OwoKICAgICAgICBsZXQgdW5ob3ZlciA9IGZ1bmN0aW9uKCkKICAgICAgICB7CiAgICAgICAgICAgICQoYmcpLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIG9sZEJHQ29sb3IpOwogICAgICAgICAgICAkKHN2Z0VsZW0pLmNzcygiY29sb3IiLCBvbGRJY29uQ29sb3IpOwogICAgICAgICAgICBpZihvbk5vdEhvdmVyaW5nKSBvbk5vdEhvdmVyaW5nKHN2Z0VsZW0pOwogICAgICAgIH07CgogICAgICAgIGxldCB1cGRhdGVDb2xvciA9IGZ1bmN0aW9uKCkKICAgICAgICB7CiAgICAgICAgICBpZihidG4ubWF0Y2hlcygiOmhvdmVyIikpIHsgdW5ob3ZlcigpOyB9CiAgICAgICAgICBlbHNlIHsgaG92ZXIoKTsgfQogICAgICAgIH07CgogICAgICAgIC8vRW11bGF0ZSBUd2l0dGVyIGhvdmVyIGNvbG9yIGNoYW5nZQogICAgICAgICQoYnRuKS5ob3ZlcigoKSA9PiB7IGhvdmVyKCk7IH0sICgpID0+IHsgdW5ob3ZlcigpOyB9KTsKCiAgICAgICAgJChiZykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgb2xkQkdDb2xvcik7CiAgICAgICAgJChzdmdFbGVtKS5jc3MoImNvbG9yIiwgb2xkSWNvbkNvbG9yKTsKCgogICAgICAgIHJldHVybiB7YnRuOiBidG4sIGluSWZyYW1lOiBpc0lmcmFtZSwgc3ZnOiBzdmdFbGVtLCBkb0hvdmVyOiBob3ZlciwgZG9VbmhvdmVyOiB1bmhvdmVyLCB1cGRhdGVDb2w6IHVwZGF0ZUNvbG9yfTsKICAgIH0KCiAgICByZXR1cm4ge2J0bjogYnRuLCBpbklmcmFtZTogaXNJZnJhbWUsIHN2ZzogbnVsbH07Cn0KCmZ1bmN0aW9uIGFkZEJvb2ttYXJrQnV0dG9uKHR3ZWV0RGF0YSkKewogICAgbGV0IGlkID0gdHdlZXREYXRhLmlkOwogICAgbGV0IHR3ZWV0ID0gdHdlZXREYXRhLnR3ZWV0RWxlbTsKICAgIGlmKHR3ZWV0ID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgaWYodHdlZXQucXVlcnlTZWxlY3RvcignZGl2W2RhdGEtdGVzdGlkPSJib29rbWFyayJdJykgIT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBsZXQgb25Ib3ZlclN0b3BwZWQgPSBmdW5jdGlvbihzdmdFbGVtLCB0d2VldElEKQogICAgewogICAgICAgICBsZXQgdHdlZXREYXRhID0gdHdlZXRzLmdldCh0d2VldElEKTsKICAgICAgICBpZih0d2VldERhdGEgJiYgdHdlZXREYXRhLmJvb2ttYXJrZWQoKSkgewogICAgICAgICAgICAkKHN2Z0VsZW0pLmNzcygiY29sb3IiLCAiIzFjOWJmMEZGIik7CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IGJ0bkNvcHkgPSBnZXRQb3N0QnV0dG9uQ29weSh0d2VldCwgIkJvb2ttYXJrIiwgYm9va21hcmtTVkcsICIwIDAgMjQgMjQiLCAiIzFjOWJmMCIsICIjMWM5YmYwMWEiLCAoZGF0YSk9Pnt9LCAoc3ZnRWxlbSkgPT4ge29uSG92ZXJTdG9wcGVkKHN2Z0VsZW0sIGlkKTt9KTsKCiAgICBpZihidG5Db3B5ID09IG51bGwpIHsgcmV0dXJuOyB9CiAgICBsZXQgYnRuID0gYnRuQ29weS5idG47CiAgICBpZihidG4gPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBvbkhvdmVyU3RvcHBlZChidG5Db3B5LnN2ZywgaWQpOwoKICAgICQoYnRuKS5jbGljayhmdW5jdGlvbiAoZSkKICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBsZXQgdHdlZXREYXRhID0gdHdlZXRzLmdldChpZCk7CgogICAgICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IGNvbnNvbGUubG9nKCJDb3VsZG4ndCBmaW5kIHR3ZWV0IGRhdGEgZm9yOiAiICsgaWQpOyByZXR1cm47fQogICAgICAgIGlmKHR3ZWV0RGF0YS5ib29rbWFya2VkKCkpCiAgICAgICAgewogICAgICAgICAgICB1bmJvb2ttYXJrUG9zdChpZCwgKHJlc3ApID0+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKHJlc3Auc3RhdHVzIDwgMzAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHR3ZWV0RGF0YS51bmJvb2ttYXJrKCk7CiAgICAgICAgICAgICAgICAgICAgYnRuQ29weS51cGRhdGVDb2woKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgYm9va21hcmtQb3N0KGlkLCAocmVzcCkgPT4KICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZihyZXNwLnN0YXR1cyA8IDMwMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0d2VldERhdGEuYm9va21hcmsoKTsKICAgICAgICAgICAgICAgICAgICBidG5Db3B5LnVwZGF0ZUNvbCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gYWRkRG93bmxvYWRCdXR0b24odHdlZXREYXRhLCBtZWRpYUluZm8pCnsKICAgIGZvcihsZXQgaSA9IG1lZGlhSW5mby5kYXRhLm1lZGlhTnVtIC0gMjsgaSA+IDA7IGktLSkKICAgIHsKICAgICAgICBpZih0d2VldERhdGEubWVkaWFbaV0udHlwZSA9PSAndmlkZW8nKSB7IHJldHVybjsgfQogICAgfQogICAgbGV0IHZpZFVybCA9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkw7CiAgICBjb25zdCBidG5Db3B5ID0gZ2V0UG9zdEJ1dHRvbkNvcHkodHdlZXREYXRhLnR3ZWV0RWxlbSwgIkRvd25sb2FkIiwgZGxTVkcsICItODAgLTgwIDE2MCAxNjAiLCAiI2YzZDYwN0ZGIiwgIiNmM2Q2MDcyMCIpOwogICAgaWYoYnRuQ29weSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGNvbnN0IGRsQnRuID0gYnRuQ29weS5idG47CgogICAgaWYoZGxCdG4gPT0gbnVsbCB8fCBidG5Db3B5ID09IG51bGwpIHsgcmV0dXJuOyB9CgogICAgbGV0IGlzSWZyYW1lID0gYnRuQ29weS5pbklmcmFtZTsKICAgIGNvbnN0IGZpbGVuYW1lID0gZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhSW5mby5kYXRhKTsKCiAgICBkbEJ0bi5ocmVmID0gdmlkVXJsOwoKICAgIGNvbnN0IGxpbmtFbGVtID0gaXNJZnJhbWUgPyBkbEJ0biA6ICQoZGxCdG4pLndyYXBBbGwoYDxhIGhyZWY9IiR7dmlkVXJsfSIgZG93bmxvYWQ9IiR7ZmlsZW5hbWV9IiBzdHlsZT0iIj48L2E+YClbMF0ucGFyZW50RWxlbWVudDsKCiAgICBpZiAoaXNJZnJhbWUpCiAgICB7CiAgICAgICAgbGlua0VsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTsKICAgICAgICBkbEJ0bi5xdWVyeVNlbGVjdG9yKCdkaXZbZGlyPSJhdXRvIl0gPiBzcGFuJykuaW5uZXJUZXh0ID0gIkRvd25sb2FkIjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkbEJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIiI7CiAgICAgICAgbGlua0VsZW0uc3R5bGUuY3NzVGV4dCA9IGRsQnRuLnN0eWxlLmNzc1RleHQ7CiAgICAgICAgZGxCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSAiIjsKICAgIH0KCgogICAgJChsaW5rRWxlbSkuY2xpY2soZnVuY3Rpb24gKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgZG93bmxvYWQodmlkVXJsLCBmaWxlbmFtZSk7IH0pOwp9CgpmdW5jdGlvbiB3YWl0Rm9ySW1nTG9hZChpbWcpCnsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PgogICAgewogICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7CiAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7CiAgICB9KTsKfQoKZnVuY3Rpb24gdXBkYXRlSW1nU3JjKGltZ0VsZW0sIGJnRWxlbSwgc3JjKQp7CiAgICBpZiAoaW1nRWxlbS5zcmMgIT0gc3JjICYmIHRvZ2dsZUhRSW1nLmVuYWJsZWQpCiAgICB7CiAgICAgICAgaW1nRWxlbS5zcmMgPSBzcmM7CiAgICAgICAgYmdFbGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoIiR7c3JjfSIpYDsKICAgIH0KfTsKCmZ1bmN0aW9uIHVwZGF0ZUVsZW1QYWRkaW5nKHBhbmVsQ250LCBiYWNrZ3JvdW5kLCBpbWdDb250YWluZXJFbGVtKQp7CiAgICBpZiAocGFuZWxDbnQgIT0gMykKICAgIHsKICAgICAgICBpZihiYWNrZ3JvdW5kKQogICAgICAgIHsKICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgICB9IGVsc2Uge30KICAgICAgICAvL2ltZ0NvbnRhaW5lckVsZW0uc3R5bGUubWFyZ2luQm90dG9tID0gIjAlIjsKICAgIH0KICAgIGlmIChwYW5lbENudCA8IDIpCiAgICB7CiAgICAgICAgaW1nQ29udGFpbmVyRWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaW1nQ29udGFpbmVyRWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAlIjsKICAgICAgICBpbWdDb250YWluZXJFbGVtLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjAlIjsKICAgICAgICBpbWdDb250YWluZXJFbGVtLnN0eWxlLm1hcmdpblRvcCA9ICIwJSI7CiAgICB9Cn07CgpmdW5jdGlvbiB1cGRhdGVDb250ZW50RWxlbWVudCh0d2VldERhdGEsIG1lZGlhSW5mbywgZWxlbUluZGV4LCBlbGVtQ250KQp7CiAgICBsZXQgaHFTcmMgPSB0d2VldERhdGEuZGF0YS51cmxTcmM7CiAgICBsZXQgbWVkaWFFbGVtID0gbWVkaWFJbmZvLm1lZGlhRWxlbTsKICAgIGxldCB0d2VldFBob3RvID0gbWVkaWFFbGVtLmNsb3Nlc3QoJ2RpdltkYXRhLXRlc3RpZD0idHdlZXRQaG90byJdJyk7CiAgICBjb25zdCBmbGV4RGlyID0gJCh0d2VldFBob3RvKS5jc3MoJ2ZsZXgtZGlyZWN0aW9uJyk7CiAgICBjb25zdCBpc1ZpZGVvID0gbWVkaWFJbmZvLmRhdGEudHlwZSA9PSAndmlkZW8nOwogICAgbGV0IGJnID0gaXNWaWRlbyA/IG1lZGlhRWxlbS5wYXJlbnRFbGVtZW50IDogdHdlZXRQaG90by5xdWVyeVNlbGVjdG9yKCdkaXZbc3R5bGVePSJiYWNrZ3JvdW5kLWltYWdlIl0nKTsKCiAgICBsZXQgbGlua0VsZW0gPSB0d2VldFBob3RvLnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0idmlkZW9QbGF5ZXIiXScpID8/IG1lZGlhRWxlbS5jbG9zZXN0KCdhJyk7CgogICAgbWVkaWFJbmZvLnR3ZWV0UGhvdG9FbGVtID0gdHdlZXRQaG90bzsKICAgIG1lZGlhSW5mby5saW5rRWxlbSA9IGxpbmtFbGVtOwogICAgbWVkaWFJbmZvLmJnRWxlbSA9IGJnOwogICAgbWVkaWFJbmZvLmZsZXggPSBmbGV4RGlyOwoKICAgIGlmKGlzVmlkZW8pCiAgICB7CiAgICAgICAgYWRkRG93bmxvYWRCdXR0b24odHdlZXREYXRhLCBtZWRpYUluZm8pOwogICAgfQogICAgZWxzZSBpZihtZWRpYUVsZW0uc3JjICE9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpCiAgICB7CiAgICAgICAgdXBkYXRlSW1nU3JjKG1lZGlhRWxlbSwgYmcsIG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpOwogICAgfQoKICAgIGFkZEN1c3RvbUN0eE1lbnUodHdlZXREYXRhLCBtZWRpYUluZm8sIG1lZGlhSW5mby5saW5rRWxlbSk7Ci8vICAgIG1lZGlhRWxlbS5zZXRBdHRyaWJ1dGUobW9kaWZpZWRBdHRyLCAiIik7CgogICAgdXBkYXRlRWxlbVBhZGRpbmcoZWxlbUNudCwgYmcsIHR3ZWV0UGhvdG8pOwogICAgZG9PbkF0dHJpYnV0ZUNoYW5nZSh0d2VldFBob3RvLCAoY29udGFpbmVyKSA9PiB1cGRhdGVFbGVtUGFkZGluZyhlbGVtQ250LCBiZywgY29udGFpbmVyKSwgdHJ1ZSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRFbGVtZW50cyh0d2VldERhdGEsIG1lZGlhSW5mb3MpCnsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsIHx8IG1lZGlhSW5mb3MgPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICBsZXQgZWxlbUNudCA9IG1lZGlhSW5mb3MubGVuZ3RoOwogICAgZm9yKGxldCBpID0gMDsgaSA8IGVsZW1DbnQ7IGkrKykKICAgIHsKICAgICAgICB1cGRhdGVDb250ZW50RWxlbWVudCh0d2VldERhdGEsIG1lZGlhSW5mb3NbaV0sIGksIGVsZW1DbnQpOwogICAgfQoKICAgIHVwZGF0ZUNvbnRlbnRMYXlvdXQodHdlZXREYXRhLCBtZWRpYUluZm9zKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ29udGVudExheW91dCh0d2VldERhdGEsIG1lZGlhRWxlbXMpCnsKICAgICBwcm9jZXNzQmx1ckJ1dHRvbih0d2VldERhdGEudHdlZXRFbGVtKTsKCiAgICBsZXQgZWxlbUNudCA9IG1lZGlhRWxlbXMubGVuZ3RoOwoKICAgIGxldCByYXRpbyA9IDEwMDsKCiAgICByYXRpbyA9IChtZWRpYUVsZW1zWzBdLmRhdGEuaGVpZ2h0IC8gbWVkaWFFbGVtc1swXS5kYXRhLndpZHRoKSAqIDEwMDsKCiAgICBpZiAoZWxlbUNudCA9PSAyKQogICAgewogICAgICAgIGxldCBpbWcxID0gbWVkaWFFbGVtc1swXTsKICAgICAgICBsZXQgaW1nMiA9IG1lZGlhRWxlbXNbMV07CiAgICAgICAgbGV0IGltZzFSYXRpbyA9IGltZzEuZGF0YS5oZWlnaHQgLyBpbWcxLmRhdGEud2lkdGg7CiAgICAgICAgbGV0IGltZzJSYXRpbyA9IGltZzIuZGF0YS5oZWlnaHQgLyBpbWcyLmRhdGEud2lkdGg7CiAgICAgICAgdmFyIGltZ1RvUmF0aW8gPSBpbWcxUmF0aW8gPiBpbWcyUmF0aW8gPyBpbWcxIDogaW1nMjsKICAgICAgICByYXRpbyA9IChpbWdUb1JhdGlvLmRhdGEuaGVpZ2h0IC8gaW1nVG9SYXRpby5kYXRhLndpZHRoKTsKCiAgICAgICAgaW1nMS5iZ0VsZW0uc3R5bGUuYmFja2dyb3VuZFNpemUgPSAiY292ZXIiOwogICAgICAgIGltZzIuYmdFbGVtLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgICBpbWcxLnR3ZWV0UGhvdG9FbGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpOwogICAgICAgIGltZzIudHdlZXRQaG90b0VsZW0ucGFyZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIik7CgogICAgICAgIGlmIChpbWcxLmZsZXggPT0gInJvdyIpCiAgICAgICAgewogICAgICAgICAgICBpZiAoaW1nVG9SYXRpby5kYXRhLmhlaWdodCA+IGltZ1RvUmF0aW8uZGF0YS53aWR0aCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmF0aW8gKj0gMC41OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIC8vaWYocmF0aW8gPiAxLjApIHsgICByYXRpbyA9ICgocmF0aW8gLSAxLjApICogMC41KSArIDEuMDt9CiAgICAgICAgICAgIHJhdGlvICo9IDAuNTsKICAgICAgICB9CgogICAgICAgIHJhdGlvID0gTWF0aC5taW4ocmF0aW8sIDMuMCk7CiAgICAgICAgcmF0aW8gPSByYXRpbyAqIDEwMDsKICAgIH0KICAgIGVsc2UgaWYgKGVsZW1DbnQgPT0gMyAmJiBtZWRpYUVsZW1zWzBdLmZsZXggPT0gInJvdyIpCiAgICB7CiAgICAgICAgbGV0IGltZzEgPSBtZWRpYUVsZW1zWzBdOwogICAgICAgIGxldCBpbWcxUmF0aW8gPSBpbWcxLmRhdGEuaGVpZ2h0IC8gaW1nMS5kYXRhLndpZHRoOwogICAgICAgIGlmIChpbWcxUmF0aW8gPCAxLjEwICYmIGltZzFSYXRpbyA+IDAuOSkgeyBpbWcxLmJnRWxlbS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICJjb250YWluIjsgfQogICAgfQogICAgZWxzZSBpZiAoZWxlbUNudCA9PSA0KQogICAgewogICAgICAgIGlmIChtZWRpYUVsZW1zWzBdLmRhdGEud2lkdGggPiBtZWRpYUVsZW1zWzBdLmRhdGEuaGVpZ2h0ICYmCiAgICAgICAgICAgIG1lZGlhRWxlbXNbMV0uZGF0YS53aWR0aCA+IG1lZGlhRWxlbXNbMV0uZGF0YS5oZWlnaHQgJiYKICAgICAgICAgICAgbWVkaWFFbGVtc1syXS5kYXRhLndpZHRoID4gbWVkaWFFbGVtc1syXS5kYXRhLmhlaWdodCAmJgogICAgICAgICAgICBtZWRpYUVsZW1zWzNdLmRhdGEud2lkdGggPiBtZWRpYUVsZW1zWzNdLmRhdGEuaGVpZ2h0KQogICAgICAgIHt9IC8vQWxsLXdpZGUgNC1wYW5lbCBhbHJlYWR5IGhhcyBhbiBvcHRpbWFsIGxheW91dCBieSBkZWZhdWx0LgogICAgICAgIGVsc2UgaWYgKG1lZGlhRWxlbXNbMF0uZGF0YS53aWR0aCA+IG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQpCiAgICAgICAgewogICAgICAgICAgICAvLyByYXRpbyA9IDEwMDsKICAgICAgICAgICAgbGV0IGltZzFSYXRpbyA9IG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQgLyBtZWRpYUVsZW1zWzBdLmRhdGEud2lkdGg7CiAgICAgICAgICAgIGxldCBpbWcyUmF0aW8gPSBtZWRpYUVsZW1zWzFdLmRhdGEuaGVpZ2h0IC8gbWVkaWFFbGVtc1sxXS5kYXRhLndpZHRoOwogICAgICAgICAgICBsZXQgaW1nM1JhdGlvID0gbWVkaWFFbGVtc1syXS5kYXRhLmhlaWdodCAvIG1lZGlhRWxlbXNbMl0uZGF0YS53aWR0aDsKICAgICAgICAgICAgbGV0IGltZzRSYXRpbyA9IG1lZGlhRWxlbXNbM10uZGF0YS5oZWlnaHQgLyBtZWRpYUVsZW1zWzNdLmRhdGEud2lkdGg7CiAgICAgICAgICAgIGxldCBtaW5JbWcgPSBpbWcxUmF0aW8gPiBpbWcyUmF0aW8gPyBtZWRpYUVsZW1zWzFdIDogbWVkaWFFbGVtc1swXTsKCiAgICAgICAgICAgIHJhdGlvID0gKG1lZGlhRWxlbXNbMF0uZGF0YS5oZWlnaHQgKyBtZWRpYUVsZW1zWzFdLmRhdGEuaGVpZ2h0KSAvIG1pbkltZy5kYXRhLndpZHRoOwogICAgICAgICAgICByYXRpbyAqPSAxMDA7CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IHVwZGF0ZVBhZGRlciA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICBjb25zdCBwYWRkZXIgPSB0d2VldERhdGEudHdlZXRFbGVtLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpZF49ImlkXyJdIGRpdltzdHlsZV49InBhZGRpbmctYm90dG9tIl0nKTsKCiAgICAgICAgaWYocGFkZGVyICE9IG51bGwgJiYgcGFkZGVyLmdldEF0dHJpYnV0ZSgibW9kaWZpZWRQYWRkaW5nIikgPT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGNvbnN0IG1vZFBhZGRpbmdBdHRyID0gIm1vZGlmaWVkUGFkZGluZyI7CiAgICAgICAgICAgIGNvbnN0IHBhZGRlclBhcmVudCA9IHBhZGRlci5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICBjb25zdCBmbGV4ZXIgPSBwYWRkZXIuY2xvc2VzdCgnZGl2W2lkXj0iaWRfIl0gPiBkaXYnKTsKICAgICAgICAgICAgY29uc3QgYmcgPSBmbGV4ZXIucXVlcnlTZWxlY3RvcignZGl2W3N0eWxlXj0iYmFja2dyb3VuZCJdID4gZGl2Jyk7CgogICAgICAgICAgICBwYWRkZXJQYXJlbnQuc3R5bGUgPSAiIjsKICAgICAgICAgICAgcGFkZGVyLnN0eWxlID0gYHBhZGRpbmctYm90dG9tOiAke3JhdGlvfSU7YDsKICAgICAgICAgICAgcGFkZGVyLnNldEF0dHJpYnV0ZShtb2RQYWRkaW5nQXR0ciwgIiIpOwogICAgICAgICAgICBwYWRkZXJQYXJlbnQuc2V0QXR0cmlidXRlKG1vZFBhZGRpbmdBdHRyLCAiIik7CiAgICAgICAgICAgIGZsZXhlci5zdHlsZSA9ICJhbGlnbi1zZWxmOm5vcm1hbDsgIWltcG9ydGFudCI7IC8vQ291bnRlcmFjdCBUd2l0dGVyJ3MgbmV3IHZhcmlhYmxlIHdpZHRoIGRpc3BsYXkgb2YgY29udGVudCB0aGF0IGlzIHJhdGhlciB3YXN0ZWZ1bCBvZiBzY3JlZW5zcGFjZQogICAgICAgICAgICBpZihiZykgeyBiZy5zdHlsZS53aWR0aCA9ICIxMDAlIjsgfQoKICAgICAgICAgICAgZG9PbkF0dHJpYnV0ZUNoYW5nZShwYWRkZXIsIChwYWRkZXJFbGVtKSA9PiB7IGlmKHBhZGRlckVsZW0uZ2V0QXR0cmlidXRlKCJtb2RpZmllZFBhZGRpbmciKSA9PSBudWxsKSB7IHBhZGRlckVsZW0uc3R5bGUgPSAicGFkZGluZy1ib3R0b206ICIgKyAocmF0aW8pICsgIiU7Ijt9IH0pCiAgICAgICAgICAgIGlmKHBhZGRlclBhcmVudC5nZXRBdHRyaWJ1dGUoIm1vZGlmaWVkUGFkZGluZyIpID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRvT25BdHRyaWJ1dGVDaGFuZ2UocGFkZGVyUGFyZW50LCAocGFkZGVyUGFyZW50RWxlbSkgPT4geyBpZihwYWRkZXJQYXJlbnRFbGVtLmdldEF0dHJpYnV0ZSgibW9kaWZpZWRQYWRkaW5nIikgPT0gbnVsbCkgeyBwYWRkZXJQYXJlbnRFbGVtLnN0eWxlID0gIiI7fSB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgdXBkYXRlUGFkZGVyKCk7CiAgICB3YXRjaEZvckNoYW5nZSh0d2VldERhdGEudHdlZXRFbGVtLCBhcmdzQ2hpbGRBbmRTdWIsICh0d2VldCwgbXV0ZXMpID0+IHsgdXBkYXRlUGFkZGVyKCk7IH0pOwoKCiAvKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbUNudDsgaSsrKQogICAgewogICAgICAgIGxldCBjdXJJbWcgPSBtZWRpYUVsZW1zW2ldOwogICAgICAgIHVwZGF0ZUltZ1NyYyhjdXJJbWcsIGN1ckltZy5iZ0VsZW0sIGN1ckltZy5ocVNyYyk7CiAgICAgICAgZG9PbkF0dHJpYnV0ZUNoYW5nZShjdXJJbWcubGF5b3V0Q29udGFpbmVyLCAoKSA9PiB7IHVwZGF0ZUltZ1NyYyhjdXJJbWcsIGN1ckltZy5iZ0VsZW0sIGN1ckltZy5ocVNyYykgfSk7CiAgICB9Ki8KCiAgICAvL0Fubm95aW5nIEVkZ2UuLi4uZWRnZS1jYXNlLiBIYXZlIHRvIGZpbmQgdGhpcyByYW5kb20gY2xhc3MgbmFtZSBnZW5lcmF0ZWQgZWxlbWVudCBhbmQgcmVtb3ZlIGl0cyBhbGlnbiBzbyB0aGF0IGVsZW1lbnRzIHdpbGwgZXhwYW5kIGZ1bGx5IGludG8gdGhlIGZlZWQgY29sdW1uCiAgICB2YXIgZWRnZUNhc2UgPSBnZXRDU1NSdWxlQ29udGFpbmluZ1N0eWxlKCdhbGlnbi1zZWxmJywgWycuci0nXSwgMCwgJ2ZsZXgtc3RhcnQnKTsKICAgIGlmIChlZGdlQ2FzZSAhPSBudWxsKQogICAgewogICAgICAgIGVkZ2VDYXNlLnN0eWxlLnNldFByb3BlcnR5KCdhbGlnbi1zZWxmJywgImluaGVyaXQiKTsKICAgIH0KCi8vICAgIGlmKHBhZGRlciAhPSBudWxsKQovLyAgICB7CiAvLyAgICAgICBkb09uQXR0cmlidXRlQ2hhbmdlKHBhZGRlciwgKHBhZGRlckVsZW0pID0+IHsgaWYocGFkZGVyRWxlbS5nZXRBdHRyaWJ1dGUoIm1vZGlmaWVkUGFkZGluZyIpID09IG51bGwpIHsgcGFkZGVyRWxlbS5zdHlsZSA9ICJwYWRkaW5nLWJvdHRvbTogIiArIChyYXRpbykgKyAiJTsiO30gfSkKIC8vICAgICAgIGRvT25BdHRyaWJ1dGVDaGFuZ2UocGFkZGVyLnBhcmVudEVsZW1lbnQsIChwYWRkZXJQYXJlbnRFbGVtKSA9PiB7IGlmKHBhZGRlclBhcmVudEVsZW0uZ2V0QXR0cmlidXRlKCJtb2RpZmllZFBhZGRpbmciKSA9PSBudWxsKSB7IHBhZGRlclBhcmVudEVsZW0uc3R5bGUgPSAiIjt9IH0pCiAvLyAgIH0KfQoKCmZ1bmN0aW9uIGlzQWR2ZXJ0KHR3ZWV0KQp7CiAgICBsZXQgaW1wcmVzc2lvbiA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0icGxhY2VtZW50VHJhY2tpbmciXSBkaXZbZGF0YS10ZXN0aWQkPSJpbXByZXNzaW9uLXBpeGVsIl0nKTsKICAgIGlmKGltcHJlc3Npb24pCiAgICB7CiAgICAgICAgdHdlZXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0Q29udGVudCh0d2VldERhdGEpCnsKICAgIGxldCBtZWRpYXMgPSB0d2VldERhdGEubWVkaWE7CiAgICBsZXQgZWxlbXNRdWVyeSA9IG5ldyBBcnJheShtZWRpYXMubGVuZ3RoKTsKICAgIGxldCBtZWRpYUluZm9zID0gbmV3IEFycmF5KG1lZGlhcy5sZW5ndGgpOwoKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBtZWRpYXMubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgbGV0IG1lZGlhRGF0YSA9IHR3ZWV0RGF0YS5nZXRNZWRpYURhdGEoaSk7CiAgICAgICAgbWVkaWFJbmZvc1tpXSA9IHsgZGF0YTogbWVkaWFEYXRhLCBtZWRpYUVsZW06IG51bGwsIGxpbmtFbGVtOiBudWxsLCB0d2VldFBob3RvRWxlbTogbnVsbCwgYmdFbGVtOiBudWxsLCBmbGV4OiBudWxsIH07CgogICAgICAgIGlmKG1lZGlhRGF0YS50eXBlID09ICdwaG90bycpCiAgICAgICAgewogICAgICAgICAgICBsZXQgc3JjSUQgPSBtZWRpYURhdGEuc3JjVVJMLnN1YnN0cmluZyhtZWRpYURhdGEuc3JjVVJMLmxhc3RJbmRleE9mKCcvJykgKyAxKS5zcGxpdCgnPycpWzBdLnNwbGl0KCcuJylbMF07CiAgICAgICAgICAgIGVsZW1zUXVlcnlbaV0gPSBhd2FpdEVsZW0odHdlZXREYXRhLnR3ZWV0RWxlbSwgYFtzcmMqPSIke3NyY0lEfSJdYCwgYXJnc0NoaWxkQW5kU3ViKTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgZWxlbXNRdWVyeVtpXSA9IGF3YWl0RWxlbSh0d2VldERhdGEudHdlZXRFbGVtLCBgdmlkZW9bcG9zdGVyPSIke21lZGlhRGF0YS5zcmNVUkx9Il1gLCBhcmdzQ2hpbGRBbmRTdWIpOwogICAgICAgIH0KICAgIH0KCiAgICBQcm9taXNlLmFsbChlbGVtc1F1ZXJ5KS50aGVuKCh2YWx1ZXMpID0+CiAgICB7CiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIG1lZGlhSW5mb3NbaV0ubWVkaWFFbGVtID0gdmFsdWVzW2ldOwogICAgICAgIH0KICAgICAgICB1cGRhdGVDb250ZW50RWxlbWVudHModHdlZXREYXRhLCBtZWRpYUluZm9zKTsKCiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1R3ZWV0KHR3ZWV0LCB0d2VldE9ic2VydmVyKQp7CiAgICBpZiAodHdlZXQgPT0gbnVsbCAvKnx8ICghaXNPU3RhdHVzUGFnZSgpICYmIHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLXRlc3RpZD0icGxhY2VtZW50VHJhY2tpbmciXScpID09IG51bGwpKi8gKSB7IHJldHVybiBmYWxzZTsgfSAvL0lmIHZpZGVvLCBzaG91bGQgaGF2ZSBwbGFjZW1lbnRUcmFja2luZyBhZnRlciBmaXJzdCBtdXRhdGlvbgogICAgaWYgKHR3ZWV0LmdldEF0dHJpYnV0ZShtb2RpZmllZEF0dHIpICE9IG51bGwgfHwgdHdlZXQucXVlcnlTZWxlY3RvcihgWyR7bW9kaWZpZWRBdHRyfV1gKSApIHsgcmV0dXJuIHRydWU7IH0KICAgIHR3ZWV0T2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgYWRkSGFzQXR0cmlidXRlKHR3ZWV0LCBtb2RpZmllZEF0dHIpOwoKICAgIGlmKGlzQWR2ZXJ0KHR3ZWV0KSkgeyByZXR1cm47IH0KCiAgICBsZXQgdHdlZXREYXRhID0gZ2V0VHdlZXREYXRhKHR3ZWV0KTsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGFkZEJvb2ttYXJrQnV0dG9uKHR3ZWV0RGF0YSk7CgogICAgaWYodHdlZXREYXRhLmhhc01lZGlhKSB7IHByb2Nlc3NUd2VldENvbnRlbnQodHdlZXREYXRhKTsgfQogICAgaWYodHdlZXREYXRhLmlzUXVvdGUgJiYgdHdlZXREYXRhLnF1b3RlLmhhc01lZGlhKSB7CiAgICAgICAgdHdlZXREYXRhLnF1b3RlLnR3ZWV0RWxlbSA9IHR3ZWV0OwogICAgICAgIHByb2Nlc3NUd2VldENvbnRlbnQodHdlZXREYXRhLnF1b3RlKTsKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gbGlzdGVuRm9yTWVkaWFUeXBlKHR3ZWV0KQp7CiAgICBpZiAoYWRkSGFzQXR0cmlidXRlKHR3ZWV0LCAidGhkX29ic2VydmluZyIpKSB7IHJldHVybjsgfQoKICAvLyAgaWYoIXNldHVwRmlsdGVycyh0d2VldCkpIHsgcmV0dXJuOyB9CgogICAgY29uc3QgdHdlZXRPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRlTGlzdCwgb2JzZXJ2ZXIpID0+IHsgcHJvY2Vzc1R3ZWV0KHR3ZWV0LCBvYnNlcnZlcik7IH0pOwogICAgcHJvY2Vzc1R3ZWV0KHR3ZWV0LCB0d2VldE9ic2VydmVyKTsKICAgIHR3ZWV0T2JzZXJ2ZXIub2JzZXJ2ZSh0d2VldCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cn0KCmNvbnN0IHRvcGljc0ZpbHRlciA9ICdhW2hyZWZePSIvaS90b3BpY3MvIl0nOwpjb25zdCBsaWtlZEZpbHRlciA9ICdhW2hyZWZePSIvaS91c2VyLyJdJzsKY29uc3QgZm9sbG93c0ZpbHRlciA9ICdhW2hyZWY9Ii9pL3RpbWVsaW5lIl0nOwoKY29uc3Qgc2V0dXBUb2dnbGUgPSBmdW5jdGlvbihlbGVtLCB0b2dnbGUpCnsKICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IHRvZ2dsZS5lbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgIHRvZ2dsZS5saXN0ZW4oKGUpPT57CiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gZS5kZXRhaWwudG9nZ2xlLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwogICAgfSk7Cn0KCi8qCmZ1bmN0aW9uIHNldHVwRmlsdGVycyh0d2VldCkKewogICAgcmV0dXJuIHRydWU7CiAgICBsZXQgc29jaWFsQ3R4ID0gdHdlZXQucXVlcnlTZWxlY3Rvcignc3BhbltkYXRhLXRlc3RpZD0ic29jaWFsQ29udGV4dCJdJyk7CiAgICBpZihzb2NpYWxDdHggIT0gbnVsbCkKICAgIHsKICAgICAgICBsZXQgcm9vdCA9IHR3ZWV0LmNsb3Nlc3QoJ1tkYXRhLXRlc3RpZD0iY2VsbElubmVyRGl2Il0nKTsKCiAgICAgICAgbGV0IHRvcGljcyA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IodG9waWNzRmlsdGVyKTsKICAgICAgICBpZih0b3BpY3MgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZVRvcGljcyk7CiAgICAgICAgICAgIGlmKCF0b2dnbGVUb3BpY3MuZW5hYmxlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290LmZpcnN0RWxlbWVudENoaWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdG9nZ2xlVG9waWNzLmVuYWJsZWQ7CiAgICAgICAgfQoKICAgICAgICBsZXQgZm9sbG93ZWQgPSB0d2VldC5xdWVyeVNlbGVjdG9yKGZvbGxvd3NGaWx0ZXIpOwogICAgICAgIGlmKGZvbGxvd2VkICE9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICAgIGlmKCF0b2dnbGVGb2xsb3dlZC5lbmFibGVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGQocm9vdC5maXJzdEVsZW1lbnRDaGlsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0dXBUb2dnbGUocm9vdCwgdG9nZ2xlRm9sbG93ZWQpOwogICAgICAgICAgICByZXR1cm4gdG9nZ2xlRm9sbG93ZWQuZW5hYmxlZDsKICAgICAgICB9CgogICAgICAgIGxldCBsaWtlZCA9IHR3ZWV0LnF1ZXJ5U2VsZWN0b3IoYGxpa2VkRmlsdGVyYCk7CiAgICAgICAgaWYobGlrZWQgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmKGxpa2VkLmhyZWYuaW5jbHVkZXMoJy91c2VyLycpICYmIHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NOYW1lLnNwbGl0KCcgJykubGVuZ3RoIDwgNCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy9yZXBseQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoIXRvZ2dsZUxpa2VkLmVuYWJsZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICByb290LnJlbW92ZUNoaWxkKHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZUxpa2VkKTsKCiAgICAgICAgICAgIHJldHVybiB0b2dnbGVMaWtlZC5lbmFibGVkOwogICAgICAgIH0KIEJ1Z3MgdG8gaXJvbiBvdXQKIC8vICAgICAgIGxldCByZXR3ZWV0ID0gdHdlZXQucXVlcnlTZWxlY3RvcignYVtocmVmXj0iLyJdW2Rpcj0iYXV0byJdW3JvbGU9ImxpbmsiXScpOwogLy8gICAgICAgaWYocmV0d2VldCAhPSBudWxsKQogLy8gICAgICAgewogLy8gICAgICAgICAgIHNldHVwVG9nZ2xlKHJvb3QsIHRvZ2dsZVJldHdlZXQpOwovLyAgICAgICAgfQoKCiAgICB9CiAgICAgICByZXR1cm4gdHJ1ZTsKfQoqLwoKLy88LS0+IENPTFVNTiBSRVNJWklORyBTVEFSVDwtLT4vLwp2YXIgcHJpbWFyeUNvbHVtbkN1cnNvckRpc3RUb0VkZ2UgPSA5MDA7CnZhciBwcmltYXJ5Q29sdW1uTW91c2VEb3duUG9zID0gMDsKdmFyIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IGZhbHNlOwp2YXIgcHJpbWFyeUNvbHVtblByZVdpZHRoID0gNjAwOwp2YXIgbWF4V2lkdGhDbGFzcyA9IG51bGw7CnZhciBwcmVDdXJzb3I7CnZhciBoZWFkZXJDb2x1bW4gPSBudWxsOwoKZnVuY3Rpb24gcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgbW91c2VFdmVudCwgbW91c2VEb3duLCBtb3VzZVVwKQp7CiAgICBpZihtb3VzZURvd24gJiYgbW91c2VFdmVudC5idXR0b24gIT0gMCkgeyByZXR1cm47IH0KICAgIGxldCBwcmltYXJ5UmVjdCA9IHByaW1hcnlDb2x1bW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBsZXQgbG9jYWxQb3NYID0gbW91c2VFdmVudC5jbGllbnRYIC0gcHJpbWFyeVJlY3QubGVmdDsKICAgIHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlID0gTWF0aC5hYnMocHJpbWFyeVJlY3Qud2lkdGggLSBsb2NhbFBvc1gpOwoKICAgIGlmIChtb3VzZVVwIHx8IHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlID4gMTgwKQogICAgewogICAgICAgIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IGZhbHNlOwogICAgICAgIGlmIChtb3VzZVVwKQogICAgICAgIHsKICAgICAgICAgICAgbGV0IHByaW1hcnlTaXplID0gcGFyc2VJbnQobWF4V2lkdGhDbGFzcy5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXgtd2lkdGgnKSk7CiAgICAgICAgICAgIHVwZGF0ZUxheW91dFdpZHRoKHByaW1hcnlTaXplLCB0cnVlKTsKICAgICAgICB9CiAgICB9OwogICAgaWYgKHByaW1hcnlDb2x1bW5DdXJzb3JEaXN0VG9FZGdlIDwgNiB8fCBwcmltYXJ5Q29sdW1uUmVzaXppbmcpCiAgICB7CiAgICAgICAgcHJlQ3Vyc29yID0gZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAiZXctcmVzaXplIjsKICAgICAgICBpZiAobW91c2VEb3duKQogICAgICAgIHsKICAgICAgICAgICAgcHJpbWFyeUNvbHVtbk1vdXNlRG93blBvcyA9IG1vdXNlRXZlbnQucGFnZVg7CiAgICAgICAgICAgIHByaW1hcnlDb2x1bW5SZXNpemluZyA9IHRydWU7CiAgICAgICAgICAgIHByaW1hcnlDb2x1bW5QcmVXaWR0aCA9IHBhcnNlSW50KG1heFdpZHRoQ2xhc3Muc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWF4LXdpZHRoJykpOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IChwcmVDdXJzb3IgPT0gImV3LXJlc2l6ZSIpID8gImF1dG8iIDogcHJlQ3Vyc29yOwogICAgfQogICAgaWYgKHByaW1hcnlDb2x1bW5SZXNpemluZykKICAgIHsKICAgICAgICBtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgbGV0IGNvbHVtbk9mZnNldCA9IG1vdXNlRXZlbnQucGFnZVggLSBwcmltYXJ5Q29sdW1uTW91c2VEb3duUG9zOwogICAgICAgIGxldCBuZXdDb2x1bW5TaXplID0gcHJpbWFyeUNvbHVtblByZVdpZHRoICsgY29sdW1uT2Zmc2V0OwogICAgICAgIG5ld0NvbHVtblNpemUgPSBNYXRoLm1heCgyNTAsIG5ld0NvbHVtblNpemUpOwogICAgICAgIHVwZGF0ZUxheW91dFdpZHRoKG5ld0NvbHVtblNpemUpOwogICAgfQp9CgpmdW5jdGlvbiB1cGRhdGVMYXlvdXRXaWR0aCh3aWR0aCwgZmluYWxpemUpCnsKICAgIGlmKCF0b2dnbGVUaW1lbGluZVNjYWxpbmcuZW5hYmxlZCkgeyByZXR1cm47IH0KCiAgICBtYXhXaWR0aENsYXNzLnN0eWxlLnNldFByb3BlcnR5KCdtYXgtd2lkdGgnLCB3aWR0aCArICJweCIpOwogICAgaWYgKGZpbmFsaXplKQogICAgewogICAgICAgIGhlYWRlckNvbHVtbiA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignSEVBREVSJyk7CiAgICAgICAgaGVhZGVyQ29sdW1uLnN0eWxlLmZsZXhHcm93ID0gMC4yOwogICAgICAgIGhlYWRlckNvbHVtbi5zdHlsZS53ZWJraXRCb3hGbGV4ID0gMC4yOwogICAgICAgIHNldFVzZXJQcmVmKHVzZVByZWZfTWFpbldpZHRoS2V5LCB3aWR0aCk7CiAgICB9Cn0KCgpmdW5jdGlvbiByZWZyZXNoTGF5b3V0V2lkdGgoKQp7CiAgICBsZXQgd2lkdGggPSBnZXRVc2VyUHJlZih1c2VQcmVmX01haW5XaWR0aEtleSwgNjAwKTsKICAgIHVwZGF0ZUxheW91dFdpZHRoKHdpZHRoLCB0cnVlKTsKfQovLzwtLT4gQ09MVU1OIFJFU0laSU5HIEVORCA8LS0+Ly8KCi8vPC0tPiBUSU1FTElORSBQUk9DRVNTSU5HIDwtLT4vLwphc3luYyBmdW5jdGlvbiBvblRpbWVsaW5lQ29udGFpbmVyQ2hhbmdlKGNvbnRhaW5lciwgbXV0YXRpb25zKQp7CiAgICBMb2dNZXNzYWdlKCJvbiB0aW1lbGluZSBjb250YWluZXIgY2hhbmdlIik7CiAgICBsZXQgdGwgPSBhd2FpdCBhd2FpdEVsZW0oY29udGFpbmVyLCAnRElWW3N0eWxlKj0icG9zaXRpb246Il0nLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZSB9KTsKICAgIG9ic2VydmVUaW1lbGluZSh0bCk7Cn0KCmZ1bmN0aW9uIG9uVGltZWxpbmVDaGFuZ2UoYWRkZWROb2RlcykKewogICAgTG9nTWVzc2FnZSgib24gdGltZWxpbmUgY2hhbmdlIik7CiAgICBpZiAoYWRkZWROb2Rlcy5sZW5ndGggPT0gMCkgeyBMb2dNZXNzYWdlKCJubyBhZGRlZCBub2RlcyIpOyByZXR1cm47IH0KICAgIGFkZGVkTm9kZXMuZm9yRWFjaCgoY2hpbGQpID0+CiAgICB7CiAgICAgICAgLy8gICBpZihhZGRIYXNBdHRyaWJ1dGUoY2hpbGQsIG1vZGlmaWVkQXR0cikpIHsgcmV0dXJuOyB9CiAgICAgICAgYXdhaXRFbGVtKGNoaWxkLCAnQVJUSUNMRScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbihsaXN0ZW5Gb3JNZWRpYVR5cGUpOwogICAgICAgIC8vICBhd2FpdEVsZW0oY2hpbGQsICdBUlRJQ0xFLEFSVElDTEUgJysgdHdlZXRRdWVyeSwgYXJnc0NoaWxkQW5kU3ViKS50aGVuKHR3ZWV0ID0+IHsgbGlzdGVuRm9yTWVkaWFUeXBlKHR3ZWV0LnBhcmVudEVsZW1lbnQpOyB9KQogICAgfSk7Cn0KCmZ1bmN0aW9uIG9ic2VydmVUaW1lbGluZSh0bCkKewogICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUodGwsICJ0aGRfb2JzZXJ2aW5nX3RpbWVsaW5lIikpCiAgICB7CiAgICAgICAgTG9nTWVzc2FnZSgic3RhcnRpbmcgdGltZWxpbmUgb2JzZXJ2YXRpb24iKTsKICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gQXJyYXkuZnJvbSh0bC5jaGlsZE5vZGVzKTsKICAgICAgICBvblRpbWVsaW5lQ2hhbmdlKGNoaWxkTm9kZXMpOwoKICAgICAgICB3YXRjaEZvckFkZGVkTm9kZXModGwsIGZhbHNlLCB7IGF0dHJpYnV0ZXM6IGZhbHNlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IGZhbHNlIH0sIG9uVGltZWxpbmVDaGFuZ2UpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIHNlY3Rpb24pCnsKICAgIGNvbnN0IGNoZWNrVGltZWxpbmUgPSBhc3luYyBmdW5jdGlvbiAoKQogICAgewogICAgICAgIGxldCB0bCA9IGF3YWl0IGF3YWl0RWxlbShzZWN0aW9uLCAnRElWW3N0eWxlKj0icG9zaXRpb246Il0nLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZSB9KTsKICAgICAgICBsZXQgcHJvZ0JhciA9IHRsLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPSJwcm9ncmVzc2JhciJdJyk7CiAgICAgICAgaWYgKHByb2dCYXIpCiAgICAgICAgewogICAgICAgICAgICAvLyBXYWl0IGZvciBhbiBBcnRpY2xlIHRvIHNob3cgdXAgYmVmb3JlIHByb2NlZWRpbmcKICAgICAgICAgLy8gICBMb2dNZXNzYWdlKCJIYXMgUHJvZyBCYXIsIEF3YWl0aW5nIEFydGljbGUiKTsKICAgICAgICAgICAgbGV0IGFydCA9IGF3YWl0IGF3YWl0RWxlbShzZWN0aW9uLCAiYXJ0aWNsZSIsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlIH0pOwogICAgICAgICAgLy8gIExvZ01lc3NhZ2UoIkZvdW5kIEFydGljbGUiKTsKICAgICAgICB9CgogICAgICAgIGxldCB0bENvbnRhaW5lciA9IHRsLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUodGxDb250YWluZXIsICJ0aGRfb2JzZXJ2aW5nX3RpbWVsaW5lIikpCiAgICAgICAgewogICAgICAgICAgICBvYnNlcnZlVGltZWxpbmUodGwpOwogICAgICAgICAgICB3YXRjaEZvckNoYW5nZSh0bENvbnRhaW5lciwgeyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlIH0sICh0bGMsIG11dGVzKSA9PiB7IG9uVGltZWxpbmVDb250YWluZXJDaGFuZ2UodGxjLCBtdXRlcyk7IH0pOwogICAgICAgIH0KCiAgICB9OwoKICAgIGNoZWNrVGltZWxpbmUoKTsKCiAgICBsZXQgcHJvZ0Jhck9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4geyBjaGVja1RpbWVsaW5lKCk7IH0pOwogICAgcHJvZ0Jhck9ic2VydmVyLm9ic2VydmUoc2VjdGlvbiwgeyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlIH0pOwp9Cgp2YXIgcGFnZVdpZHRoTGF5b3V0UnVsZTsKCgphc3luYyBmdW5jdGlvbiB3YXRjaFByaW1hcnlDb2x1bW4obWFpbiwgcHJpbWFyeUNvbHVtbikKewogICAgaWYocHJpbWFyeUNvbHVtbiA9PSBudWxsKSB7IHJldHVybjsgfQogICAgaWYgKGFkZEhhc0F0dHJpYnV0ZShwcmltYXJ5Q29sdW1uLCBtb2RpZmllZEF0dHIpKSB7IHJldHVybjsgfQoKICAgIGF3YWl0RWxlbShwcmltYXJ5Q29sdW1uLCAnbmF2JywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChuYXYpID0+CiAgICB7CiAgICAgICAgbGV0IG5hdkNvbnQgPSBuYXYucGFyZW50RWxlbWVudDsKICAgICAgICB3YXRjaEZvckNoYW5nZShuYXZDb250LCBhcmdzQ2hpbGRPbmx5LCAoKSA9PiB7CiAgICAgICAgICAgICAgICB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIG5hdkNvbnQpOwogICAgICAgICAgICB9KTsKICAgIH0pOwoKICAgIGhpZGVGb3JZb3UocHJpbWFyeUNvbHVtbik7CgogICAgLy9XYXRjaCB0byBoYW5kbGUgY2FzZSB3aGVyZSB0aW1lbGluZXMgYXJlIHBhcnRpYWxseSBsb3N0IHdoZW4gY2xpY2tpbmcgb24gdGhlIHF1b3RlZCBwb3N0IG5hbWUuCiAgICB3YXRjaEZvckNoYW5nZShwcmltYXJ5Q29sdW1uLmZpcnN0RWxlbWVudENoaWxkLCBhcmdzQ2hpbGRPbmx5LCAoKSA9PiB7CiAgICAgICAgYXdhaXRFbGVtKHByaW1hcnlDb2x1bW4sICdzZWN0aW9uW3JvbGU9InJlZ2lvbiJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChzZWN0aW9uKSA9PiB7CiAgICAgICAgICAgIHdhdGNoRm9yVGltZWxpbmUocHJpbWFyeUNvbHVtbiwgc2VjdGlvbik7CiAgICAgICAgfSk7CiAgICB9KTsKCgogICAgaWYocGFnZVdpZHRoTGF5b3V0UnVsZSA9PSBudWxsKSB7IHBhZ2VXaWR0aExheW91dFJ1bGUgPSBnZXRDU1NSdWxlQ29udGFpbmluZ1N0eWxlKCd3aWR0aCcsICgoIi4iICsgbWFpbi5jbGFzc05hbWUpLnJlcGxhY2UoJyAnLCAnIC4nKSkuc3BsaXQoJyAnKSk7IH0KCiAgICBpZih0b2dnbGVUaW1lbGluZVNjYWxpbmcuZW5hYmxlZCkKICAgIHsKICAgICAgICBwYWdlV2lkdGhMYXlvdXRSdWxlLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsICIxMDAlIik7CgogICAgICAgIGxldCBwcmltYXJ5Q29sdW1uR3JwID0gcHJpbWFyeUNvbHVtbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgbGV0IGNvbHVtbkNsYXNzTmFtZXMgPSAoIi4iICsgcHJpbWFyeUNvbHVtbi5jbGFzc05hbWUucmVwbGFjZSgiICIsICIgLiIpKS5zcGxpdCgnICcpOwoKICAgICAgICBtYXhXaWR0aENsYXNzID0gZ2V0Q1NTUnVsZUNvbnRhaW5pbmdTdHlsZSgibWF4LXdpZHRoIiwgY29sdW1uQ2xhc3NOYW1lcyk7CiAgICAgICAgZ2V0VXNlclByZWYodXNlUHJlZl9NYWluV2lkdGhLZXksIDYwMCkudGhlbigodXNlcldpZHRoKSA9PiB1cGRhdGVMYXlvdXRXaWR0aCh1c2VyV2lkdGgsIHRydWUpKTsKCiAgICAgICAgcHJpbWFyeUNvbHVtbkdycC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4geyBwcmltYXJ5Q29sdW1uUmVzaXplcihwcmltYXJ5Q29sdW1uLCBlLCBmYWxzZSwgZmFsc2UpIH0pOwogICAgICAgIHByaW1hcnlDb2x1bW5HcnAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHsgcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgZSwgdHJ1ZSwgZmFsc2UpIH0pOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGUpID0+IHsgcHJpbWFyeUNvbHVtblJlc2l6ZXIocHJpbWFyeUNvbHVtbiwgZSwgZmFsc2UsIHRydWUpIH0pOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4geyBwcmltYXJ5Q29sdW1uUmVzaXplcihwcmltYXJ5Q29sdW1uLCBlLCBmYWxzZSwgdHJ1ZSkgfSk7CiAgICB9CgogICAgLy8gIGxldCBzZWN0aW9uID0gYXdhaXRFbGVtKHByaW1hcnlDb2x1bW4sICdzZWN0aW9uW3JvbGU9InJlZ2lvbiJdJywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIGF3YWl0RWxlbShwcmltYXJ5Q29sdW1uLCAnc2VjdGlvbltyb2xlPSJyZWdpb24iXScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbigoc2VjdGlvbikgPT4KICAgIHsKICAgICAgICBMb2dNZXNzYWdlKCJyZWdpb24gZm91bmQiKTsKICAgICAgICB3YXRjaEZvclRpbWVsaW5lKHByaW1hcnlDb2x1bW4sIHNlY3Rpb24pOwogICAgfSk7Cgp9Cgphc3luYyBmdW5jdGlvbiBvbk1haW5DaGFuZ2UobWFpbiwgbXV0YXRpb25zKQp7CiAgICBhd2FpdEVsZW0obWFpbiwgJ2RpdltkYXRhLXRlc3RpZD0icHJpbWFyeUNvbHVtbiJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChwcmltYXJ5Q29sdW1uKSA9Pnsgd2F0Y2hQcmltYXJ5Q29sdW1uKG1haW4sIHByaW1hcnlDb2x1bW4pOyB9KTsKICAgIHdhdGNoU2lkZUJhcihtYWluKTsKfQoKZnVuY3Rpb24gaGlkZUZvcllvdShwcmltYXJ5Q29sdW1uKQp7CiAgICBpZighdG9nZ2xlRGlzYWJsZUZvcllvdS5lbmFibGVkKSB7IHJldHVybjsgfQoKICAgIGxldCBtYWluVGFicyA9IHByaW1hcnlDb2x1bW4ucXVlcnlTZWxlY3RvcignZGl2W3JvbGU9InRhYmxpc3QiXScpOwogICAgaWYobWFpblRhYnMpCiAgICB7CiAgICAgICAgbGV0IHRhYnMgPSBtYWluVGFicy5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbcm9sZT0icHJlc2VudGF0aW9uIl0nKTsKICAgICAgICBpZih0YWJzLmxlbmd0aCA+IDEpCiAgICAgICAgewogICAgICAgICAgICB0YWJzWzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIHRhYnNbMV0uY2xpY2soKTsKICAgICAgICB9CiAgICB9Cn0KCi8vPC0tPiBSSUdIVCBTSURFQkFSIENPTlRFTlQgPC0tPi8vCnZhciB0b2dnbGVOU0ZXOwp2YXIgdG9nZ2xlSFFJbWc7CnZhciB0b2dnbGVMaWtlZDsKdmFyIHRvZ2dsZUZvbGxvd2VkOwp2YXIgdG9nZ2xlUmV0d2VldDsKdmFyIHRvZ2dsZVRvcGljczsKdmFyIHRvZ2dsZUNsZWFyVG9waWNzOwp2YXIgdG9nZ2xlVGltZWxpbmVTY2FsaW5nOwp2YXIgdG9nZ2xlQW5hbHl0aWNzRGlzcGxheTsKdmFyIHRvZ2dsZURpc2FibGVGb3JZb3U7Cgphc3luYyBmdW5jdGlvbiB3YXRjaFNpZGVCYXIobWFpbikKewogICAgYXdhaXRFbGVtKG1haW4sICdkaXZbZGF0YS10ZXN0aWQ9InNpZGViYXJDb2x1bW4iXScsIGFyZ3NDaGlsZEFuZFN1YikudGhlbigoc2lkZUJhcikgPT4KICAgIHsKICAgICAgICBhd2FpdEVsZW0oc2lkZUJhciwgJ3NlY3Rpb25bcm9sZT0icmVnaW9uIl0gPiBbcm9sZT0iaGVhZGluZyJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChzaWRlQmFyVHJlbmRpbmcpID0+CiAgICAgICAgewogICAgICAgICAgICBsZXQgdmVyaU5hZyA9IHNpZGVCYXIucXVlcnlTZWxlY3RvcignYXNpZGUnKTsKICAgICAgICAgICAgYXdhaXRFbGVtKHNpZGVCYXIsICdhc2lkZScpLnRoZW4oKG5hZykgPT4geyBuYWcucmVtb3ZlKCk7fSk7CgogICAgICAgICAgICBzZXR1cFRyZW5kaW5nQ29udHJvbHMoc2lkZUJhclRyZW5kaW5nLnBhcmVudEVsZW1lbnQpOwogICAgICAgICAgICBzZXR1cFRvZ2dsZXMoc2lkZUJhcik7CiAgICAgICAgICAgIGNsZWFyVG9waWNzQW5kSW50ZXJlc3RzKCk7CiAgICAgICAgfSk7CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gZ2V0VG9nZ2xlT2JqKG5hbWUsIGRlZmF1bHRWYWwpCnsKICAgIGxldCBlbmFibGUgPSBhd2FpdCBnZXRVc2VyUHJlZihuYW1lLCBkZWZhdWx0VmFsKTsKICAgIHJldHVybiB7ZW5hYmxlZDogZW5hYmxlLCBlbGVtOiBudWxsLCBuYW1lOiBuYW1lLCBvbkNoYW5nZWQ6IG5ldyBFdmVudFRhcmdldCgpLCBsaXN0ZW46IGZ1bmN0aW9uKGZ1bmMpIHsgdGhpcy5vbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIGZ1bmMpOyB9fTsKfQoKYXN5bmMgZnVuY3Rpb24gbG9hZFRvZ2dsZVZhbHVlcygpCnsKICAgIHRvZ2dsZU5TRlcgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl9ibHVyTlNGVywgZmFsc2UpOwogICAgdG9nZ2xlSFFJbWcgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVIUUltZywgdHJ1ZSk7CiAgICB0b2dnbGVMaWtlZCA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZUxpa2VkLCB0cnVlKTsKICAgIHRvZ2dsZUZvbGxvd2VkID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlRm9sbG93ZWQsIGZhbHNlKTsKICAgIHRvZ2dsZVJldHdlZXQgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVSZXR3ZWV0LCBmYWxzZSk7CiAgICB0b2dnbGVUb3BpY3MgPSBhd2FpdCBnZXRUb2dnbGVPYmoodXNlUHJlZl90b2dnbGVUb3BpY3MsIGZhbHNlKTsKICAgIHRvZ2dsZUNsZWFyVG9waWNzID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlQ2xlYXJUb3BpY3MsIGZhbHNlKTsKICAgIHRvZ2dsZVRpbWVsaW5lU2NhbGluZyA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZVRpbWVsaW5lU2NhbGluZywgdHJ1ZSk7CiAgICB0b2dnbGVBbmFseXRpY3NEaXNwbGF5ID0gYXdhaXQgZ2V0VG9nZ2xlT2JqKHVzZVByZWZfdG9nZ2xlQW5hbHl0aWNzRGlzcGxheSwgZmFsc2UpOwogICAgdG9nZ2xlRGlzYWJsZUZvcllvdSA9IGF3YWl0IGdldFRvZ2dsZU9iaih1c2VQcmVmX3RvZ2dsZURpc2FibGVGb3JZb3UsIGZhbHNlKTsKCiAgICBpZighdG9nZ2xlQW5hbHl0aWNzRGlzcGxheS5lbmFibGVkKQogICAgewogICAgICAgIGFkZEdsb2JhbFN0eWxlKCdkaXZbcm9sZT0iZ3JvdXAiXSA+IGRpdiA+IGFbaHJlZiQ9Ii9hbmFseXRpY3MiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBzZXR1cFRvZ2dsZXMoc2lkZVBhbmVsKQp7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVOU0ZXLCAiTlNGVyBCbHVyICIsICJPTiIsICJPRkYiKTsKICAgIGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZUhRSW1nLCAiSFEgSW1hZ2UgTG9hZGluZyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVMaWtlZCwgIkxpa2VkIFR3ZWV0cyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVGb2xsb3dlZCwgIkZvbGxvd2VkIEJ5IFR3ZWV0cyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVSZXR3ZWV0LCAiUmV0d2VldHMgIiwgIk9OIiwgIk9GRiIpOwogICAgY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlVG9waWNzLCAiVG9waWMgVHdlZXRzICIsICJPTiIsICJPRkYiKTsKICAgIGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZUNsZWFyVG9waWNzLCAiSW50ZXJlc3RzL1RvcGljcyBQcmVmcyBBdXRvQ2xlYXIgIiwgIk9OIiwgIk9GRiIpOwogICAgY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlVGltZWxpbmVTY2FsaW5nLCAiVGltZWxpbmUgV2lkdGggU2NhbGluZyAiLCAiT04iLCAiT0ZGIik7CiAgICBjcmVhdGVUb2dnbGVPcHRpb24oc2lkZVBhbmVsLCB0b2dnbGVBbmFseXRpY3NEaXNwbGF5LCAiU2hvdyBQb3N0IFZpZXdzICIsICJPTiIsICJPRkYiKTsKICAgIGF3YWl0IGNyZWF0ZVRvZ2dsZU9wdGlvbihzaWRlUGFuZWwsIHRvZ2dsZURpc2FibGVGb3JZb3UsICdEaXNhYmxlICJGb3IgWW91IiBwYWdlICcsICJPTiIsICJPRkYiKTsKfQoKYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9nZ2xlT3B0aW9uKHNpZGVQYW5lbCwgdG9nZ2xlU3RhdGUsIHRvZ2dsZVRleHQsIHRvZ2dsZU9uVGV4dCwgdG9nZ2xlT2ZmVGV4dCkKewogICAgdG9nZ2xlU3RhdGUuZWxlbSA9IHNpZGVQYW5lbC5xdWVyeVNlbGVjdG9yKCcjJyArIHRvZ2dsZVN0YXRlLm5hbWUpOwogICAgdG9nZ2xlT25UZXh0ID0gdG9nZ2xlVGV4dCArIHRvZ2dsZU9uVGV4dDsKICAgIHRvZ2dsZU9mZlRleHQgPSB0b2dnbGVUZXh0ICsgdG9nZ2xlT2ZmVGV4dDsKICAgIGlmICh0b2dnbGVTdGF0ZS5lbGVtID09IG51bGwpCiAgICB7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbSA9IGNyZWF0ZVRvZ2dsZUJ1dHRvbih0b2dnbGVTdGF0ZS5lbmFibGVkID8gdG9nZ2xlT25UZXh0IDogdG9nZ2xlT2ZmVGV4dCwgdG9nZ2xlU3RhdGUubmFtZSk7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5tYXJnaW5Ub3AgPSAiMC40ZW0iOwogICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uc3R5bGUubWFyZ2luQm90dG9tID0gIjAuMWVtIjsKICAgICAgICB0b2dnbGVTdGF0ZS5lbGVtLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjFlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjFlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5zdHlsZS5vdXRsaW5lU3R5bGUgPSAic29saWQiOwogICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uc3R5bGUub3V0bGluZVdpZHRoID0gIjAuMDJlbSI7CiAgICAgICAgdG9nZ2xlU3RhdGUuZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PgogICAgICAgIHsKICAgICAgICAgICAgdG9nZ2xlU3RhdGUuZW5hYmxlZCA9IHRvZ2dsZVN0YXRlLmVuYWJsZWQgPyBmYWxzZSA6IHRydWU7CiAgICAgICAgICAgIHNldFVzZXJQcmVmKHRvZ2dsZVN0YXRlLm5hbWUsIHRvZ2dsZVN0YXRlLmVuYWJsZWQpOwogICAgICAgICAgICB0b2dnbGVTdGF0ZS5vbkNoYW5nZWQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQodG9nZ2xlU3RhdGUubmFtZSwgeydkZXRhaWwnOnsndG9nZ2xlJzp0b2dnbGVTdGF0ZX19KSk7CiAgICAgICAgICAgIHRvZ2dsZVN0YXRlLmVsZW0uaW5uZXJIVE1MID0gdG9nZ2xlU3RhdGUuZW5hYmxlZCA/IHRvZ2dsZU9uVGV4dCA6IHRvZ2dsZU9mZlRleHQ7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGZvb3RlciA9IHNpZGVQYW5lbC5xdWVyeVNlbGVjdG9yKCduYXYnKS5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRvZ2dsZVN0YXRlLmVsZW0pOwogICAgfQp9Cgp2YXIgYmx1clNob3dUZXh0ID0gIiI7Cgphc3luYyBmdW5jdGlvbiBwcm9jZXNzQmx1ckJ1dHRvbih0d2VldCkKewogICAgY29uc3QgZ2V0Qmx1clRleHQgPSBmdW5jdGlvbihibHVyKQogICAgewogICAgICAgIHJldHVybiBibHVyLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4gPiBzcGFuJykuaW5uZXJUZXh0OwogICAgfQoKICAgIGNvbnN0IGJsdXJCdG4gPSB0d2VldC5xdWVyeVNlbGVjdG9yKCdkaXZbcm9sZT0iYnV0dG9uIl1bc3R5bGVePSJiYWNrZHJvcC1maWx0ZXI6IGJsdXIiXScpOwogICAgaWYoYmx1ckJ0biAhPSBudWxsKQogICAgewogICAgICAgIGlmKGJsdXJTaG93VGV4dCA9PSAiIikKICAgICAgICB7CiAgICAgICAgICAgIGJsdXJTaG93VGV4dCA9IGdldEJsdXJUZXh0KGJsdXJCdG4pOwogICAgICAgIH0KICAgICAgICBpZighdG9nZ2xlTlNGVy5lbmFibGVkKQogICAgICAgIHsKICAgICAgICAgICAgYmx1ckJ0bi5jbGljaygpOwogICAgICAgIH0KICAgICAgICBibHVyQnRuLnN0eWxlLmRpc3BsYXkgPSB0b2dnbGVOU0ZXLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwoKICAgICAgICB3YXRjaEZvckNoYW5nZSh0d2VldCwge2F0dHJpYnV0ZXM6IGZhbHNlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9LCAoYmx1clBhcmVudCwgbXV0ZXMpID0+IHsKCiAgICAgICAgICAgIGNvbnN0IGN1ckJsdXIgPSBibHVyUGFyZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdltyb2xlPSJidXR0b24iXVtzdHlsZV49ImJhY2tkcm9wLWZpbHRlcjogYmx1ciJdJyk7CiAgICAgICAgICAgIGlmKGN1ckJsdXIgPT0gbnVsbCkgeyByZXR1cm47IH0KCiAgICAgICAgICAgIGlmKCF0b2dnbGVOU0ZXLmVuYWJsZWQgJiYgZ2V0Qmx1clRleHQoY3VyQmx1cikgPT0gYmx1clNob3dUZXh0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdXJCbHVyPy5jbGljaygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjdXJCbHVyLnN0eWxlLmRpc3BsYXkgPSB0b2dnbGVOU0ZXLmVuYWJsZWQgPyAiYmxvY2siIDogIm5vbmUiOwogICAgICAgICAgICBsZXQgc3BhbiA9IGN1ckJsdXIucXVlcnlTZWxlY3Rvcignc3BhbiA+IHNwYW4nKTsKCiAgICAgICAgICAgIGlmKCFhZGRIYXNBdHRyaWJ1dGUoY3VyQmx1ciwgbW9kaWZpZWRBdHRyKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgd2F0Y2hGb3JDaGFuZ2UoY3VyQmx1ciwge2F0dHJpYnV0ZXM6dHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSwgKGJsdXIsIG11dGVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY3VyQmx1ci5zdHlsZS5kaXNwbGF5ID0gdG9nZ2xlTlNGVy5lbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdG9nZ2xlTlNGVy5vbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigibnNmd1RvZ2dsZUNoYW5nZWQiLCBmdW5jdGlvbihlbmFibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyQmx1cj8uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBjdXJCbHVyLnN0eWxlLmRpc3BsYXkgPSBlbmFibGVkID8gImJsb2NrIiA6ICJub25lIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgIH0pOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBzZXR1cFRyZW5kaW5nQ29udHJvbHModHJlbmRpbmdCb3gpCnsKICAgIGNvbnN0IHNob3dTdHIgPSAiU2hvdyI7CiAgICBjb25zdCBoaWRlU3RyID0gIkhpZGUiOwoKICAgIGNvbnN0IHNldFRyZW5kaW5nVmlzaWJsZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIGJ1dHRvbiwgaGlkZGVuKQogICAgewogICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBoaWRkZW4gPyAiNDRweCIgOiAibm9uZSI7CiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGhpZGRlbiA/IHNob3dTdHIgOiBoaWRlU3RyOwogICAgICAgIHNldFVzZXJQcmVmKHVzZVByZWZfaGlkZVRyZW5kaW5nS2V5LCBoaWRkZW4pOwogICAgfTsKCiAgICBsZXQgdHJlbmRpbmdUaXRsZSA9IGF3YWl0IGF3YWl0RWxlbSh0cmVuZGluZ0JveCwgJ2gyJywgYXJnc0NoaWxkQW5kU3ViKTsKCiAgICBpZiAoIWFkZEhhc0F0dHJpYnV0ZSh0cmVuZGluZ1RpdGxlLCBtb2RpZmllZEF0dHIpKQogICAgewogICAgICAgIGxldCB0b2dnbGUgPSB0cmVuZGluZ1RpdGxlLnF1ZXJ5U2VsZWN0b3IoJyN0aGRfdG9nZ2xlVHJlbmRpbmcnKTsKCiAgICAgICAgaWYgKHRvZ2dsZSA9PSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdG9nZ2xlID0gY3JlYXRlVG9nZ2xlQnV0dG9uKGhpZGVTdHIsICJ0aGRfdG9nZ2xlVHJlbmRpbmciKTsKICAgICAgICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBpc0hpZGRlbiA9IHRvZ2dsZS5pbm5lclRleHQgPT0gaGlkZVN0cjsKICAgICAgICAgICAgICAgIHNldFRyZW5kaW5nVmlzaWJsZSh0cmVuZGluZ0JveCwgdG9nZ2xlLCBpc0hpZGRlbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0cmVuZGluZ1RpdGxlLmFwcGVuZENoaWxkKHRvZ2dsZSk7CiAgICAgICAgfQogICAgICAgIGdldFVzZXJQcmVmKHVzZVByZWZfaGlkZVRyZW5kaW5nS2V5LCB0cnVlKS50aGVuKCh2aXNpYmxlKSA9PgogICAgICAgIHsKICAgICAgICAgICAgc2V0VHJlbmRpbmdWaXNpYmxlKHRyZW5kaW5nQm94LCB0b2dnbGUsIHZpc2libGUpOwogICAgICAgICAgICB3YXRjaEZvckNoYW5nZSh0cmVuZGluZ0JveCwgYXJnc0NoaWxkQW5kU3ViLCBzZXR1cFRyZW5kaW5nQ29udHJvbHMpOwogICAgICAgIH0pOwoKICAgIH0KfQoKZnVuY3Rpb24gY3JlYXRlVG9nZ2xlQnV0dG9uKHRleHQsIGlkKQp7CiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIGJ0bi5pbm5lclRleHQgPSB0ZXh0OwogICAgYnRuLmlkID0gaWQ7CiAgICBidG4uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjk5OTlweCI7CiAgICBidG4uc3R5bGUuYm9yZGVyU3R5bGUgPSAic29saWQiOwogICAgYnRuLnN0eWxlLmJvcmRlcldpZHRoID0gIjFweCI7CiAgICBidG4uc3R5bGUuYm9yZGVyQ29sb3IgPSAiIzAwMDAwMDAwIjsKICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI5MjgyOCI7CiAgICBidG4uc3R5bGUuY29sb3IgPSAiI2NkY2NjOCI7CiAgICByZXR1cm4gYnRuOwp9Cgphc3luYyBmdW5jdGlvbiB3YXRjaEZvckNvbW1lbnRzKGRpYWxvZykKewogICAgbGV0IGNvbW1lbnRMaXN0ID0gYXdhaXQgYXdhaXRFbGVtKGRpYWxvZywgJ2RpdltzdHlsZV49InBvc2l0aW9uOiByZWxhdGl2ZSJdJywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIG9ic2VydmVUaW1lbGluZShjb21tZW50TGlzdCk7Cn0KCi8vPC0tPiBGVUxMLVNDUkVFTiBJTUFHRSBWSUVXIFJFTEFURUQgPC0tPi8vCmFzeW5jIGZ1bmN0aW9uIG9uTGF5ZXJzQ2hhbmdlKGxheWVycywgbXV0YXRpb24pCnsKCiAgICBpZiAobXV0YXRpb24uYWRkZWROb2RlcyAhPSBudWxsICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkKICAgIHsKCiAgICAgICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IEFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2RlcylbMF07CiAgICAgICAgY29uc3QgZGlhbG9nID0gYXdhaXQgYXdhaXRFbGVtKGNvbnRlbnRDb250YWluZXIsICdkaXZbcm9sZT0iZGlhbG9nIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICB3YXRjaEZvckNvbW1lbnRzKGRpYWxvZyk7CgogICAgICAgIGxldCBjdHhUYXJnZXQgPSBhd2FpdCBhd2FpdEVsZW0oZGlhbG9nLCAnaW1nW2FsdD0iSW1hZ2UiXSxkaXZbZGF0YS10ZXN0aWQ9InZpZGVvUGxheWVyIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICBjb25zdCBsaXN0ID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ3VsW3JvbGU9Imxpc3QiXScpOwogICAgICAgIGxldCBpZCA9IGdldElERnJvbVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgICAgICAgbGV0IHR3ZWV0RGF0YSA9IHR3ZWV0cy5nZXQoaWQpOwogICAgICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgICAgICBpZiAobGlzdCAhPSBudWxsIC8qICYmICFhZGRIYXNBdHRyaWJ1dGUobGlzdCwgJ3RoZF9tb2RpZmllZCcpKi8gKQogICAgICAgIHsKICAgICAgICAgICAgY29uc3QgbGlzdEl0ZW1zID0gbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpOwogICAgICAgICAgICBjb25zdCBpdGVtQ250ID0gbGlzdEl0ZW1zLmxlbmd0aDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbUNudDsgaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdHhUYXJnZXQgPSBhd2FpdCBhd2FpdEVsZW0obGlzdEl0ZW1zW2ldLCAnaW1nW2FsdD0iSW1hZ2UiXSxkaXZbZGF0YS10ZXN0aWQ9InZpZGVvUGxheWVyIl0nLCBhcmdzQ2hpbGRBbmRTdWIpOwoKICAgICAgICAgICAgICAgIGxldCBtZWRpYURhdGEgPSB0d2VldERhdGEuZ2V0TWVkaWFEYXRhKGkpOwogICAgICAgICAgICAgICAgaWYobWVkaWFEYXRhKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bGxWaWV3SW1hZ2UoY3R4VGFyZ2V0LCB0d2VldERhdGEsIG1lZGlhRGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgbGV0IG1lZGlhRGF0YSA9IHR3ZWV0RGF0YS5nZXRNZWRpYURhdGEoMCk7CiAgICAgICAgICAgIHVwZGF0ZUZ1bGxWaWV3SW1hZ2UoY3R4VGFyZ2V0LCB0d2VldERhdGEsIG1lZGlhRGF0YSk7CiAgICAgICAgfQoKICAgIH0KfQoKYXN5bmMgZnVuY3Rpb24gdXBkYXRlRnVsbFZpZXdJbWFnZShjdHhUYXJnZXQsIHR3ZWV0RGF0YSwgbWVkaWFEYXRhKQp7CiAgLy8gIGlmIChhZGRIYXNBdHRyaWJ1dGUoaW1nLCAidGhkX21vZGlmaWVkIikpIHsgcmV0dXJuOyB9CiAgICBsZXQgYmcgPSBjdHhUYXJnZXQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKSA/PyBjdHhUYXJnZXQucGFyZW50RWxlbWVudDsKCiAgICBsZXQgaHFTcmMgPSBtZWRpYURhdGEuY29udGVudFVSTDsKICAgIGxldCBtZWRpYUluZm8gPSB7IGRhdGE6IG1lZGlhRGF0YSwgbGlua0VsZW06IGN0eFRhcmdldCwgbWVkaWFFbGVtOiBjdHhUYXJnZXQgfTsKICAgLy8gIGxldCBocVNyYyA9IGltZy5zcmM7CgogICAgYWRkQ3VzdG9tQ3R4TWVudSh0d2VldERhdGEsIG1lZGlhSW5mbywgY3R4VGFyZ2V0KTsKICAgIGlmKG1lZGlhRGF0YS50eXBlID09ICdwaG90bycpCiAgICB7CiAgICAgICAgdXBkYXRlSW1nU3JjKGN0eFRhcmdldCwgYmcsIGhxU3JjKTsKICAgICAgICBkb09uQXR0cmlidXRlQ2hhbmdlKGN0eFRhcmdldCwgKGN0eFRhcmcpID0+IHsgdXBkYXRlSW1nU3JjKGN0eFRhcmcsIGJnLCBocVNyYyk7IH0sIGZhbHNlKTsKICAgIH0KfQoKLy88LS0+IFJJR0hULUNMSUNLIENPTlRFWFQgTUVOVSBTVFVGRiBTVEFSVCA8LS0+Ly8KdmFyIGN0eE1lbnU7CnZhciBjdHhNZW51TGlzdDsKdmFyIGN0eE1lbnVPcGVuSW5OZXdUYWI7CnZhciBjdHhNZW51T3BlblZpZEluTmV3VGFiOwp2YXIgY3R4TWVudVNhdmVBczsKdmFyIGN0eE1lbnVTYXZlQXNWaWQ7CnZhciBjdHhNZW51Q29weUltZzsKdmFyIGN0eE1lbnVDb3B5QWRkcmVzczsKdmFyIGN0eE1lbnVDb3B5VmlkQWRkcmVzczsKdmFyIGN0eE1lbnVHUklTOwp2YXIgY3R4TWVudVNob3dEZWZhdWx0OwoKZnVuY3Rpb24gaW5pdGlhbGl6ZUN0eE1lbnUoKQp7CiAgICBjdHhNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBjdHhNZW51LnN0eWxlLnpJbmRleCA9ICI1MDAiOwogICAgY3R4TWVudS5pZCA9ICJjb250ZXh0TWVudSI7CiAgICBjdHhNZW51LmNsYXNzTmFtZSA9ICJjb250ZXh0LW1lbnUiOwogICAgY3R4TWVudUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOwogICAgLy9jdHhNZW51TGlzdC5zdHlsZS56SW5kZXggPSA1MDA7CiAgICBjdHhNZW51LmFwcGVuZENoaWxkKGN0eE1lbnVMaXN0KTsKCiAgICBjdHhNZW51T3BlbkluTmV3VGFiID0gY3JlYXRlQ3R4TWVudUl0ZW0oY3R4TWVudUxpc3QsICJPcGVuIEltYWdlIGluIE5ldyBUYWIiKTsKICAgIGN0eE1lbnVPcGVuVmlkSW5OZXdUYWIgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIk9wZW4gVmlkZW8gaW4gTmV3IFRhYiIpOwogICAgY3R4TWVudVNhdmVBcyA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiU2F2ZSBJbWFnZSBBcyIpOwogICAgY3R4TWVudVNhdmVBc1ZpZCA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiU2F2ZSBWaWRlbyBBcyIpOwogICAgY3R4TWVudUNvcHlJbWcgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIkNvcHkgSW1hZ2UiKTsKICAgIGN0eE1lbnVDb3B5QWRkcmVzcyA9IGNyZWF0ZUN0eE1lbnVJdGVtKGN0eE1lbnVMaXN0LCAiQ29weSBJbWFnZSBMaW5rIik7CiAgICBjdHhNZW51Q29weVZpZEFkZHJlc3MgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIkNvcHkgVmlkZW8gTGluayIpOwogICAgY3R4TWVudUdSSVMgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIlNlYXJjaCBHb29nbGUgZm9yIEltYWdlIik7CiAgICBjdHhNZW51U2hvd0RlZmF1bHQgPSBjcmVhdGVDdHhNZW51SXRlbShjdHhNZW51TGlzdCwgIlNob3cgRGVmYXVsdCBDb250ZXh0IE1lbnUiKTsKCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGN0eE1lbnUpOwogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7IH0pOwoKICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2F0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsKCkgPT4gewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICB9KTsKCn0KCmZ1bmN0aW9uIGNyZWF0ZUN0eE1lbnVJdGVtKG1lbnVMaXN0LCB0ZXh0KQp7CiAgICBsZXQgbWVudUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdMSScpOwogICAgbWVudUl0ZW0uaW5uZXJUZXh0ID0gdGV4dDsKICAgIG1lbnVMaXN0LmFwcGVuZENoaWxkKG1lbnVJdGVtKTsKICAgIHJldHVybiBtZW51SXRlbTsKfQoKZnVuY3Rpb24gbW91c2VYKGV2dCkKewogICAgaWYgKGV2dC5wYWdlWCkKICAgIHsKICAgICAgICByZXR1cm4gZXZ0LnBhZ2VYOwogICAgfQogICAgZWxzZSBpZiAoZXZ0LmNsaWVudFgpCiAgICB7CiAgICAgICAgcmV0dXJuIGV2dC5jbGllbnRYICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8KICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOgogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpmdW5jdGlvbiBtb3VzZVkoZXZ0KQp7CiAgICBpZiAoZXZ0LnBhZ2VZKQogICAgewogICAgICAgIHJldHVybiBldnQucGFnZVk7CiAgICB9CiAgICBlbHNlIGlmIChldnQuY2xpZW50WSkKICAgIHsKICAgICAgICByZXR1cm4gZXZ0LmNsaWVudFkgKyAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOgogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn0KCmZ1bmN0aW9uIHNldENvbnRleHRNZW51VmlzaWJsZSh2aXNpYmxlKQp7CiAgICBjdHhNZW51LnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID8gImJsb2NrIiA6ICJub25lIjsKfQoKdmFyIHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0ID0gZmFsc2U7Ci8vVG8gYXZvaWQgdGhlIHZhbHVlIGJlaW5nIGNhcHR1cmVkIHdoZW4gc2V0dGluZyB1cCB0aGUgZXZlbnQgbGlzdGVuZXJzLgpmdW5jdGlvbiB3YXNTaG93RGVmYXVsdENvbnRleHRDbGlja2VkKCkKewogICAgcmV0dXJuIHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0Owp9Cgphc3luYyBmdW5jdGlvbiB1cGRhdGVDb250ZXh0TWVudUxpbmsodHdlZXREYXRhLCBtZWRpYUluZm8pCnsKICAgIGlmKG1lZGlhSW5mbyA9PSBudWxsKSB7IHJldHVybjsgfQoKICAgIGxldCBkbFVSTCA9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkw7CiAgICBjdHhNZW51LnNldEF0dHJpYnV0ZSgnc2VsZWN0aW9uJywgZGxVUkwpOwoKICAgIGxldCBpc0ltYWdlID0gbWVkaWFJbmZvLm1lZGlhRWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gImltZyI7CgogICAgbGV0IGltZ1Zpc2liaWxpdHkgPSBpc0ltYWdlID8gImJsb2NrIiA6ICJub25lIjsKICAgIGxldCB2aWRWaXNpYmlsaXR5ID0gaXNJbWFnZSA/ICJub25lIiA6ICJibG9jayI7CgogICAgY3R4TWVudU9wZW5Jbk5ld1RhYi5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVTYXZlQXMuc3R5bGUuZGlzcGxheSA9IGltZ1Zpc2liaWxpdHk7CiAgICBjdHhNZW51Q29weUltZy5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVDb3B5QWRkcmVzcy5zdHlsZS5kaXNwbGF5ID0gaW1nVmlzaWJpbGl0eTsKICAgIGN0eE1lbnVHUklTLnN0eWxlLmRpc3BsYXkgPSBpbWdWaXNpYmlsaXR5OwoKICAgIGN0eE1lbnVPcGVuVmlkSW5OZXdUYWIuc3R5bGUuZGlzcGxheSA9IHZpZFZpc2liaWxpdHk7CiAgICBjdHhNZW51U2F2ZUFzVmlkLnN0eWxlLmRpc3BsYXkgPSB2aWRWaXNpYmlsaXR5OwogICAgY3R4TWVudUNvcHlWaWRBZGRyZXNzLnN0eWxlLmRpc3BsYXkgPSB2aWRWaXNpYmlsaXR5OwoKICAgIGNvbnN0IGNvcHlBZGRyZXNzID0gZnVuY3Rpb24odXJsKXsgc2V0Q29udGV4dE1lbnVWaXNpYmxlKGZhbHNlKTsgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTsgfTsKICAgIGNvbnN0IHNhdmVNZWRpYSA9IGZ1bmN0aW9uKHVybCkKICAgIHsKICAgICAgICBzZXRDb250ZXh0TWVudVZpc2libGUoZmFsc2UpOwogICAgICAgIGRvd25sb2FkKHVybCwgZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhSW5mby5kYXRhKSk7CiAgICB9OwogICAgY29uc3Qgb3BlbkluTmV3VGFiID0gZnVuY3Rpb24odXJsKQogICAgewogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgICAgaWYgKEdNX09wZW5JblRhYk1pc3NpbmcpCiAgICAgICAgewogICAgICAgICAgICB2YXIgbGFzdFdpbiA9IHdpbmRvdzsKICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICAgICAgICAgIGxhc3RXaW4uZm9jdXMoKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7IEdNX29wZW5JblRhYih1cmwsIHsgYWN0aXZlOiBmYWxzZSwgaW5zZXJ0OiB0cnVlLCBzZXRQYXJlbnQ6IHRydWUsIGluY29nbml0bzogZmFsc2UgfSk7IH0KICAgIH07CgoKICAgIC8vSW1hZ2UgQ29udGV4dAogICAgaWYoaXNJbWFnZSA9PSB0cnVlKQogICAgewogICAgICAgIG1lZGlhSW5mby5tZWRpYUVsZW0uY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJzsgLy9OZWVkZWQgdG8gYXZvaWQgYnJvd3NlciBwcmV2ZW50aW5nIHRoZSBDYW52YXMgZnJvbSBiZWluZyBjb3BpZWQgd2hlbiBkb2luZyAiQ29weSBJbWFnZSIKCiAgICAgICAgY3R4TWVudU9wZW5Jbk5ld1RhYi5vbmNsaWNrID0gKCkgPT4geyBvcGVuSW5OZXdUYWIoZGxVUkwpIH07CiAgICAgICAgY3R4TWVudVNhdmVBcy5vbmNsaWNrID0gKCkgPT4geyBzYXZlTWVkaWEoZGxVUkwpIH07CgogICAgICAgIGN0eE1lbnVDb3B5SW1nLm9uY2xpY2sgPSAoKSA9PgogICAgICAgIHsKICAgICAgICAgICAgc2V0Q29udGV4dE1lbnVWaXNpYmxlKGZhbHNlKTsKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxldCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgICAgICAgICBjLndpZHRoID0gbWVkaWFJbmZvLmRhdGEud2lkdGg7CiAgICAgICAgICAgICAgICBjLmhlaWdodCA9IG1lZGlhSW5mby5kYXRhLmhlaWdodDsKICAgICAgICAgICAgICAgIGMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UobWVkaWFJbmZvLm1lZGlhRWxlbSwgMCwgMCwgYy53aWR0aCwgYy5oZWlnaHQpOwogICAgICAgICAgICAgICAgYy50b0Jsb2IoKHBuZykgPT4KICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlKFtuZXcgQ2xpcGJvYXJkSXRlbSh7CiAgICAgICAgICAgICAgICAgICAgICAgIFtwbmcudHlwZV06IHBuZyB9KV0pOwogICAgICAgICAgICAgICAgfSwgImltYWdlL3BuZyIsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlcnIpIHsgY29uc29sZS5sb2coZXJyKTsgfTsKICAgICAgICB9OwogICAgICAgIGN0eE1lbnVDb3B5QWRkcmVzcy5vbmNsaWNrID0gKCkgPT4geyBjb3B5QWRkcmVzcyhkbFVSTCkgfTsKICAgICAgICBjdHhNZW51R1JJUy5vbmNsaWNrID0gKCkgPT4geyBzZXRDb250ZXh0TWVudVZpc2libGUoZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoYnlpbWFnZT9zYmlzcmM9Y3JfMV81XzImaW1hZ2VfdXJsPSIgKyBkbFVSTCk7IH07CiAgICB9CiAgICBlbHNlIC8vVmlkZW8KICAgIHsKICAgICAgICBjdHhNZW51T3BlblZpZEluTmV3VGFiLm9uY2xpY2sgPSAoKSA9PiB7IG9wZW5Jbk5ld1RhYihkbFVSTCkgfTsKICAgICAgICBjdHhNZW51U2F2ZUFzVmlkLm9uY2xpY2sgPSAoKSA9PiB7IHNhdmVNZWRpYShkbFVSTCkgfTsKICAgICAgICBjdHhNZW51Q29weVZpZEFkZHJlc3Mub25jbGljayA9ICgpID0+IHsgY29weUFkZHJlc3MoZGxVUkwpIH07CiAgICB9CgogICAgLy9HZW5lcmljIFN0dWZmCiAgICBjdHhNZW51U2hvd0RlZmF1bHQub25jbGljayA9ICgpID0+IHsgc2VsZWN0ZWRTaG93RGVmYXVsdENvbnRleHQgPSB0cnVlOwogICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7IH07Cn0KCmZ1bmN0aW9uIGFkZEN1c3RvbUN0eE1lbnUodHdlZXREYXRhLCBtZWRpYUluZm8sIGN0eFRhcmdldCkKewogICAgaWYgKGFkZEhhc0F0dHJpYnV0ZShjdHhUYXJnZXQsICJ0aGRfY3VzdG9tY3R4IikpIHsgcmV0dXJuOyB9CiAgICBjdHhUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZSkKICAgIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICBsZXQgY3VyU2VsID0gY3R4TWVudS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGlvbicpOwoKICAgICAgICBpZiAod2FzU2hvd0RlZmF1bHRDb250ZXh0Q2xpY2tlZCgpKSB7IHNlbGVjdGVkU2hvd0RlZmF1bHRDb250ZXh0ID0gZmFsc2U7IHJldHVybjsgfSAvL1NraXAgZXZlcnl0aGluZyBoZXJlIGFuZCBzaG93IGRlZmF1bHQgY29udGV4dCBtZW51CiAgICAgICAgaWYoY3R4TWVudS5zdHlsZS5kaXNwbGF5ICE9ICJibG9jayIgfHwKICAgICAgICAoY3R4TWVudS5zdHlsZS5kaXNwbGF5ID09ICJibG9jayIgJiYgKGN1clNlbCA9PSBudWxsIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VyU2VsICE9IG51bGwgJiYgY3VyU2VsICE9IG1lZGlhSW5mby5kYXRhLmNvbnRlbnRVUkwpKSkpCiAgICAgICAgewogICAgICAgICAgICB1cGRhdGVDb250ZXh0TWVudUxpbmsodHdlZXREYXRhLCBtZWRpYUluZm8pOwogICAgICAgICAgICBzZXRDb250ZXh0TWVudVZpc2libGUodHJ1ZSk7CiAgICAgICAgICAgIGN0eE1lbnUuc3R5bGUubGVmdCA9IG1vdXNlWChlKSArICJweCI7CiAgICAgICAgICAgIGN0eE1lbnUuc3R5bGUudG9wID0gbW91c2VZKGUpICsgInB4IjsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHNldENvbnRleHRNZW51VmlzaWJsZShmYWxzZSk7CiAgICAgICAgfQoKICAgIH0sIGZhbHNlKTsKfQoKLy88LS0+IFRXSVRURVIgVVRJTElUWSBGVU5DVElPTlMgPC0tPi8vCgovL0JlY2F1c2UgRmlyZWZveCBkb2Vzbid0IGFzc3VtZSB0aGUgZm9ybWF0IHVubGlrZSBDaHJvbWUuLi4KZnVuY3Rpb24gZ2V0TWVkaWFGb3JtYXQodXJsKQp7CiAgICBsZXQgZW5kID0gdXJsLnNwbGl0KCcvJykucG9wKCk7CiAgICBsZXQgcGVyaW9kU3BsaXQgPSBlbmQuc3BsaXQoJy4nKTsKICAgIGlmIChwZXJpb2RTcGxpdC5sZW5ndGggPiAxKQogICAgewogICAgICAgIHJldHVybiAnLicgKyBwZXJpb2RTcGxpdC5wb3AoKS5zcGxpdCgnPycpWzBdOwogICAgfQogICAgaWYgKHVybC5pbmNsdWRlcygnZm9ybWF0PScpKQogICAgewogICAgICAgIGxldCBwYXJhbXMgPSB1cmwuc3BsaXQoJz8nKS5wb3AoKS5zcGxpdCgnJicpOwogICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGFyYW1zLmxlbmd0aDsgcCsrKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHBhcmFtc1twXS5pbmNsdWRlcygnZm9ybWF0JykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiAnLicgKyBwYXJhbXNbcF0uc3BsaXQoJz0nKS5wb3AoKS5zcGxpdCgnPycpWzBdOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAnJzsKfQoKZnVuY3Rpb24gaXNEaXJlY3RJbWFnZVBhZ2UodXJsKSAvL0NoZWNrcyBpZiB3ZWJwYWdlIHdlJ3JlIG9uIGlzIGEgZGlyZWN0IGltYWdlIHZpZXcKewogICAgaWYgKHVybC5pbmNsdWRlcygncGJzLnR3aW1nLmNvbS9tZWRpYS8nKSkKICAgIHsKICAgICAgICBpZighdXJsLmluY2x1ZGVzKCduYW1lPW9yaWcnKSkKICAgICAgICB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZ2V0SGlnaFF1YWxpdHlJbWFnZSh1cmwpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZG93bmxvYWQodXJsLCBmaWxlbmFtZSkKewogICAgR01fZG93bmxvYWQoCiAgICB7CiAgICAgICAgbmFtZTogZmlsZW5hbWUgKyBnZXRNZWRpYUZvcm1hdCh1cmwpLAogICAgICAgIHVybDogdXJsLAogICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKCkgeyAvKkxvZ01lc3NhZ2UoYERvd25sb2FkZWQgJHt1cmx9IWApOyovIH0KICAgIH0pOwp9CgpmdW5jdGlvbiBnZXRVcmxGcm9tVHdlZXQodHdlZXQpCnsKICAgIGxldCBhcnRpY2xlID0gdHdlZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICdBUlRJQ0xFJyA/IHR3ZWV0IDogdHdlZXQucXVlcnlTZWxlY3RvcignYXJ0aWNsZScpOwoKICAgIGlmIChhcnRpY2xlID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH0KICAgIGxldCB0aW1lRWxlbSA9IGFydGljbGUucXVlcnlTZWxlY3RvcigndGltZScpOwogICAgaWYodGltZUVsZW0pCiAgICB7CiAgICAgICAgbGV0IHBhcmVudExpbmsgPSB0aW1lRWxlbS5wYXJlbnRFbGVtZW50OwogICAgICAgIGlmKHBhcmVudExpbmsudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICdBJykKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBwYXJlbnRMaW5rLmhyZWY7CiAgICAgICAgfQogICAgfQoKICAgIGxldCBwb3N0TGluayA9IGFydGljbGUucXVlcnlTZWxlY3RvcignYTpub3QoW2hyZWYqPSIvcmV0d2VldHMiXSxbaHJlZiQ9Ii9saWtlcyJdKVtocmVmKj0iL3N0YXR1cy8iXVtyb2xlPSJsaW5rIl1bZGlyPSJhdXRvIl0nKTsKICAgIGxldCBpbWdMaW5rID0gYXJ0aWNsZS5xdWVyeVNlbGVjdG9yKCdhOm5vdChbaHJlZio9Ii9yZXR3ZWV0cyJdLFtocmVmJD0iL2xpa2VzIl0sW2Rpcj0iYXV0byJdKVtocmVmKj0iL3N0YXR1cy8iXVtyb2xlPSJsaW5rIl0nKTsKCiAgICBpZiAoaW1nTGluaykKICAgIHsKICAgICAgICBsZXQgc3RhdHVzTGluayA9IGltZ0xpbmsuaHJlZi5zcGxpdCgnL3Bob3RvLycpWzBdOwogICAgICAgIGxldCBpbWdVc2VyID0gc3RhdHVzTGluay5zcGxpdCgnL3N0YXR1cy8nKVswXTsKICAgICAgICBpZiAocG9zdExpbmsgPT0gbnVsbCB8fCAhcG9zdExpbmsuaHJlZi5pbmNsdWRlcyhpbWdVc2VyKSkgeyByZXR1cm4gc3RhdHVzTGluazsgfQogICAgfQoKICAgIGlmIChwb3N0TGluaykgeyByZXR1cm4gcG9zdExpbmsuaHJlZjsgfQoKCiAgICByZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gZ2V0SURGcm9tVHdlZXQodHdlZXQpCnsKICAgIGxldCB1cmwgPSBnZXRVcmxGcm9tVHdlZXQodHdlZXQpOwogICAgcmV0dXJuIGdldElERnJvbVVSTCh1cmwpOwp9CgpmdW5jdGlvbiBnZXRJREZyb21VUkwodXJsKQp7CiAgICBpZih1cmwgPT0gbnVsbCkgcmV0dXJuIG51bGw7CgogICAgbGV0IHNwbGl0ID0gdXJsLnNwbGl0KCcvJyk7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoOyBpKyspCiAgICB7CiAgICAgICAgaWYoc3BsaXRbaV0gPT0gJ3N0YXR1cycpIHsgcmV0dXJuIHNwbGl0W2kgKyAxXTsgfQogICAgfQoKICAgIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBnZXRUd2VldERhdGEodHdlZXQpCnsKICAgICBsZXQgaWQgPSBnZXRJREZyb21Ud2VldCh0d2VldCk7CiAgICBpZiAoaWQgPT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfQoKICAgIGxldCB0d2VldERhdGEgPSB0d2VldHMuZ2V0KGlkKTsKICAgIGlmKHR3ZWV0RGF0YSA9PSBudWxsKSB7IHJldHVybiBudWxsOyB9CiAgICB0d2VldERhdGEudHdlZXRFbGVtID0gdHdlZXQ7CgogICAgcmV0dXJuIHR3ZWV0RGF0YTsKfQoKZnVuY3Rpb24gZmlsZW5hbWVGcm9tTWVkaWFEYXRhKG1lZGlhRGF0YSkKewogICAgbGV0IGZpbGVuYW1lID0gbWVkaWFEYXRhLnVzZXJuYW1lICsgJyAtICcgKyBtZWRpYURhdGEuaWQ7CiAgICBpZiAobWVkaWFEYXRhLm1lZGlhTnVtID49IDApIHsgZmlsZW5hbWUgKz0gJ18nICsgbWVkaWFEYXRhLm1lZGlhTnVtLnRvU3RyaW5nKCk7IH0KICAgIHJldHVybiBmaWxlbmFtZTsKfQoKZnVuY3Rpb24gZ2V0SGlnaFF1YWxpdHlJbWFnZSh1cmwpCnsKICAgIGlmKCF1cmwuaW5jbHVkZXMoIm5hbWU9IikpIHsgcmV0dXJuIHVybCArICh1cmwuaW5jbHVkZXMoJz89JykgPyAnJicgOiAnPycpICsgJ25hbWU9b3JpZyc7IH0KICAgIHJldHVybiB1cmwucmVwbGFjZSgvKD88PVtcJlw/XW5hbWU9KShbQS1aYS16MC05XSkrKD89XCYpPy8sICdvcmlnJyk7Cn0KCgovLy0tPiBQUkVGRVJFTkNFIFVQREFUSU5HIDwtLS8vCnZhciBjbGVhcmVkVG9waWNzID0gZmFsc2U7Cgphc3luYyBmdW5jdGlvbiBjbGVhclRvcGljc0FuZEludGVyZXN0cyhmb3JjZSA9IGZhbHNlKQp7CiAgICBpZighZm9yY2UgJiYgY2xlYXJlZFRvcGljcykgeyByZXR1cm47IH0KICAgIGNsZWFyZWRUb3BpY3MgPSB0cnVlOwoKICAgIGxldCBhdXRvQ2xlYXIgPSBhd2FpdCBnZXRVc2VyUHJlZih0b2dnbGVDbGVhclRvcGljcy5uYW1lLCBmYWxzZSk7CiAgICBpZihhdXRvQ2xlYXIgPT0gZmFsc2UgJiYgZm9yY2UgPT0gZmFsc2UpIHsgcmV0dXJuOyB9CgogICAgbGV0IGxhc3RDbGVhclRpbWVUZXh0ID0gYXdhaXQgZ2V0VXNlclByZWYodXNlUHJlZl9sYXN0VG9waWNzQ2xlYXJUaW1lLCAiMTYiKTsKICAgIGxldCBsYXN0Q2xlYXJUaW1lID0gcGFyc2VJbnQobGFzdENsZWFyVGltZVRleHQpOwogICAgbGV0IGN1clRpbWUgPSBEYXRlLm5vdygpOwoKICAgIGlmKGN1clRpbWUgLSBsYXN0Q2xlYXJUaW1lIDwgODY0MDAwMDAgfHwgY3VyVGltZSA9PSBsYXN0Q2xlYXJUaW1lKQogICAgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBhd2FpdCBzZXRVc2VyUHJlZih1c2VQcmVmX2xhc3RUb3BpY3NDbGVhclRpbWUsIGN1clRpbWUudG9TdHJpbmcoKSk7CgogICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvMS4xL2FjY291bnQvcGVyc29uYWxpemF0aW9uL3R3aXR0ZXJfaW50ZXJlc3RzLmpzb24iLCB7CiAgICAgICAgImhlYWRlcnMiOiB7CiAgICAgICAgICAgICJhY2NlcHQiOiAiKi8qIiwKICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICJlbi1VUyxlbjtxPTAuOSIsCiAgICAgICAgICAgICJhdXRob3JpemF0aW9uIjogYXV0aHksCiAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICJlbXB0eSIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAieC10d2l0dGVyLWFjdGl2ZS11c2VyIjogInllcyIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYXV0aC10eXBlIjogIk9BdXRoMlNlc3Npb24iLAogICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICB9LAogICAgICAgICJyZWZlcnJlciI6ICJodHRwczovL3R3aXR0ZXIuY29tL3NldHRpbmdzL3lvdXJfdHdpdHRlcl9kYXRhL3R3aXR0ZXJfaW50ZXJlc3RzIiwKICAgICAgICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBudWxsLAogICAgICAgICJtZXRob2QiOiAiR0VUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICBpZihyZXNwb25zZS5zdGF0dXMgPT0gMjAwKQogICAgICAgIHsKICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb24pID0+IHsKCiAgICAgICAgICAgICAgICBmZXRjaCgiaHR0cHM6Ly90d2l0dGVyLmNvbS9pL2FwaS8xLjEvYWNjb3VudC9wZXJzb25hbGl6YXRpb24vcDEzbl9wcmVmZXJlbmNlcy5qc29uIiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImVuLVVTLGVuO3E9MC45IiwKICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogImVtcHR5IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInJlZmVycmVyIjogImh0dHBzOi8vdHdpdHRlci5jb20vc2V0dGluZ3MveW91cl90d2l0dGVyX2RhdGEvdHdpdHRlcl9pbnRlcmVzdHMiLAogICAgICAgICAgICAgICAgICAgICJyZWZlcnJlclBvbGljeSI6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIiwKICAgICAgICAgICAgICAgICAgICAiYm9keSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJHRVQiLAogICAgICAgICAgICAgICAgICAgICJtb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICJjcmVkZW50aWFscyI6ICJpbmNsdWRlIgogICAgICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChwcmVmcykgPT4KICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJlc3RzID0ganNvbi5pbnRlcmVzdGVkX2luOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJlc3RzLmxlbmd0aCA9PSAwKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzaW50ZXJlc3RzID0gcHJlZnMuaW50ZXJlc3RfcHJlZmVyZW5jZXMuZGlzYWJsZWRfaW50ZXJlc3RzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuYWxsb3dfYWRzX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMudXNlX2Nvb2tpZV9wZXJzb25hbGl6YXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZzLmlzX2V1X2NvdW50cnkgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuYWdlX3ByZWZlcmVuY2VzLnVzZV9hZ2VfZm9yX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZnMuZ2VuZGVyX3ByZWZlcmVuY2VzLnVzZV9nZW5kZXJfZm9yX3BlcnNvbmFsaXphdGlvbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpbnRlcmVzdHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzaW50ZXJlc3RzLnB1c2goaW50ZXJlc3RzW2ldLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmcy5pbnRlcmVzdF9wcmVmZXJlbmNlcy5kaXNhYmxlZF9pbnRlcmVzdHMgPSBkaXNpbnRlcmVzdHM7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvMS4xL2FjY291bnQvcGVyc29uYWxpemF0aW9uL3AxM25fcHJlZmVyZW5jZXMuanNvbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWFjdGl2ZS11c2VyIjogInllcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYXV0aC10eXBlIjogIk9BdXRoMlNlc3Npb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWZlcnJlciI6ICJodHRwczovL3R3aXR0ZXIuY29tL3NldHRpbmdzL3lvdXJfdHdpdHRlcl9kYXRhL3R3aXR0ZXJfaW50ZXJlc3RzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiBgeyJwcmVmZXJlbmNlcyI6JHtKU09OLnN0cmluZ2lmeShwcmVmcyl9fWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwoKICAgIGZldGNoKCJodHRwczovL3R3aXR0ZXIuY29tL2kvYXBpL2dyYXBocWwvTHQ5V1BrTkJVUC1MdEdfT1BXOUZrQS9Ub3BpY3NNYW5hZ2VtZW50UGFnZT92YXJpYWJsZXM9JTdCJTIyd2l0aFN1cGVyRm9sbG93c1VzZXJGaWVsZHMlMjIlM0FmYWxzZSUyQyUyMndpdGhEb3dudm90ZVBlcnNwZWN0aXZlJTIyJTNBZmFsc2UlMkMlMjJ3aXRoUmVhY3Rpb25zTWV0YWRhdGElMjIlM0FmYWxzZSUyQyUyMndpdGhSZWFjdGlvbnNQZXJzcGVjdGl2ZSUyMiUzQWZhbHNlJTJDJTIyd2l0aFN1cGVyRm9sbG93c1R3ZWV0RmllbGRzJTIyJTNBdHJ1ZSU3RCZmZWF0dXJlcz0lN0IlMjJyZXNwb25zaXZlX3dlYl90d2l0dGVyX2JsdWVfdmVyaWZpZWRfYmFkZ2VfaXNfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIydmVyaWZpZWRfcGhvbmVfbGFiZWxfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIycmVzcG9uc2l2ZV93ZWJfZ3JhcGhxbF90aW1lbGluZV9uYXZpZ2F0aW9uX2VuYWJsZWQlMjIlM0F0cnVlJTJDJTIydW5pZmllZF9jYXJkc19hZF9tZXRhZGF0YV9jb250YWluZXJfZHluYW1pY19jYXJkX2NvbnRlbnRfcXVlcnlfZW5hYmxlZCUyMiUzQXRydWUlMkMlMjJ0d2VldHlwaWVfdW5tZW50aW9uX29wdGltaXphdGlvbl9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnJlc3BvbnNpdmVfd2ViX3VjX2dxbF9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnZpYmVfYXBpX2VuYWJsZWQlMjIlM0F0cnVlJTJDJTIycmVzcG9uc2l2ZV93ZWJfZWRpdF90d2VldF9hcGlfZW5hYmxlZCUyMiUzQXRydWUlMkMlMjJncmFwaHFsX2lzX3RyYW5zbGF0YWJsZV9yd2ViX3R3ZWV0X2lzX3RyYW5zbGF0YWJsZV9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnN0YW5kYXJkaXplZF9udWRnZXNfbWlzaW5mbyUyMiUzQXRydWUlMkMlMjJ0d2VldF93aXRoX3Zpc2liaWxpdHlfcmVzdWx0c19wcmVmZXJfZ3FsX2xpbWl0ZWRfYWN0aW9uc19wb2xpY3lfZW5hYmxlZCUyMiUzQWZhbHNlJTJDJTIyaW50ZXJhY3RpdmVfdGV4dF9lbmFibGVkJTIyJTNBdHJ1ZSUyQyUyMnJlc3BvbnNpdmVfd2ViX3RleHRfY29udmVyc2F0aW9uc19lbmFibGVkJTIyJTNBZmFsc2UlMkMlMjJyZXNwb25zaXZlX3dlYl9lbmhhbmNlX2NhcmRzX2VuYWJsZWQlMjIlM0F0cnVlJTdEIiwgewogICAgICAgICJoZWFkZXJzIjogewogICAgICAgICAgICAiYWNjZXB0IjogIiovKiIsCiAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiZW4tVVMsZW47cT0wLjkiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICJ4LWNzcmYtdG9rZW4iOiBjb29reSwKICAgICAgICAgICAgIngtdHdpdHRlci1hY3RpdmUtdXNlciI6ICJ5ZXMiLAogICAgICAgICAgICAieC10d2l0dGVyLWF1dGgtdHlwZSI6ICJPQXV0aDJTZXNzaW9uIiwKICAgICAgICAgICAgIngtdHdpdHRlci1jbGllbnQtbGFuZ3VhZ2UiOiAiZW4iCiAgICAgICAgfSwKICAgICAgICAicmVmZXJyZXIiOiAiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnZlcnRfeC90b3BpY3MvZm9sbG93ZWQiLAogICAgICAgICJyZWZlcnJlclBvbGljeSI6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIiwKICAgICAgICAiYm9keSI6IG51bGwsCiAgICAgICAgIm1ldGhvZCI6ICJHRVQiLAogICAgICAgICJtb2RlIjogImNvcnMiLAogICAgICAgICJjcmVkZW50aWFscyI6ICJpbmNsdWRlIgogICAgfSkudGhlbigocmVzcCkgPT4gewogICAgICAgIGlmKHJlc3Auc3RhdHVzID09IDIwMCkKICAgICAgICB7CiAgICAgICAgICAgIHJlc3AuanNvbigpLnRoZW4oKHRvcGljcykgPT4gewogICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gdG9waWNzLmRhdGEudmlld2VyLnRvcGljc19tYW5hZ2VtZW50X3BhZ2UuYm9keS5pbml0aWFsVGltZWxpbmUudGltZWxpbmUudGltZWxpbmUuaW5zdHJ1Y3Rpb25zWzJdLmVudHJpZXM7CgogICAgICAgICAgICAgICAgZm9yKGxldCB0ID0gMDsgdCA8IGl0ZW1zLmxlbmd0aDsgdCsrKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gaXRlbXNbdF07CiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5jb250ZW50LmNsaWVudEV2ZW50SW5mby5jb21wb25lbnQgPT0gInN1Z2dlc3RfZm9sbG93ZWRfdG9waWMiICYmIGl0ZW0uY29udGVudC5pdGVtQ29udGVudC50b3BpYy5mb2xsb3dpbmcgPT0gdHJ1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goImh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvZ3JhcGhxbC9zcndqVTZKTV9aS1RqX1FNZlVHTmN3L1RvcGljVW5mb2xsb3ciLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXB0IjogIiovKiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICJlbi1VUyxlbjtxPTAuOSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhvcml6YXRpb24iOiBhdXRoeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICJlbXB0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogImNvcnMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIngtY3NyZi10b2tlbiI6IGNvb2t5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWF1dGgtdHlwZSI6ICJPQXV0aDJTZXNzaW9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieC10d2l0dGVyLWNsaWVudC1sYW5ndWFnZSI6ICJlbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9keSI6IGB7InZhcmlhYmxlcyI6eyJ0b3BpY0lkIjoiJHtpdGVtLmNvbnRlbnQuaXRlbUNvbnRlbnQudG9waWMudG9waWNfaWR9In0sInF1ZXJ5SWQiOiIifWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWV0aG9kIjogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKfQoKYXN5bmMgZnVuY3Rpb24gYm9va21hcmtQb3N0KHBvc3RJZCwgb25SZXNwb25zZSkKewogICAgZmV0Y2goImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL2dyYXBocWwvYW9EYnUzUkh6bnVpU2tROWFOTTY3US9DcmVhdGVCb29rbWFyayIsIHsKICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgIH0sCiAgICAgICAgInJlZmVycmVyIjogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgIC8vICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBgeyJ2YXJpYWJsZXMiOnsidHdlZXRfaWQiOiIke3Bvc3RJZH0ifSwicXVlcnlJZCI6ImFvRGJ1M1JIem51aVNrUTlhTk02N1EifWAsCiAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oKHJlc3ApID0+IHsgb25SZXNwb25zZShyZXNwKTsgfSkuY2F0Y2goKGVycikgPT4ge30pOwp9Cgphc3luYyBmdW5jdGlvbiB1bmJvb2ttYXJrUG9zdChwb3N0SWQsIG9uUmVzcG9uc2UpCnsKICAgIGZldGNoKCJodHRwczovL3R3aXR0ZXIuY29tL2kvYXBpL2dyYXBocWwvV2xtbGoyLXh6eVMxR04zYTZjai1tUS9EZWxldGVCb29rbWFyayIsIHsKICAgICAgICAiaGVhZGVycyI6IHsKICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGF1dGh5LAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAieC1jc3JmLXRva2VuIjogY29va3ksCiAgICAgICAgICAgICJ4LXR3aXR0ZXItYWN0aXZlLXVzZXIiOiAieWVzIiwKICAgICAgICAgICAgIngtdHdpdHRlci1hdXRoLXR5cGUiOiAiT0F1dGgyU2Vzc2lvbiIsCiAgICAgICAgICAgICJ4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlIjogImVuIgogICAgICAgIH0sCiAgICAgICAgInJlZmVycmVyIjogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgIC8vICAicmVmZXJyZXJQb2xpY3kiOiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgICAgImJvZHkiOiBgeyJ2YXJpYWJsZXMiOnsidHdlZXRfaWQiOiIke3Bvc3RJZH0ifSwicXVlcnlJZCI6IldsbWxqMi14enlTMUdOM2E2Y2otbVEifWAsCiAgICAgICAgIm1ldGhvZCI6ICJQT1NUIiwKICAgICAgICAibW9kZSI6ICJjb3JzIiwKICAgICAgICAiY3JlZGVudGlhbHMiOiAiaW5jbHVkZSIKICAgIH0pLnRoZW4oKHJlc3ApID0+IHsgb25SZXNwb25zZShyZXNwKTsgfSkuY2F0Y2goKGVycikgPT4ge30pOwp9CgovLzwtLT4gR0VORVJJQyBVVElMSVRZIEZVTkNUSU9OUyA8LS0+Ly8KZnVuY3Rpb24gd2F0Y2hGb3JDaGFuZ2Uocm9vdCwgb2JzQXJndW1lbnRzLCBvbkNoYW5nZSkKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykKICAgIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IG9uQ2hhbmdlKHJvb3QsIG11dGF0aW9uKSk7CiAgICB9KTsKICAgIHJvb3RPYnNlcnZlci5vYnNlcnZlKHJvb3QsIG9ic0FyZ3VtZW50cyk7CiAgICByZXR1cm4gcm9vdE9ic2VydmVyOwp9CgpmdW5jdGlvbiB3YXRjaEZvckNoYW5nZUZ1bGwocm9vdCwgb2JzQXJndW1lbnRzLCBvbkNoYW5nZSkKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykKICAgIHsKICAgICAgICByb290T2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgIG9uQ2hhbmdlKHJvb3QsIG11dGF0aW9ucyk7CiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIH0pOwogICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIHJldHVybiByb290T2JzZXJ2ZXI7Cn0KCmFzeW5jIGZ1bmN0aW9uIHdhdGNoRm9yQWRkZWROb2Rlcyhyb290LCBzdG9wQWZ0ZXJGaXJzdE11dGF0aW9uLCBvYnNBcmd1bWVudHMsIGV4ZWN1dGVBZnRlcikKewogICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoCiAgICAgICAgZnVuY3Rpb24gKG11dGF0aW9ucykKICAgICAgICB7CiAgICAgICAgICAgIC8vICBMb2dNZXNzYWdlKCJ0aW1lbGluZSBtdXRhdGVkIik7CiAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMgPT0gbnVsbCB8fCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA9PSAwKSB7IHJldHVybjsgfQogICAgICAgICAgICAgICAgaWYgKHN0b3BBZnRlckZpcnN0TXV0YXRpb24pIHsgcm9vdE9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfQogICAgICAgICAgICAgICAgZXhlY3V0ZUFmdGVyKG11dGF0aW9uLmFkZGVkTm9kZXMpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgfSk7CgogICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZmluZEVsZW0ocm9vdEVsZW0sIHF1ZXJ5LCBvYnNlcnZlciwgcmVzb2x2ZSkKewogICAgY29uc3QgZWxlbSA9IHJvb3RFbGVtLnF1ZXJ5U2VsZWN0b3IocXVlcnkpOwogICAgaWYgKGVsZW0gIT0gbnVsbCAmJiBlbGVtICE9IHVuZGVmaW5lZCkKICAgIHsKICAgICAgICByZXNvbHZlKGVsZW0pOwogICAgICAgIG9ic2VydmVyPy5kaXNjb25uZWN0KCk7CiAgICB9CiAgICByZXR1cm4gZWxlbTsKfQoKYXN5bmMgZnVuY3Rpb24gYXdhaXRFbGVtKHJvb3QsIHF1ZXJ5LCBvYnNBcmd1bWVudHMpCnsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PgogICAgewogICAgICAgIGlmIChmaW5kRWxlbShyb290LCBxdWVyeSwgbnVsbCwgcmVzb2x2ZSkpIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGVzLCBvYnMpID0+IHsKICAgICAgICAgICAgZmluZEVsZW0ocm9vdCwgcXVlcnksIG9icywgcmVzb2x2ZSk7CiAgICAgICAgfSk7CiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUocm9vdCwgb2JzQXJndW1lbnRzKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBkb09uQXR0cmlidXRlQ2hhbmdlKGVsZW0sIG9uQ2hhbmdlLCByZXBlYXRPbmNlID0gZmFsc2UpCnsKICAgIGxldCByb290T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0ZXMsIG9idnMpID0+CiAgICB7CiAgICAgICAgb2J2cy5kaXNjb25uZWN0KCk7CiAgICAgICAgb25DaGFuZ2UoZWxlbSk7CiAgICAgICAgaWYgKHJlcGVhdE9uY2UgPT0gdHJ1ZSkgeyByZXR1cm47IH0KICAgICAgICBvYnZzLm9ic2VydmUoZWxlbSwgeyBjaGlsZExpc3Q6IGZhbHNlLCBzdWJ0cmVlOiBmYWxzZSwgYXR0cmlidXRlczogdHJ1ZSB9KQogICAgfSk7CiAgICByb290T2JzZXJ2ZXIub2JzZXJ2ZShlbGVtLCB7IGNoaWxkTGlzdDogZmFsc2UsIHN1YnRyZWU6IGZhbHNlLCBhdHRyaWJ1dGVzOiB0cnVlIH0pOwp9CgpmdW5jdGlvbiBhZGRIYXNBdHRyaWJ1dGUoZWxlbSwgYXR0cikKewogICAgaWYgKGVsZW0uaGFzQXR0cmlidXRlKGF0dHIpKSB7IHJldHVybiB0cnVlOyB9CiAgICBlbGVtLnNldEF0dHJpYnV0ZShhdHRyLCAiIik7CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKQp7CiAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZSArICc9KFteO10rKScpKTsKICAgIGlmIChtYXRjaCkgeyByZXR1cm4gbWF0Y2hbMl0udG9TdHJpbmcoKTsgfQogICAgcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGdldENTU1J1bGVDb250YWluaW5nU3R5bGUoc3R5bGVOYW1lLCBzZWxlY3RvcnMsIHN0eWxlQ250ID0gMCwgbWF0Y2hpbmdWYWx1ZSA9ICIiKQp7CiAgICB2YXIgc2hlZXRzID0gZG9jdW1lbnQuc3R5bGVTaGVldHM7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHNoZWV0cy5sZW5ndGg7IGkgPCBsOyBpKyspCiAgICB7CiAgICAgICAgdmFyIGN1clNoZWV0ID0gc2hlZXRzW2ldOwoKICAgICAgICBpZiAoIWN1clNoZWV0LmNzc1J1bGVzKSB7IGNvbnRpbnVlOyB9CgogICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gY3VyU2hlZXQuY3NzUnVsZXMubGVuZ3RoOyBqIDwgazsgaisrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIHJ1bGUgPSBjdXJTaGVldC5jc3NSdWxlc1tqXTsKICAgICAgICAgICAgaWYgKHN0eWxlQ250ICE9IDAgJiYgc3R5bGVDbnQgIT0gcnVsZS5zdHlsZS5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH0KICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ICYmIHJ1bGUuc3R5bGUubGVuZ3RoID4gMCAvKiAmJiBydWxlLnNlbGVjdG9yVGV4dC5zcGxpdCgnLCcpLmluZGV4T2Yoc2VsZWN0b3IpICE9PSAtMSovICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzZWxlY3RvcnMubGVuZ3RoOyBzKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0LmluY2x1ZGVzKHNlbGVjdG9yc1tzXSkgJiYgcnVsZS5zdHlsZVswXSA9PSBzdHlsZU5hbWUpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdWYWx1ZSA9PT0gIiIgfHwgbWF0Y2hpbmdWYWx1ZSA9PSBydWxlLnN0eWxlW3N0eWxlTmFtZV0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBydWxlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7Cn0KCmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQcmVmKGtleSwgZGVmYXVsdFZhbCkKewogICAgaWYgKGlzR00pIHsgcmV0dXJuIGF3YWl0IEdNLmdldFZhbHVlKGtleSwgZGVmYXVsdFZhbCk7IH0KICAgIHJldHVybiBhd2FpdCBHTV9nZXRWYWx1ZShrZXksIGRlZmF1bHRWYWwpOwp9CmFzeW5jIGZ1bmN0aW9uIHNldFVzZXJQcmVmKGtleSwgdmFsdWUpCnsKICAgIGlmIChpc0dNKSB7IHJldHVybiBhd2FpdCBHTS5zZXRWYWx1ZShrZXksIHZhbHVlKTsgfQogICAgcmV0dXJuIGF3YWl0IEdNX3NldFZhbHVlKGtleSwgdmFsdWUpOwp9CgpmdW5jdGlvbiBMb2dNZXNzYWdlKHRleHQpIHsgLypjb25zb2xlLmxvZyh0ZXh0KTsqLyB9CgpmdW5jdGlvbiBhZGRHbG9iYWxTdHlsZShjc3MpCnsKICAgIGxldCBoZWFkLCBzdHlsZTsKICAgIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgaWYgKCFoZWFkKSB7IHJldHVybjsgfQogICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICBzdHlsZS5pbm5lckhUTUwgPSBjc3M7CiAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIHJldHVybiBzdHlsZTsKfQoKLy88LS0+IEJFR0lOIFBST0NFU1NJTkcgPC0tPi8vCgovKmFzeW5jIGZ1bmN0aW9uIExvYWRQcmVmcygpCnsKICAgIGdldFVzZXJQcmVmKHVzZVByZWZfYmx1ck5TRlcsIGZhbHNlKS50aGVuKChyZXMpID0+IHsgdG9nZ2xlTlNGVy5lbmFibGVkID0gcmVzOyB9KTsKfSovCi8vIDIuMAoKZnVuY3Rpb24gT2JzZXJ2ZU9iaihvYnNlcnZlckNvbnN0cmFpbnRzLCBvYnNlcnZlQmVoYXZpb3VyLCBhc3luY0dldEVsZW1CZWhhdmlvdXIpCnsKICAgIHRoaXMuZWxlbSA9IG51bGw7CiAgICB0aGlzLm9ic2VydmVyID0gbnVsbDsKCiAgICB0aGlzLnVwZGF0ZU9ic2VydmVyID0gYXN5bmMgZnVuY3Rpb24oKQogICAgewogICAgICAgIGlmKHRoaXMuZWxlbSA9PSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5lbGVtID0gYXdhaXQgYXN5bmNHZXRFbGVtQmVoYXZpb3VyKCk7CgogICAgICAgICAgICBvYnNlcnZlQmVoYXZpb3VyKHRoaXMuZWxlbSwgbnVsbCk7CgogICAgICAgICAgICBpZih0aGlzLm9ic2VydmVyID09IG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSB3YXRjaEZvckNoYW5nZUZ1bGwodGhpcy5lbGVtLCBvYnNlcnZlckNvbnN0cmFpbnRzLCAoZWxlbSwgbXV0ZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZlQmVoYXZpb3VyKGVsZW0sIG11dGVzKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7IHRoaXMub2JzZXJ2ZXI/Lm9ic2VydmUodGhpcy5lbGVtLCBvYnNlcnZlckNvbnN0cmFpbnRzKTsgfQogICAgICAgIH0KICAgIH07CgogICAgdGhpcy51cGRhdGVPYnNlcnZlcigpOwp9CgpmdW5jdGlvbiBIZWFkZXJEYXRhKGhlYWRlcikKewogICAgdGhpcy54TGFiZWwgPSAnLyBYJzsKICAgIHRoaXMudGl0bGUgPSBuZXcgT2JzZXJ2ZU9iaigKICAgICAgICBhcmdzQ2hpbGRPbmx5LAogICAgICAgICh0aXRsZSwgbXV0ZXMpID0+IHsgaWYodGl0bGUgJiYgdGl0bGUuaW5uZXJUZXh0LmVuZHNXaXRoKHRoaXMueExhYmVsKSkgeyB0aXRsZS5pbm5lclRleHQgPSB0aXRsZS5pbm5lclRleHQucmVwbGFjZSh0aGlzLnhMYWJlbCwgJycpOyB9fSwKICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGF3YWl0RWxlbShkb2N1bWVudC5oZWFkLCAndGl0bGUnLCBhcmdzQ2hpbGRPbmx5KTsgfSk7CgogICAgdGhpcy5tZXRhID0gbmV3IE9ic2VydmVPYmooYXJnc0FsbCwgKG1ldGEsIG11dGVzKSA9PiB7CiAgICAgICAgaWYobWV0YSAmJiBtZXRhLmNvbnRlbnQuZW5kc1dpdGgodGhpcy54TGFiZWwpKSB7IG1ldGEuY29udGVudCA9IG1ldGEuY29udGVudC5yZXBsYWNlKHRoaXMueExhYmVsLCAnJyk7IH0KICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXdhaXRFbGVtKGRvY3VtZW50LmhlYWQsICdtZXRhW2NvbnRlbnQkPSIvIFgiXScsIGFyZ3NDaGlsZE9ubHkpOyB9KTsKCiAgICB0aGlzLnNob3J0Y3V0SWNvID0gbmV3IE9ic2VydmVPYmooYXJnc0F0dHJPbmx5LCAoc2hvcnRjdXRJY28sIG11dGVzKSA9PiB7CiAgICAgICAgaWYoc2hvcnRjdXRJY28pIHsgc2hvcnRjdXRJY28uaHJlZiA9IHNob3J0Y3V0SWNvLmhyZWYucmVwbGFjZSgndHdpdHRlci4zJywgJ3R3aXR0ZXIuMicpOyB9CiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIGF3YWl0RWxlbShkb2N1bWVudC5oZWFkLCAnbGlua1tyZWw9InNob3J0Y3V0IGljb24iXScsIGFyZ3NDaGlsZE9ubHkpOyB9KTsKCiAgICB0aGlzLmNoZWNrT2JzZXJ2ZXJzID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHRoaXMudGl0bGUudXBkYXRlT2JzZXJ2ZXIoKTsKICAgICAgICB0aGlzLm1ldGEudXBkYXRlT2JzZXJ2ZXIoKTsKICAgICAgICB0aGlzLnNob3J0Y3V0SWNvLnVwZGF0ZU9ic2VydmVyKCk7CiAgICB9Owp9Cgp2YXIgaGVhZGVyRGF0YSA9IG5ldyBIZWFkZXJEYXRhKGRvY3VtZW50LmhlYWQpOwp3YXRjaEZvckNoYW5nZUZ1bGwoZG9jdW1lbnQuaGVhZCwgYXJnc0NoaWxkT25seSwgKCkgPT4gaGVhZGVyRGF0YS5jaGVja09ic2VydmVycygpKTsKCmFzeW5jIGZ1bmN0aW9uIHN3YXBUd2l0dGVyU3BsYXNoTG9nbyhyZWFjdFJvb3QpCnsKICAgIGxldCBwbGFjZWhvbGRlciA9IHJlYWN0Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYjcGxhY2Vob2xkZXIgc3ZnJyk7CiAgICBpZihwbGFjZWhvbGRlciAhPSBudWxsKQogICAgewogICAgICAgIHBsYWNlaG9sZGVyLmlubmVySFRNTCA9IHR3aXRTVkc7CiAgICB9CgogICAgbGV0IGxvZ28gPSBhd2FpdCBhd2FpdEVsZW0ocmVhY3RSb290LCAnaGVhZGVyIGgxID4gYSBzdmcnLCBhcmdzQ2hpbGRBbmRTdWIpOwogICAgbG9nby5pbm5lckhUTUwgPSB0d2l0U1ZHOwp9CgooYXN5bmMgZnVuY3Rpb24gKCkKewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGlmIChpc0RpcmVjdEltYWdlUGFnZSh3aW5kb3cubG9jYXRpb24uaHJlZikpIHsgcmV0dXJuOyB9CgogICAgbGV0IHByZWZzTG9hZGluZyA9IGxvYWRUb2dnbGVWYWx1ZXMoKTsKICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7CgogICAgYXdhaXQgYXdhaXRFbGVtKGRvY3VtZW50LCAnQk9EWScsIGFyZ3NDaGlsZEFuZFN1Yik7CgogICAgcHJlQ3Vyc29yID0gZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I7CiAgICBpbml0aWFsaXplQ3R4TWVudSgpOwoKICAgIGxldCBpc0lmcmFtZSA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignZGl2I2FwcCcpOwoKICAgIGlmIChpc0lmcmFtZSAhPSBudWxsKQogICAgewogICAgICAgIGF3YWl0RWxlbShpc0lmcmFtZSwgJ2FydGljbGVbcm9sZT0iYXJ0aWNsZSJdJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKGxpc3RlbkZvck1lZGlhVHlwZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgcmVhY3RSb290ID0gYXdhaXQgYXdhaXRFbGVtKGRvY3VtZW50LmJvZHksICdkaXYjcmVhY3Qtcm9vdCcsIGFyZ3NDaGlsZEFuZFN1Yik7CiAgICBzd2FwVHdpdHRlclNwbGFzaExvZ28ocmVhY3RSb290KTsKICAgIGNvbnN0IG1haW4gPSBhd2FpdCBhd2FpdEVsZW0ocmVhY3RSb290LCAnbWFpbltyb2xlPSJtYWluIl0gZGl2JywgYXJnc0NoaWxkQW5kU3ViKTsKICAgIGF3YWl0IHByZWZzTG9hZGluZzsKICAgIGxldCBsYXllcnMgPSByZWFjdFJvb3QucXVlcnlTZWxlY3RvcignZGl2I2xheWVycycpOwoKICAgIGF3YWl0RWxlbShyZWFjdFJvb3QsICdkaXYjbGF5ZXJzJywgYXJnc0NoaWxkQW5kU3ViKS50aGVuKChsYXllcnMpID0+CiAgICB7CiAgICAgICAgaWYgKCFhZGRIYXNBdHRyaWJ1dGUobGF5ZXJzLCAid2F0Y2hpbmdMYXllcnMiKSkgeyB3YXRjaEZvckNoYW5nZShsYXllcnMsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0sIG9uTGF5ZXJzQ2hhbmdlKTsgfQogICAgfSk7CgogICAgYWRkSGFzQXR0cmlidXRlKG1haW4sIG1vZGlmaWVkQXR0cik7CgogICAgb25NYWluQ2hhbmdlKG1haW4pOwogICAgd2F0Y2hGb3JDaGFuZ2UobWFpbiwgYXJnc0NoaWxkT25seSwgb25NYWluQ2hhbmdlKTsKfSkoKTs=","requires":[{"meta":{"name":"jquery.min.js","url":"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js","ts":1690952966961,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2Mi4xLjAgfCAoYykgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGIoYSl9OmIoYSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1jLnNsaWNlLGU9Yy5jb25jYXQsZj1jLnB1c2gsZz1jLmluZGV4T2YsaD17fSxpPWgudG9TdHJpbmcsaj1oLmhhc093blByb3BlcnR5LGs9IiIudHJpbSxsPXt9LG09YS5kb2N1bWVudCxuPSIyLjEuMCIsbz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgby5mbi5pbml0KGEsYil9LHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtvLmZuPW8ucHJvdG90eXBlPXtqcXVlcnk6bixjb25zdHJ1Y3RvcjpvLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1vLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sby5leHRlbmQ9by5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG8uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihvLmlzUGxhaW5PYmplY3QoZCl8fChlPW8uaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmby5pc0FycmF5KGMpP2M6W10pOmY9YyYmby5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1vLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sby5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG4rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW8udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4gYS1wYXJzZUZsb2F0KGEpPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCJvYmplY3QiIT09by50eXBlKGEpfHxhLm5vZGVUeXBlfHxvLmlzV2luZG93KGEpKXJldHVybiExO3RyeXtpZihhLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYil7cmV0dXJuITF9cmV0dXJuITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1vLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoInVzZSBzdHJpY3QiKT8oYj1tLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGIudGV4dD1hLG0uaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cyhhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjprLmNhbGwoYSl9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP28ubWVyZ2UoYywic3RyaW5nIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Yj8tMTpnLmNhbGwoYixhLGMpfSxtZXJnZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7Yz5kO2QrKylhW2UrK109YltkXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1zKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBiJiYoYz1hW2JdLGI9YSxhPWMpLG8uaXNGdW5jdGlvbihhKT8oZT1kLmNhbGwoYXJndW1lbnRzLDIpLGY9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGUuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LGYuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxvLmd1aWQrKyxmKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Omx9KSxvLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtoWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1vLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG8uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzPSJzaXp6bGUiKy1uZXcgRGF0ZSx0PWEuZG9jdW1lbnQsdT0wLHY9MCx3PWViKCkseD1lYigpLHk9ZWIoKSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYoaj0hMCksMH0sQT0idW5kZWZpbmVkIixCPTE8PDMxLEM9e30uaGFzT3duUHJvcGVydHksRD1bXSxFPUQucG9wLEY9RC5wdXNoLEc9RC5wdXNoLEg9RC5zbGljZSxJPUQuaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtjPmI7YisrKWlmKHRoaXNbYl09PT1hKXJldHVybiBiO3JldHVybi0xfSxKPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsSz0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTD0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE09TC5yZXBsYWNlKCJ3IiwidyMiKSxOPSJcXFsiK0srIiooIitMKyIpIitLKyIqKD86KFsqXiR8IX5dPz0pIitLKyIqKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woIitNKyIpfCl8KSIrSysiKlxcXSIsTz0iOigiK0wrIikoPzpcXCgoKFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woKD86XFxcXC58W15cXFxcKClbXFxdXXwiK04ucmVwbGFjZSgzLDgpKyIpKil8LiopXFwpfCkiLFA9bmV3IFJlZ0V4cCgiXiIrSysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitLKyIrJCIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0srIiosIitLKyIqIiksUj1uZXcgUmVnRXhwKCJeIitLKyIqKFs+K35dfCIrSysiKSIrSysiKiIpLFM9bmV3IFJlZ0V4cCgiPSIrSysiKihbXlxcXSdcIl0qPykiK0srIipcXF0iLCJnIiksVD1uZXcgUmVnRXhwKE8pLFU9bmV3IFJlZ0V4cCgiXiIrTSsiJCIpLFY9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitMKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitMLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitOKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitLKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitLKyIqKD86KFsrLV18KSIrSysiKihcXGQrKXwpKSIrSysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0srIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrSysiKigoPzotXFxkKT9cXGQqKSIrSysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXGQkL2ksWT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLCQ9L1srfl0vLF89Lyd8XFwvZyxhYj1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0srIj98KCIrSysiKXwuKSIsImlnIiksYmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3RyeXtHLmFwcGx5KEQ9SC5jYWxsKHQuY2hpbGROb2RlcyksdC5jaGlsZE5vZGVzKSxEW3QuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGNiKXtHPXthcHBseTpELmxlbmd0aD9mdW5jdGlvbihhLGIpe0YuYXBwbHkoYSxILmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBkYihhLGIsZCxlKXt2YXIgZixnLGgsaSxqLG0scCxxLHUsdjtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dCkhPT1sJiZrKGIpLGI9Ynx8bCxkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShpPWIubm9kZVR5cGUpJiY5IT09aSlyZXR1cm5bXTtpZihuJiYhZSl7aWYoZj1aLmV4ZWMoYSkpaWYoaD1mWzFdKXtpZig5PT09aSl7aWYoZz1iLmdldEVsZW1lbnRCeUlkKGgpLCFnfHwhZy5wYXJlbnROb2RlKXJldHVybiBkO2lmKGcuaWQ9PT1oKXJldHVybiBkLnB1c2goZyksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGc9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGgpKSYmcihiLGcpJiZnLmlkPT09aClyZXR1cm4gZC5wdXNoKGcpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaD1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaCkpLGR9aWYoYy5xc2EmJighb3x8IW8udGVzdChhKSkpe2lmKHE9cD1zLHU9Yix2PTk9PT1pJiZhLDE9PT1pJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bT1vYihhKSwocD1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cT1wLnJlcGxhY2UoXywiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscSkscT0iW2lkPSciK3ErIiddICIsaj1tLmxlbmd0aDt3aGlsZShqLS0pbVtqXT1xK3BiKG1bal0pO3U9JC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiLHY9bS5qb2luKCIsIil9aWYodil0cnl7cmV0dXJuIEcuYXBwbHkoZCx1LnF1ZXJ5U2VsZWN0b3JBbGwodikpLGR9Y2F0Y2godyl7fWZpbmFsbHl7cHx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4geGIoYS5yZXBsYWNlKFAsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGViKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBmYihhKXtyZXR1cm4gYVtzXT0hMCxhfWZ1bmN0aW9uIGdiKGEpe3ZhciBiPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gaGIoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gaWIoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEIpLSh+YS5zb3VyY2VJbmRleHx8Qik7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGpiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIGtiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZmIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsZmIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1BJiZhfWM9ZGIuc3VwcG9ydD17fSxmPWRiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxrPWRiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dCxnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1sJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KGw9ZSxtPWUuZG9jdW1lbnRFbGVtZW50LG49IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe2soKX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2soKX0pKSxjLmF0dHJpYnV0ZXM9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1nYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ZLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZ2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1nYihmdW5jdGlvbihhKXtyZXR1cm4gbS5hcHBlbmRDaGlsZChhKS5pZD1zLCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZShzKS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QSYmbil7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGFiLGJiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PUEmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09QT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUEmJm4/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scD1bXSxvPVtdLChjLnFzYT1ZLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihnYihmdW5jdGlvbihhKXthLmlubmVySFRNTD0iPHNlbGVjdCB0PScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IitLKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIitLKyIqKD86dmFsdWV8IitKKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8by5wdXNoKCI6Y2hlY2tlZCIpfSksZ2IoZnVuY3Rpb24oYSl7dmFyIGI9ZS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIitLKyIqWypeJHwhfl0/PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fG8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxvLnB1c2goIiwuKjoiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9WS50ZXN0KHE9bS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG0ubW96TWF0Y2hlc1NlbGVjdG9yfHxtLm9NYXRjaGVzU2VsZWN0b3J8fG0ubXNNYXRjaGVzU2VsZWN0b3IpKSYmZ2IoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1xLmNhbGwoYSwiZGl2IikscS5jYWxsKGEsIltzIT0nJ106eCIpLHAucHVzaCgiIT0iLE8pfSksbz1vLmxlbmd0aCYmbmV3IFJlZ0V4cChvLmpvaW4oInwiKSkscD1wLmxlbmd0aCYmbmV3IFJlZ0V4cChwLmpvaW4oInwiKSksYj1ZLnRlc3QobS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikscj1ifHxZLnRlc3QobS5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSx6PWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaj0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT10JiZyKHQsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXQmJnIodCxiKT8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGo9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saz1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDtpZihmPT09ZylyZXR1cm4gaWIoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlrLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWtbZF0pZCsrO3JldHVybiBkP2liKGhbZF0sa1tkXSk6aFtkXT09PXQ/LTE6a1tkXT09PXQ/MTowfSxlKTpsfSxkYi5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGRiKGEsbnVsbCxudWxsLGIpfSxkYi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PWwmJmsoYSksYj1iLnJlcGxhY2UoUywiPSckMSddIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFufHxwJiZwLnRlc3QoYil8fG8mJm8udGVzdChiKSkpdHJ5e3ZhciBkPXEuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGRiKGIsbCxudWxsLFthXSkubGVuZ3RoPjB9LGRiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1sJiZrKGEpLHIoYSxiKX0sZGIuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09bCYmayhhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkMuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhbik6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhbj9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGRiLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZGIudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYoaj0hYy5kZXRlY3REdXBsaWNhdGVzLGk9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoeiksail7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGk9bnVsbCxhfSxlPWRiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1kYi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpmYixtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYWIsYmIpLGFbM109KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGFiLGJiKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZGIuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZGIuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNV0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdJiZ2b2lkIDAhPT1hWzRdP2FbMl09YVs0XTpjJiZULnRlc3QoYykmJihiPW9iKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYikudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9d1thKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrSysiKSIrYSsiKCIrSysifCQpIikpJiZ3KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8dHlwZW9mIGEuZ2V0QXR0cmlidXRlIT09QSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZGIuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQ9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmdCl7az1xW3NdfHwocVtzXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT11JiZqWzFdLG09alswXT09PXUmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3UsbixtXTticmVha319ZWxzZSBpZih0JiYoaj0oYltzXXx8KGJbc109e30pKVthXSkmJmpbMF09PT11KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJih0JiYoKGxbc118fChsW3NdPXt9KSlbYV09W3UsbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVtzXT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9mYihmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SS5jYWxsKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmZiKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1nKGEucmVwbGFjZShQLCIkMSIpKTtyZXR1cm4gZFtzXT9mYihmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSwhYy5wb3AoKX19KSxoYXM6ZmIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkYihhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmZiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpmYihmdW5jdGlvbihhKXtyZXR1cm4gVS50ZXN0KGF8fCIiKXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoYWIsYmIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1uP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW19LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bC5hY3RpdmVFbGVtZW50JiYoIWwuaGFzRm9jdXN8fGwuaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmxiKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpsYihmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bGIoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0OmxiKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bGIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWpiKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPWtiKGIpO2Z1bmN0aW9uIG5iKCl7fW5iLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgbmI7ZnVuY3Rpb24gb2IoYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXhbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1RLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9Ui5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShQLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2RiLmVycm9yKGEpOngoYSxpKS5zbGljZSgwKX1mdW5jdGlvbiBwYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHFiKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj12Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3UsZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbc118fChiW3NdPXt9KSwoaD1pW2RdKSYmaFswXT09PXUmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiByYihhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiBzYihhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHRiKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbc10mJihkPXRiKGQpKSxlJiYhZVtzXSYmKGU9dGIoZSxmKSksZmIoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8d2IoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6c2IocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXNiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXNiKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpHLmFwcGx5KGcscil9KX1mdW5jdGlvbiB1YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saT1nfHxkLnJlbGF0aXZlWyIgIl0saj1nPzE6MCxrPXFiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saSwhMCksbD1xYihmdW5jdGlvbihhKXtyZXR1cm4gSS5jYWxsKGIsYSk+LTF9LGksITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1oKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+ajtqKyspaWYoYz1kLnJlbGF0aXZlW2Fbal0udHlwZV0pbT1bcWIocmIobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2pdLnR5cGVdLmFwcGx5KG51bGwsYVtqXS5tYXRjaGVzKSxjW3NdKXtmb3IoZT0rK2o7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHRiKGo+MSYmcmIobSksaj4xJiZwYihhLnNsaWNlKDAsai0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbai0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFAsIiQxIiksYyxlPmomJnViKGEuc2xpY2UoaixlKSksZj5lJiZ1YihhPWEuc2xpY2UoZSkpLGY+ZSYmcGIoYSkpfW0ucHVzaChjKX1yZXR1cm4gcmIobSl9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxpLGosayl7dmFyIG0sbixvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1oLHY9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdz11Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD12Lmxlbmd0aDtmb3IoayYmKGg9ZyE9PWwmJmcpO3EhPT14JiZudWxsIT0obT12W3FdKTtxKyspe2lmKGUmJm0pe249MDt3aGlsZShvPWFbbisrXSlpZihvKG0sZyxpKSl7ai5wdXNoKG0pO2JyZWFrfWsmJih1PXcpfWMmJigobT0hbyYmbSkmJnAtLSxmJiZyLnB1c2gobSkpfWlmKHArPXEsYyYmcSE9PXApe249MDt3aGlsZShvPWJbbisrXSlvKHIscyxnLGkpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09RS5jYWxsKGopKTtzPXNiKHMpfUcuYXBwbHkoaixzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZkYi51bmlxdWVTb3J0KGopfXJldHVybiBrJiYodT13LGg9dCkscn07cmV0dXJuIGM/ZmIoZik6Zn1nPWRiLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj15W2ErIiAiXTtpZighZil7Ynx8KGI9b2IoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9dWIoYltjXSksZltzXT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9eShhLHZiKGUsZCkpfXJldHVybiBmfTtmdW5jdGlvbiB3YihhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWRiKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB4YihhLGIsZSxmKXt2YXIgaCxpLGosayxsLG09b2IoYSk7aWYoIWYmJjE9PT1tLmxlbmd0aCl7aWYoaT1tWzBdPW1bMF0uc2xpY2UoMCksaS5sZW5ndGg+MiYmIklEIj09PShqPWlbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJm4mJmQucmVsYXRpdmVbaVsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO2E9YS5zbGljZShpLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1oPVYubmVlZHNDb250ZXh0LnRlc3QoYSk/MDppLmxlbmd0aDt3aGlsZShoLS0pe2lmKGo9aVtoXSxkLnJlbGF0aXZlW2s9ai50eXBlXSlicmVhaztpZigobD1kLmZpbmRba10pJiYoZj1sKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSwkLnRlc3QoaVswXS50eXBlKSYmbWIoYi5wYXJlbnROb2RlKXx8YikpKXtpZihpLnNwbGljZShoLDEpLGE9Zi5sZW5ndGgmJnBiKGkpLCFhKXJldHVybiBHLmFwcGx5KGUsZiksZTticmVha319fXJldHVybiBnKGEsbSkoZixiLCFuLGUsJC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiKSxlfXJldHVybiBjLnNvcnRTdGFibGU9cy5zcGxpdCgiIikuc29ydCh6KS5qb2luKCIiKT09PXMsYy5kZXRlY3REdXBsaWNhdGVzPSEhaixrKCksYy5zb3J0RGV0YWNoZWQ9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihsLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGhiKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGhiKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxoYihKLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxkYn0oYSk7by5maW5kPXQsby5leHByPXQuc2VsZWN0b3JzLG8uZXhwclsiOiJdPW8uZXhwci5wc2V1ZG9zLG8udW5pcXVlPXQudW5pcXVlU29ydCxvLnRleHQ9dC5nZXRUZXh0LG8uaXNYTUxEb2M9dC5pc1hNTCxvLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9by5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdz0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG8uaXNGdW5jdGlvbihiKSlyZXR1cm4gby5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gby5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10eXBlb2YgYil7aWYody50ZXN0KGIpKXJldHVybiBvLmZpbHRlcihiLGEsYyk7Yj1vLmZpbHRlcihiLGEpfXJldHVybiBvLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gZy5jYWxsKGIsYSk+PTAhPT1jfSl9by5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/by5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpvLmZpbmQubWF0Y2hlcyhhLG8uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sby5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG8oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG8uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2M+YjtiKyspby5maW5kKGEsZVtiXSxkKTtyZXR1cm4gZD10aGlzLnB1c2hTdGFjayhjPjE/by51bmlxdWUoZCk6ZCksZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcywic3RyaW5nIj09dHlwZW9mIGEmJnUudGVzdChhKT9vKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLEE9by5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKGM9IjwiPT09YVswXSYmIj4iPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbz9iWzBdOmIsby5tZXJnZSh0aGlzLG8ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6bSwhMCkpLHYudGVzdChjWzFdKSYmby5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpby5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGQ9bS5nZXRFbGVtZW50QnlJZChjWzJdKSxkJiZkLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZCksdGhpcy5jb250ZXh0PW0sdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpvLmlzRnVuY3Rpb24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShvKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxvLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9by5mbix5PW8obSk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtvLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZvKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxvLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW8oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYoby5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP28oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm8uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9vLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChvKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby51bmlxdWUoby5tZXJnZSh0aGlzLmdldCgpLG8oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9by5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBvLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG8uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG8uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBvLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBvLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBvLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxvLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe28uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1vLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW8uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxvLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMrL2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG8uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW8uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6by5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7by5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1vLnR5cGUoYyk7ImZ1bmN0aW9uIj09PWQ/YS51bmlxdWUmJmsuaGFzKGMpfHxoLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09ZCYmZyhjKX0pfShhcmd1bWVudHMpLGQ/Zj1oLmxlbmd0aDpiJiYoZT1jLGooYikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaCYmby5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW8uaW5BcnJheShiLGgsYykpPi0xKWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP28uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sby5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixvLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG8uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG8uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gby5EZWZlcnJlZChmdW5jdGlvbihjKXtvLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW8uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmby5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9vLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG8uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZvLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm8uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmby5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO28uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG8ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sby5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/by5yZWFkeVdhaXQrKzpvLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW8ucmVhZHlXYWl0Om8uaXNSZWFkeSl8fChvLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW8ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKG0sW29dKSxvLmZuLnRyaWdnZXImJm8obSkudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5IikpKX19KTtmdW5jdGlvbiBJKCl7bS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixJLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEksITEpLG8ucmVhZHkoKX1vLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW8uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bS5yZWFkeVN0YXRlP3NldFRpbWVvdXQoby5yZWFkeSk6KG0uYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkpLEgucHJvbWlzZShiKX0sby5yZWFkeS5wcm9taXNlKCk7dmFyIEo9by5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW8udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW8uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG8uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChvKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9O28uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIEsoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89by5leHBhbmRvK01hdGgucmFuZG9tKCl9Sy51aWQ9MSxLLmFjY2VwdHM9by5hY2NlcHREYXRhLEsucHJvdG90eXBlPXtrZXk6ZnVuY3Rpb24oYSl7aWYoIUsuYWNjZXB0cyhhKSlyZXR1cm4gMDt2YXIgYj17fSxjPWFbdGhpcy5leHBhbmRvXTtpZighYyl7Yz1LLnVpZCsrO3RyeXtiW3RoaXMuZXhwYW5kb109e3ZhbHVlOmN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEsYil9Y2F0Y2goZCl7Ylt0aGlzLmV4cGFuZG9dPWMsby5leHRlbmQoYSxiKX19cmV0dXJuIHRoaXMuY2FjaGVbY118fCh0aGlzLmNhY2hlW2NdPXt9KSxjfSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5rZXkoYSksZj10aGlzLmNhY2hlW2VdO2lmKCJzdHJpbmciPT10eXBlb2YgYilmW2JdPWM7ZWxzZSBpZihvLmlzRW1wdHlPYmplY3QoZikpby5leHRlbmQodGhpcy5jYWNoZVtlXSxiKTtlbHNlIGZvcihkIGluIGIpZltkXT1iW2RdO3JldHVybiBmfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlW3RoaXMua2V5KGEpXTtyZXR1cm4gdm9pZCAwPT09Yj9jOmNbYl19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8fGImJiJzdHJpbmciPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG8uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtvLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChvLmNhbWVsQ2FzZSkpOihlPW8uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFvLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIFAoYSxiLGMpe3ZhciBkO2lmKHZvaWQgMD09PWMmJjE9PT1hLm5vZGVUeXBlKWlmKGQ9ImRhdGEtIitiLnJlcGxhY2UoTywiLSQxIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLCJzdHJpbmciPT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToibnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOk4udGVzdChjKT9vLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31NLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31vLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG8uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2M9Zy5sZW5ndGg7CndoaWxlKGMtLSlkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKCJkYXRhLSIpJiYoZD1vLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxQKGYsZCxlW2RdKSk7TC5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1vLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWMmJk0uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNLnJlbW92ZSh0aGlzLGEpfSl9fSksby5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8ImZ4IikrInF1ZXVlIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxvLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsby5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1vLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW8uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7by5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6by5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYisicXVldWUiLGNdKX0pfSl9fSksby5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP28ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9by5xdWV1ZSh0aGlzLGEsYik7by5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZvLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9by5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTsic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8ImZ4Ijt3aGlsZShnLS0pYz1MLmdldChmW2ddLGErInF1ZXVlSG9va3MiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxSPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsIm5vbmUiPT09by5jc3MoYSwiZGlzcGxheSIpfHwhby5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LFQ9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGE9bS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKG0uY3JlYXRlRWxlbWVudCgiZGl2IikpO2IuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz4iLGwuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsbC5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBVPSJ1bmRlZmluZWQiO2wuZm9jdXNpbkJ1YmJsZXM9Im9uZm9jdXNpbiJpbiBhO3ZhciBWPS9ea2V5LyxXPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxYPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxZPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gWigpe3JldHVybiEwfWZ1bmN0aW9uICQoKXtyZXR1cm4hMX1mdW5jdGlvbiBfKCl7dHJ5e3JldHVybiBtLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1vLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLHAscSxyPUwuZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1vLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIG8hPT1VJiZvLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9vLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHwiIikubWF0Y2goRSl8fFsiIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1ZLmV4ZWMoYltqXSl8fFtdLG49cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuJiYobD1vLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbD1vLmV2ZW50LnNwZWNpYWxbbl18fHt9LGs9by5leHRlbmQoe3R5cGU6bixvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmby5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtuXSl8fChtPWlbbl09W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG4sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxvLmV2ZW50Lmdsb2JhbFtuXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4scCxxLHI9TC5oYXNEYXRhKGEpJiZMLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPVkuZXhlYyhiW2pdKXx8W10sbj1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG4pe2w9by5ldmVudC5zcGVjaWFsW25dfHx7fSxuPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxuLG09aVtuXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJigiKioiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxvLnJlbW92ZUV2ZW50KGEsbixyLmhhbmRsZSksZGVsZXRlIGlbbl0pfWVsc2UgZm9yKG4gaW4gaSlvLmV2ZW50LnJlbW92ZShhLG4rYltqXSxjLGQsITApO28uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbCxuLHA9W2R8fG1dLHE9ai5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWouY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGc9aD1kPWR8fG0sMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhWC50ZXN0KHErby5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+PTAmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW28uZXhwYW5kb10/YjpuZXcgby5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrci5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06by5tYWtlQXJyYXkoYyxbYl0pLG49by5ldmVudC5zcGVjaWFsW3FdfHx7fSxlfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFuLm5vQnViYmxlJiYhby5pc1dpbmRvdyhkKSl7Zm9yKGk9bi5kZWxlZ2F0ZVR5cGV8fHEsWC50ZXN0KGkrcSl8fChnPWcucGFyZW50Tm9kZSk7ZztnPWcucGFyZW50Tm9kZSlwLnB1c2goZyksaD1nO2g9PT0oZC5vd25lckRvY3VtZW50fHxtKSYmcC5wdXNoKGguZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93fHxhKX1mPTA7d2hpbGUoKGc9cFtmKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zj4xP2k6bi5iaW5kVHlwZXx8cSxsPShMLmdldChnLCJldmVudHMiKXx8e30pW2IudHlwZV0mJkwuZ2V0KGcsImhhbmRsZSIpLGwmJmwuYXBwbHkoZyxjKSxsPWsmJmdba10sbCYmbC5hcHBseSYmby5hY2NlcHREYXRhKGcpJiYoYi5yZXN1bHQ9bC5hcHBseShnLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1xLGV8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4uX2RlZmF1bHQmJm4uX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxjKSE9PSExfHwhby5hY2NlcHREYXRhKGQpfHxrJiZvLmlzRnVuY3Rpb24oZFtxXSkmJiFvLmlzV2luZG93KGQpJiYoaD1kW2tdLGgmJihkW2tdPW51bGwpLG8uZXZlbnQudHJpZ2dlcmVkPXEsZFtxXSgpLG8uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxoJiYoZFtrXT1oKSksYi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW8uZXZlbnQuZml4KGEpO3ZhciBiLGMsZSxmLGcsaD1bXSxpPWQuY2FsbChhcmd1bWVudHMpLGo9KEwuZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1vLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1vLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZy5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxlPSgoby5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1lJiYoYS5yZXN1bHQ9ZSk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHwiY2xpY2siIT09YS50eXBlKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKGkuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWEudHlwZSl7Zm9yKGQ9W10sYz0wO2g+YztjKyspZj1iW2NdLGU9Zi5zZWxlY3RvcisiICIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/byhlLHRoaXMpLmluZGV4KGkpPj0wOm8uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b247cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGM9YS50YXJnZXQub3duZXJEb2N1bWVudHx8bSxkPWMuZG9jdW1lbnRFbGVtZW50LGU9Yy5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhkJiZkLnNjcm9sbExlZnR8fGUmJmUuc2Nyb2xsTGVmdHx8MCktKGQmJmQuY2xpZW50TGVmdHx8ZSYmZS5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZCYmZC5zY3JvbGxUb3B8fGUmJmUuc2Nyb2xsVG9wfHwwKS0oZCYmZC5jbGllbnRUb3B8fGUmJmUuY2xpZW50VG9wfHwwKSksYS53aGljaHx8dm9pZCAwPT09Znx8KGEud2hpY2g9MSZmPzE6MiZmPzM6NCZmPzI6MCksYX19LGZpeDpmdW5jdGlvbihhKXtpZihhW28uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1XLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlYudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBvLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9bSksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PV8oKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PV8oKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZvLm5vZGVOYW1lKHRoaXMsImlucHV0Iik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gby5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW8uZXh0ZW5kKG5ldyBvLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9vLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm8uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG8ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG8uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG8uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP1o6JCk6dGhpcy50eXBlPWEsYiYmby5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8by5ub3coKSx2b2lkKHRoaXNbby5leHBhbmRvXT0hMCkpOm5ldyBvLkV2ZW50KGEsYil9LG8uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Wix0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sby5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtvLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFvLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxsLmZvY3VzaW5CdWJibGVzfHxvLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7by5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG8uZXZlbnQuZml4KGEpLCEwKX07by5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxvLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbygpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1vLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixvKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/by5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZDtmdW5jdGlvbiBqYihhLGIpe3JldHVybiBvLm5vZGVOYW1lKGEsInRhYmxlIikmJm8ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24ga2IoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiBsYihhKXt2YXIgYj1nYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIG1iKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxMLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIG5iKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW8uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9by5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9iKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6YS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZvLm5vZGVOYW1lKGEsYik/by5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1vLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9by5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxvLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxuPWEubGVuZ3RoO24+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09by50eXBlKGUpKW8ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxnPShiYi5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGg9aWJbZ118fGliLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNlKGFiLCI8JDE+PC8kMj4iKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtvLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PSIifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9IiIsbT0wO3doaWxlKGU9bFttKytdKWlmKCghZHx8LTE9PT1vLmluQXJyYXkoZSxkKSkmJihpPW8uY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpLGY9b2Ioay5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksaSYmbWIoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYi50ZXN0KGUudHlwZXx8IiIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZixnLGg9by5ldmVudC5zcGVjaWFsLGk9MDt2b2lkIDAhPT0oYz1hW2ldKTtpKyspe2lmKG8uYWNjZXB0RGF0YShjKSYmKGY9Y1tMLmV4cGFuZG9dLGYmJihiPUwuY2FjaGVbZl0pKSl7aWYoZD1PYmplY3Qua2V5cyhiLmV2ZW50c3x8e30pLGQubGVuZ3RoKWZvcihnPTA7dm9pZCAwIT09KGU9ZFtnXSk7ZysrKWhbZV0/by5ldmVudC5yZW1vdmUoYyxlKTpvLnJlbW92ZUV2ZW50KGMsZSxiLmhhbmRsZSk7TC5jYWNoZVtmXSYmZGVsZXRlIEwuY2FjaGVbZl19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksby5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9vLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/by5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG8uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZvLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYywic2NyaXB0IikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihvLmNsZWFuRGF0YShvYihhLCExKSksYS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gby5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShhYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYoby5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG8uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsaz10aGlzLmxlbmd0aCxtPXRoaXMsbj1rLTEscD1hWzBdLHE9by5pc0Z1bmN0aW9uKHApO2lmKHF8fGs+MSYmInN0cmluZyI9PXR5cGVvZiBwJiYhbC5jaGVja0Nsb25lJiZlYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bS5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYoayYmKGM9by5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGQ9Yy5maXJzdENoaWxkLDE9PT1jLmNoaWxkTm9kZXMubGVuZ3RoJiYoYz1kKSxkKSl7Zm9yKGY9by5tYXAob2IoYywic2NyaXB0Iiksa2IpLGc9Zi5sZW5ndGg7az5qO2orKyloPWMsaiE9PW4mJihoPW8uY2xvbmUoaCwhMCwhMCksZyYmby5tZXJnZShmLG9iKGgsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxvLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fCIiKSYmIUwuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmby5jb250YWlucyhpLGgpJiYoaC5zcmM/by5fZXZhbFVybCYmby5fZXZhbFVybChoLnNyYyk6by5nbG9iYWxFdmFsKGgudGV4dENvbnRlbnQucmVwbGFjZShoYiwiIikpKX1yZXR1cm4gdGhpc319KSxvLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe28uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1vKGEpLGc9ZS5sZW5ndGgtMSxoPTA7Zz49aDtoKyspYz1oPT09Zz90aGlzOnRoaXMuY2xvbmUoITApLG8oZVtoXSlbYl0oYyksZi5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgcWIscmI9e307ZnVuY3Rpb24gc2IoYixjKXt2YXIgZD1vKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxlPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU/YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShkWzBdKS5kaXNwbGF5Om8uY3NzKGRbMF0sImRpc3BsYXkiKTtyZXR1cm4gZC5kZXRhY2goKSxlfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPW0sYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSwibm9uZSIhPT1jJiZjfHwocWI9KHFifHxvKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXFiWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9c2IoYSxiKSxxYi5kZXRhY2goKSkscmJbYV09YyksY312YXIgdWI9L15tYXJnaW4vLHZiPW5ldyBSZWdFeHAoIl4oIitRKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksd2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCl9O2Z1bmN0aW9uIHhiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2IoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoIiIhPT1nfHxvLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9by5zdHlsZShhLGIpKSx2Yi50ZXN0KGcpJiZ1Yi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiB5YihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0hZnVuY3Rpb24oKXt2YXIgYixjLGQ9InBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveCIsZT1tLmRvY3VtZW50RWxlbWVudCxmPW0uY3JlYXRlRWxlbWVudCgiZGl2IiksZz1tLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixnLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsbC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWcuc3R5bGUuYmFja2dyb3VuZENsaXAsZi5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweCIsZi5hcHBlbmRDaGlsZChnKTtmdW5jdGlvbiBoKCl7Zy5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcHg7Ym9yZGVyOjFweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjRweDttYXJnaW4tdG9wOjElO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxJSIsZS5hcHBlbmRDaGlsZChmKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoZyxudWxsKTtiPSIxJSIhPT1kLnRvcCxjPSI0cHgiPT09ZC53aWR0aCxlLnJlbW92ZUNoaWxkKGYpfWEuZ2V0Q29tcHV0ZWRTdHlsZSYmby5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBoKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaCgpLGN9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYixjPWcuYXBwZW5kQ2hpbGQobS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1nLnN0eWxlLmNzc1RleHQ9ZCxjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGcuc3R5bGUud2lkdGg9IjFweCIsZS5hcHBlbmRDaGlsZChmKSxiPSFwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHlsZShjLG51bGwpLm1hcmdpblJpZ2h0KSxlLnJlbW92ZUNoaWxkKGYpLGcuaW5uZXJIVE1MPSIiLGJ9fSl9KCksby5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoIl4oIitRKyIpKC4qKSQiLCJpIiksQmI9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitRKyIpIiwiaSIpLENiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxEYj17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxFYj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIEZiKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUViLmxlbmd0aDt3aGlsZShlLS0paWYoYj1FYltlXStjLGIgaW4gYSlyZXR1cm4gYjtyZXR1cm4gZH1mdW5jdGlvbiBHYihhLGIsYyl7dmFyIGQ9QWIuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMV0tKGN8fDApKSsoZFsyXXx8InB4Iik6Yn1mdW5jdGlvbiBIYihhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpIm1hcmdpbiI9PT1jJiYoZys9by5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1vLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpKSwibWFyZ2luIiE9PWMmJihnLT1vLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpOihnKz1vLmNzcyhhLCJwYWRkaW5nIitSW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1vLmNzcyhhLCJib3JkZXIiK1JbZl0rIldpZHRoIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIEliKGEsYixjKXt2YXIgZD0hMCxlPSJ3aWR0aCI9PT1iP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsZj13YihhKSxnPSJib3JkZXItYm94Ij09PW8uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hiKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlMoZCkmJihmW2ddPUwuYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHRiKGQubm9kZU5hbWUpKSkpOmZbZ118fChlPVMoZCksKGMmJiJub25lIiE9PWN8fCFlKSYmTC5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm8uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9by5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YihhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjoiY3NzRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW8uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1vLmNzc1Byb3BzW2hdfHwoby5jc3NQcm9wc1toXT1GYihpLGgpKSxnPW8uY3NzSG9va3NbYl18fG8uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPUJiLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQoby5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG8uY3NzTnVtYmVyW2hdfHwoYys9InB4IiksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09IiIsaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1vLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1vLmNzc1Byb3BzW2hdfHwoby5jc3NQcm9wc1toXT1GYihhLnN0eWxlLGgpKSxnPW8uY3NzSG9va3NbYl18fG8uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YihhLGIsZCkpLCJub3JtYWwiPT09ZSYmYiBpbiBEYiYmKGU9RGJbYl0pLCIiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8by5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG8uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtvLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjPzA9PT1hLm9mZnNldFdpZHRoJiZ6Yi50ZXN0KG8uY3NzKGEsImRpc3BsYXkiKSk/by5zd2FwKGEsQ2IsZnVuY3Rpb24oKXtyZXR1cm4gSWIoYSxiLGQpfSk6SWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YihhKTtyZXR1cm4gR2IoYSxjLGQ/SGIoYSxiLGQsImJvcmRlci1ib3giPT09by5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksby5jc3NIb29rcy5tYXJnaW5SaWdodD15YihsLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9vLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0seGIsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG8uZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7by5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPSJzdHJpbmciPT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWIudGVzdChhKXx8KG8uY3NzSG9va3NbYStiXS5zZXQ9R2IpfSksby5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoby5pc0FycmF5KGIpKXtmb3IoZD13YihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1vLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/by5zdHlsZShhLGIsYyk6by5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9vKHRoaXMpLnNob3coKTpvKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW8uVHdlZW49S2IsS2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwoby5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/by5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpLYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxLYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9S2IucHJvdG90eXBlLEtiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9by5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7by5meC5zdGVwW2EucHJvcF0/by5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW28uY3NzUHJvcHNbYS5wcm9wXV18fG8uY3NzSG9va3NbYS5wcm9wXSk/by5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2IucHJvcEhvb2tzLnNjcm9sbFRvcD1LYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxvLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxvLmZ4PUtiLnByb3RvdHlwZS5pbml0LG8uZnguc3RlcD17fTt2YXIgTGIsTWIsTmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9iPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitRKyIpKFthLXolXSopJCIsImkiKSxQYj0vcXVldWVIb29rcyQvLFFiPVtWYl0sUmI9eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9T2IuZXhlYyhiKSxmPWUmJmVbM118fChvLmNzc051bWJlclthXT8iIjoicHgiKSxnPShvLmNzc051bWJlclthXXx8InB4IiE9PWYmJitkKSYmT2IuZXhlYyhvLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8Ii41IixnLz1oLG8uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIFNiKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYj12b2lkIDB9KSxMYj1vLm5vdygpfWZ1bmN0aW9uIFRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9dGhpcyxsPXt9LG09YS5zdHlsZSxuPWEubm9kZVR5cGUmJlMoYSkscD1MLmdldChhLCJmeHNob3ciKTtjLnF1ZXVlfHwoaD1vLl9xdWV1ZUhvb2tzKGEsImZ4IiksbnVsbD09aC51bnF1ZXVlZCYmKGgudW5xdWV1ZWQ9MCxpPWguZW1wdHkuZmlyZSxoLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtoLnVucXVldWVkfHxpKCl9KSxoLnVucXVldWVkKyssay5hbHdheXMoZnVuY3Rpb24oKXtrLmFsd2F5cyhmdW5jdGlvbigpe2gudW5xdWV1ZWQtLSxvLnF1ZXVlKGEsImZ4IikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoImhlaWdodCJpbiBifHwid2lkdGgiaW4gYikmJihjLm92ZXJmbG93PVttLm92ZXJmbG93LG0ub3ZlcmZsb3dYLG0ub3ZlcmZsb3dZXSxqPW8uY3NzKGEsImRpc3BsYXkiKSwibm9uZSI9PT1qJiYoaj10YihhLm5vZGVOYW1lKSksImlubGluZSI9PT1qJiYibm9uZSI9PT1vLmNzcyhhLCJmbG9hdCIpJiYobS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG0ub3ZlcmZsb3c9ImhpZGRlbiIsay5hbHdheXMoZnVuY3Rpb24oKXttLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sbS5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxtLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0obj8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXB8fHZvaWQgMD09PXBbZF0pY29udGludWU7bj0hMH1sW2RdPXAmJnBbZF18fG8uc3R5bGUoYSxkKX1pZighby5pc0VtcHR5T2JqZWN0KGwpKXtwPyJoaWRkZW4iaW4gcCYmKG49cC5oaWRkZW4pOnA9TC5hY2Nlc3MoYSwiZnhzaG93Iix7fSksZiYmKHAuaGlkZGVuPSFuKSxuP28oYSkuc2hvdygpOmsuZG9uZShmdW5jdGlvbigpe28oYSkuaGlkZSgpfSksay5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7TC5yZW1vdmUoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbClvLnN0eWxlKGEsYixsW2JdKX0pO2ZvcihkIGluIGwpZz1VYihuP3BbZF06MCxkLGspLGQgaW4gcHx8KHBbZF09Zy5zdGFydCxuJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIFdiKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9by5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxvLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW8uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gWGIoYSxiLGMpe3ZhciBkLGUsZj0wLGc9UWIubGVuZ3RoLGg9by5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9TGJ8fFNiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm8uZXh0ZW5kKHt9LGIpLG9wdHM6by5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpMYnx8U2IoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW8uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKFdiKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1RYltmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG8ubWFwKGssVWIsaiksby5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksby5meC50aW1lcihvLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1vLkFuaW1hdGlvbj1vLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe28uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1SYltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksby5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP28uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8by5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFvLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW8uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBvLmZ4LnNwZWVkcz9vLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpvLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7by5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZvLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sby5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9by5pc0VtcHR5T2JqZWN0KGEpLGY9by5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsby5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9by50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm8uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1vLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsby5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxvLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9by5mbltiXTtvLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVGIoYiwhMCksYSxkLGUpfX0pLG8uZWFjaCh7c2xpZGVEb3duOlRiKCJzaG93Iiksc2xpZGVVcDpUYigiaGlkZSIpLHNsaWRlVG9nZ2xlOlRiKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7by5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxvLnRpbWVycz1bXSxvLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1vLnRpbWVycztmb3IoTGI9by5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxvLmZ4LnN0b3AoKSxMYj12b2lkIDB9LG8uZngudGltZXI9ZnVuY3Rpb24oYSl7by50aW1lcnMucHVzaChhKSxhKCk/by5meC5zdGFydCgpOm8udGltZXJzLnBvcCgpfSxvLmZ4LmludGVydmFsPTEzLG8uZnguc3RhcnQ9ZnVuY3Rpb24oKXtNYnx8KE1iPXNldEludGVydmFsKG8uZngudGljayxvLmZ4LmludGVydmFsKSl9LG8uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoTWIpLE1iPW51bGx9LG8uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG8uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1vLmZ4P28uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGE9bS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGI9bS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxjPWIuYXBwZW5kQ2hpbGQobS5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7YS50eXBlPSJjaGVja2JveCIsbC5jaGVja09uPSIiIT09YS52YWx1ZSxsLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxsLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9bS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGEudmFsdWU9InQiLGEudHlwZT0icmFkaW8iLGwucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBZYixaYiwkYj1vLmV4cHIuYXR0ckhhbmRsZTtvLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsby5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG8uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1VP28ucHJvcChhLGIsYyk6KDE9PT1mJiZvLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZD1vLmF0dHJIb29rc1tiXXx8KG8uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/WmI6WWIpKSx2b2lkIDA9PT1jP2QmJiJnZXQiaW4gZCYmbnVsbCE9PShlPWQuZ2V0KGEsYikpP2U6KGU9by5maW5kLmF0dHIoYSxiKSxudWxsPT1lP3ZvaWQgMDplKTpudWxsIT09Yz9kJiYic2V0ImluIGQmJnZvaWQgMCE9PShlPWQuc2V0KGEsYyxiKSk/ZTooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTp2b2lkIG8ucmVtb3ZlQXR0cihhLGIpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW8ucHJvcEZpeFtjXXx8YyxvLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm8ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksWmI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9vLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxvLmVhY2goby5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz0kYltiXXx8by5maW5kLmF0dHI7JGJbYl09ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7CnJldHVybiBkfHwoZj0kYltiXSwkYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsJGJbYl09ZiksZX19KTt2YXIgX2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtvLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsby5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tvLnByb3BGaXhbYV18fGFdfSl9fSksby5leHRlbmQoe3Byb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVUeXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFvLmlzWE1MRG9jKGEpLGYmJihiPW8ucHJvcEZpeFtiXXx8YixlPW8ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4Iil8fF9iLnRlc3QoYS5ub2RlTmFtZSl8fGEuaHJlZj9hLnRhYkluZGV4Oi0xfX19fSksbC5vcHRTZWxlY3RlZHx8KG8ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSksby5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtvLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGFjPS9bXHRcclxuXGZdL2c7by5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPSJzdHJpbmciPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihvLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtvKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGFjLCIgIik6IiAiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZigiICIrZSsiICIpPDAmJihkKz1lKyIgIik7Zz1vLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYoby5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7byh0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZSsiICIpPj0wKWQ9ZC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2c9YT9vLnRyaW0oZCk6IiIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRoaXMuZWFjaChvLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7byh0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09Yyl7dmFyIGIsZD0wLGU9byh0aGlzKSxmPWEubWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PVV8fCJib29sZWFuIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXHIvZztvLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9by5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG8odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjpvLmlzQXJyYXkoZSkmJihlPW8ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW8udmFsSG9va3NbdGhpcy50eXBlXXx8by52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW8udmFsSG9va3NbZS50eXBlXXx8by52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UoYmMsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLG8uZXh0ZW5kKHt2YWxIb29rczp7c2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChsLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZvLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9byhjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW8ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1vLmluQXJyYXkobyhkKS52YWwoKSxmKT49MCkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG8uZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe28udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBvLmlzQXJyYXkoYik/YS5jaGVja2VkPW8uaW5BcnJheShvKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19LGwuY2hlY2tPbnx8KG8udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjphLnZhbHVlfSl9KSxvLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtvLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxvLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pO3ZhciBjYz1vLm5vdygpLGRjPS9cPy87by5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYSsiIil9LG8ucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtjPW5ldyBET01QYXJzZXIsYj1jLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJldHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZvLmVycm9yKCJJbnZhbGlkIFhNTDogIithKSxifTt2YXIgZWMsZmMsZ2M9LyMuKiQvLGhjPS8oWz8mXSlfPVteJl0qLyxpYz0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLGpjPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGtjPS9eKD86R0VUfEhFQUQpJC8sbGM9L15cL1wvLyxtYz0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwpKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxuYz17fSxvYz17fSxwYz0iKi8iLmNvbmNhdCgiKiIpO3RyeXtmYz1sb2NhdGlvbi5ocmVmfWNhdGNoKHFjKXtmYz1tLmNyZWF0ZUVsZW1lbnQoImEiKSxmYy5ocmVmPSIiLGZjPWZjLmhyZWZ9ZWM9bWMuZXhlYyhmYy50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gcmMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG8uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSkiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW9jO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsby5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9by5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmby5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZSgiKiI9PT1pWzBdKWkuc2hpZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZSsiICIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHZjKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoIioiPT09ZilmPWk7ZWxzZSBpZigiKiIhPT1pJiZpIT09Zil7aWYoZz1qW2krIiAiK2ZdfHxqWyIqICIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUuc3BsaXQoIiAiKSxoWzFdPT09ZiYmKGc9altpKyIgIitoWzBdXXx8alsiKiAiK2hbMF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVsidGhyb3dzIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpnP2w6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2krIiB0byAiK2Z9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6Yn19by5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmZjLHR5cGU6IkdFVCIsaXNMb2NhbDpqYy50ZXN0KGVjWzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOnBjLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6by5wYXJzZUpTT04sInRleHQgeG1sIjpvLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj90Yyh0YyhhLG8uYWpheFNldHRpbmdzKSxiKTp0YyhvLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpyYyhuYyksYWpheFRyYW5zcG9ydDpyYyhvYyksYWpheDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9by5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/byhsKTpvLmV2ZW50LG49by5EZWZlcnJlZCgpLHA9by5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikscT1rLnN0YXR1c0NvZGV8fHt9LHI9e30scz17fSx0PTAsdT0iY2FuY2VsZWQiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWYpe2Y9e307d2hpbGUoYj1pYy5leGVjKGUpKWZbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9ZlthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2U6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3IoYiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0dXJuIGMmJmMuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihuLnByb21pc2UodikuY29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxrLnVybD0oKGF8fGsudXJsfHxmYykrIiIpLnJlcGxhY2UoZ2MsIiIpLnJlcGxhY2UobGMsZWNbMV0rIi8vIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9kfHxrLnR5cGUsay5kYXRhVHlwZXM9by50cmltKGsuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8WyIiXSxudWxsPT1rLmNyb3NzRG9tYWluJiYoaD1tYy5leGVjKGsudXJsLnRvTG93ZXJDYXNlKCkpLGsuY3Jvc3NEb21haW49ISghaHx8aFsxXT09PWVjWzFdJiZoWzJdPT09ZWNbMl0mJihoWzNdfHwoImh0dHA6Ij09PWhbMV0/IjgwIjoiNDQzIikpPT09KGVjWzNdfHwoImh0dHA6Ij09PWVjWzFdPyI4MCI6IjQ0MyIpKSkpLGsuZGF0YSYmay5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBrLmRhdGEmJihrLmRhdGE9by5wYXJhbShrLmRhdGEsay50cmFkaXRpb25hbCkpLHNjKG5jLGssYix2KSwyPT09dClyZXR1cm4gdjtpPWsuZ2xvYmFsLGkmJjA9PT1vLmFjdGl2ZSsrJiZvLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWtjLnRlc3Qoay50eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShkYy50ZXN0KGQpPyImIjoiPyIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hlPT09ITEmJihrLnVybD1oYy50ZXN0KGQpP2QucmVwbGFjZShoYywiJDFfPSIrY2MrKyk6ZCsoZGMudGVzdChkKT8iJiI6Ij8iKSsiXz0iK2NjKyspKSxrLmlmTW9kaWZpZWQmJihvLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsby5sYXN0TW9kaWZpZWRbZF0pLG8uZXRhZ1tkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixvLmV0YWdbZF0pKSwoay5kYXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsay5kYXRhVHlwZXNbMF0mJmsuYWNjZXB0c1trLmRhdGFUeXBlc1swXV0/ay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXSsoIioiIT09ay5kYXRhVHlwZXNbMF0/IiwgIitwYysiOyBxPTAuMDEiOiIiKTprLmFjY2VwdHNbIioiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9ImFib3J0Ijtmb3IoaiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl2W2pdKGtbal0pO2lmKGM9c2Mob2MsayxiLHYpKXt2LnJlYWR5U3RhdGU9MSxpJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbdixrXSksay5hc3luYyYmay50aW1lb3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT11YyhrLHYsZikpLHU9dmMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG8ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihvLmV0YWdbZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMwND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP24ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpuLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW8uYWN0aXZlfHxvLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gdn0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBvLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KSxvLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtvW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBvLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxvLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9KX19KSxvLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe28uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxvLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBvLmFqYXgoe3VybDphLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9LG8uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBvLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe28odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9byhhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goby5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe28odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1vKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW8uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe28odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtvLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8byh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksby5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sby5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hby5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgd2M9LyUyMC9nLHhjPS9cW1xdJC8seWM9L1xyP1xuL2csemM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLEFjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBCYyhhLGIsYyxkKXt2YXIgZTtpZihvLmlzQXJyYXkoYikpby5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx4Yy50ZXN0KGEpP2QoYSxlKTpCYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09by50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQmMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW8ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW8uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1vLmFqYXhTZXR0aW5ncyYmby5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG8uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFvLmlzUGxhaW5PYmplY3QoYSkpby5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlCYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSh3YywiKyIpfSxvLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG8ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1vLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9vLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFvKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmQWMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXpjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9byh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm8uaXNBcnJheShjKT9vLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoeWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHljLCJcclxuIil9fSkuZ2V0KCl9fSksby5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYSl7fX07dmFyIENjPTAsRGM9e30sRWM9ezA6MjAwLDEyMjM6MjA0fSxGYz1vLmFqYXhTZXR0aW5ncy54aHIoKTthLkFjdGl2ZVhPYmplY3QmJm8oYSkub24oInVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gRGMpRGNbYV0oKX0pLGwuY29ycz0hIUZjJiYid2l0aENyZWRlbnRpYWxzImluIEZjLGwuYWpheD1GYz0hIUZjLG8uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbC5jb3JzfHxGYyYmIWEuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0NjO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1siWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoY1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIERjW2ddLGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsImFib3J0Ij09PWE/Zi5hYm9ydCgpOiJlcnJvciI9PT1hP2QoZi5zdGF0dXMsZi5zdGF0dXNUZXh0KTpkKEVjW2Yuc3RhdHVzXXx8Zi5zdGF0dXMsZi5zdGF0dXNUZXh0LCJzdHJpbmciPT10eXBlb2YgZi5yZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIoImVycm9yIiksYj1EY1tnXT1iKCJhYm9ydCIpLGYuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYigpfX06dm9pZCAwfSksby5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihhKXtyZXR1cm4gby5nbG9iYWxFdmFsKGEpLGF9fX0pLG8uYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIil9KSxvLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9bygiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbigibG9hZCBlcnJvciIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKCJlcnJvciI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksbS5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBHYz1bXSxIYz0vKD0pXD8oPz0mfCQpfFw/XD8vO28uYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1HYy5wb3AoKXx8by5leHBhbmRvKyJfIitjYysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksby5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoSGMudGVzdChiLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZIYy50ZXN0KGIuZGF0YSkmJiJkYXRhIik7cmV0dXJuIGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9by5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoSGMsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGRjLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxvLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxHYy5wdXNoKGUpKSxnJiZvLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJzY3JpcHQiKTp2b2lkIDB9KSxvLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8bTt2YXIgZD12LmV4ZWMoYSksZT0hYyYmW107cmV0dXJuIGQ/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9by5idWlsZEZyYWdtZW50KFthXSxiLGUpLGUmJmUubGVuZ3RoJiZvKGUpLnJlbW92ZSgpLG8ubWVyZ2UoW10sZC5jaGlsZE5vZGVzKSl9O3ZhciBJYz1vLmZuLmxvYWQ7by5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJkljKXJldHVybiBJYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPj0wJiYoZD1hLnNsaWNlKGgpLGE9YS5zbGljZSgwLGgpKSxvLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmIm9iamVjdCI9PXR5cGVvZiBiJiYoZT0iUE9TVCIpLGcubGVuZ3RoPjAmJm8uYWpheCh7dXJsOmEsdHlwZTplLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP28oIjxkaXY+IikuYXBwZW5kKG8ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxvLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gby5ncmVwKG8udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgSmM9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gS2MoYSl7cmV0dXJuIG8uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31vLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW8uY3NzKGEsInBvc2l0aW9uIiksbD1vKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1vLmNzcyhhLCJ0b3AiKSxpPW8uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiYoZitpKS5pbmRleE9mKCJhdXRvIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG8uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG8uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtvLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG8uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1LYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuImZpeGVkIj09PW8uY3NzKGMsInBvc2l0aW9uIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG8ubm9kZU5hbWUoYVswXSwiaHRtbCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9by5jc3MoYVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxkLmxlZnQrPW8uY3NzKGFbMF0sImJvcmRlckxlZnRXaWR0aCIsITApKSx7dG9wOmIudG9wLWQudG9wLW8uY3NzKGMsIm1hcmdpblRvcCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1vLmNzcyhjLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fEpjO3doaWxlKGEmJiFvLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1vLmNzcyhhLCJwb3NpdGlvbiIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fEpjfSl9fSksby5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKGIsYyl7dmFyIGQ9InBhZ2VZT2Zmc2V0Ij09PWM7by5mbltiXT1mdW5jdGlvbihlKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsZSxmKXt2YXIgZz1LYyhiKTtyZXR1cm4gdm9pZCAwPT09Zj9nP2dbY106YltlXTp2b2lkKGc/Zy5zY3JvbGxUbyhkP2EucGFnZVhPZmZzZXQ6ZixkP2Y6YS5wYWdlWU9mZnNldCk6YltlXT1mKX0sYixlLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksby5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7by5jc3NIb29rc1tiXT15YihsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz14YihhLGIpLHZiLnRlc3QoYyk/byhhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxvLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe28uZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpiLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oYyxkKXtvLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fCJib29sZWFuIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gby5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbInNjcm9sbCIrYV0sZVsic2Nyb2xsIithXSxiLmJvZHlbIm9mZnNldCIrYV0sZVsib2Zmc2V0IithXSxlWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09ZD9vLmNzcyhiLGMsZyk6by5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxvLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG8uZm4uYW5kU2VsZj1vLmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgTGM9YS5qUXVlcnksTWM9YS4kO3JldHVybiBvLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW8mJihhLiQ9TWMpLGImJmEualF1ZXJ5PT09byYmKGEualF1ZXJ5PUxjKSxvfSx0eXBlb2YgYj09PVUmJihhLmpRdWVyeT1hLiQ9byksb30pOwo="}]}]}